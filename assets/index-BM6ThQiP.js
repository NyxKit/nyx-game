var gx=Object.defineProperty;var xx=(x,i,p)=>i in x?gx(x,i,{enumerable:!0,configurable:!0,writable:!0,value:p}):x[i]=p;var vt=(x,i,p)=>xx(x,typeof i!="symbol"?i+"":i,p);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))C(R);new MutationObserver(R=>{for(const I of R)if(I.type==="childList")for(const c of I.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&C(c)}).observe(document,{childList:!0,subtree:!0});function p(R){const I={};return R.integrity&&(I.integrity=R.integrity),R.referrerPolicy&&(I.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?I.credentials="include":R.crossOrigin==="anonymous"?I.credentials="omit":I.credentials="same-origin",I}function C(R){if(R.ep)return;R.ep=!0;const I=p(R);fetch(R.href,I)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fu(x){const i=Object.create(null);for(const p of x.split(","))i[p]=1;return p=>p in i}const te={},Yn=[],Ui=()=>{},yx=()=>!1,qo=x=>x.charCodeAt(0)===111&&x.charCodeAt(1)===110&&(x.charCodeAt(2)>122||x.charCodeAt(2)<97),du=x=>x.startsWith("onUpdate:"),Le=Object.assign,cu=(x,i)=>{const p=x.indexOf(i);p>-1&&x.splice(p,1)},Tx=Object.prototype.hasOwnProperty,ie=(x,i)=>Tx.call(x,i),It=Array.isArray,Hn=x=>va(x)==="[object Map]",hr=x=>va(x)==="[object Set]",Md=x=>va(x)==="[object Date]",Gt=x=>typeof x=="function",Te=x=>typeof x=="string",wi=x=>typeof x=="symbol",le=x=>x!==null&&typeof x=="object",qv=x=>(le(x)||Gt(x))&&Gt(x.then)&&Gt(x.catch),_v=Object.prototype.toString,va=x=>_v.call(x),Ex=x=>va(x).slice(8,-1),tp=x=>va(x)==="[object Object]",vu=x=>Te(x)&&x!=="NaN"&&x[0]!=="-"&&""+parseInt(x,10)===x,Vr=fu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_o=x=>{const i=Object.create(null);return p=>i[p]||(i[p]=x(p))},Sx=/-(\w)/g,Mi=_o(x=>x.replace(Sx,(i,p)=>p?p.toUpperCase():"")),Cx=/\B([A-Z])/g,ds=_o(x=>x.replace(Cx,"-$1").toLowerCase()),pu=_o(x=>x.charAt(0).toUpperCase()+x.slice(1)),Zh=_o(x=>x?`on${pu(x)}`:""),oi=(x,i)=>!Object.is(x,i),no=(x,...i)=>{for(let p=0;p<x.length;p++)x[p](...i)},ep=(x,i,p,C=!1)=>{Object.defineProperty(x,i,{configurable:!0,enumerable:!1,writable:C,value:p})},So=x=>{const i=parseFloat(x);return isNaN(i)?x:i},Ax=x=>{const i=Te(x)?Number(x):NaN;return isNaN(i)?x:i};let Id;const th=()=>Id||(Id=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Je(x){if(It(x)){const i={};for(let p=0;p<x.length;p++){const C=x[p],R=Te(C)?Mx(C):Je(C);if(R)for(const I in R)i[I]=R[I]}return i}else if(Te(x)||le(x))return x}const Px=/;(?![^(]*\))/g,Rx=/:([^]+)/,wx=/\/\*[^]*?\*\//g;function Mx(x){const i={};return x.replace(wx,"").split(Px).forEach(p=>{if(p){const C=p.split(Rx);C.length>1&&(i[C[0].trim()]=C[1].trim())}}),i}function kt(x){let i="";if(Te(x))i=x;else if(It(x))for(let p=0;p<x.length;p++){const C=kt(x[p]);C&&(i+=C+" ")}else if(le(x))for(const p in x)x[p]&&(i+=p+" ");return i.trim()}const Ix="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lx=fu(Ix);function ip(x){return!!x||x===""}function Fx(x,i){if(x.length!==i.length)return!1;let p=!0;for(let C=0;p&&C<x.length;C++)p=gn(x[C],i[C]);return p}function gn(x,i){if(x===i)return!0;let p=Md(x),C=Md(i);if(p||C)return p&&C?x.getTime()===i.getTime():!1;if(p=wi(x),C=wi(i),p||C)return x===i;if(p=It(x),C=It(i),p||C)return p&&C?Fx(x,i):!1;if(p=le(x),C=le(i),p||C){if(!p||!C)return!1;const R=Object.keys(x).length,I=Object.keys(i).length;if(R!==I)return!1;for(const c in x){const S=x.hasOwnProperty(c),t=i.hasOwnProperty(c);if(S&&!t||!S&&t||!gn(x[c],i[c]))return!1}}return String(x)===String(i)}function mu(x,i){return x.findIndex(p=>gn(p,i))}const sp=x=>!!(x&&x.__v_isRef===!0),ae=x=>Te(x)?x:x==null?"":It(x)||le(x)&&(x.toString===_v||!Gt(x.toString))?sp(x)?ae(x.value):JSON.stringify(x,np,2):String(x),np=(x,i)=>sp(i)?np(x,i.value):Hn(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((p,[C,R],I)=>(p[kh(C,I)+" =>"]=R,p),{})}:hr(i)?{[`Set(${i.size})`]:[...i.values()].map(p=>kh(p))}:wi(i)?kh(i):le(i)&&!It(i)&&!tp(i)?String(i):i,kh=(x,i="")=>{var p;return wi(x)?`Symbol(${(p=x.description)!=null?p:i})`:x};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ei;class rp{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ei,!i&&ei&&(this.index=(ei.scopes||(ei.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let i,p;if(this.scopes)for(i=0,p=this.scopes.length;i<p;i++)this.scopes[i].pause();for(i=0,p=this.effects.length;i<p;i++)this.effects[i].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let i,p;if(this.scopes)for(i=0,p=this.scopes.length;i<p;i++)this.scopes[i].resume();for(i=0,p=this.effects.length;i<p;i++)this.effects[i].resume()}}run(i){if(this._active){const p=ei;try{return ei=this,i()}finally{ei=p}}}on(){ei=this}off(){ei=this.parent}stop(i){if(this._active){this._active=!1;let p,C;for(p=0,C=this.effects.length;p<C;p++)this.effects[p].stop();for(this.effects.length=0,p=0,C=this.cleanups.length;p<C;p++)this.cleanups[p]();if(this.cleanups.length=0,this.scopes){for(p=0,C=this.scopes.length;p<C;p++)this.scopes[p].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!i){const R=this.parent.scopes.pop();R&&R!==this&&(this.parent.scopes[this.index]=R,R.index=this.index)}this.parent=void 0}}}function ap(x){return new rp(x)}function op(){return ei}function Dx(x,i=!1){ei&&ei.cleanups.push(x)}let fe;const qh=new WeakSet;class hp{constructor(i){this.fn=i,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ei&&ei.active&&ei.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qh.has(this)&&(qh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||up(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ld(this),fp(this);const i=fe,p=Ai;fe=this,Ai=!0;try{return this.fn()}finally{dp(this),fe=i,Ai=p,this.flags&=-3}}stop(){if(this.flags&1){for(let i=this.deps;i;i=i.nextDep)yu(i);this.deps=this.depsTail=void 0,Ld(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Al(this)&&this.run()}get dirty(){return Al(this)}}let lp=0,Gr,Ur;function up(x,i=!1){if(x.flags|=8,i){x.next=Ur,Ur=x;return}x.next=Gr,Gr=x}function gu(){lp++}function xu(){if(--lp>0)return;if(Ur){let i=Ur;for(Ur=void 0;i;){const p=i.next;i.next=void 0,i.flags&=-9,i=p}}let x;for(;Gr;){let i=Gr;for(Gr=void 0;i;){const p=i.next;if(i.next=void 0,i.flags&=-9,i.flags&1)try{i.trigger()}catch(C){x||(x=C)}i=p}}if(x)throw x}function fp(x){for(let i=x.deps;i;i=i.nextDep)i.version=-1,i.prevActiveLink=i.dep.activeLink,i.dep.activeLink=i}function dp(x){let i,p=x.depsTail,C=p;for(;C;){const R=C.prevDep;C.version===-1?(C===p&&(p=R),yu(C),Ox(C)):i=C,C.dep.activeLink=C.prevActiveLink,C.prevActiveLink=void 0,C=R}x.deps=i,x.depsTail=p}function Al(x){for(let i=x.deps;i;i=i.nextDep)if(i.dep.version!==i.version||i.dep.computed&&(cp(i.dep.computed)||i.dep.version!==i.version))return!0;return!!x._dirty}function cp(x){if(x.flags&4&&!(x.flags&16)||(x.flags&=-17,x.globalVersion===kr))return;x.globalVersion=kr;const i=x.dep;if(x.flags|=2,i.version>0&&!x.isSSR&&x.deps&&!Al(x)){x.flags&=-3;return}const p=fe,C=Ai;fe=x,Ai=!0;try{fp(x);const R=x.fn(x._value);(i.version===0||oi(R,x._value))&&(x._value=R,i.version++)}catch(R){throw i.version++,R}finally{fe=p,Ai=C,dp(x),x.flags&=-3}}function yu(x,i=!1){const{dep:p,prevSub:C,nextSub:R}=x;if(C&&(C.nextSub=R,x.prevSub=void 0),R&&(R.prevSub=C,x.nextSub=void 0),p.subs===x&&(p.subs=C,!C&&p.computed)){p.computed.flags&=-5;for(let I=p.computed.deps;I;I=I.nextDep)yu(I,!0)}!i&&!--p.sc&&p.map&&p.map.delete(p.key)}function Ox(x){const{prevDep:i,nextDep:p}=x;i&&(i.nextDep=p,x.prevDep=void 0),p&&(p.prevDep=i,x.nextDep=void 0)}let Ai=!0;const vp=[];function js(){vp.push(Ai),Ai=!1}function Js(){const x=vp.pop();Ai=x===void 0?!0:x}function Ld(x){const{cleanup:i}=x;if(x.cleanup=void 0,i){const p=fe;fe=void 0;try{i()}finally{fe=p}}}let kr=0;class Nx{constructor(i,p){this.sub=i,this.dep=p,this.version=p.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class eh{constructor(i){this.computed=i,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(i){if(!fe||!Ai||fe===this.computed)return;let p=this.activeLink;if(p===void 0||p.sub!==fe)p=this.activeLink=new Nx(fe,this),fe.deps?(p.prevDep=fe.depsTail,fe.depsTail.nextDep=p,fe.depsTail=p):fe.deps=fe.depsTail=p,pp(p);else if(p.version===-1&&(p.version=this.version,p.nextDep)){const C=p.nextDep;C.prevDep=p.prevDep,p.prevDep&&(p.prevDep.nextDep=C),p.prevDep=fe.depsTail,p.nextDep=void 0,fe.depsTail.nextDep=p,fe.depsTail=p,fe.deps===p&&(fe.deps=C)}return p}trigger(i){this.version++,kr++,this.notify(i)}notify(i){gu();try{for(let p=this.subs;p;p=p.prevSub)p.sub.notify()&&p.sub.dep.notify()}finally{xu()}}}function pp(x){if(x.dep.sc++,x.sub.flags&4){const i=x.dep.computed;if(i&&!x.dep.subs){i.flags|=20;for(let C=i.deps;C;C=C.nextDep)pp(C)}const p=x.dep.subs;p!==x&&(x.prevSub=p,p&&(p.nextSub=x)),x.dep.subs=x}}const Co=new WeakMap,cn=Symbol(""),Pl=Symbol(""),qr=Symbol("");function $e(x,i,p){if(Ai&&fe){let C=Co.get(x);C||Co.set(x,C=new Map);let R=C.get(p);R||(C.set(p,R=new eh),R.map=C,R.key=p),R.track()}}function qi(x,i,p,C,R,I){const c=Co.get(x);if(!c){kr++;return}const S=t=>{t&&t.trigger()};if(gu(),i==="clear")c.forEach(S);else{const t=It(x),h=t&&vu(p);if(t&&p==="length"){const m=Number(C);c.forEach((o,a)=>{(a==="length"||a===qr||!wi(a)&&a>=m)&&S(o)})}else switch((p!==void 0||c.has(void 0))&&S(c.get(p)),h&&S(c.get(qr)),i){case"add":t?h&&S(c.get("length")):(S(c.get(cn)),Hn(x)&&S(c.get(Pl)));break;case"delete":t||(S(c.get(cn)),Hn(x)&&S(c.get(Pl)));break;case"set":Hn(x)&&S(c.get(cn));break}}xu()}function Bx(x,i){const p=Co.get(x);return p&&p.get(i)}function Bn(x){const i=$t(x);return i===x?i:($e(i,"iterate",qr),xi(x)?i:i.map(Qe))}function ih(x){return $e(x=$t(x),"iterate",qr),x}const bx={__proto__:null,[Symbol.iterator](){return _h(this,Symbol.iterator,Qe)},concat(...x){return Bn(this).concat(...x.map(i=>It(i)?Bn(i):i))},entries(){return _h(this,"entries",x=>(x[1]=Qe(x[1]),x))},every(x,i){return Ji(this,"every",x,i,void 0,arguments)},filter(x,i){return Ji(this,"filter",x,i,p=>p.map(Qe),arguments)},find(x,i){return Ji(this,"find",x,i,Qe,arguments)},findIndex(x,i){return Ji(this,"findIndex",x,i,void 0,arguments)},findLast(x,i){return Ji(this,"findLast",x,i,Qe,arguments)},findLastIndex(x,i){return Ji(this,"findLastIndex",x,i,void 0,arguments)},forEach(x,i){return Ji(this,"forEach",x,i,void 0,arguments)},includes(...x){return tl(this,"includes",x)},indexOf(...x){return tl(this,"indexOf",x)},join(x){return Bn(this).join(x)},lastIndexOf(...x){return tl(this,"lastIndexOf",x)},map(x,i){return Ji(this,"map",x,i,void 0,arguments)},pop(){return Ir(this,"pop")},push(...x){return Ir(this,"push",x)},reduce(x,...i){return Fd(this,"reduce",x,i)},reduceRight(x,...i){return Fd(this,"reduceRight",x,i)},shift(){return Ir(this,"shift")},some(x,i){return Ji(this,"some",x,i,void 0,arguments)},splice(...x){return Ir(this,"splice",x)},toReversed(){return Bn(this).toReversed()},toSorted(x){return Bn(this).toSorted(x)},toSpliced(...x){return Bn(this).toSpliced(...x)},unshift(...x){return Ir(this,"unshift",x)},values(){return _h(this,"values",Qe)}};function _h(x,i,p){const C=ih(x),R=C[i]();return C!==x&&!xi(x)&&(R._next=R.next,R.next=()=>{const I=R._next();return I.value&&(I.value=p(I.value)),I}),R}const Vx=Array.prototype;function Ji(x,i,p,C,R,I){const c=ih(x),S=c!==x&&!xi(x),t=c[i];if(t!==Vx[i]){const o=t.apply(x,I);return S?Qe(o):o}let h=p;c!==x&&(S?h=function(o,a){return p.call(this,Qe(o),a,x)}:p.length>2&&(h=function(o,a){return p.call(this,o,a,x)}));const m=t.call(c,h,C);return S&&R?R(m):m}function Fd(x,i,p,C){const R=ih(x);let I=p;return R!==x&&(xi(x)?p.length>3&&(I=function(c,S,t){return p.call(this,c,S,t,x)}):I=function(c,S,t){return p.call(this,c,Qe(S),t,x)}),R[i](I,...C)}function tl(x,i,p){const C=$t(x);$e(C,"iterate",qr);const R=C[i](...p);return(R===-1||R===!1)&&Su(p[0])?(p[0]=$t(p[0]),C[i](...p)):R}function Ir(x,i,p=[]){js(),gu();const C=$t(x)[i].apply(x,p);return xu(),Js(),C}const Gx=fu("__proto__,__v_isRef,__isVue"),mp=new Set(Object.getOwnPropertyNames(Symbol).filter(x=>x!=="arguments"&&x!=="caller").map(x=>Symbol[x]).filter(wi));function Ux(x){wi(x)||(x=String(x));const i=$t(this);return $e(i,"has",x),i.hasOwnProperty(x)}class gp{constructor(i=!1,p=!1){this._isReadonly=i,this._isShallow=p}get(i,p,C){if(p==="__v_skip")return i.__v_skip;const R=this._isReadonly,I=this._isShallow;if(p==="__v_isReactive")return!R;if(p==="__v_isReadonly")return R;if(p==="__v_isShallow")return I;if(p==="__v_raw")return C===(R?I?Jx:Ep:I?Tp:yp).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(C)?i:void 0;const c=It(i);if(!R){let t;if(c&&(t=bx[p]))return t;if(p==="hasOwnProperty")return Ux}const S=Reflect.get(i,p,oe(i)?i:C);return(wi(p)?mp.has(p):Gx(p))||(R||$e(i,"get",p),I)?S:oe(S)?c&&vu(p)?S:S.value:le(S)?R?Sp(S):sh(S):S}}class xp extends gp{constructor(i=!1){super(!1,i)}set(i,p,C,R){let I=i[p];if(!this._isShallow){const t=xn(I);if(!xi(C)&&!xn(C)&&(I=$t(I),C=$t(C)),!It(i)&&oe(I)&&!oe(C))return t?!1:(I.value=C,!0)}const c=It(i)&&vu(p)?Number(p)<i.length:ie(i,p),S=Reflect.set(i,p,C,oe(i)?i:R);return i===$t(R)&&(c?oi(C,I)&&qi(i,"set",p,C):qi(i,"add",p,C)),S}deleteProperty(i,p){const C=ie(i,p);i[p];const R=Reflect.deleteProperty(i,p);return R&&C&&qi(i,"delete",p,void 0),R}has(i,p){const C=Reflect.has(i,p);return(!wi(p)||!mp.has(p))&&$e(i,"has",p),C}ownKeys(i){return $e(i,"iterate",It(i)?"length":cn),Reflect.ownKeys(i)}}class zx extends gp{constructor(i=!1){super(!0,i)}set(i,p){return!0}deleteProperty(i,p){return!0}}const Xx=new xp,Wx=new zx,Yx=new xp(!0);const Rl=x=>x,Ha=x=>Reflect.getPrototypeOf(x);function Hx(x,i,p){return function(...C){const R=this.__v_raw,I=$t(R),c=Hn(I),S=x==="entries"||x===Symbol.iterator&&c,t=x==="keys"&&c,h=R[x](...C),m=p?Rl:i?wl:Qe;return!i&&$e(I,"iterate",t?Pl:cn),{next(){const{value:o,done:a}=h.next();return a?{value:o,done:a}:{value:S?[m(o[0]),m(o[1])]:m(o),done:a}},[Symbol.iterator](){return this}}}}function Ka(x){return function(...i){return x==="delete"?!1:x==="clear"?void 0:this}}function Kx(x,i){const p={get(R){const I=this.__v_raw,c=$t(I),S=$t(R);x||(oi(R,S)&&$e(c,"get",R),$e(c,"get",S));const{has:t}=Ha(c),h=i?Rl:x?wl:Qe;if(t.call(c,R))return h(I.get(R));if(t.call(c,S))return h(I.get(S));I!==c&&I.get(R)},get size(){const R=this.__v_raw;return!x&&$e($t(R),"iterate",cn),Reflect.get(R,"size",R)},has(R){const I=this.__v_raw,c=$t(I),S=$t(R);return x||(oi(R,S)&&$e(c,"has",R),$e(c,"has",S)),R===S?I.has(R):I.has(R)||I.has(S)},forEach(R,I){const c=this,S=c.__v_raw,t=$t(S),h=i?Rl:x?wl:Qe;return!x&&$e(t,"iterate",cn),S.forEach((m,o)=>R.call(I,h(m),h(o),c))}};return Le(p,x?{add:Ka("add"),set:Ka("set"),delete:Ka("delete"),clear:Ka("clear")}:{add(R){!i&&!xi(R)&&!xn(R)&&(R=$t(R));const I=$t(this);return Ha(I).has.call(I,R)||(I.add(R),qi(I,"add",R,R)),this},set(R,I){!i&&!xi(I)&&!xn(I)&&(I=$t(I));const c=$t(this),{has:S,get:t}=Ha(c);let h=S.call(c,R);h||(R=$t(R),h=S.call(c,R));const m=t.call(c,R);return c.set(R,I),h?oi(I,m)&&qi(c,"set",R,I):qi(c,"add",R,I),this},delete(R){const I=$t(this),{has:c,get:S}=Ha(I);let t=c.call(I,R);t||(R=$t(R),t=c.call(I,R)),S&&S.call(I,R);const h=I.delete(R);return t&&qi(I,"delete",R,void 0),h},clear(){const R=$t(this),I=R.size!==0,c=R.clear();return I&&qi(R,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(R=>{p[R]=Hx(R,x,i)}),p}function Tu(x,i){const p=Kx(x,i);return(C,R,I)=>R==="__v_isReactive"?!x:R==="__v_isReadonly"?x:R==="__v_raw"?C:Reflect.get(ie(p,R)&&R in C?p:C,R,I)}const $x={get:Tu(!1,!1)},Qx={get:Tu(!1,!0)},jx={get:Tu(!0,!1)};const yp=new WeakMap,Tp=new WeakMap,Ep=new WeakMap,Jx=new WeakMap;function Zx(x){switch(x){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kx(x){return x.__v_skip||!Object.isExtensible(x)?0:Zx(Ex(x))}function sh(x){return xn(x)?x:Eu(x,!1,Xx,$x,yp)}function qx(x){return Eu(x,!1,Yx,Qx,Tp)}function Sp(x){return Eu(x,!0,Wx,jx,Ep)}function Eu(x,i,p,C,R){if(!le(x)||x.__v_raw&&!(i&&x.__v_isReactive))return x;const I=R.get(x);if(I)return I;const c=kx(x);if(c===0)return x;const S=new Proxy(x,c===2?C:p);return R.set(x,S),S}function rs(x){return xn(x)?rs(x.__v_raw):!!(x&&x.__v_isReactive)}function xn(x){return!!(x&&x.__v_isReadonly)}function xi(x){return!!(x&&x.__v_isShallow)}function Su(x){return x?!!x.__v_raw:!1}function $t(x){const i=x&&x.__v_raw;return i?$t(i):x}function Cu(x){return!ie(x,"__v_skip")&&Object.isExtensible(x)&&ep(x,"__v_skip",!0),x}const Qe=x=>le(x)?sh(x):x,wl=x=>le(x)?Sp(x):x;function oe(x){return x?x.__v_isRef===!0:!1}function bt(x){return Cp(x,!1)}function _x(x){return Cp(x,!0)}function Cp(x,i){return oe(x)?x:new ty(x,i)}class ty{constructor(i,p){this.dep=new eh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=p?i:$t(i),this._value=p?i:Qe(i),this.__v_isShallow=p}get value(){return this.dep.track(),this._value}set value(i){const p=this._rawValue,C=this.__v_isShallow||xi(i)||xn(i);i=C?i:$t(i),oi(i,p)&&(this._rawValue=i,this._value=C?i:Qe(i),this.dep.trigger())}}function ht(x){return oe(x)?x.value:x}const ey={get:(x,i,p)=>i==="__v_raw"?x:ht(Reflect.get(x,i,p)),set:(x,i,p,C)=>{const R=x[i];return oe(R)&&!oe(p)?(R.value=p,!0):Reflect.set(x,i,p,C)}};function Ap(x){return rs(x)?x:new Proxy(x,ey)}class iy{constructor(i){this.__v_isRef=!0,this._value=void 0;const p=this.dep=new eh,{get:C,set:R}=i(p.track.bind(p),p.trigger.bind(p));this._get=C,this._set=R}get value(){return this._value=this._get()}set value(i){this._set(i)}}function sy(x){return new iy(x)}function ny(x){const i=It(x)?new Array(x.length):{};for(const p in x)i[p]=Pp(x,p);return i}class ry{constructor(i,p,C){this._object=i,this._key=p,this._defaultValue=C,this.__v_isRef=!0,this._value=void 0}get value(){const i=this._object[this._key];return this._value=i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return Bx($t(this._object),this._key)}}class ay{constructor(i){this._getter=i,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function oy(x,i,p){return oe(x)?x:Gt(x)?new ay(x):le(x)&&arguments.length>1?Pp(x,i,p):bt(x)}function Pp(x,i,p){const C=x[i];return oe(C)?C:new ry(x,i,p)}class hy{constructor(i,p,C){this.fn=i,this.setter=p,this._value=void 0,this.dep=new eh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!p,this.isSSR=C}notify(){if(this.flags|=16,!(this.flags&8)&&fe!==this)return up(this,!0),!0}get value(){const i=this.dep.track();return cp(this),i&&(i.version=this.dep.version),this._value}set value(i){this.setter&&this.setter(i)}}function ly(x,i,p=!1){let C,R;return Gt(x)?C=x:(C=x.get,R=x.set),new hy(C,R,p)}const $a={},Ao=new WeakMap;let hn;function uy(x,i=!1,p=hn){if(p){let C=Ao.get(p);C||Ao.set(p,C=[]),C.push(x)}}function fy(x,i,p=te){const{immediate:C,deep:R,once:I,scheduler:c,augmentJob:S,call:t}=p,h=d=>R?d:xi(d)||R===!1||R===0?_i(d,1):_i(d);let m,o,a,r,e=!1,n=!1;if(oe(x)?(o=()=>x.value,e=xi(x)):rs(x)?(o=()=>h(x),e=!0):It(x)?(n=!0,e=x.some(d=>rs(d)||xi(d)),o=()=>x.map(d=>{if(oe(d))return d.value;if(rs(d))return h(d);if(Gt(d))return t?t(d,2):d()})):Gt(x)?i?o=t?()=>t(x,2):x:o=()=>{if(a){js();try{a()}finally{Js()}}const d=hn;hn=m;try{return t?t(x,3,[r]):x(r)}finally{hn=d}}:o=Ui,i&&R){const d=o,v=R===!0?1/0:R;o=()=>_i(d(),v)}const l=op(),s=()=>{m.stop(),l&&l.active&&cu(l.effects,m)};if(I&&i){const d=i;i=(...v)=>{d(...v),s()}}let u=n?new Array(x.length).fill($a):$a;const f=d=>{if(!(!(m.flags&1)||!m.dirty&&!d))if(i){const v=m.run();if(R||e||(n?v.some((g,y)=>oi(g,u[y])):oi(v,u))){a&&a();const g=hn;hn=m;try{const y=[v,u===$a?void 0:n&&u[0]===$a?[]:u,r];t?t(i,3,y):i(...y),u=v}finally{hn=g}}}else m.run()};return S&&S(f),m=new hp(o),m.scheduler=c?()=>c(f,!1):f,r=d=>uy(d,!1,m),a=m.onStop=()=>{const d=Ao.get(m);if(d){if(t)t(d,4);else for(const v of d)v();Ao.delete(m)}},i?C?f(!0):u=m.run():c?c(f.bind(null,!0),!0):m.run(),s.pause=m.pause.bind(m),s.resume=m.resume.bind(m),s.stop=s,s}function _i(x,i=1/0,p){if(i<=0||!le(x)||x.__v_skip||(p=p||new Set,p.has(x)))return x;if(p.add(x),i--,oe(x))_i(x.value,i,p);else if(It(x))for(let C=0;C<x.length;C++)_i(x[C],i,p);else if(hr(x)||Hn(x))x.forEach(C=>{_i(C,i,p)});else if(tp(x)){for(const C in x)_i(x[C],i,p);for(const C of Object.getOwnPropertySymbols(x))Object.prototype.propertyIsEnumerable.call(x,C)&&_i(x[C],i,p)}return x}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pa(x,i,p,C){try{return C?x(...C):x()}catch(R){nh(R,i,p)}}function Ii(x,i,p,C){if(Gt(x)){const R=pa(x,i,p,C);return R&&qv(R)&&R.catch(I=>{nh(I,i,p)}),R}if(It(x)){const R=[];for(let I=0;I<x.length;I++)R.push(Ii(x[I],i,p,C));return R}}function nh(x,i,p,C=!0){const R=i?i.vnode:null,{errorHandler:I,throwUnhandledErrorInProduction:c}=i&&i.appContext.config||te;if(i){let S=i.parent;const t=i.proxy,h=`https://vuejs.org/error-reference/#runtime-${p}`;for(;S;){const m=S.ec;if(m){for(let o=0;o<m.length;o++)if(m[o](x,t,h)===!1)return}S=S.parent}if(I){js(),pa(I,null,10,[x,t,h]),Js();return}}dy(x,p,R,C,c)}function dy(x,i,p,C=!0,R=!1){if(R)throw x;console.error(x)}const ii=[];let bi=-1;const Kn=[];let Cs=null,Vn=0;const Rp=Promise.resolve();let Po=null;function Au(x){const i=Po||Rp;return x?i.then(this?x.bind(this):x):i}function cy(x){let i=bi+1,p=ii.length;for(;i<p;){const C=i+p>>>1,R=ii[C],I=_r(R);I<x||I===x&&R.flags&2?i=C+1:p=C}return i}function Pu(x){if(!(x.flags&1)){const i=_r(x),p=ii[ii.length-1];!p||!(x.flags&2)&&i>=_r(p)?ii.push(x):ii.splice(cy(i),0,x),x.flags|=1,wp()}}function wp(){Po||(Po=Rp.then(Ip))}function vy(x){It(x)?Kn.push(...x):Cs&&x.id===-1?Cs.splice(Vn+1,0,x):x.flags&1||(Kn.push(x),x.flags|=1),wp()}function Dd(x,i,p=bi+1){for(;p<ii.length;p++){const C=ii[p];if(C&&C.flags&2){if(x&&C.id!==x.uid)continue;ii.splice(p,1),p--,C.flags&4&&(C.flags&=-2),C(),C.flags&4||(C.flags&=-2)}}}function Mp(x){if(Kn.length){const i=[...new Set(Kn)].sort((p,C)=>_r(p)-_r(C));if(Kn.length=0,Cs){Cs.push(...i);return}for(Cs=i,Vn=0;Vn<Cs.length;Vn++){const p=Cs[Vn];p.flags&4&&(p.flags&=-2),p.flags&8||p(),p.flags&=-2}Cs=null,Vn=0}}const _r=x=>x.id==null?x.flags&2?-1:1/0:x.id;function Ip(x){try{for(bi=0;bi<ii.length;bi++){const i=ii[bi];i&&!(i.flags&8)&&(i.flags&4&&(i.flags&=-2),pa(i,i.i,i.i?15:14),i.flags&4||(i.flags&=-2))}}finally{for(;bi<ii.length;bi++){const i=ii[bi];i&&(i.flags&=-2)}bi=-1,ii.length=0,Mp(),Po=null,(ii.length||Kn.length)&&Ip()}}let we=null,Lp=null;function Ro(x){const i=we;return we=x,Lp=x&&x.type.__scopeId||null,i}function Xt(x,i=we,p){if(!i||x._n)return x;const C=(...R)=>{C._d&&Kd(-1);const I=Ro(i);let c;try{c=x(...R)}finally{Ro(I),C._d&&Kd(1)}return c};return C._n=!0,C._c=!0,C._d=!0,C}function zi(x,i){if(we===null)return x;const p=fh(we),C=x.dirs||(x.dirs=[]);for(let R=0;R<i.length;R++){let[I,c,S,t=te]=i[R];I&&(Gt(I)&&(I={mounted:I,updated:I}),I.deep&&_i(c),C.push({dir:I,instance:p,value:c,oldValue:void 0,arg:S,modifiers:t}))}return x}function nn(x,i,p,C){const R=x.dirs,I=i&&i.dirs;for(let c=0;c<R.length;c++){const S=R[c];I&&(S.oldValue=I[c].value);let t=S.dir[C];t&&(js(),Ii(t,p,8,[x.el,S,x,i]),Js())}}const Fp=Symbol("_vte"),Dp=x=>x.__isTeleport,zr=x=>x&&(x.disabled||x.disabled===""),Od=x=>x&&(x.defer||x.defer===""),Nd=x=>typeof SVGElement<"u"&&x instanceof SVGElement,Bd=x=>typeof MathMLElement=="function"&&x instanceof MathMLElement,Ml=(x,i)=>{const p=x&&x.to;return Te(p)?i?i(p):null:p},Op={name:"Teleport",__isTeleport:!0,process(x,i,p,C,R,I,c,S,t,h){const{mc:m,pc:o,pbc:a,o:{insert:r,querySelector:e,createText:n,createComment:l}}=h,s=zr(i.props);let{shapeFlag:u,children:f,dynamicChildren:d}=i;if(x==null){const v=i.el=n(""),g=i.anchor=n("");r(v,p,C),r(g,p,C);const y=(E,A)=>{u&16&&(R&&R.isCE&&(R.ce._teleportTarget=E),m(f,E,A,R,I,c,S,t))},T=()=>{const E=i.target=Ml(i.props,e),A=Np(E,i,n,r);E&&(c!=="svg"&&Nd(E)?c="svg":c!=="mathml"&&Bd(E)&&(c="mathml"),s||(y(E,A),ro(i,!1)))};s&&(y(p,g),ro(i,!0)),Od(i.props)?ti(()=>{T(),i.el.__isMounted=!0},I):T()}else{if(Od(i.props)&&!x.el.__isMounted){ti(()=>{Op.process(x,i,p,C,R,I,c,S,t,h),delete x.el.__isMounted},I);return}i.el=x.el,i.targetStart=x.targetStart;const v=i.anchor=x.anchor,g=i.target=x.target,y=i.targetAnchor=x.targetAnchor,T=zr(x.props),E=T?p:g,A=T?v:y;if(c==="svg"||Nd(g)?c="svg":(c==="mathml"||Bd(g))&&(c="mathml"),d?(a(x.dynamicChildren,d,E,R,I,c,S),wu(x,i,!0)):t||o(x,i,E,A,R,I,c,S,!1),s)T?i.props&&x.props&&i.props.to!==x.props.to&&(i.props.to=x.props.to):Qa(i,p,v,h,1);else if((i.props&&i.props.to)!==(x.props&&x.props.to)){const P=i.target=Ml(i.props,e);P&&Qa(i,P,null,h,0)}else T&&Qa(i,g,y,h,1);ro(i,s)}},remove(x,i,p,{um:C,o:{remove:R}},I){const{shapeFlag:c,children:S,anchor:t,targetStart:h,targetAnchor:m,target:o,props:a}=x;if(o&&(R(h),R(m)),I&&R(t),c&16){const r=I||!zr(a);for(let e=0;e<S.length;e++){const n=S[e];C(n,i,p,r,!!n.dynamicChildren)}}},move:Qa,hydrate:py};function Qa(x,i,p,{o:{insert:C},m:R},I=2){I===0&&C(x.targetAnchor,i,p);const{el:c,anchor:S,shapeFlag:t,children:h,props:m}=x,o=I===2;if(o&&C(c,i,p),(!o||zr(m))&&t&16)for(let a=0;a<h.length;a++)R(h[a],i,p,2);o&&C(S,i,p)}function py(x,i,p,C,R,I,{o:{nextSibling:c,parentNode:S,querySelector:t,insert:h,createText:m}},o){const a=i.target=Ml(i.props,t);if(a){const r=zr(i.props),e=a._lpa||a.firstChild;if(i.shapeFlag&16)if(r)i.anchor=o(c(x),i,S(x),p,C,R,I),i.targetStart=e,i.targetAnchor=e&&c(e);else{i.anchor=c(x);let n=e;for(;n;){if(n&&n.nodeType===8){if(n.data==="teleport start anchor")i.targetStart=n;else if(n.data==="teleport anchor"){i.targetAnchor=n,a._lpa=i.targetAnchor&&c(i.targetAnchor);break}}n=c(n)}i.targetAnchor||Np(a,i,m,h),o(e&&c(e),i,a,p,C,R,I)}ro(i,r)}return i.anchor&&c(i.anchor)}const rh=Op;function ro(x,i){const p=x.ctx;if(p&&p.ut){let C,R;for(i?(C=x.el,R=x.anchor):(C=x.targetStart,R=x.targetAnchor);C&&C!==R;)C.nodeType===1&&C.setAttribute("data-v-owner",p.uid),C=C.nextSibling;p.ut()}}function Np(x,i,p,C){const R=i.targetStart=p(""),I=i.targetAnchor=p("");return R[Fp]=I,x&&(C(R,x),C(I,x)),I}const As=Symbol("_leaveCb"),ja=Symbol("_enterCb");function my(){const x={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vs(()=>{x.isMounted=!0}),An(()=>{x.isUnmounting=!0}),x}const mi=[Function,Array],Bp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mi,onEnter:mi,onAfterEnter:mi,onEnterCancelled:mi,onBeforeLeave:mi,onLeave:mi,onAfterLeave:mi,onLeaveCancelled:mi,onBeforeAppear:mi,onAppear:mi,onAfterAppear:mi,onAppearCancelled:mi},bp=x=>{const i=x.subTree;return i.component?bp(i.component):i},gy={name:"BaseTransition",props:Bp,setup(x,{slots:i}){const p=uh(),C=my();return()=>{const R=i.default&&Up(i.default(),!0);if(!R||!R.length)return;const I=Vp(R),c=$t(x),{mode:S}=c;if(C.isLeaving)return el(I);const t=bd(I);if(!t)return el(I);let h=Il(t,c,C,p,o=>h=o);t.type!==si&&ta(t,h);let m=p.subTree&&bd(p.subTree);if(m&&m.type!==si&&!un(t,m)&&bp(p).type!==si){let o=Il(m,c,C,p);if(ta(m,o),S==="out-in"&&t.type!==si)return C.isLeaving=!0,o.afterLeave=()=>{C.isLeaving=!1,p.job.flags&8||p.update(),delete o.afterLeave,m=void 0},el(I);S==="in-out"&&t.type!==si?o.delayLeave=(a,r,e)=>{const n=Gp(C,m);n[String(m.key)]=m,a[As]=()=>{r(),a[As]=void 0,delete h.delayedLeave,m=void 0},h.delayedLeave=()=>{e(),delete h.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return I}}};function Vp(x){let i=x[0];if(x.length>1){for(const p of x)if(p.type!==si){i=p;break}}return i}const xy=gy;function Gp(x,i){const{leavingVNodes:p}=x;let C=p.get(i.type);return C||(C=Object.create(null),p.set(i.type,C)),C}function Il(x,i,p,C,R){const{appear:I,mode:c,persisted:S=!1,onBeforeEnter:t,onEnter:h,onAfterEnter:m,onEnterCancelled:o,onBeforeLeave:a,onLeave:r,onAfterLeave:e,onLeaveCancelled:n,onBeforeAppear:l,onAppear:s,onAfterAppear:u,onAppearCancelled:f}=i,d=String(x.key),v=Gp(p,x),g=(E,A)=>{E&&Ii(E,C,9,A)},y=(E,A)=>{const P=A[1];g(E,A),It(E)?E.every(w=>w.length<=1)&&P():E.length<=1&&P()},T={mode:c,persisted:S,beforeEnter(E){let A=t;if(!p.isMounted)if(I)A=l||t;else return;E[As]&&E[As](!0);const P=v[d];P&&un(x,P)&&P.el[As]&&P.el[As](),g(A,[E])},enter(E){let A=h,P=m,w=o;if(!p.isMounted)if(I)A=s||h,P=u||m,w=f||o;else return;let M=!1;const D=E[ja]=F=>{M||(M=!0,F?g(w,[E]):g(P,[E]),T.delayedLeave&&T.delayedLeave(),E[ja]=void 0)};A?y(A,[E,D]):D()},leave(E,A){const P=String(x.key);if(E[ja]&&E[ja](!0),p.isUnmounting)return A();g(a,[E]);let w=!1;const M=E[As]=D=>{w||(w=!0,A(),D?g(n,[E]):g(e,[E]),E[As]=void 0,v[P]===x&&delete v[P])};v[P]=x,r?y(r,[E,M]):M()},clone(E){const A=Il(E,i,p,C,R);return R&&R(A),A}};return T}function el(x){if(ah(x))return x=Us(x),x.children=null,x}function bd(x){if(!ah(x))return Dp(x.type)&&x.children?Vp(x.children):x;const{shapeFlag:i,children:p}=x;if(p){if(i&16)return p[0];if(i&32&&Gt(p.default))return p.default()}}function ta(x,i){x.shapeFlag&6&&x.component?(x.transition=i,ta(x.component.subTree,i)):x.shapeFlag&128?(x.ssContent.transition=i.clone(x.ssContent),x.ssFallback.transition=i.clone(x.ssFallback)):x.transition=i}function Up(x,i=!1,p){let C=[],R=0;for(let I=0;I<x.length;I++){let c=x[I];const S=p==null?c.key:String(p)+String(c.key!=null?c.key:I);c.type===de?(c.patchFlag&128&&R++,C=C.concat(Up(c.children,i,S))):(i||c.type!==si)&&C.push(S!=null?Us(c,{key:S}):c)}if(R>1)for(let I=0;I<C.length;I++)C[I].patchFlag=-2;return C}/*! #__NO_SIDE_EFFECTS__ */function ee(x,i){return Gt(x)?Le({name:x.name},i,{setup:x}):x}function zp(x){x.ids=[x.ids[0]+x.ids[2]+++"-",0,0]}function vn(x){const i=uh(),p=_x(null);if(i){const R=i.refs===te?i.refs={}:i.refs;Object.defineProperty(R,x,{enumerable:!0,get:()=>p.value,set:I=>p.value=I})}return p}function wo(x,i,p,C,R=!1){if(It(x)){x.forEach((e,n)=>wo(e,i&&(It(i)?i[n]:i),p,C,R));return}if($n(C)&&!R){C.shapeFlag&512&&C.type.__asyncResolved&&C.component.subTree.component&&wo(x,i,p,C.component.subTree);return}const I=C.shapeFlag&4?fh(C.component):C.el,c=R?null:I,{i:S,r:t}=x,h=i&&i.r,m=S.refs===te?S.refs={}:S.refs,o=S.setupState,a=$t(o),r=o===te?()=>!1:e=>ie(a,e);if(h!=null&&h!==t&&(Te(h)?(m[h]=null,r(h)&&(o[h]=null)):oe(h)&&(h.value=null)),Gt(t))pa(t,S,12,[c,m]);else{const e=Te(t),n=oe(t);if(e||n){const l=()=>{if(x.f){const s=e?r(t)?o[t]:m[t]:t.value;R?It(s)&&cu(s,I):It(s)?s.includes(I)||s.push(I):e?(m[t]=[I],r(t)&&(o[t]=m[t])):(t.value=[I],x.k&&(m[x.k]=t.value))}else e?(m[t]=c,r(t)&&(o[t]=c)):n&&(t.value=c,x.k&&(m[x.k]=c))};c?(l.id=-1,ti(l,p)):l()}}}th().requestIdleCallback;th().cancelIdleCallback;const $n=x=>!!x.type.__asyncLoader,ah=x=>x.type.__isKeepAlive;function yy(x,i){Xp(x,"a",i)}function Ty(x,i){Xp(x,"da",i)}function Xp(x,i,p=De){const C=x.__wdc||(x.__wdc=()=>{let R=p;for(;R;){if(R.isDeactivated)return;R=R.parent}return x()});if(oh(i,C,p),p){let R=p.parent;for(;R&&R.parent;)ah(R.parent.vnode)&&Ey(C,i,p,R),R=R.parent}}function Ey(x,i,p,C){const R=oh(i,x,C,!0);Pn(()=>{cu(C[i],R)},p)}function oh(x,i,p=De,C=!1){if(p){const R=p[x]||(p[x]=[]),I=i.__weh||(i.__weh=(...c)=>{js();const S=ma(p),t=Ii(i,p,x,c);return S(),Js(),t});return C?R.unshift(I):R.push(I),I}}const cs=x=>(i,p=De)=>{(!sa||x==="sp")&&oh(x,(...C)=>i(...C),p)},Wp=cs("bm"),vs=cs("m"),Sy=cs("bu"),Cy=cs("u"),An=cs("bum"),Pn=cs("um"),Ay=cs("sp"),Py=cs("rtg"),Ry=cs("rtc");function wy(x,i=De){oh("ec",x,i)}const My="directives",Iy=Symbol.for("v-ndc");function Yp(x){return Ly(My,x)}function Ly(x,i,p=!0,C=!1){const R=we||De;if(R){const I=R.type,c=Vd(R[x]||I[x],i)||Vd(R.appContext[x],i);return!c&&C?I:c}}function Vd(x,i){return x&&(x[i]||x[Mi(i)]||x[pu(Mi(i))])}function Xi(x,i,p,C){let R;const I=p,c=It(x);if(c||Te(x)){const S=c&&rs(x);let t=!1;S&&(t=!xi(x),x=ih(x)),R=new Array(x.length);for(let h=0,m=x.length;h<m;h++)R[h]=i(t?Qe(x[h]):x[h],h,void 0,I)}else if(typeof x=="number"){R=new Array(x);for(let S=0;S<x;S++)R[S]=i(S+1,S,void 0,I)}else if(le(x))if(x[Symbol.iterator])R=Array.from(x,(S,t)=>i(S,t,void 0,I));else{const S=Object.keys(x);R=new Array(S.length);for(let t=0,h=S.length;t<h;t++){const m=S[t];R[t]=i(x[m],m,t,I)}}else R=[];return R}function ce(x,i,p={},C,R){if(we.ce||we.parent&&$n(we.parent)&&we.parent.ce)return i!=="default"&&(p.name=i),gt(),Re(de,null,[Rt("slot",p,C&&C())],64);let I=x[i];I&&I._c&&(I._d=!1),gt();const c=I&&Hp(I(p)),S=p.key||c&&c.key,t=Re(de,{key:(S&&!wi(S)?S:`_${i}`)+(!c&&C?"_fb":"")},c||(C?C():[]),c&&x._===1?64:-2);return t.scopeId&&(t.slotScopeIds=[t.scopeId+"-s"]),I&&I._c&&(I._d=!0),t}function Hp(x){return x.some(i=>ia(i)?!(i.type===si||i.type===de&&!Hp(i.children)):!0)?x:null}const Ll=x=>x?um(x)?fh(x):Ll(x.parent):null,Xr=Le(Object.create(null),{$:x=>x,$el:x=>x.vnode.el,$data:x=>x.data,$props:x=>x.props,$attrs:x=>x.attrs,$slots:x=>x.slots,$refs:x=>x.refs,$parent:x=>Ll(x.parent),$root:x=>Ll(x.root),$host:x=>x.ce,$emit:x=>x.emit,$options:x=>$p(x),$forceUpdate:x=>x.f||(x.f=()=>{Pu(x.update)}),$nextTick:x=>x.n||(x.n=Au.bind(x.proxy)),$watch:x=>e1.bind(x)}),il=(x,i)=>x!==te&&!x.__isScriptSetup&&ie(x,i),Fy={get({_:x},i){if(i==="__v_skip")return!0;const{ctx:p,setupState:C,data:R,props:I,accessCache:c,type:S,appContext:t}=x;let h;if(i[0]!=="$"){const r=c[i];if(r!==void 0)switch(r){case 1:return C[i];case 2:return R[i];case 4:return p[i];case 3:return I[i]}else{if(il(C,i))return c[i]=1,C[i];if(R!==te&&ie(R,i))return c[i]=2,R[i];if((h=x.propsOptions[0])&&ie(h,i))return c[i]=3,I[i];if(p!==te&&ie(p,i))return c[i]=4,p[i];Fl&&(c[i]=0)}}const m=Xr[i];let o,a;if(m)return i==="$attrs"&&$e(x.attrs,"get",""),m(x);if((o=S.__cssModules)&&(o=o[i]))return o;if(p!==te&&ie(p,i))return c[i]=4,p[i];if(a=t.config.globalProperties,ie(a,i))return a[i]},set({_:x},i,p){const{data:C,setupState:R,ctx:I}=x;return il(R,i)?(R[i]=p,!0):C!==te&&ie(C,i)?(C[i]=p,!0):ie(x.props,i)||i[0]==="$"&&i.slice(1)in x?!1:(I[i]=p,!0)},has({_:{data:x,setupState:i,accessCache:p,ctx:C,appContext:R,propsOptions:I}},c){let S;return!!p[c]||x!==te&&ie(x,c)||il(i,c)||(S=I[0])&&ie(S,c)||ie(C,c)||ie(Xr,c)||ie(R.config.globalProperties,c)},defineProperty(x,i,p){return p.get!=null?x._.accessCache[i]=0:ie(p,"value")&&this.set(x,i,p.value,null),Reflect.defineProperty(x,i,p)}};function Rn(){return Dy().slots}function Dy(){const x=uh();return x.setupContext||(x.setupContext=dm(x))}function Mo(x){return It(x)?x.reduce((i,p)=>(i[p]=null,i),{}):x}function ui(x,i){return!x||!i?x||i:It(x)&&It(i)?x.concat(i):Le({},Mo(x),Mo(i))}let Fl=!0;function Oy(x){const i=$p(x),p=x.proxy,C=x.ctx;Fl=!1,i.beforeCreate&&Gd(i.beforeCreate,x,"bc");const{data:R,computed:I,methods:c,watch:S,provide:t,inject:h,created:m,beforeMount:o,mounted:a,beforeUpdate:r,updated:e,activated:n,deactivated:l,beforeDestroy:s,beforeUnmount:u,destroyed:f,unmounted:d,render:v,renderTracked:g,renderTriggered:y,errorCaptured:T,serverPrefetch:E,expose:A,inheritAttrs:P,components:w,directives:M,filters:D}=i;if(h&&Ny(h,C,null),c)for(const O in c){const B=c[O];Gt(B)&&(C[O]=B.bind(p))}if(R){const O=R.call(p,p);le(O)&&(x.data=sh(O))}if(Fl=!0,I)for(const O in I){const B=I[O],U=Gt(B)?B.bind(p,p):Gt(B.get)?B.get.bind(p,p):Ui,W=!Gt(B)&&Gt(B.set)?B.set.bind(p):Ui,H=Dt({get:U,set:W});Object.defineProperty(C,O,{enumerable:!0,configurable:!0,get:()=>H.value,set:Y=>H.value=Y})}if(S)for(const O in S)Kp(S[O],C,p,O);if(t){const O=Gt(t)?t.call(p):t;Reflect.ownKeys(O).forEach(B=>{zy(B,O[B])})}m&&Gd(m,x,"c");function L(O,B){It(B)?B.forEach(U=>O(U.bind(p))):B&&O(B.bind(p))}if(L(Wp,o),L(vs,a),L(Sy,r),L(Cy,e),L(yy,n),L(Ty,l),L(wy,T),L(Ry,g),L(Py,y),L(An,u),L(Pn,d),L(Ay,E),It(A))if(A.length){const O=x.exposed||(x.exposed={});A.forEach(B=>{Object.defineProperty(O,B,{get:()=>p[B],set:U=>p[B]=U})})}else x.exposed||(x.exposed={});v&&x.render===Ui&&(x.render=v),P!=null&&(x.inheritAttrs=P),w&&(x.components=w),M&&(x.directives=M),E&&zp(x)}function Ny(x,i,p=Ui){It(x)&&(x=Dl(x));for(const C in x){const R=x[C];let I;le(R)?"default"in R?I=Qn(R.from||C,R.default,!0):I=Qn(R.from||C):I=Qn(R),oe(I)?Object.defineProperty(i,C,{enumerable:!0,configurable:!0,get:()=>I.value,set:c=>I.value=c}):i[C]=I}}function Gd(x,i,p){Ii(It(x)?x.map(C=>C.bind(i.proxy)):x.bind(i.proxy),i,p)}function Kp(x,i,p,C){let R=C.includes(".")?nm(p,C):()=>p[C];if(Te(x)){const I=i[x];Gt(I)&&li(R,I)}else if(Gt(x))li(R,x.bind(p));else if(le(x))if(It(x))x.forEach(I=>Kp(I,i,p,C));else{const I=Gt(x.handler)?x.handler.bind(p):i[x.handler];Gt(I)&&li(R,I,x)}}function $p(x){const i=x.type,{mixins:p,extends:C}=i,{mixins:R,optionsCache:I,config:{optionMergeStrategies:c}}=x.appContext,S=I.get(i);let t;return S?t=S:!R.length&&!p&&!C?t=i:(t={},R.length&&R.forEach(h=>Io(t,h,c,!0)),Io(t,i,c)),le(i)&&I.set(i,t),t}function Io(x,i,p,C=!1){const{mixins:R,extends:I}=i;I&&Io(x,I,p,!0),R&&R.forEach(c=>Io(x,c,p,!0));for(const c in i)if(!(C&&c==="expose")){const S=By[c]||p&&p[c];x[c]=S?S(x[c],i[c]):i[c]}return x}const By={data:Ud,props:zd,emits:zd,methods:Fr,computed:Fr,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:Fr,directives:Fr,watch:Vy,provide:Ud,inject:by};function Ud(x,i){return i?x?function(){return Le(Gt(x)?x.call(this,this):x,Gt(i)?i.call(this,this):i)}:i:x}function by(x,i){return Fr(Dl(x),Dl(i))}function Dl(x){if(It(x)){const i={};for(let p=0;p<x.length;p++)i[x[p]]=x[p];return i}return x}function _e(x,i){return x?[...new Set([].concat(x,i))]:i}function Fr(x,i){return x?Le(Object.create(null),x,i):i}function zd(x,i){return x?It(x)&&It(i)?[...new Set([...x,...i])]:Le(Object.create(null),Mo(x),Mo(i??{})):i}function Vy(x,i){if(!x)return i;if(!i)return x;const p=Le(Object.create(null),x);for(const C in i)p[C]=_e(x[C],i[C]);return p}function Qp(){return{app:null,config:{isNativeTag:yx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gy=0;function Uy(x,i){return function(C,R=null){Gt(C)||(C=Le({},C)),R!=null&&!le(R)&&(R=null);const I=Qp(),c=new WeakSet,S=[];let t=!1;const h=I.app={_uid:Gy++,_component:C,_props:R,_container:null,_context:I,_instance:null,version:T1,get config(){return I.config},set config(m){},use(m,...o){return c.has(m)||(m&&Gt(m.install)?(c.add(m),m.install(h,...o)):Gt(m)&&(c.add(m),m(h,...o))),h},mixin(m){return I.mixins.includes(m)||I.mixins.push(m),h},component(m,o){return o?(I.components[m]=o,h):I.components[m]},directive(m,o){return o?(I.directives[m]=o,h):I.directives[m]},mount(m,o,a){if(!t){const r=h._ceVNode||Rt(C,R);return r.appContext=I,a===!0?a="svg":a===!1&&(a=void 0),x(r,m,a),t=!0,h._container=m,m.__vue_app__=h,fh(r.component)}},onUnmount(m){S.push(m)},unmount(){t&&(Ii(S,h._instance,16),x(null,h._container),delete h._container.__vue_app__)},provide(m,o){return I.provides[m]=o,h},runWithContext(m){const o=pn;pn=h;try{return m()}finally{pn=o}}};return h}}let pn=null;function zy(x,i){if(De){let p=De.provides;const C=De.parent&&De.parent.provides;C===p&&(p=De.provides=Object.create(C)),p[x]=i}}function Qn(x,i,p=!1){const C=De||we;if(C||pn){const R=pn?pn._context.provides:C?C.parent==null?C.vnode.appContext&&C.vnode.appContext.provides:C.parent.provides:void 0;if(R&&x in R)return R[x];if(arguments.length>1)return p&&Gt(i)?i.call(C&&C.proxy):i}}function Xy(){return!!(De||we||pn)}const jp={},Jp=()=>Object.create(jp),Zp=x=>Object.getPrototypeOf(x)===jp;function Wy(x,i,p,C=!1){const R={},I=Jp();x.propsDefaults=Object.create(null),kp(x,i,R,I);for(const c in x.propsOptions[0])c in R||(R[c]=void 0);p?x.props=C?R:qx(R):x.type.props?x.props=R:x.props=I,x.attrs=I}function Yy(x,i,p,C){const{props:R,attrs:I,vnode:{patchFlag:c}}=x,S=$t(R),[t]=x.propsOptions;let h=!1;if((C||c>0)&&!(c&16)){if(c&8){const m=x.vnode.dynamicProps;for(let o=0;o<m.length;o++){let a=m[o];if(hh(x.emitsOptions,a))continue;const r=i[a];if(t)if(ie(I,a))r!==I[a]&&(I[a]=r,h=!0);else{const e=Mi(a);R[e]=Ol(t,S,e,r,x,!1)}else r!==I[a]&&(I[a]=r,h=!0)}}}else{kp(x,i,R,I)&&(h=!0);let m;for(const o in S)(!i||!ie(i,o)&&((m=ds(o))===o||!ie(i,m)))&&(t?p&&(p[o]!==void 0||p[m]!==void 0)&&(R[o]=Ol(t,S,o,void 0,x,!0)):delete R[o]);if(I!==S)for(const o in I)(!i||!ie(i,o))&&(delete I[o],h=!0)}h&&qi(x.attrs,"set","")}function kp(x,i,p,C){const[R,I]=x.propsOptions;let c=!1,S;if(i)for(let t in i){if(Vr(t))continue;const h=i[t];let m;R&&ie(R,m=Mi(t))?!I||!I.includes(m)?p[m]=h:(S||(S={}))[m]=h:hh(x.emitsOptions,t)||(!(t in C)||h!==C[t])&&(C[t]=h,c=!0)}if(I){const t=$t(p),h=S||te;for(let m=0;m<I.length;m++){const o=I[m];p[o]=Ol(R,t,o,h[o],x,!ie(h,o))}}return c}function Ol(x,i,p,C,R,I){const c=x[p];if(c!=null){const S=ie(c,"default");if(S&&C===void 0){const t=c.default;if(c.type!==Function&&!c.skipFactory&&Gt(t)){const{propsDefaults:h}=R;if(p in h)C=h[p];else{const m=ma(R);C=h[p]=t.call(null,i),m()}}else C=t;R.ce&&R.ce._setProp(p,C)}c[0]&&(I&&!S?C=!1:c[1]&&(C===""||C===ds(p))&&(C=!0))}return C}const Hy=new WeakMap;function qp(x,i,p=!1){const C=p?Hy:i.propsCache,R=C.get(x);if(R)return R;const I=x.props,c={},S=[];let t=!1;if(!Gt(x)){const m=o=>{t=!0;const[a,r]=qp(o,i,!0);Le(c,a),r&&S.push(...r)};!p&&i.mixins.length&&i.mixins.forEach(m),x.extends&&m(x.extends),x.mixins&&x.mixins.forEach(m)}if(!I&&!t)return le(x)&&C.set(x,Yn),Yn;if(It(I))for(let m=0;m<I.length;m++){const o=Mi(I[m]);Xd(o)&&(c[o]=te)}else if(I)for(const m in I){const o=Mi(m);if(Xd(o)){const a=I[m],r=c[o]=It(a)||Gt(a)?{type:a}:Le({},a),e=r.type;let n=!1,l=!0;if(It(e))for(let s=0;s<e.length;++s){const u=e[s],f=Gt(u)&&u.name;if(f==="Boolean"){n=!0;break}else f==="String"&&(l=!1)}else n=Gt(e)&&e.name==="Boolean";r[0]=n,r[1]=l,(n||ie(r,"default"))&&S.push(o)}}const h=[c,S];return le(x)&&C.set(x,h),h}function Xd(x){return x[0]!=="$"&&!Vr(x)}const _p=x=>x[0]==="_"||x==="$stable",Ru=x=>It(x)?x.map(Gi):[Gi(x)],Ky=(x,i,p)=>{if(i._n)return i;const C=Xt((...R)=>Ru(i(...R)),p);return C._c=!1,C},tm=(x,i,p)=>{const C=x._ctx;for(const R in x){if(_p(R))continue;const I=x[R];if(Gt(I))i[R]=Ky(R,I,C);else if(I!=null){const c=Ru(I);i[R]=()=>c}}},em=(x,i)=>{const p=Ru(i);x.slots.default=()=>p},im=(x,i,p)=>{for(const C in i)(p||C!=="_")&&(x[C]=i[C])},$y=(x,i,p)=>{const C=x.slots=Jp();if(x.vnode.shapeFlag&32){const R=i._;R?(im(C,i,p),p&&ep(C,"_",R,!0)):tm(i,C)}else i&&em(x,i)},Qy=(x,i,p)=>{const{vnode:C,slots:R}=x;let I=!0,c=te;if(C.shapeFlag&32){const S=i._;S?p&&S===1?I=!1:im(R,i,p):(I=!i.$stable,tm(i,R)),c=i}else i&&(em(x,i),c={default:1});if(I)for(const S in R)!_p(S)&&c[S]==null&&delete R[S]},ti=o1;function jy(x){return Jy(x)}function Jy(x,i){const p=th();p.__VUE__=!0;const{insert:C,remove:R,patchProp:I,createElement:c,createText:S,createComment:t,setText:h,setElementText:m,parentNode:o,nextSibling:a,setScopeId:r=Ui,insertStaticContent:e}=x,n=(j,k,_,et=null,it=null,st=null,nt=void 0,ut=null,ft=!!k.dynamicChildren)=>{if(j===k)return;j&&!un(j,k)&&(et=z(j),Y(j,it,st,!0),j=null),k.patchFlag===-2&&(ft=!1,k.dynamicChildren=null);const{type:ot,ref:rt,shapeFlag:lt}=k;switch(ot){case lh:l(j,k,_,et);break;case si:s(j,k,_,et);break;case nl:j==null&&u(k,_,et,nt);break;case de:w(j,k,_,et,it,st,nt,ut,ft);break;default:lt&1?v(j,k,_,et,it,st,nt,ut,ft):lt&6?M(j,k,_,et,it,st,nt,ut,ft):(lt&64||lt&128)&&ot.process(j,k,_,et,it,st,nt,ut,ft,Z)}rt!=null&&it&&wo(rt,j&&j.ref,st,k||j,!k)},l=(j,k,_,et)=>{if(j==null)C(k.el=S(k.children),_,et);else{const it=k.el=j.el;k.children!==j.children&&h(it,k.children)}},s=(j,k,_,et)=>{j==null?C(k.el=t(k.children||""),_,et):k.el=j.el},u=(j,k,_,et)=>{[j.el,j.anchor]=e(j.children,k,_,et,j.el,j.anchor)},f=({el:j,anchor:k},_,et)=>{let it;for(;j&&j!==k;)it=a(j),C(j,_,et),j=it;C(k,_,et)},d=({el:j,anchor:k})=>{let _;for(;j&&j!==k;)_=a(j),R(j),j=_;R(k)},v=(j,k,_,et,it,st,nt,ut,ft)=>{k.type==="svg"?nt="svg":k.type==="math"&&(nt="mathml"),j==null?g(k,_,et,it,st,nt,ut,ft):E(j,k,it,st,nt,ut,ft)},g=(j,k,_,et,it,st,nt,ut)=>{let ft,ot;const{props:rt,shapeFlag:lt,transition:dt,dirs:xt}=j;if(ft=j.el=c(j.type,st,rt&&rt.is,rt),lt&8?m(ft,j.children):lt&16&&T(j.children,ft,null,et,it,sl(j,st),nt,ut),xt&&nn(j,null,et,"created"),y(ft,j,j.scopeId,nt,et),rt){for(const Ct in rt)Ct!=="value"&&!Vr(Ct)&&I(ft,Ct,null,rt[Ct],st,et);"value"in rt&&I(ft,"value",null,rt.value,st),(ot=rt.onVnodeBeforeMount)&&Ni(ot,et,j)}xt&&nn(j,null,et,"beforeMount");const yt=Zy(it,dt);yt&&dt.beforeEnter(ft),C(ft,k,_),((ot=rt&&rt.onVnodeMounted)||yt||xt)&&ti(()=>{ot&&Ni(ot,et,j),yt&&dt.enter(ft),xt&&nn(j,null,et,"mounted")},it)},y=(j,k,_,et,it)=>{if(_&&r(j,_),et)for(let st=0;st<et.length;st++)r(j,et[st]);if(it){let st=it.subTree;if(k===st||om(st.type)&&(st.ssContent===k||st.ssFallback===k)){const nt=it.vnode;y(j,nt,nt.scopeId,nt.slotScopeIds,it.parent)}}},T=(j,k,_,et,it,st,nt,ut,ft=0)=>{for(let ot=ft;ot<j.length;ot++){const rt=j[ot]=ut?Ps(j[ot]):Gi(j[ot]);n(null,rt,k,_,et,it,st,nt,ut)}},E=(j,k,_,et,it,st,nt)=>{const ut=k.el=j.el;let{patchFlag:ft,dynamicChildren:ot,dirs:rt}=k;ft|=j.patchFlag&16;const lt=j.props||te,dt=k.props||te;let xt;if(_&&rn(_,!1),(xt=dt.onVnodeBeforeUpdate)&&Ni(xt,_,k,j),rt&&nn(k,j,_,"beforeUpdate"),_&&rn(_,!0),(lt.innerHTML&&dt.innerHTML==null||lt.textContent&&dt.textContent==null)&&m(ut,""),ot?A(j.dynamicChildren,ot,ut,_,et,sl(k,it),st):nt||B(j,k,ut,null,_,et,sl(k,it),st,!1),ft>0){if(ft&16)P(ut,lt,dt,_,it);else if(ft&2&&lt.class!==dt.class&&I(ut,"class",null,dt.class,it),ft&4&&I(ut,"style",lt.style,dt.style,it),ft&8){const yt=k.dynamicProps;for(let Ct=0;Ct<yt.length;Ct++){const St=yt[Ct],Lt=lt[St],zt=dt[St];(zt!==Lt||St==="value")&&I(ut,St,Lt,zt,it,_)}}ft&1&&j.children!==k.children&&m(ut,k.children)}else!nt&&ot==null&&P(ut,lt,dt,_,it);((xt=dt.onVnodeUpdated)||rt)&&ti(()=>{xt&&Ni(xt,_,k,j),rt&&nn(k,j,_,"updated")},et)},A=(j,k,_,et,it,st,nt)=>{for(let ut=0;ut<k.length;ut++){const ft=j[ut],ot=k[ut],rt=ft.el&&(ft.type===de||!un(ft,ot)||ft.shapeFlag&70)?o(ft.el):_;n(ft,ot,rt,null,et,it,st,nt,!0)}},P=(j,k,_,et,it)=>{if(k!==_){if(k!==te)for(const st in k)!Vr(st)&&!(st in _)&&I(j,st,k[st],null,it,et);for(const st in _){if(Vr(st))continue;const nt=_[st],ut=k[st];nt!==ut&&st!=="value"&&I(j,st,ut,nt,it,et)}"value"in _&&I(j,"value",k.value,_.value,it)}},w=(j,k,_,et,it,st,nt,ut,ft)=>{const ot=k.el=j?j.el:S(""),rt=k.anchor=j?j.anchor:S("");let{patchFlag:lt,dynamicChildren:dt,slotScopeIds:xt}=k;xt&&(ut=ut?ut.concat(xt):xt),j==null?(C(ot,_,et),C(rt,_,et),T(k.children||[],_,rt,it,st,nt,ut,ft)):lt>0&&lt&64&&dt&&j.dynamicChildren?(A(j.dynamicChildren,dt,_,it,st,nt,ut),(k.key!=null||it&&k===it.subTree)&&wu(j,k,!0)):B(j,k,_,rt,it,st,nt,ut,ft)},M=(j,k,_,et,it,st,nt,ut,ft)=>{k.slotScopeIds=ut,j==null?k.shapeFlag&512?it.ctx.activate(k,_,et,nt,ft):D(k,_,et,it,st,nt,ft):F(j,k,ft)},D=(j,k,_,et,it,st,nt)=>{const ut=j.component=v1(j,et,it);if(ah(j)&&(ut.ctx.renderer=Z),p1(ut,!1,nt),ut.asyncDep){if(it&&it.registerDep(ut,L,nt),!j.el){const ft=ut.subTree=Rt(si);s(null,ft,k,_)}}else L(ut,j,k,_,it,st,nt)},F=(j,k,_)=>{const et=k.component=j.component;if(r1(j,k,_))if(et.asyncDep&&!et.asyncResolved){O(et,k,_);return}else et.next=k,et.update();else k.el=j.el,et.vnode=k},L=(j,k,_,et,it,st,nt)=>{const ut=()=>{if(j.isMounted){let{next:lt,bu:dt,u:xt,parent:yt,vnode:Ct}=j;{const Nt=sm(j);if(Nt){lt&&(lt.el=Ct.el,O(j,lt,nt)),Nt.asyncDep.then(()=>{j.isUnmounted||ut()});return}}let St=lt,Lt;rn(j,!1),lt?(lt.el=Ct.el,O(j,lt,nt)):lt=Ct,dt&&no(dt),(Lt=lt.props&&lt.props.onVnodeBeforeUpdate)&&Ni(Lt,yt,lt,Ct),rn(j,!0);const zt=Yd(j),qt=j.subTree;j.subTree=zt,n(qt,zt,o(qt.el),z(qt),j,it,st),lt.el=zt.el,St===null&&a1(j,zt.el),xt&&ti(xt,it),(Lt=lt.props&&lt.props.onVnodeUpdated)&&ti(()=>Ni(Lt,yt,lt,Ct),it)}else{let lt;const{el:dt,props:xt}=k,{bm:yt,m:Ct,parent:St,root:Lt,type:zt}=j,qt=$n(k);rn(j,!1),yt&&no(yt),!qt&&(lt=xt&&xt.onVnodeBeforeMount)&&Ni(lt,St,k),rn(j,!0);{Lt.ce&&Lt.ce._injectChildStyle(zt);const Nt=j.subTree=Yd(j);n(null,Nt,_,et,j,it,st),k.el=Nt.el}if(Ct&&ti(Ct,it),!qt&&(lt=xt&&xt.onVnodeMounted)){const Nt=k;ti(()=>Ni(lt,St,Nt),it)}(k.shapeFlag&256||St&&$n(St.vnode)&&St.vnode.shapeFlag&256)&&j.a&&ti(j.a,it),j.isMounted=!0,k=_=et=null}};j.scope.on();const ft=j.effect=new hp(ut);j.scope.off();const ot=j.update=ft.run.bind(ft),rt=j.job=ft.runIfDirty.bind(ft);rt.i=j,rt.id=j.uid,ft.scheduler=()=>Pu(rt),rn(j,!0),ot()},O=(j,k,_)=>{k.component=j;const et=j.vnode.props;j.vnode=k,j.next=null,Yy(j,k.props,et,_),Qy(j,k.children,_),js(),Dd(j),Js()},B=(j,k,_,et,it,st,nt,ut,ft=!1)=>{const ot=j&&j.children,rt=j?j.shapeFlag:0,lt=k.children,{patchFlag:dt,shapeFlag:xt}=k;if(dt>0){if(dt&128){W(ot,lt,_,et,it,st,nt,ut,ft);return}else if(dt&256){U(ot,lt,_,et,it,st,nt,ut,ft);return}}xt&8?(rt&16&&b(ot,it,st),lt!==ot&&m(_,lt)):rt&16?xt&16?W(ot,lt,_,et,it,st,nt,ut,ft):b(ot,it,st,!0):(rt&8&&m(_,""),xt&16&&T(lt,_,et,it,st,nt,ut,ft))},U=(j,k,_,et,it,st,nt,ut,ft)=>{j=j||Yn,k=k||Yn;const ot=j.length,rt=k.length,lt=Math.min(ot,rt);let dt;for(dt=0;dt<lt;dt++){const xt=k[dt]=ft?Ps(k[dt]):Gi(k[dt]);n(j[dt],xt,_,null,it,st,nt,ut,ft)}ot>rt?b(j,it,st,!0,!1,lt):T(k,_,et,it,st,nt,ut,ft,lt)},W=(j,k,_,et,it,st,nt,ut,ft)=>{let ot=0;const rt=k.length;let lt=j.length-1,dt=rt-1;for(;ot<=lt&&ot<=dt;){const xt=j[ot],yt=k[ot]=ft?Ps(k[ot]):Gi(k[ot]);if(un(xt,yt))n(xt,yt,_,null,it,st,nt,ut,ft);else break;ot++}for(;ot<=lt&&ot<=dt;){const xt=j[lt],yt=k[dt]=ft?Ps(k[dt]):Gi(k[dt]);if(un(xt,yt))n(xt,yt,_,null,it,st,nt,ut,ft);else break;lt--,dt--}if(ot>lt){if(ot<=dt){const xt=dt+1,yt=xt<rt?k[xt].el:et;for(;ot<=dt;)n(null,k[ot]=ft?Ps(k[ot]):Gi(k[ot]),_,yt,it,st,nt,ut,ft),ot++}}else if(ot>dt)for(;ot<=lt;)Y(j[ot],it,st,!0),ot++;else{const xt=ot,yt=ot,Ct=new Map;for(ot=yt;ot<=dt;ot++){const jt=k[ot]=ft?Ps(k[ot]):Gi(k[ot]);jt.key!=null&&Ct.set(jt.key,ot)}let St,Lt=0;const zt=dt-yt+1;let qt=!1,Nt=0;const Zt=new Array(zt);for(ot=0;ot<zt;ot++)Zt[ot]=0;for(ot=xt;ot<=lt;ot++){const jt=j[ot];if(Lt>=zt){Y(jt,it,st,!0);continue}let Se;if(jt.key!=null)Se=Ct.get(jt.key);else for(St=yt;St<=dt;St++)if(Zt[St-yt]===0&&un(jt,k[St])){Se=St;break}Se===void 0?Y(jt,it,st,!0):(Zt[Se-yt]=ot+1,Se>=Nt?Nt=Se:qt=!0,n(jt,k[Se],_,null,it,st,nt,ut,ft),Lt++)}const he=qt?ky(Zt):Yn;for(St=he.length-1,ot=zt-1;ot>=0;ot--){const jt=yt+ot,Se=k[jt],pi=jt+1<rt?k[jt+1].el:et;Zt[ot]===0?n(null,Se,_,pi,it,st,nt,ut,ft):qt&&(St<0||ot!==he[St]?H(Se,_,pi,2):St--)}}},H=(j,k,_,et,it=null)=>{const{el:st,type:nt,transition:ut,children:ft,shapeFlag:ot}=j;if(ot&6){H(j.component.subTree,k,_,et);return}if(ot&128){j.suspense.move(k,_,et);return}if(ot&64){nt.move(j,k,_,Z);return}if(nt===de){C(st,k,_);for(let lt=0;lt<ft.length;lt++)H(ft[lt],k,_,et);C(j.anchor,k,_);return}if(nt===nl){f(j,k,_);return}if(et!==2&&ot&1&&ut)if(et===0)ut.beforeEnter(st),C(st,k,_),ti(()=>ut.enter(st),it);else{const{leave:lt,delayLeave:dt,afterLeave:xt}=ut,yt=()=>C(st,k,_),Ct=()=>{lt(st,()=>{yt(),xt&&xt()})};dt?dt(st,yt,Ct):Ct()}else C(st,k,_)},Y=(j,k,_,et=!1,it=!1)=>{const{type:st,props:nt,ref:ut,children:ft,dynamicChildren:ot,shapeFlag:rt,patchFlag:lt,dirs:dt,cacheIndex:xt}=j;if(lt===-2&&(it=!1),ut!=null&&wo(ut,null,_,j,!0),xt!=null&&(k.renderCache[xt]=void 0),rt&256){k.ctx.deactivate(j);return}const yt=rt&1&&dt,Ct=!$n(j);let St;if(Ct&&(St=nt&&nt.onVnodeBeforeUnmount)&&Ni(St,k,j),rt&6)V(j.component,_,et);else{if(rt&128){j.suspense.unmount(_,et);return}yt&&nn(j,null,k,"beforeUnmount"),rt&64?j.type.remove(j,k,_,Z,et):ot&&!ot.hasOnce&&(st!==de||lt>0&&lt&64)?b(ot,k,_,!1,!0):(st===de&&lt&384||!it&&rt&16)&&b(ft,k,_),et&&G(j)}(Ct&&(St=nt&&nt.onVnodeUnmounted)||yt)&&ti(()=>{St&&Ni(St,k,j),yt&&nn(j,null,k,"unmounted")},_)},G=j=>{const{type:k,el:_,anchor:et,transition:it}=j;if(k===de){X(_,et);return}if(k===nl){d(j);return}const st=()=>{R(_),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(j.shapeFlag&1&&it&&!it.persisted){const{leave:nt,delayLeave:ut}=it,ft=()=>nt(_,st);ut?ut(j.el,st,ft):ft()}else st()},X=(j,k)=>{let _;for(;j!==k;)_=a(j),R(j),j=_;R(k)},V=(j,k,_)=>{const{bum:et,scope:it,job:st,subTree:nt,um:ut,m:ft,a:ot}=j;Wd(ft),Wd(ot),et&&no(et),it.stop(),st&&(st.flags|=8,Y(nt,j,k,_)),ut&&ti(ut,k),ti(()=>{j.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},b=(j,k,_,et=!1,it=!1,st=0)=>{for(let nt=st;nt<j.length;nt++)Y(j[nt],k,_,et,it)},z=j=>{if(j.shapeFlag&6)return z(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const k=a(j.anchor||j.el),_=k&&k[Fp];return _?a(_):k};let $=!1;const Q=(j,k,_)=>{j==null?k._vnode&&Y(k._vnode,null,null,!0):n(k._vnode||null,j,k,null,null,null,_),k._vnode=j,$||($=!0,Dd(),Mp(),$=!1)},Z={p:n,um:Y,m:H,r:G,mt:D,mc:T,pc:B,pbc:A,n:z,o:x};return{render:Q,hydrate:void 0,createApp:Uy(Q)}}function sl({type:x,props:i},p){return p==="svg"&&x==="foreignObject"||p==="mathml"&&x==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:p}function rn({effect:x,job:i},p){p?(x.flags|=32,i.flags|=4):(x.flags&=-33,i.flags&=-5)}function Zy(x,i){return(!x||x&&!x.pendingBranch)&&i&&!i.persisted}function wu(x,i,p=!1){const C=x.children,R=i.children;if(It(C)&&It(R))for(let I=0;I<C.length;I++){const c=C[I];let S=R[I];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=R[I]=Ps(R[I]),S.el=c.el),!p&&S.patchFlag!==-2&&wu(c,S)),S.type===lh&&(S.el=c.el)}}function ky(x){const i=x.slice(),p=[0];let C,R,I,c,S;const t=x.length;for(C=0;C<t;C++){const h=x[C];if(h!==0){if(R=p[p.length-1],x[R]<h){i[C]=R,p.push(C);continue}for(I=0,c=p.length-1;I<c;)S=I+c>>1,x[p[S]]<h?I=S+1:c=S;h<x[p[I]]&&(I>0&&(i[C]=p[I-1]),p[I]=C)}}for(I=p.length,c=p[I-1];I-- >0;)p[I]=c,c=i[c];return p}function sm(x){const i=x.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:sm(i)}function Wd(x){if(x)for(let i=0;i<x.length;i++)x[i].flags|=8}const qy=Symbol.for("v-scx"),_y=()=>Qn(qy);function t1(x,i){return Mu(x,null,{flush:"sync"})}function li(x,i,p){return Mu(x,i,p)}function Mu(x,i,p=te){const{immediate:C,deep:R,flush:I,once:c}=p,S=Le({},p),t=i&&C||!i&&I!=="post";let h;if(sa){if(I==="sync"){const r=_y();h=r.__watcherHandles||(r.__watcherHandles=[])}else if(!t){const r=()=>{};return r.stop=Ui,r.resume=Ui,r.pause=Ui,r}}const m=De;S.call=(r,e,n)=>Ii(r,m,e,n);let o=!1;I==="post"?S.scheduler=r=>{ti(r,m&&m.suspense)}:I!=="sync"&&(o=!0,S.scheduler=(r,e)=>{e?r():Pu(r)}),S.augmentJob=r=>{i&&(r.flags|=4),o&&(r.flags|=2,m&&(r.id=m.uid,r.i=m))};const a=fy(x,i,S);return sa&&(h?h.push(a):t&&a()),a}function e1(x,i,p){const C=this.proxy,R=Te(x)?x.includes(".")?nm(C,x):()=>C[x]:x.bind(C,C);let I;Gt(i)?I=i:(I=i.handler,p=i);const c=ma(this),S=Mu(R,I.bind(C),p);return c(),S}function nm(x,i){const p=i.split(".");return()=>{let C=x;for(let R=0;R<p.length&&C;R++)C=C[p[R]];return C}}function Fi(x,i,p=te){const C=uh(),R=Mi(i),I=ds(i),c=rm(x,R),S=sy((t,h)=>{let m,o=te,a;return t1(()=>{const r=x[R];oi(m,r)&&(m=r,h())}),{get(){return t(),p.get?p.get(m):m},set(r){const e=p.set?p.set(r):r;if(!oi(e,m)&&!(o!==te&&oi(r,o)))return;const n=C.vnode.props;n&&(i in n||R in n||I in n)&&(`onUpdate:${i}`in n||`onUpdate:${R}`in n||`onUpdate:${I}`in n)||(m=r,h()),C.emit(`update:${i}`,e),oi(r,e)&&oi(r,o)&&!oi(e,a)&&h(),o=r,a=e}}});return S[Symbol.iterator]=()=>{let t=0;return{next(){return t<2?{value:t++?c||te:S,done:!1}:{done:!0}}}},S}const rm=(x,i)=>i==="modelValue"||i==="model-value"?x.modelModifiers:x[`${i}Modifiers`]||x[`${Mi(i)}Modifiers`]||x[`${ds(i)}Modifiers`];function i1(x,i,...p){if(x.isUnmounted)return;const C=x.vnode.props||te;let R=p;const I=i.startsWith("update:"),c=I&&rm(C,i.slice(7));c&&(c.trim&&(R=p.map(m=>Te(m)?m.trim():m)),c.number&&(R=p.map(So)));let S,t=C[S=Zh(i)]||C[S=Zh(Mi(i))];!t&&I&&(t=C[S=Zh(ds(i))]),t&&Ii(t,x,6,R);const h=C[S+"Once"];if(h){if(!x.emitted)x.emitted={};else if(x.emitted[S])return;x.emitted[S]=!0,Ii(h,x,6,R)}}function am(x,i,p=!1){const C=i.emitsCache,R=C.get(x);if(R!==void 0)return R;const I=x.emits;let c={},S=!1;if(!Gt(x)){const t=h=>{const m=am(h,i,!0);m&&(S=!0,Le(c,m))};!p&&i.mixins.length&&i.mixins.forEach(t),x.extends&&t(x.extends),x.mixins&&x.mixins.forEach(t)}return!I&&!S?(le(x)&&C.set(x,null),null):(It(I)?I.forEach(t=>c[t]=null):Le(c,I),le(x)&&C.set(x,c),c)}function hh(x,i){return!x||!qo(i)?!1:(i=i.slice(2).replace(/Once$/,""),ie(x,i[0].toLowerCase()+i.slice(1))||ie(x,ds(i))||ie(x,i))}function Yd(x){const{type:i,vnode:p,proxy:C,withProxy:R,propsOptions:[I],slots:c,attrs:S,emit:t,render:h,renderCache:m,props:o,data:a,setupState:r,ctx:e,inheritAttrs:n}=x,l=Ro(x);let s,u;try{if(p.shapeFlag&4){const d=R||C,v=d;s=Gi(h.call(v,d,m,o,r,a,e)),u=S}else{const d=i;s=Gi(d.length>1?d(o,{attrs:S,slots:c,emit:t}):d(o,null)),u=i.props?S:s1(S)}}catch(d){Wr.length=0,nh(d,x,1),s=Rt(si)}let f=s;if(u&&n!==!1){const d=Object.keys(u),{shapeFlag:v}=f;d.length&&v&7&&(I&&d.some(du)&&(u=n1(u,I)),f=Us(f,u,!1,!0))}return p.dirs&&(f=Us(f,null,!1,!0),f.dirs=f.dirs?f.dirs.concat(p.dirs):p.dirs),p.transition&&ta(f,p.transition),s=f,Ro(l),s}const s1=x=>{let i;for(const p in x)(p==="class"||p==="style"||qo(p))&&((i||(i={}))[p]=x[p]);return i},n1=(x,i)=>{const p={};for(const C in x)(!du(C)||!(C.slice(9)in i))&&(p[C]=x[C]);return p};function r1(x,i,p){const{props:C,children:R,component:I}=x,{props:c,children:S,patchFlag:t}=i,h=I.emitsOptions;if(i.dirs||i.transition)return!0;if(p&&t>=0){if(t&1024)return!0;if(t&16)return C?Hd(C,c,h):!!c;if(t&8){const m=i.dynamicProps;for(let o=0;o<m.length;o++){const a=m[o];if(c[a]!==C[a]&&!hh(h,a))return!0}}}else return(R||S)&&(!S||!S.$stable)?!0:C===c?!1:C?c?Hd(C,c,h):!0:!!c;return!1}function Hd(x,i,p){const C=Object.keys(i);if(C.length!==Object.keys(x).length)return!0;for(let R=0;R<C.length;R++){const I=C[R];if(i[I]!==x[I]&&!hh(p,I))return!0}return!1}function a1({vnode:x,parent:i},p){for(;i;){const C=i.subTree;if(C.suspense&&C.suspense.activeBranch===x&&(C.el=x.el),C===x)(x=i.vnode).el=p,i=i.parent;else break}}const om=x=>x.__isSuspense;function o1(x,i){i&&i.pendingBranch?It(x)?i.effects.push(...x):i.effects.push(x):vy(x)}const de=Symbol.for("v-fgt"),lh=Symbol.for("v-txt"),si=Symbol.for("v-cmt"),nl=Symbol.for("v-stc"),Wr=[];let ci=null;function gt(x=!1){Wr.push(ci=x?null:[])}function h1(){Wr.pop(),ci=Wr[Wr.length-1]||null}let ea=1;function Kd(x,i=!1){ea+=x,x<0&&ci&&i&&(ci.hasOnce=!0)}function hm(x){return x.dynamicChildren=ea>0?ci||Yn:null,h1(),ea>0&&ci&&ci.push(x),x}function Tt(x,i,p,C,R,I){return hm(wt(x,i,p,C,R,I,!0))}function Re(x,i,p,C,R){return hm(Rt(x,i,p,C,R,!0))}function ia(x){return x?x.__v_isVNode===!0:!1}function un(x,i){return x.type===i.type&&x.key===i.key}const lm=({key:x})=>x??null,ao=({ref:x,ref_key:i,ref_for:p})=>(typeof x=="number"&&(x=""+x),x!=null?Te(x)||oe(x)||Gt(x)?{i:we,r:x,k:i,f:!!p}:x:null);function wt(x,i=null,p=null,C=0,R=null,I=x===de?0:1,c=!1,S=!1){const t={__v_isVNode:!0,__v_skip:!0,type:x,props:i,key:i&&lm(i),ref:i&&ao(i),scopeId:Lp,slotScopeIds:null,children:p,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:I,patchFlag:C,dynamicProps:R,dynamicChildren:null,appContext:null,ctx:we};return S?(Iu(t,p),I&128&&x.normalize(t)):p&&(t.shapeFlag|=Te(p)?8:16),ea>0&&!c&&ci&&(t.patchFlag>0||I&6)&&t.patchFlag!==32&&ci.push(t),t}const Rt=l1;function l1(x,i=null,p=null,C=0,R=null,I=!1){if((!x||x===Iy)&&(x=si),ia(x)){const S=Us(x,i,!0);return p&&Iu(S,p),ea>0&&!I&&ci&&(S.shapeFlag&6?ci[ci.indexOf(x)]=S:ci.push(S)),S.patchFlag=-2,S}if(x1(x)&&(x=x.__vccOpts),i){i=u1(i);let{class:S,style:t}=i;S&&!Te(S)&&(i.class=kt(S)),le(t)&&(Su(t)&&!It(t)&&(t=Le({},t)),i.style=Je(t))}const c=Te(x)?1:om(x)?128:Dp(x)?64:le(x)?4:Gt(x)?2:0;return wt(x,i,p,C,R,c,I,!0)}function u1(x){return x?Su(x)||Zp(x)?Le({},x):x:null}function Us(x,i,p=!1,C=!1){const{props:R,ref:I,patchFlag:c,children:S,transition:t}=x,h=i?f1(R||{},i):R,m={__v_isVNode:!0,__v_skip:!0,type:x.type,props:h,key:h&&lm(h),ref:i&&i.ref?p&&I?It(I)?I.concat(ao(i)):[I,ao(i)]:ao(i):I,scopeId:x.scopeId,slotScopeIds:x.slotScopeIds,children:S,target:x.target,targetStart:x.targetStart,targetAnchor:x.targetAnchor,staticCount:x.staticCount,shapeFlag:x.shapeFlag,patchFlag:i&&x.type!==de?c===-1?16:c|16:c,dynamicProps:x.dynamicProps,dynamicChildren:x.dynamicChildren,appContext:x.appContext,dirs:x.dirs,transition:t,component:x.component,suspense:x.suspense,ssContent:x.ssContent&&Us(x.ssContent),ssFallback:x.ssFallback&&Us(x.ssFallback),el:x.el,anchor:x.anchor,ctx:x.ctx,ce:x.ce};return t&&C&&ta(m,t.clone(m)),m}function se(x=" ",i=0){return Rt(lh,null,x,i)}function Wt(x="",i=!1){return i?(gt(),Re(si,null,x)):Rt(si,null,x)}function Gi(x){return x==null||typeof x=="boolean"?Rt(si):It(x)?Rt(de,null,x.slice()):ia(x)?Ps(x):Rt(lh,null,String(x))}function Ps(x){return x.el===null&&x.patchFlag!==-1||x.memo?x:Us(x)}function Iu(x,i){let p=0;const{shapeFlag:C}=x;if(i==null)i=null;else if(It(i))p=16;else if(typeof i=="object")if(C&65){const R=i.default;R&&(R._c&&(R._d=!1),Iu(x,R()),R._c&&(R._d=!0));return}else{p=32;const R=i._;!R&&!Zp(i)?i._ctx=we:R===3&&we&&(we.slots._===1?i._=1:(i._=2,x.patchFlag|=1024))}else Gt(i)?(i={default:i,_ctx:we},p=32):(i=String(i),C&64?(p=16,i=[se(i)]):p=8);x.children=i,x.shapeFlag|=p}function f1(...x){const i={};for(let p=0;p<x.length;p++){const C=x[p];for(const R in C)if(R==="class")i.class!==C.class&&(i.class=kt([i.class,C.class]));else if(R==="style")i.style=Je([i.style,C.style]);else if(qo(R)){const I=i[R],c=C[R];c&&I!==c&&!(It(I)&&I.includes(c))&&(i[R]=I?[].concat(I,c):c)}else R!==""&&(i[R]=C[R])}return i}function Ni(x,i,p,C=null){Ii(x,i,7,[p,C])}const d1=Qp();let c1=0;function v1(x,i,p){const C=x.type,R=(i?i.appContext:x.appContext)||d1,I={uid:c1++,vnode:x,type:C,parent:i,appContext:R,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(R.provides),ids:i?i.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qp(C,R),emitsOptions:am(C,R),emit:null,emitted:null,propsDefaults:te,inheritAttrs:C.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:p,suspenseId:p?p.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return I.ctx={_:I},I.root=i?i.root:I,I.emit=i1.bind(null,I),x.ce&&x.ce(I),I}let De=null;const uh=()=>De||we;let Lo,Nl;{const x=th(),i=(p,C)=>{let R;return(R=x[p])||(R=x[p]=[]),R.push(C),I=>{R.length>1?R.forEach(c=>c(I)):R[0](I)}};Lo=i("__VUE_INSTANCE_SETTERS__",p=>De=p),Nl=i("__VUE_SSR_SETTERS__",p=>sa=p)}const ma=x=>{const i=De;return Lo(x),x.scope.on(),()=>{x.scope.off(),Lo(i)}},$d=()=>{De&&De.scope.off(),Lo(null)};function um(x){return x.vnode.shapeFlag&4}let sa=!1;function p1(x,i=!1,p=!1){i&&Nl(i);const{props:C,children:R}=x.vnode,I=um(x);Wy(x,C,I,i),$y(x,R,p);const c=I?m1(x,i):void 0;return i&&Nl(!1),c}function m1(x,i){const p=x.type;x.accessCache=Object.create(null),x.proxy=new Proxy(x.ctx,Fy);const{setup:C}=p;if(C){js();const R=x.setupContext=C.length>1?dm(x):null,I=ma(x),c=pa(C,x,0,[x.props,R]),S=qv(c);if(Js(),I(),(S||x.sp)&&!$n(x)&&zp(x),S){if(c.then($d,$d),i)return c.then(t=>{Qd(x,t)}).catch(t=>{nh(t,x,0)});x.asyncDep=c}else Qd(x,c)}else fm(x)}function Qd(x,i,p){Gt(i)?x.type.__ssrInlineRender?x.ssrRender=i:x.render=i:le(i)&&(x.setupState=Ap(i)),fm(x)}function fm(x,i,p){const C=x.type;x.render||(x.render=C.render||Ui);{const R=ma(x);js();try{Oy(x)}finally{Js(),R()}}}const g1={get(x,i){return $e(x,"get",""),x[i]}};function dm(x){const i=p=>{x.exposed=p||{}};return{attrs:new Proxy(x.attrs,g1),slots:x.slots,emit:x.emit,expose:i}}function fh(x){return x.exposed?x.exposeProxy||(x.exposeProxy=new Proxy(Ap(Cu(x.exposed)),{get(i,p){if(p in i)return i[p];if(p in Xr)return Xr[p](x)},has(i,p){return p in i||p in Xr}})):x.proxy}function x1(x){return Gt(x)&&"__vccOpts"in x}const Dt=(x,i)=>ly(x,i,sa);function y1(x,i,p){const C=arguments.length;return C===2?le(i)&&!It(i)?ia(i)?Rt(x,null,[i]):Rt(x,i):Rt(x,null,i):(C>3?p=Array.prototype.slice.call(arguments,2):C===3&&ia(p)&&(p=[p]),Rt(x,i,p))}const T1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bl;const jd=typeof window<"u"&&window.trustedTypes;if(jd)try{Bl=jd.createPolicy("vue",{createHTML:x=>x})}catch{}const cm=Bl?x=>Bl.createHTML(x):x=>x,E1="http://www.w3.org/2000/svg",S1="http://www.w3.org/1998/Math/MathML",ki=typeof document<"u"?document:null,Jd=ki&&ki.createElement("template"),C1={insert:(x,i,p)=>{i.insertBefore(x,p||null)},remove:x=>{const i=x.parentNode;i&&i.removeChild(x)},createElement:(x,i,p,C)=>{const R=i==="svg"?ki.createElementNS(E1,x):i==="mathml"?ki.createElementNS(S1,x):p?ki.createElement(x,{is:p}):ki.createElement(x);return x==="select"&&C&&C.multiple!=null&&R.setAttribute("multiple",C.multiple),R},createText:x=>ki.createTextNode(x),createComment:x=>ki.createComment(x),setText:(x,i)=>{x.nodeValue=i},setElementText:(x,i)=>{x.textContent=i},parentNode:x=>x.parentNode,nextSibling:x=>x.nextSibling,querySelector:x=>ki.querySelector(x),setScopeId(x,i){x.setAttribute(i,"")},insertStaticContent(x,i,p,C,R,I){const c=p?p.previousSibling:i.lastChild;if(R&&(R===I||R.nextSibling))for(;i.insertBefore(R.cloneNode(!0),p),!(R===I||!(R=R.nextSibling)););else{Jd.innerHTML=cm(C==="svg"?`<svg>${x}</svg>`:C==="mathml"?`<math>${x}</math>`:x);const S=Jd.content;if(C==="svg"||C==="mathml"){const t=S.firstChild;for(;t.firstChild;)S.appendChild(t.firstChild);S.removeChild(t)}i.insertBefore(S,p)}return[c?c.nextSibling:i.firstChild,p?p.previousSibling:i.lastChild]}},Ts="transition",Lr="animation",na=Symbol("_vtc"),vm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},A1=Le({},Bp,vm),P1=x=>(x.displayName="Transition",x.props=A1,x),R1=P1((x,{slots:i})=>y1(xy,w1(x),i)),an=(x,i=[])=>{It(x)?x.forEach(p=>p(...i)):x&&x(...i)},Zd=x=>x?It(x)?x.some(i=>i.length>1):x.length>1:!1;function w1(x){const i={};for(const w in x)w in vm||(i[w]=x[w]);if(x.css===!1)return i;const{name:p="v",type:C,duration:R,enterFromClass:I=`${p}-enter-from`,enterActiveClass:c=`${p}-enter-active`,enterToClass:S=`${p}-enter-to`,appearFromClass:t=I,appearActiveClass:h=c,appearToClass:m=S,leaveFromClass:o=`${p}-leave-from`,leaveActiveClass:a=`${p}-leave-active`,leaveToClass:r=`${p}-leave-to`}=x,e=M1(R),n=e&&e[0],l=e&&e[1],{onBeforeEnter:s,onEnter:u,onEnterCancelled:f,onLeave:d,onLeaveCancelled:v,onBeforeAppear:g=s,onAppear:y=u,onAppearCancelled:T=f}=i,E=(w,M,D,F)=>{w._enterCancelled=F,on(w,M?m:S),on(w,M?h:c),D&&D()},A=(w,M)=>{w._isLeaving=!1,on(w,o),on(w,r),on(w,a),M&&M()},P=w=>(M,D)=>{const F=w?y:u,L=()=>E(M,w,D);an(F,[M,L]),kd(()=>{on(M,w?t:I),Zi(M,w?m:S),Zd(F)||qd(M,C,n,L)})};return Le(i,{onBeforeEnter(w){an(s,[w]),Zi(w,I),Zi(w,c)},onBeforeAppear(w){an(g,[w]),Zi(w,t),Zi(w,h)},onEnter:P(!1),onAppear:P(!0),onLeave(w,M){w._isLeaving=!0;const D=()=>A(w,M);Zi(w,o),w._enterCancelled?(Zi(w,a),ec()):(ec(),Zi(w,a)),kd(()=>{w._isLeaving&&(on(w,o),Zi(w,r),Zd(d)||qd(w,C,l,D))}),an(d,[w,D])},onEnterCancelled(w){E(w,!1,void 0,!0),an(f,[w])},onAppearCancelled(w){E(w,!0,void 0,!0),an(T,[w])},onLeaveCancelled(w){A(w),an(v,[w])}})}function M1(x){if(x==null)return null;if(le(x))return[rl(x.enter),rl(x.leave)];{const i=rl(x);return[i,i]}}function rl(x){return Ax(x)}function Zi(x,i){i.split(/\s+/).forEach(p=>p&&x.classList.add(p)),(x[na]||(x[na]=new Set)).add(i)}function on(x,i){i.split(/\s+/).forEach(C=>C&&x.classList.remove(C));const p=x[na];p&&(p.delete(i),p.size||(x[na]=void 0))}function kd(x){requestAnimationFrame(()=>{requestAnimationFrame(x)})}let I1=0;function qd(x,i,p,C){const R=x._endId=++I1,I=()=>{R===x._endId&&C()};if(p!=null)return setTimeout(I,p);const{type:c,timeout:S,propCount:t}=L1(x,i);if(!c)return C();const h=c+"end";let m=0;const o=()=>{x.removeEventListener(h,a),I()},a=r=>{r.target===x&&++m>=t&&o()};setTimeout(()=>{m<t&&o()},S+1),x.addEventListener(h,a)}function L1(x,i){const p=window.getComputedStyle(x),C=e=>(p[e]||"").split(", "),R=C(`${Ts}Delay`),I=C(`${Ts}Duration`),c=_d(R,I),S=C(`${Lr}Delay`),t=C(`${Lr}Duration`),h=_d(S,t);let m=null,o=0,a=0;i===Ts?c>0&&(m=Ts,o=c,a=I.length):i===Lr?h>0&&(m=Lr,o=h,a=t.length):(o=Math.max(c,h),m=o>0?c>h?Ts:Lr:null,a=m?m===Ts?I.length:t.length:0);const r=m===Ts&&/\b(transform|all)(,|$)/.test(C(`${Ts}Property`).toString());return{type:m,timeout:o,propCount:a,hasTransform:r}}function _d(x,i){for(;x.length<i.length;)x=x.concat(x);return Math.max(...i.map((p,C)=>tc(p)+tc(x[C])))}function tc(x){return x==="auto"?0:Number(x.slice(0,-1).replace(",","."))*1e3}function ec(){return document.body.offsetHeight}function F1(x,i,p){const C=x[na];C&&(i=(i?[i,...C]:[...C]).join(" ")),i==null?x.removeAttribute("class"):p?x.setAttribute("class",i):x.className=i}const ic=Symbol("_vod"),D1=Symbol("_vsh"),O1=Symbol(""),N1=/(^|;)\s*display\s*:/;function B1(x,i,p){const C=x.style,R=Te(p);let I=!1;if(p&&!R){if(i)if(Te(i))for(const c of i.split(";")){const S=c.slice(0,c.indexOf(":")).trim();p[S]==null&&oo(C,S,"")}else for(const c in i)p[c]==null&&oo(C,c,"");for(const c in p)c==="display"&&(I=!0),oo(C,c,p[c])}else if(R){if(i!==p){const c=C[O1];c&&(p+=";"+c),C.cssText=p,I=N1.test(p)}}else i&&x.removeAttribute("style");ic in x&&(x[ic]=I?C.display:"",x[D1]&&(C.display="none"))}const sc=/\s*!important$/;function oo(x,i,p){if(It(p))p.forEach(C=>oo(x,i,C));else if(p==null&&(p=""),i.startsWith("--"))x.setProperty(i,p);else{const C=b1(x,i);sc.test(p)?x.setProperty(ds(C),p.replace(sc,""),"important"):x[C]=p}}const nc=["Webkit","Moz","ms"],al={};function b1(x,i){const p=al[i];if(p)return p;let C=Mi(i);if(C!=="filter"&&C in x)return al[i]=C;C=pu(C);for(let R=0;R<nc.length;R++){const I=nc[R]+C;if(I in x)return al[i]=I}return i}const rc="http://www.w3.org/1999/xlink";function ac(x,i,p,C,R,I=Lx(i)){C&&i.startsWith("xlink:")?p==null?x.removeAttributeNS(rc,i.slice(6,i.length)):x.setAttributeNS(rc,i,p):p==null||I&&!ip(p)?x.removeAttribute(i):x.setAttribute(i,I?"":wi(p)?String(p):p)}function oc(x,i,p,C,R){if(i==="innerHTML"||i==="textContent"){p!=null&&(x[i]=i==="innerHTML"?cm(p):p);return}const I=x.tagName;if(i==="value"&&I!=="PROGRESS"&&!I.includes("-")){const S=I==="OPTION"?x.getAttribute("value")||"":x.value,t=p==null?x.type==="checkbox"?"on":"":String(p);(S!==t||!("_value"in x))&&(x.value=t),p==null&&x.removeAttribute(i),x._value=p;return}let c=!1;if(p===""||p==null){const S=typeof x[i];S==="boolean"?p=ip(p):p==null&&S==="string"?(p="",c=!0):S==="number"&&(p=0,c=!0)}try{x[i]=p}catch{}c&&x.removeAttribute(R||i)}function ts(x,i,p,C){x.addEventListener(i,p,C)}function V1(x,i,p,C){x.removeEventListener(i,p,C)}const hc=Symbol("_vei");function G1(x,i,p,C,R=null){const I=x[hc]||(x[hc]={}),c=I[i];if(C&&c)c.value=C;else{const[S,t]=U1(i);if(C){const h=I[i]=W1(C,R);ts(x,S,h,t)}else c&&(V1(x,S,c,t),I[i]=void 0)}}const lc=/(?:Once|Passive|Capture)$/;function U1(x){let i;if(lc.test(x)){i={};let C;for(;C=x.match(lc);)x=x.slice(0,x.length-C[0].length),i[C[0].toLowerCase()]=!0}return[x[2]===":"?x.slice(3):ds(x.slice(2)),i]}let ol=0;const z1=Promise.resolve(),X1=()=>ol||(z1.then(()=>ol=0),ol=Date.now());function W1(x,i){const p=C=>{if(!C._vts)C._vts=Date.now();else if(C._vts<=p.attached)return;Ii(Y1(C,p.value),i,5,[C])};return p.value=x,p.attached=X1(),p}function Y1(x,i){if(It(i)){const p=x.stopImmediatePropagation;return x.stopImmediatePropagation=()=>{p.call(x),x._stopped=!0},i.map(C=>R=>!R._stopped&&C&&C(R))}else return i}const uc=x=>x.charCodeAt(0)===111&&x.charCodeAt(1)===110&&x.charCodeAt(2)>96&&x.charCodeAt(2)<123,H1=(x,i,p,C,R,I)=>{const c=R==="svg";i==="class"?F1(x,C,c):i==="style"?B1(x,p,C):qo(i)?du(i)||G1(x,i,p,C,I):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):K1(x,i,C,c))?(oc(x,i,C),!x.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&ac(x,i,C,c,I,i!=="value")):x._isVueCE&&(/[A-Z]/.test(i)||!Te(C))?oc(x,Mi(i),C,I,i):(i==="true-value"?x._trueValue=C:i==="false-value"&&(x._falseValue=C),ac(x,i,C,c))};function K1(x,i,p,C){if(C)return!!(i==="innerHTML"||i==="textContent"||i in x&&uc(i)&&Gt(p));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&x.tagName==="INPUT"||i==="type"&&x.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const R=x.tagName;if(R==="IMG"||R==="VIDEO"||R==="CANVAS"||R==="SOURCE")return!1}return uc(i)&&Te(p)?!1:i in x}const zs=x=>{const i=x.props["onUpdate:modelValue"]||!1;return It(i)?p=>no(i,p):i};function $1(x){x.target.composing=!0}function fc(x){const i=x.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const yi=Symbol("_assign"),qn={created(x,{modifiers:{lazy:i,trim:p,number:C}},R){x[yi]=zs(R);const I=C||R.props&&R.props.type==="number";ts(x,i?"change":"input",c=>{if(c.target.composing)return;let S=x.value;p&&(S=S.trim()),I&&(S=So(S)),x[yi](S)}),p&&ts(x,"change",()=>{x.value=x.value.trim()}),i||(ts(x,"compositionstart",$1),ts(x,"compositionend",fc),ts(x,"change",fc))},mounted(x,{value:i}){x.value=i??""},beforeUpdate(x,{value:i,oldValue:p,modifiers:{lazy:C,trim:R,number:I}},c){if(x[yi]=zs(c),x.composing)return;const S=(I||x.type==="number")&&!/^0\d/.test(x.value)?So(x.value):x.value,t=i??"";S!==t&&(document.activeElement===x&&x.type!=="range"&&(C&&i===p||R&&x.value.trim()===t)||(x.value=t))}},Lu={deep:!0,created(x,i,p){x[yi]=zs(p),ts(x,"change",()=>{const C=x._modelValue,R=_n(x),I=x.checked,c=x[yi];if(It(C)){const S=mu(C,R),t=S!==-1;if(I&&!t)c(C.concat(R));else if(!I&&t){const h=[...C];h.splice(S,1),c(h)}}else if(hr(C)){const S=new Set(C);I?S.add(R):S.delete(R),c(S)}else c(mm(x,I))})},mounted:dc,beforeUpdate(x,i,p){x[yi]=zs(p),dc(x,i,p)}};function dc(x,{value:i,oldValue:p},C){x._modelValue=i;let R;if(It(i))R=mu(i,C.props.value)>-1;else if(hr(i))R=i.has(C.props.value);else{if(i===p)return;R=gn(i,mm(x,!0))}x.checked!==R&&(x.checked=R)}const Q1={created(x,{value:i},p){x.checked=gn(i,p.props.value),x[yi]=zs(p),ts(x,"change",()=>{x[yi](_n(x))})},beforeUpdate(x,{value:i,oldValue:p},C){x[yi]=zs(C),i!==p&&(x.checked=gn(i,C.props.value))}},pm={deep:!0,created(x,{value:i,modifiers:{number:p}},C){const R=hr(i);ts(x,"change",()=>{const I=Array.prototype.filter.call(x.options,c=>c.selected).map(c=>p?So(_n(c)):_n(c));x[yi](x.multiple?R?new Set(I):I:I[0]),x._assigning=!0,Au(()=>{x._assigning=!1})}),x[yi]=zs(C)},mounted(x,{value:i}){cc(x,i)},beforeUpdate(x,i,p){x[yi]=zs(p)},updated(x,{value:i}){x._assigning||cc(x,i)}};function cc(x,i){const p=x.multiple,C=It(i);if(!(p&&!C&&!hr(i))){for(let R=0,I=x.options.length;R<I;R++){const c=x.options[R],S=_n(c);if(p)if(C){const t=typeof S;t==="string"||t==="number"?c.selected=i.some(h=>String(h)===String(S)):c.selected=mu(i,S)>-1}else c.selected=i.has(S);else if(gn(_n(c),i)){x.selectedIndex!==R&&(x.selectedIndex=R);return}}!p&&x.selectedIndex!==-1&&(x.selectedIndex=-1)}}function _n(x){return"_value"in x?x._value:x.value}function mm(x,i){const p=i?"_trueValue":"_falseValue";return p in x?x[p]:i}const j1={created(x,i,p){Ja(x,i,p,null,"created")},mounted(x,i,p){Ja(x,i,p,null,"mounted")},beforeUpdate(x,i,p,C){Ja(x,i,p,C,"beforeUpdate")},updated(x,i,p,C){Ja(x,i,p,C,"updated")}};function J1(x,i){switch(x){case"SELECT":return pm;case"TEXTAREA":return qn;default:switch(i){case"checkbox":return Lu;case"radio":return Q1;default:return qn}}}function Ja(x,i,p,C,R){const c=J1(x.tagName,p.props&&p.props.type)[R];c&&c(x,i,p,C)}const Z1=["ctrl","shift","alt","meta"],k1={stop:x=>x.stopPropagation(),prevent:x=>x.preventDefault(),self:x=>x.target!==x.currentTarget,ctrl:x=>!x.ctrlKey,shift:x=>!x.shiftKey,alt:x=>!x.altKey,meta:x=>!x.metaKey,left:x=>"button"in x&&x.button!==0,middle:x=>"button"in x&&x.button!==1,right:x=>"button"in x&&x.button!==2,exact:(x,i)=>Z1.some(p=>x[`${p}Key`]&&!i.includes(p))},ga=(x,i)=>{const p=x._withMods||(x._withMods={}),C=i.join(".");return p[C]||(p[C]=(R,...I)=>{for(let c=0;c<i.length;c++){const S=k1[i[c]];if(S&&S(R,i))return}return x(R,...I)})},q1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_1=(x,i)=>{const p=x._withKeys||(x._withKeys={}),C=i.join(".");return p[C]||(p[C]=R=>{if(!("key"in R))return;const I=ds(R.key);if(i.some(c=>c===I||q1[c]===I))return x(R)})},tT=Le({patchProp:H1},C1);let vc;function eT(){return vc||(vc=jy(tT))}const iT=(...x)=>{const i=eT().createApp(...x),{mount:p}=i;return i.mount=C=>{const R=nT(C);if(!R)return;const I=i._component;!Gt(I)&&!I.render&&!I.template&&(I.template=R.innerHTML),R.nodeType===1&&(R.textContent="");const c=p(R,!1,sT(R));return R instanceof Element&&(R.removeAttribute("v-cloak"),R.setAttribute("data-v-app","")),c},i};function sT(x){if(x instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&x instanceof MathMLElement)return"mathml"}function nT(x){return Te(x)?document.querySelector(x):x}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let gm;const dh=x=>gm=x,xm=Symbol();function bl(x){return x&&typeof x=="object"&&Object.prototype.toString.call(x)==="[object Object]"&&typeof x.toJSON!="function"}var Yr;(function(x){x.direct="direct",x.patchObject="patch object",x.patchFunction="patch function"})(Yr||(Yr={}));function rT(){const x=ap(!0),i=x.run(()=>bt({}));let p=[],C=[];const R=Cu({install(I){dh(R),R._a=I,I.provide(xm,R),I.config.globalProperties.$pinia=R,C.forEach(c=>p.push(c)),C=[]},use(I){return this._a?p.push(I):C.push(I),this},_p:p,_a:null,_e:x,_s:new Map,state:i});return R}const ym=()=>{};function pc(x,i,p,C=ym){x.push(i);const R=()=>{const I=x.indexOf(i);I>-1&&(x.splice(I,1),C())};return!p&&op()&&Dx(R),R}function bn(x,...i){x.slice().forEach(p=>{p(...i)})}const aT=x=>x(),mc=Symbol(),hl=Symbol();function Vl(x,i){x instanceof Map&&i instanceof Map?i.forEach((p,C)=>x.set(C,p)):x instanceof Set&&i instanceof Set&&i.forEach(x.add,x);for(const p in i){if(!i.hasOwnProperty(p))continue;const C=i[p],R=x[p];bl(R)&&bl(C)&&x.hasOwnProperty(p)&&!oe(C)&&!rs(C)?x[p]=Vl(R,C):x[p]=C}return x}const oT=Symbol();function hT(x){return!bl(x)||!x.hasOwnProperty(oT)}const{assign:Ss}=Object;function lT(x){return!!(oe(x)&&x.effect)}function uT(x,i,p,C){const{state:R,actions:I,getters:c}=i,S=p.state.value[x];let t;function h(){S||(p.state.value[x]=R?R():{});const m=ny(p.state.value[x]);return Ss(m,I,Object.keys(c||{}).reduce((o,a)=>(o[a]=Cu(Dt(()=>{dh(p);const r=p._s.get(x);return c[a].call(r,r)})),o),{}))}return t=Tm(x,h,i,p,C,!0),t}function Tm(x,i,p={},C,R,I){let c;const S=Ss({actions:{}},p),t={deep:!0};let h,m,o=[],a=[],r;const e=C.state.value[x];!I&&!e&&(C.state.value[x]={}),bt({});let n;function l(T){let E;h=m=!1,typeof T=="function"?(T(C.state.value[x]),E={type:Yr.patchFunction,storeId:x,events:r}):(Vl(C.state.value[x],T),E={type:Yr.patchObject,payload:T,storeId:x,events:r});const A=n=Symbol();Au().then(()=>{n===A&&(h=!0)}),m=!0,bn(o,E,C.state.value[x])}const s=I?function(){const{state:E}=p,A=E?E():{};this.$patch(P=>{Ss(P,A)})}:ym;function u(){c.stop(),o=[],a=[],C._s.delete(x)}const f=(T,E="")=>{if(mc in T)return T[hl]=E,T;const A=function(){dh(C);const P=Array.from(arguments),w=[],M=[];function D(O){w.push(O)}function F(O){M.push(O)}bn(a,{args:P,name:A[hl],store:v,after:D,onError:F});let L;try{L=T.apply(this&&this.$id===x?this:v,P)}catch(O){throw bn(M,O),O}return L instanceof Promise?L.then(O=>(bn(w,O),O)).catch(O=>(bn(M,O),Promise.reject(O))):(bn(w,L),L)};return A[mc]=!0,A[hl]=E,A},d={_p:C,$id:x,$onAction:pc.bind(null,a),$patch:l,$reset:s,$subscribe(T,E={}){const A=pc(o,T,E.detached,()=>P()),P=c.run(()=>li(()=>C.state.value[x],w=>{(E.flush==="sync"?m:h)&&T({storeId:x,type:Yr.direct,events:r},w)},Ss({},t,E)));return A},$dispose:u},v=sh(d);C._s.set(x,v);const y=(C._a&&C._a.runWithContext||aT)(()=>C._e.run(()=>(c=ap()).run(()=>i({action:f}))));for(const T in y){const E=y[T];if(oe(E)&&!lT(E)||rs(E))I||(e&&hT(E)&&(oe(E)?E.value=e[T]:Vl(E,e[T])),C.state.value[x][T]=E);else if(typeof E=="function"){const A=f(E,T);y[T]=A,S.actions[T]=E}}return Ss(v,y),Ss($t(v),y),Object.defineProperty(v,"$state",{get:()=>C.state.value[x],set:T=>{l(E=>{Ss(E,T)})}}),C._p.forEach(T=>{Ss(v,c.run(()=>T({store:v,app:C._a,pinia:C,options:S})))}),e&&I&&p.hydrate&&p.hydrate(v.$state,e),h=!0,m=!0,v}/*! #__NO_SIDE_EFFECTS__ */function wn(x,i,p){let C;const R=typeof i=="function";C=R?p:i;function I(c,S){const t=Xy();return c=c||(t?Qn(xm,null):null),c&&dh(c),c=gm,c._s.has(x)||(R?Tm(x,i,C,c):uT(x,C,c)),c._s.get(x)}return I.$id=x,I}function Ue(x){const i=$t(x),p={};for(const C in i){const R=i[C];R.effect?p[C]=Dt({get:()=>x[C],set(I){x[C]=I}}):(oe(R)||rs(R))&&(p[C]=oy(x,C))}return p}const fT={beforeMount(x,i){const p=R=>{!x.contains(R.target)&&typeof i.value=="function"&&i.value(R)},C=x.ownerDocument||document;x.__clickOutsideHandler__=p,C.addEventListener("click",p,i.modifiers.capture)},beforeUnmount(x,i){x.__clickOutsideHandler__&&((x.ownerDocument||document).removeEventListener("click",x.__clickOutsideHandler__,i.modifiers.capture),delete x.__clickOutsideHandler__)}},dT={install:(x,i={})=>{x.directive("click-outside",fT),x.provide("libEnv",i)}};var re=(x=>(x.Top="top",x.TopLeft="top-left",x.TopRight="top-right",x.Bottom="bottom",x.BottomLeft="bottom-left",x.BottomRight="bottom-right",x.Left="left",x.Right="right",x))(re||{}),ve=(x=>(x.Default="default",x.Primary="primary",x.Secondary="secondary",x.Success="success",x.Warning="warning",x.Danger="danger",x.Info="info",x))(ve||{}),Ht=(x=>(x.XSmall="xs",x.Small="sm",x.Medium="md",x.Large="lg",x.XLarge="xl",x))(Ht||{}),ze=(x=>(x.Solid="solid",x.Outline="outline",x.Ghost="ghost",x.Text="text",x))(ze||{}),Zs=(x=>(x.Rectangle="rectangle",x.Square="square",x.Circle="circle",x))(Zs||{}),Wn=(x=>(x.Image="image",x.Video="video",x.Audio="audio",x))(Wn||{}),Em=(x=>(x.Classic="classic",x.Modern="modern",x))(Em||{}),Hr=(x=>(x.Text="text",x.Password="password",x.Email="email",x.Number="number",x.Tel="tel",x.Url="url",x.Search="search",x.Date="date",x.Time="time",x.DateTimeLocal="datetime-local",x.Month="month",x.Week="week",x.Color="color",x))(Hr||{}),Sm=(x=>(x.Single="single",x.Multiple="multiple",x))(Sm||{}),Cm=(x=>(x.Esc="Escape",x))(Cm||{});class cT{static getFormattedMessage(i,p){let C=i,R=p;return(typeof i!="string"||!i.toLowerCase().startsWith("nyx"))&&(C="NYX",R=[i,...p]),`%c${C}%c ${R.join(" ")}`}static getPrefixStyle(){return"background: #9F50F0; color: white; padding: 4px 8px; border-radius: 2px; font-weight: bold; line-height: 1.5; margin-bottom: 4px; display: inline-flex;"}static getMessageStyle(i){switch(i){case"info":return"color: #4CAF50; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"warn":return"color: #FF9800; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"error":return"color: #F44336; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";default:return""}}static getArgsStrings(i){return i.filter(p=>typeof p=="string")}static getArgsOther(i){return i.filter(p=>typeof p!="string")}static getCaller(){const i=new Error().stack;return i?i.split(`
`)[3]??"unknown":"unknown"}static info(i,...p){console.log.apply(console,[this.getFormattedMessage(i,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("info"),...this.getArgsOther(p)])}static warn(i,...p){console.warn.apply(console,[this.getFormattedMessage(i,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("warn"),...this.getArgsOther(p)])}static error(i,...p){console.error.apply(console,[this.getFormattedMessage(i,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("error"),...this.getArgsOther(p)])}}const vT=x=>typeof x=="object"&&!Array.isArray(x)&&x!==null,Am=(x=16)=>{const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let p="";const C=i.length;for(let R=0;R<x;R++)p+=i.charAt(Math.floor(Math.random()*C));return p},pT=x=>{try{return new URL(x,window.location.origin).origin===window.location.origin}catch{return!1}},gi=(x,i,p)=>Math.max(i,Math.min(x,p)),Pm=(x,i,p=0)=>{const C=(x-p)%i;return C<i/2?x-C:x+(i-C)},Bi=(x,i,p=1)=>{const C=Math.random()*(i-x)+x;return Pm(C,p)},gc=x=>x===" "?"SPACE":x.toUpperCase(),xc=["ALT","SHIFT","CTRL","META"],mT=(x,i)=>{const p=xc.includes(x),C=xc.includes(i);return p&&!C?-1:!p&&C?1:0},gT=x=>{const i=new Set,p=R=>{const I=gc(R.key);i.add(I);const c=Array.from(i).sort(mT).join("+");x[c]&&(R.preventDefault(),x[c](R))},C=R=>{i.delete(gc(R.key))};vs(()=>{window.addEventListener("keydown",p),window.addEventListener("keyup",C)}),Pn(()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",C)})},xT=(x,i)=>{const p=C=>{C.key===x&&i(C)};vs(()=>{window.addEventListener("keydown",p)}),Pn(()=>{window.removeEventListener("keydown",p)})},Fu=(x,i,p)=>{const C=(p==null?void 0:p.position)??bt(re.Bottom),R=!!(p!=null&&p.isEqualWidth),I=Dt(()=>{var a;return((a=p==null?void 0:p.isUpdateAllowed)==null?void 0:a.value)!==!1}),c=(p==null?void 0:p.offsetX)??0,S=(p==null?void 0:p.offsetY)??0,t=Dt(()=>{var r;if(!((r=p==null?void 0:p.gap)!=null&&r.value))return 0;const a=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${p.gap.value}`)??"0";return a.endsWith("rem")?parseFloat(a)*16:parseFloat(a)}),h=bt({"--top":"0px","--left":"0px","--width":"auto"}),m=bt(C.value),o=()=>{if(!x.value||!i.value||!I.value)return;const a="getBoundingClientRect"in x.value?x.value.getBoundingClientRect():x.value.$el.getBoundingClientRect(),r="getBoundingClientRect"in i.value?i.value.getBoundingClientRect():i.value.$el.getBoundingClientRect(),{top:e,bottom:n,left:l,right:s,width:u,height:f}=a,{width:d,height:v}=r,g=R?u:d;let y=n,T=l;const E=n+v<=window.innerHeight,A=e-v>=0,P=l-d>=0,w=s+d<=window.innerWidth,M=D=>{switch(D){case re.BottomLeft:return E?D:re.TopLeft;case re.BottomRight:return E?D:re.TopRight;case re.Bottom:return E?D:re.Top;case re.TopLeft:return A?D:re.BottomLeft;case re.TopRight:return A?D:re.BottomRight;case re.Top:return A?D:re.Bottom;case re.Left:return P?D:re.Right;case re.Right:return w?D:re.Left;default:return D}};switch(m.value=M(C.value),m.value){case re.BottomLeft:y=n+t.value+S,T=l+c;break;case re.BottomRight:y=n+t.value+S,T=s-g+c;break;case re.Bottom:y=n+t.value+S,T=l+(u-g)/2+c;break;case re.TopLeft:y=e-v-t.value+S,T=l+c;break;case re.TopRight:y=e-v-t.value+S,T=s-g+c;break;case re.Top:y=e-v-t.value+S,T=l+(u-g)/2+c;break;case re.Left:y=e+(f-v)/2+S,T=l-d-t.value+c;break;case re.Right:y=e+(f-v)/2+S,T=s+t.value+c;break}y=gi(y,0,window.innerHeight-v),T=gi(T,0,window.innerWidth-g),h.value={...h.value,"--top":`${y}px`,"--left":`${T}px`,"--width":R?`${u}px`:"auto"}};return li([I,x,i,C],o,{immediate:!0}),vs(()=>{window.addEventListener("resize",o),window.addEventListener("scroll",o,!0)}),An(()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",o,!0)}),{cssVariables:h,updateCssVariables:o,computedPosition:m}},yT=["src","alt","title","loading"],TT=["src","title","loading"],ET=["src"],ST=["src","title","loading"],CT=["src"],AT={key:3},Du=ee({__name:"NyxMedia",props:{src:{},type:{default:Wn.Image},shape:{default:Zs.Rectangle},alt:{},title:{},caption:{},track:{},loading:{default:"lazy"}},setup(x){const i=x;return(p,C)=>(gt(),Tt("figure",{class:kt(["nyx-media",`shape-${i.shape}`])},[i.type===ht(Wn).Image?(gt(),Tt("img",{key:0,src:i.src,alt:i.alt,title:i.title,loading:p.loading},null,8,yT)):i.type===ht(Wn).Video?(gt(),Tt("video",{key:1,src:i.src,title:i.title,controls:"",loading:i.loading},[i.track?(gt(),Tt("track",{key:0,kind:"subtitles",src:i.track},null,8,ET)):Wt("",!0)],8,TT)):i.type===ht(Wn).Audio?(gt(),Tt("audio",{key:2,src:i.src,title:i.title,controls:"",loading:i.loading},[i.track?(gt(),Tt("track",{key:0,kind:"subtitles",src:i.track},null,8,CT)):Wt("",!0)],8,ST)):Wt("",!0),i.caption?(gt(),Tt("figcaption",AT,ae(i.caption),1)):Wt("",!0)],2))}}),PT=["theme","size","shape","variant","gradient","backlight","position"],ps=(x,i="Nyx")=>{const p=Qn("libEnv")??{},C=Dt(()=>x.gradient!==!1&&x.variant!==ze.Solid?(cT.error(i,"Gradients are only supported by NyxVariant.Solid"),x.theme):x.gradient===!0?x.theme:x.gradient),R=Dt(()=>x.backlight===!0?x.theme:x.backlight);return{classList:Dt(()=>{const I=[];for(const c of PT)x[c]===void 0||x[c]===!1||(x[c]===!0&&x.theme!==void 0?I.push(`${c}-${x.theme}`):I.push(`${c}-${x[c]}`));return(x.pixel||p.pixel)&&I.push("pixel"),I}),gradient:C,backlight:R}},RT={key:1,class:"nyx-avatar__image"},wT={key:2,class:"nyx-avatar__name"},MT=ee({__name:"NyxAvatar",props:{src:{},name:{},showName:{type:Boolean,default:!1},placeholder:{},color:{},size:{default:Ht.Medium},shape:{default:Zs.Circle},pixel:{type:Boolean,default:!1}},setup(x){const i=x,p=Dt(()=>i.placeholder?i.placeholder:i.name?i.name.split(" ").map(I=>I.charAt(0).toUpperCase()).join(""):""),C=Dt(()=>i.name??i.placeholder??""),{classList:R}=ps(i);return(I,c)=>(gt(),Tt("div",{class:kt(["nyx-avatar",ht(R)]),style:Je({"--nyx-c-avatar":i.color})},[i.src?(gt(),Re(Du,{key:0,class:"nyx-avatar__image",type:ht(Wn).Image,src:i.src,alt:C.value,title:C.value},null,8,["type","src","alt","title"])):(gt(),Tt("span",RT,[ce(I.$slots,"default",{},()=>[se(ae(p.value),1)])])),i.name&&i.showName?(gt(),Tt("span",wT,ae(i.name),1)):Wt("",!0)],6))}}),IT=["type","disabled"],LT=["href","target","disabled"],Oe=ee({__name:"NyxButton",props:{type:{default:"button"},theme:{default:ve.Default},variant:{default:ze.Solid},size:{default:Ht.Medium},shape:{default:Zs.Rectangle},disabled:{type:Boolean,default:!1},href:{},gradient:{type:[Boolean,String],default:!1},backlight:{type:[Boolean,String],default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(x,{emit:i}){const p=x,C=i,{classList:R}=ps(p),I=Dt(()=>p.href&&pT(p.href)?"_self":"_blank");return(c,S)=>p.href?(gt(),Tt("a",{key:1,class:kt(["nyx-button",ht(R)]),href:p.href,target:I.value,disabled:p.disabled,onClick:S[1]||(S[1]=t=>C("click"))},[ce(c.$slots,"default",{},()=>[S[3]||(S[3]=se("Click me"))])],10,LT)):(gt(),Tt("button",{key:0,class:kt(["nyx-button",ht(R)]),type:p.type,disabled:p.disabled,onClick:S[0]||(S[0]=t=>C("click"))},[ce(c.$slots,"default",{},()=>[S[2]||(S[2]=se("Click me"))])],10,IT))}});ve.Default,ze.Solid,Ht.Medium;const FT=["href","size","variant","onClick"],DT={key:0,class:"nyx-breadcrumbs__separator"};ve.Default,Ht.Medium,ze.Text;const OT={key:0,class:"nyx-card__header"},NT={class:"nyx-card__body"},BT={key:1,class:"nyx-card__footer"},bT=ee({__name:"NyxCard",props:{theme:{default:ve.Default},size:{default:Ht.Medium},variant:{default:ze.Solid},gradient:{type:[Boolean,String]},backlight:{type:[Boolean,String]},title:{},src:{},textAlign:{default:"left"},layout:{default:"media-first"},blendMedia:{type:Boolean,default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(x,{emit:i}){const p=x,C=i,R=Rn(),{classList:I}=ps(p),c=Dt(()=>({"--nyx-card-text-align":p.textAlign})),S=()=>C("click");return(t,h)=>(gt(),Tt("article",{class:kt(["nyx-card",[...ht(I),p.layout,p.blendMedia&&"blend-media"]]),style:Je(c.value),onClick:ga(S,["self"])},[ce(t.$slots,"media",{},()=>[p.src?(gt(),Re(Du,{key:0,src:p.src,alt:p.title,title:p.title},null,8,["src","alt","title"])):Wt("",!0)]),ht(R).header||p.title?(gt(),Tt("header",OT,[ce(t.$slots,"header",{},()=>[wt("h1",null,ae(p.title),1)])])):Wt("",!0),wt("section",NT,[ce(t.$slots,"default")]),ht(R).footer?(gt(),Tt("footer",BT,[ce(t.$slots,"footer")])):Wt("",!0)],6))}}),VT={key:1},GT={key:2,class:"nyx-carousel__dots"},UT=["onClick"];ve.Default;const zT=["disabled","aria-label","id"],XT=["for"],ho=ee({__name:"NyxCheckbox",props:ui({label:{default:""},disabled:{type:Boolean,default:!1},size:{default:Ht.Medium},theme:{default:ve.Default},id:{},checkmark:{default:""},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(x){const i=x,p=Fi(x,"modelValue"),{classList:C}=ps(i),R=Dt(()=>i.id??`nyx-checkbox-${Am(16)}`);return(I,c)=>(gt(),Tt("div",{class:kt(["nyx-checkbox",ht(C)])},[zi(wt("input",{type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=S=>p.value=S),disabled:i.disabled,"aria-label":i.label,id:R.value},null,8,zT),[[Lu,p.value]]),wt("span",{class:"nyx-checkbox__checkbox",onClick:c[1]||(c[1]=S=>p.value=!p.value)}),i.label?(gt(),Tt("label",{key:0,for:R.value,class:"nyx-checkbox__label"},ae(i.label),9,XT)):Wt("",!0)],2))}}),Rm=ee({__name:"NyxForm",props:{size:{default:Ht.Medium}},emits:["submit"],setup(x,{emit:i}){const p=x,C=i,R=I=>C("submit",I);return(I,c)=>(gt(),Tt("form",{class:kt(["nyx-form",[`size-${p.size}`]]),onSubmit:ga(R,["prevent"])},[ce(I.$slots,"default",{},()=>[c[0]||(c[0]=se("NyxForm"))])],34))}}),WT={class:"nyx-form-field"},Rs=ee({__name:"NyxFormField",props:{label:{}},setup(x){const i=x,p=`nyx-form-field-${Am(16)}`;return(C,R)=>(gt(),Tt("div",WT,[i.label?(gt(),Tt("label",{key:0,for:p,class:"nyx-form-field__label"},ae(C.label),1)):Wt("",!0),ce(C.$slots,"default",{id:p},()=>[R[0]||(R[0]=se("NyxFormField"))])]))}}),YT=["type","placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","tabindex","id"],ll=ee({__name:"NyxInput",props:ui({type:{default:Hr.Text},theme:{default:ve.Default},variant:{default:ze.Outline},size:{default:Ht.Medium},pixel:{type:Boolean},id:{},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},autofocus:{type:Boolean},placeholder:{},autocomplete:{},minlength:{},maxlength:{},pattern:{},tabindex:{}},{modelValue:{},modelModifiers:{}}),emits:ui(["click","focus","blur"],["update:modelValue"]),setup(x,{emit:i}){const p=x,C=i,R=Fi(x,"modelValue"),{classList:I}=ps(p);return(c,S)=>(gt(),Tt("div",{class:kt(["nyx-input",ht(I)])},[zi(wt("input",{type:p.type,placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,maxlength:p.maxlength,minlength:p.minlength,pattern:p.pattern,required:p.required,autocomplete:p.autocomplete,autofocus:p.autofocus,tabindex:p.tabindex,id:c.id,"onUpdate:modelValue":S[0]||(S[0]=t=>R.value=t),onClick:S[1]||(S[1]=t=>C("click")),onFocus:S[2]||(S[2]=t=>C("focus")),onBlur:S[3]||(S[3]=t=>C("blur"))},null,40,YT),[[j1,R.value]])],2))}}),HT={class:"nyx-modal__content"},KT={key:0,class:"nyx-modal__header"},$T={class:"nyx-modal__body"},QT={key:1,class:"nyx-modal__footer"},lr=ee({__name:"NyxModal",props:ui({title:{},confirmText:{},cancelText:{default:"Close"},size:{default:Ht.Medium},static:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!0},customClass:{},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ui(["close","cancel","confirm","open"],["update:modelValue"]),setup(x,{emit:i}){const p=x,C=i,R=Fi(x,"modelValue"),I=Rn(),c=()=>{p.static||(R.value=!1,C("close"))};xT(Cm.Esc,c);const S=Dt(()=>!!I.header||!!p.title),t=Dt(()=>!!I.footer||!!p.confirmText),h=()=>{C("cancel"),c()},m=()=>{C("confirm"),c()},{classList:o}=ps(p);return(a,r)=>(gt(),Re(rh,{to:"body"},[wt("div",{class:kt(["nyx-modal",[...ht(o),!!a.customClass&&`${a.customClass}`,{"nyx-modal--open":R.value||p.static},{"nyx-modal--no-backdrop":!p.backdrop}]]),onClick:ga(c,["self"])},[wt("article",HT,[S.value?(gt(),Tt("header",KT,[ce(a.$slots,"header",{},()=>[wt("h1",null,ae(a.title),1)]),p.static?Wt("",!0):(gt(),Tt("button",{key:0,class:"nyx-modal__close",onClick:c},""))])):Wt("",!0),wt("section",$T,[ce(a.$slots,"default",{},()=>[r[0]||(r[0]=se("NyxModal body"))])]),t.value?(gt(),Tt("footer",QT,[ce(a.$slots,"footer",{},()=>[p.static?Wt("",!0):(gt(),Re(Oe,{key:0,theme:ht(ve).Default,variant:ht(ze).Outline,onClick:h},{default:Xt(()=>[se(ae(p.cancelText),1)]),_:1},8,["theme","variant"])),p.confirmText?(gt(),Re(Oe,{key:1,theme:ht(ve).Primary,onClick:m},{default:Xt(()=>[se(ae(a.confirmText),1)]),_:1},8,["theme"])):Wt("",!0)])])):Wt("",!0)])],2)]))}}),Gl=ee({__name:"NyxProgress",props:ui({max:{default:100},theme:{},variant:{default:ze.Solid},shape:{default:Zs.Rectangle},gradient:{type:[String,Boolean],default:!1},size:{},showValue:{}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(x){const i=x,p=Fi(x,"modelValue"),{classList:C}=ps(i),R=Dt(()=>p.value===null?"100%":`${Math.min(100,p.value/i.max*100)}%`),I=Dt(()=>({"--progress":R.value}));return(c,S)=>(gt(),Tt("div",{class:kt(["nyx-progress",ht(C)]),style:Je(I.value)},[wt("div",{class:kt(["nyx-progress__bar",{indeterminate:p.value===null}])},null,2),c.showValue&&p.value!==null?(gt(),Tt("span",{key:0,class:kt(["nyx-progress__label",`nyx-progress__label--${c.showValue}`])},ae(Math.round(p.value)),3)):Wt("",!0)],6))}}),jT=["placeholder"],JT=["onClick"],ZT=["id","multiple"],kT=["value"],dM=ee({__name:"NyxSelect",props:ui({type:{default:Sm.Single},theme:{default:ve.Default},variant:{default:ze.Outline},size:{default:Ht.Medium},disabled:{type:Boolean},placeholder:{},options:{},id:{},multiple:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(x){const i=x,p=Fi(x,"modelValue"),C=Dt({get:()=>p.value??(i.multiple?[]:""),set:f=>{p.value=f}}),R=vn("nyx-select-input"),I=bt(""),c=vn("elControl"),S=vn("elDropdown"),t=bt(!1),{cssVariables:h,computedPosition:m}=Fu(c,S,{isEqualWidth:!0,isUpdateAllowed:t}),o=Dt(()=>{var f;return i.multiple?C.value.map(d=>{var v;return((v=i.options.find(g=>g.value===d))==null?void 0:v.label)??""}).join(", "):((f=i.options.find(d=>d.value===C.value))==null?void 0:f.label)??""}),a=Dt(()=>I.value?i.options.filter(f=>f.label.toLowerCase().includes(I.value.toLowerCase())):i.options),r=()=>{t.value=!t.value},e=()=>{t.value=!1},n=({value:f,label:d})=>{if(i.multiple){const v=C.value;v.indexOf(f)===-1?C.value=[...v,f]:C.value=v.filter(g=>g!==f),I.value=""}else C.value=f,I.value=d,t.value=!1},l=f=>{I.value=f===void 0?o.value:f},s=()=>{var f;t.value=!0,(f=R.value)==null||f.focus()},u=f=>i.multiple?C.value.includes(f):f===C.value;return li(t,f=>{f?l(""):l()}),(f,d)=>{const v=Yp("click-outside");return gt(),Tt("div",{class:kt(["nyx-select",[`theme-${i.theme}`,`variant-${i.variant}`,`size-${i.size}`]])},[zi((gt(),Tt("div",{class:kt(["nyx-select__control",[`nyx-select__control--${ht(m)}`,{"nyx-select__control--open":t.value}]]),ref_key:"elControl",ref:c,onClick:s,onKeyup:_1(e,["esc"])},[zi(wt("input",{type:"search","onUpdate:modelValue":d[0]||(d[0]=g=>I.value=g),class:"nyx-select__input",placeholder:i.multiple?"Select multiple...":"Select...",ref:"nyx-select-input"},null,8,jT),[[qn,I.value]]),wt("span",{class:"nyx-select__arrow",onClick:r},"")],34)),[[v,e]]),(gt(),Re(rh,{to:"body"},[wt("div",{class:kt(["nyx-select__dropdown",[`theme-${i.theme}`,`variant-${i.variant}`,`size-${i.size}`,`nyx-select__dropdown--${ht(m)}`,{"nyx-select__dropdown--open":t.value}]]),ref_key:"elDropdown",ref:S,role:"listbox",style:Je(ht(h))},[wt("ul",null,[(gt(!0),Tt(de,null,Xi(a.value,g=>(gt(),Tt("li",{key:g.value,class:kt(["nyx-select__option",{"nyx-select__option--selected":u(g.value),"nyx-select__option--disabled":!!g.disabled}]),onClick:y=>n(g)},[wt("span",null,ae(g.label),1)],10,JT))),128)),a.value.length===0?(gt(),Tt("li",{key:0,class:"nyx-select__option nyx-select__option--empty",onClick:d[1]||(d[1]=ga(g=>{var y;return(y=ht(R))==null?void 0:y.focus()},["prevent","stop"]))},[ce(f.$slots,"empty",{},()=>[d[3]||(d[3]=wt("span",null,"No results found",-1))])])):Wt("",!0)])],6)])),zi(wt("select",{"onUpdate:modelValue":d[2]||(d[2]=g=>C.value=g),class:"sr-only",id:i.id,multiple:i.multiple},[(gt(!0),Tt(de,null,Xi(i.options,g=>(gt(),Tt("option",{value:g.value,key:g.value},ae(g.label),9,kT))),128))],8,ZT),[[pm,C.value]])],2)}}}),qT=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],_T=["aria-valuenow","aria-valuemin","aria-valuemax"],tE=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],eE=["aria-valuenow","aria-valuemin","aria-valuemax"],iE=ee({__name:"NyxSlider",props:ui({min:{default:0},max:{default:100},step:{},tooltip:{default:"interact"},theme:{default:ve.Default},shape:{default:Zs.Circle},direction:{default:"row"},pixel:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(x){const i=x,p=Fi(x,"modelValue"),C=bt(null),R=bt(null),I=Dt(()=>Array.isArray(p.value)),c=Dt(()=>I.value?p.value[0]:p.value),S=Dt(()=>I.value?p.value[1]:null),t=Dt(()=>(c.value-i.min)/(i.max-i.min)*100),h=Dt(()=>I.value?(S.value-i.min)/(i.max-i.min)*100:0),m=u=>i.step?Pm(u,i.step,i.min):u,o=(u,f)=>{if(f=m(f),I.value){let d=[...p.value];d[u]=f,d[0]>d[1]&&(d=[d[1],d[0]],R.value=R.value===0?1:0),p.value=d}else p.value=f},a=(u,f)=>{f.preventDefault(),R.value=u,document.addEventListener("mousemove",r),document.addEventListener("mouseup",e)},r=u=>{if(R.value===null||!C.value)return;const f=C.value.getBoundingClientRect();let d=(u.clientX-f.left)/f.width;d=Math.min(Math.max(d,0),1);const v=i.min+d*(i.max-i.min);o(R.value,v)},e=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e),R.value=null},n=u=>{if(!C.value)return;const f=C.value.getBoundingClientRect();let d=(u.clientX-f.left)/f.width;d=Math.min(Math.max(d,0),1);const v=i.min+d*(i.max-i.min);if(I.value){const g=Math.abs(v-c.value),y=Math.abs(v-S.value);let T=g<y?0:1;o(T,v),R.value=T}else p.value=v},l=(u,f)=>{let d=I.value?p.value[f]:p.value;const v=i.step??1;switch(u.key){case"ArrowLeft":case"ArrowDown":d=Math.max(i.min,d-v);break;case"ArrowRight":case"ArrowUp":d=Math.min(i.max,d+v);break;case"Home":d=i.min;break;case"End":d=i.max;break;default:return}u.preventDefault(),o(f,d)},{classList:s}=ps(i);return An(()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)}),(u,f)=>(gt(),Tt("div",{class:kt(["nyx-slider",ht(s)]),ref_key:"track",ref:C,onMousedown:n},[I.value?(gt(),Tt("div",{key:0,class:"nyx-slider__track-highlight",style:Je({left:Math.min(t.value,h.value)+"%",width:Math.abs(h.value-t.value)+"%"})},null,4)):Wt("",!0),zi(wt("input",{type:"range",min:i.min,max:i.max,step:i.step||"any","onUpdate:modelValue":f[0]||(f[0]=d=>p.value=d),onKeydown:f[1]||(f[1]=d=>l(d,0)),"aria-label":"Slider value","aria-valuenow":c.value,"aria-valuemin":i.min,"aria-valuemax":i.max,class:"sr-only"},null,40,qT),[[qn,p.value]]),wt("div",{class:"nyx-slider__thumb",style:Je({left:t.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":c.value,"aria-valuemin":i.min,"aria-valuemax":i.max,onMousedown:f[2]||(f[2]=d=>a(0,d)),onKeydown:f[3]||(f[3]=d=>l(d,0))},null,44,_T),I.value&&Array.isArray(p.value)&&p.value[1]?(gt(),Tt(de,{key:1},[zi(wt("input",{type:"range",min:i.min,max:i.max,step:i.step||"any","onUpdate:modelValue":f[4]||(f[4]=d=>p.value[1]=d),onKeydown:f[5]||(f[5]=d=>l(d,1)),"aria-label":"Slider second value","aria-valuenow":S.value??void 0,"aria-valuemin":i.min,"aria-valuemax":i.max,class:"sr-only"},null,40,tE),[[qn,p.value[1]]]),wt("div",{class:"nyx-slider__thumb",style:Je({left:h.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":S.value??void 0,"aria-valuemin":i.min,"aria-valuemax":i.max,onMousedown:f[6]||(f[6]=d=>a(1,d)),onKeydown:f[7]||(f[7]=d=>l(d,1))},null,44,eE)],64)):Wt("",!0)],34))}});ve.Default;const sE=["id"];ve.Success,Ht.Medium,ze.Solid;const nE=(x,i)=>{const p=x.__vccOpts||x;for(const[C,R]of i)p[C]=R;return p},rE={};function aE(x,i){return gt(),Tt("td",null,[wt("span",null,[ce(x.$slots,"default")])])}const yc=nE(rE,[["render",aE]]),oE={key:0},hE={key:0},lE=ee({__name:"NyxTable",props:ui({theme:{default:ve.Default},size:{default:Ht.Medium},variant:{default:ze.Outline},itemKey:{},disabled:{type:Boolean,default:!1},columns:{},columnTitles:{},gridTemplateColumns:{},header:{type:[String,Boolean],default:!0},striped:{type:Boolean,default:!1},colWhitelist:{default:()=>[]},colBlacklist:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(x){const i=Rn(),p=x,C=Fi(x,"modelValue"),R=Dt(()=>{if(p.columnTitles)return p.columnTitles;if(C.value.length===0)return[];const t=C.value[0];return vT(t)?(p.colWhitelist.length>0?p.colWhitelist:Object.keys(t)).filter(h=>!p.colBlacklist.includes(h)):[]}),I=Dt(()=>{const t=i.actions?1:0;return p.columns!==void 0?p.columns+t:C.value.length===0?1+t:R.value.length+t}),c=Dt(()=>{const t=(p.colWhitelist.length>0?p.colWhitelist:Object.keys(C.value[0]??{})).filter(h=>!p.colBlacklist.includes(h));return C.value.map(h=>{const m={};for(const o of t)m[o]=h[o];return m})}),S=Dt(()=>{const t=i.actions?"auto":"";return{"--grid-template-columns":p.gridTemplateColumns?`${p.gridTemplateColumns} ${t}`:`repeat(${I.value}, 1fr)`}});return(t,h)=>(gt(),Tt("table",{class:kt(["nyx-table",[`size-${p.size}`,`theme-${p.theme}`,`variant-${p.variant}`,{striped:t.striped},{sticky:p.header==="sticky"}]]),style:Je(S.value)},[p.header?(gt(),Tt("thead",oE,[wt("tr",null,[(gt(!0),Tt(de,null,Xi(R.value,m=>(gt(),Tt("th",{key:m},ae(m),1))),128)),ht(i).actions?(gt(),Tt("th",hE,"")):Wt("",!0)])])):Wt("",!0),wt("tbody",null,[(gt(!0),Tt(de,null,Xi(c.value,m=>(gt(),Tt("tr",{key:typeof m=="object"&&p.itemKey?m[p.itemKey]:m},[ce(t.$slots,"default",{item:m},()=>[(gt(!0),Tt(de,null,Xi(Object.values(m??{}),o=>(gt(),Re(yc,{key:o},{default:Xt(()=>[se(ae(o),1)]),_:2},1024))),128))]),ht(i).actions?(gt(),Re(yc,{key:0,class:"nyx-table__actions"},{default:Xt(()=>[ce(t.$slots,"actions",{item:m})]),_:2},1024)):Wt("",!0)]))),128))])],6))}}),uE=["onClick"],fE={class:"nyx-tabs__container"},dE={key:0};ve.Default,Ht.Medium,Em.Modern,re.TopLeft;const cE=["placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","id"];ve.Default,ze.Outline,Ht.Medium;const vE=["data-position"],pE={class:"nyx-tooltip__content-wrapper"};ve.Default,ze.Solid,Ht.Medium,re.Top;const mE={class:"credits"};const gE=ee({__name:"Credits",setup(x){const i=bt(!1),p=()=>i.value=!i.value;return(C,R)=>(gt(),Tt("div",mE,[Rt(ht(Oe),{ref:"nyxButton",class:"debug__button",size:ht(Ht).Small,variant:ht(ze).Outline,tabindex:"-1",onClick:p},{default:Xt(()=>R[2]||(R[2]=[se("Credits")])),_:1},8,["size","variant"]),Rt(ht(lr),{modelValue:i.value,"onUpdate:modelValue":R[1]||(R[1]=I=>i.value=I),title:"Credits",size:ht(Ht).Large},{default:Xt(()=>[R[3]||(R[3]=wt("p",null," Special thanks to our esteemed testers, Jeroen Vanlessen and Tibo Swinnen, who bravely subjected themselves to the countless bugs, crashes, and questionable design choices that this game had to offer. Their patience, resilience, and willingness to repeatedly drift into asteroid swarms, miscalculate beam shots, and accidentally turn the entire screen into a blinding explosion of space debris have been invaluable. ",-1)),R[4]||(R[4]=wt("p",null,"Without them, this game would still be a flaming mess. With them, it is now a slightly less flaming mess.",-1)),R[5]||(R[5]=wt("p",null,"May their keyboards rest in peace. ",-1)),Wt("",!0)]),_:1},8,["modelValue","size"])]))}}),ch=(x,i)=>{const p=x.__vccOpts||x;for(const[C,R]of i)p[C]=R;return p},xE=ch(gE,[["__scopeId","data-v-d4455f6e"]]);let yE=class{constructor(){vt(this,"_isEnabled",!1);vt(this,"_isCollisionDisabled",!1);vt(this,"_hasInfiniteEnergy",!0);vt(this,"_isImmortal",!0);const i=JSON.parse(localStorage.getItem("debug")??"{}");this._isEnabled=!1,this._isCollisionDisabled=this.load(i,"_isCollisionDisabled"),this._hasInfiniteEnergy=this.load(i,"_hasInfiniteEnergy"),this._isImmortal=this.load(i,"_isImmortal")}load(i,p){return i[p]===void 0?!!this[p]:i[p]}get isEnabled(){return this._isEnabled}set isEnabled(i){this._isEnabled=i,this.save()}get isCollisionDisabled(){return this.isEnabled&&this._isCollisionDisabled}set isCollisionDisabled(i){this._isCollisionDisabled=i,this.save()}get hasInfiniteEnergy(){return this.isEnabled&&this._hasInfiniteEnergy}set hasInfiniteEnergy(i){this._hasInfiniteEnergy=i,this.save()}get isImmortal(){return this.isEnabled&&this._isImmortal}set isImmortal(i){this._isImmortal=i,this.save()}save(){localStorage.setItem("debug",JSON.stringify(this))}};const Mt={player:{hpStart:100,hpMax:100,hpRegen:0,energyStart:25,energyMax:100,energyRegen:.015,energyDrainRate:.1,dashDistance:250,dashSpeed:30,dashCooldown:500,dashDamageReduction:.5,dashEnergyCost:0,teleportDistance:250,teleportCooldown:1e3,velocity:2,maxVelocity:4,acceleration:.2,deceleration:.1,boundsPadding:50,colorDash:43775,colorDamage:16755370},asteroid:{baseSpawnRate:4e3,minSpeed:2,maxSpeedMultiplier:3,rotationSpeed:.5,small:{hp:50,damage:20,speed:1,size:[2,2.5],score:10},large:{hp:100,damage:40,speed:1,size:[4.5,5],score:25}},powerUp:{rotationSpeed:.5,hpSmall:1,hpMedium:5,hpLarge:15,energySmall:3,energyMedium:20,energyLarge:50},beam:{damage:1,speed:10,maxScale:40,scaleDuration:500,minAngle:-Math.PI/3,maxAngle:Math.PI/3,scaleX:3},hiscores:{threshold:1e3}},ul=x=>x[Math.floor(Math.random()*x.length)],be=[];for(let x=0;x<256;++x)be.push((x+256).toString(16).slice(1));function TE(x,i=0){return(be[x[i+0]]+be[x[i+1]]+be[x[i+2]]+be[x[i+3]]+"-"+be[x[i+4]]+be[x[i+5]]+"-"+be[x[i+6]]+be[x[i+7]]+"-"+be[x[i+8]]+be[x[i+9]]+"-"+be[x[i+10]]+be[x[i+11]]+be[x[i+12]]+be[x[i+13]]+be[x[i+14]]+be[x[i+15]]).toLowerCase()}let fl;const EE=new Uint8Array(16);function SE(){if(!fl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fl=crypto.getRandomValues.bind(crypto)}return fl(EE)}const CE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tc={randomUUID:CE};function Ou(x,i,p){var R;if(Tc.randomUUID&&!x)return Tc.randomUUID();x=x||{};const C=x.random??((R=x.rng)==null?void 0:R.call(x))??SE();if(C.length<16)throw new Error("Random bytes length must be >= 16");return C[6]=C[6]&15|64,C[8]=C[8]&63|128,TE(C)}class AE{constructor(i,p){vt(this,"id");vt(this,"sprite");vt(this,"_hp",1);vt(this,"maxHp",1);vt(this,"maxSpeed",3);vt(this,"minSpeed",Mt.asteroid.minSpeed);vt(this,"isLarge",!1);vt(this,"onDestroy");vt(this,"scene");vt(this,"key");vt(this,"size",1);vt(this,"angle",0);this.id=Ou(),this.key=`asteroid/${Bi(1,6)}`,this.scene=i,this.maxSpeed=(p.maxSpeed??1)*Mt.asteroid.maxSpeedMultiplier,this.isLarge=p.isLarge??!1,this.size=this.isLarge?Bi(Mt.asteroid.large.size[0],Mt.asteroid.large.size[1],.1):Bi(Mt.asteroid.small.size[0],Mt.asteroid.small.size[1],.1),this.hp=this.isLarge?Mt.asteroid.large.hp:Mt.asteroid.small.hp,this.maxHp=this.hp,this.sprite=this.create(),this.onDestroy=p.onDestroy}get hp(){return this._hp}set hp(i){if(this._hp=i,i<=0){this.destroy(!0);return}if(!this.sprite)return;const p=this._hp/this.maxHp,I=Phaser.Display.Color.Interpolate.ColorWithColor(Phaser.Display.Color.ValueToColor(16766336),Phaser.Display.Color.ValueToColor(16777215),100,p*100);this.sprite.setTint(Phaser.Display.Color.GetColor(I.r,I.g,I.b))}get damage(){const i=this.isLarge?Mt.asteroid.large.damage:Mt.asteroid.small.damage,p=this.hp/this.maxHp;return i*p}get speed(){const i=this.hp/this.maxHp,p=this.minSpeed+(this.maxSpeed-this.minSpeed)*i;return gi(p,this.minSpeed,this.maxSpeed)}get velocity(){return{x:-this.speed*Math.cos(this.angle),y:this.speed*.5*Math.sin(this.angle)}}create(){const i=this.scene.textures.get(this.key).getSourceImage(),p=Math.random()<.75;let C,R;return p?(C=this.scene.scale.width+i.width,R=Bi(0,this.scene.scale.height-i.height),this.angle=Bi(-15,15)*Math.PI/180):Math.random()<.5?(C=Bi(this.scene.scale.width/2,this.scene.scale.width)+i.width,R=-i.height,this.angle=Bi(15,30)*Math.PI/180):(C=Bi(0,this.scene.scale.width-i.width),R=this.scene.scale.height+i.height,this.angle=Bi(-15,-30)*Math.PI/180),this.scene.add.image(C,R,this.key).setScale(this.size).setDepth(100)}update(i){this.sprite.x+=this.velocity.x,this.sprite.y+=this.velocity.y,this.sprite.rotation+=Mt.asteroid.rotationSpeed*i;const p=500;(this.sprite.x<-this.sprite.width-p||this.sprite.y>this.scene.scale.height+this.sprite.height+p)&&this.destroy()}destroy(i=!1){var c,S;const p={x:this.sprite.x,y:this.sprite.y};this.onDestroy(this.id,{isDestroyedByPlayer:i,position:p,size:this.size,isLarge:this.isLarge});const{x:C,y:R}={x:this.sprite.x,y:this.sprite.y};this.sprite.destroy(),i&&((S=(c=this.scene.audio)==null?void 0:c.sfx.asteroidExplosion)==null||S.play());const I=this.scene.add.sprite(C,R,"explosion/md").setScale(this.size*.5).setDepth(100);I.anims.play("explosion/md").once("animationcomplete",()=>I.destroy())}}var lo={exports:{}},PE=lo.exports,Ec;function RE(){return Ec||(Ec=1,function(x,i){(function(C,R){x.exports=R()})(PE,()=>(()=>{var p={50792:c=>{var S=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function m(e,n,l){this.fn=e,this.context=n,this.once=l||!1}function o(e,n,l,s,u){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new m(l,s||e,u),d=t?t+n:n;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],f]:e._events[d].push(f):(e._events[d]=f,e._eventsCount++),e}function a(e,n){--e._eventsCount===0?e._events=new h:delete e._events[n]}function r(){this._events=new h,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,s;if(this._eventsCount===0)return n;for(s in l=this._events)S.call(l,s)&&n.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,s=this._events[l];if(!s)return[];if(s.fn)return[s.fn];for(var u=0,f=s.length,d=new Array(f);u<f;u++)d[u]=s[u].fn;return d},r.prototype.listenerCount=function(n){var l=t?t+n:n,s=this._events[l];return s?s.fn?1:s.length:0},r.prototype.emit=function(n,l,s,u,f,d){var v=t?t+n:n;if(!this._events[v])return!1;var g=this._events[v],y=arguments.length,T,E;if(g.fn){switch(g.once&&this.removeListener(n,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,l),!0;case 3:return g.fn.call(g.context,l,s),!0;case 4:return g.fn.call(g.context,l,s,u),!0;case 5:return g.fn.call(g.context,l,s,u,f),!0;case 6:return g.fn.call(g.context,l,s,u,f,d),!0}for(E=1,T=new Array(y-1);E<y;E++)T[E-1]=arguments[E];g.fn.apply(g.context,T)}else{var A=g.length,P;for(E=0;E<A;E++)switch(g[E].once&&this.removeListener(n,g[E].fn,void 0,!0),y){case 1:g[E].fn.call(g[E].context);break;case 2:g[E].fn.call(g[E].context,l);break;case 3:g[E].fn.call(g[E].context,l,s);break;case 4:g[E].fn.call(g[E].context,l,s,u);break;default:if(!T)for(P=1,T=new Array(y-1);P<y;P++)T[P-1]=arguments[P];g[E].fn.apply(g[E].context,T)}}return!0},r.prototype.on=function(n,l,s){return o(this,n,l,s,!1)},r.prototype.once=function(n,l,s){return o(this,n,l,s,!0)},r.prototype.removeListener=function(n,l,s,u){var f=t?t+n:n;if(!this._events[f])return this;if(!l)return a(this,f),this;var d=this._events[f];if(d.fn)d.fn===l&&(!u||d.once)&&(!s||d.context===s)&&a(this,f);else{for(var v=0,g=[],y=d.length;v<y;v++)(d[v].fn!==l||u&&!d[v].once||s&&d[v].context!==s)&&g.push(d[v]);g.length?this._events[f]=g.length===1?g[0]:g:a(this,f)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&a(this,l)):(this._events=new h,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,c.exports=r},11517:(c,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38829),m=function(o,a,r,e){for(var n=o[0],l=1;l<o.length;l++){var s=o[l];h(s,n,a,r,e),n=s}return o};c.exports=m},80318:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n){return h(o,"angle",a,r,e,n)};c.exports=m},60757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var o=0;o<t.length;o++){var a=t[o];h.call(m,a)}return t};c.exports=S},69927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){m===void 0&&(m=0);for(var o=m;o<t.length;o++){var a=t[o],r=!0;for(var e in h)a[e]!==h[e]&&(r=!1);if(r)return a}return null};c.exports=S},32265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){m===void 0&&(m=0);for(var o=t.length-1;o>=m;o--){var a=t[o],r=!0;for(var e in h)a[e]!==h[e]&&(r=!1);if(r)return a}return null};c.exports=S},94420:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11879),m=t(60461),o=t(95540),a=t(29747),r=t(41481),e=new r({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),n=function(l,s){s===void 0&&(s={});var u=s.hasOwnProperty("width"),f=s.hasOwnProperty("height"),d=o(s,"width",-1),v=o(s,"height",-1),g=o(s,"cellWidth",1),y=o(s,"cellHeight",g),T=o(s,"position",m.TOP_LEFT),E=o(s,"x",0),A=o(s,"y",0),P=0,w=0,M=d*g,D=v*y;e.setPosition(E,A),e.setSize(g,y);for(var F=0;F<l.length;F++)if(h(l[F],e,T),u&&d===-1)e.x+=g;else if(f&&v===-1)e.y+=y;else if(f&&!u){if(w+=y,e.y+=y,w===D&&(w=0,P+=g,e.y=A,e.x+=g,P===M))break}else if(P+=g,e.x+=g,P===M&&(P=0,w+=y,e.x=E,e.y+=y,w===D))break;return l};c.exports=n},41721:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n){return h(o,"alpha",a,r,e,n)};c.exports=m},67285:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n){return h(o,"x",a,r,e,n)};c.exports=m},9074:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n,l,s){return r==null&&(r=a),h(o,"x",a,e,l,s),h(o,"y",r,n,l,s)};c.exports=m},75222:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n){return h(o,"y",a,r,e,n)};c.exports=m},22983:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m===void 0&&(m=0),o===void 0&&(o=6.28);for(var a=m,r=(o-m)/t.length,e=h.x,n=h.y,l=h.radius,s=0;s<t.length;s++)t[s].x=e+l*Math.cos(a),t[s].y=n+l*Math.sin(a),a+=r;return t};c.exports=S},95253:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m===void 0&&(m=0),o===void 0&&(o=6.28);for(var a=m,r=(o-m)/t.length,e=h.width/2,n=h.height/2,l=0;l<t.length;l++)t[l].x=h.x+e*Math.cos(a),t[l].y=h.y+n*Math.sin(a),a+=r;return t};c.exports=S},88505:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15258),m=t(26708),o=function(a,r,e){var n;e?n=m(r,e,a.length):n=h(r,a.length);for(var l=0;l<a.length;l++){var s=a[l],u=n[l];s.x=u.x,s.y=u.y}return a};c.exports=o},41346:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14649),m=t(86003),o=t(49498),a=function(r,e,n){n===void 0&&(n=0);var l=h(e,!1,r.length);n>0?m(l,n):n<0&&o(l,Math.abs(n));for(var s=0;s<r.length;s++)r[s].x=l[s].x,r[s].y=l[s].y;return r};c.exports=a},11575:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84993),m=function(o,a,r){var e=h({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r),n=h({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},r),l=h({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},r);e.pop(),n.pop(),l.pop(),e=e.concat(n,l);for(var s=e.length/o.length,u=0,f=0;f<o.length;f++){var d=o[f],v=e[Math.floor(u)];d.x=v.x,d.y=v.y,u+=s}return o};c.exports=m},29953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var o=0;o<t.length;o++){var a=t[o];a.anims&&a.anims.play(h,m)}return t};c.exports=S},66979:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=a;e<l;e++)t[e][h]+=m+n*o,n++;else for(e=a;e>=0;e--)t[e][h]+=m+n*o,n++;return t};c.exports=S},43967:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=a;e<l;e++)t[e][h]=m+n*o,n++;else for(e=a;e>=0;e--)t[e][h]=m+n*o,n++;return t};c.exports=S},88926:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28176),m=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};c.exports=m},33286:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24820),m=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};c.exports=m},96e3:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65822),m=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};c.exports=m},28789:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26597),m=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};c.exports=m},97154:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90260),m=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};c.exports=m},20510:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n){return h(o,"rotation",a,r,e,n)};c.exports=m},91051:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),m=t(20339),o=function(a,r,e){for(var n=r.x,l=r.y,s=0;s<a.length;s++){var u=a[s];h(u,n,l,e,Math.max(1,m(u.x,u.y,n,l)))}return a};c.exports=o},76332:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),m=function(o,a,r,e){var n=a.x,l=a.y;if(e===0)return o;for(var s=0;s<o.length;s++)h(o[s],n,l,r,e);return o};c.exports=m},61619:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n){return h(o,"scaleX",a,r,e,n)};c.exports=m},94868:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n,l,s){return r==null&&(r=a),h(o,"scaleX",a,e,l,s),h(o,"scaleY",r,n,l,s)};c.exports=m},95532:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),m=function(o,a,r,e,n){return h(o,"scaleY",a,r,e,n)};c.exports=m},8689:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"alpha",a,r,e,n)};c.exports=m},2645:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e){return h(o,"blendMode",a,0,r,e)};c.exports=m},32372:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"depth",a,r,e,n)};c.exports=m},85373:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var o=0;o<t.length;o++)t[o].setInteractive(h,m);return t};c.exports=S},81583:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n,l,s){return r==null&&(r=a),h(o,"originX",a,e,l,s),h(o,"originY",r,n,l,s),o.forEach(function(u){u.updateDisplayOrigin()}),o};c.exports=m},79939:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"rotation",a,r,e,n)};c.exports=m},2699:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n,l,s){return r==null&&(r=a),h(o,"scaleX",a,e,l,s),h(o,"scaleY",r,n,l,s)};c.exports=m},98739:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"scaleX",a,r,e,n)};c.exports=m},98476:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"scaleY",a,r,e,n)};c.exports=m},6207:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n,l,s){return r==null&&(r=a),h(o,"scrollFactorX",a,e,l,s),h(o,"scrollFactorY",r,n,l,s)};c.exports=m},6607:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"scrollFactorX",a,r,e,n)};c.exports=m},72248:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"scrollFactorY",a,r,e,n)};c.exports=m},14036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a){for(var r=0;r<t.length;r++)t[r].setTint(h,m,o,a);return t};c.exports=S},50159:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e){return h(o,"visible",a,0,r,e)};c.exports=m},77597:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"x",a,r,e,n)};c.exports=m},83194:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n,l,s){return r==null&&(r=a),h(o,"x",a,e,l,s),h(o,"y",r,n,l,s)};c.exports=m},67678:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),m=function(o,a,r,e,n){return h(o,"y",a,r,e,n)};c.exports=m},35850:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n){e===void 0&&(e=0),n===void 0&&(n=new h);var l,s,u=o.length;if(u===1)l=o[0].x,s=o[0].y,o[0].x=a,o[0].y=r;else{var f=1,d=0;e===0&&(d=u-1,f=u-2),l=o[d].x,s=o[d].y,o[d].x=a,o[d].y=r;for(var v=0;v<u;v++)if(!(f>=u||f===-1)){var g=o[f],y=g.x,T=g.y;g.x=l,g.y=s,l=y,s=T,e===0?f--:f++}}return n.x=l,n.y=s,n};c.exports=m},8628:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33680),m=function(o){return h(o)};c.exports=m},21837:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),m=function(o,a,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][a]+=h(s*l,r,e);else for(s=0;s<o.length;s++)o[s][a]=h(s*l,r,e);return o};c.exports=m},21910:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),m=function(o,a,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][a]+=h(s*l,r,e);else for(s=0;s<o.length;s++)o[s][a]=h(s*l,r,e);return o};c.exports=m},62054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a){if(a===void 0&&(a=!1),t.length===0)return t;if(t.length===1)return a?t[0][h]+=(o+m)/2:t[0][h]=(o+m)/2,t;var r=Math.abs(o-m)/(t.length-1),e;if(a)for(e=0;e<t.length;e++)t[e][h]+=e*r+m;else for(e=0;e<t.length;e++)t[e][h]=e*r+m;return t};c.exports=S},79815:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};c.exports=S},39665:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),m=function(o,a,r){r===void 0&&(r=0);for(var e=0;e<o.length;e++){var n=o[e];n.x=h(n.x,a.left-r,a.right+r),n.y=h(n.y,a.top-r,a.bottom+r)}return o};c.exports=m},61061:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(74943),a=t(81957),r=t(41138),e=t(35154),n=t(90126),l=new m({initialize:function(u,f,d){this.manager=u,this.key=f,this.type="frame",this.frames=this.getFrames(u.textureManager,e(d,"frames",[]),e(d,"defaultTextureKey",null),e(d,"sortFrames",!0)),this.frameRate=e(d,"frameRate",null),this.duration=e(d,"duration",null),this.msPerFrame,this.skipMissedFrames=e(d,"skipMissedFrames",!0),this.delay=e(d,"delay",0),this.repeat=e(d,"repeat",0),this.repeatDelay=e(d,"repeatDelay",0),this.yoyo=e(d,"yoyo",!1),this.showBeforeDelay=e(d,"showBeforeDelay",!1),this.showOnStart=e(d,"showOnStart",!1),this.hideOnComplete=e(d,"hideOnComplete",!1),this.randomFrame=e(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,u,f,d){f===null&&d===null?(s.frameRate=24,s.duration=24/u*1e3):f&&d===null?(s.duration=f,s.frameRate=u/(f/1e3)):(s.frameRate=d,s.duration=u/d*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,u){var f=this.getFrames(this.manager.textureManager,u);if(f.length>0){if(s===0)this.frames=f.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(f);else{var d=this.frames.slice(0,s),v=this.frames.slice(s);this.frames=d.concat(f,v)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,u,f,d){d===void 0&&(d=!0);var v=[],g,y,T=1,E,A;if(typeof u=="string"){if(A=u,!s.exists(A))return console.warn('Texture "%s" not found',A),v;var P=s.get(A),w=P.getFrameNames();d&&n(w),u=[],w.forEach(function(B){u.push({key:A,frame:B})})}if(!Array.isArray(u)||u.length===0)return v;for(E=0;E<u.length;E++){var M=u[E],D=e(M,"key",f);if(D){var F=e(M,"frame",0),L=s.getFrame(D,F);if(!L){console.warn('Texture "%s" not found',D);continue}y=new r(D,F,T,L),y.duration=e(M,"duration",0),y.isFirst=!g,g&&(g.nextFrame=y,y.prevFrame=g),v.push(y),g=y,T++}}if(v.length>0){y.isLast=!0,y.nextFrame=v[0],v[0].prevFrame=y;var O=1/(v.length-1);for(E=0;E<v.length;E++)v[E].progress=E*O}return v},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameByProgress:function(s){return s=h(s,0,1),a(s,this.frames,"progress")},nextFrame:function(s){var u=s.currentFrame;u.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,u.nextFrame)},handleYoyoFrame:function(s,u){if(u||(u=!1),s.inReverse===!u&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=u),this.repeatAnimation(s);return}if(s.inReverse!==u&&s.repeatCounter===0){s.complete();return}s.forward=u;var f=u?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var u=s.currentFrame;u.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,u.prevFrame)},updateAndGetNextTick:function(s,u){s.setCurrentFrame(u),this.getNextTick(s)},removeFrame:function(s){var u=this.frames.indexOf(s);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){s.frames.push(u.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,u=1/(s-1),f,d=0;d<s;d++)f=this.frames[d],f.index=d+1,f.isFirst=!1,f.isLast=!1,f.progress=d*u,d===0?(f.isFirst=!0,s===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[s-1],f.nextFrame=this.frames[d+1])):d===s-1&&s>1?(f.isLast=!0,f.prevFrame=this.frames[s-2],f.nextFrame=this.frames[0]):s>1&&(f.prevFrame=this.frames[d-1],f.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});c.exports=l},41138:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e,n,l){l===void 0&&(l=!1),this.textureKey=a,this.textureFrame=r,this.index=e,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=m},60848:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),m=t(83419),o=t(90330),a=t(50792),r=t(74943),e=t(8443),n=t(95540),l=t(35154),s=t(36383),u=t(20283),f=t(41836),d=new m({Extends:a,initialize:function(g){a.call(this),this.game=g,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",g.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(v,g,y){var T=this.anims,E=this.mixes,A=typeof v=="string"?v:v.key,P=typeof g=="string"?g:g.key;if(T.has(A)&&T.has(P)){var w=E.get(A);w||(w={}),w[P]=y,E.set(A,w)}return this},removeMix:function(v,g){var y=this.mixes,T=typeof v=="string"?v:v.key,E=y.get(T);if(E)if(g){var A=typeof g=="string"?g:g.key;E.hasOwnProperty(A)&&delete E[A]}else g||y.delete(T);return this},getMix:function(v,g){var y=this.mixes,T=typeof v=="string"?v:v.key,E=typeof g=="string"?g:g.key,A=y.get(T);return A&&A.hasOwnProperty(E)?A[E]:0},add:function(v,g){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(g.key=v,this.anims.set(v,g),this.emit(r.ADD_ANIMATION,v,g),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,g,y){var T=[],E=this.game.cache.json.get(v);if(!E)return console.warn("No Aseprite data found for: "+v),T;var A=this,P=l(E,"meta",null),w=l(E,"frames",null);if(P&&w){var M=l(P,"frameTags",[]);M.forEach(function(D){var F=[],L=n(D,"name",null),O=n(D,"from",0),B=n(D,"to",0),U=n(D,"direction","forward");if(L&&(!g||g&&g.indexOf(L)>-1)){for(var W=0,H=O;H<=B;H++){var Y=H.toString(),G=w[Y];if(G){var X=n(G,"duration",s.MAX_SAFE_INTEGER);F.push({key:v,frame:Y,duration:X}),W+=X}}U==="reverse"&&(F=F.reverse());var V={key:L,frames:F,duration:W,yoyo:U==="pingpong"},b;y?y.anims&&(b=y.anims.create(V)):b=A.create(V),b&&T.push(b)}})}return T},create:function(v){var g=v.key,y=!1;return g&&(y=this.get(g),y?console.warn("AnimationManager key already exists: "+g):(y=new h(this,g,v),this.anims.set(g,y),this.emit(r.ADD_ANIMATION,g,y))),y},fromJSON:function(v,g){g===void 0&&(g=!1),g&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var y=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var T=0;T<v.anims.length;T++)y.push(this.create(v.anims[T]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&y.push(this.create(v));return y},generateFrameNames:function(v,g){var y=l(g,"prefix",""),T=l(g,"start",0),E=l(g,"end",0),A=l(g,"suffix",""),P=l(g,"zeroPad",0),w=l(g,"outputArray",[]),M=l(g,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),w;var D=this.textureManager.get(v);if(!D)return w;var F;if(g)for(M||(M=u(T,E)),F=0;F<M.length;F++){var L=y+f(M[F],P,"0",1)+A;D.has(L)?w.push({key:v,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,v)}else for(M=D.getFrameNames(),F=0;F<M.length;F++)w.push({key:v,frame:M[F]});return w},generateFrameNumbers:function(v,g){var y=l(g,"start",0),T=l(g,"end",-1),E=l(g,"first",!1),A=l(g,"outputArray",[]),P=l(g,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),A;var w=this.textureManager.get(v);if(!w)return A;E&&w.has(E)&&A.push({key:v,frame:E}),P||(T===-1&&(T=w.frameTotal-2),P=u(y,T));for(var M=0;M<P.length;M++){var D=P[M];w.has(D)?A.push({key:v,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,v)}return A},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var g=this.textureManager.get(v),y=g.key,T=this.anims.getArray(),E=[],A=0;A<T.length;A++)for(var P=T[A],w=P.frames,M=0;M<w.length;M++)if(w[M].textureKey===y){E.push(P.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(v,g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)g[y].anims.play(v);return this},staggerPlay:function(v,g,y,T){y===void 0&&(y=0),T===void 0&&(T=!0),Array.isArray(g)||(g=[g]);var E=g.length;T||E--;for(var A=0;A<g.length;A++){var P=y<0?Math.abs(y)*(E-A):y*A;g[A].anims.playAfterDelay(v,P)}return this},remove:function(v){var g=this.get(v);return g&&(this.emit(r.REMOVE_ANIMATION,v,g),this.anims.delete(v),this.removeMix(v)),g},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(v){var g={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?g.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(y,T){g.anims.push(T.toJSON())}),g},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=d},9674:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),m=t(30976),o=t(83419),a=t(90330),r=t(74943),e=t(95540),n=new o({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var s=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var f=l[u];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var s=this.animationManager,u=typeof l=="string"?l:e(l,"key",null),f=this.exists(u)?this.get(u):s.get(u);if(!f)console.warn("Missing animation: "+u);else{this.currentAnim=f;var d=f.getTotalFrames(),v=e(l,"frameRate",f.frameRate),g=e(l,"duration",f.duration);f.calculateDuration(this,d,g,v),this.delay=e(l,"delay",f.delay),this.repeat=e(l,"repeat",f.repeat),this.repeatDelay=e(l,"repeatDelay",f.repeatDelay),this.yoyo=e(l,"yoyo",f.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(l,"showOnStart",f.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(l,"randomFrame",f.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var y=e(l,"startFrame",0);y>d&&(y=0),this.randomFrame&&(y=m(0,d-1));var T=f.frames[y];y===0&&!this.forward&&(T=f.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,s){if(!this.isPlaying)this.delayCounter=s,this.play(l,!0);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(l,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(l,s){s===void 0&&(s=!1);var u=this.currentAnim,f=this.parent,d=typeof l=="string"?l:l.key;if(s&&this.isPlaying&&u.key===d)return f;if(u&&this.isPlaying){var v=this.animationManager.getMix(u.key,l);if(v>0)return this.playAfterDelay(l,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,s){s===void 0&&(s=!1);var u=typeof l=="string"?l:l.key;return s&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var s=this.currentAnim,u=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,s){var u=this.currentAnim;if(u){var f=this.currentFrame,d=this.parent,v=f.textureFrame;d.emit(l,u,f,d,v),s&&d.emit(s+u.key,u,f,d,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var s=l.progress;return this.inReverse&&(s*=-1),s},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,s){l===void 0&&(l=!1),s===void 0&&(s=!1);var u=this.currentAnim,f=this.parent;return u?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,s){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?u.nextFrame(this):u.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var s=this.parent;return this.currentFrame=l,s.texture=l.frame.texture,s.frame=l.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),l.setAlpha&&(s.alpha=l.alpha),s.setSizeToFrame(),s._originComponent&&(l.frame.customPivot?s.setOrigin(l.frame.pivotX,l.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var s=l.key,u=!1;return s&&(u=this.get(s),u?console.warn("Animation key already exists: "+s):(u=new h(this,s,l),this.anims||(this.anims=new a),this.anims.set(s,u))),u},createFromAseprite:function(l,s){return this.animationManager.createFromAseprite(l,s,this.parent)},generateFrameNames:function(l,s){return this.animationManager.generateFrameNames(l,s)},generateFrameNumbers:function(l,s){return this.animationManager.generateFrameNumbers(l,s)},remove:function(l){var s=this.get(l);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(l)),s},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=n},57090:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},25312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},89580:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},52860:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},63850:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},99085:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},28087:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstop"},1794:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},52562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},57953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},68339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},74943:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(90330),o=t(50792),a=t(24736),r=new h({initialize:function(){this.entries=new m,this.events=new o},add:function(e,n){return this.entries.set(e,n),this.events.emit(a.ADD,this,e,n),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var n=this.get(e);return n&&(this.entries.delete(e),this.events.emit(a.REMOVE,this,e,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=r},24047:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2161),m=t(83419),o=t(8443),a=new m({initialize:function(e){this.game=e,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new h),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<r.length;e++)this[r[e]].destroy(),this[r[e]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});c.exports=a},51464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},59261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},24736:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(39506),a=t(50792),r=t(19715),e=t(87841),n=t(61340),l=t(80333),s=t(26099),u=new h({Extends:a,Mixins:[m.AlphaSingle,m.Visible],initialize:function(d,v,g,y){d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=d,this._y=v,this._width=g,this._height=y,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(g/2,y/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,d){return f===void 0&&(f=.5),d===void 0&&(d=f),this.originX=f,this.originY=d,this},getScroll:function(f,d,v){v===void 0&&(v=new s);var g=this.width*.5,y=this.height*.5;return v.x=f-g,v.y=d-y,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(f){var d=this.width*.5;return this.midPoint.x=f,this.scrollX=f-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var d=this.height*.5;return this.midPoint.y=f,this.scrollY=f-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,d){return this.centerOnX(f),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,d=this.width*.5,v=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-d,this.scrollY=f.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var d=this.matrix.matrix,v=d[0],g=d[1],y=d[2],T=d[3],E=v*T-g*y;if(!E)return f;var A=d[4],P=d[5],w=this.scrollX,M=this.scrollY,D=this.width,F=this.height,L=this.y,O=L+F,B=this.x,U=B+D,W=this.culledObjects,H=f.length;E=1/E,W.length=0;for(var Y=0;Y<H;++Y){var G=f[Y];if(!G.hasOwnProperty("width")||G.parentContainer){W.push(G);continue}var X=G.width,V=G.height,b=G.x-w*G.scrollFactorX-X*G.originX,z=G.y-M*G.scrollFactorY-V*G.originY,$=b*v+z*y+A,Q=b*g+z*T+P,Z=(b+X)*v+(z+V)*y+A,q=(b+X)*g+(z+V)*T+P;Z>B&&$<U&&q>L&&Q<O&&W.push(G)}return W},getWorldPoint:function(f,d,v){v===void 0&&(v=new s);var g=this.matrix.matrix,y=g[0],T=g[1],E=g[2],A=g[3],P=g[4],w=g[5],M=y*A-T*E;if(!M)return v.x=f,v.y=d,v;M=1/M;var D=A*M,F=-T*M,L=-E*M,O=y*M,B=(E*w-A*P)*M,U=(T*P-y*w)*M,W=Math.cos(this.rotation),H=Math.sin(this.rotation),Y=this.zoomX,G=this.zoomY,X=this.scrollX,V=this.scrollY,b=f+(X*W-V*H)*Y,z=d+(X*H+V*W)*G;return v.x=b*D+z*L+B,v.y=b*F+z*O+U,v},ignore:function(f){var d=this.id;Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var g=f[v];Array.isArray(g)?this.ignore(g):g.isParent?this.ignore(g.getChildren()):g.cameraFilter|=d}return this},clampX:function(f){var d=this._bounds,v=this.displayWidth,g=d.x+(v-this.width)/2,y=Math.max(g,g+d.width-v);return f<g?f=g:f>y&&(f=y),f},clampY:function(f){var d=this._bounds,v=this.displayHeight,g=d.y+(v-this.height)/2,y=Math.max(g,g+d.height-v);return f<g?f=g:f>y&&(f=y),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=o(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,d,v,g,y){return y===void 0&&(y=!1),this._bounds.setTo(f,d,v,g),this.dirty=!0,this.useBounds=!0,y?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var d=this._bounds;return f.setTo(d.x,d.y,d.width,d.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,d){return d===void 0&&(d=f),this.x=f,this.y=d,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=d;var v=f.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(f,d){return d===void 0&&(d=f),this.scrollX=f,this.scrollY=d,this},setSize:function(f,d){return d===void 0&&(d=f),this.width=f,this.height=d,this},setViewport:function(f,d,v,g){return this.x=f,this.y=d,this.width=v,this.height=g,this},setZoom:function(f,d){return f===void 0&&(f=1),d===void 0&&(d=f),f===0&&(f=.001),d===0&&(d=.001),this.zoomX=f,this.zoomY=d,this},setMask:function(f,d){return d===void 0&&(d=!0),this.mask=f,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;f&&!this._customViewport?d.customViewports++:!f&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=u},38058:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),m=t(67502),o=t(45319),a=t(83419),r=t(31401),e=t(20052),n=t(19715),l=t(28915),s=t(87841),u=t(26099),f=new a({Extends:h,Mixins:[r.PostPipeline],initialize:function(v,g,y,T){h.call(this,v,g,y,T),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(d,v){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=v):this.deadzone=new s(0,0,d,v),this._follow){var g=this.width/2,y=this.height/2,T=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(T,E),this.scrollX=T-g,this.scrollY=E-y}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,v,g,y,T,E){return this.fadeEffect.start(!1,d,v,g,y,!0,T,E)},fadeOut:function(d,v,g,y,T,E){return this.fadeEffect.start(!0,d,v,g,y,!0,T,E)},fadeFrom:function(d,v,g,y,T,E,A){return this.fadeEffect.start(!1,d,v,g,y,T,E,A)},fade:function(d,v,g,y,T,E,A){return this.fadeEffect.start(!0,d,v,g,y,T,E,A)},flash:function(d,v,g,y,T,E,A){return this.flashEffect.start(d,v,g,y,T,E,A)},shake:function(d,v,g,y,T){return this.shakeEffect.start(d,v,g,y,T)},pan:function(d,v,g,y,T,E,A){return this.panEffect.start(d,v,g,y,T,E,A)},rotateTo:function(d,v,g,y,T,E,A){return this.rotateToEffect.start(d,v,g,y,T,E,A)},zoomTo:function(d,v,g,y,T,E){return this.zoomEffect.start(d,v,g,y,T,E)},preRender:function(){this.renderList.length=0;var d=this.width,v=this.height,g=d*.5,y=v*.5,T=this.zoomX,E=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(T)&&Number.isInteger(E);var P=d*this.originX,w=v*this.originY,M=this._follow,D=this.deadzone,F=this.scrollX,L=this.scrollY;D&&m(D,this.midPoint.x,this.midPoint.y);var O=!1;if(M&&!this.panEffect.isRunning){var B=this.lerp,U=M.x-this.followOffset.x,W=M.y-this.followOffset.y;D?(U<D.x?F=l(F,F-(D.x-U),B.x):U>D.right&&(F=l(F,F+(U-D.right),B.x)),W<D.y?L=l(L,L-(D.y-W),B.y):W>D.bottom&&(L=l(L,L+(W-D.bottom),B.y))):(F=l(F,U-P,B.x),L=l(L,W-w,B.y)),O=!0}this.roundPixels&&(F=Math.floor(F),L=Math.floor(L)),this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.scrollX=F,this.scrollY=L;var H=F+g,Y=L+y;this.midPoint.set(H,Y);var G=Math.floor(d/T+.5),X=Math.floor(v/E+.5),V=Math.floor(H-G/2+.5),b=Math.floor(Y-X/2+.5);this.worldView.setTo(V,b,G,X),A.applyITRS(Math.floor(this.x+P+.5),Math.floor(this.y+w+.5),this.rotation,T,E),A.translate(-P,-w),this.shakeEffect.preRender(),O&&this.emit(n.FOLLOW_UPDATE,this,M)},setLerp:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=d),this.lerp.set(d,v),this},setFollowOffset:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=0),this.followOffset.set(d,v),this},startFollow:function(d,v,g,y,T,E){v===void 0&&(v=!1),g===void 0&&(g=1),y===void 0&&(y=g),T===void 0&&(T=0),E===void 0&&(E=T),this._follow=d,this.roundPixels=v,g=o(g,0,1),y=o(y,0,1),this.lerp.set(g,y),this.followOffset.set(T,E);var A=this.width/2,P=this.height/2,w=d.x-T,M=d.y-E;return this.midPoint.set(w,M),this.scrollX=w-A,this.scrollY=M-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,v){this.visible&&(this.rotateToEffect.update(d,v),this.panEffect.update(d,v),this.zoomEffect.update(d,v),this.shakeEffect.update(d,v),this.flashEffect.update(d,v),this.fadeEffect.update(d,v))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=f},32743:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38058),m=t(83419),o=t(95540),a=t(37277),r=t(37303),e=t(97480),n=t(44594),l=new m({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(n.BOOT,this.boot,this),u.sys.events.on(n.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.shutdown,this)},add:function(s,u,f,d,v,g){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),v===void 0&&(v=!1),g===void 0&&(g="");var y=new h(s,u,f,d);return y.setName(g),y.setScene(this.scene),y.setRoundPixels(this.roundPixels),y.id=this.getNextID(),this.cameras.push(y),v&&(this.main=y),y},addExisting:function(s,u){u===void 0&&(u=!1);var f=this.cameras.indexOf(s);return f===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),u&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,u=1,f=0;f<32;f++){for(var d=!1,v=0;v<s.length;v++){var g=s[v];if(g&&g.id===u){d=!0;continue}}if(d)u=u<<1;else return u}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var u=0,f=this.cameras,d=0;d<f.length;d++){var v=f[d];(!s||s&&v.visible)&&u++}return u},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var u=this.scene.sys.scale.width,f=this.scene.sys.scale.height,d=0;d<s.length;d++){var v=s[d],g=o(v,"x",0),y=o(v,"y",0),T=o(v,"width",u),E=o(v,"height",f),A=this.add(g,y,T,E);A.name=o(v,"name",""),A.zoom=o(v,"zoom",1),A.rotation=o(v,"rotation",0),A.scrollX=o(v,"scrollX",0),A.scrollY=o(v,"scrollY",0),A.roundPixels=o(v,"roundPixels",!1),A.visible=o(v,"visible",!0);var P=o(v,"backgroundColor",!1);P&&A.setBackgroundColor(P);var w=o(v,"bounds",null);if(w){var M=o(w,"x",0),D=o(w,"y",0),F=o(w,"width",u),L=o(w,"height",f);A.setBounds(M,D,F,L)}}return this},getCamera:function(s){for(var u=this.cameras,f=0;f<u.length;f++)if(u[f].name===s)return u[f];return null},getCamerasBelowPointer:function(s){for(var u=this.cameras,f=s.x,d=s.y,v=[],g=0;g<u.length;g++){var y=u[g];y.visible&&y.inputEnabled&&r(y,f,d)&&v.unshift(y)}return v},remove:function(s,u){u===void 0&&(u=!0),Array.isArray(s)||(s=[s]);for(var f=0,d=this.cameras,v=0;v<s.length;v++){var g=d.indexOf(s[v]);g!==-1&&(u?d[g].destroy():d[g].renderList=[],d.splice(g,1),f++)}return!this.main&&d[0]&&(this.main=d[0]),f},render:function(s,u){for(var f=this.scene,d=this.cameras,v=0;v<d.length;v++){var g=d[v];if(g.visible&&g.alpha>0){g.preRender();var y=this.getVisibleChildren(u.getChildren(),g);s.render(f,y,g)}}},getVisibleChildren:function(s,u){return s.filter(function(f){return f.willRender(u)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(s,u)},onResize:function(s,u,f,d,v){for(var g=0;g<this.cameras.length;g++){var y=this.cameras[g];y._x===0&&y._y===0&&y._width===d&&y._height===v&&y.setSize(u.width,u.height)}},resize:function(s,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(s,u)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var u=this.systems.events;u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",l,"cameras"),c.exports=l},5020:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(19715),a=new m({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,s,u,f,d){if(r===void 0&&(r=!0),e===void 0&&(e=1e3),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=s,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d;var v=r?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(v,this.camera,this,e,n,l,s),this.camera},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(u,s,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=a},10662:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(19715),a=new m({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,s,u,f){return r===void 0&&(r=250),e===void 0&&(e=255),n===void 0&&(n=255),l===void 0&&(l=255),s===void 0&&(s=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=e,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(o.FLASH_START,this.camera,this,r,e,n,l),this.camera)},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(u,s,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=a},20359:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(62640),a=t(19715),r=t(26099),e=new m({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,s,u,f,d,v){s===void 0&&(s=1e3),u===void 0&&(u=o.Linear),f===void 0&&(f=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene);var g=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(g.scrollX,g.scrollY),this.destination.set(n,l),g.getScroll(n,l,this.current),typeof u=="string"&&o.hasOwnProperty(u)?this.ease=o[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(a.PAN_START,this.camera,this,s,n,l)),g},update:function(n,l){if(this.isRunning){this._elapsed+=l;var s=h(this._elapsed/this.duration,0,1);this.progress=s;var u=this.camera;if(this._elapsed<this.duration){var f=this.ease(s);u.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*f,v=this.source.y+(this.current.y-this.source.y)*f;u.setScroll(d,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,d,v)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=e},34208:(c,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(45319),m=t(83419),o=t(19715),a=t(62640),r=new m({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,n,l,s,u,f,d){l===void 0&&(l=1e3),s===void 0&&(s=a.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var v=e;e<0?(v=-1*e,this.clockwise=!1):this.clockwise=!0;var g=360*Math.PI/180;v=v-Math.floor(v/g)*g;var y=this.camera;if(!u&&this.isRunning)return y;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=y.rotation,this.destination=v,typeof s=="string"&&a.hasOwnProperty(s)?this.ease=a[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d,this.shortestPath){var T=0,E=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+g)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+g)-this.destination,T<E?this.clockwise=!0:T>E&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,v),y},update:function(e,n){if(this.isRunning){this._elapsed+=n;var l=h(this._elapsed/this.duration,0,1);this.progress=l;var s=this.camera;if(this._elapsed<this.duration){var u=this.ease(l);this.current=s.rotation;var f=0,d=360*Math.PI/180,v=this.destination,g=this.current;this.clockwise===!1&&(v=this.current,g=this.destination),v>=g?f=Math.abs(v-g):f=Math.abs(v+d)-g;var y=0;this.clockwise?y=s.rotation+f*u:y=s.rotation-f*u,s.rotation=y,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,y)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=r},30330:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(19715),a=t(26099),r=new m({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,s,u){return e===void 0&&(e=100),n===void 0&&(n=.05),l===void 0&&(l=!1),s===void 0&&(s=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=u,this.camera.emit(o.SHAKE_START,this.camera,this,e,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,n){if(this.isRunning)if(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,s=this.camera.width,u=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*s*2-l.x*s)*f,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=r},45641:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(62640),a=t(19715),r=new m({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,s,u,f){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),s===void 0&&(s=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene);var d=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=d.zoom,this.destination=e,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(a.ZOOM_START,this.camera,this,n,e)),d},update:function(e,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},20052:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},32726:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},87807:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},45917:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},95666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},47056:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},91261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},45047:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="followupdate"},81927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},74264:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},54419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},79330:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},93183:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},80112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},62252:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},86017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},539:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},51892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},19715:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(35154),o=new h({initialize:function(r){this.camera=m(r,"camera",null),this.left=m(r,"left",null),this.right=m(r,"right",null),this.up=m(r,"up",null),this.down=m(r,"down",null),this.zoomIn=m(r,"zoomIn",null),this.zoomOut=m(r,"zoomOut",null),this.zoomSpeed=m(r,"zoomSpeed",.01),this.minZoom=m(r,"minZoom",.001),this.maxZoom=m(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=m(r,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=m(r,"speed.x",0),this.speedY=m(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},58818:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(35154),o=new h({initialize:function(r){this.camera=m(r,"camera",null),this.left=m(r,"left",null),this.right=m(r,"right",null),this.up=m(r,"up",null),this.down=m(r,"down",null),this.zoomIn=m(r,"zoomIn",null),this.zoomOut=m(r,"zoomOut",null),this.zoomSpeed=m(r,"zoomSpeed",.01),this.minZoom=m(r,"minZoom",.001),this.maxZoom=m(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=m(r,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=m(r,"acceleration.x",0),this.accelY=m(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=m(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=m(r,"drag.x",0),this.dragY=m(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=m(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=m(r,"maxSpeed.x",0),this.maxSpeedY=m(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*a|0),this._speedY!==0&&(r.scrollY-=this._speedY*a|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},38865:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=h},69547:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(8054),o=t(42363),a=t(82264),r=t(95540),e=t(35154),n=t(41212),l=t(29747),s=t(75508),u=t(36060),f=t(80333),d=new h({initialize:function(g){g===void 0&&(g={});var y=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],T="#ffffff",E=e(g,"scale",null);this.width=e(E,"width",1024,g),this.height=e(E,"height",768,g),this.zoom=e(E,"zoom",1,g),this.parent=e(E,"parent",void 0,g),this.scaleMode=e(E,E?"mode":"scaleMode",0,g),this.expandParent=e(E,"expandParent",!0,g),this.autoRound=e(E,"autoRound",!1,g),this.autoCenter=e(E,"autoCenter",0,g),this.resizeInterval=e(E,"resizeInterval",500,g),this.fullscreenTarget=e(E,"fullscreenTarget",null,g),this.minWidth=e(E,"min.width",0,g),this.maxWidth=e(E,"max.width",0,g),this.minHeight=e(E,"min.height",0,g),this.maxHeight=e(E,"max.height",0,g),this.snapWidth=e(E,"snap.width",0,g),this.snapHeight=e(E,"snap.height",0,g),this.renderType=e(g,"type",m.AUTO),this.canvas=e(g,"canvas",null),this.context=e(g,"context",null),this.canvasStyle=e(g,"canvasStyle",null),this.customEnvironment=e(g,"customEnvironment",!1),this.sceneConfig=e(g,"scene",null),this.seed=e(g,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=e(g,"title",""),this.gameURL=e(g,"url","https://phaser.io/"+m.LOG_VERSION),this.gameVersion=e(g,"version",""),this.autoFocus=e(g,"autoFocus",!0),this.stableSort=e(g,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=e(g,"dom.createContainer",!1),this.domPointerEvents=e(g,"dom.pointerEvents","none"),this.inputKeyboard=e(g,"input.keyboard",!0),this.inputKeyboardEventTarget=e(g,"input.keyboard.target",window),this.inputKeyboardCapture=e(g,"input.keyboard.capture",[]),this.inputMouse=e(g,"input.mouse",!0),this.inputMouseEventTarget=e(g,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(g,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(g,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(g,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(g,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(g,"input.touch",a.input.touch),this.inputTouchEventTarget=e(g,"input.touch.target",null),this.inputTouchCapture=e(g,"input.touch.capture",!0),this.inputActivePointers=e(g,"input.activePointers",1),this.inputSmoothFactor=e(g,"input.smoothFactor",0),this.inputWindowEvents=e(g,"input.windowEvents",!0),this.inputGamepad=e(g,"input.gamepad",!1),this.inputGamepadEventTarget=e(g,"input.gamepad.target",window),this.disableContextMenu=e(g,"disableContextMenu",!1),this.audio=e(g,"audio",{}),this.hideBanner=e(g,"banner",null)===!1,this.hidePhaser=e(g,"banner.hidePhaser",!1),this.bannerTextColor=e(g,"banner.text",T),this.bannerBackgroundColor=e(g,"banner.background",y),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(g,"fps",null),this.disablePreFX=e(g,"disablePreFX",!1),this.disablePostFX=e(g,"disablePostFX",!1);var A=e(g,"render",null);this.pipeline=e(A,"pipeline",null,g),this.autoMobilePipeline=e(A,"autoMobilePipeline",!0,g),this.defaultPipeline=e(A,"defaultPipeline",u.MULTI_PIPELINE,g),this.antialias=e(A,"antialias",!0,g),this.antialiasGL=e(A,"antialiasGL",!0,g),this.mipmapFilter=e(A,"mipmapFilter","",g),this.desynchronized=e(A,"desynchronized",!1,g),this.roundPixels=e(A,"roundPixels",!1,g),this.pixelArt=e(A,"pixelArt",this.zoom!==1,g),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(A,"transparent",!1,g),this.clearBeforeRender=e(A,"clearBeforeRender",!0,g),this.preserveDrawingBuffer=e(A,"preserveDrawingBuffer",!1,g),this.premultipliedAlpha=e(A,"premultipliedAlpha",!0,g),this.failIfMajorPerformanceCaveat=e(A,"failIfMajorPerformanceCaveat",!1,g),this.powerPreference=e(A,"powerPreference","default",g),this.batchSize=e(A,"batchSize",4096,g),this.maxTextures=e(A,"maxTextures",-1,g),this.maxLights=e(A,"maxLights",10,g);var P=e(g,"backgroundColor",0);this.backgroundColor=f(P),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(g,"callbacks.preBoot",l),this.postBoot=e(g,"callbacks.postBoot",l),this.physics=e(g,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(g,"loader.baseURL",""),this.loaderPath=e(g,"loader.path",""),this.loaderMaxParallelDownloads=e(g,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=e(g,"loader.crossOrigin",void 0),this.loaderResponseType=e(g,"loader.responseType",""),this.loaderAsync=e(g,"loader.async",!0),this.loaderUser=e(g,"loader.user",""),this.loaderPassword=e(g,"loader.password",""),this.loaderTimeout=e(g,"loader.timeout",0),this.loaderMaxRetries=e(g,"loader.maxRetries",2),this.loaderWithCredentials=e(g,"loader.withCredentials",!1),this.loaderImageLoadType=e(g,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(g,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(g,"fx.glow.quality",.1),this.glowFXDistance=e(g,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=e(g,"plugins",null),M=o.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:n(w)&&(this.installGlobalPlugins=r(w,"global",[]),this.installScenePlugins=r(w,"scene",[]),Array.isArray(w.default)?M=w.default:Array.isArray(w.defaultMerge)&&(M=M.concat(w.defaultMerge)))),this.defaultPlugins=M;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(g,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(g,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(g,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});c.exports=d},86054:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20623),m=t(27919),o=t(8054),a=t(89357),r=function(e){var n=e.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=a.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||m.disableSmoothing();var l=e.scale.baseSize,s=l.width,u=l.height;if(n.canvas?(e.canvas=n.canvas,e.canvas.width=s,e.canvas.height=u):e.canvas=m.create(e,s,u,n.renderType),n.canvasStyle&&(e.canvas.style=n.canvasStyle),n.antialias||h.setCrisp(e.canvas),n.renderType!==o.HEADLESS){var f,d;f=t(68627),d=t(74797),n.renderType===o.WEBGL?e.renderer=new d(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};c.exports=r},96391:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),m=function(o){var a=o.config;if(!a.hideBanner){var r="WebGL";a.renderType===h.CANVAS?r="Canvas":a.renderType===h.HEADLESS&&(r="Headless");var e=a.audio,n=o.device.audio,l;if(n.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var s="",u=[s];if(Array.isArray(a.bannerBackgroundColor)){var f;a.bannerBackgroundColor.forEach(function(v){s=s.concat("%c "),u.push("background: "+v),f=v}),u[u.length-1]="color: "+a.bannerTextColor+"; background: "+f}else s=s.concat("%c "),u.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);u.push("background: transparent"),a.gameTitle&&(s=s.concat(a.gameTitle),a.gameVersion&&(s=s.concat(" v"+a.gameVersion)),a.hidePhaser||(s=s.concat(" / ")));var d="";a.hidePhaser||(s=s.concat("Phaser v"+h.VERSION+d+" ("+r+" | "+l+")")),s=s.concat(" %c "+a.gameURL),u[0]=s,console.log.apply(console,u)}}};c.exports=m},50127:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),m=t(60848),o=t(24047),a=t(27919),r=t(83419),e=t(69547),n=t(83719),l=t(86054),s=t(45893),u=t(96391),f=t(82264),d=t(57264),v=t(50792),g=t(8443),y=t(7003),T=t(37277),E=t(77332),A=t(76531),P=t(60903),w=t(69442),M=t(17130),D=t(65898),F=t(51085),L=t(14747),O=new r({initialize:function(U){this.config=new e(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new m(this),this.textures=new M(this),this.cache=new o(this),this.registry=new s(this,new v),this.input=new y(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=f,this.scale=new A(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new D(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),u(this),h(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(g.BOOT)},texturesReady:function(){this.events.emit(g.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var B=this.events;B.on(g.HIDDEN,this.onHidden,this),B.on(g.VISIBLE,this.onVisible,this),B.on(g.BLUR,this.onBlur,this),B.on(g.FOCUS,this.onFocus,this)},step:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(g.PRE_STEP,B,U),W.emit(g.STEP,B,U),this.scene.update(B,U),W.emit(g.POST_STEP,B,U);var H=this.renderer;H.preRender(),W.emit(g.PRE_RENDER,H,B,U),this.scene.render(H),H.postRender(),W.emit(g.POST_RENDER,H,B,U)}},headlessStep:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(g.PRE_STEP,B,U),W.emit(g.STEP,B,U),this.scene.update(B,U),W.emit(g.POST_STEP,B,U),this.scene.isProcessing=!1,W.emit(g.PRE_RENDER,null,B,U),W.emit(g.POST_RENDER,null,B,U)}},onHidden:function(){this.loop.pause(),this.events.emit(g.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(g.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(g.RESUME,this.loop.pauseDuration)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(g.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(g.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=O},65898:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(35154),o=t(29747),a=t(43092),r=new h({initialize:function(n,l){this.game=n,this.raf=new a,this.started=!1,this.running=!1,this.minFps=m(l,"min",5),this.targetFps=m(l,"target",60),this.fpsLimit=m(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=m(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(l,"deltaHistory",10),this.panicMax=m(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var n=this.deltaIndex,l=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[n],e=Math.min(e,this._min)),l[n]=e,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var u=0,f=0;f<s;f++)u+=l[f];return u/=s,u},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,n),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var n=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=r},51085:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8443),m=function(o){var a,r=o.events;if(document.hidden!==void 0)a="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},a=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(h.HIDDEN):r.emit(h.VISIBLE)};a&&document.addEventListener(a,n,!1),window.onblur=function(){r.emit(h.BLUR)},window.onfocus=function(){r.emit(h.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};c.exports=m},97217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},47548:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},19814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},68446:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},41700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},25432:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},65942:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},59211:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},47789:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},39066:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},460:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},16175:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},42331:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},11966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},32969:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="systemready"},94830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},8443:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5290),m=t(27919),o=t(35154),a=function(r){var e=o(r,"data",[]),n=o(r,"canvas",null),l=o(r,"palette",h),s=o(r,"pixelWidth",1),u=o(r,"pixelHeight",s),f=o(r,"resizeCanvas",!0),d=o(r,"clearCanvas",!0),v=o(r,"preRender",null),g=o(r,"postRender",null),y=Math.floor(Math.abs(e[0].length*s)),T=Math.floor(Math.abs(e.length*u));n||(n=m.create2D(this,y,T),f=!1,d=!1),f&&(n.width=y,n.height=T);var E=n.getContext("2d",{willReadFrequently:!0});d&&E.clearRect(0,0,y,T),v&&v(n,E);for(var A=0;A<e.length;A++)for(var P=e[A],w=0;w<P.length;w++){var M=P[w];M!=="."&&M!==" "&&(E.fillStyle=l[M],E.fillRect(w*s,A*u,s,u))}return g&&g(n,E),n};c.exports=a},15822:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(36316),o=t(80021),a=t(26099),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(u=new a(n[6],n[7]),s=new a(n[4],n[5]),l=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s,this.p3=u},getStartPoint:function(e){return e===void 0&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new a);var l=this.p0,s=this.p1,u=this.p2,f=this.p3;return n.set(m(e,l.x,s.x,u.x,f.x),m(e,l.y,s.y,u.y,f.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)e.lineTo(l[s].x,l[s].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(e){var n=e.points,l=new a(n[0],n[1]),s=new a(n[2],n[3]),u=new a(n[4],n[5]),f=new a(n[6],n[7]);return new r(l,s,u,f)},c.exports=r},80021:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(19217),o=t(87841),a=t(26099),r=new h({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(e,n){return n===void 0&&(n=32),e.strokePoints(this.getPoints(n))},getBounds:function(e,n){e||(e=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var s=Math.max(1,Math.round(l/n));return m(this.getSpacedPoints(s),e)},getDistancePoints:function(e){var n=this.getLength(),l=Math.max(1,n/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new a),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,s=this.getPoint(0,this._tmpVec2A),u=0;n.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),u+=l.distance(s),n.push(u),s.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(e,n){var l=this.getUtoTmapping(e);return this.getPoint(l,n)},getPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var s=0;s<=e;s++)l.push(this.getPoint(s/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new a),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var s=0;s<=e;s++){var u=this.getUtoTmapping(s/e,null,e);l.push(this.getPoint(u))}return l},getStartPoint:function(e){return e===void 0&&(e=new a),this.getPointAt(0,e)},getTangent:function(e,n){n===void 0&&(n=new a);var l=1e-4,s=e-l,u=e+l;return s<0&&(s=0),u>1&&(u=1),this.getPoint(s,this._tmpVec2A),this.getPoint(u,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,n){var l=this.getUtoTmapping(e);return this.getTangent(l,n)},getTFromDistance:function(e,n){return e<=0?0:this.getUtoTmapping(0,e,n)},getUtoTmapping:function(e,n,l){var s=this.getLengths(l),u=0,f=s.length,d;n?d=Math.min(n,s[f-1]):d=e*s[f-1];for(var v=0,g=f-1,y;v<=g;)if(u=Math.floor(v+(g-v)/2),y=s[u]-d,y<0)v=u+1;else if(y>0)g=u-1;else{g=u;break}if(u=g,s[u]===d)return u/(f-1);var T=s[u],E=s[u+1],A=E-T,P=(d-T)/A;return(u+P)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=r},73825:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(80021),o=t(39506),a=t(35154),r=t(43396),e=t(26099),n=new h({Extends:m,initialize:function(s,u,f,d,v,g,y,T){if(typeof s=="object"){var E=s;s=a(E,"x",0),u=a(E,"y",0),f=a(E,"xRadius",0),d=a(E,"yRadius",f),v=a(E,"startAngle",0),g=a(E,"endAngle",360),y=a(E,"clockwise",!1),T=a(E,"rotation",0)}else d===void 0&&(d=f),v===void 0&&(v=0),g===void 0&&(g=360),y===void 0&&(y=!1),T===void 0&&(T=0);m.call(this,"EllipseCurve"),this.p0=new e(s,u),this._xRadius=f,this._yRadius=d,this._startAngle=o(v),this._endAngle=o(g),this._clockwise=y,this._rotation=o(T)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,s){s===void 0&&(s=new e);for(var u=Math.PI*2,f=this._endAngle-this._startAngle,d=Math.abs(f)<Number.EPSILON;f<0;)f+=u;for(;f>u;)f-=u;f<Number.EPSILON&&(d?f=0:f=u),this._clockwise&&!d&&(f===u?f=-u:f=f-u);var v=this._startAngle+l*f,g=this.p0.x+this._xRadius*Math.cos(v),y=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var T=Math.cos(this._rotation),E=Math.sin(this._rotation),A=g-this.p0.x,P=y-this.p0.y;g=A*T-P*E+this.p0.x,y=A*E+P*T+this.p0.y}return s.set(g,y)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},c.exports=n},33951:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(80021),o=t(19217),a=t(87841),r=t(26099),e=new h({Extends:m,initialize:function(l,s){m.call(this,"LineCurve"),Array.isArray(l)&&(s=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=s,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new a),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,s){var u;if(l){var f=this.getLengths(s),d=f[f.length-1],v=Math.min(l,d);u=v/d}else u=n;return u},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(n){var l=n.points,s=new r(l[0],l[1]),u=new r(l[2],l[3]);return new e(s,u)},c.exports=e},14744:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(80021),o=t(32112),a=t(26099),r=new h({Extends:m,initialize:function(n,l,s){m.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(s=new a(n[4],n[5]),l=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s},getStartPoint:function(e){return e===void 0&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new a);var l=this.p0,s=this.p1,u=this.p2;return n.set(o(e,l.x,s.x,u.x),o(e,l.y,s.y,u.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)e.lineTo(l[s].x,l[s].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(e){var n=e.points,l=new a(n[0],n[1]),s=new a(n[2],n[3]),u=new a(n[4],n[5]);return new r(l,s,u)},c.exports=r},42534:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),m=t(83419),o=t(80021),a=t(26099),r=new m({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(e){for(var n=0;n<e.length;n++){var l=new a;typeof e[n]=="number"?(l.x=e[n],l.y=e[n+1],n++):Array.isArray(e[n])?(l.x=e[n][0],l.y=e[n][1]):(l.x=e[n].x,l.y=e[n].y),this.points.push(l)}return this},addPoint:function(e,n){var l=new a(e,n);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new a),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,n){n===void 0&&(n=new a);var l=this.points,s=(l.length-1)*e,u=Math.floor(s),f=s-u,d=l[u===0?u:u-1],v=l[u],g=l[u>l.length-2?l.length-1:u+1],y=l[u>l.length-3?l.length-1:u+2];return n.set(h(f,d.x,v.x,g.x,y.x),h(f,d.y,v.y,g.y,y.y))},toJSON:function(){for(var e=[],n=0;n<this.points.length;n++)e.push(this.points[n].x),e.push(this.points[n].y);return{type:this.type,points:e}}});r.fromJSON=function(e){return new r(e.points)},c.exports=r},25410:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(26099),o=new h({initialize:function(r,e){this.active=!1,this.p0=new m(r,e)},getPoint:function(a,r){return r===void 0&&(r=new m),r.copy(this.p0)},getPointAt:function(a,r){return this.getPoint(a,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=o},46669:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(46728),o=t(73825),a=t(39429),r=t(33951),e=t(68618),n=t(14744),l=t(87841),s=t(42534),u=t(26099),f=t(36383),d=new h({initialize:function(g,y){g===void 0&&(g=0),y===void 0&&(y=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof g=="object"?this.fromJSON(g):this.startPoint.set(g,y)},add:function(v){return this.curves.push(v),this},circleTo:function(v,g,y){return g===void 0&&(g=!1),this.ellipseTo(v,v,0,360,g,y)},closePath:function(){var v=this.curves[0].getPoint(0),g=this.curves[this.curves.length-1].getPoint(1);return v.equals(g)||this.curves.push(new r(g,v)),this},cubicBezierTo:function(v,g,y,T,E,A){var P=this.getEndPoint(),w,M,D;return v instanceof u?(w=v,M=g,D=y):(w=new u(y,T),M=new u(E,A),D=new u(v,g)),this.add(new m(P,w,M,D))},quadraticBezierTo:function(v,g,y,T){var E=this.getEndPoint(),A,P;return v instanceof u?(A=v,P=g):(A=new u(y,T),P=new u(v,g)),this.add(new n(E,A,P))},draw:function(v,g){for(var y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&T.draw(v,g)}return v},ellipseTo:function(v,g,y,T,E,A){var P=new o(0,0,v,g,y,T,E,A),w=this.getEndPoint(this._tmpVec2A),M=P.getStartPoint(this._tmpVec2B);return w.subtract(M),P.x=w.x,P.y=w.y,this.add(P)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var g=0;g<v.curves.length;g++){var y=v.curves[g];switch(y.type){case"LineCurve":this.add(r.fromJSON(y));break;case"EllipseCurve":this.add(o.fromJSON(y));break;case"SplineCurve":this.add(s.fromJSON(y));break;case"CubicBezierCurve":this.add(m.fromJSON(y));break;case"QuadraticBezierCurve":this.add(n.fromJSON(y));break}}return this},getBounds:function(v,g){v===void 0&&(v=new l),g===void 0&&(g=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var y=new l,T=f.MIN_SAFE_INTEGER,E=f.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var P=this.curves[A];P.active&&(P.getBounds(y,g),v.x=Math.min(v.x,y.x),v.y=Math.min(v.y,y.y),T=Math.max(T,y.right),E=Math.max(E,y.bottom))}return v.right=T,v.bottom=E,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],g=0,y=0;y<this.curves.length;y++)g+=this.curves[y].getLength(),v.push(g);return this.cacheLengths=v,v},getCurveAt:function(v){for(var g=v*this.getLength(),y=this.getCurveLengths(),T=0;T<y.length;){if(y[T]>=g)return this.curves[T];T++}return null},getEndPoint:function(v){return v===void 0&&(v=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,g){g===void 0&&(g=new u);for(var y=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=y){var A=T[E]-y,P=this.curves[E],w=P.getLength(),M=w===0?0:1-A/w;return P.getPointAt(M,g)}E++}return null},getPoints:function(v,g){!v&&!g&&(v=this.defaultDivisions);for(var y=[],T,E=0;E<this.curves.length;E++){var A=this.curves[E];if(A.active)for(var P=A.getResolution(v),w=A.getPoints(P,g),M=0;M<w.length;M++){var D=w[M];T&&T.equals(D)||(y.push(D),T=D)}}return this.autoClose&&y.length>1&&!y[y.length-1].equals(y[0])&&y.push(y[0]),y},getRandomPoint:function(v){return v===void 0&&(v=new u),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var g=[],y=0;y<=v;y++)g.push(this.getPoint(y/v));return this.autoClose&&g.push(g[0]),g},getStartPoint:function(v){return v===void 0&&(v=new u),v.copy(this.startPoint)},getTangent:function(v,g){g===void 0&&(g=new u);for(var y=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=y){var A=T[E]-y,P=this.curves[E],w=P.getLength(),M=w===0?0:1-A/w;return P.getTangentAt(M,g)}E++}return null},lineTo:function(v,g){v instanceof u?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,g);var y=this.getEndPoint(this._tmpVec2A);return this.add(new r([y.x,y.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new s(v))},moveTo:function(v,g){return v instanceof u?this.add(new e(v.x,v.y)):this.add(new e(v,g))},toJSON:function(){for(var v=[],g=0;g<this.curves.length;g++)v.push(this.curves[g].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(v,g){return new d(v,g)}),c.exports=d},45893:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(24882),o=new h({initialize:function(r,e){this.parent=r,this.events=e,e||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(a){var r=this.list;if(Array.isArray(a)){for(var e=[],n=0;n<a.length;n++)e.push(r[a[n]]);return e}else return r[a]},getAll:function(){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&(a[r]=this.list[r]);return a},query:function(a){var r={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(a)&&(r[e]=this.list[e]);return r},set:function(a,r){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,r);for(var e in a)this.setValue(e,a[e]);return this},inc:function(a,r){if(this._frozen)return this;r===void 0&&(r=1);var e=this.get(a);return e===void 0&&(e=0),this.set(a,e+r),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,r){if(this._frozen)return this;if(this.has(a))this.values[a]=r;else{var e=this,n=this.list,l=this.events,s=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return n[a]},set:function(u){if(!e._frozen){var f=n[a];n[a]=u,l.emit(m.CHANGE_DATA,s,a,u,f),l.emit(m.CHANGE_DATA_KEY+a,s,u,f)}}}),n[a]=r,l.emit(m.SET_DATA,s,a,r)}return this},each:function(a,r){for(var e=[this.parent,null,void 0],n=1;n<arguments.length;n++)e.push(arguments[n]);for(var l in this.list)e[1]=l,e[2]=this.list[l],a.apply(r,e);return this},merge:function(a,r){r===void 0&&(r=!0);for(var e in a)a.hasOwnProperty(e)&&(r||!r&&!this.has(e))&&this.setValue(e,a[e]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var r=0;r<a.length;r++)this.removeValue(a[r]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var r=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(m.REMOVE_DATA,this.parent,a,r)}return this},pop:function(a){var r=void 0;return!this._frozen&&this.has(a)&&(r=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(m.REMOVE_DATA,this.parent,a,r)),r},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var r in this.list)this.list[r]!==void 0&&a++;return a}}});c.exports=o},63646:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(45893),o=t(37277),a=t(44594),r=new h({Extends:m,initialize:function(n){m.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",r,"data"),c.exports=r},10700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},93608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},60883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},69780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},22166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},24882:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),r=!!a.canPlayType;try{if(r){var e=function(s,u){var f=a.canPlayType("audio/"+s).replace(/^no$/,"");return u?!!(f||a.canPlayType("audio/"+u).replace(/^no$/,"")):!!f};if(m.ogg=e('ogg; codecs="vorbis"'),m.opus=e('ogg; codecs="opus"',"opus"),m.mp3=e("mpeg"),m.wav=e("wav"),m.m4a=e("x-m4a"),m.aac=e("aac"),m.flac=e("flac","x-flac"),m.webm=e('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)m.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(m.dolby=!0)}}}}catch{}return m}c.exports=o()},84148:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(m.edge=!0,m.es2019=!0):/OPR/.test(a)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(a)&&!h.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(a)&&h.iOS?(m.mobileSafari=!0,m.es2019=!0):/MSIE (\d+\.\d+);/.test(a)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(a)&&!h.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(m.silk=!0),m}c.exports=o()},89289:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var s=new Image;s.onload=function(){var u=h.create2D(s,6),f=u.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(s,2,0),!f.getImageData(2,0,1,1))return!1;var d=f.getImageData(2,0,1,1).data;h.remove(s),m.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},s.src=e+"/wCKxvRF"+n},l.src=e+"AP804Oa6"+n,!1}function a(){var e=h.create2D(this,2),n=e.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var s=n.getImageData(1,0,1,1),u=s.data[0]===l.data[0]&&s.data[1]===l.data[1]&&s.data[2]===l.data[2]&&s.data[3]===l.data[3];return h.remove(this),u}function r(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=o(),m.supportInverseAlpha=a()),m}c.exports=r()},89357:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),m=t(84148),o=t(27919),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),s=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var s=o.createWebGL(this),u=s.getContext("webgl")||s.getContext("experimental-webgl"),f=o.create2D(this),d=f.getContext("2d",{willReadFrequently:!0}),v=d.createImageData(1,1);return n=v.data instanceof Uint8ClampedArray,o.remove(s),o.remove(f),!!u}catch{return!1}return!1};return a.webGL=l(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(a.getUserMedia=!1),!h.iOS&&(m.ie||m.firefox||m.chrome)&&(a.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=r()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&n,a}c.exports=e()},91639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var h,m="Fullscreen",o="FullScreen",a=["request"+m,"request"+o,"webkitRequest"+m,"webkitRequest"+o,"msRequest"+m,"msRequest"+o,"mozRequest"+o,"mozRequest"+m];for(h=0;h<a.length;h++)if(document.documentElement[a[h]]){S.available=!0,S.request=a[h];break}var r=["cancel"+o,"exit"+m,"webkitCancel"+o,"webkitExit"+m,"msCancel"+o,"msExit"+m,"mozCancel"+o,"mozExit"+m];if(S.available){for(h=0;h<r.length;h++)if(document[r[h]]){S.cancel=r[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}c.exports=t()},31784:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}c.exports=o()},25892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var h=navigator.userAgent;/Windows/.test(h)?S.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(h)?S.android=!0:/Linux/.test(h)?S.linux=!0:/iP[ao]d|iPhone/i.test(h)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=h.toLowerCase().indexOf("iphone")!==-1,S.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?S.kindle=!0:/CrOS/.test(h)&&(S.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var m=/Silk/.test(h);return(S.windows||S.macOS||S.linux&&!m||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}c.exports=t()},43267:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return m;var a=document.createElement("video"),r=!!a.canPlayType,e=/^no$/;try{r&&(a.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(m.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(m.h264=!0,m.mp4=!0),a.canPlayType("video/x-m4v").replace(e,"")&&(m.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(m.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(m.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(m.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),m.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=h(n[l],"url",n[l]);if(s.indexOf("blob:")===0)return{url:s,type:""};var u;if(s.indexOf("data:")===0?u=s.split(",")[0].match(/\/(.*?);/):u=s.match(/\.([a-zA-Z0-9]+)($|\?)/),u=h(n[l],"type",u?u[1]:"").toLowerCase(),m[u])return{url:s,type:u}}return null},m}c.exports=o()},82264:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new Float32Array(20),o=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var e=a;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},saturate:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var e=a*2/3+1,n=(e-1)*-.5;return this.multiply([e,n,n,0,0,n,e,n,0,0,n,n,e,0,0,0,0,0,1,0],r)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1),a=a/180*Math.PI;var e=Math.cos(a),n=Math.sin(a),l=.213,s=.715,u=.072;return this.multiply([l+e*(1-l)+n*-.213,s+e*-.715+n*-.715,u+e*-.072+n*(1-u),0,0,l+e*-.213+n*.143,s+e*(1-s)+n*.14,u+e*-.072+n*-.283,0,0,l+e*-.213+n*-.787,s+e*-.715+n*s,u+e*(1-u)+n*u,0,0,0,0,0,1,0],r)},grayscale:function(a,r){return a===void 0&&(a=1),r===void 0&&(r=!1),this.saturate(-a,r)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(o.BLACK_WHITE,a)},contrast:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var e=a+1,n=-.5*(e-1);return this.multiply([e,0,0,0,n,0,e,0,0,n,0,0,e,0,n,0,0,0,1,0],r)},negative:function(a){return a===void 0&&(a=!1),this.multiply(o.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(o.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(o.SEPIA,a)},night:function(a,r){return a===void 0&&(a=.1),r===void 0&&(r=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],r)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(o.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(o.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(o.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(o.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(o.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(o.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(o.SHIFT_BGR,a)},multiply:function(a,r){r===void 0&&(r=!1),r||this.reset();var e=this._matrix,n=m;return n.set(e),e.set([n[0]*a[0]+n[1]*a[5]+n[2]*a[10]+n[3]*a[15],n[0]*a[1]+n[1]*a[6]+n[2]*a[11]+n[3]*a[16],n[0]*a[2]+n[1]*a[7]+n[2]*a[12]+n[3]*a[17],n[0]*a[3]+n[1]*a[8]+n[2]*a[13]+n[3]*a[18],n[0]*a[4]+n[1]*a[9]+n[2]*a[14]+n[3]*a[19]+n[4],n[5]*a[0]+n[6]*a[5]+n[7]*a[10]+n[8]*a[15],n[5]*a[1]+n[6]*a[6]+n[7]*a[11]+n[8]*a[16],n[5]*a[2]+n[6]*a[7]+n[7]*a[12]+n[8]*a[17],n[5]*a[3]+n[6]*a[8]+n[7]*a[13]+n[8]*a[18],n[5]*a[4]+n[6]*a[9]+n[7]*a[14]+n[8]*a[19]+n[9],n[10]*a[0]+n[11]*a[5]+n[12]*a[10]+n[13]*a[15],n[10]*a[1]+n[11]*a[6]+n[12]*a[11]+n[13]*a[16],n[10]*a[2]+n[11]*a[7]+n[12]*a[12]+n[13]*a[17],n[10]*a[3]+n[11]*a[8]+n[12]*a[13]+n[13]*a[18],n[10]*a[4]+n[11]*a[9]+n[12]*a[14]+n[13]*a[19]+n[14],n[15]*a[0]+n[16]*a[5]+n[17]*a[10]+n[18]*a[15],n[15]*a[1]+n[16]*a[6]+n[17]*a[11]+n[18]*a[16],n[15]*a[2]+n[16]*a[7]+n[17]*a[12]+n[18]*a[17],n[15]*a[3]+n[16]*a[8]+n[17]*a[13]+n[18]*a[18],n[15]*a[4]+n[16]*a[9]+n[17]*a[14]+n[18]*a[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=o},51767:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(29747),o=new h({initialize:function(r,e,n){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(r,e,n)},set:function(a,r,e){return a===void 0&&(a=0),r===void 0&&(r=0),e===void 0&&(e=0),this._rgb=[a,r,e],this.onChange(),this},equals:function(a,r,e){var n=this._rgb;return n[0]===a&&n[1]===r&&n[2]===e},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=o},60461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=S},54312:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(35893),o=t(86327),a=t(88417),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)+l),o(e,h(n)+s),e};c.exports=r},46768:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(26541),o=t(86327),a=t(385),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)-l),o(e,h(n)+s),e};c.exports=r},35827:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(54380),o=t(86327),a=t(40136),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)+l),o(e,h(n)+s),e};c.exports=r},46871:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66786),m=t(35893),o=t(7702),a=function(r,e,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),h(r,m(e)+n,o(e)+l),r};c.exports=a},5198:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),m=t(26541),o=t(20786),a=t(385),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)-l),o(e,h(n)+s),e};c.exports=r},11879:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),m=[];m[h.BOTTOM_CENTER]=t(54312),m[h.BOTTOM_LEFT]=t(46768),m[h.BOTTOM_RIGHT]=t(35827),m[h.CENTER]=t(46871),m[h.LEFT_CENTER]=t(5198),m[h.RIGHT_CENTER]=t(80503),m[h.TOP_CENTER]=t(89698),m[h.TOP_LEFT]=t(922),m[h.TOP_RIGHT]=t(21373),m[h.LEFT_BOTTOM]=m[h.BOTTOM_LEFT],m[h.LEFT_TOP]=m[h.TOP_LEFT],m[h.RIGHT_BOTTOM]=m[h.BOTTOM_RIGHT],m[h.RIGHT_TOP]=m[h.TOP_RIGHT];var o=function(a,r,e,n,l){return m[e](a,r,n,l)};c.exports=o},80503:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),m=t(54380),o=t(20786),a=t(40136),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)+l),o(e,h(n)+s),e};c.exports=r},89698:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),m=t(17717),o=t(88417),a=t(66737),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(e,h(n)+l),a(e,m(n)-s),e};c.exports=r},922:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),m=t(17717),o=t(385),a=t(66737),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(e,h(n)-l),a(e,m(n)-s),e};c.exports=r},21373:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),m=t(17717),o=t(40136),a=t(66737),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(e,h(n)+l),a(e,m(n)-s),e};c.exports=r},91660:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),m=t(79291),o={In:t(91660),To:t(16694)};o=m(!1,o,h),c.exports=o},21578:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(35893),o=t(88417),a=t(66737),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(e,m(n)+l),a(e,h(n)+s),e};c.exports=r},10210:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(26541),o=t(385),a=t(66737),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(e,m(n)-l),a(e,h(n)+s),e};c.exports=r},82341:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(54380),o=t(40136),a=t(66737),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(e,m(n)+l),a(e,h(n)+s),e};c.exports=r},87958:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(26541),o=t(86327),a=t(40136),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)-l),o(e,h(n)+s),e};c.exports=r},40080:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),m=t(26541),o=t(20786),a=t(40136),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)-l),o(e,h(n)+s),e};c.exports=r},88466:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),m=t(17717),o=t(40136),a=t(66737),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(e,h(n)-l),a(e,m(n)-s),e};c.exports=r},38829:(c,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),m=[];m[h.BOTTOM_CENTER]=t(21578),m[h.BOTTOM_LEFT]=t(10210),m[h.BOTTOM_RIGHT]=t(82341),m[h.LEFT_BOTTOM]=t(87958),m[h.LEFT_CENTER]=t(40080),m[h.LEFT_TOP]=t(88466),m[h.RIGHT_BOTTOM]=t(19211),m[h.RIGHT_CENTER]=t(34609),m[h.RIGHT_TOP]=t(48741),m[h.TOP_CENTER]=t(49440),m[h.TOP_LEFT]=t(81288),m[h.TOP_RIGHT]=t(61323);var o=function(a,r,e,n,l){return m[e](a,r,n,l)};c.exports=o},19211:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(54380),o=t(86327),a=t(385),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)+l),o(e,h(n)+s),e};c.exports=r},34609:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),m=t(54380),o=t(20786),a=t(385),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,m(n)+l),o(e,h(n)+s),e};c.exports=r},48741:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),m=t(17717),o=t(385),a=t(66737),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(e,h(n)+l),a(e,m(n)-s),e};c.exports=r},49440:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),m=t(17717),o=t(86327),a=t(88417),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,h(n)+l),o(e,m(n)-s),e};c.exports=r},81288:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),m=t(17717),o=t(86327),a=t(385),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,h(n)-l),o(e,m(n)-s),e};c.exports=r},61323:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),m=t(17717),o=t(86327),a=t(40136),r=function(e,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(e,h(n)+l),o(e,m(n)-s),e};c.exports=r},16694:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88417),m=t(20786),o=function(a,r,e){return h(a,r),m(a,e)};c.exports=o},62235:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};c.exports=S},72873:(c,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),m=t(26541),o=t(54380),a=t(17717),r=t(87841),e=function(n,l){l===void 0&&(l=new r);var s=m(n),u=a(n);return l.x=s,l.y=u,l.width=o(n)-s,l.height=h(n)-u,l};c.exports=e},35893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};c.exports=S},7702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};c.exports=S},26541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};c.exports=S},87431:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};c.exports=S},46928:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};c.exports=S},54380:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};c.exports=S},17717:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};c.exports=S},86327:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h-t.height+t.height*t.originY,t};c.exports=S},88417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.width*t.originX;return t.x=h+m-t.width*.5,t};c.exports=S},20786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.height*t.originY;return t.y=h+m-t.height*.5,t};c.exports=S},385:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h+t.width*t.originX,t};c.exports=S},40136:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h-t.width+t.width*t.originX,t};c.exports=S},66737:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h+t.height*t.originY,t};c.exports=S},58724:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(m){t.style["image-rendering"]=m}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};c.exports=S},27919:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),m=t(68703),o=[],a=!1,r=function(){var e=function(y,T,E,A,P){T===void 0&&(T=1),E===void 0&&(E=1),A===void 0&&(A=h.CANVAS),P===void 0&&(P=!1);var w,M=s(A);return M===null?(M={parent:y,canvas:document.createElement("canvas"),type:A},A===h.CANVAS&&o.push(M),w=M.canvas):(M.parent=y,w=M.canvas),P&&(M.parent=w),w.width=T,w.height=E,a&&A===h.CANVAS&&m.disable(w.getContext("2d",{willReadFrequently:!1})),w},n=function(y,T,E){return e(y,T,E,h.CANVAS)},l=function(y,T,E){return e(y,T,E,h.WEBGL)},s=function(y){if(y===void 0&&(y=h.CANVAS),y===h.WEBGL)return null;for(var T=0;T<o.length;T++){var E=o[T];if(!E.parent&&E.type===y)return E}return null},u=function(y){var T=y instanceof HTMLCanvasElement;o.forEach(function(E){(T&&E.canvas===y||!T&&E.parent===y)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},f=function(){var y=0;return o.forEach(function(T){T.parent&&y++}),y},d=function(){return o.length-f()},v=function(){a=!0},g=function(){a=!1};return{create2D:n,create:e,createWebGL:l,disableSmoothing:v,enableSmoothing:g,first:s,free:d,pool:o,remove:u,total:f}};c.exports=r()},68703:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var h=function(r){for(var e=["i","webkitI","msI","mozI","oI"],n=0;n<e.length;n++){var l=e[n]+"mageSmoothingEnabled";if(l in r)return l}return null},m=function(r){return S===""&&(S=h(r)),S&&(r[S]=!0),r},o=function(r){return S===""&&(S=h(r)),S&&(r[S]=!1),r},a=function(r){return S!==null?r[S]:null};return{disable:o,enable:m,getPrefix:h,isEnabled:a}};c.exports=t()},65208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};c.exports=S},91610:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(o){t.style[o+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};c.exports=S},26253:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(37589),o=t(1e3),a=t(7537),r=t(87837),e=new h({initialize:function(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,s,u,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,s,u,f){return u===void 0&&(u=255),f===void 0&&(f=!0),this._locked=!0,this.red=n,this.green=l,this.blue=s,this.alpha=u,this._locked=!1,this.update(f)},setGLTo:function(n,l,s,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=s,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,s){return a(n,l,s,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,s=this.g,u=this.b,f=this.a;return this._color=m(l,s,u),this._color32=o(l,s,u,f),this._rgba="rgba("+l+","+s+","+u+","+f/255+")",n&&r(l,s,u,this),this},updateHSV:function(){var n=this.r,l=this.g,s=this.b;return r(n,l,s,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n)),u=Math.floor(n+Math.random()*(l-n)),f=Math.floor(n+Math.random()*(l-n));return this.setTo(s,u,f)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n));return this.setTo(s,s,s)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,s=this.g,u=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(n/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(n/100)))),this.setTo(l,s,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,a(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,a(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,a(this._h,this._s,n,this)}}});c.exports=e},92728:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),m=function(o){o===void 0&&(o=1024);var a=[],r=255,e,n=255,l=0,s=0;for(e=0;e<=r;e++)a.push({r:n,g:e,b:s,color:h(n,e,s)});for(l=255,e=r;e>=0;e--)a.push({r:e,g:l,b:s,color:h(e,l,s)});for(n=0,e=0;e<=r;e++,l--)a.push({r:n,g:l,b:e,color:h(n,l,e)});for(l=0,s=255,e=0;e<=r;e++,s--,n++)a.push({r:n,g:l,b:s,color:h(n,l,s)});if(o===1024)return a;var u=[],f=0,d=1024/o;for(e=0;e<o;e++)u.push(a[Math.floor(f)]),f+=d;return u};c.exports=m},91588:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};c.exports=S},62957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};c.exports=S},37589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t<<16|h<<8|m};c.exports=S},1e3:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){return o<<24|t<<16|h<<8|m};c.exports=S},62183:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),m=t(89528),o=function(a,r,e){var n=e,l=e,s=e;if(r!==0){var u=e<.5?e*(1+r):e+r-e*r,f=2*e-u;n=m(f,u,a+1/3),l=m(f,u,a),s=m(f,u,a-1/3)}var d=new h;return d.setGLTo(n,l,s,1)};c.exports=o},27939:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7537),m=function(o,a){o===void 0&&(o=1),a===void 0&&(a=1);for(var r=[],e=0;e<=359;e++)r.push(h(e/359,o,a));return r};c.exports=m},7537:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589);function m(a,r,e,n){var l=(a+r*6)%6,s=Math.min(l,4-l,1);return Math.round(255*(n-n*e*Math.max(0,s)))}var o=function(a,r,e,n){r===void 0&&(r=1),e===void 0&&(e=1);var l=m(5,a,r,e),s=m(3,a,r,e),u=m(1,a,r,e);return n?n.setTo?n.setTo(l,s,u,n.alpha,!0):(n.r=l,n.g=s,n.b=u,n.color=h(l,s,u),n):{r:l,g:s,b:u,color:h(l,s,u)}};c.exports=o},70238:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),m=function(o){var a=new h;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,u,f,d){return u+u+f+f+d+d});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(r){var e=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);a.setTo(e,n,l)}return a};c.exports=m},89528:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?t+(h-t)*6*m:m<.5?h:m<.6666666666666666?t+(h-t)*(.6666666666666666-m)*6:t};c.exports=S},30100:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),m=t(90664),o=function(a){var r=m(a);return new h(r.r,r.g,r.b,r.a)};c.exports=o},90664:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};c.exports=S},13699:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),m=t(37589),o=function(e,n,l,s,u,f,d,v){d===void 0&&(d=100),v===void 0&&(v=0);var g=v/d,y=h(e,s,g),T=h(n,u,g),E=h(l,f,g);return{r:y,g:T,b:E,a:255,color:m(y,T,E)}},a=function(e,n,l,s){return l===void 0&&(l=100),s===void 0&&(s=0),o(e.r,e.g,e.b,n.r,n.g,n.b,l,s)},r=function(e,n,l,s,u,f){return u===void 0&&(u=100),f===void 0&&(f=0),o(e.r,e.g,e.b,n,l,s,u,f)};c.exports={RGBWithRGB:o,ColorWithRGB:r,ColorWithColor:a}},68957:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),m=function(o){return new h(o.r,o.g,o.b,o.a)};c.exports=m},87388:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),m=function(o){var a=new h,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(r){var e=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),s=r[4]!==void 0?parseFloat(r[4]):1;a.setTo(e,n,l,s*255)}return a};c.exports=m},87837:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,h/=255,m/=255;var a=Math.min(t,h,m),r=Math.max(t,h,m),e=r-a,n=0,l=r===0?0:e/r,s=r;return r!==a&&(r===t?n=(h-m)/e+(h<m?6:0):r===h?n=(m-t)/e+2:r===m&&(n=(t-h)/e+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=s):(o.h=n,o.s=l,o.v=s),o};c.exports=S},75723:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62957),m=function(o,a,r,e,n){return e===void 0&&(e=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(a<<8)+r).toString(16).slice(1,7):"0x"+h(e)+h(o)+h(a)+h(r)};c.exports=m},85386:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),m=t(40987),o=function(a,r){return a===void 0&&(a=0),r===void 0&&(r=255),new m(h(a,r),h(a,r),h(a,r))};c.exports=o},80333:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70238),m=t(30100),o=t(68957),a=t(87388),r=function(e){var n=typeof e;switch(n){case"string":return e.substr(0,3).toLowerCase()==="rgb"?a(e):h(e);case"number":return m(e);case"object":return o(e)}};c.exports=r},3956:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987);h.ColorSpectrum=t(92728),h.ColorToRGBA=t(91588),h.ComponentToHex=t(62957),h.GetColor=t(37589),h.GetColor32=t(1e3),h.HexStringToColor=t(70238),h.HSLToColor=t(62183),h.HSVColorWheel=t(27939),h.HSVToRGB=t(7537),h.HueToComponent=t(89528),h.IntegerToColor=t(30100),h.IntegerToRGB=t(90664),h.Interpolate=t(13699),h.ObjectToColor=t(68957),h.RandomRGB=t(85386),h.RGBStringToColor=t(87388),h.RGBToHSV=t(87837),h.RGBToString=t(75723),h.ValueToColor=t(80333),c.exports=h},27460:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(39429),o=new h({initialize:function(r,e,n,l,s,u){e||(e=r.sys.make.image({x:n,y:l,key:s,frame:u,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,r,e){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,e)},postRenderWebGL:function(a,r,e){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});m.register("bitmapMask",function(a,r,e,n,l){return new o(this.scene,a,r,e,n,l)}),c.exports=o},80661:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,a,r){var e=o.gl;o.flush(),o.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:r}),this.applyStencil(o,r,!0),o.maskCount++},applyStencil:function(o,a,r){var e=o.gl,n=this.geometryMask,l=o.maskCount,s=255;e.colorMask(!1,!1,!1,!1),r?(e.stencilFunc(e.EQUAL,l,s),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,s),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,n.renderWebGL(o,n,a),o.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,s):e.stencilFunc(e.EQUAL,l,s)},postRenderWebGL:function(o){var a=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var r=o.currentMask;if(o.maskStack.length===0)r.mask=null,a.disable(a.STENCIL_TEST);else{var e=o.maskStack[o.maskStack.length-1];e.mask.applyStencil(o,e.camera,!1),o.currentCameraMask.mask!==e.mask?(r.mask=e.mask,r.camera=e.camera):r.mask=null}},preRenderCanvas:function(o,a,r){var e=this.geometryMask;o.currentContext.save(),e.renderCanvas(o,e,r,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=m},69781:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=a,this.fragmentSrc=r,this.vertexSrc=e,this.uniforms=n}});c.exports=m},40366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m;if(h)typeof h=="string"?m=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(m=h);else if(t.parentElement||h===null)return t;return m||(m=document.body),m.appendChild(t),t};c.exports=S},83719:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),m=function(o){var a=o.config;if(!(!a.parent||!a.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=r,h(r,a.parent)}};c.exports=m},57264:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),m=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),o()};document.body?h.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};c.exports=m},57811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),m={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),m.w=h===90?o.offsetHeight:window.innerWidth,m.h=h===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?m.h:m.w};c.exports=S},45818:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),m=function(o,a){var r=window.screen,e=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return a>o?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};c.exports=m},74403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};c.exports=S},56836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h="";try{if(window.DOMParser){var m=new DOMParser;h=m.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};c.exports=S},35846:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};c.exports=S},43092:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(29747),o=new h({initialize:function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function e(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){r.isRunning&&(r.timeOutID=window.setTimeout(e,r.delay)),r.callback(window.performance.now())}},start:function(a,r,e){this.isRunning||(this.callback=a,this.isSetTimeOut=r,this.delay=e,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});c.exports=o},84902:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};c.exports=h},47565:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50792),o=t(37277),a=new h({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",a,"events"),c.exports=a},93055:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(47565)}},20122:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n){n===void 0&&(n=1),m.call(this,o.BARREL,e),this.amount=n}});c.exports=a},32251:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u,f,d){l===void 0&&(l=1),s===void 0&&(s=1),u===void 0&&(u=1),f===void 0&&(f=1),d===void 0&&(d=4),m.call(this,o.BLOOM,e),this.steps=d,this.offsetX=l,this.offsetY=s,this.blurStrength=u,this.strength=f,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=a},9047:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u,f,d){n===void 0&&(n=0),l===void 0&&(l=2),s===void 0&&(s=2),u===void 0&&(u=1),d===void 0&&(d=4),m.call(this,o.BLUR,e),this.quality=n,this.x=l,this.y=s,this.steps=d,this.strength=u,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=a},27885:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u,f,d,v){n===void 0&&(n=.5),l===void 0&&(l=1),s===void 0&&(s=.2),u===void 0&&(u=!1),f===void 0&&(f=1),d===void 0&&(d=1),v===void 0&&(v=1),m.call(this,o.BOKEH,e),this.radius=n,this.amount=l,this.contrast=s,this.isTiltShift=u,this.strength=v,this.blurX=f,this.blurY=d}});c.exports=a},12578:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u,f){n===void 0&&(n=8),u===void 0&&(u=1),f===void 0&&(f=.005),m.call(this,o.CIRCLE,e),this.scale=u,this.feather=f,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),s!=null&&(this.backgroundColor=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor2;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});c.exports=a},15802:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(89422),o=t(14811),a=new h({Extends:m,initialize:function(e){m.call(this),this.type=o.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=a},72898:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r){this.type=a,this.gameObject=r,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=m},44553:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),s===void 0&&(s=.005),m.call(this,o.DISPLACEMENT,e),this.x=l,this.y=s,this.glTexture,this.setTexture(n)},setTexture:function(r){var e=this.gameObject.scene.sys.textures.getFrame(r);return e&&(this.glTexture=e.glTexture),this}});c.exports=a},68531:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u){l===void 0&&(l=4),s===void 0&&(s=0),u===void 0&&(u=!1),m.call(this,o.GLOW,e),this.outerStrength=l,this.innerStrength=s,this.knockout=u,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=a},37102:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u,f,d,v,g){s===void 0&&(s=.2),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=1),g===void 0&&(g=0),m.call(this,o.GRADIENT,e),this.alpha=s,this.size=g,this.fromX=u,this.fromY=f,this.toX=d,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor1;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor2;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}}});c.exports=a},86886:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n){n===void 0&&(n=1),m.call(this,o.PIXELATE,e),this.amount=n}});c.exports=a},92322:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u,f,d,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=.1),u===void 0&&(u=1),d===void 0&&(d=6),v===void 0&&(v=1),m.call(this,o.SHADOW,e),this.x=n,this.y=l,this.decay=s,this.power=u,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=v,f!==void 0&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});c.exports=a},39563:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=3),u===void 0&&(u=!1),m.call(this,o.SHINE,e),this.speed=n,this.lineWidth=l,this.gradient=s,this.reveal=u}});c.exports=a},56448:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=.5),u===void 0&&(u=.5),m.call(this,o.VIGNETTE,e),this.x=n,this.y=l,this.radius=s,this.strength=u}});c.exports=a},38433:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72898),o=t(14811),a=new h({Extends:m,initialize:function(e,n,l,s,u){n===void 0&&(n=.1),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),m.call(this,o.WIPE,e),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=s,this.reveal=u}});c.exports=a},14811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=S},66064:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),m=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=h(!1,o,m),c.exports=o},25305:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),m=t(23568),o=function(a,r,e){r.x=m(e,"x",0),r.y=m(e,"y",0),r.depth=m(e,"depth",0),r.flipX=m(e,"flipX",!1),r.flipY=m(e,"flipY",!1);var n=m(e,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=m(n,"x",1),r.scaleY=m(n,"y",1));var l=m(e,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=m(l,"x",1),r.scrollFactorY=m(l,"y",1)),r.rotation=m(e,"rotation",0);var s=m(e,"angle",null);s!==null&&(r.angle=s),r.alpha=m(e,"alpha",1);var u=m(e,"origin",null);if(typeof u=="number")r.setOrigin(u);else if(u!==null){var f=m(u,"x",.5),d=m(u,"y",.5);r.setOrigin(f,d)}r.blendMode=m(e,"blendMode",h.NORMAL),r.visible=m(e,"visible",!0);var v=m(e,"add",!0);return v&&a.sys.displayList.add(r),r.preUpdate&&a.sys.updateList.add(r),r};c.exports=o},13059:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23568),m=function(o,a){var r=h(a,"anims",null);if(r===null)return o;if(typeof r=="string")o.anims.play(r);else if(typeof r=="object"){var e=o.anims,n=h(r,"key",void 0);if(n){var l=h(r,"startFrame",void 0),s=h(r,"delay",0),u=h(r,"repeat",0),f=h(r,"repeatDelay",0),d=h(r,"yoyo",!1),v=h(r,"play",!1),g=h(r,"delayedPlay",0),y={key:n,delay:s,repeat:u,repeatDelay:f,yoyo:d,startFrame:l};v?e.play(y):g>0?e.playAfterDelay(y,g):e.load(y)}}return o};c.exports=m},8050:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(73162),o=t(37277),a=t(51708),r=t(44594),e=t(19186),n=new h({Extends:m,initialize:function(s){m.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(a.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(a.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,s){return l._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,s=l.length;s--;)l[s].destroy(!0);l.length=0,this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),c.exports=n},95643:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(53774),o=t(45893),a=t(50792),r=t(51708),e=t(44594),n=new h({Extends:a,initialize:function(s,u){a.call(this),this.scene=s,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,s){return this.data||(this.data=new o(this)),this.data.set(l,s),this},incData:function(l,s){return this.data||(this.data=new o(this)),this.data.inc(l,s),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,s,u){return this.scene.sys.input.enable(this,l,s,u),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(l){var s=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!s||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,s=this.parentContainer,u=[];s&&(u.unshift(s.getIndex(l)),l=s,s.parentContainer);)s=s.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,c.exports=n},44603:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(37277),o=t(44594),a=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,e){a.prototype.hasOwnProperty(r)||(a.prototype[r]=e)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},m.register("GameObjectCreator",a,"make"),c.exports=a},39429:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(37277),o=t(44594),a=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,e){a.prototype.hasOwnProperty(r)||(a.prototype[r]=e)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},m.register("GameObjectFactory",a,"add"),c.exports=a},91296:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),m=new h,o=new h,a=new h,r={camera:m,sprite:o,calc:a},e=function(n,l,s){var u=m,f=o,d=a;return f.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),u.copyFrom(l.matrix),s?(u.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),f.e=n.x,f.f=n.y):(f.e-=l.scrollX*n.scrollFactorX,f.f-=l.scrollY*n.scrollFactorY),u.multiply(f,d),r};c.exports=e},45027:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(25774),o=t(37277),a=t(44594),r=new h({Extends:m,initialize:function(n){m.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(a.PRE_UPDATE,this.update,this),e.on(a.UPDATE,this.sceneUpdate,this),e.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,n){for(var l=this._active,s=l.length,u=0;u<s;u++){var f=l[u];f.active&&f.preUpdate.call(f,e,n)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(a.PRE_UPDATE,this.update,this),n.off(a.UPDATE,this.sceneUpdate,this),n.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",r,"updateList"),c.exports=r},3217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a,r,e,n,l,s,u,f,d,v,g){var y=m.x-h.displayOriginX+a,T=m.y-h.displayOriginY+r,E=y+m.w,A=T+m.h,P=e.a,w=e.b,M=e.c,D=e.d,F=e.e,L=e.f,O=y*P+T*M+F,B=y*w+T*D+L,U=y*P+A*M+F,W=y*w+A*D+L,H=E*P+A*M+F,Y=E*w+A*D+L,G=E*P+T*M+F,X=E*w+T*D+L;n&&(O=Math.round(O),B=Math.round(B),U=Math.round(U),W=Math.round(W),H=Math.round(H),Y=Math.round(Y),G=Math.round(G),X=Math.round(X)),t.batchQuad(h,O,B,U,W,H,Y,G,X,o.u0,o.v0,o.u1,o.v1,l,s,u,f,d,v,g)};c.exports=S},53048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){if(m===void 0&&(m=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var a=t.text,r=a.length,e=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,s=Number.MAX_VALUE,u=0,f=0,d=t.fontData.chars,v=t.fontData.lineHeight,g=t.letterSpacing,y=t.lineSpacing,T=0,E=0,A=0,P=null,w=t._align,M=0,D=0,F=t.fontSize/t.fontData.size,L=F*t.scaleX,O=F*t.scaleY,B=null,U=0,W=[],H=Number.MAX_VALUE,Y=0,G=0,X=0,V,b,z,$=[],Q=[],Z=null,q=function(zt,qt){for(var Nt=0,Zt=0;Zt<zt.length;Zt++){var he=zt.charCodeAt(Zt),jt=qt.chars[he];jt&&(Nt+=jt.xAdvance)}return Nt*L};if(e>0){z=a.split(`
`);var j=[];for(V=0;V<z.length;V++){var k=z[V],_="",et="",it="",st="";for(b=0;b<k.length;b++)if(A=k.charCodeAt(b),_+=k[b],A===n||b===k.length-1){st=it+_;var nt=q(st,t.fontData);nt<=e?it=st:(et=et.slice(0,-1),et+=(et?`
`:"")+it,it=_),_=""}et=et.slice(0,-1),et+=(et?`
`:"")+it,j.push(et)}a=j.join(`
`),o.wrappedText=a,r=a.length}var ut=0;for(V=0;V<r;V++){if(A=a.charCodeAt(V),A===10){Z!==null&&($.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*O,w:Z.w*L,h:Z.h*O}),Z=null),B=null,W[G]=X,X>Y&&(Y=X),X<H&&(H=X),G++,X=0,T=0,E=(v+y)*G;continue}if(P=d[A],!!P){if(M=T,D=E,B!==null){var ft=P.kerning[U];M+=ft!==void 0?ft:0}l>M&&(l=M),s>D&&(s=D);var ot=M+P.xAdvance,rt=D+v;u<ot&&(u=ot),f<rt&&(f=rt);var lt=P.xOffset+P.xAdvance+(ft!==void 0?ft:0);A===n?Z!==null&&($.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*O,w:Z.w*L,h:Z.h*O}),Z=null):(Z===null&&(Z={word:"",i:ut,x:T,y:E,w:0,h:v}),Z.word=Z.word.concat(a[V]),Z.w+=lt),Q.push({i:ut,idx:V,char:a[V],code:A,x:(P.xOffset+M)*F,y:(P.yOffset+E)*F,w:P.width*F,h:P.height*F,t:E*F,r:ot*F,b:v*F,line:G,glyph:P}),T+=P.xAdvance+g+(ft!==void 0?ft:0),B=P,U=A,X=ot*F,ut++}}if(Z!==null&&$.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*O,w:Z.w*L,h:Z.h*O}),W[G]=X,X>Y&&(Y=X),X<H&&(H=X),w>0)for(var dt=0;dt<Q.length;dt++){var xt=Q[dt];if(w===1){var yt=(Y-W[xt.line])/2;xt.x+=yt,xt.r+=yt}else if(w===2){var Ct=Y-W[xt.line];xt.x+=Ct,xt.r+=Ct}}var St=o.local,Lt=o.global;return z=o.lines,St.x=l*F,St.y=s*F,St.width=u*F,St.height=f*F,Lt.x=t.x-t._displayOriginX+l*L,Lt.y=t.y-t._displayOriginY+s*O,Lt.width=u*L,Lt.height=f*O,z.shortest=H,z.longest=Y,z.lengths=W,h&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),Lt.x=Math.ceil(Lt.x),Lt.y=Math.ceil(Lt.y),Lt.width=Math.ceil(Lt.width),Lt.height=Math.ceil(Lt.height),z.shortest=Math.ceil(H),z.longest=Math.ceil(Y)),m&&(t._displayOriginX=t.originX*St.width,t._displayOriginY=t.originY*St.height,Lt.x=t.x-t._displayOriginX*t.scaleX,Lt.y=t.y-t._displayOriginY*t.scaleY,h&&(Lt.x=Math.ceil(Lt.x),Lt.y=Math.ceil(Lt.y))),o.words=$,o.characters=Q,o.lines.height=v,o.scale=F,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};c.exports=S},61327:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21859),m=function(o,a,r,e,n,l,s){var u=o.sys.textures.get(r),f=u.get(e),d=o.sys.cache.xml.get(n);if(f&&d){var v=h(d,f,l,s,u);return o.sys.cache.bitmapFont.add(a,{data:v,texture:r,frame:e,fromAtlas:!0}),!0}else return!1};c.exports=m},6925:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),m=function(o,a){var r=a.width,e=a.height,n=Math.floor(r/2),l=Math.floor(e/2),s=h(a,"chars","");if(s!==""){var u=h(a,"image",""),f=o.sys.textures.getFrame(u),d=f.cutX,v=f.cutY,g=f.source.width,y=f.source.height,T=h(a,"offset.x",0),E=h(a,"offset.y",0),A=h(a,"spacing.x",0),P=h(a,"spacing.y",0),w=h(a,"lineSpacing",0),M=h(a,"charsPerRow",null);M===null&&(M=g/r,M>s.length&&(M=s.length));for(var D=T,F=E,L={retroFont:!0,font:u,size:r,lineHeight:e+w,chars:{}},O=0,B=0;B<s.length;B++){var U=s.charCodeAt(B),W=(d+D)/g,H=(v+F)/y,Y=(d+D+r)/g,G=(v+F+e)/y;L.chars[U]={x:D,y:F,width:r,height:e,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:W,v0:H,u1:Y,v1:G},O++,O===M?(O=0,D=T,F+=e+P):D+=r+A}var X={data:L,frame:null,texture:u};return X}};c.exports=m},21859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(h,m){return parseInt(h.getAttribute(m),10)}var t=function(h,m,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0);var e=m.cutX,n=m.cutY,l=m.source.width,s=m.source.height,u=m.sourceIndex,f={},d=h.getElementsByTagName("info")[0],v=h.getElementsByTagName("common")[0];f.font=d.getAttribute("face"),f.size=S(d,"size"),f.lineHeight=S(v,"lineHeight")+a,f.chars={};var g=h.getElementsByTagName("char"),y=m!==void 0&&m.trimmed;if(y)var T=m.height,E=m.width;for(var A=0;A<g.length;A++){var P=g[A],w=S(P,"id"),M=String.fromCharCode(w),D=S(P,"x"),F=S(P,"y"),L=S(P,"width"),O=S(P,"height");y&&(D<E&&(E=D),F<T&&(T=F)),y&&T!==0&&E!==0&&(D-=m.x,F-=m.y);var B=(e+D)/l,U=(n+F)/s,W=(e+D+L)/l,H=(n+F+O)/s;if(f.chars[w]={x:D,y:F,width:L,height:O,centerX:Math.floor(L/2),centerY:Math.floor(O/2),xOffset:S(P,"xoffset"),yOffset:S(P,"yoffset"),xAdvance:S(P,"xadvance")+o,data:{},kerning:{},u0:B,v0:U,u1:W,v1:H},r&&L!==0&&O!==0){var Y=r.add(M,u,D,F,L,O);Y&&Y.setUVs(L,O,B,U,W,H)}}var G=h.getElementsByTagName("kerning");for(A=0;A<G.length;A++){var X=G[A],V=S(X,"first"),b=S(X,"second"),z=S(X,"amount");f.chars[b].kerning[V]=z}return f};c.exports=t},196:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87662),m=t(79291),o={Parse:t(6925)};o=m(!1,o,h),c.exports=o},87662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=S},2638:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),m=t(83419),o=t(12310),a=new m({Extends:h,Mixins:[o],initialize:function(e,n,l,s,u,f,d){h.call(this,e,n,l,s,u,f,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,e){return this.cropWidth=r,this.cropHeight=e,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});c.exports=a},86741:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),m=function(o,a,r,e){var n=a._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,a,r,e))){r.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,f=a.displayCallback,d=a.callbackData,v=a.fontData.chars,g=a.fontData.lineHeight,y=a._letterSpacing,T=0,E=0,A=0,P=null,w=0,M=0,D=0,F=0,L=0,O=0,B=null,U=0,W=a.frame.source.image,H=u.cutX,Y=u.cutY,G=0,X=0,V=a._fontSize/a.fontData.size,b=a._align,z=0,$=0;a.getTextBounds(!1);var Q=a._bounds.lines;b===1?$=(Q.longest-Q.lengths[0])/2:b===2&&($=Q.longest-Q.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);var Z=r.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(s.beginPath(),s.rect(0,0,a.cropWidth,a.cropHeight),s.clip());for(var q=0;q<l;q++){if(X=V,G=0,A=n.charCodeAt(q),A===10){z++,b===1?$=(Q.longest-Q.lengths[z])/2:b===2&&($=Q.longest-Q.lengths[z]),T=0,E+=g,B=null;continue}if(P=v[A],!!P){if(w=H+P.x,M=Y+P.y,D=P.width,F=P.height,L=P.xOffset+T-a.scrollX,O=P.yOffset+E-a.scrollY,B!==null){var j=P.kerning[U];L+=j!==void 0?j:0}if(f){d.index=q,d.charCode=A,d.x=L,d.y=O,d.scale=X,d.rotation=G,d.data=P.data;var k=f(d);L=k.x,O=k.y,X=k.scale,G=k.rotation}L*=X,O*=X,L+=$,T+=P.xAdvance+y+(j!==void 0?j:0),B=P,U=A,!(D===0||F===0||A===32)&&(Z&&(L=Math.round(L),O=Math.round(O)),s.save(),s.translate(L,O),s.rotate(G),s.scale(X,X),s.drawImage(W,w,M,D,F,0,0,D,F),s.restore())}}s.restore()}};c.exports=m},11164:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),m=t(25305),o=t(44603),a=t(23568);o.register("dynamicBitmapText",function(r,e){r===void 0&&(r={});var n=a(r,"font",""),l=a(r,"text",""),s=a(r,"size",!1),u=new h(this.scene,0,0,n,l,s);return e!==void 0&&(r.add=e),m(this.scene,u,r),u})},72566:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),m=t(39429);m.register("dynamicBitmapText",function(o,a,r,e,n){return this.displayList.add(new h(this.scene,o,a,r,e,n))})},12310:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(73482),o=t(86741),c.exports={renderWebGL:m,renderCanvas:o}},73482:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(61340),o=t(70554),a=new m,r=function(e,n,l,s){var u=n.text,f=u.length;if(f!==0){l.addToRenderList(n);var d=e.pipelines.set(n.pipeline,n),v=h(n,l,s);e.pipelines.preBatch(n);var g=v.sprite,y=v.calc,T=a,E=n.cropWidth>0||n.cropHeight>0;E&&(d.flush(),e.pushScissor(y.tx,y.ty,n.cropWidth*y.scaleX,n.cropHeight*y.scaleY));var A=n.frame,P=A.glTexture,w=n.tintFill,M=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),D=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),O=d.setGameObject(n),B=0,U=0,W=0,H=0,Y=n.letterSpacing,G,X=0,V=0,b,z=n.scrollX,$=n.scrollY,Q=n.fontData,Z=Q.chars,q=Q.lineHeight,j=n.fontSize/Q.size,k=0,_=n._align,et=0,it=0,st=n.getTextBounds(!1);n.maxWidth>0&&(u=st.wrappedText,f=u.length);var nt=n._bounds.lines;_===1?it=(nt.longest-nt.lengths[0])/2:_===2&&(it=nt.longest-nt.lengths[0]);for(var ut=l.roundPixels,ft=n.displayCallback,ot=n.callbackData,rt=0;rt<f;rt++){if(W=u.charCodeAt(rt),W===10){et++,_===1?it=(nt.longest-nt.lengths[et])/2:_===2&&(it=nt.longest-nt.lengths[et]),B=0,U+=q,b=null;continue}if(G=Z[W],!!G){X=G.width,V=G.height;var lt=G.xOffset+B-z,dt=G.yOffset+U-$;if(b!==null){var xt=G.kerning[H]||0;lt+=xt,B+=xt}if(B+=G.xAdvance+Y,b=G,H=W,!(X===0||V===0||W===32)){if(j=n.fontSize/n.fontData.size,k=0,ft){ot.color=0,ot.tint.topLeft=M,ot.tint.topRight=D,ot.tint.bottomLeft=F,ot.tint.bottomRight=L,ot.index=rt,ot.charCode=W,ot.x=lt,ot.y=dt,ot.scale=j,ot.rotation=k,ot.data=G.data;var yt=ft(ot);lt=yt.x,dt=yt.y,j=yt.scale,k=yt.rotation,yt.color?(M=yt.color,D=yt.color,F=yt.color,L=yt.color):(M=yt.tint.topLeft,D=yt.tint.topRight,F=yt.tint.bottomLeft,L=yt.tint.bottomRight),M=o.getTintAppendFloatAlpha(M,l.alpha*n._alphaTL),D=o.getTintAppendFloatAlpha(D,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(F,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(L,l.alpha*n._alphaBR)}lt*=j,dt*=j,lt-=n.displayOriginX,dt-=n.displayOriginY,lt+=it,T.applyITRS(lt,dt,k,j,j),y.multiply(T,g);var Ct=G.u0,St=G.v0,Lt=G.u1,zt=G.v1,qt=X,Nt=V,Zt=g.e,he=g.f,jt=Nt*g.c+g.e,Se=Nt*g.d+g.f,pi=qt*g.a+Nt*g.c+g.e,Ei=qt*g.b+Nt*g.d+g.f,Di=qt*g.a+g.e,Oi=qt*g.b+g.f;ut&&(Zt=Math.round(Zt),he=Math.round(he),jt=Math.round(jt),Se=Math.round(Se),pi=Math.round(pi),Ei=Math.round(Ei),Di=Math.round(Di),Oi=Math.round(Oi)),d.shouldFlush(6)&&(d.flush(),O=d.setGameObject(n)),d.batchQuad(n,Zt,he,jt,Se,pi,Ei,Di,Oi,Ct,St,Lt,zt,M,D,F,L,w,P,O)}}}E&&(d.flush(),e.popScissor()),e.pipelines.postBatch(n)}};c.exports=r},22186:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(45319),o=t(31401),a=t(95643),r=t(53048),e=t(61327),n=t(21859),l=t(87841),s=t(18658),u=new h({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,s],initialize:function(d,v,g,y,T,E,A){T===void 0&&(T=""),A===void 0&&(A=0),a.call(this,d,"BitmapText"),this.font=y;var P=this.scene.sys.cache.bitmapFont.get(y);if(!P)throw new Error("Invalid BitmapText key: "+y);this.fontData=P.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=P.fromAtlas,this.setTexture(P.texture,P.frame),this.setPosition(v,g),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,d,v,g){return f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=.5),this.dropShadowX=f,this.dropShadowY=d,this.dropShadowColor=v,this.dropShadowAlpha=g,this},setCharacterTint:function(f,d,v,g,y,T,E){f===void 0&&(f=0),d===void 0&&(d=1),v===void 0&&(v=!1),g===void 0&&(g=-1),y===void 0&&(y=g,T=g,E=g);var A=this.text.length;d===-1&&(d=A),f<0&&(f=A+f),f=m(f,0,A-1);for(var P=m(f+d,f,A),w=this.charColors,M=f;M<P;M++){var D=w[M];if(g===-1)w[M]=null;else{var F=v?1:0;D?(D.tintEffect=F,D.tintTL=g,D.tintTR=y,D.tintBL=T,D.tintBR=E):w[M]={tintEffect:F,tintTL:g,tintTR:y,tintBL:T,tintBR:E}}}return this},setWordTint:function(f,d,v,g,y,T,E){d===void 0&&(d=1);for(var A=this.getTextBounds(),P=A.words,w=typeof f=="number",M=0,D=0;D<P.length;D++){var F=P[D];if((w&&D===f||!w&&F.word===f)&&(this.setCharacterTint(F.i,F.word.length,v,g,y,T,E),M++,M===d))return this}return this},getTextBounds:function(f){var d=this._bounds;return(this._dirty||f||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(r(this,f,!0,d),this._dirty=!1),d},getCharacterAt:function(f,d,v){for(var g=this.getLocalPoint(f,d,null,v),y=this.getTextBounds(),T=y.characters,E=new l,A=0;A<T.length;A++){var P=T[A];if(E.setTo(P.x,P.t,P.r-P.x,P.b),E.contains(g.x,g.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,d,v){d===void 0&&(d=this._fontSize),v===void 0&&(v=this._align);var g=this.scene.sys.cache.bitmapFont.get(f);return g&&(this.font=f,this.fontData=g.data,this._fontSize=d,this._align=v,this.fromAtlas=g.fromAtlas===!0,this.setTexture(g.texture,g.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,d){return this._maxWidth=f,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=o.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=d,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=e,u.ParseXMLBitmapFont=n,c.exports=u},37289:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),m=function(o,a,r,e){var n=a._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,a,r,e))){r.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,f=a.fontData.chars,d=a.fontData.lineHeight,v=a._letterSpacing,g=a._lineSpacing,y=0,T=0,E=0,A=null,P=0,w=0,M=0,D=0,F=0,L=0,O=null,B=0,U=u.source.image,W=u.cutX,H=u.cutY,Y=a._fontSize/a.fontData.size,G=a._align,X=0,V=0,b=a.getTextBounds(!1);a.maxWidth>0&&(n=b.wrappedText,l=n.length);var z=a._bounds.lines;G===1?V=(z.longest-z.lengths[0])/2:G===2&&(V=z.longest-z.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);for(var $=r.roundPixels,Q=0;Q<l;Q++){if(E=n.charCodeAt(Q),E===10){X++,G===1?V=(z.longest-z.lengths[X])/2:G===2&&(V=z.longest-z.lengths[X]),y=0,T+=d+g,O=null;continue}if(A=f[E],!!A){if(P=W+A.x,w=H+A.y,M=A.width,D=A.height,F=A.xOffset+y,L=A.yOffset+T,O!==null){var Z=A.kerning[B];F+=Z!==void 0?Z:0}F*=Y,L*=Y,F+=V,y+=A.xAdvance+v+(Z!==void 0?Z:0),O=A,B=E,!(M===0||D===0||E===32)&&($&&(F=Math.round(F),L=Math.round(L)),s.save(),s.translate(F,L),s.scale(Y,Y),s.drawImage(U,P,w,M,D,0,0,M,D),s.restore())}}s.restore()}};c.exports=m},57336:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),m=t(25305),o=t(44603),a=t(23568),r=t(35154);o.register("bitmapText",function(e,n){e===void 0&&(e={});var l=r(e,"font",""),s=a(e,"text",""),u=a(e,"size",!1),f=r(e,"align",0),d=new h(this.scene,0,0,l,s,u,f);return n!==void 0&&(e.add=n),m(this.scene,d,e),d})},34914:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),m=t(39429);m.register("bitmapText",function(o,a,r,e,n,l){return this.displayList.add(new h(this.scene,o,a,r,e,n,l))})},18658:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(33590),o=t(37289),c.exports={renderWebGL:m,renderCanvas:o}},33590:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3217),m=t(91296),o=t(70554),a=function(r,e,n,l){var s=e._text,u=s.length;if(u!==0){n.addToRenderList(e);var f=r.pipelines.set(e.pipeline,e),d=m(e,n,l).calc;r.pipelines.preBatch(e);var v=n.roundPixels,g=n.alpha,y=e.charColors,T=e.tintFill,E=o.getTintAppendFloatAlpha,A=E(e.tintTopLeft,g*e._alphaTL),P=E(e.tintTopRight,g*e._alphaTR),w=E(e.tintBottomLeft,g*e._alphaBL),M=E(e.tintBottomRight,g*e._alphaBR),D=e.frame.glTexture,F=f.setGameObject(e),L=e.getTextBounds(!1),O,B,U,W=L.characters,H=e.dropShadowX,Y=e.dropShadowY,G=H!==0||Y!==0;if(G){var X=e.dropShadowColor,V=e.dropShadowAlpha,b=E(X,g*V*e._alphaTL),z=E(X,g*V*e._alphaTR),$=E(X,g*V*e._alphaBL),Q=E(X,g*V*e._alphaBR);for(O=0;O<W.length;O++)B=W[O],U=B.glyph,!(B.code===32||U.width===0||U.height===0)&&h(f,e,B,U,H,Y,d,v,b,z,$,Q,1,D,F)}for(O=0;O<W.length;O++)if(B=W[O],U=B.glyph,!(B.code===32||U.width===0||U.height===0))if(f.shouldFlush(6)&&(f.flush(),F=f.setGameObject(e)),y[B.i]){var Z=y[B.i],q=Z.tintEffect,j=E(Z.tintTL,g*e._alphaTL),k=E(Z.tintTR,g*e._alphaTR),_=E(Z.tintBL,g*e._alphaBL),et=E(Z.tintBR,g*e._alphaBR);h(f,e,B,U,0,0,d,v,j,k,_,et,q,D,F)}else h(f,e,B,U,0,0,d,v,A,P,w,M,T,D,F);r.pipelines.postBatch(e)}};c.exports=a},6107:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48011),m=t(46590),o=t(83419),a=t(31401),r=t(4327),e=t(95643),n=t(73162),l=new o({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,h],initialize:function(u,f,d,v,g){e.call(this,u,"Blitter"),this.setTexture(v,g),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(s,u,f,d,v){d===void 0&&(d=!0),v===void 0&&(v=this.children.length),f===void 0?f=this.frame:f instanceof r||(f=this.texture.get(f));var g=new m(this,s,u,f,d);return this.children.addAt(g,v,!1),this.dirty=!0,g},createFromCallback:function(s,u,f,d){for(var v=this.createMultiple(u,f,d),g=0;g<v.length;g++){var y=v[g];s.call(this,y,g)}return v},createMultiple:function(s,u,f){u===void 0&&(u=this.frame.name),f===void 0&&(f=!0),Array.isArray(u)||(u=[u]);var d=[],v=this;return u.forEach(function(g){for(var y=0;y<s;y++)d.push(v.create(0,0,g,f))}),d},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=l},72396:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=h.getRenderList();if(a.length!==0){var r=t.currentContext,e=m.alpha*h.alpha;if(e!==0){m.addToRenderList(h),r.globalCompositeOperation=t.blendModes[h.blendMode],r.imageSmoothingEnabled=!h.frame.source.scaleMode;var n=h.x-m.scrollX*h.scrollFactorX,l=h.y-m.scrollY*h.scrollFactorY;r.save(),o&&o.copyToContext(r);for(var s=m.roundPixels,u=0;u<a.length;u++){var f=a[u],d=f.flipX||f.flipY,v=f.frame,g=v.canvasData,y=v.x,T=v.y,E=1,A=1,P=f.alpha*e;P!==0&&(r.globalAlpha=P,d?(f.flipX&&(E=-1,y-=g.width),f.flipY&&(A=-1,T-=g.height),g.width>0&&g.height>0&&(r.save(),r.translate(f.x+n,f.y+l),r.scale(E,A),r.drawImage(v.source.image,g.x,g.y,g.width,g.height,y,T,g.width,g.height),r.restore())):(s&&(y=Math.round(y),T=Math.round(T)),g.width>0&&g.height>0&&r.drawImage(v.source.image,g.x,g.y,g.width,g.height,y+f.x+n,T+f.y+l,g.width,g.height)))}r.restore()}}};c.exports=S},9403:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),m=t(25305),o=t(44603),a=t(23568);o.register("blitter",function(r,e){r===void 0&&(r={});var n=a(r,"key",null),l=a(r,"frame",null),s=new h(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),m(this.scene,s,r),s})},12709:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),m=t(39429);m.register("blitter",function(o,a,r,e){return this.displayList.add(new h(this.scene,o,a,r,e))})},48011:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(99485),o=t(72396),c.exports={renderWebGL:m,renderCanvas:o}},99485:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),m=t(70554),o=new h,a=function(r,e,n,l){var s=e.getRenderList(),u=n.alpha*e.alpha;if(!(s.length===0||u===0)){n.addToRenderList(e);var f=r.pipelines.set(this.pipeline,e),d=n.scrollX*e.scrollFactorX,v=n.scrollY*e.scrollFactorY,g=o.copyFrom(n.matrix);l&&(g.multiplyWithOffset(l,-d,-v),d=0,v=0);var y=e.x-d,T=e.y-v,E=-1,A=!1,P=n.roundPixels;r.pipelines.preBatch(e);for(var w=0;w<s.length;w++){var M=s[w],D=M.frame,F=M.alpha*u;if(F!==0){var L=D.width,O=D.height,B=y+M.x+D.x,U=T+M.y+D.y;M.flipX&&(L*=-1,B+=D.width),M.flipY&&(O*=-1,U+=D.height);var W=g.setQuad(B,U,B+L,U+O,P),H=m.getTintAppendFloatAlpha(M.tint,F);if(D.sourceIndex!==E){var Y=f.setGameObject(e,D);E=D.sourceIndex}f.batchQuad(e,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],D.u0,D.v0,D.u1,D.v1,H,H,H,H,A,D.glTexture,Y)&&(E=-1)}}r.pipelines.postBatch(e)}};c.exports=a},46590:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(4327),o=new h({initialize:function(r,e,n,l,s){this.parent=r,this.x=e,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof m&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,r,e){return this.x=a,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(a,r){return this.x=a,this.y=r,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,r){return this.flipX=a,this.flipY=r,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});c.exports=o},16005:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,r,e,n){return a===void 0&&(a=1),r===void 0?this.alpha=a:(this._alphaTL=h(a,0,1),this._alphaTR=h(r,0,1),this._alphaBL=h(e,0,1),this._alphaBR=h(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=-3:this.renderFlags|=m}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var r=h(a,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=m)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var r=h(a,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=m)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var r=h(a,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=m)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var r=h(a,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=m)}}};c.exports=o},88509:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,r===0?this.renderFlags&=-3:this.renderFlags|=m}}};c.exports=o},90065:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),m={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=h[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};c.exports=m},94215:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};c.exports=S},61683:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,m,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,m,o,this.flipX,this.flipY);else{var a=t;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=S},89272:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),m={_depth:0,depth:{get:function(){return this._depth},set:function(o){this.displayList&&this.displayList.queueDepthSort(),this._depth=o}},setDepth:function(o){return o===void 0&&(o=0),this.depth=o,this},setToTop:function(){var o=this.getDisplayList();return o&&h.BringToTop(o,this),this},setToBack:function(){var o=this.getDisplayList();return o&&h.SendToBack(o,this),this},setAbove:function(o){var a=this.getDisplayList();return a&&o&&h.MoveAbove(a,this,o),this},setBelow:function(o){var a=this.getDisplayList();return a&&o&&h.MoveBelow(a,this,o),this}};c.exports=m},47059:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(66064),o=t(19133),a=new h({initialize:function(e,n){this.gameObject=e,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,e=0;e<r.length;e++)r[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var e;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),e=0;e<n.length;e++){var l=n[e];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var s=this.list;for(e=0;e<s.length;e++)s[e]===r&&(o(s,e),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,e){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,e);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,e,n,l,s,u){return this.add(new m.Glow(this.gameObject,r,e,n,l),{quality:s,distance:u})},addShadow:function(r,e,n,l,s,u,f){return this.add(new m.Shadow(this.gameObject,r,e,n,l,s,u,f))},addPixelate:function(r){return this.add(new m.Pixelate(this.gameObject,r))},addVignette:function(r,e,n,l){return this.add(new m.Vignette(this.gameObject,r,e,n,l))},addShine:function(r,e,n,l){return this.add(new m.Shine(this.gameObject,r,e,n,l))},addBlur:function(r,e,n,l,s,u){return this.add(new m.Blur(this.gameObject,r,e,n,l,s,u))},addGradient:function(r,e,n,l,s,u,f,d){return this.add(new m.Gradient(this.gameObject,r,e,n,l,s,u,f,d))},addBloom:function(r,e,n,l,s,u){return this.add(new m.Bloom(this.gameObject,r,e,n,l,s,u))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},addCircle:function(r,e,n,l,s){return this.add(new m.Circle(this.gameObject,r,e,n,l,s))},addBarrel:function(r){return this.add(new m.Barrel(this.gameObject,r))},addDisplacement:function(r,e,n){return this.add(new m.Displacement(this.gameObject,r,e,n))},addWipe:function(r,e,n){return this.add(new m.Wipe(this.gameObject,r,e,n))},addReveal:function(r,e,n){return this.add(new m.Wipe(this.gameObject,r,e,n,!0))},addBokeh:function(r,e,n){return this.add(new m.Bokeh(this.gameObject,r,e,n))},addTiltShift:function(r,e,n,l,s,u){return this.add(new m.Bokeh(this.gameObject,r,e,n,!0,l,s,u))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=a},54434:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=S},8004:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=t(11520),o=t(26099),a={prepareBoundsOutput:function(r,e){if(e===void 0&&(e=!1),this.rotation!==0&&m(r,this.x,this.y,this.rotation),e&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,e){return r===void 0&&(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getTopLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getLeftCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getRightCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getBottomLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBounds:function(r){r===void 0&&(r=new h);var e,n,l,s,u,f,d,v;if(this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),g.transformPoint(r.x,r.y,r),e=r.x,n=r.y,this.getTopRight(r),g.transformPoint(r.x,r.y,r),l=r.x,s=r.y,this.getBottomLeft(r),g.transformPoint(r.x,r.y,r),u=r.x,f=r.y,this.getBottomRight(r),g.transformPoint(r.x,r.y,r),d=r.x,v=r.y}else this.getTopLeft(r),e=r.x,n=r.y,this.getTopRight(r),l=r.x,s=r.y,this.getBottomLeft(r),u=r.x,f=r.y,this.getBottomRight(r),d=r.x,v=r.y;return r.x=Math.min(e,l,u,d),r.y=Math.min(n,s,f,v),r.width=Math.max(e,l,u,d)-r.x,r.height=Math.max(n,s,f,v)-r.y,r}};c.exports=a},8573:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6858),m=t(80661),o={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,r,e,n,l){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new h(this.scene,a,r,e,n,l)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new m(this.scene,a)}};c.exports=o},27387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=S},37640:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),m=t(57355),o=t(35154),a=t(86353),r=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var u=m(n,"positionOnPath",!1);this.rotateToPath=m(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var f=o(n,"startAt",l);if(f&&(n.onStart=function(v){var g=v.data[0];g.progress=f,g.elapsed=g.duration*f;var y=g.ease(g.progress);g.current=g.start+(g.end-g.start)*y,g.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],s=this.pathDelta,u=this.pathVector;if(s.copy(u).negate(),l.state===a.COMPLETE){this.path.getPoint(l.end,u),s.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(l.state!==a.PLAYING_FORWARD&&l.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),u),s.add(u),u.add(this.pathOffset);var f=this.x,d=this.y;this.setPosition(u.x,u.y);var v=this.x-f,g=this.y-d;if(v===0&&g===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(g,v)+h(this.pathRotationOffset))}}};c.exports=e},72699:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var r=a.pipelines;if(r){o===void 0&&(o=r.default);var e=r.get(o);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(o,a,r){var e=this.scene.sys.renderer;if(!e)return this;var n=e.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),a&&(this.pipelineData=r?h(a):a)}return this},setPipelineData:function(o,a){var r=this.pipelineData;return a===void 0?delete r[o]:r[o]=a,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};c.exports=m},17581:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),m=t(47059),o=t(19133),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),r&&(this.preFX=new m(this,!1))},setPostPipeline:function(r,e,n){var l=this.scene.sys.renderer;if(!l)return this;var s=l.pipelines;if(s){Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var f=s.getPostPipeline(r[u],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=n?h(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,e){var n=this.postPipelineData;return e===void 0?delete n[r]:n[r]=e,this},getPostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=[],s=0;s<n.length;s++){var u=n[s];(e&&u.name===r||!e&&u instanceof r)&&l.push(u)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var e=this.postPipelines,n=0;n<e.length;n++)e[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var s=n[l];(e&&s.name===r||!e&&s===r)&&(s.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=a},80227:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};c.exports=S},16736:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};c.exports=S},37726:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),m=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(a,r,e,n){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r,e,n)},setFrame:function(a,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=m,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=o},79812:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),m=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(a,r,e,n){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,r,e,n,this.flipX,this.flipY);else{var l=a;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=m,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=o},27472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,m,o){return t===void 0&&(t=16777215),h===void 0&&(h=t,m=t,o=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=m,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,h,m,o){return this.setTint(t,h,m,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};c.exports=S},53774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};c.exports=S},16901:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=t(61340),o=t(85955),a=t(86554),r=t(30954),e=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=-5:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*h.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=a(s)}},setPosition:function(s,u,f,d){return s===void 0&&(s=0),u===void 0&&(u=s),f===void 0&&(f=0),d===void 0&&(d=0),this.x=s,this.y=u,this.z=f,this.w=d,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,u,f,d){return s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=s+Math.random()*f,this.y=u+Math.random()*d,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=s),this.scaleX=s,this.scaleY=u,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new m),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,u){s===void 0&&(s=new m);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(s);var d=!1;for(u||(u=new m,d=!0),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)u.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),u.multiply(s,s),f=f.parentContainer;return d&&u.destroy(),s},getLocalPoint:function(s,u,f,d){f||(f=new e),d||(d=this.scene.sys.cameras.main);var v=d.scrollX,g=d.scrollY,y=s+v*this.scrollFactorX-v,T=u+g*this.scrollFactorY-g;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(y,T,f):o(y,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getWorldPoint:function(s,u,f){s===void 0&&(s=new e);var d=this.parentContainer;if(!d)return s.x=this.x,s.y=this.y,s;var v=this.getWorldTransformMatrix(u,f);return s.x=v.tx,s.y=v.ty,s},getParentRotation:function(){for(var s=0,u=this.parentContainer;u;)s+=u.rotation,u=u.parentContainer;return s}};c.exports=l},61340:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(36383),o=t(26099),a=new h({initialize:function(e,n,l,s,u,f){e===void 0&&(e=1),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=1),u===void 0&&(u=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,n,l,s,u,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],s=r[3];return e||n?n>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||s?m.TAU-(s>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,e){var n=this.matrix;return n[4]=n[0]*r+n[2]*e+n[4],n[5]=n[1]*r+n[3]*e+n[5],this},scale:function(r,e){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=e,n[3]*=e,this},rotate:function(r){var e=Math.sin(r),n=Math.cos(r),l=this.matrix,s=l[0],u=l[1],f=l[2],d=l[3];return l[0]=s*n+f*e,l[1]=u*n+d*e,l[2]=s*-e+f*n,l[3]=u*-e+d*n,this},multiply:function(r,e){var n=this.matrix,l=r.matrix,s=n[0],u=n[1],f=n[2],d=n[3],v=n[4],g=n[5],y=l[0],T=l[1],E=l[2],A=l[3],P=l[4],w=l[5],M=e===void 0?n:e.matrix;return M[0]=y*s+T*f,M[1]=y*u+T*d,M[2]=E*s+A*f,M[3]=E*u+A*d,M[4]=P*s+w*f+v,M[5]=P*u+w*d+g,M},multiplyWithOffset:function(r,e,n){var l=this.matrix,s=r.matrix,u=l[0],f=l[1],d=l[2],v=l[3],g=l[4],y=l[5],T=e*u+n*d+g,E=e*f+n*v+y,A=s[0],P=s[1],w=s[2],M=s[3],D=s[4],F=s[5];return l[0]=A*u+P*d,l[1]=A*f+P*v,l[2]=w*u+M*d,l[3]=w*f+M*v,l[4]=D*u+F*d+T,l[5]=D*f+F*v+E,this},transform:function(r,e,n,l,s,u){var f=this.matrix,d=f[0],v=f[1],g=f[2],y=f[3],T=f[4],E=f[5];return f[0]=r*d+e*g,f[1]=r*v+e*y,f[2]=n*d+l*g,f[3]=n*v+l*y,f[4]=s*d+u*g+T,f[5]=s*v+u*y+E,this},transformPoint:function(r,e,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,s=l[0],u=l[1],f=l[2],d=l[3],v=l[4],g=l[5];return n.x=r*s+e*f+v,n.y=r*u+e*d+g,n},invert:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],s=r[3],u=r[4],f=r[5],d=e*s-n*l;return r[0]=s/d,r[1]=-n/d,r[2]=-l/d,r[3]=e/d,r[4]=(l*f-s*u)/d,r[5]=-(e*f-n*u)/d,this},copyFrom:function(r){var e=this.matrix;return e[0]=r.a,e[1]=r.b,e[2]=r.c,e[3]=r.d,e[4]=r.e,e[5]=r.f,this},copyFromArray:function(r){var e=this.matrix;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},copyToContext:function(r){var e=this.matrix;return r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r},setToContext:function(r){return r.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),r},copyToArray:function(r){var e=this.matrix;return r===void 0?r=[e[0],e[1],e[2],e[3],e[4],e[5]]:(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},setTransform:function(r,e,n,l,s,u){var f=this.matrix;return f[0]=r,f[1]=e,f[2]=n,f[3]=l,f[4]=s,f[5]=u,this},decomposeMatrix:function(){var r=this.decomposedMatrix,e=this.matrix,n=e[0],l=e[1],s=e[2],u=e[3],f=n*u-l*s;if(r.translateX=e[4],r.translateY=e[5],n||l){var d=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/d):-Math.acos(n/d),r.scaleX=d,r.scaleY=f/d}else if(s||u){var v=Math.sqrt(s*s+u*u);r.rotation=Math.PI*.5-(u>0?Math.acos(-s/v):-Math.acos(s/v)),r.scaleX=f/v,r.scaleY=v}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,e,n,l,s){var u=this.matrix,f=Math.sin(n),d=Math.cos(n);return u[4]=r,u[5]=e,u[0]=d*l,u[1]=f*l,u[2]=-f*s,u[3]=d*s,this},applyInverse:function(r,e,n){n===void 0&&(n=new o);var l=this.matrix,s=l[0],u=l[1],f=l[2],d=l[3],v=l[4],g=l[5],y=1/(s*d+f*-u);return n.x=d*y*r+-f*y*e+(g*f-v*d)*y,n.y=s*y*e+-u*y*r+(-g*s+v*u)*y,n},setQuad:function(r,e,n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=this.quad);var f=this.matrix,d=f[0],v=f[1],g=f[2],y=f[3],T=f[4],E=f[5],A=r*d+e*g+T,P=r*v+e*y+E,w=r*d+l*g+T,M=r*v+l*y+E,D=n*d+l*g+T,F=n*v+l*y+E,L=n*d+e*g+T,O=n*v+e*y+E;if(s){var B=Math.floor(A+.5),U=Math.floor(P+.5),W=B-A,H=U-P;u[0]=B,u[1]=U,u[2]=w+W,u[3]=M+H,u[4]=D+W,u[5]=F+H,u[6]=L+W,u[7]=O+H}else u[0]=A,u[1]=P,u[2]=w,u[3]=M,u[4]=D,u[5]=F,u[6]=L,u[7]=O;return u},getX:function(r,e){return r*this.a+e*this.c+this.e},getY:function(r,e){return r*this.b+e*this.d+this.f},getXRound:function(r,e,n){var l=this.getX(r,e);return n&&(l=Math.floor(l+.5)),l},getYRound:function(r,e,n){var l=this.getY(r,e);return n&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=a},59715:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(h){return this.visible=h,this}};c.exports=t},31401:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),m=t(10312),o=t(83419),a=t(31401),r=t(51708),e=t(95643),n=t(87841),l=t(29959),s=t(36899),u=t(26099),f=new a.TransformMatrix,d=new o({Extends:e,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,l],initialize:function(g,y,T,E){e.call(this,g,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this._sortKey="",this._sysEvents=g.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,T),this.setBlendMode(m.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new n),v.setTo(this.x,this.y,0,0),this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix(),y=g.transformPoint(this.x,this.y);v.setTo(y.x,y.y,0,0)}if(this.list.length>0){var T=this.list,E=new n,A=!1;v.setEmpty();for(var P=0;P<T.length;P++){var w=T[P];w.getBounds&&(w.getBounds(E),A?s(E,v,v):(v.setTo(E.x,E.y,E.width,E.height),A=!0))}}return v},addHandler:function(v){v.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this,v.removeFromDisplayList(),v.addedToScene())},removeHandler:function(v){v.off(r.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer=null,v.removedFromScene(),v.addToDisplayList())},pointToContainer:function(v,g){g===void 0&&(g=new u),this.parentContainer?this.parentContainer.pointToContainer(v,g):(g.x=v.x,g.y=v.y);var y=f;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(v.x,v.y,g),g},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(v){return h.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,g){return h.AddAt(this.list,v,g,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,g){return v?(g===void 0&&(g=function(y,T){return y[v]-T[v]}),h.StableSort(this.list,g),this):this},getByName:function(v){return h.GetFirst(this.list,"name",v)},getRandom:function(v,g){return h.GetRandom(this.list,v,g)},getFirst:function(v,g,y,T){return h.GetFirst(this.list,v,g,y,T)},getAll:function(v,g,y,T){return h.GetAll(this.list,v,g,y,T)},count:function(v,g,y,T){return h.CountAllMatching(this.list,v,g,y,T)},swap:function(v,g){return h.Swap(this.list,v,g),this},moveTo:function(v,g){return h.MoveTo(this.list,v,g),this},moveAbove:function(v,g){return h.MoveAbove(this.list,v,g),this},moveBelow:function(v,g){return h.MoveBelow(this.list,v,g),this},remove:function(v,g){var y=h.Remove(this.list,v,this.removeHandler,this);if(g&&y){Array.isArray(y)||(y=[y]);for(var T=0;T<y.length;T++)y[T].destroy()}return this},removeAt:function(v,g){var y=h.RemoveAt(this.list,v,this.removeHandler,this);return g&&y&&y.destroy(),this},removeBetween:function(v,g,y){var T=h.RemoveBetween(this.list,v,g,this.removeHandler,this);if(y)for(var E=0;E<T.length;E++)T[E].destroy();return this},removeAll:function(v){var g=this.list;if(v){for(var y=0;y<g.length;y++)g[y]&&g[y].scene&&(g[y].off(r.DESTROY,this.onChildDestroyed,this),g[y].destroy());this.list=[]}else h.RemoveBetween(g,0,g.length,this.removeHandler,this);return this},bringToTop:function(v){return h.BringToTop(this.list,v),this},sendToBack:function(v){return h.SendToBack(this.list,v),this},moveUp:function(v){return h.MoveUp(this.list,v),this},moveDown:function(v){return h.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(v,g,y){var T=h.Replace(this.list,v,g);return T&&(this.addHandler(g),this.removeHandler(v),y&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,g,y,T){return h.SetAll(this.list,v,g,y,T),this},each:function(v,g){var y=[null],T,E=this.list.slice(),A=E.length;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<A;T++)y[0]=E[T],v.apply(g,y);return this},iterate:function(v,g){var y=[null],T;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<this.list.length;T++)y[0]=this.list[T],v.apply(g,y);return this},setScrollFactor:function(v,g,y){return g===void 0&&(g=v),y===void 0&&(y=!1),this.scrollFactorX=v,this.scrollFactorY=g,y&&(h.SetAll(this.list,"scrollFactorX",v),h.SetAll(this.list,"scrollFactorY",g)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(v){h.Remove(this.list,v),this.exclusive&&(v.parentContainer=null,v.removedFromScene())}});c.exports=d},53584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m.addToRenderList(h);var a=h.list;if(a.length!==0){var r=h.localTransform;o?(r.loadIdentity(),r.multiply(o),r.translate(h.x,h.y),r.rotate(h.rotation),r.scale(h.scaleX,h.scaleY)):r.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var e=h.blendMode!==-1;e||t.setBlendMode(0);var n=h._alpha,l=h.scrollFactorX,s=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,m);for(var u=0;u<a.length;u++){var f=a[u];if(f.willRender(m)){var d=f.alpha,v=f.scrollFactorX,g=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(v*l,g*s),f.setAlpha(d*n),f.renderCanvas(t,f,m,r),f.setAlpha(d),f.setScrollFactor(v,g)}}h.mask&&h.mask.postRenderCanvas(t)}};c.exports=S},77143:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(31559),o=t(44603),a=t(23568),r=t(95540);o.register("container",function(e,n){e===void 0&&(e={});var l=a(e,"x",0),s=a(e,"y",0),u=r(e,"children",null),f=new m(this.scene,l,s,u);return n!==void 0&&(e.add=n),h(this.scene,f,e),f})},24961:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31559),m=t(39429);m.register("container",function(o,a,r){return this.displayList.add(new h(this.scene,o,a,r))})},29959:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(72249),o=t(53584),c.exports={renderWebGL:m,renderCanvas:o}},72249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m.addToRenderList(h);var a=h.list,r=a.length;if(r!==0){var e=h.localTransform;o?(e.loadIdentity(),e.multiply(o),e.translate(h.x,h.y),e.rotate(h.rotation),e.scale(h.scaleX,h.scaleY)):e.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var n=h.blendMode!==-1;n||t.setBlendMode(0);for(var l=h.alpha,s=h.scrollFactorX,u=h.scrollFactorY,f=0;f<r;f++){var d=a[f];if(d.willRender(m)){var v,g,y,T;if(d.alphaTopLeft!==void 0)v=d.alphaTopLeft,g=d.alphaTopRight,y=d.alphaBottomLeft,T=d.alphaBottomRight;else{var E=d.alpha;v=E,g=E,y=E,T=E}var A=d.scrollFactorX,P=d.scrollFactorY;!n&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var w=d.mask;w&&w.preRenderWebGL(t,d,m);var M=d.type;M!==t.currentType&&(t.newType=!0,t.currentType=M),t.nextTypeMatch=f<r-1?a[f+1].type===t.currentType:!1,d.setScrollFactor(A*s,P*u),d.setAlpha(v*l,g*l,y*l,T*l),d.renderWebGL(t,d,m,e,h),d.setAlpha(v,g,y,T),d.setScrollFactor(A,P),w&&w.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(h)}};c.exports=S},47407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(441),a=t(95643),r=t(41212),e=t(35846),n=t(44594),l=t(61369),s=new h({Extends:a,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,o],initialize:function(f,d,v,g,y,T){a.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,v),typeof g=="string"?g[0]==="#"?this.setElement(g.substr(1),y,T):this.createElement(g,y,T):g&&this.setElement(g,y,T),f.sys.events.on(n.SLEEP,this.handleSceneEvent,this),f.sys.events.on(n.WAKE,this.handleSceneEvent,this),f.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(u){var f=this.node,d=f.style;f&&(d.display=u.settings.visible?"block":"none")},setSkew:function(u,f){return u===void 0&&(u=0),f===void 0&&(f=u),this.skewX=u,this.skewY=f,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.addEventListener(u[f],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.removeEventListener(u[f],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,f,d){return this.setElement(document.createElement(u),f,d)},setElement:function(u,f,d){this.removeElement();var v;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),v=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(v=u),!v)return this;if(this.node=v,f&&r(f))for(var g in f)v.style[g]=f[g];else typeof f=="string"&&(v.style=f);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),d&&(v.innerText=d),this.updateSize()},createFromCache:function(u,f){var d=this.cache.get(u);return d&&this.createFromHTML(d,f),this},createFromHTML:function(u,f){f===void 0&&(f="div"),this.removeElement();var d=document.createElement(f);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var u=this.node;return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(u,f){if(this.node){for(var d=this.node.querySelectorAll("*"),v=0;v<d.length;v++)if(d[v][u]===f)return d[v]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preRender:function(){var u=this.parentContainer,f=this.node;f&&u&&!u.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});c.exports=s},49381:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47407),m=t(95643),o=t(61340),a=new o,r=new o,e=new o,n=function(l,s,u,f){if(s.node){var d=s.node.style,v=s.scene.sys.settings;if(!d||!v.visible||m.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&u.id||s.parentContainer&&!s.parentContainer.willRender()){d.display="none";return}var g=s.parentContainer,y=u.alpha*s.alpha;g&&(y*=g.alpha);var T=a,E=r,A=e,P=0,w=0,M="0%",D="0%";f?(P=s.width*s.scaleX*s.originX,w=s.height*s.scaleY*s.originY,E.applyITRS(s.x-P,s.y-w,s.rotation,s.scaleX,s.scaleY),T.copyFrom(u.matrix),T.multiplyWithOffset(f,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),E.e=s.x-P,E.f=s.y-w,T.multiply(E,A)):(P=s.width*s.originX,w=s.height*s.originY,E.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),T.copyFrom(u.matrix),M=100*s.originX+"%",D=100*s.originY+"%",E.e-=u.scrollX*s.scrollFactorX,E.f-=u.scrollY*s.scrollFactorY,T.multiply(E,A),A.e-=P,A.f-=w),s.transformOnly||(d.display="block",d.opacity=y,d.zIndex=s._depth,d.pointerEvents=s.pointerEvents,d.mixBlendMode=h[s._blendMode]),d.transform=A.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",d.transformOrigin=M+" "+D}};c.exports=n},2611:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3069),m=t(39429);m.register("dom",function(o,a,r,e,n){var l=new h(this.scene,o,a,r,e,n);return this.displayList.add(l),l})},441:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(49381),o=t(49381),c.exports={renderWebGL:m,renderCanvas:o}},62980:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},41337:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},44947:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},49358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},35163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},97249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},19483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="locked"},56059:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},26772:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="metadata"},64437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="playing"},83411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},75780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},67799:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},63500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stalled"},55541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},53208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="textureready"},4992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},12:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unsupported"},51708:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(95643),a=t(64993),r=new h({Extends:o,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,a],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=r},70217:()=>{},56315:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42421),m=t(39429);m.register("extern",function(){var o=new h(this.scene);return this.displayList.add(o),o})},64993:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(80287),o=t(70217),c.exports={renderWebGL:m,renderCanvas:o}},80287:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=function(o,a,r,e){o.pipelines.clear();var n=h(a,r,e).calc;a.render.call(a,o,r,n),o.pipelines.rebind()};c.exports=m},85592:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),m=t(83419),o=t(85592),a=t(31401),r=t(8497),e=t(95643),n=t(95540),l=t(35154),s=t(36383),u=t(84503),f=new m({Extends:e,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,u],initialize:function(v,g){var y=l(g,"x",0),T=l(g,"y",0);e.call(this,v,"Graphics"),this.setPosition(y,T),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(g)},setDefaultStyles:function(d){return l(d,"lineStyle",null)&&(this.defaultStrokeWidth=l(d,"lineStyle.width",1),this.defaultStrokeColor=l(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(d,"fillStyle",null)&&(this.defaultFillColor=l(d,"fillStyle.color",16777215),this.defaultFillAlpha=l(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,v,g){return g===void 0&&(g=1),this.commandBuffer.push(o.LINE_STYLE,d,v,g),this._lineWidth=d,this},fillStyle:function(d,v){return v===void 0&&(v=1),this.commandBuffer.push(o.FILL_STYLE,d,v),this},fillGradientStyle:function(d,v,g,y,T,E,A,P){return T===void 0&&(T=1),E===void 0&&(E=T),A===void 0&&(A=T),P===void 0&&(P=T),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,T,E,A,P,d,v,g,y),this},lineGradientStyle:function(d,v,g,y,T,E){return E===void 0&&(E=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,d,E,v,g,y,T),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,v,g){return this.beginPath(),this.arc(d,v,g,0,s.PI2),this.fillPath(),this},strokeCircle:function(d,v,g){return this.beginPath(),this.arc(d,v,g,0,s.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,v,g,y){return this.commandBuffer.push(o.FILL_RECT,d,v,g,y),this},strokeRect:function(d,v,g,y){var T=this._lineWidth/2,E=d-T,A=d+T;return this.beginPath(),this.moveTo(d,v),this.lineTo(d,v+y),this.strokePath(),this.beginPath(),this.moveTo(d+g,v),this.lineTo(d+g,v+y),this.strokePath(),this.beginPath(),this.moveTo(E,v),this.lineTo(A+g,v),this.strokePath(),this.beginPath(),this.moveTo(E,v+y),this.lineTo(A+g,v+y),this.strokePath(),this},fillRoundedRect:function(d,v,g,y,T){T===void 0&&(T=20);var E=T,A=T,P=T,w=T;typeof T!="number"&&(E=n(T,"tl",20),A=n(T,"tr",20),P=n(T,"bl",20),w=n(T,"br",20));var M=E>=0,D=A>=0,F=P>=0,L=w>=0;return E=Math.abs(E),A=Math.abs(A),P=Math.abs(P),w=Math.abs(w),this.beginPath(),this.moveTo(d+E,v),this.lineTo(d+g-A,v),D?this.arc(d+g-A,v+A,A,-s.TAU,0):this.arc(d+g,v,A,Math.PI,s.TAU,!0),this.lineTo(d+g,v+y-w),L?this.arc(d+g-w,v+y-w,w,0,s.TAU):this.arc(d+g,v+y,w,-s.TAU,Math.PI,!0),this.lineTo(d+P,v+y),F?this.arc(d+P,v+y-P,P,s.TAU,Math.PI):this.arc(d,v+y,P,0,-s.TAU,!0),this.lineTo(d,v+E),M?this.arc(d+E,v+E,E,-Math.PI,-s.TAU):this.arc(d,v,E,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,v,g,y,T){T===void 0&&(T=20);var E=T,A=T,P=T,w=T,M=Math.min(g,y)/2;typeof T!="number"&&(E=n(T,"tl",20),A=n(T,"tr",20),P=n(T,"bl",20),w=n(T,"br",20));var D=E>=0,F=A>=0,L=P>=0,O=w>=0;return E=Math.min(Math.abs(E),M),A=Math.min(Math.abs(A),M),P=Math.min(Math.abs(P),M),w=Math.min(Math.abs(w),M),this.beginPath(),this.moveTo(d+E,v),this.lineTo(d+g-A,v),this.moveTo(d+g-A,v),F?this.arc(d+g-A,v+A,A,-s.TAU,0):this.arc(d+g,v,A,Math.PI,s.TAU,!0),this.lineTo(d+g,v+y-w),this.moveTo(d+g,v+y-w),O?this.arc(d+g-w,v+y-w,w,0,s.TAU):this.arc(d+g,v+y,w,-s.TAU,Math.PI,!0),this.lineTo(d+P,v+y),this.moveTo(d+P,v+y),L?this.arc(d+P,v+y-P,P,s.TAU,Math.PI):this.arc(d,v+y,P,0,-s.TAU,!0),this.lineTo(d,v+E),this.moveTo(d,v+E),D?this.arc(d+E,v+E,E,-Math.PI,-s.TAU):this.arc(d,v,E,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,v){return this.fillPoint(d.x,d.y,v)},fillPoint:function(d,v,g){return!g||g<1?g=1:(d-=g/2,v-=g/2),this.commandBuffer.push(o.FILL_RECT,d,v,g,g),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,v,g,y,T,E){return this.commandBuffer.push(o.FILL_TRIANGLE,d,v,g,y,T,E),this},strokeTriangle:function(d,v,g,y,T,E){return this.commandBuffer.push(o.STROKE_TRIANGLE,d,v,g,y,T,E),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,v,g,y){return this.beginPath(),this.moveTo(d,v),this.lineTo(g,y),this.strokePath(),this},lineTo:function(d,v){return this.commandBuffer.push(o.LINE_TO,d,v),this},moveTo:function(d,v){return this.commandBuffer.push(o.MOVE_TO,d,v),this},strokePoints:function(d,v,g,y){v===void 0&&(v=!1),g===void 0&&(g=!1),y===void 0&&(y=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var T=1;T<y;T++)this.lineTo(d[T].x,d[T].y);return v&&this.lineTo(d[0].x,d[0].y),g&&this.closePath(),this.strokePath(),this},fillPoints:function(d,v,g,y){v===void 0&&(v=!1),g===void 0&&(g=!1),y===void 0&&(y=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var T=1;T<y;T++)this.lineTo(d[T].x,d[T].y);return v&&this.lineTo(d[0].x,d[0].y),g&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,v){v===void 0&&(v=32);var g=d.getPoints(v);return this.strokePoints(g,!0)},strokeEllipse:function(d,v,g,y,T){T===void 0&&(T=32);var E=new r(d,v,g,y),A=E.getPoints(T);return this.strokePoints(A,!0)},fillEllipseShape:function(d,v){v===void 0&&(v=32);var g=d.getPoints(v);return this.fillPoints(g,!0)},fillEllipse:function(d,v,g,y,T){T===void 0&&(T=32);var E=new r(d,v,g,y),A=E.getPoints(T);return this.fillPoints(A,!0)},arc:function(d,v,g,y,T,E,A){return E===void 0&&(E=!1),A===void 0&&(A=0),this.commandBuffer.push(o.ARC,d,v,g,y,T,E,A),this},slice:function(d,v,g,y,T,E,A){return E===void 0&&(E=!1),A===void 0&&(A=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,d,v),this.commandBuffer.push(o.ARC,d,v,g,y,T,E,A),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(d,v){return this.commandBuffer.push(o.TRANSLATE,d,v),this},scaleCanvas:function(d,v){return this.commandBuffer.push(o.SCALE,d,v),this},rotateCanvas:function(d){return this.commandBuffer.push(o.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,v,g){var y=this.scene.sys,T=y.game.renderer;v===void 0&&(v=y.scale.width),g===void 0&&(g=y.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,v,g),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var E,A,P={willReadFrequently:!0};if(typeof d=="string")if(y.textures.exists(d)){E=y.textures.get(d);var w=E.getSourceImage();w instanceof HTMLCanvasElement&&(A=w.getContext("2d",P))}else E=y.textures.createCanvas(d,v,g),A=E.getSourceImage().getContext("2d",P);else d instanceof HTMLCanvasElement&&(A=d.getContext("2d",P));return A&&(this.renderCanvas(T,this,f.TargetCamera,null,A,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new h,c.exports=f},32768:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),m=t(20926),o=function(a,r,e,n,l,s){var u=r.commandBuffer,f=u.length,d=l||a.currentContext;if(!(f===0||!m(a,d,r,e,n))){e.addToRenderList(r);var v=1,g=1,y=0,T=0,E=1,A=0,P=0,w=0;d.beginPath();for(var M=0;M<f;++M){var D=u[M];switch(D){case h.ARC:d.arc(u[M+1],u[M+2],u[M+3],u[M+4],u[M+5],u[M+6]),M+=7;break;case h.LINE_STYLE:E=u[M+1],y=u[M+2],v=u[M+3],A=(y&16711680)>>>16,P=(y&65280)>>>8,w=y&255,d.strokeStyle="rgba("+A+","+P+","+w+","+v+")",d.lineWidth=E,M+=3;break;case h.FILL_STYLE:T=u[M+1],g=u[M+2],A=(T&16711680)>>>16,P=(T&65280)>>>8,w=T&255,d.fillStyle="rgba("+A+","+P+","+w+","+g+")",M+=2;break;case h.BEGIN_PATH:d.beginPath();break;case h.CLOSE_PATH:d.closePath();break;case h.FILL_PATH:s||d.fill();break;case h.STROKE_PATH:s||d.stroke();break;case h.FILL_RECT:s?d.rect(u[M+1],u[M+2],u[M+3],u[M+4]):d.fillRect(u[M+1],u[M+2],u[M+3],u[M+4]),M+=4;break;case h.FILL_TRIANGLE:d.beginPath(),d.moveTo(u[M+1],u[M+2]),d.lineTo(u[M+3],u[M+4]),d.lineTo(u[M+5],u[M+6]),d.closePath(),s||d.fill(),M+=6;break;case h.STROKE_TRIANGLE:d.beginPath(),d.moveTo(u[M+1],u[M+2]),d.lineTo(u[M+3],u[M+4]),d.lineTo(u[M+5],u[M+6]),d.closePath(),s||d.stroke(),M+=6;break;case h.LINE_TO:d.lineTo(u[M+1],u[M+2]),M+=2;break;case h.MOVE_TO:d.moveTo(u[M+1],u[M+2]),M+=2;break;case h.LINE_FX_TO:d.lineTo(u[M+1],u[M+2]),M+=5;break;case h.MOVE_FX_TO:d.moveTo(u[M+1],u[M+2]),M+=5;break;case h.SAVE:d.save();break;case h.RESTORE:d.restore();break;case h.TRANSLATE:d.translate(u[M+1],u[M+2]),M+=2;break;case h.SCALE:d.scale(u[M+1],u[M+2]),M+=2;break;case h.ROTATE:d.rotate(u[M+1]),M+=1;break;case h.GRADIENT_FILL_STYLE:M+=5;break;case h.GRADIENT_LINE_STYLE:M+=6;break}}d.restore()}};c.exports=o},87079:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),m=t(43831);h.register("graphics",function(o,a){o===void 0&&(o={}),a!==void 0&&(o.add=a);var r=new m(this.scene,o);return o.add&&this.scene.sys.displayList.add(r),r})},1201:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43831),m=t(39429);m.register("graphics",function(o){return this.displayList.add(new h(this.scene,o))})},84503:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(77545),o=t(32768),o=t(32768),c.exports={renderWebGL:m,renderCanvas:o}},77545:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),m=t(91296),o=t(61340),a=t(70554),r=function(u,f,d){this.x=u,this.y=f,this.width=d},e=function(u,f,d){this.points=[],this.pointsLength=1,this.points[0]=new r(u,f,d)},n=[],l=new o,s=function(u,f,d,v){if(f.commandBuffer.length!==0){d.addToRenderList(f);var g=u.pipelines.set(f.pipeline,f);u.pipelines.preBatch(f);for(var y=m(f,d,v).calc,T=l.loadIdentity(),E=f.commandBuffer,A=d.alpha*f.alpha,P=1,w=g.fillTint,M=g.strokeTint,D=0,F=0,L=0,O=.01,B=Math.PI*2,U,W=[],H=0,Y=!0,G=null,X=a.getTintAppendFloatAlpha,V=0;V<E.length;V++)switch(U=E[V],U){case h.BEGIN_PATH:{W.length=0,G=null,Y=!0;break}case h.CLOSE_PATH:{Y=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case h.FILL_PATH:{for(H=0;H<W.length;H++)g.batchFillPath(W[H].points,T,y);break}case h.STROKE_PATH:{for(H=0;H<W.length;H++)g.batchStrokePath(W[H].points,P,Y,T,y);break}case h.LINE_STYLE:{P=E[++V];var b=E[++V],z=E[++V]*A,$=X(b,z);M.TL=$,M.TR=$,M.BL=$,M.BR=$;break}case h.FILL_STYLE:{var Q=E[++V],Z=E[++V]*A,q=X(Q,Z);w.TL=q,w.TR=q,w.BL=q,w.BR=q;break}case h.GRADIENT_FILL_STYLE:{var j=E[++V]*A,k=E[++V]*A,_=E[++V]*A,et=E[++V]*A;w.TL=X(E[++V],j),w.TR=X(E[++V],k),w.BL=X(E[++V],_),w.BR=X(E[++V],et);break}case h.GRADIENT_LINE_STYLE:{P=E[++V];var it=E[++V]*A;M.TL=X(E[++V],it),M.TR=X(E[++V],it),M.BL=X(E[++V],it),M.BR=X(E[++V],it);break}case h.ARC:{var st=0,nt=E[++V],ut=E[++V],ft=E[++V],ot=E[++V],rt=E[++V],lt=E[++V],dt=E[++V];for(rt-=ot,lt?rt<-B?rt=-B:rt>0&&(rt=-B+rt%B):rt>B?rt=B:rt<0&&(rt=B+rt%B),G===null&&(G=new e(nt+Math.cos(ot)*ft,ut+Math.sin(ot)*ft,P),W.push(G),st+=O);st<1+dt;)L=rt*st+ot,D=nt+Math.cos(L)*ft,F=ut+Math.sin(L)*ft,G.points.push(new r(D,F,P)),st+=O;L=rt+ot,D=nt+Math.cos(L)*ft,F=ut+Math.sin(L)*ft,G.points.push(new r(D,F,P));break}case h.FILL_RECT:{g.batchFillRect(E[++V],E[++V],E[++V],E[++V],T,y);break}case h.FILL_TRIANGLE:{g.batchFillTriangle(E[++V],E[++V],E[++V],E[++V],E[++V],E[++V],T,y);break}case h.STROKE_TRIANGLE:{g.batchStrokeTriangle(E[++V],E[++V],E[++V],E[++V],E[++V],E[++V],P,T,y);break}case h.LINE_TO:{G!==null?G.points.push(new r(E[++V],E[++V],P)):(G=new e(E[++V],E[++V],P),W.push(G));break}case h.MOVE_TO:{G=new e(E[++V],E[++V],P),W.push(G);break}case h.SAVE:{n.push(T.copyToArray());break}case h.RESTORE:{T.copyFromArray(n.pop());break}case h.TRANSLATE:{nt=E[++V],ut=E[++V],T.translate(nt,ut);break}case h.SCALE:{nt=E[++V],ut=E[++V],T.scale(nt,ut);break}case h.ROTATE:{T.rotate(E[++V]);break}}u.pipelines.postBatch(f)}};c.exports=s},26479:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61061),m=t(83419),o=t(51708),a=t(50792),r=t(46710),e=t(95540),n=t(35154),l=t(97022),s=t(41212),u=t(88492),f=t(35072),d=t(68287),v=new m({Extends:a,initialize:function(y,T,E){a.call(this),E?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?s(T[0])&&(E=T,T=null):s(T)&&(E=T,T=null),this.scene=y,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(E,"classType",d),this.name=e(E,"name",""),this.active=e(E,"active",!0),this.maxSize=e(E,"maxSize",-1),this.defaultKey=e(E,"defaultKey",null),this.defaultFrame=e(E,"defaultFrame",null),this.runChildUpdate=e(E,"runChildUpdate",!1),this.createCallback=e(E,"createCallback",null),this.removeCallback=e(E,"removeCallback",null),this.createMultipleCallback=e(E,"createMultipleCallback",null),this.internalCreateCallback=e(E,"internalCreateCallback",null),this.internalRemoveCallback=e(E,"internalRemoveCallback",null),T&&this.addMultiple(T),E&&this.createMultiple(E),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(g,y,T,E,A,P){if(g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=this.defaultKey),E===void 0&&(E=this.defaultFrame),A===void 0&&(A=!0),P===void 0&&(P=!0),this.isFull())return null;var w=new this.classType(this.scene,g,y,T,E);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=A,w.setActive(P),this.add(w),w},createMultiple:function(g){if(this.isFull())return[];Array.isArray(g)||(g=[g]);var y=[];if(g[0].key)for(var T=0;T<g.length;T++){var E=this.createFromConfig(g[T]);y=y.concat(E)}return y},createFromConfig:function(g){if(this.isFull())return[];this.classType=e(g,"classType",this.classType);var y=e(g,"key",void 0),T=e(g,"frame",null),E=e(g,"visible",!0),A=e(g,"active",!0),P=[];if(y===void 0)return P;Array.isArray(y)||(y=[y]),Array.isArray(T)||(T=[T]);var w=e(g,"repeat",0),M=e(g,"randomKey",!1),D=e(g,"randomFrame",!1),F=e(g,"yoyo",!1),L=e(g,"quantity",!1),O=e(g,"frameQuantity",1),B=e(g,"max",0),U=u(y,T,{max:B,qty:L||O,random:M,randomB:D,repeat:w,yoyo:F});g.createCallback&&(this.createCallback=g.createCallback),g.removeCallback&&(this.removeCallback=g.removeCallback),g.internalCreateCallback&&(this.internalCreateCallback=g.internalCreateCallback),g.internalRemoveCallback&&(this.internalRemoveCallback=g.internalRemoveCallback);for(var W=0;W<U.length;W++){var H=this.create(0,0,U[W].a,U[W].b,E,A);if(!H)break;P.push(H)}if(l(g,"setXY")){var Y=n(g,"setXY.x",0),G=n(g,"setXY.y",0),X=n(g,"setXY.stepX",0),V=n(g,"setXY.stepY",0);h.SetXY(P,Y,G,X,V)}if(l(g,"setRotation")){var b=n(g,"setRotation.value",0),z=n(g,"setRotation.step",0);h.SetRotation(P,b,z)}if(l(g,"setScale")){var $=n(g,"setScale.x",1),Q=n(g,"setScale.y",$),Z=n(g,"setScale.stepX",0),q=n(g,"setScale.stepY",0);h.SetScale(P,$,Q,Z,q)}if(l(g,"setOrigin")){var j=n(g,"setOrigin.x",.5),k=n(g,"setOrigin.y",j),_=n(g,"setOrigin.stepX",0),et=n(g,"setOrigin.stepY",0);h.SetOrigin(P,j,k,_,et)}if(l(g,"setAlpha")){var it=n(g,"setAlpha.value",1),st=n(g,"setAlpha.step",0);h.SetAlpha(P,it,st)}if(l(g,"setDepth")){var nt=n(g,"setDepth.value",0),ut=n(g,"setDepth.step",0);h.SetDepth(P,nt,ut)}if(l(g,"setScrollFactor")){var ft=n(g,"setScrollFactor.x",1),ot=n(g,"setScrollFactor.y",ft),rt=n(g,"setScrollFactor.stepX",0),lt=n(g,"setScrollFactor.stepY",0);h.SetScrollFactor(P,ft,ot,rt,lt)}var dt=e(g,"hitArea",null),xt=e(g,"hitAreaCallback",null);dt&&h.SetHitArea(P,dt,xt);var yt=e(g,"gridAlign",!1);return yt&&h.GridAlign(P,yt),this.createMultipleCallback&&this.createMultipleCallback.call(this,P),P},preUpdate:function(g,y){if(!(!this.runChildUpdate||this.children.size===0))for(var T=this.children.entries.slice(),E=0;E<T.length;E++){var A=T[E];A.active&&A.update(g,y)}},add:function(g,y){return y===void 0&&(y=!1),this.isFull()?this:(this.children.set(g),this.internalCreateCallback&&this.internalCreateCallback.call(this,g),this.createCallback&&this.createCallback.call(this,g),y&&(g.addToDisplayList(this.scene.sys.displayList),g.addToUpdateList()),g.on(o.DESTROY,this.remove,this),this)},addMultiple:function(g,y){if(y===void 0&&(y=!1),Array.isArray(g))for(var T=0;T<g.length;T++)this.add(g[T],y);return this},remove:function(g,y,T){return y===void 0&&(y=!1),T===void 0&&(T=!1),this.children.contains(g)?(this.children.delete(g),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,g),this.removeCallback&&this.removeCallback.call(this,g),g.off(o.DESTROY,this.remove,this),T?g.destroy():y&&(g.removeFromDisplayList(),g.removeFromUpdateList()),this):this},clear:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!1);for(var T=this.children,E=0;E<T.size;E++){var A=T.entries[E];A.off(o.DESTROY,this.remove,this),y?A.destroy():g&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(g){return this.children.contains(g)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(g,y,T,E){return r(this.children.entries,g,y,T,E)},getFirst:function(g,y,T,E,A,P,w){return this.getHandler(!0,1,g,y,T,E,A,P,w)},getFirstNth:function(g,y,T,E,A,P,w,M){return this.getHandler(!0,g,y,T,E,A,P,w,M)},getLast:function(g,y,T,E,A,P,w){return this.getHandler(!1,1,g,y,T,E,A,P,w)},getLastNth:function(g,y,T,E,A,P,w,M){return this.getHandler(!1,g,y,T,E,A,P,w,M)},getHandler:function(g,y,T,E,A,P,w,M,D){T===void 0&&(T=!1),E===void 0&&(E=!1);var F,L,O=0,B=this.children.entries;if(g)for(L=0;L<B.length;L++)if(F=B[L],F.active===T){if(O++,O===y)break}else F=null;else for(L=B.length-1;L>=0;L--)if(F=B[L],F.active===T){if(O++,O===y)break}else F=null;return F?(typeof A=="number"&&(F.x=A),typeof P=="number"&&(F.y=P),F):E?this.create(A,P,w,M,D):null},get:function(g,y,T,E,A){return this.getFirst(!1,!0,g,y,T,E,A)},getFirstAlive:function(g,y,T,E,A,P){return this.getFirst(!0,g,y,T,E,A,P)},getFirstDead:function(g,y,T,E,A,P){return this.getFirst(!1,g,y,T,E,A,P)},playAnimation:function(g,y){return h.PlayAnimation(this.children.entries,g,y),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(g){g===void 0&&(g=!0);for(var y=0,T=0;T<this.children.size;T++)this.children.entries[T].active===g&&y++;return y},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var g=this.getTotalUsed(),y=this.maxSize===-1?999999999999:this.maxSize;return y-g},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},propertyValueSet:function(g,y,T,E,A){return h.PropertyValueSet(this.children.entries,g,y,T,E,A),this},propertyValueInc:function(g,y,T,E,A){return h.PropertyValueInc(this.children.entries,g,y,T,E,A),this},setX:function(g,y){return h.SetX(this.children.entries,g,y),this},setY:function(g,y){return h.SetY(this.children.entries,g,y),this},setXY:function(g,y,T,E){return h.SetXY(this.children.entries,g,y,T,E),this},incX:function(g,y){return h.IncX(this.children.entries,g,y),this},incY:function(g,y){return h.IncY(this.children.entries,g,y),this},incXY:function(g,y,T,E){return h.IncXY(this.children.entries,g,y,T,E),this},shiftPosition:function(g,y,T){return h.ShiftPosition(this.children.entries,g,y,T),this},angle:function(g,y){return h.Angle(this.children.entries,g,y),this},rotate:function(g,y){return h.Rotate(this.children.entries,g,y),this},rotateAround:function(g,y){return h.RotateAround(this.children.entries,g,y),this},rotateAroundDistance:function(g,y,T){return h.RotateAroundDistance(this.children.entries,g,y,T),this},setAlpha:function(g,y){return h.SetAlpha(this.children.entries,g,y),this},setTint:function(g,y,T,E){return h.SetTint(this.children.entries,g,y,T,E),this},setOrigin:function(g,y,T,E){return h.SetOrigin(this.children.entries,g,y,T,E),this},scaleX:function(g,y){return h.ScaleX(this.children.entries,g,y),this},scaleY:function(g,y){return h.ScaleY(this.children.entries,g,y),this},scaleXY:function(g,y,T,E){return h.ScaleXY(this.children.entries,g,y,T,E),this},setDepth:function(g,y){return h.SetDepth(this.children.entries,g,y),this},setBlendMode:function(g){return h.SetBlendMode(this.children.entries,g),this},setHitArea:function(g,y){return h.SetHitArea(this.children.entries,g,y),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(g){this.children.contains(g)&&g.setActive(!1)},killAndHide:function(g){this.children.contains(g)&&(g.setActive(!1),g.setVisible(!1))},setVisible:function(g,y,T){return h.SetVisible(this.children.entries,g,y,T),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(y,g),this.scene=void 0,this.children=void 0)}});c.exports=v},94975:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),m=t(26479);h.register("group",function(o){return new m(this.scene,null,o)})},3385:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26479),m=t(39429);m.register("group",function(o,a){return this.updateList.add(new h(this.scene,o,a))})},88571:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(95643),a=t(59819),r=new h({Extends:o,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,a],initialize:function(n,l,s,u,f){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,f),this.setPosition(l,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=r},40652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m.addToRenderList(h),t.batchSprite(h,h.frame,m,o)};c.exports=S},82459:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(88571);m.register("image",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"frame",null),s=new a(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),h(this.scene,s,r),s})},2117:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88571),m=t(39429);m.register("image",function(o,a,r,e){return this.displayList.add(new h(this.scene,o,a,r,e))})},59819:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(99517),o=t(40652),c.exports={renderWebGL:m,renderCanvas:o}},99517:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m.addToRenderList(h),this.pipeline.batchSprite(h,m,o)};c.exports=S},77856:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};h.Shader=t(20071),h.Mesh=t(4703),h.NineSlice=t(28103),h.PointLight=t(80321),h.Plane=t(33663),h.Factories.Shader=t(74177),h.Factories.Mesh=t(9225),h.Factories.NineSlice=t(47521),h.Factories.PointLight=t(71255),h.Factories.Plane=t(30985),h.Creators.Shader=t(54935),h.Creators.Mesh=t(20527),h.Creators.NineSlice=t(28279),h.Creators.PointLight=t(39829),h.Creators.Plane=t(56015),h.Light=t(41432),h.LightsManager=t(61356),h.LightsPlugin=t(88992),c.exports=h},93595:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),m=t(83419),o=t(31401),a=t(53774),r=t(45893),e=t(50792),n=t(51708),l=t(73162),s=t(33963),u=t(44594),f=t(19186),d=new m({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,e,s],initialize:function(g,y){l.call(this,g),e.call(this),this.scene=g,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=g.sys,this.events=g.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),y&&this.add(y),g.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(v,g){return this.data||(this.data=new r(this)),this.data.set(v,g),this},incData:function(v,g){return this.data||(this.data=new r(this)),this.data.inc(v,g),this},toggleData:function(v){return this.data||(this.data=new r(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new r(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,g=this.parentContainer,y=[];g&&(y.unshift(g.getIndex(v)),v=g,g.parentContainer);)g=g.parentContainer;return y.unshift(this.displayList.getIndex(v)),y},addChildCallback:function(v){var g=v.displayList;g&&g!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(n.ADDED_TO_SCENE,v,this.scene),this.events.emit(u.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(n.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,g){return v._depth-g._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),v.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var g=this.list;g.length;)g[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=d},2956:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=h.list;if(o.length!==0){h.depthSort();var a=h.blendMode!==-1;a||t.setBlendMode(0);var r=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,m);for(var e=0;e<o.length;e++){var n=o[e];if(n.willRender(m)){var l=n.alpha;!a&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,m),n.setAlpha(l)}}h.mask&&h.mask.postRenderCanvas(t)}};c.exports=S},25179:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(93595),o=t(44603),a=t(23568);o.register("layer",function(r,e){r===void 0&&(r={});var n=a(r,"children",null),l=new m(this.scene,n);return e!==void 0&&(r.add=e),h(this.scene,l,r),l})},20005:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93595),m=t(39429);m.register("layer",function(o){return this.displayList.add(new h(this.scene,o))})},33963:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(15869),o=t(2956),c.exports={renderWebGL:m,renderCanvas:o}},15869:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=h.list,a=o.length;if(a!==0){h.depthSort(),t.pipelines.preBatch(h);var r=h.blendMode!==-1;r||t.setBlendMode(0);for(var e=h.alpha,n=0;n<a;n++){var l=o[n];if(l.willRender(m)){var s,u,f,d;if(l.alphaTopLeft!==void 0)s=l.alphaTopLeft,u=l.alphaTopRight,f=l.alphaBottomLeft,d=l.alphaBottomRight;else{var v=l.alpha;s=v,u=v,f=v,d=v}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var g=l.mask;g&&g.preRenderWebGL(t,l,m);var y=l.type;y!==t.currentType&&(t.newType=!0,t.currentType=y),t.nextTypeMatch=n<a-1?o[n+1].type===t.currentType:!1,l.setAlpha(s*e,u*e,f*e,d*e),l.renderWebGL(t,l,m),l.setAlpha(s,u,f,d),g&&g.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(h)}};c.exports=S},41432:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),m=t(83419),o=t(31401),a=t(51767),r=t(70554),e=new m({Extends:h,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,s,u,f,d,v,g){h.call(this,l,s,u),this.color=new a(f,d,v),this.intensity=g,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(u)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});e.RENDER_MASK=15,c.exports=e},61356:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81491),m=t(83419),o=t(20339),a=t(41432),r=t(80321),e=t(51767),n=t(19133),l=t(19186),s=t(70554),u=new m({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,d,v,g,y,T){return this.systems.displayList.add(new r(this.scene,f,d,v,g,y,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var d=this.lights,v=f.worldView,g=[],y=0;y<d.length;y++){var T=d[y];T.willRender(f)&&h(T,v)&&g.push({light:T,distance:o(T.x,T.y,v.centerX,v.centerY)})}return g.length>this.maxLights&&(l(g,this.sortByDistance),g=g.slice(0,this.maxLights)),this.visibleLights=g.length,g},sortByDistance:function(f,d){return f.distance>=d.distance},setAmbientColor:function(f){var d=s.getFloatsFromUintRGB(f);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,d,v,g,y){f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=128),g===void 0&&(g=16777215),y===void 0&&(y=1);var T=s.getFloatsFromUintRGB(g),E=new a(f,d,v,T[0],T[1],T[2],y);return this.lights.push(E),E},removeLight:function(f){var d=this.lights.indexOf(f);return d>=0&&n(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=u},88992:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(61356),o=t(37277),a=t(44594),r=new h({Extends:m,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(a.BOOT,this.boot,this),m.call(this)},boot:function(){var e=this.systems.events;e.on(a.SHUTDOWN,this.shutdown,this),e.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",r,"lights"),c.exports=r},4703:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(39506),a=t(83997),r=t(95643),e=t(34684),n=t(92515),l=t(91296),s=t(37867),u=t(29807),f=t(43396),d=t(19186),v=t(25836),g=t(39318),y=new h({Extends:r,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,u],initialize:function(E,A,P,w,M,D,F,L,O,B,U,W){A===void 0&&(A=0),P===void 0&&(P=0),w===void 0&&(w="__WHITE"),r.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new v,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=E.sys.renderer;this.setPosition(A,P),this.setTexture(w,M),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),D&&this.addVertices(D,F,L,O,B,U,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(v.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=v.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,E,A,P,w){return A===void 0&&(A=45),P===void 0&&(P=.01),w===void 0&&(w=1e3),this.fov=A,this.projectionMatrix.perspective(o(A),T/E,P,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,E,A,P){return T===void 0&&(T=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),A===void 0&&(A=-1e3),P===void 0&&(P=1e3),this.fov=0,this.projectionMatrix.ortho(-T,T,-E,E,A,P),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,E,A,P,w,M,D,F,L){var O=this.scene.sys.cache.obj.get(T),B;return O&&(B=e(O,this,E,A,P,w,M,D,F,L)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",T),this},sortByDepth:function(T,E){return T.depth-E.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(T,E,A,P,w,M,D){var F=new g(T,E,A,P,w,M,D);return this.vertices.push(F),F},addFace:function(T,E,A){var P=new a(T,E,A);return this.faces.push(P),this.dirtyCache[9]=-1,P},addVertices:function(T,E,A,P,w,M,D){var F=n(T,E,A,P,w,M,D);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},hasFaceAt:function(T,E,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,w=this.faces,M=0;M<w.length;M++){var D=w[M];if(D.contains(T,E,P))return!0}return!1},getFaceAt:function(T,E,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,w=this.faces,M=[],D=0;D<w.length;D++){var F=w[D];F.contains(T,E,P)&&M.push(F)}return d(M,this.sortByDepth)},setDebug:function(T,E){return this.debugGraphic=T,!T&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var T=this.modelPosition,E=this.modelRotation,A=this.modelScale,P=this.dirtyCache,w=T.x,M=T.y,D=T.z,F=E.x,L=E.y,O=E.z,B=A.x,U=A.y,W=A.z,H=this.getFaceCount(),Y=P[0],G=P[1],X=P[2],V=P[3],b=P[4],z=P[5],$=P[6],Q=P[7],Z=P[8],q=P[9];return P[0]=w,P[1]=M,P[2]=D,P[3]=F,P[4]=L,P[5]=O,P[6]=B,P[7]=U,P[8]=W,P[9]=H,Y!==w||G!==M||X!==D||V!==F||b!==L||z!==O||$!==B||Q!==U||Z!==W||q!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!T[10]&&!this.isDirty())){var E=this.width,A=this.height,P=this.viewMatrix,w=this.viewPosition;T[10]&&(P.identity(),P.translate(w),P.invert(),T[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=w.z,F=this.faces,L=0;L<F.length;L++)F[L].transformCoordinatesLocal(M,E,A,D);this.depthSort()}},renderDebug:function(T,E){for(var A=T.debugGraphic,P=0;P<E.length;P++){var w=E[P],M=w.vertex1.tx,D=w.vertex1.ty,F=w.vertex2.tx,L=w.vertex2.ty,O=w.vertex3.tx,B=w.vertex3.ty;A.strokeTriangle(M,D,F,L,O,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(T){T===void 0&&(T={});var E=(function(A,P,w){for(var M=this.faces,D=0;D<M.length;D++){var F=M[D];if(F.contains(P,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,T,E),this},setTint:function(T){T===void 0&&(T=16777215);for(var E=this.vertices,A=0;A<E.length;A++)E[A].color=T;return this},uvScroll:function(T,E){for(var A=this.faces,P=0;P<A.length;P++)A[P].scrollUV(T,E);return this},uvScale:function(T,E){for(var A=this.faces,P=0;P<A.length;P++)A[P].scaleUV(T,E);return this},tint:{set:function(T){this.setTint(T)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(T){this.modelRotation.x=o(T)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(T){this.modelRotation.y=o(T)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(T){this.modelRotation.z=o(T)}}});c.exports=y},36488:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};c.exports=S},20527:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(35154),r=t(4703);m.register("mesh",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),s=o(e,"frame",null),u=a(e,"vertices",[]),f=a(e,"uvs",[]),d=a(e,"indicies",[]),v=a(e,"containsZ",!1),g=a(e,"normals",[]),y=a(e,"colors",16777215),T=a(e,"alphas",1),E=new r(this.scene,0,0,l,s,u,f,d,v,g,y,T);return n!==void 0&&(e.add=n),h(this.scene,E,e),E})},9225:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4703),m=t(39429);m.register("mesh",function(o,a,r,e,n,l,s,u,f,d,v){return this.displayList.add(new h(this.scene,o,a,r,e,n,l,s,u,f,d,v))})},29807:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(48833),o=t(36488),c.exports={renderWebGL:m,renderCanvas:o}},48833:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=function(o,a,r,e){var n=a.faces,l=n.length;if(l!==0){r.addToRenderList(a);var s=o.pipelines.set(a.pipeline,a),u=h(a,r,e).calc;o.pipelines.preBatch(a);for(var f=s.setGameObject(a),d=s.vertexViewF32,v=s.vertexViewU32,g=s.vertexCount*s.currentShader.vertexComponentCount-1,y=a.tintFill,T=[],E=a.debugCallback,A=u.a,P=u.b,w=u.c,M=u.d,D=u.e,F=u.f,L=a.viewPosition.z,O=a.hideCCW,B=r.roundPixels,U=r.alpha*a.alpha,W=0,H=0;H<l;H++){var Y=n[H];Y.isInView(r,O,L,U,A,P,w,M,D,F,B)&&(s.shouldFlush(3)&&(s.flush(),f=s.setGameObject(a),g=s.vertexCount*s.currentShader.vertexComponentCount-1),g=Y.load(d,v,g,f,y),W++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,E&&T.push(Y))}a.totalFrame+=W,E&&E.call(a,a,T),o.pipelines.postBatch(a)}};c.exports=m},28103:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(95643),a=t(78023),r=t(39318),e=new h({Extends:o,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,a],initialize:function(l,s,u,f,d,v,g,y,T,E,A){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var P=l.textures.getFrame(f,d);this.is3Slice=!E&&!A,P&&P.scale9&&(this.is3Slice=P.is3Slice);for(var w=this.is3Slice?18:54,M=0;M<w;M++)this.vertices.push(new r);this.setPosition(s,u),this.setTexture(f,d),this.setSlices(v,g,y,T,E,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,s,u,f,d,v){s===void 0&&(s=10),u===void 0&&(u=10),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=!1);var g=this.frame,y=!1;if(this.is3Slice&&v&&f!==0&&d!==0&&(y=!0),y)console.warn("Cannot change 9 slice to 3 slice");else{if(g&&g.scale9&&!v){var T=g.data.scale9Borders,E=T.x,A=T.y;s=E,u=g.width-T.w-E,f=A,d=g.height-T.h-A,n===void 0&&(n=g.width),l===void 0&&(l=g.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=s,this.rightWidth=u,this.topHeight=f,this.bottomHeight=d,this.is3Slice&&(l=g.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,f=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,n/f,s/d),this.updateQuadUVs(6,n/f,0,1-l/f,s/d),this.updateQuadUVs(12,1-l/f,0,1,s/d),this.is3Slice||(this.updateQuadUVs(18,0,s/d,n/f,1-u/d),this.updateQuadUVs(24,n/f,s/d,1-l/f,1-u/d),this.updateQuadUVs(30,1-l/f,s/d,1,1-u/d),this.updateQuadUVs(36,0,1-u/d,n/f,1),this.updateQuadUVs(42,n/f,1-u/d,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-u/d,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,f=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+n/f,.5-s/d),this.updateQuad(6,-.5+n/f,.5,.5-l/f,.5-s/d),this.updateQuad(12,.5-l/f,.5,.5,.5-s/d),this.is3Slice||(this.updateQuad(18,-.5,.5-s/d,-.5+n/f,-.5+u/d),this.updateQuad(24,-.5+n/f,.5-s/d,.5-l/f,-.5+u/d),this.updateQuad(30,.5-l/f,.5-s/d,.5,-.5+u/d),this.updateQuad(36,-.5,-.5+u/d,-.5+n/f,-.5),this.updateQuad(42,-.5+n/f,-.5+u/d,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+u/d,.5,-.5))},updateQuad:function(n,l,s,u,f){var d=this.width,v=this.height,g=this.originX,y=this.originY,T=this.vertices;T[n+0].resize(l,s,d,v,g,y),T[n+1].resize(l,f,d,v,g,y),T[n+2].resize(u,s,d,v,g,y),T[n+3].resize(l,f,d,v,g,y),T[n+4].resize(u,f,d,v,g,y),T[n+5].resize(u,s,d,v,g,y)},updateQuadUVs:function(n,l,s,u,f){var d=this.vertices,v=this.frame,g=v.u0,y=v.v0,T=v.u1,E=v.v1;if(g!==0||T!==1){var A=T-g;l=g+l*A,u=g+u*A}if(y!==0||E!==1){var P=E-y;s=y+s*P,f=y+f*P}d[n+0].setUVs(l,s),d[n+1].setUVs(l,f),d[n+2].setUVs(u,s),d[n+3].setUVs(l,f),d[n+4].setUVs(u,f),d[n+5].setUVs(u,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=e},28279:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(35154),r=t(28103);m.register("nineslice",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),s=o(e,"frame",null),u=a(e,"width",256),f=a(e,"height",256),d=a(e,"leftWidth",10),v=a(e,"rightWidth",10),g=a(e,"topHeight",0),y=a(e,"bottomHeight",0),T=new r(this.scene,0,0,l,s,u,f,d,v,g,y);return n!==void 0&&(e.add=n),h(this.scene,T,e),T})},47521:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28103),m=t(39429);m.register("nineslice",function(o,a,r,e,n,l,s,u,f,d){return this.displayList.add(new h(this.scene,o,a,r,e,n,l,s,u,f,d))})},78023:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(52230),c.exports={renderWebGL:m,renderCanvas:o}},52230:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(70554),o=function(a,r,e,n){var l=r.vertices,s=l.length;if(s!==0){e.addToRenderList(r);var u=a.pipelines.set(r.pipeline,r),f=h(r,e,n,!1).calc;a.pipelines.preBatch(r);var d=u.setGameObject(r),v=u.vertexViewF32,g=u.vertexViewU32,y=u.vertexCount*u.currentShader.vertexComponentCount-1,T=e.roundPixels,E=r.tintFill,A=e.alpha*r.alpha,P=m.getTintAppendFloatAlpha(r.tint,A),w=u.vertexAvailable(),M=-1;w<s&&(M=w);for(var D=0;D<s;D++){var F=l[D];D===M&&(u.flush(),d=u.setGameObject(r),y=0),v[++y]=f.getXRound(F.vx,F.vy,T),v[++y]=f.getYRound(F.vx,F.vy,T),v[++y]=F.u,v[++y]=F.v,v[++y]=d,v[++y]=E,g[++y]=P,u.vertexCount++,u.currentBatch.count=u.vertexCount-u.currentBatch.start}a.pipelines.postBatch(r)}};c.exports=o},76472:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(44777),o=t(37589),a=t(6113),r=t(91389),e=t(90664),n=new h({Extends:m,initialize:function(s){m.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,s=l,u=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=a("Linear"),this.interpolation=r("linear"),u=this.easedValueEmit,f=this.easeValueUpdate,s=l[0],this.active=!0;for(var d=0;d<l.length;d++){var v=e(l[d]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=u,this.onUpdate=f,this.current=s,this},setEase:function(l){this.easeName=l,this.ease=a(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,s,u){var f=this.ease(u),d=this.interpolation(this.r,f),v=this.interpolation(this.g,f),g=this.interpolation(this.b,f),y=o(d,v,g);return this.current=y,y}});c.exports=n},44777:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),m=t(45319),o=t(83419),a=t(99472),r=t(6113),e=t(95540),n=t(91389),l=t(77720),s=t(15994),u=new o({initialize:function(d,v,g){g===void 0&&(g=!1),this.propertyKey=d,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=g,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,d){f===void 0&&(f={}),d&&(this.propertyKey=d),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var d;switch(this.method){case 1:case 3:case 8:d=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(d=f);break;case 4:var v=(this.end-this.start)/this.steps;d=l(f,v),this.counter=d;break;case 5:case 6:case 7:d=m(f,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var d=typeof f;if(d==="number")return 1;if(Array.isArray(f))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,d=f,v=this.defaultEmit,g=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,d=f[0];break;case 3:this._onEmit=f,v=this.proxyEmit,d=this.defaultValue;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,v=this.steppedEmit,d=this.start;break;case 5:this.start=f.start,this.end=f.end;var y=this.has(f,"ease")?f.ease:"Linear";this.ease=r(y,f.easeParams),v=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,g=this.easeValueUpdate,d=this.start;break;case 6:this.start=f.min,this.end=f.max,v=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var T=f.random;Array.isArray(T)&&(this.start=T[0],this.end=T[1]),v=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,v=this.proxyEmit,g=this.proxyUpdate,d=this.defaultValue;break;case 9:this.start=f.values;var E=this.has(f,"ease")?f.ease:"Linear";this.ease=r(E,f.easeParams),this.interpolation=n(f.interpolation),v=this.easedValueEmit,g=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=v,this.onUpdate=g,this.current=d,this},has:function(f,d){return f.hasOwnProperty(d)},hasBoth:function(f,d,v){return f.hasOwnProperty(d)&&f.hasOwnProperty(v)},hasEither:function(f,d,v){return f.hasOwnProperty(d)||f.hasOwnProperty(v)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(f,d,v,g){return g},proxyEmit:function(f,d,v){var g=this._onEmit(f,d,v);return this.current=g,g},proxyUpdate:function(f,d,v,g){var y=this._onUpdate(f,d,v,g);return this.current=y,y},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,d){var v=a(this.start,this.end);return f&&f.data[d]&&(f.data[d].min=v,f.data[d].max=this.end),this.current=v,v},randomRangedIntEmit:function(f,d){var v=h(this.start,this.end);return f&&f.data[d]&&(f.data[d].min=v,f.data[d].max=this.end),this.current=v,v},steppedEmit:function(){var f=this.counter,d=f,v=(this.end-this.start)/this.steps;if(this.yoyo){var g;this.direction===0?(d+=v,d>=this.end&&(g=d-this.end,d=this.end-g,this.direction=1)):(d-=v,d<=this.start&&(g=this.start-d,d=this.start+g,this.direction=0)),this.counter=d}else this.counter=s(d+v,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,d){if(f&&f.data[d]){var v=f.data[d];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,d,v){var g=f.data[d],y,T=this.ease(v);return this.interpolation?y=this.interpolation(this.start,T):y=(g.max-g.min)*T+g.min,this.current=y,y},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=u},24502:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=t(20286),a=new h({Extends:o,initialize:function(e,n,l,s,u){if(typeof e=="object"){var f=e;e=m(f,"x",0),n=m(f,"y",0),l=m(f,"power",0),s=m(f,"epsilon",100),u=m(f,"gravity",50)}else e===void 0&&(e=0),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=100),u===void 0&&(u=50);o.call(this,e,n,!0),this._gravity=u,this._power=l*u,this._epsilon=s*s},update:function(r,e){var n=this.x-r.x,l=this.y-r.y,s=n*n+l*l;if(s!==0){var u=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var f=this._power*e/(s*u)*100;r.velocityX+=n*f,r.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var e=this.power;this._gravity=r,this.power=e}}});c.exports=a},56480:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),m=t(45319),o=t(83419),a=t(39506),r=t(87841),e=t(11520),n=t(26099),l=new o({initialize:function(u){this.emitter=u,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=u.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new h(this)),this.bounds=new r},emit:function(s,u,f,d,v,g){return this.emitter.emit(s,u,f,d,v,g)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.x=s,this.y=u},fire:function(s,u){var f=this.emitter,d=f.ops,v=f.getAnim();if(v?this.anims.play(v):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),s===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=s+d.x.onEmit(this,"x"):this.x+=s,u===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=u+d.y.onEmit(this,"y"):this.y+=u,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var g=d.speedX.onEmit(this,"speedX"),y=d.speedY.active?d.speedY.onEmit(this,"speedY"):g;if(f.radial){var T=a(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(T)*Math.abs(g),this.velocityY=Math.sin(T)*Math.abs(y)}else if(f.moveTo){var E=d.moveToX.onEmit(this,"moveToX"),A=d.moveToY.onEmit(this,"moveToY"),P=this.life/1e3;this.velocityX=(E-this.x)/P,this.velocityY=(A-this.y)/P}else this.velocityX=g,this.velocityY=y;return f.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(s,u,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims&&this.anims.update(0,s);var d=this.emitter,v=d.ops,g=1-this.lifeCurrent/this.life;if(this.lifeT=g,this.x=v.x.onUpdate(this,"x",g,this.x),this.y=v.y.onUpdate(this,"y",g,this.y),d.moveTo){var y=v.moveToX.onUpdate(this,"moveToX",g,d.moveToX),T=v.moveToY.onUpdate(this,"moveToY",g,d.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(y-this.x)/E,this.velocityY=(T-this.y)/E}return this.computeVelocity(d,s,u,f,g),this.scaleX=v.scaleX.onUpdate(this,"scaleX",g,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",g,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",g,this.angle),this.rotation=a(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=m(v.alpha.onUpdate(this,"alpha",g,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",g,this.tint):this.tint=v.tint.onUpdate(this,"tint",g,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,u,f,d,v){var g=s.ops,y=this.velocityX,T=this.velocityY,E=g.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),A=g.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),P=g.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),w=g.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=g.bounce.onUpdate(this,"bounce",v,this.bounce),y+=s.gravityX*f+E*f,T+=s.gravityY*f+A*f,y=m(y,-P,P),T=m(T,-w,w),this.velocityX=y,this.velocityY=T,this.x+=y*f,this.y+=T*f,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var M=0;M<d.length;M++){var D=d[M];D.active&&D.update(this,u,f,v)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var u=Math.abs(s.scaleX)*this.scaleX,f=Math.abs(s.scaleY)*this.scaleY,d=this.x,v=this.y,g=this.rotation,y=this.frame.width*u/2,T=this.frame.height*f/2,E=this.bounds,A=new n(d-y,v-T),P=new n(d+y,v-T),w=new n(d-y,v+T),M=new n(d+y,v+T);return g!==0&&(e(A,d,v,g),e(P,d,v,g),e(w,d,v,g),e(M,d,v,g)),s.transformPoint(A.x,A.y,A),s.transformPoint(P.x,P.y,P),s.transformPoint(w.x,w.y,w),s.transformPoint(M.x,M.y,M),E.x=Math.min(A.x,P.x,w.x,M.x),E.y=Math.min(A.y,P.y,w.y,M.y),E.width=Math.max(A.x,P.x,w.x,M.x)-E.x,E.height=Math.max(A.y,P.y,w.y,M.y)-E.y,E},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=l},69601:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(20286),o=t(87841),a=new h({Extends:m,initialize:function(e,n,l,s,u,f,d,v){u===void 0&&(u=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),v===void 0&&(v=!0),m.call(this,e,n,!0),this.bounds=new o(e,n,l,s),this.collideLeft=u,this.collideRight=f,this.collideTop=d,this.collideBottom=v},update:function(r){var e=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<e.x&&this.collideLeft?(r.x+=e.x-l.x,r.velocityX*=n):l.x>e.right&&this.collideRight&&(r.x-=l.x-e.right,r.velocityX*=n),l.y<e.y&&this.collideTop?(r.y+=e.y-l.y,r.velocityY*=n):l.y>e.bottom&&this.collideBottom&&(r.y-=l.y-e.bottom,r.velocityY*=n)}});c.exports=a},31600:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(53774),a=t(43459),r=t(26388),e=t(19909),n=t(76472),l=t(44777),s=t(20696),u=t(95643),f=t(95540),d=t(26546),v=t(24502),g=t(1985),y=t(97022),T=t(86091),E=t(73162),A=t(20074),P=t(269),w=t(56480),M=t(69601),D=t(68875),F=t(87841),L=t(59996),O=t(72905),B=t(90668),U=t(19186),W=t(61340),H=t(26099),Y=t(15994),G=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new h({Extends:u,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,B],initialize:function(z,$,Q,Z,q){u.call(this,z,"ParticleEmitter"),this.particleClass=w,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new H,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new E(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,Q),this.setTexture(Z),q&&this.setConfig(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(b){if(!b)return this;this.config=b;var z=0,$="",Q=this.ops;for(z=0;z<X.length;z++)$=X[z],Q[$].loadConfig(b);for(z=0;z<G.length;z++)$=G[z],y(b,$)&&(this[$]=f(b,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,y(b,"speed")&&(Q.speedX.loadConfig(b,"speed"),Q.speedY.active=!1),(g(b,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(b,"scale")&&(Q.scaleX.loadConfig(b,"scale"),Q.scaleY.active=!1),y(b,"callbackScope")){var Z=f(b,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(y(b,"emitZone")&&this.addEmitZone(b.emitZone),y(b,"deathZone")&&this.addDeathZone(b.deathZone),y(b,"bounds")){var q=this.addParticleBounds(b.bounds);q.collideLeft=f(b,"collideLeft",!0),q.collideRight=f(b,"collideRight",!0),q.collideTop=f(b,"collideTop",!0),q.collideBottom=f(b,"collideBottom",!0)}return y(b,"followOffset")&&this.followOffset.setFromObject(f(b,"followOffset",0)),y(b,"texture")&&this.setTexture(b.texture),y(b,"frame")?this.setEmitterFrame(b.frame):y(b,"anim")&&this.setAnim(b.anim),y(b,"reserve")&&this.reserve(b.reserve),y(b,"advance")&&this.fastForward(b.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},updateConfig:function(b){return b&&(this.config?this.setConfig(P(this.config,b)):this.setConfig(b)),this},toJSON:function(){var b=o(this),z=0,$="";for(z=0;z<G.length;z++)$=G[z],b[$]=this[$];var Q=this.ops;for(z=0;z<X.length;z++)$=X[z],Q[$]&&(b[$]=Q[$].toJSON());return Q.speedY.active||(delete b.speedX,b.speed=Q.speedX.toJSON()),this.scaleX===this.scaleY&&(delete b.scaleX,delete b.scaleY,b.scale=Q.scaleX.toJSON()),b},resetCounters:function(b,z){var $=this.counters;$.fill(0),$[0]=b,z&&($[5]=1)},startFollow:function(b,z,$,Q){return z===void 0&&(z=0),$===void 0&&($=0),Q===void 0&&(Q=!1),this.follow=b,this.followOffset.set(z,$),this.trackVisible=Q,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var b=this.frames,z=b.length,$;return z===1?$=b[0]:this.randomFrame?$=d(b):($=b[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get($)},setEmitterFrame:function(b,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomFrame=z,this.frameQuantity=$,this.currentFrame=0;var Q=typeof b;if(this.frames.length=0,Array.isArray(b))this.frames=this.frames.concat(b);else if(Q==="string"||Q==="number")this.frames.push(b);else if(Q==="object"){var Z=b;b=f(Z,"frames",null),b&&(this.frames=this.frames.concat(b));var q=f(Z,"cycle",!1);this.randomFrame=!q,this.frameQuantity=f(Z,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var b=this.anims,z=b.length;if(z===0)return null;if(z===1)return b[0];if(this.randomAnim)return d(b);var $=b[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,z)),$},setAnim:function(b,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomAnim=z,this.animQuantity=$,this.currentAnim=0;var Q=typeof b;if(this.anims.length=0,Array.isArray(b))this.anims=this.anims.concat(b);else if(Q==="string")this.anims.push(b);else if(Q==="object"){var Z=b;b=f(Z,"anims",null),b&&(this.anims=this.anims.concat(b));var q=f(Z,"cycle",!1);this.randomAnim=!q,this.animQuantity=f(Z,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(b){return b===void 0&&(b=!0),this.radial=b,this},addParticleBounds:function(b,z,$,Q,Z,q,j,k){if(typeof b=="object"){var _=b;b=_.x,z=_.y,$=y(_,"w")?_.w:_.width,Q=y(_,"h")?_.h:_.height}return this.addParticleProcessor(new M(b,z,$,Q,Z,q,j,k))},setParticleSpeed:function(b,z){return z===void 0&&(z=b),this.ops.speedX.onChange(b),b===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(b,z){return b===void 0&&(b=1),z===void 0&&(z=b),this.ops.scaleX.onChange(b),this.ops.scaleY.onChange(z),this},setParticleGravity:function(b,z){return this.gravityX=b,this.gravityY=z,this},setParticleAlpha:function(b){return this.ops.alpha.onChange(b),this},setParticleTint:function(b){return this.ops.tint.onChange(b),this},setEmitterAngle:function(b){return this.ops.angle.onChange(b),this},setParticleLifespan:function(b){return this.ops.lifespan.onChange(b),this},setQuantity:function(b){return this.quantity=b,this},setFrequency:function(b,z){return this.frequency=b,this.flowCounter=b>0?b:0,z&&(this.quantity=z),this},addDeathZone:function(b){Array.isArray(b)||(b=[b]);for(var z,$=[],Q=0;Q<b.length;Q++)if(z=b[Q],z instanceof r)$.push(z);else if(typeof z.contains=="function")z=new r(z,!0),$.push(z);else{var Z=f(z,"type","onEnter"),q=f(z,"source",null);if(q&&typeof q.contains=="function"){var j=Z==="onEnter";z=new r(q,j),$.push(z)}}return this.deathZones=this.deathZones.concat($),$},removeDeathZone:function(b){return O(this.deathZones,b),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(b){Array.isArray(b)||(b=[b]);for(var z,$=[],Q=0;Q<b.length;Q++)if(z=b[Q],z instanceof D||z instanceof e)$.push(z);else{var Z=f(z,"source",null);if(Z){var q=f(z,"type","random");if(q==="random"&&typeof Z.getRandomPoint=="function")z=new D(Z),$.push(z);else if(q==="edge"&&typeof Z.getPoints=="function"){var j=f(z,"quantity",1),k=f(z,"stepRate",0),_=f(z,"yoyo",!1),et=f(z,"seamless",!0),it=f(z,"total",-1);z=new e(Z,j,k,_,et,it),$.push(z)}}}return this.emitZones=this.emitZones.concat($),$},removeEmitZone:function(b){return O(this.emitZones,b),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(b){var z=this.emitZones,$=z.length;if($!==0){var Q=z[this.zoneIndex];Q.getPoint(b),Q.total>-1&&(this.zoneTotal++,this.zoneTotal===Q.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},getDeathZone:function(b){for(var z=this.deathZones,$=0;$<z.length;$++){var Q=z[$];if(Q.willKill(b))return this.emit(s.DEATH_ZONE,this,b,Q),!0}return!1},setEmitZone:function(b){var z;return isFinite(b)?z=b:z=this.emitZones.indexOf(b),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(b){return this.processors.exists(b)||(b.emitter&&b.emitter.removeParticleProcessor(b),this.processors.add(b),b.emitter=this),b},removeParticleProcessor:function(b){return this.processors.exists(b)&&(this.processors.remove(b,!0),b.emitter=null),b},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(b){return this.addParticleProcessor(new v(b))},reserve:function(b){var z=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+b>this.maxParticles&&(b=this.maxParticles-($+b))}for(var Q=0;Q<b;Q++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(b,z){return b===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof b=="function"&&(this.emitCallback=b,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(b,z){return b===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof b=="function"&&(this.deathCallback=b,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var b=this.dead,z=this.alive;z.length>0;)b.push(z.pop());return this},forEachAlive:function(b,z){for(var $=this.alive,Q=$.length,Z=0;Z<Q;Z++)b.call(z,$[Z],this);return this},forEachDead:function(b,z){for(var $=this.dead,Q=$.length,Z=0;Z<Q;Z++)b.call(z,$[Z],this);return this},start:function(b,z){return b===void 0&&(b=0),this.emitting||(b>0&&this.fastForward(b),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(s.START,this)),this},stop:function(b){return b===void 0&&(b=!1),this.emitting&&(this.emitting=!1,b&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(b,z){return b===void 0&&(b=""),z===void 0&&(z=this.true),this.sortProperty=b,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(b){return this.sortProperty!==""?b=this.depthSortCallback:b=null,this.sortCallback=b,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(b,z){var $=this.sortProperty;return this.sortOrderAsc?b[$]-z[$]:z[$]-b[$]},flow:function(b,z,$){return z===void 0&&(z=1),this.emitting=!1,this.frequency=b,this.quantity=z,$!==void 0&&(this.stopAfter=$),this.start()},explode:function(b,z,$){this.frequency=-1,this.resetCounters(-1,!0);var Q=this.emitParticle(b,z,$);return this.emit(s.EXPLODE,this,Q),Q},emitParticleAt:function(b,z,$){return this.emitParticle($,b,z)},emitParticle:function(b,z,$){if(!this.atLimit()){b===void 0&&(b=this.ops.quantity.onEmit());for(var Q=this.dead,Z=this.stopAfter,q=this.follow?this.follow.x+this.followOffset.x:z,j=this.follow?this.follow.y+this.followOffset.y:$,k=0;k<b;k++){var _=Q.pop();if(_||(_=new this.particleClass(this)),_.fire(q,j)?(this.particleBringToTop?this.alive.push(_):this.alive.unshift(_),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,_,this)):this.dead.push(_),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return _}},fastForward:function(b,z){z===void 0&&(z=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(b);)this.preUpdate(0,z),$+=z;return this.skipping=!1,this},preUpdate:function(b,z){z*=this.timeScale;var $=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var Q=this.getProcessors(),Z=this.alive,q=this.dead,j=0,k=[],_=Z.length;for(j=0;j<_;j++){var et=Z[j];et.update(z,$,Q)&&k.push({index:j,particle:et})}if(_=k.length,_>0){var it=this.deathCallback,st=this.deathCallbackScope;for(j=_-1;j>=0;j--){var nt=k[j];Z.splice(nt.index,1),q.push(nt.particle),it&&it.call(st,nt.particle),nt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(b){for(var z=this.getWorldTransformMatrix(),$=this.alive,Q=$.length,Z=[],q=0;q<Q;q++){var j=$[q];L(b,j.getBounds(z))&&Z.push(j)}return Z},getBounds:function(b,z,$,Q){b===void 0&&(b=0),z===void 0&&(z=0),$===void 0&&($=1e3/60),Q===void 0&&(Q=new F);var Z=this.getWorldTransformMatrix(),q,j,k=this.alive,_=!1;if(Q.setTo(0,0,0,0),z>0){var et=0;for(this.skipping=!0;et<Math.abs(z);){for(this.preUpdate(0,$),q=0;q<k.length;q++)j=k[q].getBounds(Z),_?A(Q,j):(_=!0,a(j,Q));et+=$}this.skipping=!1}else for(q=0;q<k.length;q++)j=k[q].getBounds(Z),_?A(Q,j):(_=!0,a(j,Q));return b>0&&T(Q,b,b),Q},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(b){this.ops.x.onChange(b)}},particleY:{get:function(){return this.ops.y.current},set:function(b){this.ops.y.onChange(b)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(b){this.ops.accelerationX.onChange(b)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(b){this.ops.accelerationY.onChange(b)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(b){this.ops.maxVelocityX.onChange(b)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(b){this.ops.maxVelocityY.onChange(b)}},speed:{get:function(){return this.ops.speedX.current},set:function(b){this.ops.speedX.onChange(b),this.ops.speedY.onChange(b)}},speedX:{get:function(){return this.ops.speedX.current},set:function(b){this.ops.speedX.onChange(b)}},speedY:{get:function(){return this.ops.speedY.current},set:function(b){this.ops.speedY.onChange(b)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(b){this.ops.moveToX.onChange(b)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(b){this.ops.moveToY.onChange(b)}},bounce:{get:function(){return this.ops.bounce.current},set:function(b){this.ops.bounce.onChange(b)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(b){this.ops.scaleX.onChange(b)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(b){this.ops.scaleY.onChange(b)}},particleColor:{get:function(){return this.ops.color.current},set:function(b){this.ops.color.onChange(b)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(b){this.ops.color.setEase(b)}},particleTint:{get:function(){return this.ops.tint.current},set:function(b){this.ops.tint.onChange(b)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(b){this.ops.alpha.onChange(b)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(b){this.ops.lifespan.onChange(b)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(b){this.ops.angle.onChange(b)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(b){this.ops.rotate.onChange(b)}},quantity:{get:function(){return this.ops.quantity.current},set:function(b){this.ops.quantity.onChange(b)}},delay:{get:function(){return this.ops.delay.current},set:function(b){this.ops.delay.onChange(b)}},hold:{get:function(){return this.ops.hold.current},set:function(b){this.ops.hold.onChange(b)}},flowCounter:{get:function(){return this.counters[0]},set:function(b){this.counters[0]=b}},frameCounter:{get:function(){return this.counters[1]},set:function(b){this.counters[1]=b}},animCounter:{get:function(){return this.counters[2]},set:function(b){this.counters[2]=b}},elapsed:{get:function(){return this.counters[3]},set:function(b){this.counters[3]=b}},stopCounter:{get:function(){return this.counters[4]},set:function(b){this.counters[4]=b}},completeFlag:{get:function(){return this.counters[5]},set:function(b){this.counters[5]=b}},zoneIndex:{get:function(){return this.counters[6]},set:function(b){this.counters[6]=b}},zoneTotal:{get:function(){return this.counters[7]},set:function(b){this.counters[7]=b}},currentFrame:{get:function(){return this.counters[8]},set:function(b){this.counters[8]=b}},currentAnim:{get:function(){return this.counters[9]},set:function(b){this.counters[9]=b}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var b,z=this.ops;for(b=0;b<X.length;b++){var $=X[b];z[$].destroy()}for(b=0;b<this.alive.length;b++)this.alive[b].destroy();for(b=0;b<this.dead.length;b++)this.dead[b].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=V},9871:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),m=t(61340),o=new m,a=new m,r=new m,e=new m,n=function(l,s,u,f){var d=o,v=a,g=r,y=e;f?(y.loadIdentity(),y.multiply(f),y.translate(s.x,s.y),y.rotate(s.rotation),y.scale(s.scaleX,s.scaleY)):y.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var T=l.currentContext,E=u.roundPixels,A=u.alpha,P=s.alpha,w=s.alive,M=w.length,D=s.viewBounds;if(!(!s.visible||M===0||D&&!h(D,u.worldView))){s.sortCallback&&s.depthSort(),u.addToRenderList(s);var F=s.scrollFactorX,L=s.scrollFactorY;T.save(),T.globalCompositeOperation=l.blendModes[s.blendMode];for(var O=0;O<M;O++){var B=w[O],U=B.alpha*P*A;if(!(U<=0||B.scaleX===0||B.scaleY===0)){g.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),d.copyFrom(u.matrix),d.multiplyWithOffset(y,-u.scrollX*F,-u.scrollY*L),g.e=B.x,g.f=B.y,d.multiply(g,v);var W=B.frame,H=W.canvasData;if(H.width>0&&H.height>0){var Y=-W.halfWidth,G=-W.halfHeight;T.globalAlpha=U,T.save(),v.setToContext(T),E&&(Y=Math.round(Y),G=Math.round(G)),T.imageSmoothingEnabled=!W.source.scaleMode,T.drawImage(W.source.image,H.x,H.y,H.width,H.height,Y,G,H.width,H.height),T.restore()}}}T.restore()}};c.exports=n},92730:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(95540),r=t(31600);m.register("particles",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),s=a(e,"config",null),u=new r(this.scene,0,0,l);return n!==void 0&&(e.add=n),h(this.scene,u,e),s&&u.setConfig(s),u})},676:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(31600);h.register("particles",function(o,a,r,e){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,o,a,r,e))})},90668:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(21188),o=t(9871),c.exports={renderWebGL:m,renderCanvas:o}},21188:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),m=t(61340),o=t(70554),a=new m,r=new m,e=new m,n=new m,l=function(s,u,f,d){var v=s.pipelines.set(u.pipeline),g=a,y=r,T=e,E=n;d?(E.loadIdentity(),E.multiply(d),E.translate(u.x,u.y),E.rotate(u.rotation),E.scale(u.scaleX,u.scaleY)):E.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var A=o.getTintAppendFloatAlpha,P=f.alpha,w=u.alpha;s.pipelines.preBatch(u);var M=u.alive,D=M.length,F=u.viewBounds;if(!(D===0||F&&!h(F,f.worldView))){u.sortCallback&&u.depthSort(),f.addToRenderList(u),g.copyFrom(f.matrix),g.multiplyWithOffset(E,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),s.setBlendMode(u.blendMode),u.mask&&(u.mask.preRenderWebGL(s,u,f),s.pipelines.set(u.pipeline));for(var L=u.tintFill,O,B,U=0;U<D;U++){var W=M[U],H=W.alpha*w*P;if(!(H<=0||W.scaleX===0||W.scaleY===0)){T.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),T.e=W.x,T.f=W.y,g.multiply(T,y);var Y=W.frame;Y.glTexture!==B&&(B=Y.glTexture,O=v.setGameObject(u,Y));var G=-Y.halfWidth,X=-Y.halfHeight,V=y.setQuad(G,X,G+Y.width,X+Y.height),b=A(W.tint,H);v.shouldFlush(6)&&(v.flush(),O=v.setGameObject(u,Y)),v.batchQuad(u,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],Y.u0,Y.v0,Y.u1,Y.v1,b,b,b,b,L,B,O)}}u.mask&&u.mask.postRenderWebGL(s,f),s.pipelines.postBatch(u)}};c.exports=l},20286:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e){a===void 0&&(a=0),r===void 0&&(r=0),e===void 0&&(e=!0),this.emitter,this.x=a,this.y=r,this.active=e},update:function(){},destroy:function(){this.emitter=null}});c.exports=m},9774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},812:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="deathzone"},30522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="explode"},96695:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},18677:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},20696:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r){this.source=a,this.killOnEnter=r},willKill:function(o){var a=o.worldPosition,r=this.source.contains(a.x,a.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});c.exports=m},19909:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e,n,l,s){n===void 0&&(n=!1),l===void 0&&(l=!0),s===void 0&&(s=-1),this.source=a,this.points=[],this.quantity=r,this.stepRate=e,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],a=this.points[this.points.length-1];o.x===a.x&&o.y===a.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(o.x=a.x,o.y=a.y)}});c.exports=m},68875:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(26099),o=new h({initialize:function(r){this.source=r,this._tempVec=new m,this.total=-1},getPoint:function(a){var r=this._tempVec;this.source.getRandomPoint(r),a.x=r.x,a.y=r.y}});c.exports=o},21024:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(68287),a=new h({Extends:o,Mixins:[m.PathFollower],initialize:function(e,n,l,s,u,f){o.call(this,e,l,s,u,f),this.path=n},preUpdate:function(r,e){this.anims.update(r,e),this.pathUpdate(r)}});c.exports=a},90145:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(1159);h.register("follower",function(o,a,r,e,n){var l=new m(this.scene,o,a,r,e,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),m=t(83419),o=t(48803),a=t(90664),r=t(4703),e=t(45650),n=new m({Extends:r,initialize:function(s,u,f,d,v,g,y,T){d||(d="__DEFAULT"),r.call(this,s,u,f,d,v),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(g,y,T),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,s,u){l===void 0&&(l=8),s===void 0&&(s=8),u===void 0&&(u=!1);var f=!1;return u&&(f=!0),this.gridWidth=l,this.gridHeight=s,this.isTiled=u,this.clear(),o({mesh:this,widthSegments:l,heightSegments:s,isOrtho:!1,tile:u,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var u=this.gridWidth,f=this.gridHeight,d=this.vertices,v=s.u0,g=s.u1,y=s.v0,T=s.v1,E,A,P=0;if(this.isTiled)for(y=s.v1,T=s.v0,A=0;A<f;A++)for(E=0;E<u;E++)d[P++].setUVs(v,T),d[P++].setUVs(v,y),d[P++].setUVs(g,T),d[P++].setUVs(v,y),d[P++].setUVs(g,y),d[P++].setUVs(g,T);else{var w=u+1,M=f+1,D=g-v,F=T-y,L=[];for(A=0;A<M;A++)for(E=0;E<w;E++){var O=v+D*(E/u),B=y+F*(A/f);L.push(O,B)}for(A=0;A<f;A++)for(E=0;E<u;E++){var U=(E+w*A)*2,W=(E+w*(A+1))*2,H=(E+1+w*(A+1))*2,Y=(E+1+w*A)*2;d[P++].setUVs(L[U],L[U+1]),d[P++].setUVs(L[W],L[W+1]),d[P++].setUVs(L[Y],L[Y+1]),d[P++].setUVs(L[W],L[W+1]),d[P++].setUVs(L[H],L[H+1]),d[P++].setUVs(L[Y],L[Y+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(l,s,u,f,d){l===void 0&&(l=16777215),s===void 0&&(s=255),u===void 0&&(u=255),f===void 0&&(f=255),d===void 0&&(d=128);for(var v=a(l),g=a(s),y=[],T=0;T<16;T++)for(var E=0;E<16;E++)T<8&&E<8||T>7&&E>7?y.push(v.r,v.g,v.b,u):y.push(g.r,g.g,g.b,f);var A=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(y),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,s){return this.anims.play(l,s)},playReverse:function(l,s){return this.anims.playReverse(l,s)},playAfterDelay:function(l,s){return this.anims.playAfterDelay(l,s)},playAfterRepeat:function(l,s){return this.anims.playAfterRepeat(l,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,s){r.prototype.preUpdate.call(this,l,s),this.anims.update(l,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=n},56015:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(13059),o=t(44603),a=t(23568),r=t(35154),e=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var s=a(n,"key",null),u=a(n,"frame",null),f=r(n,"width",8),d=r(n,"height",8),v=r(n,"tile",!1),g=new e(this.scene,0,0,s,u,f,d,v);l!==void 0&&(n.add=l);var y=r(n,"checkerboard",null);if(y){var T=r(y,"color1",16777215),E=r(y,"color2",255),A=r(y,"alpha1",255),P=r(y,"alpha2",255),w=r(y,"height",128);g.createCheckerboard(T,E,A,P,w)}return h(this.scene,g,n),m(g,n),g})},30985:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33663),m=t(39429);m.register("plane",function(o,a,r,e,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,e,n,l,s))})},80321:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(95643),a=t(30100),r=t(36060),e=t(67277),n=new h({Extends:o,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,e],initialize:function(s,u,f,d,v,g,y){d===void 0&&(d=16777215),v===void 0&&(v=128),g===void 0&&(g=1),y===void 0&&(y=.1),o.call(this,s,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(u,f),this.color=a(d),this.intensity=g,this.attenuation=y,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=n},39829:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(80321);m.register("pointlight",function(r,e){r===void 0&&(r={});var n=o(r,"color",16777215),l=o(r,"radius",128),s=o(r,"intensity",1),u=o(r,"attenuation",.1),f=new a(this.scene,0,0,n,l,s,u);return e!==void 0&&(r.add=e),h(this.scene,f,r),f})},71255:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(80321);h.register("pointlight",function(o,a,r,e,n,l){return this.displayList.add(new m(this.scene,o,a,r,e,n,l))})},67277:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(57787),c.exports={renderWebGL:m,renderCanvas:o}},57787:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=function(o,a,r,e){r.addToRenderList(a);var n=o.pipelines.set(a.pipeline),l=h(a,r,e).calc,s=a.width,u=a.height,f=-a._radius,d=-a._radius,v=f+s,g=d+u,y=l.getX(0,0),T=l.getY(0,0),E=l.getX(f,d),A=l.getY(f,d),P=l.getX(f,g),w=l.getY(f,g),M=l.getX(v,g),D=l.getY(v,g),F=l.getX(v,d),L=l.getY(v,d);o.pipelines.preBatch(a),n.batchPointLight(a,r,E,A,P,w,M,D,F,L,y,T),o.pipelines.postBatch(a)};c.exports=m},591:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(81320),o=t(88571),a=new h({Extends:o,initialize:function(e,n,l,s,u,f){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=32),u===void 0&&(u=32),f===void 0&&(f=!0);var d=new m(e.sys.textures,"",s,u,f);o.call(this,e,n,l,d),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,e){this.width=r,this.height=e,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=e),this},resize:function(r,e,n){return this.texture.setSize(r,e,n),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(r){var e=this.texture;return e.key=r,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(r,e,n,l,s,u){return this.texture.fill(r,e,n,l,s,u),this},clear:function(){return this.texture.clear(),this},stamp:function(r,e,n,l,s){return this.texture.stamp(r,e,n,l,s),this},erase:function(r,e,n){return this.texture.erase(r,e,n),this},draw:function(r,e,n,l,s){return this.texture.draw(r,e,n,l,s),this},drawFrame:function(r,e,n,l,s,u){return this.texture.drawFrame(r,e,n,l,s,u),this},repeat:function(r,e,n,l,s,u,f,d,v){return this.texture.repeat(r,e,n,l,s,u,f,d,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,e,n,l,s){return this.texture.batchDraw(r,e,n,l,s),this},batchDrawFrame:function(r,e,n,l,s,u){return this.texture.batchDrawFrame(r,e,n,l,s,u),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,e,n,l,s,u,f){return this.texture.snapshotArea(r,e,n,l,s,u,f),this},snapshot:function(r,e,n){return this.snapshotArea(0,0,this.width,this.height,r,e,n)},snapshotPixel:function(r,e,n){return this.snapshotArea(r,e,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=a},34495:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(591);m.register("renderTexture",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),s=o(r,"width",32),u=o(r,"height",32),f=new a(this.scene,n,l,s,u);return e!==void 0&&(r.add=e),h(this.scene,f,r),f})},60505:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(591);h.register("renderTexture",function(o,a,r,e){return this.displayList.add(new m(this.scene,o,a,r,e))})},77757:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),m=t(83419),o=t(31401),a=t(95643),r=t(36060),e=t(38745),n=t(26099),l=new m({Extends:a,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,e],initialize:function(u,f,d,v,g,y,T,E,A){v===void 0&&(v="__DEFAULT"),y===void 0&&(y=2),T===void 0&&(T=!0),a.call(this,u,"Rope"),this.anims=new h(this),this.points=y,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,g),this.setPosition(f,d),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(y)&&this.resizeArrays(y.length),this.setPoints(y,E,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){var f=this.anims.currentFrame;this.anims.update(s,u),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(s,u,f){return this.anims.play(s,u,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,u,f){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,u,f))},setVertical:function(s,u,f){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,u,f)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,u){var f=this.points.length;if(f<1)return this;var d=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&u===void 0&&(s=[s]);var v,g=0;if(u!==void 0)for(v=0;v<f;v++)g=v*2,d[g]=s,d[g+1]=u;else if(s.length===f)for(v=0;v<f;v++)g=v*2,d[g]=s[v],d[g+1]=s[v];else{var y=s[0];for(v=0;v<f;v++)g=v*2,s.length>g&&(y=s[g]),d[g]=y,s.length>g+1&&(y=s[g+1]),d[g+1]=y}return this},setColors:function(s){var u=this.points.length;if(u<1)return this;var f=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var d,v=0;if(s.length===u)for(d=0;d<u;d++)v=d*2,f[v]=s[d],f[v+1]=s[d];else{var g=s[0];for(d=0;d<u;d++)v=d*2,s.length>v&&(g=s[v]),f[v]=g,s.length>v+1&&(g=s[v+1]),f[v+1]=g}return this},setPoints:function(s,u,f){if(s===void 0&&(s=2),typeof s=="number"){var d=s;d<2&&(d=2),s=[];var v,g,y;if(this.horizontal)for(y=-this.frame.halfWidth,g=this.frame.width/(d-1),v=0;v<d;v++)s.push({x:y+v*g,y:0});else for(y=-this.frame.halfHeight,g=this.frame.height/(d-1),v=0;v<d;v++)s.push({x:0,y:y+v*g})}var T=s.length,E=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(s.unshift({x:0,y:0}),T++),E!==T&&this.resizeArrays(T),this.dirty=!0,this.points=s,this.updateUVs(),u!=null&&this.setColors(u),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var s=this.uv,u=this.points.length,f=this.frame.u0,d=this.frame.v0,v=this.frame.u1,g=this.frame.v1,y=(v-f)/(u-1),T=(g-d)/(u-1),E=0;E<u;E++){var A=E*4,P,w,M,D;this.horizontal?(this._flipX?(P=v-E*y,M=v-E*y):(P=f+E*y,M=f+E*y),this._flipY?(w=g,D=d):(w=d,D=g)):(this._flipX?(P=f,M=v):(P=v,M=f),this._flipY?(w=g-E*T,D=g-E*T):(w=d+E*T,D=d+E*T)),s[A+0]=P,s[A+1]=w,s[A+2]=M,s[A+3]=D}return this},resizeArrays:function(s){var u=this.colors,f=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),u=new Uint32Array(s*2),f=new Float32Array(s*2);for(var d=0;d<s*2;d++)u[d]=16777215,f[d]=1;return this.colors=u,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var s=this._perp,u=this.points,f=this.vertices,d=u.length;if(this.dirty=!1,!(d<1)){for(var v,g=u[0],y=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<d;T++){var E=u[T],A=T*4;T<d-1?v=u[T+1]:v=E,s.x=v.y-g.y,s.y=-(v.x-g.x);var P=s.length();s.x/=P,s.y/=P,s.x*=y,s.y*=y,f[A]=E.x+s.x,f[A+1]=E.y+s.y,f[A+2]=E.x-s.x,f[A+3]=E.y-s.y,g=E}return this}},setDebug:function(s,u){return this.debugGraphic=s,!s&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,u,f){var d=s.debugGraphic,v=f[0],g=f[1],y=f[2],T=f[3];d.lineBetween(v,g,y,T);for(var E=4;E<u;E+=4){var A=f[E+0],P=f[E+1],w=f[E+2],M=f[E+3];d.lineBetween(v,g,A,P),d.lineBetween(y,T,w,M),d.lineBetween(y,T,A,P),d.lineBetween(A,P,w,M),v=A,g=P,y=w,T=M}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});c.exports=l},95262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};c.exports=S},26209:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(35154),r=t(77757);m.register("rope",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),s=o(e,"frame",null),u=o(e,"horizontal",!0),f=a(e,"points",void 0),d=a(e,"colors",void 0),v=a(e,"alphas",void 0),g=new r(this.scene,0,0,l,s,f,u,d,v);return n!==void 0&&(e.add=n),h(this.scene,g,e),g})},96819:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77757),m=t(39429);m.register("rope",function(o,a,r,e,n,l,s,u){return this.displayList.add(new h(this.scene,o,a,r,e,n,l,s,u))})},38745:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(20439),o=t(95262),c.exports={renderWebGL:m,renderCanvas:o}},20439:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(70554),o=function(a,r,e,n){e.addToRenderList(r);var l=a.pipelines.set(r.pipeline,r),s=h(r,e,n).calc,u=r.vertices,f=r.uv,d=r.colors,v=r.alphas,g=r.alpha,y=m.getTintAppendFloatAlpha,T=e.roundPixels,E=u.length,A=Math.floor(E*.5);l.flush(),a.pipelines.preBatch(r);var P=l.setGameObject(r),w=l.vertexViewF32,M=l.vertexViewU32,D=l.vertexCount*l.currentShader.vertexComponentCount-1,F=0,L=r.tintFill;r.dirty&&r.updateVertices();for(var O=r.debugCallback,B=[],U=0;U<E;U+=2){var W=u[U+0],H=u[U+1],Y=W*s.a+H*s.c+s.e,G=W*s.b+H*s.d+s.f;T&&(Y=Math.round(Y),G=Math.round(G)),w[++D]=Y,w[++D]=G,w[++D]=f[U+0],w[++D]=f[U+1],w[++D]=P,w[++D]=L,M[++D]=y(d[F],e.alpha*(v[F]*g)),F++,O&&(B[U+0]=Y,B[U+1]=G)}O&&O.call(r,r,E,B),l.vertexCount+=A,l.currentBatch.count=l.vertexCount-l.currentBatch.start,a.pipelines.postBatch(r)};c.exports=o},20071:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(95643),a=t(95540),r=t(79291),e=t(61622),n=t(25479),l=t(61340),s=t(95428),u=t(92503),f=new h({Extends:o,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,n],initialize:function(v,g,y,T,E,A,P,w){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=128),A===void 0&&(A=128),o.call(this,v,"Shader"),this.blendMode=-1,this.shader;var M=v.sys.renderer;this.renderer=M,this.gl=M.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=M.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=M.width,this._rendererHeight=M.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(y,T),this.setSize(E,A),this.setOrigin(.5,.5),this.setShader(g,P,w),this.renderer.on(u.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,v){if(!this.renderToTexture){var g=this.width,y=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,g,y,0),this.framebuffer=T.createFramebuffer(g,y,this.glTexture,!1),this._rendererWidth=g,this._rendererHeight=y,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(d,v,g){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:v,textureData:g},this;if(v===void 0&&(v=[]),typeof d=="string"){var y=this.scene.sys.cache.shader;if(!y.has(d))return console.warn("Shader missing: "+d),this;this.shader=y.get(d)}else this.shader=d;var T=this.gl,E=this.renderer;this.program&&E.deleteProgram(this.program);var A=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var P=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()*60*60+P.getMinutes()*60+P.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var M=0;M<4;M++)v[M]&&this.setSampler2D("iChannel"+M,v[M],M,g);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,v,g,y){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:v,bottom:g,top:y};return}var T=-1e3,E=1e3,A=1/(d-v),P=1/(g-y),w=1/(T-E),M=this.projectionMatrix;M[0]=-2*A,M[5]=-2*P,M[10]=2*w,M[12]=(d+v)*A,M[13]=(y+g)*P,M[14]=(E+T)*w;var D=this.program,F=this.gl,L=this.renderer;L.setProgram(D),F.uniformMatrix4fv(F.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=g},initUniforms:function(){var d=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var g in this.uniforms){var y=this.uniforms[g],T=y.type,E=d[T];y.uniformLocation=this.renderer.createUniformLocation(v,g),T!=="sampler2D"&&(y.glMatrix=E.matrix,y.glValueLength=E.length,y.glFunc=E.func)}},setSampler2DBuffer:function(d,v,g,y,T,E){T===void 0&&(T=0),E===void 0&&(E={});var A=this.uniforms[d];return A.value=v,E.width=g,E.height=y,A.textureData=E,this._textureCount=T,this.initSampler2D(A),this},setSampler2D:function(d,v,g,y){g===void 0&&(g=0);var T=this.scene.sys.textures;if(T.exists(v)){var E=T.getFrame(v);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,E.glTexture,E.width,E.height,g,y);var A=this.uniforms[d],P=E.source;A.textureKey=v,A.source=P.image,A.value=E.glTexture,P.isGLTexture&&(y||(y={}),y.width=P.width,y.height=P.height),y&&(A.textureData=y),this._textureCount=g,this.initSampler2D(A)}return this},setUniform:function(d,v){return e(this.uniforms,d,v),this},getUniform:function(d){return a(this.uniforms,d,null)},setChannel0:function(d,v){return this.setSampler2D("iChannel0",d,0,v)},setChannel1:function(d,v){return this.setSampler2D("iChannel1",d,1,v)},setChannel2:function(d,v){return this.setSampler2D("iChannel2",d,2,v)},setChannel3:function(d,v){return this.setSampler2D("iChannel3",d,3,v)},initSampler2D:function(d){if(d.value){var v=d.textureData;if(v&&!d.value.isRenderTexture){var g=this.gl,y=d.value,T=g[a(v,"magFilter","linear").toUpperCase()],E=g[a(v,"minFilter","linear").toUpperCase()],A=g[a(v,"wrapS","repeat").toUpperCase()],P=g[a(v,"wrapT","repeat").toUpperCase()],w=g[a(v,"format","rgba").toUpperCase()],M=a(v,"flipY",!1),D=a(v,"width",y.width),F=a(v,"height",y.height),L=a(v,"source",y.pixels);v.repeat&&(A=g.REPEAT,P=g.REPEAT),v.width&&(L=null),y.update(L,D,F,M,A,P,E,T,w)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,v=this.uniforms,g,y,T,E,A,P=0;for(var w in v)g=v[w],T=g.glFunc,y=g.glValueLength,E=g.uniformLocation,A=g.value,A!==null&&(y===1?g.glMatrix?T.call(d,E.webGLUniformLocation,g.transpose,A):T.call(d,E.webGLUniformLocation,A):y===2?T.call(d,E.webGLUniformLocation,A.x,A.y):y===3?T.call(d,E.webGLUniformLocation,A.x,A.y,A.z):y===4?T.call(d,E.webGLUniformLocation,A.x,A.y,A.z,A.w):g.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+P),d.bindTexture(d.TEXTURE_2D,A.webGLTexture),d.uniform1i(E.webGLUniformLocation,P),P++))},load:function(d){var v=this.gl,g=this.width,y=this.height,T=this.renderer,E=this.program,A=this.viewMatrix;if(!this.renderToTexture){var P=-this._displayOriginX,w=-this._displayOriginY;A[0]=d[0],A[1]=d[1],A[4]=d[2],A[5]=d[3],A[8]=d[4],A[9]=d[5],A[12]=A[0]*P+A[4]*w,A[13]=A[1]*P+A[5]*w}v.useProgram(E.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,A),v.uniformMatrix4fv(v.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height);var M=this.uniforms,D=M.resolution;D.value.x=g,D.value.y=y,M.time.value=T.game.loop.getDuration();var F=this.pointer;if(F){var L=M.mouse,O=F.x/g,B=1-F.y/y;L.value.x=O.toFixed(2),L.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,v=this.height,g=this.program,y=this.gl,T=this.vertexBuffer,E=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT)),y.bindBuffer(y.ARRAY_BUFFER,T.webGLBuffer);var P=y.getAttribLocation(g.webGLProgram,"inPosition");P!==-1&&(y.enableVertexAttribArray(P),y.vertexAttribPointer(P,2,y.FLOAT,!1,A,0));var w=this.vertexViewF32;w[3]=v,w[4]=d,w[5]=v,w[8]=d,w[9]=v,w[10]=d;var M=6;y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,M*A)),y.drawArrays(y.TRIANGLES,0,M),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,v=this._deferSetShader.textures,g=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,v,g)}if(this._deferProjOrtho!==null){var y=this._deferProjOrtho.left,T=this._deferProjOrtho.right,E=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(y,T,E,A)}},preDestroy:function(){var d=this.renderer;d.off(u.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(v){d.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});c.exports=f},80464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};c.exports=S},54935:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(20071);m.register("shader",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"x",0),s=o(r,"y",0),u=o(r,"width",128),f=o(r,"height",128),d=new a(this.scene,n,l,s,u,f);return e!==void 0&&(r.add=e),h(this.scene,d,r),d})},74177:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20071),m=t(39429);m.register("shader",function(o,a,r,e,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,e,n,l,s))})},25479:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(19257),o=t(80464),c.exports={renderWebGL:m,renderCanvas:o}},19257:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=function(o,a,r,e){if(a.shader){if(r.addToRenderList(a),o.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var n=h(a,r,e).calc;(o.width!==a._rendererWidth||o.height!==a._rendererHeight)&&a.projOrtho(0,o.width,o.height,0),a.load(n.matrix),a.flush()}o.pipelines.rebind()}};c.exports=m},10441:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),m=function(o,a,r,e,n,l){for(var s=h.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*e),u=r.pathData,f=r.pathIndexes,d=0;d<f.length;d+=3){var v=f[d]*2,g=f[d+1]*2,y=f[d+2]*2,T=u[v+0]-n,E=u[v+1]-l,A=u[g+0]-n,P=u[g+1]-l,w=u[y+0]-n,M=u[y+1]-l,D=a.getX(T,E),F=a.getY(T,E),L=a.getX(A,P),O=a.getY(A,P),B=a.getX(w,M),U=a.getY(w,M);o.batchTri(r,D,F,L,O,B,U,0,0,1,1,s,s,s,2)}};c.exports=m},65960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=m||h.fillColor,r=o||h.fillAlpha,e=(a&16711680)>>>16,n=(a&65280)>>>8,l=a&255;t.fillStyle="rgba("+e+","+n+","+l+","+r+")"};c.exports=S},75177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=m||h.strokeColor,r=o||h.strokeAlpha,e=(a&16711680)>>>16,n=(a&65280)>>>8,l=a&255;t.strokeStyle="rgba("+e+","+n+","+l+","+r+")",t.lineWidth=h.lineWidth};c.exports=S},17803:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(95643),a=t(23031),r=new h({Extends:o,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(n,l,s){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,n){return n===void 0&&(n=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(e,n,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,n){return this.width=e,this.height=n,this},setDisplaySize:function(e,n){return this.displayWidth=e,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});c.exports=r},34682:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),m=function(o,a,r,e,n){var l=o.strokeTint,s=h.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*r);l.TL=s,l.TR=s,l.BL=s,l.BR=s;var u=a.pathData,f=u.length-1,d=a.lineWidth,v=d/2,g=u[0]-e,y=u[1]-n;a.closePath||(f-=2);for(var T=2;T<f;T+=2){var E=u[T]-e,A=u[T+1]-n;o.batchLine(g,y,E,A,v,v,d,T-2,a.closePath?T===f-1:!1),g=E,y=A}};c.exports=m},23629:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13609),m=t(83419),o=t(39506),a=t(94811),r=t(96503),e=t(36383),n=t(17803),l=new m({Extends:n,Mixins:[h],initialize:function(u,f,d,v,g,y,T,E,A){f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=128),g===void 0&&(g=0),y===void 0&&(y=360),T===void 0&&(T=!1),n.call(this,u,"Arc",new r(0,0,v)),this._startAngle=g,this._endAngle=y,this._anticlockwise=T,this._iterations=.01,this.setPosition(f,d);var P=this.geom.radius*2;this.setSize(P,P),E!==void 0&&this.setFillStyle(E,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var u=s*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,u){return this._startAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(s,u){return this._endAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var s=this._iterations,u=s,f=this.geom.radius,d=o(this._startAngle),v=o(this._endAngle),g=this._anticlockwise,y=f,T=f;v-=d,g?v<-e.PI2?v=-e.PI2:v>0&&(v=-e.PI2+v%e.PI2):v>e.PI2?v=e.PI2:v<0&&(v=e.PI2+v%e.PI2);for(var E=[y+Math.cos(d)*f,T+Math.sin(d)*f],A;u<1;)A=v*u+d,E.push(y+Math.cos(A)*f,T+Math.sin(A)*f),u+=s;return A=v+d,E.push(y+Math.cos(A)*f,T+Math.sin(A)*f),E.push(y+Math.cos(d)*f,T+Math.sin(d)*f),this.pathIndexes=a(E),this.pathData=E,this}});c.exports=l},42542:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),m=t(65960),o=t(75177),a=t(20926),r=function(e,n,l,s){l.addToRenderList(n);var u=e.currentContext;if(a(e,u,n,l,s)){var f=n.radius;u.beginPath(),u.arc(f-n.originX*(f*2),f-n.originY*(f*2),f,h(n._startAngle),h(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(m(u,n),u.fill()),n.isStroked&&(o(u,n),u.stroke()),u.restore()}};c.exports=r},42563:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23629),m=t(39429);m.register("arc",function(o,a,r,e,n,l,s,u){return this.displayList.add(new h(this.scene,o,a,r,e,n,l,s,u))}),m.register("circle",function(o,a,r,e,n){return this.displayList.add(new h(this.scene,o,a,r,0,360,!1,e,n))})},13609:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(41447),o=t(42542),c.exports={renderWebGL:m,renderCanvas:o}},41447:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(10441),o=t(34682),a=function(r,e,n,l){n.addToRenderList(e);var s=r.pipelines.set(e.pipeline),u=h(e,n,l),f=s.calcMatrix.copyFrom(u.calc),d=e._displayOriginX,v=e._displayOriginY,g=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&m(s,f,e,g,d,v),e.isStroked&&o(s,e,g,d,v),r.pipelines.postBatch(e)};c.exports=a},89:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(33141),o=t(94811),a=t(87841),r=t(17803),e=new h({Extends:r,Mixins:[m],initialize:function(l,s,u,f,d,v){s===void 0&&(s=0),u===void 0&&(u=0),r.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(s,u),d!==void 0&&this.setFillStyle(d,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var s=[],u=this.geom.getPoints(l),f=0;f<u.length;f++)s.push(u[f].x,u[f].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});c.exports=e},3170:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(75177),o=t(20926),a=function(r,e,n,l){n.addToRenderList(e);var s=r.currentContext;if(o(r,s,e,n,l)){var u=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,d=e.pathData,v=d.length-1,g=d[0]-u,y=d[1]-f;s.beginPath(),s.moveTo(g,y),e.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=d[T]-u,A=d[T+1]-f;s.lineTo(E,A)}e.closePath&&s.closePath(),e.isFilled&&(h(s,e),s.fill()),e.isStroked&&(m(s,e),s.stroke()),s.restore()}};c.exports=a},40511:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(89);h.register("curve",function(o,a,r,e,n){return this.displayList.add(new m(this.scene,o,a,r,e,n))})},33141:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(53987),o=t(3170),c.exports={renderWebGL:m,renderCanvas:o}},53987:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),m=t(91296),o=t(34682),a=function(r,e,n,l){n.addToRenderList(e);var s=r.pipelines.set(e.pipeline),u=m(e,n,l),f=s.calcMatrix.copyFrom(u.calc),d=e._displayOriginX+e._curveBounds.x,v=e._displayOriginY+e._curveBounds.y,g=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&h(s,f,e,g,d,v),e.isStroked&&o(s,e,g,d,v),r.pipelines.postBatch(e)};c.exports=a},19921:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(94811),o=t(54205),a=t(8497),r=t(17803),e=new h({Extends:r,Mixins:[o],initialize:function(l,s,u,f,d,v,g){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),d===void 0&&(d=128),r.call(this,l,"Ellipse",new a(f/2,d/2,f,d)),this._smoothness=64,this.setPosition(s,u),this.width=f,this.height=d,v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),s=0;s<l.length;s++)n.push(l[s].x,l[s].y);return n.push(l[0].x,l[0].y),this.pathIndexes=m(n),this.pathData=n,this}});c.exports=e},7930:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(75177),o=t(20926),a=function(r,e,n,l){n.addToRenderList(e);var s=r.currentContext;if(o(r,s,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY,d=e.pathData,v=d.length-1,g=d[0]-u,y=d[1]-f;s.beginPath(),s.moveTo(g,y),e.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=d[T]-u,A=d[T+1]-f;s.lineTo(E,A)}s.closePath(),e.isFilled&&(h(s,e),s.fill()),e.isStroked&&(m(s,e),s.stroke()),s.restore()}};c.exports=a},1543:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19921),m=t(39429);m.register("ellipse",function(o,a,r,e,n,l){return this.displayList.add(new h(this.scene,o,a,r,e,n,l))})},54205:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(19467),o=t(7930),c.exports={renderWebGL:m,renderCanvas:o}},19467:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),m=t(91296),o=t(34682),a=function(r,e,n,l){n.addToRenderList(e);var s=r.pipelines.set(e.pipeline),u=m(e,n,l),f=s.calcMatrix.copyFrom(u.calc),d=e._displayOriginX,v=e._displayOriginY,g=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&h(s,f,e,g,d,v),e.isStroked&&o(s,e,g,d,v),r.pipelines.postBatch(e)};c.exports=a},30479:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(17803),o=t(26015),a=new h({Extends:m,Mixins:[o],initialize:function(e,n,l,s,u,f,d,v,g,y,T){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=128),u===void 0&&(u=128),f===void 0&&(f=32),d===void 0&&(d=32),m.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(s,u),this.setFillStyle(v,g),y!==void 0&&this.setOutlineStyle(y,T),this.updateDisplayOrigin()},setFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=e,this.showOutline=!0),this}});c.exports=a},49912:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(75177),o=t(20926),a=function(r,e,n,l){n.addToRenderList(e);var s=r.currentContext;if(o(r,s,e,n,l)){var u=-e._displayOriginX,f=-e._displayOriginY,d=n.alpha*e.alpha,v=e.width,g=e.height,y=e.cellWidth,T=e.cellHeight,E=Math.ceil(v/y),A=Math.ceil(g/T),P=y,w=T,M=y-(E*y-v),D=T-(A*T-g),F=e.showCells,L=e.showAltCells,O=e.showOutline,B=0,U=0,W=0,H=0,Y=0;if(O&&(P--,w--,M===y&&M--,D===T&&D--),F&&e.fillAlpha>0)for(h(s,e),U=0;U<A;U++)for(L&&(W=U%2),B=0;B<E;B++){if(L&&W){W=0;continue}W++,H=B<E-1?P:M,Y=U<A-1?w:D,s.fillRect(u+B*y,f+U*T,H,Y)}if(L&&e.altFillAlpha>0)for(h(s,e,e.altFillColor,e.altFillAlpha*d),U=0;U<A;U++)for(L&&(W=U%2),B=0;B<E;B++){if(L&&!W){W=1;continue}W=0,H=B<E-1?P:M,Y=U<A-1?w:D,s.fillRect(u+B*y,f+U*T,H,Y)}if(O&&e.outlineFillAlpha>0){for(m(s,e,e.outlineFillColor,e.outlineFillAlpha*d),B=1;B<E;B++){var G=B*y;s.beginPath(),s.moveTo(G+u,f),s.lineTo(G+u,g+f),s.stroke()}for(U=1;U<A;U++){var X=U*T;s.beginPath(),s.moveTo(u,X+f),s.lineTo(u+v,X+f),s.stroke()}}s.restore()}};c.exports=a},34137:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(30479);h.register("grid",function(o,a,r,e,n,l,s,u,f,d){return this.displayList.add(new m(this.scene,o,a,r,e,n,l,s,u,f,d))})},26015:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(46161),o=t(49912),c.exports={renderWebGL:m,renderCanvas:o}},46161:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(70554),o=function(a,r,e,n){e.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,e,n),u=l.calcMatrix.copyFrom(s.calc);u.translate(-r._displayOriginX,-r._displayOriginY);var f=e.alpha*r.alpha,d=r.width,v=r.height,g=r.cellWidth,y=r.cellHeight,T=Math.ceil(d/g),E=Math.ceil(v/y),A=g,P=y,w=g-(T*g-d),M=y-(E*y-v),D,F,L=r.showCells,O=r.showAltCells,B=r.showOutline,U=0,W=0,H=0,Y=0,G=0;if(B&&(A--,P--,w===g&&w--,M===y&&M--),a.pipelines.preBatch(r),L&&r.fillAlpha>0)for(D=l.fillTint,F=m.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*f),D.TL=F,D.TR=F,D.BL=F,D.BR=F,W=0;W<E;W++)for(O&&(H=W%2),U=0;U<T;U++){if(O&&H){H=0;continue}H++,Y=U<T-1?A:w,G=W<E-1?P:M,l.batchFillRect(U*g,W*y,Y,G)}if(O&&r.altFillAlpha>0)for(D=l.fillTint,F=m.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*f),D.TL=F,D.TR=F,D.BL=F,D.BR=F,W=0;W<E;W++)for(O&&(H=W%2),U=0;U<T;U++){if(O&&!H){H=1;continue}H=0,Y=U<T-1?A:w,G=W<E-1?P:M,l.batchFillRect(U*g,W*y,Y,G)}if(B&&r.outlineFillAlpha>0){var X=l.strokeTint,V=m.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*f);for(X.TL=V,X.TR=V,X.BL=V,X.BR=V,U=1;U<T;U++){var b=U*g;l.batchLine(b,0,b,v,1,1,1,0,!1)}for(W=1;W<E;W++){var z=W*y;l.batchLine(0,z,d,z,1,1,1,0,!1)}}a.pipelines.postBatch(r)};c.exports=o},61475:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99651),m=t(83419),o=t(17803),a=new m({Extends:o,Mixins:[h],initialize:function(e,n,l,s,u,f,d,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),f===void 0&&(f=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),o.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});c.exports=a},11508:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(20926),o=function(a,r,e,n){e.addToRenderList(r);var l=a.currentContext;if(m(a,l,r,e,n)&&r.isFilled){var s=r.width,u=r.height,f=s/2,d=s/r.projection;r.showTop&&(h(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-d-u),l.lineTo(f,-u),l.lineTo(f,-1),l.lineTo(0,d-1),l.lineTo(-f,-1),l.lineTo(-f,-u),l.fill()),r.showLeft&&(h(l,r,r.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,d),l.lineTo(0,d-u),l.lineTo(-f,-u),l.lineTo(-f,0),l.fill()),r.showRight&&(h(l,r,r.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,d),l.lineTo(0,d-u),l.lineTo(f,-u),l.lineTo(f,0),l.fill()),l.restore()}};c.exports=o},3933:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(61475);h.register("isobox",function(o,a,r,e,n,l,s){return this.displayList.add(new m(this.scene,o,a,r,e,n,l,s))})},99651:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(68149),o=t(11508),c.exports={renderWebGL:m,renderCanvas:o}},68149:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(70554),o=function(a,r,e,n){e.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,e,n),u=l.calcMatrix.copyFrom(s.calc),f=r.width,d=r.height,v=f/2,g=f/r.projection,y=e.alpha*r.alpha;if(r.isFilled){var T,E,A,P,w,M,D,F,L;a.pipelines.preBatch(r),r.showTop&&(T=m.getTintAppendFloatAlpha(r.fillTop,y),E=u.getX(-v,-d),A=u.getY(-v,-d),P=u.getX(0,-g-d),w=u.getY(0,-g-d),M=u.getX(v,-d),D=u.getY(v,-d),F=u.getX(0,g-d),L=u.getY(0,g-d),l.batchQuad(r,E,A,P,w,M,D,F,L,0,0,1,1,T,T,T,T,2)),r.showLeft&&(T=m.getTintAppendFloatAlpha(r.fillLeft,y),E=u.getX(-v,0),A=u.getY(-v,0),P=u.getX(0,g),w=u.getY(0,g),M=u.getX(0,g-d),D=u.getY(0,g-d),F=u.getX(-v,-d),L=u.getY(-v,-d),l.batchQuad(r,E,A,P,w,M,D,F,L,0,0,1,1,T,T,T,T,2)),r.showRight&&(T=m.getTintAppendFloatAlpha(r.fillRight,y),E=u.getX(v,0),A=u.getY(v,0),P=u.getX(0,g),w=u.getY(0,g),M=u.getX(0,g-d),D=u.getY(0,g-d),F=u.getX(v,-d),L=u.getY(v,-d),l.batchQuad(r,E,A,P,w,M,D,F,L,0,0,1,1,T,T,T,T,2)),a.pipelines.postBatch(r)}};c.exports=o},16933:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(60561),o=t(17803),a=new h({Extends:o,Mixins:[m],initialize:function(e,n,l,s,u,f,d,v,g){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),f===void 0&&(f=!1),d===void 0&&(d=15658734),v===void 0&&(v=10066329),g===void 0&&(g=13421772),o.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=v,this.fillRight=g,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});c.exports=a},79590:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(20926),o=function(a,r,e,n){e.addToRenderList(r);var l=a.currentContext;if(m(a,l,r,e,n)&&r.isFilled){var s=r.width,u=r.height,f=s/2,d=s/r.projection,v=r.isReversed;r.showTop&&v&&(h(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-d-u),l.lineTo(f,-u),l.lineTo(0,d-u),l.fill()),r.showLeft&&(h(l,r,r.fillLeft),l.beginPath(),v?(l.moveTo(-f,-u),l.lineTo(0,d),l.lineTo(0,d-u)):(l.moveTo(-f,0),l.lineTo(0,d),l.lineTo(0,d-u)),l.fill()),r.showRight&&(h(l,r,r.fillRight),l.beginPath(),v?(l.moveTo(f,-u),l.lineTo(0,d),l.lineTo(0,d-u)):(l.moveTo(f,0),l.lineTo(0,d),l.lineTo(0,d-u)),l.fill()),l.restore()}};c.exports=o},49803:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(16933);h.register("isotriangle",function(o,a,r,e,n,l,s,u){return this.displayList.add(new m(this.scene,o,a,r,e,n,l,s,u))})},60561:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(51503),o=t(79590),c.exports={renderWebGL:m,renderCanvas:o}},51503:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(70554),o=function(a,r,e,n){e.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,e,n),u=l.calcMatrix.copyFrom(s.calc),f=r.width,d=r.height,v=f/2,g=f/r.projection,y=r.isReversed,T=e.alpha*r.alpha;if(r.isFilled){a.pipelines.preBatch(r);var E,A,P,w,M,D,F;if(r.showTop&&y){E=m.getTintAppendFloatAlpha(r.fillTop,T),A=u.getX(-v,-d),P=u.getY(-v,-d),w=u.getX(0,-g-d),M=u.getY(0,-g-d),D=u.getX(v,-d),F=u.getY(v,-d);var L=u.getX(0,g-d),O=u.getY(0,g-d);l.batchQuad(r,A,P,w,M,D,F,L,O,0,0,1,1,E,E,E,E,2)}r.showLeft&&(E=m.getTintAppendFloatAlpha(r.fillLeft,T),y?(A=u.getX(-v,-d),P=u.getY(-v,-d),w=u.getX(0,g),M=u.getY(0,g),D=u.getX(0,g-d),F=u.getY(0,g-d)):(A=u.getX(-v,0),P=u.getY(-v,0),w=u.getX(0,g),M=u.getY(0,g),D=u.getX(0,g-d),F=u.getY(0,g-d)),l.batchTri(r,A,P,w,M,D,F,0,0,1,1,E,E,E,2)),r.showRight&&(E=m.getTintAppendFloatAlpha(r.fillRight,T),y?(A=u.getX(v,-d),P=u.getY(v,-d),w=u.getX(0,g),M=u.getY(0,g),D=u.getX(0,g-d),F=u.getY(0,g-d)):(A=u.getX(v,0),P=u.getY(v,0),w=u.getX(0,g),M=u.getY(0,g),D=u.getX(0,g-d),F=u.getY(0,g-d)),l.batchTri(r,A,P,w,M,D,F,0,0,1,1,E,E,E,2)),a.pipelines.postBatch(r)}};c.exports=o},57847:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(17803),o=t(23031),a=t(36823),r=new h({Extends:m,Mixins:[a],initialize:function(n,l,s,u,f,d,v,g,y){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=128),v===void 0&&(v=0),m.call(this,n,"Line",new o(u,f,d,v));var T=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,s),this.setSize(T,E),g!==void 0&&this.setStrokeStyle(1,g,y),this.updateDisplayOrigin()},setLineWidth:function(e,n){return n===void 0&&(n=e),this._startWidth=e,this._endWidth=n,this.lineWidth=e,this},setTo:function(e,n,l,s){return this.geom.setTo(e,n,l,s),this}});c.exports=r},17440:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75177),m=t(20926),o=function(a,r,e,n){e.addToRenderList(r);var l=a.currentContext;if(m(a,l,r,e,n)){var s=r._displayOriginX,u=r._displayOriginY;r.isStroked&&(h(l,r),l.beginPath(),l.moveTo(r.geom.x1-s,r.geom.y1-u),l.lineTo(r.geom.x2-s,r.geom.y2-u),l.stroke()),l.restore()}};c.exports=o},2481:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(57847);h.register("line",function(o,a,r,e,n,l,s,u){return this.displayList.add(new m(this.scene,o,a,r,e,n,l,s,u))})},36823:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(77385),o=t(17440),c.exports={renderWebGL:m,renderCanvas:o}},77385:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(70554),o=function(a,r,e,n){e.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,e,n);l.calcMatrix.copyFrom(s.calc);var u=r._displayOriginX,f=r._displayOriginY,d=e.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isStroked){var v=l.strokeTint,g=m.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*d);v.TL=g,v.TR=g,v.BL=g,v.BR=g,l.batchLine(r.geom.x1-u,r.geom.y1-f,r.geom.x2-u,r.geom.y2-f,r._startWidth/2,r._endWidth/2,1,0,!1,s.sprite,s.camera)}a.pipelines.postBatch(r)};c.exports=o},24949:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90273),m=t(83419),o=t(94811),a=t(13829),r=t(25717),e=t(17803),n=t(5469),l=new m({Extends:e,Mixins:[h],initialize:function(u,f,d,v,g,y){f===void 0&&(f=0),d===void 0&&(d=0),e.call(this,u,"Polygon",new r(v));var T=a(this.geom);this.setPosition(f,d),this.setSize(T.width,T.height),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var u=0;u<s;u++)n(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var u=a(this.geom);return this.setSize(u.width,u.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],u=this.geom.points,f=0;f<u.length;f++)s.push(u[f].x,u[f].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});c.exports=l},38710:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(75177),o=t(20926),a=function(r,e,n,l){n.addToRenderList(e);var s=r.currentContext;if(o(r,s,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY,d=e.pathData,v=d.length-1,g=d[0]-u,y=d[1]-f;s.beginPath(),s.moveTo(g,y),e.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=d[T]-u,A=d[T+1]-f;s.lineTo(E,A)}e.closePath&&s.closePath(),e.isFilled&&(h(s,e),s.fill()),e.isStroked&&(m(s,e),s.stroke()),s.restore()}};c.exports=a},64827:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(24949);h.register("polygon",function(o,a,r,e,n){return this.displayList.add(new m(this.scene,o,a,r,e,n))})},90273:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(73695),o=t(38710),c.exports={renderWebGL:m,renderCanvas:o}},73695:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),m=t(91296),o=t(34682),a=function(r,e,n,l){n.addToRenderList(e);var s=r.pipelines.set(e.pipeline),u=m(e,n,l),f=s.calcMatrix.copyFrom(u.calc),d=e._displayOriginX,v=e._displayOriginY,g=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&h(s,f,e,g,d,v),e.isStroked&&o(s,e,g,d,v),r.pipelines.postBatch(e)};c.exports=a},74561:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(87841),o=t(17803),a=t(95597),r=new h({Extends:o,Mixins:[a],initialize:function(n,l,s,u,f,d,v){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=128),f===void 0&&(f=128),o.call(this,n,"Rectangle",new m(0,0,u,f)),this.setPosition(l,s),this.setSize(u,f),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,n){this.width=e,this.height=n,this.geom.setSize(e,n),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=e,l.hitArea.height=n),this},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),n.getLineD(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=r},48682:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(75177),o=t(20926),a=function(r,e,n,l){n.addToRenderList(e);var s=r.currentContext;if(o(r,s,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(h(s,e),s.fillRect(-u,-f,e.width,e.height)),e.isStroked&&(m(s,e),s.beginPath(),s.rect(-u,-f,e.width,e.height),s.stroke()),s.restore()}};c.exports=a},87959:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(74561);h.register("rectangle",function(o,a,r,e,n,l){return this.displayList.add(new m(this.scene,o,a,r,e,n,l))})},95597:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(52059),o=t(48682),c.exports={renderWebGL:m,renderCanvas:o}},52059:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(34682),o=t(70554),a=function(r,e,n,l){n.addToRenderList(e);var s=r.pipelines.set(e.pipeline),u=h(e,n,l);s.calcMatrix.copyFrom(u.calc);var f=e._displayOriginX,d=e._displayOriginY,v=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var g=s.fillTint,y=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*v);g.TL=y,g.TR=y,g.BL=y,g.BR=y,s.batchFillRect(-f,-d,e.width,e.height)}e.isStroked&&m(s,e,v,f,d),r.pipelines.postBatch(e)};c.exports=a},55911:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81991),m=t(83419),o=t(94811),a=t(17803),r=new m({Extends:a,Mixins:[h],initialize:function(n,l,s,u,f,d,v,g){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=5),f===void 0&&(f=32),d===void 0&&(d=64),a.call(this,n,"Star",null),this._points=u,this._innerRadius=f,this._outerRadius=d,this.setPosition(l,s),this.setSize(d*2,d*2),v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],n=this._points,l=this._innerRadius,s=this._outerRadius,u=Math.PI/2*3,f=Math.PI/n,d=s,v=s;e.push(d,v+-s);for(var g=0;g<n;g++)e.push(d+Math.cos(u)*s,v+Math.sin(u)*s),u+=f,e.push(d+Math.cos(u)*l,v+Math.sin(u)*l),u+=f;return e.push(d,v+-s),this.pathIndexes=o(e),this.pathData=e,this}});c.exports=r},64272:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(75177),o=t(20926),a=function(r,e,n,l){n.addToRenderList(e);var s=r.currentContext;if(o(r,s,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY,d=e.pathData,v=d.length-1,g=d[0]-u,y=d[1]-f;s.beginPath(),s.moveTo(g,y),e.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=d[T]-u,A=d[T+1]-f;s.lineTo(E,A)}s.closePath(),e.isFilled&&(h(s,e),s.fill()),e.isStroked&&(m(s,e),s.stroke()),s.restore()}};c.exports=a},93697:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55911),m=t(39429);m.register("star",function(o,a,r,e,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,e,n,l,s))})},81991:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(57017),o=t(64272),c.exports={renderWebGL:m,renderCanvas:o}},57017:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),m=t(91296),o=t(34682),a=function(r,e,n,l){n.addToRenderList(e);var s=r.pipelines.set(e.pipeline),u=m(e,n,l),f=s.calcMatrix.copyFrom(u.calc),d=e._displayOriginX,v=e._displayOriginY,g=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&h(s,f,e,g,d,v),e.isStroked&&o(s,e,g,d,v),r.pipelines.postBatch(e)};c.exports=a},36931:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(17803),o=t(16483),a=t(96195),r=new h({Extends:m,Mixins:[a],initialize:function(n,l,s,u,f,d,v,g,y,T,E){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),d===void 0&&(d=64),v===void 0&&(v=0),g===void 0&&(g=128),y===void 0&&(y=128),m.call(this,n,"Triangle",new o(u,f,d,v,g,y));var A=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(l,s),this.setSize(A,P),T!==void 0&&this.setFillStyle(T,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,n,l,s,u,f){return this.geom.setTo(e,n,l,s,u,f),this.updateData()},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});c.exports=r},85172:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),m=t(75177),o=t(20926),a=function(r,e,n,l){n.addToRenderList(e);var s=r.currentContext;if(o(r,s,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY,d=e.geom.x1-u,v=e.geom.y1-f,g=e.geom.x2-u,y=e.geom.y2-f,T=e.geom.x3-u,E=e.geom.y3-f;s.beginPath(),s.moveTo(d,v),s.lineTo(g,y),s.lineTo(T,E),s.closePath(),e.isFilled&&(h(s,e),s.fill()),e.isStroked&&(m(s,e),s.stroke()),s.restore()}};c.exports=a},45245:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(36931);h.register("triangle",function(o,a,r,e,n,l,s,u,f,d){return this.displayList.add(new m(this.scene,o,a,r,e,n,l,s,u,f,d))})},96195:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(83253),o=t(85172),c.exports={renderWebGL:m,renderCanvas:o}},83253:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=t(34682),o=t(70554),a=function(r,e,n,l){n.addToRenderList(e);var s=r.pipelines.set(e.pipeline),u=h(e,n,l);s.calcMatrix.copyFrom(u.calc);var f=e._displayOriginX,d=e._displayOriginY,v=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var g=s.fillTint,y=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*v);g.TL=y,g.TR=y,g.BL=y,g.BR=y;var T=e.geom.x1-f,E=e.geom.y1-d,A=e.geom.x2-f,P=e.geom.y2-d,w=e.geom.x3-f,M=e.geom.y3-d;s.batchFillTriangle(T,E,A,P,w,M,u.sprite,u.camera)}e.isStroked&&m(s,e,v,f,d),r.pipelines.postBatch(e)};c.exports=a},68287:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),m=t(83419),o=t(31401),a=t(95643),r=t(92751),e=new m({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,r],initialize:function(l,s,u,f,d){a.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(f,d),this.setPosition(s,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=e},76552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m.addToRenderList(h),t.batchSprite(h,h.frame,m,o)};c.exports=S},15567:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(13059),o=t(44603),a=t(23568),r=t(68287);o.register("sprite",function(e,n){e===void 0&&(e={});var l=a(e,"key",null),s=a(e,"frame",null),u=new r(this.scene,0,0,l,s);return n!==void 0&&(e.add=n),h(this.scene,u,e),m(u,e),u})},46409:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(68287);h.register("sprite",function(o,a,r,e){return this.displayList.add(new m(this.scene,o,a,r,e))})},92751:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(9409),o=t(76552),c.exports={renderWebGL:m,renderCanvas:o}},9409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m.addToRenderList(h),h.pipeline.batchSprite(h,m,o)};c.exports=S},14220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=t.canvas,a=t.context,r=t.style,e=[],n=0,l=m.length;r.maxLines>0&&r.maxLines<m.length&&(l=r.maxLines),r.syncFont(o,a);for(var s=t.letterSpacing,u=0;u<l;u++){var f=r.strokeThickness;if(s===0)f+=a.measureText(m[u]).width;else{for(var d=m[u],v=0;v<d.length;v++)f+=a.measureText(d[v]).width;d.length>1&&(f+=s*(d.length-1))}r.wordWrap&&(f-=a.measureText(" ").width),e[u]=Math.ceil(f),n=Math.max(n,e[u])}var g=h.fontSize+r.strokeThickness,y=g*l,T=t.lineSpacing;return l>1&&(y+=T*(l-1)),{width:n,height:y,lines:l,lineWidths:e,lineSpacing:T,lineHeight:g}};c.exports=S},79557:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),m=function(o){var a=h.create(this),r=a.getContext("2d",{willReadFrequently:!0});o.syncFont(a,r);var e=r.measureText(o.testString);if("actualBoundingBoxAscent"in e){var n=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return h.remove(a),{ascent:n,descent:l,fontSize:n+l}}var s=Math.ceil(e.width*o.baselineX),u=s,f=2*u;u=u*o.baselineY|0,a.width=s,a.height=f,r.fillStyle="#f00",r.fillRect(0,0,s,f),r.font=o._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o.testString,0,u);var d={ascent:0,descent:0,fontSize:0},v=r.getImageData(0,0,s,f);if(!v)return d.ascent=u,d.descent=u+6,d.fontSize=d.ascent+d.descent,h.remove(a),d;var g=v.data,y=g.length,T=s*4,E,A,P=0,w=!1;for(E=0;E<u;E++){for(A=0;A<T;A+=4)if(g[P+A]!==255){w=!0;break}if(!w)P+=T;else break}for(d.ascent=u-E,P=y-T,w=!1,E=f;E>u;E--){for(A=0;A<T;A+=4)if(g[P+A]!==255){w=!0;break}if(!w)P-=T;else break}return d.descent=E-u,d.fontSize=d.ascent+d.descent,h.remove(a),d};c.exports=m},50171:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),m=t(27919),o=t(83419),a=t(31401),r=t(95643),e=t(14220),n=t(35154),l=t(35846),s=t(61771),u=t(35762),f=t(45650),d=new o({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(g,y,T,E,A){y===void 0&&(y=0),T===void 0&&(T=0),r.call(this,g,"Text"),this.renderer=g.sys.renderer,this.setPosition(y,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context,this.style=new u(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=g.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing),A&&A.letterSpacing&&this.setLetterSpacing(A.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var g=this.style;if(g.wordWrapCallback){var y=g.wordWrapCallback.call(g.wordWrapCallbackScope,v,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return g.wordWrapWidth?g.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,g,y){for(var T="",E=v.replace(/ +/gi," ").split(this.splitRegExp),A=E.length,P=0;P<A;P++){var w=E[P],M="";w=w.replace(/^ *|\s*$/gi,"");var D=w.length*this.letterSpacing,F=g.measureText(w).width+D;if(F<y){T+=w+`
`;continue}for(var L=y,O=w.split(" "),B=0;B<O.length;B++){var U=O[B],W=U+" ",H=W.length*this.letterSpacing,Y=g.measureText(W).width+H;if(console.log(O.length,U),Y>L){if(B===0){for(var G=W;G.length;){G=G.slice(0,-1);var X=G.length*this.letterSpacing;if(Y=g.measureText(G).width+X,Y<=L)break}if(!G.length)throw new Error("wordWrapWidth < a single character");var V=U.substr(G.length);O[B]=V,M+=G}var b=O[B].length?B:B+1,z=O.slice(b).join(" ").replace(/[ \n]*$/gi,"");E.splice(P+1,0,z),A=E.length;break}else M+=W,L-=Y}T+=M.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(v,g,y){for(var T="",E=v.split(this.splitRegExp),A=E.length-1,P=g.measureText(" ").width,w=0;w<=A;w++){for(var M=y,D=E[w].split(" "),F=D.length-1,L=0;L<=F;L++){var O=D[L],B=O.length*this.letterSpacing,U=g.measureText(O).width+B,W=U;L<F&&(W+=P),W>M&&L>0&&(T+=`
`,M=y),T+=O,L<F?(T+=" ",M-=W):M-=U}w<A&&(T+=`
`)}return T},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var g=this.runWordWrap(v);return g.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,g){g===void 0&&(g=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var y=this._text.concat(g?`
`+v:v);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,g){return this.style.setFixedSize(v,g)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,g){return this.style.setStroke(v,g)},setShadow:function(v,g,y,T,E,A){return this.style.setShadow(v,g,y,T,E,A)},setShadowOffset:function(v,g){return this.style.setShadowOffset(v,g)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,g){return this.style.setWordWrapWidth(v,g)},setWordWrapCallback:function(v,g){return this.style.setWordWrapCallback(v,g)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,g,y,T){if(typeof v=="object"){var E=v,A=n(E,"x",null);A!==null?(v=A,y=A):(v=n(E,"left",0),y=n(E,"right",v));var P=n(E,"y",null);P!==null?(g=P,T=P):(g=n(E,"top",0),T=n(E,"bottom",g))}else v===void 0&&(v=0),g===void 0&&(g=v),y===void 0&&(y=v),T===void 0&&(T=g);return this.padding.left=v,this.padding.top=g,this.padding.right=y,this.padding.bottom=T,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var g=this.style;return g.rtl===v?this:(g.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),g.align==="left"?g.align="right":g.align==="right"&&(g.align="left"),this)},updateText:function(){var v=this.canvas,g=this.context,y=this.style,T=y.resolution,E=y.metrics;y.syncFont(v,g);var A=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(A=this.runWordWrap(this._text));var P=A.split(this.splitRegExp),w=e(this,E,P),M=this.padding,D;y.fixedWidth===0?(this.width=w.width+M.left+M.right,D=w.width):(this.width=y.fixedWidth,D=this.width-M.left-M.right,D<w.width&&(D=w.width)),y.fixedHeight===0?this.height=w.height+M.top+M.bottom:this.height=y.fixedHeight;var F=this.width,L=this.height;this.updateDisplayOrigin(),F*=T,L*=T,F=Math.max(F,1),L=Math.max(L,1),v.width!==F||v.height!==L?(v.width=F,v.height=L,this.frame.setSize(F,L),y.syncFont(v,g),y.rtl&&(g.direction="rtl")):g.clearRect(0,0,F,L),g.save(),g.scale(T,T),y.backgroundColor&&(g.fillStyle=y.backgroundColor,g.fillRect(0,0,F,L)),y.syncStyle(v,g),g.translate(M.left,M.top);for(var O,B,U=0;U<w.lines;U++){if(O=y.strokeThickness/2,B=y.strokeThickness/2+U*w.lineHeight+E.ascent,U>0&&(B+=w.lineSpacing*U),y.rtl)O=F-O-M.left-M.right;else if(y.align==="right")O+=D-w.lineWidths[U];else if(y.align==="center")O+=(D-w.lineWidths[U])/2;else if(y.align==="justify"){var W=.85;if(w.lineWidths[U]/w.width>=W){var H=w.width-w.lineWidths[U],Y=g.measureText(" ").width,G=P[U].trim(),X=G.split(" ");H+=(P[U].length-G.length)*Y;for(var V=Math.floor(H/Y),b=0;V>0;)X[b]+=" ",b=(b+1)%(X.length-1||1),--V;P[U]=X.join(" ")}}this.autoRound&&(O=Math.round(O),B=Math.round(B));var z=this.letterSpacing;if(y.strokeThickness&&z===0&&(y.syncShadow(g,y.shadowStroke),g.strokeText(P[U],O,B)),y.color)if(y.syncShadow(g,y.shadowFill),z!==0)for(var $=0,Q=P[U].split(""),Z=0;Z<Q.length;Z++)y.strokeThickness&&(y.syncShadow(g,y.shadowStroke),g.strokeText(Q[Z],O+$,B),y.syncShadow(g,y.shadowFill)),g.fillText(Q[Z],O+$,B),$+=g.measureText(Q[Z]).width+z;else g.fillText(P[U],O,B)}g.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var q=this.input;return q&&!q.customHitArea&&(q.hitArea.width=this.width,q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=a.ToJSON(this),g={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=g,v},preDestroy:function(){l(this.canvas),m.remove(this.canvas);var v=this.texture;v&&v.destroy()}});c.exports=d},79724:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){h.width===0||h.height===0||(m.addToRenderList(h),t.batchSprite(h,h.frame,m,o))};c.exports=S},71259:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(50171);m.register("text",function(r,e){r===void 0&&(r={});var n=o(r,"text",""),l=o(r,"style",null),s=o(r,"padding",null);s!==null&&(l.padding=s);var u=new a(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),h(this.scene,u,r),u.autoRound=o(r,"autoRound",!0),u.resolution=o(r,"resolution",1),u})},68005:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50171),m=t(39429);m.register("text",function(o,a,r,e){return this.displayList.add(new h(this.scene,o,a,r,e))})},61771:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(34397),o=t(79724),c.exports={renderWebGL:m,renderCanvas:o}},35762:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23568),o=t(35154),a=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new h({initialize:function(l,s){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(n,l,s){l===void 0&&(l=!0),s===void 0&&(s=!1);for(var u in r){var f=s?r[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=o(n,r[u][0],f):n&&u==="fontSize"&&typeof n.fontSize=="number"?this[u]=n.fontSize.toString()+"px":this[u]=m(n,r[u][0],f)}var d=o(n,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=o(n,"fill",null);v!==null&&(this.color=v);var g=o(n,"metrics",!1);return g?this.metrics={ascent:o(g,"ascent",0),descent:o(g,"descent",0),fontSize:o(g,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=a(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var s=n,u="",f="";if(typeof n!="string")s=o(n,"fontFamily","Courier"),u=o(n,"fontSize","16px"),f=o(n,"fontStyle","");else{var d=n.split(" "),v=0;f=d.length>2?d[v++]:"",u=d[v++]||"16px",s=d[v++]||"Courier"}return(s!==this.fontFamily||u!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=u,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,s,u,f,d){return n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s="#000"),u===void 0&&(u=0),f===void 0&&(f=!1),d===void 0&&(d=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=s,this.shadowBlur=u,this.shadowStroke=f,this.shadowFill=d,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});c.exports=e},34397:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),m=function(o,a,r,e){if(!(a.width===0||a.height===0)){r.addToRenderList(a);var n=a.frame,l=n.width,s=n.height,u=h.getTintAppendFloatAlpha,f=o.pipelines.set(a.pipeline,a),d=f.setTexture2D(n.glTexture,a);f.batchTexture(a,n.glTexture,l,s,a.x,a.y,l/a.style.resolution,s/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,l,s,u(a.tintTopLeft,r.alpha*a._alphaTL),u(a.tintTopRight,r.alpha*a._alphaTR),u(a.tintBottomLeft,r.alpha*a._alphaBL),u(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,0,0,r,e,!1,d)}};c.exports=m},20839:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),m=t(83419),o=t(31401),a=t(95643),r=t(98439),e=t(68703),n=t(56295),l=t(45650),s=t(26099),u=8,f=new m({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(v,g,y,T,E,A,P){var w=v.sys.renderer;a.call(this,v,"TileSprite");var M=v.sys.textures.get(A),D=M.get(P);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),M=v.sys.textures.get("__MISSING"),D=M.get()),M.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),M=v.sys.textures.get("__MISSING"),D=M.get()),!T||!E?(T=T||D.width,E=E||D.height):(T=Math.floor(T),E=Math.floor(E)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=w,this.canvas=h.create(this,T,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=M,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(D.width),this.potHeight=r(D.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(g,y),this.setSize(T,E),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,v){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(v)},setFrame:function(d){var v=this.displayTexture.get(d);return this.potWidth=r(v.width),this.potHeight=r(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=-9:this.renderFlags|=u,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,v){return d!==void 0&&(this.tilePositionX=d),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(d,v){return d===void 0&&(d=this.tileScaleX),v===void 0&&(v=d),this.tileScaleX=d,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,g=this.fillCanvas,y=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=d.cutWidth,T=d.cutHeight),v.clearRect(0,0,y,T),g.width=y,g.height=T,v.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,y,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(g,this.fillPattern):this.fillPattern=v.createPattern(g,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||e.disable(v);var g=this._tileScale.x,y=this._tileScale.y,T=this._tilePosition.x,E=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(g,y),v.translate(-T,-E),v.fillStyle=this.fillPattern,v.fillRect(T,E,this.width/g,this.height/y),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});c.exports=f},46992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){h.updateCanvas(),m.addToRenderList(h),t.batchSprite(h,h.frame,m,o)};c.exports=S},14167:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(20839);m.register("tileSprite",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),s=o(r,"width",512),u=o(r,"height",512),f=o(r,"key",""),d=o(r,"frame",""),v=new a(this.scene,n,l,s,u,f,d);return e!==void 0&&(r.add=e),h(this.scene,v,r),v})},91681:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20839),m=t(39429);m.register("tileSprite",function(o,a,r,e,n,l){return this.displayList.add(new h(this.scene,o,a,r,e,n,l))})},56295:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(18553),o=t(46992),c.exports={renderWebGL:m,renderCanvas:o}},18553:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),m=function(o,a,r,e){a.updateCanvas();var n=a.width,l=a.height;if(!(n===0||l===0)){r.addToRenderList(a);var s=h.getTintAppendFloatAlpha,u=o.pipelines.set(a.pipeline,a),f=u.setTexture2D(a.fillPattern,a);u.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,n,l,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*n,a.originY*l,0,0,n,l,s(a.tintTopLeft,r.alpha*a._alphaTL),s(a.tintTopRight,r.alpha*a._alphaTR),s(a.tintBottomLeft,r.alpha*a._alphaBL),s(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,r,e,!1,f)}};c.exports=m},18471:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(31401),a=t(51708),r=t(8443),e=t(95643),n=t(36383),l=t(14463),s=t(45650),u=t(10247),f=new m({Extends:e,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,u],initialize:function(v,g,y,T){e.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var E=v.sys.game;this._device=E.device.video,this.setPosition(g,y),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(r.PAUSE,this.globalPause,this),E.events.on(r.RESUME,this.globalResume,this);var A=v.sys.sound;A&&A.on(l.GLOBAL_MUTE,this.globalMute,this),T&&this.load(T)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var v=this.scene.sys.cache.video.get(d);return v?(this.cacheKey=d,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,v,g,y,T){v===void 0&&(v=!0),g===void 0&&(g=!1),this.cacheKey!==d&&(this.load(d),v&&this.play(g,y,T))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,v,g){v===void 0&&(v=!1);var y=this._device.getVideoURL(d);return y?(this.cacheKey="",this.loadHandler(y.url,v,g)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,v,g){return this.loadHandler(null,v,g,d)},loadHandler:function(d,v,g,y){v||(v=!1);var T=this.video;if(T?(this.removeLoadEventHandlers(),this.stop()):(T=document.createElement("video"),T.controls=!1,T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.setAttribute("disablePictureInPicture","true")),v?(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")):(T.muted=!1,T.defaultMuted=!1,T.removeAttribute("autoplay")),g?T.setAttribute("crossorigin",g):T.removeAttribute("crossorigin"),y)if("srcObject"in T)try{T.srcObject=y}catch(A){if(A.name!=="TypeError")throw A;T.src=URL.createObjectURL(y)}else T.src=URL.createObjectURL(y);else T.src=d;this.retry=0,this.video=T,this._playCalled=!1,T.load(),this.addLoadEventHandlers();var E=this.scene.sys.textures.get(this._key);return this.setTexture(E),this},requestVideoFrame:function(d,v){var g=this.video;if(g){var y=v.width,T=v.height,E=this.videoTexture,A=this.videoTextureSource,P=!E||A.source!==g;P?(this._codePaused=g.paused,this._codeMuted=g.muted,E?(A.source=g,A.width=y,A.height=T,E.get().setSize(y,T)):(E=this.scene.sys.textures.create(this._key,g,y,T),E.add("__BASE",0,0,0,y,T),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=v;var w=v.mediaTime;P&&(this._lastUpdate=w,this.emit(a.VIDEO_CREATED,this,y,T),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(g.loop?(g.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=w,this._getFrame?(this.removeEventHandlers(),g.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,v,g){v===void 0&&(v=-1),g===void 0&&(g=n.MAX_SAFE_INTEGER);var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(d===void 0&&(d=y.loop),y.loop=d,this._markerIn=v,this._markerOut=g,this._playingMarker=v>-1&&g>v&&g<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var d=this.video;return!d||this.isPlaying()?(d||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=d.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var g in v)d.addEventListener(g,v[g])}},removeEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var g in v)d.removeEventListener(g,v[g])}},createPlayPromise:function(d){d===void 0&&(d=!0);var v=this.video,g=v.play();if(g!==void 0){var y=this.playSuccess.bind(this),T=this.playError.bind(this);if(!d){var E=this;T=function(){E.failedPlayAttempts++}}g.then(y).catch(T)}else v.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,v,g){return!isNaN(v)&&v>=0&&!isNaN(g)&&g>v&&(this.markers[d]=[v,g]),this},playMarker:function(d,v){var g=this.markers[d];return g&&this.play(v,g[0],g[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,v){return d===void 0&&(d=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,d,v)},snapshotArea:function(d,v,g,y,T,E){d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height),T===void 0&&(T=g),E===void 0&&(E=y);var A=this.video,P=this.snapshotTexture;return P?(P.setSize(T,E),A&&P.context.drawImage(A,d,v,g,y,0,0,T,E)):(P=this.scene.sys.textures.createCanvas(s(),T,E),this.snapshotTexture=P,A&&P.context.drawImage(A,d,v,g,y,0,0,T,E)),P.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var v=d.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(a.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(a.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(d,v){var g=this.video;!g||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var v=this.video;if(v){var g=v.duration;if(g!==1/0&&!isNaN(g)){var y=g*d;this.setCurrentTime(y)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var v=this.video;if(v){if(typeof d=="string"){var g=d[0],y=parseFloat(d.substr(1));g==="+"?d=v.currentTime+y:g==="-"&&(d=v.currentTime-y)}v.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v))return d.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var v=this.video;return v&&(v.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,v){this._systemMuted=v;var g=this.video;g&&(g.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var v=this.video;return this._codePaused=d,v&&!v.ended&&(d?v.paused||(this.removeEventHandlers(),v.pause()):d||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=h(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(v)),this._key=d,this.flipY=v,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(r.PAUSE,this.globalPause,this),d.off(r.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(l.GLOBAL_MUTE,this.globalMute,this)}});c.exports=f},58352:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){h.videoTexture&&(m.addToRenderList(h),t.batchSprite(h,h.frame,m,o))};c.exports=S},11511:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),m=t(44603),o=t(23568),a=t(18471);m.register("video",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=new a(this.scene,0,0,n);return e!==void 0&&(r.add=e),h(this.scene,l,r),l})},89025:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18471),m=t(39429);m.register("video",function(o,a,r){return this.displayList.add(new h(this.scene,o,a,r))})},10247:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(29849),o=t(58352),c.exports={renderWebGL:m,renderCanvas:o}},29849:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){h.videoTexture&&(m.addToRenderList(h),h.pipeline.batchSprite(h,m,o))};c.exports=S},41481:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),m=t(96503),o=t(87902),a=t(83419),r=t(31401),e=t(95643),n=t(87841),l=t(37303),s=new a({Extends:e,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(f,d,v,g,y){g===void 0&&(g=1),y===void 0&&(y=g),e.call(this,f,"Zone"),this.setPosition(d,v),this.width=g,this.height=y,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,f,d){d===void 0&&(d=!0),this.width=u,this.height=f,this.updateDisplayOrigin();var v=this.input;return d&&v&&!v.customHitArea&&(v.hitArea.width=u,v.hitArea.height=f),this},setDisplaySize:function(u,f){return this.displayWidth=u,this.displayHeight=f,this},setCircleDropZone:function(u){return this.setDropZone(new m(0,0,u),o)},setRectangleDropZone:function(u,f){return this.setDropZone(new n(0,0,u,f),l)},setDropZone:function(u,f){return this.input||this.setInteractive(u,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,f,d){d.addToRenderList(f)},renderWebGL:function(u,f,d){d.addToRenderList(f)}});c.exports=s},95261:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),m=t(23568),o=t(41481);h.register("zone",function(a){var r=m(a,"x",0),e=m(a,"y",0),n=m(a,"width",1),l=m(a,"height",n);return new o(this.scene,r,e,n,l)})},84175:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41481),m=t(39429);m.register("zone",function(o,a,r,e){return this.displayList.add(new h(this.scene,o,a,r,e))})},95166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};c.exports=S},96503:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(87902),o=t(26241),a=t(79124),r=t(23777),e=t(28176),n=new h({initialize:function(s,u,f){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=r.CIRCLE,this.x=s,this.y=u,this._radius=f,this._diameter=f*2},contains:function(l,s){return m(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,s,u){return this.x=l,this.y=s,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});c.exports=n},71562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};c.exports=S},92110:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a,r){return r===void 0&&(r=new h),r.x=o.x+o.radius*Math.cos(a),r.y=o.y+o.radius*Math.sin(a),r};c.exports=m},42250:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),m=function(o){return new h(o.x,o.y,o.radius)};c.exports=m},87902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(t.radius>0&&h>=t.left&&h<=t.right&&m>=t.top&&m<=t.bottom){var o=(t.x-h)*(t.x-h),a=(t.y-m)*(t.y-m);return o+a<=t.radius*t.radius}else return!1};c.exports=S},5698:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),m=function(o,a){return h(o,a.x,a.y)};c.exports=m},70588:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),m=function(o,a){return h(o,a.x,a.y)&&h(o,a.right,a.y)&&h(o,a.x,a.bottom)&&h(o,a.right,a.bottom)};c.exports=m},26394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.radius)};c.exports=S},76278:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};c.exports=S},2074:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=function(o,a){return a===void 0&&(a=new h),a.x=o.left,a.y=o.top,a.width=o.diameter,a.height=o.diameter,a};c.exports=m},26241:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92110),m=t(62945),o=t(36383),a=t(2141),r=function(e,n,l){l===void 0&&(l=new a);var s=m(n,0,o.PI2);return h(e,s,l)};c.exports=r},79124:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71562),m=t(92110),o=t(62945),a=t(36383),r=function(e,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(e)/l);for(var u=0;u<n;u++){var f=o(u/n,0,a.PI2);s.push(m(e,f))}return s};c.exports=r},50884:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x+=h,t.y+=m,t};c.exports=S},39212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};c.exports=S},28176:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){a===void 0&&(a=new h);var r=2*Math.PI*Math.random(),e=Math.random()+Math.random(),n=e>1?2-e:e,l=n*Math.cos(r),s=n*Math.sin(r);return a.x=o.x+l*o.radius,a.y=o.y+s*o.radius,a};c.exports=m},88911:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503);h.Area=t(95166),h.Circumference=t(71562),h.CircumferencePoint=t(92110),h.Clone=t(42250),h.Contains=t(87902),h.ContainsPoint=t(5698),h.ContainsRect=t(70588),h.CopyFrom=t(26394),h.Equals=t(76278),h.GetBounds=t(2074),h.GetPoint=t(26241),h.GetPoints=t(79124),h.Offset=t(50884),h.OffsetPoint=t(39212),h.Random=t(28176),c.exports=h},23777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=S},78874:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};c.exports=S},92990:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.width/2,m=t.height/2,o=Math.pow(h-m,2)/Math.pow(h+m,2);return Math.PI*(h+m)*(1+3*o/(10+Math.sqrt(4-3*o)))};c.exports=S},79522:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a,r){r===void 0&&(r=new h);var e=o.width/2,n=o.height/2;return r.x=o.x+e*Math.cos(a),r.y=o.y+n*Math.sin(a),r};c.exports=m},58102:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497),m=function(o){return new h(o.x,o.y,o.width,o.height)};c.exports=m},81154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(t.width<=0||t.height<=0)return!1;var o=(h-t.x)/t.width,a=(m-t.y)/t.height;return o*=o,a*=a,o+a<.25};c.exports=S},46662:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),m=function(o,a){return h(o,a.x,a.y)};c.exports=m},1632:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),m=function(o,a){return h(o,a.x,a.y)&&h(o,a.right,a.y)&&h(o,a.x,a.bottom)&&h(o,a.right,a.bottom)};c.exports=m},65534:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};c.exports=S},8497:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(81154),o=t(90549),a=t(48320),r=t(23777),e=t(24820),n=new h({initialize:function(s,u,f,d){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=r.ELLIPSE,this.x=s,this.y=u,this.width=f,this.height=d},contains:function(l,s){return m(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,s,u,f){return this.x=l,this.y=s,this.width=u,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},setSize:function(l,s){return s===void 0&&(s=l),this.width=l,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});c.exports=n},36146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};c.exports=S},23694:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=function(o,a){return a===void 0&&(a=new h),a.x=o.left,a.y=o.top,a.width=o.width,a.height=o.height,a};c.exports=m},90549:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79522),m=t(62945),o=t(36383),a=t(2141),r=function(e,n,l){l===void 0&&(l=new a);var s=m(n,0,o.PI2);return h(e,s,l)};c.exports=r},48320:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92990),m=t(79522),o=t(62945),a=t(36383),r=function(e,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(e)/l);for(var u=0;u<n;u++){var f=o(u/n,0,a.PI2);s.push(m(e,f))}return s};c.exports=r},73424:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x+=h,t.y+=m,t};c.exports=S},44808:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};c.exports=S},24820:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){a===void 0&&(a=new h);var r=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return a.x=o.x+e*Math.cos(r)*o.width/2,a.y=o.y+e*Math.sin(r)*o.height/2,a};c.exports=m},49203:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497);h.Area=t(78874),h.Circumference=t(92990),h.CircumferencePoint=t(79522),h.Clone=t(58102),h.Contains=t(81154),h.ContainsPoint=t(46662),h.ContainsRect=t(1632),h.CopyFrom=t(65534),h.Equals=t(36146),h.GetBounds=t(23694),h.GetPoint=t(90549),h.GetPoints=t(48320),h.Offset=t(73424),h.OffsetPoint=t(44808),h.Random=t(24820),c.exports=h},55738:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23777),m=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=m(!1,o,h),c.exports=o},2044:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20339),m=function(o,a){return h(o.x,o.y,a.x,a.y)<=o.radius+a.radius};c.exports=m},81491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=h.width/2,o=h.height/2,a=Math.abs(t.x-h.x-m),r=Math.abs(t.y-h.y-o),e=m+t.radius,n=o+t.radius;if(a>e||r>n)return!1;if(a<=m||r<=o)return!0;var l=a-m,s=r-o,u=l*l,f=s*s,d=t.radius*t.radius;return u+f<=d};c.exports=S},63376:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=t(2044),o=function(a,r,e){if(e===void 0&&(e=[]),m(a,r)){var n=a.x,l=a.y,s=a.radius,u=r.x,f=r.y,d=r.radius,v,g,y,T,E;if(l===f)E=(d*d-s*s-u*u+n*n)/(2*(n-u)),v=1,g=-2*f,y=u*u+E*E-2*u*E+f*f-d*d,T=g*g-4*v*y,T===0?e.push(new h(E,-g/(2*v))):T>0&&(e.push(new h(E,(-g+Math.sqrt(T))/(2*v))),e.push(new h(E,(-g-Math.sqrt(T))/(2*v))));else{var A=(n-u)/(l-f),P=(d*d-s*s-u*u+n*n-f*f+l*l)/(2*(l-f));v=A*A+1,g=2*l*A-2*P*A-2*n,y=n*n+l*l+P*P-s*s-2*l*P,T=g*g-4*v*y,T===0?(E=-g/(2*v),e.push(new h(E,P-E*A))):T>0&&(E=(-g+Math.sqrt(T))/(2*v),e.push(new h(E,P-E*A)),E=(-g-Math.sqrt(T))/(2*v),e.push(new h(E,P-E*A)))}}return e};c.exports=o},97439:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),m=t(81491),o=function(a,r,e){if(e===void 0&&(e=[]),m(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=r.getLineD();h(n,a,e),h(l,a,e),h(s,a,e),h(u,a,e)}return e};c.exports=o},4042:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=t(80462),o=function(a,r,e){if(e===void 0&&(e=[]),m(a,r)){var n=a.x1,l=a.y1,s=a.x2,u=a.y2,f=r.x,d=r.y,v=r.radius,g=s-n,y=u-l,T=n-f,E=l-d,A=g*g+y*y,P=2*(g*T+y*E),w=T*T+E*E-v*v,M=P*P-4*A*w,D,F;if(M===0){var L=-P/(2*A);D=n+L*g,F=l+L*y,L>=0&&L<=1&&e.push(new h(D,F))}else if(M>0){var O=(-P-Math.sqrt(M))/(2*A);D=n+O*g,F=l+O*y,O>=0&&O<=1&&e.push(new h(D,F));var B=(-P+Math.sqrt(M))/(2*A);D=n+B*g,F=l+B*y,B>=0&&B<=1&&e.push(new h(D,F))}}return e};c.exports=o},36100:(c,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),m=function(o,a,r,e){r===void 0&&(r=!1);var n=o.x1,l=o.y1,s=o.x2,u=o.y2,f=a.x1,d=a.y1,v=a.x2,g=a.y2,y=s-n,T=u-l,E=v-f,A=g-d,P=y*A-T*E;if(P===0)return null;var w,M,D;if(r){if(w=(y*(d-l)+T*(n-f))/(E*T-A*y),y!==0)M=(f+E*w-n)/y;else if(T!==0)M=(d+A*w-l)/T;else return null;if(M<0||w<0||w>1)return null;D=M}else{if(w=((f-n)*A-(d-l)*E)/P,M=((l-d)*y-(n-f)*T)/P,w<0||w>1||M<0||M>1)return null;D=w}return e===void 0&&(e=new h),e.set(n+y*D,l+T*D,D)};c.exports=m},3073:(c,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36100),m=t(23031),o=t(25836),a=new m,r=new o,e=function(n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=new o);var f=!1;u.set(),r.set();for(var d=l[l.length-1],v=0;v<l.length;v++){var g=l[v];a.setTo(d.x,d.y,g.x,g.y),d=g,h(n,a,s,r)&&(!f||r.z<u.z)&&(u.copy(r),f=!0)}return f?u:null};c.exports=e},56362:(c,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),m=t(61369),o=t(3073),a=new h,r=function(e,n,l,s){s===void 0&&(s=new m),Array.isArray(n)||(n=[n]);var u=!1;s.set(),a.set();for(var f=0;f<n.length;f++)o(e,n[f].points,l,a)&&(!u||a.z<s.z)&&(s.set(a.x,a.y,a.z,f),u=!0);return u?s:null};c.exports=r},60646:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=t(76112),o=t(92773),a=function(r,e,n){if(n===void 0&&(n=[]),o(r,e))for(var l=e.getLineA(),s=e.getLineB(),u=e.getLineC(),f=e.getLineD(),d=[new h,new h,new h,new h],v=[m(l,r,d[0]),m(s,r,d[1]),m(u,r,d[2]),m(f,r,d[3])],g=0;g<4;g++)v[g]&&n.push(d[g]);return n};c.exports=a},71147:(c,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61369),m=t(56362),o=t(23031),a=new o;function r(l,s,u,f,d){var v=Math.cos(l),g=Math.sin(l);a.setTo(s,u,s+v,u+g);var y=m(a,f,!0);y&&d.push(new h(y.x,y.y,l,y.w))}function e(l,s){return l.z-s.z}var n=function(l,s,u){Array.isArray(u)||(u=[u]);for(var f=[],d=[],v=0;v<u.length;v++)for(var g=u[v].points,y=0;y<g.length;y++){var T=Math.atan2(g[y].y-s,g[y].x-l);d.indexOf(T)===-1&&(r(T,l,s,u,f),r(T-1e-5,l,s,u,f),r(T+1e-5,l,s,u,f),d.push(T))}return f.sort(e)};c.exports=n},68389:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=t(59996),o=function(a,r,e){return e===void 0&&(e=new h),m(a,r)&&(e.x=Math.max(a.x,r.x),e.y=Math.max(a.y,r.y),e.width=Math.min(a.right,r.right)-e.x,e.height=Math.min(a.bottom,r.bottom)-e.y),e};c.exports=o},52784:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60646),m=t(59996),o=function(a,r,e){if(e===void 0&&(e=[]),m(a,r)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC(),u=a.getLineD();h(n,r,e),h(l,r,e),h(s,r,e),h(u,r,e)}return e};c.exports=o},26341:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89265),m=t(60646),o=function(a,r,e){if(e===void 0&&(e=[]),h(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();m(n,a,e),m(l,a,e),m(s,a,e)}return e};c.exports=o},38720:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),m=t(67636),o=function(a,r,e){if(e===void 0&&(e=[]),m(a,r)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();h(n,r,e),h(l,r,e),h(s,r,e)}return e};c.exports=o},13882:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=t(2822),o=t(76112),a=function(r,e,n){if(n===void 0&&(n=[]),m(r,e))for(var l=r.getLineA(),s=r.getLineB(),u=r.getLineC(),f=[new h,new h,new h],d=[o(l,e,f[0]),o(s,e,f[1]),o(u,e,f[2])],v=0;v<3;v++)d[v]&&n.push(f[v]);return n};c.exports=a},75636:(c,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82944),m=t(13882),o=function(a,r,e){if(e===void 0&&(e=[]),h(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();m(a,n,e),m(a,l,e),m(a,s,e)}return e};c.exports=o},80462:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),m=t(2141),o=new m,a=function(r,e,n){if(n===void 0&&(n=o),h(e,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(h(e,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,s=r.y2-r.y1,u=e.x-r.x1,f=e.y-r.y1,d=l*l+s*s,v=l,g=s;if(d>0){var y=(u*l+f*s)/d;v*=y,g*=y}n.x=r.x1+v,n.y=r.y1+g;var T=v*v+g*g;return T<=d&&v*l+g*s>=0&&h(e,n.x,n.y)};c.exports=a},76112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=t.x1,a=t.y1,r=t.x2,e=t.y2,n=h.x1,l=h.y1,s=h.x2,u=h.y2;if(o===r&&a===e||n===s&&l===u)return!1;var f=(u-l)*(r-o)-(s-n)*(e-a);if(f===0)return!1;var d=((s-n)*(a-l)-(u-l)*(o-n))/f,v=((r-o)*(a-l)-(e-a)*(o-n))/f;return d<0||d>1||v<0||v>1?!1:(m&&(m.x=o+d*(r-o),m.y=a+d*(e-a)),!0)};c.exports=S},92773:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x1,o=t.y1,a=t.x2,r=t.y2,e=h.x,n=h.y,l=h.right,s=h.bottom,u=0;if(m>=e&&m<=l&&o>=n&&o<=s||a>=e&&a<=l&&r>=n&&r<=s)return!0;if(m<e&&a>=e){if(u=o+(r-o)*(e-m)/(a-m),u>n&&u<=s)return!0}else if(m>l&&a<=l&&(u=o+(r-o)*(l-m)/(a-m),u>=n&&u<=s))return!0;if(o<n&&r>=n){if(u=m+(a-m)*(n-o)/(r-o),u>=e&&u<=l)return!0}else if(o>s&&r<=s&&(u=m+(a-m)*(s-o)/(r-o),u>=e&&u<=l))return!0;return!1};c.exports=S},16204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){m===void 0&&(m=1);var o=h.x1,a=h.y1,r=h.x2,e=h.y2,n=t.x,l=t.y,s=(r-o)*(r-o)+(e-a)*(e-a);if(s===0)return!1;var u=((n-o)*(r-o)+(l-a)*(e-a))/s;if(u<0)return Math.sqrt((o-n)*(o-n)+(a-l)*(a-l))<=m;if(u>=0&&u<=1){var f=((a-l)*(r-o)-(o-n)*(e-a))/s;return Math.abs(f)*Math.sqrt(s)<=m}else return Math.sqrt((r-n)*(r-n)+(e-l)*(e-l))<=m};c.exports=S},14199:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16204),m=function(o,a){if(!h(o,a))return!1;var r=Math.min(a.x1,a.x2),e=Math.max(a.x1,a.x2),n=Math.min(a.y1,a.y2),l=Math.max(a.y1,a.y2);return o.x>=r&&o.x<=e&&o.y>=n&&o.y<=l};c.exports=m},59996:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};c.exports=S},89265:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),m=t(37303),o=t(48653),a=t(77493),r=function(e,n){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var l=n.getLineA(),s=n.getLineB(),u=n.getLineC();if(m(e,l.x1,l.y1)||m(e,l.x2,l.y2)||m(e,s.x1,s.y1)||m(e,s.x2,s.y2)||m(e,u.x1,u.y1)||m(e,u.x2,u.y2))return!0;var f=e.getLineA(),d=e.getLineB(),v=e.getLineC(),g=e.getLineD();if(h(l,f)||h(l,d)||h(l,v)||h(l,g)||h(s,f)||h(s,d)||h(s,v)||h(s,g)||h(u,f)||h(u,d)||h(u,v)||h(u,g))return!0;var y=a(e),T=o(n,y,!0);return T.length>0};c.exports=r},84411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a,r){return r===void 0&&(r=0),!(h>t.right+r||m<t.left-r||o>t.bottom+r||a<t.top-r)};c.exports=S},67636:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80462),m=t(10690),o=function(a,r){return a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top?!1:!!(m(a,r.x,r.y)||h(a.getLineA(),r)||h(a.getLineB(),r)||h(a.getLineC(),r))};c.exports=o},2822:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),m=function(o,a){return!!(o.contains(a.x1,a.y1)||o.contains(a.x2,a.y2)||h(o.getLineA(),a)||h(o.getLineB(),a)||h(o.getLineC(),a))};c.exports=m},82944:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48653),m=t(71694),o=t(76112),a=function(r,e){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=e.getLineA(),f=e.getLineB(),d=e.getLineC();if(o(n,u)||o(n,f)||o(n,d)||o(l,u)||o(l,f)||o(l,d)||o(s,u)||o(s,f)||o(s,d))return!0;var v=m(r),g=h(e,v,!0);return g.length>0||(v=m(e),g=h(r,v,!0),g.length>0)};c.exports=a},91865:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};c.exports=S},84993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=1),m===void 0&&(m=[]);var o=Math.round(t.x1),a=Math.round(t.y1),r=Math.round(t.x2),e=Math.round(t.y2),n=Math.abs(r-o),l=Math.abs(e-a),s=o<r?1:-1,u=a<e?1:-1,f=n-l;m.push({x:o,y:a});for(var d=1;!(o===r&&a===e);){var v=f<<1;v>-l&&(f-=l,o+=s),v<n&&(f+=n,a+=u),d%h===0&&m.push({x:o,y:a}),d++}return m};c.exports=S},36469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=h-(t.x1+t.x2)/2,a=m-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=a,t.x2+=o,t.y2+=a,t};c.exports=S},31116:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031),m=function(o){return new h(o.x1,o.y1,o.x2,o.y2)};c.exports=m},59944:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};c.exports=S},59220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};c.exports=S},78177:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),m=function(o,a,r){r===void 0&&(r=a);var e=h(o),n=o.x2-o.x1,l=o.y2-o.y1;return a&&(o.x1=o.x1-n/e*a,o.y1=o.y1-l/e*a),r&&(o.x2=o.x2+n/e*r,o.y2=o.y2+l/e*r),o};c.exports=m},26708:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),m=t(6113),o=t(2141),a=function(r,e,n,l,s){l===void 0&&(l=0),s===void 0&&(s=[]);var u=[],f=r.x1,d=r.y1,v=r.x2-f,g=r.y2-d,y=m(e,s),T,E,A=n-1;for(T=0;T<A;T++)E=y(T/A),u.push(new o(f+v*E,d+g*E));if(E=y(1),u.push(new o(f+v*E,d+g*E)),l>0){var P=u[0],w=[P];for(T=1;T<u.length-1;T++){var M=u[T];h(P,M)>=l&&(w.push(M),P=M)}var D=u[u.length-1];return h(P,D)<l&&w.pop(),w.push(D),w}else return u};c.exports=a},32125:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){return a===void 0&&(a=new h),a.x=(o.x1+o.x2)/2,a.y=(o.y1+o.y2)/2,a};c.exports=m},99569:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a,r){r===void 0&&(r=new h);var e=o.x1,n=o.y1,l=o.x2,s=o.y2,u=(l-e)*(l-e)+(s-n)*(s-n);if(u===0)return r;var f=((a.x-e)*(l-e)+(a.y-n)*(s-n))/u;return r.x=e+f*(l-e),r.y=n+f*(s-n),r};c.exports=m},34638:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=t(91938),o=t(2141),a=function(r,e){e===void 0&&(e=new o);var n=m(r)-h.TAU;return e.x=Math.cos(n),e.y=Math.sin(n),e};c.exports=a},13151:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a,r){return r===void 0&&(r=new h),r.x=o.x1+(o.x2-o.x1)*a,r.y=o.y1+(o.y2-o.y1)*a,r};c.exports=m},15258:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),m=t(2141),o=function(a,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=h(a)/e);for(var l=a.x1,s=a.y1,u=a.x2,f=a.y2,d=0;d<r;d++){var v=d/r,g=l+(u-l)*v,y=s+(f-s)*v;n.push(new m(g,y))}return n};c.exports=o},26408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x1,o=t.y1,a=t.x2,r=t.y2,e=(a-m)*(a-m)+(r-o)*(r-o);if(e===0)return!1;var n=((o-h.y)*(a-m)-(m-h.x)*(r-o))/e;return Math.abs(n)*Math.sqrt(e)};c.exports=S},98770:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};c.exports=S},35001:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};c.exports=S},23031:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(13151),o=t(15258),a=t(23777),r=t(65822),e=t(26099),n=new h({initialize:function(s,u,f,d){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=a.LINE,this.x1=s,this.y1=u,this.x2=f,this.y2=d},getPoint:function(l,s){return m(this,l,s)},getPoints:function(l,s,u){return o(this,l,s,u)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,s,u,f){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),this.x1=l,this.y1=s,this.x2=u,this.y2=f,this},setFromObjects:function(l,s){return this.x1=l.x,this.y1=l.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});c.exports=n},64795:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=t(15994),o=t(91938),a=function(r){var e=o(r)-h.TAU;return m(e,-Math.PI,Math.PI)};c.exports=a},52616:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=t(91938),o=function(a){return Math.cos(m(a)-h.TAU)};c.exports=o},87231:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=t(91938),o=function(a){return Math.sin(m(a)-h.TAU)};c.exports=o},89662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x1+=h,t.y1+=m,t.x2+=h,t.y2+=m,t};c.exports=S},71165:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};c.exports=S},65822:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){a===void 0&&(a=new h);var r=Math.random();return a.x=o.x1+r*(o.x2-o.x1),a.y=o.y1+r*(o.y2-o.y1),a};c.exports=m},69777:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91938),m=t(64795),o=function(a,r){return 2*m(r)-Math.PI-h(a)};c.exports=o},39706:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),m=function(o,a){var r=(o.x1+o.x2)/2,e=(o.y1+o.y2)/2;return h(o,r,e,a)};c.exports=m},82585:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),m=function(o,a,r){return h(o,a.x,a.y,r)};c.exports=m},64400:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=Math.cos(o),r=Math.sin(o),e=t.x1-h,n=t.y1-m;return t.x1=e*a-n*r+h,t.y1=e*r+n*a+m,e=t.x2-h,n=t.y2-m,t.x2=e*a-n*r+h,t.y2=e*r+n*a+m,t};c.exports=S},62377:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a){return t.x1=h,t.y1=m,t.x2=h+Math.cos(o)*a,t.y2=m+Math.sin(o)*a,t};c.exports=S},71366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};c.exports=S},10809:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};c.exports=S},2529:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031);h.Angle=t(91938),h.BresenhamPoints=t(84993),h.CenterOn=t(36469),h.Clone=t(31116),h.CopyFrom=t(59944),h.Equals=t(59220),h.Extend=t(78177),h.GetEasedPoints=t(26708),h.GetMidPoint=t(32125),h.GetNearestPoint=t(99569),h.GetNormal=t(34638),h.GetPoint=t(13151),h.GetPoints=t(15258),h.GetShortestDistance=t(26408),h.Height=t(98770),h.Length=t(35001),h.NormalAngle=t(64795),h.NormalX=t(52616),h.NormalY=t(87231),h.Offset=t(89662),h.PerpSlope=t(71165),h.Random=t(65822),h.ReflectAngle=t(69777),h.Rotate=t(39706),h.RotateAroundPoint=t(82585),h.RotateAroundXY=t(64400),h.SetToAngle=t(62377),h.Slope=t(71366),h.Width=t(10809),c.exports=h},83997:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(87841),o=t(26099);function a(e,n,l,s){var u=e-l,f=n-s,d=u*u+f*f;return Math.sqrt(d)}var r=new h({initialize:function(n,l,s){this.vertex1=n,this.vertex2=l,this.vertex3=s,this.bounds=new m,this._inCenter=new o},getInCenter:function(e){e===void 0&&(e=!0);var n=this.vertex1,l=this.vertex2,s=this.vertex3,u,f,d,v,g,y;e?(u=n.x,f=n.y,d=l.x,v=l.y,g=s.x,y=s.y):(u=n.vx,f=n.vy,d=l.vx,v=l.vy,g=s.vx,y=s.vy);var T=a(g,y,d,v),E=a(u,f,g,y),A=a(d,v,u,f),P=T+E+A;return this._inCenter.set((u*T+d*E+g*A)/P,(f*T+v*E+y*A)/P)},contains:function(e,n,l){var s=this.vertex1,u=this.vertex2,f=this.vertex3,d=s.vx,v=s.vy,g=u.vx,y=u.vy,T=f.vx,E=f.vy;if(l){var A=l.a,P=l.b,w=l.c,M=l.d,D=l.e,F=l.f;d=s.vx*A+s.vy*w+D,v=s.vx*P+s.vy*M+F,g=u.vx*A+u.vy*w+D,y=u.vx*P+u.vy*M+F,T=f.vx*A+f.vy*w+D,E=f.vx*P+f.vy*M+F}var L=T-d,O=E-v,B=g-d,U=y-v,W=e-d,H=n-v,Y=L*L+O*O,G=L*B+O*U,X=L*W+O*H,V=B*B+U*U,b=B*W+U*H,z=Y*V-G*G,$=z===0?0:1/z,Q=(V*X-G*b)*$,Z=(Y*b-G*X)*$;return Q>=0&&Z>=0&&Q+Z<1},isCounterClockwise:function(e){var n=this.vertex1,l=this.vertex2,s=this.vertex3,u=(l.vx-n.vx)*(s.vy-n.vy)-(l.vy-n.vy)*(s.vx-n.vx);return e<=0?u>=0:u<0},load:function(e,n,l,s,u){return l=this.vertex1.load(e,n,l,s,u),l=this.vertex2.load(e,n,l,s,u),l=this.vertex3.load(e,n,l,s,u),l},transformCoordinatesLocal:function(e,n,l,s){return this.vertex1.transformCoordinatesLocal(e,n,l,s),this.vertex2.transformCoordinatesLocal(e,n,l,s),this.vertex3.transformCoordinatesLocal(e,n,l,s),this},updateBounds:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3,s=this.bounds;return s.x=Math.min(e.vx,n.vx,l.vx),s.y=Math.min(e.vy,n.vy,l.vy),s.width=Math.max(e.vx,n.vx,l.vx)-s.x,s.height=Math.max(e.vy,n.vy,l.vy)-s.y,this},isInView:function(e,n,l,s,u,f,d,v,g,y,T){this.update(s,u,f,d,v,g,y,T);var E=this.vertex1,A=this.vertex2,P=this.vertex3;if(E.ta<=0&&A.ta<=0&&P.ta<=0||n&&!this.isCounterClockwise(l))return!1;var w=this.bounds;w.x=Math.min(E.tx,A.tx,P.tx),w.y=Math.min(E.ty,A.ty,P.ty),w.width=Math.max(E.tx,A.tx,P.tx)-w.x,w.height=Math.max(E.ty,A.ty,P.ty)-w.y;var M=e.x+e.width,D=e.y+e.height;return w.width<=0||w.height<=0||e.width<=0||e.height<=0?!1:!(w.right<e.x||w.bottom<e.y||w.x>M||w.y>D)},scrollUV:function(e,n){return this.vertex1.scrollUV(e,n),this.vertex2.scrollUV(e,n),this.vertex3.scrollUV(e,n),this},scaleUV:function(e,n){return this.vertex1.scaleUV(e,n),this.vertex2.scaleUV(e,n),this.vertex3.scaleUV(e,n),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,n,l,s,u,f,d,v){return this.vertex1.update(n,l,s,u,f,d,v,e),this.vertex2.update(n,l,s,u,f,d,v,e),this.vertex3.update(n,l,s,u,f,d,v,e),this},translate:function(e,n){n===void 0&&(n=0);var l=this.vertex1,s=this.vertex2,u=this.vertex3;return l.x+=e,l.y+=n,s.x+=e,s.y+=n,u.x+=e,u.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(e){var n=this.getInCenter();this.translate(e-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var n=this.getInCenter();this.translate(0,e-n.y)}},alpha:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.alpha+n.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=r},48803:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),m=t(95540),o=t(37867),a=t(25836),r=t(39318),e=new a,n=new a,l=new o,s=function(u){var f=m(u,"mesh"),d=m(u,"texture",null),v=m(u,"frame"),g=m(u,"width",1),y=m(u,"height",g),T=m(u,"widthSegments",1),E=m(u,"heightSegments",T),A=m(u,"x",0),P=m(u,"y",0),w=m(u,"z",0),M=m(u,"rotateX",0),D=m(u,"rotateY",0),F=m(u,"rotateZ",0),L=m(u,"zIsUp",!0),O=m(u,"isOrtho",f?f.dirtyCache[11]:!1),B=m(u,"colors",[16777215]),U=m(u,"alphas",[1]),W=m(u,"tile",!1),H=m(u,"flipY",!1),Y=m(u,"width",null),G={faces:[],verts:[]};e.set(A,P,w),n.set(M,D,F),l.fromRotationXYTranslation(n,e,L);var X;if(!d&&f)d=f.texture,v||(X=f.frame);else if(f&&typeof d=="string")d=f.scene.sys.textures.get(d);else if(!d)return G;X||(X=d.get(v)),!Y&&O&&d&&f&&(g=X.width/f.height,y=X.height/f.height);var V=g/2,b=y/2,z=Math.floor(T),$=Math.floor(E),Q=z+1,Z=$+1,q=g/z,j=y/$,k=[],_=[],et,it,st=0,nt=1,ut=0,ft=1;X&&(st=X.u0,nt=X.u1,H?(ut=X.v1,ft=X.v0):(ut=X.v0,ft=X.v1));var ot=nt-st,rt=ft-ut;for(it=0;it<Z;it++){var lt=it*j-b;for(et=0;et<Q;et++){var dt=et*q-V;_.push(dt,-lt);var xt=st+ot*(et/z),yt=ut+rt*(it/$);k.push(xt,yt)}}Array.isArray(B)||(B=[B]),Array.isArray(U)||(U=[U]);var Ct=0,St=0;for(it=0;it<$;it++)for(et=0;et<z;et++){var Lt=(et+Q*it)*2,zt=(et+Q*(it+1))*2,qt=(et+1+Q*(it+1))*2,Nt=(et+1+Q*it)*2,Zt=B[St],he=U[Ct],jt=new r(_[Lt],_[Lt+1],0,k[Lt],k[Lt+1],Zt,he).transformMat4(l),Se=new r(_[zt],_[zt+1],0,k[zt],k[zt+1],Zt,he).transformMat4(l),pi=new r(_[Nt],_[Nt+1],0,k[Nt],k[Nt+1],Zt,he).transformMat4(l),Ei=new r(_[zt],_[zt+1],0,k[zt],k[zt+1],Zt,he).transformMat4(l),Di=new r(_[qt],_[qt+1],0,k[qt],k[qt+1],Zt,he).transformMat4(l),Oi=new r(_[Nt],_[Nt+1],0,k[Nt],k[Nt+1],Zt,he).transformMat4(l);W&&(jt.setUVs(st,ft),Se.setUVs(st,ut),pi.setUVs(nt,ft),Ei.setUVs(st,ut),Di.setUVs(nt,ut),Oi.setUVs(nt,ft)),St++,St===B.length&&(St=0),Ct++,Ct===U.length&&(Ct=0),G.verts.push(jt,Se,pi,Ei,Di,Oi),G.faces.push(new h(jt,Se,pi),new h(Ei,Di,Oi))}return f&&(f.faces=f.faces.concat(G.faces),f.vertices=f.vertices.concat(G.verts)),G};c.exports=s},34684:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),m=t(37867),o=t(25836),a=t(39318),r=new o,e=new o,n=new m,l=function(s,u,f,d,v,g,y,T,E,A){f===void 0&&(f=1),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=0),A===void 0&&(A=!0);var P={faces:[],verts:[]},w=s.materials;r.set(d,v,g),e.set(y,T,E),n.fromRotationXYTranslation(e,r,A);for(var M=0;M<s.models.length;M++)for(var D=s.models[M],F=D.vertices,L=D.textureCoords,O=D.faces,B=0;B<O.length;B++){var U=O[B],W=U.vertices[0],H=U.vertices[1],Y=U.vertices[2],G=F[W.vertexIndex],X=F[H.vertexIndex],V=F[Y.vertexIndex],b=W.textureCoordsIndex,z=H.textureCoordsIndex,$=Y.textureCoordsIndex,Q=b===-1?{u:0,v:1}:L[b],Z=z===-1?{u:0,v:0}:L[z],q=$===-1?{u:1,v:1}:L[$],j=16777215;U.material!==""&&w[U.material]&&(j=w[U.material]);var k=new a(G.x*f,G.y*f,G.z*f,Q.u,Q.v,j).transformMat4(n),_=new a(X.x*f,X.y*f,X.z*f,Z.u,Z.v,j).transformMat4(n),et=new a(V.x*f,V.y*f,V.z*f,q.u,q.v,j).transformMat4(n);P.verts.push(k,_,et),P.faces.push(new h(k,_,et))}return u&&(u.faces=u.faces.concat(P.faces),u.vertices=u.vertices.concat(P.verts)),P};c.exports=l},92515:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),m=t(39318),o=function(a,r,e,n,l,s,u,f){if(n===void 0&&(n=!1),s===void 0&&(s=16777215),u===void 0&&(u=1),f===void 0&&(f=!1),a.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},v,g,y,T,E,A,P,w,M,D,F,L=n?3:2,O=Array.isArray(s),B=Array.isArray(u);if(Array.isArray(e)&&e.length>0)for(v=0;v<e.length;v++){var U=e[v],W=e[v]*2,H=e[v]*L;g=a[H],y=a[H+1],T=n?a[H+2]:0,E=r[W],A=r[W+1],f&&(A=1-A),P=O?s[U]:s,w=B?u[U]:u,M=0,D=0,F=0,l&&(M=l[H],D=l[H+1],F=n?l[H+2]:0),d.vertices.push(new m(g,y,T,E,A,P,w,M,D,F))}else{var Y=0,G=0;for(v=0;v<a.length;v+=L)g=a[v],y=a[v+1],T=n?a[v+2]:0,E=r[Y],A=r[Y+1],P=O?s[G]:s,w=B?u[G]:u,M=0,D=0,F=0,l&&(M=l[v],D=l[v+1],F=n?l[v+2]:0),d.vertices.push(new m(g,y,T,E,A,P,w,M,D,F)),Y+=2,G++}for(v=0;v<d.vertices.length;v+=3){var X=d.vertices[v],V=d.vertices[v+1],b=d.vertices[v+2];d.faces.push(new h(X,V,b))}return d};c.exports=o},85048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",h="",m="";function o(g){var y=g.indexOf("#");return y>-1?g.substring(0,y):g}function a(g){return g.models.length===0&&g.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",g.models[g.models.length-1]}function r(g,y){var T=g.length>=2?g[1]:t;y.models.push({faces:[],name:T,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function e(g){g.length===2&&(h=g[1])}function n(g,y){var T=g.length,E=T>=2?parseFloat(g[1]):0,A=T>=3?parseFloat(g[2]):0,P=T>=4?parseFloat(g[3]):0;a(y).vertices.push({x:E,y:A,z:P})}function l(g,y){var T=g.length,E=T>=2?parseFloat(g[1]):0,A=T>=3?parseFloat(g[2]):0,P=T>=4?parseFloat(g[3]):0;isNaN(E)&&(E=0),isNaN(A)&&(A=0),isNaN(P)&&(P=0),S&&(A=1-A),a(y).textureCoords.push({u:E,v:A,w:P})}function s(g,y){var T=g.length,E=T>=2?parseFloat(g[1]):0,A=T>=3?parseFloat(g[2]):0,P=T>=4?parseFloat(g[3]):0;a(y).vertexNormals.push({x:E,y:A,z:P})}function u(g,y){var T=g.length-1;if(!(T<3)){for(var E={group:h,material:m,vertices:[]},A=0;A<T;A++){var P=g[A+1],w=P.split("/"),M=w.length;if(!(M<1||M>3)){var D=0,F=0,L=0;D=parseInt(w[0],10),M>1&&w[1]!==""&&(F=parseInt(w[1],10)),M>2&&(L=parseInt(w[2],10)),D!==0&&(D<0&&(D=a(y).vertices.length+1+D),F-=1,D-=1,L-=1,E.vertices.push({textureCoordsIndex:F,vertexIndex:D,vertexNormalIndex:L}))}}a(y).faces.push(E)}}function f(g,y){g.length>=2&&y.materialLibraries.push(g[1])}function d(g){g.length>=2&&(m=g[1])}var v=function(g,y){y===void 0&&(y=!0),S=y;var T={materials:{},materialLibraries:[],models:[]};h="",m="";for(var E=g.split(`
`),A=0;A<E.length;A++){var P=o(E[A]),w=P.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":r(w,T);break;case"g":e(w);break;case"v":n(w,T);break;case"vt":l(w,T);break;case"vn":s(w,T);break;case"f":u(w,T);break;case"mtllib":f(w,T);break;case"usemtl":d(w);break}}return T};c.exports=v},61485:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),m=function(o){for(var a={},r=o.split(`
`),e="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var s=l.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{e=s[1];break}case"kd":{var u=Math.floor(s[1]*255),f=s.length>=2?Math.floor(s[2]*255):u,d=s.length>=3?Math.floor(s[3]*255):u;a[e]=h(u,f,d);break}}}}return a};c.exports=m},92570:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a,r;if(m===void 0&&o===void 0){var e=t.getInCenter();a=e.x,r=e.y}var n=Math.cos(h),l=Math.sin(h),s=t.vertex1,u=t.vertex2,f=t.vertex3,d=s.x-a,v=s.y-r;s.set(d*n-v*l+a,d*l+v*n+r),d=u.x-a,v=u.y-r,u.set(d*n-v*l+a,d*l+v*n+r),d=f.x-a,v=f.y-r,f.set(d*n-v*l+a,d*l+v*n+r)};c.exports=S},39318:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(70554),o=t(25836),a=new h({Extends:o,initialize:function(e,n,l,s,u,f,d,v,g,y){f===void 0&&(f=16777215),d===void 0&&(d=1),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),o.call(this,e,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=g,this.nz=y,this.u=s,this.v=u,this.color=f,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=u},setUVs:function(r,e){return this.u=r,this.v=e,this.tu=r,this.tv=e,this},scrollUV:function(r,e){return this.tu+=r,this.tv+=e,this},scaleUV:function(r,e){return this.tu=this.u*r,this.tv=this.v*e,this},transformCoordinatesLocal:function(r,e,n,l){var s=this.x,u=this.y,f=this.z,d=r.val,v=s*d[0]+u*d[4]+f*d[8]+d[12],g=s*d[1]+u*d[5]+f*d[9]+d[13],y=s*d[2]+u*d[6]+f*d[10]+d[14],T=s*d[3]+u*d[7]+f*d[11]+d[15];this.vx=v/T*e,this.vy=-(g/T)*n,l<=0?this.vz=y/T:this.vz=-(y/T)},resize:function(r,e,n,l,s,u){return this.x=r,this.y=e,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,s<.5?this.vx+=n*(.5-s):s>.5&&(this.vx-=n*(s-.5)),u<.5?this.vy+=l*(.5-u):u>.5&&(this.vy-=l*(u-.5)),this},update:function(r,e,n,l,s,u,f,d){var v=this.vx*r+this.vy*n+s,g=this.vx*e+this.vy*l+u;return f&&(v=Math.round(v),g=Math.round(g)),this.tx=v,this.ty=g,this.ta=this.alpha*d,this},load:function(r,e,n,l,s){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=s,e[++n]=m.getTintAppendFloatAlpha(this.color,this.ta),n}});c.exports=a},73090:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};c.exports=h},96550:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};c.exports=S},99706:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o){return new h(o.x,o.y)};c.exports=m},68010:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y)};c.exports=S},27814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y};c.exports=S},73565:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};c.exports=S},87555:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){if(a===void 0&&(a=new h),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var r=o.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)a.x=o[0].x,a.y=o[0].y;else{for(var e=0;e<r;e++)a.x+=o[e].x,a.y+=o[e].y;a.x/=r,a.y/=r}return a};c.exports=m},28793:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};c.exports=S},44405:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};c.exports=S},20873:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=function(o,a){a===void 0&&(a=new h);for(var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,s=0;s<o.length;s++){var u=o[s];u.x>r&&(r=u.x),u.x<e&&(e=u.x),u.y>n&&(n=u.y),u.y<l&&(l=u.y)}return a.x=e,a.y=l,a.width=r-e,a.height=n-l,a};c.exports=m},26152:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a,r,e){return r===void 0&&(r=0),e===void 0&&(e=new h),e.x=o.x+(a.x-o.x)*r,e.y=o.y+(a.y-o.y)*r,e};c.exports=m},55767:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};c.exports=S},79432:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){return a===void 0&&(a=new h),a.setTo(-o.x,-o.y)};c.exports=m},2141:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23777),o=new h({initialize:function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.type=m.POINT,this.x=r,this.y=e},setTo:function(a,r){return a===void 0&&(a=0),r===void 0&&(r=a),this.x=a,this.y=r,this}});c.exports=o},72930:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=t(44405),o=function(a,r,e){e===void 0&&(e=new h);var n=a.x*r.x+a.y*r.y,l=n/m(r);return l!==0&&(e.x=l*r.x,e.y=l*r.y),e};c.exports=o},62880:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a,r){r===void 0&&(r=new h);var e=o.x*a.x+o.y*a.y;return e!==0&&(r.x=e*a.x,r.y=e*a.y),r};c.exports=m},15093:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28793),m=function(o,a){if(o.x!==0||o.y!==0){var r=h(o);o.x/=r,o.y/=r}return o.x*=a,o.y*=a,o};c.exports=m},43711:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);h.Ceil=t(96550),h.Clone=t(99706),h.CopyFrom=t(68010),h.Equals=t(27814),h.Floor=t(73565),h.GetCentroid=t(87555),h.GetMagnitude=t(28793),h.GetMagnitudeSq=t(44405),h.GetRectangleFromPoints=t(20873),h.Interpolate=t(26152),h.Invert=t(55767),h.Negative=t(79432),h.Project=t(72930),h.ProjectUnit=t(62880),h.SetMagnitude=t(15093),c.exports=h},12306:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717),m=function(o){return new h(o.points)};c.exports=m},63814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var o=!1,a=-1,r=t.points.length-1;++a<t.points.length;r=a){var e=t.points[a].x,n=t.points[a].y,l=t.points[r].x,s=t.points[r].y;(n<=m&&m<s||s<=m&&m<n)&&h<(l-e)*(m-n)/(s-n)+e&&(o=!o)}return o};c.exports=S},99338:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63814),m=function(o,a){return h(o,a.x,a.y)};c.exports=m},94811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(G,X,V){V=V||2;var b=X&&X.length,z=b?X[0]*V:G.length,$=t(G,0,z,V,!0),Q=[];if(!$||$.next===$.prev)return Q;var Z,q,j,k,_,et,it;if(b&&($=n(G,X,$,V)),G.length>80*V){Z=j=G[0],q=k=G[1];for(var st=V;st<z;st+=V)_=G[st],et=G[st+1],_<Z&&(Z=_),et<q&&(q=et),_>j&&(j=_),et>k&&(k=et);it=Math.max(j-Z,k-q),it=it!==0?32767/it:0}return m($,Q,V,Z,q,it,0),Q}function t(G,X,V,b,z){var $,Q;if(z===Y(G,X,V,b)>0)for($=X;$<V;$+=b)Q=U($,G[$],G[$+1],Q);else for($=V-b;$>=X;$-=b)Q=U($,G[$],G[$+1],Q);return Q&&P(Q,Q.next)&&(W(Q),Q=Q.next),Q}function h(G,X){if(!G)return G;X||(X=G);var V=G,b;do if(b=!1,!V.steiner&&(P(V,V.next)||A(V.prev,V,V.next)===0)){if(W(V),V=X=V.prev,V===V.next)break;b=!0}else V=V.next;while(b||V!==X);return X}function m(G,X,V,b,z,$,Q){if(G){!Q&&$&&d(G,b,z,$);for(var Z=G,q,j;G.prev!==G.next;){if(q=G.prev,j=G.next,$?a(G,b,z,$):o(G)){X.push(q.i/V|0),X.push(G.i/V|0),X.push(j.i/V|0),W(G),G=j.next,Z=j.next;continue}if(G=j,G===Z){Q?Q===1?(G=r(h(G),X,V),m(G,X,V,b,z,$,2)):Q===2&&e(G,X,V,b,z,$):m(h(G),X,V,b,z,$,1);break}}}}function o(G){var X=G.prev,V=G,b=G.next;if(A(X,V,b)>=0)return!1;for(var z=X.x,$=V.x,Q=b.x,Z=X.y,q=V.y,j=b.y,k=z<$?z<Q?z:Q:$<Q?$:Q,_=Z<q?Z<j?Z:j:q<j?q:j,et=z>$?z>Q?z:Q:$>Q?$:Q,it=Z>q?Z>j?Z:j:q>j?q:j,st=b.next;st!==X;){if(st.x>=k&&st.x<=et&&st.y>=_&&st.y<=it&&T(z,Z,$,q,Q,j,st.x,st.y)&&A(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}function a(G,X,V,b){var z=G.prev,$=G,Q=G.next;if(A(z,$,Q)>=0)return!1;for(var Z=z.x,q=$.x,j=Q.x,k=z.y,_=$.y,et=Q.y,it=Z<q?Z<j?Z:j:q<j?q:j,st=k<_?k<et?k:et:_<et?_:et,nt=Z>q?Z>j?Z:j:q>j?q:j,ut=k>_?k>et?k:et:_>et?_:et,ft=g(it,st,X,V,b),ot=g(nt,ut,X,V,b),rt=G.prevZ,lt=G.nextZ;rt&&rt.z>=ft&&lt&&lt.z<=ot;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=ut&&rt!==z&&rt!==Q&&T(Z,k,q,_,j,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0||(rt=rt.prevZ,lt.x>=it&&lt.x<=nt&&lt.y>=st&&lt.y<=ut&&lt!==z&&lt!==Q&&T(Z,k,q,_,j,et,lt.x,lt.y)&&A(lt.prev,lt,lt.next)>=0))return!1;lt=lt.nextZ}for(;rt&&rt.z>=ft;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=ut&&rt!==z&&rt!==Q&&T(Z,k,q,_,j,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0)return!1;rt=rt.prevZ}for(;lt&&lt.z<=ot;){if(lt.x>=it&&lt.x<=nt&&lt.y>=st&&lt.y<=ut&&lt!==z&&lt!==Q&&T(Z,k,q,_,j,et,lt.x,lt.y)&&A(lt.prev,lt,lt.next)>=0)return!1;lt=lt.nextZ}return!0}function r(G,X,V){var b=G;do{var z=b.prev,$=b.next.next;!P(z,$)&&w(z,b,b.next,$)&&L(z,$)&&L($,z)&&(X.push(z.i/V|0),X.push(b.i/V|0),X.push($.i/V|0),W(b),W(b.next),b=G=$),b=b.next}while(b!==G);return h(b)}function e(G,X,V,b,z,$){var Q=G;do{for(var Z=Q.next.next;Z!==Q.prev;){if(Q.i!==Z.i&&E(Q,Z)){var q=B(Q,Z);Q=h(Q,Q.next),q=h(q,q.next),m(Q,X,V,b,z,$,0),m(q,X,V,b,z,$,0);return}Z=Z.next}Q=Q.next}while(Q!==G)}function n(G,X,V,b){var z=[],$,Q,Z,q,j;for($=0,Q=X.length;$<Q;$++)Z=X[$]*b,q=$<Q-1?X[$+1]*b:G.length,j=t(G,Z,q,b,!1),j===j.next&&(j.steiner=!0),z.push(y(j));for(z.sort(l),$=0;$<z.length;$++)V=s(z[$],V);return V}function l(G,X){return G.x-X.x}function s(G,X){var V=u(G,X);if(!V)return X;var b=B(V,G);return h(b,b.next),h(V,V.next)}function u(G,X){var V=X,b=G.x,z=G.y,$=-1/0,Q;do{if(z<=V.y&&z>=V.next.y&&V.next.y!==V.y){var Z=V.x+(z-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Z<=b&&Z>$&&($=Z,Q=V.x<V.next.x?V:V.next,Z===b))return Q}V=V.next}while(V!==X);if(!Q)return null;var q=Q,j=Q.x,k=Q.y,_=1/0,et;V=Q;do b>=V.x&&V.x>=j&&b!==V.x&&T(z<k?b:$,z,j,k,z<k?$:b,z,V.x,V.y)&&(et=Math.abs(z-V.y)/(b-V.x),L(V,G)&&(et<_||et===_&&(V.x>Q.x||V.x===Q.x&&f(Q,V)))&&(Q=V,_=et)),V=V.next;while(V!==q);return Q}function f(G,X){return A(G.prev,G,X.prev)<0&&A(X.next,G,G.next)<0}function d(G,X,V,b){var z=G;do z.z===0&&(z.z=g(z.x,z.y,X,V,b)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==G);z.prevZ.nextZ=null,z.prevZ=null,v(z)}function v(G){var X,V,b,z,$,Q,Z,q,j=1;do{for(V=G,G=null,$=null,Q=0;V;){for(Q++,b=V,Z=0,X=0;X<j&&(Z++,b=b.nextZ,!!b);X++);for(q=j;Z>0||q>0&&b;)Z!==0&&(q===0||!b||V.z<=b.z)?(z=V,V=V.nextZ,Z--):(z=b,b=b.nextZ,q--),$?$.nextZ=z:G=z,z.prevZ=$,$=z;V=b}$.nextZ=null,j*=2}while(Q>1);return G}function g(G,X,V,b,z){return G=(G-V)*z|0,X=(X-b)*z|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,G|X<<1}function y(G){var X=G,V=G;do(X.x<V.x||X.x===V.x&&X.y<V.y)&&(V=X),X=X.next;while(X!==G);return V}function T(G,X,V,b,z,$,Q,Z){return(z-Q)*(X-Z)>=(G-Q)*($-Z)&&(G-Q)*(b-Z)>=(V-Q)*(X-Z)&&(V-Q)*($-Z)>=(z-Q)*(b-Z)}function E(G,X){return G.next.i!==X.i&&G.prev.i!==X.i&&!F(G,X)&&(L(G,X)&&L(X,G)&&O(G,X)&&(A(G.prev,G,X.prev)||A(G,X.prev,X))||P(G,X)&&A(G.prev,G,G.next)>0&&A(X.prev,X,X.next)>0)}function A(G,X,V){return(X.y-G.y)*(V.x-X.x)-(X.x-G.x)*(V.y-X.y)}function P(G,X){return G.x===X.x&&G.y===X.y}function w(G,X,V,b){var z=D(A(G,X,V)),$=D(A(G,X,b)),Q=D(A(V,b,G)),Z=D(A(V,b,X));return!!(z!==$&&Q!==Z||z===0&&M(G,V,X)||$===0&&M(G,b,X)||Q===0&&M(V,G,b)||Z===0&&M(V,X,b))}function M(G,X,V){return X.x<=Math.max(G.x,V.x)&&X.x>=Math.min(G.x,V.x)&&X.y<=Math.max(G.y,V.y)&&X.y>=Math.min(G.y,V.y)}function D(G){return G>0?1:G<0?-1:0}function F(G,X){var V=G;do{if(V.i!==G.i&&V.next.i!==G.i&&V.i!==X.i&&V.next.i!==X.i&&w(V,V.next,G,X))return!0;V=V.next}while(V!==G);return!1}function L(G,X){return A(G.prev,G,G.next)<0?A(G,X,G.next)>=0&&A(G,G.prev,X)>=0:A(G,X,G.prev)<0||A(G,G.next,X)<0}function O(G,X){var V=G,b=!1,z=(G.x+X.x)/2,$=(G.y+X.y)/2;do V.y>$!=V.next.y>$&&V.next.y!==V.y&&z<(V.next.x-V.x)*($-V.y)/(V.next.y-V.y)+V.x&&(b=!b),V=V.next;while(V!==G);return b}function B(G,X){var V=new H(G.i,G.x,G.y),b=new H(X.i,X.x,X.y),z=G.next,$=X.prev;return G.next=X,X.prev=G,V.next=z,z.prev=V,b.next=V,V.prev=b,$.next=b,b.prev=$,b}function U(G,X,V,b){var z=new H(G,X,V);return b?(z.next=b.next,z.prev=b,b.next.prev=z,b.next=z):(z.prev=z,z.next=z),z}function W(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function H(G,X,V){this.i=G,this.x=X,this.y=V,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(G,X,V,b){var z=X&&X.length,$=z?X[0]*V:G.length,Q=Math.abs(Y(G,0,$,V));if(z)for(var Z=0,q=X.length;Z<q;Z++){var j=X[Z]*V,k=Z<q-1?X[Z+1]*V:G.length;Q-=Math.abs(Y(G,j,k,V))}var _=0;for(Z=0;Z<b.length;Z+=3){var et=b[Z]*V,it=b[Z+1]*V,st=b[Z+2]*V;_+=Math.abs((G[et]-G[st])*(G[it+1]-G[et+1])-(G[et]-G[it])*(G[st+1]-G[et+1]))}return Q===0&&_===0?0:Math.abs((_-Q)/Q)};function Y(G,X,V,b){for(var z=0,$=X,Q=V-b;$<V;$+=b)z+=(G[Q]-G[$])*(G[$+1]+G[Q+1]),Q=$;return z}S.flatten=function(G){for(var X=G[0][0].length,V={vertices:[],holes:[],dimensions:X},b=0,z=0;z<G.length;z++){for(var $=0;$<G[z].length;$++)for(var Q=0;Q<X;Q++)V.vertices.push(G[z][$][Q]);z>0&&(b+=G[z-1].length,V.holes.push(b))}return V},c.exports=S},13829:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=function(o,a){a===void 0&&(a=new h);for(var r=1/0,e=1/0,n=-r,l=-e,s,u=0;u<o.points.length;u++)s=o.points[u],r=Math.min(r,s.x),e=Math.min(e,s.y),n=Math.max(n,s.x),l=Math.max(l,s.y);return a.x=r,a.y=e,a.width=n-r,a.height=l-e,a};c.exports=m},26173:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var m=0;m<t.points.length;m++)h.push(t.points[m].x),h.push(t.points[m].y);return h};c.exports=S},9564:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),m=t(23031),o=t(30052),a=function(r,e,n,l){l===void 0&&(l=[]);var s=r.points,u=o(r);!e&&n>0&&(e=u/n);for(var f=0;f<e;f++)for(var d=u*(f/e),v=0,g=0;g<s.length;g++){var y=s[g],T=s[(g+1)%s.length],E=new m(y.x,y.y,T.x,T.y),A=h(E);if(d<v||d>v+A){v+=A;continue}var P=E.getPoint((d-v)/A);l.push(P);break}return l};c.exports=a},30052:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),m=t(23031),o=function(a){for(var r=a.points,e=0,n=0;n<r.length;n++){var l=r[n],s=r[(n+1)%r.length],u=new m(l.x,l.y,s.x,s.y);e+=h(u)}return e};c.exports=o},25717:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(63814),o=t(9564),a=t(23777),r=new h({initialize:function(n){this.type=a.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(e,n){return m(this,e,n)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var n,l=0;l<e.length;l++)n={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(n.x=parseFloat(e[l]),n.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(n.x=e[l][0],n.y=e[l][1]):(n.x=e[l].x,n.y=e[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,n,l,s=0;s<this.points.length-1;s++)n=this.points[s],l=this.points[s+1],e+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],e+=(n.x-l.x)*(l.y+n.y),this.area=-e*.5,this.area},getPoints:function(e,n,l){return o(this,e,n,l)}});c.exports=r},8133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};c.exports=S},29524:c=>{function S(r,e){var n=r.x-e.x,l=r.y-e.y;return n*n+l*l}function t(r,e,n){var l=e.x,s=e.y,u=n.x-l,f=n.y-s;if(u!==0||f!==0){var d=((r.x-l)*u+(r.y-s)*f)/(u*u+f*f);d>1?(l=n.x,s=n.y):d>0&&(l+=u*d,s+=f*d)}return u=r.x-l,f=r.y-s,u*u+f*f}function h(r,e){for(var n=r[0],l=[n],s,u=1,f=r.length;u<f;u++)s=r[u],S(s,n)>e&&(l.push(s),n=s);return n!==s&&l.push(s),l}function m(r,e,n,l,s){for(var u=l,f,d=e+1;d<n;d++){var v=t(r[d],r[e],r[n]);v>u&&(f=d,u=v)}u>l&&(f-e>1&&m(r,e,f,l,s),s.push(r[f]),n-f>1&&m(r,f,n,l,s))}function o(r,e){var n=r.length-1,l=[r[0]];return m(r,0,n,e,l),l.push(r[n]),l}var a=function(r,e,n){e===void 0&&(e=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var s=e*e;n||(l=h(l,s)),r.setTo(o(l,s))}return r};c.exports=a},5469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(h,m){return h[0]=m[0],h[1]=m[1],h},t=function(h){var m,o=[],a=h.points;for(m=0;m<a.length;m++)o.push([a[m].x,a[m].y]);var r=[];for(o.length>0&&r.push(S([0,0],o[0])),m=0;m<o.length-1;m++){var e=o[m],n=o[m+1],l=e[0],s=e[1],u=n[0],f=n[1];r.push([.85*l+.15*u,.85*s+.15*f]),r.push([.15*l+.85*u,.15*s+.85*f])}return o.length>1&&r.push(S([0,0],o[o.length-1])),h.setTo(r)};c.exports=t},24709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var o=t.points,a=0;a<o.length;a++)o[a].x+=h,o[a].y+=m;return t};c.exports=S},58423:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717);h.Clone=t(12306),h.Contains=t(63814),h.ContainsPoint=t(99338),h.Earcut=t(94811),h.GetAABB=t(13829),h.GetNumberArray=t(26173),h.GetPoints=t(9564),h.Perimeter=t(30052),h.Reverse=t(8133),h.Simplify=t(29524),h.Smooth=t(5469),h.Translate=t(24709),c.exports=h},62224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};c.exports=S},98615:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};c.exports=S},31688:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};c.exports=S},67502:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x=h-t.width/2,t.y=m-t.height/2,t};c.exports=S},65085:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=function(o){return new h(o.x,o.y,o.width,o.height)};c.exports=m},37303:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=m&&t.y+t.height>=m};c.exports=S},96553:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37303),m=function(o,a){return h(o,a.x,a.y)};c.exports=m},70273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};c.exports=S},43459:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};c.exports=S},77493:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};c.exports=S},9219:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};c.exports=S},53751:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),m=function(o,a){var r=h(o);return r<h(a)?o.setSize(a.height*r,a.height):o.setSize(a.width,a.width/r),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};c.exports=m},16088:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),m=function(o,a){var r=h(o);return r>h(a)?o.setSize(a.height*r,a.height):o.setSize(a.width,a.width/r),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};c.exports=m},80774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};c.exports=S},83859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};c.exports=S},19217:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=t(36383),o=function(a,r){if(r===void 0&&(r=new h),a.length===0)return r;for(var e=Number.MAX_VALUE,n=Number.MAX_VALUE,l=m.MIN_SAFE_INTEGER,s=m.MIN_SAFE_INTEGER,u,f,d,v=0;v<a.length;v++)u=a[v],Array.isArray(u)?(f=u[0],d=u[1]):(f=u.x,d=u.y),e=Math.min(e,f),n=Math.min(n,d),l=Math.max(l,f),s=Math.max(s,d);return r.x=e,r.y=n,r.width=l-e,r.height=s-n,r};c.exports=o},9477:(c,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=function(o,a,r,e,n){return n===void 0&&(n=new h),n.setTo(Math.min(o,r),Math.min(a,e),Math.abs(o-r),Math.abs(a-e))};c.exports=m},8249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};c.exports=S},27165:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){return a===void 0&&(a=new h),a.x=o.centerX,a.y=o.centerY,a};c.exports=m},20812:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),m=t(2141),o=function(a,r,e){if(e===void 0&&(e=new m),r<=0||r>=1)return e.x=a.x,e.y=a.y,e;var n=h(a)*r;return r>.5?(n-=a.width+a.height,n<=a.width?(e.x=a.right-n,e.y=a.bottom):(e.x=a.x,e.y=a.bottom-(n-a.width))):n<=a.width?(e.x=a.x+n,e.y=a.y):(e.x=a.right,e.y=a.y+(n-a.width)),e};c.exports=o},34819:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20812),m=t(13019),o=function(a,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=m(a)/e);for(var l=0;l<r;l++){var s=l/r;n.push(h(a,s))}return n};c.exports=o},51313:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){return a===void 0&&(a=new h),a.x=o.width,a.y=o.height,a};c.exports=m},86091:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67502),m=function(o,a,r){var e=o.centerX,n=o.centerY;return o.setSize(o.width+a*2,o.height+r*2),h(o,e,n)};c.exports=m},53951:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=t(59996),o=function(a,r,e){return e===void 0&&(e=new h),m(a,r)?(e.x=Math.max(a.x,r.x),e.y=Math.max(a.y,r.y),e.width=Math.min(a.right,r.right)-e.x,e.height=Math.min(a.bottom,r.bottom)-e.y):e.setEmpty(),e};c.exports=o},14649:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),m=t(2141),o=function(a,r,e,n){if(n===void 0&&(n=[]),!r&&!e)return n;r?e=Math.round(h(a)/r):r=h(a)/e;for(var l=a.x,s=a.y,u=0,f=0;f<e;f++)switch(n.push(new m(l,s)),u){case 0:l+=r,l>=a.right&&(u=1,s+=l-a.right,l=a.right);break;case 1:s+=r,s>=a.bottom&&(u=2,l-=s-a.bottom,s=a.bottom);break;case 2:l-=r,l<=a.left&&(u=3,s-=a.left-l,l=a.left);break;case 3:s-=r,s<=a.top&&(u=0,s=a.top);break}return n};c.exports=o},33595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var m=t.x,o=t.right,a=t.y,r=t.bottom,e=0;e<h.length;e++)m=Math.min(m,h[e].x),o=Math.max(o,h[e].x),a=Math.min(a,h[e].y),r=Math.max(r,h[e].y);return t.x=m,t.y=a,t.width=o-m,t.height=r-a,t};c.exports=S},20074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=Math.min(t.x,h.x),o=Math.max(t.right,h.right);t.x=m,t.width=o-m;var a=Math.min(t.y,h.y),r=Math.max(t.bottom,h.bottom);return t.y=a,t.height=r-a,t};c.exports=S},92171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=Math.min(t.x,h),a=Math.max(t.right,h);t.x=o,t.width=a-o;var r=Math.min(t.y,m),e=Math.max(t.bottom,m);return t.y=r,t.height=e-r,t};c.exports=S},42981:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x+=h,t.y+=m,t};c.exports=S},46907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};c.exports=S},60170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};c.exports=S},13019:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};c.exports=S},85133:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=t(39506),o=function(a,r,e){e===void 0&&(e=new h),r=m(r);var n=Math.sin(r),l=Math.cos(r),s=l>0?a.width/2:a.width/-2,u=n>0?a.height/2:a.height/-2;return Math.abs(s*n)<Math.abs(u*l)?u=s*n/l:s=u*l/n,e.x=s+a.centerX,e.y=u+a.centerY,e};c.exports=o},26597:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){return a===void 0&&(a=new h),a.x=o.x+Math.random()*o.width,a.y=o.y+Math.random()*o.height,a};c.exports=m},86470:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),m=t(70273),o=t(2141),a=function(r,e,n){if(n===void 0&&(n=new o),m(r,e))switch(h(0,3)){case 0:n.x=r.x+Math.random()*(e.right-r.x),n.y=r.y+Math.random()*(e.top-r.y);break;case 1:n.x=e.x+Math.random()*(r.right-e.x),n.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:n.x=r.x+Math.random()*(e.x-r.x),n.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(r.right-e.right),n.y=r.y+Math.random()*(e.bottom-r.y);break}return n};c.exports=a},87841:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(37303),o=t(20812),a=t(34819),r=t(23777),e=t(23031),n=t(26597),l=new h({initialize:function(u,f,d,v){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=r.RECTANGLE,this.x=u,this.y=f,this.width=d,this.height=v},contains:function(s,u){return m(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,f){return a(this,s,u,f)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,f,d){return this.x=s,this.y=u,this.width=f,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,u){return u===void 0&&(u=s),this.x=s,this.y=u,this},setSize:function(s,u){return u===void 0&&(u=s),this.width=s,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new e),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new e),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new e),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new e),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});c.exports=l},94845:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width===h.width&&t.height===h.height};c.exports=S},31730:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=h),t.width*=h,t.height*=m,t};c.exports=S},36899:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=function(o,a,r){r===void 0&&(r=new h);var e=Math.min(o.x,a.x),n=Math.min(o.y,a.y),l=Math.max(o.right,a.right)-e,s=Math.max(o.bottom,a.bottom)-n;return r.setTo(e,n,l,s)};c.exports=m},93232:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841);h.Area=t(62224),h.Ceil=t(98615),h.CeilAll=t(31688),h.CenterOn=t(67502),h.Clone=t(65085),h.Contains=t(37303),h.ContainsPoint=t(96553),h.ContainsRect=t(70273),h.CopyFrom=t(43459),h.Decompose=t(77493),h.Equals=t(9219),h.FitInside=t(53751),h.FitOutside=t(16088),h.Floor=t(80774),h.FloorAll=t(83859),h.FromPoints=t(19217),h.FromXY=t(9477),h.GetAspectRatio=t(8249),h.GetCenter=t(27165),h.GetPoint=t(20812),h.GetPoints=t(34819),h.GetSize=t(51313),h.Inflate=t(86091),h.Intersection=t(53951),h.MarchingAnts=t(14649),h.MergePoints=t(33595),h.MergeRect=t(20074),h.MergeXY=t(92171),h.Offset=t(42981),h.OffsetPoint=t(46907),h.Overlaps=t(60170),h.Perimeter=t(13019),h.PerimeterPoint=t(85133),h.Random=t(26597),h.RandomOutside=t(86470),h.SameDimensions=t(94845),h.Scale=t(31730),h.Union=t(36899),c.exports=h},41658:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.x1,m=t.y1,o=t.x2,a=t.y2,r=t.x3,e=t.y3;return Math.abs(((r-h)*(a-m)-(o-h)*(e-m))/2)};c.exports=S},39208:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),m=function(o,a,r){var e=r*(Math.sqrt(3)/2),n=o,l=a,s=o+r/2,u=a+e,f=o-r/2,d=a+e;return new h(n,l,s,u,f,d)};c.exports=m},39545:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94811),m=t(16483),o=function(a,r,e,n,l){r===void 0&&(r=null),e===void 0&&(e=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var s=h(a,r),u,f,d,v,g,y,T,E,A,P=0;P<s.length;P+=3)u=s[P],f=s[P+1],d=s[P+2],v=a[u*2]*e,g=a[u*2+1]*n,y=a[f*2]*e,T=a[f*2+1]*n,E=a[d*2]*e,A=a[d*2+1]*n,l.push(new m(v,g,y,T,E,A));return l};c.exports=o},90301:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),m=function(o,a,r,e){e===void 0&&(e=r);var n=o,l=a,s=o,u=a-e,f=o+r,d=a;return new h(n,l,s,u,f,d)};c.exports=m},23707:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97523),m=t(13584),o=function(a,r,e,n){n===void 0&&(n=h);var l=n(a),s=r-l.x,u=e-l.y;return m(a,s,u)};c.exports=o},97523:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){return a===void 0&&(a=new h),a.x=(o.x1+o.x2+o.x3)/3,a.y=(o.y1+o.y2+o.y3)/3,a};c.exports=m},24951:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099);function m(a,r,e,n){return a*n-r*e}var o=function(a,r){r===void 0&&(r=new h);var e=a.x3,n=a.y3,l=a.x1-e,s=a.y1-n,u=a.x2-e,f=a.y2-n,d=2*m(l,s,u,f),v=m(s,l*l+s*s,f,u*u+f*f),g=m(l,l*l+s*s,u,u*u+f*f);return r.x=e-v/d,r.y=n+g/d,r};c.exports=o},85614:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),m=function(o,a){a===void 0&&(a=new h);var r=o.x1,e=o.y1,n=o.x2,l=o.y2,s=o.x3,u=o.y3,f=n-r,d=l-e,v=s-r,g=u-e,y=f*(r+n)+d*(e+l),T=v*(r+s)+g*(e+u),E=2*(f*(u-l)-d*(s-n)),A,P;if(Math.abs(E)<1e-6){var w=Math.min(r,n,s),M=Math.min(e,l,u);A=(Math.max(r,n,s)-w)*.5,P=(Math.max(e,l,u)-M)*.5,a.x=w+A,a.y=M+P,a.radius=Math.sqrt(A*A+P*P)}else a.x=(g*y-d*T)/E,a.y=(f*T-v*y)/E,A=a.x-r,P=a.y-e,a.radius=Math.sqrt(A*A+P*P);return a};c.exports=m},74422:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),m=function(o){return new h(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};c.exports=m},10690:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=t.x3-t.x1,a=t.y3-t.y1,r=t.x2-t.x1,e=t.y2-t.y1,n=h-t.x1,l=m-t.y1,s=o*o+a*a,u=o*r+a*e,f=o*n+a*l,d=r*r+e*e,v=r*n+e*l,g=s*d-u*u,y=g===0?0:1/g,T=(d*f-u*v)*y,E=(s*v-u*f)*y;return T>=0&&E>=0&&T+E<1};c.exports=S},48653:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m===void 0&&(m=!1),o===void 0&&(o=[]);for(var a=t.x3-t.x1,r=t.y3-t.y1,e=t.x2-t.x1,n=t.y2-t.y1,l=a*a+r*r,s=a*e+r*n,u=e*e+n*n,f=l*u-s*s,d=f===0?0:1/f,v,g,y,T,E,A,P=t.x1,w=t.y1,M=0;M<h.length&&(y=h[M].x-P,T=h[M].y-w,E=a*y+r*T,A=e*y+n*T,v=(u*E-s*A)*d,g=(l*A-s*E)*d,!(v>=0&&g>=0&&v+g<1&&(o.push({x:h[M].x,y:h[M].y}),m)));M++);return o};c.exports=S},96006:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10690),m=function(o,a){return h(o,a.x,a.y)};c.exports=m},71326:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};c.exports=S},71694:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};c.exports=S},33522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};c.exports=S},20437:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=t(35001),o=function(a,r,e){e===void 0&&(e=new h);var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();if(r<=0||r>=1)return e.x=n.x1,e.y=n.y1,e;var u=m(n),f=m(l),d=m(s),v=u+f+d,g=v*r,y=0;return g<u?(y=g/u,e.x=n.x1+(n.x2-n.x1)*y,e.y=n.y1+(n.y2-n.y1)*y):g>u+f?(g-=u+f,y=g/d,e.x=s.x1+(s.x2-s.x1)*y,e.y=s.y1+(s.y2-s.y1)*y):(g-=u,y=g/f,e.x=l.x1+(l.x2-l.x1)*y,e.y=l.y1+(l.y2-l.y1)*y),e};c.exports=o},80672:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),m=t(2141),o=function(a,r,e,n){n===void 0&&(n=[]);var l=a.getLineA(),s=a.getLineB(),u=a.getLineC(),f=h(l),d=h(s),v=h(u),g=f+d+v;!r&&e>0&&(r=g/e);for(var y=0;y<r;y++){var T=g*(y/r),E=0,A=new m;T<f?(E=T/f,A.x=l.x1+(l.x2-l.x1)*E,A.y=l.y1+(l.y2-l.y1)*E):T>f+d?(T-=f+d,E=T/v,A.x=u.x1+(u.x2-u.x1)*E,A.y=u.y1+(u.y2-u.y1)*E):(T-=f,E=T/d,A.x=s.x1+(s.x2-s.x1)*E,A.y=s.y1+(s.y2-s.y1)*E),n.push(A)}return n};c.exports=o},39757:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);function m(a,r,e,n){var l=a-e,s=r-n,u=l*l+s*s;return Math.sqrt(u)}var o=function(a,r){r===void 0&&(r=new h);var e=a.x1,n=a.y1,l=a.x2,s=a.y2,u=a.x3,f=a.y3,d=m(u,f,l,s),v=m(e,n,u,f),g=m(l,s,e,n),y=d+v+g;return r.x=(e*d+l*v+u*g)/y,r.y=(n*d+s*v+f*g)/y,r};c.exports=o},13584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x1+=h,t.y1+=m,t.x2+=h,t.y2+=m,t.x3+=h,t.y3+=m,t};c.exports=S},1376:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),m=function(o){var a=o.getLineA(),r=o.getLineB(),e=o.getLineC();return h(a)+h(r)+h(e)};c.exports=m},90260:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),m=function(o,a){a===void 0&&(a=new h);var r=o.x2-o.x1,e=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,s=Math.random(),u=Math.random();return s+u>=1&&(s=1-s,u=1-u),a.x=o.x1+(r*s+n*u),a.y=o.y1+(e*s+l*u),a};c.exports=m},52172:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),m=t(39757),o=function(a,r){var e=m(a);return h(a,e.x,e.y,r)};c.exports=o},49907:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),m=function(o,a,r){return h(o,a.x,a.y,r)};c.exports=m},99614:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=Math.cos(o),r=Math.sin(o),e=t.x1-h,n=t.y1-m;return t.x1=e*a-n*r+h,t.y1=e*r+n*a+m,e=t.x2-h,n=t.y2-m,t.x2=e*a-n*r+h,t.y2=e*r+n*a+m,e=t.x3-h,n=t.y3-m,t.x3=e*a-n*r+h,t.y3=e*r+n*a+m,t};c.exports=S},16483:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(10690),o=t(20437),a=t(80672),r=t(23777),e=t(23031),n=t(90260),l=new h({initialize:function(u,f,d,v,g,y){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),this.type=r.TRIANGLE,this.x1=u,this.y1=f,this.x2=d,this.y2=v,this.x3=g,this.y3=y},contains:function(s,u){return m(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,f){return a(this,s,u,f)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,f,d,v,g){return s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),this.x1=s,this.y1=u,this.x2=f,this.y2=d,this.x3=v,this.y3=g,this},getLineA:function(s){return s===void 0&&(s=new e),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new e),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new e),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}}});c.exports=l},84435:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483);h.Area=t(41658),h.BuildEquilateral=t(39208),h.BuildFromPolygon=t(39545),h.BuildRight=t(90301),h.CenterOn=t(23707),h.Centroid=t(97523),h.CircumCenter=t(24951),h.CircumCircle=t(85614),h.Clone=t(74422),h.Contains=t(10690),h.ContainsArray=t(48653),h.ContainsPoint=t(96006),h.CopyFrom=t(71326),h.Decompose=t(71694),h.Equals=t(33522),h.GetPoint=t(20437),h.GetPoints=t(80672),h.InCenter=t(39757),h.Perimeter=t(1376),h.Offset=t(13584),h.Random=t(90260),h.Rotate=t(52172),h.RotateAroundPoint=t(49907),h.RotateAroundXY=t(99614),c.exports=h},74457:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};c.exports=S},84409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return function(m,o,a,r){var e=t.getPixelAlpha(o,a,r.texture.key,r.frame.name);return e&&e>=h}};c.exports=S},7003:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(93301),o=t(50792),a=t(8214),r=t(8443),e=t(78970),n=t(85098),l=t(42515),s=t(36210),u=t(61340),f=t(85955),d=new h({initialize:function(g,y){this.game=g,this.scaleManager,this.canvas,this.config=y,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=y.inputKeyboard?new e(this):null,this.mouse=y.inputMouse?new n(this):null,this.touch=y.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=y.inputActivePointers;for(var T=0;T<=this.pointersTotal;T++){var E=new l(this,T);E.smoothFactor=y.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=y.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],g.events.once(r.BOOT,this.boot,this)},boot:function(){var v=this.game,g=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(a.MANAGER_BOOT),g.on(r.PRE_RENDER,this.preRender,this),g.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(a.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(a.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,g=this.game.loop.delta,y=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(a.MANAGER_UPDATE);for(var T=0;T<y.length;T++){var E=y[T];if(E.sys.input&&E.sys.input.updatePoll(v,g)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v,g){(g||v&&v.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var g=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var y=0;y<v;y++){var T=this.pointers.length,E=new l(this,T);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,g.push(E)}return g},updateInputPlugins:function(v,g){var y=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var T=0;T<y.length;T++){var E=y[T];if(E.sys.input){var A=E.sys.input.update(v,g);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var g=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<g.length;A++){var P=g[A];if(!P.active){P.touchstart(E,v),this.activePointer=P,y.push(P);break}}this.updateInputPlugins(m.TOUCH_START,y)},onTouchMove:function(v){for(var g=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<g.length;A++){var P=g[A];if(P.active&&P.identifier===E.identifier){var w=document.elementFromPoint(E.clientX,E.clientY),M=w===this.canvas;!this.isOver&&M?this.setCanvasOver(v):this.isOver&&!M&&this.setCanvasOut(v),this.isOver&&(P.touchmove(E,v),this.activePointer=P,y.push(P));break}}this.updateInputPlugins(m.TOUCH_MOVE,y)},onTouchEnd:function(v){for(var g=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<g.length;A++){var P=g[A];if(P.active&&P.identifier===E.identifier){P.touchend(E,v),y.push(P);break}}this.updateInputPlugins(m.TOUCH_END,y)},onTouchCancel:function(v){for(var g=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<g.length;A++){var P=g[A];if(P.active&&P.identifier===E.identifier){P.touchcancel(E,v),y.push(P);break}}this.updateInputPlugins(m.TOUCH_CANCEL,y)},onMouseDown:function(v){var g=this.mousePointer;g.down(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var g=this.mousePointer;g.move(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var g=this.mousePointer;g.up(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var g=this.mousePointer;g.wheel(v),this.activePointer=g,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var g=this.mouse.locked;this.mousePointer.locked=g,this.events.emit(a.POINTERLOCK_CHANGE,v,g)},inputCandidate:function(v,g){var y=v.input;if(!y||!y.enabled||!v.willRender(g))return!1;var T=!0,E=v.parentContainer;if(E)do{if(!E.willRender(g)){T=!1;break}E=E.parentContainer}while(E);return T},hitTest:function(v,g,y,T){T===void 0&&(T=this._tempHitTest);var E=this._tempPoint,A=y.scrollX,P=y.scrollY;T.length=0;var w=v.x,M=v.y;y.getWorldPoint(w,M,E),v.worldX=E.x,v.worldY=E.y;for(var D={x:0,y:0},F=this._tempMatrix,L=this._tempMatrix2,O=0;O<g.length;O++){var B=g[O];if(this.inputCandidate(B,y)){var U=E.x+A*B.scrollFactorX-A,W=E.y+P*B.scrollFactorY-P;B.parentContainer?(B.getWorldTransformMatrix(F,L),F.applyInverse(U,W,D)):f(U,W,B.x,B.y,B.rotation,B.scaleX,B.scaleY,D),this.pointWithinHitArea(B,D.x,D.y)&&T.push(B)}}return T},pointWithinHitArea:function(v,g,y){g+=v.displayOriginX,y+=v.displayOriginY;var T=v.input;return T&&T.hitAreaCallback(T.hitArea,g,y,v)?(T.localX=g,T.localY=y,!0):!1},pointWithinInteractiveObject:function(v,g,y){return v.hitArea?(g+=v.gameObject.displayOriginX,y+=v.gameObject.displayOriginY,v.localX=g,v.localY=y,v.hitAreaCallback(v.hitArea,g,y,v)):!1},transformPointer:function(v,g,y,T){var E=v.position,A=v.prevPosition;A.x=E.x,A.y=E.y;var P=this.scaleManager.transformX(g),w=this.scaleManager.transformY(y),M=v.smoothFactor;!T||M===0?(E.x=P,E.y=w):(E.x=P*M+A.x*(1-M),E.y=w*M+A.y*(1-M))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=d},48205:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),m=t(87902),o=t(83419),a=t(93301),r=t(74457),e=t(84409),n=t(20339),l=t(8497),s=t(81154),u=t(8214),f=t(50792),d=t(95540),v=t(23777),g=t(89639),y=t(41212),T=t(37277),E=t(87841),A=t(37303),P=t(44594),w=t(16483),M=t(10690),D=new o({Extends:f,initialize:function(L){f.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var O={cancelled:!1};this._eventContainer={stopPropagation:function(){O.cancelled=!0}},this._eventData=O,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(P.BOOT,this.boot,this),L.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var F=this.systems.events;F.on(P.TRANSITION_START,this.transitionIn,this),F.on(P.TRANSITION_OUT,this.transitionOut,this),F.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(P.PRE_UPDATE,this.preUpdate,this),F.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(F){this.isActive()&&this.emit(u.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(u.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var F=this._pendingRemoval,L=this._pendingInsertion,O=F.length,B=L.length;if(!(O===0&&B===0)){for(var U=this._list,W=0;W<O;W++){var H=F[W],Y=U.indexOf(H);Y>-1&&(U.splice(Y,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=U.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(F){this.manager&&this.manager.setCursor(F)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(F,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,F,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var O,B=this.manager,U=B.pointers;for(O=0;O<U.length;O++)U[O].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(O=0;O<U.length;O++){var Y=0,G=U[O];this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(G),this.getDragState(G)===2&&this.processDragThresholdEvent(G,F),Y>0&&(H=!0)}return H},update:function(F,L){if(!this.isActive())return!1;for(var O=!1,B=0;B<L.length;B++){var U=0,W=L[B];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case a.MOUSE_DOWN:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverOutEvents(W);break;case a.MOUSE_UP:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOverOutEvents(W);break;case a.TOUCH_START:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverEvents(W);break;case a.TOUCH_END:case a.TOUCH_CANCEL:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOutEvents(W);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:U+=this.processDragMoveEvent(W),U+=this.processMoveEvents(W),U+=this.processOverOutEvents(W);break;case a.MOUSE_WHEEL:U+=this.processWheelEvent(W);break}U>0&&(O=!0)}return this._updatedThisFrame=!0,O},clear:function(F,L){L===void 0&&(L=!1),this.disable(F);var O=F.input;O&&(this.removeDebug(F),this.manager.resetCursor(O),O.gameObject=void 0,O.target=void 0,O.hitArea=void 0,O.hitAreaCallback=void 0,O.callbackContext=void 0,F.input=null),L||this.queueForRemoval(F);var B=this._draggable.indexOf(F);return B>-1&&this._draggable.splice(B,1),F},disable:function(F,L){L===void 0&&(L=!1);var O=F.input;O&&(O.enabled=!1,O.dragState=0);for(var B=this._drag,U=this._over,W=this.manager,H=0,Y;H<W.pointers.length;H++)Y=B[H].indexOf(F),Y>-1&&B[H].splice(Y,1),Y=U[H].indexOf(F),Y>-1&&U[H].splice(Y,1);return L&&this.resetCursor(),this},enable:function(F,L,O,B){return B===void 0&&(B=!1),F.input?F.input.enabled=!0:this.setHitArea(F,L,O),F.input&&B&&!F.input.dropZone&&(F.input.dropZone=B),this},hitTestPointer:function(F){for(var L=this.cameras.getCamerasBelowPointer(F),O=0;O<L.length;O++){for(var B=L[O],U=this.manager.hitTest(F,this._list,B),W=0;W<U.length;W++){var H=U[W];H.input.dropZone&&this._tempZones.push(H)}if(U.length>0)return F.camera=B,U}return F.camera=L[0],[]},processDownEvents:function(F){var L=0,O=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=0;W<O.length;W++){var H=O[W];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(u.GAMEOBJECT_POINTER_DOWN,F,H.input.localX,H.input.localY,U),B.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_DOWN,F,H,U),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&(F.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,F,O):this.emit(u.POINTER_DOWN_OUTSIDE,F)),L},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,L){this._dragState[F.id]=L},processDragThresholdEvent:function(F,L){var O=!1,B=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&n(F.x,F.y,F.downX,F.downY)>=U||B>0&&L>=F.downTime+B)&&(O=!0),O)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var O=0;O<L.length;O++){var B=L[O],U=B.input;U.dragState=2,U.dragStartX=B.x,U.dragStartY=B.y,U.dragStartXGlobal=F.worldX,U.dragStartYGlobal=F.worldY,U.dragStartCamera=F.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,B.emit(u.GAMEOBJECT_DRAG_START,F,U.dragX,U.dragY),this.emit(u.DRAG_START,F,B)}return this.setDragState(F,4),L.length},processDragDownEvent:function(F){var L=this._temp;if(this._draggable.length===0||L.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var O=[],B=0;B<L.length;B++){var U=L[B];U.input.draggable&&U.input.dragState===0&&O.push(U)}return O.length===0?(this.setDragState(F,0),0):(O.length>1&&(this.sortGameObjects(O,F),this.topOnly&&O.splice(1)),this._drag[F.id]=O,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;var L=this._tempZones,O=this._drag[F.id];O.length>1&&(O=O.slice(0));for(var B=0;B<O.length;B++){var U=O[B],W=U.input,H=W.target;if(H){var Y=L.indexOf(H);Y===0?(U.emit(u.GAMEOBJECT_DRAG_OVER,F,H),this.emit(u.DRAG_OVER,F,U,H)):Y>0?(U.emit(u.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(u.DRAG_LEAVE,F,U,H),W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H)):(U.emit(u.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(u.DRAG_LEAVE,F,U,H),L[0]?(W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H)):W.target=null)}else!H&&L[0]&&(W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H));var G,X,V=F.positionToCamera(W.dragStartCamera);if(!U.parentContainer)G=V.x-W.dragX,X=V.y-W.dragY;else{var b=V.x-W.dragStartXGlobal,z=V.y-W.dragStartYGlobal,$=U.getParentRotation(),Q=b*Math.cos($)+z*Math.sin($),Z=z*Math.cos($)-b*Math.sin($);Q*=1/U.parentContainer.scaleX,Z*=1/U.parentContainer.scaleY,G=Q+W.dragStartX,X=Z+W.dragStartY}U.emit(u.GAMEOBJECT_DRAG,F,G,X),this.emit(u.DRAG,F,U,G,X)}return O.length},processDragUpEvent:function(F){var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var O=0;O<L.length;O++){var B=L[O],U=B.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-B.displayOriginX,U.dragY=U.localY-B.displayOriginY,U.dragStartCamera=null;var W=!1,H=U.target;H&&(B.emit(u.GAMEOBJECT_DROP,F,H),this.emit(u.DROP,F,B,H),U.target=null,W=!0),B.input&&B.input.enabled&&(B.emit(u.GAMEOBJECT_DRAG_END,F,U.dragX,U.dragY,W),this.emit(u.DRAG_END,F,B,W))}}return this.setDragState(F,0),L.splice(0),0},processMoveEvents:function(F){var L=0,O=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=0;W<O.length;W++){var H=O[W];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(u.GAMEOBJECT_POINTER_MOVE,F,H.input.localX,H.input.localY,U),B.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_MOVE,F,H,U),B.cancelled||!this.isActive()||this.topOnly)))break}return!B.cancelled&&this.isActive()&&this.emit(u.POINTER_MOVE,F,O),L},processWheelEvent:function(F){var L=0,O=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=F.deltaX,H=F.deltaY,Y=F.deltaZ,G=0;G<O.length;G++){var X=O[G];if(!(!X.input||!X.input.enabled)&&(L++,X.emit(u.GAMEOBJECT_POINTER_WHEEL,F,W,H,Y,U),B.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_WHEEL,F,X,W,H,Y,U),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&this.emit(u.POINTER_WHEEL,F,O,W,H,Y),L},processOverEvents:function(F){var L=this._temp,O=0,B=L.length,U=[];if(B>0){var W=this.manager,H=this._eventData,Y=this._eventContainer;H.cancelled=!1;for(var G=0;G<B;G++){var X=L[G];if(!(!X.input||!X.input.enabled)&&(U.push(X),W.setCursor(X.input),X.emit(u.GAMEOBJECT_POINTER_OVER,F,X.input.localX,X.input.localY,Y),O++,H.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,X,Y),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,U)}return this._over[F.id]=U,O},processOutEvents:function(F){var L=this._over[F.id],O=0,B=L.length;if(B>0){var U=this.manager,W=this._eventData,H=this._eventContainer;W.cancelled=!1,this.sortGameObjects(L,F);for(var Y=0;Y<B;Y++){var G=L[Y];if(G=L[Y],!(!G.input||!G.input.enabled)&&(U.resetCursor(G.input),G.emit(u.GAMEOBJECT_POINTER_OUT,F,H),O++,W.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,G,H),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(u.POINTER_OUT,F,L),this._over[F.id]=[]}return O},processOverOutEvents:function(F){var L=this._temp,O,B,U=[],W=[],H=[],Y=this._over[F.id],G=this._drag[F.id],X=this.manager;for(O=0;O<Y.length;O++)B=Y[O],L.indexOf(B)===-1&&G.indexOf(B)===-1?U.push(B):H.push(B);for(O=0;O<L.length;O++)B=L[O],Y.indexOf(B)===-1&&W.push(B);var V=U.length,b=0,z=this._eventData,$=this._eventContainer;if(z.cancelled=!1,V>0){for(this.sortGameObjects(U,F),O=0;O<V&&(B=U[O],!(!(!B.input||!B.input.enabled)&&(X.resetCursor(B.input),B.emit(u.GAMEOBJECT_POINTER_OUT,F,$),b++,z.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,B,$),z.cancelled||!this.isActive()))));O++);(!z.cancelled||this.isActive())&&this.emit(u.POINTER_OUT,F,U)}if(V=W.length,z.cancelled=!1,V>0){for(this.sortGameObjects(W,F),O=0;O<V&&(B=W[O],!(!(!B.input||!B.input.enabled)&&(X.setCursor(B.input),B.emit(u.GAMEOBJECT_POINTER_OVER,F,B.input.localX,B.input.localY,$),b++,z.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,B,$),z.cancelled||!this.isActive()))));O++);!z.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,W)}return Y=H.concat(W),this._over[F.id]=this.sortGameObjects(Y,F),b},processUpEvents:function(F){var L=this._temp,O=this._eventData,B=this._eventContainer;O.cancelled=!1;for(var U=0;U<L.length;U++){var W=L[U];if(!(!W.input||!W.input.enabled)&&(W.emit(u.GAMEOBJECT_POINTER_UP,F,W.input.localX,W.input.localY,B),O.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(u.GAMEOBJECT_UP,F,W,B),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&(F.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,F,L):this.emit(u.POINTER_UP_OUTSIDE,F)),L.length},forceDownState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_DOWN,u.GAMEOBJECT_DOWN,!1)},forceUpState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_UP,u.GAMEOBJECT_UP,!1)},forceOverState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OVER,u.GAMEOBJECT_OVER,!0)},forceOutState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OUT,u.GAMEOBJECT_OUT,!1)},forceState:function(F,L,O,B,U){var W=this._eventData,H=this._eventContainer;W.cancelled=!1,L.input&&L.input.enabled&&(L.emit(O,F,L.input.localX,L.input.localY,H),U&&this.setCursor(L.input),!W.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(B,F,L,H))},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,L){L===void 0&&(L=!0),Array.isArray(F)||(F=[F]);for(var O=0;O<F.length;O++){var B=F[O];B.input.draggable=L;var U=this._draggable.indexOf(B);L&&U===-1?this._draggable.push(B):!L&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var L=this.systems.textures;return e(L,F)},setHitArea:function(F,L,O){if(L===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var B=!1,U=!1,W=!1,H=!1,Y=!1,G=!0;if(y(L)&&Object.keys(L).length){var X=L,V=F.some(function(Z){return Z.hasOwnProperty("faces")});if(!V){L=d(X,"hitArea",null),O=d(X,"hitAreaCallback",null),Y=d(X,"pixelPerfect",!1);var b=d(X,"alphaTolerance",1);Y&&(L={},O=this.makePixelPerfect(b))}B=d(X,"draggable",!1),U=d(X,"dropZone",!1),W=d(X,"cursor",!1),H=d(X,"useHandCursor",!1),(!L||!O)&&(this.setHitAreaFromTexture(F),G=!1)}else typeof L=="function"&&!O&&(O=L,L={});for(var z=0;z<F.length;z++){var $=F[z];if(Y&&$.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Q=$.input?$.input:r($,L,O);Q.customHitArea=G,Q.dropZone=U,Q.cursor=H?"pointer":W,$.input=Q,B&&this.setDraggable($),this.queueForInsertion($)}return this},setHitAreaCircle:function(F,L,O,B,U){U===void 0&&(U=m);var W=new h(L,O,B);return this.setHitArea(F,W,U)},setHitAreaEllipse:function(F,L,O,B,U,W){W===void 0&&(W=s);var H=new l(L,O,B,U);return this.setHitArea(F,H,W)},setHitAreaFromTexture:function(F,L){L===void 0&&(L=A),Array.isArray(F)||(F=[F]);for(var O=0;O<F.length;O++){var B=F[O],U=B.frame,W=0,H=0;if(B.width?(W=B.width,H=B.height):U&&(W=U.realWidth,H=U.realHeight),B.type==="Container"&&(W===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&H!==0&&(B.input=r(B,new E(0,0,W,H),L),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(F,L,O,B,U,W){W===void 0&&(W=A);var H=new E(L,O,B,U);return this.setHitArea(F,H,W)},setHitAreaTriangle:function(F,L,O,B,U,W,H,Y){Y===void 0&&(Y=M);var G=new w(L,O,B,U,W,H);return this.setHitArea(F,G,Y)},enableDebug:function(F,L){L===void 0&&(L=65280);var O=F.input;if(!O||!O.hitArea)return this;var B=O.hitArea,U=B.type,W=O.hitAreaDebug,H=this.systems.add,Y=this.systems.updateList;W&&(Y.remove(W),W.destroy(),W=null);var G=0,X=0;switch(U){case v.CIRCLE:W=H.arc(0,0,B.radius),G=B.x-B.radius,X=B.y-B.radius;break;case v.ELLIPSE:W=H.ellipse(0,0,B.width,B.height),G=B.x-B.width/2,X=B.y-B.height/2;break;case v.LINE:W=H.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case v.POLYGON:W=H.polygon(0,0,B.points);break;case v.RECTANGLE:W=H.rectangle(0,0,B.width,B.height),G=B.x,X=B.y;break;case v.TRIANGLE:W=H.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return W&&(W.isFilled=!1,W.strokeColor=L,W.preUpdate=function(){W.setVisible(F.visible),W.setStrokeStyle(1/F.scale,W.strokeColor),W.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var V=F.x,b=F.y,z=F.rotation,$=F.scaleX,Q=F.scaleY;if(F.parentContainer){var Z=F.getWorldTransformMatrix();V=Z.tx,b=Z.ty,z=Z.rotation,$=Z.scaleX,Q=Z.scaleY}W.setRotation(z),W.setScale($,Q),W.setPosition(V+G*$,b+X*Q),W.setScrollFactor(F.scrollFactorX,F.scrollFactorY),W.setDepth(F.depth)},Y.add(W),O.hitAreaDebug=W),this},removeDebug:function(F){var L=F.input;if(L&&L.hitAreaDebug){var O=L.hitAreaDebug;O.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,L){if(F.length<2||!L.camera)return F;var O=L.camera.renderList;return F.sort(function(B,U){var W=Math.max(O.indexOf(B),0),H=Math.max(O.indexOf(U),0);return H-W})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,L){if(!F.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(F);if(F.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-F.parentContainer.getIndex(F);if(F.parentContainer===L)return-1;if(L.parentContainer===F)return 1;for(var O=F.getIndexList(),B=L.getIndexList(),U=Math.min(O.length,B.length),W=0;W<U;W++){var H=O[W],Y=B[W];if(H!==Y)return Y-H}return B.length-O.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var O=this.systems.events;O.off(P.TRANSITION_START,this.transitionIn,this),O.off(P.TRANSITION_OUT,this.transitionOut,this),O.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),O.off(P.PRE_UPDATE,this.preUpdate,this),L.events.off(u.GAME_OUT,this.onGameOut,this),L.events.off(u.GAME_OVER,this.onGameOver,this),O.off(P.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,L=0;L<F.length;L++)F[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",D,"input"),c.exports=D},89639:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),m={},o={};o.register=function(a,r,e,n,l){m[a]={plugin:r,mapping:e,settingsKey:n,configKey:l}},o.getPlugin=function(a){return m[a]},o.install=function(a){var r=a.scene.sys,e=r.settings.input,n=r.game.config;for(var l in m){var s=m[l].plugin,u=m[l].mapping,f=m[l].settingsKey,d=m[l].configKey;h(e,f,n[d])&&(a[u]=new s(a))}},o.remove=function(a){m.hasOwnProperty(a)&&delete m[a]},c.exports=o},42515:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31040),m=t(83419),o=t(20339),a=t(43855),r=t(47235),e=t(26099),n=t(25892),l=new m({initialize:function(u,f){this.manager=u,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var u=s.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(s,u){return s.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var s=this.position.x,u=this.position.y,f=this.midPoint.x,d=this.midPoint.y;if(!(s===f&&u===d)){var v=r(this.motionFactor,f,s),g=r(this.motionFactor,d,u);a(v,s,.1)&&(v=s),a(g,u,.1)&&(g=u),this.midPoint.set(v,g);var y=s-v,T=u-g;this.velocity.set(y,T),this.angle=h(v,g,s,u),this.distance=Math.sqrt(y*y+T*T)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,u){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,u){this.event=u,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,u){s===void 0&&(s=10),u===void 0&&(u=[]);for(var f=this.prevPosition.x,d=this.prevPosition.y,v=this.position.x,g=this.position.y,y=0;y<s;y++){var T=1/s*y;u[y]={x:r(T,f,v),y:r(T,d,g)}}return u},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=l},93301:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=S},7179:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},85375:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},39843:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},23388:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},16133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},27829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},53904:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},56058:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},2642:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},88171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},36147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},71692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},96149:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},81285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},74048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},21322:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},49378:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},86754:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},86433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},60709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},24081:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},11172:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},18907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},95579:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},35368:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},26972:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},47078:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},73802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},56718:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},25936:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},27503:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},50852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},96438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},59152:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},47777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},27957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},19444:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},54251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},18667:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},27192:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},24652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},45132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},44512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},15757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},41637:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},93802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},8214:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r){this.pad=a,this.events=a.events,this.index=r,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=m},28884:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(92734),o=new h({initialize:function(r,e){this.pad=r,this.events=r.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var r=this.pad,e=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,r,this,a),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,e,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,r,this,a),this.pad.emit(m.GAMEPAD_BUTTON_UP,e,a,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=o},99125:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97421),m=t(28884),o=t(83419),a=t(50792),r=t(26099),e=new o({Extends:a,initialize:function(l,s){a.call(this),this.manager=l,this.pad=s,this.id=s.id,this.index=s.index;for(var u=[],f=0;f<s.buttons.length;f++)u.push(new m(this,f));this.buttons=u;var d=[];for(f=0;f<s.axes.length;f++)d.push(new h(this,f));this.axes=d,this.vibration=s.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:v,this._LCRight=u[15]?u[15]:v,this._LCTop=u[12]?u[12]:v,this._LCBottom=u[13]?u[13]:v,this._RCLeft=u[2]?u[2]:v,this._RCRight=u[1]?u[1]:v,this._RCTop=u[3]?u[3]:v,this._RCBottom=u[0]?u[0]:v,this._FBLeftTop=u[4]?u[4]:v,this._FBLeftBottom=u[6]?u[6]:v,this._FBRightTop=u[5]?u[5]:v,this._FBRightBottom=u[7]?u[7]:v;var g={value:0};this._HAxisLeft=d[0]?d[0]:g,this._VAxisLeft=d[1]?d[1]:g,this._HAxisRight=d[2]?d[2]:g,this._VAxisRight=d[3]?d[3]:g,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,s=this.buttons,u=n.buttons,f=s.length;for(l=0;l<f;l++)s[l].update(u[l].value);var d=this.axes,v=n.axes;for(f=d.length,l=0;l<f;l++)d[l].update(v[l]);f>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),f>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=e},56654:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50792),o=t(92734),a=t(99125),r=t(35154),e=t(89639),n=t(8214),l=new h({Extends:m,initialize:function(u){m.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(n.BOOT,this.boot,this),u.pluginEvents.on(n.START,this.start,this)},boot:function(){var s=this.scene.sys.game,u=this.settings.input,f=s.config;this.enabled=r(u,"gamepad",f.inputGamepad)&&s.device.input.gamepads,this.target=r(u,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,u=this.target,f=function(d){d.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(d))};this.onGamepadHandler=f,u.addEventListener("gamepadconnected",f,!1),u.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var u=this.gamepads,f=0;f<s.length;f++){var d=s[f];if(d){var v=d.id,g=d.index,y=u[g];if(y)y.id!==v?(y.destroy(),u[g]=new a(this,d)):y.update(d);else{var T=new a(this,d);u[g]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var s=[],u=this.gamepads,f=0;f<u.length;f++)u[f]&&s.push(u[f]);return s},getPad:function(s){for(var u=this.gamepads,f=0;f<u.length;f++)if(u[f]&&u[f].index===s)return u[f]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var u=this.queue.splice(0,s),f=0;f<s;f++){var d=u[f],v=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(o.CONNECTED,v,d):d.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,v,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),c.exports=l},89651:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},7629:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},42206:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},86544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},94784:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},14325:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},92734:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93301),m=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=m(!1,o,h),c.exports=o},78970:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),m=t(83419),o=t(8443),a=t(8214),r=t(46032),e=t(29747),n=new m({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(a.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(a.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=r[f.trim().toUpperCase()]),s.indexOf(f)===-1&&s.push(f)}this.preventDefault=s.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=r[f.toUpperCase()]),h(s,f)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=n},28846:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50792),o=t(95922),a=t(8443),r=t(35154),e=t(8214),n=t(89639),l=t(30472),s=t(46032),u=t(87960),f=t(74600),d=t(44594),v=t(56583),g=new h({Extends:m,initialize:function(T){m.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(e.BOOT,this.boot,this),T.pluginEvents.on(e.START,this.start,this)},boot:function(){var y=this.settings.input;this.enabled=r(y,"keyboard",!0);var T=r(y,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(y){return this.manager.addCapture(y),this},removeCapture:function(y){return this.manager.removeCapture(y),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(y,T,E){T===void 0&&(T=!0),E===void 0&&(E=!1);var A={};if(typeof y=="string"){y=y.split(",");for(var P=0;P<y.length;P++){var w=y[P].trim();w&&(A[w]=this.addKey(w,T,E))}}else for(var M in y)A[M]=this.addKey(y[M],T,E);return A},addKey:function(y,T,E){T===void 0&&(T=!0),E===void 0&&(E=!1);var A=this.keys;if(y instanceof l){var P=A.indexOf(y);return P>-1?A[P]=y:A[y.keyCode]=y,T&&this.addCapture(y.keyCode),y.setEmitOnRepeat(E),y}return typeof y=="string"&&(y=s[y.toUpperCase()]),A[y]||(A[y]=new l(this,y),T&&this.addCapture(y),A[y].setEmitOnRepeat(E)),A[y]},removeKey:function(y,T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);var A=this.keys,P;if(y instanceof l){var w=A.indexOf(y);w>-1&&(P=this.keys[w],this.keys[w]=void 0)}else typeof y=="string"&&(y=s[y.toUpperCase()]);return A[y]&&(P=A[y],A[y]=void 0),P&&(P.plugin=null,E&&this.removeCapture(P.keyCode),T&&P.destroy()),this},removeAllKeys:function(y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);for(var E=this.keys,A=0;A<E.length;A++){var P=E[A];P&&(E[A]=void 0,T&&this.removeCapture(P.keyCode),y&&P.destroy())}return this},createCombo:function(y,T){return new u(this,y,T)},checkDown:function(y,T){if(T===void 0&&(T=0),this.enabled&&y.isDown){var E=v(this.time-y.timeDown,T);if(E>y._tick)return y._tick=E,!0}return!1},update:function(){var y=this.manager.queue,T=y.length;if(!(!this.isActive()||T===0))for(var E=this.keys,A=0;A<T;A++){var P=y[A],w=P.keyCode,M=E[w],D=!1;P.cancelled===void 0&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),P.cancelled!==-1&&(w===this.prevCode&&P.timeStamp===this.prevTime&&P.type===this.prevType||(this.prevCode=w,this.prevTime=P.timeStamp,this.prevType=P.type,P.type==="keydown"?(M&&(D=M.isDown,M.onDown(P)),!P.cancelled&&(!M||!D)&&(f[w]&&this.emit(o.KEY_DOWN+f[w],P),P.cancelled||this.emit(o.ANY_KEY_DOWN,P))):(M&&M.onUp(P),P.cancelled||(f[w]&&this.emit(o.KEY_UP+f[w],P),P.cancelled||this.emit(o.ANY_KEY_UP,P))),P.cancelled===1&&(P.cancelled=0)))}},resetKeys:function(){for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",g,"keyboard","keyboard","inputKeyboard"),c.exports=g},66970:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};c.exports=S},87960:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95922),o=t(95540),a=t(68769),r=t(92803),e=new h({initialize:function(l,s,u){if(u===void 0&&(u={}),s.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<s.length;f++){var d=s[f];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(u,"resetOnWrongKey",!0),this.maxKeyDelay=o(u,"maxKeyDelay",0),this.resetOnMatch=o(u,"resetOnMatch",!1),this.deleteOnMatch=o(u,"deleteOnMatch",!1);var v=this,g=function(y){if(!(v.matched||!v.enabled)){var T=a(y,v);T&&(v.manager.emit(m.COMBO_MATCH,v,y),v.resetOnMatch?r(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=g,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=e},68769:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66970),m=function(o,a){if(a.matched)return!0;var r=!1,e=!1;if(o.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var n=a.timeLastMatched+a.maxKeyDelay;o.timeStamp<=n&&(e=!0,r=h(o,a))}else e=!0,r=h(o,a);return!e&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=o.timeStamp,a.matched=!0,a.timeMatched=o.timeStamp),r};c.exports=m},92803:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};c.exports=S},92612:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},23345:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},21957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},44743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},3771:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},46358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},75674:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},95922:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var m=t.plugin.game.loop.time-t.timeDown;return t.isDown&&m<h};c.exports=S},90229:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};c.exports=S},38796:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};c.exports=S},30472:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50792),o=t(95922),a=new h({Extends:m,initialize:function(e,n){m.call(this),this.plugin=e,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=a},46032:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=S},74600:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46032),m={};for(var o in h)m[h[o]]=o;c.exports=m},41170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var m=t.plugin.game.loop.time-t.timeUp;return t.isUp&&m<h};c.exports=S},85098:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(89357),o=t(8214),a=t(29747),r=new h({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var n=this,l=this.manager,s=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(d),n.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){u&&window.focus(),!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(d),n.preventDefaultDown&&d.target===s&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&l&&l.enabled&&d.target!==s&&l.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(d),n.preventDefaultUp&&d.target===s&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&l&&l.enabled&&d.target!==s&&l.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(d),n.preventDefaultWheel&&d.target===s&&d.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(d){var v=n.target;n.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,l.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},87078:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(85098)}},36210:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(8214),o=t(29747),a=new h({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,e.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var e=this,n=this.manager,l=n.canvas,s=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchMove(v),e.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){s&&window.focus(),!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchStart(v),e.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchEnd(v),e.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchCancel(v),e.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&e.enabled&&n&&n.enabled&&n.onTouchCancel(v)};var u=this.capture,f={passive:!0},d={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,u?d:f),r.addEventListener("touchmove",this.onTouchMove,u?d:f),r.addEventListener("touchend",this.onTouchEnd,u?d:f),r.addEventListener("touchcancel",this.onTouchCancel,u?d:f),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=a},95618:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(36210)}},41299:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(54899),a=t(95540),r=t(98356),e=t(3374),n=t(84376),l=t(92638),s=new h({initialize:function(f,d){if(this.loader=f,this.cache=a(d,"cache",!1),this.type=a(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(d,"key",!1);var v=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var g=a(d,"url");g===void 0?g=f.path+v+"."+a(d,"extension",""):typeof g=="string"&&!g.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(g=f.path+g),this.url=g,this.src="",this.xhrSettings=l(a(d,"responseType",void 0)),a(d,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,a(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof g=="string"&&g.indexOf("data:")===0,this.retryAttempts=a(d,"maxRetries",f.maxRetries)},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===m.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=m.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(u,f){var d=u.responseURL&&this.loader.localSchemes.some(function(y){return u.responseURL.indexOf(y)===0}),v=d&&f.target.status===0,g=!(f.target&&f.target.status!==200)||v;u.readyState===4&&u.status>=400&&u.status<=599&&(g=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,g)},onBase64Load:function(u){this.xhrLoader=u,this.state=m.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(u){if(this.state!==m.FILE_PENDING_DESTROY){u===void 0&&(u=this.data);var f=this.key,d=this.type;this.loader.emit(o.FILE_COMPLETE,f,d,u),this.loader.emit(o.FILE_KEY_COMPLETE+d+"-"+f,f,d,u),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(u,f,d){if(typeof URL=="function")u.src=URL.createObjectURL(f);else{var v=new FileReader;v.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(f.type||d)+";base64,"+v.result.split(",")[1]},v.onerror=u.onerror,v.readAsDataURL(f)}},s.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},c.exports=s},74099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(h){for(var m in S)h[m]=S[m]},register:function(h,m){S[h]=m},destroy:function(){S={}}};c.exports=t},98356:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};c.exports=S},74261:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(35072),a=t(50792),r=t(54899),e=t(74099),n=t(95540),l=t(35154),s=t(41212),u=t(37277),f=t(44594),d=t(92638),v=new h({Extends:a,initialize:function(y){a.call(this);var T=y.sys.game.config,E=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(E,"baseURL",T.loaderBaseURL)),this.setPath(n(E,"path",T.loaderPath)),this.setPrefix(n(E,"prefix",T.loaderPrefix)),this.maxParallelDownloads=n(E,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=d(n(E,"responseType",T.loaderResponseType),n(E,"async",T.loaderAsync),n(E,"user",T.loaderUser),n(E,"password",T.loaderPassword),n(E,"timeout",T.loaderTimeout),n(E,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=n(E,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=n(E,"imageLoadType",T.loaderImageLoadType),this.localSchemes=n(E,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(E,"maxRetries",T.loaderMaxRetries),y.sys.events.once(f.BOOT,this.boot,this),y.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(g){return g===void 0&&(g=""),g!==""&&g.substr(-1)!=="/"&&(g=g.concat("/")),this.baseURL=g,this},setPath:function(g){return g===void 0&&(g=""),g!==""&&g.substr(-1)!=="/"&&(g=g.concat("/")),this.path=g,this},setPrefix:function(g){return g===void 0&&(g=""),this.prefix=g,this},setCORS:function(g){return this.crossOrigin=g,this},addFile:function(g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++){var T=g[y];this.keyExists(T)||(this.list.set(T),this.emit(r.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(g){var y=g.hasCacheConflict();return y||this.list.iterate(function(T){if(T.type===g.type&&T.key===g.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===g.type&&T.key===g.key)return y=!0,!1}),this.queue.iterate(function(T){if(T.type===g.type&&T.key===g.key)return y=!0,!1})),y},addPack:function(g,y){if(typeof y=="string"){var T=l(g,y);T&&(g={packKey:T})}var E=0,A=this.baseURL,P=this.path,w=this.prefix;for(var M in g)if(Object.prototype.hasOwnProperty.call(g,M)){var D=g[M],F=n(D,"baseURL",A),L=n(D,"path",P),O=n(D,"prefix",w),B=n(D,"files",null),U=n(D,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(F),this.setPath(L),this.setPrefix(O);for(var W=0;W<B.length;W++){var H=B[W],Y=H.hasOwnProperty("type")?H.type:U;this[Y]&&(this[Y](H),E++)}}}return this.setBaseURL(A),this.setPath(P),this.setPrefix(w),E>0},removePack:function(g,y){var T=this.systems.anims,E=this.cacheManager,A=this.textureManager,P={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},w;if(s(g))w=g;else if(w=E.json.get(g),!w){console.warn("Asset Pack not found in JSON cache:",g);return}y&&(w={_:w[y]});for(var M in w){var D=w[M],F=n(D,"prefix",""),L=n(D,"files"),O=n(D,"defaultType");if(Array.isArray(L))for(var B=0;B<L.length;B++){var U=L[B],W=U.hasOwnProperty("type")?U.type:O;if(!W){console.warn("No type:",U);continue}var H=F+U.key;if(W==="animation"&&T.remove(H),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(A.remove(H),!P[W]))){if(W==="pack"){this.removePack(H,U.dataKey);continue}if(W==="spine"){var Y=E.custom.spine.get(H);if(!Y)continue;var G=Y.prefix===void 0?"":Y.prefix;E.custom.spine.remove(H);var X=E.custom.spineTextures.get(H);if(!X)continue;E.custom.spineTextures.remove(H);for(var V=0;V<X.pages.length;V++){var b=X.pages[V],z=G+b.name,$=H+":"+z;A.exists($)?A.remove($):A.remove(z)}}var Q=P[W];if(Q!==null){if(!Q){console.warn("Unknown type:",W);continue}var Z=E[Q];Z.remove(H)}}}}},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(g){if((g.state===m.FILE_POPULATED||g.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(g),this.list.delete(g),g.crossOrigin||(g.crossOrigin=this.crossOrigin),g.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(g,y){this.inflight&&(this.inflight.delete(g),this.updateProgress(),y?(this.totalComplete++,this.queue.set(g),this.emit(r.FILE_LOAD,g),g.onProcess()):(this.totalFailed++,this._deleteQueue.set(g),this.emit(r.FILE_LOAD_ERROR,g),this.fileProcessComplete(g)))},fileProcessComplete:function(g){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(g.state===m.FILE_ERRORED?g.multiFile&&g.multiFile.onFileFailed(g):g.state===m.FILE_COMPLETE&&(g.multiFile?g.multiFile.isReadyToProcess()&&(g.multiFile.addToCache(),g.multiFile.pendingDestroy()):(g.addToCache(),g.pendingDestroy())),this.queue.delete(g),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(g){this._deleteQueue.set(g)},saveJSON:function(g,y){return this.save(JSON.stringify(g),y)},save:function(g,y,T){y===void 0&&(y="file.json"),T===void 0&&(T="application/json");var E=new Blob([g],{type:T}),A=URL.createObjectURL(E),P=document.createElement("a");return P.download=y,P.textContent="Download "+y,P.href=A,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var g=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(n(y,"baseURL",g.loaderBaseURL)),this.setPath(n(y,"path",g.loaderPath)),this.setPrefix(n(y,"prefix",g.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",v,"load"),c.exports=v},3374:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),m=t(92638),o=function(a,r){var e=a===void 0?m():h({},a);if(r)for(var n in r)r[n]!==void 0&&(e[n]=r[n]);return e};c.exports=o},26430:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(54899),a=new h({initialize:function(e,n,l,s){var u=[];s.forEach(function(v){v&&u.push(v)}),this.loader=e,this.type=n,this.key=l;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=u,this.state=m.FILE_PENDING,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var d=0;d<u.length;d++)u[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var e=this.files.indexOf(r);e!==-1&&this.pending--},onFileFailed:function(r){var e=this.files.indexOf(r);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var r=this.key,e=this.type;this.loader.emit(o.FILE_COMPLETE,r,e),this.loader.emit(o.FILE_KEY_COMPLETE+e+"-"+r,r,e),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=a},84376:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3374),m=function(o,a){var r=h(a,o.xhrSettings);if(o.base64){var e=o.url.split(";base64,").pop()||o.url.split(",").pop(),n={responseText:atob(e)};o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,r.async,r.user,r.password),l.responseType=o.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var s in r.headers)l.setRequestHeader(s,r.headers[s]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};c.exports=m},92638:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a,r){return t===void 0&&(t=""),h===void 0&&(h=!0),m===void 0&&(m=""),o===void 0&&(o=""),a===void 0&&(a=0),r===void 0&&(r=!1),{responseType:t,async:h,user:m,password:o,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};c.exports=S},23906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=S},42155:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},38991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},27540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},87464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},94486:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},13035:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},38144:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},97520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},85595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},55680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},54899:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(518),a=t(54899),r=new h({Extends:o,initialize:function(n,l,s,u,f){o.call(this,n,l,s,u,f),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(e,n,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new r(this,e[u]));else this.addFile(new r(this,e,n,s,l));return this}),c.exports=r},76272:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(95540),a=t(19550),r=t(41212),e=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,d,v,g,y){var T,E;if(r(f)){var A=f;f=o(A,"key"),T=new a(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new e(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,f,d,g),E=new e(u,f,v,y);T.linkFile?n.call(this,u,"atlasjson",f,[T,E,T.linkFile]):n.call(this,u,"atlasjson",f,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,f),u.addToCache(),this.complete=!0}}});m.register("aseprite",function(s,u,f,d,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,d,v),this.addFile(g.files);return this}),c.exports=l},38734:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(95540),a=t(19550),r=t(41212),e=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,d,v,g,y){var T,E;if(r(f)){var A=f;f=o(A,"key"),T=new a(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new e(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,f,d,g),E=new e(u,f,v,y);T.linkFile?n.call(this,u,"atlasjson",f,[T,E,T.linkFile]):n.call(this,u,"atlasjson",f,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,f),this.complete=!0}}});m.register("atlas",function(s,u,f,d,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,d,v),this.addFile(g.files);return this}),c.exports=l},74599:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(95540),a=t(19550),r=t(41212),e=t(26430),n=t(57318),l=new h({Extends:e,initialize:function(u,f,d,v,g,y){var T,E;if(r(f)){var A=f;f=o(A,"key"),T=new a(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new n(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","xml"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,f,d,g),E=new n(u,f,v,y);T.linkFile?e.call(this,u,"atlasxml",f,[T,E,T.linkFile]):e.call(this,u,"atlasxml",f,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,u.data,f),this.complete=!0}}});m.register("atlasXML",function(s,u,f,d,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,d,v),this.addFile(g.files);return this}),c.exports=l},21097:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(89749),n=t(41212),l=new h({Extends:o,initialize:function(u,f,d,v,g){if(n(f)){var y=f;f=r(y,"key"),v=r(y,"xhrSettings"),g=r(y,"context",g)}var T={type:"audio",cache:u.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:f,url:d.url,xhrSettings:v,config:{context:g}};o.call(this,u,T)},onProcess:function(){this.state=m.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){s.data=u,s.onProcessComplete()},function(u){console.error("Error decoding audio: "+s.key+" - ",u?u.message:null),s.onProcessError()}),this.config.context=null}});l.create=function(s,u,f,d,v){var g=s.systems.game,y=g.config.audio,T=g.device.audio;n(u)&&(f=r(u,"url",[]),d=r(u,"config",{}));var E=l.getAudioURL(g,f);return E?T.webAudio&&!y.disableWebAudio?new l(s,u,E,v,g.sound.context):new e(s,u,E,d):(console.warn('No audio URLs for "%s" can play on this device',u),null)},l.getAudioURL=function(s,u){Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var d=r(u[f],"url",u[f]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var v=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=r(u[f],"type",v?v[1]:"").toLowerCase(),s.device.audio[v])return{url:d,type:v}}return null},a.register("audio",function(s,u,f,d){var v=this.systems.game,g=v.config.audio,y=v.device.audio;if(g.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(s))for(var E=0;E<s.length;E++)T=l.create(this,s[E]),T&&this.addFile(T);else T=l.create(this,s,u,f,d),T&&this.addFile(T);return this}),c.exports=l},89524:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21097),m=t(83419),o=t(74099),a=t(95540),r=t(41212),e=t(518),n=t(26430),l=new m({Extends:n,initialize:function(u,f,d,v,g,y,T){if(r(f)){var E=f;f=a(E,"key"),d=a(E,"jsonURL"),v=a(E,"audioURL"),g=a(E,"audioConfig"),y=a(E,"audioXhrSettings"),T=a(E,"jsonXhrSettings")}var A;if(!v)A=new e(u,f,d,T),n.call(this,u,"audiosprite",f,[A]),this.config.resourceLoad=!0,this.config.audioConfig=g,this.config.audioXhrSettings=y;else{var P=h.create(u,f,v,g,y);P&&(A=new e(u,f,d,T),n.call(this,u,"audiosprite",f,[P,A]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var f=s.data.resources,d=a(this.config,"audioConfig"),v=a(this.config,"audioXhrSettings"),g=h.create(this.loader,s.key,f,d,v);g&&(this.addToMultiFile(g),this.loader.addFile(g))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1];s.addToCache(),u.addToCache(),this.complete=!0}}});o.register("audioSprite",function(s,u,f,d,v,g){var y=this.systems.game,T=y.config.audio,E=y.device.audio;if(T&&T.noAudio||!E.webAudio&&!E.audioData)return this;var A;if(Array.isArray(s))for(var P=0;P<s.length;P++)A=new l(this,s[P]),A.files&&this.addFile(A.files);else A=new l(this,s,u,f,d,v,g),A.files&&this.addFile(A.files);return this})},85722:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v){var g="bin";if(e(u)){var y=u;u=r(y,"key"),f=r(y,"url"),d=r(y,"xhrSettings"),g=r(y,"extension",g),v=r(y,"dataType",v)}var T={type:"binary",cache:s.cacheManager.binary,extension:g,responseType:"arraybuffer",key:u,url:f,xhrSettings:d,config:{dataType:v}};o.call(this,s,T)},onProcess:function(){this.state=m.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(l,s,u,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,f,u));return this}),c.exports=n},97025:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(95540),a=t(19550),r=t(41212),e=t(26430),n=t(21859),l=t(57318),s=new h({Extends:e,initialize:function(f,d,v,g,y,T){var E,A;if(r(d)){var P=d;d=o(P,"key"),E=new a(f,{key:d,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),A=new l(f,{key:d,url:o(P,"fontDataURL"),extension:o(P,"fontDataExtension","xml"),xhrSettings:o(P,"fontDataXhrSettings")})}else E=new a(f,d,v,y),A=new l(f,d,g,T);E.linkFile?e.call(this,f,"bitmapfont",d,[E,A,E.linkFile]):e.call(this,f,"bitmapfont",d,[E,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1];u.addToCache();var d=u.cache.get(u.key),v=n(f.data,u.cache.getFrame(u.key),0,0,d);this.loader.cacheManager.bitmapFont.add(u.key,{data:v,texture:u.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(u,f,d,v,g){var y;if(Array.isArray(u))for(var T=0;T<u.length;T++)y=new s(this,u[T]),this.addFile(y.files);else y=new s(this,u,f,d,v,g),this.addFile(y.files);return this}),c.exports=s},16024:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){var v="css";if(e(u)){var g=u;u=r(g,"key"),f=r(g,"url"),d=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"script",cache:!1,extension:v,responseType:"text",key:u,url:f,xhrSettings:d};o.call(this,s,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),c.exports=n},69559:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38734),m=t(85722),o=t(83419),a=t(74099),r=t(95540),e=t(19550),n=t(41212),l=t(518),s=t(31403),u=t(46975),f=t(59327),d=t(26430),v=t(82038),g=t(55222),y=new o({Extends:d,initialize:function(E,A,P,w){if(P.multiAtlasURL){var M=new l(E,{key:A,url:P.multiAtlasURL,xhrSettings:w,config:P});d.call(this,E,"texture",A,[M])}else{var D=P.textureURL.substr(P.textureURL.length-3);P.type||(P.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var F=new m(E,{key:A,url:P.textureURL,extension:D,xhrSettings:w,config:P});if(P.atlasURL){var L=new l(E,{key:A,url:P.atlasURL,xhrSettings:w,config:P});d.call(this,E,"texture",A,[F,L])}else d.call(this,E,"texture",A,[F])}this.config=P},onFileComplete:function(T){var E=this.files.indexOf(T);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var A=T.data.textures,P=this.config,w=this.loader,M=w.baseURL,D=w.path,F=w.prefix,L=r(P,"multiBaseURL",this.baseURL),O=r(P,"multiPath",this.path),B=r(P,"prefix",this.prefix),U=r(P,"textureXhrSettings");L&&w.setBaseURL(L),O&&w.setPath(O),B&&w.setPrefix(B);for(var W=0;W<A.length;W++){var H=A[W].image,Y="CMA"+this.multiKeyIndex+"_"+H,G=new m(w,Y,H,U);if(this.addToMultiFile(G),w.addFile(G),A[W].normalMap){var X=new m(w,Y,A[W].normalMap,U);X.type="normalMap",G.setLink(X),this.addToMultiFile(X),w.addFile(X)}}w.setBaseURL(M),w.setPath(D),w.setPrefix(F)}}},addToCache:function(){function T(L){console.warn('Compressed Texture Invalid: "'+M.key+'". '+L)}if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,P=this.loader.textureManager,w,M=this.files[0],D=this.files[1];if(E.type==="PVR"?w=v(M.data):E.type==="KTX"&&(w=s(M.data),w||T("KTX file contains unsupported format.")),w&&!g(w)&&(T("Texture dimensions failed verification. Check the texture format specifications for "+E.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!A.supportsCompressedTexture(E.format,w.internalFormat)&&(T("Texture format "+E.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=A.getCompressedTextureName(E.format,w.internalFormat);var F=D&&D.data?D.data:null;P.addCompressedTexture(M.key,w,F)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,E=this.files[0],A=[],P=[],w=[],M=this.loader.systems.renderer,D=this.loader.textureManager,F,L=1;L<this.files.length;L++){var O=this.files[L];if(O.type!=="normalMap")for(var B=O.key.indexOf("_"),U=O.key.substr(B+1),W=O.data,H=0;H<E.data.textures.length;H++){var Y=E.data.textures[H];if(Y.image===U){T.type==="PVR"?F=v(W):T.type==="KTX"&&(F=s(W)),F&&M.supportsCompressedTexture(T.format,F.internalFormat)&&(F.format=M.getCompressedTextureName(T.format,F.internalFormat),P.push(F),A.push(Y),O.linkFile&&w.push(O.linkFile.data));break}}}w.length===0&&(w=void 0),D.addAtlasJSONArray(this.key,P,A,w),this.complete=!0}});a.register("texture",function(T,E,A){var P=this.systems.renderer,w=function(D,F,L,O){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(F)){var U=F;F=r(U,"key"),L=r(U,"url"),O=r(U,"xhrSettings")}var W=!1;for(var H in L)if(P.supportsCompressedTexture(H)){var Y=L[H];typeof Y=="string"?B.textureURL=Y:B=u(Y,B),B.format=H.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",F);else if(B.format==="IMG"){var G,X;B.multiAtlasURL?(X=new f(D,F,B.multiAtlasURL,B.multiPath,B.multiBaseURL,O),G=X.files):B.atlasURL?(X=new h(D,F,B.textureURL,B.atlasURL,O),G=X.files):G=new e(D,F,B.textureURL,O),D.addFile(G)}else{var V=new y(D,F,B,O);D.addFile(V.files)}};if(Array.isArray(T))for(var M=0;M<T.length;M++)w(this,T[M]);else w(this,T,E,A);return this}),c.exports=y},87674:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(98356),n=t(41212),l=new h({Extends:o,initialize:function(u,f,d,v,g,y){var T="ttf";if(n(f)){var E=f;f=r(E,"key"),d=r(E,"url"),v=r(E,"format","truetype"),g=r(E,"descriptors",null),y=r(E,"xhrSettings"),T=r(E,"extension",T)}else v===void 0&&(v="truetype");var A={type:"font",cache:!1,extension:T,responseType:"text",key:f,url:d,xhrSettings:y};o.call(this,u,A),this.data={format:v,descriptors:g},this.state=m.FILE_POPULATED},onProcess:function(){this.state=m.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var s,u=this.key,f="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?s=new FontFace(u,f,this.data.descriptors):s=new FontFace(u,f);var d=this;s.load().then(function(){document.fonts.add(s),document.body.classList.add("fonts-loaded"),d.onProcessComplete()}).catch(function(){console.warn("Font failed to load",f),d.onProcessComplete()})}});a.register("font",function(s,u,f,d,v){if(Array.isArray(s))for(var g=0;g<s.length;g++)this.addFile(new l(this,s[g]));else this.addFile(new l(this,s,u,f,d,v));return this}),c.exports=l},47931:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=t(73894),l=new h({Extends:o,initialize:function(u,f,d,v,g){var y="glsl";if(e(f)){var T=f;f=r(T,"key"),d=r(T,"url"),v=r(T,"shaderType","fragment"),g=r(T,"xhrSettings"),y=r(T,"extension",y)}else v===void 0&&(v="fragment");var E={type:"glsl",cache:u.cacheManager.shader,extension:y,responseType:"text",key:f,url:d,config:{shaderType:v},xhrSettings:g};o.call(this,u,E)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),u=this.extractBlock(s,0);if(u)for(;u;){var f=this.getShaderName(u.header),d=this.getShaderType(u.header),v=this.getShaderUniforms(u.header),g=u.shader;if(this.cache.has(f)){var y=this.cache.get(f);d==="fragment"?y.fragmentSrc=g:y.vertexSrc=g,y.uniforms||(y.uniforms=v)}else d==="fragment"?this.cache.add(f,new n(f,g,"",v)):this.cache.add(f,new n(f,"",g,v));u=this.extractBlock(s,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(s){for(var u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(s){for(var u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var u={},f=0;f<s.length;f++){var d=s[f].trim();if(d.substring(0,8)==="uniform."){var v=d.indexOf(":");if(v){var g=d.substring(8,v);try{u[g]=JSON.parse(d.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+g)}}}}return u},extractBlock:function(s,u){for(var f=-1,d=-1,v=-1,g=!1,y=!1,T=[],E=[],A=u;A<s.length;A++){var P=s[A].trim();if(P==="---")if(f===-1)f=A,g=!0;else if(g)d=A,g=!1,y=!0;else{y=!1;break}else g?T.push(P):y&&(E.push(P),v=A)}return!g&&d!==-1?{header:T,shader:E.join(`
`),offset:v}:null}});a.register("glsl",function(s,u,f,d){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,f,d));return this}),c.exports=l},89749:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(54899),o=t(41299),a=t(95540),r=t(98356),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){if(e(u)){var v=u;u=a(v,"key"),d=a(v,"config",d)}var g={type:"audio",cache:s.cacheManager.audio,extension:f.type,key:u,url:f.url,config:d};o.call(this,s,g),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var s=this.data[l];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var s=l.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<l;s++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+s).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(s=0;s<this.data.length;s++)u=this.data[s],u.src=r(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=n},88470:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){var v="html";if(e(u)){var g=u;u=r(g,"key"),f=r(g,"url"),d=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"text",cache:s.cacheManager.html,extension:v,responseType:"text",key:u,url:f,xhrSettings:d};o.call(this,s,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),c.exports=n},14643:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v,g){d===void 0&&(d=512),v===void 0&&(v=512);var y="html";if(e(u)){var T=u;u=r(T,"key"),f=r(T,"url"),g=r(T,"xhrSettings"),y=r(T,"extension",y),d=r(T,"width",d),v=r(T,"height",v)}var E={type:"html",cache:s.textureManager,extension:y,responseType:"text",key:u,url:f,xhrSettings:g,config:{width:d,height:v}};o.call(this,s,E)},onProcess:function(){this.state=m.FILE_PROCESSING;var l=this.config.width,s=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+s+'px" viewBox="0 0 '+l+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var f=[u.join(`
`)],d=this;try{var v=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=m.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(d.data),d.onProcessError()},o.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(l,s,u,f,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,d));return this}),c.exports=n},19550:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=t(98356),l=new h({Extends:o,initialize:function s(u,f,d,v,g){var y="png",T;if(e(f)){var E=f;f=r(E,"key"),d=r(E,"url"),T=r(E,"normalMap"),v=r(E,"xhrSettings"),y=r(E,"extension",y),g=r(E,"frameConfig")}Array.isArray(d)&&(T=d[1],d=d[0]);var A={type:"image",cache:u.textureManager,extension:y,responseType:"blob",key:f,url:d,xhrSettings:v,config:g};if(o.call(this,u,A),T){var P=new s(u,this.key,T,v,g);P.type="normalMap",this.setLink(P),u.addFile(P)}this.useImageElementLoad=u.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){o.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(s.data),s.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=m.FILE_PROCESSING,s===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=m.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=m.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=m.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(s,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f));return this}),c.exports=l},518:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(35154),n=t(41212),l=new h({Extends:o,initialize:function(u,f,d,v,g){var y="json";if(n(f)){var T=f;f=r(T,"key"),d=r(T,"url"),v=r(T,"xhrSettings"),y=r(T,"extension",y),g=r(T,"dataKey",g)}var E={type:"json",cache:u.cacheManager.json,extension:y,responseType:"text",key:f,url:d,xhrSettings:v,config:g};o.call(this,u,E),n(d)&&(g?this.data=e(d,g):this.data=d,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var u=this.config;typeof u=="string"?this.data=e(s,u,s):this.data=s}this.onProcessComplete()}});a.register("json",function(s,u,f,d){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,d,f));return this}),c.exports=l},59327:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(95540),a=t(19550),r=t(41212),e=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,d,v,g,y,T){if(r(f)){var E=f;f=o(E,"key"),o(E,"url",!1)?d=o(E,"url"):d=o(E,"atlasURL"),y=o(E,"xhrSettings"),v=o(E,"path"),g=o(E,"baseURL"),T=o(E,"textureXhrSettings")}var A=new e(u,f,d,y);n.call(this,u,"multiatlas",f,[A]),this.config.path=v,this.config.baseURL=g,this.config.textureXhrSettings=T},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var f=s.data.textures,d=this.config,v=this.loader,g=v.baseURL,y=v.path,T=v.prefix,E=o(d,"baseURL",this.baseURL),A=o(d,"path",this.path),P=o(d,"prefix",this.prefix),w=o(d,"textureXhrSettings");v.setBaseURL(E),v.setPath(A),v.setPrefix(P);for(var M=0;M<f.length;M++){var D=f[M].image,F="MA"+this.multiKeyIndex+"_"+D,L=new a(v,F,D,w);if(this.addToMultiFile(L),v.addFile(L),f[M].normalMap){var O=new a(v,F,f[M].normalMap,w);O.type="normalMap",L.setLink(O),this.addToMultiFile(O),v.addFile(O)}}v.setBaseURL(g),v.setPath(y),v.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],u=[],f=[],d=[],v=1;v<this.files.length;v++){var g=this.files[v];if(g.type!=="normalMap")for(var y=g.key.indexOf("_"),T=g.key.substr(y+1),E=g.data,A=0;A<s.data.textures.length;A++){var P=s.data.textures[A];if(P.image===T){f.push(E),u.push(P),g.linkFile&&d.push(g.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,u,d),this.complete=!0}}});m.register("multiatlas",function(s,u,f,d,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,d,v),this.addFile(g.files);return this}),c.exports=l},99297:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(95540),a=t(41212),r=t(26430),e=t(34328),n=new h({Extends:r,initialize:function(s,u,f,d){var v="js",g=[];if(a(u)){var y=u;u=o(y,"key"),f=o(y,"url"),d=o(y,"xhrSettings"),v=o(y,"extension",v)}Array.isArray(f)||(f=[f]);for(var T=0;T<f.length;T++){var E=new e(s,{key:u+"_"+T.toString(),url:f[T],extension:v,xhrSettings:d});E.onProcess=function(){this.onProcessComplete()},g.push(E)}r.call(this,s,"scripts",u,g)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var s=this.files[l];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});m.register("scripts",function(l,s,u){var f;if(Array.isArray(l))for(var d=0;d<l.length;d++)f=new n(this,l[d]),this.addFile(f.files);else f=new n(this,l,s,u),this.addFile(f.files);return this}),c.exports=n},41846:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(95540),a=t(41212),r=t(26430),e=t(85048),n=t(61485),l=t(78776),s=new h({Extends:r,initialize:function(f,d,v,g,y,T){var E,A,P=f.cacheManager.obj;if(a(d)){var w=d;d=o(w,"key"),E=new l(f,{key:d,type:"obj",cache:P,url:o(w,"url"),extension:o(w,"extension","obj"),xhrSettings:o(w,"xhrSettings"),config:{flipUV:o(w,"flipUV",y)}}),g=o(w,"matURL"),g&&(A=new l(f,{key:d,type:"mat",cache:P,url:g,extension:o(w,"matExtension","mat"),xhrSettings:o(w,"xhrSettings")}))}else E=new l(f,{key:d,url:v,type:"obj",cache:P,extension:"obj",xhrSettings:T,config:{flipUV:y}}),g&&(A=new l(f,{key:d,url:g,type:"mat",cache:P,extension:"mat",xhrSettings:T}));r.call(this,f,"obj",d,[E,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1],d=e(u.data,u.config.flipUV);f&&(d.materials=n(f.data)),u.cache.add(u.key,d),this.complete=!0}}});m.register("obj",function(u,f,d,v,g){var y;if(Array.isArray(u))for(var T=0;T<u.length;T++)y=new s(this,u[T]),this.addFile(y.files);else y=new s(this,u,f,d,v,g),this.addFile(y.files);return this}),c.exports=s},58610:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(74099),a=t(518),r=new h({Extends:a,initialize:function(n,l,s,u,f){a.call(this,n,l,s,u,f),this.type="packfile"},onProcess:function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(e,n,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new r(this,e[u]));else this.addFile(new r(this,e,n,s,l));return this}),c.exports=r},48988:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v,g){var y="js";if(e(u)){var T=u;u=r(T,"key"),f=r(T,"url"),g=r(T,"xhrSettings"),y=r(T,"extension",y),d=r(T,"start"),v=r(T,"mapping")}var E={type:"plugin",cache:!1,extension:y,responseType:"text",key:u,url:f,xhrSettings:g,config:{start:d,mapping:v}};o.call(this,s,E),typeof f=="function"&&(this.data=f,this.state=m.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=r(s,"start",!1),f=r(s,"mapping",null);if(this.state===m.FILE_POPULATED)l.install(this.key,this.data,u,f);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=l.install(this.key,window[this.key],u,f);(u||f)&&(this.loader.systems[f]=d,this.loader.scene[f]=d)}this.onProcessComplete()}});a.register("plugin",function(l,s,u,f,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,d));return this}),c.exports=n},67397:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v){var g="svg";if(e(u)){var y=u;u=r(y,"key"),f=r(y,"url"),d=r(y,"svgConfig",{}),v=r(y,"xhrSettings"),g=r(y,"extension",g)}var T={type:"svg",cache:s.textureManager,extension:g,responseType:"text",key:u,url:f,xhrSettings:v,config:{width:r(d,"width"),height:r(d,"height"),scale:r(d,"scale")}};o.call(this,s,T)},onProcess:function(){this.state=m.FILE_PROCESSING;var l=this.xhrLoader.responseText,s=[l],u=this.config.width,f=this.config.height,d=this.config.scale;t:if(u&&f||d){var v=null,g=new DOMParser;v=g.parseFromString(l,"text/xml");var y=v.getElementsByTagName("svg")[0],T=y.hasAttribute("viewBox"),E=parseFloat(y.getAttribute("width")),A=parseFloat(y.getAttribute("height"));if(!T&&E&&A)y.setAttribute("viewBox","0  0 "+E+" "+A);else if(T&&!E&&!A){var P=y.getAttribute("viewBox").split(/\s+|,/);E=P[2],A=P[3]}if(d)if(E&&A)u=E*d,f=A*d;else break t;y.setAttribute("width",u.toString()+"px"),y.setAttribute("height",f.toString()+"px"),s=[new XMLSerializer().serializeToString(y)]}try{var w=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var M=this,D=!1;this.data.onload=function(){D||o.revokeObjectURL(M.data),M.onProcessComplete()},this.data.onerror=function(){D?M.onProcessError():(D=!0,o.revokeObjectURL(M.data),M.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},o.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(l,s,u,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u,f));return this}),c.exports=n},88423:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){var v="js";if(e(u)){var g=u;u=r(g,"key"),f=r(g,"url"),d=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"text",extension:v,responseType:"text",key:u,url:f,xhrSettings:d};o.call(this,s,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(l)),this.complete=!0}});a.register("sceneFile",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),c.exports=n},56812:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v,g){var y="js";if(e(u)){var T=u;u=r(T,"key"),f=r(T,"url"),g=r(T,"xhrSettings"),y=r(T,"extension",y),d=r(T,"systemKey"),v=r(T,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:y,responseType:"text",key:u,url:f,xhrSettings:g,config:{systemKey:d,sceneKey:v}};o.call(this,s,E),typeof f=="function"&&(this.data=f,this.state=m.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=this.key,f=r(s,"systemKey",u),d=r(s,"sceneKey",u);this.state===m.FILE_POPULATED?l.installScenePlugin(f,this.data,d,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(l,s,u,f,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,d));return this}),c.exports=n},34328:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v){var g="js";if(e(u)){var y=u;u=r(y,"key"),f=r(y,"url"),d=r(y,"type","script"),v=r(y,"xhrSettings"),g=r(y,"extension",g)}else d===void 0&&(d="script");var T={type:d,cache:!1,extension:g,responseType:"text",key:u,url:f,xhrSettings:v};o.call(this,s,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(l,s,u,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u,f));return this}),c.exports=n},85035:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(74099),a=t(19550),r=new h({Extends:a,initialize:function(n,l,s,u,f){a.call(this,n,l,s,f,u),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(e,n,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new r(this,e[u]));else this.addFile(new r(this,e,n,l,s));return this}),c.exports=r},78776:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){var v="text",g="txt",y=s.cacheManager.text;if(e(u)){var T=u;u=r(T,"key"),f=r(T,"url"),d=r(T,"xhrSettings"),g=r(T,"extension",g),v=r(T,"type",v),y=r(T,"cache",y)}var E={type:v,cache:y,extension:g,responseType:"text",key:u,url:f,xhrSettings:d};o.call(this,s,E)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),c.exports=n},49477:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=t(80341),l=new h({Extends:o,initialize:function(u,f,d,v){var g="csv";if(e(f)){var y=f;f=r(y,"key"),d=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g)}var T={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:g,responseType:"text",key:f,url:d,xhrSettings:v};o.call(this,u,T),this.tilemapFormat=n.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});a.register("tilemapCSV",function(s,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f));return this}),c.exports=l},40807:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(518),a=t(80341),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});m.register("tilemapImpact",function(e,n,l){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new r(this,e[s]));else this.addFile(new r(this,e,n,l));return this}),c.exports=r},56775:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(518),a=t(80341),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});m.register("tilemapTiledJSON",function(e,n,l){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new r(this,e[s]));else this.addFile(new r(this,e,n,l));return this}),c.exports=r},25771:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(74099),o=t(95540),a=t(19550),r=t(41212),e=t(26430),n=t(78776),l=new h({Extends:e,initialize:function(u,f,d,v,g,y){var T,E;if(r(f)){var A=f;f=o(A,"key"),T=new a(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new n(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","txt"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,f,d,g),E=new n(u,f,v,y);T.linkFile?e.call(this,u,"unityatlas",f,[T,E,T.linkFile]):e.call(this,u,"unityatlas",f,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,u.data,f),this.complete=!0}}});m.register("unityAtlas",function(s,u,f,d,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,d,v),this.addFile(g.files);return this}),c.exports=l},33720:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(98356),e=t(95540),n=t(41212),l=new h({Extends:o,initialize:function(u,f,d,v){if(v===void 0&&(v=!1),n(f)){var g=f;f=e(g,"key"),d=e(g,"url",[]),v=e(g,"noAudio",!1)}var y=u.systems.game.device.video.getVideoURL(d);y||console.warn("VideoFile: No supported format for "+f);var T={type:"video",cache:u.cacheManager.video,extension:y.type,key:f,url:y.url,config:{noAudio:v}};o.call(this,u,T)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(s,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f));return this}),c.exports=l},57318:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(23906),o=t(41299),a=t(74099),r=t(95540),e=t(41212),n=t(56836),l=new h({Extends:o,initialize:function(u,f,d,v){var g="xml";if(e(f)){var y=f;f=r(y,"key"),d=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g)}var T={type:"xml",cache:u.cacheManager.xml,extension:g,responseType:"text",key:f,url:d,xhrSettings:v};o.call(this,u,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(s,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f));return this}),c.exports=l},64589:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23906),m=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=m(!1,o,h),c.exports=o},53307:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0,m=0;m<t.length;m++)h+=+t[m];return h/t.length};c.exports=S},85710:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6411),m=function(o,a){return h(o)/h(a)/h(o-a)};c.exports=m},30976:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};c.exports=S},87842:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a){var r=(o-h)*.5,e=(a-m)*.5,n=t*t,l=t*n;return(2*m-2*o+r+e)*l+(-3*m+3*o-2*r-e)*n+r*t+m};c.exports=S},26302:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var o=Math.pow(m,-h);return Math.ceil(t*o)/o};c.exports=S},45319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return Math.max(h,Math.min(m,t))};c.exports=S},39506:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=function(o){return o*h.DEG_TO_RAD};c.exports=m},61241:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.abs(t-h)};c.exports=S},38857:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(37867),a=t(29747),r=new o,e=new m({initialize:function n(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=n.DefaultOrder),this._x=l,this._y=s,this._z=u,this._order=f,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,s,u){return u===void 0&&(u=this._order),this._x=n,this._y=l,this._z=s,this._order=u,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,s){return l===void 0&&(l=this._order),s===void 0&&(s=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,s)},setFromRotationMatrix:function(n,l,s){l===void 0&&(l=this._order),s===void 0&&(s=!1);var u=n.val,f=u[0],d=u[4],v=u[8],g=u[1],y=u[5],T=u[9],E=u[2],A=u[6],P=u[10],w=0,M=0,D=0,F=.99999;switch(l){case"XYZ":{M=Math.asin(h(v,-1,1)),Math.abs(v)<F?(w=Math.atan2(-T,P),D=Math.atan2(-d,f)):w=Math.atan2(A,y);break}case"YXZ":{w=Math.asin(-h(T,-1,1)),Math.abs(T)<F?(M=Math.atan2(v,P),D=Math.atan2(g,y)):M=Math.atan2(-E,f);break}case"ZXY":{w=Math.asin(h(A,-1,1)),Math.abs(A)<F?(M=Math.atan2(-E,P),D=Math.atan2(-d,y)):D=Math.atan2(g,f);break}case"ZYX":{M=Math.asin(-h(E,-1,1)),Math.abs(E)<F?(w=Math.atan2(A,P),D=Math.atan2(g,f)):D=Math.atan2(-d,y);break}case"YZX":{D=Math.asin(h(g,-1,1)),Math.abs(g)<F?(w=Math.atan2(-T,y),M=Math.atan2(-E,f)):M=Math.atan2(v,P);break}case"XZY":{D=Math.asin(-h(d,-1,1)),Math.abs(d)<F?(w=Math.atan2(A,y),M=Math.atan2(v,f)):w=Math.atan2(-T,P);break}}return this._x=w,this._y=M,this._z=D,this._order=l,s&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",c.exports=e},6411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};c.exports=S},99472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.random()*(h-t)+t};c.exports=S},77623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var o=Math.pow(m,-h);return Math.floor(t*o)/o};c.exports=S},62945:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=function(o,a,r){return o=h(o,0,1),(r-a)*o+a};c.exports=m},38265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t/h/1e3};c.exports=S},78702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};c.exports=S},94883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};c.exports=S},28915:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return(h-t)*m+t};c.exports=S},94908:c=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=0),t.clone().lerp(h,m)};c.exports=S},94434:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new m(this)},set:function(o){return this.copy(o)},copy:function(o){var a=this.val,r=o.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},fromMat4:function(o){var a=o.val,r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[4],r[4]=a[5],r[5]=a[6],r[6]=a[8],r[7]=a[9],r[8]=a[10],this},fromArray:function(o){var a=this.val;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,a=o[1],r=o[2],e=o[5];return o[1]=o[3],o[2]=o[6],o[3]=a,o[5]=o[7],o[6]=r,o[7]=e,this},invert:function(){var o=this.val,a=o[0],r=o[1],e=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],d=o[8],v=d*l-s*f,g=-d*n+s*u,y=f*n-l*u,T=a*v+r*g+e*y;return T?(T=1/T,o[0]=v*T,o[1]=(-d*r+e*f)*T,o[2]=(s*r-e*l)*T,o[3]=g*T,o[4]=(d*a-e*u)*T,o[5]=(-s*a+e*n)*T,o[6]=y*T,o[7]=(-f*a+r*u)*T,o[8]=(l*a-r*n)*T,this):null},adjoint:function(){var o=this.val,a=o[0],r=o[1],e=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],d=o[8];return o[0]=l*d-s*f,o[1]=e*f-r*d,o[2]=r*s-e*l,o[3]=s*u-n*d,o[4]=a*d-e*u,o[5]=e*n-a*s,o[6]=n*f-l*u,o[7]=r*u-a*f,o[8]=a*l-r*n,this},determinant:function(){var o=this.val,a=o[0],r=o[1],e=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],d=o[8];return a*(d*l-s*f)+r*(-d*n+s*u)+e*(f*n-l*u)},multiply:function(o){var a=this.val,r=a[0],e=a[1],n=a[2],l=a[3],s=a[4],u=a[5],f=a[6],d=a[7],v=a[8],g=o.val,y=g[0],T=g[1],E=g[2],A=g[3],P=g[4],w=g[5],M=g[6],D=g[7],F=g[8];return a[0]=y*r+T*l+E*f,a[1]=y*e+T*s+E*d,a[2]=y*n+T*u+E*v,a[3]=A*r+P*l+w*f,a[4]=A*e+P*s+w*d,a[5]=A*n+P*u+w*v,a[6]=M*r+D*l+F*f,a[7]=M*e+D*s+F*d,a[8]=M*n+D*u+F*v,this},translate:function(o){var a=this.val,r=o.x,e=o.y;return a[6]=r*a[0]+e*a[3]+a[6],a[7]=r*a[1]+e*a[4]+a[7],a[8]=r*a[2]+e*a[5]+a[8],this},rotate:function(o){var a=this.val,r=a[0],e=a[1],n=a[2],l=a[3],s=a[4],u=a[5],f=Math.sin(o),d=Math.cos(o);return a[0]=d*r+f*l,a[1]=d*e+f*s,a[2]=d*n+f*u,a[3]=d*l-f*r,a[4]=d*s-f*e,a[5]=d*u-f*n,this},scale:function(o){var a=this.val,r=o.x,e=o.y;return a[0]=r*a[0],a[1]=r*a[1],a[2]=r*a[2],a[3]=e*a[3],a[4]=e*a[4],a[5]=e*a[5],this},fromQuat:function(o){var a=o.x,r=o.y,e=o.z,n=o.w,l=a+a,s=r+r,u=e+e,f=a*l,d=a*s,v=a*u,g=r*s,y=r*u,T=e*u,E=n*l,A=n*s,P=n*u,w=this.val;return w[0]=1-(g+T),w[3]=d+P,w[6]=v-A,w[1]=d-P,w[4]=1-(f+T),w[7]=y+E,w[2]=v+A,w[5]=y-E,w[8]=1-(f+g),this},normalFromMat4:function(o){var a=o.val,r=this.val,e=a[0],n=a[1],l=a[2],s=a[3],u=a[4],f=a[5],d=a[6],v=a[7],g=a[8],y=a[9],T=a[10],E=a[11],A=a[12],P=a[13],w=a[14],M=a[15],D=e*f-n*u,F=e*d-l*u,L=e*v-s*u,O=n*d-l*f,B=n*v-s*f,U=l*v-s*d,W=g*P-y*A,H=g*w-T*A,Y=g*M-E*A,G=y*w-T*P,X=y*M-E*P,V=T*M-E*w,b=D*V-F*X+L*G+O*Y-B*H+U*W;return b?(b=1/b,r[0]=(f*V-d*X+v*G)*b,r[1]=(d*Y-u*V-v*H)*b,r[2]=(u*X-f*Y+v*W)*b,r[3]=(l*X-n*V-s*G)*b,r[4]=(e*V-l*Y+s*H)*b,r[5]=(n*Y-e*X-s*W)*b,r[6]=(P*U-w*B+M*O)*b,r[7]=(w*L-A*U-M*F)*b,r[8]=(A*B-P*L+M*D)*b,this):null}});c.exports=m},37867:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(25836),o=1e-6,a=new h({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new a(this)},set:function(u){return this.copy(u)},setValues:function(u,f,d,v,g,y,T,E,A,P,w,M,D,F,L,O){var B=this.val;return B[0]=u,B[1]=f,B[2]=d,B[3]=v,B[4]=g,B[5]=y,B[6]=T,B[7]=E,B[8]=A,B[9]=P,B[10]=w,B[11]=M,B[12]=D,B[13]=F,B[14]=L,B[15]=O,this},copy:function(u){var f=u.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,f,d){var v=r.fromQuat(d),g=v.val,y=f.x,T=f.y,E=f.z;return this.setValues(g[0]*y,g[1]*y,g[2]*y,0,g[4]*T,g[5]*T,g[6]*T,0,g[8]*E,g[9]*E,g[10]*E,0,u.x,u.y,u.z,1)},xyz:function(u,f,d){this.identity();var v=this.val;return v[12]=u,v[13]=f,v[14]=d,this},scaling:function(u,f,d){this.zero();var v=this.val;return v[0]=u,v[5]=f,v[10]=d,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,f=u[1],d=u[2],v=u[3],g=u[6],y=u[7],T=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=f,u[6]=u[9],u[7]=u[13],u[8]=d,u[9]=g,u[11]=u[14],u[12]=v,u[13]=y,u[14]=T,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,f=u[0],d=u[1],v=u[2],g=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],M=u[10],D=u[11],F=u[12],L=u[13],O=u[14],B=u[15],U=f*T-d*y,W=f*E-v*y,H=f*A-g*y,Y=d*E-v*T,G=d*A-g*T,X=v*A-g*E,V=P*L-w*F,b=P*O-M*F,z=P*B-D*F,$=w*O-M*L,Q=w*B-D*L,Z=M*B-D*O,q=U*Z-W*Q+H*$+Y*z-G*b+X*V;return q?(q=1/q,this.setValues((T*Z-E*Q+A*$)*q,(v*Q-d*Z-g*$)*q,(L*X-O*G+B*Y)*q,(M*G-w*X-D*Y)*q,(E*z-y*Z-A*b)*q,(f*Z-v*z+g*b)*q,(O*H-F*X-B*W)*q,(P*X-M*H+D*W)*q,(y*Q-T*z+A*V)*q,(d*z-f*Q-g*V)*q,(F*G-L*H+B*U)*q,(w*H-P*G-D*U)*q,(T*b-y*$-E*V)*q,(f*$-d*b+v*V)*q,(L*W-F*Y-O*U)*q,(P*Y-w*W+M*U)*q)):this},adjoint:function(){var u=this.val,f=u[0],d=u[1],v=u[2],g=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],M=u[10],D=u[11],F=u[12],L=u[13],O=u[14],B=u[15];return this.setValues(T*(M*B-D*O)-w*(E*B-A*O)+L*(E*D-A*M),-(d*(M*B-D*O)-w*(v*B-g*O)+L*(v*D-g*M)),d*(E*B-A*O)-T*(v*B-g*O)+L*(v*A-g*E),-(d*(E*D-A*M)-T*(v*D-g*M)+w*(v*A-g*E)),-(y*(M*B-D*O)-P*(E*B-A*O)+F*(E*D-A*M)),f*(M*B-D*O)-P*(v*B-g*O)+F*(v*D-g*M),-(f*(E*B-A*O)-y*(v*B-g*O)+F*(v*A-g*E)),f*(E*D-A*M)-y*(v*D-g*M)+P*(v*A-g*E),y*(w*B-D*L)-P*(T*B-A*L)+F*(T*D-A*w),-(f*(w*B-D*L)-P*(d*B-g*L)+F*(d*D-g*w)),f*(T*B-A*L)-y*(d*B-g*L)+F*(d*A-g*T),-(f*(T*D-A*w)-y*(d*D-g*w)+P*(d*A-g*T)),-(y*(w*O-M*L)-P*(T*O-E*L)+F*(T*M-E*w)),f*(w*O-M*L)-P*(d*O-v*L)+F*(d*M-v*w),-(f*(T*O-E*L)-y*(d*O-v*L)+F*(d*E-v*T)),f*(T*M-E*w)-y*(d*M-v*w)+P*(d*E-v*T))},determinant:function(){var u=this.val,f=u[0],d=u[1],v=u[2],g=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],M=u[10],D=u[11],F=u[12],L=u[13],O=u[14],B=u[15],U=f*T-d*y,W=f*E-v*y,H=f*A-g*y,Y=d*E-v*T,G=d*A-g*T,X=v*A-g*E,V=P*L-w*F,b=P*O-M*F,z=P*B-D*F,$=w*O-M*L,Q=w*B-D*L,Z=M*B-D*O;return U*Z-W*Q+H*$+Y*z-G*b+X*V},multiply:function(u){var f=this.val,d=f[0],v=f[1],g=f[2],y=f[3],T=f[4],E=f[5],A=f[6],P=f[7],w=f[8],M=f[9],D=f[10],F=f[11],L=f[12],O=f[13],B=f[14],U=f[15],W=u.val,H=W[0],Y=W[1],G=W[2],X=W[3];return f[0]=H*d+Y*T+G*w+X*L,f[1]=H*v+Y*E+G*M+X*O,f[2]=H*g+Y*A+G*D+X*B,f[3]=H*y+Y*P+G*F+X*U,H=W[4],Y=W[5],G=W[6],X=W[7],f[4]=H*d+Y*T+G*w+X*L,f[5]=H*v+Y*E+G*M+X*O,f[6]=H*g+Y*A+G*D+X*B,f[7]=H*y+Y*P+G*F+X*U,H=W[8],Y=W[9],G=W[10],X=W[11],f[8]=H*d+Y*T+G*w+X*L,f[9]=H*v+Y*E+G*M+X*O,f[10]=H*g+Y*A+G*D+X*B,f[11]=H*y+Y*P+G*F+X*U,H=W[12],Y=W[13],G=W[14],X=W[15],f[12]=H*d+Y*T+G*w+X*L,f[13]=H*v+Y*E+G*M+X*O,f[14]=H*g+Y*A+G*D+X*B,f[15]=H*y+Y*P+G*F+X*U,this},multiplyLocal:function(u){var f=this.val,d=u.val;return this.setValues(f[0]*d[0]+f[1]*d[4]+f[2]*d[8]+f[3]*d[12],f[0]*d[1]+f[1]*d[5]+f[2]*d[9]+f[3]*d[13],f[0]*d[2]+f[1]*d[6]+f[2]*d[10]+f[3]*d[14],f[0]*d[3]+f[1]*d[7]+f[2]*d[11]+f[3]*d[15],f[4]*d[0]+f[5]*d[4]+f[6]*d[8]+f[7]*d[12],f[4]*d[1]+f[5]*d[5]+f[6]*d[9]+f[7]*d[13],f[4]*d[2]+f[5]*d[6]+f[6]*d[10]+f[7]*d[14],f[4]*d[3]+f[5]*d[7]+f[6]*d[11]+f[7]*d[15],f[8]*d[0]+f[9]*d[4]+f[10]*d[8]+f[11]*d[12],f[8]*d[1]+f[9]*d[5]+f[10]*d[9]+f[11]*d[13],f[8]*d[2]+f[9]*d[6]+f[10]*d[10]+f[11]*d[14],f[8]*d[3]+f[9]*d[7]+f[10]*d[11]+f[11]*d[15],f[12]*d[0]+f[13]*d[4]+f[14]*d[8]+f[15]*d[12],f[12]*d[1]+f[13]*d[5]+f[14]*d[9]+f[15]*d[13],f[12]*d[2]+f[13]*d[6]+f[14]*d[10]+f[15]*d[14],f[12]*d[3]+f[13]*d[7]+f[14]*d[11]+f[15]*d[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,f){var d=u.val,v=f.val,g=d[0],y=d[4],T=d[8],E=d[12],A=d[1],P=d[5],w=d[9],M=d[13],D=d[2],F=d[6],L=d[10],O=d[14],B=d[3],U=d[7],W=d[11],H=d[15],Y=v[0],G=v[4],X=v[8],V=v[12],b=v[1],z=v[5],$=v[9],Q=v[13],Z=v[2],q=v[6],j=v[10],k=v[14],_=v[3],et=v[7],it=v[11],st=v[15];return this.setValues(g*Y+y*b+T*Z+E*_,A*Y+P*b+w*Z+M*_,D*Y+F*b+L*Z+O*_,B*Y+U*b+W*Z+H*_,g*G+y*z+T*q+E*et,A*G+P*z+w*q+M*et,D*G+F*z+L*q+O*et,B*G+U*z+W*q+H*et,g*X+y*$+T*j+E*it,A*X+P*$+w*j+M*it,D*X+F*$+L*j+O*it,B*X+U*$+W*j+H*it,g*V+y*Q+T*k+E*st,A*V+P*Q+w*k+M*st,D*V+F*Q+L*k+O*st,B*V+U*Q+W*k+H*st)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,f,d){var v=this.val;return v[12]=v[0]*u+v[4]*f+v[8]*d+v[12],v[13]=v[1]*u+v[5]*f+v[9]*d+v[13],v[14]=v[2]*u+v[6]*f+v[10]*d+v[14],v[15]=v[3]*u+v[7]*f+v[11]*d+v[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,f,d){var v=this.val;return v[0]=v[0]*u,v[1]=v[1]*u,v[2]=v[2]*u,v[3]=v[3]*u,v[4]=v[4]*f,v[5]=v[5]*f,v[6]=v[6]*f,v[7]=v[7]*f,v[8]=v[8]*d,v[9]=v[9]*d,v[10]=v[10]*d,v[11]=v[11]*d,this},makeRotationAxis:function(u,f){var d=Math.cos(f),v=Math.sin(f),g=1-d,y=u.x,T=u.y,E=u.z,A=g*y,P=g*T;return this.setValues(A*y+d,A*T-v*E,A*E+v*T,0,A*T+v*E,P*T+d,P*E-v*y,0,A*E-v*T,P*E+v*y,g*E*E+d,0,0,0,0,1)},rotate:function(u,f){var d=this.val,v=f.x,g=f.y,y=f.z,T=Math.sqrt(v*v+g*g+y*y);if(Math.abs(T)<o)return this;T=1/T,v*=T,g*=T,y*=T;var E=Math.sin(u),A=Math.cos(u),P=1-A,w=d[0],M=d[1],D=d[2],F=d[3],L=d[4],O=d[5],B=d[6],U=d[7],W=d[8],H=d[9],Y=d[10],G=d[11],X=d[12],V=d[13],b=d[14],z=d[15],$=v*v*P+A,Q=g*v*P+y*E,Z=y*v*P-g*E,q=v*g*P-y*E,j=g*g*P+A,k=y*g*P+v*E,_=v*y*P+g*E,et=g*y*P-v*E,it=y*y*P+A;return this.setValues(w*$+L*Q+W*Z,M*$+O*Q+H*Z,D*$+B*Q+Y*Z,F*$+U*Q+G*Z,w*q+L*j+W*k,M*q+O*j+H*k,D*q+B*j+Y*k,F*q+U*j+G*k,w*_+L*et+W*it,M*_+O*et+H*it,D*_+B*et+Y*it,F*_+U*et+G*it,X,V,b,z)},rotateX:function(u){var f=this.val,d=Math.sin(u),v=Math.cos(u),g=f[4],y=f[5],T=f[6],E=f[7],A=f[8],P=f[9],w=f[10],M=f[11];return f[4]=g*v+A*d,f[5]=y*v+P*d,f[6]=T*v+w*d,f[7]=E*v+M*d,f[8]=A*v-g*d,f[9]=P*v-y*d,f[10]=w*v-T*d,f[11]=M*v-E*d,this},rotateY:function(u){var f=this.val,d=Math.sin(u),v=Math.cos(u),g=f[0],y=f[1],T=f[2],E=f[3],A=f[8],P=f[9],w=f[10],M=f[11];return f[0]=g*v-A*d,f[1]=y*v-P*d,f[2]=T*v-w*d,f[3]=E*v-M*d,f[8]=g*d+A*v,f[9]=y*d+P*v,f[10]=T*d+w*v,f[11]=E*d+M*v,this},rotateZ:function(u){var f=this.val,d=Math.sin(u),v=Math.cos(u),g=f[0],y=f[1],T=f[2],E=f[3],A=f[4],P=f[5],w=f[6],M=f[7];return f[0]=g*v+A*d,f[1]=y*v+P*d,f[2]=T*v+w*d,f[3]=E*v+M*d,f[4]=A*v-g*d,f[5]=P*v-y*d,f[6]=w*v-T*d,f[7]=M*v-E*d,this},fromRotationTranslation:function(u,f){var d=u.x,v=u.y,g=u.z,y=u.w,T=d+d,E=v+v,A=g+g,P=d*T,w=d*E,M=d*A,D=v*E,F=v*A,L=g*A,O=y*T,B=y*E,U=y*A;return this.setValues(1-(D+L),w+U,M-B,0,w-U,1-(P+L),F+O,0,M+B,F-O,1-(P+D),0,f.x,f.y,f.z,1)},fromQuat:function(u){var f=u.x,d=u.y,v=u.z,g=u.w,y=f+f,T=d+d,E=v+v,A=f*y,P=f*T,w=f*E,M=d*T,D=d*E,F=v*E,L=g*y,O=g*T,B=g*E;return this.setValues(1-(M+F),P+B,w-O,0,P-B,1-(A+F),D+L,0,w+O,D-L,1-(A+M),0,0,0,0,1)},frustum:function(u,f,d,v,g,y){var T=1/(f-u),E=1/(v-d),A=1/(g-y);return this.setValues(g*2*T,0,0,0,0,g*2*E,0,0,(f+u)*T,(v+d)*E,(y+g)*A,-1,0,0,y*g*2*A,0)},perspective:function(u,f,d,v){var g=1/Math.tan(u/2),y=1/(d-v);return this.setValues(g/f,0,0,0,0,g,0,0,0,0,(v+d)*y,-1,0,0,2*v*d*y,0)},perspectiveLH:function(u,f,d,v){return this.setValues(2*d/u,0,0,0,0,2*d/f,0,0,0,0,-v/(d-v),1,0,0,d*v/(d-v),0)},ortho:function(u,f,d,v,g,y){var T=u-f,E=d-v,A=g-y;return T=T===0?T:1/T,E=E===0?E:1/E,A=A===0?A:1/A,this.setValues(-2*T,0,0,0,0,-2*E,0,0,0,0,2*A,0,(u+f)*T,(v+d)*E,(y+g)*A,1)},lookAtRH:function(u,f,d){var v=this.val;return s.subVectors(u,f),s.lengthSq()===0&&(s.z=1),s.normalize(),n.crossVectors(d,s),n.lengthSq()===0&&(Math.abs(d.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),n.crossVectors(d,s)),n.normalize(),l.crossVectors(s,n),v[0]=n.x,v[1]=n.y,v[2]=n.z,v[4]=l.x,v[5]=l.y,v[6]=l.z,v[8]=s.x,v[9]=s.y,v[10]=s.z,this},lookAt:function(u,f,d){var v=u.x,g=u.y,y=u.z,T=d.x,E=d.y,A=d.z,P=f.x,w=f.y,M=f.z;if(Math.abs(v-P)<o&&Math.abs(g-w)<o&&Math.abs(y-M)<o)return this.identity();var D=v-P,F=g-w,L=y-M,O=1/Math.sqrt(D*D+F*F+L*L);D*=O,F*=O,L*=O;var B=E*L-A*F,U=A*D-T*L,W=T*F-E*D;O=Math.sqrt(B*B+U*U+W*W),O?(O=1/O,B*=O,U*=O,W*=O):(B=0,U=0,W=0);var H=F*W-L*U,Y=L*B-D*W,G=D*U-F*B;return O=Math.sqrt(H*H+Y*Y+G*G),O?(O=1/O,H*=O,Y*=O,G*=O):(H=0,Y=0,G=0),this.setValues(B,H,D,0,U,Y,F,0,W,G,L,0,-(B*v+U*g+W*y),-(H*v+Y*g+G*y),-(D*v+F*g+L*y),1)},yawPitchRoll:function(u,f,d){this.zero(),r.zero(),e.zero();var v=this.val,g=r.val,y=e.val,T=Math.sin(d),E=Math.cos(d);return v[10]=1,v[15]=1,v[0]=E,v[1]=T,v[4]=-T,v[5]=E,T=Math.sin(f),E=Math.cos(f),g[0]=1,g[15]=1,g[5]=E,g[10]=E,g[9]=-T,g[6]=T,T=Math.sin(u),E=Math.cos(u),y[5]=1,y[15]=1,y[0]=E,y[2]=-T,y[8]=T,y[10]=E,this.multiplyLocal(r),this.multiplyLocal(e),this},setWorldMatrix:function(u,f,d,v,g){return this.yawPitchRoll(u.y,u.x,u.z),r.scaling(d.x,d.y,d.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(r),this.multiplyLocal(e),v&&this.multiplyLocal(v),g&&this.multiplyLocal(g),this},multiplyToMat4:function(u,f){var d=this.val,v=u.val,g=d[0],y=d[1],T=d[2],E=d[3],A=d[4],P=d[5],w=d[6],M=d[7],D=d[8],F=d[9],L=d[10],O=d[11],B=d[12],U=d[13],W=d[14],H=d[15],Y=v[0],G=v[1],X=v[2],V=v[3],b=v[4],z=v[5],$=v[6],Q=v[7],Z=v[8],q=v[9],j=v[10],k=v[11],_=v[12],et=v[13],it=v[14],st=v[15];return f.setValues(Y*g+G*A+X*D+V*B,G*y+G*P+X*F+V*U,X*T+G*w+X*L+V*W,V*E+G*M+X*O+V*H,b*g+z*A+$*D+Q*B,b*y+z*P+$*F+Q*U,b*T+z*w+$*L+Q*W,b*E+z*M+$*O+Q*H,Z*g+q*A+j*D+k*B,Z*y+q*P+j*F+k*U,Z*T+q*w+j*L+k*W,Z*E+q*M+j*O+k*H,_*g+et*A+it*D+st*B,_*y+et*P+it*F+st*U,_*T+et*w+it*L+st*W,_*E+et*M+it*O+st*H)},fromRotationXYTranslation:function(u,f,d){var v=f.x,g=f.y,y=f.z,T=Math.sin(u.x),E=Math.cos(u.x),A=Math.sin(u.y),P=Math.cos(u.y),w=v,M=g,D=y,F=-T,L=0-F*A,O=0-E*A,B=F*P,U=E*P;return d||(w=P*v+A*y,M=L*v+E*g+B*y,D=O*v+T*g+U*y),this.setValues(P,L,O,0,0,E,T,0,A,B,U,0,w,M,D,1)},getMaxScaleOnAxis:function(){var u=this.val,f=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],d=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],v=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(f,d,v))}}),r=new a,e=new a,n=new m,l=new m,s=new m;c.exports=a},86883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return Math.min(t+h,m)};c.exports=S},50040:c=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.length;if(h===0)return 0;t.sort(function(o,a){return o-a});var m=Math.floor(h/2);return h%2===0?(t[m]+t[m-1])/2:t[m]};c.exports=S},37204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return Math.max(t-h,m)};c.exports=S},65201:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){m===void 0&&(m=h+1);var a=(t-h)/(m-h);return a>1?o!==void 0?(a=(o-t)/(o-m),a<0&&(a=0)):a=1:a<0&&(a=0),a};c.exports=S},15746:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(94434),o=t(29747),a=t(25836),r=1e-6,e=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new a(1,0,0),s=new a(0,1,0),u=new a,f=new m,d=new h({initialize:function(g,y,T,E){this.onChangeCallback=o,this.set(g,y,T,E)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,g,y,T,E){return E===void 0&&(E=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=g||0,this._z=y||0,this._w=T||0),E&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,g=this.y,y=this.z,T=this.w;return Math.sqrt(v*v+g*g+y*y+T*T)},lengthSq:function(){var v=this.x,g=this.y,y=this.z,T=this.w;return v*v+g*g+y*y+T*T},normalize:function(){var v=this.x,g=this.y,y=this.z,T=this.w,E=v*v+g*g+y*y+T*T;return E>0&&(E=1/Math.sqrt(E),this._x=v*E,this._y=g*E,this._z=y*E,this._w=T*E),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,g){g===void 0&&(g=0);var y=this.x,T=this.y,E=this.z,A=this.w;return this.set(y+g*(v.x-y),T+g*(v.y-T),E+g*(v.z-E),A+g*(v.w-A))},rotationTo:function(v,g){var y=v.x*g.x+v.y*g.y+v.z*g.z;return y<-.999999?(u.copy(l).cross(v).length()<r&&u.copy(s).cross(v),u.normalize(),this.setAxisAngle(u,Math.PI)):y>.999999?this.set(0,0,0,1):(u.copy(v).cross(g),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+y,this.normalize())},setAxes:function(v,g,y){var T=f.val;return T[0]=g.x,T[3]=g.y,T[6]=g.z,T[1]=y.x,T[4]=y.y,T[7]=y.z,T[2]=-v.x,T[5]=-v.y,T[8]=-v.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,g){g=g*.5;var y=Math.sin(g);return this.set(y*v.x,y*v.y,y*v.z,Math.cos(g))},multiply:function(v){var g=this.x,y=this.y,T=this.z,E=this.w,A=v.x,P=v.y,w=v.z,M=v.w;return this.set(g*M+E*A+y*w-T*P,y*M+E*P+T*A-g*w,T*M+E*w+g*P-y*A,E*M-g*A-y*P-T*w)},slerp:function(v,g){var y=this.x,T=this.y,E=this.z,A=this.w,P=v.x,w=v.y,M=v.z,D=v.w,F=y*P+T*w+E*M+A*D;F<0&&(F=-F,P=-P,w=-w,M=-M,D=-D);var L=1-g,O=g;if(1-F>r){var B=Math.acos(F),U=Math.sin(B);L=Math.sin((1-g)*B)/U,O=Math.sin(g*B)/U}return this.set(L*y+O*P,L*T+O*w,L*E+O*M,L*A+O*D)},invert:function(){var v=this.x,g=this.y,y=this.z,T=this.w,E=v*v+g*g+y*y+T*T,A=E?1/E:0;return this.set(-v*A,-g*A,-y*A,T*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var g=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(g*P+E*A,y*P+T*A,T*P-y*A,E*P-g*A)},rotateY:function(v){v*=.5;var g=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(g*P-T*A,y*P+E*A,T*P+g*A,E*P-y*A)},rotateZ:function(v){v*=.5;var g=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(g*P+y*A,y*P-g*A,T*P+E*A,E*P-T*A)},calculateW:function(){var v=this.x,g=this.y,y=this.z;return this.w=-Math.sqrt(1-v*v-g*g-y*y),this},setFromEuler:function(v,g){var y=v.x/2,T=v.y/2,E=v.z/2,A=Math.cos(y),P=Math.cos(T),w=Math.cos(E),M=Math.sin(y),D=Math.sin(T),F=Math.sin(E);switch(v.order){case"XYZ":{this.set(M*P*w+A*D*F,A*D*w-M*P*F,A*P*F+M*D*w,A*P*w-M*D*F,g);break}case"YXZ":{this.set(M*P*w+A*D*F,A*D*w-M*P*F,A*P*F-M*D*w,A*P*w+M*D*F,g);break}case"ZXY":{this.set(M*P*w-A*D*F,A*D*w+M*P*F,A*P*F+M*D*w,A*P*w-M*D*F,g);break}case"ZYX":{this.set(M*P*w-A*D*F,A*D*w+M*P*F,A*P*F-M*D*w,A*P*w+M*D*F,g);break}case"YZX":{this.set(M*P*w+A*D*F,A*D*w+M*P*F,A*P*F-M*D*w,A*P*w-M*D*F,g);break}case"XZY":{this.set(M*P*w-A*D*F,A*D*w-M*P*F,A*P*F+M*D*w,A*P*w+M*D*F,g);break}}return this},setFromRotationMatrix:function(v){var g=v.val,y=g[0],T=g[4],E=g[8],A=g[1],P=g[5],w=g[9],M=g[2],D=g[6],F=g[10],L=y+P+F,O;return L>0?(O=.5/Math.sqrt(L+1),this.set((D-w)*O,(E-M)*O,(A-T)*O,.25/O)):y>P&&y>F?(O=2*Math.sqrt(1+y-P-F),this.set(.25*O,(T+A)/O,(E+M)/O,(D-w)/O)):P>F?(O=2*Math.sqrt(1+P-y-F),this.set((T+A)/O,.25*O,(w+D)/O,(E-M)/O)):(O=2*Math.sqrt(1+F-y-P),this.set((E+M)/O,(w+D)/O,.25*O,(A-T)/O)),this},fromMat3:function(v){var g=v.val,y=g[0]+g[4]+g[8],T;if(y>0)T=Math.sqrt(y+1),this.w=.5*T,T=.5/T,this._x=(g[7]-g[5])*T,this._y=(g[2]-g[6])*T,this._z=(g[3]-g[1])*T;else{var E=0;g[4]>g[0]&&(E=1),g[8]>g[E*3+E]&&(E=2);var A=e[E],P=e[A];T=Math.sqrt(g[E*3+E]-g[A*3+A]-g[P*3+P]+1),n[E]=.5*T,T=.5/T,n[A]=(g[A*3+E]+g[E*3+A])*T,n[P]=(g[P*3+E]+g[E*3+P])*T,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(g[P*3+A]-g[A*3+P])*T}return this.onChangeCallback(this),this}});c.exports=d},43396:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=function(o){return o*h.RAD_TO_DEG};c.exports=m},74362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var m=Math.random()*2*Math.PI;return t.x=Math.cos(m)*h,t.y=Math.sin(m)*h,t};c.exports=S},60706:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var m=Math.random()*2*Math.PI,o=Math.random()*2-1,a=Math.sqrt(1-o*o)*h;return t.x=Math.cos(m)*a,t.y=Math.sin(m)*a,t.z=o*h,t};c.exports=S},67421:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};c.exports=S},36305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x,o=t.y;return t.x=m*Math.cos(h)-o*Math.sin(h),t.y=m*Math.sin(h)+o*Math.cos(h),t};c.exports=S},11520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=Math.cos(o),r=Math.sin(o),e=t.x-h,n=t.y-m;return t.x=e*a-n*r+h,t.y=e*r+n*a+m,t};c.exports=S},1163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a){var r=o+Math.atan2(t.y-m,t.x-h);return t.x=h+a*Math.cos(r),t.y=m+a*Math.sin(r),t};c.exports=S},70336:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a){return t.x=h+a*Math.cos(o),t.y=m+a*Math.sin(o),t};c.exports=S},72678:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),m=t(37867),o=t(15746),a=new m,r=new o,e=new h,n=function(l,s,u){return r.setAxisAngle(s,u),a.fromRotationTranslation(r,e.set(0,0,0)),l.transformMat4(a)};c.exports=n},2284:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};c.exports=S},41013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var o=Math.pow(m,-h);return Math.round(t*o)/o};c.exports=S},16922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){h===void 0&&(h=1),m===void 0&&(m=1),o===void 0&&(o=1),o*=Math.PI/t;for(var a=[],r=[],e=0;e<t;e++)m-=h*o,h+=m*o,a[e]=m,r[e]=h;return{sin:r,cos:a,length:t}};c.exports=S},7602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t<=h?0:t>=m?1:(t=(t-h)/(m-h),t*t*(3-2*t))};c.exports=S},54261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t=Math.max(0,Math.min(1,(t-h)/(m-h))),t*t*t*(t*(t*6-15)+10)};c.exports=S},44408:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e){e===void 0&&(e=new h);var n=0,l=0,s=a*r;return o>0&&o<=s&&(o>a-1?(l=Math.floor(o/a),n=o-l*a):n=o),e.set(n,l)};c.exports=m},85955:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n,l,s,u){u===void 0&&(u=new h);var f=Math.sin(n),d=Math.cos(n),v=d*l,g=f*l,y=-f*s,T=d*s,E=1/(v*T+y*-g);return u.x=T*E*o+-y*E*a+(e*y-r*T)*E,u.y=v*E*a+-g*E*o+(-e*v+r*g)*E,u};c.exports=m},26099:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(43855),o=new h({initialize:function(r,e){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(e===void 0&&(e=r),this.x=r||0,this.y=e||0)},clone:function(){return new o(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,r){return r===void 0&&(r=a),this.x=a,this.y=r,this},setTo:function(a,r){return this.set(a,r)},setToPolar:function(a,r){return r==null&&(r=1),this.x=Math.cos(a)*r,this.y=Math.sin(a)*r,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,r){return m(this.x,a.x,r)&&m(this.y,a.y,r)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var r=a.x-this.x,e=a.y-this.y;return Math.sqrt(r*r+e*e)},distanceSq:function(a){var r=a.x-this.x,e=a.y-this.y;return r*r+e*e},length:function(){var a=this.x,r=this.y;return Math.sqrt(a*a+r*r)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,r=this.y;return a*a+r*r},normalize:function(){var a=this.x,r=this.y,e=a*a+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,r){r===void 0&&(r=0);var e=this.x,n=this.y;return this.x=e+r*(a.x-e),this.y=n+r*(a.y-n),this},transformMat3:function(a){var r=this.x,e=this.y,n=a.val;return this.x=n[0]*r+n[3]*e+n[6],this.y=n[1]*r+n[4]*e+n[7],this},transformMat4:function(a){var r=this.x,e=this.y,n=a.val;return this.x=n[0]*r+n[4]*e+n[12],this.y=n[1]*r+n[5]*e+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var r=this.length();return r&&r>a&&this.scale(a/r),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var r=Math.cos(a),e=Math.sin(a);return this.set(r*this.x-e*this.y,e*this.x+r*this.y)},project:function(a){var r=this.dot(a)/a.dot(a);return this.copy(a).scale(r)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),c.exports=o},25836:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this},subVectors:function(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this.z=o.z-a.z,this},crossVectors:function(o,a){var r=o.x,e=o.y,n=o.z,l=a.x,s=a.y,u=a.z;return this.x=e*u-n*s,this.y=n*l-r*u,this.z=r*s-e*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,a,r){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=a||0,this.z=r||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,a){return this.fromArray(o.val,a*4)},fromArray:function(o,a){return a===void 0&&(a=0),this.x=o[a],this.y=o[a+1],this.z=o[a+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return Math.sqrt(a*a+r*r+e*e)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return a*a+r*r+e*e},length:function(){var o=this.x,a=this.y,r=this.z;return Math.sqrt(o*o+a*a+r*r)},lengthSq:function(){var o=this.x,a=this.y,r=this.z;return o*o+a*a+r*r},normalize:function(){var o=this.x,a=this.y,r=this.z,e=o*o+a*a+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=o*e,this.y=a*e,this.z=r*e),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var a=this.x,r=this.y,e=this.z,n=o.x,l=o.y,s=o.z;return this.x=r*s-e*l,this.y=e*n-a*s,this.z=a*l-r*n,this},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,e=this.y,n=this.z;return this.x=r+a*(o.x-r),this.y=e+a*(o.y-e),this.z=n+a*(o.z-n),this},applyMatrix3:function(o){var a=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*a+n[3]*r+n[6]*e,this.y=n[1]*a+n[4]*r+n[7]*e,this.z=n[2]*a+n[5]*r+n[8]*e,this},applyMatrix4:function(o){var a=this.x,r=this.y,e=this.z,n=o.val,l=1/(n[3]*a+n[7]*r+n[11]*e+n[15]);return this.x=(n[0]*a+n[4]*r+n[8]*e+n[12])*l,this.y=(n[1]*a+n[5]*r+n[9]*e+n[13])*l,this.z=(n[2]*a+n[6]*r+n[10]*e+n[14])*l,this},transformMat3:function(o){var a=this.x,r=this.y,e=this.z,n=o.val;return this.x=a*n[0]+r*n[3]+e*n[6],this.y=a*n[1]+r*n[4]+e*n[7],this.z=a*n[2]+r*n[5]+e*n[8],this},transformMat4:function(o){var a=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*a+n[4]*r+n[8]*e+n[12],this.y=n[1]*a+n[5]*r+n[9]*e+n[13],this.z=n[2]*a+n[6]*r+n[10]*e+n[14],this},transformCoordinates:function(o){var a=this.x,r=this.y,e=this.z,n=o.val,l=a*n[0]+r*n[4]+e*n[8]+n[12],s=a*n[1]+r*n[5]+e*n[9]+n[13],u=a*n[2]+r*n[6]+e*n[10]+n[14],f=a*n[3]+r*n[7]+e*n[11]+n[15];return this.x=l/f,this.y=s/f,this.z=u/f,this},transformQuat:function(o){var a=this.x,r=this.y,e=this.z,n=o.x,l=o.y,s=o.z,u=o.w,f=u*a+l*e-s*r,d=u*r+s*a-n*e,v=u*e+n*r-l*a,g=-n*a-l*r-s*e;return this.x=f*u+g*-n+d*-s-v*-l,this.y=d*u+g*-l+v*-n-f*-s,this.z=v*u+g*-s+f*-l-d*-n,this},project:function(o){var a=this.x,r=this.y,e=this.z,n=o.val,l=n[0],s=n[1],u=n[2],f=n[3],d=n[4],v=n[5],g=n[6],y=n[7],T=n[8],E=n[9],A=n[10],P=n[11],w=n[12],M=n[13],D=n[14],F=n[15],L=1/(a*f+r*y+e*P+F);return this.x=(a*l+r*d+e*T+w)*L,this.y=(a*s+r*v+e*E+M)*L,this.z=(a*u+r*g+e*A+D)*L,this},projectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unprojectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unproject:function(o,a){var r=o.x,e=o.y,n=o.z,l=o.w,s=this.x-r,u=l-this.y-1-e,f=this.z;return this.x=2*s/n-1,this.y=2*u/l-1,this.z=2*f-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),c.exports=m},61369:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=e||0,this.w=n||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,a,r,e){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=a||0,this.z=r||0,this.w=e||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,a=this.y,r=this.z,e=this.w;return Math.sqrt(o*o+a*a+r*r+e*e)},lengthSq:function(){var o=this.x,a=this.y,r=this.z,e=this.w;return o*o+a*a+r*r+e*e},normalize:function(){var o=this.x,a=this.y,r=this.z,e=this.w,n=o*o+a*a+r*r+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=a*n,this.z=r*n,this.w=e*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,e=this.y,n=this.z,l=this.w;return this.x=r+a*(o.x-r),this.y=e+a*(o.y-e),this.z=n+a*(o.z-n),this.w=l+a*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(a*a+r*r+e*e+n*n)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return a*a+r*r+e*e+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var a=this.x,r=this.y,e=this.z,n=this.w,l=o.val;return this.x=l[0]*a+l[4]*r+l[8]*e+l[12]*n,this.y=l[1]*a+l[5]*r+l[9]*e+l[13]*n,this.z=l[2]*a+l[6]*r+l[10]*e+l[14]*n,this.w=l[3]*a+l[7]*r+l[11]*e+l[15]*n,this},transformQuat:function(o){var a=this.x,r=this.y,e=this.z,n=o.x,l=o.y,s=o.z,u=o.w,f=u*a+l*e-s*r,d=u*r+s*a-n*e,v=u*e+n*r-l*a,g=-n*a-l*r-s*e;return this.x=f*u+g*-n+d*-s-v*-l,this.y=d*u+g*-l+v*-n-f*-s,this.z=v*u+g*-s+f*-l-d*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,c.exports=m},60417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return Math.abs(t-h)<=m};c.exports=S},15994:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=m-h;return h+((t-h)%o+o)%o};c.exports=S},31040:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){return Math.atan2(o-h,m-t)};c.exports=S},55495:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};c.exports=S},128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};c.exports=S},41273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){return Math.atan2(m-t,o-h)};c.exports=S},1432:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=function(o){return o>Math.PI&&(o-=h.PI2),Math.abs(((o+h.TAU)%h.PI2-h.PI2)%h.PI2)};c.exports=m},12407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};c.exports=S},53993:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),m=function(){return h(-Math.PI,Math.PI)};c.exports=m},86564:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),m=function(){return h(-180,180)};c.exports=m},90154:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12407),m=function(o){return h(o+Math.PI)};c.exports=m},48736:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=function(o,a,r){return r===void 0&&(r=.05),o===a||(Math.abs(a-o)<=r||Math.abs(a-o)>=h.PI2-r?o=a:(Math.abs(a-o)>Math.PI&&(a<o?a+=h.PI2:a-=h.PI2),a>o?o+=r:a<o&&(o-=r))),o};c.exports=m},61430:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=h-t;if(m===0)return 0;var o=Math.floor((m- -180)/360);return m-o*360};c.exports=S},86554:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),m=function(o){return h(o,-Math.PI,Math.PI)};c.exports=m},30954:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),m=function(o){return h(o,-180,180)};c.exports=m},25588:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=S},20339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=t-m,r=h-o;return Math.sqrt(a*a+r*r)};c.exports=S},52816:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x-h.x,o=t.y-h.y;return Math.sqrt(m*m+o*o)};c.exports=S},64559:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x-h.x,o=t.y-h.y;return m*m+o*o};c.exports=S},82340:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){return Math.max(Math.abs(t-m),Math.abs(h-o))};c.exports=S},14390:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(m-t,a)+Math.pow(o-h,a))};c.exports=S},2243:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){return Math.abs(t-m)+Math.abs(h-o)};c.exports=S},89774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=t-m,r=h-o;return a*a+r*r};c.exports=S},50994:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54178),m=t(41521),o=t(79980),a=t(85433),r=t(99140),e=t(48857),n=t(81596),l=t(59133),s=t(98516),u=t(35248),f=t(82500),d=t(49752);c.exports={Power0:n,Power1:l.Out,Power2:a.Out,Power3:s.Out,Power4:u.Out,Linear:n,Quad:l.Out,Cubic:a.Out,Quart:s.Out,Quint:u.Out,Sine:f.Out,Expo:e.Out,Circ:o.Out,Elastic:r.Out,Back:h.Out,Bounce:m.Out,Stepped:d,"Quad.easeIn":l.In,"Cubic.easeIn":a.In,"Quart.easeIn":s.In,"Quint.easeIn":u.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":o.In,"Elastic.easeIn":r.In,"Back.easeIn":h.In,"Bounce.easeIn":m.In,"Quad.easeOut":l.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":s.Out,"Quint.easeOut":u.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":r.Out,"Back.easeOut":h.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":m.InOut}},1639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};c.exports=S},50099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1.70158);var m=h*1.525;return(t*=2)<1?.5*(t*t*((m+1)*t-m)):.5*((t-=2)*t*((m+1)*t+m)+2)};c.exports=S},41286:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};c.exports=S},54178:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};c.exports=S},41788:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};c.exports=S},69905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};c.exports=S},41521:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};c.exports=S},4177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};c.exports=S},57512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};c.exports=S},79980:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};c.exports=S},82820:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};c.exports=S},35033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};c.exports=S},85433:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var o=m/4;return h<1?h=1:o=m*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/m))};c.exports=S},50665:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var o=m/4;return h<1?h=1:o=m*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/m)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/m)*.5+1};c.exports=S},7744:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var o=m/4;return h<1?h=1:o=m*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/m)+1};c.exports=S},99140:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};c.exports=S},87844:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};c.exports=S},89433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};c.exports=S},48857:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};c.exports=S},81596:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(7147)},34826:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};c.exports=S},20544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};c.exports=S},92029:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};c.exports=S},59133:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};c.exports=S},78137:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};c.exports=S},45840:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};c.exports=S},98516:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};c.exports=S},16509:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};c.exports=S},17868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};c.exports=S},35248:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};c.exports=S},34025:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};c.exports=S},52768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};c.exports=S},82500:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};c.exports=S},49752:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(72251)},75698:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};c.exports=S},43855:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=1e-4),Math.abs(t-h)<m};c.exports=S},25777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};c.exports=S},5470:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=1e-4),t>h-m};c.exports=S},94977:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=1e-4),t<h+m};c.exports=S},48379:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),m=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=m(!1,o,h),c.exports=o},89318:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85710),m=function(o,a){for(var r=0,e=o.length-1,n=0;n<=e;n++)r+=Math.pow(1-a,e-n)*Math.pow(a,n)*o[n]*h(e,n);return r};c.exports=m},77259:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),m=function(o,a){var r=o.length-1,e=r*a,n=Math.floor(e);return o[0]===o[r]?(a<0&&(n=Math.floor(e=r*(1+a))),h(e-n,o[(n-1+r)%r],o[n],o[(n+1)%r],o[(n+2)%r])):a<0?o[0]-(h(-e,o[0],o[0],o[1],o[1])-o[0]):a>1?o[r]-(h(e-r,o[r],o[r],o[r-1],o[r-1])-o[r]):h(e-n,o[n?n-1:0],o[n],o[r<n+1?r:n+1],o[r<n+2?r:n+2])};c.exports=m},36316:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,r){var e=1-a;return e*e*e*r}function t(a,r){var e=1-a;return 3*e*e*a*r}function h(a,r){return 3*(1-a)*a*a*r}function m(a,r){return a*a*a*r}var o=function(a,r,e,n,l){return S(a,r)+t(a,e)+h(a,n)+m(a,l)};c.exports=o},28392:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),m=function(o,a){var r=o.length-1,e=r*a,n=Math.floor(e);return a<0?h(o[0],o[1],e):a>1?h(o[r],o[r-1],r-e):h(o[n],o[n+1>r?r:n+1],e-n)};c.exports=m},32112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(o,a){var r=1-o;return r*r*a}function t(o,a){return 2*(1-o)*o*a}function h(o,a){return o*o*a}var m=function(o,a,r,e){return S(o,a)+t(o,r)+h(o,e)};c.exports=m},47235:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),m=function(o,a,r){return a+(r-a)*h(o,0,1)};c.exports=m},50178:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),m=function(o,a,r){return a+(r-a)*h(o,0,1)};c.exports=m},38289:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};c.exports=S},50030:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};c.exports=S},81230:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};c.exports=S},49001:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var a,r=this.n;o=o.toString();for(var e=0;e<o.length;e++)r+=o.charCodeAt(e),a=.02519603282416938*r,r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var a=0;a<o.length&&o[a]!=null;a++){var r=o[a];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},between:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},realInRange:function(o,a){return this.frac()*(a-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",a="";for(a=o="";o++<36;a+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return a},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,a){return this.realInRange(o||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var a=o.length-1,r=a;r>0;r--){var e=Math.floor(this.frac()*(r+1)),n=o[e];o[e]=o[r],o[r]=n}return o}});c.exports=m},63448:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){return m===void 0&&(m=0),h===0?t:(t-=m,t=h*Math.ceil(t/h),o?(m+t)/h:m+t)};c.exports=S},56583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){return m===void 0&&(m=0),h===0?t:(t-=m,t=h*Math.floor(t/h),o?(m+t)/h:m+t)};c.exports=S},77720:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){return m===void 0&&(m=0),h===0?t:(t-=m,t=h*Math.round(t/h),o?(m+t)/h:m+t)};c.exports=S},73697:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var h=t(8054),m=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=m(!1,o,h),c.exports=o,t.g.Phaser=o},71289:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(92209),o=t(88571),a=new h({Extends:o,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(e,n,l,s,u){o.call(this,e,n,l,s,u),this.body=null}});c.exports=a},86689:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(39506),o=t(20339),a=t(89774),r=t(66022),e=t(95540),n=t(46975),l=t(72441),s=t(47956),u=t(37277),f=t(44594),d=t(26099),v=t(82248),g=new h({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,T.sys.events.once(f.BOOT,this.boot,this),T.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new r(this.world));var y=this.systems.events;e(this.config,"customUpdate",!1)||y.on(f.UPDATE,this.world.update,this.world),y.on(f.POST_UPDATE,this.world.postUpdate,this.world),y.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var y=this.systems.game.config.physics,T=this.systems.settings.physics,E=n(e(T,"arcade",{}),e(y,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(y,T,E,A,P){return E===void 0&&(E=null),A===void 0&&(A=null),P===void 0&&(P=E),this.world.collideObjects(y,T,E,A,P,!0)},collide:function(y,T,E,A,P){return E===void 0&&(E=null),A===void 0&&(A=null),P===void 0&&(P=E),this.world.collideObjects(y,T,E,A,P,!1)},collideTiles:function(y,T,E,A,P){return this.world.collideTiles(y,T,E,A,P)},overlapTiles:function(y,T,E,A,P){return this.world.overlapTiles(y,T,E,A,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(y,T,E,A,P,w){A===void 0&&(A=60);var M=Math.atan2(E-y.y,T-y.x);return y.body.acceleration.setToPolar(M,A),P!==void 0&&w!==void 0&&y.body.maxVelocity.set(P,w),M},accelerateToObject:function(y,T,E,A,P){return this.accelerateTo(y,T.x,T.y,E,A,P)},closest:function(y,T){T||(T=this.world.bodies.entries);for(var E=Number.MAX_VALUE,A=null,P=y.x,w=y.y,M=T.length,D=0;D<M;D++){var F=T[D],L=F.body||F;if(!(y===F||y===L||y===L.gameObject||y===L.center)){var O=a(P,w,L.center.x,L.center.y);O<E&&(A=F,E=O)}}return A},furthest:function(y,T){T||(T=this.world.bodies.entries);for(var E=-1,A=null,P=y.x,w=y.y,M=T.length,D=0;D<M;D++){var F=T[D],L=F.body||F;if(!(y===F||y===L||y===L.gameObject||y===L.center)){var O=a(P,w,L.center.x,L.center.y);O>E&&(A=F,E=O)}}return A},moveTo:function(y,T,E,A,P){A===void 0&&(A=60),P===void 0&&(P=0);var w=Math.atan2(E-y.y,T-y.x);return P>0&&(A=o(y.x,y.y,T,E)/(P/1e3)),y.body.velocity.setToPolar(w,A),w},moveToObject:function(y,T,E,A){return this.moveTo(y,T.x,T.y,E,A)},velocityFromAngle:function(y,T,E){return T===void 0&&(T=60),E===void 0&&(E=new d),E.setToPolar(m(y),T)},velocityFromRotation:function(y,T,E){return T===void 0&&(T=60),E===void 0&&(E=new d),E.setToPolar(y,T)},overlapRect:function(y,T,E,A,P,w){return s(this.world,y,T,E,A,P,w)},overlapCirc:function(y,T,E,A,P){return l(this.world,y,T,E,A,P)},shutdown:function(){if(this.world){var y=this.systems.events;y.off(f.UPDATE,this.world.update,this.world),y.off(f.POST_UPDATE,this.world.postUpdate,this.world),y.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",g,"arcadePhysics"),c.exports=g},13759:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(92209),o=t(68287),a=new h({Extends:o,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(e,n,l,s,u){o.call(this,e,n,l,s,u),this.body=null}});c.exports=a},37742:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(78389),o=t(37747),a=t(63012),r=t(43396),e=t(87841),n=t(37303),l=t(95829),s=t(26099),u=new h({Mixins:[m],initialize:function(d,v){var g=64,y=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=v!==void 0;E&&v.displayWidth&&(g=v.displayWidth,y=v.displayHeight),E||(v=T),this.world=d,this.gameObject=E?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=g,this.height=y,this.sourceWidth=g,this.sourceHeight=y,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(g/2),this.halfHeight=Math.abs(y/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,d=this.transform;if(f.parentContainer){var v=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=v.tx,d.y=v.ty,d.rotation=r(v.rotation),d.scaleX=v.scaleX,d.scaleY=v.scaleY,d.displayOriginX=f.displayOriginX,d.displayOriginY=f.displayOriginY}else d.x=f.x,d.y=f.y,d.rotation=f.angle,d.scaleX=f.scaleX,d.scaleY=f.scaleY,d.displayOriginX=f.displayOriginX,d.displayOriginY=f.displayOriginY;var g=!1;if(this.syncBounds){var y=f.getBounds(this._bounds);this.width=y.width,this.height=y.height,g=!0}else{var T=Math.abs(d.scaleX),E=Math.abs(d.scaleY);(this._sx!==T||this._sy!==E)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*E,this._sx=T,this._sy=E,g=!0)}g&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var d=this.wasTouching,v=this.touching,g=this.blocked;f?l(!0,d):(d.none=v.none,d.up=v.up,d.down=v.down,d.left=v.left,d.right=v.right),l(!0,v),l(!0,g),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,d){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}f&&this.update(d)},update:function(f){var d=this.prev,v=this.position,g=this.velocity;if(d.set(v.x,v.y),!this.moves){this._dx=v.x-d.x,this._dy=v.y-d.y;return}if(this.directControl){var y=this.autoFrame;g.set((v.x-y.x)/f,(v.y-y.y)/f),this.world.updateMotion(this,f),this._dx=v.x-y.x,this._dy=v.y-y.y}else this.world.updateMotion(this,f),this.newVelocity.set(g.x*f,g.y*f),v.add(this.newVelocity),this._dx=v.x-d.x,this._dy=v.y-d.y;var T=g.x,E=g.y;if(this.updateCenter(),this.angle=Math.atan2(E,T),this.speed=Math.sqrt(T*T+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var f=this.position,d=f.x-this.prevFrame.x,v=f.y-this.prevFrame.y,g=this.gameObject;if(this.moves){var y=this.deltaMax.x,T=this.deltaMax.y;y!==0&&d!==0&&(d<0&&d<-y?d=-y:d>0&&d>y&&(d=y)),T!==0&&v!==0&&(v<0&&v<-T?v=-T:v>0&&v>T&&(v=T)),g&&(g.x+=d,g.y+=v)}d<0?this.facing=o.FACING_LEFT:d>0&&(this.facing=o.FACING_RIGHT),v<0?this.facing=o.FACING_UP:v>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&g&&(g.angle+=this.deltaZ()),this._tx=d,this._ty=v,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,d=this.velocity,v=this.blocked,g=this.customBoundsRectangle,y=this.world.checkCollision,T=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return f.x<g.x&&y.left?(f.x=g.x,d.x*=T,v.left=!0,A=!0):this.right>g.right&&y.right&&(f.x=g.right-this.width,d.x*=T,v.right=!0,A=!0),f.y<g.y&&y.up?(f.y=g.y,d.y*=E,v.up=!0,A=!0):this.bottom>g.bottom&&y.down&&(f.y=g.bottom-this.height,d.y*=E,v.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(f,d){return d===void 0&&(d=f),this.offset.set(f,d),this},setGameObject:function(f,d){if(d===void 0&&(d=!0),!f||!f.hasTransformComponent)return this;var v=this.world;return this.gameObject&&this.gameObject.body&&(v.disable(this.gameObject),this.gameObject.body=null),f.body&&v.disable(f),this.gameObject=f,f.body=this,this.setSize(),this.enable=d,this},setSize:function(f,d,v){v===void 0&&(v=!0);var g=this.gameObject;if(g&&(!f&&g.frame&&(f=g.frame.realWidth),!d&&g.frame&&(d=g.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&g&&g.getCenter){var y=(g.width-f)/2,T=(g.height-d)/2;this.offset.set(y,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,d,v){return d===void 0&&(d=this.offset.x),v===void 0&&(v=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,v),this.updateCenter()):this.isCircle=!1,this},reset:function(f,d){this.stop();var v=this.gameObject;v&&(v.setPosition(f,d),this.rotation=v.angle,this.preRotation=v.angle);var g=this.position;v&&v.getTopLeft?v.getTopLeft(g):g.set(f,d),this.prev.copy(g),this.prevFrame.copy(g),this.autoFrame.copy(g),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,d){if(!this.isCircle)return n(this,f,d);if(this.radius>0&&f>=this.left&&f<=this.right&&d>=this.top&&d<=this.bottom){var v=(this.center.x-f)*(this.center.x-f),g=(this.center.y-d)*(this.center.y-d);return v+g<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var d=this.position,v=d.x+this.halfWidth,g=d.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(v,g,this.width/2):(this.checkCollision.up&&f.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&f.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&f.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&f.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(v,g,v+this.velocity.x/2,g+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,d,v,g){f===void 0&&(f=!0),this.collideWorldBounds=f;var y=d!==void 0,T=v!==void 0;return(y||T)&&(this.worldBounce||(this.worldBounce=new s),y&&(this.worldBounce.x=d),T&&(this.worldBounce.y=v)),g!==void 0&&(this.onWorldBounds=g),this},setVelocity:function(f,d){return this.velocity.set(f,d),f=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(f*f+d*d),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,d){return this.maxVelocity.set(f,d),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,d){return this.slideFactor.set(f,d),this},setBounce:function(f,d){return this.bounce.set(f,d),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,d){return this.acceleration.set(f,d),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,d){return this.drag.set(f,d),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,d){return this.gravity.set(f,d),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,d){return this.friction.set(f,d),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,d,v,g){this.x+=f,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var y=this.blocked;v&&(y.left=!0,y.none=!1),g&&(y.right=!0,y.none=!1)},processY:function(f,d,v,g){this.y+=f,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var y=this.blocked;v&&(y.up=!0,y.none=!1),g&&(y.down=!0,y.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=u},79342:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e,n,l,s,u){this.world=a,this.name="",this.active=!0,this.overlapOnly=r,this.object1=e,this.object2=n,this.collideCallback=l,this.processCallback=s,this.callbackContext=u},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=m},66022:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71289),m=t(13759),o=t(37742),a=t(83419),r=t(37747),e=t(60758),n=t(72624),l=t(71464),s=new a({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(u,f,d,v,g){return this.world.addCollider(u,f,d,v,g)},overlap:function(u,f,d,v,g){return this.world.addOverlap(u,f,d,v,g)},existing:function(u,f){var d=f?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(u,d),u},staticImage:function(u,f,d,v){var g=new h(this.scene,u,f,d,v);return this.sys.displayList.add(g),this.world.enableBody(g,r.STATIC_BODY),g},image:function(u,f,d,v){var g=new h(this.scene,u,f,d,v);return this.sys.displayList.add(g),this.world.enableBody(g,r.DYNAMIC_BODY),g},staticSprite:function(u,f,d,v){var g=new m(this.scene,u,f,d,v);return this.sys.displayList.add(g),this.sys.updateList.add(g),this.world.enableBody(g,r.STATIC_BODY),g},sprite:function(u,f,d,v){var g=new m(this.scene,u,f,d,v);return this.sys.displayList.add(g),this.sys.updateList.add(g),this.world.enableBody(g,r.DYNAMIC_BODY),g},staticGroup:function(u,f){return this.sys.updateList.add(new l(this.world,this.world.scene,u,f))},group:function(u,f){return this.sys.updateList.add(new e(this.world,this.world.scene,u,f))},body:function(u,f,d,v){var g=new o(this.world);return g.position.set(u,f),d&&v&&g.setSize(d,v),this.world.add(g,r.DYNAMIC_BODY),g},staticBody:function(u,f,d,v){var g=new n(this.world);return g.position.set(u,f),d&&v&&g.setSize(d,v),this.world.add(g,r.STATIC_BODY),g},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=s},79599:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=0;if(!Array.isArray(t))h=t;else for(var m=0;m<t.length;m++)h|=t[m];return h};c.exports=S},64897:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),m=function(o,a,r,e){var n=0,l=o.deltaAbsX()+a.deltaAbsX()+e;return o._dx===0&&a._dx===0?(o.embedded=!0,a.embedded=!0):o._dx>a._dx?(n=o.right-a.x,n>l&&!r||o.checkCollision.right===!1||a.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0))):o._dx<a._dx&&(n=o.x-a.width-a.x,-n>l&&!r||o.checkCollision.left===!1||a.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0))),o.overlapX=n,a.overlapX=n,n};c.exports=m},45170:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),m=function(o,a,r,e){var n=0,l=o.deltaAbsY()+a.deltaAbsY()+e;return o._dy===0&&a._dy===0?(o.embedded=!0,a.embedded=!0):o._dy>a._dy?(n=o.bottom-a.y,n>l&&!r||o.checkCollision.down===!1||a.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0))):o._dy<a._dy&&(n=o.y-a.bottom,-n>l&&!r||o.checkCollision.up===!1||a.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0))),o.overlapY=n,a.overlapY=n,n};c.exports=m},60758:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),m=t(83419),o=t(78389),a=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new m({Extends:e,Mixins:[o],initialize:function(u,f,d,v){if(!d&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(d))v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&n(d[0])){var g=this;d.forEach(function(y){y.internalCreateCallback=g.createCallbackHandler,y.internalRemoveCallback=g.removeCallbackHandler,y.classType=r(y,"classType",h)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,v&&(v.classType=r(v,"classType",h)),this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(v,"collideWorldBounds",!1),setBoundsRectangle:r(v,"customBoundsRectangle",null),setAccelerationX:r(v,"accelerationX",0),setAccelerationY:r(v,"accelerationY",0),setAllowDrag:r(v,"allowDrag",!0),setAllowGravity:r(v,"allowGravity",!0),setAllowRotation:r(v,"allowRotation",!0),setDamping:r(v,"useDamping",!1),setBounceX:r(v,"bounceX",0),setBounceY:r(v,"bounceY",0),setDragX:r(v,"dragX",0),setDragY:r(v,"dragY",0),setEnable:r(v,"enable",!0),setGravityX:r(v,"gravityX",0),setGravityY:r(v,"gravityY",0),setFrictionX:r(v,"frictionX",0),setFrictionY:r(v,"frictionY",0),setMaxSpeed:r(v,"maxSpeed",-1),setMaxVelocityX:r(v,"maxVelocityX",1e4),setMaxVelocityY:r(v,"maxVelocityY",1e4),setVelocityX:r(v,"velocityX",0),setVelocityY:r(v,"velocityY",0),setAngularVelocity:r(v,"angularVelocity",0),setAngularAcceleration:r(v,"angularAcceleration",0),setAngularDrag:r(v,"angularDrag",0),setMass:r(v,"mass",1),setImmovable:r(v,"immovable",!1)},e.call(this,f,d,v),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.DYNAMIC_BODY);var u=s.body;for(var f in this.defaults)u[f](this.defaults[f])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,u,f){f===void 0&&(f=0);for(var d=this.getChildren(),v=0;v<d.length;v++)d[v].body.velocity.set(s+v*f,u+v*f);return this},setVelocityX:function(s,u){u===void 0&&(u=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.x=s+d*u;return this},setVelocityY:function(s,u){u===void 0&&(u=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.y=s+d*u;return this}});c.exports=l},3017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,m,o,a,r,e,n,l,s,u,f,d,v,g,y,T=function(D,F,L){S=D,t=F;var O=S.velocity.x,B=t.velocity.x;return h=S.pushable,n=S._dx<0,l=S._dx>0,s=S._dx===0,v=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),r=B-O*S.bounce.x,m=t.pushable,u=t._dx<0,f=t._dx>0,d=t._dx===0,g=!v,e=O-B*t.bounce.x,y=Math.abs(L),E()},E=function(){return l&&v&&t.blocked.right?(S.processX(-y,r,!1,!0),1):n&&g&&t.blocked.left?(S.processX(y,r,!0),1):f&&g&&S.blocked.right?(t.processX(-y,e,!1,!0),2):u&&v&&S.blocked.left?(t.processX(y,e,!0),2):0},A=function(){var D=S.velocity.x,F=t.velocity.x,L=Math.sqrt(F*F*t.mass/S.mass)*(F>0?1:-1),O=Math.sqrt(D*D*S.mass/t.mass)*(D>0?1:-1),B=(L+O)*.5;return L-=B,O-=B,o=B+L*S.bounce.x,a=B+O*t.bounce.x,n&&g?P(0):u&&v?P(1):l&&v?P(2):f&&g?P(3):!1},P=function(D){if(h&&m)y*=.5,D===0||D===3?(S.processX(y,o),t.processX(-y,a)):(S.processX(-y,o),t.processX(y,a));else if(h&&!m)D===0||D===3?S.processX(y,r,!0):S.processX(-y,r,!1,!0);else if(!h&&m)D===0||D===3?t.processX(-y,e,!1,!0):t.processX(y,e,!0);else{var F=y*.5;D===0?d?(S.processX(y,0,!0),t.processX(0,null,!1,!0)):f?(S.processX(F,0,!0),t.processX(-F,0,!1,!0)):(S.processX(F,t.velocity.x,!0),t.processX(-F,null,!1,!0)):D===1?s?(S.processX(0,null,!1,!0),t.processX(y,0,!0)):l?(S.processX(-F,0,!1,!0),t.processX(F,0,!0)):(S.processX(-F,null,!1,!0),t.processX(F,S.velocity.x,!0)):D===2?d?(S.processX(-y,0,!1,!0),t.processX(0,null,!0)):u?(S.processX(-F,0,!1,!0),t.processX(F,0,!0)):(S.processX(-F,t.velocity.x,!1,!0),t.processX(F,null,!0)):D===3&&(s?(S.processX(0,null,!0),t.processX(-y,0,!1,!0)):n?(S.processX(F,0,!0),t.processX(-F,0,!1,!0)):(S.processX(F,t.velocity.y,!0),t.processX(-F,null,!1,!0)))}return!0},w=function(D){if(D===1?t.velocity.x=0:v?t.processX(y,e,!0):t.processX(-y,e,!1,!0),S.moves){var F=S.directControl?S.y-S.autoFrame.y:S.y-S.prev.y;t.y+=F*S.friction.y,t._dy=t.y-t.prev.y}},M=function(D){if(D===2?S.velocity.x=0:g?S.processX(y,r,!0):S.processX(-y,r,!1,!0),t.moves){var F=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;S.y+=F*t.friction.y,S._dy=S.y-S.prev.y}};c.exports={BlockCheck:E,Check:A,Set:T,Run:P,RunImmovableBody1:w,RunImmovableBody2:M}},47962:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,m,o,a,r,e,n,l,s,u,f,d,v,g,y,T=function(D,F,L){S=D,t=F;var O=S.velocity.y,B=t.velocity.y;return h=S.pushable,n=S._dy<0,l=S._dy>0,s=S._dy===0,v=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),r=B-O*S.bounce.y,m=t.pushable,u=t._dy<0,f=t._dy>0,d=t._dy===0,g=!v,e=O-B*t.bounce.y,y=Math.abs(L),E()},E=function(){return l&&v&&t.blocked.down?(S.processY(-y,r,!1,!0),1):n&&g&&t.blocked.up?(S.processY(y,r,!0),1):f&&g&&S.blocked.down?(t.processY(-y,e,!1,!0),2):u&&v&&S.blocked.up?(t.processY(y,e,!0),2):0},A=function(){var D=S.velocity.y,F=t.velocity.y,L=Math.sqrt(F*F*t.mass/S.mass)*(F>0?1:-1),O=Math.sqrt(D*D*S.mass/t.mass)*(D>0?1:-1),B=(L+O)*.5;return L-=B,O-=B,o=B+L*S.bounce.y,a=B+O*t.bounce.y,n&&g?P(0):u&&v?P(1):l&&v?P(2):f&&g?P(3):!1},P=function(D){if(h&&m)y*=.5,D===0||D===3?(S.processY(y,o),t.processY(-y,a)):(S.processY(-y,o),t.processY(y,a));else if(h&&!m)D===0||D===3?S.processY(y,r,!0):S.processY(-y,r,!1,!0);else if(!h&&m)D===0||D===3?t.processY(-y,e,!1,!0):t.processY(y,e,!0);else{var F=y*.5;D===0?d?(S.processY(y,0,!0),t.processY(0,null,!1,!0)):f?(S.processY(F,0,!0),t.processY(-F,0,!1,!0)):(S.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)):D===1?s?(S.processY(0,null,!1,!0),t.processY(y,0,!0)):l?(S.processY(-F,0,!1,!0),t.processY(F,0,!0)):(S.processY(-F,null,!1,!0),t.processY(F,S.velocity.y,!0)):D===2?d?(S.processY(-y,0,!1,!0),t.processY(0,null,!0)):u?(S.processY(-F,0,!1,!0),t.processY(F,0,!0)):(S.processY(-F,t.velocity.y,!1,!0),t.processY(F,null,!0)):D===3&&(s?(S.processY(0,null,!0),t.processY(-y,0,!1,!0)):n?(S.processY(F,0,!0),t.processY(-F,0,!1,!0)):(S.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)))}return!0},w=function(D){if(D===1?t.velocity.y=0:v?t.processY(y,e,!0):t.processY(-y,e,!1,!0),S.moves){var F=S.directControl?S.x-S.autoFrame.x:S.x-S.prev.x;t.x+=F*S.friction.x,t._dx=t.x-t.prev.x}},M=function(D){if(D===2?S.velocity.y=0:g?S.processY(y,r,!0):S.processY(-y,r,!1,!0),t.moves){var F=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;S.x+=F*t.friction.x,S._dx=S.x-S.prev.x}};c.exports={BlockCheck:E,Check:A,Set:T,Run:P,RunImmovableBody1:w,RunImmovableBody2:M}},14087:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64897),m=t(3017),o=function(a,r,e,n,l){l===void 0&&(l=h(a,r,e,n));var s=a.immovable,u=r.immovable;if(e||l===0||s&&u||a.customSeparateX||r.customSeparateX)return l!==0||a.embedded&&r.embedded;var f=m.Set(a,r,l);return!s&&!u?f>0?!0:m.Check():(s?m.RunImmovableBody1(f):u&&m.RunImmovableBody2(f),!0)};c.exports=o},89936:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45170),m=t(47962),o=function(a,r,e,n,l){l===void 0&&(l=h(a,r,e,n));var s=a.immovable,u=r.immovable;if(e||l===0||s&&u||a.customSeparateY||r.customSeparateY)return l!==0||a.embedded&&r.embedded;var f=m.Set(a,r,l);return!s&&!u?f>0?!0:m.Check():(s?m.RunImmovableBody1(f):u&&m.RunImmovableBody2(f),!0)};c.exports=o},95829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h={}),h.none=t,h.up=!1,h.down=!1,h.left=!1,h.right=!1,t||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h};c.exports=S},72624:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),m=t(83419),o=t(78389),a=t(37747),r=t(37303),e=t(95829),n=t(26099),l=new m({Mixins:[o],initialize:function(u,f){var d=64,v=64,g={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=f!==void 0;y&&f.displayWidth&&(d=f.displayWidth,v=f.displayHeight),y||(f=g),this.world=u,this.gameObject=y?f:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(f.x-d*f.originX,f.y-v*f.originY),this.width=d,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,u,f){if(u===void 0&&(u=!0),f===void 0&&(f=!0),!s||!s.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),s.body&&d.disable(s),this.gameObject=s,s.body=this,this.setSize(),u&&this.updateFromGameObject(),this.enable=f,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,u){return u===void 0&&(u=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,u,f){f===void 0&&(f=!0);var d=this.gameObject;if(d&&d.frame&&(s||(s=d.frame.realWidth),u||(u=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=u,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(u/2),f&&d&&d.getCenter){var v=d.displayWidth/2,g=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,g-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,u,f){return u===void 0&&(u=this.offset.x),f===void 0&&(f=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,u){var f=this.gameObject;s===void 0&&(s=f.x),u===void 0&&(u=f.y),this.world.staticTree.remove(this),f.setPosition(s,u),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,u){return this.isCircle?h(this,s,u):r(this,s,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var u=this.position,f=u.x+this.halfWidth,d=u.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(f,d,this.width/2):s.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},71464:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),m=t(83419),o=t(78389),a=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new m({Extends:e,Mixins:[o],initialize:function(u,f,d,v){!d&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:n(d)?(v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",h)):Array.isArray(d)&&n(d[0])?(v=d,d=null,v.forEach(function(g){g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=r(g,"classType",h)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,d,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,u=0;u<s.length;u++)s[u].body.reset();return this}});c.exports=l},82248:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55495),m=t(37742),o=t(45319),a=t(83419),r=t(79342),e=t(37747),n=t(20339),l=t(52816),s=t(50792),u=t(63012),f=t(43855),d=t(5470),v=t(94977),g=t(64897),y=t(45170),T=t(96523),E=t(35154),A=t(36383),P=t(25774),w=t(96602),M=t(87841),D=t(59542),F=t(40012),L=t(14087),O=t(89936),B=t(35072),U=t(72624),W=t(2483),H=t(61340),Y=t(26099),G=t(15994),X=new a({Extends:s,initialize:function(b,z){s.call(this),this.scene=b,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new P,this.gravity=new Y(E(z,"gravity.x",0),E(z,"gravity.y",0)),this.bounds=new M(E(z,"x",0),E(z,"y",0),E(z,"width",b.sys.scale.width),E(z,"height",b.sys.scale.height)),this.checkCollision={up:E(z,"checkCollision.up",!0),down:E(z,"checkCollision.down",!0),left:E(z,"checkCollision.left",!0),right:E(z,"checkCollision.right",!0)},this.fps=E(z,"fps",60),this.fixedStep=E(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(z,"timeScale",1),this.OVERLAP_BIAS=E(z,"overlapBias",4),this.TILE_BIAS=E(z,"tileBias",16),this.forceX=E(z,"forceX",!1),this.isPaused=E(z,"isPaused",!1),this._total=0,this.drawDebug=E(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(z,"debugShowBody",!0),debugShowStaticBody:E(z,"debugShowStaticBody",!0),debugShowVelocity:E(z,"debugShowVelocity",!0),bodyDebugColor:E(z,"debugBodyColor",16711935),staticBodyDebugColor:E(z,"debugStaticBodyColor",255),velocityDebugColor:E(z,"debugVelocityColor",65280)},this.maxEntries=E(z,"maxEntries",16),this.useTree=E(z,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(V,b){b===void 0&&(b=e.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var z=0;z<V.length;z++){var $=V[z];if($.isParent)for(var Q=$.getChildren(),Z=0;Z<Q.length;Z++){var q=Q[Z];q.isParent?this.enable(q,b):this.enableBody(q,b)}else this.enableBody($,b)}},enableBody:function(V,b){return b===void 0&&(b=e.DYNAMIC_BODY),V.hasTransformComponent&&(V.body||(b===e.DYNAMIC_BODY?V.body=new m(this,V):b===e.STATIC_BODY&&(V.body=new U(this,V))),this.add(V.body)),V},add:function(V){return V.physicsType===e.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===e.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var b=0;b<V.length;b++){var z=V[b];if(z.isParent)for(var $=z.getChildren(),Q=0;Q<$.length;Q++){var Z=$[Q];Z.isParent?this.disable(Z):this.disableBody(Z.body)}else this.disableBody(z.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===e.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,b,z,$,Q,Z,q,j){return this.bounds.setTo(V,b,z,$),Q!==void 0&&this.setBoundsCollision(Q,Z,q,j),this},setBoundsCollision:function(V,b,z,$){return V===void 0&&(V=!0),b===void 0&&(b=!0),z===void 0&&(z=!0),$===void 0&&($=!0),this.checkCollision.left=V,this.checkCollision.right=b,this.checkCollision.up=z,this.checkCollision.down=$,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(V,b,z,$,Q){z===void 0&&(z=null),$===void 0&&($=null),Q===void 0&&(Q=z);var Z=new r(this,!1,V,b,z,$,Q);return this.colliders.add(Z),Z},addOverlap:function(V,b,z,$,Q){z===void 0&&(z=null),$===void 0&&($=null),Q===void 0&&(Q=z);var Z=new r(this,!0,V,b,z,$,Q);return this.colliders.add(Z),Z},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,b){if(!(this.isPaused||this.bodies.size===0)){var z,$=this._frameTime,Q=this._frameTimeMS*this.timeScale;this._elapsed+=b;var Z,q=this.bodies.entries,j=this._elapsed>=Q;for(this.fixedStep||($=b*.001,j=!0,this._elapsed=0),z=0;z<q.length;z++)Z=q[z],Z.enable&&Z.preUpdate(j,$);if(j){this._elapsed-=Q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(q));var k=this.colliders.update();for(z=0;z<k.length;z++){var _=k[z];_.active&&_.update()}this.emit(u.WORLD_STEP,$)}for(;this._elapsed>=Q;)this._elapsed-=Q,this.step($)}},step:function(V){var b,z,$=this.bodies.entries,Q=$.length;for(b=0;b<Q;b++)z=$[b],z.enable&&z.update(V);this.useTree&&(this.tree.clear(),this.tree.load($));var Z=this.colliders.update();for(b=0;b<Z.length;b++){var q=Z[b];q.active&&q.update()}this.emit(u.WORLD_STEP,V),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var V,b,z=this.bodies.entries,$=z.length,Q=this.bodies,Z=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<$;V++)b=z[V],b.enable&&b.postUpdate();if(this.drawDebug){var q=this.debugGraphic;for(q.clear(),V=0;V<$;V++)b=z[V],b.willDrawDebug()&&b.drawDebug(q);for(z=Z.entries,$=z.length,V=0;V<$;V++)b=z[V],b.willDrawDebug()&&b.drawDebug(q)}var j=this.pendingDestroy;if(j.size>0){var k=this.tree,_=this.staticTree;for(z=j.entries,$=z.length,V=0;V<$;V++)b=z[V],b.physicsType===e.DYNAMIC_BODY?(k.remove(b),Q.delete(b)):b.physicsType===e.STATIC_BODY&&(_.remove(b),Z.delete(b)),b.world=void 0,b.gameObject=void 0;j.clear()}},updateMotion:function(V,b){V.allowRotation&&this.computeAngularVelocity(V,b),this.computeVelocity(V,b)},computeAngularVelocity:function(V,b){var z=V.angularVelocity,$=V.angularAcceleration,Q=V.angularDrag,Z=V.maxAngular;$?z+=$*b:V.allowDrag&&Q&&(Q*=b,d(z-Q,0,.1)?z-=Q:v(z+Q,0,.1)?z+=Q:z=0),z=o(z,-Z,Z);var q=z-V.angularVelocity;V.angularVelocity+=q,V.rotation+=V.angularVelocity*b},computeVelocity:function(V,b){var z=V.velocity.x,$=V.acceleration.x,Q=V.drag.x,Z=V.maxVelocity.x,q=V.velocity.y,j=V.acceleration.y,k=V.drag.y,_=V.maxVelocity.y,et=V.speed,it=V.maxSpeed,st=V.allowDrag,nt=V.useDamping;V.allowGravity&&(z+=(this.gravity.x+V.gravity.x)*b,q+=(this.gravity.y+V.gravity.y)*b),$?z+=$*b:st&&Q&&(nt?(Q=Math.pow(Q,b),z*=Q,et=Math.sqrt(z*z+q*q),f(et,0,.001)&&(z=0)):(Q*=b,d(z-Q,0,.01)?z-=Q:v(z+Q,0,.01)?z+=Q:z=0)),j?q+=j*b:st&&k&&(nt?(k=Math.pow(k,b),q*=k,et=Math.sqrt(z*z+q*q),f(et,0,.001)&&(q=0)):(k*=b,d(q-k,0,.01)?q-=k:v(q+k,0,.01)?q+=k:q=0)),z=o(z,-Z,Z),q=o(q,-_,_),V.velocity.set(z,q),it>-1&&V.velocity.length()>it&&(V.velocity.normalize().scale(it),et=it),V.speed=et},separate:function(V,b,z,$,Q){var Z,q,j=!1,k=!0;if(!V.enable||!b.enable||V.checkCollision.none||b.checkCollision.none||!this.intersects(V,b)||z&&z.call($,V.gameObject||V,b.gameObject||b)===!1)return j;if(V.isCircle||b.isCircle){var _=this.separateCircle(V,b,Q);_.result?(j=!0,k=!1):(Z=_.x,q=_.y,k=!0)}if(k){var et=!1,it=!1,st=this.OVERLAP_BIAS;Q?(et=L(V,b,Q,st,Z),it=O(V,b,Q,st,q)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(et=L(V,b,Q,st,Z),this.intersects(V,b)&&(it=O(V,b,Q,st,q))):(it=O(V,b,Q,st,q),this.intersects(V,b)&&(et=L(V,b,Q,st,Z))),j=et||it}return j&&(Q?(V.onOverlap||b.onOverlap)&&this.emit(u.OVERLAP,V.gameObject,b.gameObject,V,b):(V.onCollide||b.onCollide)&&this.emit(u.COLLIDE,V.gameObject,b.gameObject,V,b)),j},separateCircle:function(V,b,z){g(V,b,!1,0),y(V,b,!1,0);var $=V.isCircle,Q=b.isCircle,Z=V.center,q=b.center,j=V.immovable,k=b.immovable,_=V.velocity,et=b.velocity,it=0,st=!0;if($!==Q){st=!1;var nt=Z.x,ut=Z.y,ft=V.halfWidth,ot=b.position.x,rt=b.position.y,lt=b.right,dt=b.bottom;Q&&(nt=q.x,ut=q.y,ft=b.halfWidth,ot=V.position.x,rt=V.position.y,lt=V.right,dt=V.bottom),ut<rt?nt<ot?it=n(nt,ut,ot,rt)-ft:nt>lt&&(it=n(nt,ut,lt,rt)-ft):ut>dt&&(nt<ot?it=n(nt,ut,ot,dt)-ft:nt>lt&&(it=n(nt,ut,lt,dt)-ft)),it*=-1}else it=V.halfWidth+b.halfWidth-l(Z,q);V.overlapR=it,b.overlapR=it;var xt=h(Z,q),yt=(it+A.EPSILON)*Math.cos(xt),Ct=(it+A.EPSILON)*Math.sin(xt),St={overlap:it,result:!1,x:yt,y:Ct};if(z&&(!st||st&&it!==0))return St.result=!0,St;if(!st&&it===0||j&&k||V.customSeparateX||b.customSeparateX)return St.x=void 0,St.y=void 0,St;var Lt=!V.pushable&&!b.pushable;if(st){var zt=Z.x-q.x,qt=Z.y-q.y,Nt=Math.sqrt(Math.pow(zt,2)+Math.pow(qt,2)),Zt=(q.x-Z.x)/Nt||0,he=(q.y-Z.y)/Nt||0,jt=2*(_.x*Zt+_.y*he-et.x*Zt-et.y*he)/(V.mass+b.mass);(j||k||!V.pushable||!b.pushable)&&(jt*=2),!j&&V.pushable&&(_.x=_.x-jt/V.mass*Zt,_.y=_.y-jt/V.mass*he,_.multiply(V.bounce)),!k&&b.pushable&&(et.x=et.x+jt/b.mass*Zt,et.y=et.y+jt/b.mass*he,et.multiply(b.bounce)),!j&&!k&&(yt*=.5,Ct*=.5),(!j||V.pushable||Lt)&&(V.x-=yt,V.y-=Ct,V.updateCenter()),(!k||b.pushable||Lt)&&(b.x+=yt,b.y+=Ct,b.updateCenter()),St.result=!0}else(!j||V.pushable||Lt)&&(V.x-=yt,V.y-=Ct,V.updateCenter()),(!k||b.pushable||Lt)&&(b.x+=yt,b.y+=Ct,b.updateCenter()),St.x=void 0,St.y=void 0;return St},intersects:function(V,b){return V===b?!1:!V.isCircle&&!b.isCircle?!(V.right<=b.left||V.bottom<=b.top||V.left>=b.right||V.top>=b.bottom):V.isCircle?b.isCircle?l(V.center,b.center)<=V.halfWidth+b.halfWidth:this.circleBodyIntersects(V,b):this.circleBodyIntersects(b,V)},circleBodyIntersects:function(V,b){var z=o(V.center.x,b.left,b.right),$=o(V.center.y,b.top,b.bottom),Q=(V.center.x-z)*(V.center.x-z),Z=(V.center.y-$)*(V.center.y-$);return Q+Z<=V.halfWidth*V.halfWidth},overlap:function(V,b,z,$,Q){return z===void 0&&(z=null),$===void 0&&($=null),Q===void 0&&(Q=z),this.collideObjects(V,b,z,$,Q,!0)},collide:function(V,b,z,$,Q){return z===void 0&&(z=null),$===void 0&&($=null),Q===void 0&&(Q=z),this.collideObjects(V,b,z,$,Q,!1)},collideObjects:function(V,b,z,$,Q,Z){var q,j;V.isParent&&(V.physicsType===void 0||b===void 0||V===b)&&(V=V.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var k=Array.isArray(V),_=Array.isArray(b);if(this._total=0,!k&&!_)this.collideHandler(V,b,z,$,Q,Z);else if(!k&&_)for(q=0;q<b.length;q++)this.collideHandler(V,b[q],z,$,Q,Z);else if(k&&!_)if(b)for(q=0;q<V.length;q++)this.collideHandler(V[q],b,z,$,Q,Z);else for(q=0;q<V.length;q++){var et=V[q];for(j=q+1;j<V.length;j++)q!==j&&this.collideHandler(et,V[j],z,$,Q,Z)}else for(q=0;q<V.length;q++)for(j=0;j<b.length;j++)this.collideHandler(V[q],b[j],z,$,Q,Z);return this._total>0},collideHandler:function(V,b,z,$,Q,Z){if(b===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,z,$,Q,Z);if(!V||!b)return!1;if(V.body||V.isBody){if(b.body||b.isBody)return this.collideSpriteVsSprite(V,b,z,$,Q,Z);if(b.isParent)return this.collideSpriteVsGroup(V,b,z,$,Q,Z);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(V,b,z,$,Q,Z)}else if(V.isParent){if(b.body||b.isBody)return this.collideSpriteVsGroup(b,V,z,$,Q,Z);if(b.isParent)return this.collideGroupVsGroup(V,b,z,$,Q,Z);if(b.isTilemap)return this.collideGroupVsTilemapLayer(V,b,z,$,Q,Z)}else if(V.isTilemap){if(b.body||b.isBody)return this.collideSpriteVsTilemapLayer(b,V,z,$,Q,Z);if(b.isParent)return this.collideGroupVsTilemapLayer(b,V,z,$,Q,Z)}},canCollide:function(V,b){return V&&b&&(V.collisionMask&b.collisionCategory)!==0&&(b.collisionMask&V.collisionCategory)!==0},collideSpriteVsSprite:function(V,b,z,$,Q,Z){var q=V.isBody?V:V.body,j=b.isBody?b:b.body;return this.canCollide(q,j)?(this.separate(q,j,$,Q,Z)&&(z&&z.call(Q,V,b),this._total++),!0):!1},collideSpriteVsGroup:function(V,b,z,$,Q,Z){var q=V.isBody?V:V.body;if(!(b.getLength()===0||!q||!q.enable||q.checkCollision.none||!this.canCollide(q,b))){var j,k,_;if(this.useTree||b.physicsType===e.STATIC_BODY){var et=this.treeMinMax;et.minX=q.left,et.minY=q.top,et.maxX=q.right,et.maxY=q.bottom;var it=b.physicsType===e.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(k=it.length,j=0;j<k;j++)_=it[j],!(q===_||!_.enable||_.checkCollision.none||!b.contains(_.gameObject))&&this.separate(q,_,$,Q,Z)&&(z&&z.call(Q,q.gameObject,_.gameObject),this._total++)}else{var st=b.getChildren(),nt=b.children.entries.indexOf(V);for(k=st.length,j=0;j<k;j++)_=st[j].body,!(!_||j===nt||!_.enable)&&this.separate(q,_,$,Q,Z)&&(z&&z.call(Q,q.gameObject,_.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,b,z,$,Q,Z){if(!this.canCollide(V,b))return!1;var q=V.getChildren();if(q.length===0)return!1;for(var j=!1,k=0;k<q.length;k++)(q[k].body||q[k].isBody)&&this.collideSpriteVsTilemapLayer(q[k],b,z,$,Q,Z)&&(j=!0);return j},collideTiles:function(V,b,z,$,Q){return b.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,b,z,$,Q,!1,!1)},overlapTiles:function(V,b,z,$,Q){return b.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,b,z,$,Q,!0,!1)},collideSpriteVsTilemapLayer:function(V,b,z,$,Q,Z){var q=V.isBody?V:V.body;if(!q.enable||q.checkCollision.none||!this.canCollide(q,b))return!1;var j=b.layer,k=q.x-j.tileWidth*b.scaleX,_=q.y-j.tileHeight*b.scaleY,et=q.width+j.tileWidth*b.scaleX,it=q.height+j.tileHeight*b.scaleY,st=Z?null:this.tileFilterOptions,nt=T(k,_,et,it,st,b.scene.cameras.main,b.layer);return nt.length===0?!1:this.collideSpriteVsTilesHandler(V,nt,z,$,Q,Z,!0)},collideSpriteVsTilesHandler:function(V,b,z,$,Q,Z,q){for(var j=V.isBody?V:V.body,k,_={left:0,right:0,top:0,bottom:0},et,it=!1,st=0;st<b.length;st++){k=b[st],et=k.tilemapLayer;var nt=et.tileToWorldXY(k.x,k.y);_.left=nt.x,_.top=nt.y,_.right=_.left+k.width*et.scaleX,_.bottom=_.top+k.height*et.scaleY,W(_,j)&&(!$||$.call(Q,V,k))&&w(k,V)&&(Z||F(st,j,k,_,et,this.TILE_BIAS,q))&&(this._total++,it=!0,z&&z.call(Q,V,k),Z&&j.onOverlap?this.emit(u.TILE_OVERLAP,V,k,j):j.onCollide&&this.emit(u.TILE_COLLIDE,V,k,j))}return it},collideGroupVsGroup:function(V,b,z,$,Q,Z){if(!(V.getLength()===0||b.getLength()===0||!this.canCollide(V,b)))for(var q=V.getChildren(),j=0;j<q.length;j++)this.collideSpriteVsGroup(q[j],b,z,$,Q,Z)},wrap:function(V,b){V.body?this.wrapObject(V,b):V.getChildren?this.wrapArray(V.getChildren(),b):Array.isArray(V)?this.wrapArray(V,b):this.wrapObject(V,b)},wrapArray:function(V,b){for(var z=0;z<V.length;z++)this.wrapObject(V[z],b)},wrapObject:function(V,b){b===void 0&&(b=0),V.x=G(V.x,this.bounds.left-b,this.bounds.right+b),V.y=G(V.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=X},1093:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};c.exports=S},59023:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};c.exports=S},62069:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,m,o){return this.body.setCollideWorldBounds(t,h,m,o),this}};c.exports=S},78389:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79599),m={setCollisionCategory:function(o){var a=this.body?this.body:this;return a.collisionCategory=o,this},willCollideWith:function(o){var a=this.body?this.body:this;return(a.collisionMask&o)!==0},addCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask|o,this},removeCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask&~o,this},setCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=h(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=2147483647,this}};c.exports=m},87118:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,h,m){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=m,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};c.exports=S},52819:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};c.exports=S},4074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,h,m,o,a){return t&&this.body.reset(h,m),o&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=S},40831:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};c.exports=S},26775:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};c.exports=S},9437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};c.exports=S},30621:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};c.exports=S},72441:(c,S,t)=>{var h=t(47956),m=t(96503),o=t(2044),a=t(81491),r=function(e,n,l,s,u,f){var d=h(e,n-s,l-s,2*s,2*s,u,f);if(d.length===0)return d;for(var v=new m(n,l,s),g=new m,y=[],T=0;T<d.length;T++){var E=d[T];E.isCircle?(g.setTo(E.center.x,E.center.y,E.halfWidth),o(v,g)&&y.push(E)):a(v,E)&&y.push(E)}return y};c.exports=r},47956:c=>{var S=function(t,h,m,o,a,r,e){r===void 0&&(r=!0),e===void 0&&(e=!1);var n=[],l=[],s=t.treeMinMax;if(s.minX=h,s.minY=m,s.maxX=h+o,s.maxY=m+a,e&&(l=t.staticTree.search(s)),r&&t.useTree)n=t.tree.search(s);else if(r){var u=t.bodies,f={position:{x:h,y:m},left:h,top:m,right:h+o,bottom:m+a,isCircle:!1},d=t.intersects;u.iterate(function(v){d(v,f)&&n.push(v)})}return l.concat(n)};c.exports=S},62121:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};c.exports=S},29384:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,m){return this.body.setSize(t,h,m),this},setBodySize:function(t,h,m){return this.body.setSize(t,h,m),this},setCircle:function(t,h,m){return this.body.setCircle(t,h,m),this}};c.exports=S},15098:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};c.exports=S},92209:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=S},20009:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},36768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},60473:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},89954:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},61804:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},7161:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},34689:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},16006:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},63012:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),m=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=m(!1,o,h),c.exports=o},96602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};c.exports=S},36294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};c.exports=S},67013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};c.exports=S},40012:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21329),m=t(53442),o=t(2483),a=function(r,e,n,l,s,u,f){var d=l.left,v=l.top,g=l.right,y=l.bottom,T=n.faceLeft||n.faceRight,E=n.faceTop||n.faceBottom;if(f||(T=!0,E=!0),!T&&!E)return!1;var A=0,P=0,w=0,M=1;if(e.deltaAbsX()>e.deltaAbsY()?w=-1:e.deltaAbsX()<e.deltaAbsY()&&(M=-1),e.deltaX()!==0&&e.deltaY()!==0&&T&&E&&(w=Math.min(Math.abs(e.position.x-g),Math.abs(e.right-d)),M=Math.min(Math.abs(e.position.y-y),Math.abs(e.bottom-v))),w<M){if(T&&(A=h(e,n,d,g,u,f),A!==0&&!o(l,e)))return!0;E&&(P=m(e,n,v,y,u,f))}else{if(E&&(P=m(e,n,v,y,u,f),P!==0&&!o(l,e)))return!0;T&&(A=h(e,n,d,g,u,f))}return A!==0||P!==0};c.exports=a},21329:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36294),m=function(o,a,r,e,n,l){var s=0,u=a.faceLeft,f=a.faceRight,d=a.collideLeft,v=a.collideRight;return l||(u=!0,f=!0,d=!0,v=!0),o.deltaX()<0&&v&&o.checkCollision.left?f&&o.x<e&&(s=o.x-e,s<-n&&(s=0)):o.deltaX()>0&&d&&o.checkCollision.right&&u&&o.right>r&&(s=o.right-r,s>n&&(s=0)),s!==0&&(o.customSeparateX?o.overlapX=s:h(o,s)),s};c.exports=m},53442:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67013),m=function(o,a,r,e,n,l){var s=0,u=a.faceTop,f=a.faceBottom,d=a.collideUp,v=a.collideDown;return l||(u=!0,f=!0,d=!0,v=!0),o.deltaY()<0&&v&&o.checkCollision.up?f&&o.y<e&&(s=o.y-e,s<-n&&(s=0)):o.deltaY()>0&&d&&o.checkCollision.down&&u&&o.bottom>r&&(s=o.bottom-r,s>n&&(s=0)),s!==0&&(o.customSeparateY?o.overlapY=s:h(o,s)),s};c.exports=m},2483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};c.exports=S},55173:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};c.exports=h},44563:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(27064),Matter:t(3875)}},68174:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(26099),o=new h({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,e=this.centerDiff,n=a.bounds.max.x-a.bounds.min.x,l=a.bounds.max.y-a.bounds.min.y,s=n*a.centerOfMass.x,u=l*a.centerOfMass.y;return r.set(n/2,l/2),e.set(s-r.x,u-r.y),!0},getTopLeft:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new m(r+n.x+l.x,e+n.y+l.y)}return!1},getTopCenter:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new m(r+l.x,e+n.y+l.y)}return!1},getTopRight:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new m(r-(n.x-l.x),e+n.y+l.y)}return!1},getLeftCenter:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new m(r+n.x+l.x,e+l.y)}return!1},getCenter:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.centerDiff;return new m(r+n.x,e+n.y)}return!1},getRightCenter:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new m(r-(n.x-l.x),e+l.y)}return!1},getBottomLeft:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new m(r+n.x+l.x,e-(n.y-l.y))}return!1},getBottomCenter:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new m(r+l.x,e-(n.y-l.y))}return!1},getBottomRight:function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new m(r-(n.x-l.x),e-(n.y-l.y))}return!1}});c.exports=o},19933:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6790);h.Body=t(22562),h.Composite=t(69351),h.World=t(4372),h.Collision=t(52284),h.Detector=t(81388),h.Pairs=t(99561),h.Pair=t(4506),h.Query=t(73296),h.Resolver=t(66272),h.Constraint=t(48140),h.Common=t(53402),h.Engine=t(48413),h.Events=t(35810),h.Sleeping=t(53614),h.Plugin=t(73832),h.Bodies=t(66280),h.Composites=t(74116),h.Axes=t(66615),h.Bounds=t(15647),h.Svg=t(74058),h.Vector=t(31725),h.Vertices=t(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,c.exports=h},28137:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),m=t(83419),o=t(74116),a=t(48140),r=t(74058),e=t(75803),n=t(23181),l=t(34803),s=t(73834),u=t(19496),f=t(85791),d=t(98713),v=t(41598),g=new m({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(y,T,E,A,P){var w=h.rectangle(y,T,E,A,P);return this.world.add(w),w},trapezoid:function(y,T,E,A,P,w){var M=h.trapezoid(y,T,E,A,P,w);return this.world.add(M),M},circle:function(y,T,E,A,P){var w=h.circle(y,T,E,A,P);return this.world.add(w),w},polygon:function(y,T,E,A,P){var w=h.polygon(y,T,E,A,P);return this.world.add(w),w},fromVertices:function(y,T,E,A,P,w,M){typeof E=="string"&&(E=v.fromPath(E));var D=h.fromVertices(y,T,E,A,P,w,M);return this.world.add(D),D},fromPhysicsEditor:function(y,T,E,A,P){P===void 0&&(P=!0);var w=u.parseBody(y,T,E,A);return P&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(y,T,E,A,P,w){A===void 0&&(A=1),P===void 0&&(P={}),w===void 0&&(w=!0);for(var M=E.getElementsByTagName("path"),D=[],F=0;F<M.length;F++){var L=r.pathToVertices(M[F],30);A!==1&&v.scale(L,A,A),D.push(L)}var O=h.fromVertices(y,T,D,P);return w&&this.world.add(O),O},fromJSON:function(y,T,E,A,P){A===void 0&&(A={}),P===void 0&&(P=!0);var w=f.parseBody(y,T,E,A);return w&&P&&this.world.add(w),w},imageStack:function(y,T,E,A,P,w,M,D,F){M===void 0&&(M=0),D===void 0&&(D=0),F===void 0&&(F={});var L=this.world,O=this.sys.displayList;F.addToWorld=!1;var B=o.stack(E,A,P,w,M,D,function(U,W){var H=new n(L,U,W,y,T,F);return O.add(H),H.body});return L.add(B),B},stack:function(y,T,E,A,P,w,M){var D=o.stack(y,T,E,A,P,w,M);return this.world.add(D),D},pyramid:function(y,T,E,A,P,w,M){var D=o.pyramid(y,T,E,A,P,w,M);return this.world.add(D),D},chain:function(y,T,E,A,P,w){return o.chain(y,T,E,A,P,w)},mesh:function(y,T,E,A,P){return o.mesh(y,T,E,A,P)},newtonsCradle:function(y,T,E,A,P){var w=o.newtonsCradle(y,T,E,A,P);return this.world.add(w),w},car:function(y,T,E,A,P){var w=o.car(y,T,E,A,P);return this.world.add(w),w},softBody:function(y,T,E,A,P,w,M,D,F,L){var O=o.softBody(y,T,E,A,P,w,M,D,F,L);return this.world.add(O),O},joint:function(y,T,E,A,P){return this.constraint(y,T,E,A,P)},spring:function(y,T,E,A,P){return this.constraint(y,T,E,A,P)},constraint:function(y,T,E,A,P){A===void 0&&(A=1),P===void 0&&(P={}),P.bodyA=y.type==="body"?y:y.body,P.bodyB=T.type==="body"?T:T.body,isNaN(E)||(P.length=E),P.stiffness=A;var w=a.create(P);return this.world.add(w),w},worldConstraint:function(y,T,E,A){E===void 0&&(E=1),A===void 0&&(A={}),A.bodyB=y.type==="body"?y:y.body,isNaN(T)||(A.length=T),A.stiffness=E;var P=a.create(A);return this.world.add(P),P},mouseSpring:function(y){return this.pointerConstraint(y)},pointerConstraint:function(y){y===void 0&&(y={}),y.hasOwnProperty("render")||(y.render={visible:!1});var T=new d(this.scene,this.world,y);return this.world.add(T.constraint),T},image:function(y,T,E,A,P){var w=new n(this.world,y,T,E,A,P);return this.sys.displayList.add(w),w},tileBody:function(y,T){return new s(this.world,y,T)},sprite:function(y,T,E,A,P){var w=new l(this.world,y,T,E,A,P);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(y,T,E){return e(this.world,y,T,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=g},75803:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31884),m=t(95540),o=t(26099);function a(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var r=function(e,n,l,s){l===void 0&&(l={}),s===void 0&&(s=!0);var u=n.x,f=n.y;n.body={temp:!0,position:{x:u,y:f}};var d=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(d.forEach(function(g){for(var y in g)a(g[y])?Object.defineProperty(n,y,{get:g[y].get,set:g[y].set}):Object.defineProperty(n,y,{value:g[y]})}),n.world=e,n._tempVec2=new o(u,f),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,s);else{var v=m(l,"shape",null);v||(v="rectangle"),l.addToWorld=s,n.setBody(v,l)}return n};c.exports=r},23181:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31884),o=t(95643),a=t(95540),r=t(88571),e=t(72699),n=t(26099),l=new h({Extends:r,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,e],initialize:function(u,f,d,v,g,y){o.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,g),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new n(f,d);var T=a(y,"shape",null);T?this.setBody(T,y):this.setRectangle(this.width,this.height,y),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=l},42045:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),m=t(66615),o=t(66280),a=t(22562),r=t(68174),e=t(15647),n=t(83419),l=t(52284),s=t(53402),u=t(69351),f=t(74116),d=t(48140),v=t(81388),g=t(20339),y=t(28137),T=t(95540),E=t(35154),A=t(46975),P=t(4506),w=t(99561),M=t(37277),D=t(73296),F=t(66272),L=t(44594),O=t(74058),B=t(31725),U=t(41598),W=t(68243);s.setDecomp(t(55973));var H=new n({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=u,this.collision=l,this.detector=v,this.pair=P,this.pairs=w,this.query=D,this.resolver=F,this.constraint=d,this.bodies=o,this.composites=f,this.axes=m,this.bounds=e,this.svg=O,this.vector=B,this.vertices=U,this.verts=U,this._tempVec2=B.create(),F._restingThresh=E(this.config,"restingThresh",4),F._restingThreshTangent=E(this.config,"restingThreshTangent",6),F._positionDampen=E(this.config,"positionDampen",.9),F._positionWarming=E(this.config,"positionWarming",.8),F._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),G.sys.events.once(L.BOOT,this.boot,this),G.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new y(this.world),this.bodyBounds=new r,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new y(this.world));var Y=this.systems.events;Y.on(L.UPDATE,this.world.update,this.world),Y.on(L.POST_UPDATE,this.world.postUpdate,this.world),Y.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,G=this.systems.settings.physics,X=A(T(G,"matter",{}),T(Y,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,G){this.world.step(Y,G)},containsPoint:function(Y,G,X){Y=this.getMatterBodies(Y);var V=B.create(G,X),b=D.point(Y,V);return b.length>0},intersectPoint:function(Y,G,X){X=this.getMatterBodies(X);var V=B.create(Y,G),b=[],z=D.point(X,V);return z.forEach(function($){b.indexOf($)===-1&&b.push($)}),b},intersectRect:function(Y,G,X,V,b,z){b===void 0&&(b=!1),z=this.getMatterBodies(z);var $={min:{x:Y,y:G},max:{x:Y+X,y:G+V}},Q=[],Z=D.region(z,$,b);return Z.forEach(function(q){Q.indexOf(q)===-1&&Q.push(q)}),Q},intersectRay:function(Y,G,X,V,b,z){b===void 0&&(b=1),z=this.getMatterBodies(z);for(var $=[],Q=D.ray(z,B.create(Y,G),B.create(X,V),b),Z=0;Z<Q.length;Z++)$.push(Q[Z].body);return $},intersectBody:function(Y,G){G=this.getMatterBodies(G);for(var X=[],V=D.collides(Y,G),b=0;b<V.length;b++){var z=V[b];z.bodyA===Y?X.push(z.bodyB):X.push(z.bodyA)}return X},overlap:function(Y,G,X,V,b){X===void 0&&(X=null),V===void 0&&(V=null),b===void 0&&(b=X),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),G=this.getMatterBodies(G);for(var z=!1,$=0;$<Y.length;$++)for(var Q=Y[$],Z=D.collides(Q,G),q=0;q<Z.length;q++){var j=Z[q],k=j.bodyA.id===Q.id?j.bodyB:j.bodyA;if(!V||V.call(b,Q,k,j)){if(z=!0,X)X.call(b,Q,k,j);else if(!V)return!0}}return z},setCollisionCategory:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.category=G}),this},setCollisionGroup:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.group=G}),this},setCollidesWith:function(Y,G){Y=this.getMatterBodies(Y);var X=0;if(!Array.isArray(G))X=G;else for(var V=0;V<G.length;V++)X|=G[V];return Y.forEach(function(b){b.collisionFilter.mask=X}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var G=[],X=0;X<Y.length;X++){var V=Y[X].hasOwnProperty("body")?Y[X].body:Y[X];G.push(V)}return G},setVelocity:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.x=G,V.y=X,Y.forEach(function(b){a.setVelocity(b,V)}),this},setVelocityX:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.x=G,Y.forEach(function(V){X.y=V.velocity.y,a.setVelocity(V,X)}),this},setVelocityY:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.y=G,Y.forEach(function(V){X.x=V.velocity.x,a.setVelocity(V,X)}),this},setAngularVelocity:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){a.setAngularVelocity(X,G)}),this},applyForce:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return Y.forEach(function(V){X.x=V.position.x,X.y=V.position.y,a.applyForce(V,X,G)}),this},applyForceFromPosition:function(Y,G,X,V){Y=this.getMatterBodies(Y);var b=this._tempVec2;return Y.forEach(function(z){V===void 0&&(V=z.angle),b.x=X*Math.cos(V),b.y=X*Math.sin(V),a.applyForce(z,G,b)}),this},applyForceFromAngle:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return Y.forEach(function(b){X===void 0&&(X=b.angle),V.x=G*Math.cos(X),V.y=G*Math.sin(X),a.applyForce(b,{x:b.position.x,y:b.position.y},V)}),this},getConstraintLength:function(Y){var G=Y.pointA.x,X=Y.pointA.y,V=Y.pointB.x,b=Y.pointB.y;return Y.bodyA&&(G+=Y.bodyA.position.x,X+=Y.bodyA.position.y),Y.bodyB&&(V+=Y.bodyB.position.x,b+=Y.bodyB.position.y),g(G,X,V,b)},alignBody:function(Y,G,X,V){Y=Y.hasOwnProperty("body")?Y.body:Y;var b;switch(V){case h.TOP_LEFT:case h.LEFT_TOP:b=this.bodyBounds.getTopLeft(Y,G,X);break;case h.TOP_CENTER:b=this.bodyBounds.getTopCenter(Y,G,X);break;case h.TOP_RIGHT:case h.RIGHT_TOP:b=this.bodyBounds.getTopRight(Y,G,X);break;case h.LEFT_CENTER:b=this.bodyBounds.getLeftCenter(Y,G,X);break;case h.CENTER:b=this.bodyBounds.getCenter(Y,G,X);break;case h.RIGHT_CENTER:b=this.bodyBounds.getRightCenter(Y,G,X);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:b=this.bodyBounds.getBottomLeft(Y,G,X);break;case h.BOTTOM_CENTER:b=this.bodyBounds.getBottomCenter(Y,G,X);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:b=this.bodyBounds.getBottomRight(Y,G,X);break}return b&&a.setPosition(Y,b),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(L.UPDATE,this.world.update,this.world),Y.off(L.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});M.register("MatterPhysics",H,"matterPhysics"),c.exports=H},34803:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),m=t(83419),o=t(31884),a=t(95643),r=t(95540),e=t(72699),n=t(68287),l=t(26099),s=new m({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,e],initialize:function(f,d,v,g,y,T){a.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(g,y),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(d,v);var E=r(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(d,v),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=s},73834:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),m=t(22562),o=t(83419),a=t(31884),r=t(62644),e=t(50792),n=t(95540),l=t(97022),s=t(41598),u=new o({Extends:e,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(d,v,g){e.call(this),this.tile=v,this.world=d,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var y=n(g,"body",null),T=n(g,"addToWorld",!0);if(y)this.setBody(y,T);else{var E=v.getCollisionGroup(),A=n(E,"objects",[]);A.length>0?this.setFromTileCollision(g):this.setFromTileRectangle(g)}if(v.flipX||v.flipY){var P={x:v.getCenterX(),y:v.getCenterY()},w=v.flipX?-1:1,M=v.flipY?-1:1;m.scale(y,w,M,P)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var d=this.tile.getBounds(),v=d.x+d.width/2,g=d.y+d.height/2,y=h.rectangle(v,g,d.width,d.height,f);return this.setBody(y,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,g=this.tile.getLeft(),y=this.tile.getTop(),T=this.tile.getCollisionGroup(),E=n(T,"objects",[]),A=[],P=0;P<E.length;P++){var w=E[P],M=g+w.x*d,D=y+w.y*v,F=w.width*d,L=w.height*v,O=null;if(w.rectangle)O=h.rectangle(M+F/2,D+L/2,F,L,f);else if(w.ellipse)O=h.circle(M+F/2,D+L/2,F/2,f);else if(w.polygon||w.polyline){var B=w.polygon?w.polygon:w.polyline,U=B.map(function(G){return{x:G.x*d,y:G.y*v}}),W=s.create(U),H=s.centre(W);M+=H.x,D+=H.y,O=h.fromVertices(M,D,W,f)}O&&A.push(O)}if(A.length===1)this.setBody(A[0],f.addToWorld);else if(A.length>1){var Y=r(f);Y.parts=A,this.setBody(m.create(Y),Y.addToWorld)}return this},setBody:function(f,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=u},19496:(c,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),m=t(22562),o=t(53402),a=t(95540),r=t(41598),e={parseBody:function(n,l,s,u){u===void 0&&(u={});for(var f=a(s,"fixtures",[]),d=[],v=0;v<f.length;v++)for(var g=this.parseFixture(f[v]),y=0;y<g.length;y++)d.push(g[y]);var T=o.clone(s,!0);o.extend(T,u,!0),delete T.fixtures,delete T.type;var E=m.create(T);return m.setParts(E,d),m.setPosition(E,{x:n,y:l}),E},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var s;if(n.circle){var u=a(n.circle,"x"),f=a(n.circle,"y"),d=a(n.circle,"radius");s=[h.circle(u,f,d,l)]}else n.vertices&&(s=this.parseVertices(n.vertices,l));return s},parseVertices:function(n,l){l===void 0&&(l={});for(var s=[],u=0;u<n.length;u++)r.clockwiseSort(n[u]),s.push(m.create(o.extend({position:r.centre(n[u]),vertices:n[u]},l)));return h.flagCoincidentParts(s)}};c.exports=e},85791:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),m=t(22562),o={parseBody:function(a,r,e,n){n===void 0&&(n={});var l,s=e.vertices;if(s.length===1)n.vertices=s[0],l=m.create(n),h.flagCoincidentParts(l.parts);else{for(var u=[],f=0;f<s.length;f++){var d=m.create({vertices:s[f]});u.push(d)}h.flagCoincidentParts(u),n.parts=u,l=m.create(n)}return l.label=e.label,m.setPosition(l,{x:a,y:r}),l}};c.exports=o},98713:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15647),m=t(83419),o=t(69351),a=t(48140),r=t(81388),e=t(1121),n=t(8214),l=t(46975),s=t(53614),u=t(26099),f=t(41598),d=new m({initialize:function(g,y,T){T===void 0&&(T={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=g,this.world=y,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=a.create(l(T,E)),this.world.on(e.BEFORE_UPDATE,this.update,this),g.sys.input.on(n.POINTER_DOWN,this.onDown,this),g.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var g=this.position,y=this.constraint;this.camera.getWorldPoint(v.x,v.y,g);for(var T=o.allBodies(this.world.localWorld),E=0;E<T.length;E++){var A=T[E];if(!A.ignorePointer&&h.contains(A.bounds,g)&&r.canCollide(A.collisionFilter,y.collisionFilter)&&this.hitTestBody(A,g))return this.world.emit(e.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(v,g){for(var y=this.constraint,T=v.parts.length,E=T>1?1:0,A=E;A<T;A++){var P=v.parts[A];if(f.contains(P.vertices,g))return y.pointA=g,y.pointB={x:g.x-v.position.x,y:g.y-v.position.y},y.bodyB=v,y.angleB=v.angle,s.set(v,!1),this.part=P,this.body=v,!0}return!1},update:function(){var v=this.pointer,g=this.body;if(!this.active||!v){g&&this.stopDrag();return}if(!v.isDown&&g){this.stopDrag();return}else if(v.isDown){if(!this.camera||!g&&!this.getBody(v))return;g=this.body;var y=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,y),T.pointA.x=y.x,T.pointA.y=y.y,s.set(g,!1),this.world.emit(e.DRAG,g,this)}},stopDrag:function(){var v=this.body,g=this.constraint;g.bodyB=null,g.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(e.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});c.exports=d},68243:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),m=t(22562),o=t(83419),a=t(53402),r=t(69351),e=t(48413),n=t(50792),l=t(1121),s=t(95540),u=t(35154),f=t(22562),d=t(35810),v=t(73834),g=t(4372),y=t(13037),T=t(31725),E=new o({Extends:n,initialize:function(P,w){n.call(this),this.scene=P,this.engine=e.create(w),this.localWorld=this.engine.world;var M=u(w,"gravity",null);M?this.setGravity(M.x,M.y,M.scale):M===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(w,"enabled",!0),this.getDelta=u(w,"getDelta",this.update60Hz);var D=s(w,"runner",{}),F=s(D,"fps",!1);F&&(D.delta=1e3/s(D,"fps",60)),this.runner=y.create(D),this.autoUpdate=u(w,"autoUpdate",!0);var L=u(w,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:s(L,"showAxes",!1),showAngleIndicator:s(L,"showAngleIndicator",!1),angleColor:s(L,"angleColor",15208787),showBroadphase:s(L,"showBroadphase",!1),broadphaseColor:s(L,"broadphaseColor",16757760),showBounds:s(L,"showBounds",!1),boundsColor:s(L,"boundsColor",16777215),showVelocity:s(L,"showVelocity",!1),velocityColor:s(L,"velocityColor",44783),showCollisions:s(L,"showCollisions",!1),collisionColor:s(L,"collisionColor",16094476),showSeparations:s(L,"showSeparations",!1),separationColor:s(L,"separationColor",16753920),showBody:s(L,"showBody",!0),showStaticBody:s(L,"showStaticBody",!0),showInternalEdges:s(L,"showInternalEdges",!1),renderFill:s(L,"renderFill",!1),renderLine:s(L,"renderLine",!0),fillColor:s(L,"fillColor",1075465),fillOpacity:s(L,"fillOpacity",1),lineColor:s(L,"lineColor",2678297),lineOpacity:s(L,"lineOpacity",1),lineThickness:s(L,"lineThickness",1),staticFillColor:s(L,"staticFillColor",857979),staticLineColor:s(L,"staticLineColor",1255396),showSleeping:s(L,"showSleeping",!1),staticBodySleepOpacity:s(L,"staticBodySleepOpacity",.7),sleepFillColor:s(L,"sleepFillColor",4605510),sleepLineColor:s(L,"sleepLineColor",10066585),showSensors:s(L,"showSensors",!0),sensorFillColor:s(L,"sensorFillColor",857979),sensorLineColor:s(L,"sensorLineColor",1255396),showPositions:s(L,"showPositions",!0),positionSize:s(L,"positionSize",4),positionColor:s(L,"positionColor",14697178),showJoint:s(L,"showJoint",!0),jointColor:s(L,"jointColor",14737474),jointLineOpacity:s(L,"jointLineOpacity",1),jointLineThickness:s(L,"jointLineThickness",2),pinSize:s(L,"pinSize",4),pinColor:s(L,"pinColor",4382944),springColor:s(L,"springColor",14697184),anchorColor:s(L,"anchorColor",15724527),anchorSize:s(L,"anchorSize",4),showConvexHulls:s(L,"showConvexHulls",!1),hullColor:s(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(w,"setBounds",!1)){var O=w.setBounds;if(typeof O=="boolean")this.setBounds();else{var B=s(O,"x",0),U=s(O,"y",0),W=s(O,"width",P.sys.scale.width),H=s(O,"height",P.sys.scale.height),Y=s(O,"thickness",64),G=s(O,"left",!0),X=s(O,"right",!0),V=s(O,"top",!0),b=s(O,"bottom",!0);this.setBounds(B,U,W,H,Y,G,X,V,b)}}},setCompositeRenderStyle:function(A){var P=A.bodies,w=A.constraints,M=A.composites,D,F,L;for(D=0;D<P.length;D++)F=P[D],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(D=0;D<w.length;D++)F=w[D],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(D=0;D<M.length;D++)F=M[D],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(A,P,w,M,D,F){var L=A.render,O=this.debugConfig;return L?(P==null&&(P=A.isStatic?O.staticLineColor:O.lineColor),w==null&&(w=O.lineOpacity),M==null&&(M=O.lineThickness),D==null&&(D=A.isStatic?O.staticFillColor:O.fillColor),F==null&&(F=O.fillOpacity),P!==!1&&(L.lineColor=P),w!==!1&&(L.lineOpacity=w),M!==!1&&(L.lineThickness=M),D!==!1&&(L.fillColor=D),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(A,P,w,M,D,F,L){var O=A.render,B=this.debugConfig;if(!O)return this;if(P==null){var U=O.type;U==="line"?P=B.jointColor:U==="pin"?P=B.pinColor:U==="spring"&&(P=B.springColor)}return w==null&&(w=B.jointLineOpacity),M==null&&(M=B.jointLineThickness),D==null&&(D=B.pinSize),F==null&&(F=B.anchorColor),L==null&&(L=B.anchorSize),P!==!1&&(O.lineColor=P),w!==!1&&(O.lineOpacity=w),M!==!1&&(O.lineThickness=M),D!==!1&&(O.pinSize=D),F!==!1&&(O.anchorColor=F),L!==!1&&(O.anchorSize=L),this},setEventsProxy:function(){var A=this,P=this.engine,w=this.localWorld;this.drawDebug&&(d.on(w,"compositeModified",function(M){A.setCompositeRenderStyle(M)}),d.on(w,"beforeAdd",function(M){for(var D=[].concat(M.object),F=0;F<D.length;F++){var L=D[F],O=L.render;L.type==="body"?A.setBodyRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):L.type==="composite"?A.setCompositeRenderStyle(L):L.type==="constraint"&&A.setConstraintRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),d.on(w,"beforeAdd",function(M){A.emit(l.BEFORE_ADD,M)}),d.on(w,"afterAdd",function(M){A.emit(l.AFTER_ADD,M)}),d.on(w,"beforeRemove",function(M){A.emit(l.BEFORE_REMOVE,M)}),d.on(w,"afterRemove",function(M){A.emit(l.AFTER_REMOVE,M)}),d.on(P,"beforeUpdate",function(M){A.emit(l.BEFORE_UPDATE,M)}),d.on(P,"afterUpdate",function(M){A.emit(l.AFTER_UPDATE,M)}),d.on(P,"collisionStart",function(M){var D=M.pairs,F,L;D.length>0&&D.map(function(O){F=O.bodyA,L=O.bodyB,F.gameObject&&F.gameObject.emit("collide",F,L,O),L.gameObject&&L.gameObject.emit("collide",L,F,O),d.trigger(F,"onCollide",{pair:O}),d.trigger(L,"onCollide",{pair:O}),F.onCollideCallback&&F.onCollideCallback(O),L.onCollideCallback&&L.onCollideCallback(O),F.onCollideWith[L.id]&&F.onCollideWith[L.id](L,O),L.onCollideWith[F.id]&&L.onCollideWith[F.id](F,O)}),A.emit(l.COLLISION_START,M,F,L)}),d.on(P,"collisionActive",function(M){var D=M.pairs,F,L;D.length>0&&D.map(function(O){F=O.bodyA,L=O.bodyB,F.gameObject&&F.gameObject.emit("collideActive",F,L,O),L.gameObject&&L.gameObject.emit("collideActive",L,F,O),d.trigger(F,"onCollideActive",{pair:O}),d.trigger(L,"onCollideActive",{pair:O}),F.onCollideActiveCallback&&F.onCollideActiveCallback(O),L.onCollideActiveCallback&&L.onCollideActiveCallback(O)}),A.emit(l.COLLISION_ACTIVE,M,F,L)}),d.on(P,"collisionEnd",function(M){var D=M.pairs,F,L;D.length>0&&D.map(function(O){F=O.bodyA,L=O.bodyB,F.gameObject&&F.gameObject.emit("collideEnd",F,L,O),L.gameObject&&L.gameObject.emit("collideEnd",L,F,O),d.trigger(F,"onCollideEnd",{pair:O}),d.trigger(L,"onCollideEnd",{pair:O}),F.onCollideEndCallback&&F.onCollideEndCallback(O),L.onCollideEndCallback&&L.onCollideEndCallback(O)}),A.emit(l.COLLISION_END,M,F,L)})},setBounds:function(A,P,w,M,D,F,L,O,B){return A===void 0&&(A=0),P===void 0&&(P=0),w===void 0&&(w=this.scene.sys.scale.width),M===void 0&&(M=this.scene.sys.scale.height),D===void 0&&(D=64),F===void 0&&(F=!0),L===void 0&&(L=!0),O===void 0&&(O=!0),B===void 0&&(B=!0),this.updateWall(F,"left",A-D,P-D,D,M+D*2),this.updateWall(L,"right",A+w,P-D,D,M+D*2),this.updateWall(O,"top",A,P-D,w,D),this.updateWall(B,"bottom",A,P+M,w,D),this},updateWall:function(A,P,w,M,D,F){var L=this.walls[P];A?(L&&g.remove(this.localWorld,L),w+=D/2,M+=F/2,this.walls[P]=this.create(w,M,D,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&g.remove(this.localWorld,L),this.walls[P]=null)},createDebugGraphic:function(){var A=this.scene.sys.add.graphics({x:0,y:0});return A.setDepth(Number.MAX_VALUE),this.debugGraphic=A,this.drawDebug=!0,A},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(A,P,w){return A===void 0&&(A=0),P===void 0&&(P=1),w===void 0&&(w=.001),this.localWorld.gravity.x=A,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=w,this},create:function(A,P,w,M,D){var F=h.rectangle(A,P,w,M,D);return g.add(this.localWorld,F),F},add:function(A){return g.add(this.localWorld,A),this},remove:function(A,P){Array.isArray(A)||(A=[A]);for(var w=0;w<A.length;w++){var M=A[w],D=M.body?M.body:M;r.remove(this.localWorld,D,P)}return this},removeConstraint:function(A,P){return r.remove(this.localWorld,A,P),this},convertTilemapLayer:function(A,P){var w=A.layer,M=A.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(M,P),this},convertTiles:function(A,P){if(A.length===0)return this;for(var w=0;w<A.length;w++)new v(this,A[w],P);return this},nextGroup:function(A){return f.nextGroup(A)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=a.now(),this.emit(l.RESUME),this},update:function(A){if(!(!this.enabled||!this.autoUpdate)){var P=this.engine,w=this.runner,M=a.now(),D=w.delta,F=0,L=A-w.timeLastTick;if((!L||!w.timeLastTick||L>Math.max(y._maxFrameDelta,w.maxFrameTime))&&(L=w.frameDelta||y._frameDeltaFallback),w.frameDeltaSmoothing){w.frameDeltaHistory.push(L),w.frameDeltaHistory=w.frameDeltaHistory.slice(-w.frameDeltaHistorySize);var O=w.frameDeltaHistory.slice(0).sort(),B=w.frameDeltaHistory.slice(O.length*y._smoothingLowerBound,O.length*y._smoothingUpperBound),U=y._mean(B);L=U||L}w.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),w.frameDelta=L,w.timeLastTick=A,w.timeBuffer+=w.frameDelta,w.timeBuffer=a.clamp(w.timeBuffer,0,w.frameDelta+D*y._timeBufferMargin),w.lastUpdatesDeferred=0;for(var W=w.maxUpdates||Math.ceil(w.maxFrameTime/D),H=a.now();D>0&&w.timeBuffer>=D*y._timeBufferMargin;){e.update(P,D),w.timeBuffer-=D,F+=1;var Y=a.now()-M,G=a.now()-H,X=Y+y._elapsedNextEstimate*G/F;if(F>=W||X>w.maxFrameTime){w.lastUpdatesDeferred=Math.round(Math.max(0,w.timeBuffer/D-y._timeBufferMargin));break}}}},step:function(A){e.update(this.engine,A)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(A){var P=A.hasOwnProperty("body")?A.body:A;return r.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var A=this.debugConfig,P=this.engine,w=this.debugGraphic,M=r.allBodies(this.localWorld);this.debugGraphic.clear(),A.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,w,A.broadphaseColor,.5),A.showBounds&&this.renderBodyBounds(M,w,A.boundsColor,.5),(A.showBody||A.showStaticBody)&&this.renderBodies(M),A.showJoint&&this.renderJoints(),(A.showAxes||A.showAngleIndicator)&&this.renderBodyAxes(M,w,A.showAxes,A.angleColor,.5),A.showVelocity&&this.renderBodyVelocity(M,w,A.velocityColor,1,2),A.showSeparations&&this.renderSeparations(P.pairs.list,w,A.separationColor),A.showCollisions&&this.renderCollisions(P.pairs.list,w,A.collisionColor)}},renderGrid:function(A,P,w,M){P.lineStyle(1,w,M);for(var D=a.keys(A.buckets),F=0;F<D.length;F++){var L=D[F];if(!(A.buckets[L].length<2)){var O=L.split(/C|R/);P.strokeRect(parseInt(O[1],10)*A.bucketWidth,parseInt(O[2],10)*A.bucketHeight,A.bucketWidth,A.bucketHeight)}}return this},renderSeparations:function(A,P,w){P.lineStyle(1,w,1);for(var M=0;M<A.length;M++){var D=A[M];if(D.isActive){var F=D.collision,L=F.bodyA,O=F.bodyB,B=L.position,U=O.position,W=F.penetration,H=!L.isStatic&&!O.isStatic?4:1;O.isStatic&&(H=0),P.lineBetween(U.x,U.y,U.x-W.x*H,U.y-W.y*H),H=!L.isStatic&&!O.isStatic?4:1,L.isStatic&&(H=0),P.lineBetween(B.x,B.y,B.x-W.x*H,B.y-W.y*H)}}return this},renderCollisions:function(A,P,w){P.lineStyle(1,w,.5),P.fillStyle(w,1);var M,D;for(M=0;M<A.length;M++)if(D=A[M],!!D.isActive)for(var F=0;F<D.contactCount;F++){var L=D.contacts[F],O=L.vertex;O&&P.fillRect(O.x-2,O.y-2,5,5)}for(M=0;M<A.length;M++)if(D=A[M],!!D.isActive){var B=D.collision,U=D.contacts;if(D.contactCount>0){var W=U[0].vertex.x,H=U[0].vertex.y;D.contactCount===2&&(W=(U[0].vertex.x+U[1].vertex.x)/2,H=(U[0].vertex.y+U[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?P.lineBetween(W-B.normal.x*8,H-B.normal.y*8,W,H):P.lineBetween(W+B.normal.x*8,H+B.normal.y*8,W,H)}}return this},renderBodyBounds:function(A,P,w,M){P.lineStyle(1,w,M);for(var D=0;D<A.length;D++){var F=A[D];if(F.render.visible){var L=F.bounds;if(L)P.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var O=F.parts,B=O.length>1?1:0;B<O.length;B++){var U=O[B];P.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(A,P,w,M,D){P.lineStyle(1,M,D);for(var F=0;F<A.length;F++){var L=A[F],O=L.parts;if(L.render.visible){var B,U,W;if(w)for(U=O.length>1?1:0;U<O.length;U++)for(B=O[U],W=0;W<B.axes.length;W++){var H=B.axes[W];P.lineBetween(B.position.x,B.position.y,B.position.x+H.x*20,B.position.y+H.y*20)}else for(U=O.length>1?1:0;U<O.length;U++)for(B=O[U],W=0;W<B.axes.length;W++)P.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(A,P,w,M,D){P.lineStyle(D,w,M);for(var F=0;F<A.length;F++){var L=A[F];L.render.visible&&P.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(A){for(var P=this.debugGraphic,w=this.debugConfig,M=w.showBody,D=w.showStaticBody,F=w.showSleeping,L=w.showInternalEdges,O=w.showConvexHulls,B=w.renderFill,U=w.renderLine,W=w.staticBodySleepOpacity,H=w.sleepFillColor,Y=w.sleepLineColor,G=w.hullColor,X=0;X<A.length;X++){var V=A[X];if(V.render.visible&&!(!D&&V.isStatic||!M&&!V.isStatic)){var b=V.render.lineColor,z=V.render.lineOpacity,$=V.render.lineThickness,Q=V.render.fillColor,Z=V.render.fillOpacity;F&&V.isSleeping&&(V.isStatic?(z*=W,Z*=W):(b=Y,Q=H)),B||(Q=null),U||(b=null),this.renderBody(V,P,L,b,z,$,Q,Z);var q=V.parts.length;O&&q>1&&this.renderConvexHull(V,P,G,$)}}},renderBody:function(A,P,w,M,D,F,L,O){M===void 0&&(M=null),D===void 0&&(D=null),F===void 0&&(F=1),L===void 0&&(L=null),O===void 0&&(O=null);for(var B=this.debugConfig,U=B.sensorFillColor,W=B.sensorLineColor,H=A.parts,Y=H.length,G=Y>1?1:0;G<Y;G++){var X=H[G],V=X.render,b=V.opacity;if(!(!V.visible||b===0||X.isSensor&&!B.showSensors)){var z=X.circleRadius;if(P.beginPath(),X.isSensor?(L!==null&&P.fillStyle(U,O*b),M!==null&&P.lineStyle(F,W,D*b)):(L!==null&&P.fillStyle(L,O*b),M!==null&&P.lineStyle(F,M,D*b)),z)P.arc(X.position.x,X.position.y,z,0,2*Math.PI);else{var $=X.vertices,Q=$.length;P.moveTo($[0].x,$[0].y);for(var Z=1;Z<Q;Z++){var q=$[Z];if(!$[Z-1].isInternal||w?P.lineTo(q.x,q.y):P.moveTo(q.x,q.y),Z<Q&&q.isInternal&&!w){var j=(Z+1)%Q;P.moveTo($[j].x,$[j].y)}}P.closePath()}L!==null&&P.fillPath(),M!==null&&P.strokePath()}}if(B.showPositions&&!A.isStatic){var k=A.position.x,_=A.position.y,et=Math.ceil(B.positionSize/2);P.fillStyle(B.positionColor,1),P.fillRect(k-et,_-et,B.positionSize,B.positionSize)}return this},renderConvexHull:function(A,P,w,M){M===void 0&&(M=1);var D=A.parts,F=D.length;if(F>1){var L=A.vertices;P.lineStyle(M,w),P.beginPath(),P.moveTo(L[0].x,L[0].y);for(var O=1;O<L.length;O++)P.lineTo(L[O].x,L[O].y);P.lineTo(L[0].x,L[0].y),P.strokePath()}return this},renderJoints:function(){for(var A=this.debugGraphic,P=r.allConstraints(this.localWorld),w=0;w<P.length;w++){var M=P[w].render,D=M.lineColor,F=M.lineOpacity,L=M.lineThickness,O=M.pinSize,B=M.anchorColor,U=M.anchorSize;this.renderConstraint(P[w],A,D,F,L,O,B,U)}},renderConstraint:function(A,P,w,M,D,F,L,O){var B=A.render;if(!B.visible||!A.pointA||!A.pointB)return this;P.lineStyle(D,w,M);var U=A.bodyA,W=A.bodyB,H,Y;if(U?H=T.add(U.position,A.pointA):H=A.pointA,B.type==="pin")P.strokeCircle(H.x,H.y,F);else{if(W?Y=T.add(W.position,A.pointB):Y=A.pointB,P.beginPath(),P.moveTo(H.x,H.y),B.type==="spring")for(var G=T.sub(Y,H),X=T.perp(T.normalise(G)),V=Math.ceil(a.clamp(A.length/5,12,20)),b,z=1;z<V;z+=1)b=z%2===0?1:-1,P.lineTo(H.x+G.x*(z/V)+X.x*b*4,H.y+G.y*(z/V)+X.y*b*4);P.lineTo(Y.x,Y.y)}return P.strokePath(),B.anchors&&O>0&&(P.fillStyle(L),P.fillCircle(H.x,H.y,O),P.fillCircle(Y.x,Y.y,O)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=E},70410:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};c.exports=S},66968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var m=0;m<t.length;m++)h|=t[m];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var m=0;m<t.length;m++){var o=t[m].hasOwnProperty("body")?t[m].body:t[m];this.body.setOnCollideWith(o,h)}return this}};c.exports=S},51607:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),m={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,a){return h.applyForce(this.body,o,a),this},thrust:function(o){var a=this.body.angle;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var a=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=m},5436:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h,m){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),m!==void 0&&(this.body.frictionStatic=m),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};c.exports=S},39858:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};c.exports=S},37302:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),m=t(26099),o={setMass:function(a){return h.setMass(this.body,a),this},setDensity:function(a){return h.setDensity(this.body,a),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=o},39132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};c.exports=S},57772:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),m=t(22562),o=t(43855),a=t(95540),r=t(19496),e=t(85791),n=t(41598),l={setRectangle:function(s,u,f){return this.setBody({type:"rectangle",width:s,height:u},f)},setCircle:function(s,u){return this.setBody({type:"circle",radius:s},u)},setPolygon:function(s,u,f){return this.setBody({type:"polygon",sides:u,radius:s},f)},setTrapezoid:function(s,u,f,d){return this.setBody({type:"trapezoid",width:s,height:u,slope:f},d)},setExistingBody:function(s,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var f=0;f<s.parts.length;f++)s.parts[f].gameObject=this;var d=this;if(s.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},u&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var v=s.render.sprite.xOffset,g=s.render.sprite.yOffset,y=s.centerOfMass.x,T=s.centerOfMass.y;if(o(y,.5)&&o(T,.5))this.setOrigin(v+.5,g+.5);else{var E=s.centerOffset.x,A=s.centerOffset.y;this.setOrigin(v+E/this.displayWidth,g+A/this.displayHeight)}}return this},setBody:function(s,u){if(!s)return this;var f;typeof s=="string"&&(s={type:s});var d=a(s,"type","rectangle"),v=a(s,"x",this._tempVec2.x),g=a(s,"y",this._tempVec2.y),y=a(s,"width",this.width),T=a(s,"height",this.height);switch(d){case"rectangle":f=h.rectangle(v,g,y,T,u);break;case"circle":var E=a(s,"radius",Math.max(y,T)/2),A=a(s,"maxSides",25);f=h.circle(v,g,E,u,A);break;case"trapezoid":var P=a(s,"slope",.5);f=h.trapezoid(v,g,y,T,P,u);break;case"polygon":var w=a(s,"sides",5),M=a(s,"radius",Math.max(y,T)/2);f=h.polygon(v,g,w,M,u);break;case"fromVertices":case"fromVerts":var D=a(s,"verts",null);if(D)if(typeof D=="string"&&(D=n.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,D),f=this.body;else{var F=a(s,"flagInternal",!1),L=a(s,"removeCollinear",.01),O=a(s,"minimumArea",10);f=h.fromVertices(v,g,D,u,F,L,O)}break;case"fromPhysicsEditor":f=r.parseBody(v,g,s,u);break;case"fromPhysicsTracer":f=e.parseBody(v,g,s,u);break}return f&&this.setExistingBody(f,s.addToWorld),this}};c.exports=l},38083:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1121),m=t(53614),o=t(35810),a={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,e){return this.setSleepStartEvent(r),this.setSleepEndEvent(e),this},setSleepStartEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepStart",function(n){e.emit(h.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepEnd",function(n){e.emit(h.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};c.exports=a},90556:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),m={setStatic:function(o){return h.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};c.exports=m},85436:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),m=t(36383),o=t(86554),a=t(30954),r=4,e={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),h.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this.setScale(n,n)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=r,h.scale(this.body,l,s),h.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=r,h.scale(this.body,l,s),h.scale(this.body,this._scaleX,n)}},angle:{get:function(){return a(this.body.angle*m.RAD_TO_DEG)},set:function(n){this.rotation=a(n)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),h.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),h.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),h.setAngle(this.body,n),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,h.setAngle(this.body,this.rotation),this},setScale:function(n,l,s){n===void 0&&(n=1),l===void 0&&(l=n);var u=1/this._scaleX,f=1/this._scaleY;return this._scaleX=n,this._scaleY=l,h.scale(this.body,u,f,s),h.scale(this.body,n,l,s),this}};c.exports=e},42081:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),m={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,a){return this._tempVec2.set(o,a),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(o){return h.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(o){return h.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};c.exports=m},31884:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},1213:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},25968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},67205:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},39438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},44823:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},92593:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},60128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},76861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},92362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},76408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},93971:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},5656:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},47861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},79099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},35906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},1121:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(c,S,t)=>{var h={};c.exports=h;var m=t(41598),o=t(31725),a=t(53614),r=t(53402),e=t(15647),n=t(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(s){var u={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:s.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=m.centre(s.vertices):s.hasOwnProperty("vertices")||(u.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=r.extend(u,s);return l(f,s),f.setOnCollideWith=function(d,v){return v?this.onCollideWith[d.id]=v:delete this.onCollideWith[d.id],this},f},h.nextGroup=function(s){return s?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var l=function(s,u){if(u=u||{},h.set(s,{bounds:s.bounds||e.create(s.vertices),positionPrev:s.positionPrev||o.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),m.rotate(s.vertices,s.angle,s.position),n.rotate(s.axes,s.angle),e.update(s.bounds,s.vertices,s.velocity),h.set(s,{axes:u.axes||s.axes,area:u.area||s.area,mass:u.mass||s.mass,inertia:u.inertia||s.inertia}),s.parts.length===1){var f=s.bounds,d=s.centerOfMass,v=s.centerOffset,g=f.max.x-f.min.x,y=f.max.y-f.min.y;d.x=-(f.min.x-s.position.x)/g,d.y=-(f.min.y-s.position.y)/y,v.x=g*d.x,v.y=y*d.y}};h.set=function(s,u,f){var d;typeof u=="string"&&(d=u,u={},u[d]=f);for(d in u)if(Object.prototype.hasOwnProperty.call(u,d))switch(f=u[d],d){case"isStatic":h.setStatic(s,f);break;case"isSleeping":a.set(s,f);break;case"mass":h.setMass(s,f);break;case"density":h.setDensity(s,f);break;case"inertia":h.setInertia(s,f);break;case"vertices":h.setVertices(s,f);break;case"position":h.setPosition(s,f);break;case"angle":h.setAngle(s,f);break;case"velocity":h.setVelocity(s,f);break;case"angularVelocity":h.setAngularVelocity(s,f);break;case"speed":h.setSpeed(s,f);break;case"angularSpeed":h.setAngularSpeed(s,f);break;case"parts":h.setParts(s,f);break;case"centre":h.setCentre(s,f);break;default:s[d]=f}},h.setStatic=function(s,u){for(var f=0;f<s.parts.length;f++){var d=s.parts[f];u?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=u}},h.setMass=function(s,u){var f=s.inertia/(s.mass/6);s.inertia=f*(u/6),s.inverseInertia=1/s.inertia,s.mass=u,s.inverseMass=1/s.mass,s.density=s.mass/s.area},h.setDensity=function(s,u){h.setMass(s,u*s.area),s.density=u},h.setInertia=function(s,u){s.inertia=u,s.inverseInertia=1/s.inertia},h.setVertices=function(s,u){u[0].body===s?s.vertices=u:s.vertices=m.create(u,s),s.axes=n.fromVertices(s.vertices),s.area=m.area(s.vertices),h.setMass(s,s.density*s.area);var f=m.centre(s.vertices);m.translate(s.vertices,f,-1),h.setInertia(s,h._inertiaScale*m.inertia(s.vertices,s.mass)),m.translate(s.vertices,s.position),e.update(s.bounds,s.vertices,s.velocity)},h.setParts=function(s,u,f){var d;for(u=u.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,d=0;d<u.length;d++){var v=u[d];v!==s&&(v.parent=s,s.parts.push(v))}if(s.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var g=[];for(d=0;d<u.length;d++)g=g.concat(u[d].vertices);m.clockwiseSort(g);var y=m.hull(g),T=m.centre(y);h.setVertices(s,y),m.translate(s.vertices,T)}var E=h._totalProperties(s),A=E.centre.x,P=E.centre.y,w=s.bounds,M=s.centerOfMass,D=s.centerOffset;e.update(w,s.vertices,s.velocity),M.x=-(w.min.x-A)/(w.max.x-w.min.x),M.y=-(w.min.y-P)/(w.max.y-w.min.y),D.x=A,D.y=P,s.area=E.area,s.parent=s,s.position.x=A,s.position.y=P,s.positionPrev.x=A,s.positionPrev.y=P,h.setMass(s,E.mass),h.setInertia(s,E.inertia),h.setPosition(s,E.centre)}},h.setCentre=function(s,u,f){f?(s.positionPrev.x+=u.x,s.positionPrev.y+=u.y,s.position.x+=u.x,s.position.y+=u.y):(s.positionPrev.x=u.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=u.y-(s.position.y-s.positionPrev.y),s.position.x=u.x,s.position.y=u.y)},h.setPosition=function(s,u,f){var d=o.sub(u,s.position);f?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=d.x,s.velocity.y=d.y,s.speed=o.magnitude(d)):(s.positionPrev.x+=d.x,s.positionPrev.y+=d.y);for(var v=0;v<s.parts.length;v++){var g=s.parts[v];g.position.x+=d.x,g.position.y+=d.y,m.translate(g.vertices,d),e.update(g.bounds,g.vertices,s.velocity)}},h.setAngle=function(s,u,f){var d=u-s.angle;f?(s.anglePrev=s.angle,s.angularVelocity=d,s.angularSpeed=Math.abs(d)):s.anglePrev+=d;for(var v=0;v<s.parts.length;v++){var g=s.parts[v];g.angle+=d,m.rotate(g.vertices,d,s.position),n.rotate(g.axes,d),e.update(g.bounds,g.vertices,s.velocity),v>0&&o.rotateAbout(g.position,d,s.position,g.position)}},h.setVelocity=function(s,u){var f=s.deltaTime/h._baseDelta;s.positionPrev.x=s.position.x-u.x*f,s.positionPrev.y=s.position.y-u.y*f,s.velocity.x=(s.position.x-s.positionPrev.x)/f,s.velocity.y=(s.position.y-s.positionPrev.y)/f,s.speed=o.magnitude(s.velocity)},h.getVelocity=function(s){var u=h._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*u,y:(s.position.y-s.positionPrev.y)*u}},h.getSpeed=function(s){return o.magnitude(h.getVelocity(s))},h.setSpeed=function(s,u){h.setVelocity(s,o.mult(o.normalise(h.getVelocity(s)),u))},h.setAngularVelocity=function(s,u){var f=s.deltaTime/h._baseDelta;s.anglePrev=s.angle-u*f,s.angularVelocity=(s.angle-s.anglePrev)/f,s.angularSpeed=Math.abs(s.angularVelocity)},h.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*h._baseDelta/s.deltaTime},h.getAngularSpeed=function(s){return Math.abs(h.getAngularVelocity(s))},h.setAngularSpeed=function(s,u){h.setAngularVelocity(s,r.sign(h.getAngularVelocity(s))*u)},h.translate=function(s,u,f){h.setPosition(s,o.add(s.position,u),f)},h.rotate=function(s,u,f,d){if(!f)h.setAngle(s,s.angle+u,d);else{var v=Math.cos(u),g=Math.sin(u),y=s.position.x-f.x,T=s.position.y-f.y;h.setPosition(s,{x:f.x+(y*v-T*g),y:f.y+(y*g+T*v)},d),h.setAngle(s,s.angle+u,d)}},h.scale=function(s,u,f,d){var v=0,g=0;d=d||s.position;for(var y=s.inertia===1/0,T=0;T<s.parts.length;T++){var E=s.parts[T];E.scale.x=u,E.scale.y=f,m.scale(E.vertices,u,f,d),E.axes=n.fromVertices(E.vertices),E.area=m.area(E.vertices),h.setMass(E,s.density*E.area),m.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),h.setInertia(E,h._inertiaScale*m.inertia(E.vertices,E.mass)),m.translate(E.vertices,{x:E.position.x,y:E.position.y}),T>0&&(v+=E.area,g+=E.inertia),E.position.x=d.x+(E.position.x-d.x)*u,E.position.y=d.y+(E.position.y-d.y)*f,e.update(E.bounds,E.vertices,s.velocity)}s.parts.length>1&&(s.area=v,s.isStatic||(h.setMass(s,s.density*v),h.setInertia(s,g))),s.circleRadius&&(u===f?s.circleRadius*=u:s.circleRadius=null),y&&h.setInertia(s,1/0)},h.update=function(s,u){u=(typeof u<"u"?u:16.666666666666668)*s.timeScale;var f=u*u,d=h._timeCorrection?u/(s.deltaTime||u):1,v=1-s.frictionAir*(u/r._baseDelta),g=(s.position.x-s.positionPrev.x)*d,y=(s.position.y-s.positionPrev.y)*d;s.velocity.x=g*v+s.force.x/s.mass*f,s.velocity.y=y*v+s.force.y/s.mass*f,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=u,s.angularVelocity=(s.angle-s.anglePrev)*v*d+s.torque/s.inertia*f,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=o.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var T=0;T<s.parts.length;T++){var E=s.parts[T];m.translate(E.vertices,s.velocity),T>0&&(E.position.x+=s.velocity.x,E.position.y+=s.velocity.y),s.angularVelocity!==0&&(m.rotate(E.vertices,s.angularVelocity,s.position),n.rotate(E.axes,s.angularVelocity),T>0&&o.rotateAbout(E.position,s.angularVelocity,s.position,E.position)),e.update(E.bounds,E.vertices,s.velocity)}},h.updateVelocities=function(s){var u=h._baseDelta/s.deltaTime,f=s.velocity;f.x=(s.position.x-s.positionPrev.x)*u,f.y=(s.position.y-s.positionPrev.y)*u,s.speed=Math.sqrt(f.x*f.x+f.y*f.y),s.angularVelocity=(s.angle-s.anglePrev)*u,s.angularSpeed=Math.abs(s.angularVelocity)},h.applyForce=function(s,u,f){var d={x:u.x-s.position.x,y:u.y-s.position.y};s.force.x+=f.x,s.force.y+=f.y,s.torque+=d.x*f.y-d.y*f.x},h._totalProperties=function(s){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=s.parts.length===1?0:1;f<s.parts.length;f++){var d=s.parts[f],v=d.mass!==1/0?d.mass:1;u.mass+=v,u.area+=d.area,u.inertia+=d.inertia,u.centre=o.add(u.centre,o.mult(d.position,v))}return u.centre=o.div(u.centre,u.mass),u},h.wrap=function(s,u){var f=e.wrap(s.bounds,u);return f&&h.translate(s,f),f}})()},69351:(c,S,t)=>{var h={};c.exports=h;var m=t(35810),o=t(53402),a=t(15647),r=t(22562);(function(){h.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},h.setModified=function(e,n,l,s){if(m.trigger(e,"compositeModified",e),e.isModified=n,n&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&h.setModified(e.parent,n,l,s),s)for(var u=0;u<e.composites.length;u++){var f=e.composites[u];h.setModified(f,n,l,s)}},h.add=function(e,n){var l=[].concat(n);m.trigger(e,"beforeAdd",{object:n});for(var s=0;s<l.length;s++){var u=l[s];switch(u.type){case"body":if(u.parent!==u){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(e,u);break;case"constraint":h.addConstraint(e,u);break;case"composite":h.addComposite(e,u);break;case"mouseConstraint":h.addConstraint(e,u.constraint);break}}return m.trigger(e,"afterAdd",{object:n}),e},h.remove=function(e,n,l){var s=[].concat(n);m.trigger(e,"beforeRemove",{object:n});for(var u=0;u<s.length;u++){var f=s[u];switch(f.type){case"body":h.removeBody(e,f,l);break;case"constraint":h.removeConstraint(e,f,l);break;case"composite":h.removeComposite(e,f,l);break;case"mouseConstraint":h.removeConstraint(e,f.constraint);break}}return m.trigger(e,"afterRemove",{object:n}),e},h.addComposite=function(e,n){return e.composites.push(n),n.parent=e,h.setModified(e,!0,!0,!1),e},h.removeComposite=function(e,n,l){var s=o.indexOf(e.composites,n);if(s!==-1){var u=h.allBodies(n);h.removeCompositeAt(e,s);for(var f=0;f<u.length;f++)u[f].sleepCounter=0}if(l)for(var f=0;f<e.composites.length;f++)h.removeComposite(e.composites[f],n,!0);return e},h.removeCompositeAt=function(e,n){return e.composites.splice(n,1),h.setModified(e,!0,!0,!1),e},h.addBody=function(e,n){return e.bodies.push(n),h.setModified(e,!0,!0,!1),e},h.removeBody=function(e,n,l){var s=o.indexOf(e.bodies,n);if(s!==-1&&(h.removeBodyAt(e,s),n.sleepCounter=0),l)for(var u=0;u<e.composites.length;u++)h.removeBody(e.composites[u],n,!0);return e},h.removeBodyAt=function(e,n){return e.bodies.splice(n,1),h.setModified(e,!0,!0,!1),e},h.addConstraint=function(e,n){return e.constraints.push(n),h.setModified(e,!0,!0,!1),e},h.removeConstraint=function(e,n,l){var s=o.indexOf(e.constraints,n);if(s!==-1&&h.removeConstraintAt(e,s),l)for(var u=0;u<e.composites.length;u++)h.removeConstraint(e.composites[u],n,!0);return e},h.removeConstraintAt=function(e,n){return e.constraints.splice(n,1),h.setModified(e,!0,!0,!1),e},h.clear=function(e,n,l){if(l)for(var s=0;s<e.composites.length;s++)h.clear(e.composites[s],n,!0);return n?e.bodies=e.bodies.filter(function(u){return u.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,h.setModified(e,!0,!0,!1),e},h.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var n=[].concat(e.bodies),l=0;l<e.composites.length;l++)n=n.concat(h.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=n),n},h.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var n=[].concat(e.constraints),l=0;l<e.composites.length;l++)n=n.concat(h.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=n),n},h.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var n=[].concat(e.composites),l=0;l<e.composites.length;l++)n=n.concat(h.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=n),n},h.get=function(e,n,l){var s,u;switch(l){case"body":s=h.allBodies(e);break;case"constraint":s=h.allConstraints(e);break;case"composite":s=h.allComposites(e).concat(e);break}return s?(u=s.filter(function(f){return f.id.toString()===n.toString()}),u.length===0?null:u[0]):null},h.move=function(e,n,l){return h.remove(e,n),h.add(l,n),e},h.rebase=function(e){for(var n=h.allBodies(e).concat(h.allConstraints(e)).concat(h.allComposites(e)),l=0;l<n.length;l++)n[l].id=o.nextId();return e},h.translate=function(e,n,l){for(var s=l?h.allBodies(e):e.bodies,u=0;u<s.length;u++)r.translate(s[u],n);return e},h.rotate=function(e,n,l,s){for(var u=Math.cos(n),f=Math.sin(n),d=s?h.allBodies(e):e.bodies,v=0;v<d.length;v++){var g=d[v],y=g.position.x-l.x,T=g.position.y-l.y;r.setPosition(g,{x:l.x+(y*u-T*f),y:l.y+(y*f+T*u)}),r.rotate(g,n)}return e},h.scale=function(e,n,l,s,u){for(var f=u?h.allBodies(e):e.bodies,d=0;d<f.length;d++){var v=f[d],g=v.position.x-s.x,y=v.position.y-s.y;r.setPosition(v,{x:s.x+g*n,y:s.y+y*l}),r.scale(v,n,l)}return e},h.bounds=function(e){for(var n=h.allBodies(e),l=[],s=0;s<n.length;s+=1){var u=n[s];l.push(u.bounds.min,u.bounds.max)}return a.create(l)},h.wrap=function(e,n){var l=a.wrap(h.bounds(e),n);return l&&h.translate(e,l),l}})()},4372:(c,S,t)=>{var h={};c.exports=h;var m=t(69351);(function(){h.create=m.create,h.add=m.add,h.remove=m.remove,h.clear=m.clear,h.addComposite=m.addComposite,h.addBody=m.addBody,h.addConstraint=m.addConstraint})()},52284:(c,S,t)=>{var h={};c.exports=h;var m=t(41598),o=t(4506);(function(){var a=[],r={overlap:0,axis:null},e={overlap:0,axis:null};h.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(n,l,s){if(h._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(h._overlapAxes(e,l.vertices,n.vertices,l.axes),e.overlap<=0))return null;var u=s&&s.table[o.id(n,l)],f;u?f=u.collision:(f=h.create(n,l),f.collided=!0,f.bodyA=n.id<l.id?n:l,f.bodyB=n.id<l.id?l:n,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),n=f.bodyA,l=f.bodyB;var d;r.overlap<e.overlap?d=r:d=e;var v=f.normal,g=f.tangent,y=f.penetration,T=f.supports,E=d.overlap,A=d.axis,P=A.x,w=A.y,M=l.position.x-n.position.x,D=l.position.y-n.position.y;P*M+w*D>=0&&(P=-P,w=-w),v.x=P,v.y=w,g.x=-w,g.y=P,y.x=P*E,y.y=w*E,f.depth=E;var F=h._findSupports(n,l,v,1),L=0;if(m.contains(n.vertices,F[0])&&(T[L++]=F[0]),m.contains(n.vertices,F[1])&&(T[L++]=F[1]),L<2){var O=h._findSupports(l,n,v,-1);m.contains(l.vertices,O[0])&&(T[L++]=O[0]),L<2&&m.contains(l.vertices,O[1])&&(T[L++]=O[1])}return L===0&&(T[L++]=F[0]),f.supportCount=L,f},h._overlapAxes=function(n,l,s,u){var f=l.length,d=s.length,v=l[0].x,g=l[0].y,y=s[0].x,T=s[0].y,E=u.length,A=Number.MAX_VALUE,P=0,w,M,D,F,L,O;for(L=0;L<E;L++){var B=u[L],U=B.x,W=B.y,H=v*U+g*W,Y=y*U+T*W,G=H,X=Y;for(O=1;O<f;O+=1)F=l[O].x*U+l[O].y*W,F>G?G=F:F<H&&(H=F);for(O=1;O<d;O+=1)F=s[O].x*U+s[O].y*W,F>X?X=F:F<Y&&(Y=F);if(M=G-Y,D=X-H,w=M<D?M:D,w<A&&(A=w,P=L,w<=0))break}n.axis=u[P],n.overlap=A},h._findSupports=function(n,l,s,u){var f=l.vertices,d=f.length,v=n.position.x,g=n.position.y,y=s.x*u,T=s.y*u,E=f[0],A=E,P=y*(v-A.x)+T*(g-A.y),w,M,D;for(D=1;D<d;D+=1)A=f[D],M=y*(v-A.x)+T*(g-A.y),M<P&&(P=M,E=A);return w=f[(d+E.index-1)%d],P=y*(v-w.x)+T*(g-w.y),A=f[(E.index+1)%d],y*(v-A.x)+T*(g-A.y)<P?(a[0]=E,a[1]=A,a):(a[0]=E,a[1]=w,a)}})()},43424:c=>{var S={};c.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,S,t)=>{var h={};c.exports=h;var m=t(53402),o=t(52284);(function(){h.create=function(a){var r={bodies:[],collisions:[],pairs:null};return m.extend(r,a)},h.setBodies=function(a,r){a.bodies=r.slice(0)},h.clear=function(a){a.bodies=[],a.collisions=[]},h.collisions=function(a){var r=a.pairs,e=a.bodies,n=e.length,l=h.canCollide,s=o.collides,u=a.collisions,f=0,d,v;for(e.sort(h._compareBoundsX),d=0;d<n;d++){var g=e[d],y=g.bounds,T=g.bounds.max.x,E=g.bounds.max.y,A=g.bounds.min.y,P=g.isStatic||g.isSleeping,w=g.parts.length,M=w===1;for(v=d+1;v<n;v++){var D=e[v],F=D.bounds;if(F.min.x>T)break;if(!(E<F.min.y||A>F.max.y)&&!(P&&(D.isStatic||D.isSleeping))&&l(g.collisionFilter,D.collisionFilter)){var L=D.parts.length;if(M&&L===1){var O=s(g,D,r);O&&(u[f++]=O)}else for(var B=w>1?1:0,U=L>1?1:0,W=B;W<w;W++)for(var H=g.parts[W],y=H.bounds,Y=U;Y<L;Y++){var G=D.parts[Y],F=G.bounds;if(!(y.min.x>F.max.x||y.max.x<F.min.x||y.max.y<F.min.y||y.min.y>F.max.y)){var O=s(H,G,r);O&&(u[f++]=O)}}}}}return u.length!==f&&(u.length=f),u},h.canCollide=function(a,r){return a.group===r.group&&a.group!==0?a.group>0:(a.mask&r.category)!==0&&(r.mask&a.category)!==0},h._compareBoundsX=function(a,r){return a.bounds.min.x-r.bounds.min.x}})()},4506:(c,S,t)=>{var h={};c.exports=h;var m=t(43424);(function(){h.create=function(o,a){var r=o.bodyA,e=o.bodyB,n={id:h.id(r,e),bodyA:r,bodyB:e,collision:o,contacts:[m.create(),m.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||e.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(n,o,a),n},h.update=function(o,a,r){var e=a.supports,n=a.supportCount,l=o.contacts,s=a.parentA,u=a.parentB;o.isActive=!0,o.timeUpdated=r,o.collision=a,o.separation=a.depth,o.inverseMass=s.inverseMass+u.inverseMass,o.friction=s.friction<u.friction?s.friction:u.friction,o.frictionStatic=s.frictionStatic>u.frictionStatic?s.frictionStatic:u.frictionStatic,o.restitution=s.restitution>u.restitution?s.restitution:u.restitution,o.slop=s.slop>u.slop?s.slop:u.slop,o.contactCount=n,a.pair=o;var f=e[0],d=l[0],v=e[1],g=l[1];(g.vertex===f||d.vertex===v)&&(l[1]=d,l[0]=d=g,g=l[1]),d.vertex=f,g.vertex=v},h.setActive=function(o,a,r){a?(o.isActive=!0,o.timeUpdated=r):(o.isActive=!1,o.contactCount=0)},h.id=function(o,a){return o.id<a.id?o.id.toString(36)+":"+a.id.toString(36):a.id.toString(36)+":"+o.id.toString(36)}})()},99561:(c,S,t)=>{var h={};c.exports=h;var m=t(4506),o=t(53402);(function(){h.create=function(a){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},h.update=function(a,r,e){var n=m.update,l=m.create,s=m.setActive,u=a.table,f=a.list,d=f.length,v=d,g=a.collisionStart,y=a.collisionEnd,T=a.collisionActive,E=r.length,A=0,P=0,w=0,M,D,F;for(F=0;F<E;F++)M=r[F],D=M.pair,D?(D.isActive&&(T[w++]=D),n(D,M,e)):(D=l(M,e),u[D.id]=D,g[A++]=D,f[v++]=D);for(v=0,d=f.length,F=0;F<d;F++)D=f[F],D.timeUpdated>=e?f[v++]=D:(s(D,!1,e),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?f[v++]=D:(y[P++]=D,delete u[D.id]));f.length!==v&&(f.length=v),g.length!==A&&(g.length=A),y.length!==P&&(y.length=P),T.length!==w&&(T.length=w)},h.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},73296:(c,S,t)=>{var h={};c.exports=h;var m=t(31725),o=t(52284),a=t(15647),r=t(66280),e=t(41598);(function(){h.collides=function(n,l){for(var s=[],u=l.length,f=n.bounds,d=o.collides,v=a.overlaps,g=0;g<u;g++){var y=l[g],T=y.parts.length,E=T===1?0:1;if(n!==y&&v(y.bounds,f))for(var A=E;A<T;A++){var P=y.parts[A];if(v(P.bounds,f)){var w=d(P,n);if(w){s.push(w);break}}}}return s},h.ray=function(n,l,s,u){u=u||1e-100;for(var f=m.angle(l,s),d=m.magnitude(m.sub(l,s)),v=(s.x+l.x)*.5,g=(s.y+l.y)*.5,y=r.rectangle(v,g,d,u,{angle:f}),T=h.collides(y,n),E=0;E<T.length;E+=1){var A=T[E];A.body=A.bodyB=A.bodyA}return T},h.region=function(n,l,s){for(var u=[],f=0;f<n.length;f++){var d=n[f],v=a.overlaps(d.bounds,l);(v&&!s||!v&&s)&&u.push(d)}return u},h.point=function(n,l){for(var s=[],u=0;u<n.length;u++){var f=n[u];if(a.contains(f.bounds,l))for(var d=f.parts.length===1?0:1;d<f.parts.length;d++){var v=f.parts[d];if(a.contains(v.bounds,l)&&e.contains(v.vertices,l)){s.push(f);break}}}return s}})()},66272:(c,S,t)=>{var h={};c.exports=h;var m=t(41598),o=t(53402),a=t(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(r){var e,n,l,s=r.length;for(e=0;e<s;e++)n=r[e],n.isActive&&(l=n.contactCount,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},h.solvePosition=function(r,e,n){var l,s,u,f,d,v,g,y,T=h._positionDampen*(n||1),E=o.clamp(e/o._baseDelta,0,1),A=r.length;for(l=0;l<A;l++)s=r[l],!(!s.isActive||s.isSensor)&&(u=s.collision,f=u.parentA,d=u.parentB,v=u.normal,s.separation=u.depth+v.x*(d.positionImpulse.x-f.positionImpulse.x)+v.y*(d.positionImpulse.y-f.positionImpulse.y));for(l=0;l<A;l++)s=r[l],!(!s.isActive||s.isSensor)&&(u=s.collision,f=u.parentA,d=u.parentB,v=u.normal,y=s.separation-s.slop*E,(f.isStatic||d.isStatic)&&(y*=2),f.isStatic||f.isSleeping||(g=T/f.totalContacts,f.positionImpulse.x+=v.x*y*g,f.positionImpulse.y+=v.y*y*g),d.isStatic||d.isSleeping||(g=T/d.totalContacts,d.positionImpulse.x-=v.x*y*g,d.positionImpulse.y-=v.y*y*g))},h.postSolvePosition=function(r){for(var e=h._positionWarming,n=r.length,l=m.translate,s=a.update,u=0;u<n;u++){var f=r[u],d=f.positionImpulse,v=d.x,g=d.y,y=f.velocity;if(f.totalContacts=0,v!==0||g!==0){for(var T=0;T<f.parts.length;T++){var E=f.parts[T];l(E.vertices,d),s(E.bounds,E.vertices,y),E.position.x+=v,E.position.y+=g}f.positionPrev.x+=v,f.positionPrev.y+=g,v*y.x+g*y.y<0?(d.x=0,d.y=0):(d.x*=e,d.y*=e)}}},h.preSolveVelocity=function(r){var e=r.length,n,l;for(n=0;n<e;n++){var s=r[n];if(!(!s.isActive||s.isSensor)){var u=s.contacts,f=s.contactCount,d=s.collision,v=d.parentA,g=d.parentB,y=d.normal,T=d.tangent;for(l=0;l<f;l++){var E=u[l],A=E.vertex,P=E.normalImpulse,w=E.tangentImpulse;if(P!==0||w!==0){var M=y.x*P+T.x*w,D=y.y*P+T.y*w;v.isStatic||v.isSleeping||(v.positionPrev.x+=M*v.inverseMass,v.positionPrev.y+=D*v.inverseMass,v.anglePrev+=v.inverseInertia*((A.x-v.position.x)*D-(A.y-v.position.y)*M)),g.isStatic||g.isSleeping||(g.positionPrev.x-=M*g.inverseMass,g.positionPrev.y-=D*g.inverseMass,g.anglePrev-=g.inverseInertia*((A.x-g.position.x)*D-(A.y-g.position.y)*M))}}}}},h.solveVelocity=function(r,e){var n=e/o._baseDelta,l=n*n,s=l*n,u=-h._restingThresh*n,f=h._restingThreshTangent,d=h._frictionNormalMultiplier*n,v=h._frictionMaxStatic,g=r.length,y,T,E,A;for(E=0;E<g;E++){var P=r[E];if(!(!P.isActive||P.isSensor)){var w=P.collision,M=w.parentA,D=w.parentB,F=w.normal.x,L=w.normal.y,O=w.tangent.x,B=w.tangent.y,U=P.inverseMass,W=P.friction*P.frictionStatic*d,H=P.contacts,Y=P.contactCount,G=1/Y,X=M.position.x-M.positionPrev.x,V=M.position.y-M.positionPrev.y,b=M.angle-M.anglePrev,z=D.position.x-D.positionPrev.x,$=D.position.y-D.positionPrev.y,Q=D.angle-D.anglePrev;for(A=0;A<Y;A++){var Z=H[A],q=Z.vertex,j=q.x-M.position.x,k=q.y-M.position.y,_=q.x-D.position.x,et=q.y-D.position.y,it=X-k*b,st=V+j*b,nt=z-et*Q,ut=$+_*Q,ft=it-nt,ot=st-ut,rt=F*ft+L*ot,lt=O*ft+B*ot,dt=P.separation+rt,xt=Math.min(dt,1);xt=dt<0?0:xt;var yt=xt*W;lt<-yt||lt>yt?(T=lt>0?lt:-lt,y=P.friction*(lt>0?1:-1)*s,y<-T?y=-T:y>T&&(y=T)):(y=lt,T=v);var Ct=j*L-k*F,St=_*L-et*F,Lt=G/(U+M.inverseInertia*Ct*Ct+D.inverseInertia*St*St),zt=(1+P.restitution)*rt*Lt;if(y*=Lt,rt<u)Z.normalImpulse=0;else{var qt=Z.normalImpulse;Z.normalImpulse+=zt,Z.normalImpulse>0&&(Z.normalImpulse=0),zt=Z.normalImpulse-qt}if(lt<-f||lt>f)Z.tangentImpulse=0;else{var Nt=Z.tangentImpulse;Z.tangentImpulse+=y,Z.tangentImpulse<-T&&(Z.tangentImpulse=-T),Z.tangentImpulse>T&&(Z.tangentImpulse=T),y=Z.tangentImpulse-Nt}var Zt=F*zt+O*y,he=L*zt+B*y;M.isStatic||M.isSleeping||(M.positionPrev.x+=Zt*M.inverseMass,M.positionPrev.y+=he*M.inverseMass,M.anglePrev+=(j*he-k*Zt)*M.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=Zt*D.inverseMass,D.positionPrev.y-=he*D.inverseMass,D.anglePrev-=(_*he-et*Zt)*D.inverseInertia)}}}}})()},48140:(c,S,t)=>{var h={};c.exports=h;var m=t(41598),o=t(31725),a=t(53614),r=t(15647),e=t(66615),n=t(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(l){var s=l;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var u=s.bodyA?o.add(s.bodyA.position,s.pointA):s.pointA,f=s.bodyB?o.add(s.bodyB.position,s.pointB):s.pointB,d=o.magnitude(o.sub(u,f));s.length=typeof s.length<"u"?s.length:d,s.id=s.id||n.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(v.type="pin",v.anchors=!1):s.stiffness<.9&&(v.type="spring"),s.render=n.extend(v,s.render),s},h.preSolveAll=function(l){for(var s=0;s<l.length;s+=1){var u=l[s],f=u.constraintImpulse;u.isStatic||f.x===0&&f.y===0&&f.angle===0||(u.position.x+=f.x,u.position.y+=f.y,u.angle+=f.angle)}},h.solveAll=function(l,s){for(var u=n.clamp(s/n._baseDelta,0,1),f=0;f<l.length;f+=1){var d=l[f],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,g=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(v||g)&&h.solve(l[f],u)}for(f=0;f<l.length;f+=1)d=l[f],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,g=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!v&&!g&&h.solve(l[f],u)},h.solve=function(l,s){var u=l.bodyA,f=l.bodyB,d=l.pointA,v=l.pointB;if(!(!u&&!f)){u&&!u.isStatic&&(o.rotate(d,u.angle-l.angleA,d),l.angleA=u.angle),f&&!f.isStatic&&(o.rotate(v,f.angle-l.angleB,v),l.angleB=f.angle);var g=d,y=v;if(u&&(g=o.add(u.position,d)),f&&(y=o.add(f.position,v)),!(!g||!y)){var T=o.sub(g,y),E=o.magnitude(T);E<h._minLength&&(E=h._minLength);var A=(E-l.length)/E,P=l.stiffness>=1||l.length===0,w=P?l.stiffness*s:l.stiffness*s*s,M=l.damping*s,D=o.mult(T,A*w),F=(u?u.inverseMass:0)+(f?f.inverseMass:0),L=(u?u.inverseInertia:0)+(f?f.inverseInertia:0),O=F+L,B,U,W,H,Y;if(M>0){var G=o.create();W=o.div(T,E),Y=o.sub(f&&o.sub(f.position,f.positionPrev)||G,u&&o.sub(u.position,u.positionPrev)||G),H=o.dot(W,Y)}u&&!u.isStatic&&(U=u.inverseMass/F,u.constraintImpulse.x-=D.x*U,u.constraintImpulse.y-=D.y*U,u.position.x-=D.x*U,u.position.y-=D.y*U,M>0&&(u.positionPrev.x-=M*W.x*H*U,u.positionPrev.y-=M*W.y*H*U),B=o.cross(d,D)/O*h._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle-=B,u.angle-=B),f&&!f.isStatic&&(U=f.inverseMass/F,f.constraintImpulse.x+=D.x*U,f.constraintImpulse.y+=D.y*U,f.position.x+=D.x*U,f.position.y+=D.y*U,M>0&&(f.positionPrev.x+=M*W.x*H*U,f.positionPrev.y+=M*W.y*H*U),B=o.cross(v,D)/O*h._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=B,f.angle+=B)}}},h.postSolveAll=function(l){for(var s=0;s<l.length;s++){var u=l[s],f=u.constraintImpulse;if(!(u.isStatic||f.x===0&&f.y===0&&f.angle===0)){a.set(u,!1);for(var d=0;d<u.parts.length;d++){var v=u.parts[d];m.translate(v.vertices,f),d>0&&(v.position.x+=f.x,v.position.y+=f.y),f.angle!==0&&(m.rotate(v.vertices,f.angle,u.position),e.rotate(v.axes,f.angle),d>0&&o.rotateAbout(v.position,f.angle,u.position,v.position)),r.update(v.bounds,v.vertices,u.velocity)}f.angle*=h._warming,f.x*=h._warming,f.y*=h._warming}}},h.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},h.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},h.currentLength=function(l){var s=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),u=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),d=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),v=s-f,g=u-d;return Math.sqrt(v*v+g*g)}})()},53402:(c,S,t)=>{var h={};c.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(o,a){var r,e;typeof a=="boolean"?(r=2,e=a):(r=1,e=!0);for(var n=r;n<arguments.length;n++){var l=arguments[n];if(l)for(var s in l)e&&l[s]&&l[s].constructor===Object&&(!o[s]||o[s].constructor===Object)?(o[s]=o[s]||{},h.extend(o[s],e,l[s])):o[s]=l[s]}return o},h.clone=function(o,a){return h.extend({},a,o)},h.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var r in o)a.push(r);return a},h.values=function(o){var a=[];if(Object.keys){for(var r=Object.keys(o),e=0;e<r.length;e++)a.push(o[r[e]]);return a}for(var n in o)a.push(o[n]);return a},h.get=function(o,a,r,e){a=a.split(".").slice(r,e);for(var n=0;n<a.length;n+=1)o=o[a[n]];return o},h.set=function(o,a,r,e,n){var l=a.split(".").slice(e,n);return h.get(o,a,0,-1)[l[l.length-1]]=r,r},h.shuffle=function(o){for(var a=o.length-1;a>0;a--){var r=Math.floor(h.random()*(a+1)),e=o[a];o[a]=o[r],o[r]=e}return o},h.choose=function(o){return o[Math.floor(h.random()*o.length)]},h.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},h.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},h.isFunction=function(o){return typeof o=="function"},h.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},h.isString=function(o){return toString.call(o)==="[object String]"},h.clamp=function(o,a,r){return o<a?a:o>r?r:o},h.sign=function(o){return o<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+m()*(a-o)};var m=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[o]||(h.warn(o),h._warnedOnce[o]=!0)},h.deprecated=function(o,a,r){o[a]=h.chain(function(){h.warnOnce(" deprecated ",r)},o[a])},h.nextId=function(){return h._nextId++},h.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var r=0;r<o.length;r++)if(o[r]===a)return r;return-1},h.map=function(o,a){if(o.map)return o.map(a);for(var r=[],e=0;e<o.length;e+=1)r.push(a(o[e]));return r},h.topologicalSort=function(o){var a=[],r=[],e=[];for(var n in o)!r[n]&&!e[n]&&h._topologicalSort(n,r,e,o,a);return a},h._topologicalSort=function(o,a,r,e,n){var l=e[o]||[];r[o]=!0;for(var s=0;s<l.length;s+=1){var u=l[s];r[u]||a[u]||h._topologicalSort(u,a,r,e,n)}r[o]=!1,a[o]=!0,n.push(o)},h.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var r=arguments[a];r._chained?o.push.apply(o,r._chained):o.push(r)}var e=function(){for(var n,l=new Array(arguments.length),s=0,u=arguments.length;s<u;s++)l[s]=arguments[s];for(s=0;s<o.length;s+=1){var f=o[s].apply(n,l);typeof f<"u"&&(n=f)}return n};return e._chained=o,e},h.chainPathBefore=function(o,a,r){return h.set(o,a,h.chain(r,h.get(o,a)))},h.chainPathAfter=function(o,a,r){return h.set(o,a,h.chain(h.get(o,a),r))},h.setDecomp=function(o){h._decomp=o},h.getDecomp=function(){var o=h._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(c,S,t)=>{var h={};c.exports=h;var m=t(53614),o=t(66272),a=t(81388),r=t(99561),e=t(35810),n=t(69351),l=t(48140),s=t(53402),u=t(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(f){f=f||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=s.extend(d,f);return v.world=f.world||n.create({label:"World"}),v.pairs=f.pairs||r.create(),v.detector=f.detector||a.create(),v.detector.pairs=v.pairs,v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},h.update=function(f,d){var v=s.now(),g=f.world,y=f.detector,T=f.pairs,E=f.timing,A=E.timestamp,P;d>h._deltaMax&&s.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:s._baseDelta,d*=E.timeScale,E.timestamp+=d,E.lastDelta=d;var w={timestamp:E.timestamp,delta:d};e.trigger(f,"beforeUpdate",w);var M=n.allBodies(g),D=n.allConstraints(g),F=n.allComposites(g);for(g.isModified&&(a.setBodies(y,M),n.setModified(g,!1,!1,!0)),f.enableSleeping&&m.update(M,d),h._bodiesApplyGravity(M,f.gravity),h.wrap(M,F),h.attractors(M),d>0&&h._bodiesUpdate(M,d),e.trigger(f,"beforeSolve",w),l.preSolveAll(M),P=0;P<f.constraintIterations;P++)l.solveAll(D,d);l.postSolveAll(M);var L=a.collisions(y);r.update(T,L,A),f.enableSleeping&&m.afterCollisions(T.list),T.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:T.collisionStart,timestamp:E.timestamp,delta:d});var O=s.clamp(20/f.positionIterations,0,1);for(o.preSolvePosition(T.list),P=0;P<f.positionIterations;P++)o.solvePosition(T.list,d,O);for(o.postSolvePosition(M),l.preSolveAll(M),P=0;P<f.constraintIterations;P++)l.solveAll(D,d);for(l.postSolveAll(M),o.preSolveVelocity(T.list),P=0;P<f.velocityIterations;P++)o.solveVelocity(T.list,d);return h._bodiesUpdateVelocities(M),T.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:T.collisionActive,timestamp:E.timestamp,delta:d}),T.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:T.collisionEnd,timestamp:E.timestamp,delta:d}),h._bodiesClearForces(M),e.trigger(f,"afterUpdate",w),f.timing.lastElapsed=s.now()-v,f},h.merge=function(f,d){if(s.extend(f,d),d.world){f.world=d.world,h.clear(f);for(var v=n.allBodies(f.world),g=0;g<v.length;g++){var y=v[g];m.set(y,!1),y.id=s.nextId()}}},h.clear=function(f){r.clear(f.pairs),a.clear(f.detector)},h._bodiesClearForces=function(f){for(var d=f.length,v=0;v<d;v++){var g=f[v];g.force.x=0,g.force.y=0,g.torque=0}},h._bodiesApplyGravity=function(f,d){var v=typeof d.scale<"u"?d.scale:.001,g=f.length;if(!(d.x===0&&d.y===0||v===0))for(var y=0;y<g;y++){var T=f[y];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.y+=T.mass*d.y*v,T.force.x+=T.mass*d.x*v)}},h._bodiesUpdate=function(f,d){for(var v=f.length,g=0;g<v;g++){var y=f[g];y.isStatic||y.isSleeping||u.update(y,d)}},h._bodiesUpdateVelocities=function(f){for(var d=f.length,v=0;v<d;v++)u.updateVelocities(f[v])},h.wrap=function(f,d){for(var v=0;v<f.length;v+=1){var g=f[v];g.wrapBounds!==null&&u.wrap(g,g.wrapBounds)}for(v=0;v<d.length;v+=1){var y=d[v];y.wrapBounds!==null&&n.wrap(y,y.wrapBounds)}},h.attractors=function(f){for(var d=0;d<f.length;d++){var v=f[d],g=v.attractors;if(g&&g.length>0)for(var y=0;y<f.length;y++){var T=f[y];if(d!==y)for(var E=0;E<g.length;E++){var A=g[E],P=A;s.isFunction(A)&&(P=A(v,T)),P&&u.applyForce(T,T.position,P)}}}}})()},35810:(c,S,t)=>{var h={};c.exports=h;var m=t(53402);(function(){h.on=function(o,a,r){for(var e=a.split(" "),n,l=0;l<e.length;l++)n=e[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(r);return r},h.off=function(o,a,r){if(!a){o.events={};return}typeof a=="function"&&(r=a,a=m.keys(o.events).join(" "));for(var e=a.split(" "),n=0;n<e.length;n++){var l=o.events[e[n]],s=[];if(r&&l)for(var u=0;u<l.length;u++)l[u]!==r&&s.push(l[u]);o.events[e[n]]=s}},h.trigger=function(o,a,r){var e,n,l,s,u=o.events;if(u&&m.keys(u).length>0){r||(r={}),e=a.split(" ");for(var f=0;f<e.length;f++)if(n=e[f],l=u[n],l){s=m.clone(r,!1),s.name=n,s.source=o;for(var d=0;d<l.length;d++)l[d].apply(o,[s])}}}})()},6790:(c,S,t)=>{var h={};c.exports=h;var m=t(73832),o=t(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){m.use(h,Array.prototype.slice.call(arguments))},h.before=function(a,r){return a=a.replace(/^Matter./,""),o.chainPathBefore(h,a,r)},h.after=function(a,r){return a=a.replace(/^Matter./,""),o.chainPathAfter(h,a,r)}})()},73832:(c,S,t)=>{var h={};c.exports=h;var m=t(53402);(function(){h._registry={},h.register=function(o){if(h.isPlugin(o)||m.warn("Plugin.register:",h.toString(o),"does not implement all required fields."),o.name in h._registry){var a=h._registry[o.name],r=h.versionParse(o.version).number,e=h.versionParse(a.version).number;r>e?(m.warn("Plugin.register:",h.toString(a),"was upgraded to",h.toString(o)),h._registry[o.name]=o):r<e?m.warn("Plugin.register:",h.toString(a),"can not be downgraded to",h.toString(o)):o!==a&&m.warn("Plugin.register:",h.toString(o),"is already registered to different plugin object")}else h._registry[o.name]=o;return o},h.resolve=function(o){return h._registry[h.dependencyParse(o).name]},h.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},h.isPlugin=function(o){return o&&o.name&&o.version&&o.install},h.isUsed=function(o,a){return o.used.indexOf(a)>-1},h.isFor=function(o,a){var r=o.for&&h.dependencyParse(o.for);return!o.for||a.name===r.name&&h.versionSatisfies(a.version,r.range)},h.use=function(o,a){if(o.uses=(o.uses||[]).concat(a||[]),o.uses.length===0){m.warn("Plugin.use:",h.toString(o),"does not specify any dependencies to install.");return}for(var r=h.dependencies(o),e=m.topologicalSort(r),n=[],l=0;l<e.length;l+=1)if(e[l]!==o.name){var s=h.resolve(e[l]);if(!s){n.push(" "+e[l]);continue}h.isUsed(o,s.name)||(h.isFor(s,o)||(m.warn("Plugin.use:",h.toString(s),"is for",s.for,"but installed on",h.toString(o)+"."),s._warned=!0),s.install?s.install(o):(m.warn("Plugin.use:",h.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(n.push(" "+h.toString(s)),delete s._warned):n.push(" "+h.toString(s)),o.used.push(s.name))}n.length>0&&!s.silent&&m.info(n.join("  "))},h.dependencies=function(o,a){var r=h.dependencyParse(o),e=r.name;if(a=a||{},!(e in a)){o=h.resolve(o)||o,a[e]=m.map(o.uses||[],function(l){h.isPlugin(l)&&h.register(l);var s=h.dependencyParse(l),u=h.resolve(l);return u&&!h.versionSatisfies(u.version,s.range)?(m.warn("Plugin.dependencies:",h.toString(u),"does not satisfy",h.toString(s),"used by",h.toString(r)+"."),u._warned=!0,o._warned=!0):u||(m.warn("Plugin.dependencies:",h.toString(l),"used by",h.toString(r),"could not be resolved."),o._warned=!0),s.name});for(var n=0;n<a[e].length;n+=1)h.dependencies(a[e][n],a);return a}},h.dependencyParse=function(o){if(m.isString(o)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(o)||m.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},h.versionParse=function(o){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(o)||m.warn("Plugin.versionParse:",o,"is not a valid version or range.");var r=a.exec(o),e=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:o,operator:r[1]||r[2]||"",major:e,minor:n,patch:l,parts:[e,n,l],prerelease:r[7],number:e*1e8+n*1e4+l}},h.versionSatisfies=function(o,a){a=a||"*";var r=h.versionParse(a),e=h.versionParse(o);if(r.isRange){if(r.operator==="*"||o==="*")return!0;if(r.operator===">")return e.number>r.number;if(r.operator===">=")return e.number>=r.number;if(r.operator==="~")return e.major===r.major&&e.minor===r.minor&&e.patch>=r.patch;if(r.operator==="^")return r.major>0?e.major===r.major&&e.number>=r.number:r.minor>0?e.minor===r.minor&&e.patch>=r.patch:e.patch===r.patch}return o===a||o==="*"}})()},13037:(c,S,t)=>{var h={};c.exports=h;var m=t(35810),o=t(48413),a=t(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(e){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=a.extend(n,e);return l.fps=0,l},h.run=function(e,n){return e.timeBuffer=h._frameDeltaFallback,function l(s){e.frameRequestId=h._onNextFrame(e,l),s&&e.enabled&&h.tick(e,n,s)}(),e},h.tick=function(e,n,l){var s=a.now(),u=e.delta,f=0,d=l-e.timeLastTick;if((!d||!e.timeLastTick||d>Math.max(h._maxFrameDelta,e.maxFrameTime))&&(d=e.frameDelta||h._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(d),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var v=e.frameDeltaHistory.slice(0).sort(),g=e.frameDeltaHistory.slice(v.length*h._smoothingLowerBound,v.length*h._smoothingUpperBound),y=r(g);d=y||d}e.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),e.frameDelta=d,e.timeLastTick=l,e.timeBuffer+=e.frameDelta,e.timeBuffer=a.clamp(e.timeBuffer,0,e.frameDelta+u*h._timeBufferMargin),e.lastUpdatesDeferred=0;var T=e.maxUpdates||Math.ceil(e.maxFrameTime/u),E={timestamp:n.timing.timestamp};m.trigger(e,"beforeTick",E),m.trigger(e,"tick",E);for(var A=a.now();u>0&&e.timeBuffer>=u*h._timeBufferMargin;){m.trigger(e,"beforeUpdate",E),o.update(n,u),m.trigger(e,"afterUpdate",E),e.timeBuffer-=u,f+=1;var P=a.now()-s,w=a.now()-A,M=P+h._elapsedNextEstimate*w/f;if(f>=T||M>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/u-h._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=f,m.trigger(e,"afterTick",E),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/u)>T?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(e){h._cancelNextFrame(e)},h._onNextFrame=function(e,n){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},h._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(e){for(var n=0,l=e.length,s=0;s<l;s+=1)n+=e[s];return n/l||0};h._mean=r})()},53614:(c,S,t)=>{var h={};c.exports=h;var m=t(22562),o=t(35810),a=t(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(r,e){for(var n=e/a._baseDelta,l=h._motionSleepThreshold,s=0;s<r.length;s++){var u=r[s],f=m.getSpeed(u),d=m.getAngularSpeed(u),v=f*f+d*d;if(u.force.x!==0||u.force.y!==0){h.set(u,!1);continue}var g=Math.min(u.motion,v),y=Math.max(u.motion,v);u.motion=h._minBias*g+(1-h._minBias)*y,u.sleepThreshold>0&&u.motion<l?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/n&&h.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},h.afterCollisions=function(r){for(var e=h._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var s=l.collision,u=s.bodyA.parent,f=s.bodyB.parent;if(!(u.isSleeping&&f.isSleeping||u.isStatic||f.isStatic)&&(u.isSleeping||f.isSleeping)){var d=u.isSleeping&&!u.isStatic?u:f,v=d===u?f:u;!d.isStatic&&v.motion>e&&h.set(d,!1)}}}},h.set=function(r,e){var n=r.isSleeping;e?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||o.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&o.trigger(r,"sleepEnd"))}})()},66280:(c,S,t)=>{var h={};c.exports=h;var m=t(41598),o=t(53402),a=t(22562),r=t(15647),e=t(31725);(function(){h.rectangle=function(n,l,s,u,f){f=f||{};var d={label:"Rectangle Body",position:{x:n,y:l},vertices:m.fromPath("L 0 0 L "+s+" 0 L "+s+" "+u+" L 0 "+u)};if(f.chamfer){var v=f.chamfer;d.vertices=m.chamfer(d.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete f.chamfer}return a.create(o.extend({},d,f))},h.trapezoid=function(n,l,s,u,f,d){d=d||{},f>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var v=(1-f*2)*s,g=s*f,y=g+v,T=y+g,E;f<.5?E="L 0 0 L "+g+" "+-u+" L "+y+" "+-u+" L "+T+" 0":E="L 0 0 L "+y+" "+-u+" L "+T+" 0";var A={label:"Trapezoid Body",position:{x:n,y:l},vertices:m.fromPath(E)};if(d.chamfer){var P=d.chamfer;A.vertices=m.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete d.chamfer}return a.create(o.extend({},A,d))},h.circle=function(n,l,s,u,f){u=u||{};var d={label:"Circle Body",circleRadius:s};f=f||25;var v=Math.ceil(Math.max(10,Math.min(f,s)));return v%2===1&&(v+=1),h.polygon(n,l,v,s,o.extend({},d,u))},h.polygon=function(n,l,s,u,f){if(f=f||{},s<3)return h.circle(n,l,u,f);for(var d=2*Math.PI/s,v="",g=d*.5,y=0;y<s;y+=1){var T=g+y*d,E=Math.cos(T)*u,A=Math.sin(T)*u;v+="L "+E.toFixed(3)+" "+A.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:n,y:l},vertices:m.fromPath(v)};if(f.chamfer){var w=f.chamfer;P.vertices=m.chamfer(P.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete f.chamfer}return a.create(o.extend({},P,f))},h.fromVertices=function(n,l,s,u,f,d,v,g){var y=o.getDecomp(),T,E,A,P,w,M,D,F,L,O,B;for(T=!!(y&&y.quickDecomp),u=u||{},A=[],f=typeof f<"u"?f:!1,d=typeof d<"u"?d:.01,v=typeof v<"u"?v:10,g=typeof g<"u"?g:.01,o.isArray(s[0])||(s=[s]),O=0;O<s.length;O+=1)if(M=s[O],P=m.isConvex(M),w=!P,w&&!T&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),P||!T)P?M=m.clockwiseSort(M):M=m.hull(M),A.push({position:{x:n,y:l},vertices:M});else{var U=M.map(function(Z){return[Z.x,Z.y]});y.makeCCW(U),d!==!1&&y.removeCollinearPoints(U,d),g!==!1&&y.removeDuplicatePoints&&y.removeDuplicatePoints(U,g);var W=y.quickDecomp(U);for(D=0;D<W.length;D++){var H=W[D],Y=H.map(function(Z){return{x:Z[0],y:Z[1]}});v>0&&m.area(Y)<v||A.push({position:m.centre(Y),vertices:Y})}}for(D=0;D<A.length;D++)A[D]=a.create(o.extend(A[D],u));if(f){var G=5;for(D=0;D<A.length;D++){var X=A[D];for(F=D+1;F<A.length;F++){var V=A[F];if(r.overlaps(X.bounds,V.bounds)){var b=X.vertices,z=V.vertices;for(L=0;L<X.vertices.length;L++)for(B=0;B<V.vertices.length;B++){var $=e.magnitudeSquared(e.sub(b[(L+1)%b.length],z[B])),Q=e.magnitudeSquared(e.sub(b[L],z[(B+1)%z.length]));$<G&&Q<G&&(b[L].isInternal=!0,z[B].isInternal=!0)}}}}}return A.length>1?(E=a.create(o.extend({parts:A.slice(0)},u)),a.setPosition(E,{x:n,y:l}),E):A[0]},h.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var s=0;s<n.length;s++)for(var u=n[s],f=s+1;f<n.length;f++){var d=n[f];if(r.overlaps(u.bounds,d.bounds))for(var v=u.vertices,g=d.vertices,y=0;y<u.vertices.length;y++)for(var T=0;T<d.vertices.length;T++){var E=e.magnitudeSquared(e.sub(v[(y+1)%v.length],g[T])),A=e.magnitudeSquared(e.sub(v[y],g[(T+1)%g.length]));E<l&&A<l&&(v[y].isInternal=!0,g[T].isInternal=!0)}}return n}})()},74116:(c,S,t)=>{var h={};c.exports=h;var m=t(69351),o=t(48140),a=t(53402),r=t(22562),e=t(66280);(function(){h.stack=function(n,l,s,u,f,d,v){for(var g=m.create({label:"Stack"}),y=n,T=l,E,A=0,P=0;P<u;P++){for(var w=0,M=0;M<s;M++){var D=v(y,T,M,P,E,A);if(D){var F=D.bounds.max.y-D.bounds.min.y,L=D.bounds.max.x-D.bounds.min.x;F>w&&(w=F),r.translate(D,{x:L*.5,y:F*.5}),y=D.bounds.max.x+f,m.addBody(g,D),E=D,A+=1}else y+=f}T+=w+d,y=n}return g},h.chain=function(n,l,s,u,f,d){for(var v=n.bodies,g=1;g<v.length;g++){var y=v[g-1],T=v[g],E=y.bounds.max.y-y.bounds.min.y,A=y.bounds.max.x-y.bounds.min.x,P=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,M={bodyA:y,pointA:{x:A*l,y:E*s},bodyB:T,pointB:{x:w*u,y:P*f}},D=a.extend(M,d);m.addConstraint(n,o.create(D))}return n.label+=" Chain",n},h.mesh=function(n,l,s,u,f){var d=n.bodies,v,g,y,T,E;for(v=0;v<s;v++){for(g=1;g<l;g++)y=d[g-1+v*l],T=d[g+v*l],m.addConstraint(n,o.create(a.extend({bodyA:y,bodyB:T},f)));if(v>0)for(g=0;g<l;g++)y=d[g+(v-1)*l],T=d[g+v*l],m.addConstraint(n,o.create(a.extend({bodyA:y,bodyB:T},f))),u&&g>0&&(E=d[g-1+(v-1)*l],m.addConstraint(n,o.create(a.extend({bodyA:E,bodyB:T},f)))),u&&g<l-1&&(E=d[g+1+(v-1)*l],m.addConstraint(n,o.create(a.extend({bodyA:E,bodyB:T},f))))}return n.label+=" Mesh",n},h.pyramid=function(n,l,s,u,f,d,v){return h.stack(n,l,s,u,f,d,function(g,y,T,E,A,P){var w=Math.min(u,Math.ceil(s/2)),M=A?A.bounds.max.x-A.bounds.min.x:0;if(!(E>w)){E=w-E;var D=E,F=s-1-E;if(!(T<D||T>F)){P===1&&r.translate(A,{x:(T+(s%2===1?1:-1))*M,y:0});var L=A?T*M:0;return v(n+L+T*f,y,T,E,A,P)}}})},h.newtonsCradle=function(n,l,s,u,f){for(var d=m.create({label:"Newtons Cradle"}),v=0;v<s;v++){var g=1.9,y=e.circle(n+v*(u*g),l+f,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=o.create({pointA:{x:n+v*(u*g),y:l},bodyB:y});m.addBody(d,y),m.addConstraint(d,T)}return d},h.car=function(n,l,s,u,f){var d=r.nextGroup(!0),v=20,g=-s*.5+v,y=s*.5-v,T=0,E=m.create({label:"Car"}),A=e.rectangle(n,l,s,u,{collisionFilter:{group:d},chamfer:{radius:u*.5},density:2e-4}),P=e.circle(n+g,l+T,f,{collisionFilter:{group:d},friction:.8}),w=e.circle(n+y,l+T,f,{collisionFilter:{group:d},friction:.8}),M=o.create({bodyB:A,pointB:{x:g,y:T},bodyA:P,stiffness:1,length:0}),D=o.create({bodyB:A,pointB:{x:y,y:T},bodyA:w,stiffness:1,length:0});return m.addBody(E,A),m.addBody(E,P),m.addBody(E,w),m.addConstraint(E,M),m.addConstraint(E,D),E},h.softBody=function(n,l,s,u,f,d,v,g,y,T){y=a.extend({inertia:1/0},y),T=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var E=h.stack(n,l,s,u,f,d,function(A,P){return e.circle(A,P,g,y)});return h.mesh(E,s,u,v,T),E.label="Soft Body",E}})()},66615:(c,S,t)=>{var h={};c.exports=h;var m=t(31725),o=t(53402);(function(){h.fromVertices=function(a){for(var r={},e=0;e<a.length;e++){var n=(e+1)%a.length,l=m.normalise({x:a[n].y-a[e].y,y:a[e].x-a[n].x}),s=l.y===0?1/0:l.x/l.y;s=s.toFixed(3).toString(),r[s]=l}return o.values(r)},h.rotate=function(a,r){if(r!==0)for(var e=Math.cos(r),n=Math.sin(r),l=0;l<a.length;l++){var s=a[l],u;u=s.x*e-s.y*n,s.y=s.x*n+s.y*e,s.x=u}}})()},15647:c=>{var S={};c.exports=S,function(){S.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(h,t),h},S.update=function(t,h,m){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<h.length;o++){var a=h[o];a.x>t.max.x&&(t.max.x=a.x),a.x<t.min.x&&(t.min.x=a.x),a.y>t.max.y&&(t.max.y=a.y),a.y<t.min.y&&(t.min.y=a.y)}m&&(m.x>0?t.max.x+=m.x:t.min.x+=m.x,m.y>0?t.max.y+=m.y:t.min.y+=m.y)},S.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},S.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},S.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},S.shift=function(t,h){var m=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+m,t.min.y=h.y,t.max.y=h.y+o},S.wrap=function(t,h,m){var o=null,a=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(t.min.x>h.max.x?o=h.min.x-t.max.x:t.max.x<h.min.x&&(o=h.max.x-t.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(t.min.y>h.max.y?a=h.min.y-t.max.y:t.max.y<h.min.y&&(a=h.max.y-t.min.y)),o!==null||a!==null)return{x:o||0,y:a||0}}}()},74058:(c,S,t)=>{var h={};c.exports=h,t(15647);var m=t(53402);(function(){h.pathToVertices=function(o,a){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,e,n,l,s,u,f,d,v,g,y=[],T,E,A=0,P=0,w=0;a=a||15;var M=function(F,L,O){var B=O%2===1&&O>1;if(!v||F!=v.x||L!=v.y){v&&B?(T=v.x,E=v.y):(T=0,E=0);var U={x:T+F,y:E+L};(B||!v)&&(v=U),y.push(U),P=T+F,w=E+L}},D=function(F){var L=F.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":P=F.x,w=F.y;break;case"H":P=F.x;break;case"V":w=F.y;break}M(P,w,F.pathSegType)}};for(h._svgPathToAbsolute(o),n=o.getTotalLength(),u=[],r=0;r<o.pathSegList.numberOfItems;r+=1)u.push(o.pathSegList.getItem(r));for(f=u.concat();A<n;){if(g=o.getPathSegAtLength(A),s=u[g],s!=d){for(;f.length&&f[0]!=s;)D(f.shift());d=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(A),M(l.x,l.y,0);break}A+=a}for(r=0,e=f.length;r<e;++r)D(f[r]);return y},h._svgPathToAbsolute=function(o){for(var a,r,e,n,l,s,u=o.pathSegList,f=0,d=0,v=u.numberOfItems,g=0;g<v;++g){var y=u.getItem(g),T=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in y&&(f=y.x),"y"in y&&(d=y.y);else switch("x1"in y&&(e=f+y.x1),"x2"in y&&(l=f+y.x2),"y1"in y&&(n=d+y.y1),"y2"in y&&(s=d+y.y2),"x"in y&&(f+=y.x),"y"in y&&(d+=y.y),T){case"m":u.replaceItem(o.createSVGPathSegMovetoAbs(f,d),g);break;case"l":u.replaceItem(o.createSVGPathSegLinetoAbs(f,d),g);break;case"h":u.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(f),g);break;case"v":u.replaceItem(o.createSVGPathSegLinetoVerticalAbs(d),g);break;case"c":u.replaceItem(o.createSVGPathSegCurvetoCubicAbs(f,d,e,n,l,s),g);break;case"s":u.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(f,d,l,s),g);break;case"q":u.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(f,d,e,n),g);break;case"t":u.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(f,d),g);break;case"a":u.replaceItem(o.createSVGPathSegArcAbs(f,d,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),g);break;case"z":case"Z":f=a,d=r;break}(T=="M"||T=="m")&&(a=f,r=d)}}})()},31725:c=>{var S={};c.exports=S,function(){S.create=function(t,h){return{x:t||0,y:h||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,h,m){var o=Math.cos(h),a=Math.sin(h);m||(m={});var r=t.x*o-t.y*a;return m.y=t.x*a+t.y*o,m.x=r,m},S.rotateAbout=function(t,h,m,o){var a=Math.cos(h),r=Math.sin(h);o||(o={});var e=m.x+((t.x-m.x)*a-(t.y-m.y)*r);return o.y=m.y+((t.x-m.x)*r+(t.y-m.y)*a),o.x=e,o},S.normalise=function(t){var h=S.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},S.dot=function(t,h){return t.x*h.x+t.y*h.y},S.cross=function(t,h){return t.x*h.y-t.y*h.x},S.cross3=function(t,h,m){return(h.x-t.x)*(m.y-t.y)-(h.y-t.y)*(m.x-t.x)},S.add=function(t,h,m){return m||(m={}),m.x=t.x+h.x,m.y=t.y+h.y,m},S.sub=function(t,h,m){return m||(m={}),m.x=t.x-h.x,m.y=t.y-h.y,m},S.mult=function(t,h){return{x:t.x*h,y:t.y*h}},S.div=function(t,h){return{x:t.x/h,y:t.y/h}},S.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},41598:(c,S,t)=>{var h={};c.exports=h;var m=t(31725),o=t(53402);(function(){h.create=function(a,r){for(var e=[],n=0;n<a.length;n++){var l=a[n],s={x:l.x,y:l.y,index:n,body:r,isInternal:!1};e.push(s)}return e},h.fromPath=function(a,r){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return a.replace(e,function(l,s,u){n.push({x:parseFloat(s),y:parseFloat(u)})}),h.create(n,r)},h.centre=function(a){for(var r=h.area(a,!0),e={x:0,y:0},n,l,s,u=0;u<a.length;u++)s=(u+1)%a.length,n=m.cross(a[u],a[s]),l=m.mult(m.add(a[u],a[s]),n),e=m.add(e,l);return m.div(e,6*r)},h.mean=function(a){for(var r={x:0,y:0},e=0;e<a.length;e++)r.x+=a[e].x,r.y+=a[e].y;return m.div(r,a.length)},h.area=function(a,r){for(var e=0,n=a.length-1,l=0;l<a.length;l++)e+=(a[n].x-a[l].x)*(a[n].y+a[l].y),n=l;return r?e/2:Math.abs(e)/2},h.inertia=function(a,r){for(var e=0,n=0,l=a,s,u,f=0;f<l.length;f++)u=(f+1)%l.length,s=Math.abs(m.cross(l[u],l[f])),e+=s*(m.dot(l[u],l[u])+m.dot(l[u],l[f])+m.dot(l[f],l[f])),n+=s;return r/6*(e/n)},h.translate=function(a,r,e){e=typeof e<"u"?e:1;var n=a.length,l=r.x*e,s=r.y*e,u;for(u=0;u<n;u++)a[u].x+=l,a[u].y+=s;return a},h.rotate=function(a,r,e){if(r!==0){var n=Math.cos(r),l=Math.sin(r),s=e.x,u=e.y,f=a.length,d,v,g,y;for(y=0;y<f;y++)d=a[y],v=d.x-s,g=d.y-u,d.x=s+(v*n-g*l),d.y=u+(v*l+g*n);return a}},h.contains=function(a,r){for(var e=r.x,n=r.y,l=a.length,s=a[l-1],u,f=0;f<l;f++){if(u=a[f],(e-s.x)*(u.y-s.y)+(n-s.y)*(s.x-u.x)>0)return!1;s=u}return!0},h.scale=function(a,r,e,n){if(r===1&&e===1)return a;n=n||h.centre(a);for(var l,s,u=0;u<a.length;u++)l=a[u],s=m.sub(l,n),a[u].x=n.x+s.x*r,a[u].y=n.y+s.y*e;return a},h.chamfer=function(a,r,e,n,l){typeof r=="number"?r=[r]:r=r||[8],e=typeof e<"u"?e:-1,n=n||2,l=l||14;for(var s=[],u=0;u<a.length;u++){var f=a[u-1>=0?u-1:a.length-1],d=a[u],v=a[(u+1)%a.length],g=r[u<r.length?u:r.length-1];if(g===0){s.push(d);continue}var y=m.normalise({x:d.y-f.y,y:f.x-d.x}),T=m.normalise({x:v.y-d.y,y:d.x-v.x}),E=Math.sqrt(2*Math.pow(g,2)),A=m.mult(o.clone(y),g),P=m.normalise(m.mult(m.add(y,T),.5)),w=m.sub(d,m.mult(P,E)),M=e;e===-1&&(M=Math.pow(g,.32)*1.75),M=o.clamp(M,n,l),M%2===1&&(M+=1);for(var D=Math.acos(m.dot(y,T)),F=D/M,L=0;L<M;L++)s.push(m.add(m.rotate(A,F*L),w))}return s},h.clockwiseSort=function(a){var r=h.mean(a);return a.sort(function(e,n){return m.angle(r,e)-m.angle(r,n)}),a},h.isConvex=function(a){var r=0,e=a.length,n,l,s,u;if(e<3)return null;for(n=0;n<e;n++)if(l=(n+1)%e,s=(n+2)%e,u=(a[l].x-a[n].x)*(a[s].y-a[l].y),u-=(a[l].y-a[n].y)*(a[s].x-a[l].x),u<0?r|=1:u>0&&(r|=2),r===3)return!1;return r!==0?!0:null},h.hull=function(a){var r=[],e=[],n,l;for(a=a.slice(0),a.sort(function(s,u){var f=s.x-u.x;return f!==0?f:s.y-u.y}),l=0;l<a.length;l+=1){for(n=a[l];e.length>=2&&m.cross3(e[e.length-2],e[e.length-1],n)<=0;)e.pop();e.push(n)}for(l=a.length-1;l>=0;l-=1){for(n=a[l];r.length>=2&&m.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),e.pop(),r.concat(e)}})()},55973:c=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:D,quickDecomp:B,isSimple:L,removeCollinearPoints:U,removeDuplicatePoints:W,makeCCW:v};function S(G,X,V){V=V||0;var b=[0,0],z,$,Q,Z,q,j,k;return z=G[1][1]-G[0][1],$=G[0][0]-G[1][0],Q=z*G[0][0]+$*G[0][1],Z=X[1][1]-X[0][1],q=X[0][0]-X[1][0],j=Z*X[0][0]+q*X[0][1],k=z*q-Z*$,H(k,0,V)||(b[0]=(q*Q-$*j)/k,b[1]=(z*j-Z*Q)/k),b}function t(G,X,V,b){var z=X[0]-G[0],$=X[1]-G[1],Q=b[0]-V[0],Z=b[1]-V[1];if(Q*$-Z*z===0)return!1;var q=(z*(V[1]-G[1])+$*(G[0]-V[0]))/(Q*$-Z*z),j=(Q*(G[1]-V[1])+Z*(V[0]-G[0]))/(Z*z-Q*$);return q>=0&&q<=1&&j>=0&&j<=1}function h(G,X,V){return(X[0]-G[0])*(V[1]-G[1])-(V[0]-G[0])*(X[1]-G[1])}function m(G,X,V){return h(G,X,V)>0}function o(G,X,V){return h(G,X,V)>=0}function a(G,X,V){return h(G,X,V)<0}function r(G,X,V){return h(G,X,V)<=0}var e=[],n=[];function l(G,X,V,b){if(b){var z=e,$=n;z[0]=X[0]-G[0],z[1]=X[1]-G[1],$[0]=V[0]-X[0],$[1]=V[1]-X[1];var Q=z[0]*$[0]+z[1]*$[1],Z=Math.sqrt(z[0]*z[0]+z[1]*z[1]),q=Math.sqrt($[0]*$[0]+$[1]*$[1]),j=Math.acos(Q/(Z*q));return j<b}else return h(G,X,V)===0}function s(G,X){var V=X[0]-G[0],b=X[1]-G[1];return V*V+b*b}function u(G,X){var V=G.length;return G[X<0?X%V+V:X%V]}function f(G){G.length=0}function d(G,X,V,b){for(var z=V;z<b;z++)G.push(X[z])}function v(G){for(var X=0,V=G,b=1;b<G.length;++b)(V[b][1]<V[X][1]||V[b][1]===V[X][1]&&V[b][0]>V[X][0])&&(X=b);return m(u(G,X-1),u(G,X),u(G,X+1))?!1:(g(G),!0)}function g(G){for(var X=[],V=G.length,b=0;b!==V;b++)X.push(G.pop());for(var b=0;b!==V;b++)G[b]=X[b]}function y(G,X){return a(u(G,X-1),u(G,X),u(G,X+1))}var T=[],E=[];function A(G,X,V){var b,z,$=T,Q=E;if(o(u(G,X+1),u(G,X),u(G,V))&&r(u(G,X-1),u(G,X),u(G,V)))return!1;z=s(u(G,X),u(G,V));for(var Z=0;Z!==G.length;++Z)if(!((Z+1)%G.length===X||Z===X)&&o(u(G,X),u(G,V),u(G,Z+1))&&r(u(G,X),u(G,V),u(G,Z))&&($[0]=u(G,X),$[1]=u(G,V),Q[0]=u(G,Z),Q[1]=u(G,Z+1),b=S($,Q),s(u(G,X),b)<z))return!1;return!0}function P(G,X,V){for(var b=0;b!==G.length;++b)if(!(b===X||b===V||(b+1)%G.length===X||(b+1)%G.length===V)&&t(u(G,X),u(G,V),u(G,b),u(G,b+1)))return!1;return!0}function w(G,X,V,b){var z=b||[];if(f(z),X<V)for(var $=X;$<=V;$++)z.push(G[$]);else{for(var $=0;$<=V;$++)z.push(G[$]);for(var $=X;$<G.length;$++)z.push(G[$])}return z}function M(G){for(var X=[],V=[],b=[],z=[],$=Number.MAX_VALUE,Q=0;Q<G.length;++Q)if(y(G,Q)){for(var Z=0;Z<G.length;++Z)if(A(G,Q,Z)){V=M(w(G,Q,Z,z)),b=M(w(G,Z,Q,z));for(var q=0;q<b.length;q++)V.push(b[q]);V.length<$&&(X=V,$=V.length,X.push([u(G,Q),u(G,Z)]))}}return X}function D(G){var X=M(G);return X.length>0?F(G,X):[G]}function F(G,X){if(X.length===0)return[G];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var V=[G],b=0;b<X.length;b++)for(var z=X[b],$=0;$<V.length;$++){var Q=V[$],Z=F(Q,z);if(Z){V.splice($,1),V.push(Z[0],Z[1]);break}}return V}else{var z=X,b=G.indexOf(z[0]),$=G.indexOf(z[1]);return b!==-1&&$!==-1?[w(G,b,$),w(G,$,b)]:!1}}function L(G){var X=G,V;for(V=0;V<X.length-1;V++)for(var b=0;b<V-1;b++)if(t(X[V],X[V+1],X[b],X[b+1]))return!1;for(V=1;V<X.length-2;V++)if(t(X[0],X[X.length-1],X[V],X[V+1]))return!1;return!0}function O(G,X,V,b,z){z=z||0;var $=X[1]-G[1],Q=G[0]-X[0],Z=$*G[0]+Q*G[1],q=b[1]-V[1],j=V[0]-b[0],k=q*V[0]+j*V[1],_=$*j-q*Q;return H(_,0,z)?[0,0]:[(j*Z-Q*k)/_,($*k-q*Z)/_]}function B(G,X,V,b,z,$,Q){$=$||100,Q=Q||0,z=z||25,X=typeof X<"u"?X:[],V=V||[],b=b||[];var Z=[0,0],q=[0,0],j=[0,0],k=0,_=0,et=0,it=0,st=0,nt=0,ut=0,ft=[],ot=[],rt=G,lt=G;if(lt.length<3)return X;if(Q++,Q>$)return console.warn("quickDecomp: max level ("+$+") reached."),X;for(var dt=0;dt<G.length;++dt)if(y(rt,dt)){V.push(rt[dt]),k=_=Number.MAX_VALUE;for(var xt=0;xt<G.length;++xt)m(u(rt,dt-1),u(rt,dt),u(rt,xt))&&r(u(rt,dt-1),u(rt,dt),u(rt,xt-1))&&(j=O(u(rt,dt-1),u(rt,dt),u(rt,xt),u(rt,xt-1)),a(u(rt,dt+1),u(rt,dt),j)&&(et=s(rt[dt],j),et<_&&(_=et,q=j,nt=xt))),m(u(rt,dt+1),u(rt,dt),u(rt,xt+1))&&r(u(rt,dt+1),u(rt,dt),u(rt,xt))&&(j=O(u(rt,dt+1),u(rt,dt),u(rt,xt),u(rt,xt+1)),m(u(rt,dt-1),u(rt,dt),j)&&(et=s(rt[dt],j),et<k&&(k=et,Z=j,st=xt)));if(nt===(st+1)%G.length)j[0]=(q[0]+Z[0])/2,j[1]=(q[1]+Z[1])/2,b.push(j),dt<st?(d(ft,rt,dt,st+1),ft.push(j),ot.push(j),nt!==0&&d(ot,rt,nt,rt.length),d(ot,rt,0,dt+1)):(dt!==0&&d(ft,rt,dt,rt.length),d(ft,rt,0,st+1),ft.push(j),ot.push(j),d(ot,rt,nt,dt+1));else{if(nt>st&&(st+=G.length),it=Number.MAX_VALUE,st<nt)return X;for(var xt=nt;xt<=st;++xt)o(u(rt,dt-1),u(rt,dt),u(rt,xt))&&r(u(rt,dt+1),u(rt,dt),u(rt,xt))&&(et=s(u(rt,dt),u(rt,xt)),et<it&&P(rt,dt,xt)&&(it=et,ut=xt%G.length));dt<ut?(d(ft,rt,dt,ut+1),ut!==0&&d(ot,rt,ut,lt.length),d(ot,rt,0,dt+1)):(dt!==0&&d(ft,rt,dt,lt.length),d(ft,rt,0,ut+1),d(ot,rt,ut,dt+1))}return ft.length<ot.length?(B(ft,X,V,b,z,$,Q),B(ot,X,V,b,z,$,Q)):(B(ot,X,V,b,z,$,Q),B(ft,X,V,b,z,$,Q)),X}return X.push(G),X}function U(G,X){for(var V=0,b=G.length-1;G.length>3&&b>=0;--b)l(u(G,b-1),u(G,b),u(G,b+1),X)&&(G.splice(b%G.length,1),V++);return V}function W(G,X){for(var V=G.length-1;V>=1;--V)for(var b=G[V],z=V-1;z>=0;--z)if(Y(b,G[z],X)){G.splice(V,1);continue}}function H(G,X,V){return V=V||0,Math.abs(G-X)<=V}function Y(G,X,V){return H(G[0],X[0],V)&&H(G[1],X[1],V)}},52018:(c,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(83419),m=new h({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=m},42363:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=S},37277:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},h={};h.register=function(m,o,a,r){r===void 0&&(r=!1),S[m]={plugin:o,mapping:a,custom:r}},h.registerCustom=function(m,o,a,r){t[m]={plugin:o,mapping:a,data:r}},h.hasCore=function(m){return S.hasOwnProperty(m)},h.hasCustom=function(m){return t.hasOwnProperty(m)},h.getCore=function(m){return S[m]},h.getCustom=function(m){return t[m]},h.getCustomClass=function(m){return t.hasOwnProperty(m)?t[m].plugin:null},h.remove=function(m){S.hasOwnProperty(m)&&delete S[m]},h.removeCustom=function(m){t.hasOwnProperty(m)&&delete t[m]},h.destroyCorePlugins=function(){for(var m in S)S.hasOwnProperty(m)&&delete S[m]},h.destroyCustomPlugins=function(){for(var m in t)t.hasOwnProperty(m)&&delete t[m]},c.exports=h},77332:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(8443),o=t(50792),a=t(74099),r=t(44603),e=t(39429),n=t(95540),l=t(37277),s=t(72905),u=t(8054),f=new h({Extends:o,initialize:function(v){o.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted||v.config.renderType===u.HEADLESS?this.boot():v.events.once(m.BOOT,this.boot,this)},boot:function(){var d,v,g,y,T,E,A,P=this.game.config,w=P.installGlobalPlugins;for(w=w.concat(this._pendingGlobal),d=0;d<w.length;d++)v=w[d],g=n(v,"key",null),y=n(v,"plugin",null),T=n(v,"start",!1),E=n(v,"mapping",null),A=n(v,"data",null),g&&(y?this.install(g,y,T,E,A):console.warn("Missing `plugin` for key: "+g));for(w=P.installScenePlugins,w=w.concat(this._pendingScene),d=0;d<w.length;d++)v=w[d],g=n(v,"key",null),y=n(v,"plugin",null),E=n(v,"mapping",null),g&&(y?this.installScenePlugin(g,y,E):console.warn("Missing `plugin` for key: "+g));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(d,v,g){var y,T,E,A=this.game,P=d.scene,w=d.settings.map,M=d.settings.isBooted;for(y=0;y<v.length;y++)T=v[y],A[T]?(d[T]=A[T],w.hasOwnProperty(T)&&(P[w[T]]=d[T])):T==="game"&&w.hasOwnProperty(T)&&(P[w[T]]=A);for(var D=0;D<g.length;D++)for(E=g[D],y=0;y<E.length;y++)if(T=E[y],!!l.hasCore(T)){var F=l.getCore(T),L=F.mapping,O=new F.plugin(P,this,L);d[L]=O,F.custom?P[L]=O:w.hasOwnProperty(L)&&(P[w[L]]=O),M&&O.boot()}for(E=this.plugins,y=0;y<E.length;y++){var B=E[y];B.mapping&&(P[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,v,g,y,T){if(T===void 0&&(T=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(l.hasCore(d)||l.register(d,v,g,!0),this.scenePlugins.indexOf(d)===-1)this.scenePlugins.push(d);else if(!T&&l.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(y){var E=new v(y,this,d);y.sys[d]=E,g&&g!==""&&(y[g]=E),E.boot()}},install:function(d,v,g,y,T){if(g===void 0&&(g=!1),y===void 0&&(y=null),T===void 0&&(T=null),typeof v!="function")return console.warn("Invalid Plugin: "+d),null;if(l.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(y!==null&&(g=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:v,start:g,mapping:y,data:T});else if(l.registerCustom(d,v,y,T),g)return this.start(d);return null},getIndex:function(d){for(var v=this.plugins,g=0;g<v.length;g++){var y=v[g];if(y.key===d)return g}return-1},getEntry:function(d){var v=this.getIndex(d);if(v!==-1)return this.plugins[v]},isActive:function(d){var v=this.getEntry(d);return v&&v.active},start:function(d,v){v===void 0&&(v=d);var g=this.getEntry(v);return g&&!g.active?(g.active=!0,g.plugin.start()):g||(g=this.createEntry(d,v)),g?g.plugin:null},createEntry:function(d,v){var g=l.getCustom(d);if(g){var y=new g.plugin(this);g={key:v,plugin:y,active:!0,mapping:g.mapping,data:g.data},this.plugins.push(g),y.init(g.data),y.start()}return g},stop:function(d){var v=this.getEntry(d);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(d,v){v===void 0&&(v=!0);var g=this.getEntry(d);if(g)return g.plugin;var y=this.getClass(d);return y&&v?(g=this.createEntry(d,d),g?g.plugin:null):y||null},getClass:function(d){return l.getCustomClass(d)},removeGlobalPlugin:function(d){var v=this.getEntry(d);v&&s(this.plugins,v),l.removeCustom(d)},removeScenePlugin:function(d){s(this.scenePlugins,d),l.remove(d)},registerGameObject:function(d,v,g){return v&&e.register(d,v),g&&r.register(d,g),this},removeGameObject:function(d,v,g){return v===void 0&&(v=!0),g===void 0&&(g=!0),v&&e.remove(d),g&&r.remove(d),this},registerFileType:function(d,v,g){a.register(d,v),g&&g.sys.load&&(g.sys.load[d]=v)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=f},45145:(c,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(52018),m=t(83419),o=t(44594),a=new m({Extends:h,initialize:function(e,n,l){h.call(this,n),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=a},18922:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){const S=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,m=(o,a)=>{const r=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(e>h){const n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=a-o;c(a,{presentationTime:a+n*1e3,expectedDisplayTime:a+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:n}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(n=>m(a,n))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(o=>m(S,o)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=S},68627:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19715),m=t(32880),o=t(83419),a=t(8054),r=t(50792),e=t(92503),n=t(56373),l=t(97480),s=t(69442),u=t(8443),f=t(61340),d=new o({Extends:r,initialize:function(g){r.call(this);var y=g.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels,transparent:y.transparent},this.game=g,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=g.canvas;var T={alpha:y.transparent,desynchronized:y.desynchronized,willReadFrequently:!1};this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=y.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){var v=this.game;v.events.once(u.BOOT,function(){var g=this.config;if(!g.transparent){var y=this.gameContext,T=this.gameCanvas;y.fillStyle=g.backgroundColor.rgba,y.fillRect(0,0,T.width,T.height)}},this),v.textures.once(s.READY,this.boot,this)},boot:function(){var v=this.game,g=v.scale.baseSize;this.width=g.width,this.height=g.height,this.isBooted=!0,v.scale.on(l.RESIZE,this.onResize,this),this.resize(g.width,g.height)},onResize:function(v,g){(g.width!==this.width||g.height!==this.height)&&this.resize(g.width,g.height)},resize:function(v,g){this.width=v,this.height=g,this.emit(e.RESIZE,v,g)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,g=this.config,y=this.width,T=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),g.clearBeforeRender&&(v.clearRect(0,0,y,T),g.transparent||(v.fillStyle=g.backgroundColor.rgba,v.fillRect(0,0,y,T))),v.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(v,g,y){var T=g.length;this.emit(e.RENDER,v,y);var E=y.x,A=y.y,P=y.width,w=y.height,M=y.renderToTexture?y.context:v.sys.context;M.save(),this.game.scene.customViewports&&(M.beginPath(),M.rect(E,A,P,w),M.clip()),y.emit(h.PRE_RENDER,y),this.currentContext=M;var D=y.mask;D&&D.preRenderCanvas(this,null,y._maskCamera),y.transparent||(M.fillStyle=y.backgroundColor.rgba,M.fillRect(E,A,P,w)),M.globalAlpha=y.alpha,M.globalCompositeOperation="source-over",this.drawCount+=T,y.renderToTexture&&y.emit(h.PRE_RENDER,y),y.matrix.copyToContext(M);for(var F=0;F<T;F++){var L=g[F];L.mask&&L.mask.preRenderCanvas(this,L,y),L.renderCanvas(this,L,y),L.mask&&L.mask.postRenderCanvas(this,L,y)}M.setTransform(1,0,0,1,0,0),M.globalCompositeOperation="source-over",M.globalAlpha=1,y.flashEffect.postRenderCanvas(M),y.fadeEffect.postRenderCanvas(M),y.dirty=!1,D&&D.postRenderCanvas(this),M.restore(),y.renderToTexture&&(y.emit(h.POST_RENDER,y),y.renderToGame&&v.sys.context.drawImage(y.canvas,E,A)),y.emit(h.POST_RENDER,y)},postRender:function(){var v=this.gameContext;v.restore(),this.emit(e.POST_RENDER);var g=this.snapshotState;g.callback&&(m(this.gameCanvas,g),g.callback=null)},snapshotCanvas:function(v,g,y,T,E,A,P,w,M){y===void 0&&(y=!1),this.snapshotArea(T,E,A,P,g,w,M);var D=this.snapshotState;return D.getPixel=y,m(v,D),D.callback=null,this},snapshot:function(v,g,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,g,y)},snapshotArea:function(v,g,y,T,E,A,P){var w=this.snapshotState;return w.callback=E,w.type=A,w.encoder=P,w.getPixel=!1,w.x=v,w.y=g,w.width=Math.min(y,this.gameCanvas.width),w.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(v,g,y){return this.snapshotArea(v,g,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(v,g,y,T){var E=y.alpha*v.alpha;if(E!==0){var A=this.currentContext,P=this._tempMatrix1,w=this._tempMatrix2,M=g.canvasData,D=M.x,F=M.y,L=g.cutWidth,O=g.cutHeight,B=g.customPivot,U=g.source.resolution,W=v.displayOriginX,H=v.displayOriginY,Y=-W+g.x,G=-H+g.y;if(v.isCropped){var X=v._crop;(X.flipX!==v.flipX||X.flipY!==v.flipY)&&g.updateCropUVs(X,v.flipX,v.flipY),L=X.cw,O=X.ch,D=X.cx,F=X.cy,Y=-W+X.x,G=-H+X.y,v.flipX&&(Y>=0?Y=-(Y+L):Y<0&&(Y=Math.abs(Y)-L)),v.flipY&&(G>=0?G=-(G+O):G<0&&(G=Math.abs(G)-O))}var V=1,b=1;v.flipX&&(B||(Y+=-g.realWidth+W*2),V=-1),v.flipY&&(B||(G+=-g.realHeight+H*2),b=-1);var z=v.x,$=v.y;if(y.roundPixels&&(z=Math.floor(z),$=Math.floor($)),w.applyITRS(z,$,v.rotation,v.scaleX*V,v.scaleY*b),P.copyFrom(y.matrix),T?(P.multiplyWithOffset(T,-y.scrollX*v.scrollFactorX,-y.scrollY*v.scrollFactorY),w.e=z,w.f=$):(w.e-=y.scrollX*v.scrollFactorX,w.f-=y.scrollY*v.scrollFactorY),P.multiply(w),y.renderRoundPixels&&(P.e=Math.floor(P.e+.5),P.f=Math.floor(P.f+.5)),A.save(),P.setToContext(A),A.globalCompositeOperation=this.blendModes[v.blendMode],A.globalAlpha=E,A.imageSmoothingEnabled=!g.source.scaleMode,v.mask&&v.mask.preRenderCanvas(this,v,y),L>0&&O>0){var Q=L/U,Z=O/U;y.roundPixels&&(Y=Math.floor(Y+.5),G=Math.floor(G+.5),Q+=.5,Z+=.5),A.drawImage(g.source.image,D,F,L,O,Y,G,Q,Z)}v.mask&&v.mask.postRenderCanvas(this,v,y),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=d},55830:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),m=t(89289),o=function(){var a=[],r=m.supportNewBlendModes,e="source-over";return a[h.NORMAL]=e,a[h.ADD]="lighter",a[h.MULTIPLY]=r?"multiply":e,a[h.SCREEN]=r?"screen":e,a[h.OVERLAY]=r?"overlay":e,a[h.DARKEN]=r?"darken":e,a[h.LIGHTEN]=r?"lighten":e,a[h.COLOR_DODGE]=r?"color-dodge":e,a[h.COLOR_BURN]=r?"color-burn":e,a[h.HARD_LIGHT]=r?"hard-light":e,a[h.SOFT_LIGHT]=r?"soft-light":e,a[h.DIFFERENCE]=r?"difference":e,a[h.EXCLUSION]=r?"exclusion":e,a[h.HUE]=r?"hue":e,a[h.SATURATION]=r?"saturation":e,a[h.COLOR]=r?"color":e,a[h.LUMINOSITY]=r?"luminosity":e,a[h.ERASE]="destination-out",a[h.SOURCE_IN]="source-in",a[h.SOURCE_OUT]="source-out",a[h.SOURCE_ATOP]="source-atop",a[h.DESTINATION_OVER]="destination-over",a[h.DESTINATION_IN]="destination-in",a[h.DESTINATION_OUT]="destination-out",a[h.DESTINATION_ATOP]="destination-atop",a[h.LIGHTER]="lighter",a[h.COPY]="copy",a[h.XOR]="xor",a};c.exports=o},20926:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),m=function(o,a,r,e,n){var l=e.alpha*r.alpha;if(l<=0)return!1;var s=h(r,e,n).calc;return a.globalCompositeOperation=o.blendModes[r.blendMode],a.globalAlpha=l,a.save(),s.setToContext(a),a.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:o.antialias,!0};c.exports=m},63899:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="losewebgl"},6119:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},48070:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},15640:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},8912:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},87124:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restorewebgl"},92503:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(92503),Snapshot:t(89966)},c.exports.Canvas=t(55830),c.exports.WebGL=t(4159)},32880:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),m=t(40987),o=t(95540),a=function(r,e){var n=o(e,"callback"),l=o(e,"type","image/png"),s=o(e,"encoder",.92),u=Math.abs(Math.round(o(e,"x",0))),f=Math.abs(Math.round(o(e,"y",0))),d=Math.floor(o(e,"width",r.width)),v=Math.floor(o(e,"height",r.height)),g=o(e,"getPixel",!1);if(g){var y=r.getContext("2d",{willReadFrequently:!1}),T=y.getImageData(u,f,1,1),E=T.data;n.call(null,new m(E[0],E[1],E[2],E[3]))}else if(u!==0||f!==0||d!==r.width||v!==r.height){var A=h.createWebGL(this,d,v),P=A.getContext("2d",{willReadFrequently:!0});d>0&&v>0&&P.drawImage(r,u,f,d,v,0,0,d,v);var w=new Image;w.onerror=function(){n.call(null),h.remove(A)},w.onload=function(){n.call(null,w),h.remove(A)},w.src=A.toDataURL(l,s)}else{var M=new Image;M.onerror=function(){n.call(null)},M.onload=function(){n.call(null,M)},M.src=r.toDataURL(l,s)}};c.exports=a},88815:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),m=t(40987),o=t(95540),a=function(r,e){var n=r,l=o(e,"callback"),s=o(e,"type","image/png"),u=o(e,"encoder",.92),f=Math.abs(Math.round(o(e,"x",0))),d=Math.abs(Math.round(o(e,"y",0))),v=o(e,"getPixel",!1),g=o(e,"isFramebuffer",!1),y=g?o(e,"bufferWidth",1):n.drawingBufferWidth,T=g?o(e,"bufferHeight",1):n.drawingBufferHeight;if(v){var E=new Uint8Array(4),A=g?d:T-d;n.readPixels(f,A,1,1,n.RGBA,n.UNSIGNED_BYTE,E),l.call(null,new m(E[0],E[1],E[2],E[3]))}else{var P=Math.floor(o(e,"width",y)),w=Math.floor(o(e,"height",T)),M=P*w*4,D=new Uint8Array(M);n.readPixels(f,T-d-w,P,w,n.RGBA,n.UNSIGNED_BYTE,D);for(var F=h.createWebGL(this,P,w),L=F.getContext("2d",{willReadFrequently:!0}),O=L.getImageData(0,0,P,w),B=O.data,U=0;U<w;U++)for(var W=0;W<P;W++){var H=((w-U-1)*P+W)*4,Y=g?M-(U*P+(P-W))*4:(U*P+W)*4;B[Y+0]=D[H+0],B[Y+1]=D[H+1],B[Y+2]=D[H+2],B[Y+3]=D[H+3]}L.putImageData(O,0,0);var G=new Image;G.onerror=function(){l.call(null),h.remove(F)},G.onload=function(){l.call(null,G),h.remove(F)},G.src=F.toDataURL(s,u)}};c.exports=a},89966:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(36060),o=t(90330),a=t(82264),r=t(95540),e=t(32302),n=t(63448),l=t(31302),s=t(58918),u=t(14811),f=t(92651),d=t(96569),v=t(56527),g=t(57516),y=t(43439),T=t(81041),E=t(12385),A=t(7589),P=t(95428),w=t(72905),M=new h({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new o([[m.UTILITY_PIPELINE,A],[m.MULTI_PIPELINE,g],[m.BITMAPMASK_PIPELINE,l],[m.SINGLE_PIPELINE,E],[m.ROPE_PIPELINE,T],[m.LIGHT_PIPELINE,d],[m.POINTLIGHT_PIPELINE,y],[m.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,F,L){var O=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(r(D,"frameInc",32));var U=O.width,W=O.height,H=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(u.BARREL),s.Barrel],[String(u.BLOOM),s.Bloom],[String(u.BLUR),s.Blur],[String(u.BOKEH),s.Bokeh],[String(u.CIRCLE),s.Circle],[String(u.COLOR_MATRIX),s.ColorMatrix],[String(u.DISPLACEMENT),s.Displacement],[String(u.GLOW),s.Glow],[String(u.GRADIENT),s.Gradient],[String(u.PIXELATE),s.Pixelate],[String(u.SHADOW),s.Shadow],[String(u.SHINE),s.Shine],[String(u.VIGNETTE),s.Vignette],[String(u.WIPE),s.Wipe]]),!H){this.classes.set(m.FX_PIPELINE,f);for(var G=Math.min(U,W),X=Math.ceil(G/this.frameInc),V=1;V<X;V++){var b=V*this.frameInc;B.push(new e(O,b,b)),B.push(new e(O,b,b)),B.push(new e(O,b,b)),this.maxDimension=b}B.push(new e(O,U,W,1,0,!0,!0)),B.push(new e(O,U,W,1,0,!0,!0)),B.push(new e(O,U,W,1,0,!0,!0))}var z,$,Q=this,Z=this.game;if(this.classes.each(function(j,k){z=Q.add(j,new k({game:Z})),j===m.UTILITY_PIPELINE&&(Q.UTILITY_PIPELINE=z,Q.fullFrame1=z.fullFrame1,Q.fullFrame2=z.fullFrame2,Q.halfFrame1=z.halfFrame1,Q.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(m.FX_PIPELINE)),D)for($ in D){var q=D[$];z=new q(Z),z.name=$,z.isPostFX?this.postPipelineClasses.set($,q):this.has($)||(this.classes.set($,q),this.add($,z))}this.default=this.get(F),L&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var F=this.get(D);return F&&(this.default=F),F},add:function(D,F){if(F.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,O=this.renderer;return L.has(D)?console.warn("Pipeline exists: "+D):(F.name=D,F.manager=this,L.set(D,F)),F.hasBooted||F.boot(),O.width!==0&&O.height!==0&&!F.isPreFX&&F.resize(O.width,O.height),F},addPostPipeline:function(D,F){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,F)},flush:function(){this.current&&this.current.flush()},has:function(D){var F=this.pipelines;return typeof D=="string"?F.has(D):!!F.contains(D)},get:function(D){var F=this.pipelines;if(typeof D=="string")return F.get(D);if(F.contains(D))return D},getPostPipeline:function(D,F,L){var O=this.postPipelineClasses,B,U="",W=typeof D;if(W==="string"||W==="number"?(B=O.get(D),U=D):W==="function"?(O.contains(D)&&(B=D),U=D.name):W==="object"&&(B=O.get(D.name),U=D.name),B){var H=new B(this.game,L);return H.name=U,F&&(H.gameObject=F),this.postPipelineInstances.push(H),H}},removePostPipeline:function(D){w(this.postPipelineInstances,D)},remove:function(D,F,L){F===void 0&&(F=!0),L===void 0&&(L=!0),this.pipelines.delete(D),F&&this.classes.delete(D),L&&this.postPipelineClasses.delete(D)},set:function(D,F,L){if(!D.isPostFX)return this.isCurrent(D,L)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(L)),D.updateProjectionMatrix(),D.onBind(F),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,L=F.length-1;L>=0;L--){var O=F[L];O.active&&O.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,L=0;L<F.length;L++){var O=F[L];O.active&&O.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,L=F.length-1;L>=0;L--){var O=F[L];O.active&&O.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,L=0;L<F.length;L++){var O=F[L];O.active&&O.postBatch(D)}}},isCurrent:function(D,F){var L=this.renderer,O=this.current;return O&&!F&&(F=O.currentShader),!(O!==D||F.program!==L.currentProgram)},copyFrame:function(D,F,L,O,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,F,L,O,B),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,F,L,O){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,F,L,O),this},blendFrames:function(D,F,L,O,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,F,L,O,B),this},blendFramesAdditive:function(D,F,L,O,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,F,L,O,B),this},clearFrame:function(D,F){return this.UTILITY_PIPELINE.clearFrame(D,F),this},blitFrame:function(D,F,L,O,B,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,F,L,O,B,U),this},copyFrameRect:function(D,F,L,O,B,U,W,H){return this.UTILITY_PIPELINE.copyFrameRect(D,F,L,O,B,U,W,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,F){F.restoreContext()}),P(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var F=this.renderer,L=F.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),F.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var O=F.vaoExtension;O&&O.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var U in B)B[U].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var F=D.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(D){var F=this.renderTargets,L=3;if(D>this.maxDimension)return this.targetIndex=F.length-L,F[this.targetIndex];var O=(n(D,this.frameInc,0,!0)-1)*L;return this.targetIndex=O,F[O]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=M},32302:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(92503),o=new h({initialize:function(r,e,n,l,s,u,f,d,v){l===void 0&&(l=1),s===void 0&&(s=0),u===void 0&&(u=!0),f===void 0&&(f=!1),d===void 0&&(d=!0),v===void 0&&(v=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=s,this.autoClear=u,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=v,this.init(e,n),f?this.renderer.on(m.RESIZE,this.resize,this):this.autoResize=!1},init:function(a,r){var e=this.renderer;this.texture=e.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,r){if(this.autoResize&&this.willResize(a,r)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r}return this},willResize:function(a,r){return typeof a!="number"||typeof r!="number"?!1:(a=Math.round(a*this.scale),r=Math.round(r*this.scale),a=Math.max(a,1),r=Math.max(r,1),a!==this.width||r!==this.height)},bind:function(a,r,e){a===void 0&&(a=!1);var n=this.renderer;if(a&&n.flush(),r&&e&&this.resize(r,e),n.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(a,r,e,n){var l=this.renderer,s=l.gl;l.pushFramebuffer(this.framebuffer),a!==void 0&&r!==void 0&&e!==void 0&&n!==void 0?(s.enable(s.SCISSOR_TEST),s.scissor(a,r,e,n)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var r=this.renderer;return a&&r.flush(),r.popFramebuffer()},destroy:function(){var a=this.renderer;a.off(m.RESIZE,this.resize,this),a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=o},70554:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(S,t,h,m){var o=(S*255|0)&255,a=(t*255|0)&255,r=(h*255|0)&255,e=(m*255|0)&255;return(e<<24|o<<16|a<<8|r)>>>0},getTintAppendFloatAlpha:function(S,t){var h=(t*255|0)&255;return(h<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var h=(S>>16|0)&255,m=(S>>8|0)&255,o=(S|0)&255,a=(t*255|0)&255;return(a<<24|o<<16|m<<8|h)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,h=(S>>8|0)&255,m=(S|0)&255;return[t/255,h/255,m/255]},checkShaderMax:function(S,t){var h=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var h="",m=0;m<t;m++)m>0&&(h+=`
	else `),m<t-1&&(h+="if (outTexId < "+m+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",h+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,h)},setGlowQuality:function(S,t,h,m){return h===void 0&&(h=t.config.glowFXQuality),m===void 0&&(m=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/h/m).toFixed(7)),S=S.replace(/__DIST__/gi,m.toFixed(0)+".0"),S}}},29100:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(62644),o=t(50792),a=t(77085),r=t(95540),e=t(37867),n=t(92503),l=t(32302),s=t(70554),u=t(38683),f=new h({Extends:o,initialize:function(v){o.call(this);var g=v.game,y=g.renderer,T=y.gl;this.name=r(v,"name","WebGLPipeline"),this.game=g,this.renderer=y,this.manager,this.gl=T,this.view=g.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(v,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(v,"resizeUniform","")},boot:function(){var d,v=this.gl,g=this.config,y=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var T=this.renderTargets,E=r(g,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var A=y.width,P=y.height;if(typeof E=="number")for(d=0;d<E;d++)T.push(new l(y,A,P,1,0,!0));else if(Array.isArray(E))for(d=0;d<E.length;d++){var w=r(E[d],"scale",1),M=r(E[d],"minFilter",0),D=r(E[d],"autoClear",1),F=r(E[d],"autoResize",!1),L=r(E[d],"width",null),O=r(E[d],"height",L);L?T.push(new l(y,L,O,1,M,D,F)):T.push(new l(y,A,P,w,M,D,F))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(g);var B=this.shaders,U=0;for(d=0;d<B.length;d++)B[d].vertexSize>U&&(U=B[d].vertexSize);var W=r(g,"batchSize",y.config.batchSize);this.vertexCapacity=W*6;var H=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var Y=r(g,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=y.createVertexBuffer(H,v.STATIC_DRAW)):this.vertexBuffer=y.createVertexBuffer(H.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),d=B.length-1;d>=0;d--)B[d].rebind();this.hasBooted=!0,y.on(n.RESIZE,this.resize,this),y.on(n.PRE_RENDER,this.onPreRender,this),y.on(n.RENDER,this.onRender,this),y.on(n.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,v,g){var y=this.renderer;if(d!==this.currentShader||y.currentProgram!==this.currentShader.program){this.flush();var T=this.setVertexBuffer(g);T&&!v&&(v=!0),d.bind(v,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var v=this.shaders,g=0;g<v.length;g++)if(v[g].name===d)return v[g]},setShadersFromConfig:function(d){var v,g=this.shaders,y=this.renderer;for(v=0;v<g.length;v++)g[v].destroy();var T="vertShader",E="fragShader",A="attributes",P=r(d,T,null),w=s.parseFragmentShaderMaxTextures(r(d,E,null),y.maxTextures),M=r(d,A,null),D=r(d,"shaders",[]),F=D.length;if(F===0)P&&w&&(this.shaders=[new u(this,"default",P,w,m(M))]);else{var L=[];for(v=0;v<F;v++){var O=D[v],B,U,W,H;if(typeof O=="string"?(B="default",U=P,W=s.parseFragmentShaderMaxTextures(O,y.maxTextures),H=M):(B=r(O,"name","default"),U=r(O,T,P),W=s.parseFragmentShaderMaxTextures(r(O,E,w),y.maxTextures),H=r(O,A,M)),B==="default"){var Y=W.split(`
`),G=Y[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(B=G.substring(20))}U&&W&&L.push(new u(this,B,U,W,m(H)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var v=this.currentBatch;v&&(v.texture.push(d),v.unit++,v.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var v=this.currentBatch,g=v.texture.indexOf(d);return g===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(d):(v.unit++,v.maxUnit++,v.texture.push(d),this.currentUnit=v.unit,this.currentTexture=d,v.unit):(this.currentUnit=g,this.currentTexture=d,g)},setGameObject:function(d,v){return v===void 0&&(v=d.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,v){(d!==this.width||v!==this.height)&&this.flush(),this.width=d,this.height=v;for(var g=this.renderTargets,y=0;y<g.length;y++)g[y].resize(d,v);return this.setProjectionMatrix(d,v),this.resizeUniform&&this.set2f(this.resizeUniform,d,v),this.emit(a.RESIZE,d,v,this),this.onResize(d,v),this},setProjectionMatrix:function(d,v){var g=this.projectionMatrix;if(!g)return this;this.projectionWidth=d,this.projectionHeight=v,g.ortho(0,d,v,0,-1e3,1e3);for(var y=this.shaders,T="uProjectionMatrix",E=0;E<y.length;E++){var A=y[E];A.hasUniform(T)&&(A.resetUniform(T),A.setMatrix4fv(T,!1,g.val,A))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var v=this.projectionMatrix;if(!v)return this;var g=this.projectionWidth,y=this.projectionHeight;d?v.ortho(0,g,0,y,-1e3,1e3):v.ortho(0,g,y,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==v)&&this.setProjectionMatrix(d,v)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var v=!1,g=this.gl;return g.getParameter(g.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(g.bindBuffer(g.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),d.bind(v),this.currentShader=d,this.activeTextures.length=0,this.emit(a.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,g=v.length-1;g>=0;g--){var y=v[g].rebind();(!d||y===d)&&(this.currentShader=y)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var g=0;g<d.length;g++){var y=d[g];y.syncUniforms(),v&&y.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var v=this.gl,g=this.vertexCount,y=this.currentShader.vertexSize,T=this.topology;if(this.active){this.setVertexBuffer(),g===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,g*y));var E,A,P,w=this.batch,M=this.activeTextures;if(this.forceZero)for(M[0]||v.activeTexture(v.TEXTURE0),E=0;E<w.length;E++)A=w[E],P=A.texture[0],M[0]!==P&&(v.bindTexture(v.TEXTURE_2D,P.webGLTexture),M[0]=P),v.drawArrays(T,A.start,A.count);else for(E=0;E<w.length;E++){A=w[E];for(var D=0;D<=A.maxUnit;D++)P=A.texture[D],M[D]!==P&&(v.activeTexture(v.TEXTURE0+D),v.bindTexture(v.TEXTURE_2D,P.webGLTexture),M[D]=P);v.drawArrays(T,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,v,g,y,T,E,A){var P=this.vertexViewF32,w=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++M]=d,P[++M]=v,P[++M]=g,P[++M]=y,P[++M]=T,P[++M]=E,w[++M]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,v,g,y,T,E,A,P,w,M,D,F,L,O,B,U,W,H,Y,G){G===void 0&&(G=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(G=this.setTexture2D(Y));var V=this.vertexViewF32,b=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return V[++z]=v,V[++z]=g,V[++z]=M,V[++z]=D,V[++z]=G,V[++z]=H,b[++z]=O,V[++z]=y,V[++z]=T,V[++z]=M,V[++z]=L,V[++z]=G,V[++z]=H,b[++z]=U,V[++z]=E,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=G,V[++z]=H,b[++z]=W,V[++z]=v,V[++z]=g,V[++z]=M,V[++z]=D,V[++z]=G,V[++z]=H,b[++z]=O,V[++z]=E,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=G,V[++z]=H,b[++z]=W,V[++z]=P,V[++z]=w,V[++z]=F,V[++z]=D,V[++z]=G,V[++z]=H,b[++z]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),X},batchTri:function(d,v,g,y,T,E,A,P,w,M,D,F,L,O,B,U,W){W===void 0&&(W=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(W=this.setTexture2D(U));var Y=this.vertexViewF32,G=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++X]=v,Y[++X]=g,Y[++X]=P,Y[++X]=w,Y[++X]=W,Y[++X]=B,G[++X]=F,Y[++X]=y,Y[++X]=T,Y[++X]=P,Y[++X]=D,Y[++X]=W,Y[++X]=B,G[++X]=L,Y[++X]=E,Y[++X]=A,Y[++X]=M,Y[++X]=D,Y[++X]=W,Y[++X]=B,G[++X]=O,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),H},drawFillRect:function(d,v,g,y,T,E,A,P){A===void 0&&(A=this.renderer.whiteTexture),P===void 0&&(P=!0),d=Math.floor(d),v=Math.floor(v);var w=Math.floor(d+g),M=Math.floor(v+y),D=this.setTexture2D(A),F=s.getTintAppendFloatAlphaAndSwap(T,E),L=0,O=0,B=1,U=1;P&&(O=1,U=0),this.batchQuad(null,d,v,d,M,w,M,w,v,L,O,B,U,F,F,F,F,0,A,D)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,v){v===void 0&&(v=0);var g=this.gl;return g.activeTexture(g.TEXTURE0+v),g.bindTexture(g.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,v){return this.bindTexture(d.texture,v)},setTime:function(d,v){return this.set1f(d,this.game.loop.getDuration(),v),this},setBoolean:function(d,v,g){return g===void 0&&(g=this.currentShader),g.setBoolean(d,v),this},set1f:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set1f(d,v),this},set2f:function(d,v,g,y){return y===void 0&&(y=this.currentShader),y.set2f(d,v,g),this},set3f:function(d,v,g,y,T){return T===void 0&&(T=this.currentShader),T.set3f(d,v,g,y),this},set4f:function(d,v,g,y,T,E){return E===void 0&&(E=this.currentShader),E.set4f(d,v,g,y,T),this},set1fv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set1fv(d,v),this},set2fv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set2fv(d,v),this},set3fv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set3fv(d,v),this},set4fv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set4fv(d,v),this},set1iv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set1iv(d,v),this},set2iv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set2iv(d,v),this},set3iv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set3iv(d,v),this},set4iv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set4iv(d,v),this},set1i:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set1i(d,v),this},set2i:function(d,v,g,y){return y===void 0&&(y=this.currentShader),y.set2i(d,v,g),this},set3i:function(d,v,g,y,T){return T===void 0&&(T=this.currentShader),T.set3i(d,v,g,y),this},set4i:function(d,v,g,y,T,E){return E===void 0&&(E=this.currentShader),E.set4i(d,v,g,y,T),this},setMatrix2fv:function(d,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix2fv(d,v,g),this},setMatrix3fv:function(d,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix3fv(d,v,g),this},setMatrix4fv:function(d,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix4fv(d,v,g),this},destroy:function(){this.emit(a.DESTROY,this);var d,v=this.shaders;for(d=0;d<v.length;d++)v[d].destroy();var g=this.renderTargets;for(d=0;d<g.length;d++)g[d].destroy();var y=this.renderer;return y.deleteBuffer(this.vertexBuffer),y.off(n.RESIZE,this.resize,this),y.off(n.PRE_RENDER,this.onPreRender,this),y.off(n.RENDER,this.onRender,this),y.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=f},74797:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95428),m=t(72905),o=t(19715),a=t(83419),r=t(8054),e=t(50792),n=t(92503),l=t(50030),s=t(37867),u=t(29747),f=t(7530),d=t(32302),v=t(97480),g=t(69442),y=t(70554),T=t(88815),E=t(26128),A=t(1482),P=t(82751),w=t(84387),M=t(93567),D=t(57183),F=new a({Extends:e,initialize:function(O){e.call(this);var B=O.config,U={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:U,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=O,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=O.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.previousContextLostHandler=u,this.previousContextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(L){var O,B=this.game,U=this.canvas,W=L.backgroundColor;if(B.config.context?O=B.config.context:O=U.getContext("webgl",L.contextCreation)||U.getContext("experimental-webgl",L.contextCreation),!O||O.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=O,this.setExtensions(),this.setContextHandlers(),B.context=O;for(var H=0;H<=27;H++)this.blendModes.push({func:[O.ONE,O.ONE_MINUS_SRC_ALPHA],equation:O.FUNC_ADD});this.blendModes[1].func=[O.ONE,O.DST_ALPHA],this.blendModes[2].func=[O.DST_COLOR,O.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[O.ONE,O.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[O.ZERO,O.ONE_MINUS_SRC_ALPHA],equation:O.FUNC_REVERSE_SUBTRACT},this.glFormats=[O.BYTE,O.SHORT,O.UNSIGNED_BYTE,O.UNSIGNED_SHORT,O.FLOAT],this.glFuncMap={mat2:{func:O.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:O.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:O.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:O.uniform1f,length:1},"1fv":{func:O.uniform1fv,length:1},"1i":{func:O.uniform1i,length:1},"1iv":{func:O.uniform1iv,length:1},"2f":{func:O.uniform2f,length:2},"2fv":{func:O.uniform2fv,length:1},"2i":{func:O.uniform2i,length:2},"2iv":{func:O.uniform2iv,length:1},"3f":{func:O.uniform3f,length:3},"3fv":{func:O.uniform3fv,length:1},"3i":{func:O.uniform3i,length:3},"3iv":{func:O.uniform3iv,length:1},"4f":{func:O.uniform4f,length:4},"4fv":{func:O.uniform4fv,length:1},"4i":{func:O.uniform4i,length:4},"4iv":{func:O.uniform4iv,length:1}},(!L.maxTextures||L.maxTextures===-1)&&(L.maxTextures=O.getParameter(O.MAX_TEXTURE_IMAGE_UNITS)),L.maxTextureSize||(L.maxTextureSize=O.getParameter(O.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),O.enable(O.BLEND),O.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),O.clear(O.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(L.mipmapFilter)!==-1&&(this.mipmapFilter=O[L.mipmapFilter]),this.maxTextures=y.checkShaderMax(O,L.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),B.textures.once(g.READY,this.boot,this),this},boot:function(){var L=this.game,O=this.pipelines,B=L.scale.baseSize,U=B.width,W=B.height;this.width=U,this.height=W,this.isBooted=!0,this.renderTarget=new d(this,U,W,1,0,!0,!0),this.maskTarget=new d(this,U,W,1,0,!0,!0),this.maskSource=new d(this,U,W,1,0,!0,!0);var H=L.config;O.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=L.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=L.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=L.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),L.scale.on(v.RESIZE,this.onResize,this),this.resize(U,W)},setExtensions:function(){var L=this.gl,O=L.getSupportedExtensions();this.supportedExtensions=O;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=O.indexOf(B)>-1?L.getExtension(B):null;var U="OES_vertex_array_object";this.vaoExtension=O.indexOf(U)>-1?L.getExtension(U):null},setContextHandlers:function(L,O){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof L=="function"?this.contextLostHandler=L.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof O=="function"?this.contextRestoredHandler=O.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(L){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),L.preventDefault()},dispatchContextRestored:function(L){var O=this.gl;if(O.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),O.disable(O.BLEND),O.disable(O.DEPTH_TEST),O.enable(O.CULL_FACE),this.compression=this.getCompressedTextures();var B=function(U){U.createResource()};h(this.glTextureWrappers,B),h(this.glBufferWrappers,B),h(this.glFramebufferWrappers,B),h(this.glProgramWrappers,B),h(this.glAttribLocationWrappers,B),h(this.glUniformLocationWrappers,B),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),L.preventDefault()},createTemporaryTextures:function(){for(var L=this.gl,O=0;O<this.maxTextures;O++){var B=L.createTexture();L.activeTexture(L.TEXTURE0+O),L.bindTexture(L.TEXTURE_2D,B),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(O)}},captureFrame:function(L,O){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(L,O,B){},stopCapture:function(){},onCapture:function(L){},onResize:function(L,O){(O.width!==this.width||O.height!==this.height)&&this.resize(O.width,O.height)},beginCapture:function(L,O){L===void 0&&(L=this.width),O===void 0&&(O=this.height),this.renderTarget.bind(!0,L,O),this.setProjectionMatrix(L,O)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(L,O){var B=this.gl;return this.width=L,this.height=O,this.setProjectionMatrix(L,O),B.viewport(0,0,L,O),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-O,L,O),this.defaultScissor[2]=L,this.defaultScissor[3]=O,this.emit(n.RESIZE,L,O),this},getCompressedTextures:function(){var L="WEBGL_compressed_texture_",O="WEBKIT_"+L,B="EXT_texture_compression_",U=function(H,Y){var G=H.getExtension(L+Y)||H.getExtension(O+Y)||H.getExtension(B+Y);if(G){var X={};for(var V in G)X[G[V]]=V;return X}},W=this.gl;return{ETC:U(W,"etc"),ETC1:U(W,"etc1"),ATC:U(W,"atc"),ASTC:U(W,"astc"),BPTC:U(W,"bptc"),RGTC:U(W,"rgtc"),PVRTC:U(W,"pvrtc"),S3TC:U(W,"s3tc"),S3TCSRGB:U(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(L,O){var B=this.compression[L.toUpperCase()];if(O in B)return B[O]},supportsCompressedTexture:function(L,O){var B=this.compression[L.toUpperCase()];return B?O?O in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(L,O){return(L!==this.projectionWidth||O!==this.projectionHeight)&&(this.projectionWidth=L,this.projectionHeight=O,this.projectionMatrix.ortho(0,L,O,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(L){return this.supportedExtensions?this.supportedExtensions.indexOf(L):!1},getExtension:function(L){return this.hasExtension(L)?(L in this.extensions||(this.extensions[L]=this.gl.getExtension(L)),this.extensions[L]):null},flush:function(){this.pipelines.flush()},pushScissor:function(L,O,B,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.scissorStack,Y=[L,O,B,U];return H.push(Y),this.setScissor(L,O,B,U,W),this.currentScissor=Y,Y},setScissor:function(L,O,B,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.gl,Y=this.currentScissor,G=B>0&&U>0;if(Y&&G){var X=Y[0],V=Y[1],b=Y[2],z=Y[3];G=X!==L||V!==O||b!==B||z!==U}G&&(this.flush(),H.scissor(L,W-O-U,B,U))},resetScissor:function(){var L=this.gl;L.enable(L.SCISSOR_TEST);var O=this.currentScissor;if(O){var B=O[0],U=O[1],W=O[2],H=O[3];W>0&&H>0&&L.scissor(B,this.drawingBufferHeight-U-H,W,H)}},popScissor:function(){var L=this.scissorStack;L.pop();var O=L[L.length-1];O&&this.setScissor(O[0],O[1],O[2],O[3]),this.currentScissor=O},hasActiveStencilMask:function(){var L=this.currentMask.mask,O=this.currentCameraMask.mask;return L&&L.isStencil||O&&O.isStencil},resetViewport:function(){var L=this.gl;L.viewport(0,0,this.width,this.height),this.drawingBufferHeight=L.drawingBufferHeight},setBlendMode:function(L,O){O===void 0&&(O=!1);var B=this.gl,U=this.blendModes[L];return O||L!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==L?(this.flush(),B.enable(B.BLEND),B.blendEquation(U.equation),U.func.length>2?B.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):B.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=L,!0):!1},addBlendMode:function(L,O){var B=this.blendModes.push({func:L,equation:O});return B-1},updateBlendMode:function(L,O,B){return this.blendModes[L]&&(this.blendModes[L].func=O,B&&(this.blendModes[L].equation=B)),this},removeBlendMode:function(L){return L>17&&this.blendModes[L]&&this.blendModes.splice(L,1),this},pushFramebuffer:function(L,O,B,U,W){return L===this.currentFramebuffer?this:(this.fboStack.push(L),this.setFramebuffer(L,O,B,U,W))},setFramebuffer:function(L,O,B,U,W){if(O===void 0&&(O=!1),B===void 0&&(B=!0),U===void 0&&(U=null),W===void 0&&(W=!1),L===this.currentFramebuffer)return this;var H=this.gl,Y=this.width,G=this.height;return L&&L.renderTexture&&B?(Y=L.renderTexture.width,G=L.renderTexture.height):this.flush(),L?H.bindFramebuffer(H.FRAMEBUFFER,L.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),B&&H.viewport(0,0,Y,G),U&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,U.webGLTexture,0),W&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),O&&(L?(this.drawingBufferHeight=G,this.pushScissor(0,0,Y,G)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=L,this},popFramebuffer:function(L,O){L===void 0&&(L=!1),O===void 0&&(O=!0);var B=this.fboStack;B.pop();var U=B[B.length-1];return U||(U=null),this.setFramebuffer(U,L,O),U},restoreFramebuffer:function(L,O){L===void 0&&(L=!1),O===void 0&&(O=!0);var B=this.fboStack,U=B[B.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,L,O)},setProgram:function(L){return L!==this.currentProgram?(this.flush(),this.gl.useProgram(L.webGLProgram),this.currentProgram=L,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(L,O,B,U,W){W===void 0&&(W=!1);var H=this.gl,Y=H.NEAREST,G=H.NEAREST,X=H.CLAMP_TO_EDGE,V=null;O=L?L.width:O,B=L?L.height:B;var b=l(O,B);if(b&&!W&&(X=H.REPEAT),U===r.ScaleModes.LINEAR&&this.config.antialias){var z=L&&L.compressed,$=!z&&b||z&&L.mipmaps.length>1;Y=this.mipmapFilter&&$?this.mipmapFilter:H.LINEAR,G=H.LINEAR}return!L&&typeof O=="number"&&typeof B=="number"?V=this.createTexture2D(0,Y,G,X,X,H.RGBA,null,O,B):V=this.createTexture2D(0,Y,G,X,X,H.RGBA,L),V},createTexture2D:function(L,O,B,U,W,H,Y,G,X,V,b,z){typeof G!="number"&&(G=Y?Y.width:1),typeof X!="number"&&(X=Y?Y.height:1);var $=new P(this.gl,L,O,B,U,W,H,Y,G,X,V,b,z);return this.glTextureWrappers.push($),$},createFramebuffer:function(L,O,B,U){this.currentFramebuffer=null;var W=new w(this.gl,L,O,B,U);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(L,O){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==L&&(this.currentMask.mask=L,this.currentMask.camera=O))},drawBitmapMask:function(L,O,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),L.renderWebGL(this,L,O),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,W=this.getCurrentStencilMask();W?(U.enable(U.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(L,O){var B=new A(this.gl,L,O);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(L,O){var B=this.gl,U=new E(B,L,B.ARRAY_BUFFER,O);return this.glBufferWrappers.push(U),U},createAttribLocation:function(L,O){var B=new M(this.gl,L,O);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(L,O){var B=new D(this.gl,L,O);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(L,O){var B=this.gl,U=new E(B,L,B.ELEMENT_ARRAY_BUFFER,O);return this.glBufferWrappers.push(U),U},deleteTexture:function(L){if(L)return m(this.glTextureWrappers,L),L.destroy(),this},deleteFramebuffer:function(L){return L?(m(this.fboStack,L),m(this.glFramebufferWrappers,L),L.destroy(),this):this},deleteProgram:function(L){return L&&(m(this.glProgramWrappers,L),L.destroy()),this},deleteAttribLocation:function(L){return L&&(m(this.glAttribLocationWrappers,L),L.destroy()),this},deleteUniformLocation:function(L){return L&&(m(this.glUniformLocationWrappers,L),L.destroy()),this},deleteBuffer:function(L){return L?(m(this.glBufferWrappers,L),L.destroy(),this):this},preRenderCamera:function(L){var O=L.x,B=L.y,U=L.width,W=L.height,H=L.backgroundColor;if(L.emit(o.PRE_RENDER,L),this.pipelines.preBatchCamera(L),this.pushScissor(O,B,U,W),L.mask&&(this.currentCameraMask.mask=L.mask,this.currentCameraMask.camera=L._maskCamera,L.mask.preRenderWebGL(this,L,L._maskCamera)),H.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(O,B,U,W,y.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},getCurrentStencilMask:function(){var L=null,O=this.maskStack,B=this.currentCameraMask;return O.length>0?L=O[O.length-1]:B.mask&&B.mask.isStencil&&(L=B),L},postRenderCamera:function(L){var O=L.flashEffect,B=L.fadeEffect;if(O.isRunning||B.isRunning||B.isComplete){var U=this.pipelines.setMulti();O.postRenderWebGL(U,y.getTintFromFloats),B.postRenderWebGL(U,y.getTintFromFloats)}L.dirty=!1,this.popScissor(),L.mask&&(this.currentCameraMask.mask=null,L.mask.postRenderWebGL(this,L._maskCamera)),this.pipelines.postBatchCamera(L),L.emit(o.POST_RENDER,L)},preRender:function(){if(!this.contextLost){var L=this.gl;if(L.bindFramebuffer(L.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var O=this.config.backgroundColor;L.clearColor(O.redGL,O.greenGL,O.blueGL,O.alphaGL),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)}L.enable(L.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&L.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(L,O,B){if(!this.contextLost){var U=O.length;if(this.emit(n.RENDER,L,B),this.preRenderCamera(B),U===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var W=this.currentMask,H=0;H<U;H++){this.finalType=H===U-1;var Y=O[H],G=Y.mask;W=this.currentMask,W.mask&&W.mask!==G&&W.mask.postRenderWebGL(this,W.camera),G&&W.mask!==G&&G.preRenderWebGL(this,Y,B),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var X=Y.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=O[H+1].type===this.currentType,Y.renderWebGL(this,Y,B),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var L=this.snapshotState;L.callback&&(T(this.gl,L),L.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var L=this.gl,O=this.getCurrentStencilMask();if(O){var B=O.mask;L.enable(L.STENCIL_TEST),B.invertAlpha?L.stencilFunc(L.NOTEQUAL,B.level,255):L.stencilFunc(L.EQUAL,B.level,255)}},snapshot:function(L,O,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,L,O,B)},snapshotArea:function(L,O,B,U,W,H,Y){var G=this.snapshotState;return G.callback=W,G.type=H,G.encoder=Y,G.getPixel=!1,G.x=L,G.y=O,G.width=B,G.height=U,this},snapshotPixel:function(L,O,B){return this.snapshotArea(L,O,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(L,O,B,U,W,H,Y,G,X,V,b){W===void 0&&(W=!1),H===void 0&&(H=0),Y===void 0&&(Y=0),G===void 0&&(G=O),X===void 0&&(X=B),V==="pixel"&&(W=!0,V="image/png");var z=this.currentFramebuffer;this.snapshotArea(H,Y,G,X,U,V,b);var $=this.snapshotState;return $.getPixel=W,$.isFramebuffer=!0,$.bufferWidth=O,$.bufferHeight=B,$.width=Math.min($.width,O),$.height=Math.min($.height,B),this.setFramebuffer(L),T(this.gl,$),this.setFramebuffer(z),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(L,O,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,Y=W.NEAREST,G=L.width,X=L.height,V=W.CLAMP_TO_EDGE,b=l(G,X);return!B&&b&&(V=W.REPEAT),this.config.antialias&&(H=b&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),O?(O.update(L,G,X,U,V,V,H,Y,O.format),O):this.createTexture2D(0,H,Y,V,V,W.RGBA,L,G,X,!0,!1,U)},createCanvasTexture:function(L,O,B){return O===void 0&&(O=!1),B===void 0&&(B=!1),this.canvasToTexture(L,null,O,B)},updateCanvasTexture:function(L,O,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.canvasToTexture(L,O,U,B)},videoToTexture:function(L,O,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,Y=W.NEAREST,G=L.videoWidth,X=L.videoHeight,V=W.CLAMP_TO_EDGE,b=l(G,X);return!B&&b&&(V=W.REPEAT),this.config.antialias&&(H=b&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),O?(O.update(L,G,X,U,V,V,H,Y,O.format),O):this.createTexture2D(0,H,Y,V,V,W.RGBA,L,G,X,!0,!0,U)},createVideoTexture:function(L,O,B){return O===void 0&&(O=!1),B===void 0&&(B=!1),this.videoToTexture(L,null,O,B)},updateVideoTexture:function(L,O,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.videoToTexture(L,O,U,B)},createUint8ArrayTexture:function(L,O,B){var U=this.gl,W=U.NEAREST,H=U.NEAREST,Y=U.CLAMP_TO_EDGE,G=l(O,B);return G&&(Y=U.REPEAT),this.createTexture2D(0,W,H,Y,Y,U.RGBA,L,O,B)},setTextureFilter:function(L,O){var B=this.gl,U=O===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var W=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,L.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,U),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,U),L.minFilter=U,L.magFilter=U,W&&B.bindTexture(B.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var L=function(O){O.destroy()};h(this.glAttribLocationWrappers,L),h(this.glBufferWrappers,L),h(this.glFramebufferWrappers,L),h(this.glProgramWrappers,L),h(this.glTextureWrappers,L),h(this.glUniformLocationWrappers,L),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});c.exports=F},38683:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95428),o=t(95540),a=t(14500),r=new h({initialize:function(n,l,s,u,f){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=s,this.program=this.renderer.createProgram(s,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var n=0,l=0,s=[];this.vertexComponentCount=0;for(var u=0;u<e.length;u++){var f=e[u],d=f.name,v=o(f,"size",1),g=o(f,"type",a.FLOAT),y=g.enum,T=g.size,E=!!f.normalized;s.push({name:d,size:v,type:y,normalized:E,offset:l,enabled:!1,location:-1}),T===4?n+=v:n++,l+=v*T}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=s},bind:function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var n=this.gl,l=this.renderer,s=this.vertexSize,u=this.attributes,f=this.program,d=0;d<u.length;d++){var v=u[d],g=v.size,y=v.type,T=v.offset,E=v.enabled,A=v.location,P=!!v.normalized;if(e){A!==-1&&l.deleteAttribLocation(A);var w=this.renderer.createAttribLocation(f,v.name);w.webGLAttribLocation>=0?(n.enableVertexAttribArray(w.webGLAttribLocation),n.vertexAttribPointer(w.webGLAttribLocation,g,y,P,s,T),v.enabled=!0,v.location=w):w.webGLAttribLocation!==-1&&n.disableVertexAttribArray(w.webGLAttribLocation)}else E?n.vertexAttribPointer(A.webGLAttribLocation,g,y,P,s,T):!E&&A!==-1&&A.webGLAttribLocation>-1&&(n.disableVertexAttribArray(A.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var e=this.gl,n=this.program,l=this.uniforms,s,u,f,d=e.getProgramParameter(n.webGLProgram,e.ACTIVE_UNIFORMS);for(s=0;s<d;s++){var v=e.getActiveUniform(n.webGLProgram,s);if(v){u=v.name,f=this.renderer.createUniformLocation(n,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var g=u.indexOf("[");g>0&&(u=u.substr(0,g),l.hasOwnProperty(u)||(f=this.renderer.createUniformLocation(n,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var n=this.uniforms[e];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(e,n,l,s){var u=this.uniforms[n];return u?((s||u.value1!==l)&&(u.setter||(u.setter=e),u.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,n,l,s,u){var f=this.uniforms[n];return f?((u||f.value1!==l||f.value2!==s)&&(f.setter||(f.setter=e),f.value1=l,f.value2=s,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,s),this.pipeline.currentShader=this),this):this},setUniform3:function(e,n,l,s,u,f){var d=this.uniforms[n];return d?((f||d.value1!==l||d.value2!==s||d.value3!==u)&&(d.setter||(d.setter=e),d.value1=l,d.value2=s,d.value3=u,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,s,u),this.pipeline.currentShader=this),this):this},setUniform4:function(e,n,l,s,u,f,d){var v=this.uniforms[n];return v?((d||v.value1!==l||v.value2!==s||v.value3!==u||v.value4!==f)&&(v.setter||(v.setter=e),v.value1=l,v.value2=s,v.value3=u,v.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,v.location.webGLUniformLocation,l,s,u,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,n){return this.setUniform1(this.gl.uniform1i,e,Number(n))},set1f:function(e,n){return this.setUniform1(this.gl.uniform1f,e,n)},set2f:function(e,n,l){return this.setUniform2(this.gl.uniform2f,e,n,l)},set3f:function(e,n,l,s){return this.setUniform3(this.gl.uniform3f,e,n,l,s)},set4f:function(e,n,l,s,u){return this.setUniform4(this.gl.uniform4f,e,n,l,s,u)},set1fv:function(e,n){return this.setUniform1(this.gl.uniform1fv,e,n,!0)},set2fv:function(e,n){return this.setUniform1(this.gl.uniform2fv,e,n,!0)},set3fv:function(e,n){return this.setUniform1(this.gl.uniform3fv,e,n,!0)},set4fv:function(e,n){return this.setUniform1(this.gl.uniform4fv,e,n,!0)},set1iv:function(e,n){return this.setUniform1(this.gl.uniform1iv,e,n,!0)},set2iv:function(e,n){return this.setUniform1(this.gl.uniform2iv,e,n,!0)},set3iv:function(e,n){return this.setUniform1(this.gl.uniform3iv,e,n,!0)},set4iv:function(e,n){return this.setUniform1(this.gl.uniform4iv,e,n,!0)},set1i:function(e,n){return this.setUniform1(this.gl.uniform1i,e,n)},set2i:function(e,n,l){return this.setUniform2(this.gl.uniform2i,e,n,l)},set3i:function(e,n,l,s){return this.setUniform3(this.gl.uniform3i,e,n,l,s)},set4i:function(e,n,l,s,u){return this.setUniform4(this.gl.uniform4i,e,n,l,s,u)},setMatrix2fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,n,l,!0)},setMatrix3fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,n,l,!0)},setMatrix4fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,n,l,!0)},createProgram:function(e,n){return e===void 0&&(e=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=n,this.program=this.renderer.createProgram(e,n),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;m(this.uniforms,function(n){e.deleteUniformLocation(n.location)}),this.uniforms=null,m(this.attributes,function(n){e.deleteAttribLocation(n.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=r},14500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=S},4159:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14500),m=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=m(!1,o,h),c.exports=o},31302:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=t(78908),a=t(85191),r=t(14500),e=t(29100),n=new h({Extends:e,initialize:function(s){s.fragShader=m(s,"fragShader",o),s.vertShader=m(s,"vertShader",a),s.batchSize=m(s,"batchSize",1),s.vertices=m(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=m(s,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),e.call(this,s)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,s){e.prototype.resize.call(this,l,s),this.set2f("uResolution",l,s)},beginMask:function(l,s,u){this.renderer.beginBitmapMask(l,u)},endMask:function(l,s,u){var f=this.gl,d=this.renderer,v=l.bitmapMask;v&&f&&(d.drawBitmapMask(v,s,this),u&&this.set2f("uResolution",u.width,u.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),u&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});c.exports=n},92651:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(58918),o=t(14811),a=t(95540),r=t(43558),e=t(89350),n=t(70554),l=new h({Extends:r,initialize:function(u){u.shaders=[n.setGlowQuality(e.FXGlowFrag,u.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],r.call(this,u);var f=this.game;this.glow=new m.Glow(f),this.shadow=new m.Shadow(f),this.pixelate=new m.Pixelate(f),this.vignette=new m.Vignette(f),this.shine=new m.Shine(f),this.gradient=new m.Gradient(f),this.circle=new m.Circle(f),this.barrel=new m.Barrel(f),this.wipe=new m.Wipe(f),this.bokeh=new m.Bokeh(f);var d=[];d[o.GLOW]=this.onGlow,d[o.SHADOW]=this.onShadow,d[o.PIXELATE]=this.onPixelate,d[o.VIGNETTE]=this.onVignette,d[o.SHINE]=this.onShine,d[o.BLUR]=this.onBlur,d[o.GRADIENT]=this.onGradient,d[o.BLOOM]=this.onBloom,d[o.COLOR_MATRIX]=this.onColorMatrix,d[o.CIRCLE]=this.onCircle,d[o.BARREL]=this.onBarrel,d[o.DISPLACEMENT]=this.onDisplacement,d[o.WIPE]=this.onWipe,d[o.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(s,u,f){this.source=s,this.target=u,this.swap=f;var d=s.width,v=s.height,g=this.tempSprite,y=this.fxHandlers;if(g&&g.preFX)for(var T=g.preFX.list,E=0;E<T.length;E++){var A=T[E];A.active&&y[A.type].call(this,A,d,v)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,u=this.target;this.copy(s,u),this.source=u,this.target=s},onGlow:function(s,u,f){var d=this.shaders[o.GLOW];this.setShader(d),this.glow.onPreRender(s,d,u,f),this.runDraw()},onShadow:function(s){var u=this.shaders[o.SHADOW];this.setShader(u),this.shadow.onPreRender(s,u),this.runDraw()},onPixelate:function(s,u,f){var d=this.shaders[o.PIXELATE];this.setShader(d),this.pixelate.onPreRender(s,d,u,f),this.runDraw()},onVignette:function(s){var u=this.shaders[o.VIGNETTE];this.setShader(u),this.vignette.onPreRender(s,u),this.runDraw()},onShine:function(s,u,f){var d=this.shaders[o.SHINE];this.setShader(d),this.shine.onPreRender(s,d,u,f),this.runDraw()},onBlur:function(s,u,f){var d=a(s,"quality"),v=this.shaders[o.BLUR+d];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",u,f),this.set1f("strength",a(s,"strength")),this.set3fv("color",a(s,"glcolor"));for(var g=a(s,"x"),y=a(s,"y"),T=a(s,"steps"),E=0;E<T;E++)this.set2f("offset",g,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw()},onGradient:function(s){var u=this.shaders[o.GRADIENT];this.setShader(u),this.gradient.onPreRender(s,u),this.runDraw()},onBloom:function(s,u,f){var d=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",a(s,"blurStrength")),this.set3fv("color",a(s,"glcolor"));for(var v=2/u*a(s,"offsetX"),g=2/f*a(s,"offsetY"),y=a(s,"steps"),T=0;T<y;T++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,u,f){var d=this.shaders[o.CIRCLE];this.setShader(d),this.circle.onPreRender(s,d,u,f),this.runDraw()},onBarrel:function(s){var u=this.shaders[o.BARREL];this.setShader(u),this.barrel.onPreRender(s,u),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var u=this.shaders[o.WIPE];this.setShader(u),this.wipe.onPreRender(s,u),this.runDraw()},onBokeh:function(s,u,f){var d=this.shaders[o.BOKEH];this.setShader(d),this.bokeh.onPreRender(s,d,u,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});c.exports=l},96569:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=t(31063),a=t(57516),r=t(61340),e=t(26099),n=t(29100),l=new h({Extends:a,initialize:function(u){var f=m(u,"fragShader",o);u.fragShader=f.replace("%LIGHT_COUNT%",u.game.renderer.config.maxLights),a.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(s,u){var f=s.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var d=f.getLights(u),v=d.length;this.lightsActive=!0;var g,y=this.renderer,T=y.height,E=u.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",v),g=0;g<v;g++){var P=d[g].light,w=P.color,M="uLights["+g+"].";E.transformPoint(P.x,P.y,A),this.set2f(M+"position",A.x-u.scrollX*P.scrollFactorX*u.zoom,T-(A.y-u.scrollY*P.scrollFactorY*u.zoom)),this.set3f(M+"color",w.r,w.g,w.b),this.set1f(M+"intensity",P.intensity),this.set1f(M+"radius",P.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(s){var f=-s,d=Math.cos(f),v=Math.sin(f);u[1]=v,u[3]=-v,u[0]=u[4]=d}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=s}},setTexture2D:function(s,u){var f=this.renderer;s===void 0&&(s=f.whiteTexture);var d=this.getNormalMap(u);this.isNewNormalMap(s,d)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(d),this.currentNormalMap=d);var v=0;if(u&&u.parentContainer){var g=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=g.rotationNormalized}else u&&(v=u.rotation);return this.currentBatch===null&&(this.createBatch(s),this.addTextureToBatch(d)),this.setNormalMapRotation(v),0},setGameObject:function(s,u){u===void 0&&(u=s.frame);var f=u.glTexture,d=this.getNormalMap(s);if(this.isNewNormalMap(f,d)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(d),this.currentNormalMap=d),s.parentContainer){var v=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(d)),0},isNewNormalMap:function(s,u){return this.currentTexture!==s||this.currentNormalMap!==u},getNormalMap:function(s){var u;if(s)s.displayTexture?u=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?u=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?u=s.tileset[0].image.dataSource[0]:u=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return u?u.glTexture:this.renderer.normalTexture},batchSprite:function(s,u,f){this.lightsActive&&a.prototype.batchSprite.call(this,s,u,f)},batchTexture:function(s,u,f,d,v,g,y,T,E,A,P,w,M,D,F,L,O,B,U,W,H,Y,G,X,V,b,z,$,Q,Z,q,j){this.lightsActive&&a.prototype.batchTexture.call(this,s,u,f,d,v,g,y,T,E,A,P,w,M,D,F,L,O,B,U,W,H,Y,G,X,V,b,z,$,Q,Z,q,j)},batchTextureFrame:function(s,u,f,d,v,g,y){this.lightsActive&&a.prototype.batchTextureFrame.call(this,s,u,f,d,v,g,y)}});c.exports=l},56527:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=t(57516),a=t(45561),r=t(60722),e=t(14500),n=t(29100),l=new h({Extends:o,initialize:function(u){u.fragShader=m(u,"fragShader",a),u.vertShader=m(u,"vertShader",r),u.attributes=m(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),u.forceZero=!0,u.resizeUniform="uResolution",o.call(this,u)},boot:function(){n.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height)}});c.exports=l},57516:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(94811),o=t(95540),a=t(98840),r=t(44667),e=t(61340),n=t(70554),l=t(14500),s=t(29100),u=new h({Extends:s,initialize:function(d){var v=d.game.renderer,g=o(d,"fragShader",a);d.fragShader=n.parseFragmentShaderMaxTextures(g,v.maxTextures),d.vertShader=o(d,"vertShader",r),d.attributes=o(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",s.call(this,d),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height)},batchSprite:function(f,d,v){this.manager.set(this,f);var g=this._tempMatrix1,y=this._tempMatrix2,T=this._tempMatrix3,E=f.frame,A=E.glTexture,P=E.u0,w=E.v0,M=E.u1,D=E.v1,F=E.x,L=E.y,O=E.cutWidth,B=E.cutHeight,U=E.customPivot,W=f.displayOriginX,H=f.displayOriginY,Y=-W+F,G=-H+L;if(f.isCropped){var X=f._crop;(X.flipX!==f.flipX||X.flipY!==f.flipY)&&E.updateCropUVs(X,f.flipX,f.flipY),P=X.u0,w=X.v0,M=X.u1,D=X.v1,O=X.width,B=X.height,F=X.x,L=X.y,Y=-W+F,G=-H+L}var V=1,b=1;f.flipX&&(U||(Y+=-E.realWidth+W*2),V=-1),f.flipY&&(U||(G+=-E.realHeight+H*2),b=-1);var z=f.x,$=f.y;d.roundPixels&&(z=Math.floor(z),$=Math.floor($)),y.applyITRS(z,$,f.rotation,f.scaleX*V,f.scaleY*b),g.copyFrom(d.matrix),v?(g.multiplyWithOffset(v,-d.scrollX*f.scrollFactorX,-d.scrollY*f.scrollFactorY),y.e=z,y.f=$):(y.e-=d.scrollX*f.scrollFactorX,y.f-=d.scrollY*f.scrollFactorY),g.multiply(y,T);var Q=T.setQuad(Y,G,Y+O,G+B,d.renderRoundPixels),Z=n.getTintAppendFloatAlpha,q=d.alpha,j=Z(f.tintTopLeft,q*f._alphaTL),k=Z(f.tintTopRight,q*f._alphaTR),_=Z(f.tintBottomLeft,q*f._alphaBL),et=Z(f.tintBottomRight,q*f._alphaBR);this.shouldFlush(6)&&this.flush();var it=this.setGameObject(f,E);this.manager.preBatch(f),this.batchQuad(f,Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],P,w,M,D,j,k,_,et,f.tintFill,A,it),this.manager.postBatch(f)},batchTexture:function(f,d,v,g,y,T,E,A,P,w,M,D,F,L,O,B,U,W,H,Y,G,X,V,b,z,$,Q,Z,q,j,k,_,et){et===void 0&&(et=!1),this.manager.set(this,f);var it=this._tempMatrix1,st=this._tempMatrix2,nt=this._tempMatrix3,ut=W/v+Q,ft=H/g+Z,ot=(W+Y)/v+Q,rt=(H+G)/g+Z,lt=E,dt=A,xt=-B,yt=-U;if(f.isCropped){var Ct=f._crop,St=Ct.width,Lt=Ct.height;lt=St,dt=Lt,E=St,A=Lt,W=Ct.x,H=Ct.y;var zt=W,qt=H;D&&(zt=Y-Ct.x-St),F&&(qt=G-Ct.y-Lt),ut=zt/v+Q,ft=qt/g+Z,ot=(zt+St)/v+Q,rt=(qt+Lt)/g+Z,xt=-B+W,yt=-U+H}F=F^(!k&&d.isRenderTexture?1:0),D&&(lt*=-1,xt+=E),F&&(dt*=-1,yt+=A),q.roundPixels&&(y=Math.floor(y),T=Math.floor(T)),st.applyITRS(y,T,M,P,w),it.copyFrom(q.matrix),j?(it.multiplyWithOffset(j,-q.scrollX*L,-q.scrollY*O),st.e=y,st.f=T):(st.e-=q.scrollX*L,st.f-=q.scrollY*O),it.multiply(st,nt);var Nt=nt.setQuad(xt,yt,xt+lt,yt+dt,q.renderRoundPixels);_==null&&(_=this.setTexture2D(d)),f&&!et&&this.manager.preBatch(f),this.batchQuad(f,Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6],Nt[7],ut,ft,ot,rt,X,V,b,z,$,d,_),f&&!et&&this.manager.postBatch(f)},batchTextureFrame:function(f,d,v,g,y,T,E){this.manager.set(this);var A=this._tempMatrix1.copyFrom(T),P=this._tempMatrix2;E?A.multiply(E,P):P=A;var w=P.setQuad(d,v,d+f.width,v+f.height),M=this.setTexture2D(f.source.glTexture);g=n.getTintAppendFloatAlpha(g,y),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],f.u0,f.v0,f.u1,f.v1,g,g,g,g,0,f.glTexture,M)},batchFillRect:function(f,d,v,g,y,T){this.renderer.pipelines.set(this);var E=this.calcMatrix;T&&T.multiply(y,E);var A=E.setQuad(f,d,f+v,d+g),P=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,P.TL,P.TR,P.BL,P.BR,2)},batchFillTriangle:function(f,d,v,g,y,T,E,A){this.renderer.pipelines.set(this);var P=this.calcMatrix;A&&A.multiply(E,P);var w=P.getX(f,d),M=P.getY(f,d),D=P.getX(v,g),F=P.getY(v,g),L=P.getX(y,T),O=P.getY(y,T),B=this.fillTint;this.batchTri(null,w,M,D,F,L,O,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(f,d,v,g,y,T,E,A,P){var w=this.tempTriangle;w[0].x=f,w[0].y=d,w[0].width=E,w[1].x=v,w[1].y=g,w[1].width=E,w[2].x=y,w[2].y=T,w[2].width=E,w[3].x=f,w[3].y=d,w[3].width=E,this.batchStrokePath(w,E,!1,A,P)},batchFillPath:function(f,d,v){this.renderer.pipelines.set(this);var g=this.calcMatrix;v&&v.multiply(d,g);for(var y=f.length,T=this.polygonCache,E,A,P=this.fillTint.TL,w=this.fillTint.TR,M=this.fillTint.BL,D=0;D<y;++D)A=f[D],T.push(A.x,A.y);E=m(T),y=E.length;for(var F=0;F<y;F+=3){var L=E[F+0]*2,O=E[F+1]*2,B=E[F+2]*2,U=T[L+0],W=T[L+1],H=T[O+0],Y=T[O+1],G=T[B+0],X=T[B+1],V=g.getX(U,W),b=g.getY(U,W),z=g.getX(H,Y),$=g.getY(H,Y),Q=g.getX(G,X),Z=g.getY(G,X);this.batchTri(null,V,b,z,$,Q,Z,0,0,1,1,P,w,M,2)}T.length=0},batchStrokePath:function(f,d,v,g,y){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=f.length-1,E=0;E<T;E++){var A=f[E],P=f[E+1];this.batchLine(A.x,A.y,P.x,P.y,A.width/2,P.width/2,d,E,!v&&E===T-1,g,y)}},batchLine:function(f,d,v,g,y,T,E,A,P,w,M){this.renderer.pipelines.set(this);var D=this.calcMatrix;M&&M.multiply(w,D);var F=v-f,L=g-d,O=Math.sqrt(F*F+L*L);if(O!==0){var B=y*(g-d)/O,U=y*(f-v)/O,W=T*(g-d)/O,H=T*(f-v)/O,Y=v-W,G=g-H,X=f-B,V=d-U,b=v+W,z=g+H,$=f+B,Q=d+U,Z=D.getX(Y,G),q=D.getY(Y,G),j=D.getX(X,V),k=D.getY(X,V),_=D.getX(b,z),et=D.getY(b,z),it=D.getX($,Q),st=D.getY($,Q),nt=this.strokeTint,ut=nt.TL,ft=nt.TR,ot=nt.BL,rt=nt.BR;if(this.batchQuad(null,it,st,j,k,Z,q,_,et,0,0,1,1,ut,ft,ot,rt,2),!(E<=2)){var lt=this.prevQuad,dt=this.firstQuad;A>0&&lt[4]?this.batchQuad(null,it,st,j,k,lt[0],lt[1],lt[2],lt[3],0,0,1,1,ut,ft,ot,rt,2):(dt[0]=it,dt[1]=st,dt[2]=j,dt[3]=k,dt[4]=1),P&&dt[4]?this.batchQuad(null,Z,q,_,et,dt[0],dt[1],dt[2],dt[3],0,0,1,1,ut,ft,ot,rt,2):(lt[0]=Z,lt[1]=q,lt[2]=_,lt[3]=et,lt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});c.exports=u},43439:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=t(4127),a=t(89924),r=t(29100),e=new h({Extends:r,initialize:function(l){l.vertShader=m(l,"vertShader",a),l.fragShader=m(l,"fragShader",o),l.attributes=m(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,s,u,f,d,v,g,y,T,E,A){var P=n.color,w=n.intensity,M=n.radius,D=n.attenuation,F=P.r*w,L=P.g*w,O=P.b*w,B=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,u,E,A,M,D,F,L,O,B),this.batchLightVert(f,d,E,A,M,D,F,L,O,B),this.batchLightVert(v,g,E,A,M,D,F,L,O,B),this.batchLightVert(s,u,E,A,M,D,F,L,O,B),this.batchLightVert(v,g,E,A,M,D,F,L,O,B),this.batchLightVert(y,T,E,A,M,D,F,L,O,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,s,u,f,d,v,g,y,T){var E=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++A]=n,E[++A]=l,E[++A]=s,E[++A]=u,E[++A]=f,E[++A]=d,E[++A]=v,E[++A]=g,E[++A]=y,E[++A]=T,this.vertexCount++}});c.exports=e},84057:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(89422),o=t(95540),a=t(27681),r=t(49627),e=t(29100),n=new h({Extends:e,initialize:function(s){s.renderTarget=o(s,"renderTarget",1),s.fragShader=o(s,"fragShader",a),s.vertShader=o(s,"vertShader",r),s.attributes=o(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height);for(var u=this.renderTargets,f=0;f<u.length;f++)u[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,s,u){u===void 0&&(u=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var d=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,s.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),u&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,d))},copyFrame:function(l,s,u,f,d){this.manager.copyFrame(l,s,u,f,d)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,s,u){this.manager.drawFrame(l,s,u,this.colorMatrix)},blendFrames:function(l,s,u,f,d){this.manager.blendFrames(l,s,u,f,d)},blendFramesAdditive:function(l,s,u,f,d){this.manager.blendFramesAdditive(l,s,u,f,d)},clearFrame:function(l,s){this.manager.clearFrame(l,s)},blitFrame:function(l,s,u,f,d,v){this.manager.blitFrame(l,s,u,f,d,v)},copyFrameRect:function(l,s,u,f,d,v,g,y){this.manager.copyFrameRect(l,s,u,f,d,v,g,y)},bindAndDraw:function(l,s,u,f,d){u===void 0&&(u=!0),f===void 0&&(f=!0);var v=this.gl,g=this.renderer;this.bind(d),this.set1i("uMainSampler",0),s?(v.viewport(0,0,s.width,s.height),v.bindFramebuffer(v.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,s.texture.webGLTexture,0),u&&(f?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(g.popFramebuffer(!1,!1),g.currentFramebuffer||v.viewport(0,0,g.width,g.height)),g.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,l.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),s&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,g.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});c.exports=n},43558:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),m=t(67502),o=t(83419),a=t(96293),r=t(95540),e=t(57516),n=t(27681),l=t(87841),s=t(32302),u=t(45561),f=t(60722),d=t(29100),v=new o({Extends:e,initialize:function(y){var T=r(y,"fragShader",n),E=r(y,"vertShader",f),A=r(y,"drawShader",n),P=[{name:"DrawSprite",fragShader:u,vertShader:f},{name:"CopySprite",fragShader:T,vertShader:E},{name:"DrawGame",fragShader:A,vertShader:f},{name:"ColorMatrix",fragShader:a}],w=r(y,"shaders",[]);y.shaders=P.concat(w),y.vertShader||(y.vertShader=E),y.batchSize=1,e.call(this,y),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var g=this.shaders,y=this.renderer;this.drawSpriteShader=g[0],this.copyShader=g[1],this.gameShader=g[2],this.colorMatrixShader=g[3],this.fsTarget=new s(y,y.width,y.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var T=new ArrayBuffer(168);this.quadVertexData=T,this.quadVertexViewF32=new Float32Array(T),this.quadVertexBuffer=y.createVertexBuffer(T,this.gl.STATIC_DRAW),this.onResize(y.width,y.height),this.currentShader=this.copyShader,this.set2f("uResolution",y.width,y.height)},onResize:function(g,y){var T=this.quadVertexViewF32;T[1]=y,T[22]=y,T[14]=g,T[28]=g,T[35]=g,T[36]=y},batchQuad:function(g,y,T,E,A,P,w,M,D,F,L,O,B,U,W,H,Y,G,X){var V=Math.min(y,E,P,M),b=Math.min(T,A,w,D),z=Math.max(y,E,P,M),$=Math.max(T,A,w,D),Q=z-V,Z=$-b,q=this.spriteBounds.setTo(V,b,Q,Z),j=g?g.preFX.padding:0,k=Q+j*2,_=Z+j*2,et=Math.abs(Math.max(k,_)),it=this.manager.getRenderTarget(et),st=this.targetBounds.setTo(0,0,it.width,it.height);m(st,Math.round(q.centerX),Math.round(q.centerY)),this.tempSprite=g;var nt=this.gl,ut=this.renderer;ut.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ut.width,ut.height),this.flipProjectionMatrix(!0),g&&(this.onDrawSprite(g,it),g.preFX.onFX(this));var ft=this.fsTarget;return this.flush(),nt.viewport(0,0,ut.width,ut.height),nt.bindFramebuffer(nt.FRAMEBUFFER,ft.framebuffer.webGLFramebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,ft.texture.webGLTexture,0),nt.clearColor(0,0,0,0),nt.clear(nt.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(y,T,F,L,0,G,U),this.batchVert(E,A,F,B,0,G,H),this.batchVert(P,w,O,B,0,G,Y),this.batchVert(y,T,F,L,0,G,U),this.batchVert(P,w,O,B,0,G,Y),this.batchVert(M,D,O,L,0,G,W),this.flush(),this.flipProjectionMatrix(!1),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,it.texture.webGLTexture),nt.copyTexSubImage2D(nt.TEXTURE_2D,0,0,0,st.x,st.y,st.width,st.height),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null),this.onBatch(g),this.currentShader=this.copyShader,this.onDraw(it,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(g,y,T,E,A,P,w){T===void 0&&(T=!0),E===void 0&&(E=!0),A===void 0&&(A=!1),w===void 0&&(w=this.copyShader);var M=this.gl,D=this.tempSprite;P&&(w=this.colorMatrixShader),this.currentShader=w;var F=this.setVertexBuffer(this.quadVertexBuffer);w.bind(F,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),D.preFX.onFXCopy(this),this.onCopySprite(g,y,D),P&&(this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,g.texture.webGLTexture),g.height>y.height)M.viewport(0,0,g.width,g.height),this.setTargetUVs(g,y);else{var O=y.height-g.height;M.viewport(0,O,g.width,g.height),this.resetUVs()}if(M.bindFramebuffer(M.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,y.texture.webGLTexture,0),T&&(M.clearColor(0,0,0,+!E),M.clear(M.COLOR_BUFFER_BIT)),A){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),A&&this.renderer.setBlendMode(B),M.bindFramebuffer(M.FRAMEBUFFER,null)},copy:function(g,y){var T=this.gl;this.set1i("uMainSampler",0),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,g.texture.webGLTexture),T.viewport(0,0,g.width,g.height),this.setUVs(0,0,0,1,1,1,1,0),T.bindFramebuffer(T.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,y.texture.webGLTexture,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.quadVertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null)},blendFrames:function(g,y,T,E,A){this.manager.blendFrames(g,y,T,E,A)},blendFramesAdditive:function(g,y,T,E,A){this.manager.blendFramesAdditive(g,y,T,E,A)},drawToGame:function(g){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(g)},copyToGame:function(g){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(g)},bindAndDraw:function(g){var y=this.gl,T=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(g.texture);var E=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,P=this.targetBounds.y,w=A+g.width,M=P+g.height,D=E.getX(A,P),F=E.getX(A,M),L=E.getX(w,M),O=E.getX(w,P),B=E.getY(A,P),U=E.getY(A,M),W=E.getY(w,M),H=E.getY(w,P),Y=16777215;this.batchVert(D,B,0,0,0,0,Y),this.batchVert(F,U,0,1,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(D,B,0,0,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(O,H,1,0,0,0,Y),T.restoreFramebuffer(!1,!0),T.currentFramebuffer||y.viewport(0,0,T.width,T.height),T.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(g){this.drawToGame(g)},setUVs:function(g,y,T,E,A,P,w,M){var D=this.quadVertexViewF32;D[2]=g,D[3]=y,D[9]=T,D[10]=E,D[16]=A,D[17]=P,D[23]=g,D[24]=y,D[30]=A,D[31]=P,D[37]=w,D[38]=M},setTargetUVs:function(g,y){var T=y.height/g.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});c.exports=v},81041:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=t(57516),a=new h({Extends:o,initialize:function(e){e.topology=5,e.batchSize=m(e,"batchSize",256),o.call(this,e)}});c.exports=a},12385:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=t(57516),a=t(45561),r=t(60722),e=t(29100),n=new h({Extends:o,initialize:function(s){s.fragShader=m(s,"fragShader",a),s.vertShader=m(s,"vertShader",r),s.forceZero=!0,o.call(this,s)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});c.exports=n},7589:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35407),m=t(10312),o=t(83419),a=t(89422),r=t(96293),e=t(36682),n=t(95540),l=t(48247),s=t(49627),u=t(29100),f=new o({Extends:u,initialize:function(v){v.renderTarget=n(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=n(v,"vertShader",s),v.shaders=n(v,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),v.attributes=n(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,u.call(this,v),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var d=this.shaders,v=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(d,v,g,y,T){g===void 0&&(g=1),y===void 0&&(y=!0),T===void 0&&(T=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",g),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,d.texture.webGLTexture),v?(E.viewport(0,0,v.width,v.height),E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture.webGLTexture,0)):E.viewport(0,0,d.width,d.height),y&&(T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(d,v,g,y,T,E,A){g===void 0&&(g=1),y===void 0&&(y=!0),T===void 0&&(T=!0),E===void 0&&(E=!1),A===void 0&&(A=!1);var P=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",g),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,d.texture.webGLTexture),d.height>v.height)P.viewport(0,0,d.width,d.height),this.setTargetUVs(d,v);else{var w=v.height-d.height;P.viewport(0,w,d.width,d.height)}if(P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture.webGLTexture,0),y&&(T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),E){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}A&&this.flipY(),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),E&&this.renderer.setBlendMode(M),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,v,g,y,T,E,A,P){A===void 0&&(A=!0),P===void 0&&(P=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,d.texture.webGLTexture,0),A&&(P?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,v.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,g,y,T,E),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(d){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,d.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(d,v,g,y){g===void 0&&(g=!0),y===void 0&&(y=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",y.getData()),this.set1f("uAlpha",y.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),v?(T.viewport(0,0,v.width,v.height),T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture.webGLTexture,0)):T.viewport(0,0,d.width,d.height),g?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(d,v,g,y,T,E){y===void 0&&(y=1),T===void 0&&(T=!0),E===void 0&&(E=this.linearShader);var A=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",y),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,d.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,v.texture.webGLTexture),g?(A.bindFramebuffer(A.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,g.texture.webGLTexture,0),A.viewport(0,0,g.width,g.height)):A.viewport(0,0,d.width,d.height),T?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(d,v,g,y,T){this.blendFrames(d,v,g,y,T,this.addShader)},clearFrame:function(d,v){v===void 0&&(v=!0);var g=this.gl;g.viewport(0,0,d.width,d.height),g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),v?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT);var y=this.renderer.currentFramebuffer;g.bindFramebuffer(g.FRAMEBUFFER,y.webGLFramebuffer)},setUVs:function(d,v,g,y,T,E,A,P){var w=this.vertexViewF32;w[2]=d,w[3]=v,w[6]=g,w[7]=y,w[10]=T,w[11]=E,w[14]=d,w[15]=v,w[18]=T,w[19]=E,w[22]=A,w[23]=P},setTargetUVs:function(d,v){var g=v.height/d.height;g>.5?g=.5-(g-.5):g=.5+(.5-g),this.setUVs(0,g,0,1+g,1,1+g,1,g)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=f},36060:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=S},84817:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineafterflush"},36712:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebeforeflush"},40285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebind"},65918:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineboot"},92852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinedestroy"},56072:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinerebind"},57566:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineresize"},77085:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(99155),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.amount=1},onPreRender:function(r,e){r=this.getController(r),this.set1f("amount",r.amount,e)}});c.exports=a},67329:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(24400),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var s=2/r.width*e.offsetX,u=2/r.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",s,0),this.copySprite(r,n),this.set2f("offset",0,u),this.copySprite(n,r);this.blendFrames(l,r,n,e.strength),this.copyToGame(n)}});c.exports=a},8861:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(41514),o=t(51078),a=t(94328),r=t(84057),e=new h({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),s=this.gl,u=this.fullFrame1,f=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var d=0;d<l.steps;d++)this.set2f("offset",l.x,0),this.copySprite(n,u),this.set2f("offset",0,l.y),this.copySprite(u,n);s.bindFramebuffer(s.FRAMEBUFFER,f),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(n)}});c.exports=e},51051:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(90610),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("amount",r.amount,e),this.set1f("contrast",r.contrast,e),this.set1f("strength",r.strength,e),this.set2f("blur",r.blurX,r.blurY,e),this.setBoolean("isTiltShift",r.isTiltShift,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=a},89428:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(91899),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("scale",r.scale,e),this.set1f("feather",r.feather,e),this.set1f("thickness",r.thickness,e),this.set3fv("color",r.glcolor,e),this.set4fv("backgroundColor",r.glcolor2,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=a},88904:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(84057),o=new h({Extends:m,initialize:function(r){m.call(this,{game:r})},onDraw:function(a){var r=this.fullFrame1;this.controller?this.manager.drawFrame(a,r,!0,this.controller):this.drawFrame(a,r),this.copyToGame(r)}});c.exports=o},63563:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(47838),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var e=this.game.textures.getFrame(r);e&&(this.glTexture=e.glTexture)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});c.exports=a},94045:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=t(98656),a=t(84057),r=t(70554),e=new h({Extends:a,initialize:function(l,s){var u=m(s,"quality",.1),f=m(s,"distance",10);a.call(this,{game:l,fragShader:r.setGlowQuality(o,l,u,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,s,u){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),s&&u&&this.set2f("resolution",s,u,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=e},74088:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(70463),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,e){r=this.getController(r),this.set1f("alpha",r.alpha,e),this.set1i("size",r.size,e),this.set3fv("color1",r.glcolor1,e),this.set3fv("color2",r.glcolor2,e),this.set2f("positionFrom",r.fromX,r.fromY,e),this.set2f("positionTo",r.toX,r.toY,e)}});c.exports=a},99636:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50831),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.amount=1},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("amount",r.amount,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=a},34700:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(92595),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,e){r=this.getController(r);var n=r.samples;this.set1i("samples",n,e),this.set1f("intensity",r.intensity,e),this.set1f("decay",r.decay,e),this.set1f("power",r.power/n,e),this.set2f("lightPosition",r.x,r.y,e),this.set4fv("color",r.glcolor,e)}});c.exports=a},91157:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(72464),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,e,n,l){r=this.getController(r),this.setTime("time",e),this.set1f("speed",r.speed,e),this.set1f("lineWidth",r.lineWidth,e),this.set1f("gradient",r.gradient,e),this.setBoolean("reveal",r.reveal,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=a},27797:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(39249),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,e){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("strength",r.strength,e),this.set2f("position",r.x,r.y,e)}});c.exports=a},67603:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(2878),o=t(84057),a=new h({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,e){r=this.getController(r);var n=r.progress,l=r.wipeWidth,s=r.direction,u=r.axis;this.set4f("config",n,l,s,u,e),this.setBoolean("reveal",r.reveal,e)}});c.exports=a},58918:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};c.exports=h},96615:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36060),m=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=m(!1,o,h),c.exports=o},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(c,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e){this.webGLAttribLocation=-1,this.gl=a,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=m},26128:(c,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e,n){this.webGLBuffer=null,this.gl=a,this.initialDataOrSize=r,this.bufferType=e,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var a=this.bufferType,r=o.createBuffer();this.webGLBuffer=r,o.bindBuffer(a,this.webGLBuffer),o.bufferData(a,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(a,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=m},84387:(c,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new h({initialize:function(r,e,n,l,s){this.webGLFramebuffer=null,this.gl=r,this.width=e,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=this.renderTexture,e=0,n=a.createFramebuffer();if(this.webGLFramebuffer=n,a.bindFramebuffer(a.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,r.webGLTexture,0),e=a.checkFramebufferStatus(a.FRAMEBUFFER),e!==a.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(m[e]||e));if(this.addDepthStencilBuffer){var l=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,l),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,l)}a.bindFramebuffer(a.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var a=this.gl;if(!a.isContextLost()){a.bindFramebuffer(a.FRAMEBUFFER,this.webGLFramebuffer);var r=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.deleteTexture(r));var e=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&a.deleteRenderbuffer(e),a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=o},1482:(c,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e){this.webGLProgram=null,this.gl=a,this.vertexSource=r,this.fragmentSource=e,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var a=o.createProgram(),r=o.createShader(o.VERTEX_SHADER),e=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(r,this.vertexSource),o.shaderSource(e,this.fragmentSource),o.compileShader(r),o.compileShader(e);var n=`Shader failed:
`;if(!o.getShaderParameter(r,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(r));if(!o.getShaderParameter(e,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(e));if(o.attachShader(a,r),o.attachShader(a,e),o.linkProgram(a),!o.getProgramParameter(a,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(a));o.useProgram(a),this.webGLProgram=a}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=m},82751:(c,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50030),o=new h({initialize:function(r,e,n,l,s,u,f,d,v,g,y,T,E){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=e,this.minFilter=n,this.magFilter=l,this.wrapT=s,this.wrapS=u,this.format=f,this.pixels=d,this.width=v,this.height=g,this.pma=y??!0,this.forceSize=!!T,this.flipY=!!E,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var r=a.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(a,r,e,n,l,s,u,f,d){if(!(r===0||e===0)){this.pixels=a,this.width=r,this.height=e,this.flipY=n,this.wrapS=l,this.wrapT=s,this.minFilter=u,this.magFilter=f,this.format=d;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var a=this.gl;a.activeTexture(a.TEXTURE0);var r=a.getParameter(a.TEXTURE_BINDING_2D);a.bindTexture(a.TEXTURE_2D,this.webGLTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.minFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.magFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this.wrapS),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this.wrapT),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,n=this.mipLevel,l=this.width,s=this.height,u=this.format,f=!1;if(e==null)a.texImage2D(a.TEXTURE_2D,n,u,l,s,0,u,a.UNSIGNED_BYTE,null),f=m(l,s);else if(e.compressed){l=e.width,s=e.height,f=e.generateMipmap;for(var d=0;d<e.mipmaps.length;d++)a.compressedTexImage2D(a.TEXTURE_2D,d,e.internalFormat,e.mipmaps[d].width,e.mipmaps[d].height,0,e.mipmaps[d].data)}else e instanceof Uint8Array?(a.texImage2D(a.TEXTURE_2D,n,u,l,s,0,u,a.UNSIGNED_BYTE,e),f=m(l,s)):(this.forceSize||(l=e.width,s=e.height),a.texImage2D(a.TEXTURE_2D,n,u,u,a.UNSIGNED_BYTE,e),f=m(l,s));f&&a.generateMipmap(a.TEXTURE_2D),r?a.bindTexture(a.TEXTURE_2D,r):a.bindTexture(a.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(a){this.__SPECTOR_Metadata=a,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=a)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=o},57183:(c,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e){this.webGLUniformLocation=null,this.gl=a,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=m},9503:(c,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};c.exports=h},76531:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),m=t(83419),o=t(50792),a=t(97480),r=t(8443),e=t(57811),n=t(74403),l=t(45818),s=t(29747),u=t(87841),f=t(86555),d=t(56583),v=t(26099),g=t(38058),y=new m({Extends:o,initialize:function(E){o.call(this),this.game=E,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:s,windowResize:s,fullScreenChange:s,fullScreenError:s}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var T=this.game;this.canvas=T.canvas,this.fullscreen=T.device.fullscreen;var E=this.scaleMode;E!==h.SCALE_MODE.RESIZE&&E!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(E),E===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),T.events.on(r.PRE_STEP,this.step,this),T.events.once(r.READY,this.refresh,this),T.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(T){this.getParent(T),this.getParentBounds();var E=T.width,A=T.height,P=T.scaleMode,w=T.zoom,M=T.autoRound;if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var F=parseInt(E,10)/100;E=Math.floor(D*F)}if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var O=parseInt(A,10)/100;A=Math.floor(L*O)}this.scaleMode=P,this.autoRound=M,this.autoCenter=T.autoCenter,this.resizeInterval=T.resizeInterval,M&&(E=Math.floor(E),A=Math.floor(A)),this.gameSize.setSize(E,A),w===h.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(E,A),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),T.minWidth>0&&this.displaySize.setMin(T.minWidth*w,T.minHeight*w),T.maxWidth>0&&this.displaySize.setMax(T.maxWidth*w,T.maxHeight*w),this.displaySize.setSize(E,A),(T.snapWidth>0||T.snapHeight>0)&&this.displaySize.setSnap(T.snapWidth,T.snapHeight),this.orientation=l(E,A)},getParent:function(T){var E=T.parent;if(E!==null){if(this.parent=n(E),this.parentIsWindow=this.parent===document.body,T.expandParent&&T.scaleMode!==h.SCALE_MODE.NONE){var A=this.parent.getBoundingClientRect();(this.parentIsWindow||A.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",A=this.parent.getBoundingClientRect(),!this.parentIsWindow&&A.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}T.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(T.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var T=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=e(!0));var A=E.width,P=E.height;if(T.width!==A||T.height!==P)return T.setSize(A,P),!0;if(this.canvas){var w=this.canvasBounds,M=this.canvas.getBoundingClientRect();if(M.x!==w.x||M.y!==w.y)return!0}return!1},lockOrientation:function(T){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return E?E.call(screen,T):!1},setParentSize:function(T,E){return this.parentSize.setSize(T,E),this.refresh()},setGameSize:function(T,E){var A=this.autoRound;A&&(T=Math.floor(T),E=Math.floor(E));var P=this.width,w=this.height;return this.gameSize.resize(T,E),this.baseSize.resize(T,E),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(T/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(P,w)},resize:function(T,E){var A=this.zoom,P=this.autoRound;P&&(T=Math.floor(T),E=Math.floor(E));var w=this.width,M=this.height;this.gameSize.resize(T,E),this.baseSize.resize(T,E),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(T*A,E*A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,F=T*A,L=E*A;return P&&(F=Math.floor(F),L=Math.floor(L)),(F!==T||L!==E)&&(D.width=F+"px",D.height=L+"px"),this.refresh(w,M)},setZoom:function(T){return this.zoom=T,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(T,E){return T===void 0&&(T=0),E===void 0&&(E=T),this.displaySize.setSnap(T,E),this.refresh()},refresh:function(T,E){T===void 0&&(T=this.width),E===void 0&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var A=this.game.domContainer;if(A){this.baseSize.setCSS(A);var P=this.canvas.style,w=A.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=P.marginLeft,w.marginTop=P.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,T,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var T=l(this.width,this.height);T!==this.orientation&&(this.orientation=T,this.emit(a.ORIENTATION_CHANGE,T))}},updateScale:function(){var T=this.canvas.style,E=this.gameSize.width,A=this.gameSize.height,P,w,M=this.zoom,D=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(E*M,A*M),P=this.displaySize.width,w=this.displaySize.height,D&&(P=Math.floor(P),w=Math.floor(w)),this._resetZoom&&(T.width=P+"px",T.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),P=this.displaySize.width,w=this.displaySize.height,D&&(P=Math.floor(P),w=Math.floor(w)),this.canvas.width=P,this.canvas.height=w;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var F=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,w=this.displaySize.height,D&&(P=Math.floor(P),w=Math.floor(w)),T.width=P+"px",T.height=w+"px";var O=this.parentSize.width/F,B=this.parentSize.height/L;O<B&&O!==0?this.baseSize.setSize(F,this.parentSize.height/O):B!==0&&this.baseSize.setSize(this.displaySize.width/B,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),P=this.baseSize.width,w=this.baseSize.height,D&&(P=Math.floor(P),w=Math.floor(w)),this.canvas.width=P,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,w=this.displaySize.height,D&&(P=Math.floor(P),w=Math.floor(w)),T.width=P+"px",T.height=w+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var T=d(this.parentSize.width,this.gameSize.width,0,!0),E=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(T,E),1)},updateCenter:function(){var T=this.autoCenter;if(T!==h.CENTER.NO_CENTER){var E=this.canvas,A=E.style,P=E.getBoundingClientRect(),w=P.width,M=P.height,D=Math.floor((this.parentSize.width-w)/2),F=Math.floor((this.parentSize.height-M)/2);T===h.CENTER.CENTER_HORIZONTALLY?F=0:T===h.CENTER.CENTER_VERTICALLY&&(D=0),A.marginLeft=D+"px",A.marginTop=F+"px"}},updateBounds:function(){var T=this.canvasBounds,E=this.canvas.getBoundingClientRect();T.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),T.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),T.width=E.width,T.height=E.height},transformX:function(T){return(T-this.canvasBounds.left)*this.displayScale.x},transformY:function(T){return(T-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(T){T===void 0&&(T={navigationUI:"hide"});var E=this.fullscreen;if(!E.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!E.active){var A=this.getFullscreenTarget();E.keyboard?A[E.request](Element.ALLOW_KEYBOARD_INPUT):A[E.request](T)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(T){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,T)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var T=document.createElement("div");T.style.margin="0",T.style.padding="0",T.style.width="100%",T.style.height="100%",this.fullscreenTarget=T,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var E=this.canvas.parentNode;E.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var T=this.fullscreenTarget;if(T&&T.parentNode){var E=T.parentNode;E.insertBefore(this.canvas,T),E.removeChild(T)}}},stopFullscreen:function(){var T=this.fullscreen;if(!T.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;T.active&&document[T.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(T){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(T)},startListeners:function(){var T=this,E=this.domlisteners;if(E.orientationChange=function(){T.updateBounds(),T._checkOrientation=!0,T.dirty=!0,T.refresh()},E.windowResize=function(){T.updateBounds(),T.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",E.orientationChange,!1):window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available){E.fullScreenChange=function(P){return T.onFullScreenChange(P)},E.fullScreenError=function(P){return T.onFullScreenError(P)};var A=["webkit","moz",""];A.forEach(function(P){document.addEventListener(P+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(P+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(T,E){T instanceof g||(E=T,T=void 0),E===void 0&&(E=new u);var A=this.baseSize,P=this.parentSize,w=this.canvasBounds,M=this.displayScale,D=w.x>=0?0:-(w.x*M.x),F=w.y>=0?0:-(w.y*M.y),L;P.width>=w.width?L=A.width:L=A.width-(w.width-P.width)*M.x;var O;return P.height>=w.height?O=A.height:O=A.height-(w.height-P.height)*M.y,E.setTo(D,F,L,O),T&&(E.width/=T.zoomX,E.height/=T.zoomY,E.centerX=T.centerX+T.scrollX,E.centerY=T.centerY+T.scrollY),E},step:function(T,E){this.parent&&(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var T=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",T.orientationChange,!1):window.removeEventListener("orientationchange",T.orientationChange,!1),window.removeEventListener("resize",T.windowResize,!1);var E=["webkit","moz",""];E.forEach(function(A){document.removeEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.removeEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",T.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=y},64743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};c.exports=h},56139:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},2336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},47412:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},51452:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},20666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},47945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},97480:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),m=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=h(!1,o,m.CENTER),o=h(!1,o,m.ORIENTATION),o=h(!1,o,m.SCALE_MODE),o=h(!1,o,m.ZOOM),c.exports=o},27397:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m=t(35355),o=function(a){var r=a.game.config.defaultPhysicsSystem,e=h(a.settings,"physics",!1);if(!(!r&&!e)){var n=[];if(r&&n.push(m(r+"Physics")),e)for(var l in e)l=m(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};c.exports=o},52106:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m=function(o){var a=o.plugins.getDefaultScenePlugins(),r=h(o.settings,"plugins",!1);return Array.isArray(r)?r:a||[]};c.exports=m},87033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=S},97482:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(2368),o=new h({initialize:function(r){this.sys=new m(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=o},60903:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(89993),o=t(44594),a=t(8443),r=t(35154),e=t(54899),n=t(29747),l=t(97482),s=t(2368),u=new h({initialize:function(d,v){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)this._pending.push({key:"default",scene:v[g],autoStart:g===0,data:{}})}d.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(a.SYSTEM_READY,this.systemScene,this);var f,d,v,g;for(f=0;f<this._pending.length;f++){d=this._pending[f],v=d.key,g=d.scene;var y;g instanceof l?y=this.createSceneFromInstance(v,g):typeof g=="object"?y=this.createSceneFromObject(v,g):typeof g=="function"&&(y=this.createSceneFromFunction(v,g)),v=y.sys.settings.key,this.keys[v]=y,this.scenes.push(y),this._data[v]&&(y.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(d.autoStart=!0)),(d.autoStart||y.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)d=this._start[f],this.start(d);this._start.length=0}},processQueue:function(){var f=this._pending.length,d=this._queue.length;if(!(f===0&&d===0)){var v,g;if(f){for(v=0;v<f;v++)g=this._pending[v],this.add(g.key,g.scene,g.autoStart,g.data);for(v=0;v<this._start.length;v++)g=this._start[v],this.start(g);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)g=this._queue[v],this[g.op](g.keyA,g.keyB,g.data);this._queue.length=0}},add:function(f,d,v,g){if(v===void 0&&(v=!1),g===void 0&&(g={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:d,autoStart:v,data:g}),this.isBooted||(this._data[f]={data:g}),null;f=this.getKey(f,d);var y;return d instanceof l?y=this.createSceneFromInstance(f,d):typeof d=="object"?(d.key=f,y=this.createSceneFromObject(f,d)):typeof d=="function"&&(y=this.createSceneFromFunction(f,d)),y.sys.settings.data=g,f=y.sys.settings.key,this.keys[f]=y,this.scenes.push(y),(v||y.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),y},remove:function(f){if(this.isProcessing)return this.queueOp("remove",f);var d=this.getScene(f);if(!d||d.sys.isTransitioning())return this;var v=this.scenes.indexOf(d),g=d.sys.settings.key;return v>-1&&(delete this.keys[g],this.scenes.splice(v,1),this._start.indexOf(g)>-1&&(v=this._start.indexOf(g),this._start.splice(v,1)),d.sys.destroy()),this},bootScene:function(f){var d=f.sys,v=d.settings;d.sceneUpdate=n,f.init&&(f.init.call(f,v.data),v.status=m.INIT,v.isTransition&&d.events.emit(o.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var g;d.load&&(g=d.load,g.reset()),g&&f.preload?(f.preload.call(f),v.status=m.LOADING,g.once(e.COMPLETE,this.loadComplete,this),g.start()):this.create(f)},loadComplete:function(f){this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,d){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var g=this.scenes[v].sys;g.settings.status>m.START&&g.settings.status<=m.RUNNING&&g.step(f,d),g.scenePlugin&&g.scenePlugin._target&&g.scenePlugin.step(f,d)}},render:function(f){for(var d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys;v.settings.visible&&v.settings.status>=m.LOADING&&v.settings.status<m.SLEEPING&&v.render(f)}this.isProcessing=!1},create:function(f){var d=f.sys,v=d.settings;f.create&&(v.status=m.CREATING,f.create.call(f,v.data),v.status===m.DESTROYED)||(v.isTransition&&d.events.emit(o.TRANSITION_START,v.transitionFrom,v.transitionDuration),f.update&&(d.sceneUpdate=f.update),v.status=m.RUNNING,d.events.emit(o.CREATE,f))},createSceneFromFunction:function(f,d){var v=new d;if(v instanceof l){var g=v.sys.settings.key;if(g!==""&&(f=g),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return this.createSceneFromInstance(f,v)}else return v.sys=new s(v),v.sys.settings.key=f,v.sys.init(this.game),v},createSceneFromInstance:function(f,d){var v=d.sys.settings.key;return v===""&&(d.sys.settings.key=f),d.sys.init(this.game),d},createSceneFromObject:function(f,d){var v=new l(d),g=v.sys.settings.key;g!==""?f=g:v.sys.settings.key=f,v.sys.init(this.game);for(var y=["init","preload","create","update","render"],T=0;T<y.length;T++){var E=r(d,y[T],null);E&&(v[y[T]]=E)}if(d.hasOwnProperty("extend")){for(var A in d.extend)if(d.extend.hasOwnProperty(A)){var P=d.extend[A];A==="data"&&v.hasOwnProperty("data")&&typeof P=="object"?v.data.merge(P):A!=="sys"&&(v[A]=P)}}return v},getKey:function(f,d){if(f||(f="default"),typeof d=="function")return f;if(d instanceof l?f=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(f=d.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return f},getScenes:function(f,d){f===void 0&&(f=!0),d===void 0&&(d=!1);for(var v=[],g=this.scenes,y=0;y<g.length;y++){var T=g[y];T&&(!f||f&&T.sys.isActive())&&v.push(T)}return d?v.reverse():v},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var d=0;d<this.scenes.length;d++)if(f===this.scenes[d])return f;return null},isActive:function(f){var d=this.getScene(f);return d?d.sys.isActive():null},isPaused:function(f){var d=this.getScene(f);return d?d.sys.isPaused():null},isVisible:function(f){var d=this.getScene(f);return d?d.sys.isVisible():null},isSleeping:function(f){var d=this.getScene(f);return d?d.sys.isSleeping():null},pause:function(f,d){var v=this.getScene(f);return v&&v.sys.pause(d),this},resume:function(f,d){var v=this.getScene(f);return v&&v.sys.resume(d),this},sleep:function(f,d){var v=this.getScene(f);return v&&!v.sys.isTransitioning()&&v.sys.sleep(d),this},wake:function(f,d){var v=this.getScene(f);return v&&v.sys.wake(d),this},run:function(f,d){var v=this.getScene(f);if(!v){for(var g=0;g<this._pending.length;g++)if(this._pending[g].key===f){this.queueOp("start",f,d);break}return this}v.sys.isSleeping()?v.sys.wake(d):v.sys.isPaused()?v.sys.resume(d):this.start(f,d)},start:function(f,d){if(!this.isBooted)return this._data[f]={autoStart:!0,data:d},this;var v=this.getScene(f);if(!v)return console.warn("Scene key not found: "+f),this;var g=v.sys,y=g.settings.status;if(y>=m.START&&y<=m.CREATING)return this;if(y>=m.RUNNING&&y<=m.SLEEPING)g.shutdown(),g.sceneUpdate=n,g.start(d);else{g.sceneUpdate=n,g.start(d);var T;if(g.load&&(T=g.load),T&&g.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:g.settings.pack})))return g.settings.status=m.LOADING,T.once(e.COMPLETE,this.payloadComplete,this),T.start(),this}return this.bootScene(v),this},stop:function(f,d){var v=this.getScene(f);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==m.SHUTDOWN){var g=v.sys.load;g&&(g.off(e.COMPLETE,this.loadComplete,this),g.off(e.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(d)}return this},switch:function(f,d,v){var g=this.getScene(f),y=this.getScene(d);return g&&y&&g!==y&&(this.sleep(f),this.isSleeping(d)?this.wake(d,v):this.start(d,v)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var d=this.getScene(f);return this.scenes.indexOf(d)},bringToTop:function(f){if(this.isProcessing)return this.queueOp("bringToTop",f);var d=this.getIndex(f),v=this.scenes;if(d!==-1&&d<v.length){var g=this.getScene(f);v.splice(d,1),v.push(g)}return this},sendToBack:function(f){if(this.isProcessing)return this.queueOp("sendToBack",f);var d=this.getIndex(f);if(d!==-1&&d>0){var v=this.getScene(f);this.scenes.splice(d,1),this.scenes.unshift(v)}return this},moveDown:function(f){if(this.isProcessing)return this.queueOp("moveDown",f);var d=this.getIndex(f);if(d>0){var v=d-1,g=this.getScene(f),y=this.getAt(v);this.scenes[d]=y,this.scenes[v]=g}return this},moveUp:function(f){if(this.isProcessing)return this.queueOp("moveUp",f);var d=this.getIndex(f);if(d<this.scenes.length-1){var v=d+1,g=this.getScene(f),y=this.getAt(v);this.scenes[d]=y,this.scenes[v]=g}return this},moveAbove:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("moveAbove",f,d);var v=this.getIndex(f),g=this.getIndex(d);if(v!==-1&&g!==-1&&g<v){var y=this.getAt(g);this.scenes.splice(g,1),this.scenes.splice(v+(g>v),0,y)}return this},moveBelow:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("moveBelow",f,d);var v=this.getIndex(f),g=this.getIndex(d);if(v!==-1&&g!==-1&&g>v){var y=this.getAt(g);this.scenes.splice(g,1),v===0?this.scenes.unshift(y):this.scenes.splice(v-(g<v),0,y)}return this},queueOp:function(f,d,v,g){return this._queue.push({op:f,keyA:d,keyB:v,data:g}),this},swapPosition:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("swapPosition",f,d);var v=this.getIndex(f),g=this.getIndex(d);if(v!==g&&v!==-1&&g!==-1){var y=this.getAt(v);this.scenes[v]=this.scenes[g],this.scenes[g]=y}return this},dump:function(){for(var f=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var g=this.scenes[v].sys,y=g.settings.visible&&(g.settings.status===m.RUNNING||g.settings.status===m.PAUSED)?"[*] ":"[-] ";y+=g.settings.key+" ("+d[g.settings.status]+")",f.push(y)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var d=this.scenes[f].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=u},52209:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(44594),a=t(95540),r=t(37277),e=new m({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=a(n,"target",!1),s=this.manager.getScene(l);if(!l||!this.checkValidTransition(s))return!1;var u=a(n,"duration",1e3);this._elapsed=0,this._target=s,this._duration=u,this._willSleep=a(n,"sleep",!1),this._willRemove=a(n,"remove",!1);var f=a(n,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=a(n,"onUpdateScope",this.scene));var d=a(n,"allowInput",!1);this.settings.transitionAllowInput=d;var v=s.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=u,v.transitionAllowInput=d,a(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):a(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),s.sys.isSleeping()?s.sys.wake(a(n,"data")):this.manager.start(l,a(n,"data"));var g=a(n,"onStart",null),y=a(n,"onStartScope",this.scene);return g&&g.call(y,this.scene,s,u),this.systems.events.emit(o.TRANSITION_OUT,s,u),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,s,u){return this.manager.add(n,l,s,u)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n,l){return n!==this.key&&this.manager.queueOp("switch",this.key,n,l),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,s){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(n,s),this},setVisible:function(n,l){l===void 0&&(l=this.key);var s=this.manager.getScene(l);return s&&s.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",e,"scenePlugin"),c.exports=e},55681:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),m=t(35154),o=t(46975),a=t(87033),r={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:h.PENDING,key:m(e,"key",""),active:m(e,"active",!1),visible:m(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(e,"pack",!1),cameras:m(e,"cameras",null),map:m(e,"map",o(a,m(e,"mapAdd",{}))),physics:m(e,"physics",{}),loader:m(e,"loader",{}),plugins:m(e,"plugins",!1),input:m(e,"input",{})}}};c.exports=r},2368:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(89993),o=t(42363),a=t(44594),r=t(27397),e=t(52106),n=t(29747),l=t(55681),s=new h({initialize:function(f,d){this.scene=f,this.game,this.renderer,this.config=d,this.settings=l.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(u){this.settings.status=m.INIT,this.sceneUpdate=n,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var f=u.plugins;this.plugins=f,f.addToScene(this,o.Global,[o.CoreScene,e(this),r(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(u,f){var d=this.events;d.emit(a.PRE_UPDATE,u,f),d.emit(a.UPDATE,u,f),this.sceneUpdate.call(this.scene,u,f),d.emit(a.POST_UPDATE,u,f)},render:function(u){var f=this.displayList;f.depthSort(),this.events.emit(a.PRE_RENDER,u),this.cameras.render(u,f),this.events.emit(a.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var f=this.settings,d=this.getStatus();return d!==m.CREATING&&d!==m.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=m.PAUSED,f.active=!1,this.events.emit(a.PAUSE,this,u)),this},resume:function(u){var f=this.events,d=this.settings;return this.settings.active||(d.status=m.RUNNING,d.active=!0,f.emit(a.RESUME,this,u)),this},sleep:function(u){var f=this.settings,d=this.getStatus();return d!==m.CREATING&&d!==m.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=m.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(a.SLEEP,this,u)),this},wake:function(u){var f=this.events,d=this.settings;return d.status=m.RUNNING,d.active=!0,d.visible=!0,f.emit(a.WAKE,this,u),d.isTransition&&f.emit(a.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var u=this.settings.status;return u>m.PENDING&&u<=m.RUNNING},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,f){return u?this.resume(f):this.pause(f)},start:function(u){var f=this.events,d=this.settings;u&&(d.data=u),d.status=m.START,d.active=!0,d.visible=!0,f.emit(a.START,this),f.emit(a.READY,this,u)},shutdown:function(u){var f=this.events,d=this.settings;f.off(a.TRANSITION_INIT),f.off(a.TRANSITION_START),f.off(a.TRANSITION_COMPLETE),f.off(a.TRANSITION_OUT),d.status=m.SHUTDOWN,d.active=!1,d.visible=!1,f.emit(a.SHUTDOWN,this,u)},destroy:function(){var u=this.events,f=this.settings;f.status=m.DESTROYED,f.active=!1,f.visible=!1,u.emit(a.DESTROY,this),u.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<d.length;v++)this[d[v]]=null}});c.exports=s},89993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=S},69830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},7919:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},46763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},11763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},71555:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},36735:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},3809:c=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},90716:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},58262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},91633:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},10319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},87132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},81961:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},90194:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},6265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},33178:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},43063:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},11259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},61611:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},45209:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},22966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},21747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},44594:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),m=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=m(!1,o,h),c.exports=o},30341:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50792),o=t(14463),a=t(79291),r=t(29747),e=new h({Extends:m,initialize:function(l,s,u){m.call(this),this.manager=l,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=a(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=a(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,s=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=e},85034:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(41786),o=t(50792),a=t(14463),r=t(8443),e=t(46710),n=t(58731),l=t(29747),s=t(26099),u=new h({Extends:o,initialize:function(d){o.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s;var v=d.events;v.on(r.BLUR,this.onGameBlur,this),v.on(r.FOCUS,this.onGameFocus,this),v.on(r.PRE_STEP,this.update,this),v.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,d){d===void 0&&(d={});var v=this.add(f,d);v.spritemap=this.jsonCache.get(f).spritemap;for(var g in v.spritemap)if(v.spritemap.hasOwnProperty(g)){var y=m(d),T=v.spritemap[g];y.loop=T.hasOwnProperty("loop")?T.loop:!1,v.addMarker({name:g,start:T.start,duration:T.end-T.start,config:y})}return v},get:function(f){return n(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,d){var v=this.add(f);return v.once(a.COMPLETE,v.destroy,v),d?d.name?(v.addMarker(d),v.play(d.name)):v.play(d):v.play()},playAudioSprite:function(f,d,v){var g=this.addAudioSprite(f);return g.once(a.COMPLETE,g.destroy,g),g.play(d,v)},remove:function(f){var d=this.sounds.indexOf(f);return d!==-1?(f.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var d=0,v=this.sounds.length-1;v>=0;v--){var g=this.sounds[v];g.key===f&&(g.destroy(),this.sounds.splice(v,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(f){var d=0;return this.getAll(f).forEach(function(v){v.stop()&&d++}),d},isPlaying:function(f){var d=this.sounds,v=d.length-1,g;if(f===void 0){for(;v>=0;v--)if(g=this.sounds[v],g.isPlaying)return!0}else for(;v>=0;v--)if(g=this.sounds[v],g.key===f&&g.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(g){g.update(f,d)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,d){var v=this;this.sounds.forEach(function(g,y){g&&!g.pendingRemove&&f.call(d||v,g,y,v.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(a.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,f)}}});c.exports=u},14747:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33684),m=t(25960),o=t(57490),a={create:function(r){var e=r.config.audio,n=r.device.audio;return e.noAudio||!n.webAudio&&!n.audioData?new m(r):n.webAudio&&!e.disableWebAudio?new o(r):new h(r)}};c.exports=a},19723:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},98882:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},57506:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},73146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},11305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},40577:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},30333:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},20394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},21802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},1299:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},99190:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},97125:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},89259:c=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pan"},79986:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},17586:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},19618:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},42306:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},10387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},48959:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},9960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},19180:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},98328:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},50401:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},52498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},14463:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),m=t(83419),o=t(14463),a=t(45319),r=new m({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,n,l,s)},play:function(e,n){return this.manager.isLocked(this,"play",[e,n])||!h.prototype.play.call(this,e,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var n=this.tags[e];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,f){return u.loop===f.loop?f.seek/f.duration-u.seek/u.duration:u.loop?1:-1});var s=l[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,s-l),s=this.audio.currentTime):s<n&&(this.audio.currentTime+=n,s=this.audio.currentTime),s<this.previousTime&&this.emit(o.LOOPED,this);else if(s>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=s}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(o.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(o.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,o.RATE,e)&&(this.calculateRate(),this.emit(o.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,o.DETUNE,e)&&(this.calculateRate(),this.emit(o.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(o.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=r},33684:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),m=t(83419),o=t(14463),a=t(64895),r=new m({Extends:h,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,n)},add:function(e,n){var l=new a(this,e,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(u,f){for(var d=0;d<f.length;d++)if(f[d].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},s=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",s);var u=[];if(e.game.cache.audio.entries.each(function(d,v){for(var g=0;g<v.length;g++){var y=v[g];y.dataset.locked==="true"&&u.push(y)}return!0}),u.length!==0){var f=u[u.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,u.forEach(function(d){d.dataset.locked="false"}),e.unlocked=!0},u.forEach(function(d){d.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,n,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:n,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,e)}}});c.exports=r},23717:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),m=t(83419),o=t(50792),a=t(79291),r=t(29747),e=function(){return!1},n=function(){return null},l=function(){return this},s=new m({Extends:o,initialize:function(f,d,v){v===void 0&&(v={}),o.call(this),this.manager=f,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:n,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){h.prototype.destroy.call(this)}});c.exports=s},25960:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),m=t(83419),o=t(50792),a=t(4603),r=t(29747),e=new m({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var s=new a(this,n,l);return this.sounds.push(s),s},addAudioSprite:function(n,l){var s=this.add(n,l);return s.spritemap={},s},get:function(n){return h.prototype.get.call(this,n)},getAll:function(n){return h.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,s){return!1},remove:function(n){return h.prototype.remove.call(this,n)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(n){return h.prototype.removeByKey.call(this,n)},stopByKey:function(n){return h.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){h.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){h.prototype.destroy.call(this)}});c.exports=e},71741:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),m=t(83419),o=t(14463),a=t(95540),r=new m({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,n,l,s)},play:function(e,n){return h.prototype.play.call(this,e,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,s=(this.currentMarker?this.currentMarker.start:0)+e,u=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,s),Math.max(0,u)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var e=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){var s=l.target;(s===e.source||s===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=a(e,"panningModel","equalpower"),n.distanceModel=a(e,"distanceModel","inverse"),n.orientationX.value=a(e,"orientationX",0),n.orientationY.value=a(e,"orientationY",0),n.orientationZ.value=a(e,"orientationZ",-1),n.refDistance=a(e,"refDistance",1),n.maxDistance=a(e,"maxDistance",1e4),n.rolloffFactor=a(e,"rolloffFactor",1),n.coneInnerAngle=a(e,"coneInnerAngle",360),n.coneOuterAngle=a(e,"coneOuterAngle",0),n.coneOuterGain=a(e,"coneOuterGain",0),this.spatialSource=a(e,"follow",null),this.spatialSource||(n.positionX.value=a(e,"x",0),n.positionY.value=a(e,"y",0),n.positionZ.value=a(e,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=a(this.spatialSource,"x",null),n=a(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return e},getLoopTime:function(){for(var e=0,n=0;n<this.rateUpdates.length-1;n++)e+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(o.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(o.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(o.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(o.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=r},57490:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53134),m=t(85034),o=t(83419),a=t(14463),r=t(8443),e=t(71741),n=t(95540),l=new o({Extends:m,initialize:function(u){this.context=this.createAudioContext(u),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",m.call(this,u),this.locked&&(u.isBooted?this.unlock():u.events.once(r.BOOT,this.unlock,this)),u.events.on(r.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var s=this.context;window.setTimeout(function(){s&&(s.suspend(),s.resume())},100)},createAudioContext:function(s){var u=s.config.audio;if(u.context)return u.context.resume(),u.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,u){var f=new e(this,s,u);return this.sounds.push(f),f},decodeAudio:function(s,u){var f;Array.isArray(s)?f=s:f=[{key:s,data:u}];for(var d=this.game.cache.audio,v=f.length,g=0;g<f.length;g++){var y=f[g],T=y.key,E=y.data;typeof E=="string"&&(E=h(E));var A=(function(w,M){d.add(w,M),this.emit(a.DECODED,w),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,T),P=(function(w,M){console.error("Error decoding audio: "+w+" - ",M?M.message:""),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,T);this.context.decodeAudioData(E,A,P)}},setListenerPosition:function(s,u){return s===void 0&&(s=this.game.scale.width/2),u===void 0&&(u=this.game.scale.height/2),this.listenerPosition.set(s,u),this},unlock:function(){var s=this,u=document.body,f=function d(){if(s.context&&u){var v=u.removeEventListener.bind(u);s.context.resume().then(function(){v("touchstart",d),v("touchend",d),v("mousedown",d),v("mouseup",d),v("keydown",d),s.unlocked=!0},function(){v("touchstart",d),v("touchend",d),v("mousedown",d),v("mouseup",d),v("keydown",d)})}};u&&(u.addEventListener("touchstart",f,!1),u.addEventListener("touchend",f,!1),u.addEventListener("mousedown",f,!1),u.addEventListener("mouseup",f,!1),u.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,u){var f=this.context.listener;if(f&&f.positionX!==void 0){var d=n(this.listenerPosition,"x",null),v=n(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=f.positionX.value=d),v&&v!==this._spatialy&&(this._spatialy=f.positionY.value=v)}m.prototype.update.call(this,s,u),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}this.game.events.off(r.VISIBLE,this.onGameVisible,this),m.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(a.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(a.GLOBAL_VOLUME,this,s)}}});c.exports=l},73162:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),m=t(83419),o=t(29747),a=t(19186),r=new m({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(e,n){return n?h.Add(this.list,e):h.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,n,l){return l?h.AddAt(this.list,e,n):h.AddAt(this.list,e,n,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,n){return e?(n===void 0&&(n=function(l,s){return l[e]-s[e]}),a(this.list,n),this):this},getByName:function(e){return h.GetFirst(this.list,"name",e)},getRandom:function(e,n){return h.GetRandom(this.list,e,n)},getFirst:function(e,n,l,s){return h.GetFirst(this.list,e,n,l,s)},getAll:function(e,n,l,s){return h.GetAll(this.list,e,n,l,s)},count:function(e,n){return h.CountAllMatching(this.list,e,n)},swap:function(e,n){h.Swap(this.list,e,n)},moveTo:function(e,n){return h.MoveTo(this.list,e,n)},moveAbove:function(e,n){return h.MoveAbove(this.list,e,n)},moveBelow:function(e,n){return h.MoveBelow(this.list,e,n)},remove:function(e,n){return n?h.Remove(this.list,e):h.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,n){return n?h.RemoveAt(this.list,e):h.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,n,l){return l?h.RemoveBetween(this.list,e,n):h.RemoveBetween(this.list,e,n,this.removeCallback,this)},removeAll:function(e){for(var n=this.list.length;n--;)this.remove(this.list[n],e);return this},bringToTop:function(e){return h.BringToTop(this.list,e)},sendToBack:function(e){return h.SendToBack(this.list,e)},moveUp:function(e){return h.MoveUp(this.list,e),e},moveDown:function(e){return h.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(e,n){return h.Replace(this.list,e,n)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,n,l,s){return h.SetAll(this.list,e,n,l,s),this},each:function(e,n){for(var l=[null],s=2;s<arguments.length;s++)l.push(arguments[s]);for(s=0;s<this.list.length;s++)l[0]=this.list[s],e.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=r},90330:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a){this.entries={},this.size=0,this.setAll(a)},setAll:function(o){if(Array.isArray(o))for(var a=0;a<o.length;a++)this.set(o[a][0],o[a][1]);return this},set:function(o,a){return this.has(o)||this.size++,this.entries[o]=a,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],a=this.entries;for(var r in a)o.push(a[r]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],a=this.entries;for(var r in a)o.push(a[r]);return o},dump:function(){var o=this.entries;console.group("Map");for(var a in o)console.log(a,o[a]);console.groupEnd()},each:function(o){var a=this.entries;for(var r in a)if(o(r,a[r])===!1)break;return this},contains:function(o){var a=this.entries;for(var r in a)if(a[r]===o)return!0;return!1},merge:function(o,a){a===void 0&&(a=!1);var r=this.entries,e=o.entries;for(var n in e)r.hasOwnProperty(n)&&a?r[n]=e[n]:this.set(n,e[n]);return this}});c.exports=m},25774:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50792),o=t(82348),a=new h({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var e=this._pending,n=e.indexOf(r);n!==-1&&e.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,e=this._destroy,n=r.length;n--;)e.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,e=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var s=e.indexOf(l);s!==-1&&(e.splice(s,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=a},59542:(c,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43886);function m(E){if(!(this instanceof m))return new m(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}m.prototype={all:function(){return this._all(this.data,[])},search:function(E){var A=this.data,P=[],w=this.toBBox;if(!g(E,A))return P;for(var M=[],D,F,L,O;A;){for(D=0,F=A.children.length;D<F;D++)L=A.children[D],O=A.leaf?w(L):L,g(E,O)&&(A.leaf?P.push(L):v(E,O)?this._all(L,P):M.push(L));A=M.pop()}return P},collides:function(E){var A=this.data,P=this.toBBox;if(!g(E,A))return!1;for(var w=[],M,D,F,L;A;){for(M=0,D=A.children.length;M<D;M++)if(F=A.children[M],L=A.leaf?P(F):F,g(E,L)){if(A.leaf||v(E,L))return!0;w.push(F)}A=w.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var A=0,P=E.length;A<P;A++)this.insert(E[A]);return this}var w=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var M=this.data;this.data=w,w=M}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(E,A){if(!E)return this;for(var P=this.data,w=this.toBBox(E),M=[],D=[],F,L,O,B;P||M.length;){if(P||(P=M.pop(),L=M[M.length-1],F=D.pop(),B=!0),P.leaf&&(O=o(E,P.children,A),O!==-1))return P.children.splice(O,1),M.push(P),this._condense(M),this;!B&&!P.leaf&&v(P,w)?(M.push(P),D.push(F),F=0,L=P,P=P.children[0]):L?(F++,P=L.children[F],B=!1):P=null}return this},toBBox:function(E){return E},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,A){for(var P=[];E;)E.leaf?A.push.apply(A,E.children):P.push.apply(P,E.children),E=P.pop();return A},_build:function(E,A,P,w){var M=P-A+1,D=this._maxEntries,F;if(M<=D)return F=y(E.slice(A,P+1)),a(F,this.toBBox),F;w||(w=Math.ceil(Math.log(M)/Math.log(D)),D=Math.ceil(M/Math.pow(D,w-1))),F=y([]),F.leaf=!1,F.height=w;var L=Math.ceil(M/D),O=L*Math.ceil(Math.sqrt(D)),B,U,W,H;for(T(E,A,P,O,this.compareMinX),B=A;B<=P;B+=O)for(W=Math.min(B+O-1,P),T(E,B,W,L,this.compareMinY),U=B;U<=W;U+=L)H=Math.min(U+L-1,W),F.children.push(this._build(E,U,H,w-1));return a(F,this.toBBox),F},_chooseSubtree:function(E,A,P,w){for(var M,D,F,L,O,B,U,W;w.push(A),!(A.leaf||w.length-1===P);){for(U=W=1/0,M=0,D=A.children.length;M<D;M++)F=A.children[M],O=s(F),B=f(E,F)-O,B<W?(W=B,U=O<U?O:U,L=F):B===W&&O<U&&(U=O,L=F);A=L||A.children[0]}return A},_insert:function(E,A,P){var w=this.toBBox,M=P?E:w(E),D=[],F=this._chooseSubtree(M,this.data,A,D);for(F.children.push(E),e(F,M);A>=0&&D[A].children.length>this._maxEntries;)this._split(D,A),A--;this._adjustParentBBoxes(M,D,A)},_split:function(E,A){var P=E[A],w=P.children.length,M=this._minEntries;this._chooseSplitAxis(P,M,w);var D=this._chooseSplitIndex(P,M,w),F=y(P.children.splice(D,P.children.length-D));F.height=P.height,F.leaf=P.leaf,a(P,this.toBBox),a(F,this.toBBox),A?E[A-1].children.push(F):this._splitRoot(P,F)},_splitRoot:function(E,A){this.data=y([E,A]),this.data.height=E.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(E,A,P){var w,M,D,F,L,O,B,U;for(O=B=1/0,w=A;w<=P-A;w++)M=r(E,0,w,this.toBBox),D=r(E,w,P,this.toBBox),F=d(M,D),L=s(M)+s(D),F<O?(O=F,U=w,B=L<B?L:B):F===O&&L<B&&(B=L,U=w);return U},_chooseSplitAxis:function(E,A,P){var w=E.leaf?this.compareMinX:n,M=E.leaf?this.compareMinY:l,D=this._allDistMargin(E,A,P,w),F=this._allDistMargin(E,A,P,M);D<F&&E.children.sort(w)},_allDistMargin:function(E,A,P,w){E.children.sort(w);var M=this.toBBox,D=r(E,0,A,M),F=r(E,P-A,P,M),L=u(D)+u(F),O,B;for(O=A;O<P-A;O++)B=E.children[O],e(D,E.leaf?M(B):B),L+=u(D);for(O=P-A-1;O>=A;O--)B=E.children[O],e(F,E.leaf?M(B):B),L+=u(F);return L},_adjustParentBBoxes:function(E,A,P){for(var w=P;w>=0;w--)e(A[w],E)},_condense:function(E){for(var A=E.length-1,P;A>=0;A--)E[A].children.length===0?A>0?(P=E[A-1].children,P.splice(P.indexOf(E[A]),1)):this.clear():a(E[A],this.toBBox)},compareMinX:function(E,A){return E.left-A.left},compareMinY:function(E,A){return E.top-A.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function o(E,A,P){if(!P)return A.indexOf(E);for(var w=0;w<A.length;w++)if(P(E,A[w]))return w;return-1}function a(E,A){r(E,0,E.children.length,A,E)}function r(E,A,P,w,M){M||(M=y(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var D=A,F;D<P;D++)F=E.children[D],e(M,E.leaf?w(F):F);return M}function e(E,A){return E.minX=Math.min(E.minX,A.minX),E.minY=Math.min(E.minY,A.minY),E.maxX=Math.max(E.maxX,A.maxX),E.maxY=Math.max(E.maxY,A.maxY),E}function n(E,A){return E.minX-A.minX}function l(E,A){return E.minY-A.minY}function s(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function u(E){return E.maxX-E.minX+(E.maxY-E.minY)}function f(E,A){return(Math.max(A.maxX,E.maxX)-Math.min(A.minX,E.minX))*(Math.max(A.maxY,E.maxY)-Math.min(A.minY,E.minY))}function d(E,A){var P=Math.max(E.minX,A.minX),w=Math.max(E.minY,A.minY),M=Math.min(E.maxX,A.maxX),D=Math.min(E.maxY,A.maxY);return Math.max(0,M-P)*Math.max(0,D-w)}function v(E,A){return E.minX<=A.minX&&E.minY<=A.minY&&A.maxX<=E.maxX&&A.maxY<=E.maxY}function g(E,A){return A.minX<=E.maxX&&A.minY<=E.maxY&&A.maxX>=E.minX&&A.maxY>=E.minY}function y(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(E,A,P,w,M){for(var D=[A,P],F;D.length;)P=D.pop(),A=D.pop(),!(P-A<=w)&&(F=A+Math.ceil((P-A)/w/2)*w,h(E,F,A,P,M),D.push(A,F,F,P))}c.exports=m},35072:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,a){for(var r=0;r<this.entries.length;r++){var e=this.entries[r];if(e[o]===a)return e}},getArray:function(){return this.entries.slice(0)},delete:function(o){var a=this.entries.indexOf(o);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var a=this.entries[o];console.log(a)}console.groupEnd()},each:function(o,a){var r,e=this.entries.slice(),n=e.length;if(a)for(r=0;r<n&&o.call(a,e[r],r)!==!1;r++);else for(r=0;r<n&&o(e[r],r)!==!1;r++);return this},iterate:function(o,a){var r,e=this.entries.length;if(a)for(r=0;r<e&&o.call(a,this.entries[r],r)!==!1;r++);else for(r=0;r<e&&o(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(o){var a,r=[];for(a=1;a<arguments.length;a++)r.push(arguments[a]);var e=this.entries.length;for(a=0;a<e;a++){var n=this.entries[a];n[o].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var a=new m;return o.entries.forEach(function(r){a.set(r)}),this.entries.forEach(function(r){a.set(r)}),a},intersect:function(o){var a=new m;return this.entries.forEach(function(r){o.contains(r)&&a.set(r)}),a},difference:function(o){var a=new m;return this.entries.forEach(function(r){o.contains(r)||a.set(r)}),a},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});c.exports=m},86555:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),m=t(83419),o=t(56583),a=t(26099),r=new m({initialize:function(n,l,s,u){n===void 0&&(n=0),l===void 0&&(l=n),s===void 0&&(s=0),u===void 0&&(u=null),this._width=n,this._height=l,this._parent=u,this.aspectMode=s,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.snapTo.set(e,n),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.minWidth=h(e,0,this.maxWidth),this.minHeight=h(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,n){return e===void 0&&(e=Number.MAX_VALUE),n===void 0&&(n=e),this.maxWidth=h(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,n){switch(e===void 0&&(e=0),n===void 0&&(n=e),this.aspectMode){case r.NONE:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(e,n,!0);break;case r.ENVELOP:this.constrain(e,n,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,n){return this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,n){return n===void 0&&(n=!0),e=h(e,this.minWidth,this.maxWidth),n&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,n){return n===void 0&&(n=!0),e=h(e,this.minHeight,this.maxHeight),n&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,n,l){e===void 0&&(e=0),n===void 0&&(n=e),l===void 0&&(l=!0),e=this.getNewWidth(e),n=this.getNewHeight(n);var s=this.snapTo,u=n===0?1:e/n;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(e=o(e,s.x),n=e/this.aspectRatio,s.y>0&&(n=o(n,s.y),e=n*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(n=o(n,s.y),e=n*this.aspectRatio,s.x>0&&(e=o(e,s.x),n=e*(1/this.aspectRatio))),this._width=e,this._height=n,this},fitTo:function(e,n){return this.constrain(e,n,!0)},envelop:function(e,n){return this.constrain(e,n,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,c.exports=r},15238:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},56187:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},82348:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(45319),o=t(40987),a=t(8054),r=t(50030),e=t(79237),n=new h({Extends:e,initialize:function(s,u,f,d,v){e.call(this,s,u,f,d,v),this.add("__BASE",0,0,0,d,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=v,this.imageData=this.context.getImageData(0,0,d,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(l,s,u,f){return f===void 0&&(f=!0),this.context.drawImage(u,l,s),f&&this.update(),this},drawFrame:function(l,s,u,f,d){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=!0);var v=this.manager.getFrame(l,s);if(v){var g=v.canvasData,y=v.cutWidth,T=v.cutHeight,E=v.source.resolution;this.context.drawImage(v.source.image,g.x,g.y,y,T,u,f,y/E,T/E),d&&this.update()}return this},setPixel:function(l,s,u,f,d,v){v===void 0&&(v=255),l=Math.abs(Math.floor(l)),s=Math.abs(Math.floor(s));var g=this.getIndex(l,s);if(g>-1){var y=this.context.getImageData(l,s,1,1);y.data[0]=u,y.data[1]=f,y.data[2]=d,y.data[3]=v,this.context.putImageData(y,l,s)}return this},putData:function(l,s,u,f,d,v,g){return f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=l.width),g===void 0&&(g=l.height),this.context.putImageData(l,s,u,f,d,v,g),this},getData:function(l,s,u,f){l=m(Math.floor(l),0,this.width-1),s=m(Math.floor(s),0,this.height-1),u=m(u,1,this.width-l),f=m(f,1,this.height-s);var d=this.context.getImageData(l,s,u,f);return d},getPixel:function(l,s,u){u||(u=new o);var f=this.getIndex(l,s);if(f>-1){var d=this.data,v=d[f+0],g=d[f+1],y=d[f+2],T=d[f+3];u.setTo(v,g,y,T)}return u},getPixels:function(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),f===void 0&&(f=u),l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s));for(var d=m(l,0,this.width),v=m(l+u,0,this.width),g=m(s,0,this.height),y=m(s+f,0,this.height),T=new o,E=[],A=g;A<y;A++){for(var P=[],w=d;w<v;w++)T=this.getPixel(w,A,T),P.push({x:w,y:A,color:T.color,alpha:T.alphaGL});E.push(P)}return E},getIndex:function(l,s){return l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s)),l<this.width&&s<this.height?(l+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,s,u,f,d){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),f===void 0&&(f=this.height),d===void 0&&(d=!0),this.context.clearRect(l,s,u,f),d&&this.update(),this},setSize:function(l,s){return s===void 0&&(s=l),(l!==this.width||s!==this.height)&&(this.canvas.width=l,this.canvas.height=s,this._source.width=l,this._source.height=s,this._source.isPowerOf2=r(l,s),this.frames.__BASE.setSize(l,s,0,0),this.width=l,this.height=s,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=n},81320:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),m=t(38058),o=t(27919),a=t(83419),r=t(8054),e=t(4327),n=t(95540),l=t(36060),s=t(32302),u=t(79237),f=t(70554),d=new a({Extends:u,initialize:function(g,y,T,E,A){T===void 0&&(T=256),E===void 0&&(E=256),A===void 0&&(A=!0),this.type="DynamicTexture";var P=g.game.renderer,w=P&&P.type===r.CANVAS,M=w?o.create2D(this,T,E):[this];u.call(this,g,y,M,T,E),this.add("__BASE",0,0,0,T,E),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=w?M:null,this.context=w?M.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,T,E).setScene(g.game.scene.systemScene,!1),this.renderTarget=w?null:new s(P,T,E,1,0,!1,!1,!0,!1),this.pipeline=w?null:P.pipelines.get(l.SINGLE_PIPELINE),this.setSize(T,E,A)},setSize:function(v,g,y){g===void 0&&(g=v),y===void 0&&(y=!0),y&&(v=Math.floor(v),g=Math.floor(g),v%2!==0&&v++,g%2!==0&&g++);var T=this.get(),E=T.source;if(v!==this.width||g!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=g);var A=this.renderTarget;A&&(A.willResize(v,g)&&A.resize(v,g),A.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,g),E.width=v,E.height=g,T.setSize(v,g),this.width=v,this.height=g}else{var P=this.getSourceImage();T.cutX+v>P.width&&(v=P.width-T.cutX),T.cutY+g>P.height&&(g=P.height-T.cutY),T.setSize(v,g,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),g=v.source,y=this.renderTarget;return g.isRenderTexture=!0,g.isGLTexture=!0,g.glTexture=y.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,g,y,T,E,A){var P=this.camera,w=this.renderer;g===void 0&&(g=1),y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height);var M=v>>16&255,D=v>>8&255,F=v&255,L=this.renderTarget;if(P.preRender(),L){L.bind(!0);var O=this.pipeline.manager.set(this.pipeline),B=w.width/L.width,U=w.height/L.height,W=L.height-(T+A);O.drawFillRect(y*B,W*U,E*B,A*U,f.getTintFromFloats(F/255,D/255,M/255,1),g),L.unbind(!0)}else{var H=this.context;w.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+M+","+D+","+F+","+g+")",H.fillRect(y,T,E,A),w.setContext()}return this.dirty=!0,this},clear:function(v,g,y,T){if(this.dirty){var E=this.context,A=this.renderTarget;A?A.clear(v,g,y,T):E&&(v!==void 0&&g!==void 0&&y!==void 0&&T!==void 0?E.clearRect(v,g,y,T):(E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,this.width,this.height),E.restore())),this.dirty=!1}return this},stamp:function(v,g,y,T,E){y===void 0&&(y=0),T===void 0&&(T=0);var A=n(E,"alpha",1),P=n(E,"tint",16777215),w=n(E,"angle",0),M=n(E,"rotation",0),D=n(E,"scale",1),F=n(E,"scaleX",D),L=n(E,"scaleY",D),O=n(E,"originX",.5),B=n(E,"originY",.5),U=n(E,"blendMode",0),W=n(E,"erase",!1),H=n(E,"skipBatch",!1),Y=this.manager.resetStamp(A,P);return Y.setAngle(0),w!==0?Y.setAngle(w):M!==0&&Y.setRotation(M),Y.setScale(F,L),Y.setTexture(v,g),Y.setOrigin(O,B),Y.setBlendMode(U),W&&(this._eraseMode=!0),H?this.batchGameObject(Y,y,T):this.draw(Y,y,T),W&&(this._eraseMode=!1),this},erase:function(v,g,y){return this._eraseMode=!0,this.draw(v,g,y),this._eraseMode=!1,this},draw:function(v,g,y,T,E){return this.beginDraw(),this.batchDraw(v,g,y,T,E),this.endDraw(),this},drawFrame:function(v,g,y,T,E,A){return this.beginDraw(),this.batchDrawFrame(v,g,y,T,E,A),this.endDraw(),this},repeat:function(v,g,y,T,E,A,P,w,M){if(y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height),P===void 0&&(P=1),w===void 0&&(w=16777215),M===void 0&&(M=!1),v instanceof e?g=v:g=this.manager.getFrame(v,g),!g)return this;var D=this.manager.resetStamp(P,w);D.setFrame(g),D.setOrigin(0);var F=g.width,L=g.height;E=Math.floor(E),A=Math.floor(A);var O=Math.ceil(E/F),B=Math.ceil(A/L),U=O*F-E,W=B*L-A;U>0&&(U=F-U),W>0&&(W=L-W),y<0&&(O+=Math.ceil(Math.abs(y)/F)),T<0&&(B+=Math.ceil(Math.abs(T)/L));var H=y,Y=T,G=!1,X=this.manager.stampCrop.setTo(0,0,F,L);M||this.beginDraw();for(var V=0;V<B;V++){if(Y+L<0){Y+=L;continue}for(var b=0;b<O;b++){if(G=!1,H+F<0){H+=F;continue}else H<0&&(G=!0,X.width=F+H,X.x=F-X.width);Y<0&&(G=!0,X.height=L+Y,X.y=L-X.height),U>0&&b===O-1&&(G=!0,X.width=U),W>0&&V===B-1&&(G=!0,X.height=W),G&&D.setCrop(X),this.batchGameObject(D,H,Y),D.isCropped=!1,X.setTo(0,0,F,L),H+=F}H=y,Y+=L}return M||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,g=this.renderer,y=this.renderTarget;v.preRender(),y?g.beginCapture(y.width,y.height):g.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,g,y,T,E){return Array.isArray(v)||(v=[v]),this.batchList(v,g,y,T,E),this},batchDrawFrame:function(v,g,y,T,E,A){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=1),A===void 0&&(A=16777215);var P=this.manager.getFrame(v,g);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,y,T,A,E,this.camera.matrix,null):this.batchTextureFrame(P,y,T,E,A)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var g=this.renderer,y=this.renderTarget;if(y){var T=g.endCapture(),E=g.pipelines.setUtility();E.blitFrame(T,y,1,!1,!1,v,this.isSpriteTexture),g.resetScissor(),g.resetViewport()}else g.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,g,y,T,E){var A=v.length;if(A!==0)for(var P=0;P<A;P++){var w=v[P];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,g,y):w.isParent||w.list?this.batchGroup(w.getChildren(),g,y):typeof w=="string"?this.batchTextureFrameKey(w,null,g,y,T,E):w instanceof e?this.batchTextureFrame(w,g,y,T,E):Array.isArray(w)&&this.batchList(w,g,y,T,E))}},batchGroup:function(v,g,y){g===void 0&&(g=0),y===void 0&&(y=0);for(var T=0;T<v.length;T++){var E=v[T];E.willRender(this.camera)&&this.batchGameObject(E,E.x+g,E.y+y)}},batchGameObject:function(v,g,y){g===void 0&&(g=v.x),y===void 0&&(y=v.y);var T=v.x,E=v.y,A=this.camera,P=this.renderer,w=this._eraseMode,M=v.mask;if(v.setPosition(g,y),this.canvas){if(w){var D=v.blendMode;v.blendMode=h.ERASE}M&&M.preRenderCanvas(P,v,A),v.renderCanvas(P,v,A,null),M&&M.postRenderCanvas(P,v,A),w&&(v.blendMode=D)}else P&&(M&&M.preRenderWebGL(P,v,A),w||P.setBlendMode(v.blendMode),v.renderWebGL(P,v,A),M&&M.postRenderWebGL(P,A,this.renderTarget));v.setPosition(T,E)},batchTextureFrameKey:function(v,g,y,T,E,A){var P=this.manager.getFrame(v,g);P&&this.batchTextureFrame(P,y,T,E,A)},batchTextureFrame:function(v,g,y,T,E){g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=1),E===void 0&&(E=16777215);var A=this.camera.matrix,P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(v,g,y,E,T,A,null);else{var w=this.context,M=v.canvasData,D=v.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=T,A.setToContext(w),M.width>0&&M.height>0&&w.drawImage(D,M.x,M.y,M.width,M.height,g,y,M.width,M.height),w.restore()}},snapshotArea:function(v,g,y,T,E,A,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,v,g,y,T,A,P):this.renderer.snapshotCanvas(this.canvas,E,!1,v,g,y,T,A,P),this},snapshot:function(v,g,y){return this.snapshotArea(0,0,this.width,this.height,v,g,y)},snapshotPixel:function(v,g,y){return this.snapshotArea(v,g,1,1,y,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,g,y,T){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(v,E,y,T)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),u.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=d},4327:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(45319),o=t(79291),a=new h({initialize:function(e,n,l,s,u,f,d){this.texture=e,this.name=n,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,d,s,u)},setCutPosition:function(r,e){return r===void 0&&(r=0),e===void 0&&(e=0),this.cutX=r,this.cutY=e,this.updateUVs()},setCutSize:function(r,e){return this.cutWidth=r,this.cutHeight=e,this.updateUVs()},setSize:function(r,e,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.setCutPosition(n,l),this.setCutSize(r,e),this.width=r,this.height=e,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(e/2);var s=this.data,u=s.cut;u.x=n,u.y=l,u.w=r,u.h=e,u.r=n+r,u.b=l+e,s.sourceSize.w=r,s.sourceSize.h=e,s.spriteSourceSize.w=r,s.spriteSourceSize.h=e,s.radius=.5*Math.sqrt(r*r+e*e);var f=s.drawImage;return f.x=n,f.y=l,f.width=r,f.height=e,this.updateUVs()},setTrim:function(r,e,n,l,s,u){var f=this.data,d=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=r,f.sourceSize.h=e,d.x=n,d.y=l,d.w=s,d.h=u,d.r=n+s,d.b=l+u,this.x=n,this.y=l,this.width=s,this.height=u,this.halfWidth=s*.5,this.halfHeight=u*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(u/2),this.updateUVs()},setScale9:function(r,e,n,l){var s=this.data;return s.scale9=!0,s.is3Slice=e===0&&l===this.height,s.scale9Borders.x=r,s.scale9Borders.y=e,s.scale9Borders.w=n,s.scale9Borders.h=l,this},setCropUVs:function(r,e,n,l,s,u,f){var d=this.cutX,v=this.cutY,g=this.cutWidth,y=this.cutHeight,T=this.realWidth,E=this.realHeight;e=m(e,0,T),n=m(n,0,E),l=m(l,0,T-e),s=m(s,0,E-n);var A=d+e,P=v+n,w=l,M=s,D=this.data;if(D.trim){var F=D.spriteSourceSize;l=m(l,0,F.x+g-e),s=m(s,0,F.y+y-n);var L=e+l,O=n+s,B=!(F.r<e||F.b<n||F.x>L||F.y>O);if(B){var U=Math.max(F.x,e),W=Math.max(F.y,n),H=Math.min(F.r,L)-U,Y=Math.min(F.b,O)-W;w=H,M=Y,u?A=d+(g-(U-F.x)-H):A=d+(U-F.x),f?P=v+(y-(W-F.y)-Y):P=v+(W-F.y),e=U,n=W,l=H,s=Y}else A=0,P=0,w=0,M=0}else u&&(A=d+(g-e-l)),f&&(P=v+(y-n-s));var G=this.source.width,X=this.source.height;return r.u0=Math.max(0,A/G),r.v0=Math.max(0,P/X),r.u1=Math.min(1,(A+w)/G),r.v1=Math.min(1,(P+M)/X),r.x=e,r.y=n,r.cx=A,r.cy=P,r.cw=w,r.ch=M,r.width=l,r.height=s,r.flipX=u,r.flipY=f,r},updateCropUVs:function(r,e,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,e,n)},setUVs:function(r,e,n,l,s,u){var f=this.data.drawImage;return f.width=r,f.height=e,this.u0=n,this.v0=l,this.u1=s,this.v1=u,this},updateUVs:function(){var r=this.cutX,e=this.cutY,n=this.cutWidth,l=this.cutHeight,s=this.data.drawImage;s.width=n,s.height=l;var u=this.source.width,f=this.source.height;return this.u0=r/u,this.v0=e/f,this.u1=(r+n)/u,this.v1=(e+l)/f,this},updateUVsInverted:function(){var r=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/e,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var r=new a(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=o(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=a},79237:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(4327),o=t(11876),a='Texture "%s" has no frame "%s"',r=new h({initialize:function(n,l,s,u,f){Array.isArray(s)||(s=[s]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<s.length;d++)this.source.push(new o(this,s[d],u,f))},add:function(e,n,l,s,u,f){if(this.has(e))return null;var d=new m(this,e,n,l,s,u,f);return this.frames[e]=d,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,d},remove:function(e){if(this.has(e)){var n=this.get(e);return n.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var n=this.frames[e];return n||(console.warn(a,this.key,e),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(e){for(var n=0;n<this.source.length;n++)if(this.source[n]===e)return n;return-1},getFramesFromTextureSource:function(e,n){n===void 0&&(n=!1);var l=[];for(var s in this.frames)if(!(s==="__BASE"&&!n)){var u=this.frames[s];u.sourceIndex===e&&l.push(u)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var n=this.getFramesFromTextureSource(e,!0),l=n[0],s=l.cutX,u=l.cutY,f=l.cutX+l.cutWidth,d=l.cutY+l.cutHeight,v=1;v<n.length;v++){var g=n[v];g.cutX<s&&(s=g.cutX),g.cutY<u&&(u=g.cutY),g.cutX+g.cutWidth>f&&(f=g.cutX+g.cutWidth),g.cutY+g.cutHeight>d&&(d=g.cutY+g.cutHeight)}return{x:s,y:u,width:f-s,height:d-u}},getFrameNames:function(e){e===void 0&&(e=!1);var n=Object.keys(this.frames);if(!e){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e];return n?n.source.image:(console.warn(a,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e],l;return n?l=n.sourceIndex:(console.warn(a,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var l=this.source[n];this.dataSource.push(new o(this,e[n],l.width,l.height))}},setFilter:function(e){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(e);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(e)},destroy:function(){var e,n=this.source,l=this.dataSource;for(e=0;e<n.length;e++)n[e]&&n[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var s in this.frames){var u=this.frames[s];u&&u.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=r},17130:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),m=t(57382),o=t(83419),a=t(40987),r=t(8054),e=t(81320),n=t(50792),l=t(69442),s=t(4327),u=t(8443),f=t(99584),d=t(35154),v=t(88571),g=t(41212),y=t(61309),T=t(87841),E=t(79237),A=new o({Extends:n,initialize:function(w){n.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new T,this.silentWarnings=!1,w.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var P=this.game.config;P.defaultImage!==null&&this.addBase64("__DEFAULT",P.defaultImage),P.missingImage!==null&&this.addBase64("__MISSING",P.missingImage),P.whiteImage!==null&&this.addBase64("__WHITE",P.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(u.DESTROY,this.destroy,this),this.game.events.once(u.SYSTEM_READY,function(w){this.stamp=new v(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(P){return!P||typeof P!="string"||this.exists(P)?(this.silentWarnings||console.error("Texture key already in use: "+P),!1):!0},remove:function(P){if(typeof P=="string")if(this.exists(P))P=this.get(P);else return this.silentWarnings||console.warn("No texture found matching key: "+P),this;var w=P.key;return this.list.hasOwnProperty(w)&&(P.destroy(),this.emit(l.REMOVE,w),this.emit(l.REMOVE_KEY+w)),this},removeKey:function(P){return this.list.hasOwnProperty(P)&&delete this.list[P],this},addBase64:function(P,w){if(this.checkKey(P)){var M=this,D=new Image;D.onerror=function(){M.emit(l.ERROR,P)},D.onload=function(){var F=M.create(P,D);F&&(y.Image(F,0),M.emit(l.ADD,P,F),M.emit(l.ADD_KEY+P,F),M.emit(l.LOAD,P,F))},D.src=w}return this},getBase64:function(P,w,M,D){M===void 0&&(M="image/png"),D===void 0&&(D=.92);var F="",L=this.getFrame(P,w);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var O=L.canvasData,B=h.create2D(this,O.width,O.height),U=B.getContext("2d",{willReadFrequently:!0});O.width>0&&O.height>0&&U.drawImage(L.source.image,O.x,O.y,O.width,O.height,0,0,O.width,O.height),F=B.toDataURL(M,D),h.remove(B)}return F},addImage:function(P,w,M){var D=null;return this.checkKey(P)&&(D=this.create(P,w),y.Image(D,0),M&&D.setDataSource(M),this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)),D},addGLTexture:function(P,w){var M=null;if(this.checkKey(P)){var D=w.width,F=w.height;M=this.create(P,w,D,F),M.add("__BASE",0,0,0,D,F),this.emit(l.ADD,P,M),this.emit(l.ADD_KEY+P,M)}return M},addCompressedTexture:function(P,w,M){var D=null;if(this.checkKey(P)){if(D=this.create(P,w),D.add("__BASE",0,0,0,w.width,w.height),M){var F=function(O,B,U){Array.isArray(U.textures)||Array.isArray(U.frames)?y.JSONArray(O,B,U):y.JSONHash(O,B,U)};if(Array.isArray(M))for(var L=0;L<M.length;L++)F(D,L,M[L]);else F(D,0,M)}this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)}return D},addRenderTexture:function(P,w){var M=null;return this.checkKey(P)&&(M=this.create(P,w),M.add("__BASE",0,0,0,w.width,w.height),this.emit(l.ADD,P,M),this.emit(l.ADD_KEY+P,M)),M},generate:function(P,w){if(this.checkKey(P)){var M=h.create(this,1,1);return w.canvas=M,f(w),this.addCanvas(P,M)}else return null},createCanvas:function(P,w,M){if(w===void 0&&(w=256),M===void 0&&(M=256),this.checkKey(P)){var D=h.create(this,w,M,r.CANVAS,!0);return this.addCanvas(P,D)}return null},addCanvas:function(P,w,M){M===void 0&&(M=!1);var D=null;return M?D=new m(this,P,w,w.width,w.height):this.checkKey(P)&&(D=new m(this,P,w,w.width,w.height),this.list[P]=D,this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)),D},addDynamicTexture:function(P,w,M){var D=null;return typeof P=="string"&&!this.exists(P)?D=new e(this,P,w,M):(D=P,P=D.key),this.checkKey(P)?(this.list[P]=D,this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)):D=null,D},addAtlas:function(P,w,M,D){return Array.isArray(M.textures)||Array.isArray(M.frames)?this.addAtlasJSONArray(P,w,M,D):this.addAtlasJSONHash(P,w,M,D)},addAtlasJSONArray:function(P,w,M,D){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){if(Array.isArray(M))for(var L=M.length===1,O=0;O<F.source.length;O++){var B=L?M[0]:M[O];y.JSONArray(F,O,B)}else y.JSONArray(F,0,M);D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addAtlasJSONHash:function(P,w,M,D){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){if(Array.isArray(M))for(var L=0;L<M.length;L++)y.JSONHash(F,L,M[L]);else y.JSONHash(F,0,M);D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addAtlasXML:function(P,w,M,D){var F=null;return w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F&&(y.AtlasXML(F,0,M),D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},addUnityAtlas:function(P,w,M,D){var F=null;return w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F&&(y.UnityYAML(F,0,M),D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},addSpriteSheet:function(P,w,M,D){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){var L=F.source[0].width,O=F.source[0].height;y.SpriteSheet(F,0,0,0,L,O,M),D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addSpriteSheetFromAtlas:function(P,w){if(!this.checkKey(P))return null;var M=d(w,"atlas",null),D=d(w,"frame",null);if(!(!M||!D)){var F=this.get(M),L=F.get(D);if(L){var O=L.source.image;O||(O=L.source.glTexture);var B=this.create(P,O);return L.trimmed?y.SpriteSheetFromAtlas(B,L,w):y.SpriteSheet(B,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,w),this.emit(l.ADD,P,B),this.emit(l.ADD_KEY+P,B),B}}},addUint8Array:function(P,w,M,D){if(!this.checkKey(P)||w.length/4!==M*D)return null;var F=this.create(P,w,M,D);return F.add("__BASE",0,0,0,M,D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F),F},create:function(P,w,M,D){var F=null;return this.checkKey(P)&&(F=new E(this,P,w,M,D),this.list[P]=F),F},exists:function(P){return this.list.hasOwnProperty(P)},get:function(P){return P===void 0&&(P="__DEFAULT"),this.list[P]?this.list[P]:P instanceof E?P:P instanceof s?P.texture:this.list.__MISSING},cloneFrame:function(P,w){if(this.list[P])return this.list[P].get(w).clone()},getFrame:function(P,w){if(this.list[P])return this.list[P].get(w)},parseFrame:function(P){if(P){if(typeof P=="string")return this.getFrame(P);if(Array.isArray(P)&&P.length===2)return this.getFrame(P[0],P[1]);if(g(P))return this.getFrame(P.key,P.frame);if(P instanceof E)return P.get();if(P instanceof s)return P}else return},getTextureKeys:function(){var P=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&P.push(w);return P},getPixel:function(P,w,M,D){var F=this.getFrame(M,D);if(F){P-=F.x,w-=F.y;var L=F.data.cut;if(P+=L.x,w+=L.y,P>=L.x&&P<L.r&&w>=L.y&&w<L.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(F.source.image,P,w,1,1,0,0,1,1);var B=O.getImageData(0,0,1,1);return new a(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(P,w,M,D){var F=this.getFrame(M,D);if(F){P-=F.x,w-=F.y;var L=F.data.cut;if(P+=L.x,w+=L.y,P>=L.x&&P<L.r&&w>=L.y&&w<L.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(F.source.image,P,w,1,1,0,0,1,1);var B=O.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(P,w,M){return this.list[w]&&(P.texture=this.list[w],P.frame=P.texture.get(M)),P},renameTexture:function(P,w){var M=this.get(P);return M&&P!==w?(M.key=w,this.list[w]=M,delete this.list[P],!0):!1},each:function(P,w){for(var M=[null],D=1;D<arguments.length;D++)M.push(arguments[D]);for(var F in this.list)M[0]=this.list[F],P.apply(w,M)},resetStamp:function(P,w){P===void 0&&(P=1),w===void 0&&(w=16777215);var M=this.stamp;return M.setCrop(),M.setPosition(0),M.setAngle(0),M.setScale(1),M.setAlpha(P),M.setTint(w),M.setTexture("__WHITE"),M},destroy:function(){for(var P in this.list)this.list[P].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});c.exports=A},11876:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),m=t(83419),o=t(50030),a=t(29795),r=t(82751),e=new m({initialize:function(l,s,u,f,d){d===void 0&&(d=!1);var v=l.manager.game;this.renderer=v.renderer,this.texture=l,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=u||s.naturalWidth||s.videoWidth||s.width||0,this.height=f||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof r,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(v)},init:function(n){var l=this.renderer;if(l){var s=this.source;if(l.gl){var u=this.image,f=this.flipY,d=this.width,v=this.height,g=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,d,v,g):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(s,void 0,void 0,g):s instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(s,d,v,g):this.glTexture=l.createTextureFromSource(u,d,v,g)}else this.isRenderTexture&&(this.image=s.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,s=this.flipY,u=n.gl;u&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,s):u&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=e},19673:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};c.exports=S},44538:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},63486:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture-"},94851:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},29099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},8678:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},86415:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},30879:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture-"},69442:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),m=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:m,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=h(!1,o,m),c.exports=o},89905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[h];t.add("__BASE",h,0,0,o.width,o.height);for(var a=m.getElementsByTagName("SubTexture"),r,e=0;e<a.length;e++){var n=a[e].attributes,l=n.name.value,s=parseInt(n.x.value,10),u=parseInt(n.y.value,10),f=parseInt(n.width.value,10),d=parseInt(n.height.value,10);if(r=t.add(l,h,s,u,f,d),n.frameX){var v=Math.abs(parseInt(n.frameX.value,10)),g=Math.abs(parseInt(n.frameY.value,10)),y=parseInt(n.frameWidth.value,10),T=parseInt(n.frameHeight.value,10);r.setTrim(f,d,v,g,y,T)}}return t};c.exports=S},72893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.source[h];return t.add("__BASE",h,0,0,m.width,m.height),t};c.exports=S},4832:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.source[h];return t.add("__BASE",h,0,0,m.width,m.height),t};c.exports=S},78566:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),m=function(o,a,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=o.source[a];o.add("__BASE",a,0,0,e.width,e.height);for(var n=Array.isArray(r.textures)?r.textures[a].frames:r.frames,l,s=0;s<n.length;s++){var u=n[s];if(l=o.add(u.filename,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+u.filename);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var d in r)d!=="frames"&&(Array.isArray(r[d])?o.customData[d]=r[d].slice(0):o.customData[d]=r[d]);return o};c.exports=m},39711:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),m=function(o,a,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=o.source[a];o.add("__BASE",a,0,0,e.width,e.height);var n=r.frames,l;for(var s in n)if(n.hasOwnProperty(s)){var u=n[s];if(l=o.add(s,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+s);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var d in r)d!=="frames"&&(Array.isArray(r[d])?o.customData[d]=r[d].slice(0):o.customData[d]=r[d]);return o};c.exports=m},31403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],m,o=new Uint8Array(t,0,12);for(m=0;m<o.length;m++)if(o[m]!==h[m]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*a),e=r.getUint32(0,!0)===67305985,n=r.getUint32(1*a,e);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*a,e),s=r.getUint32(6*a,e),u=r.getUint32(7*a,e),f=Math.max(1,r.getUint32(11*a,e)),d=r.getUint32(12*a,e),v=new Array(f),g=12+13*4+d,y=s,T=u;for(m=0;m<f;m++){var E=new Int32Array(t,g,1)[0];g+=4,v[m]={data:new Uint8Array(t,g,E),width:y,height:T},y=Math.max(1,y>>1),T=Math.max(1,T>>1),g+=E}return{mipmaps:v,width:s,height:u,internalFormat:l,compressed:!0,generateMipmap:!1}};c.exports=S},82038:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(w,M,D,F,L,O,B){return B===void 0&&(B=16),Math.floor((w+D)/L)*Math.floor((M+F)/O)*B}function t(w,M){return w=Math.max(w,16),M=Math.max(M,8),w*M/4}function h(w,M){return w=Math.max(w,8),M=Math.max(M,8),w*M/2}function m(w,M){return Math.ceil(w/4)*Math.ceil(M/4)*16}function o(w,M){return S(w,M,3,3,4,4,8)}function a(w,M){return S(w,M,3,3,4,4)}function r(w,M){return S(w,M,4,3,5,4)}function e(w,M){return S(w,M,4,4,5,5)}function n(w,M){return S(w,M,5,4,6,5)}function l(w,M){return S(w,M,5,5,6,6)}function s(w,M){return S(w,M,7,4,8,5)}function u(w,M){return S(w,M,7,5,8,6)}function f(w,M){return S(w,M,7,7,8,8)}function d(w,M){return S(w,M,9,4,10,5)}function v(w,M){return S(w,M,9,5,10,6)}function g(w,M){return S(w,M,9,7,10,8)}function y(w,M){return S(w,M,9,9,10,10)}function T(w,M){return S(w,M,11,9,12,10)}function E(w,M){return S(w,M,11,11,12,12)}var A={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:a,glFormat:[33777,35917]},9:{sizeFunc:a,glFormat:[33778,35918]},11:{sizeFunc:a,glFormat:[33779,35919]},14:{sizeFunc:m,glFormat:[36494,36495]},15:{sizeFunc:m,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:a,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:a,glFormat:[37490]},27:{sizeFunc:a,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:u,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:g,glFormat:[37818,37850]},38:{sizeFunc:y,glFormat:[37819,37851]},39:{sizeFunc:T,glFormat:[37820,37852]},40:{sizeFunc:E,glFormat:[37821,37853]}},P=function(w){for(var M=new Uint32Array(w,0,13),D=M[0],F=D===55727696,L=F?M[2]:M[3],O=M[4],B=A[L].glFormat[O],U=A[L].sizeFunc,W=M[11],H=M[7],Y=M[6],G=52+M[12],X=new Uint8Array(w,G),V=new Array(W),b=0,z=H,$=Y,Q=0;Q<W;Q++){var Z=U(z,$);V[Q]={data:new Uint8Array(X.buffer,X.byteOffset+b,Z),width:z,height:$},z=Math.max(1,z>>1),$=Math.max(1,$>>1),b+=Z}return{mipmaps:V,width:H,height:Y,internalFormat:B,compressed:!0,generateMipmap:!1}};c.exports=P},75549:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m=function(o,a,r,e,n,l,s){var u=h(s,"frameWidth",null),f=h(s,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=o.source[a];o.add("__BASE",a,0,0,d.width,d.height);var v=h(s,"startFrame",0),g=h(s,"endFrame",-1),y=h(s,"margin",0),T=h(s,"spacing",0),E=Math.floor((n-y+T)/(u+T)),A=Math.floor((l-y+T)/(f+T)),P=E*A;P===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(v>P||v<-P)&&(v=0),v<0&&(v=P+v),(g===-1||g>P||g<v)&&(g=P);for(var w=y,M=y,D=0,F=0,L=0,O=0;O<P;O++){D=0,F=0;var B=w+u,U=M+f;B>n&&(D=B-n),U>l&&(F=U-l),O>=v&&O<=g&&(o.add(L,a,r+w,e+M,u-D,f-F),L++),w+=u+T,w+u>n&&(w=y,M+=f+T)}return o};c.exports=m},47534:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m=function(o,a,r){var e=h(r,"frameWidth",null),n=h(r,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),h(r,"startFrame",0),h(r,"endFrame",-1);for(var s=h(r,"margin",0),u=h(r,"spacing",0),f=a.cutX,d=a.cutY,v=a.cutWidth,g=a.cutHeight,y=a.realWidth,T=a.realHeight,E=Math.floor((y-s+u)/(e+u)),A=Math.floor((T-s+u)/(n+u)),P=a.x,w=e-P,M=e-(y-v-P),D=a.y,F=n-D,L=n-(T-g-D),O,B=s,U=s,W=0,H=0,Y=0;Y<A;Y++){for(var G=Y===0,X=Y===A-1,V=0;V<E;V++){var b=V===0,z=V===E-1;if(O=o.add(W,H,f+B,d+U,e,n),b||G||z||X){var $=b?P:0,Q=G?D:0,Z=0,q=0;b&&(Z+=e-w),z&&(Z+=e-M),G&&(q+=n-F),X&&(q+=n-L);var j=e-Z,k=n-q;O.cutWidth=j,O.cutHeight=k,O.setTrim(e,n,$,Q,j,k)}B+=u,b?B+=w:z?B+=M:B+=e,W++}B=s,U+=u,G?U+=F:X?U+=L:U+=n}return o};c.exports=m},86147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(m,o,a,r){var e=S-r.y-r.height;m.add(a,o,r.x,e,r.width,r.height)},h=function(m,o,a){var r=m.source[o];m.add("__BASE",o,0,0,r.width,r.height),S=r.height;for(var e=a.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",s="",u={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var d=e[f].match(n);if(d){var v=d[1]==="- ",g=d[2],y=d[3];if(v&&(s!==l&&(t(m,o,s,u),l=s),u={x:0,y:0,width:0,height:0}),g==="name"){s=y;continue}switch(g){case"x":case"y":case"width":case"height":u[g]=parseInt(y,10);break}}}return s!==l&&t(m,o,s,u),m};c.exports=h},55222:(c,S,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50030),m=function(l){for(var s=l.mipmaps,u=1;u<s.length;u++){var f=s[u].width,d=s[u].height;if(!h(f,d))return console.warn("Mip level "+u+" is not a power-of-two size: "+f+"x"+d),!1}var v=n[l.internalFormat];return v?v(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var s=l.mipmaps,u=0;u<s.length;u++){var f=s[u].width,d=s[u].height;if((f<<u)%4!==0||(d<<u)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+u+" is "+f+"x"+d),!1}return!0}function a(){return!0}function r(l){var s=l.mipmaps,u=s[0];return h(u.width,u.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+u.width+"x"+u.height),!1)}function e(l){var s=l.mipmaps,u=s[0];return u.width%4!==0||u.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+u.width+"x"+u.height+" pixels"),!1):!0}var n={37488:a,37489:a,37490:a,37491:a,37492:a,37493:a,37494:a,37495:a,37496:a,37497:a,36196:a,37808:a,37809:a,37810:a,37811:a,37812:a,37813:a,37814:a,37815:a,37816:a,37817:a,37818:a,37819:a,37820:a,37821:a,37840:a,37841:a,37842:a,37843:a,37844:a,37845:a,37846:a,37847:a,37848:a,37849:a,37850:a,37851:a,37852:a,37853:a,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:r,35841:r,35842:r,35843:r,33776:o,33777:o,33778:o,33779:o,35916:e,35917:e,35918:e,35919:e};c.exports=m},61309:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a,r,e,n,l,s,u){(e===void 0||e<=0)&&(e=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),s===void 0&&(s=0),this.name=a,this.firstgid=r|0,this.imageWidth=e|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=s|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,a,r,e){return this.images.push({gid:o,image:a,width:r,height:e}),this.total++,this}});c.exports=m},27462:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=new h({initialize:function(a){if(this.gids=[],a!==void 0)for(var r=0;r<a.length;++r)for(var e=a[r],n=0;n<e.total;++n)this.gids[e.firstgid+n]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var a=this.gids[o.gid];if(a){var r=a.getTileData(o.gid);if(r)return r.type}}},setTextureAndFrame:function(o,a,r,e){if(a===null&&this.gids&&e.gid!==void 0){var n=this.gids[e.gid];n&&(a===null&&n.image!==void 0&&(a=n.image.key),r===null&&(r=e.gid-n.firstgid),o.scene.textures.getFrame(a,r)||(a=null,r=null))}o.setTexture(a,r)},setPropertiesFromTiledObject:function(o,a){if(this.gids!==void 0&&a.gid!==void 0){var r=this.gids[a.gid];r!==void 0&&this.setFromJSON(o,r.getTileProperties(a.gid))}this.setFromJSON(o,a.properties)},setFromJSON:function(o,a){if(a){if(Array.isArray(a)){for(var r=0;r<a.length;r++){var e=a[r];o[e.name]!==void 0?o[e.name]=e.value:o.setData(e.name,e.value)}return}for(var n in a)o[n]!==void 0?o[n]=a[n]:o.setData(n,a[n])}}});c.exports=m},31989:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),m=t(87010),o=t(46177),a=t(49075),r=function(e,n,l,s,u,f,d,v){l===void 0&&(l=32),s===void 0&&(s=32),u===void 0&&(u=10),f===void 0&&(f=10),v===void 0&&(v=!1);var g=null;if(Array.isArray(d)){var y=n!==void 0?n:"map";g=o(y,h.ARRAY_2D,d,l,s,v)}else if(n!==void 0){var T=e.cache.tilemap.get(n);T?g=o(n,T.format,T.data,l,s,v):console.warn("No map data found for key "+n)}return g===null&&(g=new m({tileWidth:l,tileHeight:s,width:u,height:f})),new a(e,g)};c.exports=r},23029:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(31401),o=t(91907),a=t(62644),r=t(93232),e=new h({Mixins:[m.AlphaSingle,m.Flip,m.Visible],initialize:function(l,s,u,f,d,v,g,y){this.layer=l,this.index=s,this.x=u,this.y=f,this.width=d,this.height=v,this.right,this.bottom,this.baseWidth=g!==void 0?g:d,this.baseHeight=y!==void 0?y:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=a(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,s,u){return!(s<=this.pixelX||u<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,s,u,f){if(l===void 0&&(l=n),s===void 0&&(s=n),u===void 0&&(u=n),f===void 0&&(f=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=s,this.collideDown=u,this.faceLeft=n,this.faceRight=l,this.faceTop=s,this.faceBottom=u,f){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,s,u){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),s!==void 0&&(this.baseWidth=s),u!==void 0&&(this.baseHeight=u),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,s=this.layer.staggerIndex,u=this.layer.hexSideLength,f,d;l==="y"?(d=(this.baseHeight-u)/2+u,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):l==="x"&&(f=(this.baseWidth-u)/2+u,this.pixelX=this.x*f,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});c.exports=e},49075:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84101),m=t(83419),o=t(39506),a=t(80341),r=t(95540),e=t(14977),n=t(27462),l=t(91907),s=t(36305),u=t(19133),f=t(68287),d=t(23029),v=t(81086),g=t(20442),y=t(33629),T=new m({initialize:function(A,P){this.scene=A,this.tileWidth=P.tileWidth,this.tileHeight=P.tileHeight,this.width=P.width,this.height=P.height,this.orientation=P.orientation,this.renderOrder=P.renderOrder,this.format=P.format,this.version=P.version,this.properties=P.properties,this.widthInPixels=P.widthInPixels,this.heightInPixels=P.heightInPixels,this.imageCollections=P.imageCollections,this.images=P.images,this.layers=P.layers,this.tiles=P.tiles,this.tilesets=P.tilesets,this.objects=P.objects,this.currentLayerIndex=0,this.hexSideLength=P.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(w),WorldToTileX:v.GetWorldToTileXFunction(w),WorldToTileY:v.GetWorldToTileYFunction(w),TileToWorldXY:v.GetTileToWorldXYFunction(w),TileToWorldX:v.GetTileToWorldXFunction(w),TileToWorldY:v.GetTileToWorldYFunction(w),GetTileCorners:v.GetTileCornersFunction(w)}},setRenderOrder:function(E){var A=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=A[E]),A.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,A,P,w,M,D,F,L){if(E===void 0)return null;A==null&&(A=E);var O=this.scene.sys.textures;if(!O.exists(A))return console.warn('Texture key "%s" not found',A),null;var B=O.get(A),U=this.getTilesetIndex(E);if(U===null&&this.format===a.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',E,this.tilesets),null;var W=this.tilesets[U];return W?((P||w)&&W.setTileSize(P,w),(M||D)&&W.setSpacing(M,D),W.setImage(B),W):(P===void 0&&(P=this.tileWidth),w===void 0&&(w=this.tileHeight),M===void 0&&(M=0),D===void 0&&(D=0),F===void 0&&(F=0),L===void 0&&(L={x:0,y:0}),W=new y(E,F,P,w,M,D,void 0,void 0,L),W.setImage(B),this.tilesets.push(W),this.tiles=h(this),W)},copy:function(E,A,P,w,M,D,F,L){return L=this.getLayer(L),L!==null?(v.Copy(E,A,P,w,M,D,F,L),this):null},createBlankLayer:function(E,A,P,w,M,D,F,L){P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=this.width),D===void 0&&(D=this.height),F===void 0&&(F=this.tileWidth),L===void 0&&(L=this.tileHeight);var O=this.getLayerIndex(E);if(O!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var B=new e({name:E,tileWidth:F,tileHeight:L,width:M,height:D,orientation:this.orientation,hexSideLength:this.hexSideLength}),U,W=0;W<D;W++){U=[];for(var H=0;H<M;H++)U.push(new d(B,-1,H,W,F,L,this.tileWidth,this.tileHeight));B.data.push(U)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var Y=new g(this.scene,this,this.currentLayerIndex,A,P,w);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(E,A,P,w){var M=this.getLayerIndex(E);if(M===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[M];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=M,P===void 0&&(P=D.x),w===void 0&&(w=D.y);var F=new g(this.scene,this,M,A,P,w);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(E,A,P){P===void 0&&(P=!0);var w=[],M=this.getObjectLayer(E);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),w;var D=new n(P?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var F=M.objects,L=0;L<A.length;L++){var O=A[L],B=r(O,"id",null),U=r(O,"gid",null),W=r(O,"name",null),H=r(O,"type",null);D.enabled=!r(O,"ignoreTileset",null);for(var Y,G=[],X=0;X<F.length;X++)Y=F[X],(B===null&&U===null&&W===null&&H===null||B!==null&&Y.id===B||U!==null&&Y.gid===U||W!==null&&Y.name===W||H!==null&&D.getTypeIncludingTile(Y)===H)&&G.push(Y);for(var V=r(O,"classType",f),b=r(O,"scene",this.scene),z=r(O,"container",null),$=r(O,"key",null),Q=r(O,"frame",null),Z=0;Z<G.length;Z++){Y=G[Z];var q=new V(b);if(q.setName(Y.name),q.setPosition(Y.x,Y.y),D.setTextureAndFrame(q,$,Q,Y),Y.width&&(q.displayWidth=Y.width),Y.height&&(q.displayHeight=Y.height),this.orientation===l.ISOMETRIC){var j=this.tileWidth/this.tileHeight,k={x:q.x-q.y,y:(q.x+q.y)/j};q.x=k.x,q.y=k.y}var _={x:q.originX*Y.width,y:(q.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var et=o(Y.rotation);s(_,et),q.rotation=et}q.x+=_.x,q.y+=_.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&q.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(q.visible=!1),D.setPropertiesFromTiledObject(q,Y),z?z.add(q):b.add.existing(q),w.push(q)}}return w},createFromTiles:function(E,A,P,w,M,D){return D=this.getLayer(D),D===null?null:v.CreateFromTiles(E,A,P,w,M,D)},fill:function(E,A,P,w,M,D,F){return D===void 0&&(D=!0),F=this.getLayer(F),F===null?null:(v.Fill(E,A,P,w,M,D,F),this)},filterObjects:function(E,A,P){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.filter(A,P)},filterTiles:function(E,A,P,w,M,D,F,L){return L=this.getLayer(L),L===null?null:v.FilterTiles(E,A,P,w,M,D,F,L)},findByIndex:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.FindByIndex(E,A,P,w)},findObject:function(E,A,P){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.find(A,P)||null},findTile:function(E,A,P,w,M,D,F,L){return L=this.getLayer(L),L===null?null:v.FindTile(E,A,P,w,M,D,F,L)},forEachTile:function(E,A,P,w,M,D,F,L){return L=this.getLayer(L),L===null?null:(v.ForEachTile(E,A,P,w,M,D,F,L),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,A){for(var P=0;P<E.length;P++)if(E[P].name===A)return P;return null},getLayer:function(E){var A=this.getLayerIndex(E);return A!==null?this.layers[A]:null},getObjectLayer:function(E){var A=this.getIndex(this.objects,E);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof g&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.GetTileAt(E,A,P,w)},getTileAtWorldXY:function(E,A,P,w,M){return M=this.getLayer(M),M===null?null:v.GetTileAtWorldXY(E,A,P,w,M)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,A,P,w,M,D){return D=this.getLayer(D),D===null?null:v.GetTilesWithin(E,A,P,w,M,D)},getTilesWithinShape:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.GetTilesWithinShape(E,A,P,w)},getTilesWithinWorldXY:function(E,A,P,w,M,D,F){return F=this.getLayer(F),F===null?null:v.GetTilesWithinWorldXY(E,A,P,w,M,D,F)},getTileset:function(E){var A=this.getIndex(this.tilesets,E);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,A,P){return P=this.getLayer(P),P===null?null:v.HasTileAt(E,A,P)},hasTileAtWorldXY:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.HasTileAtWorldXY(E,A,P,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,A,P,w,M){return w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:v.PutTileAt(E,A,P,w,M)},putTileAtWorldXY:function(E,A,P,w,M,D){return w===void 0&&(w=!0),D=this.getLayer(D),D===null?null:v.PutTileAtWorldXY(E,A,P,w,M,D)},putTilesAt:function(E,A,P,w,M){return w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:(v.PutTilesAt(E,A,P,w,M),this)},randomize:function(E,A,P,w,M,D){return D=this.getLayer(D),D===null?null:(v.Randomize(E,A,P,w,M,D),this)},calculateFacesAt:function(E,A,P){return P=this.getLayer(P),P===null?null:(v.CalculateFacesAt(E,A,P),this)},calculateFacesWithin:function(E,A,P,w,M){return M=this.getLayer(M),M===null?null:(v.CalculateFacesWithin(E,A,P,w,M),this)},removeLayer:function(E){var A=this.getLayerIndex(E);if(A!==null){u(this.layers,A);for(var P=A;P<this.layers.length;P++)this.layers[P].tilemapLayer&&this.layers[P].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var A=this.getLayerIndex(E);return A!==null?(E=this.layers[A],E.tilemapLayer.destroy(),u(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,A=0;A<E.length;A++)E[A].tilemapLayer&&E[A].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,A,P){A===void 0&&(A=-1),P===void 0&&(P=!0);var w=[];Array.isArray(E)||(E=[E]);for(var M=0;M<E.length;M++){var D=E[M];w.push(this.removeTileAt(D.x,D.y,!0,P,D.tilemapLayer)),A>-1&&this.putTileAt(A,D.x,D.y,P,D.tilemapLayer)}return w},removeTileAt:function(E,A,P,w,M){return P===void 0&&(P=!0),w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:v.RemoveTileAt(E,A,P,w,M)},removeTileAtWorldXY:function(E,A,P,w,M,D){return P===void 0&&(P=!0),w===void 0&&(w=!0),D=this.getLayer(D),D===null?null:v.RemoveTileAtWorldXY(E,A,P,w,M,D)},renderDebug:function(E,A,P){return P=this.getLayer(P),P===null?null:(this.orientation===l.ORTHOGONAL&&v.RenderDebug(E,A,P),this)},renderDebugFull:function(E,A){for(var P=this.layers,w=0;w<P.length;w++)v.RenderDebug(E,A,P[w]);return this},replaceByIndex:function(E,A,P,w,M,D,F){return F=this.getLayer(F),F===null?null:(v.ReplaceByIndex(E,A,P,w,M,D,F),this)},setCollision:function(E,A,P,w,M){return A===void 0&&(A=!0),P===void 0&&(P=!0),M===void 0&&(M=!0),w=this.getLayer(w),w===null?null:(v.SetCollision(E,A,P,w,M),this)},setCollisionBetween:function(E,A,P,w,M){return P===void 0&&(P=!0),w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:(v.SetCollisionBetween(E,A,P,w,M),this)},setCollisionByProperty:function(E,A,P,w){return A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByProperty(E,A,P,w),this)},setCollisionByExclusion:function(E,A,P,w){return A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByExclusion(E,A,P,w),this)},setCollisionFromCollisionGroup:function(E,A,P){return E===void 0&&(E=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(v.SetCollisionFromCollisionGroup(E,A,P),this)},setTileIndexCallback:function(E,A,P,w){return w=this.getLayer(w),w===null?null:(v.SetTileIndexCallback(E,A,P,w),this)},setTileLocationCallback:function(E,A,P,w,M,D,F){return F=this.getLayer(F),F===null?null:(v.SetTileLocationCallback(E,A,P,w,M,D,F),this)},setLayer:function(E){var A=this.getLayerIndex(E);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(E,A){this.tileWidth=E,this.tileHeight=A,this.widthInPixels=this.width*E,this.heightInPixels=this.height*A;for(var P=0;P<this.layers.length;P++){this.layers[P].baseTileWidth=E,this.layers[P].baseTileHeight=A;for(var w=this.layers[P].data,M=this.layers[P].width,D=this.layers[P].height,F=0;F<D;F++)for(var L=0;L<M;L++){var O=w[F][L];O!==null&&O.setSize(void 0,void 0,E,A)}}return this},setLayerTileSize:function(E,A,P){if(P=this.getLayer(P),P===null)return this;P.tileWidth=E,P.tileHeight=A;for(var w=P.data,M=P.width,D=P.height,F=0;F<D;F++)for(var L=0;L<M;L++){var O=w[F][L];O!==null&&O.setSize(E,A)}return this},shuffle:function(E,A,P,w,M){return M=this.getLayer(M),M===null?null:(v.Shuffle(E,A,P,w,M),this)},swapByIndex:function(E,A,P,w,M,D,F){return F=this.getLayer(F),F===null?null:(v.SwapByIndex(E,A,P,w,M,D,F),this)},tileToWorldX:function(E,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldX(E,A,P)},tileToWorldY:function(E,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldY(E,A,P)},tileToWorldXY:function(E,A,P,w,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldXY(E,A,P,w,M)},getTileCorners:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(E,A,P,w)},weightedRandomize:function(E,A,P,w,M,D){return D=this.getLayer(D),D===null?null:(v.WeightedRandomize(A,P,w,M,E,D),this)},worldToTileX:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(E,A,P,w)},worldToTileY:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(E,A,P,w)},worldToTileXY:function(E,A,P,w,M,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(E,A,P,w,M,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=T},45939:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),m=t(31989);h.register("tilemap",function(o){var a=o!==void 0?o:{};return m(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},46029:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),m=t(31989);h.register("tilemap",function(o,a,r,e,n,l,s){return o===null&&(o=void 0),a===null&&(a=void 0),r===null&&(r=void 0),e===null&&(e=void 0),n===null&&(n=void 0),m(this.scene,o,a,r,e,n,l,s)})},20442:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(78389),o=t(31401),a=t(95643),r=t(81086),e=t(19218),n=t(26099),l=new h({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,m,e],initialize:function(u,f,d,v,g,y){a.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=d,this.layer=f.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(g,y),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var u=[],f=[],d=this.tilemap;Array.isArray(s)||(s=[s]);for(var v=0;v<s.length;v++){var g=s[v];if(typeof g=="string"&&(g=d.getTileset(g)),g){f.push(g);for(var y=g.firstgid,T=0;T<g.total;T++)u[y+T]=g}}this.gidMap=u,this.tileset=f},setRenderOrder:function(s){var u=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=u.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,u){return r.CalculateFacesAt(s,u,this.layer),this},calculateFacesWithin:function(s,u,f,d){return r.CalculateFacesWithin(s,u,f,d,this.layer),this},createFromTiles:function(s,u,f,d,v){return r.CreateFromTiles(s,u,f,d,v,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,u,f,d,v,g,y){return r.Copy(s,u,f,d,v,g,y,this.layer),this},fill:function(s,u,f,d,v,g){return r.Fill(s,u,f,d,v,g,this.layer),this},filterTiles:function(s,u,f,d,v,g,y){return r.FilterTiles(s,u,f,d,v,g,y,this.layer)},findByIndex:function(s,u,f){return r.FindByIndex(s,u,f,this.layer)},findTile:function(s,u,f,d,v,g,y){return r.FindTile(s,u,f,d,v,g,y,this.layer)},forEachTile:function(s,u,f,d,v,g,y){return r.ForEachTile(s,u,f,d,v,g,y,this.layer),this},setTint:function(s,u,f,d,v,g){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!1};return this.forEachTile(y,this,u,f,d,v,g)},setTintFill:function(s,u,f,d,v,g){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!0};return this.forEachTile(y,this,u,f,d,v,g)},getTileAt:function(s,u,f){return r.GetTileAt(s,u,f,this.layer)},getTileAtWorldXY:function(s,u,f,d){return r.GetTileAtWorldXY(s,u,f,d,this.layer)},getIsoTileAtWorldXY:function(s,u,f,d,v){f===void 0&&(f=!0);var g=this.tempVec;return r.IsometricWorldToTileXY(s,u,!0,g,v,this.layer,f),this.getTileAt(g.x,g.y,d)},getTilesWithin:function(s,u,f,d,v){return r.GetTilesWithin(s,u,f,d,v,this.layer)},getTilesWithinShape:function(s,u,f){return r.GetTilesWithinShape(s,u,f,this.layer)},getTilesWithinWorldXY:function(s,u,f,d,v,g){return r.GetTilesWithinWorldXY(s,u,f,d,v,g,this.layer)},hasTileAt:function(s,u){return r.HasTileAt(s,u,this.layer)},hasTileAtWorldXY:function(s,u,f){return r.HasTileAtWorldXY(s,u,f,this.layer)},putTileAt:function(s,u,f,d){return r.PutTileAt(s,u,f,d,this.layer)},putTileAtWorldXY:function(s,u,f,d,v){return r.PutTileAtWorldXY(s,u,f,d,v,this.layer)},putTilesAt:function(s,u,f,d){return r.PutTilesAt(s,u,f,d,this.layer),this},randomize:function(s,u,f,d,v){return r.Randomize(s,u,f,d,v,this.layer),this},removeTileAt:function(s,u,f,d){return r.RemoveTileAt(s,u,f,d,this.layer)},removeTileAtWorldXY:function(s,u,f,d,v){return r.RemoveTileAtWorldXY(s,u,f,d,v,this.layer)},renderDebug:function(s,u){return r.RenderDebug(s,u,this.layer),this},replaceByIndex:function(s,u,f,d,v,g){return r.ReplaceByIndex(s,u,f,d,v,g,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=1),this.cullPaddingX=s,this.cullPaddingY=u,this},setCollision:function(s,u,f,d){return r.SetCollision(s,u,f,this.layer,d),this},setCollisionBetween:function(s,u,f,d){return r.SetCollisionBetween(s,u,f,d,this.layer),this},setCollisionByProperty:function(s,u,f){return r.SetCollisionByProperty(s,u,f,this.layer),this},setCollisionByExclusion:function(s,u,f){return r.SetCollisionByExclusion(s,u,f,this.layer),this},setCollisionFromCollisionGroup:function(s,u){return r.SetCollisionFromCollisionGroup(s,u,this.layer),this},setTileIndexCallback:function(s,u,f){return r.SetTileIndexCallback(s,u,f,this.layer),this},setTileLocationCallback:function(s,u,f,d,v,g){return r.SetTileLocationCallback(s,u,f,d,v,g,this.layer),this},shuffle:function(s,u,f,d){return r.Shuffle(s,u,f,d,this.layer),this},swapByIndex:function(s,u,f,d,v,g){return r.SwapByIndex(s,u,f,d,v,g,this.layer),this},tileToWorldX:function(s,u){return this.tilemap.tileToWorldX(s,u,this)},tileToWorldY:function(s,u){return this.tilemap.tileToWorldY(s,u,this)},tileToWorldXY:function(s,u,f,d){return this.tilemap.tileToWorldXY(s,u,f,d,this)},getTileCorners:function(s,u,f){return this.tilemap.getTileCorners(s,u,f,this)},weightedRandomize:function(s,u,f,d,v){return r.WeightedRandomize(u,f,d,v,s,this.layer),this},worldToTileX:function(s,u,f){return this.tilemap.worldToTileX(s,u,f,this)},worldToTileY:function(s,u,f){return this.tilemap.worldToTileY(s,u,f,this)},worldToTileXY:function(s,u,f,d,v){return this.tilemap.worldToTileXY(s,u,f,d,v,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});c.exports=l},16153:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),m=new h,o=new h,a=new h,r=function(e,n,l,s){var u=n.cull(l),f=u.length,d=l.alpha*n.alpha;if(!(f===0||d<=0)){var v=m,g=o,y=a;g.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),v.copyFrom(l.matrix);var T=e.currentContext,E=n.gidMap;T.save(),s?(v.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),g.e=n.x,g.f=n.y,v.multiply(g,y),y.copyToContext(T)):(g.e-=l.scrollX*n.scrollFactorX,g.f-=l.scrollY*n.scrollFactorY,g.copyToContext(T)),(!e.antialias||n.scaleX>1||n.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var A=0;A<f;A++){var P=u[A],w=E[P.index];if(w){var M=w.image.getSourceImage(),D=w.getTileTextureCoordinates(P.index),F=w.tileWidth,L=w.tileHeight;if(!(D===null||F===0||L===0)){var O=F*.5,B=L*.5;D.x+=w.tileOffset.x,D.y+=w.tileOffset.y,T.save(),T.translate(P.pixelX+O,P.pixelY+B),P.rotation!==0&&T.rotate(P.rotation),(P.flipX||P.flipY)&&T.scale(P.flipX?-1:1,P.flipY?-1:1),T.globalAlpha=d*P.alpha,T.drawImage(M,D.x,D.y,F,L,-O,-B,F,L),T.restore()}}}T.restore()}};c.exports=r},19218:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),m=h,o=h;m=t(99558),o=t(16153),c.exports={renderWebGL:m,renderCanvas:o}},99558:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),m=function(o,a,r){var e=a.cull(r),n=e.length,l=r.alpha*a.alpha;if(!(n===0||l<=0)){var s=a.gidMap,u=o.pipelines.set(a.pipeline,a),f=h.getTintAppendFloatAlpha,d=a.scrollFactorX,v=a.scrollFactorY,g=a.x,y=a.y,T=a.scaleX,E=a.scaleY;o.pipelines.preBatch(a);for(var A=0;A<n;A++){var P=e[A],w=s[P.index];if(w){var M=w.getTileTextureCoordinates(P.index),D=w.tileWidth,F=w.tileHeight;if(!(!M||D===0||F===0)){var L=D*.5,O=F*.5,B=w.glTexture,U=u.setTexture2D(B,a),W=D,H=F,Y=M.x,G=M.y,X=w.tileOffset.x,V=w.tileOffset.y,b=f(P.tint,l*P.alpha);u.batchTexture(a,B,B.width,B.height,g+P.pixelX*T+(L*T-X),y+P.pixelY*E+(O*E-V),D,F,T,E,P.rotation,P.flipX,P.flipY,d,v,L,O,Y,G,W,H,b,b,b,b,P.tintFill,0,0,r,null,!0,U,!0)}}}o.pipelines.postBatch(a)}};c.exports=m},33629:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(26099),o=new h({initialize:function(r,e,n,l,s,u,f,d,v){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f={}),d===void 0&&(d={}),this.name=r,this.firstgid=e,this.tileWidth=n,this.tileHeight=l,this.tileMargin=s,this.tileSpacing=u,this.tileProperties=f,this.tileData=d,this.tileOffset=new m,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var r=this.getTileData(a);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){this.image=a;var r=a.get(),e=a.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>e.width||r.height>e.height?this.updateTileData(r.width,r.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(a,r){return a!==void 0&&(this.tileWidth=a),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,r){return a!==void 0&&(this.tileMargin=a),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),s=Math.floor(s),this.rows=l,this.columns=s,this.total=l*s,this.texCoordinates.length=0;for(var u=this.tileMargin+e,f=this.tileMargin+n,d=0;d<this.rows;d++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:u,y:f}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});c.exports=o},72023:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),m=function(o,a,r){var e=h(o,a,!0,r),n=h(o,a-1,!0,r),l=h(o,a+1,!0,r),s=h(o-1,a,!0,r),u=h(o+1,a,!0,r),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),n&&n.collides&&(f&&(e.faceTop=!1),n.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),s&&s.collides&&(f&&(e.faceLeft=!1),s.faceRight=!f),u&&u.collides&&(f&&(e.faceRight=!1),u.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};c.exports=m},42573:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),m=t(7386),o=function(a,r,e,n,l){for(var s=null,u=null,f=null,d=null,v=m(a,r,e,n,null,l),g=0;g<v.length;g++){var y=v[g];y&&(y.collides?(s=h(y.x,y.y-1,!0,l),u=h(y.x,y.y+1,!0,l),f=h(y.x-1,y.y,!0,l),d=h(y.x+1,y.y,!0,l),y.faceTop=!(s&&s.collides),y.faceBottom=!(u&&u.collides),y.faceLeft=!(f&&f.collides),y.faceRight=!(d&&d.collides)):y.resetFaces())}};c.exports=o},33528:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=new h,o=function(a,r,e,n){var l=e.tilemapLayer,s=l.cullPaddingX,u=l.cullPaddingY,f=l.tilemap.tileToWorldXY(a,r,m,n,l);return f.x>n.worldView.x+l.scaleX*e.tileWidth*(-s-.5)&&f.x<n.worldView.right+l.scaleX*e.tileWidth*(s-.5)&&f.y>n.worldView.y+l.scaleY*e.tileHeight*(-u-1)&&f.y<n.worldView.bottom+l.scaleY*e.tileHeight*(u-.5)};c.exports=o},1785:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),m=t(7386),o=t(62991),a=t(23029),r=function(e,n,l,s,u,f,d,v){d===void 0&&(d=!0);var g=m(e,n,l,s,null,v),y=[];g.forEach(function(D){var F=new a(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);F.copy(D),y.push(F)});for(var T=u-e,E=f-n,A=0;A<y.length;A++){var P=y[A],w=P.x+T,M=P.y+E;o(w,M,v)&&v.data[M][w]&&(P.x=w,P.y=M,P.updatePixelXY(),v.data[M][w]=P)}d&&h(u-1,f-1,l+2,s+2,v),g.length=0,y.length=0};c.exports=r},78419:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),m=t(7386),o=t(27987),a=function(r,e,n,l,s,u){n||(n={}),Array.isArray(r)||(r=[r]);var f=u.tilemapLayer;l||(l=f.scene),s||(s=l.cameras.main);var d=u.width,v=u.height,g=m(0,0,d,v,null,u),y=[],T,E=function(M,D,F){for(var L=0;L<F.length;L++){var O=F[L];M.hasOwnProperty(O)||(M[O]=D[O])}};for(T=0;T<g.length;T++){var A=g[T],P=h(n);if(r.indexOf(A.index)!==-1){var w=f.tileToWorldXY(A.x,A.y,void 0,s,u);P.x=w.x,P.y=w.y,E(P,A,["rotation","flipX","flipY","alpha","visible","tint"]),P.hasOwnProperty("origin")||(P.x+=A.width*.5,P.y+=A.height*.5),P.hasOwnProperty("useSpriteSheet")&&(P.key=A.tileset.image,P.frame=A.index-1),y.push(l.make.sprite(P))}}if(Array.isArray(e))for(T=0;T<r.length;T++)o(r[T],e[T],0,0,d,v,u);else if(e!==null)for(T=0;T<r.length;T++)o(r[T],e,0,0,d,v,u);return y};c.exports=a},19545:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),m=t(63448),o=t(56583),a=new h,r=function(e,n){var l=e.tilemapLayer.tilemap,s=e.tilemapLayer,u=Math.floor(l.tileWidth*s.scaleX),f=Math.floor(l.tileHeight*s.scaleY),d=o(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,v=m(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,g=o(n.worldView.y-s.y,f,0,!0)-s.cullPaddingY,y=m(n.worldView.bottom-s.y,f,0,!0)+s.cullPaddingY;return a.setTo(d,g,v-d,y-g)};c.exports=r},30003:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19545),m=t(32483),o=function(a,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=a.tilemapLayer,s=h(a,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),m(a,s,n,e),e};c.exports=o},35137:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=t(42573),o=t(20576),a=function(r,e,n,l,s,u,f){for(var d=f.collideIndexes.indexOf(r)!==-1,v=h(e,n,l,s,null,f),g=0;g<v.length;g++)v[g].index=r,o(v[g],d);u&&m(e-1,n-1,l+2,s+2,f)};c.exports=a},40253:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=function(o,a,r,e,n,l,s,u){var f=h(r,e,n,l,s,u);return f.filter(o,a)};c.exports=m},52692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){h===void 0&&(h=0),m===void 0&&(m=!1);var a=0,r,e,n;if(m){for(e=o.height-1;e>=0;e--)for(r=o.width-1;r>=0;r--)if(n=o.data[e][r],n&&n.index===t){if(a===h)return n;a+=1}}else for(e=0;e<o.height;e++)for(r=0;r<o.width;r++)if(n=o.data[e][r],n&&n.index===t){if(a===h)return n;a+=1}return null};c.exports=S},66151:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=function(o,a,r,e,n,l,s,u){var f=h(r,e,n,l,s,u);return f.find(o,a)||null};c.exports=m},97560:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=function(o,a,r,e,n,l,s,u){var f=h(r,e,n,l,s,u);f.forEach(o,a)};c.exports=m},43305:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=t(30003),o=t(9474),a=t(14018),r=t(29747),e=t(54503),n=function(l){return l===h.ORTHOGONAL?m:l===h.HEXAGONAL?o:l===h.STAGGERED?e:l===h.ISOMETRIC?a:r};c.exports=n},7423:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),m=function(o,a,r,e){if(h(o,a,e)){var n=e.data[a][o]||null;return n?n.index===-1?r?n:null:n:null}else return null};c.exports=m},60540:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),m=t(26099),o=new m,a=function(r,e,n,l,s){return s.tilemapLayer.worldToTileXY(r,e,!0,o,l),h(o.x,o.y,n,s)};c.exports=a},55826:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e){var n=e.baseTileWidth,l=e.baseTileHeight,s=e.tilemapLayer,u=0,f=0;s&&(r||(r=s.scene.cameras.main),u=s.x+r.scrollX*(1-s.scrollFactorX),f=s.y+r.scrollY*(1-s.scrollFactorY),n*=s.scaleX,l*=s.scaleY);var d=u+o*n,v=f+a*l;return[new h(d,v),new h(d+n,v),new h(d+n,v+l),new h(d,v+l)]};c.exports=m},11758:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=t(27229),o=t(29747),a=t(55826),r=function(e){return e===h.ORTHOGONAL?a:e===h.ISOMETRIC?o:e===h.HEXAGONAL?m:(e===h.STAGGERED,o)};c.exports=r},39167:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=t(29747),o=t(97281),a=function(r){return r===h.ORTHOGONAL?o:m};c.exports=a},62e3:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=t(19951),o=t(14127),a=t(29747),r=t(97202),e=t(70326),n=function(l){return l===h.ORTHOGONAL?e:l===h.ISOMETRIC?o:l===h.HEXAGONAL?m:l===h.STAGGERED?r:a};c.exports=n},5984:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=t(29747),o=t(28054),a=t(29650),r=function(e){return e===h.ORTHOGONAL?a:e===h.STAGGERED?o:m};c.exports=r},7386:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m=function(o,a,r,e,n,l){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=l.width),e===void 0&&(e=l.height),n||(n={});var s=h(n,"isNotEmpty",!1),u=h(n,"isColliding",!1),f=h(n,"hasInterestingFace",!1);o<0&&(r+=o,o=0),a<0&&(e+=a,a=0),o+r>l.width&&(r=Math.max(l.width-o,0)),a+e>l.height&&(e=Math.max(l.height-a,0));for(var d=[],v=a;v<a+e;v++)for(var g=o;g<o+r;g++){var y=l.data[v][g];if(y!==null){if(s&&y.index===-1||u&&!y.collides||f&&!y.hasInterestingFace)continue;d.push(y)}}return d};c.exports=m},91141:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55738),m=t(7386),o=t(91865),a=t(29747),r=t(26099),e=t(91907),n=function(d,v){return o.RectangleToTriangle(v,d)},l=new r,s=new r,u=new r,f=function(d,v,g,y){if(y.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(d===void 0)return[];var T=a;d instanceof h.Circle?T=o.CircleToRectangle:d instanceof h.Rectangle?T=o.RectangleToRectangle:d instanceof h.Triangle?T=n:d instanceof h.Line&&(T=o.LineToRectangle),y.tilemapLayer.worldToTileXY(d.left,d.top,!0,s,g);var E=s.x,A=s.y;y.tilemapLayer.worldToTileXY(d.right,d.bottom,!1,u,g);var P=Math.ceil(u.x),w=Math.ceil(u.y),M=Math.max(P-E,1),D=Math.max(w-A,1),F=m(E,A,M,D,v,y),L=y.tileWidth,O=y.tileHeight;y.tilemapLayer&&(L*=y.tilemapLayer.scaleX,O*=y.tilemapLayer.scaleY);for(var B=[],U=new h.Rectangle(0,0,L,O),W=0;W<F.length;W++){var H=F[W];y.tilemapLayer.tileToWorldXY(H.x,H.y,l,g),U.x=l.x,U.y=l.y,T(d,U)&&B.push(H)}return B};c.exports=f},96523:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=t(26099),o=new m,a=new m,r=function(e,n,l,s,u,f,d){var v=d.tilemapLayer.tilemap._convert.WorldToTileXY;v(e,n,!0,o,f,d);var g=o.x,y=o.y;v(e+l,n+s,!1,a,f,d);var T=Math.ceil(a.x),E=Math.ceil(a.y);return h(g,y,T-g,E-y,u,d)};c.exports=r},96113:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=t(20242),o=t(10095),a=function(r){return r===h.ORTHOGONAL?o:m};c.exports=a},16926:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=t(86625),o=t(96897),a=t(29747),r=t(15108),e=t(85896),n=function(l){return l===h.ORTHOGONAL?e:l===h.ISOMETRIC?o:l===h.HEXAGONAL?m:l===h.STAGGERED?r:a};c.exports=n},55762:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=t(20242),o=t(51900),a=t(63288),r=function(e){return e===h.ORTHOGONAL?a:e===h.STAGGERED?o:m};c.exports=r},45091:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),m=function(o,a,r){if(h(o,a,r)){var e=r.data[a][o];return e!==null&&e.index>-1}else return!1};c.exports=m},24152:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45091),m=t(26099),o=new m,a=function(r,e,n,l){l.tilemapLayer.worldToTileXY(r,e,!0,o,n);var s=o.x,u=o.y;return h(s,u,l)};c.exports=a},90454:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),m=t(56583),o=function(a,r){var e=a.tilemapLayer.tilemap,n=a.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),s=Math.floor(e.tileHeight*n.scaleY),u=a.hexSideLength,f,d,v,g;if(a.staggerAxis==="y"){var y=(s-u)/2+u;f=m(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,d=h(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,v=m(r.worldView.y-n.y,y,0,!0)-n.cullPaddingY,g=h(r.worldView.bottom-n.y,y,0,!0)+n.cullPaddingY}else{var T=(l-u)/2+u;f=m(r.worldView.x-n.x,T,0,!0)-n.cullPaddingX,d=h(r.worldView.right-n.x,T,0,!0)+n.cullPaddingX,v=m(r.worldView.y-n.y,s,0,!0)-n.cullPaddingY,g=h(r.worldView.bottom-n.y,s,0,!0)+n.cullPaddingY}return{left:f,right:d,top:v,bottom:g}};c.exports=o},9474:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90454),m=t(32483),o=function(a,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=a.tilemapLayer,s=h(a,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),m(a,s,n,e),e};c.exports=o},27229:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19951),m=t(26099),o=new m,a=function(r,e,n,l){var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(s*=f.scaleX,u*=f.scaleY);var d=h(r,e,o,n,l),v=[],g=.5773502691896257,y,T;l.staggerAxis==="y"?(y=g*s,T=u/2):(y=s/2,T=g*u);for(var E=0;E<6;E++){var A=2*Math.PI*(.5-E)/6;v.push(new m(d.x+y*Math.cos(A),d.y+T*Math.sin(A)))}return v};c.exports=a},19951:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,d=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),d=u.y+e.scrollY*(1-u.scrollFactorY),l*=u.scaleX,s*=u.scaleY);var v=l/2,g=s/2,y,T,E=n.staggerAxis,A=n.staggerIndex;return E==="y"?(y=f+l*o+l,T=d+1.5*a*g+g,a%2===0&&(A==="odd"?y-=v:y+=v)):E==="x"&&A==="odd"&&(y=f+1.5*o*v+v,T=d+s*o+s,o%2===0&&(A==="odd"?T-=g:T+=g)),r.set(y,T)};c.exports=m},86625:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n,l){e||(e=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),a=a-(f.y+n.scrollY*(1-f.scrollFactorY)),s*=f.scaleX,u*=f.scaleY);var d=.5773502691896257,v=-.3333333333333333,g=0,y=.6666666666666666,T=s/2,E=u/2,A,P,w,M,D;l.staggerAxis==="y"?(A=(o-T)/(d*s),P=(a-E)/E,w=d*A+v*P,M=g*A+y*P):(A=(o-T)/T,P=(a-E)/(d*u),w=v*A+d*P,M=y*A+g*P),D=-w-M;var F=Math.round(w),L=Math.round(M),O=Math.round(D),B=Math.abs(F-w),U=Math.abs(L-M),W=Math.abs(O-D);B>U&&B>W?F=-L-O:U>W&&(L=-F-O);var H,Y=L;return l.staggerIndex==="odd"?H=Y%2===0?L/2+F:L/2+F-.5:H=Y%2===0?L/2+F:L/2+F+.5,e.set(H,Y)};c.exports=m},62991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t>=0&&t<m.width&&h>=0&&h<m.height};c.exports=S},14018:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33528),m=function(o,a,r,e){r===void 0&&(r=[]),e===void 0&&(e=0),r.length=0;var n=o.tilemapLayer,l=o.data,s=o.width,u=o.height,f=n.skipCull,d=0,v=s,g=0,y=u,T,E,A;if(e===0)for(E=g;E<y;E++)for(T=d;T<v;T++)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,E,o,a)||r.push(A));else if(e===1)for(E=g;E<y;E++)for(T=v;T>=d;T--)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,E,o,a)||r.push(A));else if(e===2)for(E=y;E>=g;E--)for(T=d;T<v;T++)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,E,o,a)||r.push(A));else if(e===3)for(E=y;E>=g;E--)for(T=v;T>=d;T--)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,E,o,a)||r.push(A));return n.tilesDrawn=r.length,n.tilesTotal=s*u,r};c.exports=m},14127:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,d=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),l*=u.scaleX,d=u.y+e.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=f+(o-a)*(l/2),g=d+(o+a)*(s/2);return r.set(v,g)};c.exports=m},96897:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n,l,s){e||(e=new h);var u=l.baseTileWidth,f=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),f*=d.scaleY,o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),u*=d.scaleX);var v=u/2,g=f/2;o=o-v,s||(a=a-f);var y=.5*(o/v+a/g),T=.5*(-o/v+a/g);return r&&(y=Math.floor(y),T=Math.floor(T)),e.set(y,T)};c.exports=m},71558:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),m=t(62991),o=t(72023),a=t(20576),r=function(e,n,l,s,u){if(s===void 0&&(s=!0),!m(n,l,u))return null;var f,d=u.data[l][n],v=d&&d.collides;e instanceof h?(u.data[l][n]===null&&(u.data[l][n]=new h(u,e.index,n,l,u.tileWidth,u.tileHeight)),u.data[l][n].copy(e)):(f=e,u.data[l][n]===null?u.data[l][n]=new h(u,f,n,l,u.tileWidth,u.tileHeight):u.data[l][n].index=f);var g=u.data[l][n],y=u.collideIndexes.indexOf(g.index)!==-1;if(f=e instanceof h?e.index:e,f===-1)g.width=u.tileWidth,g.height=u.tileHeight;else{var T=u.tilemapLayer.tilemap,E=T.tiles,A=E[f][2],P=T.tilesets[A];g.width=P.tileWidth,g.height=P.tileHeight}return a(g,y),s&&v!==g.collides&&o(n,l,u),g};c.exports=r},26303:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71558),m=t(26099),o=new m,a=function(r,e,n,l,s,u){return u.tilemapLayer.worldToTileXY(e,n,!0,o,s,u),h(r,o.x,o.y,l,u)};c.exports=a},14051:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),m=t(71558),o=function(a,r,e,n,l){if(n===void 0&&(n=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var s=a.length,u=a[0].length,f=0;f<s;f++)for(var d=0;d<u;d++){var v=a[f][d];m(v,r+d,e+f,!1,l)}n&&h(r-1,e-1,u+2,s+2,l)};c.exports=o},77389:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=t(26546),o=function(a,r,e,n,l,s){var u,f=h(a,r,e,n,{},s);if(!l)for(l=[],u=0;u<f.length;u++)l.indexOf(f[u].index)===-1&&l.push(f[u].index);for(u=0;u<f.length;u++)f[u].index=m(l)};c.exports=o},63557:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),m=t(62991),o=t(72023),a=function(r,e,n,l,s){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!m(r,e,s))return null;var u=s.data[e][r];if(u)s.data[e][r]=n?null:new h(s,-1,r,e,s.tileWidth,s.tileHeight);else return null;return l&&u&&u.collides&&o(r,e,s),u};c.exports=a},94178:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63557),m=t(26099),o=new m,a=function(r,e,n,l,s,u){return u.tilemapLayer.worldToTileXY(r,e,!0,o,s,u),h(o.x,o.y,n,l,u)};c.exports=a},15533:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=t(3956),o=new m(105,210,231,150),a=new m(243,134,48,200),r=new m(40,39,37,150),e=function(n,l,s){l===void 0&&(l={});var u=l.tileColor!==void 0?l.tileColor:o,f=l.collidingTileColor!==void 0?l.collidingTileColor:a,d=l.faceColor!==void 0?l.faceColor:r,v=h(0,0,s.width,s.height,null,s);n.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),n.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var g=0;g<v.length;g++){var y=v[g],T=y.tileset?y.tileset.tileOffset:{x:0,y:0},E=y.width,A=y.height,P=y.pixelX-T.x,w=y.pixelY-T.y,M=y.collides?f:u;M!==null&&(n.fillStyle(M.color,M.alpha/255),n.fillRect(P,w,E,A)),P+=1,w+=1,E-=2,A-=2,d!==null&&(n.lineStyle(1,d.color,d.alpha/255),y.faceTop&&n.lineBetween(P,w,P+E,w),y.faceRight&&n.lineBetween(P+E,w,P+E,w+A),y.faceBottom&&n.lineBetween(P,w+A,P+E,w+A),y.faceLeft&&n.lineBetween(P,w,P,w+A))}};c.exports=e},27987:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=function(o,a,r,e,n,l,s){for(var u=h(r,e,n,l,null,s),f=0;f<u.length;f++)u[f]&&u[f].index===o&&(u[f].index=a)};c.exports=m},32483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=t.data,r=t.width,e=t.height,n=t.tilemapLayer,l=Math.max(0,h.left),s=Math.min(r,h.right),u=Math.max(0,h.top),f=Math.min(e,h.bottom),d,v,g;if(m===0)for(v=u;v<f;v++)for(d=l;a[v]&&d<s;d++)g=a[v][d],!(!g||g.index===-1||!g.visible||g.alpha===0)&&o.push(g);else if(m===1)for(v=u;v<f;v++)for(d=s;a[v]&&d>=l;d--)g=a[v][d],!(!g||g.index===-1||!g.visible||g.alpha===0)&&o.push(g);else if(m===2)for(v=f;v>=u;v--)for(d=l;a[v]&&d<s;d++)g=a[v][d],!(!g||g.index===-1||!g.visible||g.alpha===0)&&o.push(g);else if(m===3)for(v=f;v>=u;v--)for(d=s;a[v]&&d>=l;d--)g=a[v][d],!(!g||g.index===-1||!g.visible||g.alpha===0)&&o.push(g);return n.tilesDrawn=o.length,n.tilesTotal=r*e,o};c.exports=S},57068:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),m=t(42573),o=t(9589),a=function(r,e,n,l,s){e===void 0&&(e=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++)o(r[u],e,l);if(s)for(var f=0;f<l.height;f++)for(var d=0;d<l.width;d++){var v=l.data[f][d];v&&r.indexOf(v.index)!==-1&&h(v,e)}n&&m(0,0,l.width,l.height,l)};c.exports=a},37266:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),m=t(42573),o=t(9589),a=function(r,e,n,l,s,u){if(n===void 0&&(n=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),!(r>e)){for(var f=r;f<=e;f++)o(f,n,s);if(u)for(var d=0;d<s.height;d++)for(var v=0;v<s.width;v++){var g=s.data[d][v];g&&g.index>=r&&g.index<=e&&h(g,n)}l&&m(0,0,s.width,s.height,s)}};c.exports=a},75661:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),m=t(42573),o=t(9589),a=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var f=l.data[s][u];f&&r.indexOf(f.index)===-1&&(h(f,e),o(f.index,e,l))}n&&m(0,0,l.width,l.height,l)};c.exports=a},64740:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),m=t(42573),o=t(97022),a=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var f=l.data[s][u];if(f){for(var d in r)if(o(f.properties,d)){var v=r[d];Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)f.properties[d]===v[g]&&h(f,e)}}}n&&m(0,0,l.width,l.height,l)};c.exports=a},63307:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),m=t(42573),o=function(a,r,e){a===void 0&&(a=!0),r===void 0&&(r=!0);for(var n=0;n<e.height;n++)for(var l=0;l<e.width;l++){var s=e.data[n][l];if(s){var u=s.getCollisionGroup();u&&u.objects&&u.objects.length>0&&h(s,a)}}r&&m(0,0,e.width,e.height,e)};c.exports=o},9589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=m.collideIndexes.indexOf(t);h&&o===-1?m.collideIndexes.push(t):!h&&o!==-1&&m.collideIndexes.splice(o,1)};c.exports=S},20576:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};c.exports=S},79583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){if(typeof t=="number")o.callbacks[t]=h!==null?{callback:h,callbackContext:m}:void 0;else for(var a=0,r=t.length;a<r;a++)o.callbacks[t[a]]=h!==null?{callback:h,callbackContext:m}:void 0};c.exports=S},93254:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=function(o,a,r,e,n,l,s){for(var u=h(o,a,r,e,null,s),f=0;f<u.length;f++)u[f].setCollisionCallback(n,l)};c.exports=m},32903:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=t(33680),o=function(a,r,e,n,l){var s=h(a,r,e,n,null,l),u=s.map(function(d){return d.index});m(u);for(var f=0;f<s.length;f++)s[f].index=u[f]};c.exports=o},61325:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),m=t(56583),o=function(a,r){var e=a.tilemapLayer.tilemap,n=a.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),s=Math.floor(e.tileHeight*n.scaleY),u=m(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,f=h(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,d=m(r.worldView.y-n.y,s/2,0,!0)-n.cullPaddingY,v=h(r.worldView.bottom-n.y,s/2,0,!0)+n.cullPaddingY;return{left:u,right:f,top:d,bottom:v}};c.exports=o},54503:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61325),m=t(32483),o=function(a,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=a.tilemapLayer,s=h(a,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),m(a,s,n,e),e};c.exports=o},97202:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,d=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),l*=u.scaleX,d=u.y+e.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=f+o*l+a%2*(l/2),g=d+a*(s/2);return r.set(v,g)};c.exports=m},28054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=m.baseTileHeight,a=m.tilemapLayer,r=0;return a&&(h===void 0&&(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleY),r+t*(o/2)+o};c.exports=S},15108:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n,l){e||(e=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),a=a-(f.y+n.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),s*=f.scaleX);var d=r?Math.floor(a/(u/2)):a/(u/2),v=r?Math.floor((o+d%2*.5*s)/s):(o+d%2*.5*s)/s;return e.set(v,d)};c.exports=m},51900:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=o.baseTileHeight,r=o.tilemapLayer;return r&&(m||(m=r.scene.cameras.main),t=t-(r.y+m.scrollY*(1-r.scrollFactorY)),a*=r.scaleY),h?Math.floor(t/(a/2)):t/(a/2)};c.exports=S},86560:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=function(o,a,r,e,n,l,s){for(var u=h(r,e,n,l,null,s),f=0;f<u.length;f++)u[f]&&(u[f].index===o?u[f].index=a:u[f].index===a&&(u[f].index=o))};c.exports=m},97281:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=m.baseTileWidth,a=m.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.x+h.scrollX*(1-a.scrollFactorX),o*=a.scaleX),r+t*o};c.exports=S},70326:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97281),m=t(29650),o=t(26099),a=function(r,e,n,l,s){return n||(n=new o(0,0)),n.x=h(r,l,s),n.y=m(e,l,s),n};c.exports=a},29650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=m.baseTileHeight,a=m.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleY),r+t*o};c.exports=S},77366:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),m=t(75508),o=function(a,r,e,n,l,s){if(l){var u,f=h(a,r,e,n,null,s),d=0;for(u=0;u<l.length;u++)d+=l[u].weight;if(!(d<=0))for(u=0;u<f.length;u++){for(var v=m.RND.frac()*d,g=0,y=-1,T=0;T<l.length;T++)if(g+=l[T].weight,v<=g){var E=l[T].index;y=Array.isArray(E)?E[Math.floor(m.RND.frac()*E.length)]:E;break}f[u].index=y}}};c.exports=o},10095:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),m=t(26099),o=new m,a=function(r,e,n,l){return h(r,0,e,o,n,l),o.x};c.exports=a},85896:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),m=function(o,a,r,e,n,l){r===void 0&&(r=!0),e||(e=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),a=a-(f.y+n.scrollY*(1-f.scrollFactorY)),s*=f.scaleX,u*=f.scaleY);var d=o/s,v=a/u;return r&&(d=Math.floor(d),v=Math.floor(v)),e.set(d,v)};c.exports=m},63288:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),m=t(26099),o=new m,a=function(r,e,n,l){return h(0,r,e,o,n,l),o.y};c.exports=a},81086:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(91907)};c.exports=h},62501:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),m=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=h(!1,o,m.ORIENTATION),c.exports=o},14977:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(91907),o=t(95540),a=new h({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","layer"),this.id=o(e,"id",0),this.x=o(e,"x",0),this.y=o(e,"y",0),this.width=o(e,"width",0),this.height=o(e,"height",0),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.baseTileWidth=o(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(e,"baseTileHeight",this.tileHeight),this.orientation=o(e,"orientation",m.ORTHOGONAL),this.widthInPixels=o(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(e,"alpha",1),this.visible=o(e,"visible",!0),this.properties=o(e,"properties",[]),this.indexes=o(e,"indexes",[]),this.collideIndexes=o(e,"collideIndexes",[]),this.callbacks=o(e,"callbacks",[]),this.bodies=o(e,"bodies",[]),this.data=o(e,"data",[]),this.tilemapLayer=o(e,"tilemapLayer",null),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});c.exports=a},87010:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(91907),o=t(95540),a=new h({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","map"),this.width=o(e,"width",0),this.height=o(e,"height",0),this.infinite=o(e,"infinite",!1),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.widthInPixels=o(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.tileHeight),this.format=o(e,"format",null),this.orientation=o(e,"orientation",m.ORTHOGONAL),this.renderOrder=o(e,"renderOrder","right-down"),this.version=o(e,"version","1"),this.properties=o(e,"properties",{}),this.layers=o(e,"layers",[]),this.images=o(e,"images",[]),this.objects=o(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(e,"collision",{}),this.tilesets=o(e,"tilesets",[]),this.imageCollections=o(e,"imageCollections",[]),this.tiles=o(e,"tiles",[]),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});c.exports=a},48700:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=new h({initialize:function(r){r===void 0&&(r={}),this.name=m(r,"name","object layer"),this.id=m(r,"id",0),this.opacity=m(r,"opacity",1),this.properties=m(r,"properties",{}),this.propertyTypes=m(r,"propertytypes",{}),this.type=m(r,"type","objectgroup"),this.visible=m(r,"visible",!0),this.objects=m(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=o},6641:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),m=function(o){return o=o.toLowerCase(),o==="isometric"?h.ISOMETRIC:o==="staggered"?h.STAGGERED:o==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};c.exports=m},46177:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),m=t(2342),o=t(82593),a=t(46594),r=t(87021),e=function(n,l,s,u,f,d){var v;switch(l){case h.ARRAY_2D:v=m(n,s,u,f,d);break;case h.CSV:v=o(n,s,u,f,d);break;case h.TILED_JSON:v=a(n,s,d);break;case h.WELTMEISTER:v=r(n,s,d);break;default:console.warn("Unrecognized tilemap data format: "+l),v=null}return v};c.exports=e},2342:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),m=t(14977),o=t(87010),a=t(23029),r=function(e,n,l,s,u){for(var f=new m({tileWidth:l,tileHeight:s}),d=new o({name:e,tileWidth:l,tileHeight:s,format:h.ARRAY_2D,layers:[f]}),v=[],g=n.length,y=0,T=0;T<n.length;T++){v[T]=[];for(var E=n[T],A=0;A<E.length;A++){var P=parseInt(E[A],10);isNaN(P)||P===-1?v[T][A]=u?null:new a(f,-1,A,T,l,s):v[T][A]=new a(f,P,A,T,l,s)}y===0&&(y=E.length)}return d.width=f.width=y,d.height=f.height=g,d.widthInPixels=f.widthInPixels=y*l,d.heightInPixels=f.heightInPixels=g*s,f.data=v,d};c.exports=r},82593:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),m=t(2342),o=function(a,r,e,n,l){var s=r.trim().split(`
`).map(function(f){return f.split(",")}),u=m(a,s,e,n,l);return u.format=h.CSV,u};c.exports=o},6656:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14977),m=t(23029),o=function(a,r){for(var e=[],n=0;n<a.layer.length;n++){for(var l=a.layer[n],s=new h({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),u=[],f=[],d=0;d<l.data.length;d++){for(var v=0;v<l.data[d].length;v++){var g=l.data[d][v]-1,y;g>-1?y=new m(s,g,v,d,l.tilesize,l.tilesize):y=r?null:new m(s,-1,v,d,l.tilesize,l.tilesize),u.push(y)}f.push(u),u=[]}s.data=f,e.push(s)}return e};c.exports=o},96483:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),m=function(o){for(var a=[],r=[],e=0;e<o.layer.length;e++){var n=o.layer[e],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),a.push(new h(l,0,n.tilesize,n.tilesize,0,0)))}return a};c.exports=m},87021:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),m=t(87010),o=t(6656),a=t(96483),r=function(e,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var s=0,u=0,f=0;f<n.layer.length;f++)n.layer[f].width>s&&(s=n.layer[f].width),n.layer[f].height>u&&(u=n.layer[f].height);var d=new m({width:s,height:u,name:e,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:h.WELTMEISTER});return d.layers=o(n,l),d.tilesets=a(n),d};c.exports=r},52833:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),m=function(o){for(var a,r,e,n,l,s=0;s<o.layers.length;s++){a=o.layers[s],n=null;for(var u=0;u<a.data.length;u++){l=a.data[u];for(var f=0;f<l.length;f++)r=l[f],!(r===null||r.index<0)&&(e=o.tiles[r.index][2],n=o.tilesets[e],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=h(r.properties,n.tileProperties[r.index-n.firstgid])))}}};c.exports=m},41868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=window.atob(t),m=h.length,o=new Array(m/4),a=0;a<m;a+=4)o[a/4]=(h.charCodeAt(a)|h.charCodeAt(a+1)<<8|h.charCodeAt(a+2)<<16|h.charCodeAt(a+3)<<24)>>>0;return o};c.exports=S},84101:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),m=function(o){var a,r,e=[];for(a=0;a<o.imageCollections.length;a++)for(var n=o.imageCollections[a],l=n.images,s=0;s<l.length;s++){var u=l[s],f={x:0,y:u.height-o.tileHeight};r=new h(u.image,u.gid,u.width,u.height,0,0,null,null,f),r.updateTileData(u.width,u.height),o.tilesets.push(r)}for(a=0;a<o.tilesets.length;a++){r=o.tilesets[a];for(var d=r.tileMargin,v=r.tileMargin,g=0,y=0,T=0,E=r.firstgid;E<r.firstgid+r.total&&(e[E]=[d,v,a],d+=r.tileWidth+r.tileSpacing,g++,!(g===r.total||(y++,y===r.columns&&(d=r.tileMargin,v+=r.tileHeight+r.tileSpacing,y=0,T++,T===r.rows))));E++);}return e};c.exports=m},79677:(c,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m=function(o,a,r){if(!a)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=a.x+h(a,"startx",0)*o.tilewidth+h(a,"offsetx",0),n=a.y+h(a,"starty",0)*o.tileheight+h(a,"offsety",0);return{i:0,layers:a.layers,name:r.name+a.name+"/",opacity:r.opacity*a.opacity,visible:r.visible&&a.visible,x:r.x+e,y:r.y+n}};c.exports=m},29920:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,h=536870912,m=function(o){var a=!!(o&S),r=!!(o&t),e=!!(o&h);o=o&536870911;var n=0,l=!1;return a&&r&&e?(n=Math.PI/2,l=!0):a&&r&&!e?(n=Math.PI,l=!1):a&&!r&&e?(n=Math.PI/2,l=!1):a&&!r&&!e?(n=0,l=!0):!a&&r&&e?(n=3*Math.PI/2,l=!1):!a&&r&&!e?(n=Math.PI,l=!0):!a&&!r&&e?(n=3*Math.PI/2,l=!0):!a&&!r&&!e&&(n=0,l=!1),{gid:o,flippedHorizontal:a,flippedVertical:r,flippedAntiDiagonal:e,rotation:n,flipped:l}};c.exports=m},12635:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m=t(79677),o=function(a){for(var r=[],e=[],n=m(a);n.i<n.layers.length||e.length>0;){if(n.i>=n.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=e.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var s=m(a,l,n);e.push(n),n=s}continue}var u=h(l,"offsetx",0)+h(l,"startx",0),f=h(l,"offsety",0)+h(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+u+l.x,y:n.y+f+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:h(l,"properties",{})})}return r};c.exports=o},46594:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51233),m=t(84101),o=t(91907),a=t(62644),r=t(80341),e=t(6641),n=t(87010),l=t(12635),s=t(22611),u=t(28200),f=t(24619),d=function(v,g,y){var T=a(g),E=new n({width:T.width,height:T.height,name:v,tileWidth:T.tilewidth,tileHeight:T.tileheight,orientation:e(T.orientation),format:r.TILED_JSON,version:T.version,properties:T.properties,renderOrder:T.renderorder,infinite:T.infinite});if(E.orientation===o.HEXAGONAL)if(E.hexSideLength=T.hexsidelength,E.staggerAxis=T.staggeraxis,E.staggerIndex=T.staggerindex,E.staggerAxis==="y"){var A=(E.tileHeight-E.hexSideLength)/2;E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+A)+A}else{var P=(E.tileWidth-E.hexSideLength)/2;E.widthInPixels=E.width*(E.hexSideLength+P)+P,E.heightInPixels=E.tileHeight*(E.height+.5)}E.layers=u(T,y),E.images=l(T);var w=f(T);return E.tilesets=w.tilesets,E.imageCollections=w.imageCollections,E.objects=s(T),E.tiles=m(E),h(E),E};c.exports=d},52205:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18254),m=t(29920),o=function(e){return{x:e.x,y:e.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(e,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var s=h(e,a);if(s.x+=n,s.y+=l,e.gid){var u=m(e.gid);s.gid=u.gid,s.flippedHorizontal=u.flippedHorizontal,s.flippedVertical=u.flippedVertical,s.flippedAntiDiagonal=u.flippedAntiDiagonal}else e.polyline?s.polyline=e.polyline.map(o):e.polygon?s.polygon=e.polygon.map(o):e.ellipse?s.ellipse=e.ellipse:e.text?s.text=e.text:e.point?s.point=!0:s.rectangle=!0;return s};c.exports=r},22611:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),m=t(52205),o=t(48700),a=t(79677),r=function(e){for(var n=[],l=[],s=a(e);s.i<s.layers.length||l.length>0;){if(s.i>=s.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=l.pop();continue}var u=s.layers[s.i];if(s.i++,u.opacity*=s.opacity,u.visible=s.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var f=a(e,u,s);l.push(s),s=f}continue}u.name=s.name+u.name;for(var d=s.x+h(u,"startx",0)+h(u,"offsetx",0),v=s.y+h(u,"starty",0)+h(u,"offsety",0),g=[],y=0;y<u.objects.length;y++){var T=m(u.objects[y],d,v);g.push(T)}var E=new o(u);E.objects=g,n.push(E)}return n};c.exports=r},28200:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41868),m=t(91907),o=t(79677),a=t(6641),r=t(95540),e=t(14977),n=t(29920),l=t(23029),s=function(u,f){for(var d=r(u,"infinite",!1),v=[],g=[],y=o(u);y.i<y.layers.length||g.length>0;){if(y.i>=y.layers.length){if(g.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}y=g.pop();continue}var T=y.layers[y.i];if(y.i++,T.type!=="tilelayer"){if(T.type==="group"){var E=o(u,T,y);g.push(y),y=E}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var A=0;A<T.chunks.length;A++)T.chunks[A].data=h(T.chunks[A].data);T.data&&(T.data=h(T.data)),delete T.encoding}var P,w,M,D,F,L,O=[],B=0;if(d){var U=r(T,"startx",0)+T.x,W=r(T,"starty",0)+T.y;P=new e({name:y.name+T.name,id:T.id,x:y.x+r(T,"offsetx",0)+U*u.tilewidth,y:y.y+r(T,"offsety",0)+W*u.tileheight,width:T.width,height:T.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:r(T,"properties",[]),orientation:a(u.orientation)}),P.orientation===m.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):(L=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var H=0;H<T.height;H++){O[H]=[null];for(var Y=0;Y<T.width;Y++)O[H][Y]=null}for(H=0,k=T.chunks.length;H<k;H++)for(var G=T.chunks[H],X=G.x-U,V=G.y-W,b=0,z=0,$=G.data.length;z<$;z++){var Q=B+X,Z=b+V;w=n(G.data[z]),w.gid>0?(M=new l(P,w.gid,Q,Z,u.tilewidth,u.tileheight),M.rotation=w.rotation,M.flipX=w.flipped,O[Z][Q]=M):(D=f?null:new l(P,-1,Q,Z,u.tilewidth,u.tileheight),O[Z][Q]=D),B++,B===G.width&&(b++,B=0)}}else{P=new e({name:y.name+T.name,id:T.id,x:y.x+r(T,"offsetx",0)+T.x,y:y.y+r(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:r(T,"properties",[]),orientation:a(u.orientation)}),P.orientation===m.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):(L=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var q=[],j=0,k=T.data.length;j<k;j++)w=n(T.data[j]),w.gid>0?(M=new l(P,w.gid,B,O.length,u.tilewidth,u.tileheight),M.rotation=w.rotation,M.flipX=w.flipped,q.push(M)):(D=f?null:new l(P,-1,B,O.length,u.tilewidth,u.tileheight),q.push(D)),B++,B===T.width&&(O.push(q),B=0,q=[])}P.data=O,v.push(P)}return v};c.exports=s},24619:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),m=t(16536),o=t(52205),a=t(57880),r=function(e){for(var n=[],l=[],s=null,u,f=0;f<e.tilesets.length;f++){var d=e.tilesets[f];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var v=new h(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(e.version>1){var g=void 0,y=void 0;if(Array.isArray(d.tiles)){g=g||{},y=y||{};for(var T=0;T<d.tiles.length;T++){var E=d.tiles[T];if(E.properties){var A={};E.properties.forEach(function(H){A[H.name]=H.value}),y[E.id]=A}if(E.objectgroup&&((g[E.id]||(g[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var P=E.objectgroup.objects.map(function(H){return o(H)});g[E.id].objectgroup.objects=P}E.animation&&((g[E.id]||(g[E.id]={})).animation=E.animation),E.type&&((g[E.id]||(g[E.id]={})).type=E.type)}}Array.isArray(d.wangsets)&&(g=g||{},y=y||{},a(d.wangsets,g)),g&&(v.tileData=g,v.tileProperties=y)}else if(d.tileproperties&&(v.tileProperties=d.tileproperties),d.tiles){v.tileData=d.tiles;for(u in v.tileData){var w=v.tileData[u].objectgroup;if(w&&w.objects){var M=w.objects.map(function(H){return o(H)});v.tileData[u].objectgroup.objects=M}}}v.updateTileData(d.imagewidth,d.imageheight),n.push(v)}else{var D=new m(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),F=0;for(T=0;T<d.tiles.length;T++){E=d.tiles[T];var L=E.image,O=parseInt(E.id,10),B=d.firstgid+O,U=E.imagewidth,W=E.imageheight;D.addImage(B,L,U,W),F=Math.max(O,F)}D.maxId=F,l.push(D)}s&&(s.lastgid=d.firstgid-1),s=d}return{tilesets:n,imageCollections:l}};c.exports=r},57880:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var m=0;m<t.length;m++){var o=t[m],a=m;if(o.name&&o.name!==""&&(a=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var r={},e={},n,l,s;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)s=1+n,l=o.edgecolors[n],l.name!==""&&(r[s]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)s=1+n,l=o.cornercolors[n],l.name!==""&&(e[s]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],s=1+n,l.name!==""&&(r[s]=e[s]=l.name);for(var u=[r,e,r,e,r,e,r,e],f=0;f<o.wangtiles.length;f++){var d=o.wangtiles[f],v=h[d.tileid]||(h[d.tileid]={});v=v.wangid||(v.wangid={});for(var g=[],y=0;y<Math.min(u.length,d.wangid.length);y++){if(l=d.wangid[y],l===0){g.push(void 0);continue}var T=u[y][l];if(T!==void 0){g.push(T);continue}g.push(l)}v[a]=g}}}};c.exports=S},96761:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(37277),o=t(44594),a=t(94880),r=t(72905),e=new h({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;if(n instanceof a){if(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new a(n);return this._pendingInsertion.push(l),l},delayedCall:function(n,l,s,u){return this.addEvent({delay:n,callback:l,args:s,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=n[l];r(this._pendingRemoval,s),r(this._pendingInsertion,s),r(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var s,u;for(s=0;s<n;s++){u=this._pendingRemoval[s];var f=this._active.indexOf(u);f>-1&&this._active.splice(f,1),u.destroy()}for(s=0;s<l;s++)u=this._pendingInsertion[s],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var s=0;s<this._active.length;s++){var u=this._active[s];if(!u.paused&&(u.elapsed+=l*u.timeScale,u.elapsed>=u.delay)){var f=u.elapsed-u.delay;if(u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0){if(u.repeatCount--,f>=u.delay)for(;f>=u.delay&&u.repeatCount>0;)u.callback&&u.callback.apply(u.callbackScope,u.args),f-=u.delay,u.repeatCount--;u.elapsed=f,u.hasDispatched=!1}else u.hasDispatched&&this._pendingRemoval.push(u)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",e,"time"),c.exports=e},96120:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50792),o=t(39429),a=t(95540),r=t(44594),e=t(89809),n=new h({Extends:m,initialize:function(s,u){m.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(r.PRE_UPDATE,this.preUpdate,this),f.on(r.UPDATE,this.update,this),f.once(r.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,s){this.paused||(this.elapsed+=s*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,s=this.events,u=!1,f=this.systems,d;for(l=0;l<s.length;l++){var v=s[l];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,d=v.target?v.target:this,v.if&&!v.if.call(d,v))continue;if(v.once&&(u=!0),v.set&&v.target)for(var g in v.set)v.target[g]=v.set[g];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(d),v.tween&&(v.tweenInstance=f.tweens.add(v.tween)),v.sound&&(typeof v.sound=="string"?f.sound.play(v.sound):f.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,d),v.run&&v.run.call(d),v.stop&&this.stop()}}if(u)for(l=0;l<s.length;l++)s[l].complete&&s[l].once&&(s.splice(l,1),l--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var s=this.events,u=0;u<s.length;u++){var f=s[u];f.complete=!1,l||(f.repeat=0),f.tweenInstance&&f.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var s=this.events,u=0;s.length>0&&(u=s[s.length-1].time);for(var f=0;f<l.length;f++){var d=l[f],v=a(d,"at",0),g=a(d,"in",null);g!==null&&(v=this.elapsed+g);var y=a(d,"from",null);y!==null&&(v=u+y),s.push({complete:!1,time:v,repeat:0,if:a(d,"if",null),run:a(d,"run",null),loop:a(d,"loop",null),event:a(d,"event",null),target:a(d,"target",null),set:a(d,"set",null),tween:a(d,"tween",null),sound:a(d,"sound",null),once:a(d,"once",!1),stop:a(d,"stop",!1)}),u=v}return this.complete=!1,this},clear:function(){for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&u.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});o.register("timeline",function(l){return new n(this.scene,l)}),c.exports=n},94880:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(95540),o=new h({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(a){if(this.delay=m(a,"delay",0),this.repeat=m(a,"repeat",0),this.loop=m(a,"loop",!1),this.callback=m(a,"callback",void 0),this.callbackScope=m(a,"callbackScope",this),this.args=m(a,"args",[]),this.timeScale=m(a,"timeScale",1),this.startAt=m(a,"startAt",0),this.paused=m(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=o},35945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},89809:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(35945)}},90291:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),m=t(83419),o=t(43491),a=t(88032),r=t(37277),e=t(44594),n=t(93109),l=t(86081),s=t(8357),u=t(43960),f=t(26012),d=new m({initialize:function(g){this.scene=g,this.events=g.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var g=[],y=0;y<v.length;y++){var T=v[y];T instanceof l||T instanceof u?g.push(T):Array.isArray(T.tweens)?g.push(f(this,T)):g.push(s(this,T))}return g.length===1?g[0]:g},add:function(v){var g=v,y=this.tweens;return g instanceof l||g instanceof u||(Array.isArray(g.tweens)?g=f(this,g):g=s(this,g)),y.push(g.reset()),g},addMultiple:function(v){for(var g,y=[],T=this.tweens,E=0;E<v.length;E++)g=v[E],g instanceof l||g instanceof u||(Array.isArray(g.tweens)?g=f(this,g):g=s(this,g)),T.push(g.reset()),y.push(g);return y},chain:function(v){var g=f(this,v);return this.tweens.push(g.init()),g},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var g=a(this,v);return this.tweens.push(g.reset()),g},stagger:function(v,g){return n(v,g)},setLagSmooth:function(v,g){return v===void 0&&(v=1/1e-8),g===void 0&&(g=0),this.maxLag=v,this.lagSkip=Math.min(g,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var g=Date.now()-this.prevTime;g>this.maxLag&&(this.startTime+=g-this.lagSkip),this.prevTime+=g;var y=this.prevTime-this.startTime,T=y-this.nextTime,E=y-this.time*1e3;return T>0||v?(y/=1e3,this.time=y,this.nextTime+=T+(T>=this.gap?4:this.gap-T)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var g=this.getDelta(v);if(!(g<=0)){this.processing=!0;var y,T,E=[],A=this.tweens;for(y=0;y<A.length;y++)T=A[y],T.update(g)&&E.push(T);var P=E.length;if(P&&A.length>0){for(y=0;y<P;y++){T=E[y];var w=A.indexOf(T);w>-1&&(T.isPendingRemove()||T.isDestroyed())&&(A.splice(w,1),T.destroy())}E.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(h(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,g){var y,T=[null];for(y=1;y<arguments.length;y++)T.push(arguments[y]);return this.tweens.forEach(function(E){T[0]=E,v.apply(g,T)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var g=[],y=this.tweens;Array.isArray(v)?v=o(v):v=[v];for(var T=v.length,E=0;E<y.length;E++)for(var A=y[E],P=0;P<T;P++)!A.isDestroyed()&&A.hasTarget(v[P])&&g.push(A);return g},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var g=this.tweens,y,T=0;T<g.length;T++)if(y=g[T],y.isPlaying()&&y.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,g=0;g<v.length;g++)v[g].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var g=this.getTweensOf(v),y=0;y<g.length;y++)g[y].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",d,"tweens"),c.exports=d},57355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t&&t.hasOwnProperty(h)?t[h]:m};c.exports=S},6113:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62640),m=t(35355),o=function(a,r){var e=h.Power0;if(typeof a=="string")if(h.hasOwnProperty(a))e=h[a];else{var n="";if(a.indexOf(".")){n=a.substring(a.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}a=m(a.substring(0,a.indexOf(".")+1)+n),h.hasOwnProperty(a)&&(e=h[a])}else typeof a=="function"&&(e=a);if(!r)return e;var s=r.slice(0);return s.unshift(0),function(u){return s[0]=u,e.apply(this,s)}};c.exports=o},91389:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89318),m=t(77259),o=t(28392),a={bezier:h,catmull:m,catmullrom:m,linear:o},r=function(e){if(e===null)return null;var n=a.linear;return typeof e=="string"?a.hasOwnProperty(e)&&(n=a[e]):typeof e=="function"&&(n=e),n};c.exports=r},55292:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o;if(t.hasOwnProperty(h)){var a=typeof t[h];a==="function"?o=function(r,e,n,l,s,u){return t[h](r,e,n,l,s,u)}:o=function(){return t[h]}}else typeof m=="function"?o=m:o=function(){return m};return o};c.exports=S},82985:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81076),m=function(o){var a,r=[];if(o.hasOwnProperty("props"))for(a in o.props)a.substring(0,1)!=="_"&&r.push({key:a,value:o.props[a]});else for(a in o)h.indexOf(a)===-1&&a.substring(0,1)!=="_"&&r.push({key:a,value:o[a]});return r};c.exports=m},62329:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),m=function(o){var a=h(o,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};c.exports=m},17777:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),m=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function a(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return a(l)||r(l)||o(l)}var n=function(l,s){var u,f=function(H,Y,G){return G},d=function(H,Y,G){return G},v=null,g=typeof s;if(g==="number")f=function(){return s};else if(Array.isArray(s))d=function(){return s[0]},f=function(){return s[s.length-1]};else if(g==="string"){var y=s.toLowerCase(),T=y.substring(0,6)==="random",E=y.substring(0,3)==="int";if(T||E){var A=y.indexOf("("),P=y.indexOf(")"),w=y.indexOf(",");if(A&&P&&w){var M=parseFloat(y.substring(A+1,w)),D=parseFloat(y.substring(w+1,P));T?f=function(){return m(M,D)}:f=function(){return h(M,D)}}else throw new Error("invalid random() format")}else{y=y[0];var F=parseFloat(s.substr(2));switch(y){case"+":f=function(H,Y,G){return G+F};break;case"-":f=function(H,Y,G){return G-F};break;case"*":f=function(H,Y,G){return G*F};break;case"/":f=function(H,Y,G){return G/F};break;default:f=function(){return parseFloat(s)}}}}else if(g==="function")f=s;else if(g==="object")if(e(s))o(s)&&(v=s.getActive),r(s)&&(f=s.getEnd),a(s)&&(d=s.getStart);else if(s.hasOwnProperty("value"))u=n(l,s.value);else{var L=s.hasOwnProperty("to"),O=s.hasOwnProperty("from"),B=s.hasOwnProperty("start");if(L&&(O||B)){if(u=n(l,s.to),B){var U=n(l,s.start);u.getActive=U.getEnd}if(O){var W=n(l,s.from);u.getStart=W.getEnd}}}return u||(u={getActive:v,getEnd:f,getStart:d}),u};c.exports=n},88032:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),m=t(69902),o=t(23568),a=t(57355),r=t(6113),e=t(95540),n=t(55292),l=t(35154),s=t(17777),u=t(269),f=t(86081),d=function(v,g,y){if(g instanceof f)return g.parent=v,g;y===void 0?y=m:y=u(m,y);var T=e(g,"from",0),E=e(g,"to",1),A=[{value:T}],P=e(g,"delay",y.delay),w=e(g,"easeParams",y.easeParams),M=e(g,"ease",y.ease),D=s("value",E),F=new f(v,A),L=F.add(0,"value",D.getEnd,D.getStart,D.getActive,r(e(g,"ease",M),e(g,"easeParams",w)),n(g,"delay",P),e(g,"duration",y.duration),a(g,"yoyo",y.yoyo),e(g,"hold",y.hold),e(g,"repeat",y.repeat),e(g,"repeatDelay",y.repeatDelay),!1,!1);L.start=T,L.current=T,F.completeDelay=o(g,"completeDelay",0),F.loop=Math.round(o(g,"loop",0)),F.loopDelay=Math.round(o(g,"loopDelay",0)),F.paused=a(g,"paused",!1),F.persist=a(g,"persist",!1),F.isNumberTween=!0,F.callbackScope=l(g,"callbackScope",F);for(var O=h.TYPES,B=0;B<O.length;B++){var U=O[B],W=l(g,U,!1);if(W){var H=l(g,U+"Params",[]);F.setCallback(U,W,H)}}return F};c.exports=d},93109:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6113),m=t(35154),o=t(36383),a=function(r,e){e===void 0&&(e={});var n,l=m(e,"start",0),s=m(e,"ease",null),u=m(e,"grid",null),f=m(e,"from",0),d=f==="first",v=f==="center",g=f==="last",y=typeof f=="number",T=Array.isArray(r),E=parseFloat(T?r[0]:r),A=T?parseFloat(r[1]):0,P=Math.max(E,A);if(T&&(l+=E),u){var w=u[0],M=u[1],D=0,F=0,L=0,O=0,B=[];g?(D=w-1,F=M-1):y?(D=f%w,F=Math.floor(f/w)):v&&(D=(w-1)/2,F=(M-1)/2);for(var U=o.MIN_SAFE_INTEGER,W=0;W<M;W++){B[W]=[];for(var H=0;H<w;H++){L=D-H,O=F-W;var Y=Math.sqrt(L*L+O*O);Y>U&&(U=Y),B[W][H]=Y}}}var G=s?h(s):null;return u?n=function(X,V,b,z){var $=0,Q=z%w,Z=Math.floor(z/w);Q>=0&&Q<w&&Z>=0&&Z<M&&($=B[Z][Q]);var q;if(T){var j=A-E;G?q=$/U*j*G($/U):q=$/U*j}else G?q=$*E*G($/U):q=$*E;return q+l}:n=function(X,V,b,z,$){$--;var Q;d?Q=z:v?Q=Math.abs($/2-z):g?Q=$-z:y&&(Q=Math.abs(f-z));var Z;if(T){var q;v?q=(A-E)/$*(Q*2):q=(A-E)/$*Q,G?Z=q*G(Q/$):Z=q}else G?Z=$*P*G(Q/$):Z=Q*E;return Z+l},n};c.exports=a},8357:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),m=t(69902),o=t(23568),a=t(57355),r=t(6113),e=t(95540),n=t(91389),l=t(55292),s=t(82985),u=t(62329),f=t(35154),d=t(17777),v=t(269),g=t(86081),y=function(T,E,A){if(E instanceof g)return E.parent=T,E;A===void 0?A=m:A=v(m,A);var P=u(E);!P&&A.targets&&(P=A.targets);for(var w=s(E),M=e(E,"delay",A.delay),D=e(E,"duration",A.duration),F=e(E,"easeParams",A.easeParams),L=e(E,"ease",A.ease),O=e(E,"hold",A.hold),B=e(E,"repeat",A.repeat),U=e(E,"repeatDelay",A.repeatDelay),W=a(E,"yoyo",A.yoyo),H=a(E,"flipX",A.flipX),Y=a(E,"flipY",A.flipY),G=e(E,"interpolation",A.interpolation),X=function(et,it,st,nt){if(st==="texture"){var ut=nt,ft=void 0;Array.isArray(nt)?(ut=nt[0],ft=nt[1]):nt.hasOwnProperty("value")?(ut=nt.value,Array.isArray(nt.value)?(ut=nt.value[0],ft=nt.value[1]):typeof nt.value=="string"&&(ut=nt.value)):typeof nt=="string"&&(ut=nt),et.addFrame(it,ut,ft,l(nt,"delay",M),e(nt,"duration",D),e(nt,"hold",O),e(nt,"repeat",B),e(nt,"repeatDelay",U),a(nt,"flipX",H),a(nt,"flipY",Y))}else{var ot=d(st,nt),rt=n(e(nt,"interpolation",G));et.add(it,st,ot.getEnd,ot.getStart,ot.getActive,r(e(nt,"ease",L),e(nt,"easeParams",F)),l(nt,"delay",M),e(nt,"duration",D),a(nt,"yoyo",W),e(nt,"hold",O),e(nt,"repeat",B),e(nt,"repeatDelay",U),a(nt,"flipX",H),a(nt,"flipY",Y),rt,rt?nt:null)}},V=new g(T,P),b=0;b<w.length;b++)for(var z=w[b].key,$=w[b].value,Q=0;Q<P.length;Q++)z==="scale"&&!P[Q].hasOwnProperty("scale")?(X(V,Q,"scaleX",$),X(V,Q,"scaleY",$)):X(V,Q,z,$);V.completeDelay=o(E,"completeDelay",0),V.loop=Math.round(o(E,"loop",0)),V.loopDelay=Math.round(o(E,"loopDelay",0)),V.paused=a(E,"paused",!1),V.persist=a(E,"persist",!1),V.callbackScope=e(E,"callbackScope",V);for(var Z=h.TYPES,q=0;q<Z.length;q++){var j=Z[q],k=f(E,j,!1);if(k){var _=f(E,j+"Params",[]);V.setCallback(j,k,_)}}return V};c.exports=y},26012:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),m=t(23568),o=t(57355),a=t(62329),r=t(35154),e=t(8357),n=t(43960),l=function(s,u){if(u instanceof n)return u.parent=s,u;var f=new n(s);f.startDelay=r(u,"delay",0),f.completeDelay=m(u,"completeDelay",0),f.loop=Math.round(m(u,"loop",r(u,"repeat",0))),f.loopDelay=Math.round(m(u,"loopDelay",r(u,"repeatDelay",0))),f.paused=o(u,"paused",!1),f.persist=o(u,"persist",!1),f.callbackScope=r(u,"callbackScope",f);var d,v=h.TYPES;for(d=0;d<v.length;d++){var g=v[d],y=r(u,g,!1);if(y){var T=r(u,g+"Params",[]);f.setCallback(g,y,T)}}var E=r(u,"tweens",null);if(Array.isArray(E)){var A=[],P=a(u),w=void 0;for(P&&(w={targets:P}),d=0;d<E.length;d++)A.push(e(f,E[d],w));f.add(A)}return f};c.exports=l},30231:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},98540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},67233:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},2859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},98336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},25764:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},32193:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},84371:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},70766:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},55659:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},842:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};c.exports=h},70402:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(50792),o=t(842),a=t(86353),r=new h({Extends:m,initialize:function(n){m.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:n,params:l}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=r},95042:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),m=t(842),o=t(86353),a=new h({initialize:function(e,n,l,s,u,f,d,v,g,y){this.tween=e,this.targetIndex=n,this.duration=s<=0?.01:s,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=u,this.hold=f,this.repeat=d,this.repeatDelay=v,this.repeatCounter=0,this.flipX=g,this.flipY=y,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,e=r.totalTargets,n=this.targetIndex,l=r.targets[n],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,s,0,n,e,r),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var u=this.duration+this.hold;this.yoyo&&(u+=this.duration);var f=u+this.repeatDelay;this.totalDuration=this.delay+u,this.repeat===-1?(this.totalDuration+=f*o.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,e,n){var l=this.tween,s=l.totalTargets,u=this.targetIndex,f=l.targets[u],d=this.key,v=d!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),v&&(e||n)&&(this.start=this.getStartValue(f,d,this.start,u,s,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(f,d,this.start,u,s,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,v&&(this.current=this.start,f[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=a},69902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=S},81076:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),m=t(83419),o=t(842),a=t(44603),r=t(39429),e=t(36383),n=t(86353),l=t(48177),s=t(42220),u=new m({Extends:h,initialize:function(d,v){h.call(this,d),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(f,d,v,g,y,T,E,A,P,w,M,D,F,L,O,B){var U=new l(this,f,d,v,g,y,T,E,A,P,w,M,D,F,L,O,B);return this.totalData=this.data.push(U),U},addFrame:function(f,d,v,g,y,T,E,A,P,w){var M=new s(this,f,d,v,g,y,T,E,A,P,w);return this.totalData=this.data.push(M),M},getValue:function(f){f===void 0&&(f=0);var d=null;return this.data&&(d=this.data[f].current),d},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,d,v){if(v===void 0&&(v=!1),f!=="texture")for(var g=0;g<this.totalData;g++){var y=this.data[g];y.key===f&&(y.isPlayingForward()||y.isPlayingBackward())&&(y.end=d,v&&(y.start=y.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,d,v){if(f===void 0&&(f=0),d===void 0&&(d=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var g=this.paused;if(this.paused=!1,f>0){for(var y=Math.floor(f/d),T=f-y*d,E=0;E<y;E++)this.update(d);T>0&&this.update(T)}return this.paused=g,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var d=this.data,v=0;v<this.totalData;v++)d[v].reset(f);this.duration=Math.max(this.duration,.01);var g=this.duration,y=this.completeDelay,T=this.loopCounter,E=this.loopDelay;T>0?this.totalDuration=g+y+(g+E)*T:this.totalDuration=g+y},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),f=0));var d=!1;if(this.isActive())for(var v=this.data,g=0;g<this.totalData;g++)v[g].update(f)&&(d=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var y=this.isPendingRemove();return y&&this.persist&&(this.setFinishedState(),y=!1),y},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,d){if(!this.isSeeking){if(this.emit(f,this,this.targets),!this.callbacks)return;var v=this.callbacks[d];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(f){return this.scene.sys.tweens.add(f)}),a.register("tween",function(f){return this.scene.sys.tweens.create(f)}),c.exports=u},43960:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),m=t(70402),o=t(83419),a=t(842),r=t(44603),e=t(39429),n=t(86353),l=new o({Extends:m,initialize:function(u){m.call(this,u),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(s){var u=this.parent.create(s);Array.isArray(u)||(u=[u]);for(var f=this.data,d=0;d<u.length;d++){var v=u[d];v.parent=this,f.push(v.reset())}return this.totalData=f.length,this},remove:function(s){return h(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var u=this.data,f=0;f<this.totalData;f++)if(u[f].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,u=this.totalData,f=0;f<u;f++)s[f].reset(!1);this.setCurrentTween(0)},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(s*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(s),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(s),!1;this.hasStarted||(this.startDelay-=s,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),s=0));var u=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),u=this.isPendingRemove(),u&&this.persist&&(this.setFinishedState(),u=!1)),u},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState()},dispatchEvent:function(s,u){this.emit(s,this);var f=this.callbacks[u];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){m.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),r.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),c.exports=l},48177:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),m=t(45319),o=t(83419),a=t(842),r=new o({Extends:h,initialize:function(n,l,s,u,f,d,v,g,y,T,E,A,P,w,M,D,F){h.call(this,n,l,g,y,T,E,A,P,w,M),this.key=s,this.getActiveValue=d,this.getEndValue=u,this.getStartValue=f,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=F},reset:function(e){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;e&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(e){var n=this.tween,l=n.totalTargets,s=this.targetIndex,u=n.targets[s],f=this.key;if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(u,f,u[f],s,l,n),this.end=this.getEndValue(u,f,this.start,s,l,n),this.current=this.start,u[f]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),v=this.isPlayingBackward();if(d||v){var g=this.elapsed,y=this.duration,T=0,E=!1;g+=e,g>=y?(T=g-y,g=y,E=!0):g<0&&(g=0);var A=m(g/y,0,1);this.elapsed=g,this.progress=A,this.previous=this.current,d||(A=1-A);var P=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,P):this.current=this.start+(this.end-this.start)*P,u[f]=this.current,E&&(d?(n.isNumberTween&&(this.current=this.end,u[f]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(n.isNumberTween&&(this.current=this.start,u[f]=this.current),this.setStateFromStart(T))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key,f=this.current,d=this.previous;l.emit(e,l,u,s,f,d);var v=l.callbacks[n];v&&v.func.apply(l.callbackScope,[l,s,u,f,d].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=r},42220:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),m=t(45319),o=t(83419),a=t(842),r=new o({Extends:h,initialize:function(n,l,s,u,f,d,v,g,y,T,E){h.call(this,n,l,f,d,!1,v,g,y,T,E),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=u,this.yoyo=g!==0},reset:function(e){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),e&&n.setTexture(this.startTexture,this.startFrame)},update:function(e){var n=this.tween,l=this.targetIndex,s=n.targets[l];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),f=this.isPlayingBackward();if(u||f){var d=this.elapsed,v=this.duration,g=0,y=!1;d+=e,d>=v?(g=d-v,d=v,y=!0):d<0&&(d=0);var T=m(d/v,0,1);this.elapsed=d,this.progress=T,y&&(u?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(g)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(g))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key;l.emit(e,l,u,s);var f=l.callbacks[n];f&&f.func.apply(l.callbackScope,[l,s,u].concat(f.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=r},86353:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=S},83419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,e,n){var l=n?r[e]:Object.getOwnPropertyDescriptor(r,e);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&S(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function h(r,e){var n=Object.getOwnPropertyDescriptor(r,e);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function m(r,e,n,l){for(var s in e)if(e.hasOwnProperty(s)){var u=t(e,s,n);if(u!==!1){var f=l||r;if(h(f.prototype,s)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,s,u)}else r.prototype[s]=e[s]}}function o(r,e){if(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)m(r,e[n].prototype||e[n])}}function a(r){r||(r={});var e,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");e=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};r.Extends?(e.prototype=Object.create(r.Extends.prototype),e.prototype.constructor=e,n=r.Extends,delete r.Extends):e.prototype.constructor=e;var s=null;return r.Mixins&&(s=r.Mixins,delete r.Mixins),o(e,s),m(e,r,!0,n),e}a.extend=m,a.mixin=o,a.ignoreFinals=!1,c.exports=a},29747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};c.exports=S},20242:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};c.exports=S},71146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a){if(a===void 0&&(a=t),m>0){var r=m-t.length;if(r<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),o&&o.call(a,h),h):null;for(var e=h.length-1;e>=0;)t.indexOf(h[e])!==-1&&h.splice(e,1),e--;if(e=h.length,e===0)return null;m>0&&e>r&&(h.splice(r),e=r);for(var n=0;n<e;n++){var l=h[n];t.push(l),o&&o.call(a,l)}return h};c.exports=S},51067:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o,a,r){if(m===void 0&&(m=0),r===void 0&&(r=t),o>0){var e=o-t.length;if(e<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(m,0,h),a&&a.call(r,h),h):null;for(var n=h.length-1;n>=0;)t.indexOf(h[n])!==-1&&h.pop(),n--;if(n=h.length,n===0)return null;o>0&&n>e&&(h.splice(e),n=e);for(var l=n-1;l>=0;l--){var s=h[l];t.splice(m,0,s),a&&a.call(r,s)}return h};c.exports=S},66905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.indexOf(h);return m!==-1&&m<t.length&&(t.splice(m,1),t.push(h)),h};c.exports=S},21612:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),m=function(o,a,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=0;if(h(o,e,n))for(var s=e;s<n;s++){var u=o[s];u[a]===r&&l++}return l};c.exports=m},95428:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o,a=[null];for(o=3;o<arguments.length;o++)a.push(arguments[o]);for(o=0;o<t.length;o++)a[0]=t[o],h.apply(m,a);return t};c.exports=S},36914:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),m=function(o,a,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),h(o,e,n)){var l,s=[null];for(l=5;l<arguments.length;l++)s.push(arguments[l]);for(l=e;l<n;l++)s[0]=o[l],a.apply(r,s)}return o};c.exports=m},81957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h.length){if(h.length===1)return h[0]}else return NaN;var o=1,a,r;if(m){if(t<h[0][m])return h[0];for(;h[o][m]<t;)o++}else for(;h[o]<t;)o++;return o>h.length&&(o=h.length),m?(a=h[o-1][m],r=h[o][m],r-t<=t-a?h[o]:h[o-1]):(a=h[o-1],r=h[o],r-t<=t-a?r:a)};c.exports=S},43491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var m=0;m<t.length;m++)Array.isArray(t[m])?S(t[m],h):h.push(t[m]);return h};c.exports=S},46710:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),m=function(o,a,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=[];if(h(o,e,n))for(var s=e;s<n;s++){var u=o[s];(!a||a&&r===void 0&&u.hasOwnProperty(a)||a&&r!==void 0&&u[a]===r)&&l.push(u)}return l};c.exports=m},58731:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),m=function(o,a,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),e!==-1){if(h(o,e,n))for(var l=e;l<n;l++){var s=o[l];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}}else if(h(o,0,n))for(var l=n;l>=0;l--){var s=o[l];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}return null};c.exports=m},26546:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=0),m===void 0&&(m=t.length);var o=h+Math.floor(Math.random()*m);return t[o]===void 0?null:t[o]};c.exports=S},85835:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===m)return t;var o=t.indexOf(h),a=t.indexOf(m);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return o>a||(t.splice(o,1),a=t.indexOf(m),t.splice(a+1,0,h)),t};c.exports=S},83371:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===m)return t;var o=t.indexOf(h),a=t.indexOf(m);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return o<a||(t.splice(o,1),a===0?t.unshift(h):t.splice(a,0,h)),t};c.exports=S},70864:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.indexOf(h);if(m>0){var o=t[m-1],a=t.indexOf(o);t[m]=o,t[a]=h}return t};c.exports=S},69693:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=t.indexOf(h);if(o===-1||m<0||m>=t.length)throw new Error("Supplied index out of bounds");return o!==m&&(t.splice(o,1),t.splice(m,0,h)),h};c.exports=S},40853:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.indexOf(h);if(m!==-1&&m<t.length-1){var o=t[m+1],a=t.indexOf(o);t[m]=o,t[a]=h}return t};c.exports=S},20283:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=[],r,e=!1;if((m||o)&&(e=!0,m||(m=""),o||(o="")),h<t)for(r=t;r>=h;r--)e?a.push(m+r.toString()+o):a.push(r);else for(r=t;r<=h;r++)e?a.push(m+r.toString()+o):a.push(r);return a};c.exports=S},593:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2284),m=function(o,a,r){o===void 0&&(o=0),a===void 0&&(a=null),r===void 0&&(r=1),a===null&&(a=o,o=0);for(var e=[],n=Math.max(h((a-o)/(r||1)),0),l=0;l<n;l++)e.push(o),o+=r;return e};c.exports=m},43886:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(m,o,a){var r=m[o];m[o]=m[a],m[a]=r}function t(m,o){return m<o?-1:m>o?1:0}var h=function(m,o,a,r,e){for(a===void 0&&(a=0),r===void 0&&(r=m.length-1),e===void 0&&(e=t);r>a;){if(r-a>600){var n=r-a+1,l=o-a+1,s=Math.log(n),u=.5*Math.exp(2*s/3),f=.5*Math.sqrt(s*u*(n-u)/n)*(l-n/2<0?-1:1),d=Math.max(a,Math.floor(o-l*u/n+f)),v=Math.min(r,Math.floor(o+(n-l)*u/n+f));h(m,o,d,v,e)}var g=m[o],y=a,T=r;for(S(m,a,o),e(m[r],g)>0&&S(m,a,r);y<T;){for(S(m,y,T),y++,T--;e(m[y],g)<0;)y++;for(;e(m[T],g)>0;)T--}e(m[a],g)===0?S(m,a,T):(T++,S(m,T,r)),T<=o&&(a=T+1),o<=T&&(r=T-1)}};c.exports=h},88492:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),m=t(33680),o=function(r,e,n){for(var l=[],s=0;s<r.length;s++)for(var u=0;u<e.length;u++)for(var f=0;f<n;f++)l.push({a:r[s],b:e[u]});return l},a=function(r,e,n){var l=h(n,"max",0),s=h(n,"qty",1),u=h(n,"random",!1),f=h(n,"randomB",!1),d=h(n,"repeat",0),v=h(n,"yoyo",!1),g=[];if(f&&m(e),d===-1)if(l===0)d=0;else{var y=r.length*e.length*s;v&&(y*=2),d=Math.ceil(l/y)}for(var T=0;T<=d;T++){var E=o(r,e,s);u&&m(E),g=g.concat(E),v&&(E.reverse(),g=g.concat(E))}return l&&g.splice(l),g};c.exports=a},72905:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),m=function(o,a,r,e){e===void 0&&(e=o);var n;if(!Array.isArray(a))return n=o.indexOf(a),n!==-1?(h(o,n),r&&r.call(e,a),a):null;for(var l=a.length-1,s=[];l>=0;){var u=a[l];n=o.indexOf(u),n!==-1&&(h(o,n),s.push(u),r&&r.call(e,u)),l--}return s};c.exports=m},60248:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),m=function(o,a,r,e){if(e===void 0&&(e=o),a<0||a>o.length-1)throw new Error("Index out of bounds");var n=h(o,a);return r&&r.call(e,n),n};c.exports=m},81409:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),m=function(o,a,r,e,n){if(a===void 0&&(a=0),r===void 0&&(r=o.length),n===void 0&&(n=o),h(o,a,r)){var l=r-a,s=o.splice(a,l);if(e)for(var u=0;u<s.length;u++){var f=s[u];e.call(n,f)}return s}else return[]};c.exports=m},31856:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),m=function(o,a,r){a===void 0&&(a=0),r===void 0&&(r=o.length);var e=a+Math.floor(Math.random()*r);return h(o,e)};c.exports=m},42169:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=t.indexOf(h),a=t.indexOf(m);return o!==-1&&a===-1?(t[o]=m,!0):!1};c.exports=S},86003:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var m=null,o=0;o<h;o++)m=t.shift(),t.push(m);return m};c.exports=S},49498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var m=null,o=0;o<h;o++)m=t.pop(),t.unshift(m);return m};c.exports=S},82011:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){var a=t.length;if(h<0||h>=a||h>=m||m>a){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=S},89545:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.indexOf(h);return m!==-1&&m>0&&(t.splice(m,1),t.unshift(h)),h};c.exports=S},17810:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),m=function(o,a,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),h(o,e,n))for(var l=e;l<n;l++){var s=o[l];s.hasOwnProperty(a)&&(s[a]=r)}return o};c.exports=m},33680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length-1;h>0;h--){var m=Math.floor(Math.random()*(h+1)),o=t[h];t[h]=t[m],t[m]=o}return t};c.exports=S},90126:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=/\D/g;return t.sort(function(m,o){return parseInt(m.replace(h,""),10)-parseInt(o.replace(h,""),10)}),t};c.exports=S},19133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){if(!(h>=t.length)){for(var m=t.length-1,o=t[h],a=h;a<m;a++)t[a]=t[a+1];return t.length=m,o}};c.exports=S},19186:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82264);function m(e,n){return String(e).localeCompare(n)}function o(e,n){var l=e.length;if(l<=1)return e;for(var s=new Array(l),u=1;u<l;u*=2){a(e,n,u,s);var f=e;e=s,s=f}return e}function a(e,n,l,s){var u=e.length,f=0,d=l*2,v,g,y,T,E;for(v=0;v<u;v+=d)for(g=v+l,y=g+l,g>u&&(g=u),y>u&&(y=u),T=v,E=g;;)if(T<g&&E<y)n(e[T],e[E])<=0?s[f++]=e[T++]:s[f++]=e[E++];else if(T<g)s[f++]=e[T++];else if(E<y)s[f++]=e[E++];else break}var r=function(e,n){if(n===void 0&&(n=m),!e||e.length<2)return e;if(h.features.stableSort)return e.sort(n);var l=o(e,n);return l!==e&&a(l,null,e.length,e),e};c.exports=r},25630:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===m)return t;var o=t.indexOf(h),a=t.indexOf(m);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return t[o]=m,t[a]=h,t};c.exports=S},37105:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,m=1;m<t.length;m++)if(t[m].length!==h)return!1;return!0};c.exports=S},63362:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41836),m=t(86922),o=function(a){var r="";if(!m(a))return r;for(var e=0;e<a.length;e++){for(var n=0;n<a[e].length;n++){var l=a[e][n].toString();l!=="undefined"?r+=h(l,2):r+="?",n<a[e].length-1&&(r+=" |")}if(e<a.length-1){r+=`
`;for(var s=0;s<a[e].length;s++)r+="---",s<a[e].length-1&&(r+="+");r+=`
`}}return r};c.exports=o},92598:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};c.exports=S},21224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};c.exports=S},98717:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),m=function(o){return h(o,180)};c.exports=m},44657:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),m=function(o,a){a===void 0&&(a=1);for(var r=0;r<a;r++)o=h(o,90);return o};c.exports=m},37829:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86922),m=t(2429),o=function(a,r){if(r===void 0&&(r=90),!h(a))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")a=m(a),a.reverse();else if(r===-90||r===270||r==="rotateRight")a.reverse(),a=m(a);else if(Math.abs(r)===180||r==="rotate180"){for(var e=0;e<a.length;e++)a[e].reverse();a.reverse()}return a};c.exports=o},92632:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),m=function(o,a){a===void 0&&(a=1);for(var r=0;r<a;r++)o=h(o,-90);return o};c.exports=m},69512:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86003),m=t(49498),o=function(a,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),e!==0&&(e<0?h(a,Math.abs(e)):m(a,e)),r!==0)for(var n=0;n<a.length;n++){var l=a[n];r<0?h(l,Math.abs(r)):m(l,r)}return a};c.exports=o},2429:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length,m=t[0].length,o=new Array(m),a=0;a<m;a++){o[a]=new Array(h);for(var r=h-1;r>-1;r--)o[a][r]=t[r][a]}return o};c.exports=S},54915:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,m){for(var o=new Uint8Array(h),a=o.length,r=m?"data:"+m+";base64,":"",e=0;e<a;e+=3)r+=S[o[e]>>2],r+=S[(o[e]&3)<<4|o[e+1]>>4],r+=S[(o[e+1]&15)<<2|o[e+2]>>6],r+=S[o[e+2]&63];return a%3===2?r=r.substring(0,r.length-1)+"=":a%3===1&&(r=r.substring(0,r.length-2)+"=="),r};c.exports=t},53134:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<S.length;h++)t[S.charCodeAt(h)]=h;var m=function(o){o=o.substr(o.indexOf(",")+1);var a=o.length,r=a*.75,e=0,n,l,s,u;o[a-1]==="="&&(r--,o[a-2]==="="&&r--);for(var f=new ArrayBuffer(r),d=new Uint8Array(f),v=0;v<a;v+=4)n=t[o.charCodeAt(v)],l=t[o.charCodeAt(v+1)],s=t[o.charCodeAt(v+2)],u=t[o.charCodeAt(v+3)],d[e++]=n<<2|l>>4,d[e++]=(l&15)<<4|s>>2,d[e++]=(s&3)<<6|u&63;return f};c.exports=m},65839:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={};for(var m in t)Array.isArray(t[m])?h[m]=t[m].slice(0):h[m]=t[m];return h};c.exports=S},62644:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h,m,o;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(o in t)m=t[o],h[o]=S(m);return h};c.exports=S},79291:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41212),m=function(){var o,a,r,e,n,l,s=arguments[0]||{},u=1,f=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},u=2),f===u&&(s=this,--u);u<f;u++)if((o=arguments[u])!=null)for(a in o)r=s[a],e=o[a],s!==e&&(d&&e&&(h(e)||(n=Array.isArray(e)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&h(r)?r:{},s[a]=m(d,l,e)):e!==void 0&&(s[a]=e));return s};c.exports=m},23568:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75508),m=t(35154),o=function(a,r,e){var n=m(a,r,null);if(n===null)return e;if(Array.isArray(n))return h.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return h.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return h.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};c.exports=o},95540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var o=typeof t;return!t||o==="number"||o==="string"?m:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:m};c.exports=S},82840:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),m=t(45319),o=function(a,r,e,n,l){l===void 0&&(l=e);var s=h(a,r,l);return m(s,e,n)};c.exports=o},35154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){if(!t&&!o||typeof t=="number")return m;if(t&&t.hasOwnProperty(h))return t[h];if(o&&o.hasOwnProperty(h))return o[h];if(h.indexOf(".")!==-1){for(var a=h.split("."),r=t,e=o,n=m,l=m,s=!0,u=!0,f=0;f<a.length;f++)r&&r.hasOwnProperty(a[f])?(n=r[a[f]],r=r[a[f]]):s=!1,e&&e.hasOwnProperty(a[f])?(l=e[a[f]],e=e[a[f]]):u=!1;return s?n:u?l:m}else return m};c.exports=S},69036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var m=0;m<h.length;m++)if(!t.hasOwnProperty(h[m]))return!1;return!0};c.exports=S},1985:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var m=0;m<h.length;m++)if(t.hasOwnProperty(h[m]))return!0;return!1};c.exports=S},97022:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.hasOwnProperty(h)};c.exports=S},41212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=S},46975:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),m=function(o,a){var r=h(o);for(var e in a)r.hasOwnProperty(e)||(r[e]=a[e]);return r};c.exports=m},269:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),m=function(o,a){var r=h(o);for(var e in a)r.hasOwnProperty(e)&&(r[e]=a[e]);return r};c.exports=m},18254:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97022),m=function(o,a){for(var r={},e=0;e<a.length;e++){var n=a[e];h(o,n)&&(r[n]=o[n])}return r};c.exports=m},61622:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=m,!0;if(h.indexOf(".")!==-1){for(var o=h.split("."),a=t,r=t,e=0;e<o.length;e++)if(a.hasOwnProperty(o[e]))r=a,a=a[o[e]];else return!1;return r[o[o.length-1]]=m,!0}return!1};c.exports=S},1183:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.replace(/%([0-9]+)/g,function(m,o){return h[Number(o)-1]})};c.exports=S},41836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,o){h===void 0&&(h=0),m===void 0&&(m=" "),o===void 0&&(o=3),t=t.toString();var a=0;if(h+1>=t.length)switch(o){case 1:t=new Array(h+1-t.length).join(m)+t;break;case 3:var r=Math.ceil((a=h-t.length)/2),e=a-r;t=new Array(e+1).join(m)+t+new Array(r+1).join(m);break;default:t=t+new Array(h+1-t.length).join(m);break}return t};c.exports=S},33628:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===0?t.slice(1):t.slice(0,h)+t.slice(h+1)};c.exports=S},27671:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};c.exports=S},45650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,m=t==="x"?h:h&3|8;return m.toString(16)})};c.exports=S},35355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};c.exports=S},31749:(c,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},C={};function R(c){var S=C[c];if(S!==void 0)return S.exports;var t=C[c]={exports:{}};return p[c](t,t.exports,R),t.exports}R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var I=R(85454);return I})())}(lo)),lo.exports}var ur=RE(),Fs=(x=>(x.Hiscores="hiscores",x.Profiles="profiles",x))(Fs||{}),ge=(x=>(x.Preload="preload",x.Menu="menu",x.Playing="playing",x.Paused="paused",x.GameOver="gameover",x))(ge||{}),Ul=(x=>(x.Normal="normal",x.Story="story",x.TimeTrial="time-trial",x.Battle="battle",x))(Ul||{}),Ae=(x=>(x.HpSmall="powerup/hp-small",x.HpMedium="powerup/hp-medium",x.HpLarge="powerup/hp-large",x.EnergySmall="powerup/energy-small",x.EnergyMedium="powerup/energy-medium",x.EnergyLarge="powerup/energy-large",x))(Ae||{});class wE extends ur.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}const ME=wn("client",()=>{const x=bt(window.innerWidth),i=bt(window.innerHeight),p=Dt(()=>({x:x.value/2,y:i.value/2}));return{SCREEN_WIDTH:x,SCREEN_HEIGHT:i,SCREEN_CENTER:p,setScreenSize:()=>{x.value=window.innerWidth,i.value=window.innerHeight}}}),IE=()=>{};var Sc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=function(x){const i=[];let p=0;for(let C=0;C<x.length;C++){let R=x.charCodeAt(C);R<128?i[p++]=R:R<2048?(i[p++]=R>>6|192,i[p++]=R&63|128):(R&64512)===55296&&C+1<x.length&&(x.charCodeAt(C+1)&64512)===56320?(R=65536+((R&1023)<<10)+(x.charCodeAt(++C)&1023),i[p++]=R>>18|240,i[p++]=R>>12&63|128,i[p++]=R>>6&63|128,i[p++]=R&63|128):(i[p++]=R>>12|224,i[p++]=R>>6&63|128,i[p++]=R&63|128)}return i},LE=function(x){const i=[];let p=0,C=0;for(;p<x.length;){const R=x[p++];if(R<128)i[C++]=String.fromCharCode(R);else if(R>191&&R<224){const I=x[p++];i[C++]=String.fromCharCode((R&31)<<6|I&63)}else if(R>239&&R<365){const I=x[p++],c=x[p++],S=x[p++],t=((R&7)<<18|(I&63)<<12|(c&63)<<6|S&63)-65536;i[C++]=String.fromCharCode(55296+(t>>10)),i[C++]=String.fromCharCode(56320+(t&1023))}else{const I=x[p++],c=x[p++];i[C++]=String.fromCharCode((R&15)<<12|(I&63)<<6|c&63)}}return i.join("")},Mm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(x,i){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let R=0;R<x.length;R+=3){const I=x[R],c=R+1<x.length,S=c?x[R+1]:0,t=R+2<x.length,h=t?x[R+2]:0,m=I>>2,o=(I&3)<<4|S>>4;let a=(S&15)<<2|h>>6,r=h&63;t||(r=64,c||(a=64)),C.push(p[m],p[o],p[a],p[r])}return C.join("")},encodeString(x,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(x):this.encodeByteArray(wm(x),i)},decodeString(x,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(x):LE(this.decodeStringToByteArray(x,i))},decodeStringToByteArray(x,i){this.init_();const p=i?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let R=0;R<x.length;){const I=p[x.charAt(R++)],S=R<x.length?p[x.charAt(R)]:0;++R;const h=R<x.length?p[x.charAt(R)]:64;++R;const o=R<x.length?p[x.charAt(R)]:64;if(++R,I==null||S==null||h==null||o==null)throw new FE;const a=I<<2|S>>4;if(C.push(a),h!==64){const r=S<<4&240|h>>2;if(C.push(r),o!==64){const e=h<<6&192|o;C.push(e)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}};class FE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DE=function(x){const i=wm(x);return Mm.encodeByteArray(i,!0)},Im=function(x){return DE(x).replace(/\./g,"")},Lm=function(x){try{return Mm.decodeString(x,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=()=>OE().__FIREBASE_DEFAULTS__,BE=()=>{if(typeof process>"u"||typeof Sc>"u")return;const x=Sc.__FIREBASE_DEFAULTS__;if(x)return JSON.parse(x)},bE=()=>{if(typeof document>"u")return;let x;try{x=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=x&&Lm(x[1]);return i&&JSON.parse(i)},vh=()=>{try{return IE()||NE()||BE()||bE()}catch(x){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${x}`);return}},VE=x=>{var i,p;return(p=(i=vh())===null||i===void 0?void 0:i.emulatorHosts)===null||p===void 0?void 0:p[x]},Fm=()=>{var x;return(x=vh())===null||x===void 0?void 0:x.config},Dm=x=>{var i;return(i=vh())===null||i===void 0?void 0:i[`_${x}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,p)=>{this.resolve=i,this.reject=p})}wrapCallback(i){return(p,C)=>{p?this.reject(p):this.resolve(C),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(p):i(p,C))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function zE(){var x;const i=(x=vh())===null||x===void 0?void 0:x.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WE(){const x=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof x=="object"&&x.id!==void 0}function YE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HE(){const x=ke();return x.indexOf("MSIE ")>=0||x.indexOf("Trident/")>=0}function KE(){return!zE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $E(){try{return typeof indexedDB=="object"}catch{return!1}}function QE(){return new Promise((x,i)=>{try{let p=!0;const C="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(C);R.onsuccess=()=>{R.result.close(),p||self.indexedDB.deleteDatabase(C),x(!0)},R.onupgradeneeded=()=>{p=!1},R.onerror=()=>{var I;i(((I=R.error)===null||I===void 0?void 0:I.message)||"")}}catch(p){i(p)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="FirebaseError";class ms extends Error{constructor(i,p,C){super(p),this.code=i,this.customData=C,this.name=jE,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xa.prototype.create)}}class xa{constructor(i,p,C){this.service=i,this.serviceName=p,this.errors=C}create(i,...p){const C=p[0]||{},R=`${this.service}/${i}`,I=this.errors[i],c=I?JE(I,C):"Error",S=`${this.serviceName}: ${c} (${R}).`;return new ms(R,S,C)}}function JE(x,i){return x.replace(ZE,(p,C)=>{const R=i[C];return R!=null?String(R):`<${C}?>`})}const ZE=/\{\$([^}]+)}/g;function kE(x){for(const i in x)if(Object.prototype.hasOwnProperty.call(x,i))return!1;return!0}function yn(x,i){if(x===i)return!0;const p=Object.keys(x),C=Object.keys(i);for(const R of p){if(!C.includes(R))return!1;const I=x[R],c=i[R];if(Cc(I)&&Cc(c)){if(!yn(I,c))return!1}else if(I!==c)return!1}for(const R of C)if(!p.includes(R))return!1;return!0}function Cc(x){return x!==null&&typeof x=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(x){const i=[];for(const[p,C]of Object.entries(x))Array.isArray(C)?C.forEach(R=>{i.push(encodeURIComponent(p)+"="+encodeURIComponent(R))}):i.push(encodeURIComponent(p)+"="+encodeURIComponent(C));return i.length?"&"+i.join("&"):""}function qE(x,i){const p=new _E(x,i);return p.subscribe.bind(p)}class _E{constructor(i,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then(()=>{i(this)}).catch(C=>{this.error(C)})}next(i){this.forEachObserver(p=>{p.next(i)})}error(i){this.forEachObserver(p=>{p.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,p,C){let R;if(i===void 0&&p===void 0&&C===void 0)throw new Error("Missing Observer.");tS(i,["next","error","complete"])?R=i:R={next:i,error:p,complete:C},R.next===void 0&&(R.next=dl),R.error===void 0&&(R.error=dl),R.complete===void 0&&(R.complete=dl);const I=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),I}unsubscribeOne(i){this.observers===void 0||this.observers[i]===void 0||(delete this.observers[i],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,i)}sendOne(i,p){this.task.then(()=>{if(this.observers!==void 0&&this.observers[i]!==void 0)try{p(this.observers[i])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tS(x,i){if(typeof x!="object"||x===null)return!1;for(const p of i)if(p in x&&typeof x[p]=="function")return!0;return!1}function dl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(x){return x&&x._delegate?x._delegate:x}class Tn{constructor(i,p,C){this.name=i,this.instanceFactory=p,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(i,p){this.name=i,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const p=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(p)){const C=new GE;if(this.instancesDeferred.set(p,C),this.isInitialized(p)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:p});R&&C.resolve(R)}catch{}}return this.instancesDeferred.get(p).promise}getImmediate(i){var p;const C=this.normalizeInstanceIdentifier(i==null?void 0:i.identifier),R=(p=i==null?void 0:i.optional)!==null&&p!==void 0?p:!1;if(this.isInitialized(C)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:C})}catch(I){if(R)return null;throw I}else{if(R)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(sS(i))try{this.getOrInitializeService({instanceIdentifier:ln})}catch{}for(const[p,C]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(p);try{const I=this.getOrInitializeService({instanceIdentifier:R});C.resolve(I)}catch{}}}}clearInstance(i=ln){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}async delete(){const i=Array.from(this.instances.values());await Promise.all([...i.filter(p=>"INTERNAL"in p).map(p=>p.INTERNAL.delete()),...i.filter(p=>"_delete"in p).map(p=>p._delete())])}isComponentSet(){return this.component!=null}isInitialized(i=ln){return this.instances.has(i)}getOptions(i=ln){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:p={}}=i,C=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:C,options:p});for(const[I,c]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(I);C===S&&c.resolve(R)}return R}onInit(i,p){var C;const R=this.normalizeInstanceIdentifier(p),I=(C=this.onInitCallbacks.get(R))!==null&&C!==void 0?C:new Set;I.add(i),this.onInitCallbacks.set(R,I);const c=this.instances.get(R);return c&&i(c,R),()=>{I.delete(i)}}invokeOnInitCallbacks(i,p){const C=this.onInitCallbacks.get(p);if(C)for(const R of C)try{R(i,p)}catch{}}getOrInitializeService({instanceIdentifier:i,options:p={}}){let C=this.instances.get(i);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:iS(i),options:p}),this.instances.set(i,C),this.instancesOptions.set(i,p),this.invokeOnInitCallbacks(C,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,C)}catch{}return C||null}normalizeInstanceIdentifier(i=ln){return this.component?this.component.multipleInstances?i:ln:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(x){return x===ln?void 0:x}function sS(x){return x.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const p=this.getProvider(i.name);if(p.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);p.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const p=new eS(i,this);return this.providers.set(i,p),p}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(x){x[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT"})(Yt||(Yt={}));const rS={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},aS=Yt.INFO,oS={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},hS=(x,i,...p)=>{if(i<x.logLevel)return;const C=new Date().toISOString(),R=oS[i];if(R)console[R](`[${C}]  ${x.name}:`,...p);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)};class Nu{constructor(i){this.name=i,this._logLevel=aS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in Yt))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?rS[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...i),this._logHandler(this,Yt.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...i),this._logHandler(this,Yt.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...i),this._logHandler(this,Yt.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...i),this._logHandler(this,Yt.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...i),this._logHandler(this,Yt.ERROR,...i)}}const lS=(x,i)=>i.some(p=>x instanceof p);let Ac,Pc;function uS(){return Ac||(Ac=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return Pc||(Pc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Om=new WeakMap,zl=new WeakMap,Nm=new WeakMap,cl=new WeakMap,Bu=new WeakMap;function dS(x){const i=new Promise((p,C)=>{const R=()=>{x.removeEventListener("success",I),x.removeEventListener("error",c)},I=()=>{p(Ds(x.result)),R()},c=()=>{C(x.error),R()};x.addEventListener("success",I),x.addEventListener("error",c)});return i.then(p=>{p instanceof IDBCursor&&Om.set(p,x)}).catch(()=>{}),Bu.set(i,x),i}function cS(x){if(zl.has(x))return;const i=new Promise((p,C)=>{const R=()=>{x.removeEventListener("complete",I),x.removeEventListener("error",c),x.removeEventListener("abort",c)},I=()=>{p(),R()},c=()=>{C(x.error||new DOMException("AbortError","AbortError")),R()};x.addEventListener("complete",I),x.addEventListener("error",c),x.addEventListener("abort",c)});zl.set(x,i)}let Xl={get(x,i,p){if(x instanceof IDBTransaction){if(i==="done")return zl.get(x);if(i==="objectStoreNames")return x.objectStoreNames||Nm.get(x);if(i==="store")return p.objectStoreNames[1]?void 0:p.objectStore(p.objectStoreNames[0])}return Ds(x[i])},set(x,i,p){return x[i]=p,!0},has(x,i){return x instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in x}};function vS(x){Xl=x(Xl)}function pS(x){return x===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...p){const C=x.call(vl(this),i,...p);return Nm.set(C,i.sort?i.sort():[i]),Ds(C)}:fS().includes(x)?function(...i){return x.apply(vl(this),i),Ds(Om.get(this))}:function(...i){return Ds(x.apply(vl(this),i))}}function mS(x){return typeof x=="function"?pS(x):(x instanceof IDBTransaction&&cS(x),lS(x,uS())?new Proxy(x,Xl):x)}function Ds(x){if(x instanceof IDBRequest)return dS(x);if(cl.has(x))return cl.get(x);const i=mS(x);return i!==x&&(cl.set(x,i),Bu.set(i,x)),i}const vl=x=>Bu.get(x);function gS(x,i,{blocked:p,upgrade:C,blocking:R,terminated:I}={}){const c=indexedDB.open(x,i),S=Ds(c);return C&&c.addEventListener("upgradeneeded",t=>{C(Ds(c.result),t.oldVersion,t.newVersion,Ds(c.transaction),t)}),p&&c.addEventListener("blocked",t=>p(t.oldVersion,t.newVersion,t)),S.then(t=>{I&&t.addEventListener("close",()=>I()),R&&t.addEventListener("versionchange",h=>R(h.oldVersion,h.newVersion,h))}).catch(()=>{}),S}const xS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],pl=new Map;function Rc(x,i){if(!(x instanceof IDBDatabase&&!(i in x)&&typeof i=="string"))return;if(pl.get(i))return pl.get(i);const p=i.replace(/FromIndex$/,""),C=i!==p,R=yS.includes(p);if(!(p in(C?IDBIndex:IDBObjectStore).prototype)||!(R||xS.includes(p)))return;const I=async function(c,...S){const t=this.transaction(c,R?"readwrite":"readonly");let h=t.store;return C&&(h=h.index(S.shift())),(await Promise.all([h[p](...S),R&&t.done]))[0]};return pl.set(i,I),I}vS(x=>({...x,get:(i,p,C)=>Rc(i,p)||x.get(i,p,C),has:(i,p)=>!!Rc(i,p)||x.has(i,p)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(p=>{if(ES(p)){const C=p.getImmediate();return`${C.library}/${C.version}`}else return null}).filter(p=>p).join(" ")}}function ES(x){const i=x.getComponent();return(i==null?void 0:i.type)==="VERSION"}const Wl="@firebase/app",wc="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Nu("@firebase/app"),SS="@firebase/app-compat",CS="@firebase/analytics-compat",AS="@firebase/analytics",PS="@firebase/app-check-compat",RS="@firebase/app-check",wS="@firebase/auth",MS="@firebase/auth-compat",IS="@firebase/database",LS="@firebase/data-connect",FS="@firebase/database-compat",DS="@firebase/functions",OS="@firebase/functions-compat",NS="@firebase/installations",BS="@firebase/installations-compat",bS="@firebase/messaging",VS="@firebase/messaging-compat",GS="@firebase/performance",US="@firebase/performance-compat",zS="@firebase/remote-config",XS="@firebase/remote-config-compat",WS="@firebase/storage",YS="@firebase/storage-compat",HS="@firebase/firestore",KS="@firebase/vertexai",$S="@firebase/firestore-compat",QS="firebase",jS="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="[DEFAULT]",JS={[Wl]:"fire-core",[SS]:"fire-core-compat",[AS]:"fire-analytics",[CS]:"fire-analytics-compat",[RS]:"fire-app-check",[PS]:"fire-app-check-compat",[wS]:"fire-auth",[MS]:"fire-auth-compat",[IS]:"fire-rtdb",[LS]:"fire-data-connect",[FS]:"fire-rtdb-compat",[DS]:"fire-fn",[OS]:"fire-fn-compat",[NS]:"fire-iid",[BS]:"fire-iid-compat",[bS]:"fire-fcm",[VS]:"fire-fcm-compat",[GS]:"fire-perf",[US]:"fire-perf-compat",[zS]:"fire-rc",[XS]:"fire-rc-compat",[WS]:"fire-gcs",[YS]:"fire-gcs-compat",[HS]:"fire-fst",[$S]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Map,ZS=new Map,Hl=new Map;function Mc(x,i){try{x.container.addComponent(i)}catch(p){hs.debug(`Component ${i.name} failed to register with FirebaseApp ${x.name}`,p)}}function tr(x){const i=x.name;if(Hl.has(i))return hs.debug(`There were multiple attempts to register component ${i}.`),!1;Hl.set(i,x);for(const p of Fo.values())Mc(p,x);for(const p of ZS.values())Mc(p,x);return!0}function bu(x,i){const p=x.container.getProvider("heartbeat").getImmediate({optional:!0});return p&&p.triggerHeartbeat(),x.container.getProvider(i)}function Ci(x){return x==null?!1:x.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new xa("app","Firebase",kS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(i,p,C){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=C,this.container.addComponent(new Tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=jS;function Bm(x,i={}){let p=x;typeof i!="object"&&(i={name:i});const C=Object.assign({name:Yl,automaticDataCollectionEnabled:!1},i),R=C.name;if(typeof R!="string"||!R)throw Os.create("bad-app-name",{appName:String(R)});if(p||(p=Fm()),!p)throw Os.create("no-options");const I=Fo.get(R);if(I){if(yn(p,I.options)&&yn(C,I.config))return I;throw Os.create("duplicate-app",{appName:R})}const c=new nS(R);for(const t of Hl.values())c.addComponent(t);const S=new qS(p,C,c);return Fo.set(R,S),S}function _S(x=Yl){const i=Fo.get(x);if(!i&&x===Yl&&Fm())return Bm();if(!i)throw Os.create("no-app",{appName:x});return i}function Ns(x,i,p){var C;let R=(C=JS[x])!==null&&C!==void 0?C:x;p&&(R+=`-${p}`);const I=R.match(/\s|\//),c=i.match(/\s|\//);if(I||c){const S=[`Unable to register library "${R}" with version "${i}":`];I&&S.push(`library name "${R}" contains illegal characters (whitespace or "/")`),I&&c&&S.push("and"),c&&S.push(`version name "${i}" contains illegal characters (whitespace or "/")`),hs.warn(S.join(" "));return}tr(new Tn(`${R}-version`,()=>({library:R,version:i}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-heartbeat-database",e2=1,ra="firebase-heartbeat-store";let ml=null;function bm(){return ml||(ml=gS(t2,e2,{upgrade:(x,i)=>{switch(i){case 0:try{x.createObjectStore(ra)}catch(p){console.warn(p)}}}}).catch(x=>{throw Os.create("idb-open",{originalErrorMessage:x.message})})),ml}async function i2(x){try{const p=(await bm()).transaction(ra),C=await p.objectStore(ra).get(Vm(x));return await p.done,C}catch(i){if(i instanceof ms)hs.warn(i.message);else{const p=Os.create("idb-get",{originalErrorMessage:i==null?void 0:i.message});hs.warn(p.message)}}}async function Ic(x,i){try{const C=(await bm()).transaction(ra,"readwrite");await C.objectStore(ra).put(i,Vm(x)),await C.done}catch(p){if(p instanceof ms)hs.warn(p.message);else{const C=Os.create("idb-set",{originalErrorMessage:p==null?void 0:p.message});hs.warn(C.message)}}}function Vm(x){return`${x.name}!${x.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1024,n2=30;class r2{constructor(i){this.container=i,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this._storage=new o2(p),this._heartbeatsCachePromise=this._storage.read().then(C=>(this._heartbeatsCache=C,C))}async triggerHeartbeat(){var i,p;try{const R=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),I=Lc();if(((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((p=this._heartbeatsCache)===null||p===void 0?void 0:p.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===I||this._heartbeatsCache.heartbeats.some(c=>c.date===I))return;if(this._heartbeatsCache.heartbeats.push({date:I,agent:R}),this._heartbeatsCache.heartbeats.length>n2){const c=h2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(C){hs.warn(C)}}async getHeartbeatsHeader(){var i;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const p=Lc(),{heartbeatsToSend:C,unsentEntries:R}=a2(this._heartbeatsCache.heartbeats),I=Im(JSON.stringify({version:2,heartbeats:C}));return this._heartbeatsCache.lastSentHeartbeatDate=p,R.length>0?(this._heartbeatsCache.heartbeats=R,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),I}catch(p){return hs.warn(p),""}}}function Lc(){return new Date().toISOString().substring(0,10)}function a2(x,i=s2){const p=[];let C=x.slice();for(const R of x){const I=p.find(c=>c.agent===R.agent);if(I){if(I.dates.push(R.date),Fc(p)>i){I.dates.pop();break}}else if(p.push({agent:R.agent,dates:[R.date]}),Fc(p)>i){p.pop();break}C=C.slice(1)}return{heartbeatsToSend:p,unsentEntries:C}}class o2{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $E()?QE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const p=await i2(this.app);return p!=null&&p.heartbeats?p:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(i){var p;if(await this._canUseIndexedDBPromise){const R=await this.read();return Ic(this.app,{lastSentHeartbeatDate:(p=i.lastSentHeartbeatDate)!==null&&p!==void 0?p:R.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return}async add(i){var p;if(await this._canUseIndexedDBPromise){const R=await this.read();return Ic(this.app,{lastSentHeartbeatDate:(p=i.lastSentHeartbeatDate)!==null&&p!==void 0?p:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...i.heartbeats]})}else return}}function Fc(x){return Im(JSON.stringify({version:2,heartbeats:x})).length}function h2(x){if(x.length===0)return-1;let i=0,p=x[0].date;for(let C=1;C<x.length;C++)x[C].date<p&&(p=x[C].date,i=C);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(x){tr(new Tn("platform-logger",i=>new TS(i),"PRIVATE")),tr(new Tn("heartbeat",i=>new r2(i),"PRIVATE")),Ns(Wl,wc,x),Ns(Wl,wc,"esm2017"),Ns("fire-js","")}l2("");var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,Gm;(function(){var x;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function i(y,T){function E(){}E.prototype=T.prototype,y.D=T.prototype,y.prototype=new E,y.prototype.constructor=y,y.C=function(A,P,w){for(var M=Array(arguments.length-2),D=2;D<arguments.length;D++)M[D-2]=arguments[D];return T.prototype[P].apply(A,M)}}function p(){this.blockSize=-1}function C(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}i(C,p),C.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function R(y,T,E){E||(E=0);var A=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)A[P]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(P=0;16>P;++P)A[P]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=y.g[0],E=y.g[1],P=y.g[2];var w=y.g[3],M=T+(w^E&(P^w))+A[0]+3614090360&4294967295;T=E+(M<<7&4294967295|M>>>25),M=w+(P^T&(E^P))+A[1]+3905402710&4294967295,w=T+(M<<12&4294967295|M>>>20),M=P+(E^w&(T^E))+A[2]+606105819&4294967295,P=w+(M<<17&4294967295|M>>>15),M=E+(T^P&(w^T))+A[3]+3250441966&4294967295,E=P+(M<<22&4294967295|M>>>10),M=T+(w^E&(P^w))+A[4]+4118548399&4294967295,T=E+(M<<7&4294967295|M>>>25),M=w+(P^T&(E^P))+A[5]+1200080426&4294967295,w=T+(M<<12&4294967295|M>>>20),M=P+(E^w&(T^E))+A[6]+2821735955&4294967295,P=w+(M<<17&4294967295|M>>>15),M=E+(T^P&(w^T))+A[7]+4249261313&4294967295,E=P+(M<<22&4294967295|M>>>10),M=T+(w^E&(P^w))+A[8]+1770035416&4294967295,T=E+(M<<7&4294967295|M>>>25),M=w+(P^T&(E^P))+A[9]+2336552879&4294967295,w=T+(M<<12&4294967295|M>>>20),M=P+(E^w&(T^E))+A[10]+4294925233&4294967295,P=w+(M<<17&4294967295|M>>>15),M=E+(T^P&(w^T))+A[11]+2304563134&4294967295,E=P+(M<<22&4294967295|M>>>10),M=T+(w^E&(P^w))+A[12]+1804603682&4294967295,T=E+(M<<7&4294967295|M>>>25),M=w+(P^T&(E^P))+A[13]+4254626195&4294967295,w=T+(M<<12&4294967295|M>>>20),M=P+(E^w&(T^E))+A[14]+2792965006&4294967295,P=w+(M<<17&4294967295|M>>>15),M=E+(T^P&(w^T))+A[15]+1236535329&4294967295,E=P+(M<<22&4294967295|M>>>10),M=T+(P^w&(E^P))+A[1]+4129170786&4294967295,T=E+(M<<5&4294967295|M>>>27),M=w+(E^P&(T^E))+A[6]+3225465664&4294967295,w=T+(M<<9&4294967295|M>>>23),M=P+(T^E&(w^T))+A[11]+643717713&4294967295,P=w+(M<<14&4294967295|M>>>18),M=E+(w^T&(P^w))+A[0]+3921069994&4294967295,E=P+(M<<20&4294967295|M>>>12),M=T+(P^w&(E^P))+A[5]+3593408605&4294967295,T=E+(M<<5&4294967295|M>>>27),M=w+(E^P&(T^E))+A[10]+38016083&4294967295,w=T+(M<<9&4294967295|M>>>23),M=P+(T^E&(w^T))+A[15]+3634488961&4294967295,P=w+(M<<14&4294967295|M>>>18),M=E+(w^T&(P^w))+A[4]+3889429448&4294967295,E=P+(M<<20&4294967295|M>>>12),M=T+(P^w&(E^P))+A[9]+568446438&4294967295,T=E+(M<<5&4294967295|M>>>27),M=w+(E^P&(T^E))+A[14]+3275163606&4294967295,w=T+(M<<9&4294967295|M>>>23),M=P+(T^E&(w^T))+A[3]+4107603335&4294967295,P=w+(M<<14&4294967295|M>>>18),M=E+(w^T&(P^w))+A[8]+1163531501&4294967295,E=P+(M<<20&4294967295|M>>>12),M=T+(P^w&(E^P))+A[13]+2850285829&4294967295,T=E+(M<<5&4294967295|M>>>27),M=w+(E^P&(T^E))+A[2]+4243563512&4294967295,w=T+(M<<9&4294967295|M>>>23),M=P+(T^E&(w^T))+A[7]+1735328473&4294967295,P=w+(M<<14&4294967295|M>>>18),M=E+(w^T&(P^w))+A[12]+2368359562&4294967295,E=P+(M<<20&4294967295|M>>>12),M=T+(E^P^w)+A[5]+4294588738&4294967295,T=E+(M<<4&4294967295|M>>>28),M=w+(T^E^P)+A[8]+2272392833&4294967295,w=T+(M<<11&4294967295|M>>>21),M=P+(w^T^E)+A[11]+1839030562&4294967295,P=w+(M<<16&4294967295|M>>>16),M=E+(P^w^T)+A[14]+4259657740&4294967295,E=P+(M<<23&4294967295|M>>>9),M=T+(E^P^w)+A[1]+2763975236&4294967295,T=E+(M<<4&4294967295|M>>>28),M=w+(T^E^P)+A[4]+1272893353&4294967295,w=T+(M<<11&4294967295|M>>>21),M=P+(w^T^E)+A[7]+4139469664&4294967295,P=w+(M<<16&4294967295|M>>>16),M=E+(P^w^T)+A[10]+3200236656&4294967295,E=P+(M<<23&4294967295|M>>>9),M=T+(E^P^w)+A[13]+681279174&4294967295,T=E+(M<<4&4294967295|M>>>28),M=w+(T^E^P)+A[0]+3936430074&4294967295,w=T+(M<<11&4294967295|M>>>21),M=P+(w^T^E)+A[3]+3572445317&4294967295,P=w+(M<<16&4294967295|M>>>16),M=E+(P^w^T)+A[6]+76029189&4294967295,E=P+(M<<23&4294967295|M>>>9),M=T+(E^P^w)+A[9]+3654602809&4294967295,T=E+(M<<4&4294967295|M>>>28),M=w+(T^E^P)+A[12]+3873151461&4294967295,w=T+(M<<11&4294967295|M>>>21),M=P+(w^T^E)+A[15]+530742520&4294967295,P=w+(M<<16&4294967295|M>>>16),M=E+(P^w^T)+A[2]+3299628645&4294967295,E=P+(M<<23&4294967295|M>>>9),M=T+(P^(E|~w))+A[0]+4096336452&4294967295,T=E+(M<<6&4294967295|M>>>26),M=w+(E^(T|~P))+A[7]+1126891415&4294967295,w=T+(M<<10&4294967295|M>>>22),M=P+(T^(w|~E))+A[14]+2878612391&4294967295,P=w+(M<<15&4294967295|M>>>17),M=E+(w^(P|~T))+A[5]+4237533241&4294967295,E=P+(M<<21&4294967295|M>>>11),M=T+(P^(E|~w))+A[12]+1700485571&4294967295,T=E+(M<<6&4294967295|M>>>26),M=w+(E^(T|~P))+A[3]+2399980690&4294967295,w=T+(M<<10&4294967295|M>>>22),M=P+(T^(w|~E))+A[10]+4293915773&4294967295,P=w+(M<<15&4294967295|M>>>17),M=E+(w^(P|~T))+A[1]+2240044497&4294967295,E=P+(M<<21&4294967295|M>>>11),M=T+(P^(E|~w))+A[8]+1873313359&4294967295,T=E+(M<<6&4294967295|M>>>26),M=w+(E^(T|~P))+A[15]+4264355552&4294967295,w=T+(M<<10&4294967295|M>>>22),M=P+(T^(w|~E))+A[6]+2734768916&4294967295,P=w+(M<<15&4294967295|M>>>17),M=E+(w^(P|~T))+A[13]+1309151649&4294967295,E=P+(M<<21&4294967295|M>>>11),M=T+(P^(E|~w))+A[4]+4149444226&4294967295,T=E+(M<<6&4294967295|M>>>26),M=w+(E^(T|~P))+A[11]+3174756917&4294967295,w=T+(M<<10&4294967295|M>>>22),M=P+(T^(w|~E))+A[2]+718787259&4294967295,P=w+(M<<15&4294967295|M>>>17),M=E+(w^(P|~T))+A[9]+3951481745&4294967295,y.g[0]=y.g[0]+T&4294967295,y.g[1]=y.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,y.g[2]=y.g[2]+P&4294967295,y.g[3]=y.g[3]+w&4294967295}C.prototype.u=function(y,T){T===void 0&&(T=y.length);for(var E=T-this.blockSize,A=this.B,P=this.h,w=0;w<T;){if(P==0)for(;w<=E;)R(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<T;)if(A[P++]=y.charCodeAt(w++),P==this.blockSize){R(this,A),P=0;break}}else for(;w<T;)if(A[P++]=y[w++],P==this.blockSize){R(this,A),P=0;break}}this.h=P,this.o+=T},C.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var T=1;T<y.length-8;++T)y[T]=0;var E=8*this.o;for(T=y.length-8;T<y.length;++T)y[T]=E&255,E/=256;for(this.u(y),y=Array(16),T=E=0;4>T;++T)for(var A=0;32>A;A+=8)y[E++]=this.g[T]>>>A&255;return y};function I(y,T){var E=S;return Object.prototype.hasOwnProperty.call(E,y)?E[y]:E[y]=T(y)}function c(y,T){this.h=T;for(var E=[],A=!0,P=y.length-1;0<=P;P--){var w=y[P]|0;A&&w==T||(E[P]=w,A=!1)}this.g=E}var S={};function t(y){return-128<=y&&128>y?I(y,function(T){return new c([T|0],0>T?-1:0)}):new c([y|0],0>y?-1:0)}function h(y){if(isNaN(y)||!isFinite(y))return o;if(0>y)return l(h(-y));for(var T=[],E=1,A=0;y>=E;A++)T[A]=y/E|0,E*=4294967296;return new c(T,0)}function m(y,T){if(y.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y.charAt(0)=="-")return l(m(y.substring(1),T));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(T,8)),A=o,P=0;P<y.length;P+=8){var w=Math.min(8,y.length-P),M=parseInt(y.substring(P,P+w),T);8>w?(w=h(Math.pow(T,w)),A=A.j(w).add(h(M))):(A=A.j(E),A=A.add(h(M)))}return A}var o=t(0),a=t(1),r=t(16777216);x=c.prototype,x.m=function(){if(n(this))return-l(this).m();for(var y=0,T=1,E=0;E<this.g.length;E++){var A=this.i(E);y+=(0<=A?A:4294967296+A)*T,T*=4294967296}return y},x.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(e(this))return"0";if(n(this))return"-"+l(this).toString(y);for(var T=h(Math.pow(y,6)),E=this,A="";;){var P=d(E,T).g;E=s(E,P.j(T));var w=((0<E.g.length?E.g[0]:E.h)>>>0).toString(y);if(E=P,e(E))return w+A;for(;6>w.length;)w="0"+w;A=w+A}},x.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function e(y){if(y.h!=0)return!1;for(var T=0;T<y.g.length;T++)if(y.g[T]!=0)return!1;return!0}function n(y){return y.h==-1}x.l=function(y){return y=s(this,y),n(y)?-1:e(y)?0:1};function l(y){for(var T=y.g.length,E=[],A=0;A<T;A++)E[A]=~y.g[A];return new c(E,~y.h).add(a)}x.abs=function(){return n(this)?l(this):this},x.add=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0,P=0;P<=T;P++){var w=A+(this.i(P)&65535)+(y.i(P)&65535),M=(w>>>16)+(this.i(P)>>>16)+(y.i(P)>>>16);A=M>>>16,w&=65535,M&=65535,E[P]=M<<16|w}return new c(E,E[E.length-1]&-2147483648?-1:0)};function s(y,T){return y.add(l(T))}x.j=function(y){if(e(this)||e(y))return o;if(n(this))return n(y)?l(this).j(l(y)):l(l(this).j(y));if(n(y))return l(this.j(l(y)));if(0>this.l(r)&&0>y.l(r))return h(this.m()*y.m());for(var T=this.g.length+y.g.length,E=[],A=0;A<2*T;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<y.g.length;P++){var w=this.i(A)>>>16,M=this.i(A)&65535,D=y.i(P)>>>16,F=y.i(P)&65535;E[2*A+2*P]+=M*F,u(E,2*A+2*P),E[2*A+2*P+1]+=w*F,u(E,2*A+2*P+1),E[2*A+2*P+1]+=M*D,u(E,2*A+2*P+1),E[2*A+2*P+2]+=w*D,u(E,2*A+2*P+2)}for(A=0;A<T;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=T;A<2*T;A++)E[A]=0;return new c(E,0)};function u(y,T){for(;(y[T]&65535)!=y[T];)y[T+1]+=y[T]>>>16,y[T]&=65535,T++}function f(y,T){this.g=y,this.h=T}function d(y,T){if(e(T))throw Error("division by zero");if(e(y))return new f(o,o);if(n(y))return T=d(l(y),T),new f(l(T.g),l(T.h));if(n(T))return T=d(y,l(T)),new f(l(T.g),T.h);if(30<y.g.length){if(n(y)||n(T))throw Error("slowDivide_ only works with positive integers.");for(var E=a,A=T;0>=A.l(y);)E=v(E),A=v(A);var P=g(E,1),w=g(A,1);for(A=g(A,2),E=g(E,2);!e(A);){var M=w.add(A);0>=M.l(y)&&(P=P.add(E),w=M),A=g(A,1),E=g(E,1)}return T=s(y,P.j(T)),new f(P,T)}for(P=o;0<=y.l(T);){for(E=Math.max(1,Math.floor(y.m()/T.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),w=h(E),M=w.j(T);n(M)||0<M.l(y);)E-=A,w=h(E),M=w.j(T);e(w)&&(w=a),P=P.add(w),y=s(y,M)}return new f(P,y)}x.A=function(y){return d(this,y).h},x.and=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)&y.i(A);return new c(E,this.h&y.h)},x.or=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)|y.i(A);return new c(E,this.h|y.h)},x.xor=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)^y.i(A);return new c(E,this.h^y.h)};function v(y){for(var T=y.g.length+1,E=[],A=0;A<T;A++)E[A]=y.i(A)<<1|y.i(A-1)>>>31;return new c(E,y.h)}function g(y,T){var E=T>>5;T%=32;for(var A=y.g.length-E,P=[],w=0;w<A;w++)P[w]=0<T?y.i(w+E)>>>T|y.i(w+E+1)<<32-T:y.i(w+E);return new c(P,y.h)}C.prototype.digest=C.prototype.v,C.prototype.reset=C.prototype.s,C.prototype.update=C.prototype.u,Gm=C,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=m,Bs=c}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Um,Dr,zm,uo,Kl,Xm,Wm,Ym;(function(){var x,i=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,K,J){return N==Array.prototype||N==Object.prototype||(N[K]=J.value),N};function p(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof Za=="object"&&Za];for(var K=0;K<N.length;++K){var J=N[K];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var C=p(this);function R(N,K){if(K)t:{var J=C;N=N.split(".");for(var tt=0;tt<N.length-1;tt++){var at=N[tt];if(!(at in J))break t;J=J[at]}N=N[N.length-1],tt=J[N],K=K(tt),K!=tt&&K!=null&&i(J,N,{configurable:!0,writable:!0,value:K})}}function I(N,K){N instanceof String&&(N+="");var J=0,tt=!1,at={next:function(){if(!tt&&J<N.length){var ct=J++;return{value:K(ct,N[ct]),done:!1}}return tt=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}R("Array.prototype.values",function(N){return N||function(){return I(this,function(K,J){return J})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},S=this||self;function t(N){var K=typeof N;return K=K!="object"?K:N?Array.isArray(N)?"array":K:"null",K=="array"||K=="object"&&typeof N.length=="number"}function h(N){var K=typeof N;return K=="object"&&N!=null||K=="function"}function m(N,K,J){return N.call.apply(N.bind,arguments)}function o(N,K,J){if(!N)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,tt),N.apply(K,at)}}return function(){return N.apply(K,arguments)}}function a(N,K,J){return a=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:o,a.apply(null,arguments)}function r(N,K){var J=Array.prototype.slice.call(arguments,1);return function(){var tt=J.slice();return tt.push.apply(tt,arguments),N.apply(this,tt)}}function e(N,K){function J(){}J.prototype=K.prototype,N.aa=K.prototype,N.prototype=new J,N.prototype.constructor=N,N.Qb=function(tt,at,ct){for(var Et=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)Et[ue-2]=arguments[ue];return K.prototype[at].apply(tt,Et)}}function n(N){const K=N.length;if(0<K){const J=Array(K);for(let tt=0;tt<K;tt++)J[tt]=N[tt];return J}return[]}function l(N,K){for(let J=1;J<arguments.length;J++){const tt=arguments[J];if(t(tt)){const at=N.length||0,ct=tt.length||0;N.length=at+ct;for(let Et=0;Et<ct;Et++)N[at+Et]=tt[Et]}else N.push(tt)}}class s{constructor(K,J){this.i=K,this.j=J,this.h=0,this.g=null}get(){let K;return 0<this.h?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function u(N){return/^[\s\xa0]*$/.test(N)}function f(){var N=S.navigator;return N&&(N=N.userAgent)?N:""}function d(N){return d[" "](N),N}d[" "]=function(){};var v=f().indexOf("Gecko")!=-1&&!(f().toLowerCase().indexOf("webkit")!=-1&&f().indexOf("Edge")==-1)&&!(f().indexOf("Trident")!=-1||f().indexOf("MSIE")!=-1)&&f().indexOf("Edge")==-1;function g(N,K,J){for(const tt in N)K.call(J,N[tt],tt,N)}function y(N,K){for(const J in N)K.call(void 0,N[J],J,N)}function T(N){const K={};for(const J in N)K[J]=N[J];return K}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(N,K){let J,tt;for(let at=1;at<arguments.length;at++){tt=arguments[at];for(J in tt)N[J]=tt[J];for(let ct=0;ct<E.length;ct++)J=E[ct],Object.prototype.hasOwnProperty.call(tt,J)&&(N[J]=tt[J])}}function P(N){var K=1;N=N.split(":");const J=[];for(;0<K&&N.length;)J.push(N.shift()),K--;return N.length&&J.push(N.join(":")),J}function w(N){S.setTimeout(()=>{throw N},0)}function M(){var N=U;let K=null;return N.g&&(K=N.g,N.g=N.g.next,N.g||(N.h=null),K.next=null),K}class D{constructor(){this.h=this.g=null}add(K,J){const tt=F.get();tt.set(K,J),this.h?this.h.next=tt:this.g=tt,this.h=tt}}var F=new s(()=>new L,N=>N.reset());class L{constructor(){this.next=this.g=this.h=null}set(K,J){this.h=K,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let O,B=!1,U=new D,W=()=>{const N=S.Promise.resolve(void 0);O=()=>{N.then(H)}};var H=()=>{for(var N;N=M();){try{N.h.call(N.g)}catch(J){w(J)}var K=F;K.j(N),100>K.h&&(K.h++,N.next=K.g,K.g=N)}B=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(N,K){this.type=N,this.g=this.target=K,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var N=!1,K=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const J=()=>{};S.addEventListener("test",J,K),S.removeEventListener("test",J,K)}catch{}return N}();function V(N,K){if(G.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N){var J=this.type=N.type,tt=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;if(this.target=N.target||N.srcElement,this.g=K,K=N.relatedTarget){if(v){t:{try{d(K.nodeName);var at=!0;break t}catch{}at=!1}at||(K=null)}}else J=="mouseover"?K=N.fromElement:J=="mouseout"&&(K=N.toElement);this.relatedTarget=K,tt?(this.clientX=tt.clientX!==void 0?tt.clientX:tt.pageX,this.clientY=tt.clientY!==void 0?tt.clientY:tt.pageY,this.screenX=tt.screenX||0,this.screenY=tt.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=typeof N.pointerType=="string"?N.pointerType:b[N.pointerType]||"",this.state=N.state,this.i=N,N.defaultPrevented&&V.aa.h.call(this)}}e(V,G);var b={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),$=0;function Q(N,K,J,tt,at){this.listener=N,this.proxy=null,this.src=K,this.type=J,this.capture=!!tt,this.ha=at,this.key=++$,this.da=this.fa=!1}function Z(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function q(N){this.src=N,this.g={},this.h=0}q.prototype.add=function(N,K,J,tt,at){var ct=N.toString();N=this.g[ct],N||(N=this.g[ct]=[],this.h++);var Et=k(N,K,tt,at);return-1<Et?(K=N[Et],J||(K.fa=!1)):(K=new Q(K,this.src,ct,!!tt,at),K.fa=J,N.push(K)),K};function j(N,K){var J=K.type;if(J in N.g){var tt=N.g[J],at=Array.prototype.indexOf.call(tt,K,void 0),ct;(ct=0<=at)&&Array.prototype.splice.call(tt,at,1),ct&&(Z(K),N.g[J].length==0&&(delete N.g[J],N.h--))}}function k(N,K,J,tt){for(var at=0;at<N.length;++at){var ct=N[at];if(!ct.da&&ct.listener==K&&ct.capture==!!J&&ct.ha==tt)return at}return-1}var _="closure_lm_"+(1e6*Math.random()|0),et={};function it(N,K,J,tt,at){if(Array.isArray(K)){for(var ct=0;ct<K.length;ct++)it(N,K[ct],J,tt,at);return null}return J=xt(J),N&&N[z]?N.K(K,J,h(tt)?!!tt.capture:!1,at):st(N,K,J,!1,tt,at)}function st(N,K,J,tt,at,ct){if(!K)throw Error("Invalid event type");var Et=h(at)?!!at.capture:!!at,ue=lt(N);if(ue||(N[_]=ue=new q(N)),J=ue.add(K,J,tt,Et,ct),J.proxy)return J;if(tt=nt(),J.proxy=tt,tt.src=N,tt.listener=J,N.addEventListener)X||(at=Et),at===void 0&&(at=!1),N.addEventListener(K.toString(),tt,at);else if(N.attachEvent)N.attachEvent(ot(K.toString()),tt);else if(N.addListener&&N.removeListener)N.addListener(tt);else throw Error("addEventListener and attachEvent are unavailable.");return J}function nt(){function N(J){return K.call(N.src,N.listener,J)}const K=rt;return N}function ut(N,K,J,tt,at){if(Array.isArray(K))for(var ct=0;ct<K.length;ct++)ut(N,K[ct],J,tt,at);else tt=h(tt)?!!tt.capture:!!tt,J=xt(J),N&&N[z]?(N=N.i,K=String(K).toString(),K in N.g&&(ct=N.g[K],J=k(ct,J,tt,at),-1<J&&(Z(ct[J]),Array.prototype.splice.call(ct,J,1),ct.length==0&&(delete N.g[K],N.h--)))):N&&(N=lt(N))&&(K=N.g[K.toString()],N=-1,K&&(N=k(K,J,tt,at)),(J=-1<N?K[N]:null)&&ft(J))}function ft(N){if(typeof N!="number"&&N&&!N.da){var K=N.src;if(K&&K[z])j(K.i,N);else{var J=N.type,tt=N.proxy;K.removeEventListener?K.removeEventListener(J,tt,N.capture):K.detachEvent?K.detachEvent(ot(J),tt):K.addListener&&K.removeListener&&K.removeListener(tt),(J=lt(K))?(j(J,N),J.h==0&&(J.src=null,K[_]=null)):Z(N)}}}function ot(N){return N in et?et[N]:et[N]="on"+N}function rt(N,K){if(N.da)N=!0;else{K=new V(K,this);var J=N.listener,tt=N.ha||N.src;N.fa&&ft(N),N=J.call(tt,K)}return N}function lt(N){return N=N[_],N instanceof q?N:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(N){return typeof N=="function"?N:(N[dt]||(N[dt]=function(K){return N.handleEvent(K)}),N[dt])}function yt(){Y.call(this),this.i=new q(this),this.M=this,this.F=null}e(yt,Y),yt.prototype[z]=!0,yt.prototype.removeEventListener=function(N,K,J,tt){ut(this,N,K,J,tt)};function Ct(N,K){var J,tt=N.F;if(tt)for(J=[];tt;tt=tt.F)J.push(tt);if(N=N.M,tt=K.type||K,typeof K=="string")K=new G(K,N);else if(K instanceof G)K.target=K.target||N;else{var at=K;K=new G(tt,N),A(K,at)}if(at=!0,J)for(var ct=J.length-1;0<=ct;ct--){var Et=K.g=J[ct];at=St(Et,tt,!0,K)&&at}if(Et=K.g=N,at=St(Et,tt,!0,K)&&at,at=St(Et,tt,!1,K)&&at,J)for(ct=0;ct<J.length;ct++)Et=K.g=J[ct],at=St(Et,tt,!1,K)&&at}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var N=this.i,K;for(K in N.g){for(var J=N.g[K],tt=0;tt<J.length;tt++)Z(J[tt]);delete N.g[K],N.h--}}this.F=null},yt.prototype.K=function(N,K,J,tt){return this.i.add(String(N),K,!1,J,tt)},yt.prototype.L=function(N,K,J,tt){return this.i.add(String(N),K,!0,J,tt)};function St(N,K,J,tt){if(K=N.i.g[String(K)],!K)return!0;K=K.concat();for(var at=!0,ct=0;ct<K.length;++ct){var Et=K[ct];if(Et&&!Et.da&&Et.capture==J){var ue=Et.listener,Be=Et.ha||Et.src;Et.fa&&j(N.i,Et),at=ue.call(Be,tt)!==!1&&at}}return at&&!tt.defaultPrevented}function Lt(N,K,J){if(typeof N=="function")J&&(N=a(N,J));else if(N&&typeof N.handleEvent=="function")N=a(N.handleEvent,N);else throw Error("Invalid listener argument");return 2147483647<Number(K)?-1:S.setTimeout(N,K||0)}function zt(N){N.g=Lt(()=>{N.g=null,N.i&&(N.i=!1,zt(N))},N.l);const K=N.h;N.h=null,N.m.apply(null,K)}class qt extends Y{constructor(K,J){super(),this.m=K,this.l=J,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(N){Y.call(this),this.h=N,this.g={}}e(Nt,Y);var Zt=[];function he(N){g(N.g,function(K,J){this.g.hasOwnProperty(J)&&ft(K)},N),N.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),he(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=S.JSON.stringify,Se=S.JSON.parse,pi=class{stringify(N){return S.JSON.stringify(N,void 0)}parse(N){return S.JSON.parse(N,void 0)}};function Ei(){}Ei.prototype.h=null;function Di(N){return N.h||(N.h=N.i())}function Oi(){}var gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bh(){G.call(this,"d")}e(bh,G);function Vh(){G.call(this,"c")}e(Vh,G);var _s={},Uf=null;function Ia(){return Uf=Uf||new yt}_s.La="serverreachability";function zf(N){G.call(this,_s.La,N)}e(zf,G);function xr(N){const K=Ia();Ct(K,new zf(K))}_s.STAT_EVENT="statevent";function Xf(N,K){G.call(this,_s.STAT_EVENT,N),this.stat=K}e(Xf,G);function qe(N){const K=Ia();Ct(K,new Xf(K,N))}_s.Ma="timingevent";function Wf(N,K){G.call(this,_s.Ma,N),this.size=K}e(Wf,G);function yr(N,K){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){N()},K)}function Tr(){this.g=!0}Tr.prototype.xa=function(){this.g=!1};function j0(N,K,J,tt,at,ct){N.info(function(){if(N.g)if(ct)for(var Et="",ue=ct.split("&"),Be=0;Be<ue.length;Be++){var _t=ue[Be].split("=");if(1<_t.length){var We=_t[0];_t=_t[1];var Ye=We.split("_");Et=2<=Ye.length&&Ye[1]=="type"?Et+(We+"="+_t+"&"):Et+(We+"=redacted&")}}else Et=null;else Et=ct;return"XMLHTTP REQ ("+tt+") [attempt "+at+"]: "+K+`
`+J+`
`+Et})}function J0(N,K,J,tt,at,ct,Et){N.info(function(){return"XMLHTTP RESP ("+tt+") [ attempt "+at+"]: "+K+`
`+J+`
`+ct+" "+Et})}function Fn(N,K,J,tt){N.info(function(){return"XMLHTTP TEXT ("+K+"): "+k0(N,J)+(tt?" "+tt:"")})}function Z0(N,K){N.info(function(){return"TIMEOUT: "+K})}Tr.prototype.info=function(){};function k0(N,K){if(!N.g)return K;if(!K)return null;try{var J=JSON.parse(K);if(J){for(N=0;N<J.length;N++)if(Array.isArray(J[N])){var tt=J[N];if(!(2>tt.length)){var at=tt[1];if(Array.isArray(at)&&!(1>at.length)){var ct=at[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var Et=1;Et<at.length;Et++)at[Et]=""}}}}return jt(J)}catch{return K}}var La={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gh;function Fa(){}e(Fa,Ei),Fa.prototype.g=function(){return new XMLHttpRequest},Fa.prototype.i=function(){return{}},Gh=new Fa;function gs(N,K,J,tt){this.j=N,this.i=K,this.l=J,this.R=tt||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hf}function Hf(){this.i=null,this.g="",this.h=!1}var Kf={},Uh={};function zh(N,K,J){N.L=1,N.v=Ba(Qi(K)),N.m=J,N.P=!0,$f(N,null)}function $f(N,K){N.F=Date.now(),Da(N),N.A=Qi(N.v);var J=N.A,tt=N.R;Array.isArray(tt)||(tt=[String(tt)]),ad(J.i,"t",tt),N.C=0,J=N.j.J,N.h=new Hf,N.g=Ad(N.j,J?K:null,!N.m),0<N.O&&(N.M=new qt(a(N.Y,N,N.g),N.O)),K=N.U,J=N.g,tt=N.ca;var at="readystatechange";Array.isArray(at)||(at&&(Zt[0]=at.toString()),at=Zt);for(var ct=0;ct<at.length;ct++){var Et=it(J,at[ct],tt||K.handleEvent,!1,K.h||K);if(!Et)break;K.g[Et.key]=Et}K=N.H?T(N.H):{},N.m?(N.u||(N.u="POST"),K["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.A,N.u,N.m,K)):(N.u="GET",N.g.ea(N.A,N.u,null,K)),xr(),j0(N.i,N.u,N.A,N.l,N.R,N.m)}gs.prototype.ca=function(N){N=N.target;const K=this.M;K&&ji(N)==3?K.j():this.Y(N)},gs.prototype.Y=function(N){try{if(N==this.g)t:{const Ye=ji(this.g);var K=this.g.Ba();const Nn=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||cd(this.g)))){this.J||Ye!=4||K==7||(K==8||0>=Nn?xr(3):xr(2)),Xh(this);var J=this.g.Z();this.X=J;e:if(Qf(this)){var tt=cd(this.g);N="";var at=tt.length,ct=ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Er(this);var Et="";break e}this.h.i=new S.TextDecoder}for(K=0;K<at;K++)this.h.h=!0,N+=this.h.i.decode(tt[K],{stream:!(ct&&K==at-1)});tt.length=0,this.h.g+=N,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=J==200,J0(this.i,this.u,this.A,this.l,this.R,Ye,J),this.o){if(this.T&&!this.K){e:{if(this.g){var ue,Be=this.g;if((ue=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u(ue)){var _t=ue;break e}}_t=null}if(J=_t)Fn(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wh(this,J);else{this.o=!1,this.s=3,qe(12),tn(this),Er(this);break t}}if(this.P){J=!0;let Si;for(;!this.J&&this.C<Et.length;)if(Si=q0(this,Et),Si==Uh){Ye==4&&(this.s=4,qe(14),J=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Si==Kf){this.s=4,qe(15),Fn(this.i,this.l,Et,"[Invalid Chunk]"),J=!1;break}else Fn(this.i,this.l,Si,null),Wh(this,Si);if(Qf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||Et.length!=0||this.h.h||(this.s=1,qe(16),J=!1),this.o=this.o&&J,!J)Fn(this.i,this.l,Et,"[Invalid Chunked Response]"),tn(this),Er(this);else if(0<Et.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),jh(We),We.M=!0,qe(11))}}else Fn(this.i,this.l,Et,null),Wh(this,Et);Ye==4&&tn(this),this.o&&!this.J&&(Ye==4?Td(this.j,this):(this.o=!1,Da(this)))}else px(this.g),J==400&&0<Et.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),tn(this),Er(this)}}}catch{}finally{}};function Qf(N){return N.g?N.u=="GET"&&N.L!=2&&N.j.Ca:!1}function q0(N,K){var J=N.C,tt=K.indexOf(`
`,J);return tt==-1?Uh:(J=Number(K.substring(J,tt)),isNaN(J)?Kf:(tt+=1,tt+J>K.length?Uh:(K=K.slice(tt,tt+J),N.C=tt+J,K)))}gs.prototype.cancel=function(){this.J=!0,tn(this)};function Da(N){N.S=Date.now()+N.I,jf(N,N.I)}function jf(N,K){if(N.B!=null)throw Error("WatchDog timer not null");N.B=yr(a(N.ba,N),K)}function Xh(N){N.B&&(S.clearTimeout(N.B),N.B=null)}gs.prototype.ba=function(){this.B=null;const N=Date.now();0<=N-this.S?(Z0(this.i,this.A),this.L!=2&&(xr(),qe(17)),tn(this),this.s=2,Er(this)):jf(this,this.S-N)};function Er(N){N.j.G==0||N.J||Td(N.j,N)}function tn(N){Xh(N);var K=N.M;K&&typeof K.ma=="function"&&K.ma(),N.M=null,he(N.U),N.g&&(K=N.g,N.g=null,K.abort(),K.ma())}function Wh(N,K){try{var J=N.j;if(J.G!=0&&(J.g==N||Yh(J.h,N))){if(!N.K&&Yh(J.h,N)&&J.G==3){try{var tt=J.Da.g.parse(K)}catch{tt=null}if(Array.isArray(tt)&&tt.length==3){var at=tt;if(at[0]==0){t:if(!J.u){if(J.g)if(J.g.F+3e3<N.F)Xa(J),Ua(J);else break t;Qh(J),qe(18)}}else J.za=at[1],0<J.za-J.T&&37500>at[2]&&J.F&&J.v==0&&!J.C&&(J.C=yr(a(J.Za,J),6e3));if(1>=kf(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else sn(J,11)}else if((N.K||J.g==N)&&Xa(J),!u(K))for(at=J.Da.g.parse(K),K=0;K<at.length;K++){let _t=at[K];if(J.T=_t[0],_t=_t[1],J.G==2)if(_t[0]=="c"){J.K=_t[1],J.ia=_t[2];const We=_t[3];We!=null&&(J.la=We,J.j.info("VER="+J.la));const Ye=_t[4];Ye!=null&&(J.Aa=Ye,J.j.info("SVER="+J.Aa));const Nn=_t[5];Nn!=null&&typeof Nn=="number"&&0<Nn&&(tt=1.5*Nn,J.L=tt,J.j.info("backChannelRequestTimeoutMs_="+tt)),tt=J;const Si=N.g;if(Si){const Ya=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var ct=tt.h;ct.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(Hh(ct,ct.h),ct.h=null))}if(tt.D){const Jh=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(tt.ya=Jh,pe(tt.I,tt.D,Jh))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-N.F,J.j.info("Handshake RTT: "+J.R+"ms")),tt=J;var Et=N;if(tt.qa=Cd(tt,tt.J?tt.ia:null,tt.W),Et.K){qf(tt.h,Et);var ue=Et,Be=tt.L;Be&&(ue.I=Be),ue.B&&(Xh(ue),Da(ue)),tt.g=Et}else xd(tt);0<J.i.length&&za(J)}else _t[0]!="stop"&&_t[0]!="close"||sn(J,7);else J.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?sn(J,7):$h(J):_t[0]!="noop"&&J.l&&J.l.ta(_t),J.v=0)}}xr(4)}catch{}}var _0=class{constructor(N,K){this.g=N,this.map=K}};function Jf(N){this.l=N||10,S.PerformanceNavigationTiming?(N=S.performance.getEntriesByType("navigation"),N=0<N.length&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zf(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function kf(N){return N.h?1:N.g?N.g.size:0}function Yh(N,K){return N.h?N.h==K:N.g?N.g.has(K):!1}function Hh(N,K){N.g?N.g.add(K):N.h=K}function qf(N,K){N.h&&N.h==K?N.h=null:N.g&&N.g.has(K)&&N.g.delete(K)}Jf.prototype.cancel=function(){if(this.i=_f(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function _f(N){if(N.h!=null)return N.i.concat(N.h.D);if(N.g!=null&&N.g.size!==0){let K=N.i;for(const J of N.g.values())K=K.concat(J.D);return K}return n(N.i)}function tx(N){if(N.V&&typeof N.V=="function")return N.V();if(typeof Map<"u"&&N instanceof Map||typeof Set<"u"&&N instanceof Set)return Array.from(N.values());if(typeof N=="string")return N.split("");if(t(N)){for(var K=[],J=N.length,tt=0;tt<J;tt++)K.push(N[tt]);return K}K=[],J=0;for(tt in N)K[J++]=N[tt];return K}function ex(N){if(N.na&&typeof N.na=="function")return N.na();if(!N.V||typeof N.V!="function"){if(typeof Map<"u"&&N instanceof Map)return Array.from(N.keys());if(!(typeof Set<"u"&&N instanceof Set)){if(t(N)||typeof N=="string"){var K=[];N=N.length;for(var J=0;J<N;J++)K.push(J);return K}K=[],J=0;for(const tt in N)K[J++]=tt;return K}}}function td(N,K){if(N.forEach&&typeof N.forEach=="function")N.forEach(K,void 0);else if(t(N)||typeof N=="string")Array.prototype.forEach.call(N,K,void 0);else for(var J=ex(N),tt=tx(N),at=tt.length,ct=0;ct<at;ct++)K.call(void 0,tt[ct],J&&J[ct],N)}var ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ix(N,K){if(N){N=N.split("&");for(var J=0;J<N.length;J++){var tt=N[J].indexOf("="),at=null;if(0<=tt){var ct=N[J].substring(0,tt);at=N[J].substring(tt+1)}else ct=N[J];K(ct,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}function en(N){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,N instanceof en){this.h=N.h,Oa(this,N.j),this.o=N.o,this.g=N.g,Na(this,N.s),this.l=N.l;var K=N.i,J=new Ar;J.i=K.i,K.g&&(J.g=new Map(K.g),J.h=K.h),id(this,J),this.m=N.m}else N&&(K=String(N).match(ed))?(this.h=!1,Oa(this,K[1]||"",!0),this.o=Sr(K[2]||""),this.g=Sr(K[3]||"",!0),Na(this,K[4]),this.l=Sr(K[5]||"",!0),id(this,K[6]||"",!0),this.m=Sr(K[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}en.prototype.toString=function(){var N=[],K=this.j;K&&N.push(Cr(K,sd,!0),":");var J=this.g;return(J||K=="file")&&(N.push("//"),(K=this.o)&&N.push(Cr(K,sd,!0),"@"),N.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J=this.s,J!=null&&N.push(":",String(J))),(J=this.l)&&(this.g&&J.charAt(0)!="/"&&N.push("/"),N.push(Cr(J,J.charAt(0)=="/"?rx:nx,!0))),(J=this.i.toString())&&N.push("?",J),(J=this.m)&&N.push("#",Cr(J,ox)),N.join("")};function Qi(N){return new en(N)}function Oa(N,K,J){N.j=J?Sr(K,!0):K,N.j&&(N.j=N.j.replace(/:$/,""))}function Na(N,K){if(K){if(K=Number(K),isNaN(K)||0>K)throw Error("Bad port number "+K);N.s=K}else N.s=null}function id(N,K,J){K instanceof Ar?(N.i=K,hx(N.i,N.h)):(J||(K=Cr(K,ax)),N.i=new Ar(K,N.h))}function pe(N,K,J){N.i.set(K,J)}function Ba(N){return pe(N,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),N}function Sr(N,K){return N?K?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function Cr(N,K,J){return typeof N=="string"?(N=encodeURI(N).replace(K,sx),J&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function sx(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var sd=/[#\/\?@]/g,nx=/[#\?:]/g,rx=/[#\?]/g,ax=/[#\?@]/g,ox=/#/g;function Ar(N,K){this.h=this.g=null,this.i=N||null,this.j=!!K}function xs(N){N.g||(N.g=new Map,N.h=0,N.i&&ix(N.i,function(K,J){N.add(decodeURIComponent(K.replace(/\+/g," ")),J)}))}x=Ar.prototype,x.add=function(N,K){xs(this),this.i=null,N=Dn(this,N);var J=this.g.get(N);return J||this.g.set(N,J=[]),J.push(K),this.h+=1,this};function nd(N,K){xs(N),K=Dn(N,K),N.g.has(K)&&(N.i=null,N.h-=N.g.get(K).length,N.g.delete(K))}function rd(N,K){return xs(N),K=Dn(N,K),N.g.has(K)}x.forEach=function(N,K){xs(this),this.g.forEach(function(J,tt){J.forEach(function(at){N.call(K,at,tt,this)},this)},this)},x.na=function(){xs(this);const N=Array.from(this.g.values()),K=Array.from(this.g.keys()),J=[];for(let tt=0;tt<K.length;tt++){const at=N[tt];for(let ct=0;ct<at.length;ct++)J.push(K[tt])}return J},x.V=function(N){xs(this);let K=[];if(typeof N=="string")rd(this,N)&&(K=K.concat(this.g.get(Dn(this,N))));else{N=Array.from(this.g.values());for(let J=0;J<N.length;J++)K=K.concat(N[J])}return K},x.set=function(N,K){return xs(this),this.i=null,N=Dn(this,N),rd(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[K]),this.h+=1,this},x.get=function(N,K){return N?(N=this.V(N),0<N.length?String(N[0]):K):K};function ad(N,K,J){nd(N,K),0<J.length&&(N.i=null,N.g.set(Dn(N,K),n(J)),N.h+=J.length)}x.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],K=Array.from(this.g.keys());for(var J=0;J<K.length;J++){var tt=K[J];const ct=encodeURIComponent(String(tt)),Et=this.V(tt);for(tt=0;tt<Et.length;tt++){var at=ct;Et[tt]!==""&&(at+="="+encodeURIComponent(String(Et[tt]))),N.push(at)}}return this.i=N.join("&")};function Dn(N,K){return K=String(K),N.j&&(K=K.toLowerCase()),K}function hx(N,K){K&&!N.j&&(xs(N),N.i=null,N.g.forEach(function(J,tt){var at=tt.toLowerCase();tt!=at&&(nd(this,tt),ad(this,at,J))},N)),N.j=K}function lx(N,K){const J=new Tr;if(S.Image){const tt=new Image;tt.onload=r(ys,J,"TestLoadImage: loaded",!0,K,tt),tt.onerror=r(ys,J,"TestLoadImage: error",!1,K,tt),tt.onabort=r(ys,J,"TestLoadImage: abort",!1,K,tt),tt.ontimeout=r(ys,J,"TestLoadImage: timeout",!1,K,tt),S.setTimeout(function(){tt.ontimeout&&tt.ontimeout()},1e4),tt.src=N}else K(!1)}function ux(N,K){const J=new Tr,tt=new AbortController,at=setTimeout(()=>{tt.abort(),ys(J,"TestPingServer: timeout",!1,K)},1e4);fetch(N,{signal:tt.signal}).then(ct=>{clearTimeout(at),ct.ok?ys(J,"TestPingServer: ok",!0,K):ys(J,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout(at),ys(J,"TestPingServer: error",!1,K)})}function ys(N,K,J,tt,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),tt(J)}catch{}}function fx(){this.g=new pi}function dx(N,K,J){const tt=J||"";try{td(N,function(at,ct){let Et=at;h(at)&&(Et=jt(at)),K.push(tt+ct+"="+encodeURIComponent(Et))})}catch(at){throw K.push(tt+"type="+encodeURIComponent("_badmap")),at}}function ba(N){this.l=N.Ub||null,this.j=N.eb||!1}e(ba,Ei),ba.prototype.g=function(){return new Va(this.l,this.j)},ba.prototype.i=function(N){return function(){return N}}({});function Va(N,K){yt.call(this),this.D=N,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}e(Va,yt),x=Va.prototype,x.open=function(N,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=N,this.A=K,this.readyState=1,Rr(this)},x.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const K={headers:this.u,method:this.B,credentials:this.m,cache:void 0};N&&(K.body=N),(this.D||S).fetch(new Request(this.A,K)).then(this.Sa.bind(this),this.ga.bind(this))},x.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},x.Sa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;od(this)}else N.text().then(this.Ra.bind(this),this.ga.bind(this))};function od(N){N.j.read().then(N.Pa.bind(N)).catch(N.ga.bind(N))}x.Pa=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var K=N.value?N.value:new Uint8Array(0);(K=this.v.decode(K,{stream:!N.done}))&&(this.response=this.responseText+=K)}N.done?Pr(this):Rr(this),this.readyState==3&&od(this)}},x.Ra=function(N){this.g&&(this.response=this.responseText=N,Pr(this))},x.Qa=function(N){this.g&&(this.response=N,Pr(this))},x.ga=function(){this.g&&Pr(this)};function Pr(N){N.readyState=4,N.l=null,N.j=null,N.v=null,Rr(N)}x.setRequestHeader=function(N,K){this.u.append(N,K)},x.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},x.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],K=this.h.entries();for(var J=K.next();!J.done;)J=J.value,N.push(J[0]+": "+J[1]),J=K.next();return N.join(`\r
`)};function Rr(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function hd(N){let K="";return g(N,function(J,tt){K+=tt,K+=":",K+=J,K+=`\r
`}),K}function Kh(N,K,J){t:{for(tt in J){var tt=!1;break t}tt=!0}tt||(J=hd(J),typeof N=="string"?J!=null&&encodeURIComponent(String(J)):pe(N,K,J))}function ye(N){yt.call(this),this.headers=new Map,this.o=N||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}e(ye,yt);var cx=/^https?$/i,vx=["POST","PUT"];x=ye.prototype,x.Ha=function(N){this.J=N},x.ea=function(N,K,J,tt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);K=K?K.toUpperCase():"GET",this.D=N,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gh.g(),this.v=this.o?Di(this.o):Di(Gh),this.g.onreadystatechange=a(this.Ea,this);try{this.B=!0,this.g.open(K,String(N),!0),this.B=!1}catch(ct){ld(this,ct);return}if(N=J||"",J=new Map(this.headers),tt)if(Object.getPrototypeOf(tt)===Object.prototype)for(var at in tt)J.set(at,tt[at]);else if(typeof tt.keys=="function"&&typeof tt.get=="function")for(const ct of tt.keys())J.set(ct,tt.get(ct));else throw Error("Unknown input type for opt_headers: "+String(tt));tt=Array.from(J.keys()).find(ct=>ct.toLowerCase()=="content-type"),at=S.FormData&&N instanceof S.FormData,!(0<=Array.prototype.indexOf.call(vx,K,void 0))||tt||at||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,Et]of J)this.g.setRequestHeader(ct,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dd(this),this.u=!0,this.g.send(N),this.u=!1}catch(ct){ld(this,ct)}};function ld(N,K){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=K,N.m=5,ud(N),Ga(N)}function ud(N){N.A||(N.A=!0,Ct(N,"complete"),Ct(N,"error"))}x.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=N||7,Ct(this,"complete"),Ct(this,"abort"),Ga(this))},x.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ga(this,!0)),ye.aa.N.call(this)},x.Ea=function(){this.s||(this.B||this.u||this.j?fd(this):this.bb())},x.bb=function(){fd(this)};function fd(N){if(N.h&&typeof c<"u"&&(!N.v[1]||ji(N)!=4||N.Z()!=2)){if(N.u&&ji(N)==4)Lt(N.Ea,0,N);else if(Ct(N,"readystatechange"),ji(N)==4){N.h=!1;try{const Et=N.Z();t:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break t;default:K=!1}var J;if(!(J=K)){var tt;if(tt=Et===0){var at=String(N.D).match(ed)[1]||null;!at&&S.self&&S.self.location&&(at=S.self.location.protocol.slice(0,-1)),tt=!cx.test(at?at.toLowerCase():"")}J=tt}if(J)Ct(N,"complete"),Ct(N,"success");else{N.m=6;try{var ct=2<ji(N)?N.g.statusText:""}catch{ct=""}N.l=ct+" ["+N.Z()+"]",ud(N)}}finally{Ga(N)}}}}function Ga(N,K){if(N.g){dd(N);const J=N.g,tt=N.v[0]?()=>{}:null;N.g=null,N.v=null,K||Ct(N,"ready");try{J.onreadystatechange=tt}catch{}}}function dd(N){N.I&&(S.clearTimeout(N.I),N.I=null)}x.isActive=function(){return!!this.g};function ji(N){return N.g?N.g.readyState:0}x.Z=function(){try{return 2<ji(this)?this.g.status:-1}catch{return-1}},x.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},x.Oa=function(N){if(this.g){var K=this.g.responseText;return N&&K.indexOf(N)==0&&(K=K.substring(N.length)),Se(K)}};function cd(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.H){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function px(N){const K={};N=(N.g&&2<=ji(N)&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let tt=0;tt<N.length;tt++){if(u(N[tt]))continue;var J=P(N[tt]);const at=J[0];if(J=J[1],typeof J!="string")continue;J=J.trim();const ct=K[at]||[];K[at]=ct,ct.push(J)}y(K,function(tt){return tt.join(", ")})}x.Ba=function(){return this.m},x.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(N,K,J){return J&&J.internalChannelParams&&J.internalChannelParams[N]||K}function vd(N){this.Aa=0,this.i=[],this.j=new Tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,N),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,N),this.cb=wr("retryDelaySeedMs",1e4,N),this.Wa=wr("forwardChannelMaxRetries",2,N),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,N),this.pa=N&&N.xmlHttpFactory||void 0,this.Xa=N&&N.Tb||void 0,this.Ca=N&&N.useFetchStreams||!1,this.L=void 0,this.J=N&&N.supportsCrossDomainXhr||!1,this.K="",this.h=new Jf(N&&N.concurrentRequestLimit),this.Da=new fx,this.P=N&&N.fastHandshake||!1,this.O=N&&N.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=N&&N.Rb||!1,N&&N.xa&&this.j.xa(),N&&N.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&N&&N.detectBufferingProxy||!1,this.ja=void 0,N&&N.longPollingTimeout&&0<N.longPollingTimeout&&(this.ja=N.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}x=vd.prototype,x.la=8,x.G=1,x.connect=function(N,K,J,tt){qe(0),this.W=N,this.H=K||{},J&&tt!==void 0&&(this.H.OSID=J,this.H.OAID=tt),this.F=this.X,this.I=Cd(this,null,this.W),za(this)};function $h(N){if(pd(N),N.G==3){var K=N.U++,J=Qi(N.I);if(pe(J,"SID",N.K),pe(J,"RID",K),pe(J,"TYPE","terminate"),Mr(N,J),K=new gs(N,N.j,K),K.L=2,K.v=Ba(Qi(J)),J=!1,S.navigator&&S.navigator.sendBeacon)try{J=S.navigator.sendBeacon(K.v.toString(),"")}catch{}!J&&S.Image&&(new Image().src=K.v,J=!0),J||(K.g=Ad(K.j,null),K.g.ea(K.v)),K.F=Date.now(),Da(K)}Sd(N)}function Ua(N){N.g&&(jh(N),N.g.cancel(),N.g=null)}function pd(N){Ua(N),N.u&&(S.clearTimeout(N.u),N.u=null),Xa(N),N.h.cancel(),N.s&&(typeof N.s=="number"&&S.clearTimeout(N.s),N.s=null)}function za(N){if(!Zf(N.h)&&!N.s){N.s=!0;var K=N.Ga;O||W(),B||(O(),B=!0),U.add(K,N),N.B=0}}function mx(N,K){return kf(N.h)>=N.h.j-(N.s?1:0)?!1:N.s?(N.i=K.D.concat(N.i),!0):N.G==1||N.G==2||N.B>=(N.Va?0:N.Wa)?!1:(N.s=yr(a(N.Ga,N,K),Ed(N,N.B)),N.B++,!0)}x.Ga=function(N){if(this.s)if(this.s=null,this.G==1){if(!N){this.U=Math.floor(1e5*Math.random()),N=this.U++;const at=new gs(this,this.j,N);let ct=this.o;if(this.S&&(ct?(ct=T(ct),A(ct,this.S)):ct=this.S),this.m!==null||this.O||(at.H=ct,ct=null),this.P)t:{for(var K=0,J=0;J<this.i.length;J++){e:{var tt=this.i[J];if("__data__"in tt.map&&(tt=tt.map.__data__,typeof tt=="string")){tt=tt.length;break e}tt=void 0}if(tt===void 0)break;if(K+=tt,4096<K){K=J;break t}if(K===4096||J===this.i.length-1){K=J+1;break t}}K=1e3}else K=1e3;K=gd(this,at,K),J=Qi(this.I),pe(J,"RID",N),pe(J,"CVER",22),this.D&&pe(J,"X-HTTP-Session-Id",this.D),Mr(this,J),ct&&(this.O?K="headers="+encodeURIComponent(String(hd(ct)))+"&"+K:this.m&&Kh(J,this.m,ct)),Hh(this.h,at),this.Ua&&pe(J,"TYPE","init"),this.P?(pe(J,"$req",K),pe(J,"SID","null"),at.T=!0,zh(at,J,null)):zh(at,J,K),this.G=2}}else this.G==3&&(N?md(this,N):this.i.length==0||Zf(this.h)||md(this))};function md(N,K){var J;K?J=K.l:J=N.U++;const tt=Qi(N.I);pe(tt,"SID",N.K),pe(tt,"RID",J),pe(tt,"AID",N.T),Mr(N,tt),N.m&&N.o&&Kh(tt,N.m,N.o),J=new gs(N,N.j,J,N.B+1),N.m===null&&(J.H=N.o),K&&(N.i=K.D.concat(N.i)),K=gd(N,J,1e3),J.I=Math.round(.5*N.wa)+Math.round(.5*N.wa*Math.random()),Hh(N.h,J),zh(J,tt,K)}function Mr(N,K){N.H&&g(N.H,function(J,tt){pe(K,tt,J)}),N.l&&td({},function(J,tt){pe(K,tt,J)})}function gd(N,K,J){J=Math.min(N.i.length,J);var tt=N.l?a(N.l.Na,N.l,N):null;t:{var at=N.i;let ct=-1;for(;;){const Et=["count="+J];ct==-1?0<J?(ct=at[0].g,Et.push("ofs="+ct)):ct=0:Et.push("ofs="+ct);let ue=!0;for(let Be=0;Be<J;Be++){let _t=at[Be].g;const We=at[Be].map;if(_t-=ct,0>_t)ct=Math.max(0,at[Be].g-100),ue=!1;else try{dx(We,Et,"req"+_t+"_")}catch{tt&&tt(We)}}if(ue){tt=Et.join("&");break t}}}return N=N.i.splice(0,J),K.D=N,tt}function xd(N){if(!N.g&&!N.u){N.Y=1;var K=N.Fa;O||W(),B||(O(),B=!0),U.add(K,N),N.v=0}}function Qh(N){return N.g||N.u||3<=N.v?!1:(N.Y++,N.u=yr(a(N.Fa,N),Ed(N,N.v)),N.v++,!0)}x.Fa=function(){if(this.u=null,yd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var N=2*this.R;this.j.info("BP detection timer enabled: "+N),this.A=yr(a(this.ab,this),N)}},x.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),Ua(this),yd(this))};function jh(N){N.A!=null&&(S.clearTimeout(N.A),N.A=null)}function yd(N){N.g=new gs(N,N.j,"rpc",N.Y),N.m===null&&(N.g.H=N.o),N.g.O=0;var K=Qi(N.qa);pe(K,"RID","rpc"),pe(K,"SID",N.K),pe(K,"AID",N.T),pe(K,"CI",N.F?"0":"1"),!N.F&&N.ja&&pe(K,"TO",N.ja),pe(K,"TYPE","xmlhttp"),Mr(N,K),N.m&&N.o&&Kh(K,N.m,N.o),N.L&&(N.g.I=N.L);var J=N.g;N=N.ia,J.L=1,J.v=Ba(Qi(K)),J.m=null,J.P=!0,$f(J,N)}x.Za=function(){this.C!=null&&(this.C=null,Ua(this),Qh(this),qe(19))};function Xa(N){N.C!=null&&(S.clearTimeout(N.C),N.C=null)}function Td(N,K){var J=null;if(N.g==K){Xa(N),jh(N),N.g=null;var tt=2}else if(Yh(N.h,K))J=K.D,qf(N.h,K),tt=1;else return;if(N.G!=0){if(K.o)if(tt==1){J=K.m?K.m.length:0,K=Date.now()-K.F;var at=N.B;tt=Ia(),Ct(tt,new Wf(tt,J)),za(N)}else xd(N);else if(at=K.s,at==3||at==0&&0<K.X||!(tt==1&&mx(N,K)||tt==2&&Qh(N)))switch(J&&0<J.length&&(K=N.h,K.i=K.i.concat(J)),at){case 1:sn(N,5);break;case 4:sn(N,10);break;case 3:sn(N,6);break;default:sn(N,2)}}}function Ed(N,K){let J=N.Ta+Math.floor(Math.random()*N.cb);return N.isActive()||(J*=2),J*K}function sn(N,K){if(N.j.info("Error code "+K),K==2){var J=a(N.fb,N),tt=N.Xa;const at=!tt;tt=new en(tt||"//www.google.com/images/cleardot.gif"),S.location&&S.location.protocol=="http"||Oa(tt,"https"),Ba(tt),at?lx(tt.toString(),J):ux(tt.toString(),J)}else qe(2);N.G=0,N.l&&N.l.sa(K),Sd(N),pd(N)}x.fb=function(N){N?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function Sd(N){if(N.G=0,N.ka=[],N.l){const K=_f(N.h);(K.length!=0||N.i.length!=0)&&(l(N.ka,K),l(N.ka,N.i),N.h.i.length=0,n(N.i),N.i.length=0),N.l.ra()}}function Cd(N,K,J){var tt=J instanceof en?Qi(J):new en(J);if(tt.g!="")K&&(tt.g=K+"."+tt.g),Na(tt,tt.s);else{var at=S.location;tt=at.protocol,K=K?K+"."+at.hostname:at.hostname,at=+at.port;var ct=new en(null);tt&&Oa(ct,tt),K&&(ct.g=K),at&&Na(ct,at),J&&(ct.l=J),tt=ct}return J=N.D,K=N.ya,J&&K&&pe(tt,J,K),pe(tt,"VER",N.la),Mr(N,tt),tt}function Ad(N,K,J){if(K&&!N.J)throw Error("Can't create secondary domain capable XhrIo object.");return K=N.Ca&&!N.pa?new ye(new ba({eb:J})):new ye(N.pa),K.Ha(N.J),K}x.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pd(){}x=Pd.prototype,x.ua=function(){},x.ta=function(){},x.sa=function(){},x.ra=function(){},x.isActive=function(){return!0},x.Na=function(){};function Wa(){}Wa.prototype.g=function(N,K){return new di(N,K)};function di(N,K){yt.call(this),this.g=new vd(K),this.l=N,this.h=K&&K.messageUrlParams||null,N=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(N?N["X-WebChannel-Content-Type"]=K.messageContentType:N={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.va&&(N?N["X-WebChannel-Client-Profile"]=K.va:N={"X-WebChannel-Client-Profile":K.va}),this.g.S=N,(N=K&&K.Sb)&&!u(N)&&(this.g.m=N),this.v=K&&K.supportsCrossDomainXhr||!1,this.u=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!u(K)&&(this.g.D=K,N=this.h,N!==null&&K in N&&(N=this.h,K in N&&delete N[K])),this.j=new On(this)}e(di,yt),di.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},di.prototype.close=function(){$h(this.g)},di.prototype.o=function(N){var K=this.g;if(typeof N=="string"){var J={};J.__data__=N,N=J}else this.u&&(J={},J.__data__=jt(N),N=J);K.i.push(new _0(K.Ya++,N)),K.G==3&&za(K)},di.prototype.N=function(){this.g.l=null,delete this.j,$h(this.g),delete this.g,di.aa.N.call(this)};function Rd(N){bh.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var K=N.__sm__;if(K){t:{for(const J in K){N=J;break t}N=void 0}(this.i=N)&&(N=this.i,K=K!==null&&N in K?K[N]:void 0),this.data=K}else this.data=N}e(Rd,bh);function wd(){Vh.call(this),this.status=1}e(wd,Vh);function On(N){this.g=N}e(On,Pd),On.prototype.ua=function(){Ct(this.g,"a")},On.prototype.ta=function(N){Ct(this.g,new Rd(N))},On.prototype.sa=function(N){Ct(this.g,new wd)},On.prototype.ra=function(){Ct(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,di.prototype.send=di.prototype.o,di.prototype.open=di.prototype.m,di.prototype.close=di.prototype.close,Ym=function(){return new Wa},Wm=function(){return Ia()},Xm=_s,Kl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,uo=La,Yf.COMPLETE="complete",zm=Yf,Oi.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Dr=Oi,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,Um=ye}).apply(typeof Za<"u"?Za:typeof self<"u"?self:typeof window<"u"?window:{});const Oc="@firebase/firestore",Nc="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(i){this.uid=i}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dr="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new Nu("@firebase/firestore");function Gn(){return En.logLevel}function At(x,...i){if(En.logLevel<=Yt.DEBUG){const p=i.map(Vu);En.debug(`Firestore (${dr}): ${x}`,...p)}}function ls(x,...i){if(En.logLevel<=Yt.ERROR){const p=i.map(Vu);En.error(`Firestore (${dr}): ${x}`,...p)}}function aa(x,...i){if(En.logLevel<=Yt.WARN){const p=i.map(Vu);En.warn(`Firestore (${dr}): ${x}`,...p)}}function Vu(x){if(typeof x=="string")return x;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(p){return JSON.stringify(p)}(x)}catch{return x}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(x="Unexpected state"){const i=`FIRESTORE (${dr}) INTERNAL ASSERTION FAILED: `+x;throw ls(i),new Error(i)}function ne(x,i){x||Ot()}function Ut(x,i){return x}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends ms{constructor(i,p){super(i,p),this.code=i,this.message=p,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((i,p)=>{this.resolve=i,this.reject=p})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(i,p){this.user=p,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,p){i.enqueueRetryable(()=>p(ni.UNAUTHENTICATED))}shutdown(){}}class d2{constructor(i){this.t=i,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,p){ne(this.o===void 0);let C=this.i;const R=t=>this.i!==C?(C=this.i,p(t)):Promise.resolve();let I=new as;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new as,i.enqueueRetryable(()=>R(this.currentUser))};const c=()=>{const t=I;i.enqueueRetryable(async()=>{await t.promise,await R(this.currentUser)})},S=t=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(t=>S(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?S(t):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new as)}},0),c()}getToken(){const i=this.i,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(C=>this.i!==i?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):C?(ne(typeof C.accessToken=="string"),new u2(C.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const i=this.auth&&this.auth.getUid();return ne(i===null||typeof i=="string"),new ni(i)}}class c2{constructor(i,p,C){this.l=i,this.h=p,this.P=C,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const i=this.I();return i&&this.T.set("Authorization",i),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class v2{constructor(i,p,C){this.l=i,this.h=p,this.P=C}getToken(){return Promise.resolve(new c2(this.l,this.h,this.P))}start(i,p){i.enqueueRetryable(()=>p(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bc{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p2{constructor(i,p){this.A=p,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ci(i)&&i.settings.appCheckToken&&(this.V=i.settings.appCheckToken)}start(i,p){ne(this.o===void 0);const C=I=>{I.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${I.error.message}`);const c=I.token!==this.R;return this.R=I.token,At("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?p(I.token):Promise.resolve()};this.o=I=>{i.enqueueRetryable(()=>C(I))};const R=I=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=I,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(I=>R(I)),setTimeout(()=>{if(!this.appCheck){const I=this.A.getImmediate({optional:!0});I?R(I):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Bc(this.V));const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(p=>p?(ne(typeof p.token=="string"),this.R=p.token,new Bc(p.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(x){const i=typeof self<"u"&&(self.crypto||self.msCrypto),p=new Uint8Array(x);if(i&&typeof i.getRandomValues=="function")i.getRandomValues(p);else for(let C=0;C<x;C++)p[C]=Math.floor(256*Math.random());return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{static newId(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p=62*Math.floor(4.129032258064516);let C="";for(;C.length<20;){const R=m2(40);for(let I=0;I<R.length;++I)C.length<20&&R[I]<p&&(C+=i.charAt(R[I]%62))}return C}}function Qt(x,i){return x<i?-1:x>i?1:0}function er(x,i,p){return x.length===i.length&&x.every((C,R)=>p(C,i[R]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-62135596800,Vc=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(i){return Me.fromMillis(i.getTime())}static fromMillis(i){const p=Math.floor(i/1e3),C=Math.floor((i-1e3*p)*Vc);return new Me(p,C)}constructor(i,p){if(this.seconds=i,this.nanoseconds=p,p<0)throw new Pt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+p);if(p>=1e9)throw new Pt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+p);if(i<bc)throw new Pt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Pt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vc}_compareTo(i){return this.seconds===i.seconds?Qt(this.nanoseconds,i.nanoseconds):Qt(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const i=this.seconds-bc;return String(i).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(i){return new Vt(i)}static min(){return new Vt(new Me(0,0))}static max(){return new Vt(new Me(253402300799,999999999))}constructor(i){this.timestamp=i}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="__name__";class Vi{constructor(i,p,C){p===void 0?p=0:p>i.length&&Ot(),C===void 0?C=i.length-p:C>i.length-p&&Ot(),this.segments=i,this.offset=p,this.len=C}get length(){return this.len}isEqual(i){return Vi.comparator(this,i)===0}child(i){const p=this.segments.slice(this.offset,this.limit());return i instanceof Vi?i.forEach(C=>{p.push(C)}):p.push(i),this.construct(p)}limit(){return this.offset+this.length}popFirst(i){return i=i===void 0?1:i,this.construct(this.segments,this.offset+i,this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return this.length===0}isPrefixOf(i){if(i.length<this.length)return!1;for(let p=0;p<this.length;p++)if(this.get(p)!==i.get(p))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let p=0;p<this.length;p++)if(this.get(p)!==i.get(p))return!1;return!0}forEach(i){for(let p=this.offset,C=this.limit();p<C;p++)i(this.segments[p])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,p){const C=Math.min(i.length,p.length);for(let R=0;R<C;R++){const I=Vi.compareSegments(i.get(R),p.get(R));if(I!==0)return I}return Math.sign(i.length-p.length)}static compareSegments(i,p){const C=Vi.isNumericId(i),R=Vi.isNumericId(p);return C&&!R?-1:!C&&R?1:C&&R?Vi.extractNumericId(i).compare(Vi.extractNumericId(p)):i<p?-1:i>p?1:0}static isNumericId(i){return i.startsWith("__id")&&i.endsWith("__")}static extractNumericId(i){return Bs.fromString(i.substring(4,i.length-2))}}class me extends Vi{construct(i,p,C){return new me(i,p,C)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){const p=[];for(const C of i){if(C.indexOf("//")>=0)throw new Pt(pt.INVALID_ARGUMENT,`Invalid segment (${C}). Paths must not contain // in them.`);p.push(...C.split("/").filter(R=>R.length>0))}return new me(p)}static emptyPath(){return new me([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Vi{construct(i,p,C){return new Ge(i,p,C)}static isValidIdentifier(i){return g2.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gc}static keyField(){return new Ge([Gc])}static fromServerFormat(i){const p=[];let C="",R=0;const I=()=>{if(C.length===0)throw new Pt(pt.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);p.push(C),C=""};let c=!1;for(;R<i.length;){const S=i[R];if(S==="\\"){if(R+1===i.length)throw new Pt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const t=i[R+1];if(t!=="\\"&&t!=="."&&t!=="`")throw new Pt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);C+=t,R+=2}else S==="`"?(c=!c,R++):S!=="."||c?(C+=S,R++):(I(),R++)}if(I(),c)throw new Pt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Ge(p)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(i){this.path=i}static fromPath(i){return new Ft(me.fromString(i))}static fromName(i){return new Ft(me.fromString(i).popFirst(5))}static empty(){return new Ft(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return i!==null&&me.comparator(this.path,i.path)===0}toString(){return this.path.toString()}static comparator(i,p){return me.comparator(i.path,p.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new Ft(new me(i.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=-1;function x2(x,i){const p=x.toTimestamp().seconds,C=x.toTimestamp().nanoseconds+1,R=Vt.fromTimestamp(C===1e9?new Me(p+1,0):new Me(p,C));return new Xs(R,Ft.empty(),i)}function y2(x){return new Xs(x.readTime,x.key,oa)}class Xs{constructor(i,p,C){this.readTime=i,this.documentKey=p,this.largestBatchId=C}static min(){return new Xs(Vt.min(),Ft.empty(),oa)}static max(){return new Xs(Vt.max(),Ft.empty(),oa)}}function T2(x,i){let p=x.readTime.compareTo(i.readTime);return p!==0?p:(p=Ft.comparator(x.documentKey,i.documentKey),p!==0?p:Qt(x.largestBatchId,i.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cr(x){if(x.code!==pt.FAILED_PRECONDITION||x.message!==E2)throw x;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(p=>{this.isDone=!0,this.result=p,this.nextCallback&&this.nextCallback(p)},p=>{this.isDone=!0,this.error=p,this.catchCallback&&this.catchCallback(p)})}catch(i){return this.next(void 0,i)}next(i,p){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(p,this.error):this.wrapSuccess(i,this.result):new mt((C,R)=>{this.nextCallback=I=>{this.wrapSuccess(i,I).next(C,R)},this.catchCallback=I=>{this.wrapFailure(p,I).next(C,R)}})}toPromise(){return new Promise((i,p)=>{this.next(i,p)})}wrapUserFunction(i){try{const p=i();return p instanceof mt?p:mt.resolve(p)}catch(p){return mt.reject(p)}}wrapSuccess(i,p){return i?this.wrapUserFunction(()=>i(p)):mt.resolve(p)}wrapFailure(i,p){return i?this.wrapUserFunction(()=>i(p)):mt.reject(p)}static resolve(i){return new mt((p,C)=>{p(i)})}static reject(i){return new mt((p,C)=>{C(i)})}static waitFor(i){return new mt((p,C)=>{let R=0,I=0,c=!1;i.forEach(S=>{++R,S.next(()=>{++I,c&&I===R&&p()},t=>C(t))}),c=!0,I===R&&p()})}static or(i){let p=mt.resolve(!1);for(const C of i)p=p.next(R=>R?mt.resolve(R):C());return p}static forEach(i,p){const C=[];return i.forEach((R,I)=>{C.push(p.call(this,R,I))}),this.waitFor(C)}static mapArray(i,p){return new mt((C,R)=>{const I=i.length,c=new Array(I);let S=0;for(let t=0;t<I;t++){const h=t;p(i[h]).next(m=>{c[h]=m,++S,S===I&&C(c)},m=>R(m))}})}static doWhile(i,p){return new mt((C,R)=>{const I=()=>{i()===!0?p().next(()=>{I()},R):C()};I()})}}function C2(x){const i=x.match(/Android ([\d.]+)/i),p=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(p)}function vr(x){return x.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(i,p){this.previousValue=i,p&&(p.sequenceNumberHandler=C=>this.oe(C),this._e=C=>p.writeSequenceNumber(C))}oe(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this._e&&this._e(i),i}}ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;function mh(x){return x==null}function Do(x){return x===0&&1/x==-1/0}function A2(x){return typeof x=="number"&&Number.isInteger(x)&&!Do(x)&&x<=Number.MAX_SAFE_INTEGER&&x>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="";function P2(x){let i="";for(let p=0;p<x.length;p++)i.length>0&&(i=Uc(i)),i=R2(x.get(p),i);return Uc(i)}function R2(x,i){let p=i;const C=x.length;for(let R=0;R<C;R++){const I=x.charAt(R);switch(I){case"\0":p+="";break;case Km:p+="";break;default:p+=I}}return p}function Uc(x){return x+Km+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(x){let i=0;for(const p in x)Object.prototype.hasOwnProperty.call(x,p)&&i++;return i}function ks(x,i){for(const p in x)Object.prototype.hasOwnProperty.call(x,p)&&i(p,x[p])}function $m(x){for(const i in x)if(Object.prototype.hasOwnProperty.call(x,i))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(i,p){this.comparator=i,this.root=p||Ve.EMPTY}insert(i,p){return new xe(this.comparator,this.root.insert(i,p,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(i){return new xe(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(i){let p=this.root;for(;!p.isEmpty();){const C=this.comparator(i,p.key);if(C===0)return p.value;C<0?p=p.left:C>0&&(p=p.right)}return null}indexOf(i){let p=0,C=this.root;for(;!C.isEmpty();){const R=this.comparator(i,C.key);if(R===0)return p+C.left.size;R<0?C=C.left:(p+=C.left.size+1,C=C.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((p,C)=>(i(p,C),!1))}toString(){const i=[];return this.inorderTraversal((p,C)=>(i.push(`${p}:${C}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new ka(this.root,i,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new ka(this.root,i,this.comparator,!0)}}class ka{constructor(i,p,C,R){this.isReverse=R,this.nodeStack=[];let I=1;for(;!i.isEmpty();)if(I=p?C(i.key,p):1,p&&R&&(I*=-1),I<0)i=this.isReverse?i.left:i.right;else{if(I===0){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const p={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return p}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Ve{constructor(i,p,C,R,I){this.key=i,this.value=p,this.color=C??Ve.RED,this.left=R??Ve.EMPTY,this.right=I??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,p,C,R,I){return new Ve(i??this.key,p??this.value,C??this.color,R??this.left,I??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,p,C){let R=this;const I=C(i,R.key);return R=I<0?R.copy(null,null,null,R.left.insert(i,p,C),null):I===0?R.copy(null,p,null,null,null):R.copy(null,null,null,null,R.right.insert(i,p,C)),R.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,p){let C,R=this;if(p(i,R.key)<0)R.left.isEmpty()||R.left.isRed()||R.left.left.isRed()||(R=R.moveRedLeft()),R=R.copy(null,null,null,R.left.remove(i,p),null);else{if(R.left.isRed()&&(R=R.rotateRight()),R.right.isEmpty()||R.right.isRed()||R.right.left.isRed()||(R=R.moveRedRight()),p(i,R.key)===0){if(R.right.isEmpty())return Ve.EMPTY;C=R.right.min(),R=R.copy(C.key,C.value,null,null,R.right.removeMin())}R=R.copy(null,null,null,null,R.right.remove(i,p))}return R.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,p)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const i=this.left.check();if(i!==this.right.check())throw Ot();return i+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(i,p,C,R,I){return this}insert(i,p,C){return new Ve(i,p)}remove(i,p){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(i){this.comparator=i,this.data=new xe(this.comparator)}has(i){return this.data.get(i)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((p,C)=>(i(p),!1))}forEachInRange(i,p){const C=this.data.getIteratorFrom(i[0]);for(;C.hasNext();){const R=C.getNext();if(this.comparator(R.key,i[1])>=0)return;p(R.key)}}forEachWhile(i,p){let C;for(C=p!==void 0?this.data.getIteratorFrom(p):this.data.getIterator();C.hasNext();)if(!i(C.getNext().key))return}firstAfterOrEqual(i){const p=this.data.getIteratorFrom(i);return p.hasNext()?p.getNext().key:null}getIterator(){return new Xc(this.data.getIterator())}getIteratorFrom(i){return new Xc(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let p=this;return p.size<i.size&&(p=i,i=this),i.forEach(C=>{p=p.add(C)}),p}isEqual(i){if(!(i instanceof Ie)||this.size!==i.size)return!1;const p=this.data.getIterator(),C=i.data.getIterator();for(;p.hasNext();){const R=p.getNext().key,I=C.getNext().key;if(this.comparator(R,I)!==0)return!1}return!0}toArray(){const i=[];return this.forEach(p=>{i.push(p)}),i}toString(){const i=[];return this.forEach(p=>i.push(p)),"SortedSet("+i.toString()+")"}copy(i){const p=new Ie(this.comparator);return p.data=i,p}}class Xc{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(i){this.fields=i,i.sort(Ge.comparator)}static empty(){return new vi([])}unionWith(i){let p=new Ie(Ge.comparator);for(const C of this.fields)p=p.add(C);for(const C of i)p=p.add(C);return new vi(p.toArray())}covers(i){for(const p of this.fields)if(p.isPrefixOf(i))return!0;return!1}isEqual(i){return er(this.fields,i.fields,(p,C)=>p.isEqual(C))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(i){this.binaryString=i}static fromBase64String(i){const p=function(R){try{return atob(R)}catch(I){throw typeof DOMException<"u"&&I instanceof DOMException?new Qm("Invalid base64 string: "+I):I}}(i);return new Xe(p)}static fromUint8Array(i){const p=function(R){let I="";for(let c=0;c<R.length;++c)I+=String.fromCharCode(R[c]);return I}(i);return new Xe(p)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(p){return btoa(p)}(this.binaryString)}toUint8Array(){return function(p){const C=new Uint8Array(p.length);for(let R=0;R<p.length;R++)C[R]=p.charCodeAt(R);return C}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Qt(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const w2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(x){if(ne(!!x),typeof x=="string"){let i=0;const p=w2.exec(x);if(ne(!!p),p[1]){let R=p[1];R=(R+"000000000").substr(0,9),i=Number(R)}const C=new Date(x);return{seconds:Math.floor(C.getTime()/1e3),nanos:i}}return{seconds:Ee(x.seconds),nanos:Ee(x.nanos)}}function Ee(x){return typeof x=="number"?x:typeof x=="string"?Number(x):0}function Ys(x){return typeof x=="string"?Xe.fromBase64String(x):Xe.fromUint8Array(x)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="server_timestamp",Jm="__type__",Zm="__previous_value__",km="__local_write_time__";function Uu(x){var i,p;return((p=(((i=x==null?void 0:x.mapValue)===null||i===void 0?void 0:i.fields)||{})[Jm])===null||p===void 0?void 0:p.stringValue)===jm}function gh(x){const i=x.mapValue.fields[Zm];return Uu(i)?gh(i):i}function ha(x){const i=Ws(x.mapValue.fields[km].timestampValue);return new Me(i.seconds,i.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(i,p,C,R,I,c,S,t,h){this.databaseId=i,this.appId=p,this.persistenceKey=C,this.host=R,this.ssl=I,this.forceLongPolling=c,this.autoDetectLongPolling=S,this.longPollingOptions=t,this.useFetchStreams=h}}const Oo="(default)";class la{constructor(i,p){this.projectId=i,this.database=p||Oo}static empty(){return new la("","")}get isDefaultDatabase(){return this.database===Oo}isEqual(i){return i instanceof la&&i.projectId===this.projectId&&i.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="__type__",I2="__max__",qa={mapValue:{}},_m="__vector__",No="value";function Hs(x){return"nullValue"in x?0:"booleanValue"in x?1:"integerValue"in x||"doubleValue"in x?2:"timestampValue"in x?3:"stringValue"in x?5:"bytesValue"in x?6:"referenceValue"in x?7:"geoPointValue"in x?8:"arrayValue"in x?9:"mapValue"in x?Uu(x)?4:F2(x)?9007199254740991:L2(x)?10:11:Ot()}function Ki(x,i){if(x===i)return!0;const p=Hs(x);if(p!==Hs(i))return!1;switch(p){case 0:case 9007199254740991:return!0;case 1:return x.booleanValue===i.booleanValue;case 4:return ha(x).isEqual(ha(i));case 3:return function(R,I){if(typeof R.timestampValue=="string"&&typeof I.timestampValue=="string"&&R.timestampValue.length===I.timestampValue.length)return R.timestampValue===I.timestampValue;const c=Ws(R.timestampValue),S=Ws(I.timestampValue);return c.seconds===S.seconds&&c.nanos===S.nanos}(x,i);case 5:return x.stringValue===i.stringValue;case 6:return function(R,I){return Ys(R.bytesValue).isEqual(Ys(I.bytesValue))}(x,i);case 7:return x.referenceValue===i.referenceValue;case 8:return function(R,I){return Ee(R.geoPointValue.latitude)===Ee(I.geoPointValue.latitude)&&Ee(R.geoPointValue.longitude)===Ee(I.geoPointValue.longitude)}(x,i);case 2:return function(R,I){if("integerValue"in R&&"integerValue"in I)return Ee(R.integerValue)===Ee(I.integerValue);if("doubleValue"in R&&"doubleValue"in I){const c=Ee(R.doubleValue),S=Ee(I.doubleValue);return c===S?Do(c)===Do(S):isNaN(c)&&isNaN(S)}return!1}(x,i);case 9:return er(x.arrayValue.values||[],i.arrayValue.values||[],Ki);case 10:case 11:return function(R,I){const c=R.mapValue.fields||{},S=I.mapValue.fields||{};if(zc(c)!==zc(S))return!1;for(const t in c)if(c.hasOwnProperty(t)&&(S[t]===void 0||!Ki(c[t],S[t])))return!1;return!0}(x,i);default:return Ot()}}function ua(x,i){return(x.values||[]).find(p=>Ki(p,i))!==void 0}function ir(x,i){if(x===i)return 0;const p=Hs(x),C=Hs(i);if(p!==C)return Qt(p,C);switch(p){case 0:case 9007199254740991:return 0;case 1:return Qt(x.booleanValue,i.booleanValue);case 2:return function(I,c){const S=Ee(I.integerValue||I.doubleValue),t=Ee(c.integerValue||c.doubleValue);return S<t?-1:S>t?1:S===t?0:isNaN(S)?isNaN(t)?0:-1:1}(x,i);case 3:return Wc(x.timestampValue,i.timestampValue);case 4:return Wc(ha(x),ha(i));case 5:return Qt(x.stringValue,i.stringValue);case 6:return function(I,c){const S=Ys(I),t=Ys(c);return S.compareTo(t)}(x.bytesValue,i.bytesValue);case 7:return function(I,c){const S=I.split("/"),t=c.split("/");for(let h=0;h<S.length&&h<t.length;h++){const m=Qt(S[h],t[h]);if(m!==0)return m}return Qt(S.length,t.length)}(x.referenceValue,i.referenceValue);case 8:return function(I,c){const S=Qt(Ee(I.latitude),Ee(c.latitude));return S!==0?S:Qt(Ee(I.longitude),Ee(c.longitude))}(x.geoPointValue,i.geoPointValue);case 9:return Yc(x.arrayValue,i.arrayValue);case 10:return function(I,c){var S,t,h,m;const o=I.fields||{},a=c.fields||{},r=(S=o[No])===null||S===void 0?void 0:S.arrayValue,e=(t=a[No])===null||t===void 0?void 0:t.arrayValue,n=Qt(((h=r==null?void 0:r.values)===null||h===void 0?void 0:h.length)||0,((m=e==null?void 0:e.values)===null||m===void 0?void 0:m.length)||0);return n!==0?n:Yc(r,e)}(x.mapValue,i.mapValue);case 11:return function(I,c){if(I===qa.mapValue&&c===qa.mapValue)return 0;if(I===qa.mapValue)return 1;if(c===qa.mapValue)return-1;const S=I.fields||{},t=Object.keys(S),h=c.fields||{},m=Object.keys(h);t.sort(),m.sort();for(let o=0;o<t.length&&o<m.length;++o){const a=Qt(t[o],m[o]);if(a!==0)return a;const r=ir(S[t[o]],h[m[o]]);if(r!==0)return r}return Qt(t.length,m.length)}(x.mapValue,i.mapValue);default:throw Ot()}}function Wc(x,i){if(typeof x=="string"&&typeof i=="string"&&x.length===i.length)return Qt(x,i);const p=Ws(x),C=Ws(i),R=Qt(p.seconds,C.seconds);return R!==0?R:Qt(p.nanos,C.nanos)}function Yc(x,i){const p=x.values||[],C=i.values||[];for(let R=0;R<p.length&&R<C.length;++R){const I=ir(p[R],C[R]);if(I)return I}return Qt(p.length,C.length)}function sr(x){return $l(x)}function $l(x){return"nullValue"in x?"null":"booleanValue"in x?""+x.booleanValue:"integerValue"in x?""+x.integerValue:"doubleValue"in x?""+x.doubleValue:"timestampValue"in x?function(p){const C=Ws(p);return`time(${C.seconds},${C.nanos})`}(x.timestampValue):"stringValue"in x?x.stringValue:"bytesValue"in x?function(p){return Ys(p).toBase64()}(x.bytesValue):"referenceValue"in x?function(p){return Ft.fromName(p).toString()}(x.referenceValue):"geoPointValue"in x?function(p){return`geo(${p.latitude},${p.longitude})`}(x.geoPointValue):"arrayValue"in x?function(p){let C="[",R=!0;for(const I of p.values||[])R?R=!1:C+=",",C+=$l(I);return C+"]"}(x.arrayValue):"mapValue"in x?function(p){const C=Object.keys(p.fields||{}).sort();let R="{",I=!0;for(const c of C)I?I=!1:R+=",",R+=`${c}:${$l(p.fields[c])}`;return R+"}"}(x.mapValue):Ot()}function fo(x){switch(Hs(x)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const i=gh(x);return i?16+fo(i):16;case 5:return 2*x.stringValue.length;case 6:return Ys(x.bytesValue).approximateByteSize();case 7:return x.referenceValue.length;case 9:return function(C){return(C.values||[]).reduce((R,I)=>R+fo(I),0)}(x.arrayValue);case 10:case 11:return function(C){let R=0;return ks(C.fields,(I,c)=>{R+=I.length+fo(c)}),R}(x.mapValue);default:throw Ot()}}function Hc(x,i){return{referenceValue:`projects/${x.projectId}/databases/${x.database}/documents/${i.path.canonicalString()}`}}function Ql(x){return!!x&&"integerValue"in x}function zu(x){return!!x&&"arrayValue"in x}function Kc(x){return!!x&&"nullValue"in x}function $c(x){return!!x&&"doubleValue"in x&&isNaN(Number(x.doubleValue))}function co(x){return!!x&&"mapValue"in x}function L2(x){var i,p;return((p=(((i=x==null?void 0:x.mapValue)===null||i===void 0?void 0:i.fields)||{})[qm])===null||p===void 0?void 0:p.stringValue)===_m}function Kr(x){if(x.geoPointValue)return{geoPointValue:Object.assign({},x.geoPointValue)};if(x.timestampValue&&typeof x.timestampValue=="object")return{timestampValue:Object.assign({},x.timestampValue)};if(x.mapValue){const i={mapValue:{fields:{}}};return ks(x.mapValue.fields,(p,C)=>i.mapValue.fields[p]=Kr(C)),i}if(x.arrayValue){const i={arrayValue:{values:[]}};for(let p=0;p<(x.arrayValue.values||[]).length;++p)i.arrayValue.values[p]=Kr(x.arrayValue.values[p]);return i}return Object.assign({},x)}function F2(x){return(((x.mapValue||{}).fields||{}).__type__||{}).stringValue===I2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(i){this.value=i}static empty(){return new hi({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let p=this.value;for(let C=0;C<i.length-1;++C)if(p=(p.mapValue.fields||{})[i.get(C)],!co(p))return null;return p=(p.mapValue.fields||{})[i.lastSegment()],p||null}}set(i,p){this.getFieldsMap(i.popLast())[i.lastSegment()]=Kr(p)}setAll(i){let p=Ge.emptyPath(),C={},R=[];i.forEach((c,S)=>{if(!p.isImmediateParentOf(S)){const t=this.getFieldsMap(p);this.applyChanges(t,C,R),C={},R=[],p=S.popLast()}c?C[S.lastSegment()]=Kr(c):R.push(S.lastSegment())});const I=this.getFieldsMap(p);this.applyChanges(I,C,R)}delete(i){const p=this.field(i.popLast());co(p)&&p.mapValue.fields&&delete p.mapValue.fields[i.lastSegment()]}isEqual(i){return Ki(this.value,i.value)}getFieldsMap(i){let p=this.value;p.mapValue.fields||(p.mapValue={fields:{}});for(let C=0;C<i.length;++C){let R=p.mapValue.fields[i.get(C)];co(R)&&R.mapValue.fields||(R={mapValue:{fields:{}}},p.mapValue.fields[i.get(C)]=R),p=R}return p.mapValue.fields}applyChanges(i,p,C){ks(p,(R,I)=>i[R]=I);for(const R of C)delete i[R]}clone(){return new hi(Kr(this.value))}}function tg(x){const i=[];return ks(x.fields,(p,C)=>{const R=new Ge([p]);if(co(C)){const I=tg(C.mapValue).fields;if(I.length===0)i.push(R);else for(const c of I)i.push(R.child(c))}else i.push(R)}),new vi(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(i,p,C,R,I,c,S){this.key=i,this.documentType=p,this.version=C,this.readTime=R,this.createTime=I,this.data=c,this.documentState=S}static newInvalidDocument(i){return new je(i,0,Vt.min(),Vt.min(),Vt.min(),hi.empty(),0)}static newFoundDocument(i,p,C,R){return new je(i,1,p,Vt.min(),C,R,0)}static newNoDocument(i,p){return new je(i,2,p,Vt.min(),Vt.min(),hi.empty(),0)}static newUnknownDocument(i,p){return new je(i,3,p,Vt.min(),Vt.min(),hi.empty(),2)}convertToFoundDocument(i,p){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=i),this.version=i,this.documentType=1,this.data=p,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(i){return i instanceof je&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(i,p){this.position=i,this.inclusive=p}}function Qc(x,i,p){let C=0;for(let R=0;R<x.position.length;R++){const I=i[R],c=x.position[R];if(I.field.isKeyField()?C=Ft.comparator(Ft.fromName(c.referenceValue),p.key):C=ir(c,p.data.field(I.field)),I.dir==="desc"&&(C*=-1),C!==0)break}return C}function jc(x,i){if(x===null)return i===null;if(i===null||x.inclusive!==i.inclusive||x.position.length!==i.position.length)return!1;for(let p=0;p<x.position.length;p++)if(!Ki(x.position[p],i.position[p]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(i,p="asc"){this.field=i,this.dir=p}}function D2(x,i){return x.dir===i.dir&&x.field.isEqual(i.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{}class Pe extends eg{constructor(i,p,C){super(),this.field=i,this.op=p,this.value=C}static create(i,p,C){return i.isKeyField()?p==="in"||p==="not-in"?this.createKeyFieldInFilter(i,p,C):new N2(i,p,C):p==="array-contains"?new V2(i,C):p==="in"?new G2(i,C):p==="not-in"?new U2(i,C):p==="array-contains-any"?new z2(i,C):new Pe(i,p,C)}static createKeyFieldInFilter(i,p,C){return p==="in"?new B2(i,C):new b2(i,C)}matches(i){const p=i.data.field(this.field);return this.op==="!="?p!==null&&this.matchesComparison(ir(p,this.value)):p!==null&&Hs(this.value)===Hs(p)&&this.matchesComparison(ir(p,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return i===0;case"!=":return i!==0;case">":return i>0;case">=":return i>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends eg{constructor(i,p){super(),this.filters=i,this.op=p,this.ce=null}static create(i,p){return new Li(i,p)}matches(i){return ig(this)?this.filters.find(p=>!p.matches(i))===void 0:this.filters.find(p=>p.matches(i))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((i,p)=>i.concat(p.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ig(x){return x.op==="and"}function sg(x){return O2(x)&&ig(x)}function O2(x){for(const i of x.filters)if(i instanceof Li)return!1;return!0}function jl(x){if(x instanceof Pe)return x.field.canonicalString()+x.op.toString()+sr(x.value);if(sg(x))return x.filters.map(i=>jl(i)).join(",");{const i=x.filters.map(p=>jl(p)).join(",");return`${x.op}(${i})`}}function ng(x,i){return x instanceof Pe?function(C,R){return R instanceof Pe&&C.op===R.op&&C.field.isEqual(R.field)&&Ki(C.value,R.value)}(x,i):x instanceof Li?function(C,R){return R instanceof Li&&C.op===R.op&&C.filters.length===R.filters.length?C.filters.reduce((I,c,S)=>I&&ng(c,R.filters[S]),!0):!1}(x,i):void Ot()}function rg(x){return x instanceof Pe?function(p){return`${p.field.canonicalString()} ${p.op} ${sr(p.value)}`}(x):x instanceof Li?function(p){return p.op.toString()+" {"+p.getFilters().map(rg).join(" ,")+"}"}(x):"Filter"}class N2 extends Pe{constructor(i,p,C){super(i,p,C),this.key=Ft.fromName(C.referenceValue)}matches(i){const p=Ft.comparator(i.key,this.key);return this.matchesComparison(p)}}class B2 extends Pe{constructor(i,p){super(i,"in",p),this.keys=ag("in",p)}matches(i){return this.keys.some(p=>p.isEqual(i.key))}}class b2 extends Pe{constructor(i,p){super(i,"not-in",p),this.keys=ag("not-in",p)}matches(i){return!this.keys.some(p=>p.isEqual(i.key))}}function ag(x,i){var p;return(((p=i.arrayValue)===null||p===void 0?void 0:p.values)||[]).map(C=>Ft.fromName(C.referenceValue))}class V2 extends Pe{constructor(i,p){super(i,"array-contains",p)}matches(i){const p=i.data.field(this.field);return zu(p)&&ua(p.arrayValue,this.value)}}class G2 extends Pe{constructor(i,p){super(i,"in",p)}matches(i){const p=i.data.field(this.field);return p!==null&&ua(this.value.arrayValue,p)}}class U2 extends Pe{constructor(i,p){super(i,"not-in",p)}matches(i){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const p=i.data.field(this.field);return p!==null&&!ua(this.value.arrayValue,p)}}class z2 extends Pe{constructor(i,p){super(i,"array-contains-any",p)}matches(i){const p=i.data.field(this.field);return!(!zu(p)||!p.arrayValue.values)&&p.arrayValue.values.some(C=>ua(this.value.arrayValue,C))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(i,p=null,C=[],R=[],I=null,c=null,S=null){this.path=i,this.collectionGroup=p,this.orderBy=C,this.filters=R,this.limit=I,this.startAt=c,this.endAt=S,this.le=null}}function Jc(x,i=null,p=[],C=[],R=null,I=null,c=null){return new X2(x,i,p,C,R,I,c)}function Xu(x){const i=Ut(x);if(i.le===null){let p=i.path.canonicalString();i.collectionGroup!==null&&(p+="|cg:"+i.collectionGroup),p+="|f:",p+=i.filters.map(C=>jl(C)).join(","),p+="|ob:",p+=i.orderBy.map(C=>function(I){return I.field.canonicalString()+I.dir}(C)).join(","),mh(i.limit)||(p+="|l:",p+=i.limit),i.startAt&&(p+="|lb:",p+=i.startAt.inclusive?"b:":"a:",p+=i.startAt.position.map(C=>sr(C)).join(",")),i.endAt&&(p+="|ub:",p+=i.endAt.inclusive?"a:":"b:",p+=i.endAt.position.map(C=>sr(C)).join(",")),i.le=p}return i.le}function Wu(x,i){if(x.limit!==i.limit||x.orderBy.length!==i.orderBy.length)return!1;for(let p=0;p<x.orderBy.length;p++)if(!D2(x.orderBy[p],i.orderBy[p]))return!1;if(x.filters.length!==i.filters.length)return!1;for(let p=0;p<x.filters.length;p++)if(!ng(x.filters[p],i.filters[p]))return!1;return x.collectionGroup===i.collectionGroup&&!!x.path.isEqual(i.path)&&!!jc(x.startAt,i.startAt)&&jc(x.endAt,i.endAt)}function Jl(x){return Ft.isDocumentKey(x.path)&&x.collectionGroup===null&&x.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(i,p=null,C=[],R=[],I=null,c="F",S=null,t=null){this.path=i,this.collectionGroup=p,this.explicitOrderBy=C,this.filters=R,this.limit=I,this.limitType=c,this.startAt=S,this.endAt=t,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function W2(x,i,p,C,R,I,c,S){return new Ta(x,i,p,C,R,I,c,S)}function xh(x){return new Ta(x)}function Zc(x){return x.filters.length===0&&x.limit===null&&x.startAt==null&&x.endAt==null&&(x.explicitOrderBy.length===0||x.explicitOrderBy.length===1&&x.explicitOrderBy[0].field.isKeyField())}function og(x){return x.collectionGroup!==null}function $r(x){const i=Ut(x);if(i.he===null){i.he=[];const p=new Set;for(const I of i.explicitOrderBy)i.he.push(I),p.add(I.field.canonicalString());const C=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";(function(c){let S=new Ie(Ge.comparator);return c.filters.forEach(t=>{t.getFlattenedFilters().forEach(h=>{h.isInequality()&&(S=S.add(h.field))})}),S})(i).forEach(I=>{p.has(I.canonicalString())||I.isKeyField()||i.he.push(new bo(I,C))}),p.has(Ge.keyField().canonicalString())||i.he.push(new bo(Ge.keyField(),C))}return i.he}function Wi(x){const i=Ut(x);return i.Pe||(i.Pe=Y2(i,$r(x))),i.Pe}function Y2(x,i){if(x.limitType==="F")return Jc(x.path,x.collectionGroup,i,x.filters,x.limit,x.startAt,x.endAt);{i=i.map(R=>{const I=R.dir==="desc"?"asc":"desc";return new bo(R.field,I)});const p=x.endAt?new Bo(x.endAt.position,x.endAt.inclusive):null,C=x.startAt?new Bo(x.startAt.position,x.startAt.inclusive):null;return Jc(x.path,x.collectionGroup,i,x.filters,x.limit,p,C)}}function Zl(x,i){const p=x.filters.concat([i]);return new Ta(x.path,x.collectionGroup,x.explicitOrderBy.slice(),p,x.limit,x.limitType,x.startAt,x.endAt)}function kl(x,i,p){return new Ta(x.path,x.collectionGroup,x.explicitOrderBy.slice(),x.filters.slice(),i,p,x.startAt,x.endAt)}function yh(x,i){return Wu(Wi(x),Wi(i))&&x.limitType===i.limitType}function hg(x){return`${Xu(Wi(x))}|lt:${x.limitType}`}function Un(x){return`Query(target=${function(p){let C=p.path.canonicalString();return p.collectionGroup!==null&&(C+=" collectionGroup="+p.collectionGroup),p.filters.length>0&&(C+=`, filters: [${p.filters.map(R=>rg(R)).join(", ")}]`),mh(p.limit)||(C+=", limit: "+p.limit),p.orderBy.length>0&&(C+=`, orderBy: [${p.orderBy.map(R=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(R)).join(", ")}]`),p.startAt&&(C+=", startAt: ",C+=p.startAt.inclusive?"b:":"a:",C+=p.startAt.position.map(R=>sr(R)).join(",")),p.endAt&&(C+=", endAt: ",C+=p.endAt.inclusive?"a:":"b:",C+=p.endAt.position.map(R=>sr(R)).join(",")),`Target(${C})`}(Wi(x))}; limitType=${x.limitType})`}function Th(x,i){return i.isFoundDocument()&&function(C,R){const I=R.key.path;return C.collectionGroup!==null?R.key.hasCollectionId(C.collectionGroup)&&C.path.isPrefixOf(I):Ft.isDocumentKey(C.path)?C.path.isEqual(I):C.path.isImmediateParentOf(I)}(x,i)&&function(C,R){for(const I of $r(C))if(!I.field.isKeyField()&&R.data.field(I.field)===null)return!1;return!0}(x,i)&&function(C,R){for(const I of C.filters)if(!I.matches(R))return!1;return!0}(x,i)&&function(C,R){return!(C.startAt&&!function(c,S,t){const h=Qc(c,S,t);return c.inclusive?h<=0:h<0}(C.startAt,$r(C),R)||C.endAt&&!function(c,S,t){const h=Qc(c,S,t);return c.inclusive?h>=0:h>0}(C.endAt,$r(C),R))}(x,i)}function H2(x){return x.collectionGroup||(x.path.length%2==1?x.path.lastSegment():x.path.get(x.path.length-2))}function lg(x){return(i,p)=>{let C=!1;for(const R of $r(x)){const I=K2(R,i,p);if(I!==0)return I;C=C||R.field.isKeyField()}return 0}}function K2(x,i,p){const C=x.field.isKeyField()?Ft.comparator(i.key,p.key):function(I,c,S){const t=c.data.field(I),h=S.data.field(I);return t!==null&&h!==null?ir(t,h):Ot()}(x.field,i,p);switch(x.dir){case"asc":return C;case"desc":return-1*C;default:return Ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(i,p){this.mapKeyFn=i,this.equalsFn=p,this.inner={},this.innerSize=0}get(i){const p=this.mapKeyFn(i),C=this.inner[p];if(C!==void 0){for(const[R,I]of C)if(this.equalsFn(R,i))return I}}has(i){return this.get(i)!==void 0}set(i,p){const C=this.mapKeyFn(i),R=this.inner[C];if(R===void 0)return this.inner[C]=[[i,p]],void this.innerSize++;for(let I=0;I<R.length;I++)if(this.equalsFn(R[I][0],i))return void(R[I]=[i,p]);R.push([i,p]),this.innerSize++}delete(i){const p=this.mapKeyFn(i),C=this.inner[p];if(C===void 0)return!1;for(let R=0;R<C.length;R++)if(this.equalsFn(C[R][0],i))return C.length===1?delete this.inner[p]:C.splice(R,1),this.innerSize--,!0;return!1}forEach(i){ks(this.inner,(p,C)=>{for(const[R,I]of C)i(R,I)})}isEmpty(){return $m(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new xe(Ft.comparator);function us(){return $2}const ug=new xe(Ft.comparator);function Or(...x){let i=ug;for(const p of x)i=i.insert(p.key,p);return i}function fg(x){let i=ug;return x.forEach((p,C)=>i=i.insert(p,C.overlayedDocument)),i}function fn(){return Qr()}function dg(){return Qr()}function Qr(){return new Mn(x=>x.toString(),(x,i)=>x.isEqual(i))}const Q2=new xe(Ft.comparator),j2=new Ie(Ft.comparator);function Kt(...x){let i=j2;for(const p of x)i=i.add(p);return i}const J2=new Ie(Qt);function Z2(){return J2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(x,i){if(x.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Do(i)?"-0":i}}function cg(x){return{integerValue:""+x}}function k2(x,i){return A2(i)?cg(i):Yu(x,i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function q2(x,i,p){return x instanceof Vo?function(R,I){const c={fields:{[Jm]:{stringValue:jm},[km]:{timestampValue:{seconds:R.seconds,nanos:R.nanoseconds}}}};return I&&Uu(I)&&(I=gh(I)),I&&(c.fields[Zm]=I),{mapValue:c}}(p,i):x instanceof fa?pg(x,i):x instanceof da?mg(x,i):function(R,I){const c=vg(R,I),S=kc(c)+kc(R.Ie);return Ql(c)&&Ql(R.Ie)?cg(S):Yu(R.serializer,S)}(x,i)}function _2(x,i,p){return x instanceof fa?pg(x,i):x instanceof da?mg(x,i):p}function vg(x,i){return x instanceof Go?function(C){return Ql(C)||function(I){return!!I&&"doubleValue"in I}(C)}(i)?i:{integerValue:0}:null}class Vo extends Eh{}class fa extends Eh{constructor(i){super(),this.elements=i}}function pg(x,i){const p=gg(i);for(const C of x.elements)p.some(R=>Ki(R,C))||p.push(C);return{arrayValue:{values:p}}}class da extends Eh{constructor(i){super(),this.elements=i}}function mg(x,i){let p=gg(i);for(const C of x.elements)p=p.filter(R=>!Ki(R,C));return{arrayValue:{values:p}}}class Go extends Eh{constructor(i,p){super(),this.serializer=i,this.Ie=p}}function kc(x){return Ee(x.integerValue||x.doubleValue)}function gg(x){return zu(x)&&x.arrayValue.values?x.arrayValue.values.slice():[]}function tC(x,i){return x.field.isEqual(i.field)&&function(C,R){return C instanceof fa&&R instanceof fa||C instanceof da&&R instanceof da?er(C.elements,R.elements,Ki):C instanceof Go&&R instanceof Go?Ki(C.Ie,R.Ie):C instanceof Vo&&R instanceof Vo}(x.transform,i.transform)}class eC{constructor(i,p){this.version=i,this.transformResults=p}}class Pi{constructor(i,p){this.updateTime=i,this.exists=p}static none(){return new Pi}static exists(i){return new Pi(void 0,i)}static updateTime(i){return new Pi(i)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function vo(x,i){return x.updateTime!==void 0?i.isFoundDocument()&&i.version.isEqual(x.updateTime):x.exists===void 0||x.exists===i.isFoundDocument()}class Sh{}function xg(x,i){if(!x.hasLocalMutations||i&&i.fields.length===0)return null;if(i===null)return x.isNoDocument()?new Tg(x.key,Pi.none()):new Ea(x.key,x.data,Pi.none());{const p=x.data,C=hi.empty();let R=new Ie(Ge.comparator);for(let I of i.fields)if(!R.has(I)){let c=p.field(I);c===null&&I.length>1&&(I=I.popLast(),c=p.field(I)),c===null?C.delete(I):C.set(I,c),R=R.add(I)}return new qs(x.key,C,new vi(R.toArray()),Pi.none())}}function iC(x,i,p){x instanceof Ea?function(R,I,c){const S=R.value.clone(),t=_c(R.fieldTransforms,I,c.transformResults);S.setAll(t),I.convertToFoundDocument(c.version,S).setHasCommittedMutations()}(x,i,p):x instanceof qs?function(R,I,c){if(!vo(R.precondition,I))return void I.convertToUnknownDocument(c.version);const S=_c(R.fieldTransforms,I,c.transformResults),t=I.data;t.setAll(yg(R)),t.setAll(S),I.convertToFoundDocument(c.version,t).setHasCommittedMutations()}(x,i,p):function(R,I,c){I.convertToNoDocument(c.version).setHasCommittedMutations()}(0,i,p)}function jr(x,i,p,C){return x instanceof Ea?function(I,c,S,t){if(!vo(I.precondition,c))return S;const h=I.value.clone(),m=tv(I.fieldTransforms,t,c);return h.setAll(m),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null}(x,i,p,C):x instanceof qs?function(I,c,S,t){if(!vo(I.precondition,c))return S;const h=tv(I.fieldTransforms,t,c),m=c.data;return m.setAll(yg(I)),m.setAll(h),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),S===null?null:S.unionWith(I.fieldMask.fields).unionWith(I.fieldTransforms.map(o=>o.field))}(x,i,p,C):function(I,c,S){return vo(I.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):S}(x,i,p)}function sC(x,i){let p=null;for(const C of x.fieldTransforms){const R=i.data.field(C.field),I=vg(C.transform,R||null);I!=null&&(p===null&&(p=hi.empty()),p.set(C.field,I))}return p||null}function qc(x,i){return x.type===i.type&&!!x.key.isEqual(i.key)&&!!x.precondition.isEqual(i.precondition)&&!!function(C,R){return C===void 0&&R===void 0||!(!C||!R)&&er(C,R,(I,c)=>tC(I,c))}(x.fieldTransforms,i.fieldTransforms)&&(x.type===0?x.value.isEqual(i.value):x.type!==1||x.data.isEqual(i.data)&&x.fieldMask.isEqual(i.fieldMask))}class Ea extends Sh{constructor(i,p,C,R=[]){super(),this.key=i,this.value=p,this.precondition=C,this.fieldTransforms=R,this.type=0}getFieldMask(){return null}}class qs extends Sh{constructor(i,p,C,R,I=[]){super(),this.key=i,this.data=p,this.fieldMask=C,this.precondition=R,this.fieldTransforms=I,this.type=1}getFieldMask(){return this.fieldMask}}function yg(x){const i=new Map;return x.fieldMask.fields.forEach(p=>{if(!p.isEmpty()){const C=x.data.field(p);i.set(p,C)}}),i}function _c(x,i,p){const C=new Map;ne(x.length===p.length);for(let R=0;R<p.length;R++){const I=x[R],c=I.transform,S=i.data.field(I.field);C.set(I.field,_2(c,S,p[R]))}return C}function tv(x,i,p){const C=new Map;for(const R of x){const I=R.transform,c=p.data.field(R.field);C.set(R.field,q2(I,c,i))}return C}class Tg extends Sh{constructor(i,p){super(),this.key=i,this.precondition=p,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nC extends Sh{constructor(i,p){super(),this.key=i,this.precondition=p,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(i,p,C,R){this.batchId=i,this.localWriteTime=p,this.baseMutations=C,this.mutations=R}applyToRemoteDocument(i,p){const C=p.mutationResults;for(let R=0;R<this.mutations.length;R++){const I=this.mutations[R];I.key.isEqual(i.key)&&iC(I,i,C[R])}}applyToLocalView(i,p){for(const C of this.baseMutations)C.key.isEqual(i.key)&&(p=jr(C,i,p,this.localWriteTime));for(const C of this.mutations)C.key.isEqual(i.key)&&(p=jr(C,i,p,this.localWriteTime));return p}applyToLocalDocumentSet(i,p){const C=dg();return this.mutations.forEach(R=>{const I=i.get(R.key),c=I.overlayedDocument;let S=this.applyToLocalView(c,I.mutatedFields);S=p.has(R.key)?null:S;const t=xg(c,S);t!==null&&C.set(R.key,t),c.isValidDocument()||c.convertToNoDocument(Vt.min())}),C}keys(){return this.mutations.reduce((i,p)=>i.add(p.key),Kt())}isEqual(i){return this.batchId===i.batchId&&er(this.mutations,i.mutations,(p,C)=>qc(p,C))&&er(this.baseMutations,i.baseMutations,(p,C)=>qc(p,C))}}class Hu{constructor(i,p,C,R){this.batch=i,this.commitVersion=p,this.mutationResults=C,this.docVersions=R}static from(i,p,C){ne(i.mutations.length===C.length);let R=function(){return Q2}();const I=i.mutations;for(let c=0;c<I.length;c++)R=R.insert(I[c].key,C[c].version);return new Hu(i,p,C,R)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(i,p){this.largestBatchId=i,this.mutation=p}getKey(){return this.mutation.key}isEqual(i){return i!==null&&this.mutation===i.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(i,p){this.count=i,this.unchangedNames=p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Jt;function hC(x){switch(x){case pt.OK:return Ot();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return Ot()}}function Eg(x){if(x===void 0)return ls("GRPC error has no .code"),pt.UNKNOWN;switch(x){case Ce.OK:return pt.OK;case Ce.CANCELLED:return pt.CANCELLED;case Ce.UNKNOWN:return pt.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return pt.INTERNAL;case Ce.UNAVAILABLE:return pt.UNAVAILABLE;case Ce.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Ce.NOT_FOUND:return pt.NOT_FOUND;case Ce.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Ce.ABORTED:return pt.ABORTED;case Ce.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Ce.DATA_LOSS:return pt.DATA_LOSS;default:return Ot()}}(Jt=Ce||(Ce={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Bs([4294967295,4294967295],0);function ev(x){const i=lC().encode(x),p=new Gm;return p.update(i),new Uint8Array(p.digest())}function iv(x){const i=new DataView(x.buffer),p=i.getUint32(0,!0),C=i.getUint32(4,!0),R=i.getUint32(8,!0),I=i.getUint32(12,!0);return[new Bs([p,C],0),new Bs([R,I],0)]}class Ku{constructor(i,p,C){if(this.bitmap=i,this.padding=p,this.hashCount=C,p<0||p>=8)throw new Nr(`Invalid padding: ${p}`);if(C<0)throw new Nr(`Invalid hash count: ${C}`);if(i.length>0&&this.hashCount===0)throw new Nr(`Invalid hash count: ${C}`);if(i.length===0&&p!==0)throw new Nr(`Invalid padding when bitmap length is 0: ${p}`);this.Ee=8*i.length-p,this.de=Bs.fromNumber(this.Ee)}Ae(i,p,C){let R=i.add(p.multiply(Bs.fromNumber(C)));return R.compare(uC)===1&&(R=new Bs([R.getBits(0),R.getBits(1)],0)),R.modulo(this.de).toNumber()}Re(i){return!!(this.bitmap[Math.floor(i/8)]&1<<i%8)}mightContain(i){if(this.Ee===0)return!1;const p=ev(i),[C,R]=iv(p);for(let I=0;I<this.hashCount;I++){const c=this.Ae(C,R,I);if(!this.Re(c))return!1}return!0}static create(i,p,C){const R=i%8==0?0:8-i%8,I=new Uint8Array(Math.ceil(i/8)),c=new Ku(I,R,p);return C.forEach(S=>c.insert(S)),c}insert(i){if(this.Ee===0)return;const p=ev(i),[C,R]=iv(p);for(let I=0;I<this.hashCount;I++){const c=this.Ae(C,R,I);this.Ve(c)}}Ve(i){const p=Math.floor(i/8),C=i%8;this.bitmap[p]|=1<<C}}class Nr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(i,p,C,R,I){this.snapshotVersion=i,this.targetChanges=p,this.targetMismatches=C,this.documentUpdates=R,this.resolvedLimboDocuments=I}static createSynthesizedRemoteEventForCurrentChange(i,p,C){const R=new Map;return R.set(i,Sa.createSynthesizedTargetChangeForCurrentChange(i,p,C)),new Ch(Vt.min(),R,new xe(Qt),us(),Kt())}}class Sa{constructor(i,p,C,R,I){this.resumeToken=i,this.current=p,this.addedDocuments=C,this.modifiedDocuments=R,this.removedDocuments=I}static createSynthesizedTargetChangeForCurrentChange(i,p,C){return new Sa(C,p,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(i,p,C,R){this.me=i,this.removedTargetIds=p,this.key=C,this.fe=R}}class Sg{constructor(i,p){this.targetId=i,this.ge=p}}class Cg{constructor(i,p,C=Xe.EMPTY_BYTE_STRING,R=null){this.state=i,this.targetIds=p,this.resumeToken=C,this.cause=R}}class sv{constructor(){this.pe=0,this.ye=nv(),this.we=Xe.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(i){i.approximateByteSize()>0&&(this.Se=!0,this.we=i)}Fe(){let i=Kt(),p=Kt(),C=Kt();return this.ye.forEach((R,I)=>{switch(I){case 0:i=i.add(R);break;case 2:p=p.add(R);break;case 1:C=C.add(R);break;default:Ot()}}),new Sa(this.we,this.be,i,p,C)}Me(){this.Se=!1,this.ye=nv()}xe(i,p){this.Se=!0,this.ye=this.ye.insert(i,p)}Oe(i){this.Se=!0,this.ye=this.ye.remove(i)}Ne(){this.pe+=1}Be(){this.pe-=1,ne(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class fC{constructor(i){this.ke=i,this.qe=new Map,this.Qe=us(),this.$e=_a(),this.Ke=_a(),this.Ue=new xe(Qt)}We(i){for(const p of i.me)i.fe&&i.fe.isFoundDocument()?this.Ge(p,i.fe):this.ze(p,i.key,i.fe);for(const p of i.removedTargetIds)this.ze(p,i.key,i.fe)}je(i){this.forEachTarget(i,p=>{const C=this.He(p);switch(i.state){case 0:this.Je(p)&&C.Ce(i.resumeToken);break;case 1:C.Be(),C.De||C.Me(),C.Ce(i.resumeToken);break;case 2:C.Be(),C.De||this.removeTarget(p);break;case 3:this.Je(p)&&(C.Le(),C.Ce(i.resumeToken));break;case 4:this.Je(p)&&(this.Ye(p),C.Ce(i.resumeToken));break;default:Ot()}})}forEachTarget(i,p){i.targetIds.length>0?i.targetIds.forEach(p):this.qe.forEach((C,R)=>{this.Je(R)&&p(R)})}Ze(i){const p=i.targetId,C=i.ge.count,R=this.Xe(p);if(R){const I=R.target;if(Jl(I))if(C===0){const c=new Ft(I.path);this.ze(p,c,je.newNoDocument(c,Vt.min()))}else ne(C===1);else{const c=this.et(p);if(c!==C){const S=this.tt(i),t=S?this.nt(S,i,c):1;if(t!==0){this.Ye(p);const h=t===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(p,h)}}}}}tt(i){const p=i.ge.unchangedNames;if(!p||!p.bits)return null;const{bits:{bitmap:C="",padding:R=0},hashCount:I=0}=p;let c,S;try{c=Ys(C).toUint8Array()}catch(t){if(t instanceof Qm)return aa("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{S=new Ku(c,R,I)}catch(t){return aa(t instanceof Nr?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return S.Ee===0?null:S}nt(i,p,C){return p.ge.count===C-this.st(i,p.targetId)?0:2}st(i,p){const C=this.ke.getRemoteKeysForTarget(p);let R=0;return C.forEach(I=>{const c=this.ke.it(),S=`projects/${c.projectId}/databases/${c.database}/documents/${I.path.canonicalString()}`;i.mightContain(S)||(this.ze(p,I,null),R++)}),R}ot(i){const p=new Map;this.qe.forEach((I,c)=>{const S=this.Xe(c);if(S){if(I.current&&Jl(S.target)){const t=new Ft(S.target.path);this._t(t).has(c)||this.ut(c,t)||this.ze(c,t,je.newNoDocument(t,i))}I.ve&&(p.set(c,I.Fe()),I.Me())}});let C=Kt();this.Ke.forEach((I,c)=>{let S=!0;c.forEachWhile(t=>{const h=this.Xe(t);return!h||h.purpose==="TargetPurposeLimboResolution"||(S=!1,!1)}),S&&(C=C.add(I))}),this.Qe.forEach((I,c)=>c.setReadTime(i));const R=new Ch(i,p,this.Ue,this.Qe,C);return this.Qe=us(),this.$e=_a(),this.Ke=_a(),this.Ue=new xe(Qt),R}Ge(i,p){if(!this.Je(i))return;const C=this.ut(i,p.key)?2:0;this.He(i).xe(p.key,C),this.Qe=this.Qe.insert(p.key,p),this.$e=this.$e.insert(p.key,this._t(p.key).add(i)),this.Ke=this.Ke.insert(p.key,this.ct(p.key).add(i))}ze(i,p,C){if(!this.Je(i))return;const R=this.He(i);this.ut(i,p)?R.xe(p,1):R.Oe(p),this.Ke=this.Ke.insert(p,this.ct(p).delete(i)),this.Ke=this.Ke.insert(p,this.ct(p).add(i)),C&&(this.Qe=this.Qe.insert(p,C))}removeTarget(i){this.qe.delete(i)}et(i){const p=this.He(i).Fe();return this.ke.getRemoteKeysForTarget(i).size+p.addedDocuments.size-p.removedDocuments.size}Ne(i){this.He(i).Ne()}He(i){let p=this.qe.get(i);return p||(p=new sv,this.qe.set(i,p)),p}ct(i){let p=this.Ke.get(i);return p||(p=new Ie(Qt),this.Ke=this.Ke.insert(i,p)),p}_t(i){let p=this.$e.get(i);return p||(p=new Ie(Qt),this.$e=this.$e.insert(i,p)),p}Je(i){const p=this.Xe(i)!==null;return p||At("WatchChangeAggregator","Detected inactive target",i),p}Xe(i){const p=this.qe.get(i);return p&&p.De?null:this.ke.lt(i)}Ye(i){this.qe.set(i,new sv),this.ke.getRemoteKeysForTarget(i).forEach(p=>{this.ze(i,p,null)})}ut(i,p){return this.ke.getRemoteKeysForTarget(i).has(p)}}function _a(){return new xe(Ft.comparator)}function nv(){return new xe(Ft.comparator)}const dC={asc:"ASCENDING",desc:"DESCENDING"},cC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vC={and:"AND",or:"OR"};class pC{constructor(i,p){this.databaseId=i,this.useProto3Json=p}}function ql(x,i){return x.useProto3Json||mh(i)?i:{value:i}}function Uo(x,i){return x.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Ag(x,i){return x.useProto3Json?i.toBase64():i.toUint8Array()}function mC(x,i){return Uo(x,i.toTimestamp())}function Yi(x){return ne(!!x),Vt.fromTimestamp(function(p){const C=Ws(p);return new Me(C.seconds,C.nanos)}(x))}function $u(x,i){return _l(x,i).canonicalString()}function _l(x,i){const p=function(R){return new me(["projects",R.projectId,"databases",R.database])}(x).child("documents");return i===void 0?p:p.child(i)}function Pg(x){const i=me.fromString(x);return ne(Lg(i)),i}function tu(x,i){return $u(x.databaseId,i.path)}function gl(x,i){const p=Pg(i);if(p.get(1)!==x.databaseId.projectId)throw new Pt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+p.get(1)+" vs "+x.databaseId.projectId);if(p.get(3)!==x.databaseId.database)throw new Pt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+p.get(3)+" vs "+x.databaseId.database);return new Ft(wg(p))}function Rg(x,i){return $u(x.databaseId,i)}function gC(x){const i=Pg(x);return i.length===4?me.emptyPath():wg(i)}function eu(x){return new me(["projects",x.databaseId.projectId,"databases",x.databaseId.database]).canonicalString()}function wg(x){return ne(x.length>4&&x.get(4)==="documents"),x.popFirst(5)}function rv(x,i,p){return{name:tu(x,i),fields:p.value.mapValue.fields}}function xC(x,i){let p;if("targetChange"in i){i.targetChange;const C=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ot()}(i.targetChange.targetChangeType||"NO_CHANGE"),R=i.targetChange.targetIds||[],I=function(h,m){return h.useProto3Json?(ne(m===void 0||typeof m=="string"),Xe.fromBase64String(m||"")):(ne(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Xe.fromUint8Array(m||new Uint8Array))}(x,i.targetChange.resumeToken),c=i.targetChange.cause,S=c&&function(h){const m=h.code===void 0?pt.UNKNOWN:Eg(h.code);return new Pt(m,h.message||"")}(c);p=new Cg(C,R,I,S||null)}else if("documentChange"in i){i.documentChange;const C=i.documentChange;C.document,C.document.name,C.document.updateTime;const R=gl(x,C.document.name),I=Yi(C.document.updateTime),c=C.document.createTime?Yi(C.document.createTime):Vt.min(),S=new hi({mapValue:{fields:C.document.fields}}),t=je.newFoundDocument(R,I,c,S),h=C.targetIds||[],m=C.removedTargetIds||[];p=new po(h,m,t.key,t)}else if("documentDelete"in i){i.documentDelete;const C=i.documentDelete;C.document;const R=gl(x,C.document),I=C.readTime?Yi(C.readTime):Vt.min(),c=je.newNoDocument(R,I),S=C.removedTargetIds||[];p=new po([],S,c.key,c)}else if("documentRemove"in i){i.documentRemove;const C=i.documentRemove;C.document;const R=gl(x,C.document),I=C.removedTargetIds||[];p=new po([],I,R,null)}else{if(!("filter"in i))return Ot();{i.filter;const C=i.filter;C.targetId;const{count:R=0,unchangedNames:I}=C,c=new oC(R,I),S=C.targetId;p=new Sg(S,c)}}return p}function yC(x,i){let p;if(i instanceof Ea)p={update:rv(x,i.key,i.value)};else if(i instanceof Tg)p={delete:tu(x,i.key)};else if(i instanceof qs)p={update:rv(x,i.key,i.data),updateMask:MC(i.fieldMask)};else{if(!(i instanceof nC))return Ot();p={verify:tu(x,i.key)}}return i.fieldTransforms.length>0&&(p.updateTransforms=i.fieldTransforms.map(C=>function(I,c){const S=c.transform;if(S instanceof Vo)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof fa)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof da)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Go)return{fieldPath:c.field.canonicalString(),increment:S.Ie};throw Ot()}(0,C))),i.precondition.isNone||(p.currentDocument=function(R,I){return I.updateTime!==void 0?{updateTime:mC(R,I.updateTime)}:I.exists!==void 0?{exists:I.exists}:Ot()}(x,i.precondition)),p}function TC(x,i){return x&&x.length>0?(ne(i!==void 0),x.map(p=>function(R,I){let c=R.updateTime?Yi(R.updateTime):Yi(I);return c.isEqual(Vt.min())&&(c=Yi(I)),new eC(c,R.transformResults||[])}(p,i))):[]}function EC(x,i){return{documents:[Rg(x,i.path)]}}function SC(x,i){const p={structuredQuery:{}},C=i.path;let R;i.collectionGroup!==null?(R=C,p.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(R=C.popLast(),p.structuredQuery.from=[{collectionId:C.lastSegment()}]),p.parent=Rg(x,R);const I=function(h){if(h.length!==0)return Ig(Li.create(h,"and"))}(i.filters);I&&(p.structuredQuery.where=I);const c=function(h){if(h.length!==0)return h.map(m=>function(a){return{field:zn(a.field),direction:PC(a.dir)}}(m))}(i.orderBy);c&&(p.structuredQuery.orderBy=c);const S=ql(x,i.limit);return S!==null&&(p.structuredQuery.limit=S),i.startAt&&(p.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(i.startAt)),i.endAt&&(p.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(i.endAt)),{ht:p,parent:R}}function CC(x){let i=gC(x.parent);const p=x.structuredQuery,C=p.from?p.from.length:0;let R=null;if(C>0){ne(C===1);const m=p.from[0];m.allDescendants?R=m.collectionId:i=i.child(m.collectionId)}let I=[];p.where&&(I=function(o){const a=Mg(o);return a instanceof Li&&sg(a)?a.getFilters():[a]}(p.where));let c=[];p.orderBy&&(c=function(o){return o.map(a=>function(e){return new bo(Xn(e.field),function(l){switch(l){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(a))}(p.orderBy));let S=null;p.limit&&(S=function(o){let a;return a=typeof o=="object"?o.value:o,mh(a)?null:a}(p.limit));let t=null;p.startAt&&(t=function(o){const a=!!o.before,r=o.values||[];return new Bo(r,a)}(p.startAt));let h=null;return p.endAt&&(h=function(o){const a=!o.before,r=o.values||[];return new Bo(r,a)}(p.endAt)),W2(i,R,c,I,S,"F",t,h)}function AC(x,i){const p=function(R){switch(R){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(i.purpose);return p==null?null:{"goog-listen-tags":p}}function Mg(x){return x.unaryFilter!==void 0?function(p){switch(p.unaryFilter.op){case"IS_NAN":const C=Xn(p.unaryFilter.field);return Pe.create(C,"==",{doubleValue:NaN});case"IS_NULL":const R=Xn(p.unaryFilter.field);return Pe.create(R,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const I=Xn(p.unaryFilter.field);return Pe.create(I,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xn(p.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(x):x.fieldFilter!==void 0?function(p){return Pe.create(Xn(p.fieldFilter.field),function(R){switch(R){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(p.fieldFilter.op),p.fieldFilter.value)}(x):x.compositeFilter!==void 0?function(p){return Li.create(p.compositeFilter.filters.map(C=>Mg(C)),function(R){switch(R){case"AND":return"and";case"OR":return"or";default:return Ot()}}(p.compositeFilter.op))}(x):Ot()}function PC(x){return dC[x]}function RC(x){return cC[x]}function wC(x){return vC[x]}function zn(x){return{fieldPath:x.canonicalString()}}function Xn(x){return Ge.fromServerFormat(x.fieldPath)}function Ig(x){return x instanceof Pe?function(p){if(p.op==="=="){if($c(p.value))return{unaryFilter:{field:zn(p.field),op:"IS_NAN"}};if(Kc(p.value))return{unaryFilter:{field:zn(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if($c(p.value))return{unaryFilter:{field:zn(p.field),op:"IS_NOT_NAN"}};if(Kc(p.value))return{unaryFilter:{field:zn(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zn(p.field),op:RC(p.op),value:p.value}}}(x):x instanceof Li?function(p){const C=p.getFilters().map(R=>Ig(R));return C.length===1?C[0]:{compositeFilter:{op:wC(p.op),filters:C}}}(x):Ot()}function MC(x){const i=[];return x.fields.forEach(p=>i.push(p.canonicalString())),{fieldPaths:i}}function Lg(x){return x.length>=4&&x.get(0)==="projects"&&x.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(i,p,C,R,I=Vt.min(),c=Vt.min(),S=Xe.EMPTY_BYTE_STRING,t=null){this.target=i,this.targetId=p,this.purpose=C,this.sequenceNumber=R,this.snapshotVersion=I,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=S,this.expectedCount=t}withSequenceNumber(i){return new Ls(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,p){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,p,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(i){this.Tt=i}}function LC(x){const i=CC({parent:x.parent,structuredQuery:x.structuredQuery});return x.limitType==="LAST"?kl(i,i.limit,"L"):i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.Tn=new DC}addToCollectionParentIndex(i,p){return this.Tn.add(p),mt.resolve()}getCollectionParents(i,p){return mt.resolve(this.Tn.getEntries(p))}addFieldIndex(i,p){return mt.resolve()}deleteFieldIndex(i,p){return mt.resolve()}deleteAllFieldIndexes(i){return mt.resolve()}createTargetIndexes(i,p){return mt.resolve()}getDocumentsMatchingTarget(i,p){return mt.resolve(null)}getIndexType(i,p){return mt.resolve(0)}getFieldIndexes(i,p){return mt.resolve([])}getNextCollectionGroupToUpdate(i){return mt.resolve(null)}getMinOffset(i,p){return mt.resolve(Xs.min())}getMinOffsetFromCollectionGroup(i,p){return mt.resolve(Xs.min())}updateCollectionGroup(i,p,C){return mt.resolve()}updateIndexEntries(i,p){return mt.resolve()}}class DC{constructor(){this.index={}}add(i){const p=i.lastSegment(),C=i.popLast(),R=this.index[p]||new Ie(me.comparator),I=!R.has(C);return this.index[p]=R.add(C),I}has(i){const p=i.lastSegment(),C=i.popLast(),R=this.index[p];return R&&R.has(C)}getEntries(i){return(this.index[i]||new Ie(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fg=41943040;class ri{static withCacheSize(i){return new ri(i,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(i,p,C){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=p,this.maximumSequenceNumbersToCollect=C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(Fg,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(i){this.$n=i}next(){return this.$n+=2,this.$n}static Kn(){return new nr(0)}static Un(){return new nr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",Dg=1048576;function hv([x,i],[p,C]){const R=Qt(x,p);return R===0?Qt(i,C):R}class OC{constructor(i){this.Hn=i,this.buffer=new Ie(hv),this.Jn=0}Yn(){return++this.Jn}Zn(i){const p=[i,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(p);else{const C=this.buffer.last();hv(p,C)<0&&(this.buffer=this.buffer.delete(C).add(p))}}get maxValue(){return this.buffer.last()[0]}}class NC{constructor(i,p,C){this.garbageCollector=i,this.asyncQueue=p,this.localStore=C,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(i){At(ov,`Garbage collection scheduled in ${i}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(p){vr(p)?At(ov,"Ignoring IndexedDB error during garbage collection: ",p):await cr(p)}await this.er(3e5)})}}class BC{constructor(i,p){this.tr=i,this.params=p}calculateTargetCount(i,p){return this.tr.nr(i).next(C=>Math.floor(p/100*C))}nthSequenceNumber(i,p){if(p===0)return mt.resolve(ph.ae);const C=new OC(p);return this.tr.forEachTarget(i,R=>C.Zn(R.sequenceNumber)).next(()=>this.tr.rr(i,R=>C.Zn(R))).next(()=>C.maxValue)}removeTargets(i,p,C){return this.tr.removeTargets(i,p,C)}removeOrphanedDocuments(i,p){return this.tr.removeOrphanedDocuments(i,p)}collect(i,p){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(av)):this.getCacheSize(i).next(C=>C<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${C} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.ir(i,p))}getCacheSize(i){return this.tr.getCacheSize(i)}ir(i,p){let C,R,I,c,S,t,h;const m=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(o=>(o>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${o}`),R=this.params.maximumSequenceNumbersToCollect):R=o,c=Date.now(),this.nthSequenceNumber(i,R))).next(o=>(C=o,S=Date.now(),this.removeTargets(i,C,p))).next(o=>(I=o,t=Date.now(),this.removeOrphanedDocuments(i,C))).next(o=>(h=Date.now(),Gn()<=Yt.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-m}ms
	Determined least recently used ${R} in `+(S-c)+`ms
	Removed ${I} targets in `+(t-S)+`ms
	Removed ${o} documents in `+(h-t)+`ms
Total Duration: ${h-m}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:R,targetsRemoved:I,documentsRemoved:o})))}}function bC(x,i){return new BC(x,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.changes=new Mn(i=>i.toString(),(i,p)=>i.isEqual(p)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,p){this.assertNotApplied(),this.changes.set(i,je.newInvalidDocument(i).setReadTime(p))}getEntry(i,p){this.assertNotApplied();const C=this.changes.get(p);return C!==void 0?mt.resolve(C):this.getFromCache(i,p)}getEntries(i,p){return this.getAllFromCache(i,p)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(i,p){this.overlayedDocument=i,this.mutatedFields=p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(i,p,C,R){this.remoteDocumentCache=i,this.mutationQueue=p,this.documentOverlayCache=C,this.indexManager=R}getDocument(i,p){let C=null;return this.documentOverlayCache.getOverlay(i,p).next(R=>(C=R,this.remoteDocumentCache.getEntry(i,p))).next(R=>(C!==null&&jr(C.mutation,R,vi.empty(),Me.now()),R))}getDocuments(i,p){return this.remoteDocumentCache.getEntries(i,p).next(C=>this.getLocalViewOfDocuments(i,C,Kt()).next(()=>C))}getLocalViewOfDocuments(i,p,C=Kt()){const R=fn();return this.populateOverlays(i,R,p).next(()=>this.computeViews(i,p,R,C).next(I=>{let c=Or();return I.forEach((S,t)=>{c=c.insert(S,t.overlayedDocument)}),c}))}getOverlayedDocuments(i,p){const C=fn();return this.populateOverlays(i,C,p).next(()=>this.computeViews(i,p,C,Kt()))}populateOverlays(i,p,C){const R=[];return C.forEach(I=>{p.has(I)||R.push(I)}),this.documentOverlayCache.getOverlays(i,R).next(I=>{I.forEach((c,S)=>{p.set(c,S)})})}computeViews(i,p,C,R){let I=us();const c=Qr(),S=function(){return Qr()}();return p.forEach((t,h)=>{const m=C.get(h.key);R.has(h.key)&&(m===void 0||m.mutation instanceof qs)?I=I.insert(h.key,h):m!==void 0?(c.set(h.key,m.mutation.getFieldMask()),jr(m.mutation,h,m.mutation.getFieldMask(),Me.now())):c.set(h.key,vi.empty())}),this.recalculateAndSaveOverlays(i,I).next(t=>(t.forEach((h,m)=>c.set(h,m)),p.forEach((h,m)=>{var o;return S.set(h,new GC(m,(o=c.get(h))!==null&&o!==void 0?o:null))}),S))}recalculateAndSaveOverlays(i,p){const C=Qr();let R=new xe((c,S)=>c-S),I=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,p).next(c=>{for(const S of c)S.keys().forEach(t=>{const h=p.get(t);if(h===null)return;let m=C.get(t)||vi.empty();m=S.applyToLocalView(h,m),C.set(t,m);const o=(R.get(S.batchId)||Kt()).add(t);R=R.insert(S.batchId,o)})}).next(()=>{const c=[],S=R.getReverseIterator();for(;S.hasNext();){const t=S.getNext(),h=t.key,m=t.value,o=dg();m.forEach(a=>{if(!I.has(a)){const r=xg(p.get(a),C.get(a));r!==null&&o.set(a,r),I=I.add(a)}}),c.push(this.documentOverlayCache.saveOverlays(i,h,o))}return mt.waitFor(c)}).next(()=>C)}recalculateAndSaveOverlaysForDocumentKeys(i,p){return this.remoteDocumentCache.getEntries(i,p).next(C=>this.recalculateAndSaveOverlays(i,C))}getDocumentsMatchingQuery(i,p,C,R){return function(c){return Ft.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(p)?this.getDocumentsMatchingDocumentQuery(i,p.path):og(p)?this.getDocumentsMatchingCollectionGroupQuery(i,p,C,R):this.getDocumentsMatchingCollectionQuery(i,p,C,R)}getNextDocuments(i,p,C,R){return this.remoteDocumentCache.getAllFromCollectionGroup(i,p,C,R).next(I=>{const c=R-I.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,p,C.largestBatchId,R-I.size):mt.resolve(fn());let S=oa,t=I;return c.next(h=>mt.forEach(h,(m,o)=>(S<o.largestBatchId&&(S=o.largestBatchId),I.get(m)?mt.resolve():this.remoteDocumentCache.getEntry(i,m).next(a=>{t=t.insert(m,a)}))).next(()=>this.populateOverlays(i,h,I)).next(()=>this.computeViews(i,t,h,Kt())).next(m=>({batchId:S,changes:fg(m)})))})}getDocumentsMatchingDocumentQuery(i,p){return this.getDocument(i,new Ft(p)).next(C=>{let R=Or();return C.isFoundDocument()&&(R=R.insert(C.key,C)),R})}getDocumentsMatchingCollectionGroupQuery(i,p,C,R){const I=p.collectionGroup;let c=Or();return this.indexManager.getCollectionParents(i,I).next(S=>mt.forEach(S,t=>{const h=function(o,a){return new Ta(a,null,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(p,t.child(I));return this.getDocumentsMatchingCollectionQuery(i,h,C,R).next(m=>{m.forEach((o,a)=>{c=c.insert(o,a)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(i,p,C,R){let I;return this.documentOverlayCache.getOverlaysForCollection(i,p.path,C.largestBatchId).next(c=>(I=c,this.remoteDocumentCache.getDocumentsMatchingQuery(i,p,C,I,R))).next(c=>{I.forEach((t,h)=>{const m=h.getKey();c.get(m)===null&&(c=c.insert(m,je.newInvalidDocument(m)))});let S=Or();return c.forEach((t,h)=>{const m=I.get(t);m!==void 0&&jr(m.mutation,h,vi.empty(),Me.now()),Th(p,h)&&(S=S.insert(t,h))}),S})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(i){this.serializer=i,this.dr=new Map,this.Ar=new Map}getBundleMetadata(i,p){return mt.resolve(this.dr.get(p))}saveBundleMetadata(i,p){return this.dr.set(p.id,function(R){return{id:R.id,version:R.version,createTime:Yi(R.createTime)}}(p)),mt.resolve()}getNamedQuery(i,p){return mt.resolve(this.Ar.get(p))}saveNamedQuery(i,p){return this.Ar.set(p.name,function(R){return{name:R.name,query:LC(R.bundledQuery),readTime:Yi(R.readTime)}}(p)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.overlays=new xe(Ft.comparator),this.Rr=new Map}getOverlay(i,p){return mt.resolve(this.overlays.get(p))}getOverlays(i,p){const C=fn();return mt.forEach(p,R=>this.getOverlay(i,R).next(I=>{I!==null&&C.set(R,I)})).next(()=>C)}saveOverlays(i,p,C){return C.forEach((R,I)=>{this.Et(i,p,I)}),mt.resolve()}removeOverlaysForBatchId(i,p,C){const R=this.Rr.get(C);return R!==void 0&&(R.forEach(I=>this.overlays=this.overlays.remove(I)),this.Rr.delete(C)),mt.resolve()}getOverlaysForCollection(i,p,C){const R=fn(),I=p.length+1,c=new Ft(p.child("")),S=this.overlays.getIteratorFrom(c);for(;S.hasNext();){const t=S.getNext().value,h=t.getKey();if(!p.isPrefixOf(h.path))break;h.path.length===I&&t.largestBatchId>C&&R.set(t.getKey(),t)}return mt.resolve(R)}getOverlaysForCollectionGroup(i,p,C,R){let I=new xe((h,m)=>h-m);const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===p&&h.largestBatchId>C){let m=I.get(h.largestBatchId);m===null&&(m=fn(),I=I.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const S=fn(),t=I.getIterator();for(;t.hasNext()&&(t.getNext().value.forEach((h,m)=>S.set(h,m)),!(S.size()>=R)););return mt.resolve(S)}Et(i,p,C){const R=this.overlays.get(C.key);if(R!==null){const c=this.Rr.get(R.largestBatchId).delete(C.key);this.Rr.set(R.largestBatchId,c)}this.overlays=this.overlays.insert(C.key,new aC(p,C));let I=this.Rr.get(p);I===void 0&&(I=Kt(),this.Rr.set(p,I)),this.Rr.set(p,I.add(C.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(i){return mt.resolve(this.sessionToken)}setSessionToken(i,p){return this.sessionToken=p,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.Vr=new Ie(Fe.mr),this.gr=new Ie(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(i,p){const C=new Fe(i,p);this.Vr=this.Vr.add(C),this.gr=this.gr.add(C)}yr(i,p){i.forEach(C=>this.addReference(C,p))}removeReference(i,p){this.wr(new Fe(i,p))}br(i,p){i.forEach(C=>this.removeReference(C,p))}Sr(i){const p=new Ft(new me([])),C=new Fe(p,i),R=new Fe(p,i+1),I=[];return this.gr.forEachInRange([C,R],c=>{this.wr(c),I.push(c.key)}),I}Dr(){this.Vr.forEach(i=>this.wr(i))}wr(i){this.Vr=this.Vr.delete(i),this.gr=this.gr.delete(i)}vr(i){const p=new Ft(new me([])),C=new Fe(p,i),R=new Fe(p,i+1);let I=Kt();return this.gr.forEachInRange([C,R],c=>{I=I.add(c.key)}),I}containsKey(i){const p=new Fe(i,0),C=this.Vr.firstAfterOrEqual(p);return C!==null&&i.isEqual(C.key)}}class Fe{constructor(i,p){this.key=i,this.Cr=p}static mr(i,p){return Ft.comparator(i.key,p.key)||Qt(i.Cr,p.Cr)}static pr(i,p){return Qt(i.Cr,p.Cr)||Ft.comparator(i.key,p.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(i,p){this.indexManager=i,this.referenceDelegate=p,this.mutationQueue=[],this.Fr=1,this.Mr=new Ie(Fe.mr)}checkEmpty(i){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(i,p,C,R){const I=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rC(I,p,C,R);this.mutationQueue.push(c);for(const S of R)this.Mr=this.Mr.add(new Fe(S.key,I)),this.indexManager.addToCollectionParentIndex(i,S.key.path.popLast());return mt.resolve(c)}lookupMutationBatch(i,p){return mt.resolve(this.Or(p))}getNextMutationBatchAfterBatchId(i,p){const C=p+1,R=this.Nr(C),I=R<0?0:R;return mt.resolve(this.mutationQueue.length>I?this.mutationQueue[I]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Gu:this.Fr-1)}getAllMutationBatches(i){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,p){const C=new Fe(p,0),R=new Fe(p,Number.POSITIVE_INFINITY),I=[];return this.Mr.forEachInRange([C,R],c=>{const S=this.Or(c.Cr);I.push(S)}),mt.resolve(I)}getAllMutationBatchesAffectingDocumentKeys(i,p){let C=new Ie(Qt);return p.forEach(R=>{const I=new Fe(R,0),c=new Fe(R,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([I,c],S=>{C=C.add(S.Cr)})}),mt.resolve(this.Br(C))}getAllMutationBatchesAffectingQuery(i,p){const C=p.path,R=C.length+1;let I=C;Ft.isDocumentKey(I)||(I=I.child(""));const c=new Fe(new Ft(I),0);let S=new Ie(Qt);return this.Mr.forEachWhile(t=>{const h=t.key.path;return!!C.isPrefixOf(h)&&(h.length===R&&(S=S.add(t.Cr)),!0)},c),mt.resolve(this.Br(S))}Br(i){const p=[];return i.forEach(C=>{const R=this.Or(C);R!==null&&p.push(R)}),p}removeMutationBatch(i,p){ne(this.Lr(p.batchId,"removed")===0),this.mutationQueue.shift();let C=this.Mr;return mt.forEach(p.mutations,R=>{const I=new Fe(R.key,p.batchId);return C=C.delete(I),this.referenceDelegate.markPotentiallyOrphaned(i,R.key)}).next(()=>{this.Mr=C})}qn(i){}containsKey(i,p){const C=new Fe(p,0),R=this.Mr.firstAfterOrEqual(C);return mt.resolve(p.isEqual(R&&R.key))}performConsistencyCheck(i){return this.mutationQueue.length,mt.resolve()}Lr(i,p){return this.Nr(i)}Nr(i){return this.mutationQueue.length===0?0:i-this.mutationQueue[0].batchId}Or(i){const p=this.Nr(i);return p<0||p>=this.mutationQueue.length?null:this.mutationQueue[p]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(i){this.kr=i,this.docs=function(){return new xe(Ft.comparator)}(),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,p){const C=p.key,R=this.docs.get(C),I=R?R.size:0,c=this.kr(p);return this.docs=this.docs.insert(C,{document:p.mutableCopy(),size:c}),this.size+=c-I,this.indexManager.addToCollectionParentIndex(i,C.path.popLast())}removeEntry(i){const p=this.docs.get(i);p&&(this.docs=this.docs.remove(i),this.size-=p.size)}getEntry(i,p){const C=this.docs.get(p);return mt.resolve(C?C.document.mutableCopy():je.newInvalidDocument(p))}getEntries(i,p){let C=us();return p.forEach(R=>{const I=this.docs.get(R);C=C.insert(R,I?I.document.mutableCopy():je.newInvalidDocument(R))}),mt.resolve(C)}getDocumentsMatchingQuery(i,p,C,R){let I=us();const c=p.path,S=new Ft(c.child("__id-9223372036854775808__")),t=this.docs.getIteratorFrom(S);for(;t.hasNext();){const{key:h,value:{document:m}}=t.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||T2(y2(m),C)<=0||(R.has(m.key)||Th(p,m))&&(I=I.insert(m.key,m.mutableCopy()))}return mt.resolve(I)}getAllFromCollectionGroup(i,p,C,R){Ot()}qr(i,p){return mt.forEach(this.docs,C=>p(C))}newChangeBuffer(i){return new KC(this)}getSize(i){return mt.resolve(this.size)}}class KC extends VC{constructor(i){super(),this.Ir=i}applyChanges(i){const p=[];return this.changes.forEach((C,R)=>{R.isValidDocument()?p.push(this.Ir.addEntry(i,R)):this.Ir.removeEntry(C)}),mt.waitFor(p)}getFromCache(i,p){return this.Ir.getEntry(i,p)}getAllFromCache(i,p){return this.Ir.getEntries(i,p)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(i){this.persistence=i,this.Qr=new Mn(p=>Xu(p),Wu),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Qu,this.targetCount=0,this.Ur=nr.Kn()}forEachTarget(i,p){return this.Qr.forEach((C,R)=>p(R)),mt.resolve()}getLastRemoteSnapshotVersion(i){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return mt.resolve(this.$r)}allocateTargetId(i){return this.highestTargetId=this.Ur.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(i,p,C){return C&&(this.lastRemoteSnapshotVersion=C),p>this.$r&&(this.$r=p),mt.resolve()}zn(i){this.Qr.set(i.target,i);const p=i.targetId;p>this.highestTargetId&&(this.Ur=new nr(p),this.highestTargetId=p),i.sequenceNumber>this.$r&&(this.$r=i.sequenceNumber)}addTargetData(i,p){return this.zn(p),this.targetCount+=1,mt.resolve()}updateTargetData(i,p){return this.zn(p),mt.resolve()}removeTargetData(i,p){return this.Qr.delete(p.target),this.Kr.Sr(p.targetId),this.targetCount-=1,mt.resolve()}removeTargets(i,p,C){let R=0;const I=[];return this.Qr.forEach((c,S)=>{S.sequenceNumber<=p&&C.get(S.targetId)===null&&(this.Qr.delete(c),I.push(this.removeMatchingKeysForTargetId(i,S.targetId)),R++)}),mt.waitFor(I).next(()=>R)}getTargetCount(i){return mt.resolve(this.targetCount)}getTargetData(i,p){const C=this.Qr.get(p)||null;return mt.resolve(C)}addMatchingKeys(i,p,C){return this.Kr.yr(p,C),mt.resolve()}removeMatchingKeys(i,p,C){this.Kr.br(p,C);const R=this.persistence.referenceDelegate,I=[];return R&&p.forEach(c=>{I.push(R.markPotentiallyOrphaned(i,c))}),mt.waitFor(I)}removeMatchingKeysForTargetId(i,p){return this.Kr.Sr(p),mt.resolve()}getMatchingKeysForTargetId(i,p){const C=this.Kr.vr(p);return mt.resolve(C)}containsKey(i,p){return mt.resolve(this.Kr.containsKey(p))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(i,p){this.Wr={},this.overlays={},this.Gr=new ph(0),this.zr=!1,this.zr=!0,this.jr=new WC,this.referenceDelegate=i(this),this.Hr=new $C(this),this.indexManager=new FC,this.remoteDocumentCache=function(R){return new HC(R)}(C=>this.referenceDelegate.Jr(C)),this.serializer=new IC(p),this.Yr=new zC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let p=this.overlays[i.toKey()];return p||(p=new XC,this.overlays[i.toKey()]=p),p}getMutationQueue(i,p){let C=this.Wr[i.toKey()];return C||(C=new YC(p,this.referenceDelegate),this.Wr[i.toKey()]=C),C}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(i,p,C){At("MemoryPersistence","Starting transaction:",i);const R=new QC(this.Gr.next());return this.referenceDelegate.Zr(),C(R).next(I=>this.referenceDelegate.Xr(R).next(()=>I)).toPromise().then(I=>(R.raiseOnCommittedEvent(),I))}ei(i,p){return mt.or(Object.values(this.Wr).map(C=>()=>C.containsKey(i,p)))}}class QC extends S2{constructor(i){super(),this.currentSequenceNumber=i}}class ju{constructor(i){this.persistence=i,this.ti=new Qu,this.ni=null}static ri(i){return new ju(i)}get ii(){if(this.ni)return this.ni;throw Ot()}addReference(i,p,C){return this.ti.addReference(C,p),this.ii.delete(C.toString()),mt.resolve()}removeReference(i,p,C){return this.ti.removeReference(C,p),this.ii.add(C.toString()),mt.resolve()}markPotentiallyOrphaned(i,p){return this.ii.add(p.toString()),mt.resolve()}removeTarget(i,p){this.ti.Sr(p.targetId).forEach(R=>this.ii.add(R.toString()));const C=this.persistence.getTargetCache();return C.getMatchingKeysForTargetId(i,p.targetId).next(R=>{R.forEach(I=>this.ii.add(I.toString()))}).next(()=>C.removeTargetData(i,p))}Zr(){this.ni=new Set}Xr(i){const p=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.ii,C=>{const R=Ft.fromPath(C);return this.si(i,R).next(I=>{I||p.removeEntry(R,Vt.min())})}).next(()=>(this.ni=null,p.apply(i)))}updateLimboDocument(i,p){return this.si(i,p).next(C=>{C?this.ii.delete(p.toString()):this.ii.add(p.toString())})}Jr(i){return 0}si(i,p){return mt.or([()=>mt.resolve(this.ti.containsKey(p)),()=>this.persistence.getTargetCache().containsKey(i,p),()=>this.persistence.ei(i,p)])}}class zo{constructor(i,p){this.persistence=i,this.oi=new Mn(C=>P2(C.path),(C,R)=>C.isEqual(R)),this.garbageCollector=bC(this,p)}static ri(i,p){return new zo(i,p)}Zr(){}Xr(i){return mt.resolve()}forEachTarget(i,p){return this.persistence.getTargetCache().forEachTarget(i,p)}nr(i){const p=this.sr(i);return this.persistence.getTargetCache().getTargetCount(i).next(C=>p.next(R=>C+R))}sr(i){let p=0;return this.rr(i,C=>{p++}).next(()=>p)}rr(i,p){return mt.forEach(this.oi,(C,R)=>this.ar(i,C,R).next(I=>I?mt.resolve():p(R)))}removeTargets(i,p,C){return this.persistence.getTargetCache().removeTargets(i,p,C)}removeOrphanedDocuments(i,p){let C=0;const R=this.persistence.getRemoteDocumentCache(),I=R.newChangeBuffer();return R.qr(i,c=>this.ar(i,c,p).next(S=>{S||(C++,I.removeEntry(c,Vt.min()))})).next(()=>I.apply(i)).next(()=>C)}markPotentiallyOrphaned(i,p){return this.oi.set(p,i.currentSequenceNumber),mt.resolve()}removeTarget(i,p){const C=p.withSequenceNumber(i.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(i,C)}addReference(i,p,C){return this.oi.set(C,i.currentSequenceNumber),mt.resolve()}removeReference(i,p,C){return this.oi.set(C,i.currentSequenceNumber),mt.resolve()}updateLimboDocument(i,p){return this.oi.set(p,i.currentSequenceNumber),mt.resolve()}Jr(i){let p=i.key.toString().length;return i.isFoundDocument()&&(p+=fo(i.data.value)),p}ar(i,p,C){return mt.or([()=>this.persistence.ei(i,p),()=>this.persistence.getTargetCache().containsKey(i,p),()=>{const R=this.oi.get(p);return mt.resolve(R!==void 0&&R>C)}])}getCacheSize(i){return this.persistence.getRemoteDocumentCache().getSize(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(i,p,C,R){this.targetId=i,this.fromCache=p,this.Hi=C,this.Ji=R}static Yi(i,p){let C=Kt(),R=Kt();for(const I of p.docChanges)switch(I.type){case 0:C=C.add(I.doc.key);break;case 1:R=R.add(I.doc.key)}return new Ju(i,p.fromCache,C,R)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return KE()?8:C2(ke())>0?6:4}()}initialize(i,p){this.ns=i,this.indexManager=p,this.Zi=!0}getDocumentsMatchingQuery(i,p,C,R){const I={result:null};return this.rs(i,p).next(c=>{I.result=c}).next(()=>{if(!I.result)return this.ss(i,p,R,C).next(c=>{I.result=c})}).next(()=>{if(I.result)return;const c=new jC;return this._s(i,p,c).next(S=>{if(I.result=S,this.Xi)return this.us(i,p,c,S.size)})}).next(()=>I.result)}us(i,p,C,R){return C.documentReadCount<this.es?(Gn()<=Yt.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Un(p),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),mt.resolve()):(Gn()<=Yt.DEBUG&&At("QueryEngine","Query:",Un(p),"scans",C.documentReadCount,"local documents and returns",R,"documents as results."),C.documentReadCount>this.ts*R?(Gn()<=Yt.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Un(p),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,Wi(p))):mt.resolve())}rs(i,p){if(Zc(p))return mt.resolve(null);let C=Wi(p);return this.indexManager.getIndexType(i,C).next(R=>R===0?null:(p.limit!==null&&R===1&&(p=kl(p,null,"F"),C=Wi(p)),this.indexManager.getDocumentsMatchingTarget(i,C).next(I=>{const c=Kt(...I);return this.ns.getDocuments(i,c).next(S=>this.indexManager.getMinOffset(i,C).next(t=>{const h=this.cs(p,S);return this.ls(p,h,c,t.readTime)?this.rs(i,kl(p,null,"F")):this.hs(i,h,p,t)}))})))}ss(i,p,C,R){return Zc(p)||R.isEqual(Vt.min())?mt.resolve(null):this.ns.getDocuments(i,C).next(I=>{const c=this.cs(p,I);return this.ls(p,c,C,R)?mt.resolve(null):(Gn()<=Yt.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",R.toString(),Un(p)),this.hs(i,c,p,x2(R,oa)).next(S=>S))})}cs(i,p){let C=new Ie(lg(i));return p.forEach((R,I)=>{Th(i,I)&&(C=C.add(I))}),C}ls(i,p,C,R){if(i.limit===null)return!1;if(C.size!==p.size)return!0;const I=i.limitType==="F"?p.last():p.first();return!!I&&(I.hasPendingWrites||I.version.compareTo(R)>0)}_s(i,p,C){return Gn()<=Yt.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Un(p)),this.ns.getDocumentsMatchingQuery(i,p,Xs.min(),C)}hs(i,p,C,R){return this.ns.getDocumentsMatchingQuery(i,C,R).next(I=>(p.forEach(c=>{I=I.insert(c.key,c)}),I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="LocalStore",ZC=3e8;class kC{constructor(i,p,C,R){this.persistence=i,this.Ps=p,this.serializer=R,this.Ts=new xe(Qt),this.Is=new Mn(I=>Xu(I),Wu),this.Es=new Map,this.ds=i.getRemoteDocumentCache(),this.Hr=i.getTargetCache(),this.Yr=i.getBundleCache(),this.As(C)}As(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new UC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",p=>i.collect(p,this.Ts))}}function qC(x,i,p,C){return new kC(x,i,p,C)}async function Ng(x,i){const p=Ut(x);return await p.persistence.runTransaction("Handle user change","readonly",C=>{let R;return p.mutationQueue.getAllMutationBatches(C).next(I=>(R=I,p.As(i),p.mutationQueue.getAllMutationBatches(C))).next(I=>{const c=[],S=[];let t=Kt();for(const h of R){c.push(h.batchId);for(const m of h.mutations)t=t.add(m.key)}for(const h of I){S.push(h.batchId);for(const m of h.mutations)t=t.add(m.key)}return p.localDocuments.getDocuments(C,t).next(h=>({Rs:h,removedBatchIds:c,addedBatchIds:S}))})})}function _C(x,i){const p=Ut(x);return p.persistence.runTransaction("Acknowledge batch","readwrite-primary",C=>{const R=i.batch.keys(),I=p.ds.newChangeBuffer({trackRemovals:!0});return function(S,t,h,m){const o=h.batch,a=o.keys();let r=mt.resolve();return a.forEach(e=>{r=r.next(()=>m.getEntry(t,e)).next(n=>{const l=h.docVersions.get(e);ne(l!==null),n.version.compareTo(l)<0&&(o.applyToRemoteDocument(n,h),n.isValidDocument()&&(n.setReadTime(h.commitVersion),m.addEntry(n)))})}),r.next(()=>S.mutationQueue.removeMutationBatch(t,o))}(p,C,i,I).next(()=>I.apply(C)).next(()=>p.mutationQueue.performConsistencyCheck(C)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(C,R,i.batch.batchId)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,function(S){let t=Kt();for(let h=0;h<S.mutationResults.length;++h)S.mutationResults[h].transformResults.length>0&&(t=t.add(S.batch.mutations[h].key));return t}(i))).next(()=>p.localDocuments.getDocuments(C,R))})}function Bg(x){const i=Ut(x);return i.persistence.runTransaction("Get last remote snapshot version","readonly",p=>i.Hr.getLastRemoteSnapshotVersion(p))}function tA(x,i){const p=Ut(x),C=i.snapshotVersion;let R=p.Ts;return p.persistence.runTransaction("Apply remote event","readwrite-primary",I=>{const c=p.ds.newChangeBuffer({trackRemovals:!0});R=p.Ts;const S=[];i.targetChanges.forEach((m,o)=>{const a=R.get(o);if(!a)return;S.push(p.Hr.removeMatchingKeys(I,m.removedDocuments,o).next(()=>p.Hr.addMatchingKeys(I,m.addedDocuments,o)));let r=a.withSequenceNumber(I.currentSequenceNumber);i.targetMismatches.get(o)!==null?r=r.withResumeToken(Xe.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):m.resumeToken.approximateByteSize()>0&&(r=r.withResumeToken(m.resumeToken,C)),R=R.insert(o,r),function(n,l,s){return n.resumeToken.approximateByteSize()===0||l.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=ZC?!0:s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0}(a,r,m)&&S.push(p.Hr.updateTargetData(I,r))});let t=us(),h=Kt();if(i.documentUpdates.forEach(m=>{i.resolvedLimboDocuments.has(m)&&S.push(p.persistence.referenceDelegate.updateLimboDocument(I,m))}),S.push(eA(I,c,i.documentUpdates).next(m=>{t=m.Vs,h=m.fs})),!C.isEqual(Vt.min())){const m=p.Hr.getLastRemoteSnapshotVersion(I).next(o=>p.Hr.setTargetsMetadata(I,I.currentSequenceNumber,C));S.push(m)}return mt.waitFor(S).next(()=>c.apply(I)).next(()=>p.localDocuments.getLocalViewOfDocuments(I,t,h)).next(()=>t)}).then(I=>(p.Ts=R,I))}function eA(x,i,p){let C=Kt(),R=Kt();return p.forEach(I=>C=C.add(I)),i.getEntries(x,C).next(I=>{let c=us();return p.forEach((S,t)=>{const h=I.get(S);t.isFoundDocument()!==h.isFoundDocument()&&(R=R.add(S)),t.isNoDocument()&&t.version.isEqual(Vt.min())?(i.removeEntry(S,t.readTime),c=c.insert(S,t)):!h.isValidDocument()||t.version.compareTo(h.version)>0||t.version.compareTo(h.version)===0&&h.hasPendingWrites?(i.addEntry(t),c=c.insert(S,t)):At(Zu,"Ignoring outdated watch update for ",S,". Current version:",h.version," Watch version:",t.version)}),{Vs:c,fs:R}})}function iA(x,i){const p=Ut(x);return p.persistence.runTransaction("Get next mutation batch","readonly",C=>(i===void 0&&(i=Gu),p.mutationQueue.getNextMutationBatchAfterBatchId(C,i)))}function sA(x,i){const p=Ut(x);return p.persistence.runTransaction("Allocate target","readwrite",C=>{let R;return p.Hr.getTargetData(C,i).next(I=>I?(R=I,mt.resolve(R)):p.Hr.allocateTargetId(C).next(c=>(R=new Ls(i,c,"TargetPurposeListen",C.currentSequenceNumber),p.Hr.addTargetData(C,R).next(()=>R))))}).then(C=>{const R=p.Ts.get(C.targetId);return(R===null||C.snapshotVersion.compareTo(R.snapshotVersion)>0)&&(p.Ts=p.Ts.insert(C.targetId,C),p.Is.set(i,C.targetId)),C})}async function iu(x,i,p){const C=Ut(x),R=C.Ts.get(i),I=p?"readwrite":"readwrite-primary";try{p||await C.persistence.runTransaction("Release target",I,c=>C.persistence.referenceDelegate.removeTarget(c,R))}catch(c){if(!vr(c))throw c;At(Zu,`Failed to update sequence numbers for target ${i}: ${c}`)}C.Ts=C.Ts.remove(i),C.Is.delete(R.target)}function lv(x,i,p){const C=Ut(x);let R=Vt.min(),I=Kt();return C.persistence.runTransaction("Execute query","readwrite",c=>function(t,h,m){const o=Ut(t),a=o.Is.get(m);return a!==void 0?mt.resolve(o.Ts.get(a)):o.Hr.getTargetData(h,m)}(C,c,Wi(i)).next(S=>{if(S)return R=S.lastLimboFreeSnapshotVersion,C.Hr.getMatchingKeysForTargetId(c,S.targetId).next(t=>{I=t})}).next(()=>C.Ps.getDocumentsMatchingQuery(c,i,p?R:Vt.min(),p?I:Kt())).next(S=>(nA(C,H2(i),S),{documents:S,gs:I})))}function nA(x,i,p){let C=x.Es.get(i)||Vt.min();p.forEach((R,I)=>{I.readTime.compareTo(C)>0&&(C=I.readTime)}),x.Es.set(i,C)}class uv{constructor(){this.activeTargetIds=Z2()}Ds(i){this.activeTargetIds=this.activeTargetIds.add(i)}vs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Ss(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class rA{constructor(){this.ho=new uv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,p,C){}addLocalQueryTarget(i,p=!0){return p&&this.ho.Ds(i),this.Po[i]||"not-current"}updateQueryState(i,p,C){this.Po[i]=p}removeLocalQueryTarget(i){this.ho.vs(i)}isLocalQueryTarget(i){return this.ho.activeTargetIds.has(i)}clearQueryState(i){delete this.Po[i]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(i){return this.ho.activeTargetIds.has(i)}start(){return this.ho=new uv,Promise.resolve()}handleUserChange(i,p,C){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{To(i){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="ConnectivityMonitor";class dv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(i){this.Vo.push(i)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){At(fv,"Network connectivity changed: AVAILABLE");for(const i of this.Vo)i(0)}Ro(){At(fv,"Network connectivity changed: UNAVAILABLE");for(const i of this.Vo)i(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to=null;function su(){return to===null?to=function(){return 268435456+Math.round(2147483648*Math.random())}():to++,"0x"+to.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="RestConnection",oA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hA{get fo(){return!1}constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const p=i.ssl?"https":"http",C=encodeURIComponent(this.databaseId.projectId),R=encodeURIComponent(this.databaseId.database);this.po=p+"://"+i.host,this.yo=`projects/${C}/databases/${R}`,this.wo=this.databaseId.database===Oo?`project_id=${C}`:`project_id=${C}&database_id=${R}`}bo(i,p,C,R,I){const c=su(),S=this.So(i,p.toUriEncodedString());At(xl,`Sending RPC '${i}' ${c}:`,S,C);const t={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(t,R,I),this.vo(i,S,t,C).then(h=>(At(xl,`Received RPC '${i}' ${c}: `,h),h),h=>{throw aa(xl,`RPC '${i}' ${c} failed with error: `,h,"url: ",S,"request:",C),h})}Co(i,p,C,R,I,c){return this.bo(i,p,C,R,I)}Do(i,p,C){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dr}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),p&&p.headers.forEach((R,I)=>i[I]=R),C&&C.headers.forEach((R,I)=>i[I]=R)}So(i,p){const C=oA[i];return`${this.po}/v1/${p}:${C}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(i){this.Fo=i.Fo,this.Mo=i.Mo}xo(i){this.Oo=i}No(i){this.Bo=i}Lo(i){this.ko=i}onMessage(i){this.qo=i}close(){this.Mo()}send(i){this.Fo(i)}Qo(){this.Oo()}$o(){this.Bo()}Ko(i){this.ko(i)}Uo(i){this.qo(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class uA extends hA{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}vo(i,p,C,R){const I=su();return new Promise((c,S)=>{const t=new Um;t.setWithCredentials(!0),t.listenOnce(zm.COMPLETE,()=>{try{switch(t.getLastErrorCode()){case uo.NO_ERROR:const m=t.getResponseJson();At(He,`XHR for RPC '${i}' ${I} received:`,JSON.stringify(m)),c(m);break;case uo.TIMEOUT:At(He,`RPC '${i}' ${I} timed out`),S(new Pt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case uo.HTTP_ERROR:const o=t.getStatus();if(At(He,`RPC '${i}' ${I} failed with status:`,o,"response text:",t.getResponseText()),o>0){let a=t.getResponseJson();Array.isArray(a)&&(a=a[0]);const r=a==null?void 0:a.error;if(r&&r.status&&r.message){const e=function(l){const s=l.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(s)>=0?s:pt.UNKNOWN}(r.status);S(new Pt(e,r.message))}else S(new Pt(pt.UNKNOWN,"Server responded with status "+t.getStatus()))}else S(new Pt(pt.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{At(He,`RPC '${i}' ${I} completed.`)}});const h=JSON.stringify(R);At(He,`RPC '${i}' ${I} sending request:`,R),t.send(p,"POST",h,C,15)})}Wo(i,p,C){const R=su(),I=[this.po,"/","google.firestore.v1.Firestore","/",i,"/channel"],c=Ym(),S=Wm(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(t.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(t.useFetchStreams=!0),this.Do(t.initMessageHeaders,p,C),t.encodeInitMessageHeaders=!0;const m=I.join("");At(He,`Creating RPC '${i}' stream ${R}: ${m}`,t);const o=c.createWebChannel(m,t);let a=!1,r=!1;const e=new lA({Fo:l=>{r?At(He,`Not sending because RPC '${i}' stream ${R} is closed:`,l):(a||(At(He,`Opening RPC '${i}' stream ${R} transport.`),o.open(),a=!0),At(He,`RPC '${i}' stream ${R} sending:`,l),o.send(l))},Mo:()=>o.close()}),n=(l,s,u)=>{l.listen(s,f=>{try{u(f)}catch(d){setTimeout(()=>{throw d},0)}})};return n(o,Dr.EventType.OPEN,()=>{r||(At(He,`RPC '${i}' stream ${R} transport opened.`),e.Qo())}),n(o,Dr.EventType.CLOSE,()=>{r||(r=!0,At(He,`RPC '${i}' stream ${R} transport closed`),e.Ko())}),n(o,Dr.EventType.ERROR,l=>{r||(r=!0,aa(He,`RPC '${i}' stream ${R} transport errored:`,l),e.Ko(new Pt(pt.UNAVAILABLE,"The operation could not be completed")))}),n(o,Dr.EventType.MESSAGE,l=>{var s;if(!r){const u=l.data[0];ne(!!u);const f=u,d=(f==null?void 0:f.error)||((s=f[0])===null||s===void 0?void 0:s.error);if(d){At(He,`RPC '${i}' stream ${R} received error:`,d);const v=d.status;let g=function(E){const A=Ce[E];if(A!==void 0)return Eg(A)}(v),y=d.message;g===void 0&&(g=pt.INTERNAL,y="Unknown error status: "+v+" with message "+d.message),r=!0,e.Ko(new Pt(g,y)),o.close()}else At(He,`RPC '${i}' stream ${R} received:`,u),e.Uo(u)}}),n(S,Xm.STAT_EVENT,l=>{l.stat===Kl.PROXY?At(He,`RPC '${i}' stream ${R} detected buffering proxy`):l.stat===Kl.NOPROXY&&At(He,`RPC '${i}' stream ${R} detected no buffering proxy`)}),setTimeout(()=>{e.$o()},0),e}}function yl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(x){return new pC(x,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(i,p,C=1e3,R=1.5,I=6e4){this.Ti=i,this.timerId=p,this.Go=C,this.zo=R,this.jo=I,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(i){this.cancel();const p=Math.floor(this.Ho+this.e_()),C=Math.max(0,Date.now()-this.Yo),R=Math.max(0,p-C);R>0&&At("ExponentialBackoff",`Backing off for ${R} ms (base delay: ${this.Ho} ms, delay with jitter: ${p} ms, last attempt: ${C} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,R,()=>(this.Yo=Date.now(),i())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="PersistentStream";class Vg{constructor(i,p,C,R,I,c,S,t){this.Ti=i,this.n_=C,this.r_=R,this.connection=I,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=S,this.listener=t,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bg(i,p)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(i){this.E_(),this.stream.send(i)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(i,p){this.E_(),this.d_(),this.a_.cancel(),this.i_++,i!==4?this.a_.reset():p&&p.code===pt.RESOURCE_EXHAUSTED?(ls(p.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):p&&p.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=i,await this.listener.Lo(p)}A_(){}auth(){this.state=1;const i=this.R_(this.i_),p=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([C,R])=>{this.i_===p&&this.V_(C,R)},C=>{i(()=>{const R=new Pt(pt.UNKNOWN,"Fetching auth token failed: "+C.message);return this.m_(R)})})}V_(i,p){const C=this.R_(this.i_);this.stream=this.f_(i,p),this.stream.xo(()=>{C(()=>this.listener.xo())}),this.stream.No(()=>{C(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(R=>{C(()=>this.m_(R))}),this.stream.onMessage(R=>{C(()=>++this.__==1?this.g_(R):this.onNext(R))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(i){return At(cv,`close with error: ${i}`),this.stream=null,this.close(4,i)}R_(i){return p=>{this.Ti.enqueueAndForget(()=>this.i_===i?p():(At(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fA extends Vg{constructor(i,p,C,R,I,c){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",p,C,R,c),this.serializer=I}f_(i,p){return this.connection.Wo("Listen",i,p)}g_(i){return this.onNext(i)}onNext(i){this.a_.reset();const p=xC(this.serializer,i),C=function(I){if(!("targetChange"in I))return Vt.min();const c=I.targetChange;return c.targetIds&&c.targetIds.length?Vt.min():c.readTime?Yi(c.readTime):Vt.min()}(i);return this.listener.p_(p,C)}y_(i){const p={};p.database=eu(this.serializer),p.addTarget=function(I,c){let S;const t=c.target;if(S=Jl(t)?{documents:EC(I,t)}:{query:SC(I,t).ht},S.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){S.resumeToken=Ag(I,c.resumeToken);const h=ql(I,c.expectedCount);h!==null&&(S.expectedCount=h)}else if(c.snapshotVersion.compareTo(Vt.min())>0){S.readTime=Uo(I,c.snapshotVersion.toTimestamp());const h=ql(I,c.expectedCount);h!==null&&(S.expectedCount=h)}return S}(this.serializer,i);const C=AC(this.serializer,i);C&&(p.labels=C),this.I_(p)}w_(i){const p={};p.database=eu(this.serializer),p.removeTarget=i,this.I_(p)}}class dA extends Vg{constructor(i,p,C,R,I,c){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",p,C,R,c),this.serializer=I}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(i,p){return this.connection.Wo("Write",i,p)}g_(i){return ne(!!i.streamToken),this.lastStreamToken=i.streamToken,ne(!i.writeResults||i.writeResults.length===0),this.listener.D_()}onNext(i){ne(!!i.streamToken),this.lastStreamToken=i.streamToken,this.a_.reset();const p=TC(i.writeResults,i.commitTime),C=Yi(i.commitTime);return this.listener.v_(C,p)}C_(){const i={};i.database=eu(this.serializer),this.I_(i)}S_(i){const p={streamToken:this.lastStreamToken,writes:i.map(C=>yC(this.serializer,C))};this.I_(p)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{}class vA extends cA{constructor(i,p,C,R){super(),this.authCredentials=i,this.appCheckCredentials=p,this.connection=C,this.serializer=R,this.F_=!1}M_(){if(this.F_)throw new Pt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(i,p,C,R){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,c])=>this.connection.bo(i,_l(p,C),R,I,c)).catch(I=>{throw I.name==="FirebaseError"?(I.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new Pt(pt.UNKNOWN,I.toString())})}Co(i,p,C,R,I){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,S])=>this.connection.Co(i,_l(p,C),R,c,S,I)).catch(c=>{throw c.name==="FirebaseError"?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pt(pt.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class pA{constructor(i,p){this.asyncQueue=i,this.onlineStateHandler=p,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(i){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.L_("Offline")))}set(i){this.Q_(),this.x_=0,i==="Online"&&(this.N_=!1),this.L_(i)}L_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}k_(i){const p=`Could not reach Cloud Firestore backend. ${i}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ls(p),this.N_=!1):At("OnlineStateTracker",p)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="RemoteStore";class mA{constructor(i,p,C,R,I){this.localStore=i,this.datastore=p,this.asyncQueue=C,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=I,this.z_.To(c=>{C.enqueueAndForget(async()=>{In(this)&&(At(Sn,"Restarting streams for network reachability change."),await async function(t){const h=Ut(t);h.W_.add(4),await Ca(h),h.j_.set("Unknown"),h.W_.delete(4),await Ph(h)}(this))})}),this.j_=new pA(C,R)}}async function Ph(x){if(In(x))for(const i of x.G_)await i(!0)}async function Ca(x){for(const i of x.G_)await i(!1)}function Gg(x,i){const p=Ut(x);p.U_.has(i.targetId)||(p.U_.set(i.targetId,i),tf(p)?_u(p):pr(p).c_()&&qu(p,i))}function ku(x,i){const p=Ut(x),C=pr(p);p.U_.delete(i),C.c_()&&Ug(p,i),p.U_.size===0&&(C.c_()?C.P_():In(p)&&p.j_.set("Unknown"))}function qu(x,i){if(x.H_.Ne(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(Vt.min())>0){const p=x.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(p)}pr(x).y_(i)}function Ug(x,i){x.H_.Ne(i),pr(x).w_(i)}function _u(x){x.H_=new fC({getRemoteKeysForTarget:i=>x.remoteSyncer.getRemoteKeysForTarget(i),lt:i=>x.U_.get(i)||null,it:()=>x.datastore.serializer.databaseId}),pr(x).start(),x.j_.B_()}function tf(x){return In(x)&&!pr(x).u_()&&x.U_.size>0}function In(x){return Ut(x).W_.size===0}function zg(x){x.H_=void 0}async function gA(x){x.j_.set("Online")}async function xA(x){x.U_.forEach((i,p)=>{qu(x,i)})}async function yA(x,i){zg(x),tf(x)?(x.j_.q_(i),_u(x)):x.j_.set("Unknown")}async function TA(x,i,p){if(x.j_.set("Online"),i instanceof Cg&&i.state===2&&i.cause)try{await async function(R,I){const c=I.cause;for(const S of I.targetIds)R.U_.has(S)&&(await R.remoteSyncer.rejectListen(S,c),R.U_.delete(S),R.H_.removeTarget(S))}(x,i)}catch(C){At(Sn,"Failed to remove targets %s: %s ",i.targetIds.join(","),C),await Xo(x,C)}else if(i instanceof po?x.H_.We(i):i instanceof Sg?x.H_.Ze(i):x.H_.je(i),!p.isEqual(Vt.min()))try{const C=await Bg(x.localStore);p.compareTo(C)>=0&&await function(I,c){const S=I.H_.ot(c);return S.targetChanges.forEach((t,h)=>{if(t.resumeToken.approximateByteSize()>0){const m=I.U_.get(h);m&&I.U_.set(h,m.withResumeToken(t.resumeToken,c))}}),S.targetMismatches.forEach((t,h)=>{const m=I.U_.get(t);if(!m)return;I.U_.set(t,m.withResumeToken(Xe.EMPTY_BYTE_STRING,m.snapshotVersion)),Ug(I,t);const o=new Ls(m.target,t,h,m.sequenceNumber);qu(I,o)}),I.remoteSyncer.applyRemoteEvent(S)}(x,p)}catch(C){At(Sn,"Failed to raise snapshot:",C),await Xo(x,C)}}async function Xo(x,i,p){if(!vr(i))throw i;x.W_.add(1),await Ca(x),x.j_.set("Offline"),p||(p=()=>Bg(x.localStore)),x.asyncQueue.enqueueRetryable(async()=>{At(Sn,"Retrying IndexedDB access"),await p(),x.W_.delete(1),await Ph(x)})}function Xg(x,i){return i().catch(p=>Xo(x,p,i))}async function Rh(x){const i=Ut(x),p=Ks(i);let C=i.K_.length>0?i.K_[i.K_.length-1].batchId:Gu;for(;EA(i);)try{const R=await iA(i.localStore,C);if(R===null){i.K_.length===0&&p.P_();break}C=R.batchId,SA(i,R)}catch(R){await Xo(i,R)}Wg(i)&&Yg(i)}function EA(x){return In(x)&&x.K_.length<10}function SA(x,i){x.K_.push(i);const p=Ks(x);p.c_()&&p.b_&&p.S_(i.mutations)}function Wg(x){return In(x)&&!Ks(x).u_()&&x.K_.length>0}function Yg(x){Ks(x).start()}async function CA(x){Ks(x).C_()}async function AA(x){const i=Ks(x);for(const p of x.K_)i.S_(p.mutations)}async function PA(x,i,p){const C=x.K_.shift(),R=Hu.from(C,i,p);await Xg(x,()=>x.remoteSyncer.applySuccessfulWrite(R)),await Rh(x)}async function RA(x,i){i&&Ks(x).b_&&await async function(C,R){if(function(c){return hC(c)&&c!==pt.ABORTED}(R.code)){const I=C.K_.shift();Ks(C).h_(),await Xg(C,()=>C.remoteSyncer.rejectFailedWrite(I.batchId,R)),await Rh(C)}}(x,i),Wg(x)&&Yg(x)}async function vv(x,i){const p=Ut(x);p.asyncQueue.verifyOperationInProgress(),At(Sn,"RemoteStore received new credentials");const C=In(p);p.W_.add(3),await Ca(p),C&&p.j_.set("Unknown"),await p.remoteSyncer.handleCredentialChange(i),p.W_.delete(3),await Ph(p)}async function wA(x,i){const p=Ut(x);i?(p.W_.delete(2),await Ph(p)):i||(p.W_.add(2),await Ca(p),p.j_.set("Unknown"))}function pr(x){return x.J_||(x.J_=function(p,C,R){const I=Ut(p);return I.M_(),new fA(C,I.connection,I.authCredentials,I.appCheckCredentials,I.serializer,R)}(x.datastore,x.asyncQueue,{xo:gA.bind(null,x),No:xA.bind(null,x),Lo:yA.bind(null,x),p_:TA.bind(null,x)}),x.G_.push(async i=>{i?(x.J_.h_(),tf(x)?_u(x):x.j_.set("Unknown")):(await x.J_.stop(),zg(x))})),x.J_}function Ks(x){return x.Y_||(x.Y_=function(p,C,R){const I=Ut(p);return I.M_(),new dA(C,I.connection,I.authCredentials,I.appCheckCredentials,I.serializer,R)}(x.datastore,x.asyncQueue,{xo:()=>Promise.resolve(),No:CA.bind(null,x),Lo:RA.bind(null,x),D_:AA.bind(null,x),v_:PA.bind(null,x)}),x.G_.push(async i=>{i?(x.Y_.h_(),await Rh(x)):(await x.Y_.stop(),x.K_.length>0&&(At(Sn,`Stopping write stream with ${x.K_.length} pending writes`),x.K_=[]))})),x.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(i,p,C,R,I){this.asyncQueue=i,this.timerId=p,this.targetTimeMs=C,this.op=R,this.removalCallback=I,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,p,C,R,I){const c=Date.now()+C,S=new ef(i,p,c,R,I);return S.start(C),S}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(pt.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sf(x,i){if(ls("AsyncQueue",`${i}: ${x}`),vr(x))return new Pt(pt.UNAVAILABLE,`${i}: ${x}`);throw x}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{static emptySet(i){return new jn(i.comparator)}constructor(i){this.comparator=i?(p,C)=>i(p,C)||Ft.comparator(p.key,C.key):(p,C)=>Ft.comparator(p.key,C.key),this.keyedMap=Or(),this.sortedSet=new xe(this.comparator)}has(i){return this.keyedMap.get(i)!=null}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const p=this.keyedMap.get(i);return p?this.sortedSet.indexOf(p):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((p,C)=>(i(p),!1))}add(i){const p=this.delete(i.key);return p.copy(p.keyedMap.insert(i.key,i),p.sortedSet.insert(i,null))}delete(i){const p=this.get(i);return p?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(p)):this}isEqual(i){if(!(i instanceof jn)||this.size!==i.size)return!1;const p=this.sortedSet.getIterator(),C=i.sortedSet.getIterator();for(;p.hasNext();){const R=p.getNext().key,I=C.getNext().key;if(!R.isEqual(I))return!1}return!0}toString(){const i=[];return this.forEach(p=>{i.push(p.toString())}),i.length===0?"DocumentSet ()":`DocumentSet (
  `+i.join(`  
`)+`
)`}copy(i,p){const C=new jn;return C.comparator=this.comparator,C.keyedMap=i,C.sortedSet=p,C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.Z_=new xe(Ft.comparator)}track(i){const p=i.doc.key,C=this.Z_.get(p);C?i.type!==0&&C.type===3?this.Z_=this.Z_.insert(p,i):i.type===3&&C.type!==1?this.Z_=this.Z_.insert(p,{type:C.type,doc:i.doc}):i.type===2&&C.type===2?this.Z_=this.Z_.insert(p,{type:2,doc:i.doc}):i.type===2&&C.type===0?this.Z_=this.Z_.insert(p,{type:0,doc:i.doc}):i.type===1&&C.type===0?this.Z_=this.Z_.remove(p):i.type===1&&C.type===2?this.Z_=this.Z_.insert(p,{type:1,doc:C.doc}):i.type===0&&C.type===1?this.Z_=this.Z_.insert(p,{type:2,doc:i.doc}):Ot():this.Z_=this.Z_.insert(p,i)}X_(){const i=[];return this.Z_.inorderTraversal((p,C)=>{i.push(C)}),i}}class rr{constructor(i,p,C,R,I,c,S,t,h){this.query=i,this.docs=p,this.oldDocs=C,this.docChanges=R,this.mutatedKeys=I,this.fromCache=c,this.syncStateChanged=S,this.excludesMetadataChanges=t,this.hasCachedResults=h}static fromInitialDocuments(i,p,C,R,I){const c=[];return p.forEach(S=>{c.push({type:0,doc:S})}),new rr(i,p,jn.emptySet(p),c,C,R,!0,!1,I)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&yh(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const p=this.docChanges,C=i.docChanges;if(p.length!==C.length)return!1;for(let R=0;R<p.length;R++)if(p[R].type!==C[R].type||!p[R].doc.isEqual(C[R].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(i=>i.ra())}}class IA{constructor(){this.queries=mv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(p,C){const R=Ut(p),I=R.queries;R.queries=mv(),I.forEach((c,S)=>{for(const t of S.ta)t.onError(C)})})(this,new Pt(pt.ABORTED,"Firestore shutting down"))}}function mv(){return new Mn(x=>hg(x),yh)}async function nf(x,i){const p=Ut(x);let C=3;const R=i.query;let I=p.queries.get(R);I?!I.na()&&i.ra()&&(C=2):(I=new MA,C=i.ra()?0:1);try{switch(C){case 0:I.ea=await p.onListen(R,!0);break;case 1:I.ea=await p.onListen(R,!1);break;case 2:await p.onFirstRemoteStoreListen(R)}}catch(c){const S=sf(c,`Initialization of query '${Un(i.query)}' failed`);return void i.onError(S)}p.queries.set(R,I),I.ta.push(i),i.sa(p.onlineState),I.ea&&i.oa(I.ea)&&af(p)}async function rf(x,i){const p=Ut(x),C=i.query;let R=3;const I=p.queries.get(C);if(I){const c=I.ta.indexOf(i);c>=0&&(I.ta.splice(c,1),I.ta.length===0?R=i.ra()?0:1:!I.na()&&i.ra()&&(R=2))}switch(R){case 0:return p.queries.delete(C),p.onUnlisten(C,!0);case 1:return p.queries.delete(C),p.onUnlisten(C,!1);case 2:return p.onLastRemoteStoreUnlisten(C);default:return}}function LA(x,i){const p=Ut(x);let C=!1;for(const R of i){const I=R.query,c=p.queries.get(I);if(c){for(const S of c.ta)S.oa(R)&&(C=!0);c.ea=R}}C&&af(p)}function FA(x,i,p){const C=Ut(x),R=C.queries.get(i);if(R)for(const I of R.ta)I.onError(p);C.queries.delete(i)}function af(x){x.ia.forEach(i=>{i.next()})}var nu,gv;(gv=nu||(nu={}))._a="default",gv.Cache="cache";class of{constructor(i,p,C){this.query=i,this.aa=p,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=C||{}}oa(i){if(!this.options.includeMetadataChanges){const C=[];for(const R of i.docChanges)R.type!==3&&C.push(R);i=new rr(i.query,i.docs,i.oldDocs,C,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let p=!1;return this.ua?this.la(i)&&(this.aa.next(i),p=!0):this.ha(i,this.onlineState)&&(this.Pa(i),p=!0),this.ca=i,p}onError(i){this.aa.error(i)}sa(i){this.onlineState=i;let p=!1;return this.ca&&!this.ua&&this.ha(this.ca,i)&&(this.Pa(this.ca),p=!0),p}ha(i,p){if(!i.fromCache||!this.ra())return!0;const C=p!=="Offline";return(!this.options.Ta||!C)&&(!i.docs.isEmpty()||i.hasCachedResults||p==="Offline")}la(i){if(i.docChanges.length>0)return!0;const p=this.ca&&this.ca.hasPendingWrites!==i.hasPendingWrites;return!(!i.syncStateChanged&&!p)&&this.options.includeMetadataChanges===!0}Pa(i){i=rr.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.ua=!0,this.aa.next(i)}ra(){return this.options.source!==nu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(i){this.key=i}}class Kg{constructor(i){this.key=i}}class DA{constructor(i,p){this.query=i,this.fa=p,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Kt(),this.mutatedKeys=Kt(),this.ya=lg(i),this.wa=new jn(this.ya)}get ba(){return this.fa}Sa(i,p){const C=p?p.Da:new pv,R=p?p.wa:this.wa;let I=p?p.mutatedKeys:this.mutatedKeys,c=R,S=!1;const t=this.query.limitType==="F"&&R.size===this.query.limit?R.last():null,h=this.query.limitType==="L"&&R.size===this.query.limit?R.first():null;if(i.inorderTraversal((m,o)=>{const a=R.get(m),r=Th(this.query,o)?o:null,e=!!a&&this.mutatedKeys.has(a.key),n=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let l=!1;a&&r?a.data.isEqual(r.data)?e!==n&&(C.track({type:3,doc:r}),l=!0):this.va(a,r)||(C.track({type:2,doc:r}),l=!0,(t&&this.ya(r,t)>0||h&&this.ya(r,h)<0)&&(S=!0)):!a&&r?(C.track({type:0,doc:r}),l=!0):a&&!r&&(C.track({type:1,doc:a}),l=!0,(t||h)&&(S=!0)),l&&(r?(c=c.add(r),I=n?I.add(m):I.delete(m)):(c=c.delete(m),I=I.delete(m)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),I=I.delete(m.key),C.track({type:1,doc:m})}return{wa:c,Da:C,ls:S,mutatedKeys:I}}va(i,p){return i.hasLocalMutations&&p.hasCommittedMutations&&!p.hasLocalMutations}applyChanges(i,p,C,R){const I=this.wa;this.wa=i.wa,this.mutatedKeys=i.mutatedKeys;const c=i.Da.X_();c.sort((m,o)=>function(r,e){const n=l=>{switch(l){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return n(r)-n(e)}(m.type,o.type)||this.ya(m.doc,o.doc)),this.Ca(C),R=R!=null&&R;const S=p&&!R?this.Fa():[],t=this.pa.size===0&&this.current&&!R?1:0,h=t!==this.ga;return this.ga=t,c.length!==0||h?{snapshot:new rr(this.query,i.wa,I,c,i.mutatedKeys,t===0,h,!1,!!C&&C.resumeToken.approximateByteSize()>0),Ma:S}:{Ma:S}}sa(i){return this.current&&i==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(i){return!this.fa.has(i)&&!!this.wa.has(i)&&!this.wa.get(i).hasLocalMutations}Ca(i){i&&(i.addedDocuments.forEach(p=>this.fa=this.fa.add(p)),i.modifiedDocuments.forEach(p=>{}),i.removedDocuments.forEach(p=>this.fa=this.fa.delete(p)),this.current=i.current)}Fa(){if(!this.current)return[];const i=this.pa;this.pa=Kt(),this.wa.forEach(C=>{this.xa(C.key)&&(this.pa=this.pa.add(C.key))});const p=[];return i.forEach(C=>{this.pa.has(C)||p.push(new Kg(C))}),this.pa.forEach(C=>{i.has(C)||p.push(new Hg(C))}),p}Oa(i){this.fa=i.gs,this.pa=Kt();const p=this.Sa(i.documents);return this.applyChanges(p,!0)}Na(){return rr.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hf="SyncEngine";class OA{constructor(i,p,C){this.query=i,this.targetId=p,this.view=C}}class NA{constructor(i){this.key=i,this.Ba=!1}}class BA{constructor(i,p,C,R,I,c){this.localStore=i,this.remoteStore=p,this.eventManager=C,this.sharedClientState=R,this.currentUser=I,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Mn(S=>hg(S),yh),this.qa=new Map,this.Qa=new Set,this.$a=new xe(Ft.comparator),this.Ka=new Map,this.Ua=new Qu,this.Wa={},this.Ga=new Map,this.za=nr.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bA(x,i,p=!0){const C=kg(x);let R;const I=C.ka.get(i);return I?(C.sharedClientState.addLocalQueryTarget(I.targetId),R=I.view.Na()):R=await $g(C,i,p,!0),R}async function VA(x,i){const p=kg(x);await $g(p,i,!0,!1)}async function $g(x,i,p,C){const R=await sA(x.localStore,Wi(i)),I=R.targetId,c=x.sharedClientState.addLocalQueryTarget(I,p);let S;return C&&(S=await GA(x,i,I,c==="current",R.resumeToken)),x.isPrimaryClient&&p&&Gg(x.remoteStore,R),S}async function GA(x,i,p,C,R){x.Ha=(o,a,r)=>async function(n,l,s,u){let f=l.view.Sa(s);f.ls&&(f=await lv(n.localStore,l.query,!1).then(({documents:y})=>l.view.Sa(y,f)));const d=u&&u.targetChanges.get(l.targetId),v=u&&u.targetMismatches.get(l.targetId)!=null,g=l.view.applyChanges(f,n.isPrimaryClient,d,v);return yv(n,l.targetId,g.Ma),g.snapshot}(x,o,a,r);const I=await lv(x.localStore,i,!0),c=new DA(i,I.gs),S=c.Sa(I.documents),t=Sa.createSynthesizedTargetChangeForCurrentChange(p,C&&x.onlineState!=="Offline",R),h=c.applyChanges(S,x.isPrimaryClient,t);yv(x,p,h.Ma);const m=new OA(i,p,c);return x.ka.set(i,m),x.qa.has(p)?x.qa.get(p).push(i):x.qa.set(p,[i]),h.snapshot}async function UA(x,i,p){const C=Ut(x),R=C.ka.get(i),I=C.qa.get(R.targetId);if(I.length>1)return C.qa.set(R.targetId,I.filter(c=>!yh(c,i))),void C.ka.delete(i);C.isPrimaryClient?(C.sharedClientState.removeLocalQueryTarget(R.targetId),C.sharedClientState.isActiveQueryTarget(R.targetId)||await iu(C.localStore,R.targetId,!1).then(()=>{C.sharedClientState.clearQueryState(R.targetId),p&&ku(C.remoteStore,R.targetId),ru(C,R.targetId)}).catch(cr)):(ru(C,R.targetId),await iu(C.localStore,R.targetId,!0))}async function zA(x,i){const p=Ut(x),C=p.ka.get(i),R=p.qa.get(C.targetId);p.isPrimaryClient&&R.length===1&&(p.sharedClientState.removeLocalQueryTarget(C.targetId),ku(p.remoteStore,C.targetId))}async function XA(x,i,p){const C=jA(x);try{const R=await function(c,S){const t=Ut(c),h=Me.now(),m=S.reduce((r,e)=>r.add(e.key),Kt());let o,a;return t.persistence.runTransaction("Locally write mutations","readwrite",r=>{let e=us(),n=Kt();return t.ds.getEntries(r,m).next(l=>{e=l,e.forEach((s,u)=>{u.isValidDocument()||(n=n.add(s))})}).next(()=>t.localDocuments.getOverlayedDocuments(r,e)).next(l=>{o=l;const s=[];for(const u of S){const f=sC(u,o.get(u.key).overlayedDocument);f!=null&&s.push(new qs(u.key,f,tg(f.value.mapValue),Pi.exists(!0)))}return t.mutationQueue.addMutationBatch(r,h,s,S)}).next(l=>{a=l;const s=l.applyToLocalDocumentSet(o,n);return t.documentOverlayCache.saveOverlays(r,l.batchId,s)})}).then(()=>({batchId:a.batchId,changes:fg(o)}))}(C.localStore,i);C.sharedClientState.addPendingMutation(R.batchId),function(c,S,t){let h=c.Wa[c.currentUser.toKey()];h||(h=new xe(Qt)),h=h.insert(S,t),c.Wa[c.currentUser.toKey()]=h}(C,R.batchId,p),await Aa(C,R.changes),await Rh(C.remoteStore)}catch(R){const I=sf(R,"Failed to persist write");p.reject(I)}}async function Qg(x,i){const p=Ut(x);try{const C=await tA(p.localStore,i);i.targetChanges.forEach((R,I)=>{const c=p.Ka.get(I);c&&(ne(R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size<=1),R.addedDocuments.size>0?c.Ba=!0:R.modifiedDocuments.size>0?ne(c.Ba):R.removedDocuments.size>0&&(ne(c.Ba),c.Ba=!1))}),await Aa(p,C,i)}catch(C){await cr(C)}}function xv(x,i,p){const C=Ut(x);if(C.isPrimaryClient&&p===0||!C.isPrimaryClient&&p===1){const R=[];C.ka.forEach((I,c)=>{const S=c.view.sa(i);S.snapshot&&R.push(S.snapshot)}),function(c,S){const t=Ut(c);t.onlineState=S;let h=!1;t.queries.forEach((m,o)=>{for(const a of o.ta)a.sa(S)&&(h=!0)}),h&&af(t)}(C.eventManager,i),R.length&&C.La.p_(R),C.onlineState=i,C.isPrimaryClient&&C.sharedClientState.setOnlineState(i)}}async function WA(x,i,p){const C=Ut(x);C.sharedClientState.updateQueryState(i,"rejected",p);const R=C.Ka.get(i),I=R&&R.key;if(I){let c=new xe(Ft.comparator);c=c.insert(I,je.newNoDocument(I,Vt.min()));const S=Kt().add(I),t=new Ch(Vt.min(),new Map,new xe(Qt),c,S);await Qg(C,t),C.$a=C.$a.remove(I),C.Ka.delete(i),lf(C)}else await iu(C.localStore,i,!1).then(()=>ru(C,i,p)).catch(cr)}async function YA(x,i){const p=Ut(x),C=i.batch.batchId;try{const R=await _C(p.localStore,i);Jg(p,C,null),jg(p,C),p.sharedClientState.updateMutationState(C,"acknowledged"),await Aa(p,R)}catch(R){await cr(R)}}async function HA(x,i,p){const C=Ut(x);try{const R=await function(c,S){const t=Ut(c);return t.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return t.mutationQueue.lookupMutationBatch(h,S).next(o=>(ne(o!==null),m=o.keys(),t.mutationQueue.removeMutationBatch(h,o))).next(()=>t.mutationQueue.performConsistencyCheck(h)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(h,m,S)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>t.localDocuments.getDocuments(h,m))})}(C.localStore,i);Jg(C,i,p),jg(C,i),C.sharedClientState.updateMutationState(i,"rejected",p),await Aa(C,R)}catch(R){await cr(R)}}function jg(x,i){(x.Ga.get(i)||[]).forEach(p=>{p.resolve()}),x.Ga.delete(i)}function Jg(x,i,p){const C=Ut(x);let R=C.Wa[C.currentUser.toKey()];if(R){const I=R.get(i);I&&(p?I.reject(p):I.resolve(),R=R.remove(i)),C.Wa[C.currentUser.toKey()]=R}}function ru(x,i,p=null){x.sharedClientState.removeLocalQueryTarget(i);for(const C of x.qa.get(i))x.ka.delete(C),p&&x.La.Ja(C,p);x.qa.delete(i),x.isPrimaryClient&&x.Ua.Sr(i).forEach(C=>{x.Ua.containsKey(C)||Zg(x,C)})}function Zg(x,i){x.Qa.delete(i.path.canonicalString());const p=x.$a.get(i);p!==null&&(ku(x.remoteStore,p),x.$a=x.$a.remove(i),x.Ka.delete(p),lf(x))}function yv(x,i,p){for(const C of p)C instanceof Hg?(x.Ua.addReference(C.key,i),KA(x,C)):C instanceof Kg?(At(hf,"Document no longer in limbo: "+C.key),x.Ua.removeReference(C.key,i),x.Ua.containsKey(C.key)||Zg(x,C.key)):Ot()}function KA(x,i){const p=i.key,C=p.path.canonicalString();x.$a.get(p)||x.Qa.has(C)||(At(hf,"New document in limbo: "+p),x.Qa.add(C),lf(x))}function lf(x){for(;x.Qa.size>0&&x.$a.size<x.maxConcurrentLimboResolutions;){const i=x.Qa.values().next().value;x.Qa.delete(i);const p=new Ft(me.fromString(i)),C=x.za.next();x.Ka.set(C,new NA(p)),x.$a=x.$a.insert(p,C),Gg(x.remoteStore,new Ls(Wi(xh(p.path)),C,"TargetPurposeLimboResolution",ph.ae))}}async function Aa(x,i,p){const C=Ut(x),R=[],I=[],c=[];C.ka.isEmpty()||(C.ka.forEach((S,t)=>{c.push(C.Ha(t,i,p).then(h=>{var m;if((h||p)&&C.isPrimaryClient){const o=h?!h.fromCache:(m=p==null?void 0:p.targetChanges.get(t.targetId))===null||m===void 0?void 0:m.current;C.sharedClientState.updateQueryState(t.targetId,o?"current":"not-current")}if(h){R.push(h);const o=Ju.Yi(t.targetId,h);I.push(o)}}))}),await Promise.all(c),C.La.p_(R),await async function(t,h){const m=Ut(t);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",o=>mt.forEach(h,a=>mt.forEach(a.Hi,r=>m.persistence.referenceDelegate.addReference(o,a.targetId,r)).next(()=>mt.forEach(a.Ji,r=>m.persistence.referenceDelegate.removeReference(o,a.targetId,r)))))}catch(o){if(!vr(o))throw o;At(Zu,"Failed to update sequence numbers: "+o)}for(const o of h){const a=o.targetId;if(!o.fromCache){const r=m.Ts.get(a),e=r.snapshotVersion,n=r.withLastLimboFreeSnapshotVersion(e);m.Ts=m.Ts.insert(a,n)}}}(C.localStore,I))}async function $A(x,i){const p=Ut(x);if(!p.currentUser.isEqual(i)){At(hf,"User change. New user:",i.toKey());const C=await Ng(p.localStore,i);p.currentUser=i,function(I,c){I.Ga.forEach(S=>{S.forEach(t=>{t.reject(new Pt(pt.CANCELLED,c))})}),I.Ga.clear()}(p,"'waitForPendingWrites' promise is rejected due to a user change."),p.sharedClientState.handleUserChange(i,C.removedBatchIds,C.addedBatchIds),await Aa(p,C.Rs)}}function QA(x,i){const p=Ut(x),C=p.Ka.get(i);if(C&&C.Ba)return Kt().add(C.key);{let R=Kt();const I=p.qa.get(i);if(!I)return R;for(const c of I){const S=p.ka.get(c);R=R.unionWith(S.view.ba)}return R}}function kg(x){const i=Ut(x);return i.remoteStore.remoteSyncer.applyRemoteEvent=Qg.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=QA.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=WA.bind(null,i),i.La.p_=LA.bind(null,i.eventManager),i.La.Ja=FA.bind(null,i.eventManager),i}function jA(x){const i=Ut(x);return i.remoteStore.remoteSyncer.applySuccessfulWrite=YA.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=HA.bind(null,i),i}class Wo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(i){this.serializer=Ah(i.databaseInfo.databaseId),this.sharedClientState=this.Za(i),this.persistence=this.Xa(i),await this.persistence.start(),this.localStore=this.eu(i),this.gcScheduler=this.tu(i,this.localStore),this.indexBackfillerScheduler=this.nu(i,this.localStore)}tu(i,p){return null}nu(i,p){return null}eu(i){return qC(this.persistence,new JC,i.initialUser,this.serializer)}Xa(i){return new Og(ju.ri,this.serializer)}Za(i){return new rA}async terminate(){var i,p;(i=this.gcScheduler)===null||i===void 0||i.stop(),(p=this.indexBackfillerScheduler)===null||p===void 0||p.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wo.provider={build:()=>new Wo};class JA extends Wo{constructor(i){super(),this.cacheSizeBytes=i}tu(i,p){ne(this.persistence.referenceDelegate instanceof zo);const C=this.persistence.referenceDelegate.garbageCollector;return new NC(C,i.asyncQueue,p)}Xa(i){const p=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new Og(C=>zo.ri(C,p),this.serializer)}}class au{async initialize(i,p){this.localStore||(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(p),this.remoteStore=this.createRemoteStore(p),this.eventManager=this.createEventManager(p),this.syncEngine=this.createSyncEngine(p,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=C=>xv(this.syncEngine,C,1),this.remoteStore.remoteSyncer.handleCredentialChange=$A.bind(null,this.syncEngine),await wA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(i){return function(){return new IA}()}createDatastore(i){const p=Ah(i.databaseInfo.databaseId),C=function(I){return new uA(I)}(i.databaseInfo);return function(I,c,S,t){return new vA(I,c,S,t)}(i.authCredentials,i.appCheckCredentials,C,p)}createRemoteStore(i){return function(C,R,I,c,S){return new mA(C,R,I,c,S)}(this.localStore,this.datastore,i.asyncQueue,p=>xv(this.syncEngine,p,0),function(){return dv.D()?new dv:new aA}())}createSyncEngine(i,p){return function(R,I,c,S,t,h,m){const o=new BA(R,I,c,S,t,h);return m&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,p)}async terminate(){var i,p;await async function(R){const I=Ut(R);At(Sn,"RemoteStore shutting down."),I.W_.add(5),await Ca(I),I.z_.shutdown(),I.j_.set("Unknown")}(this.remoteStore),(i=this.datastore)===null||i===void 0||i.terminate(),(p=this.eventManager)===null||p===void 0||p.terminate()}}au.provider={build:()=>new au};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(i){this.observer=i,this.muted=!1}next(i){this.muted||this.observer.next&&this.iu(this.observer.next,i)}error(i){this.muted||(this.observer.error?this.iu(this.observer.error,i):ls("Uncaught Error in snapshot listener:",i.toString()))}su(){this.muted=!0}iu(i,p){setTimeout(()=>{this.muted||i(p)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class ZA{constructor(i,p,C,R,I){this.authCredentials=i,this.appCheckCredentials=p,this.asyncQueue=C,this.databaseInfo=R,this.user=ni.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=I,this.authCredentials.start(C,async c=>{At($s,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(C,c=>(At($s,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}terminate(){this.asyncQueue.enterRestrictedMode();const i=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),i.resolve()}catch(p){const C=sf(p,"Failed to shutdown persistence");i.reject(C)}}),i.promise}}async function Tl(x,i){x.asyncQueue.verifyOperationInProgress(),At($s,"Initializing OfflineComponentProvider");const p=x.configuration;await i.initialize(p);let C=p.initialUser;x.setCredentialChangeListener(async R=>{C.isEqual(R)||(await Ng(i.localStore,R),C=R)}),i.persistence.setDatabaseDeletedListener(()=>x.terminate()),x._offlineComponents=i}async function Tv(x,i){x.asyncQueue.verifyOperationInProgress();const p=await kA(x);At($s,"Initializing OnlineComponentProvider"),await i.initialize(p,x.configuration),x.setCredentialChangeListener(C=>vv(i.remoteStore,C)),x.setAppCheckTokenChangeListener((C,R)=>vv(i.remoteStore,R)),x._onlineComponents=i}async function kA(x){if(!x._offlineComponents)if(x._uninitializedComponentsProvider){At($s,"Using user provided OfflineComponentProvider");try{await Tl(x,x._uninitializedComponentsProvider._offline)}catch(i){const p=i;if(!function(R){return R.name==="FirebaseError"?R.code===pt.FAILED_PRECONDITION||R.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&R instanceof DOMException)||R.code===22||R.code===20||R.code===11}(p))throw p;aa("Error using user provided cache. Falling back to memory cache: "+p),await Tl(x,new Wo)}}else At($s,"Using default OfflineComponentProvider"),await Tl(x,new JA(void 0));return x._offlineComponents}async function qg(x){return x._onlineComponents||(x._uninitializedComponentsProvider?(At($s,"Using user provided OnlineComponentProvider"),await Tv(x,x._uninitializedComponentsProvider._online)):(At($s,"Using default OnlineComponentProvider"),await Tv(x,new au))),x._onlineComponents}function qA(x){return qg(x).then(i=>i.syncEngine)}async function Yo(x){const i=await qg(x),p=i.eventManager;return p.onListen=bA.bind(null,i.syncEngine),p.onUnlisten=UA.bind(null,i.syncEngine),p.onFirstRemoteStoreListen=VA.bind(null,i.syncEngine),p.onLastRemoteStoreUnlisten=zA.bind(null,i.syncEngine),p}function _A(x,i,p={}){const C=new as;return x.asyncQueue.enqueueAndForget(async()=>function(I,c,S,t,h){const m=new uf({next:a=>{m.su(),c.enqueueAndForget(()=>rf(I,o));const r=a.docs.has(S);!r&&a.fromCache?h.reject(new Pt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):r&&a.fromCache&&t&&t.source==="server"?h.reject(new Pt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(a)},error:a=>h.reject(a)}),o=new of(xh(S.path),m,{includeMetadataChanges:!0,Ta:!0});return nf(I,o)}(await Yo(x),x.asyncQueue,i,p,C)),C.promise}function tP(x,i,p={}){const C=new as;return x.asyncQueue.enqueueAndForget(async()=>function(I,c,S,t,h){const m=new uf({next:a=>{m.su(),c.enqueueAndForget(()=>rf(I,o)),a.fromCache&&t.source==="server"?h.reject(new Pt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(a)},error:a=>h.reject(a)}),o=new of(S,m,{includeMetadataChanges:!0,Ta:!0});return nf(I,o)}(await Yo(x),x.asyncQueue,i,p,C)),C.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(x){const i={};return x.timeoutSeconds!==void 0&&(i.timeoutSeconds=x.timeoutSeconds),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(x,i,p){if(!p)throw new Pt(pt.INVALID_ARGUMENT,`Function ${x}() cannot be called with an empty ${i}.`)}function eP(x,i,p,C){if(i===!0&&C===!0)throw new Pt(pt.INVALID_ARGUMENT,`${x} and ${p} cannot be used together.`)}function Sv(x){if(!Ft.isDocumentKey(x))throw new Pt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${x} has ${x.length}.`)}function Cv(x){if(Ft.isDocumentKey(x))throw new Pt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${x} has ${x.length}.`)}function wh(x){if(x===void 0)return"undefined";if(x===null)return"null";if(typeof x=="string")return x.length>20&&(x=`${x.substring(0,20)}...`),JSON.stringify(x);if(typeof x=="number"||typeof x=="boolean")return""+x;if(typeof x=="object"){if(x instanceof Array)return"an array";{const i=function(C){return C.constructor?C.constructor.name:null}(x);return i?`a custom ${i} object`:"an object"}}return typeof x=="function"?"a function":Ot()}function Ti(x,i){if("_delegate"in x&&(x=x._delegate),!(x instanceof i)){if(i.name===x.constructor.name)throw new Pt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const p=wh(x);throw new Pt(pt.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${p}`)}}return x}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firestore.googleapis.com",Av=!0;class Pv{constructor(i){var p,C;if(i.host===void 0){if(i.ssl!==void 0)throw new Pt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iP,this.ssl=Av}else this.host=i.host,this.ssl=(p=i.ssl)!==null&&p!==void 0?p:Av;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,i.cacheSizeBytes===void 0)this.cacheSizeBytes=Fg;else{if(i.cacheSizeBytes!==-1&&i.cacheSizeBytes<Dg)throw new Pt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}eP("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:i.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_g((C=i.experimentalLongPollingOptions)!==null&&C!==void 0?C:{}),function(I){if(I.timeoutSeconds!==void 0){if(isNaN(I.timeoutSeconds))throw new Pt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (must not be NaN)`);if(I.timeoutSeconds<5)throw new Pt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (minimum allowed value is 5)`);if(I.timeoutSeconds>30)throw new Pt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&function(C,R){return C.timeoutSeconds===R.timeoutSeconds}(this.experimentalLongPollingOptions,i.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class ff{constructor(i,p,C,R){this._authCredentials=i,this._appCheckCredentials=p,this._databaseId=C,this._app=R,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(i){if(this._settingsFrozen)throw new Pt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(i),this._emulatorOptions=i.emulatorOptions||{},i.credentials!==void 0&&(this._authCredentials=function(C){if(!C)return new f2;switch(C.type){case"firstParty":return new v2(C.sessionIndex||"0",C.iamToken||null,C.authTokenFactory||null);case"provider":return C.client;default:throw new Pt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(p){const C=Ev.get(p);C&&(At("ComponentProvider","Removing Datastore"),Ev.delete(p),C.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(i,p,C){this.converter=p,this._query=C,this.type="query",this.firestore=i}withConverter(i){return new Ln(this.firestore,i,this._query)}}class Ze{constructor(i,p,C){this.converter=p,this._key=C,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Ze(this.firestore,i,this._key)}}class bs extends Ln{constructor(i,p,C){super(i,p,xh(C)),this._path=C,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Ze(this.firestore,null,new Ft(i))}withConverter(i){return new bs(this.firestore,i,this._path)}}function Rv(x,i,...p){if(x=Ne(x),t0("collection","path",i),x instanceof ff){const C=me.fromString(i,...p);return Cv(C),new bs(x,null,C)}{if(!(x instanceof Ze||x instanceof bs))throw new Pt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=x._path.child(me.fromString(i,...p));return Cv(C),new bs(x.firestore,null,C)}}function Br(x,i,...p){if(x=Ne(x),arguments.length===1&&(i=Hm.newId()),t0("doc","path",i),x instanceof ff){const C=me.fromString(i,...p);return Sv(C),new Ze(x,null,new Ft(C))}{if(!(x instanceof Ze||x instanceof bs))throw new Pt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=x._path.child(me.fromString(i,...p));return Sv(C),new Ze(x.firestore,x instanceof bs?x.converter:null,new Ft(C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="AsyncQueue";class Mv{constructor(i=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bg(this,"async_queue_retry"),this.bu=()=>{const C=yl();C&&At(wv,"Visibility state changed to "+C.visibilityState),this.a_.t_()},this.Su=i;const p=yl();p&&typeof p.addEventListener=="function"&&p.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Du(),this.vu(i)}enterRestrictedMode(i){if(!this.mu){this.mu=!0,this.yu=i||!1;const p=yl();p&&typeof p.removeEventListener=="function"&&p.removeEventListener("visibilitychange",this.bu)}}enqueue(i){if(this.Du(),this.mu)return new Promise(()=>{});const p=new as;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(i().then(p.resolve,p.reject),p.promise)).then(()=>p.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Vu.push(i),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(i){if(!vr(i))throw i;At(wv,"Operation failed with retryable error: "+i)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(i){const p=this.Su.then(()=>(this.pu=!0,i().catch(C=>{this.gu=C,this.pu=!1;const R=function(c){let S=c.message||"";return c.stack&&(S=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),S}(C);throw ls("INTERNAL UNHANDLED ERROR: ",R),C}).then(C=>(this.pu=!1,C))));return this.Su=p,p}enqueueAfterDelay(i,p,C){this.Du(),this.wu.indexOf(i)>-1&&(p=0);const R=ef.createAndSchedule(this,i,p,C,I=>this.Fu(I));return this.fu.push(R),R}Du(){this.gu&&Ot()}verifyOperationInProgress(){}async Mu(){let i;do i=this.Su,await i;while(i!==this.Su)}xu(i){for(const p of this.fu)if(p.timerId===i)return!0;return!1}Ou(i){return this.Mu().then(()=>{this.fu.sort((p,C)=>p.targetTimeMs-C.targetTimeMs);for(const p of this.fu)if(p.skipDelay(),i!=="all"&&p.timerId===i)break;return this.Mu()})}Nu(i){this.wu.push(i)}Fu(i){const p=this.fu.indexOf(i);this.fu.splice(p,1)}}function Iv(x){return function(p,C){if(typeof p!="object"||p===null)return!1;const R=p;for(const I of C)if(I in R&&typeof R[I]=="function")return!0;return!1}(x,["next","error","complete"])}class Qs extends ff{constructor(i,p,C,R){super(i,p,C,R),this.type="firestore",this._queue=new Mv,this._persistenceKey=(R==null?void 0:R.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const i=this._firestoreClient.terminate();this._queue=new Mv(i),this._firestoreClient=void 0,await i}}}function sP(x,i,p){p||(p=Oo);const C=bu(x,"firestore");if(C.isInitialized(p)){const R=C.getImmediate({identifier:p}),I=C.getOptions(p);if(yn(I,i))return R;throw new Pt(pt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(i.cacheSizeBytes!==void 0&&i.localCache!==void 0)throw new Pt(pt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(i.cacheSizeBytes!==void 0&&i.cacheSizeBytes!==-1&&i.cacheSizeBytes<Dg)throw new Pt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return C.initialize({options:i,instanceIdentifier:p})}function Mh(x){if(x._terminated)throw new Pt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return x._firestoreClient||nP(x),x._firestoreClient}function nP(x){var i,p,C;const R=x._freezeSettings(),I=function(S,t,h,m){return new M2(S,t,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_g(m.experimentalLongPollingOptions),m.useFetchStreams)}(x._databaseId,((i=x._app)===null||i===void 0?void 0:i.options.appId)||"",x._persistenceKey,R);x._componentsProvider||!((p=R.localCache)===null||p===void 0)&&p._offlineComponentProvider&&(!((C=R.localCache)===null||C===void 0)&&C._onlineComponentProvider)&&(x._componentsProvider={_offline:R.localCache._offlineComponentProvider,_online:R.localCache._onlineComponentProvider}),x._firestoreClient=new ZA(x._authCredentials,x._appCheckCredentials,x._queue,I,x._componentsProvider&&function(S){const t=S==null?void 0:S._online.build();return{_offline:S==null?void 0:S._offline.build(t),_online:t}}(x._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(i){this._byteString=i}static fromBase64String(i){try{return new ar(Xe.fromBase64String(i))}catch(p){throw new Pt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+p)}}static fromUint8Array(i){return new ar(Xe.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(...i){for(let p=0;p<i.length;++p)if(i[p].length===0)throw new Pt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(i){this._methodName=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(i,p){if(!isFinite(i)||i<-90||i>90)throw new Pt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(p)||p<-180||p>180)throw new Pt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+p);this._lat=i,this._long=p}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Qt(this._lat,i._lat)||Qt(this._long,i._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(i){this._values=(i||[]).map(p=>p)}toArray(){return this._values.map(i=>i)}isEqual(i){return function(C,R){if(C.length!==R.length)return!1;for(let I=0;I<C.length;++I)if(C[I]!==R[I])return!1;return!0}(this._values,i._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=/^__.*__$/;class aP{constructor(i,p,C){this.data=i,this.fieldMask=p,this.fieldTransforms=C}toMutation(i,p){return this.fieldMask!==null?new qs(i,this.data,this.fieldMask,p,this.fieldTransforms):new Ea(i,this.data,p,this.fieldTransforms)}}class e0{constructor(i,p,C){this.data=i,this.fieldMask=p,this.fieldTransforms=C}toMutation(i,p){return new qs(i,this.data,this.fieldMask,p,this.fieldTransforms)}}function i0(x){switch(x){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class pf{constructor(i,p,C,R,I,c){this.settings=i,this.databaseId=p,this.serializer=C,this.ignoreUndefinedProperties=R,I===void 0&&this.Bu(),this.fieldTransforms=I||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(i){return new pf(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(i){var p;const C=(p=this.path)===null||p===void 0?void 0:p.child(i),R=this.ku({path:C,Qu:!1});return R.$u(i),R}Ku(i){var p;const C=(p=this.path)===null||p===void 0?void 0:p.child(i),R=this.ku({path:C,Qu:!1});return R.Bu(),R}Uu(i){return this.ku({path:void 0,Qu:!0})}Wu(i){return Ho(i,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(i){return this.fieldMask.find(p=>i.isPrefixOf(p))!==void 0||this.fieldTransforms.find(p=>i.isPrefixOf(p.field))!==void 0}Bu(){if(this.path)for(let i=0;i<this.path.length;i++)this.$u(this.path.get(i))}$u(i){if(i.length===0)throw this.Wu("Document fields must not be empty");if(i0(this.Lu)&&rP.test(i))throw this.Wu('Document fields cannot begin and end with "__"')}}class oP{constructor(i,p,C){this.databaseId=i,this.ignoreUndefinedProperties=p,this.serializer=C||Ah(i)}ju(i,p,C,R=!1){return new pf({Lu:i,methodName:p,zu:C,path:Ge.emptyPath(),Qu:!1,Gu:R},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(x){const i=x._freezeSettings(),p=Ah(x._databaseId);return new oP(x._databaseId,!!i.ignoreUndefinedProperties,p)}function s0(x,i,p,C,R,I={}){const c=x.ju(I.merge||I.mergeFields?2:0,i,p,R);mf("Data must be an object, but it was:",c,C);const S=n0(C,c);let t,h;if(I.merge)t=new vi(c.fieldMask),h=c.fieldTransforms;else if(I.mergeFields){const m=[];for(const o of I.mergeFields){const a=ou(i,o,p);if(!c.contains(a))throw new Pt(pt.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);a0(m,a)||m.push(a)}t=new vi(m),h=c.fieldTransforms.filter(o=>t.covers(o.field))}else t=null,h=c.fieldTransforms;return new aP(new hi(S),t,h)}class Fh extends df{_toFieldTransform(i){if(i.Lu!==2)throw i.Lu===1?i.Wu(`${this._methodName}() can only appear at the top level of your update data`):i.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Fh}}function hP(x,i,p,C){const R=x.ju(1,i,p);mf("Data must be an object, but it was:",R,C);const I=[],c=hi.empty();ks(C,(t,h)=>{const m=gf(i,t,p);h=Ne(h);const o=R.Ku(m);if(h instanceof Fh)I.push(m);else{const a=Pa(h,o);a!=null&&(I.push(m),c.set(m,a))}});const S=new vi(I);return new e0(c,S,R.fieldTransforms)}function lP(x,i,p,C,R,I){const c=x.ju(1,i,p),S=[ou(i,C,p)],t=[R];if(I.length%2!=0)throw new Pt(pt.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<I.length;a+=2)S.push(ou(i,I[a])),t.push(I[a+1]);const h=[],m=hi.empty();for(let a=S.length-1;a>=0;--a)if(!a0(h,S[a])){const r=S[a];let e=t[a];e=Ne(e);const n=c.Ku(r);if(e instanceof Fh)h.push(r);else{const l=Pa(e,n);l!=null&&(h.push(r),m.set(r,l))}}const o=new vi(h);return new e0(m,o,c.fieldTransforms)}function uP(x,i,p,C=!1){return Pa(p,x.ju(C?4:3,i))}function Pa(x,i){if(r0(x=Ne(x)))return mf("Unsupported field value:",i,x),n0(x,i);if(x instanceof df)return function(C,R){if(!i0(R.Lu))throw R.Wu(`${C._methodName}() can only be used with update() and set()`);if(!R.path)throw R.Wu(`${C._methodName}() is not currently supported inside arrays`);const I=C._toFieldTransform(R);I&&R.fieldTransforms.push(I)}(x,i),null;if(x===void 0&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),x instanceof Array){if(i.settings.Qu&&i.Lu!==4)throw i.Wu("Nested arrays are not supported");return function(C,R){const I=[];let c=0;for(const S of C){let t=Pa(S,R.Uu(c));t==null&&(t={nullValue:"NULL_VALUE"}),I.push(t),c++}return{arrayValue:{values:I}}}(x,i)}return function(C,R){if((C=Ne(C))===null)return{nullValue:"NULL_VALUE"};if(typeof C=="number")return k2(R.serializer,C);if(typeof C=="boolean")return{booleanValue:C};if(typeof C=="string")return{stringValue:C};if(C instanceof Date){const I=Me.fromDate(C);return{timestampValue:Uo(R.serializer,I)}}if(C instanceof Me){const I=new Me(C.seconds,1e3*Math.floor(C.nanoseconds/1e3));return{timestampValue:Uo(R.serializer,I)}}if(C instanceof cf)return{geoPointValue:{latitude:C.latitude,longitude:C.longitude}};if(C instanceof ar)return{bytesValue:Ag(R.serializer,C._byteString)};if(C instanceof Ze){const I=R.databaseId,c=C.firestore._databaseId;if(!c.isEqual(I))throw R.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${I.projectId}/${I.database}`);return{referenceValue:$u(C.firestore._databaseId||R.databaseId,C._key.path)}}if(C instanceof vf)return function(c,S){return{mapValue:{fields:{[qm]:{stringValue:_m},[No]:{arrayValue:{values:c.toArray().map(h=>{if(typeof h!="number")throw S.Wu("VectorValues must only contain numeric values.");return Yu(S.serializer,h)})}}}}}}(C,R);throw R.Wu(`Unsupported field value: ${wh(C)}`)}(x,i)}function n0(x,i){const p={};return $m(x)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):ks(x,(C,R)=>{const I=Pa(R,i.qu(C));I!=null&&(p[C]=I)}),{mapValue:{fields:p}}}function r0(x){return!(typeof x!="object"||x===null||x instanceof Array||x instanceof Date||x instanceof Me||x instanceof cf||x instanceof ar||x instanceof Ze||x instanceof df||x instanceof vf)}function mf(x,i,p){if(!r0(p)||!function(R){return typeof R=="object"&&R!==null&&(Object.getPrototypeOf(R)===Object.prototype||Object.getPrototypeOf(R)===null)}(p)){const C=wh(p);throw C==="an object"?i.Wu(x+" a custom object"):i.Wu(x+" "+C)}}function ou(x,i,p){if((i=Ne(i))instanceof Ih)return i._internalPath;if(typeof i=="string")return gf(x,i);throw Ho("Field path arguments must be of type string or ",x,!1,void 0,p)}const fP=new RegExp("[~\\*/\\[\\]]");function gf(x,i,p){if(i.search(fP)>=0)throw Ho(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,x,!1,void 0,p);try{return new Ih(...i.split("."))._internalPath}catch{throw Ho(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,x,!1,void 0,p)}}function Ho(x,i,p,C,R){const I=C&&!C.isEmpty(),c=R!==void 0;let S=`Function ${i}() called with invalid data`;p&&(S+=" (via `toFirestore()`)"),S+=". ";let t="";return(I||c)&&(t+=" (found",I&&(t+=` in field ${C}`),c&&(t+=` in document ${R}`),t+=")"),new Pt(pt.INVALID_ARGUMENT,S+x+t)}function a0(x,i){return x.some(p=>p.isEqual(i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(i,p,C,R,I){this._firestore=i,this._userDataWriter=p,this._key=C,this._document=R,this._converter=I}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const i=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const p=this._document.data.field(xf("DocumentSnapshot.get",i));if(p!==null)return this._userDataWriter.convertValue(p)}}}class dP extends o0{data(){return super.data()}}function xf(x,i){return typeof i=="string"?gf(x,i):i instanceof Ih?i._internalPath:i._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(x){if(x.limitType==="L"&&x.explicitOrderBy.length===0)throw new Pt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yf{}class cP extends yf{}function l0(x,i,...p){let C=[];i instanceof yf&&C.push(i),C=C.concat(p),function(I){const c=I.filter(t=>t instanceof Tf).length,S=I.filter(t=>t instanceof Dh).length;if(c>1||c>0&&S>0)throw new Pt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(C);for(const R of C)x=R._apply(x);return x}class Dh extends cP{constructor(i,p,C){super(),this._field=i,this._op=p,this._value=C,this.type="where"}static _create(i,p,C){return new Dh(i,p,C)}_apply(i){const p=this._parse(i);return u0(i._query,p),new Ln(i.firestore,i.converter,Zl(i._query,p))}_parse(i){const p=Lh(i.firestore);return function(I,c,S,t,h,m,o){let a;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Pt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Fv(o,m);const e=[];for(const n of o)e.push(Lv(t,I,n));a={arrayValue:{values:e}}}else a=Lv(t,I,o)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Fv(o,m),a=uP(S,c,o,m==="in"||m==="not-in");return Pe.create(h,m,a)}(i._query,"where",p,i.firestore._databaseId,this._field,this._op,this._value)}}function vP(x,i,p){const C=i,R=xf("where",x);return Dh._create(R,C,p)}class Tf extends yf{constructor(i,p){super(),this.type=i,this._queryConstraints=p}static _create(i,p){return new Tf(i,p)}_parse(i){const p=this._queryConstraints.map(C=>C._parse(i)).filter(C=>C.getFilters().length>0);return p.length===1?p[0]:Li.create(p,this._getOperator())}_apply(i){const p=this._parse(i);return p.getFilters().length===0?i:(function(R,I){let c=R;const S=I.getFlattenedFilters();for(const t of S)u0(c,t),c=Zl(c,t)}(i._query,p),new Ln(i.firestore,i.converter,Zl(i._query,p)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Lv(x,i,p){if(typeof(p=Ne(p))=="string"){if(p==="")throw new Pt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!og(i)&&p.indexOf("/")!==-1)throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${p}' contains a '/' character.`);const C=i.path.child(me.fromString(p));if(!Ft.isDocumentKey(C))throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${C}' is not because it has an odd number of segments (${C.length}).`);return Hc(x,new Ft(C))}if(p instanceof Ze)return Hc(x,p._key);throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(p)}.`)}function Fv(x,i){if(!Array.isArray(x)||x.length===0)throw new Pt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`)}function u0(x,i){const p=function(R,I){for(const c of R)for(const S of c.getFlattenedFilters())if(I.indexOf(S.op)>=0)return S.op;return null}(x.filters,function(R){switch(R){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(i.op));if(p!==null)throw p===i.op?new Pt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${i.op.toString()}' filter.`):new Pt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${i.op.toString()}' filters with '${p.toString()}' filters.`)}class pP{convertValue(i,p="none"){switch(Hs(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Ee(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,p);case 5:return i.stringValue;case 6:return this.convertBytes(Ys(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,p);case 11:return this.convertObject(i.mapValue,p);case 10:return this.convertVectorValue(i.mapValue);default:throw Ot()}}convertObject(i,p){return this.convertObjectMap(i.fields,p)}convertObjectMap(i,p="none"){const C={};return ks(i,(R,I)=>{C[R]=this.convertValue(I,p)}),C}convertVectorValue(i){var p,C,R;const I=(R=(C=(p=i.fields)===null||p===void 0?void 0:p[No].arrayValue)===null||C===void 0?void 0:C.values)===null||R===void 0?void 0:R.map(c=>Ee(c.doubleValue));return new vf(I)}convertGeoPoint(i){return new cf(Ee(i.latitude),Ee(i.longitude))}convertArray(i,p){return(i.values||[]).map(C=>this.convertValue(C,p))}convertServerTimestamp(i,p){switch(p){case"previous":const C=gh(i);return C==null?null:this.convertValue(C,p);case"estimate":return this.convertTimestamp(ha(i));default:return null}}convertTimestamp(i){const p=Ws(i);return new Me(p.seconds,p.nanos)}convertDocumentKey(i,p){const C=me.fromString(i);ne(Lg(C));const R=new la(C.get(1),C.get(3)),I=new Ft(C.popFirst(5));return R.isEqual(p)||ls(`Document ${I} contains a document reference within a different database (${R.projectId}/${R.database}) which is not supported. It will be treated as a reference in the current database (${p.projectId}/${p.database}) instead.`),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(x,i,p){let C;return C=x?x.toFirestore(i):i,C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(i,p){this.hasPendingWrites=i,this.fromCache=p}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class d0 extends o0{constructor(i,p,C,R,I,c){super(i,p,C,R,c),this._firestore=i,this._firestoreImpl=i,this.metadata=I}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const p=new mo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(p,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,p={}){if(this._document){const C=this._document.data.field(xf("DocumentSnapshot.get",i));if(C!==null)return this._userDataWriter.convertValue(C,p.serverTimestamps)}}}class mo extends d0{data(i={}){return super.data(i)}}class c0{constructor(i,p,C,R){this._firestore=i,this._userDataWriter=p,this._snapshot=R,this.metadata=new br(R.hasPendingWrites,R.fromCache),this.query=C}get docs(){const i=[];return this.forEach(p=>i.push(p)),i}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(i,p){this._snapshot.docs.forEach(C=>{i.call(p,new mo(this._firestore,this._userDataWriter,C.key,C,new br(this._snapshot.mutatedKeys.has(C.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const p=!!i.includeMetadataChanges;if(p&&this._snapshot.excludesMetadataChanges)throw new Pt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===p||(this._cachedChanges=function(R,I){if(R._snapshot.oldDocs.isEmpty()){let c=0;return R._snapshot.docChanges.map(S=>{const t=new mo(R._firestore,R._userDataWriter,S.doc.key,S.doc,new br(R._snapshot.mutatedKeys.has(S.doc.key),R._snapshot.fromCache),R.query.converter);return S.doc,{type:"added",doc:t,oldIndex:-1,newIndex:c++}})}{let c=R._snapshot.oldDocs;return R._snapshot.docChanges.filter(S=>I||S.type!==3).map(S=>{const t=new mo(R._firestore,R._userDataWriter,S.doc.key,S.doc,new br(R._snapshot.mutatedKeys.has(S.doc.key),R._snapshot.fromCache),R.query.converter);let h=-1,m=-1;return S.type!==0&&(h=c.indexOf(S.doc.key),c=c.delete(S.doc.key)),S.type!==1&&(c=c.add(S.doc),m=c.indexOf(S.doc.key)),{type:mP(S.type),doc:t,oldIndex:h,newIndex:m}})}}(this,p),this._cachedChangesIncludeMetadataChanges=p),this._cachedChanges}}function mP(x){switch(x){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(x){x=Ti(x,Ze);const i=Ti(x.firestore,Qs);return _A(Mh(i),x._key).then(p=>v0(i,x,p))}class Ef extends pP{constructor(i){super(),this.firestore=i}convertBytes(i){return new ar(i)}convertReference(i){const p=this.convertDocumentKey(i,this.firestore._databaseId);return new Ze(this.firestore,null,p)}}function Dv(x){x=Ti(x,Ln);const i=Ti(x.firestore,Qs),p=Mh(i),C=new Ef(i);return h0(x._query),tP(p,x._query).then(R=>new c0(i,C,x,R))}function gP(x,i,p){x=Ti(x,Ze);const C=Ti(x.firestore,Qs),R=f0(x.converter,i);return Sf(C,[s0(Lh(C),"setDoc",x._key,R,x.converter!==null,p).toMutation(x._key,Pi.none())])}function xP(x,i,p,...C){x=Ti(x,Ze);const R=Ti(x.firestore,Qs),I=Lh(R);let c;return c=typeof(i=Ne(i))=="string"||i instanceof Ih?lP(I,"updateDoc",x._key,i,p,C):hP(I,"updateDoc",x._key,i),Sf(R,[c.toMutation(x._key,Pi.exists(!0))])}function yP(x,i){const p=Ti(x.firestore,Qs),C=Br(x),R=f0(x.converter,i);return Sf(p,[s0(Lh(x.firestore),"addDoc",C._key,R,x.converter!==null,{}).toMutation(C._key,Pi.exists(!1))]).then(()=>C)}function Ov(x,...i){var p,C,R;x=Ne(x);let I={includeMetadataChanges:!1,source:"default"},c=0;typeof i[c]!="object"||Iv(i[c])||(I=i[c],c++);const S={includeMetadataChanges:I.includeMetadataChanges,source:I.source};if(Iv(i[c])){const o=i[c];i[c]=(p=o.next)===null||p===void 0?void 0:p.bind(o),i[c+1]=(C=o.error)===null||C===void 0?void 0:C.bind(o),i[c+2]=(R=o.complete)===null||R===void 0?void 0:R.bind(o)}let t,h,m;if(x instanceof Ze)h=Ti(x.firestore,Qs),m=xh(x._key.path),t={next:o=>{i[c]&&i[c](v0(h,x,o))},error:i[c+1],complete:i[c+2]};else{const o=Ti(x,Ln);h=Ti(o.firestore,Qs),m=o._query;const a=new Ef(h);t={next:r=>{i[c]&&i[c](new c0(h,a,o,r))},error:i[c+1],complete:i[c+2]},h0(x._query)}return function(a,r,e,n){const l=new uf(n),s=new of(r,l,e);return a.asyncQueue.enqueueAndForget(async()=>nf(await Yo(a),s)),()=>{l.su(),a.asyncQueue.enqueueAndForget(async()=>rf(await Yo(a),s))}}(Mh(h),m,S,t)}function Sf(x,i){return function(C,R){const I=new as;return C.asyncQueue.enqueueAndForget(async()=>XA(await qA(C),R,I)),I.promise}(Mh(x),i)}function v0(x,i,p){const C=p.docs.get(i._key),R=new Ef(x);return new d0(x,R,i._key,C,new br(p.hasPendingWrites,p.fromCache),i.converter)}(function(i,p=!0){(function(R){dr=R})(fr),tr(new Tn("firestore",(C,{instanceIdentifier:R,options:I})=>{const c=C.getProvider("app").getImmediate(),S=new Qs(new d2(C.getProvider("auth-internal")),new p2(c,C.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(h.options.projectId,m)}(c,R),c);return I=Object.assign({useFetchStreams:p},I),S._setSettings(I),S},"PUBLIC").setMultipleInstances(!0)),Ns(Oc,Nc,i),Ns(Oc,Nc,"esm2017")})();class ai{static handleDefaultValue(i,p,C){if(i!==void 0)return i;throw new Error(`Could not load data, expected ${p} to be of type ${C}`)}static handleData(i,p,C){return!i||typeof i!="object"?this.handleDefaultValue(void 0,p,C):i[p]}static loadString(i,p,C){const R=this.handleData(i,p,"string");return typeof R=="string"?R:this.handleDefaultValue(C,p,"string")}static loadStringOrNull(i,p,C){const R=this.handleData(i,p,"string");return typeof R=="string"?R:this.handleDefaultValue(C,p,"string")}static loadBoolean(i,p,C){const R=this.handleData(i,p,"boolean");return typeof R=="boolean"?R:this.handleDefaultValue(C,p,"boolean")}static loadBooleanOrNull(i,p,C){const R=this.handleData(i,p,"boolean");return typeof R=="boolean"?R:this.handleDefaultValue(C,p,"boolean")}static loadNumber(i,p,C){const R=this.handleData(i,p,"number");return typeof R=="number"?R:this.handleDefaultValue(C,p,"number")}static loadNumberOrNull(i,p,C){const R=this.handleData(i,p,"number");return typeof R=="number"?R:this.handleDefaultValue(C,p,"number")}static loadEnum(i,p,C,R){const I=this.handleData(i,p,"string");return R.includes(I)?I:this.handleDefaultValue(C,p,"enum")}static loadEnumOrNull(i,p,C,R){const I=this.handleData(i,p,"string");return R.includes(I)?I:this.handleDefaultValue(C,p,"enum")}static loadArray(i,p,C){const R=this.handleData(i,p,"array");return Array.isArray(R)?R:this.handleDefaultValue(C,p,"array")}static loadArrayOrNull(i,p,C){const R=this.handleData(i,p,"array");return Array.isArray(R)?R:this.handleDefaultValue(C,p,"array")}static loadObject(i,p,C){const R=this.handleData(i,p,"object");return typeof R=="object"&&R!==null?R:this.handleDefaultValue(C,p,"object")}static loadObjectOrNull(i,p,C){const R=this.handleData(i,p,"object");return typeof R=="object"&&R!==null?R:this.handleDefaultValue(C,p,"object")}}const Zo=class Zo{constructor(i){vt(this,"id","");vt(this,"score",0);vt(this,"createdAt",new Date);vt(this,"userId","");vt(this,"version","0.0.44");vt(this,"gameMode",Ul.Normal);vt(this,"hasDebugged",!1);i&&(this.id=ai.loadString(i,"id",this.id),this.score=ai.loadNumber(i,"score",this.score),this.userId=ai.loadString(i,"userId",this.userId),this.version=ai.loadString(i,"version",this.version),this.gameMode=ai.loadEnum(i,"gameMode",this.gameMode,Object.values(Ul)),this.hasDebugged=ai.loadBoolean(i,"hasDebugged",this.hasDebugged))}getRawData(){return{score:this.score,createdAt:this.createdAt,userId:this.userId,version:this.version,gameMode:this.gameMode,hasDebugged:this.hasDebugged}}};vt(Zo,"Converter",{toFirestore:i=>i.getRawData(),fromFirestore:i=>{const p=i.data();return new Zo({...p,id:i.id})}});let Jr=Zo;const Cf=wn("hiscores",()=>{const x=bt([]),i=bt(!1),p=c=>{x.value=Array.isArray(c)?c:[c]};return{hiscores:x,hasDebugged:i,addNewHiscore:async(c,S)=>{const t=new Jr({score:S,userId:c,hasDebugged:i.value});if(t.score>Mt.hiscores.threshold){const h=await Ke.addDocument(Fs.Hiscores,t,Jr.Converter);t.id=h}return i.value=!1,t},subscribeHiscores:async()=>{const c=Ke.getCollectionRef(Fs.Hiscores),S=vP("hasDebugged","==",!1);Ke.subscribe({key:"hiscores",queryRef:l0(c,S).withConverter(Jr.Converter),callback:p,error:t=>{console.error("Error in subscription to hiscores.",t)}})},unsubscribeHiscores:async()=>{Ke.unsubscribe("hiscores")}}}),Af=wn("interface",()=>{const{isPlaying:x}=Ue(fi()),i=bt(!1),p=bt(!1),C=bt(!1);return{isGameMenuVisible:C,isHiscoresVisible:i,isSettingsVisible:p,toggleGameMenu:()=>{x.value||(C.value=!C.value)},toggleHiscores:()=>i.value=!i.value,toggleSettings:()=>p.value=!p.value}}),Vs=new ur.Events.EventEmitter;var os=(x=>(x.PreloadComplete="preloadComplete",x.CurrentSceneReady="currentSceneReady",x.SetVolume="setVolume",x.SetMusicVolume="setMusicVolume",x.SetSfxVolume="setSfxVolume",x.TogglePaused="togglePaused",x))(os||{});const Pf=wn("settings",()=>{const x=bt(!1),i=bt(1),p=bt(1),C=bt(1),R=Dt({get(){return i.value},set(t){i.value=t,localStorage.setItem("settings",JSON.stringify({currentVolume:t})),Vs.emit(os.SetVolume,t)}});return{currentVolume:R,isFullscreen:x,musicVolume:p,sfxVolume:C,setVolume:t=>{R.value=t},setMusicVolume:t=>{p.value=t,Vs.emit(os.SetMusicVolume,t)},setSfxVolume:t=>{C.value=t,Vs.emit(os.SetSfxVolume,t)}}}),ko=class ko{constructor(i){vt(this,"id","");vt(this,"displayName",null);vt(this,"firstName",null);vt(this,"lastName",null);vt(this,"email",null);vt(this,"country",null);vt(this,"createdAt",new Date);vt(this,"updatedAt",new Date);vt(this,"photoUrl",null);vt(this,"phoneNumber",null);i&&(this.id=ai.loadString(i,"id"),this.displayName=ai.loadStringOrNull(i,"displayName",null),this.firstName=ai.loadStringOrNull(i,"firstName",null),this.lastName=ai.loadStringOrNull(i,"lastName",null),this.email=ai.loadStringOrNull(i,"email",null),this.country=ai.loadStringOrNull(i,"country",null),this.photoUrl=ai.loadStringOrNull(i,"photoUrl",null),this.phoneNumber=ai.loadStringOrNull(i,"phoneNumber",null))}get fullName(){return this.displayName?this.displayName:`${this.firstName} ${this.lastName}`}get initials(){var i,p;return this.displayName?this.displayName.split(" ").map(C=>C[0]).join(""):`${(i=this.firstName)==null?void 0:i.charAt(0)}${(p=this.lastName)==null?void 0:p.charAt(0)}`}getRawData(){return{displayName:this.displayName,firstName:this.firstName,lastName:this.lastName,email:this.email,country:this.country,createdAt:this.createdAt,updatedAt:this.updatedAt,photoUrl:this.photoUrl,phoneNumber:this.phoneNumber}}};vt(ko,"Converter",{toFirestore:i=>i.getRawData(),fromFirestore:i=>{const p=i.data();return new ko({...p,id:i.id})}});let Gs=ko;function Rf(x,i){var p={};for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&i.indexOf(C)<0&&(p[C]=x[C]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,C=Object.getOwnPropertySymbols(x);R<C.length;R++)i.indexOf(C[R])<0&&Object.prototype.propertyIsEnumerable.call(x,C[R])&&(p[C[R]]=x[C[R]]);return p}function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TP=p0,m0=new xa("auth","Firebase",p0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Nu("@firebase/auth");function EP(x,...i){Ko.logLevel<=Yt.WARN&&Ko.warn(`Auth (${fr}): ${x}`,...i)}function go(x,...i){Ko.logLevel<=Yt.ERROR&&Ko.error(`Auth (${fr}): ${x}`,...i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(x,...i){throw Mf(x,...i)}function Ri(x,...i){return Mf(x,...i)}function wf(x,i,p){const C=Object.assign(Object.assign({},TP()),{[i]:p});return new xa("auth","Firebase",C).create(i,{appName:x.name})}function mn(x){return wf(x,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SP(x,i,p){const C=p;if(!(i instanceof C))throw C.name!==i.constructor.name&&$i(x,"argument-error"),wf(x,"argument-error",`Type of ${i.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mf(x,...i){if(typeof x!="string"){const p=i[0],C=[...i.slice(1)];return C[0]&&(C[0].appName=x.name),x._errorFactory.create(p,...C)}return m0.create(x,...i)}function Bt(x,i,...p){if(!x)throw Mf(i,...p)}function is(x){const i="INTERNAL ASSERTION FAILED: "+x;throw go(i),new Error(i)}function fs(x,i){x||is(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(){var x;return typeof self<"u"&&((x=self.location)===null||x===void 0?void 0:x.href)||""}function CP(){return Nv()==="http:"||Nv()==="https:"}function Nv(){var x;return typeof self<"u"&&((x=self.location)===null||x===void 0?void 0:x.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CP()||WE()||"connection"in navigator)?navigator.onLine:!0}function PP(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(i,p){this.shortDelay=i,this.longDelay=p,fs(p>i,"Short delay should be less than long delay!"),this.isMobile=UE()||YE()}get(){return AP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(x,i){fs(x.emulator,"Emulator should always be set here");const{url:p}=x.emulator;return i?`${p}${i.startsWith("/")?i.slice(1):i}`:p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static initialize(i,p,C){this.fetchImpl=i,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Ra(3e4,6e4);function Lf(x,i){return x.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:x.tenantId}):i}async function mr(x,i,p,C,R={}){return x0(x,R,async()=>{let I={},c={};C&&(i==="GET"?c=C:I={body:JSON.stringify(C)});const S=ya(Object.assign({key:x.config.apiKey},c)).slice(1),t=await x._getAdditionalHeaders();t["Content-Type"]="application/json",x.languageCode&&(t["X-Firebase-Locale"]=x.languageCode);const h=Object.assign({method:i,headers:t},I);return XE()||(h.referrerPolicy="no-referrer"),g0.fetch()(y0(x,x.config.apiHost,p,S),h)})}async function x0(x,i,p){x._canInitEmulator=!1;const C=Object.assign(Object.assign({},RP),i);try{const R=new IP(x),I=await Promise.race([p(),R.promise]);R.clearNetworkTimeout();const c=await I.json();if("needConfirmation"in c)throw eo(x,"account-exists-with-different-credential",c);if(I.ok&&!("errorMessage"in c))return c;{const S=I.ok?c.errorMessage:c.error.message,[t,h]=S.split(" : ");if(t==="FEDERATED_USER_ID_ALREADY_LINKED")throw eo(x,"credential-already-in-use",c);if(t==="EMAIL_EXISTS")throw eo(x,"email-already-in-use",c);if(t==="USER_DISABLED")throw eo(x,"user-disabled",c);const m=C[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw wf(x,m,h);$i(x,m)}}catch(R){if(R instanceof ms)throw R;$i(x,"network-request-failed",{message:String(R)})}}async function MP(x,i,p,C,R={}){const I=await mr(x,i,p,C,R);return"mfaPendingCredential"in I&&$i(x,"multi-factor-auth-required",{_serverResponse:I}),I}function y0(x,i,p,C){const R=`${i}${p}?${C}`;return x.config.emulator?If(x.config,R):`${x.config.apiScheme}://${R}`}class IP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(i){this.auth=i,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Ri(this.auth,"network-request-failed")),wP.get())})}}function eo(x,i,p){const C={appName:x.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const R=Ri(x,i,C);return R.customData._tokenResponse=p,R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(x,i){return mr(x,"POST","/v1/accounts:delete",i)}async function T0(x,i){return mr(x,"POST","/v1/accounts:lookup",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(x){if(x)try{const i=new Date(Number(x));if(!isNaN(i.getTime()))return i.toUTCString()}catch{}}async function FP(x,i=!1){const p=Ne(x),C=await p.getIdToken(i),R=Ff(C);Bt(R&&R.exp&&R.auth_time&&R.iat,p.auth,"internal-error");const I=typeof R.firebase=="object"?R.firebase:void 0,c=I==null?void 0:I.sign_in_provider;return{claims:R,token:C,authTime:Zr(Sl(R.auth_time)),issuedAtTime:Zr(Sl(R.iat)),expirationTime:Zr(Sl(R.exp)),signInProvider:c||null,signInSecondFactor:(I==null?void 0:I.sign_in_second_factor)||null}}function Sl(x){return Number(x)*1e3}function Ff(x){const[i,p,C]=x.split(".");if(i===void 0||p===void 0||C===void 0)return go("JWT malformed, contained fewer than 3 sections"),null;try{const R=Lm(p);return R?JSON.parse(R):(go("Failed to decode base64 JWT payload"),null)}catch(R){return go("Caught error parsing JWT payload as JSON",R==null?void 0:R.toString()),null}}function Bv(x){const i=Ff(x);return Bt(i,"internal-error"),Bt(typeof i.exp<"u","internal-error"),Bt(typeof i.iat<"u","internal-error"),Number(i.exp)-Number(i.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(x,i,p=!1){if(p)return i;try{return await i}catch(C){throw C instanceof ms&&DP(C)&&x.auth.currentUser===x&&await x.auth.signOut(),C}}function DP({code:x}){return x==="auth/user-disabled"||x==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(i){this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(i){var p;if(i){const C=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),C}else{this.errorBackoff=3e4;const R=((p=this.user.stsTokenManager.expirationTime)!==null&&p!==void 0?p:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(i=!1){if(!this.isRunning)return;const p=this.getInterval(i);this.timerId=setTimeout(async()=>{await this.iteration()},p)}async iteration(){try{await this.user.getIdToken(!0)}catch(i){(i==null?void 0:i.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(i,p){this.createdAt=i,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(i){this.createdAt=i.createdAt,this.lastLoginAt=i.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(x){var i;const p=x.auth,C=await x.getIdToken(),R=await ca(x,T0(p,{idToken:C}));Bt(R==null?void 0:R.users.length,p,"internal-error");const I=R.users[0];x._notifyReloadListener(I);const c=!((i=I.providerUserInfo)===null||i===void 0)&&i.length?E0(I.providerUserInfo):[],S=BP(x.providerData,c),t=x.isAnonymous,h=!(x.email&&I.passwordHash)&&!(S!=null&&S.length),m=t?h:!1,o={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:S,metadata:new lu(I.createdAt,I.lastLoginAt),isAnonymous:m};Object.assign(x,o)}async function NP(x){const i=Ne(x);await $o(i),await i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)}function BP(x,i){return[...x.filter(C=>!i.some(R=>R.providerId===C.providerId)),...i]}function E0(x){return x.map(i=>{var{providerId:p}=i,C=Rf(i,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(x,i){const p=await x0(x,{},async()=>{const C=ya({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:R,apiKey:I}=x.config,c=y0(x,R,"/v1/token",`key=${I}`),S=await x._getAdditionalHeaders();return S["Content-Type"]="application/x-www-form-urlencoded",g0.fetch()(c,{method:"POST",headers:S,body:C})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}}async function VP(x,i){return mr(x,"POST","/v2/accounts:revokeToken",Lf(x,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(i){Bt(i.idToken,"internal-error"),Bt(typeof i.idToken<"u","internal-error"),Bt(typeof i.refreshToken<"u","internal-error");const p="expiresIn"in i&&typeof i.expiresIn<"u"?Number(i.expiresIn):Bv(i.idToken);this.updateTokensAndExpiration(i.idToken,i.refreshToken,p)}updateFromIdToken(i){Bt(i.length!==0,"internal-error");const p=Bv(i);this.updateTokensAndExpiration(i,null,p)}async getToken(i,p=!1){return!p&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,i,"user-token-expired"),this.refreshToken?(await this.refresh(i,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(i,p){const{accessToken:C,refreshToken:R,expiresIn:I}=await bP(i,p);this.updateTokensAndExpiration(C,R,Number(I))}updateTokensAndExpiration(i,p,C){this.refreshToken=p||null,this.accessToken=i||null,this.expirationTime=Date.now()+C*1e3}static fromJSON(i,p){const{refreshToken:C,accessToken:R,expirationTime:I}=p,c=new Jn;return C&&(Bt(typeof C=="string","internal-error",{appName:i}),c.refreshToken=C),R&&(Bt(typeof R=="string","internal-error",{appName:i}),c.accessToken=R),I&&(Bt(typeof I=="number","internal-error",{appName:i}),c.expirationTime=I),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(i){this.accessToken=i.accessToken,this.refreshToken=i.refreshToken,this.expirationTime=i.expirationTime}_clone(){return Object.assign(new Jn,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(x,i){Bt(typeof x=="string"||typeof x>"u","internal-error",{appName:i})}class ss{constructor(i){var{uid:p,auth:C,stsTokenManager:R}=i,I=Rf(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new lu(I.createdAt||void 0,I.lastLoginAt||void 0)}async getIdToken(i){const p=await ca(this,this.stsTokenManager.getToken(this.auth,i));return Bt(p,this.auth,"internal-error"),this.accessToken!==p&&(this.accessToken=p,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),p}getIdTokenResult(i){return FP(this,i)}reload(){return NP(this)}_assign(i){this!==i&&(Bt(this.uid===i.uid,this.auth,"internal-error"),this.displayName=i.displayName,this.photoURL=i.photoURL,this.email=i.email,this.emailVerified=i.emailVerified,this.phoneNumber=i.phoneNumber,this.isAnonymous=i.isAnonymous,this.tenantId=i.tenantId,this.providerData=i.providerData.map(p=>Object.assign({},p)),this.metadata._copy(i.metadata),this.stsTokenManager._assign(i.stsTokenManager))}_clone(i){const p=new ss(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(i){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=i,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(i){this.reloadListener?this.reloadListener(i):this.reloadUserInfo=i}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(i,p=!1){let C=!1;i.idToken&&i.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(i),C=!0),p&&await $o(this),await this.auth._persistUserIfCurrent(this),C&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(mn(this.auth));const i=await this.getIdToken();return await ca(this,LP(this.auth,{idToken:i})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(i=>Object.assign({},i)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(i,p){var C,R,I,c,S,t,h,m;const o=(C=p.displayName)!==null&&C!==void 0?C:void 0,a=(R=p.email)!==null&&R!==void 0?R:void 0,r=(I=p.phoneNumber)!==null&&I!==void 0?I:void 0,e=(c=p.photoURL)!==null&&c!==void 0?c:void 0,n=(S=p.tenantId)!==null&&S!==void 0?S:void 0,l=(t=p._redirectEventId)!==null&&t!==void 0?t:void 0,s=(h=p.createdAt)!==null&&h!==void 0?h:void 0,u=(m=p.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:f,emailVerified:d,isAnonymous:v,providerData:g,stsTokenManager:y}=p;Bt(f&&y,i,"internal-error");const T=Jn.fromJSON(this.name,y);Bt(typeof f=="string",i,"internal-error"),Es(o,i.name),Es(a,i.name),Bt(typeof d=="boolean",i,"internal-error"),Bt(typeof v=="boolean",i,"internal-error"),Es(r,i.name),Es(e,i.name),Es(n,i.name),Es(l,i.name),Es(s,i.name),Es(u,i.name);const E=new ss({uid:f,auth:i,email:a,emailVerified:d,displayName:o,isAnonymous:v,photoURL:e,phoneNumber:r,tenantId:n,stsTokenManager:T,createdAt:s,lastLoginAt:u});return g&&Array.isArray(g)&&(E.providerData=g.map(A=>Object.assign({},A))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(i,p,C=!1){const R=new Jn;R.updateFromServerResponse(p);const I=new ss({uid:p.localId,auth:i,stsTokenManager:R,isAnonymous:C});return await $o(I),I}static async _fromGetAccountInfoResponse(i,p,C){const R=p.users[0];Bt(R.localId!==void 0,"internal-error");const I=R.providerUserInfo!==void 0?E0(R.providerUserInfo):[],c=!(R.email&&R.passwordHash)&&!(I!=null&&I.length),S=new Jn;S.updateFromIdToken(C);const t=new ss({uid:R.localId,auth:i,stsTokenManager:S,isAnonymous:c}),h={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:I,metadata:new lu(R.createdAt,R.lastLoginAt),isAnonymous:!(R.email&&R.passwordHash)&&!(I!=null&&I.length)};return Object.assign(t,h),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;function ns(x){fs(x instanceof Function,"Expected a class definition");let i=bv.get(x);return i?(fs(i instanceof x,"Instance stored in cache mismatched with class"),i):(i=new x,bv.set(x,i),i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(i,p){this.storage[i]=p}async _get(i){const p=this.storage[i];return p===void 0?null:p}async _remove(i){delete this.storage[i]}_addListener(i,p){}_removeListener(i,p){}}S0.type="NONE";const Vv=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(x,i,p){return`firebase:${x}:${i}:${p}`}class Zn{constructor(i,p,C){this.persistence=i,this.auth=p,this.userKey=C;const{config:R,name:I}=this.auth;this.fullUserKey=xo(this.userKey,R.apiKey,I),this.fullPersistenceKey=xo("persistence",R.apiKey,I),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(i){return this.persistence._set(this.fullUserKey,i.toJSON())}async getCurrentUser(){const i=await this.persistence._get(this.fullUserKey);return i?ss._fromJSON(this.auth,i):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(i){if(this.persistence===i)return;const p=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=i,p)return this.setCurrentUser(p)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(i,p,C="authUser"){if(!p.length)return new Zn(ns(Vv),i,C);const R=(await Promise.all(p.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let I=R[0]||ns(Vv);const c=xo(C,i.config.apiKey,i.name);let S=null;for(const h of p)try{const m=await h._get(c);if(m){const o=ss._fromJSON(i,m);h!==I&&(S=o),I=h;break}}catch{}const t=R.filter(h=>h._shouldAllowMigration);return!I._shouldAllowMigration||!t.length?new Zn(I,i,C):(I=t[0],S&&await I._set(c,S.toJSON()),await Promise.all(p.map(async h=>{if(h!==I)try{await h._remove(c)}catch{}})),new Zn(I,i,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(x){const i=x.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(R0(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(C0(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(M0(i))return"Blackberry";if(I0(i))return"Webos";if(A0(i))return"Safari";if((i.includes("chrome/")||P0(i))&&!i.includes("edge/"))return"Chrome";if(w0(i))return"Android";{const p=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,C=x.match(p);if((C==null?void 0:C.length)===2)return C[1]}return"Other"}function C0(x=ke()){return/firefox\//i.test(x)}function A0(x=ke()){const i=x.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function P0(x=ke()){return/crios\//i.test(x)}function R0(x=ke()){return/iemobile/i.test(x)}function w0(x=ke()){return/android/i.test(x)}function M0(x=ke()){return/blackberry/i.test(x)}function I0(x=ke()){return/webos/i.test(x)}function Df(x=ke()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function GP(x=ke()){var i;return Df(x)&&!!(!((i=window.navigator)===null||i===void 0)&&i.standalone)}function UP(){return HE()&&document.documentMode===10}function L0(x=ke()){return Df(x)||w0(x)||I0(x)||M0(x)||/windows phone/i.test(x)||R0(x)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(x,i=[]){let p;switch(x){case"Browser":p=Gv(ke());break;case"Worker":p=`${Gv(ke())}-${x}`;break;default:p=x}const C=i.length?i.join(","):"FirebaseCore-web";return`${p}/JsCore/${fr}/${C}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(i){this.auth=i,this.queue=[]}pushCallback(i,p){const C=I=>new Promise((c,S)=>{try{const t=i(I);c(t)}catch(t){S(t)}});C.onAbort=p,this.queue.push(C);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}async runMiddleware(i){if(this.auth.currentUser===i)return;const p=[];try{for(const C of this.queue)await C(i),C.onAbort&&p.push(C.onAbort)}catch(C){p.reverse();for(const R of p)try{R()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:C==null?void 0:C.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(x,i={}){return mr(x,"GET","/v2/passwordPolicy",Lf(x,i))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=6;class YP{constructor(i){var p,C,R,I;const c=i.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(p=c.minPasswordLength)!==null&&p!==void 0?p:WP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=i.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(R=(C=i.allowedNonAlphanumericCharacters)===null||C===void 0?void 0:C.join(""))!==null&&R!==void 0?R:"",this.forceUpgradeOnSignin=(I=i.forceUpgradeOnSignin)!==null&&I!==void 0?I:!1,this.schemaVersion=i.schemaVersion}validatePassword(i){var p,C,R,I,c,S;const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(i,t),this.validatePasswordCharacterOptions(i,t),t.isValid&&(t.isValid=(p=t.meetsMinPasswordLength)!==null&&p!==void 0?p:!0),t.isValid&&(t.isValid=(C=t.meetsMaxPasswordLength)!==null&&C!==void 0?C:!0),t.isValid&&(t.isValid=(R=t.containsLowercaseLetter)!==null&&R!==void 0?R:!0),t.isValid&&(t.isValid=(I=t.containsUppercaseLetter)!==null&&I!==void 0?I:!0),t.isValid&&(t.isValid=(c=t.containsNumericCharacter)!==null&&c!==void 0?c:!0),t.isValid&&(t.isValid=(S=t.containsNonAlphanumericCharacter)!==null&&S!==void 0?S:!0),t}validatePasswordLengthOptions(i,p){const C=this.customStrengthOptions.minPasswordLength,R=this.customStrengthOptions.maxPasswordLength;C&&(p.meetsMinPasswordLength=i.length>=C),R&&(p.meetsMaxPasswordLength=i.length<=R)}validatePasswordCharacterOptions(i,p){this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);let C;for(let R=0;R<i.length;R++)C=i.charAt(R),this.updatePasswordCharacterOptionsStatuses(p,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(i,p,C,R,I){this.customStrengthOptions.containsLowercaseLetter&&(i.containsLowercaseLetter||(i.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(i.containsUppercaseLetter||(i.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(i.containsNumericCharacter||(i.containsNumericCharacter=R)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(i.containsNonAlphanumericCharacter||(i.containsNonAlphanumericCharacter=I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(i,p,C,R){this.app=i,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new zP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(i,p){return p&&(this._popupRedirectResolver=ns(p)),this._initializationPromise=this.queue(async()=>{var C,R;if(!this._deleted&&(this.persistenceManager=await Zn.create(this,i),!this._deleted)){if(!((C=this._popupRedirectResolver)===null||C===void 0)&&C._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(p),this.lastNotifiedUid=((R=this.currentUser)===null||R===void 0?void 0:R.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const i=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!i)){if(this.currentUser&&i&&this.currentUser.uid===i.uid){this._currentUser._assign(i),await this.currentUser.getIdToken();return}await this._updateCurrentUser(i,!0)}}async initializeCurrentUserFromIdToken(i){try{const p=await T0(this,{idToken:i}),C=await ss._fromGetAccountInfoResponse(this,p,i);await this.directlySetCurrentUser(C)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(i){var p;if(Ci(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(S=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(S,S))}):this.directlySetCurrentUser(null)}const C=await this.assertedPersistence.getCurrentUser();let R=C,I=!1;if(i&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(p=this.redirectUser)===null||p===void 0?void 0:p._redirectEventId,S=R==null?void 0:R._redirectEventId,t=await this.tryRedirectSignIn(i);(!c||c===S)&&(t!=null&&t.user)&&(R=t.user,I=!0)}if(!R)return this.directlySetCurrentUser(null);if(!R._redirectEventId){if(I)try{await this.beforeStateQueue.runMiddleware(R)}catch(c){R=C,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return R?this.reloadAndSetCurrentUserOrClear(R):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===R._redirectEventId?this.directlySetCurrentUser(R):this.reloadAndSetCurrentUserOrClear(R)}async tryRedirectSignIn(i){let p=null;try{p=await this._popupRedirectResolver._completeRedirectFn(this,i,!0)}catch{await this._setRedirectUser(null)}return p}async reloadAndSetCurrentUserOrClear(i){try{await $o(i)}catch(p){if((p==null?void 0:p.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(i)}useDeviceLanguage(){this.languageCode=PP()}async _delete(){this._deleted=!0}async updateCurrentUser(i){if(Ci(this.app))return Promise.reject(mn(this));const p=i?Ne(i):null;return p&&Bt(p.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(p&&p._clone(this))}async _updateCurrentUser(i,p=!1){if(!this._deleted)return i&&Bt(this.tenantId===i.tenantId,this,"tenant-id-mismatch"),p||await this.beforeStateQueue.runMiddleware(i),this.queue(async()=>{await this.directlySetCurrentUser(i),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(i){return Ci(this.app)?Promise.reject(mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(i))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(i){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const p=this._getPasswordPolicyInternal();return p.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(i)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const i=await XP(this),p=new YP(i);this.tenantId===null?this._projectPasswordPolicy=p:this._tenantPasswordPolicies[this.tenantId]=p}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(i){this._errorFactory=new xa("auth","Firebase",i())}onAuthStateChanged(i,p,C){return this.registerStateListener(this.authStateSubscription,i,p,C)}beforeAuthStateChanged(i,p){return this.beforeStateQueue.pushCallback(i,p)}onIdTokenChanged(i,p,C){return this.registerStateListener(this.idTokenSubscription,i,p,C)}authStateReady(){return new Promise((i,p)=>{if(this.currentUser)i();else{const C=this.onAuthStateChanged(()=>{C(),i()},p)}})}async revokeAccessToken(i){if(this.currentUser){const p=await this.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:i,idToken:p};this.tenantId!=null&&(C.tenantId=this.tenantId),await VP(this,C)}}toJSON(){var i;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(i=this._currentUser)===null||i===void 0?void 0:i.toJSON()}}async _setRedirectUser(i,p){const C=await this.getOrInitRedirectPersistenceManager(p);return i===null?C.removeCurrentUser():C.setCurrentUser(i)}async getOrInitRedirectPersistenceManager(i){if(!this.redirectPersistenceManager){const p=i&&ns(i)||this._popupRedirectResolver;Bt(p,this,"argument-error"),this.redirectPersistenceManager=await Zn.create(this,[ns(p._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(i){var p,C;return this._isInitialized&&await this.queue(async()=>{}),((p=this._currentUser)===null||p===void 0?void 0:p._redirectEventId)===i?this._currentUser:((C=this.redirectUser)===null||C===void 0?void 0:C._redirectEventId)===i?this.redirectUser:null}async _persistUserIfCurrent(i){if(i===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(i))}_notifyListenersIfCurrent(i){i===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=(p=(i=this.currentUser)===null||i===void 0?void 0:i.uid)!==null&&p!==void 0?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(i,p,C,R){if(this._deleted)return()=>{};const I=typeof p=="function"?p:p.next.bind(p);let c=!1;const S=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(S,this,"internal-error"),S.then(()=>{c||I(this.currentUser)}),typeof p=="function"){const t=i.addObserver(p,C,R);return()=>{c=!0,t()}}else{const t=i.addObserver(p);return()=>{c=!0,t()}}}async directlySetCurrentUser(i){this.currentUser&&this.currentUser!==i&&this._currentUser._stopProactiveRefresh(),i&&this.isProactiveRefreshEnabled&&i._startProactiveRefresh(),this.currentUser=i,i?await this.assertedPersistence.setCurrentUser(i):await this.assertedPersistence.removeCurrentUser()}queue(i){return this.operations=this.operations.then(i,i),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(i){!i||this.frameworks.includes(i)||(this.frameworks.push(i),this.frameworks.sort(),this.clientVersion=F0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const p={"X-Client-Version":this.clientVersion};this.app.options.appId&&(p["X-Firebase-gmpid"]=this.app.options.appId);const C=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getHeartbeatsHeader());C&&(p["X-Firebase-Client"]=C);const R=await this._getAppCheckToken();return R&&(p["X-Firebase-AppCheck"]=R),p}async _getAppCheckToken(){var i;if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const p=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getToken());return p!=null&&p.error&&EP(`Error while retrieving App Check token: ${p.error}`),p==null?void 0:p.token}}function Oh(x){return Ne(x)}class Uv{constructor(i){this.auth=i,this.observer=null,this.addObserver=qE(p=>this.observer=p)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KP(x){Of=x}function $P(x){return Of.loadJS(x)}function QP(){return Of.gapiScript}function jP(x){return`__${x}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(x,i){const p=bu(x,"auth");if(p.isInitialized()){const R=p.getImmediate(),I=p.getOptions();if(yn(I,i??{}))return R;$i(R,"already-initialized")}return p.initialize({options:i})}function ZP(x,i){const p=(i==null?void 0:i.persistence)||[],C=(Array.isArray(p)?p:[p]).map(ns);i!=null&&i.errorMap&&x._updateErrorMap(i.errorMap),x._initializeWithPersistence(C,i==null?void 0:i.popupRedirectResolver)}function kP(x,i,p){const C=Oh(x);Bt(/^https?:\/\//.test(i),C,"invalid-emulator-scheme");const R=!1,I=D0(i),{host:c,port:S}=qP(i),t=S===null?"":`:${S}`,h={url:`${I}//${c}${t}/`},m=Object.freeze({host:c,port:S,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:R})});if(!C._canInitEmulator){Bt(C.config.emulator&&C.emulatorConfig,C,"emulator-config-failed"),Bt(yn(h,C.config.emulator)&&yn(m,C.emulatorConfig),C,"emulator-config-failed");return}C.config.emulator=h,C.emulatorConfig=m,C.settings.appVerificationDisabledForTesting=!0,_P()}function D0(x){const i=x.indexOf(":");return i<0?"":x.substr(0,i+1)}function qP(x){const i=D0(x),p=/(\/\/)?([^?#/]+)/.exec(x.substr(i.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(C);if(R){const I=R[1];return{host:I,port:zv(C.substr(I.length+1))}}else{const[I,c]=C.split(":");return{host:I,port:zv(c)}}}function zv(x){if(!x)return null;const i=Number(x);return isNaN(i)?null:i}function _P(){function x(){const i=document.createElement("p"),p=i.style;i.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",i.classList.add("firebase-emulator-warning"),document.body.appendChild(i)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(i,p){this.providerId=i,this.signInMethod=p}toJSON(){return is("not implemented")}_getIdTokenResponse(i){return is("not implemented")}_linkToIdToken(i,p){return is("not implemented")}_getReauthenticationResolver(i){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kn(x,i){return MP(x,"POST","/v1/accounts:signInWithIdp",Lf(x,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="http://localhost";class Cn extends O0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(i){const p=new Cn(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(p.idToken=i.idToken),i.accessToken&&(p.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(p.nonce=i.nonce),i.pendingToken&&(p.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(p.accessToken=i.oauthToken,p.secret=i.oauthTokenSecret):$i("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(i){const p=typeof i=="string"?JSON.parse(i):i,{providerId:C,signInMethod:R}=p,I=Rf(p,["providerId","signInMethod"]);if(!C||!R)return null;const c=new Cn(C,R);return c.idToken=I.idToken||void 0,c.accessToken=I.accessToken||void 0,c.secret=I.secret,c.nonce=I.nonce,c.pendingToken=I.pendingToken||null,c}_getIdTokenResponse(i){const p=this.buildRequest();return kn(i,p)}_linkToIdToken(i,p){const C=this.buildRequest();return C.idToken=p,kn(i,C)}_getReauthenticationResolver(i){const p=this.buildRequest();return p.autoCreate=!1,kn(i,p)}buildRequest(){const i={requestUri:tR,returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),i.postBody=ya(p)}return i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(i){this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(i){this.defaultLanguageCode=i}setCustomParameters(i){return this.customParameters=i,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Nf{constructor(){super(...arguments),this.scopes=[]}addScope(i){return this.scopes.includes(i)||this.scopes.push(i),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends wa{constructor(){super("facebook.com")}static credential(i){return Cn._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:i})}static credentialFromResult(i){return ws.credentialFromTaggedObject(i)}static credentialFromError(i){return ws.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i||!("oauthAccessToken"in i)||!i.oauthAccessToken)return null;try{return ws.credential(i.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends wa{constructor(){super("google.com"),this.addScope("profile")}static credential(i,p){return Cn._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:p})}static credentialFromResult(i){return es.credentialFromTaggedObject(i)}static credentialFromError(i){return es.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthIdToken:p,oauthAccessToken:C}=i;if(!p&&!C)return null;try{return es.credential(p,C)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends wa{constructor(){super("github.com")}static credential(i){return Cn._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:i})}static credentialFromResult(i){return Ms.credentialFromTaggedObject(i)}static credentialFromError(i){return Ms.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i||!("oauthAccessToken"in i)||!i.oauthAccessToken)return null;try{return Ms.credential(i.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends wa{constructor(){super("twitter.com")}static credential(i,p){return Cn._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:i,oauthTokenSecret:p})}static credentialFromResult(i){return Is.credentialFromTaggedObject(i)}static credentialFromError(i){return Is.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthAccessToken:p,oauthTokenSecret:C}=i;if(!p||!C)return null;try{return Is.credential(p,C)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(i){this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}static async _fromIdTokenResponse(i,p,C,R=!1){const I=await ss._fromIdTokenResponse(i,C,R),c=Xv(C);return new or({user:I,providerId:c,_tokenResponse:C,operationType:p})}static async _forOperation(i,p,C){await i._updateTokensIfNecessary(C,!0);const R=Xv(C);return new or({user:i,providerId:R,_tokenResponse:C,operationType:p})}}function Xv(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends ms{constructor(i,p,C,R){var I;super(p.code,p.message),this.operationType=C,this.user=R,Object.setPrototypeOf(this,Qo.prototype),this.customData={appName:i.name,tenantId:(I=i.tenantId)!==null&&I!==void 0?I:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(i,p,C,R){return new Qo(i,p,C,R)}}function N0(x,i,p,C){return(i==="reauthenticate"?p._getReauthenticationResolver(x):p._getIdTokenResponse(x)).catch(I=>{throw I.code==="auth/multi-factor-auth-required"?Qo._fromErrorAndOperation(x,I,i,C):I})}async function eR(x,i,p=!1){const C=await ca(x,i._linkToIdToken(x.auth,await x.getIdToken()),p);return or._forOperation(x,"link",C)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(x,i,p=!1){const{auth:C}=x;if(Ci(C.app))return Promise.reject(mn(C));const R="reauthenticate";try{const I=await ca(x,N0(C,R,i,x),p);Bt(I.idToken,C,"internal-error");const c=Ff(I.idToken);Bt(c,C,"internal-error");const{sub:S}=c;return Bt(x.uid===S,C,"user-mismatch"),or._forOperation(x,R,I)}catch(I){throw(I==null?void 0:I.code)==="auth/user-not-found"&&$i(C,"user-mismatch"),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(x,i,p=!1){if(Ci(x.app))return Promise.reject(mn(x));const C="signIn",R=await N0(x,C,i),I=await or._fromIdTokenResponse(x,C,R);return p||await x._updateCurrentUser(I.user),I}function nR(x,i,p,C){return Ne(x).onIdTokenChanged(i,p,C)}function rR(x,i,p){return Ne(x).beforeAuthStateChanged(i,p)}function aR(x,i,p,C){return Ne(x).onAuthStateChanged(i,p,C)}function oR(x){return Ne(x).signOut()}const jo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(i,p){this.storageRetriever=i,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(jo,"1"),this.storage.removeItem(jo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(i,p){return this.storage.setItem(i,JSON.stringify(p)),Promise.resolve()}_get(i){const p=this.storage.getItem(i);return Promise.resolve(p?JSON.parse(p):null)}_remove(i){return this.storage.removeItem(i),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1e3,lR=10;class b0 extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,p)=>this.onStorageEvent(i,p),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L0(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(const p of Object.keys(this.listeners)){const C=this.storage.getItem(p),R=this.localCache[p];C!==R&&i(p,R,C)}}onStorageEvent(i,p=!1){if(!i.key){this.forAllChangedKeys((c,S,t)=>{this.notifyListeners(c,t)});return}const C=i.key;p?this.detachListener():this.stopPolling();const R=()=>{const c=this.storage.getItem(C);!p&&this.localCache[C]===c||this.notifyListeners(C,c)},I=this.storage.getItem(C);UP()&&I!==i.newValue&&i.newValue!==i.oldValue?setTimeout(R,lR):R()}notifyListeners(i,p){this.localCache[i]=p;const C=this.listeners[i];if(C)for(const R of Array.from(C))R(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,p,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:p,newValue:C}),!0)})},hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,p){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(p)}_removeListener(i,p){this.listeners[i]&&(this.listeners[i].delete(p),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(i,p){await super._set(i,p),this.localCache[i]=JSON.stringify(p)}async _get(i){const p=await super._get(i);return this.localCache[i]=JSON.stringify(p),p}async _remove(i){await super._remove(i),delete this.localCache[i]}}b0.type="LOCAL";const uR=b0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,p){}_removeListener(i,p){}}V0.type="SESSION";const G0=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(x){return Promise.all(x.map(async i=>{try{return{fulfilled:!0,value:await i}}catch(p){return{fulfilled:!1,reason:p}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){const p=this.receivers.find(R=>R.isListeningto(i));if(p)return p;const C=new Nh(i);return this.receivers.push(C),C}isListeningto(i){return this.eventTarget===i}async handleEvent(i){const p=i,{eventId:C,eventType:R,data:I}=p.data,c=this.handlersMap[R];if(!(c!=null&&c.size))return;p.ports[0].postMessage({status:"ack",eventId:C,eventType:R});const S=Array.from(c).map(async h=>h(p.origin,I)),t=await fR(S);p.ports[0].postMessage({status:"done",eventId:C,eventType:R,response:t})}_subscribe(i,p){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(p)}_unsubscribe(i,p){this.handlersMap[i]&&p&&this.handlersMap[i].delete(p),(!p||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(x="",i=10){let p="";for(let C=0;C<i;C++)p+=Math.floor(Math.random()*10);return x+p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(i){this.target=i,this.handlers=new Set}removeMessageHandler(i){i.messageChannel&&(i.messageChannel.port1.removeEventListener("message",i.onMessage),i.messageChannel.port1.close()),this.handlers.delete(i)}async _send(i,p,C=50){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let I,c;return new Promise((S,t)=>{const h=Bf("",20);R.port1.start();const m=setTimeout(()=>{t(new Error("unsupported_event"))},C);c={messageChannel:R,onMessage(o){const a=o;if(a.data.eventId===h)switch(a.data.status){case"ack":clearTimeout(m),I=setTimeout(()=>{t(new Error("timeout"))},3e3);break;case"done":clearTimeout(I),S(a.data.response);break;default:clearTimeout(m),clearTimeout(I),t(new Error("invalid_response"));break}}},this.handlers.add(c),R.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:i,eventId:h,data:p},[R.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function cR(x){Hi().location.href=x}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function vR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pR(){var x;return((x=navigator==null?void 0:navigator.serviceWorker)===null||x===void 0?void 0:x.controller)||null}function mR(){return U0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="firebaseLocalStorageDb",gR=1,Jo="firebaseLocalStorage",X0="fbase_key";class Ma{constructor(i){this.request=i}toPromise(){return new Promise((i,p)=>{this.request.addEventListener("success",()=>{i(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Bh(x,i){return x.transaction([Jo],i?"readwrite":"readonly").objectStore(Jo)}function xR(){const x=indexedDB.deleteDatabase(z0);return new Ma(x).toPromise()}function uu(){const x=indexedDB.open(z0,gR);return new Promise((i,p)=>{x.addEventListener("error",()=>{p(x.error)}),x.addEventListener("upgradeneeded",()=>{const C=x.result;try{C.createObjectStore(Jo,{keyPath:X0})}catch(R){p(R)}}),x.addEventListener("success",async()=>{const C=x.result;C.objectStoreNames.contains(Jo)?i(C):(C.close(),await xR(),i(await uu()))})})}async function Wv(x,i,p){const C=Bh(x,!0).put({[X0]:i,value:p});return new Ma(C).toPromise()}async function yR(x,i){const p=Bh(x,!1).get(i),C=await new Ma(p).toPromise();return C===void 0?null:C.value}function Yv(x,i){const p=Bh(x,!0).delete(i);return new Ma(p).toPromise()}const TR=800,ER=3;class W0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uu(),this.db)}async _withRetries(i){let p=0;for(;;)try{const C=await this._openDb();return await i(C)}catch(C){if(p++>ER)throw C;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(mR()),this.receiver._subscribe("keyChanged",async(i,p)=>({keyProcessed:(await this._poll()).includes(p.key)})),this.receiver._subscribe("ping",async(i,p)=>["keyChanged"])}async initializeSender(){var i,p;if(this.activeServiceWorker=await vR(),!this.activeServiceWorker)return;this.sender=new dR(this.activeServiceWorker);const C=await this.sender._send("ping",{},800);C&&!((i=C[0])===null||i===void 0)&&i.fulfilled&&!((p=C[0])===null||p===void 0)&&p.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(i){if(!(!this.sender||!this.activeServiceWorker||pR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const i=await uu();return await Wv(i,jo,"1"),await Yv(i,jo),!0}catch{}return!1}async _withPendingWrite(i){this.pendingWrites++;try{await i()}finally{this.pendingWrites--}}async _set(i,p){return this._withPendingWrite(async()=>(await this._withRetries(C=>Wv(C,i,p)),this.localCache[i]=p,this.notifyServiceWorker(i)))}async _get(i){const p=await this._withRetries(C=>yR(C,i));return this.localCache[i]=p,p}async _remove(i){return this._withPendingWrite(async()=>(await this._withRetries(p=>Yv(p,i)),delete this.localCache[i],this.notifyServiceWorker(i)))}async _poll(){const i=await this._withRetries(R=>{const I=Bh(R,!1).getAll();return new Ma(I).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];const p=[],C=new Set;if(i.length!==0)for(const{fbase_key:R,value:I}of i)C.add(R),JSON.stringify(this.localCache[R])!==JSON.stringify(I)&&(this.notifyListeners(R,I),p.push(R));for(const R of Object.keys(this.localCache))this.localCache[R]&&!C.has(R)&&(this.notifyListeners(R,null),p.push(R));return p}notifyListeners(i,p){this.localCache[i]=p;const C=this.listeners[i];if(C)for(const R of Array.from(C))R(p)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,p){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(p)}_removeListener(i,p){this.listeners[i]&&(this.listeners[i].delete(p),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W0.type="LOCAL";const SR=W0;new Ra(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(x,i){return i?ns(i):(Bt(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends O0{constructor(i){super("custom","custom"),this.params=i}_getIdTokenResponse(i){return kn(i,this._buildIdpRequest())}_linkToIdToken(i,p){return kn(i,this._buildIdpRequest(p))}_getReauthenticationResolver(i){return kn(i,this._buildIdpRequest())}_buildIdpRequest(i){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(p.idToken=i),p}}function CR(x){return sR(x.auth,new bf(x),x.bypassAuthState)}function AR(x){const{auth:i,user:p}=x;return Bt(p,i,"internal-error"),iR(p,new bf(x),x.bypassAuthState)}async function PR(x){const{auth:i,user:p}=x;return Bt(p,i,"internal-error"),eR(p,new bf(x),x.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(i,p,C,R,I=!1){this.auth=i,this.resolver=C,this.user=R,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){return new Promise(async(i,p)=>{this.pendingPromise={resolve:i,reject:p};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(C){this.reject(C)}})}async onAuthEvent(i){const{urlResponse:p,sessionId:C,postBody:R,tenantId:I,error:c,type:S}=i;if(c){this.reject(c);return}const t={auth:this.auth,requestUri:p,sessionId:C,tenantId:I||void 0,postBody:R||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(S)(t))}catch(h){this.reject(h)}}onError(i){this.reject(i)}getIdpTask(i){switch(i){case"signInViaPopup":case"signInViaRedirect":return CR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return AR;default:$i(this.auth,"internal-error")}}resolve(i){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(i),this.unregisterAndCleanUp()}reject(i){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(i),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Ra(2e3,1e4);async function wR(x,i,p){if(Ci(x.app))return Promise.reject(Ri(x,"operation-not-supported-in-this-environment"));const C=Oh(x);SP(x,i,Nf);const R=Y0(C,p);return new dn(C,"signInViaPopup",i,R).executeNotNull()}class dn extends H0{constructor(i,p,C,R,I){super(i,p,R,I),this.provider=C,this.authWindow=null,this.pollId=null,dn.currentPopupAction&&dn.currentPopupAction.cancel(),dn.currentPopupAction=this}async executeNotNull(){const i=await this.execute();return Bt(i,this.auth,"internal-error"),i}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const i=Bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(p=>{this.reject(p)}),this.resolver._isIframeWebStorageSupported(this.auth,p=>{p||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dn.currentPopupAction=null}pollUserCancellation(){const i=()=>{var p,C;if(!((C=(p=this.authWindow)===null||p===void 0?void 0:p.window)===null||C===void 0)&&C.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(i,RR.get())};i()}}dn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="pendingRedirect",yo=new Map;class IR extends H0{constructor(i,p,C=!1){super(i,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}async execute(){let i=yo.get(this.auth._key());if(!i){try{const C=await LR(this.resolver,this.auth)?await super.execute():null;i=()=>Promise.resolve(C)}catch(p){i=()=>Promise.reject(p)}yo.set(this.auth._key(),i)}return this.bypassAuthState||yo.set(this.auth._key(),()=>Promise.resolve(null)),i()}async onAuthEvent(i){if(i.type==="signInViaRedirect")return super.onAuthEvent(i);if(i.type==="unknown"){this.resolve(null);return}if(i.eventId){const p=await this.auth._redirectUserForId(i.eventId);if(p)return this.user=p,super.onAuthEvent(i);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LR(x,i){const p=OR(i),C=DR(x);if(!await C._isAvailable())return!1;const R=await C._get(p)==="true";return await C._remove(p),R}function FR(x,i){yo.set(x._key(),i)}function DR(x){return ns(x._redirectPersistence)}function OR(x){return xo(MR,x.config.apiKey,x.name)}async function NR(x,i,p=!1){if(Ci(x.app))return Promise.reject(mn(x));const C=Oh(x),R=Y0(C,i),c=await new IR(C,R,p).execute();return c&&!p&&(delete c.user._redirectEventId,await C._persistUserIfCurrent(c.user),await C._setRedirectUser(null,i)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=10*60*1e3;class bR{constructor(i){this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(i){this.consumers.add(i),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,i)&&(this.sendToConsumer(this.queuedRedirectEvent,i),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(i){this.consumers.delete(i)}onEvent(i){if(this.hasEventBeenHandled(i))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(i,C)&&(p=!0,this.sendToConsumer(i,C),this.saveEventToCache(i))}),this.hasHandledPotentialRedirect||!VR(i)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=i,p=!0)),p}sendToConsumer(i,p){var C;if(i.error&&!K0(i)){const R=((C=i.error.code)===null||C===void 0?void 0:C.split("auth/")[1])||"internal-error";p.onError(Ri(this.auth,R))}else p.onAuthEvent(i)}isEventForConsumer(i,p){const C=p.eventId===null||!!i.eventId&&i.eventId===p.eventId;return p.filter.includes(i.type)&&C}hasEventBeenHandled(i){return Date.now()-this.lastProcessedEventTime>=BR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hv(i))}saveEventToCache(i){this.cachedEventUids.add(Hv(i)),this.lastProcessedEventTime=Date.now()}}function Hv(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(i=>i).join("-")}function K0({type:x,error:i}){return x==="unknown"&&(i==null?void 0:i.code)==="auth/no-auth-event"}function VR(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(x);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(x,i={}){return mr(x,"GET","/v1/projects",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zR=/^https?/;async function XR(x){if(x.config.emulator)return;const{authorizedDomains:i}=await GR(x);for(const p of i)try{if(WR(p))return}catch{}$i(x,"unauthorized-domain")}function WR(x){const i=hu(),{protocol:p,hostname:C}=new URL(i);if(x.startsWith("chrome-extension://")){const c=new URL(x);return c.hostname===""&&C===""?p==="chrome-extension:"&&x.replace("chrome-extension://","")===i.replace("chrome-extension://",""):p==="chrome-extension:"&&c.hostname===C}if(!zR.test(p))return!1;if(UR.test(x))return C===x;const R=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(C)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Ra(3e4,6e4);function Kv(){const x=Hi().___jsl;if(x!=null&&x.H){for(const i of Object.keys(x.H))if(x.H[i].r=x.H[i].r||[],x.H[i].L=x.H[i].L||[],x.H[i].r=[...x.H[i].L],x.CP)for(let p=0;p<x.CP.length;p++)x.CP[p]=null}}function HR(x){return new Promise((i,p)=>{var C,R,I;function c(){Kv(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{Kv(),p(Ri(x,"network-request-failed"))},timeout:YR.get()})}if(!((R=(C=Hi().gapi)===null||C===void 0?void 0:C.iframes)===null||R===void 0)&&R.Iframe)i(gapi.iframes.getContext());else if(!((I=Hi().gapi)===null||I===void 0)&&I.load)c();else{const S=jP("iframefcb");return Hi()[S]=()=>{gapi.load?c():p(Ri(x,"network-request-failed"))},$P(`${QP()}?onload=${S}`).catch(t=>p(t))}}).catch(i=>{throw To=null,i})}let To=null;function KR(x){return To=To||HR(x),To}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new Ra(5e3,15e3),QR="__/auth/iframe",jR="emulator/auth/iframe",JR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kR(x){const i=x.config;Bt(i.authDomain,x,"auth-domain-config-required");const p=i.emulator?If(i,jR):`https://${x.config.authDomain}/${QR}`,C={apiKey:i.apiKey,appName:x.name,v:fr},R=ZR.get(x.config.apiHost);R&&(C.eid=R);const I=x._getFrameworks();return I.length&&(C.fw=I.join(",")),`${p}?${ya(C).slice(1)}`}async function qR(x){const i=await KR(x),p=Hi().gapi;return Bt(p,x,"internal-error"),i.open({where:document.body,url:kR(x),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JR,dontclear:!0},C=>new Promise(async(R,I)=>{await C.restyle({setHideOnLeave:!1});const c=Ri(x,"network-request-failed"),S=Hi().setTimeout(()=>{I(c)},$R.get());function t(){Hi().clearTimeout(S),R(C)}C.ping(t).then(t,()=>{I(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tw=500,ew=600,iw="_blank",sw="http://localhost";class $v{constructor(i){this.window=i,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nw(x,i,p,C=tw,R=ew){const I=Math.max((window.screen.availHeight-R)/2,0).toString(),c=Math.max((window.screen.availWidth-C)/2,0).toString();let S="";const t=Object.assign(Object.assign({},_R),{width:C.toString(),height:R.toString(),top:I,left:c}),h=ke().toLowerCase();p&&(S=P0(h)?iw:p),C0(h)&&(i=i||sw,t.scrollbars="yes");const m=Object.entries(t).reduce((a,[r,e])=>`${a}${r}=${e},`,"");if(GP(h)&&S!=="_self")return rw(i||"",S),new $v(null);const o=window.open(i||"",S,m);Bt(o,x,"popup-blocked");try{o.focus()}catch{}return new $v(o)}function rw(x,i){const p=document.createElement("a");p.href=x,p.target=i;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__/auth/handler",ow="emulator/auth/handler",hw=encodeURIComponent("fac");async function Qv(x,i,p,C,R,I){Bt(x.config.authDomain,x,"auth-domain-config-required"),Bt(x.config.apiKey,x,"invalid-api-key");const c={apiKey:x.config.apiKey,appName:x.name,authType:p,redirectUrl:C,v:fr,eventId:R};if(i instanceof Nf){i.setDefaultLanguage(x.languageCode),c.providerId=i.providerId||"",kE(i.getCustomParameters())||(c.customParameters=JSON.stringify(i.getCustomParameters()));for(const[m,o]of Object.entries({}))c[m]=o}if(i instanceof wa){const m=i.getScopes().filter(o=>o!=="");m.length>0&&(c.scopes=m.join(","))}x.tenantId&&(c.tid=x.tenantId);const S=c;for(const m of Object.keys(S))S[m]===void 0&&delete S[m];const t=await x._getAppCheckToken(),h=t?`#${hw}=${encodeURIComponent(t)}`:"";return`${lw(x)}?${ya(S).slice(1)}${h}`}function lw({config:x}){return x.emulator?If(x,ow):`https://${x.authDomain}/${aw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="webStorageSupport";class uw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G0,this._completeRedirectFn=NR,this._overrideRedirectResult=FR}async _openPopup(i,p,C,R){var I;fs((I=this.eventManagers[i._key()])===null||I===void 0?void 0:I.manager,"_initialize() not called before _openPopup()");const c=await Qv(i,p,C,hu(),R);return nw(i,c,Bf())}async _openRedirect(i,p,C,R){await this._originValidation(i);const I=await Qv(i,p,C,hu(),R);return cR(I),new Promise(()=>{})}_initialize(i){const p=i._key();if(this.eventManagers[p]){const{manager:R,promise:I}=this.eventManagers[p];return R?Promise.resolve(R):(fs(I,"If manager is not set, promise should be"),I)}const C=this.initAndGetManager(i);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}async initAndGetManager(i){const p=await qR(i),C=new bR(i);return p.register("authEvent",R=>(Bt(R==null?void 0:R.authEvent,i,"invalid-auth-event"),{status:C.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[i._key()]={manager:C},this.iframes[i._key()]=p,C}_isIframeWebStorageSupported(i,p){this.iframes[i._key()].send(Cl,{type:Cl},R=>{var I;const c=(I=R==null?void 0:R[0])===null||I===void 0?void 0:I[Cl];c!==void 0&&p(!!c),$i(i,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(i){const p=i._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=XR(i)),this.originValidationPromises[p]}get _shouldInitProactively(){return L0()||A0()||Df()}}const fw=uw;var jv="@firebase/auth",Jv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(i){this.auth=i,this.internalListeners=new Map}getUid(){var i;return this.assertAuthConfigured(),((i=this.auth.currentUser)===null||i===void 0?void 0:i.uid)||null}async getToken(i){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(i)}:null}addAuthTokenListener(i){if(this.assertAuthConfigured(),this.internalListeners.has(i))return;const p=this.auth.onIdTokenChanged(C=>{i((C==null?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(i,p),this.updateProactiveRefresh()}removeAuthTokenListener(i){this.assertAuthConfigured();const p=this.internalListeners.get(i);p&&(this.internalListeners.delete(i),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vw(x){tr(new Tn("auth",(i,{options:p})=>{const C=i.getProvider("app").getImmediate(),R=i.getProvider("heartbeat"),I=i.getProvider("app-check-internal"),{apiKey:c,authDomain:S}=C.options;Bt(c&&!c.includes(":"),"invalid-api-key",{appName:C.name});const t={apiKey:c,authDomain:S,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F0(x)},h=new HP(C,R,I,t);return ZP(h,p),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,p,C)=>{i.getProvider("auth-internal").initialize()})),tr(new Tn("auth-internal",i=>{const p=Oh(i.getProvider("auth").getImmediate());return(C=>new dw(C))(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(jv,Jv,cw(x)),Ns(jv,Jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=5*60,mw=Dm("authIdTokenMaxAge")||pw;let Zv=null;const gw=x=>async i=>{const p=i&&await i.getIdTokenResult(),C=p&&(new Date().getTime()-Date.parse(p.issuedAtTime))/1e3;if(C&&C>mw)return;const R=p==null?void 0:p.token;Zv!==R&&(Zv=R,await fetch(x,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))};function xw(x=_S()){const i=bu(x,"auth");if(i.isInitialized())return i.getImmediate();const p=JP(x,{popupRedirectResolver:fw,persistence:[SR,uR,G0]}),C=Dm("authTokenSyncURL");if(C&&typeof isSecureContext=="boolean"&&isSecureContext){const I=new URL(C,location.origin);if(location.origin===I.origin){const c=gw(I.toString());rR(p,c,()=>c(p.currentUser)),nR(p,S=>c(S))}}const R=VE("auth");return R&&kP(p,`http://${R}`),p}function yw(){var x,i;return(i=(x=document.getElementsByTagName("head"))===null||x===void 0?void 0:x[0])!==null&&i!==void 0?i:document}KP({loadJS(x){return new Promise((i,p)=>{const C=document.createElement("script");C.setAttribute("src",x),C.onload=i,C.onerror=R=>{const I=Ri("internal-error");I.customData=R,p(I)},C.type="text/javascript",C.charset="UTF-8",yw().appendChild(C)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vw("Browser");const Vf=wn("auth",()=>{const x=bt(null),i=Dt(()=>x.value!==null),p=async()=>{if(!x.value)throw new Error("User not logged in.");const c=await Ke.getDocument(Fs.Profiles,x.value.uid,Gs.Converter,!0),S=new Gs({id:x.value.uid,displayName:x.value.displayName,email:x.value.email,phoneNumber:x.value.phoneNumber,photoUrl:x.value.photoURL,createdAt:c?c.createdAt:new Date,updatedAt:c?c.updatedAt:new Date});Ke.setDocument(Fs.Profiles,x.value.uid,S,Gs.Converter)};return{user:x,isLoggedIn:i,loginWithGoogle:async()=>{try{const c=await Ke.signIn();x.value=c.user,await p()}catch(c){console.error(c)}},logout:async()=>{await oR(Ke.auth),x.value=null},watchAuthState:()=>{aR(Ke.auth,c=>{x.value=c??null})}}}),Gf=wn("profiles",()=>{const{user:x}=Ue(Vf()),i=bt([]),p=bt(null),C=m=>{i.value=Array.isArray(m)?m:[m]},R=m=>{p.value=Array.isArray(m)?m[0]:m},I=async m=>{await Ke.subscribe({key:"profile",docRef:Ke.getDocRef(Fs.Profiles,m,Gs.Converter),callback:R,error:o=>{console.error("Error in subscription to profile.",o)}})},c=async()=>{Ke.unsubscribe("profile",()=>p.value=null)},S=async()=>{const m=Ke.getCollectionRef(Fs.Profiles);await Ke.subscribe({key:"profiles",queryRef:l0(m).withConverter(Gs.Converter),callback:C,error:o=>{console.error("Error in subscription to profiles.",o)}})},t=async()=>{Ke.unsubscribe("profiles")},h=async m=>{await Ke.setDocument(Fs.Profiles,m.id,m,Gs.Converter)};return li(x,async(m,o)=>{m&&m.uid!==(o==null?void 0:o.uid)?await I(m.uid):await c()}),{profile:p,profiles:i,updateProfile:h,subscribeProfile:I,unsubscribeProfile:c,subscribeProfiles:S,unsubscribeProfiles:t}});class Tw{constructor(i,p){vt(this,"scene");vt(this,"store",fi());vt(this,"position");vt(this,"onDestroy");vt(this,"id",Ou());vt(this,"type",Ae.EnergySmall);vt(this,"sprite");vt(this,"speed");vt(this,"isLarge",!1);this.scene=i,this.type=(p==null?void 0:p.type)??this.getRandomType((p==null?void 0:p.isLarge)??!1),this.isLarge=(p==null?void 0:p.isLarge)??!1,this.position=(p==null?void 0:p.position)??{x:0,y:0},this.sprite=this.create(),this.speed=(p==null?void 0:p.speed)??5,this.onDestroy=(p==null?void 0:p.onDestroy)??(()=>{})}get key(){return this.type}getRandomType(i){if(!i)return Ae.EnergySmall;const p=[Ae.EnergyMedium,Ae.EnergyMedium,Ae.EnergyMedium,Ae.EnergyLarge],C=[Ae.HpMedium,Ae.HpMedium,Ae.HpMedium,Ae.HpLarge];if(this.store.hp===Mt.player.hpMax)return ul(p);const R=this.store.energy/100;return Math.random()>R?ul(p):ul(C)}create(){let i=2;return[Ae.EnergyMedium,Ae.HpMedium].includes(this.type)&&(i=1.5),this.scene.add.image(this.position.x,this.position.y,this.key).setOrigin(.5,.5).setRotation(Bi(0,Math.PI*2)).setScale(i).setDepth(100)}update(i,p){const C=p.x-this.sprite.x,R=p.y-this.sprite.y,I=Math.sqrt(C*C+R*R);if(I<300){const t=C/I*this.speed*3,h=R/I*this.speed*3;this.sprite.x+=t*(i*60),this.sprite.y+=h*(i*60)}else this.sprite.x-=this.speed*3*(i*60);this.sprite.rotation+=Mt.powerUp.rotationSpeed*i,(this.sprite.x<-this.sprite.width||this.sprite.y>this.scene.scale.height+this.sprite.height)&&this.destroy()}destroy(i=!1){var p;this.sprite.destroy(),i&&this.type!==Ae.EnergySmall&&((p=this.scene.audio)==null||p.playSfx("powerUp")),this.onDestroy(this.id,{isDestroyedByPlayer:i,type:this.type,position:this.position})}}const io={volume:1,fade:!1,duration:200,force:!1,cooldown:0};let Ew=class{constructor(i){vt(this,"scene");vt(this,"store",Pf());vt(this,"soundtrack",null);vt(this,"sfx",{playerBeam:null,playerDamage:null,playerDash:null,playerDeath:null,playerScream:null,asteroidExplosion:null,powerUp:null,noEnergy:null});vt(this,"lastPlay",{playerBeam:0,playerDamage:0,playerDash:0,playerDeath:0,playerScream:0,asteroidExplosion:0,powerUp:0,noEnergy:0});var C;this.scene=i;const p=this.store.currentVolume;this.soundtrack=this.scene.sound.add("soundtrack",{loop:!0,volume:p*.8}),this.sfx={playerBeam:this.scene.sound.add("playerBeam",{volume:0,loop:!0}),playerDamage:this.scene.sound.add("playerDamage",{volume:p}),playerDash:this.scene.sound.add("playerDash",{volume:p}),playerDeath:this.scene.sound.add("playerDeath",{volume:p}),playerScream:this.scene.sound.add("playerScream",{volume:p*.5}),asteroidExplosion:this.scene.sound.add("asteroidExplosion",{volume:p}),powerUp:this.scene.sound.add("powerUp",{volume:p}),noEnergy:this.scene.sound.add("noEnergy",{volume:p})};for(const R in this.sfx)(C=this.sfx[R])!=null&&C.loop&&this.sfx[R].play();Vs.on(os.SetVolume,R=>{this.updateVolume(R)})}updateVolume(i){this.scene.sound.setVolume(i)}playSfx(i,p=io){const C={...io,...p},R=this.sfx[i];if(R.isPlaying&&!R.loop&&!C.force)return;const I=this.scene.time.now;if(C.cooldown>0&&I-this.lastPlay[i]<C.cooldown)return;if(!(C.fade||R.loop))R.play();else{this.scene.tweens.killTweensOf(R),R.loop||(R.setVolume(0),R.play());const S=this.store.currentVolume*C.volume;this.scene.tweens.add({targets:R,volume:S,duration:C.duration,ease:"Linear"})}C.cooldown>0?this.lastPlay[i]=I:this.lastPlay[i]=0}stopSfx(i,p=io){const C={...io,...p},R=this.sfx[i];if(!(C.fade||R.loop))R.stop();else{const c=this.scene.tweens.add({targets:R,volume:0,duration:C.duration,ease:"Linear"});if(R.loop)return;c.on("complete",()=>R.stop())}this.lastPlay[i]=0}playAttack(){this.playSfx("playerScream",{fade:!0}),this.playSfx("playerBeam",{fade:!0,volume:.2})}stopAttack(){this.stopSfx("playerScream",{fade:!0}),this.stopSfx("playerBeam",{fade:!0})}playBeamHit(){}stopBeamHit(){}stopAll(){this.scene.sound.stopAll()}};class $0 extends ur.Scene{constructor(){super("Game");vt(this,"controls",null);vt(this,"background",null);vt(this,"player",null);vt(this,"velocity",1);vt(this,"asteroidSpeed",0);vt(this,"store",fi());vt(this,"asteroids",[]);vt(this,"lastSpawnTime",0);vt(this,"powerUps",[]);vt(this,"audio",null)}reset(){var p,C;this.asteroids.forEach(R=>R.destroy()),this.asteroids=[],this.powerUps.forEach(R=>R.destroy()),this.powerUps=[],(p=this.player)==null||p.setPosition(200,this.scale.height/2),(C=this.player)==null||C.stopBeam(),this.lastSpawnTime=0}togglePaused(){this.store.togglePaused(),this.store.isPaused?this.scene.pause():this.scene.resume()}create(){var p;if(!this.input.keyboard)throw new Error("No keyboard input found");this.audio=new Ew(this),(p=this.audio.soundtrack)==null||p.play(),this.controls=new ww(this.input.keyboard),this.background=new Rw(this,this.controls),this.player=new Pw(this,this.controls),this.player.setDepth(1e3),this.player.setPosition(200,this.scale.height/2),Eo(this.anims,"explosion/md","explosion/md",[0,1,2,3],0),Vs.emit(os.CurrentSceneReady,this)}update(p,C){var m,o,a,r,e;if(!this.player||!this.background||this.store.isPaused)return;const R=C/1e3,I=1+Math.log1p(Math.max(1,this.store.score/500))*2+Math.pow(this.store.score/1e3,1.025);if(this.velocity=gi(I*R*60,1,30),!this.store.isInGame){this.background.update(R,this.velocity);return}if(!this.store.isPlaying)return;const c=this.player.currentPosition;this.asteroids.forEach(n=>n.update(R)),this.powerUps.forEach(n=>n.update(R,c)),this.background.update(R,this.velocity),this.player.update(R,this.velocity),this.trySpawnAsteroid();const S=this.player.bounds,t=this.isCollisionAsteroidDetected(S),h=this.isCollisionPowerUpDetected(S);if(t?((m=this.audio)==null||m.playBeamHit(),(o=this.player)!=null&&o.isDashing?(this.player.hp-=t.damage*Mt.player.dashDamageReduction,t.destroy(!0)):(this.player.hp-=t.damage,t.destroy(!1))):(a=this.audio)==null||a.stopBeamHit(),h&&h.destroy(!0),(e=(r=this.player)==null?void 0:r.beam)!=null&&e.isActive){const n=this.player.beam.sprite,l=new Phaser.Geom.Line(this.player.x+this.player.sprite.width/2-50,this.player.y,this.player.x+Math.cos(n.rotation)*n.displayWidth,this.player.y+Math.sin(n.rotation)*n.displayWidth);this.asteroids.forEach(s=>{var f;const u=s.sprite.getBounds();Phaser.Geom.Intersects.LineToRectangle(l,u)&&(s.hp-=((f=this.player)==null?void 0:f.damage)??1)})}}trySpawnAsteroid(){let p=Mt.asteroid.baseSpawnRate/this.velocity;if(this.store.score>2e3){const R=Math.log1p((this.store.score-2e3)/1e3);p=p/(1+R)}this.time.now-this.lastSpawnTime>=p&&(this.lastSpawnTime=this.time.now,this.spawnAsteroid())}isCollisionAsteroidDetected(p){if(this.store.debug.isCollisionDisabled)return!1;for(const C of this.asteroids){const R=C.sprite.getBounds();if(Phaser.Geom.Rectangle.Overlaps(p,R))return C}return!1}isCollisionPowerUpDetected(p){for(const C of this.powerUps){const R=C.sprite.getBounds();if(Phaser.Geom.Intersects.RectangleToRectangle(p,R))return C}return!1}spawnAsteroid(){this.asteroidSpeed=this.velocity*.5;const p=new AE(this,{maxSpeed:this.asteroidSpeed,isLarge:Math.random()>.75,onDestroy:this.onDestroyAsteroid.bind(this)});this.asteroids.push(p)}spawnPowerUp(p,C){const R=new Tw(this,{position:p,isLarge:C,speed:this.asteroidSpeed,onDestroy:this.onDestroyPowerUp.bind(this)});this.powerUps.push(R)}onDestroyAsteroid(p,C){this.asteroids=this.asteroids.filter(R=>R.id!==p),C!=null&&C.isDestroyedByPlayer&&(this.store.increaseScore(C.isLarge?Mt.asteroid.large.score:Mt.asteroid.small.score),this.spawnPowerUp(C.position,C.isLarge))}onDestroyPowerUp(p,C){if(this.powerUps=this.powerUps.filter(R=>R.id!==p),!(!(C!=null&&C.isDestroyedByPlayer)||!this.player))switch(C.type){case Ae.HpLarge:this.player.hp+=Mt.powerUp.hpLarge;break;case Ae.HpMedium:this.player.hp+=Mt.powerUp.hpMedium;break;case Ae.HpSmall:this.player.hp+=Mt.powerUp.hpSmall;break;case Ae.EnergyLarge:this.player.energy+=Mt.powerUp.energyLarge;break;case Ae.EnergyMedium:this.player.energy+=Mt.powerUp.energyMedium;break;case Ae.EnergySmall:default:this.player.energy+=Mt.powerUp.energySmall;break}}}class Sw extends ur.Scene{constructor(){super("Preloader")}init(){const{setPreloadProgress:i}=fi();this.load.on("progress",p=>{i(p)})}preload(){this.load.setPath("assets"),this.load.image("player","whale.png"),this.load.image("blackhole","blackhole.png"),this.load.image("background/stars","background/stars.png"),this.load.image("background/dust","background/dust.png"),this.load.image("background/nebulae","background/nebulae.png"),this.load.image("background/planets","background/planets.png"),this.load.image("asteroid/1","asteroid/1.png"),this.load.image("asteroid/2","asteroid/2.png"),this.load.image("asteroid/3","asteroid/3.png"),this.load.image("asteroid/4","asteroid/4.png"),this.load.image("asteroid/5","asteroid/5.png"),this.load.image("asteroid/6","asteroid/6.png"),this.load.image("powerup/hp-small","powerup/pink0.png"),this.load.image("powerup/hp-medium","powerup/pink1.png"),this.load.image("powerup/hp-large","powerup/pink2.png"),this.load.image("powerup/energy-small","powerup/blue0.png"),this.load.image("powerup/energy-medium","powerup/blue1.png"),this.load.image("powerup/energy-large","powerup/blue2.png"),this.load.spritesheet("beam","beam.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("explosion/md","explosion/md.png",{frameWidth:32,frameHeight:32}),this.load.audio("soundtrack","soundtracks/OutOfTheOrbit.mp3"),this.load.audio("playerDamage","sfx/playerDamage.mp3"),this.load.audio("playerBeam","sfx/playerBeam.mp3"),this.load.audio("playerDash","sfx/playerDash.mp3"),this.load.audio("playerDeath","sfx/playerDeath.mp3"),this.load.audio("playerScream","sfx/playerScream.mp3"),this.load.audio("asteroidExplosion","sfx/asteroidExplosion.mp3"),this.load.audio("powerUp","sfx/powerUp.mp3"),this.load.audio("noEnergy","sfx/noEnergy.mp3")}create(){Vs.emit(os.PreloadComplete,this),this.scene.start("Game")}}const so=(x,i,p)=>{const C=x.textures.get(i).getSourceImage().height;return x.add.tileSprite(0,0,x.scale.width,x.scale.height,i).setOrigin(0,0).setScrollFactor(0).setScale(x.scale.height/C).setDepth((p==null?void 0:p.depth)??0).setAlpha((p==null?void 0:p.alpha)??1)},Eo=(x,i,p,C,R=-1)=>x.create({key:i,frames:x.generateFrameNames(p,{frames:C}),frameRate:10,repeat:R}),Cw=x=>x instanceof $0;class Aw{constructor(i,p){vt(this,"scene");vt(this,"key","beam");vt(this,"origin",{x:0,y:0});vt(this,"originOffset",{x:-50,y:0});vt(this,"position",{x:0,y:0});vt(this,"id",Ou());vt(this,"sprite");vt(this,"isActive",!1);vt(this,"beamStartTime",0);vt(this,"scaleX",Mt.beam.scaleX);vt(this,"currentAngle",0);vt(this,"weight",.2);this.scene=i,this.origin=p,this.position={x:p.x+this.originOffset.x,y:p.y+this.originOffset.y},this.sprite=this.scene.add.sprite(this.position.x,this.position.y,this.key).setAlpha(0).setOrigin(0,.5),Eo(this.scene.anims,"beam-start","beam",[0,1,2,3,4,5,6,7],0),Eo(this.scene.anims,"beam-active","beam",[8,9,10,11,12,13,14,15]),Eo(this.scene.anims,"beam-end","beam",[16,17,18,19,20,21,22,23],0)}get bounds(){const i=this.sprite.getBounds().getPoints(4),p=Math.min(...i.map(c=>c.x)),C=Math.max(...i.map(c=>c.x)),R=Math.min(...i.map(c=>c.y)),I=Math.max(...i.map(c=>c.y));return new Phaser.Geom.Rectangle(p,R,C-p,I-R)}get scaleY(){var i;return gi(((i=this.scene.player)==null?void 0:i.damage)??1,1,4)}start(i){this.isActive=!0,this.sprite.setAlpha(1).setOrigin(0,.5).setScale(this.scaleX,this.scaleY),this.sprite.anims&&(this.sprite.anims.play("beam-start").once("animationcomplete",()=>this.isActive&&this.sprite.anims.play("beam-active")),this.update(0,i),this.beamStartTime=this.scene.time.now)}update(i,p){if(!this.isActive)return;const C=this.scene.input.activePointer,{x:R,y:I}={x:p.x+this.position.x,y:p.y+this.position.y},c=Phaser.Math.Angle.Between(R,I,C.worldX,C.worldY),S=Mt.beam.minAngle,t=Mt.beam.maxAngle,h=gi(c,S,t);this.currentAngle+=(h-this.currentAngle)*this.weight*(i*60),this.sprite.setRotation(this.currentAngle)}end(){this.isActive=!1,this.sprite.anims.stop(),this.sprite.anims.play("beam-end").once("animationcomplete",()=>this.sprite.setScale(this.scaleX,this.scaleY)),this.beamStartTime=0}destroy(){this.sprite.destroy()}handleScaling(){if(!this.isActive)return;const i=Mt.beam.maxScale,p=Mt.beam.scaleDuration,C=Math.min(1,(this.scene.time.now-this.beamStartTime)/p),R=this.scaleX+(i-this.scaleX)*C;this.sprite.setScale(R,this.scaleY)}}class Pw extends Phaser.GameObjects.Container{constructor(p,C){super(p,0,0);vt(this,"sprite");vt(this,"scene");vt(this,"controls");vt(this,"store",fi());vt(this,"velocity",{x:Mt.player.velocity,y:Mt.player.velocity});vt(this,"maxVelocity",{x:Mt.player.maxVelocity,y:Mt.player.maxVelocity});vt(this,"acceleration",{x:Mt.player.acceleration,y:Mt.player.acceleration});vt(this,"deceleration",{x:Mt.player.deceleration,y:Mt.player.deceleration});vt(this,"beam",null);vt(this,"energyDrainRate",Mt.player.energyDrainRate);vt(this,"_isDashing",!1);vt(this,"dashDistance",Mt.player.dashDistance);vt(this,"dashCooldown",Mt.player.dashCooldown);vt(this,"lastDashTime",0);vt(this,"dashDestinationPos",{x:0,y:0});vt(this,"audio",null);this.scene=p,this.controls=C,this.audio=p.audio;const R=this.scene.textures.get("player").getSourceImage();this.beam=new Aw(this.scene,{x:R.width/2,y:0}),this.add(this.beam.sprite),this.sprite=p.add.image(0,0,"player"),this.add(this.sprite),p.add.existing(this),p.input.on("pointerdown",this.startBeam,this),p.input.on("pointerup",this.stopBeam,this)}get hp(){return this.store.hp}set hp(p){var I,c,S,t;if(this.store.debug.isImmortal)return;const C=p<this.hp,R=gi(p,0,Mt.player.hpMax);this.store.setPlayerHp(R),C&&(R<=0?(c=(I=this.audio)==null?void 0:I.sfx.playerDeath)==null||c.play():(t=(S=this.audio)==null?void 0:S.sfx.playerDamage)==null||t.play(),this.playDamageAnimation())}get energy(){return this.store.energy}set energy(p){if(this.store.debug.hasInfiniteEnergy)return;const C=gi(p,0,Mt.player.energyMax);this.store.setPlayerEnergy(C)}get isDashing(){return this._isDashing}set isDashing(p){var C,R;this._isDashing=p,p&&((C=this.audio)==null||C.stopSfx("noEnergy"),(R=this.audio)==null||R.playSfx("playerDash"),this.energy-=Mt.player.dashEnergyCost)}get hasEnergyForBeam(){return this.energy>=this.energyDrainRate||this.store.debug.hasInfiniteEnergy}get hasEnergyForDash(){return this.energy>=Mt.player.dashEnergyCost||this.store.debug.hasInfiniteEnergy}get currentPosition(){return{x:this.x,y:this.y}}get damage(){const p=this.store.score;return p<1e3?1:1+(p-1e3)/500}get bounds(){const p=Mt.player.boundsPadding,C=this.sprite.getBounds();return new Phaser.Geom.Rectangle(C.x+p,C.y+p,C.width-p*2,C.height-p*2)}update(p,C){var R,I,c;this.setDashTargetLocation(),this.isDashing?this.handleDash(p):(this.updateVelocity(p),this.updatePosition()),this.store.setPlayerPosition(this.x,this.y),this.hasEnergyForBeam&&((R=this.beam)!=null&&R.isActive)?(this.beam.handleScaling(),this.updateBeam(p),this.energy-=this.energyDrainRate):(I=this.beam)!=null&&I.isActive?((c=this.audio)==null||c.playSfx("noEnergy"),this.stopBeam()):this.energy+=Mt.player.energyRegen}destroy(){this.beam&&(this.scene.input.off("pointerdown",this.startBeam,this),this.scene.input.off("pointerup",this.stopBeam,this),this.beam.destroy()),super.destroy()}getClampedPosition(p,C){return{x:gi(p,this.sprite.width/2,this.scene.scale.width-this.sprite.width/2),y:gi(C,this.sprite.height/2,this.scene.scale.height-this.sprite.height/2)}}updatePosition(){const p=this.x+this.velocity.x,C=this.y+this.velocity.y,{x:R,y:I}=this.getClampedPosition(p,C);this.x=R,this.y=I}updateVelocity(p){let C=0,R=0;this.controls.left?C=Math.max(this.velocity.x-this.acceleration.x,-this.maxVelocity.x):this.controls.right?C=Math.min(this.velocity.x+this.acceleration.x,this.maxVelocity.x):this.velocity.x>0?C=Math.max(0,this.velocity.x-this.deceleration.x):this.velocity.x<0&&(C=Math.min(0,this.velocity.x+this.deceleration.x)),this.controls.up?R=Math.max(this.velocity.y-this.acceleration.y,-this.maxVelocity.y):this.controls.down?R=Math.min(this.velocity.y+this.acceleration.y,this.maxVelocity.y):this.velocity.y>0?R=Math.max(0,this.velocity.y-this.deceleration.y):this.velocity.y<0&&(R=Math.min(0,this.velocity.y+this.deceleration.y)),this.velocity.x=C*(p*60),this.velocity.y=R*(p*60)}setDashTargetLocation(){var I;if(!this.controls.space||!this.controls.left&&!this.controls.right&&!this.controls.up&&!this.controls.down)return;const p=this.scene.time.now;if(p-this.lastDashTime<this.dashCooldown)return;if(!this.hasEnergyForDash){(I=this.audio)==null||I.playSfx("noEnergy",{cooldown:2e3});return}this.isDashing=!0,this.lastDashTime=p;const R={x:this.x+(this.controls.left?-this.dashDistance:this.controls.right?this.dashDistance:0),y:this.y+(this.controls.up?-this.dashDistance:this.controls.down?this.dashDistance:0)};this.dashDestinationPos=this.getClampedPosition(R.x,R.y),this.controls.space=!1}handleDash(p){const C=this.dashDestinationPos.x-this.x,R=this.dashDestinationPos.y-this.y;let I=0,c=0;const S=Math.max(Math.sqrt(C*C+R*R),0);if(S>25){const t=Mt.player.dashSpeed;I=C/S*t,c=R/S*t,this.sprite.setTint(Mt.player.colorDash),this.sprite.setPipeline("glow")}else I=this.controls.right?this.maxVelocity.x:this.controls.left?-this.maxVelocity.x:0,c=this.controls.down?this.maxVelocity.y:this.controls.up?-this.maxVelocity.y:0,this.isDashing=!1,this.sprite.clearTint(),this.sprite.resetPipeline();this.velocity.x=I*(p*60),this.velocity.y=c*(p*60),this.updatePosition()}startBeam(){var p,C;this.store.isPlaying&&this.hasEnergyForBeam&&((p=this.audio)==null||p.playAttack(),(C=this.beam)==null||C.start(this.currentPosition))}stopBeam(){var p,C,R;(p=this.beam)!=null&&p.isActive&&this.store.isPlaying&&((C=this.audio)==null||C.stopAttack(),(R=this.beam)==null||R.end())}updateBeam(p){var C,R;this.hasEnergyForBeam&&(C=this.beam)!=null&&C.isActive&&((R=this.beam)==null||R.update(p,this.currentPosition))}playDamageAnimation(){this.sprite.setTint(Mt.player.colorDamage),this.sprite.setPipeline("glow"),window.setTimeout(()=>{this.sprite.clearTint(),this.sprite.resetPipeline()},200)}}class Rw{constructor(i,p){vt(this,"scene");vt(this,"controls");vt(this,"store",fi());vt(this,"bgDust");vt(this,"bgStars");vt(this,"bgNebulae");vt(this,"bgPlanets");vt(this,"velocity",1);this.scene=i,this.controls=p,this.bgDust=so(i,"background/dust",{depth:10,alpha:.5}),this.bgNebulae=so(i,"background/nebulae",{depth:20,alpha:.5}),this.bgStars=so(i,"background/stars",{depth:30,alpha:1}),this.bgPlanets=so(i,"background/planets",{depth:40,alpha:1})}update(i,p){this.velocity=p,this.bgDust.tilePositionX+=this.velocity*.25,this.bgNebulae.tilePositionX+=this.velocity*.25,this.bgStars.tilePositionX+=this.velocity*.275,this.bgPlanets.tilePositionX+=this.velocity*.3}}class ww{constructor(i){vt(this,"store",fi());vt(this,"left",!1);vt(this,"right",!1);vt(this,"up",!1);vt(this,"down",!1);vt(this,"space",!1);vt(this,"esc",!1);vt(this,"special1",!1);vt(this,"special2",!1);i.on("keydown",p=>{if(this.store.isPlaying)switch(p.code){case"ArrowLeft":case"KeyA":this.left=!0;break;case"ArrowRight":case"KeyD":this.right=!0;break;case"ArrowUp":case"KeyW":this.up=!0;break;case"ArrowDown":case"KeyS":this.down=!0;break;case"Space":this.space=!0;break;case"Escape":this.esc=!0;break;case"KeyE":this.special1=!0;break;case"KeyQ":this.special2=!0;break}}),i.on("keyup",p=>{switch(p.code){case"ArrowLeft":case"KeyA":this.left=!1;break;case"ArrowRight":case"KeyD":this.right=!1;break;case"ArrowUp":case"KeyW":this.up=!1;break;case"ArrowDown":case"KeyS":this.down=!1;break;case"Space":this.space=!1;break;case"Escape":this.esc=!1;break;case"KeyE":this.special1=!1;break;case"KeyQ":this.special2=!1;break}})}}const fi=wn("game",()=>{const x=bt(ge.Preload),i=bt(new yE),p=bt(0),C=bt(),R=bt({x:0,y:0}),I=bt(0),c=bt(Mt.player.hpStart),S=bt(Mt.player.energyStart),t=bt(0),h=(T=1)=>I.value+=T,m=T=>c.value=gi(T,0,Mt.player.hpMax),o=T=>S.value=gi(T,0,Mt.player.energyMax),a=T=>p.value=T,r=T=>C.value=T,e=T=>{[ge.Playing,ge.Paused].includes(x.value)&&(T===void 0?x.value=x.value===ge.Playing?ge.Paused:ge.Playing:x.value=T?ge.Paused:ge.Playing)},n=(T,E)=>R.value={x:T,y:E},l=Dt(()=>x.value===ge.Paused),s=Dt(()=>x.value===ge.Playing),u=Dt(()=>x.value===ge.Preload),f=Dt(()=>x.value===ge.Menu),d=Dt(()=>x.value===ge.GameOver),v=Dt(()=>s.value||l.value),g=()=>{c.value=Mt.player.hpStart,S.value=Mt.player.energyStart,I.value=0,t.value=Date.now(),C.value&&Cw(C.value)&&C.value.reset()},y=T=>{x.value!==ge.Paused&&T===ge.Playing&&g(),x.value=T};return li(c,T=>{x.value===ge.Playing&&(T>0||y(ge.GameOver))}),{currentScene:C,debug:i,energy:S,hp:c,increaseScore:h,isGameOver:d,isInGame:v,isInMenu:f,isPaused:l,isPlaying:s,isPreloading:u,playerPosition:R,playStart:t,preloadProgress:p,reset:g,score:I,setCurrentScene:r,setGameState:y,setPlayerEnergy:o,setPlayerHp:m,setPreloadProgress:a,setPlayerPosition:n,state:x,togglePaused:e}}),Mw={class:"debug"},Iw={class:"debug__card-position"},Lw=ee({__name:"Debug",setup(x){const i=fi(),{debug:p,playerPosition:C,hp:R,score:I,state:c,energy:S,currentScene:t}=Ue(i),{setPlayerHp:h,setPlayerEnergy:m}=i,o=vn("nyxButton"),a=vn("nyxCard"),r=bt(!1),e=bt(!1),{cssVariables:n}=Fu(o,a,{gap:bt(Ht.XLarge),position:bt(re.TopLeft),offsetX:-5,offsetY:-10}),l=T=>{var E,A;r.value=!1,e.value=T===void 0?!e.value:T,(A=(E=o.value)==null?void 0:E.$el)==null||A.blur()},s=Dt({get:()=>I.value.toString(),set:T=>I.value=parseInt(T)}),u=Dt({get:()=>R.value.toString(),set:T=>h(parseInt(T))}),f=Dt({get:()=>S.value.toString(),set:T=>m(parseInt(T))}),d=Dt(()=>({x:parseFloat(C.value.x.toFixed(2)),y:parseFloat(C.value.y.toFixed(2))})),v=Dt(()=>Object.values(ge).map(T=>({label:T,value:T}))),g=()=>{const T=$t(t.value);T&&T.spawnAsteroid()},y=()=>{p.value.isEnabled=!1};return li(c,()=>r.value=!1),(T,E)=>(gt(),Tt("div",Mw,[Rt(ht(Oe),{ref_key:"nyxButton",ref:o,class:"debug__button",theme:ht(ve).Danger,size:ht(Ht).Small,tabindex:"-1",onClick:l},{default:Xt(()=>E[9]||(E[9]=[se("Debog")])),_:1},8,["theme","size"]),Rt(ht(lr),{modelValue:r.value,"onUpdate:modelValue":E[0]||(E[0]=A=>r.value=A),title:"Config"},{default:Xt(()=>[wt("pre",null,ae(ht(Mt)),1)]),_:1},8,["modelValue"]),(gt(),Re(rh,{to:"body"},[Rt(ht(bT),{class:kt(["debug__card",{"debug__card--visible":e.value}]),size:ht(Ht).Large,style:Je(ht(n)),ref_key:"nyxCard",ref:a},{default:Xt(()=>[Rt(ht(Rm),{class:"debug__card-content"},{default:Xt(()=>[wt("span",Iw,[wt("pre",null,"x: "+ae(d.value.x),1),wt("pre",null,"y: "+ae(d.value.y),1)]),Rt(ht(Rs),{label:"HP"},{default:Xt(({id:A})=>[Rt(ht(ll),{class:"debug__card-input",id:A,modelValue:u.value,"onUpdate:modelValue":E[1]||(E[1]=P=>u.value=P),type:ht(Hr).Number,max:100},null,8,["id","modelValue","type"])]),_:1}),Rt(ht(Rs),{label:"Energy"},{default:Xt(({id:A})=>[Rt(ht(ll),{class:"debug__card-input",id:A,modelValue:f.value,"onUpdate:modelValue":E[2]||(E[2]=P=>f.value=P),type:ht(Hr).Number},null,8,["id","modelValue","type"])]),_:1}),Rt(ht(Rs),{label:"Score"},{default:Xt(({id:A})=>[Rt(ht(ll),{class:"debug__card-input",id:A,modelValue:s.value,"onUpdate:modelValue":E[3]||(E[3]=P=>s.value=P),type:ht(Hr).Number},null,8,["id","modelValue","type"])]),_:1}),Wt("",!0),Rt(ht(Rs),null,{default:Xt(({id:A})=>[Rt(ht(ho),{id:A,modelValue:ht(p).isImmortal,"onUpdate:modelValue":E[5]||(E[5]=P=>ht(p).isImmortal=P),label:"Immortality"},null,8,["id","modelValue"])]),_:1}),Rt(ht(Rs),null,{default:Xt(({id:A})=>[Rt(ht(ho),{id:A,modelValue:ht(p).hasInfiniteEnergy,"onUpdate:modelValue":E[6]||(E[6]=P=>ht(p).hasInfiniteEnergy=P),label:"Infinite Energy"},null,8,["id","modelValue"])]),_:1}),Rt(ht(Rs),null,{default:Xt(({id:A})=>[Rt(ht(ho),{id:A,modelValue:ht(p).isCollisionDisabled,"onUpdate:modelValue":E[7]||(E[7]=P=>ht(p).isCollisionDisabled=P),label:"Disable Collision"},null,8,["id","modelValue"])]),_:1}),Rt(ht(Oe),{class:"debug__card-button",onClick:g},{default:Xt(()=>E[10]||(E[10]=[se("Spawn Asteroid")])),_:1}),Rt(ht(Oe),{class:"debug__card-button",onClick:E[8]||(E[8]=A=>r.value=!0)},{default:Xt(()=>E[11]||(E[11]=[se("View config")])),_:1}),Rt(ht(Oe),{class:"debug__card-button",onClick:y},{default:Xt(()=>E[12]||(E[12]=[se("Disable debug")])),_:1})]),_:1})]),_:1},8,["class","size","style"])]))]))}}),Fw=ch(Lw,[["__scopeId","data-v-2fe3a6db"]]),Dw=new URLSearchParams(document.location.search),Ow=Dw.get("fps")??"0",Nw={type:ur.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"game",backgroundColor:"#000000",pixelArt:!0,fps:{limit:parseInt(Ow)},scene:[wE,Sw,$0]},Bw=x=>new ur.Game({...Nw,parent:x}),bw={id:"game",class:"game"},Vw=ee({__name:"Game",setup(x){const{setCurrentScene:i,setGameState:p}=fi(),C=bt();return vs(()=>{C.value=Bw("game"),Vs.on(os.CurrentSceneReady,I=>i(I)),Vs.on(os.PreloadComplete,()=>p(ge.Menu))}),Pn(()=>{C.value&&(C.value.destroy(!0),C.value=null)}),(I,c)=>(gt(),Tt("main",bw))}}),Gw=ch(Vw,[["__scopeId","data-v-16e8efe5"]]),Uw={key:0,class:"game-interface"},zw={class:"game-interface__stats"},Xw={class:"game-interface__score"},Ww=ee({__name:"GameInterface",setup(x){const{hp:i,energy:p,score:C,isPlaying:R,isPaused:I,debug:c,isInGame:S}=Ue(fi()),t=bt(null),h=bt(0);vs(()=>{t.value=window.setInterval(()=>{!R.value||I.value||(C.value+=1)},500)}),An(()=>{t.value&&window.clearInterval(t.value)});const m=()=>{c.value.isEnabled||(h.value+=1,!(h.value<10)&&(c.value.isEnabled=!0,h.value=0))};return(o,a)=>ht(S)?(gt(),Tt("header",Uw,[wt("section",zw,[Rt(ht(Gl),{class:"game-interface__progress-hp",modelValue:ht(i),max:100,size:ht(Ht).XLarge,theme:ht(ve).Danger,showValue:"start",onClick:m},null,8,["modelValue","size","theme"]),Rt(ht(Gl),{class:"game-interface__progress-energy",modelValue:ht(p),max:100,size:ht(Ht).XLarge,theme:ht(ve).Secondary},null,8,["modelValue","size","theme"])]),wt("span",Xw,ae(ht(C)),1)])):Wt("",!0)}}),Q0=ee({__name:"Settings",setup(x){const{isFullscreen:i,currentVolume:p}=Ue(Pf());return li(i,C=>{C?document.documentElement.requestFullscreen():document.exitFullscreen()}),(C,R)=>(gt(),Re(ht(Rm),null,{default:Xt(()=>[Rt(ht(Rs),{label:"Volume"},{default:Xt(({id:I})=>[Rt(ht(iE),{for:I,modelValue:ht(p),"onUpdate:modelValue":R[0]||(R[0]=c=>oe(p)?p.value=c:null),max:1,min:0,step:.05,shape:ht(Zs).Rectangle},null,8,["for","modelValue","shape"])]),_:1}),Rt(ht(Rs),{label:"Fullscreen"},{default:Xt(({id:I})=>[Rt(ht(ho),{for:I,modelValue:ht(i),"onUpdate:modelValue":R[1]||(R[1]=c=>oe(i)?i.value=c:null)},null,8,["for","modelValue"])]),_:1})]),_:1}))}}),Yw={class:"game-menu__buttons"},kv=ee({__name:"GameMenu",setup(x){const i=fi(),{isPlaying:p,isPaused:C}=Ue(i),R=h=>{h.key==="Escape"&&i.togglePaused()},I=Dt(()=>{let h="game-menu";return C.value&&(h+=" game-menu--visible"),h}),c=()=>{i.reset(),i.togglePaused()},S=()=>{i.reset(),i.setGameState(ge.Menu)},t=()=>{i.togglePaused()};return vs(()=>{window.addEventListener("keydown",R)}),Pn(()=>{window.removeEventListener("keydown",R)}),(h,m)=>ht(C)?(gt(),Re(ht(lr),{key:0,customClass:I.value,size:ht(Ht).Small,static:""},{footer:Xt(()=>[wt("div",Yw,[Rt(ht(Oe),{onClick:c,theme:ht(ve).Warning},{default:Xt(()=>m[0]||(m[0]=[se("Restart")])),_:1},8,["theme"]),Rt(ht(Oe),{onClick:S,theme:ht(ve).Danger},{default:Xt(()=>m[1]||(m[1]=[se("Quit")])),_:1},8,["theme"]),Rt(ht(Oe),{onClick:t,theme:ht(ve).Primary},{default:Xt(()=>m[2]||(m[2]=[se("Resume")])),_:1},8,["theme"])])]),default:Xt(()=>[Rt(Q0)]),_:1},8,["customClass","size"])):Wt("",!0)}}),Hw={key:0},Kw={key:1},$w=ee({__name:"GameOver",setup(x){const i=fi(),{isGameOver:p,score:C,debug:R}=Ue(i),{addNewHiscore:I}=Cf(),{profile:c}=Ue(Gf()),S=bt(null),t=()=>{i.reset(),i.setGameState(ge.Playing)},h=()=>{i.reset(),i.setGameState(ge.Menu)};return li(p,async m=>{var o;S.value=null,!(!m||!((o=c.value)!=null&&o.id))&&(R.value.isEnabled=!1,S.value=await I(c.value.id,C.value))}),(m,o)=>ht(p)?(gt(),Re(ht(lr),{key:0,size:ht(Ht).Small,static:""},{footer:Xt(()=>[Rt(ht(Oe),{onClick:t},{default:Xt(()=>o[0]||(o[0]=[se("Restart")])),_:1}),Rt(ht(Oe),{onClick:h},{default:Xt(()=>o[1]||(o[1]=[se("Main Menu")])),_:1})]),default:Xt(()=>{var a,r;return[o[2]||(o[2]=wt("h1",null,"Game Over",-1)),wt("p",null,"Score: "+ae(ht(C)),1),(a=S.value)!=null&&a.hasDebugged?(gt(),Tt("p",Hw," You played with debug mode enabled. Hiscore will not be visible in the leaderboard. ")):Wt("",!0),(r=S.value)!=null&&r.score&&S.value.score<ht(Mt).hiscores.threshold?(gt(),Tt("p",Kw," You need a minimum score of "+ae(ht(Mt).hiscores.threshold)+" to make it into the leaderboard. ",1)):Wt("",!0)]}),_:1},8,["size"])):Wt("",!0)}}),Qw=()=>{const x=Cf(),i=Gf(),{hiscores:p}=Ue(x),{profiles:C}=Ue(i),R=Dt(()=>p.value.map(I=>{const c=C.value.find(S=>S.id===I.userId);return{name:c==null?void 0:c.fullName,score:I.score,version:I.version}}).sort((I,c)=>c.score-I.score));return Wp(()=>{i.subscribeProfiles(),x.subscribeHiscores()}),An(()=>{x.unsubscribeHiscores(),i.unsubscribeProfiles()}),{hiscoresData:R}},jw=ee({__name:"Hiscores",setup(x){const{isHiscoresVisible:i}=Ue(Af()),{hiscoresData:p}=Qw();return(C,R)=>(gt(),Re(ht(lr),{modelValue:ht(i),"onUpdate:modelValue":R[1]||(R[1]=I=>oe(i)?i.value=I:null),size:ht(Ht).Large,customClass:"view-hiscores"},{default:Xt(()=>[Rt(ht(lE),{modelValue:ht(p),"onUpdate:modelValue":R[0]||(R[0]=I=>oe(p)?p.value=I:null),size:ht(Ht).Small,gridTemplateColumns:"1fr 10rem 10rem",header:"sticky"},null,8,["modelValue","size"])]),_:1},8,["modelValue","size"]))}}),Jw="/nyx-game/assets/logo-Bof7pWK0.png",Zw={class:"main-menu"},kw={key:0},qw={key:0},_w={key:1},tM="#71657A",eM=ee({__name:"MainMenu",setup(x){const i=Vf(),{profile:p}=Ue(Gf()),{toggleHiscores:C,toggleSettings:R}=Af(),{setGameState:I}=fi(),{loginWithGoogle:c,logout:S}=i,{isLoggedIn:t}=Ue(i);return(h,m)=>(gt(),Tt("div",Zw,[ht(p)?(gt(),Tt("header",kw,[Rt(ht(MT),{src:ht(p).photoUrl??void 0,name:ht(p).displayName??void 0,size:ht(Ht).Small,color:tM},null,8,["src","name","size"])])):Wt("",!0),wt("section",null,[m[6]||(m[6]=wt("img",{src:Jw},null,-1)),ht(t)?(gt(),Tt("nav",qw,[Rt(ht(Oe),{class:"button-play",theme:ht(ve).Primary,size:ht(Ht).XLarge,onClick:m[0]||(m[0]=o=>ht(I)(ht(ge).Playing))},{default:Xt(()=>m[1]||(m[1]=[se("Play")])),_:1},8,["theme","size"]),Rt(ht(Oe),{size:ht(Ht).Small,onClick:ht(C)},{default:Xt(()=>m[2]||(m[2]=[se("Hiscores")])),_:1},8,["size","onClick"]),Rt(ht(Oe),{size:ht(Ht).Small,onClick:ht(R)},{default:Xt(()=>m[3]||(m[3]=[se("Settings")])),_:1},8,["size","onClick"]),Rt(ht(Oe),{size:ht(Ht).Small,onClick:ht(S)},{default:Xt(()=>m[4]||(m[4]=[se("Logout")])),_:1},8,["size","onClick"])])):(gt(),Tt("nav",_w,[Rt(ht(Oe),{size:ht(Ht).XLarge,onClick:ht(c)},{default:Xt(()=>m[5]||(m[5]=[se("Login")])),_:1},8,["size","onClick"])]))]),m[7]||(m[7]=wt("footer",null,null,-1))]))}}),iM=ch(eM,[["__scopeId","data-v-42a7529b"]]),sM={key:0,class:"preloader"},nM={key:0,class:"interface"},rM={class:"version"},aM=ee({__name:"App",setup(x){const{currentVolume:i}=Ue(Pf()),{debug:p,isInMenu:C,isPreloading:R,preloadProgress:I}=Ue(fi()),{setScreenSize:c}=ME(),{isSettingsVisible:S}=Ue(Af()),{watchAuthState:t}=Vf(),{hasDebugged:h}=Ue(Cf()),m="0.0.44";return li(p,o=>{o.isEnabled&&(h.value=!0)},{immediate:!0,deep:1}),vs(async()=>{t();const o=JSON.parse(localStorage.getItem("settings")??"{}");i.value=o.currentVolume!==void 0?o.currentVolume:1,window.addEventListener("resize",c)}),An(async()=>{window.removeEventListener("resize",c)}),(o,a)=>(gt(),Tt(de,null,[ht(R)?(gt(),Tt("div",sM,[Rt(ht(Gl),{class:"preloader__progress",modelValue:ht(I),"onUpdate:modelValue":a[0]||(a[0]=r=>oe(I)?I.value=r:null),min:0,max:1,theme:ht(ve).Primary,size:ht(Ht).XLarge},null,8,["modelValue","theme","size"])])):Wt("",!0),Rt(R1,{name:"fade"},{default:Xt(()=>[ht(C)?(gt(),Tt("div",nM,[Rt(ht(iM),{class:"view"}),Rt(ht(lr),{modelValue:ht(S),"onUpdate:modelValue":a[1]||(a[1]=r=>oe(S)?S.value=r:null)},{default:Xt(()=>[Rt(ht(Q0))]),_:1},8,["modelValue"]),Rt(ht(jw)),Rt(ht(kv)),Rt(ht(xE))])):Wt("",!0)]),_:1}),ht(p).isEnabled?(gt(),Re(ht(Fw),{key:1})):Wt("",!0),Rt(ht(kv)),Rt(ht(Gw)),Rt(ht(Ww)),Rt(ht($w)),wt("span",rM,ae(ht(m)),1)],64))}});var oM="firebase",hM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(oM,hM,"app");const lM={apiKey:"AIzaSyB8U-G13jDAjURH-PWBDmMp0l8XJFIeCOM",authDomain:"nyxbase-2f10e.firebaseapp.com",projectId:"nyxbase-2f10e",storageBucket:"nyxbase-2f10e.firebasestorage.app",messagingSenderId:"782425608263",appId:"1:782425608263:web:8a75ca84179aeb25ef2162"};class uM{constructor(i=lM){vt(this,"subscriptions",{});vt(this,"app");vt(this,"db");vt(this,"auth");vt(this,"authProviders",{google:new es});vt(this,"unsubscribe",(i,p)=>{if(!this.subscriptions[i]){console.warn(`You should not unsubscribe if you have not yet subscribed to key "${i}".`);return}if(this.subscriptions[i].count-=1,this.subscriptions[i].count!==0)return;const C=this.subscriptions[i].destroy;C?(delete this.subscriptions[i],C(),p==null||p()):console.warn(`Unsubscribe called with key "${i}" while subscribe is waiting to complete.`)});vt(this,"getCollectionRef",(i,p)=>p?Rv(this.db,i).withConverter(p):Rv(this.db,i));vt(this,"getDocRef",(i,p,C)=>{const R=this.getCollectionRef(i);return p!==null?C?Br(R,p).withConverter(C):Br(R,p):C?Br(R).withConverter(C):Br(R)});vt(this,"getSnapshot",async(i,p,C)=>{const R=this.getDocRef(i,p,C);return await El(R)});vt(this,"getDocData",async(i,p,C)=>{const R=await this.getSnapshot(i,p,C);return R.exists()?R.data():(console.error(`There is no document with id "${p}" in collection "${i}".`),null)});vt(this,"getDocDataByRef",async i=>{const p=await El(i);if(p.exists())return p.data();console.error(`No document found with reference id "${i.id}".`)});vt(this,"getDocDataByQuery",async i=>{const p=await Dv(i);return p.empty?(console.error(`No document(s) found using query "${i}".`),[]):p.docs.map(C=>C.data())});vt(this,"getCollectionData",async(i,p)=>{const C=this.getCollectionRef(i,p),R=await Dv(C);return R.empty?(console.error(`Collection "${i}" is empty.`),[]):R.docs.map(I=>I.data())});this.app=Bm(i),this.db=sP(this.app,{ignoreUndefinedProperties:!0}),this.auth=xw(this.app)}async signIn(i="google"){return console.log("this.auth",this.auth),await wR(this.auth,this.authProviders[i])}getRunningKeys(i=""){return Object.keys(this.subscriptions).filter(p=>p.startsWith(i))}async getDocument(i,p,C,R=!1){const I=this.getDocRef(i,p,C),c=await El(I);return c.exists()?c.data():(R||console.error(`No document found with id "${p}" in collection "${i}".`),null)}async addDocument(i,p,C){const R=this.getCollectionRef(i),I=C?C.toFirestore(p):p;return(await yP(R,I)).id}async setDocument(i,p,C,R){const I=this.getDocRef(i,p,R);await gP(I,C)}async updateDocument(i,p,C,R){const I=this.getDocRef(i,p,R);await xP(I,C)}async subscribe({key:i,docRef:p,queryRef:C,callback:R,error:I,converter:c}){if(this.subscriptions[i]===void 0&&(this.subscriptions[i]={key:i,count:0}),this.subscriptions[i].count+=1,this.subscriptions[i].count===1)try{if(p){const S=Ov(p,t=>this.handleDocSnapshot(t,R,c),I);this.subscriptions[i].destroy=S}else if(C){const S=Ov(C,t=>this.handleQuerySnapshot(t,R,c),I);this.subscriptions[i].destroy=S}}catch(S){console.error(`Error subscribing to key "${i}":`,S)}}getData(i,p){return p?p.fromFirestore(i):i.data()}handleDocSnapshot(i,p,C){if(!i.exists())return;const R=this.getData(i,C);R&&p(R)}handleQuerySnapshot(i,p,C){const R=i.docs.map(I=>this.getData(I,C));p(R)}}const Ke=new uM;iT(aM).use(rT()).use(dT,{pixel:!0}).mount("#app");
