var yx=Object.defineProperty;var Tx=(g,e,p)=>e in g?yx(g,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):g[e]=p;var vt=(g,e,p)=>Tx(g,typeof e!="symbol"?e+"":e,p);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))C(R);new MutationObserver(R=>{for(const I of R)if(I.type==="childList")for(const c of I.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&C(c)}).observe(document,{childList:!0,subtree:!0});function p(R){const I={};return R.integrity&&(I.integrity=R.integrity),R.referrerPolicy&&(I.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?I.credentials="include":R.crossOrigin==="anonymous"?I.credentials="omit":I.credentials="same-origin",I}function C(R){if(R.ep)return;R.ep=!0;const I=p(R);fetch(R.href,I)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cu(g){const e=Object.create(null);for(const p of g.split(","))e[p]=1;return p=>p in e}const te={},Hn=[],Wi=()=>{},Sx=()=>!1,eh=g=>g.charCodeAt(0)===111&&g.charCodeAt(1)===110&&(g.charCodeAt(2)>122||g.charCodeAt(2)<97),vu=g=>g.startsWith("onUpdate:"),De=Object.assign,pu=(g,e)=>{const p=g.indexOf(e);p>-1&&g.splice(p,1)},Ex=Object.prototype.hasOwnProperty,ie=(g,e)=>Ex.call(g,e),It=Array.isArray,Kn=g=>ma(g)==="[object Map]",lr=g=>ma(g)==="[object Set]",Ld=g=>ma(g)==="[object Date]",Gt=g=>typeof g=="function",Ce=g=>typeof g=="string",Li=g=>typeof g=="symbol",ue=g=>g!==null&&typeof g=="object",tp=g=>(ue(g)||Gt(g))&&Gt(g.then)&&Gt(g.catch),ep=Object.prototype.toString,ma=g=>ep.call(g),Cx=g=>ma(g).slice(8,-1),ip=g=>ma(g)==="[object Object]",mu=g=>Ce(g)&&g!=="NaN"&&g[0]!=="-"&&""+parseInt(g,10)===g,Ur=cu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ih=g=>{const e=Object.create(null);return p=>e[p]||(e[p]=g(p))},Ax=/-(\w)/g,Fi=ih(g=>g.replace(Ax,(e,p)=>p?p.toUpperCase():"")),Px=/\B([A-Z])/g,ps=ih(g=>g.replace(Px,"-$1").toLowerCase()),gu=ih(g=>g.charAt(0).toUpperCase()+g.slice(1)),_h=ih(g=>g?`on${gu(g)}`:""),ui=(g,e)=>!Object.is(g,e),ao=(g,...e)=>{for(let p=0;p<g.length;p++)g[p](...e)},sp=(g,e,p,C=!1)=>{Object.defineProperty(g,e,{configurable:!0,enumerable:!1,writable:C,value:p})},Ao=g=>{const e=parseFloat(g);return isNaN(e)?g:e},Rx=g=>{const e=Ce(g)?Number(g):NaN;return isNaN(e)?g:e};let Fd;const sh=()=>Fd||(Fd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ye(g){if(It(g)){const e={};for(let p=0;p<g.length;p++){const C=g[p],R=Ce(C)?Lx(C):Ye(C);if(R)for(const I in R)e[I]=R[I]}return e}else if(Ce(g)||ue(g))return g}const wx=/;(?![^(]*\))/g,Mx=/:([^]+)/,Ix=/\/\*[^]*?\*\//g;function Lx(g){const e={};return g.replace(Ix,"").split(wx).forEach(p=>{if(p){const C=p.split(Mx);C.length>1&&(e[C[0].trim()]=C[1].trim())}}),e}function kt(g){let e="";if(Ce(g))e=g;else if(It(g))for(let p=0;p<g.length;p++){const C=kt(g[p]);C&&(e+=C+" ")}else if(ue(g))for(const p in g)g[p]&&(e+=p+" ");return e.trim()}const Fx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dx=cu(Fx);function np(g){return!!g||g===""}function Ox(g,e){if(g.length!==e.length)return!1;let p=!0;for(let C=0;p&&C<g.length;C++)p=xn(g[C],e[C]);return p}function xn(g,e){if(g===e)return!0;let p=Ld(g),C=Ld(e);if(p||C)return p&&C?g.getTime()===e.getTime():!1;if(p=Li(g),C=Li(e),p||C)return g===e;if(p=It(g),C=It(e),p||C)return p&&C?Ox(g,e):!1;if(p=ue(g),C=ue(e),p||C){if(!p||!C)return!1;const R=Object.keys(g).length,I=Object.keys(e).length;if(R!==I)return!1;for(const c in g){const E=g.hasOwnProperty(c),t=e.hasOwnProperty(c);if(E&&!t||!E&&t||!xn(g[c],e[c]))return!1}}return String(g)===String(e)}function xu(g,e){return g.findIndex(p=>xn(p,e))}const rp=g=>!!(g&&g.__v_isRef===!0),ne=g=>Ce(g)?g:g==null?"":It(g)||ue(g)&&(g.toString===ep||!Gt(g.toString))?rp(g)?ne(g.value):JSON.stringify(g,ap,2):String(g),ap=(g,e)=>rp(e)?ap(g,e.value):Kn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((p,[C,R],I)=>(p[tl(C,I)+" =>"]=R,p),{})}:lr(e)?{[`Set(${e.size})`]:[...e.values()].map(p=>tl(p))}:Li(e)?tl(e):ue(e)&&!It(e)&&!ip(e)?String(e):e,tl=(g,e="")=>{var p;return Li(g)?`Symbol(${(p=g.description)!=null?p:e})`:g};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ni;class op{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ni,!e&&ni&&(this.index=(ni.scopes||(ni.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,p;if(this.scopes)for(e=0,p=this.scopes.length;e<p;e++)this.scopes[e].pause();for(e=0,p=this.effects.length;e<p;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,p;if(this.scopes)for(e=0,p=this.scopes.length;e<p;e++)this.scopes[e].resume();for(e=0,p=this.effects.length;e<p;e++)this.effects[e].resume()}}run(e){if(this._active){const p=ni;try{return ni=this,e()}finally{ni=p}}}on(){ni=this}off(){ni=this.parent}stop(e){if(this._active){this._active=!1;let p,C;for(p=0,C=this.effects.length;p<C;p++)this.effects[p].stop();for(this.effects.length=0,p=0,C=this.cleanups.length;p<C;p++)this.cleanups[p]();if(this.cleanups.length=0,this.scopes){for(p=0,C=this.scopes.length;p<C;p++)this.scopes[p].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const R=this.parent.scopes.pop();R&&R!==this&&(this.parent.scopes[this.index]=R,R.index=this.index)}this.parent=void 0}}}function hp(g){return new op(g)}function lp(){return ni}function Nx(g,e=!1){ni&&ni.cleanups.push(g)}let ce;const el=new WeakSet;class up{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ni&&ni.active&&ni.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,el.has(this)&&(el.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||dp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Dd(this),cp(this);const e=ce,p=Pi;ce=this,Pi=!0;try{return this.fn()}finally{vp(this),ce=e,Pi=p,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Su(e);this.deps=this.depsTail=void 0,Dd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?el.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wl(this)&&this.run()}get dirty(){return wl(this)}}let fp=0,zr,Xr;function dp(g,e=!1){if(g.flags|=8,e){g.next=Xr,Xr=g;return}g.next=zr,zr=g}function yu(){fp++}function Tu(){if(--fp>0)return;if(Xr){let e=Xr;for(Xr=void 0;e;){const p=e.next;e.next=void 0,e.flags&=-9,e=p}}let g;for(;zr;){let e=zr;for(zr=void 0;e;){const p=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(C){g||(g=C)}e=p}}if(g)throw g}function cp(g){for(let e=g.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function vp(g){let e,p=g.depsTail,C=p;for(;C;){const R=C.prevDep;C.version===-1?(C===p&&(p=R),Su(C),Bx(C)):e=C,C.dep.activeLink=C.prevActiveLink,C.prevActiveLink=void 0,C=R}g.deps=e,g.depsTail=p}function wl(g){for(let e=g.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(pp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!g._dirty}function pp(g){if(g.flags&4&&!(g.flags&16)||(g.flags&=-17,g.globalVersion===_r))return;g.globalVersion=_r;const e=g.dep;if(g.flags|=2,e.version>0&&!g.isSSR&&g.deps&&!wl(g)){g.flags&=-3;return}const p=ce,C=Pi;ce=g,Pi=!0;try{cp(g);const R=g.fn(g._value);(e.version===0||ui(R,g._value))&&(g._value=R,e.version++)}catch(R){throw e.version++,R}finally{ce=p,Pi=C,vp(g),g.flags&=-3}}function Su(g,e=!1){const{dep:p,prevSub:C,nextSub:R}=g;if(C&&(C.nextSub=R,g.prevSub=void 0),R&&(R.prevSub=C,g.nextSub=void 0),p.subs===g&&(p.subs=C,!C&&p.computed)){p.computed.flags&=-5;for(let I=p.computed.deps;I;I=I.nextDep)Su(I,!0)}!e&&!--p.sc&&p.map&&p.map.delete(p.key)}function Bx(g){const{prevDep:e,nextDep:p}=g;e&&(e.nextDep=p,g.prevDep=void 0),p&&(p.prevDep=e,g.nextDep=void 0)}let Pi=!0;const mp=[];function js(){mp.push(Pi),Pi=!1}function Js(){const g=mp.pop();Pi=g===void 0?!0:g}function Dd(g){const{cleanup:e}=g;if(g.cleanup=void 0,e){const p=ce;ce=void 0;try{e()}finally{ce=p}}}let _r=0;class bx{constructor(e,p){this.sub=e,this.dep=p,this.version=p.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class nh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ce||!Pi||ce===this.computed)return;let p=this.activeLink;if(p===void 0||p.sub!==ce)p=this.activeLink=new bx(ce,this),ce.deps?(p.prevDep=ce.depsTail,ce.depsTail.nextDep=p,ce.depsTail=p):ce.deps=ce.depsTail=p,gp(p);else if(p.version===-1&&(p.version=this.version,p.nextDep)){const C=p.nextDep;C.prevDep=p.prevDep,p.prevDep&&(p.prevDep.nextDep=C),p.prevDep=ce.depsTail,p.nextDep=void 0,ce.depsTail.nextDep=p,ce.depsTail=p,ce.deps===p&&(ce.deps=C)}return p}trigger(e){this.version++,_r++,this.notify(e)}notify(e){yu();try{for(let p=this.subs;p;p=p.prevSub)p.sub.notify()&&p.sub.dep.notify()}finally{Tu()}}}function gp(g){if(g.dep.sc++,g.sub.flags&4){const e=g.dep.computed;if(e&&!g.dep.subs){e.flags|=20;for(let C=e.deps;C;C=C.nextDep)gp(C)}const p=g.dep.subs;p!==g&&(g.prevSub=p,p&&(p.nextSub=g)),g.dep.subs=g}}const Po=new WeakMap,vn=Symbol(""),Ml=Symbol(""),ta=Symbol("");function Je(g,e,p){if(Pi&&ce){let C=Po.get(g);C||Po.set(g,C=new Map);let R=C.get(p);R||(C.set(p,R=new nh),R.map=C,R.key=p),R.track()}}function is(g,e,p,C,R,I){const c=Po.get(g);if(!c){_r++;return}const E=t=>{t&&t.trigger()};if(yu(),e==="clear")c.forEach(E);else{const t=It(g),h=t&&mu(p);if(t&&p==="length"){const x=Number(C);c.forEach((o,r)=>{(r==="length"||r===ta||!Li(r)&&r>=x)&&E(o)})}else switch((p!==void 0||c.has(void 0))&&E(c.get(p)),h&&E(c.get(ta)),e){case"add":t?h&&E(c.get("length")):(E(c.get(vn)),Kn(g)&&E(c.get(Ml)));break;case"delete":t||(E(c.get(vn)),Kn(g)&&E(c.get(Ml)));break;case"set":Kn(g)&&E(c.get(vn));break}}Tu()}function Vx(g,e){const p=Po.get(g);return p&&p.get(e)}function bn(g){const e=$t(g);return e===g?e:(Je(e,"iterate",ta),yi(g)?e:e.map(Ze))}function rh(g){return Je(g=$t(g),"iterate",ta),g}const Gx={__proto__:null,[Symbol.iterator](){return il(this,Symbol.iterator,Ze)},concat(...g){return bn(this).concat(...g.map(e=>It(e)?bn(e):e))},entries(){return il(this,"entries",g=>(g[1]=Ze(g[1]),g))},every(g,e){return qi(this,"every",g,e,void 0,arguments)},filter(g,e){return qi(this,"filter",g,e,p=>p.map(Ze),arguments)},find(g,e){return qi(this,"find",g,e,Ze,arguments)},findIndex(g,e){return qi(this,"findIndex",g,e,void 0,arguments)},findLast(g,e){return qi(this,"findLast",g,e,Ze,arguments)},findLastIndex(g,e){return qi(this,"findLastIndex",g,e,void 0,arguments)},forEach(g,e){return qi(this,"forEach",g,e,void 0,arguments)},includes(...g){return sl(this,"includes",g)},indexOf(...g){return sl(this,"indexOf",g)},join(g){return bn(this).join(g)},lastIndexOf(...g){return sl(this,"lastIndexOf",g)},map(g,e){return qi(this,"map",g,e,void 0,arguments)},pop(){return Lr(this,"pop")},push(...g){return Lr(this,"push",g)},reduce(g,...e){return Od(this,"reduce",g,e)},reduceRight(g,...e){return Od(this,"reduceRight",g,e)},shift(){return Lr(this,"shift")},some(g,e){return qi(this,"some",g,e,void 0,arguments)},splice(...g){return Lr(this,"splice",g)},toReversed(){return bn(this).toReversed()},toSorted(g){return bn(this).toSorted(g)},toSpliced(...g){return bn(this).toSpliced(...g)},unshift(...g){return Lr(this,"unshift",g)},values(){return il(this,"values",Ze)}};function il(g,e,p){const C=rh(g),R=C[e]();return C!==g&&!yi(g)&&(R._next=R.next,R.next=()=>{const I=R._next();return I.value&&(I.value=p(I.value)),I}),R}const Ux=Array.prototype;function qi(g,e,p,C,R,I){const c=rh(g),E=c!==g&&!yi(g),t=c[e];if(t!==Ux[e]){const o=t.apply(g,I);return E?Ze(o):o}let h=p;c!==g&&(E?h=function(o,r){return p.call(this,Ze(o),r,g)}:p.length>2&&(h=function(o,r){return p.call(this,o,r,g)}));const x=t.call(c,h,C);return E&&R?R(x):x}function Od(g,e,p,C){const R=rh(g);let I=p;return R!==g&&(yi(g)?p.length>3&&(I=function(c,E,t){return p.call(this,c,E,t,g)}):I=function(c,E,t){return p.call(this,c,Ze(E),t,g)}),R[e](I,...C)}function sl(g,e,p){const C=$t(g);Je(C,"iterate",ta);const R=C[e](...p);return(R===-1||R===!1)&&Au(p[0])?(p[0]=$t(p[0]),C[e](...p)):R}function Lr(g,e,p=[]){js(),yu();const C=$t(g)[e].apply(g,p);return Tu(),Js(),C}const zx=cu("__proto__,__v_isRef,__isVue"),xp=new Set(Object.getOwnPropertyNames(Symbol).filter(g=>g!=="arguments"&&g!=="caller").map(g=>Symbol[g]).filter(Li));function Xx(g){Li(g)||(g=String(g));const e=$t(this);return Je(e,"has",g),e.hasOwnProperty(g)}class yp{constructor(e=!1,p=!1){this._isReadonly=e,this._isShallow=p}get(e,p,C){if(p==="__v_skip")return e.__v_skip;const R=this._isReadonly,I=this._isShallow;if(p==="__v_isReactive")return!R;if(p==="__v_isReadonly")return R;if(p==="__v_isShallow")return I;if(p==="__v_raw")return C===(R?I?kx:Cp:I?Ep:Sp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(C)?e:void 0;const c=It(e);if(!R){let t;if(c&&(t=Gx[p]))return t;if(p==="hasOwnProperty")return Xx}const E=Reflect.get(e,p,oe(e)?e:C);return(Li(p)?xp.has(p):zx(p))||(R||Je(e,"get",p),I)?E:oe(E)?c&&mu(p)?E:E.value:ue(E)?R?Ap(E):ah(E):E}}class Tp extends yp{constructor(e=!1){super(!1,e)}set(e,p,C,R){let I=e[p];if(!this._isShallow){const t=yn(I);if(!yi(C)&&!yn(C)&&(I=$t(I),C=$t(C)),!It(e)&&oe(I)&&!oe(C))return t?!1:(I.value=C,!0)}const c=It(e)&&mu(p)?Number(p)<e.length:ie(e,p),E=Reflect.set(e,p,C,oe(e)?e:R);return e===$t(R)&&(c?ui(C,I)&&is(e,"set",p,C):is(e,"add",p,C)),E}deleteProperty(e,p){const C=ie(e,p);e[p];const R=Reflect.deleteProperty(e,p);return R&&C&&is(e,"delete",p,void 0),R}has(e,p){const C=Reflect.has(e,p);return(!Li(p)||!xp.has(p))&&Je(e,"has",p),C}ownKeys(e){return Je(e,"iterate",It(e)?"length":vn),Reflect.ownKeys(e)}}class Wx extends yp{constructor(e=!1){super(!0,e)}set(e,p){return!0}deleteProperty(e,p){return!0}}const Yx=new Tp,Hx=new Wx,Kx=new Tp(!0);const Il=g=>g,$a=g=>Reflect.getPrototypeOf(g);function $x(g,e,p){return function(...C){const R=this.__v_raw,I=$t(R),c=Kn(I),E=g==="entries"||g===Symbol.iterator&&c,t=g==="keys"&&c,h=R[g](...C),x=p?Il:e?Ll:Ze;return!e&&Je(I,"iterate",t?Ml:vn),{next(){const{value:o,done:r}=h.next();return r?{value:o,done:r}:{value:E?[x(o[0]),x(o[1])]:x(o),done:r}},[Symbol.iterator](){return this}}}}function Qa(g){return function(...e){return g==="delete"?!1:g==="clear"?void 0:this}}function Qx(g,e){const p={get(R){const I=this.__v_raw,c=$t(I),E=$t(R);g||(ui(R,E)&&Je(c,"get",R),Je(c,"get",E));const{has:t}=$a(c),h=e?Il:g?Ll:Ze;if(t.call(c,R))return h(I.get(R));if(t.call(c,E))return h(I.get(E));I!==c&&I.get(R)},get size(){const R=this.__v_raw;return!g&&Je($t(R),"iterate",vn),Reflect.get(R,"size",R)},has(R){const I=this.__v_raw,c=$t(I),E=$t(R);return g||(ui(R,E)&&Je(c,"has",R),Je(c,"has",E)),R===E?I.has(R):I.has(R)||I.has(E)},forEach(R,I){const c=this,E=c.__v_raw,t=$t(E),h=e?Il:g?Ll:Ze;return!g&&Je(t,"iterate",vn),E.forEach((x,o)=>R.call(I,h(x),h(o),c))}};return De(p,g?{add:Qa("add"),set:Qa("set"),delete:Qa("delete"),clear:Qa("clear")}:{add(R){!e&&!yi(R)&&!yn(R)&&(R=$t(R));const I=$t(this);return $a(I).has.call(I,R)||(I.add(R),is(I,"add",R,R)),this},set(R,I){!e&&!yi(I)&&!yn(I)&&(I=$t(I));const c=$t(this),{has:E,get:t}=$a(c);let h=E.call(c,R);h||(R=$t(R),h=E.call(c,R));const x=t.call(c,R);return c.set(R,I),h?ui(I,x)&&is(c,"set",R,I):is(c,"add",R,I),this},delete(R){const I=$t(this),{has:c,get:E}=$a(I);let t=c.call(I,R);t||(R=$t(R),t=c.call(I,R)),E&&E.call(I,R);const h=I.delete(R);return t&&is(I,"delete",R,void 0),h},clear(){const R=$t(this),I=R.size!==0,c=R.clear();return I&&is(R,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(R=>{p[R]=$x(R,g,e)}),p}function Eu(g,e){const p=Qx(g,e);return(C,R,I)=>R==="__v_isReactive"?!g:R==="__v_isReadonly"?g:R==="__v_raw"?C:Reflect.get(ie(p,R)&&R in C?p:C,R,I)}const jx={get:Eu(!1,!1)},Jx={get:Eu(!1,!0)},Zx={get:Eu(!0,!1)};const Sp=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,kx=new WeakMap;function qx(g){switch(g){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _x(g){return g.__v_skip||!Object.isExtensible(g)?0:qx(Cx(g))}function ah(g){return yn(g)?g:Cu(g,!1,Yx,jx,Sp)}function ty(g){return Cu(g,!1,Kx,Jx,Ep)}function Ap(g){return Cu(g,!0,Hx,Zx,Cp)}function Cu(g,e,p,C,R){if(!ue(g)||g.__v_raw&&!(e&&g.__v_isReactive))return g;const I=R.get(g);if(I)return I;const c=_x(g);if(c===0)return g;const E=new Proxy(g,c===2?C:p);return R.set(g,E),E}function ls(g){return yn(g)?ls(g.__v_raw):!!(g&&g.__v_isReactive)}function yn(g){return!!(g&&g.__v_isReadonly)}function yi(g){return!!(g&&g.__v_isShallow)}function Au(g){return g?!!g.__v_raw:!1}function $t(g){const e=g&&g.__v_raw;return e?$t(e):g}function Pu(g){return!ie(g,"__v_skip")&&Object.isExtensible(g)&&sp(g,"__v_skip",!0),g}const Ze=g=>ue(g)?ah(g):g,Ll=g=>ue(g)?Ap(g):g;function oe(g){return g?g.__v_isRef===!0:!1}function Bt(g){return Pp(g,!1)}function ey(g){return Pp(g,!0)}function Pp(g,e){return oe(g)?g:new iy(g,e)}class iy{constructor(e,p){this.dep=new nh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=p?e:$t(e),this._value=p?e:Ze(e),this.__v_isShallow=p}get value(){return this.dep.track(),this._value}set value(e){const p=this._rawValue,C=this.__v_isShallow||yi(e)||yn(e);e=C?e:$t(e),ui(e,p)&&(this._rawValue=e,this._value=C?e:Ze(e),this.dep.trigger())}}function at(g){return oe(g)?g.value:g}const sy={get:(g,e,p)=>e==="__v_raw"?g:at(Reflect.get(g,e,p)),set:(g,e,p,C)=>{const R=g[e];return oe(R)&&!oe(p)?(R.value=p,!0):Reflect.set(g,e,p,C)}};function Rp(g){return ls(g)?g:new Proxy(g,sy)}class ny{constructor(e){this.__v_isRef=!0,this._value=void 0;const p=this.dep=new nh,{get:C,set:R}=e(p.track.bind(p),p.trigger.bind(p));this._get=C,this._set=R}get value(){return this._value=this._get()}set value(e){this._set(e)}}function ry(g){return new ny(g)}function ay(g){const e=It(g)?new Array(g.length):{};for(const p in g)e[p]=wp(g,p);return e}class oy{constructor(e,p,C){this._object=e,this._key=p,this._defaultValue=C,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Vx($t(this._object),this._key)}}class hy{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ly(g,e,p){return oe(g)?g:Gt(g)?new hy(g):ue(g)&&arguments.length>1?wp(g,e,p):Bt(g)}function wp(g,e,p){const C=g[e];return oe(C)?C:new oy(g,e,p)}class uy{constructor(e,p,C){this.fn=e,this.setter=p,this._value=void 0,this.dep=new nh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_r-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!p,this.isSSR=C}notify(){if(this.flags|=16,!(this.flags&8)&&ce!==this)return dp(this,!0),!0}get value(){const e=this.dep.track();return pp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function fy(g,e,p=!1){let C,R;return Gt(g)?C=g:(C=g.get,R=g.set),new uy(C,R,p)}const ja={},Ro=new WeakMap;let ln;function dy(g,e=!1,p=ln){if(p){let C=Ro.get(p);C||Ro.set(p,C=[]),C.push(g)}}function cy(g,e,p=te){const{immediate:C,deep:R,once:I,scheduler:c,augmentJob:E,call:t}=p,h=d=>R?d:yi(d)||R===!1||R===0?ss(d,1):ss(d);let x,o,r,a,i=!1,n=!1;if(oe(g)?(o=()=>g.value,i=yi(g)):ls(g)?(o=()=>h(g),i=!0):It(g)?(n=!0,i=g.some(d=>ls(d)||yi(d)),o=()=>g.map(d=>{if(oe(d))return d.value;if(ls(d))return h(d);if(Gt(d))return t?t(d,2):d()})):Gt(g)?e?o=t?()=>t(g,2):g:o=()=>{if(r){js();try{r()}finally{Js()}}const d=ln;ln=x;try{return t?t(g,3,[a]):g(a)}finally{ln=d}}:o=Wi,e&&R){const d=o,v=R===!0?1/0:R;o=()=>ss(d(),v)}const l=lp(),s=()=>{x.stop(),l&&l.active&&pu(l.effects,x)};if(I&&e){const d=e;e=(...v)=>{d(...v),s()}}let u=n?new Array(g.length).fill(ja):ja;const f=d=>{if(!(!(x.flags&1)||!x.dirty&&!d))if(e){const v=x.run();if(R||i||(n?v.some((m,y)=>ui(m,u[y])):ui(v,u))){r&&r();const m=ln;ln=x;try{const y=[v,u===ja?void 0:n&&u[0]===ja?[]:u,a];t?t(e,3,y):e(...y),u=v}finally{ln=m}}}else x.run()};return E&&E(f),x=new up(o),x.scheduler=c?()=>c(f,!1):f,a=d=>dy(d,!1,x),r=x.onStop=()=>{const d=Ro.get(x);if(d){if(t)t(d,4);else for(const v of d)v();Ro.delete(x)}},e?C?f(!0):u=x.run():c?c(f.bind(null,!0),!0):x.run(),s.pause=x.pause.bind(x),s.resume=x.resume.bind(x),s.stop=s,s}function ss(g,e=1/0,p){if(e<=0||!ue(g)||g.__v_skip||(p=p||new Set,p.has(g)))return g;if(p.add(g),e--,oe(g))ss(g.value,e,p);else if(It(g))for(let C=0;C<g.length;C++)ss(g[C],e,p);else if(lr(g)||Kn(g))g.forEach(C=>{ss(C,e,p)});else if(ip(g)){for(const C in g)ss(g[C],e,p);for(const C of Object.getOwnPropertySymbols(g))Object.prototype.propertyIsEnumerable.call(g,C)&&ss(g[C],e,p)}return g}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ga(g,e,p,C){try{return C?g(...C):g()}catch(R){oh(R,e,p)}}function Di(g,e,p,C){if(Gt(g)){const R=ga(g,e,p,C);return R&&tp(R)&&R.catch(I=>{oh(I,e,p)}),R}if(It(g)){const R=[];for(let I=0;I<g.length;I++)R.push(Di(g[I],e,p,C));return R}}function oh(g,e,p,C=!0){const R=e?e.vnode:null,{errorHandler:I,throwUnhandledErrorInProduction:c}=e&&e.appContext.config||te;if(e){let E=e.parent;const t=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${p}`;for(;E;){const x=E.ec;if(x){for(let o=0;o<x.length;o++)if(x[o](g,t,h)===!1)return}E=E.parent}if(I){js(),ga(I,null,10,[g,t,h]),Js();return}}vy(g,p,R,C,c)}function vy(g,e,p,C=!0,R=!1){if(R)throw g;console.error(g)}const ri=[];let Ui=-1;const $n=[];let Ps=null,Gn=0;const Mp=Promise.resolve();let wo=null;function Ru(g){const e=wo||Mp;return g?e.then(this?g.bind(this):g):e}function py(g){let e=Ui+1,p=ri.length;for(;e<p;){const C=e+p>>>1,R=ri[C],I=ea(R);I<g||I===g&&R.flags&2?e=C+1:p=C}return e}function wu(g){if(!(g.flags&1)){const e=ea(g),p=ri[ri.length-1];!p||!(g.flags&2)&&e>=ea(p)?ri.push(g):ri.splice(py(e),0,g),g.flags|=1,Ip()}}function Ip(){wo||(wo=Mp.then(Fp))}function my(g){It(g)?$n.push(...g):Ps&&g.id===-1?Ps.splice(Gn+1,0,g):g.flags&1||($n.push(g),g.flags|=1),Ip()}function Nd(g,e,p=Ui+1){for(;p<ri.length;p++){const C=ri[p];if(C&&C.flags&2){if(g&&C.id!==g.uid)continue;ri.splice(p,1),p--,C.flags&4&&(C.flags&=-2),C(),C.flags&4||(C.flags&=-2)}}}function Lp(g){if($n.length){const e=[...new Set($n)].sort((p,C)=>ea(p)-ea(C));if($n.length=0,Ps){Ps.push(...e);return}for(Ps=e,Gn=0;Gn<Ps.length;Gn++){const p=Ps[Gn];p.flags&4&&(p.flags&=-2),p.flags&8||p(),p.flags&=-2}Ps=null,Gn=0}}const ea=g=>g.id==null?g.flags&2?-1:1/0:g.id;function Fp(g){try{for(Ui=0;Ui<ri.length;Ui++){const e=ri[Ui];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ga(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ui<ri.length;Ui++){const e=ri[Ui];e&&(e.flags&=-2)}Ui=-1,ri.length=0,Lp(),wo=null,(ri.length||$n.length)&&Fp()}}let Le=null,Dp=null;function Mo(g){const e=Le;return Le=g,Dp=g&&g.type.__scopeId||null,e}function Xt(g,e=Le,p){if(!e||g._n)return g;const C=(...R)=>{C._d&&Qd(-1);const I=Mo(e);let c;try{c=g(...R)}finally{Mo(I),C._d&&Qd(1)}return c};return C._n=!0,C._c=!0,C._d=!0,C}function Yi(g,e){if(Le===null)return g;const p=vh(Le),C=g.dirs||(g.dirs=[]);for(let R=0;R<e.length;R++){let[I,c,E,t=te]=e[R];I&&(Gt(I)&&(I={mounted:I,updated:I}),I.deep&&ss(c),C.push({dir:I,instance:p,value:c,oldValue:void 0,arg:E,modifiers:t}))}return g}function rn(g,e,p,C){const R=g.dirs,I=e&&e.dirs;for(let c=0;c<R.length;c++){const E=R[c];I&&(E.oldValue=I[c].value);let t=E.dir[C];t&&(js(),Di(t,p,8,[g.el,E,g,e]),Js())}}const Op=Symbol("_vte"),Np=g=>g.__isTeleport,Wr=g=>g&&(g.disabled||g.disabled===""),Bd=g=>g&&(g.defer||g.defer===""),bd=g=>typeof SVGElement<"u"&&g instanceof SVGElement,Vd=g=>typeof MathMLElement=="function"&&g instanceof MathMLElement,Fl=(g,e)=>{const p=g&&g.to;return Ce(p)?e?e(p):null:p},Bp={name:"Teleport",__isTeleport:!0,process(g,e,p,C,R,I,c,E,t,h){const{mc:x,pc:o,pbc:r,o:{insert:a,querySelector:i,createText:n,createComment:l}}=h,s=Wr(e.props);let{shapeFlag:u,children:f,dynamicChildren:d}=e;if(g==null){const v=e.el=n(""),m=e.anchor=n("");a(v,p,C),a(m,p,C);const y=(S,A)=>{u&16&&(R&&R.isCE&&(R.ce._teleportTarget=S),x(f,S,A,R,I,c,E,t))},T=()=>{const S=e.target=Fl(e.props,i),A=bp(S,e,n,a);S&&(c!=="svg"&&bd(S)?c="svg":c!=="mathml"&&Vd(S)&&(c="mathml"),s||(y(S,A),oo(e,!1)))};s&&(y(p,m),oo(e,!0)),Bd(e.props)?si(()=>{T(),e.el.__isMounted=!0},I):T()}else{if(Bd(e.props)&&!g.el.__isMounted){si(()=>{Bp.process(g,e,p,C,R,I,c,E,t,h),delete g.el.__isMounted},I);return}e.el=g.el,e.targetStart=g.targetStart;const v=e.anchor=g.anchor,m=e.target=g.target,y=e.targetAnchor=g.targetAnchor,T=Wr(g.props),S=T?p:m,A=T?v:y;if(c==="svg"||bd(m)?c="svg":(c==="mathml"||Vd(m))&&(c="mathml"),d?(r(g.dynamicChildren,d,S,R,I,c,E),Iu(g,e,!0)):t||o(g,e,S,A,R,I,c,E,!1),s)T?e.props&&g.props&&e.props.to!==g.props.to&&(e.props.to=g.props.to):Ja(e,p,v,h,1);else if((e.props&&e.props.to)!==(g.props&&g.props.to)){const P=e.target=Fl(e.props,i);P&&Ja(e,P,null,h,0)}else T&&Ja(e,m,y,h,1);oo(e,s)}},remove(g,e,p,{um:C,o:{remove:R}},I){const{shapeFlag:c,children:E,anchor:t,targetStart:h,targetAnchor:x,target:o,props:r}=g;if(o&&(R(h),R(x)),I&&R(t),c&16){const a=I||!Wr(r);for(let i=0;i<E.length;i++){const n=E[i];C(n,e,p,a,!!n.dynamicChildren)}}},move:Ja,hydrate:gy};function Ja(g,e,p,{o:{insert:C},m:R},I=2){I===0&&C(g.targetAnchor,e,p);const{el:c,anchor:E,shapeFlag:t,children:h,props:x}=g,o=I===2;if(o&&C(c,e,p),(!o||Wr(x))&&t&16)for(let r=0;r<h.length;r++)R(h[r],e,p,2);o&&C(E,e,p)}function gy(g,e,p,C,R,I,{o:{nextSibling:c,parentNode:E,querySelector:t,insert:h,createText:x}},o){const r=e.target=Fl(e.props,t);if(r){const a=Wr(e.props),i=r._lpa||r.firstChild;if(e.shapeFlag&16)if(a)e.anchor=o(c(g),e,E(g),p,C,R,I),e.targetStart=i,e.targetAnchor=i&&c(i);else{e.anchor=c(g);let n=i;for(;n;){if(n&&n.nodeType===8){if(n.data==="teleport start anchor")e.targetStart=n;else if(n.data==="teleport anchor"){e.targetAnchor=n,r._lpa=e.targetAnchor&&c(e.targetAnchor);break}}n=c(n)}e.targetAnchor||bp(r,e,x,h),o(i&&c(i),e,r,p,C,R,I)}oo(e,a)}return e.anchor&&c(e.anchor)}const hh=Bp;function oo(g,e){const p=g.ctx;if(p&&p.ut){let C,R;for(e?(C=g.el,R=g.anchor):(C=g.targetStart,R=g.targetAnchor);C&&C!==R;)C.nodeType===1&&C.setAttribute("data-v-owner",p.uid),C=C.nextSibling;p.ut()}}function bp(g,e,p,C){const R=e.targetStart=p(""),I=e.targetAnchor=p("");return R[Op]=I,g&&(C(R,g),C(I,g)),I}const Rs=Symbol("_leaveCb"),Za=Symbol("_enterCb");function xy(){const g={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zs(()=>{g.isMounted=!0}),Pn(()=>{g.isUnmounting=!0}),g}const xi=[Function,Array],Vp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xi,onEnter:xi,onAfterEnter:xi,onEnterCancelled:xi,onBeforeLeave:xi,onLeave:xi,onAfterLeave:xi,onLeaveCancelled:xi,onBeforeAppear:xi,onAppear:xi,onAfterAppear:xi,onAppearCancelled:xi},Gp=g=>{const e=g.subTree;return e.component?Gp(e.component):e},yy={name:"BaseTransition",props:Vp,setup(g,{slots:e}){const p=ch(),C=xy();return()=>{const R=e.default&&Xp(e.default(),!0);if(!R||!R.length)return;const I=Up(R),c=$t(g),{mode:E}=c;if(C.isLeaving)return nl(I);const t=Gd(I);if(!t)return nl(I);let h=Dl(t,c,C,p,o=>h=o);t.type!==ai&&ia(t,h);let x=p.subTree&&Gd(p.subTree);if(x&&x.type!==ai&&!fn(t,x)&&Gp(p).type!==ai){let o=Dl(x,c,C,p);if(ia(x,o),E==="out-in"&&t.type!==ai)return C.isLeaving=!0,o.afterLeave=()=>{C.isLeaving=!1,p.job.flags&8||p.update(),delete o.afterLeave,x=void 0},nl(I);E==="in-out"&&t.type!==ai?o.delayLeave=(r,a,i)=>{const n=zp(C,x);n[String(x.key)]=x,r[Rs]=()=>{a(),r[Rs]=void 0,delete h.delayedLeave,x=void 0},h.delayedLeave=()=>{i(),delete h.delayedLeave,x=void 0}}:x=void 0}else x&&(x=void 0);return I}}};function Up(g){let e=g[0];if(g.length>1){for(const p of g)if(p.type!==ai){e=p;break}}return e}const Ty=yy;function zp(g,e){const{leavingVNodes:p}=g;let C=p.get(e.type);return C||(C=Object.create(null),p.set(e.type,C)),C}function Dl(g,e,p,C,R){const{appear:I,mode:c,persisted:E=!1,onBeforeEnter:t,onEnter:h,onAfterEnter:x,onEnterCancelled:o,onBeforeLeave:r,onLeave:a,onAfterLeave:i,onLeaveCancelled:n,onBeforeAppear:l,onAppear:s,onAfterAppear:u,onAppearCancelled:f}=e,d=String(g.key),v=zp(p,g),m=(S,A)=>{S&&Di(S,C,9,A)},y=(S,A)=>{const P=A[1];m(S,A),It(S)?S.every(w=>w.length<=1)&&P():S.length<=1&&P()},T={mode:c,persisted:E,beforeEnter(S){let A=t;if(!p.isMounted)if(I)A=l||t;else return;S[Rs]&&S[Rs](!0);const P=v[d];P&&fn(g,P)&&P.el[Rs]&&P.el[Rs](),m(A,[S])},enter(S){let A=h,P=x,w=o;if(!p.isMounted)if(I)A=s||h,P=u||x,w=f||o;else return;let M=!1;const D=S[Za]=F=>{M||(M=!0,F?m(w,[S]):m(P,[S]),T.delayedLeave&&T.delayedLeave(),S[Za]=void 0)};A?y(A,[S,D]):D()},leave(S,A){const P=String(g.key);if(S[Za]&&S[Za](!0),p.isUnmounting)return A();m(r,[S]);let w=!1;const M=S[Rs]=D=>{w||(w=!0,A(),D?m(n,[S]):m(i,[S]),S[Rs]=void 0,v[P]===g&&delete v[P])};v[P]=g,a?y(a,[S,M]):M()},clone(S){const A=Dl(S,e,p,C,R);return R&&R(A),A}};return T}function nl(g){if(lh(g))return g=Us(g),g.children=null,g}function Gd(g){if(!lh(g))return Np(g.type)&&g.children?Up(g.children):g;const{shapeFlag:e,children:p}=g;if(p){if(e&16)return p[0];if(e&32&&Gt(p.default))return p.default()}}function ia(g,e){g.shapeFlag&6&&g.component?(g.transition=e,ia(g.component.subTree,e)):g.shapeFlag&128?(g.ssContent.transition=e.clone(g.ssContent),g.ssFallback.transition=e.clone(g.ssFallback)):g.transition=e}function Xp(g,e=!1,p){let C=[],R=0;for(let I=0;I<g.length;I++){let c=g[I];const E=p==null?c.key:String(p)+String(c.key!=null?c.key:I);c.type===de?(c.patchFlag&128&&R++,C=C.concat(Xp(c.children,e,E))):(e||c.type!==ai)&&C.push(E!=null?Us(c,{key:E}):c)}if(R>1)for(let I=0;I<C.length;I++)C[I].patchFlag=-2;return C}/*! #__NO_SIDE_EFFECTS__ */function ee(g,e){return Gt(g)?De({name:g.name},e,{setup:g}):g}function Wp(g){g.ids=[g.ids[0]+g.ids[2]+++"-",0,0]}function pn(g){const e=ch(),p=ey(null);if(e){const R=e.refs===te?e.refs={}:e.refs;Object.defineProperty(R,g,{enumerable:!0,get:()=>p.value,set:I=>p.value=I})}return p}function Io(g,e,p,C,R=!1){if(It(g)){g.forEach((i,n)=>Io(i,e&&(It(e)?e[n]:e),p,C,R));return}if(Qn(C)&&!R){C.shapeFlag&512&&C.type.__asyncResolved&&C.component.subTree.component&&Io(g,e,p,C.component.subTree);return}const I=C.shapeFlag&4?vh(C.component):C.el,c=R?null:I,{i:E,r:t}=g,h=e&&e.r,x=E.refs===te?E.refs={}:E.refs,o=E.setupState,r=$t(o),a=o===te?()=>!1:i=>ie(r,i);if(h!=null&&h!==t&&(Ce(h)?(x[h]=null,a(h)&&(o[h]=null)):oe(h)&&(h.value=null)),Gt(t))ga(t,E,12,[c,x]);else{const i=Ce(t),n=oe(t);if(i||n){const l=()=>{if(g.f){const s=i?a(t)?o[t]:x[t]:t.value;R?It(s)&&pu(s,I):It(s)?s.includes(I)||s.push(I):i?(x[t]=[I],a(t)&&(o[t]=x[t])):(t.value=[I],g.k&&(x[g.k]=t.value))}else i?(x[t]=c,a(t)&&(o[t]=c)):n&&(t.value=c,g.k&&(x[g.k]=c))};c?(l.id=-1,si(l,p)):l()}}}sh().requestIdleCallback;sh().cancelIdleCallback;const Qn=g=>!!g.type.__asyncLoader,lh=g=>g.type.__isKeepAlive;function Sy(g,e){Yp(g,"a",e)}function Ey(g,e){Yp(g,"da",e)}function Yp(g,e,p=Be){const C=g.__wdc||(g.__wdc=()=>{let R=p;for(;R;){if(R.isDeactivated)return;R=R.parent}return g()});if(uh(e,C,p),p){let R=p.parent;for(;R&&R.parent;)lh(R.parent.vnode)&&Cy(C,e,p,R),R=R.parent}}function Cy(g,e,p,C){const R=uh(e,g,C,!0);Rn(()=>{pu(C[e],R)},p)}function uh(g,e,p=Be,C=!1){if(p){const R=p[g]||(p[g]=[]),I=e.__weh||(e.__weh=(...c)=>{js();const E=xa(p),t=Di(e,p,g,c);return E(),Js(),t});return C?R.unshift(I):R.push(I),I}}const ms=g=>(e,p=Be)=>{(!ra||g==="sp")&&uh(g,(...C)=>e(...C),p)},Hp=ms("bm"),Zs=ms("m"),Ay=ms("bu"),Py=ms("u"),Pn=ms("bum"),Rn=ms("um"),Ry=ms("sp"),wy=ms("rtg"),My=ms("rtc");function Iy(g,e=Be){uh("ec",g,e)}const Ly="directives",Fy=Symbol.for("v-ndc");function Kp(g){return Dy(Ly,g)}function Dy(g,e,p=!0,C=!1){const R=Le||Be;if(R){const I=R.type,c=Ud(R[g]||I[g],e)||Ud(R.appContext[g],e);return!c&&C?I:c}}function Ud(g,e){return g&&(g[e]||g[Fi(e)]||g[gu(Fi(e))])}function Ri(g,e,p,C){let R;const I=p,c=It(g);if(c||Ce(g)){const E=c&&ls(g);let t=!1;E&&(t=!yi(g),g=rh(g)),R=new Array(g.length);for(let h=0,x=g.length;h<x;h++)R[h]=e(t?Ze(g[h]):g[h],h,void 0,I)}else if(typeof g=="number"){R=new Array(g);for(let E=0;E<g;E++)R[E]=e(E+1,E,void 0,I)}else if(ue(g))if(g[Symbol.iterator])R=Array.from(g,(E,t)=>e(E,t,void 0,I));else{const E=Object.keys(g);R=new Array(E.length);for(let t=0,h=E.length;t<h;t++){const x=E[t];R[t]=e(g[x],x,t,I)}}else R=[];return R}function pe(g,e,p={},C,R){if(Le.ce||Le.parent&&Qn(Le.parent)&&Le.parent.ce)return e!=="default"&&(p.name=e),gt(),Ie(de,null,[Ct("slot",p,C&&C())],64);let I=g[e];I&&I._c&&(I._d=!1),gt();const c=I&&$p(I(p)),E=p.key||c&&c.key,t=Ie(de,{key:(E&&!Li(E)?E:`_${e}`)+(!c&&C?"_fb":"")},c||(C?C():[]),c&&g._===1?64:-2);return t.scopeId&&(t.slotScopeIds=[t.scopeId+"-s"]),I&&I._c&&(I._d=!0),t}function $p(g){return g.some(e=>na(e)?!(e.type===ai||e.type===de&&!$p(e.children)):!0)?g:null}const Ol=g=>g?dm(g)?vh(g):Ol(g.parent):null,Yr=De(Object.create(null),{$:g=>g,$el:g=>g.vnode.el,$data:g=>g.data,$props:g=>g.props,$attrs:g=>g.attrs,$slots:g=>g.slots,$refs:g=>g.refs,$parent:g=>Ol(g.parent),$root:g=>Ol(g.root),$host:g=>g.ce,$emit:g=>g.emit,$options:g=>jp(g),$forceUpdate:g=>g.f||(g.f=()=>{wu(g.update)}),$nextTick:g=>g.n||(g.n=Ru.bind(g.proxy)),$watch:g=>s1.bind(g)}),rl=(g,e)=>g!==te&&!g.__isScriptSetup&&ie(g,e),Oy={get({_:g},e){if(e==="__v_skip")return!0;const{ctx:p,setupState:C,data:R,props:I,accessCache:c,type:E,appContext:t}=g;let h;if(e[0]!=="$"){const a=c[e];if(a!==void 0)switch(a){case 1:return C[e];case 2:return R[e];case 4:return p[e];case 3:return I[e]}else{if(rl(C,e))return c[e]=1,C[e];if(R!==te&&ie(R,e))return c[e]=2,R[e];if((h=g.propsOptions[0])&&ie(h,e))return c[e]=3,I[e];if(p!==te&&ie(p,e))return c[e]=4,p[e];Nl&&(c[e]=0)}}const x=Yr[e];let o,r;if(x)return e==="$attrs"&&Je(g.attrs,"get",""),x(g);if((o=E.__cssModules)&&(o=o[e]))return o;if(p!==te&&ie(p,e))return c[e]=4,p[e];if(r=t.config.globalProperties,ie(r,e))return r[e]},set({_:g},e,p){const{data:C,setupState:R,ctx:I}=g;return rl(R,e)?(R[e]=p,!0):C!==te&&ie(C,e)?(C[e]=p,!0):ie(g.props,e)||e[0]==="$"&&e.slice(1)in g?!1:(I[e]=p,!0)},has({_:{data:g,setupState:e,accessCache:p,ctx:C,appContext:R,propsOptions:I}},c){let E;return!!p[c]||g!==te&&ie(g,c)||rl(e,c)||(E=I[0])&&ie(E,c)||ie(C,c)||ie(Yr,c)||ie(R.config.globalProperties,c)},defineProperty(g,e,p){return p.get!=null?g._.accessCache[e]=0:ie(p,"value")&&this.set(g,e,p.value,null),Reflect.defineProperty(g,e,p)}};function wn(){return Ny().slots}function Ny(){const g=ch();return g.setupContext||(g.setupContext=vm(g))}function Lo(g){return It(g)?g.reduce((e,p)=>(e[p]=null,e),{}):g}function di(g,e){return!g||!e?g||e:It(g)&&It(e)?g.concat(e):De({},Lo(g),Lo(e))}let Nl=!0;function By(g){const e=jp(g),p=g.proxy,C=g.ctx;Nl=!1,e.beforeCreate&&zd(e.beforeCreate,g,"bc");const{data:R,computed:I,methods:c,watch:E,provide:t,inject:h,created:x,beforeMount:o,mounted:r,beforeUpdate:a,updated:i,activated:n,deactivated:l,beforeDestroy:s,beforeUnmount:u,destroyed:f,unmounted:d,render:v,renderTracked:m,renderTriggered:y,errorCaptured:T,serverPrefetch:S,expose:A,inheritAttrs:P,components:w,directives:M,filters:D}=e;if(h&&by(h,C,null),c)for(const O in c){const B=c[O];Gt(B)&&(C[O]=B.bind(p))}if(R){const O=R.call(p,p);ue(O)&&(g.data=ah(O))}if(Nl=!0,I)for(const O in I){const B=I[O],U=Gt(B)?B.bind(p,p):Gt(B.get)?B.get.bind(p,p):Wi,W=!Gt(B)&&Gt(B.set)?B.set.bind(p):Wi,H=Ft({get:U,set:W});Object.defineProperty(C,O,{enumerable:!0,configurable:!0,get:()=>H.value,set:Y=>H.value=Y})}if(E)for(const O in E)Qp(E[O],C,p,O);if(t){const O=Gt(t)?t.call(p):t;Reflect.ownKeys(O).forEach(B=>{Wy(B,O[B])})}x&&zd(x,g,"c");function L(O,B){It(B)?B.forEach(U=>O(U.bind(p))):B&&O(B.bind(p))}if(L(Hp,o),L(Zs,r),L(Ay,a),L(Py,i),L(Sy,n),L(Ey,l),L(Iy,T),L(My,m),L(wy,y),L(Pn,u),L(Rn,d),L(Ry,S),It(A))if(A.length){const O=g.exposed||(g.exposed={});A.forEach(B=>{Object.defineProperty(O,B,{get:()=>p[B],set:U=>p[B]=U})})}else g.exposed||(g.exposed={});v&&g.render===Wi&&(g.render=v),P!=null&&(g.inheritAttrs=P),w&&(g.components=w),M&&(g.directives=M),S&&Wp(g)}function by(g,e,p=Wi){It(g)&&(g=Bl(g));for(const C in g){const R=g[C];let I;ue(R)?"default"in R?I=jn(R.from||C,R.default,!0):I=jn(R.from||C):I=jn(R),oe(I)?Object.defineProperty(e,C,{enumerable:!0,configurable:!0,get:()=>I.value,set:c=>I.value=c}):e[C]=I}}function zd(g,e,p){Di(It(g)?g.map(C=>C.bind(e.proxy)):g.bind(e.proxy),e,p)}function Qp(g,e,p,C){let R=C.includes(".")?am(p,C):()=>p[C];if(Ce(g)){const I=e[g];Gt(I)&&oi(R,I)}else if(Gt(g))oi(R,g.bind(p));else if(ue(g))if(It(g))g.forEach(I=>Qp(I,e,p,C));else{const I=Gt(g.handler)?g.handler.bind(p):e[g.handler];Gt(I)&&oi(R,I,g)}}function jp(g){const e=g.type,{mixins:p,extends:C}=e,{mixins:R,optionsCache:I,config:{optionMergeStrategies:c}}=g.appContext,E=I.get(e);let t;return E?t=E:!R.length&&!p&&!C?t=e:(t={},R.length&&R.forEach(h=>Fo(t,h,c,!0)),Fo(t,e,c)),ue(e)&&I.set(e,t),t}function Fo(g,e,p,C=!1){const{mixins:R,extends:I}=e;I&&Fo(g,I,p,!0),R&&R.forEach(c=>Fo(g,c,p,!0));for(const c in e)if(!(C&&c==="expose")){const E=Vy[c]||p&&p[c];g[c]=E?E(g[c],e[c]):e[c]}return g}const Vy={data:Xd,props:Wd,emits:Wd,methods:Dr,computed:Dr,beforeCreate:ii,created:ii,beforeMount:ii,mounted:ii,beforeUpdate:ii,updated:ii,beforeDestroy:ii,beforeUnmount:ii,destroyed:ii,unmounted:ii,activated:ii,deactivated:ii,errorCaptured:ii,serverPrefetch:ii,components:Dr,directives:Dr,watch:Uy,provide:Xd,inject:Gy};function Xd(g,e){return e?g?function(){return De(Gt(g)?g.call(this,this):g,Gt(e)?e.call(this,this):e)}:e:g}function Gy(g,e){return Dr(Bl(g),Bl(e))}function Bl(g){if(It(g)){const e={};for(let p=0;p<g.length;p++)e[g[p]]=g[p];return e}return g}function ii(g,e){return g?[...new Set([].concat(g,e))]:e}function Dr(g,e){return g?De(Object.create(null),g,e):e}function Wd(g,e){return g?It(g)&&It(e)?[...new Set([...g,...e])]:De(Object.create(null),Lo(g),Lo(e??{})):e}function Uy(g,e){if(!g)return e;if(!e)return g;const p=De(Object.create(null),g);for(const C in e)p[C]=ii(g[C],e[C]);return p}function Jp(){return{app:null,config:{isNativeTag:Sx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zy=0;function Xy(g,e){return function(C,R=null){Gt(C)||(C=De({},C)),R!=null&&!ue(R)&&(R=null);const I=Jp(),c=new WeakSet,E=[];let t=!1;const h=I.app={_uid:zy++,_component:C,_props:R,_container:null,_context:I,_instance:null,version:E1,get config(){return I.config},set config(x){},use(x,...o){return c.has(x)||(x&&Gt(x.install)?(c.add(x),x.install(h,...o)):Gt(x)&&(c.add(x),x(h,...o))),h},mixin(x){return I.mixins.includes(x)||I.mixins.push(x),h},component(x,o){return o?(I.components[x]=o,h):I.components[x]},directive(x,o){return o?(I.directives[x]=o,h):I.directives[x]},mount(x,o,r){if(!t){const a=h._ceVNode||Ct(C,R);return a.appContext=I,r===!0?r="svg":r===!1&&(r=void 0),g(a,x,r),t=!0,h._container=x,x.__vue_app__=h,vh(a.component)}},onUnmount(x){E.push(x)},unmount(){t&&(Di(E,h._instance,16),g(null,h._container),delete h._container.__vue_app__)},provide(x,o){return I.provides[x]=o,h},runWithContext(x){const o=mn;mn=h;try{return x()}finally{mn=o}}};return h}}let mn=null;function Wy(g,e){if(Be){let p=Be.provides;const C=Be.parent&&Be.parent.provides;C===p&&(p=Be.provides=Object.create(C)),p[g]=e}}function jn(g,e,p=!1){const C=Be||Le;if(C||mn){const R=mn?mn._context.provides:C?C.parent==null?C.vnode.appContext&&C.vnode.appContext.provides:C.parent.provides:void 0;if(R&&g in R)return R[g];if(arguments.length>1)return p&&Gt(e)?e.call(C&&C.proxy):e}}function Yy(){return!!(Be||Le||mn)}const Zp={},kp=()=>Object.create(Zp),qp=g=>Object.getPrototypeOf(g)===Zp;function Hy(g,e,p,C=!1){const R={},I=kp();g.propsDefaults=Object.create(null),_p(g,e,R,I);for(const c in g.propsOptions[0])c in R||(R[c]=void 0);p?g.props=C?R:ty(R):g.type.props?g.props=R:g.props=I,g.attrs=I}function Ky(g,e,p,C){const{props:R,attrs:I,vnode:{patchFlag:c}}=g,E=$t(R),[t]=g.propsOptions;let h=!1;if((C||c>0)&&!(c&16)){if(c&8){const x=g.vnode.dynamicProps;for(let o=0;o<x.length;o++){let r=x[o];if(fh(g.emitsOptions,r))continue;const a=e[r];if(t)if(ie(I,r))a!==I[r]&&(I[r]=a,h=!0);else{const i=Fi(r);R[i]=bl(t,E,i,a,g,!1)}else a!==I[r]&&(I[r]=a,h=!0)}}}else{_p(g,e,R,I)&&(h=!0);let x;for(const o in E)(!e||!ie(e,o)&&((x=ps(o))===o||!ie(e,x)))&&(t?p&&(p[o]!==void 0||p[x]!==void 0)&&(R[o]=bl(t,E,o,void 0,g,!0)):delete R[o]);if(I!==E)for(const o in I)(!e||!ie(e,o))&&(delete I[o],h=!0)}h&&is(g.attrs,"set","")}function _p(g,e,p,C){const[R,I]=g.propsOptions;let c=!1,E;if(e)for(let t in e){if(Ur(t))continue;const h=e[t];let x;R&&ie(R,x=Fi(t))?!I||!I.includes(x)?p[x]=h:(E||(E={}))[x]=h:fh(g.emitsOptions,t)||(!(t in C)||h!==C[t])&&(C[t]=h,c=!0)}if(I){const t=$t(p),h=E||te;for(let x=0;x<I.length;x++){const o=I[x];p[o]=bl(R,t,o,h[o],g,!ie(h,o))}}return c}function bl(g,e,p,C,R,I){const c=g[p];if(c!=null){const E=ie(c,"default");if(E&&C===void 0){const t=c.default;if(c.type!==Function&&!c.skipFactory&&Gt(t)){const{propsDefaults:h}=R;if(p in h)C=h[p];else{const x=xa(R);C=h[p]=t.call(null,e),x()}}else C=t;R.ce&&R.ce._setProp(p,C)}c[0]&&(I&&!E?C=!1:c[1]&&(C===""||C===ps(p))&&(C=!0))}return C}const $y=new WeakMap;function tm(g,e,p=!1){const C=p?$y:e.propsCache,R=C.get(g);if(R)return R;const I=g.props,c={},E=[];let t=!1;if(!Gt(g)){const x=o=>{t=!0;const[r,a]=tm(o,e,!0);De(c,r),a&&E.push(...a)};!p&&e.mixins.length&&e.mixins.forEach(x),g.extends&&x(g.extends),g.mixins&&g.mixins.forEach(x)}if(!I&&!t)return ue(g)&&C.set(g,Hn),Hn;if(It(I))for(let x=0;x<I.length;x++){const o=Fi(I[x]);Yd(o)&&(c[o]=te)}else if(I)for(const x in I){const o=Fi(x);if(Yd(o)){const r=I[x],a=c[o]=It(r)||Gt(r)?{type:r}:De({},r),i=a.type;let n=!1,l=!0;if(It(i))for(let s=0;s<i.length;++s){const u=i[s],f=Gt(u)&&u.name;if(f==="Boolean"){n=!0;break}else f==="String"&&(l=!1)}else n=Gt(i)&&i.name==="Boolean";a[0]=n,a[1]=l,(n||ie(a,"default"))&&E.push(o)}}const h=[c,E];return ue(g)&&C.set(g,h),h}function Yd(g){return g[0]!=="$"&&!Ur(g)}const em=g=>g[0]==="_"||g==="$stable",Mu=g=>It(g)?g.map(Xi):[Xi(g)],Qy=(g,e,p)=>{if(e._n)return e;const C=Xt((...R)=>Mu(e(...R)),p);return C._c=!1,C},im=(g,e,p)=>{const C=g._ctx;for(const R in g){if(em(R))continue;const I=g[R];if(Gt(I))e[R]=Qy(R,I,C);else if(I!=null){const c=Mu(I);e[R]=()=>c}}},sm=(g,e)=>{const p=Mu(e);g.slots.default=()=>p},nm=(g,e,p)=>{for(const C in e)(p||C!=="_")&&(g[C]=e[C])},jy=(g,e,p)=>{const C=g.slots=kp();if(g.vnode.shapeFlag&32){const R=e._;R?(nm(C,e,p),p&&sp(C,"_",R,!0)):im(e,C)}else e&&sm(g,e)},Jy=(g,e,p)=>{const{vnode:C,slots:R}=g;let I=!0,c=te;if(C.shapeFlag&32){const E=e._;E?p&&E===1?I=!1:nm(R,e,p):(I=!e.$stable,im(e,R)),c=e}else e&&(sm(g,e),c={default:1});if(I)for(const E in R)!em(E)&&c[E]==null&&delete R[E]},si=l1;function Zy(g){return ky(g)}function ky(g,e){const p=sh();p.__VUE__=!0;const{insert:C,remove:R,patchProp:I,createElement:c,createText:E,createComment:t,setText:h,setElementText:x,parentNode:o,nextSibling:r,setScopeId:a=Wi,insertStaticContent:i}=g,n=(j,k,_,et=null,it=null,st=null,nt=void 0,ut=null,ft=!!k.dynamicChildren)=>{if(j===k)return;j&&!fn(j,k)&&(et=z(j),Y(j,it,st,!0),j=null),k.patchFlag===-2&&(ft=!1,k.dynamicChildren=null);const{type:ht,ref:rt,shapeFlag:lt}=k;switch(ht){case dh:l(j,k,_,et);break;case ai:s(j,k,_,et);break;case ol:j==null&&u(k,_,et,nt);break;case de:w(j,k,_,et,it,st,nt,ut,ft);break;default:lt&1?v(j,k,_,et,it,st,nt,ut,ft):lt&6?M(j,k,_,et,it,st,nt,ut,ft):(lt&64||lt&128)&&ht.process(j,k,_,et,it,st,nt,ut,ft,Z)}rt!=null&&it&&Io(rt,j&&j.ref,st,k||j,!k)},l=(j,k,_,et)=>{if(j==null)C(k.el=E(k.children),_,et);else{const it=k.el=j.el;k.children!==j.children&&h(it,k.children)}},s=(j,k,_,et)=>{j==null?C(k.el=t(k.children||""),_,et):k.el=j.el},u=(j,k,_,et)=>{[j.el,j.anchor]=i(j.children,k,_,et,j.el,j.anchor)},f=({el:j,anchor:k},_,et)=>{let it;for(;j&&j!==k;)it=r(j),C(j,_,et),j=it;C(k,_,et)},d=({el:j,anchor:k})=>{let _;for(;j&&j!==k;)_=r(j),R(j),j=_;R(k)},v=(j,k,_,et,it,st,nt,ut,ft)=>{k.type==="svg"?nt="svg":k.type==="math"&&(nt="mathml"),j==null?m(k,_,et,it,st,nt,ut,ft):S(j,k,it,st,nt,ut,ft)},m=(j,k,_,et,it,st,nt,ut)=>{let ft,ht;const{props:rt,shapeFlag:lt,transition:dt,dirs:xt}=j;if(ft=j.el=c(j.type,st,rt&&rt.is,rt),lt&8?x(ft,j.children):lt&16&&T(j.children,ft,null,et,it,al(j,st),nt,ut),xt&&rn(j,null,et,"created"),y(ft,j,j.scopeId,nt,et),rt){for(const At in rt)At!=="value"&&!Ur(At)&&I(ft,At,null,rt[At],st,et);"value"in rt&&I(ft,"value",null,rt.value,st),(ht=rt.onVnodeBeforeMount)&&Vi(ht,et,j)}xt&&rn(j,null,et,"beforeMount");const yt=qy(it,dt);yt&&dt.beforeEnter(ft),C(ft,k,_),((ht=rt&&rt.onVnodeMounted)||yt||xt)&&si(()=>{ht&&Vi(ht,et,j),yt&&dt.enter(ft),xt&&rn(j,null,et,"mounted")},it)},y=(j,k,_,et,it)=>{if(_&&a(j,_),et)for(let st=0;st<et.length;st++)a(j,et[st]);if(it){let st=it.subTree;if(k===st||lm(st.type)&&(st.ssContent===k||st.ssFallback===k)){const nt=it.vnode;y(j,nt,nt.scopeId,nt.slotScopeIds,it.parent)}}},T=(j,k,_,et,it,st,nt,ut,ft=0)=>{for(let ht=ft;ht<j.length;ht++){const rt=j[ht]=ut?ws(j[ht]):Xi(j[ht]);n(null,rt,k,_,et,it,st,nt,ut)}},S=(j,k,_,et,it,st,nt)=>{const ut=k.el=j.el;let{patchFlag:ft,dynamicChildren:ht,dirs:rt}=k;ft|=j.patchFlag&16;const lt=j.props||te,dt=k.props||te;let xt;if(_&&an(_,!1),(xt=dt.onVnodeBeforeUpdate)&&Vi(xt,_,k,j),rt&&rn(k,j,_,"beforeUpdate"),_&&an(_,!0),(lt.innerHTML&&dt.innerHTML==null||lt.textContent&&dt.textContent==null)&&x(ut,""),ht?A(j.dynamicChildren,ht,ut,_,et,al(k,it),st):nt||B(j,k,ut,null,_,et,al(k,it),st,!1),ft>0){if(ft&16)P(ut,lt,dt,_,it);else if(ft&2&&lt.class!==dt.class&&I(ut,"class",null,dt.class,it),ft&4&&I(ut,"style",lt.style,dt.style,it),ft&8){const yt=k.dynamicProps;for(let At=0;At<yt.length;At++){const Et=yt[At],Lt=lt[Et],zt=dt[Et];(zt!==Lt||Et==="value")&&I(ut,Et,Lt,zt,it,_)}}ft&1&&j.children!==k.children&&x(ut,k.children)}else!nt&&ht==null&&P(ut,lt,dt,_,it);((xt=dt.onVnodeUpdated)||rt)&&si(()=>{xt&&Vi(xt,_,k,j),rt&&rn(k,j,_,"updated")},et)},A=(j,k,_,et,it,st,nt)=>{for(let ut=0;ut<k.length;ut++){const ft=j[ut],ht=k[ut],rt=ft.el&&(ft.type===de||!fn(ft,ht)||ft.shapeFlag&70)?o(ft.el):_;n(ft,ht,rt,null,et,it,st,nt,!0)}},P=(j,k,_,et,it)=>{if(k!==_){if(k!==te)for(const st in k)!Ur(st)&&!(st in _)&&I(j,st,k[st],null,it,et);for(const st in _){if(Ur(st))continue;const nt=_[st],ut=k[st];nt!==ut&&st!=="value"&&I(j,st,ut,nt,it,et)}"value"in _&&I(j,"value",k.value,_.value,it)}},w=(j,k,_,et,it,st,nt,ut,ft)=>{const ht=k.el=j?j.el:E(""),rt=k.anchor=j?j.anchor:E("");let{patchFlag:lt,dynamicChildren:dt,slotScopeIds:xt}=k;xt&&(ut=ut?ut.concat(xt):xt),j==null?(C(ht,_,et),C(rt,_,et),T(k.children||[],_,rt,it,st,nt,ut,ft)):lt>0&&lt&64&&dt&&j.dynamicChildren?(A(j.dynamicChildren,dt,_,it,st,nt,ut),(k.key!=null||it&&k===it.subTree)&&Iu(j,k,!0)):B(j,k,_,rt,it,st,nt,ut,ft)},M=(j,k,_,et,it,st,nt,ut,ft)=>{k.slotScopeIds=ut,j==null?k.shapeFlag&512?it.ctx.activate(k,_,et,nt,ft):D(k,_,et,it,st,nt,ft):F(j,k,ft)},D=(j,k,_,et,it,st,nt)=>{const ut=j.component=m1(j,et,it);if(lh(j)&&(ut.ctx.renderer=Z),g1(ut,!1,nt),ut.asyncDep){if(it&&it.registerDep(ut,L,nt),!j.el){const ft=ut.subTree=Ct(ai);s(null,ft,k,_)}}else L(ut,j,k,_,it,st,nt)},F=(j,k,_)=>{const et=k.component=j.component;if(o1(j,k,_))if(et.asyncDep&&!et.asyncResolved){O(et,k,_);return}else et.next=k,et.update();else k.el=j.el,et.vnode=k},L=(j,k,_,et,it,st,nt)=>{const ut=()=>{if(j.isMounted){let{next:lt,bu:dt,u:xt,parent:yt,vnode:At}=j;{const Nt=rm(j);if(Nt){lt&&(lt.el=At.el,O(j,lt,nt)),Nt.asyncDep.then(()=>{j.isUnmounted||ut()});return}}let Et=lt,Lt;an(j,!1),lt?(lt.el=At.el,O(j,lt,nt)):lt=At,dt&&ao(dt),(Lt=lt.props&&lt.props.onVnodeBeforeUpdate)&&Vi(Lt,yt,lt,At),an(j,!0);const zt=Kd(j),qt=j.subTree;j.subTree=zt,n(qt,zt,o(qt.el),z(qt),j,it,st),lt.el=zt.el,Et===null&&h1(j,zt.el),xt&&si(xt,it),(Lt=lt.props&&lt.props.onVnodeUpdated)&&si(()=>Vi(Lt,yt,lt,At),it)}else{let lt;const{el:dt,props:xt}=k,{bm:yt,m:At,parent:Et,root:Lt,type:zt}=j,qt=Qn(k);an(j,!1),yt&&ao(yt),!qt&&(lt=xt&&xt.onVnodeBeforeMount)&&Vi(lt,Et,k),an(j,!0);{Lt.ce&&Lt.ce._injectChildStyle(zt);const Nt=j.subTree=Kd(j);n(null,Nt,_,et,j,it,st),k.el=Nt.el}if(At&&si(At,it),!qt&&(lt=xt&&xt.onVnodeMounted)){const Nt=k;si(()=>Vi(lt,Et,Nt),it)}(k.shapeFlag&256||Et&&Qn(Et.vnode)&&Et.vnode.shapeFlag&256)&&j.a&&si(j.a,it),j.isMounted=!0,k=_=et=null}};j.scope.on();const ft=j.effect=new up(ut);j.scope.off();const ht=j.update=ft.run.bind(ft),rt=j.job=ft.runIfDirty.bind(ft);rt.i=j,rt.id=j.uid,ft.scheduler=()=>wu(rt),an(j,!0),ht()},O=(j,k,_)=>{k.component=j;const et=j.vnode.props;j.vnode=k,j.next=null,Ky(j,k.props,et,_),Jy(j,k.children,_),js(),Nd(j),Js()},B=(j,k,_,et,it,st,nt,ut,ft=!1)=>{const ht=j&&j.children,rt=j?j.shapeFlag:0,lt=k.children,{patchFlag:dt,shapeFlag:xt}=k;if(dt>0){if(dt&128){W(ht,lt,_,et,it,st,nt,ut,ft);return}else if(dt&256){U(ht,lt,_,et,it,st,nt,ut,ft);return}}xt&8?(rt&16&&b(ht,it,st),lt!==ht&&x(_,lt)):rt&16?xt&16?W(ht,lt,_,et,it,st,nt,ut,ft):b(ht,it,st,!0):(rt&8&&x(_,""),xt&16&&T(lt,_,et,it,st,nt,ut,ft))},U=(j,k,_,et,it,st,nt,ut,ft)=>{j=j||Hn,k=k||Hn;const ht=j.length,rt=k.length,lt=Math.min(ht,rt);let dt;for(dt=0;dt<lt;dt++){const xt=k[dt]=ft?ws(k[dt]):Xi(k[dt]);n(j[dt],xt,_,null,it,st,nt,ut,ft)}ht>rt?b(j,it,st,!0,!1,lt):T(k,_,et,it,st,nt,ut,ft,lt)},W=(j,k,_,et,it,st,nt,ut,ft)=>{let ht=0;const rt=k.length;let lt=j.length-1,dt=rt-1;for(;ht<=lt&&ht<=dt;){const xt=j[ht],yt=k[ht]=ft?ws(k[ht]):Xi(k[ht]);if(fn(xt,yt))n(xt,yt,_,null,it,st,nt,ut,ft);else break;ht++}for(;ht<=lt&&ht<=dt;){const xt=j[lt],yt=k[dt]=ft?ws(k[dt]):Xi(k[dt]);if(fn(xt,yt))n(xt,yt,_,null,it,st,nt,ut,ft);else break;lt--,dt--}if(ht>lt){if(ht<=dt){const xt=dt+1,yt=xt<rt?k[xt].el:et;for(;ht<=dt;)n(null,k[ht]=ft?ws(k[ht]):Xi(k[ht]),_,yt,it,st,nt,ut,ft),ht++}}else if(ht>dt)for(;ht<=lt;)Y(j[ht],it,st,!0),ht++;else{const xt=ht,yt=ht,At=new Map;for(ht=yt;ht<=dt;ht++){const jt=k[ht]=ft?ws(k[ht]):Xi(k[ht]);jt.key!=null&&At.set(jt.key,ht)}let Et,Lt=0;const zt=dt-yt+1;let qt=!1,Nt=0;const Zt=new Array(zt);for(ht=0;ht<zt;ht++)Zt[ht]=0;for(ht=xt;ht<=lt;ht++){const jt=j[ht];if(Lt>=zt){Y(jt,it,st,!0);continue}let Pe;if(jt.key!=null)Pe=At.get(jt.key);else for(Et=yt;Et<=dt;Et++)if(Zt[Et-yt]===0&&fn(jt,k[Et])){Pe=Et;break}Pe===void 0?Y(jt,it,st,!0):(Zt[Pe-yt]=ht+1,Pe>=Nt?Nt=Pe:qt=!0,n(jt,k[Pe],_,null,it,st,nt,ut,ft),Lt++)}const le=qt?_y(Zt):Hn;for(Et=le.length-1,ht=zt-1;ht>=0;ht--){const jt=yt+ht,Pe=k[jt],gi=jt+1<rt?k[jt+1].el:et;Zt[ht]===0?n(null,Pe,_,gi,it,st,nt,ut,ft):qt&&(Et<0||ht!==le[Et]?H(Pe,_,gi,2):Et--)}}},H=(j,k,_,et,it=null)=>{const{el:st,type:nt,transition:ut,children:ft,shapeFlag:ht}=j;if(ht&6){H(j.component.subTree,k,_,et);return}if(ht&128){j.suspense.move(k,_,et);return}if(ht&64){nt.move(j,k,_,Z);return}if(nt===de){C(st,k,_);for(let lt=0;lt<ft.length;lt++)H(ft[lt],k,_,et);C(j.anchor,k,_);return}if(nt===ol){f(j,k,_);return}if(et!==2&&ht&1&&ut)if(et===0)ut.beforeEnter(st),C(st,k,_),si(()=>ut.enter(st),it);else{const{leave:lt,delayLeave:dt,afterLeave:xt}=ut,yt=()=>C(st,k,_),At=()=>{lt(st,()=>{yt(),xt&&xt()})};dt?dt(st,yt,At):At()}else C(st,k,_)},Y=(j,k,_,et=!1,it=!1)=>{const{type:st,props:nt,ref:ut,children:ft,dynamicChildren:ht,shapeFlag:rt,patchFlag:lt,dirs:dt,cacheIndex:xt}=j;if(lt===-2&&(it=!1),ut!=null&&Io(ut,null,_,j,!0),xt!=null&&(k.renderCache[xt]=void 0),rt&256){k.ctx.deactivate(j);return}const yt=rt&1&&dt,At=!Qn(j);let Et;if(At&&(Et=nt&&nt.onVnodeBeforeUnmount)&&Vi(Et,k,j),rt&6)V(j.component,_,et);else{if(rt&128){j.suspense.unmount(_,et);return}yt&&rn(j,null,k,"beforeUnmount"),rt&64?j.type.remove(j,k,_,Z,et):ht&&!ht.hasOnce&&(st!==de||lt>0&&lt&64)?b(ht,k,_,!1,!0):(st===de&&lt&384||!it&&rt&16)&&b(ft,k,_),et&&G(j)}(At&&(Et=nt&&nt.onVnodeUnmounted)||yt)&&si(()=>{Et&&Vi(Et,k,j),yt&&rn(j,null,k,"unmounted")},_)},G=j=>{const{type:k,el:_,anchor:et,transition:it}=j;if(k===de){X(_,et);return}if(k===ol){d(j);return}const st=()=>{R(_),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(j.shapeFlag&1&&it&&!it.persisted){const{leave:nt,delayLeave:ut}=it,ft=()=>nt(_,st);ut?ut(j.el,st,ft):ft()}else st()},X=(j,k)=>{let _;for(;j!==k;)_=r(j),R(j),j=_;R(k)},V=(j,k,_)=>{const{bum:et,scope:it,job:st,subTree:nt,um:ut,m:ft,a:ht}=j;Hd(ft),Hd(ht),et&&ao(et),it.stop(),st&&(st.flags|=8,Y(nt,j,k,_)),ut&&si(ut,k),si(()=>{j.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},b=(j,k,_,et=!1,it=!1,st=0)=>{for(let nt=st;nt<j.length;nt++)Y(j[nt],k,_,et,it)},z=j=>{if(j.shapeFlag&6)return z(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const k=r(j.anchor||j.el),_=k&&k[Op];return _?r(_):k};let $=!1;const Q=(j,k,_)=>{j==null?k._vnode&&Y(k._vnode,null,null,!0):n(k._vnode||null,j,k,null,null,null,_),k._vnode=j,$||($=!0,Nd(),Lp(),$=!1)},Z={p:n,um:Y,m:H,r:G,mt:D,mc:T,pc:B,pbc:A,n:z,o:g};return{render:Q,hydrate:void 0,createApp:Xy(Q)}}function al({type:g,props:e},p){return p==="svg"&&g==="foreignObject"||p==="mathml"&&g==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:p}function an({effect:g,job:e},p){p?(g.flags|=32,e.flags|=4):(g.flags&=-33,e.flags&=-5)}function qy(g,e){return(!g||g&&!g.pendingBranch)&&e&&!e.persisted}function Iu(g,e,p=!1){const C=g.children,R=e.children;if(It(C)&&It(R))for(let I=0;I<C.length;I++){const c=C[I];let E=R[I];E.shapeFlag&1&&!E.dynamicChildren&&((E.patchFlag<=0||E.patchFlag===32)&&(E=R[I]=ws(R[I]),E.el=c.el),!p&&E.patchFlag!==-2&&Iu(c,E)),E.type===dh&&(E.el=c.el)}}function _y(g){const e=g.slice(),p=[0];let C,R,I,c,E;const t=g.length;for(C=0;C<t;C++){const h=g[C];if(h!==0){if(R=p[p.length-1],g[R]<h){e[C]=R,p.push(C);continue}for(I=0,c=p.length-1;I<c;)E=I+c>>1,g[p[E]]<h?I=E+1:c=E;h<g[p[I]]&&(I>0&&(e[C]=p[I-1]),p[I]=C)}}for(I=p.length,c=p[I-1];I-- >0;)p[I]=c,c=e[c];return p}function rm(g){const e=g.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:rm(e)}function Hd(g){if(g)for(let e=0;e<g.length;e++)g[e].flags|=8}const t1=Symbol.for("v-scx"),e1=()=>jn(t1);function i1(g,e){return Lu(g,null,{flush:"sync"})}function oi(g,e,p){return Lu(g,e,p)}function Lu(g,e,p=te){const{immediate:C,deep:R,flush:I,once:c}=p,E=De({},p),t=e&&C||!e&&I!=="post";let h;if(ra){if(I==="sync"){const a=e1();h=a.__watcherHandles||(a.__watcherHandles=[])}else if(!t){const a=()=>{};return a.stop=Wi,a.resume=Wi,a.pause=Wi,a}}const x=Be;E.call=(a,i,n)=>Di(a,x,i,n);let o=!1;I==="post"?E.scheduler=a=>{si(a,x&&x.suspense)}:I!=="sync"&&(o=!0,E.scheduler=(a,i)=>{i?a():wu(a)}),E.augmentJob=a=>{e&&(a.flags|=4),o&&(a.flags|=2,x&&(a.id=x.uid,a.i=x))};const r=cy(g,e,E);return ra&&(h?h.push(r):t&&r()),r}function s1(g,e,p){const C=this.proxy,R=Ce(g)?g.includes(".")?am(C,g):()=>C[g]:g.bind(C,C);let I;Gt(e)?I=e:(I=e.handler,p=e);const c=xa(this),E=Lu(R,I.bind(C),p);return c(),E}function am(g,e){const p=e.split(".");return()=>{let C=g;for(let R=0;R<p.length&&C;R++)C=C[p[R]];return C}}function Ni(g,e,p=te){const C=ch(),R=Fi(e),I=ps(e),c=om(g,R),E=ry((t,h)=>{let x,o=te,r;return i1(()=>{const a=g[R];ui(x,a)&&(x=a,h())}),{get(){return t(),p.get?p.get(x):x},set(a){const i=p.set?p.set(a):a;if(!ui(i,x)&&!(o!==te&&ui(a,o)))return;const n=C.vnode.props;n&&(e in n||R in n||I in n)&&(`onUpdate:${e}`in n||`onUpdate:${R}`in n||`onUpdate:${I}`in n)||(x=a,h()),C.emit(`update:${e}`,i),ui(a,i)&&ui(a,o)&&!ui(i,r)&&h(),o=a,r=i}}});return E[Symbol.iterator]=()=>{let t=0;return{next(){return t<2?{value:t++?c||te:E,done:!1}:{done:!0}}}},E}const om=(g,e)=>e==="modelValue"||e==="model-value"?g.modelModifiers:g[`${e}Modifiers`]||g[`${Fi(e)}Modifiers`]||g[`${ps(e)}Modifiers`];function n1(g,e,...p){if(g.isUnmounted)return;const C=g.vnode.props||te;let R=p;const I=e.startsWith("update:"),c=I&&om(C,e.slice(7));c&&(c.trim&&(R=p.map(x=>Ce(x)?x.trim():x)),c.number&&(R=p.map(Ao)));let E,t=C[E=_h(e)]||C[E=_h(Fi(e))];!t&&I&&(t=C[E=_h(ps(e))]),t&&Di(t,g,6,R);const h=C[E+"Once"];if(h){if(!g.emitted)g.emitted={};else if(g.emitted[E])return;g.emitted[E]=!0,Di(h,g,6,R)}}function hm(g,e,p=!1){const C=e.emitsCache,R=C.get(g);if(R!==void 0)return R;const I=g.emits;let c={},E=!1;if(!Gt(g)){const t=h=>{const x=hm(h,e,!0);x&&(E=!0,De(c,x))};!p&&e.mixins.length&&e.mixins.forEach(t),g.extends&&t(g.extends),g.mixins&&g.mixins.forEach(t)}return!I&&!E?(ue(g)&&C.set(g,null),null):(It(I)?I.forEach(t=>c[t]=null):De(c,I),ue(g)&&C.set(g,c),c)}function fh(g,e){return!g||!eh(e)?!1:(e=e.slice(2).replace(/Once$/,""),ie(g,e[0].toLowerCase()+e.slice(1))||ie(g,ps(e))||ie(g,e))}function Kd(g){const{type:e,vnode:p,proxy:C,withProxy:R,propsOptions:[I],slots:c,attrs:E,emit:t,render:h,renderCache:x,props:o,data:r,setupState:a,ctx:i,inheritAttrs:n}=g,l=Mo(g);let s,u;try{if(p.shapeFlag&4){const d=R||C,v=d;s=Xi(h.call(v,d,x,o,a,r,i)),u=E}else{const d=e;s=Xi(d.length>1?d(o,{attrs:E,slots:c,emit:t}):d(o,null)),u=e.props?E:r1(E)}}catch(d){Hr.length=0,oh(d,g,1),s=Ct(ai)}let f=s;if(u&&n!==!1){const d=Object.keys(u),{shapeFlag:v}=f;d.length&&v&7&&(I&&d.some(vu)&&(u=a1(u,I)),f=Us(f,u,!1,!0))}return p.dirs&&(f=Us(f,null,!1,!0),f.dirs=f.dirs?f.dirs.concat(p.dirs):p.dirs),p.transition&&ia(f,p.transition),s=f,Mo(l),s}const r1=g=>{let e;for(const p in g)(p==="class"||p==="style"||eh(p))&&((e||(e={}))[p]=g[p]);return e},a1=(g,e)=>{const p={};for(const C in g)(!vu(C)||!(C.slice(9)in e))&&(p[C]=g[C]);return p};function o1(g,e,p){const{props:C,children:R,component:I}=g,{props:c,children:E,patchFlag:t}=e,h=I.emitsOptions;if(e.dirs||e.transition)return!0;if(p&&t>=0){if(t&1024)return!0;if(t&16)return C?$d(C,c,h):!!c;if(t&8){const x=e.dynamicProps;for(let o=0;o<x.length;o++){const r=x[o];if(c[r]!==C[r]&&!fh(h,r))return!0}}}else return(R||E)&&(!E||!E.$stable)?!0:C===c?!1:C?c?$d(C,c,h):!0:!!c;return!1}function $d(g,e,p){const C=Object.keys(e);if(C.length!==Object.keys(g).length)return!0;for(let R=0;R<C.length;R++){const I=C[R];if(e[I]!==g[I]&&!fh(p,I))return!0}return!1}function h1({vnode:g,parent:e},p){for(;e;){const C=e.subTree;if(C.suspense&&C.suspense.activeBranch===g&&(C.el=g.el),C===g)(g=e.vnode).el=p,e=e.parent;else break}}const lm=g=>g.__isSuspense;function l1(g,e){e&&e.pendingBranch?It(g)?e.effects.push(...g):e.effects.push(g):my(g)}const de=Symbol.for("v-fgt"),dh=Symbol.for("v-txt"),ai=Symbol.for("v-cmt"),ol=Symbol.for("v-stc"),Hr=[];let pi=null;function gt(g=!1){Hr.push(pi=g?null:[])}function u1(){Hr.pop(),pi=Hr[Hr.length-1]||null}let sa=1;function Qd(g,e=!1){sa+=g,g<0&&pi&&e&&(pi.hasOnce=!0)}function um(g){return g.dynamicChildren=sa>0?pi||Hn:null,u1(),sa>0&&pi&&pi.push(g),g}function Tt(g,e,p,C,R,I){return um(Mt(g,e,p,C,R,I,!0))}function Ie(g,e,p,C,R){return um(Ct(g,e,p,C,R,!0))}function na(g){return g?g.__v_isVNode===!0:!1}function fn(g,e){return g.type===e.type&&g.key===e.key}const fm=({key:g})=>g??null,ho=({ref:g,ref_key:e,ref_for:p})=>(typeof g=="number"&&(g=""+g),g!=null?Ce(g)||oe(g)||Gt(g)?{i:Le,r:g,k:e,f:!!p}:g:null);function Mt(g,e=null,p=null,C=0,R=null,I=g===de?0:1,c=!1,E=!1){const t={__v_isVNode:!0,__v_skip:!0,type:g,props:e,key:e&&fm(e),ref:e&&ho(e),scopeId:Dp,slotScopeIds:null,children:p,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:I,patchFlag:C,dynamicProps:R,dynamicChildren:null,appContext:null,ctx:Le};return E?(Fu(t,p),I&128&&g.normalize(t)):p&&(t.shapeFlag|=Ce(p)?8:16),sa>0&&!c&&pi&&(t.patchFlag>0||I&6)&&t.patchFlag!==32&&pi.push(t),t}const Ct=f1;function f1(g,e=null,p=null,C=0,R=null,I=!1){if((!g||g===Fy)&&(g=ai),na(g)){const E=Us(g,e,!0);return p&&Fu(E,p),sa>0&&!I&&pi&&(E.shapeFlag&6?pi[pi.indexOf(g)]=E:pi.push(E)),E.patchFlag=-2,E}if(T1(g)&&(g=g.__vccOpts),e){e=d1(e);let{class:E,style:t}=e;E&&!Ce(E)&&(e.class=kt(E)),ue(t)&&(Au(t)&&!It(t)&&(t=De({},t)),e.style=Ye(t))}const c=Ce(g)?1:lm(g)?128:Np(g)?64:ue(g)?4:Gt(g)?2:0;return Mt(g,e,p,C,R,c,I,!0)}function d1(g){return g?Au(g)||qp(g)?De({},g):g:null}function Us(g,e,p=!1,C=!1){const{props:R,ref:I,patchFlag:c,children:E,transition:t}=g,h=e?c1(R||{},e):R,x={__v_isVNode:!0,__v_skip:!0,type:g.type,props:h,key:h&&fm(h),ref:e&&e.ref?p&&I?It(I)?I.concat(ho(e)):[I,ho(e)]:ho(e):I,scopeId:g.scopeId,slotScopeIds:g.slotScopeIds,children:E,target:g.target,targetStart:g.targetStart,targetAnchor:g.targetAnchor,staticCount:g.staticCount,shapeFlag:g.shapeFlag,patchFlag:e&&g.type!==de?c===-1?16:c|16:c,dynamicProps:g.dynamicProps,dynamicChildren:g.dynamicChildren,appContext:g.appContext,dirs:g.dirs,transition:t,component:g.component,suspense:g.suspense,ssContent:g.ssContent&&Us(g.ssContent),ssFallback:g.ssFallback&&Us(g.ssFallback),el:g.el,anchor:g.anchor,ctx:g.ctx,ce:g.ce};return t&&C&&ia(x,t.clone(x)),x}function se(g=" ",e=0){return Ct(dh,null,g,e)}function Yt(g="",e=!1){return e?(gt(),Ie(ai,null,g)):Ct(ai,null,g)}function Xi(g){return g==null||typeof g=="boolean"?Ct(ai):It(g)?Ct(de,null,g.slice()):na(g)?ws(g):Ct(dh,null,String(g))}function ws(g){return g.el===null&&g.patchFlag!==-1||g.memo?g:Us(g)}function Fu(g,e){let p=0;const{shapeFlag:C}=g;if(e==null)e=null;else if(It(e))p=16;else if(typeof e=="object")if(C&65){const R=e.default;R&&(R._c&&(R._d=!1),Fu(g,R()),R._c&&(R._d=!0));return}else{p=32;const R=e._;!R&&!qp(e)?e._ctx=Le:R===3&&Le&&(Le.slots._===1?e._=1:(e._=2,g.patchFlag|=1024))}else Gt(e)?(e={default:e,_ctx:Le},p=32):(e=String(e),C&64?(p=16,e=[se(e)]):p=8);g.children=e,g.shapeFlag|=p}function c1(...g){const e={};for(let p=0;p<g.length;p++){const C=g[p];for(const R in C)if(R==="class")e.class!==C.class&&(e.class=kt([e.class,C.class]));else if(R==="style")e.style=Ye([e.style,C.style]);else if(eh(R)){const I=e[R],c=C[R];c&&I!==c&&!(It(I)&&I.includes(c))&&(e[R]=I?[].concat(I,c):c)}else R!==""&&(e[R]=C[R])}return e}function Vi(g,e,p,C=null){Di(g,e,7,[p,C])}const v1=Jp();let p1=0;function m1(g,e,p){const C=g.type,R=(e?e.appContext:g.appContext)||v1,I={uid:p1++,vnode:g,type:C,parent:e,appContext:R,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new op(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(R.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tm(C,R),emitsOptions:hm(C,R),emit:null,emitted:null,propsDefaults:te,inheritAttrs:C.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:p,suspenseId:p?p.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return I.ctx={_:I},I.root=e?e.root:I,I.emit=n1.bind(null,I),g.ce&&g.ce(I),I}let Be=null;const ch=()=>Be||Le;let Do,Vl;{const g=sh(),e=(p,C)=>{let R;return(R=g[p])||(R=g[p]=[]),R.push(C),I=>{R.length>1?R.forEach(c=>c(I)):R[0](I)}};Do=e("__VUE_INSTANCE_SETTERS__",p=>Be=p),Vl=e("__VUE_SSR_SETTERS__",p=>ra=p)}const xa=g=>{const e=Be;return Do(g),g.scope.on(),()=>{g.scope.off(),Do(e)}},jd=()=>{Be&&Be.scope.off(),Do(null)};function dm(g){return g.vnode.shapeFlag&4}let ra=!1;function g1(g,e=!1,p=!1){e&&Vl(e);const{props:C,children:R}=g.vnode,I=dm(g);Hy(g,C,I,e),jy(g,R,p);const c=I?x1(g,e):void 0;return e&&Vl(!1),c}function x1(g,e){const p=g.type;g.accessCache=Object.create(null),g.proxy=new Proxy(g.ctx,Oy);const{setup:C}=p;if(C){js();const R=g.setupContext=C.length>1?vm(g):null,I=xa(g),c=ga(C,g,0,[g.props,R]),E=tp(c);if(Js(),I(),(E||g.sp)&&!Qn(g)&&Wp(g),E){if(c.then(jd,jd),e)return c.then(t=>{Jd(g,t)}).catch(t=>{oh(t,g,0)});g.asyncDep=c}else Jd(g,c)}else cm(g)}function Jd(g,e,p){Gt(e)?g.type.__ssrInlineRender?g.ssrRender=e:g.render=e:ue(e)&&(g.setupState=Rp(e)),cm(g)}function cm(g,e,p){const C=g.type;g.render||(g.render=C.render||Wi);{const R=xa(g);js();try{By(g)}finally{Js(),R()}}}const y1={get(g,e){return Je(g,"get",""),g[e]}};function vm(g){const e=p=>{g.exposed=p||{}};return{attrs:new Proxy(g.attrs,y1),slots:g.slots,emit:g.emit,expose:e}}function vh(g){return g.exposed?g.exposeProxy||(g.exposeProxy=new Proxy(Rp(Pu(g.exposed)),{get(e,p){if(p in e)return e[p];if(p in Yr)return Yr[p](g)},has(e,p){return p in e||p in Yr}})):g.proxy}function T1(g){return Gt(g)&&"__vccOpts"in g}const Ft=(g,e)=>fy(g,e,ra);function S1(g,e,p){const C=arguments.length;return C===2?ue(e)&&!It(e)?na(e)?Ct(g,null,[e]):Ct(g,e):Ct(g,null,e):(C>3?p=Array.prototype.slice.call(arguments,2):C===3&&na(p)&&(p=[p]),Ct(g,e,p))}const E1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gl;const Zd=typeof window<"u"&&window.trustedTypes;if(Zd)try{Gl=Zd.createPolicy("vue",{createHTML:g=>g})}catch{}const pm=Gl?g=>Gl.createHTML(g):g=>g,C1="http://www.w3.org/2000/svg",A1="http://www.w3.org/1998/Math/MathML",ts=typeof document<"u"?document:null,kd=ts&&ts.createElement("template"),P1={insert:(g,e,p)=>{e.insertBefore(g,p||null)},remove:g=>{const e=g.parentNode;e&&e.removeChild(g)},createElement:(g,e,p,C)=>{const R=e==="svg"?ts.createElementNS(C1,g):e==="mathml"?ts.createElementNS(A1,g):p?ts.createElement(g,{is:p}):ts.createElement(g);return g==="select"&&C&&C.multiple!=null&&R.setAttribute("multiple",C.multiple),R},createText:g=>ts.createTextNode(g),createComment:g=>ts.createComment(g),setText:(g,e)=>{g.nodeValue=e},setElementText:(g,e)=>{g.textContent=e},parentNode:g=>g.parentNode,nextSibling:g=>g.nextSibling,querySelector:g=>ts.querySelector(g),setScopeId(g,e){g.setAttribute(e,"")},insertStaticContent(g,e,p,C,R,I){const c=p?p.previousSibling:e.lastChild;if(R&&(R===I||R.nextSibling))for(;e.insertBefore(R.cloneNode(!0),p),!(R===I||!(R=R.nextSibling)););else{kd.innerHTML=pm(C==="svg"?`<svg>${g}</svg>`:C==="mathml"?`<math>${g}</math>`:g);const E=kd.content;if(C==="svg"||C==="mathml"){const t=E.firstChild;for(;t.firstChild;)E.appendChild(t.firstChild);E.removeChild(t)}e.insertBefore(E,p)}return[c?c.nextSibling:e.firstChild,p?p.previousSibling:e.lastChild]}},Es="transition",Fr="animation",aa=Symbol("_vtc"),mm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},R1=De({},Vp,mm),w1=g=>(g.displayName="Transition",g.props=R1,g),M1=w1((g,{slots:e})=>S1(Ty,I1(g),e)),on=(g,e=[])=>{It(g)?g.forEach(p=>p(...e)):g&&g(...e)},qd=g=>g?It(g)?g.some(e=>e.length>1):g.length>1:!1;function I1(g){const e={};for(const w in g)w in mm||(e[w]=g[w]);if(g.css===!1)return e;const{name:p="v",type:C,duration:R,enterFromClass:I=`${p}-enter-from`,enterActiveClass:c=`${p}-enter-active`,enterToClass:E=`${p}-enter-to`,appearFromClass:t=I,appearActiveClass:h=c,appearToClass:x=E,leaveFromClass:o=`${p}-leave-from`,leaveActiveClass:r=`${p}-leave-active`,leaveToClass:a=`${p}-leave-to`}=g,i=L1(R),n=i&&i[0],l=i&&i[1],{onBeforeEnter:s,onEnter:u,onEnterCancelled:f,onLeave:d,onLeaveCancelled:v,onBeforeAppear:m=s,onAppear:y=u,onAppearCancelled:T=f}=e,S=(w,M,D,F)=>{w._enterCancelled=F,hn(w,M?x:E),hn(w,M?h:c),D&&D()},A=(w,M)=>{w._isLeaving=!1,hn(w,o),hn(w,a),hn(w,r),M&&M()},P=w=>(M,D)=>{const F=w?y:u,L=()=>S(M,w,D);on(F,[M,L]),_d(()=>{hn(M,w?t:I),_i(M,w?x:E),qd(F)||tc(M,C,n,L)})};return De(e,{onBeforeEnter(w){on(s,[w]),_i(w,I),_i(w,c)},onBeforeAppear(w){on(m,[w]),_i(w,t),_i(w,h)},onEnter:P(!1),onAppear:P(!0),onLeave(w,M){w._isLeaving=!0;const D=()=>A(w,M);_i(w,o),w._enterCancelled?(_i(w,r),sc()):(sc(),_i(w,r)),_d(()=>{w._isLeaving&&(hn(w,o),_i(w,a),qd(d)||tc(w,C,l,D))}),on(d,[w,D])},onEnterCancelled(w){S(w,!1,void 0,!0),on(f,[w])},onAppearCancelled(w){S(w,!0,void 0,!0),on(T,[w])},onLeaveCancelled(w){A(w),on(v,[w])}})}function L1(g){if(g==null)return null;if(ue(g))return[hl(g.enter),hl(g.leave)];{const e=hl(g);return[e,e]}}function hl(g){return Rx(g)}function _i(g,e){e.split(/\s+/).forEach(p=>p&&g.classList.add(p)),(g[aa]||(g[aa]=new Set)).add(e)}function hn(g,e){e.split(/\s+/).forEach(C=>C&&g.classList.remove(C));const p=g[aa];p&&(p.delete(e),p.size||(g[aa]=void 0))}function _d(g){requestAnimationFrame(()=>{requestAnimationFrame(g)})}let F1=0;function tc(g,e,p,C){const R=g._endId=++F1,I=()=>{R===g._endId&&C()};if(p!=null)return setTimeout(I,p);const{type:c,timeout:E,propCount:t}=D1(g,e);if(!c)return C();const h=c+"end";let x=0;const o=()=>{g.removeEventListener(h,r),I()},r=a=>{a.target===g&&++x>=t&&o()};setTimeout(()=>{x<t&&o()},E+1),g.addEventListener(h,r)}function D1(g,e){const p=window.getComputedStyle(g),C=i=>(p[i]||"").split(", "),R=C(`${Es}Delay`),I=C(`${Es}Duration`),c=ec(R,I),E=C(`${Fr}Delay`),t=C(`${Fr}Duration`),h=ec(E,t);let x=null,o=0,r=0;e===Es?c>0&&(x=Es,o=c,r=I.length):e===Fr?h>0&&(x=Fr,o=h,r=t.length):(o=Math.max(c,h),x=o>0?c>h?Es:Fr:null,r=x?x===Es?I.length:t.length:0);const a=x===Es&&/\b(transform|all)(,|$)/.test(C(`${Es}Property`).toString());return{type:x,timeout:o,propCount:r,hasTransform:a}}function ec(g,e){for(;g.length<e.length;)g=g.concat(g);return Math.max(...e.map((p,C)=>ic(p)+ic(g[C])))}function ic(g){return g==="auto"?0:Number(g.slice(0,-1).replace(",","."))*1e3}function sc(){return document.body.offsetHeight}function O1(g,e,p){const C=g[aa];C&&(e=(e?[e,...C]:[...C]).join(" ")),e==null?g.removeAttribute("class"):p?g.setAttribute("class",e):g.className=e}const nc=Symbol("_vod"),N1=Symbol("_vsh"),B1=Symbol(""),b1=/(^|;)\s*display\s*:/;function V1(g,e,p){const C=g.style,R=Ce(p);let I=!1;if(p&&!R){if(e)if(Ce(e))for(const c of e.split(";")){const E=c.slice(0,c.indexOf(":")).trim();p[E]==null&&lo(C,E,"")}else for(const c in e)p[c]==null&&lo(C,c,"");for(const c in p)c==="display"&&(I=!0),lo(C,c,p[c])}else if(R){if(e!==p){const c=C[B1];c&&(p+=";"+c),C.cssText=p,I=b1.test(p)}}else e&&g.removeAttribute("style");nc in g&&(g[nc]=I?C.display:"",g[N1]&&(C.display="none"))}const rc=/\s*!important$/;function lo(g,e,p){if(It(p))p.forEach(C=>lo(g,e,C));else if(p==null&&(p=""),e.startsWith("--"))g.setProperty(e,p);else{const C=G1(g,e);rc.test(p)?g.setProperty(ps(C),p.replace(rc,""),"important"):g[C]=p}}const ac=["Webkit","Moz","ms"],ll={};function G1(g,e){const p=ll[e];if(p)return p;let C=Fi(e);if(C!=="filter"&&C in g)return ll[e]=C;C=gu(C);for(let R=0;R<ac.length;R++){const I=ac[R]+C;if(I in g)return ll[e]=I}return e}const oc="http://www.w3.org/1999/xlink";function hc(g,e,p,C,R,I=Dx(e)){C&&e.startsWith("xlink:")?p==null?g.removeAttributeNS(oc,e.slice(6,e.length)):g.setAttributeNS(oc,e,p):p==null||I&&!np(p)?g.removeAttribute(e):g.setAttribute(e,I?"":Li(p)?String(p):p)}function lc(g,e,p,C,R){if(e==="innerHTML"||e==="textContent"){p!=null&&(g[e]=e==="innerHTML"?pm(p):p);return}const I=g.tagName;if(e==="value"&&I!=="PROGRESS"&&!I.includes("-")){const E=I==="OPTION"?g.getAttribute("value")||"":g.value,t=p==null?g.type==="checkbox"?"on":"":String(p);(E!==t||!("_value"in g))&&(g.value=t),p==null&&g.removeAttribute(e),g._value=p;return}let c=!1;if(p===""||p==null){const E=typeof g[e];E==="boolean"?p=np(p):p==null&&E==="string"?(p="",c=!0):E==="number"&&(p=0,c=!0)}try{g[e]=p}catch{}c&&g.removeAttribute(R||e)}function ns(g,e,p,C){g.addEventListener(e,p,C)}function U1(g,e,p,C){g.removeEventListener(e,p,C)}const uc=Symbol("_vei");function z1(g,e,p,C,R=null){const I=g[uc]||(g[uc]={}),c=I[e];if(C&&c)c.value=C;else{const[E,t]=X1(e);if(C){const h=I[e]=H1(C,R);ns(g,E,h,t)}else c&&(U1(g,E,c,t),I[e]=void 0)}}const fc=/(?:Once|Passive|Capture)$/;function X1(g){let e;if(fc.test(g)){e={};let C;for(;C=g.match(fc);)g=g.slice(0,g.length-C[0].length),e[C[0].toLowerCase()]=!0}return[g[2]===":"?g.slice(3):ps(g.slice(2)),e]}let ul=0;const W1=Promise.resolve(),Y1=()=>ul||(W1.then(()=>ul=0),ul=Date.now());function H1(g,e){const p=C=>{if(!C._vts)C._vts=Date.now();else if(C._vts<=p.attached)return;Di(K1(C,p.value),e,5,[C])};return p.value=g,p.attached=Y1(),p}function K1(g,e){if(It(e)){const p=g.stopImmediatePropagation;return g.stopImmediatePropagation=()=>{p.call(g),g._stopped=!0},e.map(C=>R=>!R._stopped&&C&&C(R))}else return e}const dc=g=>g.charCodeAt(0)===111&&g.charCodeAt(1)===110&&g.charCodeAt(2)>96&&g.charCodeAt(2)<123,$1=(g,e,p,C,R,I)=>{const c=R==="svg";e==="class"?O1(g,C,c):e==="style"?V1(g,p,C):eh(e)?vu(e)||z1(g,e,p,C,I):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Q1(g,e,C,c))?(lc(g,e,C),!g.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hc(g,e,C,c,I,e!=="value")):g._isVueCE&&(/[A-Z]/.test(e)||!Ce(C))?lc(g,Fi(e),C,I,e):(e==="true-value"?g._trueValue=C:e==="false-value"&&(g._falseValue=C),hc(g,e,C,c))};function Q1(g,e,p,C){if(C)return!!(e==="innerHTML"||e==="textContent"||e in g&&dc(e)&&Gt(p));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&g.tagName==="INPUT"||e==="type"&&g.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const R=g.tagName;if(R==="IMG"||R==="VIDEO"||R==="CANVAS"||R==="SOURCE")return!1}return dc(e)&&Ce(p)?!1:e in g}const zs=g=>{const e=g.props["onUpdate:modelValue"]||!1;return It(e)?p=>ao(e,p):e};function j1(g){g.target.composing=!0}function cc(g){const e=g.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ti=Symbol("_assign"),_n={created(g,{modifiers:{lazy:e,trim:p,number:C}},R){g[Ti]=zs(R);const I=C||R.props&&R.props.type==="number";ns(g,e?"change":"input",c=>{if(c.target.composing)return;let E=g.value;p&&(E=E.trim()),I&&(E=Ao(E)),g[Ti](E)}),p&&ns(g,"change",()=>{g.value=g.value.trim()}),e||(ns(g,"compositionstart",j1),ns(g,"compositionend",cc),ns(g,"change",cc))},mounted(g,{value:e}){g.value=e??""},beforeUpdate(g,{value:e,oldValue:p,modifiers:{lazy:C,trim:R,number:I}},c){if(g[Ti]=zs(c),g.composing)return;const E=(I||g.type==="number")&&!/^0\d/.test(g.value)?Ao(g.value):g.value,t=e??"";E!==t&&(document.activeElement===g&&g.type!=="range"&&(C&&e===p||R&&g.value.trim()===t)||(g.value=t))}},Du={deep:!0,created(g,e,p){g[Ti]=zs(p),ns(g,"change",()=>{const C=g._modelValue,R=tr(g),I=g.checked,c=g[Ti];if(It(C)){const E=xu(C,R),t=E!==-1;if(I&&!t)c(C.concat(R));else if(!I&&t){const h=[...C];h.splice(E,1),c(h)}}else if(lr(C)){const E=new Set(C);I?E.add(R):E.delete(R),c(E)}else c(xm(g,I))})},mounted:vc,beforeUpdate(g,e,p){g[Ti]=zs(p),vc(g,e,p)}};function vc(g,{value:e,oldValue:p},C){g._modelValue=e;let R;if(It(e))R=xu(e,C.props.value)>-1;else if(lr(e))R=e.has(C.props.value);else{if(e===p)return;R=xn(e,xm(g,!0))}g.checked!==R&&(g.checked=R)}const J1={created(g,{value:e},p){g.checked=xn(e,p.props.value),g[Ti]=zs(p),ns(g,"change",()=>{g[Ti](tr(g))})},beforeUpdate(g,{value:e,oldValue:p},C){g[Ti]=zs(C),e!==p&&(g.checked=xn(e,C.props.value))}},gm={deep:!0,created(g,{value:e,modifiers:{number:p}},C){const R=lr(e);ns(g,"change",()=>{const I=Array.prototype.filter.call(g.options,c=>c.selected).map(c=>p?Ao(tr(c)):tr(c));g[Ti](g.multiple?R?new Set(I):I:I[0]),g._assigning=!0,Ru(()=>{g._assigning=!1})}),g[Ti]=zs(C)},mounted(g,{value:e}){pc(g,e)},beforeUpdate(g,e,p){g[Ti]=zs(p)},updated(g,{value:e}){g._assigning||pc(g,e)}};function pc(g,e){const p=g.multiple,C=It(e);if(!(p&&!C&&!lr(e))){for(let R=0,I=g.options.length;R<I;R++){const c=g.options[R],E=tr(c);if(p)if(C){const t=typeof E;t==="string"||t==="number"?c.selected=e.some(h=>String(h)===String(E)):c.selected=xu(e,E)>-1}else c.selected=e.has(E);else if(xn(tr(c),e)){g.selectedIndex!==R&&(g.selectedIndex=R);return}}!p&&g.selectedIndex!==-1&&(g.selectedIndex=-1)}}function tr(g){return"_value"in g?g._value:g.value}function xm(g,e){const p=e?"_trueValue":"_falseValue";return p in g?g[p]:e}const Z1={created(g,e,p){ka(g,e,p,null,"created")},mounted(g,e,p){ka(g,e,p,null,"mounted")},beforeUpdate(g,e,p,C){ka(g,e,p,C,"beforeUpdate")},updated(g,e,p,C){ka(g,e,p,C,"updated")}};function k1(g,e){switch(g){case"SELECT":return gm;case"TEXTAREA":return _n;default:switch(e){case"checkbox":return Du;case"radio":return J1;default:return _n}}}function ka(g,e,p,C,R){const c=k1(g.tagName,p.props&&p.props.type)[R];c&&c(g,e,p,C)}const q1=["ctrl","shift","alt","meta"],_1={stop:g=>g.stopPropagation(),prevent:g=>g.preventDefault(),self:g=>g.target!==g.currentTarget,ctrl:g=>!g.ctrlKey,shift:g=>!g.shiftKey,alt:g=>!g.altKey,meta:g=>!g.metaKey,left:g=>"button"in g&&g.button!==0,middle:g=>"button"in g&&g.button!==1,right:g=>"button"in g&&g.button!==2,exact:(g,e)=>q1.some(p=>g[`${p}Key`]&&!e.includes(p))},ya=(g,e)=>{const p=g._withMods||(g._withMods={}),C=e.join(".");return p[C]||(p[C]=(R,...I)=>{for(let c=0;c<e.length;c++){const E=_1[e[c]];if(E&&E(R,e))return}return g(R,...I)})},tT={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},eT=(g,e)=>{const p=g._withKeys||(g._withKeys={}),C=e.join(".");return p[C]||(p[C]=R=>{if(!("key"in R))return;const I=ps(R.key);if(e.some(c=>c===I||tT[c]===I))return g(R)})},iT=De({patchProp:$1},P1);let mc;function sT(){return mc||(mc=Zy(iT))}const nT=(...g)=>{const e=sT().createApp(...g),{mount:p}=e;return e.mount=C=>{const R=aT(C);if(!R)return;const I=e._component;!Gt(I)&&!I.render&&!I.template&&(I.template=R.innerHTML),R.nodeType===1&&(R.textContent="");const c=p(R,!1,rT(R));return R instanceof Element&&(R.removeAttribute("v-cloak"),R.setAttribute("data-v-app","")),c},e};function rT(g){if(g instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&g instanceof MathMLElement)return"mathml"}function aT(g){return Ce(g)?document.querySelector(g):g}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ym;const ph=g=>ym=g,Tm=Symbol();function Ul(g){return g&&typeof g=="object"&&Object.prototype.toString.call(g)==="[object Object]"&&typeof g.toJSON!="function"}var Kr;(function(g){g.direct="direct",g.patchObject="patch object",g.patchFunction="patch function"})(Kr||(Kr={}));function oT(){const g=hp(!0),e=g.run(()=>Bt({}));let p=[],C=[];const R=Pu({install(I){ph(R),R._a=I,I.provide(Tm,R),I.config.globalProperties.$pinia=R,C.forEach(c=>p.push(c)),C=[]},use(I){return this._a?p.push(I):C.push(I),this},_p:p,_a:null,_e:g,_s:new Map,state:e});return R}const Sm=()=>{};function gc(g,e,p,C=Sm){g.push(e);const R=()=>{const I=g.indexOf(e);I>-1&&(g.splice(I,1),C())};return!p&&lp()&&Nx(R),R}function Vn(g,...e){g.slice().forEach(p=>{p(...e)})}const hT=g=>g(),xc=Symbol(),fl=Symbol();function zl(g,e){g instanceof Map&&e instanceof Map?e.forEach((p,C)=>g.set(C,p)):g instanceof Set&&e instanceof Set&&e.forEach(g.add,g);for(const p in e){if(!e.hasOwnProperty(p))continue;const C=e[p],R=g[p];Ul(R)&&Ul(C)&&g.hasOwnProperty(p)&&!oe(C)&&!ls(C)?g[p]=zl(R,C):g[p]=C}return g}const lT=Symbol();function uT(g){return!Ul(g)||!g.hasOwnProperty(lT)}const{assign:As}=Object;function fT(g){return!!(oe(g)&&g.effect)}function dT(g,e,p,C){const{state:R,actions:I,getters:c}=e,E=p.state.value[g];let t;function h(){E||(p.state.value[g]=R?R():{});const x=ay(p.state.value[g]);return As(x,I,Object.keys(c||{}).reduce((o,r)=>(o[r]=Pu(Ft(()=>{ph(p);const a=p._s.get(g);return c[r].call(a,a)})),o),{}))}return t=Em(g,h,e,p,C,!0),t}function Em(g,e,p={},C,R,I){let c;const E=As({actions:{}},p),t={deep:!0};let h,x,o=[],r=[],a;const i=C.state.value[g];!I&&!i&&(C.state.value[g]={}),Bt({});let n;function l(T){let S;h=x=!1,typeof T=="function"?(T(C.state.value[g]),S={type:Kr.patchFunction,storeId:g,events:a}):(zl(C.state.value[g],T),S={type:Kr.patchObject,payload:T,storeId:g,events:a});const A=n=Symbol();Ru().then(()=>{n===A&&(h=!0)}),x=!0,Vn(o,S,C.state.value[g])}const s=I?function(){const{state:S}=p,A=S?S():{};this.$patch(P=>{As(P,A)})}:Sm;function u(){c.stop(),o=[],r=[],C._s.delete(g)}const f=(T,S="")=>{if(xc in T)return T[fl]=S,T;const A=function(){ph(C);const P=Array.from(arguments),w=[],M=[];function D(O){w.push(O)}function F(O){M.push(O)}Vn(r,{args:P,name:A[fl],store:v,after:D,onError:F});let L;try{L=T.apply(this&&this.$id===g?this:v,P)}catch(O){throw Vn(M,O),O}return L instanceof Promise?L.then(O=>(Vn(w,O),O)).catch(O=>(Vn(M,O),Promise.reject(O))):(Vn(w,L),L)};return A[xc]=!0,A[fl]=S,A},d={_p:C,$id:g,$onAction:gc.bind(null,r),$patch:l,$reset:s,$subscribe(T,S={}){const A=gc(o,T,S.detached,()=>P()),P=c.run(()=>oi(()=>C.state.value[g],w=>{(S.flush==="sync"?x:h)&&T({storeId:g,type:Kr.direct,events:a},w)},As({},t,S)));return A},$dispose:u},v=ah(d);C._s.set(g,v);const y=(C._a&&C._a.runWithContext||hT)(()=>C._e.run(()=>(c=hp()).run(()=>e({action:f}))));for(const T in y){const S=y[T];if(oe(S)&&!fT(S)||ls(S))I||(i&&uT(S)&&(oe(S)?S.value=i[T]:zl(S,i[T])),C.state.value[g][T]=S);else if(typeof S=="function"){const A=f(S,T);y[T]=A,E.actions[T]=S}}return As(v,y),As($t(v),y),Object.defineProperty(v,"$state",{get:()=>C.state.value[g],set:T=>{l(S=>{As(S,T)})}}),C._p.forEach(T=>{As(v,c.run(()=>T({store:v,app:C._a,pinia:C,options:E})))}),i&&I&&p.hydrate&&p.hydrate(v.$state,i),h=!0,x=!0,v}/*! #__NO_SIDE_EFFECTS__ */function Mn(g,e,p){let C;const R=typeof e=="function";C=R?p:e;function I(c,E){const t=Yy();return c=c||(t?jn(Tm,null):null),c&&ph(c),c=ym,c._s.has(g)||(R?Em(g,e,C,c):dT(g,C,c)),c._s.get(g)}return I.$id=g,I}function We(g){const e=$t(g),p={};for(const C in e){const R=e[C];R.effect?p[C]=Ft({get:()=>g[C],set(I){g[C]=I}}):(oe(R)||ls(R))&&(p[C]=ly(g,C))}return p}const cT={beforeMount(g,e){const p=R=>{!g.contains(R.target)&&typeof e.value=="function"&&e.value(R)},C=g.ownerDocument||document;g.__clickOutsideHandler__=p,C.addEventListener("click",p,e.modifiers.capture)},beforeUnmount(g,e){g.__clickOutsideHandler__&&((g.ownerDocument||document).removeEventListener("click",g.__clickOutsideHandler__,e.modifiers.capture),delete g.__clickOutsideHandler__)}},vT={install:(g,e={})=>{g.directive("click-outside",cT),g.provide("libEnv",e)}};var ae=(g=>(g.Top="top",g.TopLeft="top-left",g.TopRight="top-right",g.Bottom="bottom",g.BottomLeft="bottom-left",g.BottomRight="bottom-right",g.Left="left",g.Right="right",g))(ae||{}),he=(g=>(g.Default="default",g.Primary="primary",g.Secondary="secondary",g.Success="success",g.Warning="warning",g.Danger="danger",g.Info="info",g))(he||{}),Wt=(g=>(g.XSmall="xs",g.Small="sm",g.Medium="md",g.Large="lg",g.XLarge="xl",g))(Wt||{}),_e=(g=>(g.Solid="solid",g.Outline="outline",g.Ghost="ghost",g.Text="text",g))(_e||{}),ks=(g=>(g.Rectangle="rectangle",g.Square="square",g.Circle="circle",g))(ks||{}),Yn=(g=>(g.Image="image",g.Video="video",g.Audio="audio",g))(Yn||{}),Cm=(g=>(g.Classic="classic",g.Modern="modern",g))(Cm||{}),Oo=(g=>(g.Line="line",g.Dots="dots",g))(Oo||{}),$r=(g=>(g.Text="text",g.Password="password",g.Email="email",g.Number="number",g.Tel="tel",g.Url="url",g.Search="search",g.Date="date",g.Time="time",g.DateTimeLocal="datetime-local",g.Month="month",g.Week="week",g.Color="color",g))($r||{}),Am=(g=>(g.Single="single",g.Multiple="multiple",g))(Am||{}),Pm=(g=>(g.Esc="Escape",g))(Pm||{});class pT{static getFormattedMessage(e,p){let C=e,R=p;return(typeof e!="string"||!e.toLowerCase().startsWith("nyx"))&&(C="NYX",R=[e,...p]),`%c${C}%c ${R.join(" ")}`}static getPrefixStyle(){return"background: #9F50F0; color: white; padding: 4px 8px; border-radius: 2px; font-weight: bold; line-height: 1.5; margin-bottom: 4px; display: inline-flex;"}static getMessageStyle(e){switch(e){case"info":return"color: #4CAF50; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"warn":return"color: #FF9800; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"error":return"color: #F44336; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";default:return""}}static getArgsStrings(e){return e.filter(p=>typeof p=="string")}static getArgsOther(e){return e.filter(p=>typeof p!="string")}static getCaller(){const e=new Error().stack;return e?e.split(`
`)[3]??"unknown":"unknown"}static info(e,...p){console.log.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("info"),...this.getArgsOther(p)])}static warn(e,...p){console.warn.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("warn"),...this.getArgsOther(p)])}static error(e,...p){console.error.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(p)),this.getPrefixStyle(),this.getMessageStyle("error"),...this.getArgsOther(p)])}}const mT=g=>typeof g=="object"&&!Array.isArray(g)&&g!==null,Rm=(g=16)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let p="";const C=e.length;for(let R=0;R<g;R++)p+=e.charAt(Math.floor(Math.random()*C));return p},gT=g=>{try{return new URL(g,window.location.origin).origin===window.location.origin}catch{return!1}},ye=(g,e,p)=>Math.max(e,Math.min(g,p)),wm=(g,e,p=0)=>{const C=(g-p)%e;return C<e/2?g-C:g+(e-C)},Gi=(g,e,p=1)=>{const C=Math.random()*(e-g)+g;return wm(C,p)},yc=g=>g===" "?"SPACE":g.toUpperCase(),Tc=["ALT","SHIFT","CTRL","META"],xT=(g,e)=>{const p=Tc.includes(g),C=Tc.includes(e);return p&&!C?-1:!p&&C?1:0},yT=g=>{const e=new Set,p=R=>{const I=yc(R.key);e.add(I);const c=Array.from(e).sort(xT).join("+");g[c]&&(R.preventDefault(),g[c](R))},C=R=>{e.delete(yc(R.key))};Zs(()=>{window.addEventListener("keydown",p),window.addEventListener("keyup",C)}),Rn(()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",C)})},TT=(g,e)=>{const p=C=>{C.key===g&&e(C)};Zs(()=>{window.addEventListener("keydown",p)}),Rn(()=>{window.removeEventListener("keydown",p)})},Ou=(g,e,p)=>{const C=(p==null?void 0:p.position)??Bt(ae.Bottom),R=!!(p!=null&&p.isEqualWidth),I=Ft(()=>{var r;return((r=p==null?void 0:p.isUpdateAllowed)==null?void 0:r.value)!==!1}),c=(p==null?void 0:p.offsetX)??0,E=(p==null?void 0:p.offsetY)??0,t=Ft(()=>{var a;if(!((a=p==null?void 0:p.gap)!=null&&a.value))return 0;const r=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${p.gap.value}`)??"0";return r.endsWith("rem")?parseFloat(r)*16:parseFloat(r)}),h=Bt({"--top":"0px","--left":"0px","--width":"auto"}),x=Bt(C.value),o=()=>{if(!g.value||!e.value||!I.value)return;const r="getBoundingClientRect"in g.value?g.value.getBoundingClientRect():g.value.$el.getBoundingClientRect(),a="getBoundingClientRect"in e.value?e.value.getBoundingClientRect():e.value.$el.getBoundingClientRect(),{top:i,bottom:n,left:l,right:s,width:u,height:f}=r,{width:d,height:v}=a,m=R?u:d;let y=n,T=l;const S=n+v<=window.innerHeight,A=i-v>=0,P=l-d>=0,w=s+d<=window.innerWidth,M=D=>{switch(D){case ae.BottomLeft:return S?D:ae.TopLeft;case ae.BottomRight:return S?D:ae.TopRight;case ae.Bottom:return S?D:ae.Top;case ae.TopLeft:return A?D:ae.BottomLeft;case ae.TopRight:return A?D:ae.BottomRight;case ae.Top:return A?D:ae.Bottom;case ae.Left:return P?D:ae.Right;case ae.Right:return w?D:ae.Left;default:return D}};switch(x.value=M(C.value),x.value){case ae.BottomLeft:y=n+t.value+E,T=l+c;break;case ae.BottomRight:y=n+t.value+E,T=s-m+c;break;case ae.Bottom:y=n+t.value+E,T=l+(u-m)/2+c;break;case ae.TopLeft:y=i-v-t.value+E,T=l+c;break;case ae.TopRight:y=i-v-t.value+E,T=s-m+c;break;case ae.Top:y=i-v-t.value+E,T=l+(u-m)/2+c;break;case ae.Left:y=i+(f-v)/2+E,T=l-d-t.value+c;break;case ae.Right:y=i+(f-v)/2+E,T=s+t.value+c;break}y=ye(y,0,window.innerHeight-v),T=ye(T,0,window.innerWidth-m),h.value={...h.value,"--top":`${y}px`,"--left":`${T}px`,"--width":R?`${u}px`:"auto"}};return oi([I,g,e,C],o,{immediate:!0}),Zs(()=>{window.addEventListener("resize",o),window.addEventListener("scroll",o,!0)}),Pn(()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",o,!0)}),{cssVariables:h,updateCssVariables:o,computedPosition:x}},ST=["src","alt","title","loading"],ET=["src","title","loading"],CT=["src"],AT=["src","title","loading"],PT=["src"],RT={key:3},Nu=ee({__name:"NyxMedia",props:{src:{},type:{default:Yn.Image},shape:{default:ks.Rectangle},alt:{},title:{},caption:{},track:{},loading:{default:"lazy"}},setup(g){const e=g;return(p,C)=>(gt(),Tt("figure",{class:kt(["nyx-media",`shape-${e.shape}`])},[e.type===at(Yn).Image?(gt(),Tt("img",{key:0,src:e.src,alt:e.alt,title:e.title,loading:p.loading},null,8,ST)):e.type===at(Yn).Video?(gt(),Tt("video",{key:1,src:e.src,title:e.title,controls:"",loading:e.loading},[e.track?(gt(),Tt("track",{key:0,kind:"subtitles",src:e.track},null,8,CT)):Yt("",!0)],8,ET)):e.type===at(Yn).Audio?(gt(),Tt("audio",{key:2,src:e.src,title:e.title,controls:"",loading:e.loading},[e.track?(gt(),Tt("track",{key:0,kind:"subtitles",src:e.track},null,8,PT)):Yt("",!0)],8,AT)):Yt("",!0),e.caption?(gt(),Tt("figcaption",RT,ne(e.caption),1)):Yt("",!0)],2))}}),wT=["theme","size","shape","variant","gradient","backlight","position"],gs=(g,e="Nyx")=>{const p=jn("libEnv")??{},C=Ft(()=>g.gradient!==!1&&g.variant!==_e.Solid?(pT.error(e,"Gradients are only supported by NyxVariant.Solid"),g.theme):g.gradient===!0?g.theme:g.gradient),R=Ft(()=>g.backlight===!0?g.theme:g.backlight);return{classList:Ft(()=>{const I=[];for(const c of wT)g[c]===void 0||g[c]===!1||(g[c]===!0&&g.theme!==void 0?I.push(`${c}-${g.theme}`):I.push(`${c}-${g[c]}`));return(g.pixel||p.pixel)&&I.push("pixel"),I}),gradient:C,backlight:R}},MT={key:1,class:"nyx-avatar__image"},IT={key:2,class:"nyx-avatar__name"},LT=ee({__name:"NyxAvatar",props:{src:{},name:{},showName:{type:Boolean,default:!1},placeholder:{},color:{},size:{default:Wt.Medium},shape:{default:ks.Circle},pixel:{type:Boolean,default:!1}},setup(g){const e=g,p=Ft(()=>e.placeholder?e.placeholder:e.name?e.name.split(" ").map(I=>I.charAt(0).toUpperCase()).join(""):""),C=Ft(()=>e.name??e.placeholder??""),{classList:R}=gs(e);return(I,c)=>(gt(),Tt("div",{class:kt(["nyx-avatar",at(R)]),style:Ye({"--nyx-c-avatar":e.color})},[e.src?(gt(),Ie(Nu,{key:0,class:"nyx-avatar__image",type:at(Yn).Image,src:e.src,alt:C.value,title:C.value},null,8,["type","src","alt","title"])):(gt(),Tt("span",MT,[pe(I.$slots,"default",{},()=>[se(ne(p.value),1)])])),e.name&&e.showName?(gt(),Tt("span",IT,ne(e.name),1)):Yt("",!0)],6))}}),FT=["type","disabled"],DT=["href","target","disabled"],be=ee({__name:"NyxButton",props:{type:{default:"button"},theme:{default:he.Default},variant:{default:_e.Solid},size:{default:Wt.Medium},shape:{default:ks.Rectangle},disabled:{type:Boolean,default:!1},href:{},gradient:{type:[Boolean,String],default:!1},backlight:{type:[Boolean,String],default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(g,{emit:e}){const p=g,C=e,{classList:R}=gs(p),I=Ft(()=>p.href&&gT(p.href)?"_self":"_blank");return(c,E)=>p.href?(gt(),Tt("a",{key:1,class:kt(["nyx-button",at(R)]),href:p.href,target:I.value,disabled:p.disabled,onClick:E[1]||(E[1]=t=>C("click"))},[pe(c.$slots,"default",{},()=>[E[3]||(E[3]=se("Click me"))])],10,DT)):(gt(),Tt("button",{key:0,class:kt(["nyx-button",at(R)]),type:p.type,disabled:p.disabled,onClick:E[0]||(E[0]=t=>C("click"))},[pe(c.$slots,"default",{},()=>[E[2]||(E[2]=se("Click me"))])],10,FT))}});he.Default,_e.Solid,Wt.Medium;const OT=["href","size","variant","onClick"],NT={key:0,class:"nyx-breadcrumbs__separator"};he.Default,Wt.Medium,_e.Text;const BT={key:0,class:"nyx-card__header"},bT={class:"nyx-card__body"},VT={key:1,class:"nyx-card__footer"},GT=ee({__name:"NyxCard",props:{theme:{default:he.Default},size:{default:Wt.Medium},variant:{default:_e.Solid},gradient:{type:[Boolean,String]},backlight:{type:[Boolean,String]},title:{},src:{},textAlign:{default:"left"},layout:{default:"media-first"},blendMedia:{type:Boolean,default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(g,{emit:e}){const p=g,C=e,R=wn(),{classList:I}=gs(p),c=Ft(()=>({"--nyx-card-text-align":p.textAlign})),E=()=>C("click");return(t,h)=>(gt(),Tt("article",{class:kt(["nyx-card",[...at(I),p.layout,p.blendMedia&&"blend-media"]]),style:Ye(c.value),onClick:ya(E,["self"])},[pe(t.$slots,"media",{},()=>[p.src?(gt(),Ie(Nu,{key:0,src:p.src,alt:p.title,title:p.title},null,8,["src","alt","title"])):Yt("",!0)]),at(R).header||p.title?(gt(),Tt("header",BT,[pe(t.$slots,"header",{},()=>[Mt("h1",null,ne(p.title),1)])])):Yt("",!0),Mt("section",bT,[pe(t.$slots,"default")]),at(R).footer?(gt(),Tt("footer",VT,[pe(t.$slots,"footer")])):Yt("",!0)],6))}}),UT={key:1},zT={key:2,class:"nyx-carousel__dots"},XT=["onClick"];he.Default;const WT=["disabled","aria-label","id"],YT=["for"],Or=ee({__name:"NyxCheckbox",props:di({label:{default:""},disabled:{type:Boolean,default:!1},size:{default:Wt.Medium},theme:{default:he.Default},id:{},checkmark:{default:""},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const e=g,p=Ni(g,"modelValue"),{classList:C}=gs(e),R=Ft(()=>e.id??`nyx-checkbox-${Rm(16)}`);return(I,c)=>(gt(),Tt("div",{class:kt(["nyx-checkbox",at(C)])},[Yi(Mt("input",{type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=E=>p.value=E),disabled:e.disabled,"aria-label":e.label,id:R.value},null,8,WT),[[Du,p.value]]),Mt("span",{class:"nyx-checkbox__checkbox",onClick:c[1]||(c[1]=E=>p.value=!p.value)}),e.label?(gt(),Tt("label",{key:0,for:R.value,class:"nyx-checkbox__label"},ne(e.label),9,YT)):Yt("",!0)],2))}}),Mm=ee({__name:"NyxForm",props:{size:{default:Wt.Medium}},emits:["submit"],setup(g,{emit:e}){const p=g,C=e,R=I=>C("submit",I);return(I,c)=>(gt(),Tt("form",{class:kt(["nyx-form",[`size-${p.size}`]]),onSubmit:ya(R,["prevent"])},[pe(I.$slots,"default",{},()=>[c[0]||(c[0]=se("NyxForm"))])],34))}}),HT={class:"nyx-form-field"},es=ee({__name:"NyxFormField",props:{label:{}},setup(g){const e=g,p=`nyx-form-field-${Rm(16)}`;return(C,R)=>(gt(),Tt("div",HT,[e.label?(gt(),Tt("label",{key:0,for:p,class:"nyx-form-field__label"},ne(C.label),1)):Yt("",!0),pe(C.$slots,"default",{id:p},()=>[R[0]||(R[0]=se("NyxFormField"))])]))}}),KT=["type","placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","tabindex","id"],dl=ee({__name:"NyxInput",props:di({type:{default:$r.Text},theme:{default:he.Default},variant:{default:_e.Outline},size:{default:Wt.Medium},pixel:{type:Boolean},id:{},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},autofocus:{type:Boolean},placeholder:{},autocomplete:{},minlength:{},maxlength:{},pattern:{},tabindex:{}},{modelValue:{},modelModifiers:{}}),emits:di(["click","focus","blur"],["update:modelValue"]),setup(g,{emit:e}){const p=g,C=e,R=Ni(g,"modelValue"),{classList:I}=gs(p);return(c,E)=>(gt(),Tt("div",{class:kt(["nyx-input",at(I)])},[Yi(Mt("input",{type:p.type,placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,maxlength:p.maxlength,minlength:p.minlength,pattern:p.pattern,required:p.required,autocomplete:p.autocomplete,autofocus:p.autofocus,tabindex:p.tabindex,id:c.id,"onUpdate:modelValue":E[0]||(E[0]=t=>R.value=t),onClick:E[1]||(E[1]=t=>C("click")),onFocus:E[2]||(E[2]=t=>C("focus")),onBlur:E[3]||(E[3]=t=>C("blur"))},null,40,KT),[[Z1,R.value]])],2))}}),$T={class:"nyx-modal__content"},QT={key:0,class:"nyx-modal__header"},jT={class:"nyx-modal__body"},JT={key:1,class:"nyx-modal__footer"},ur=ee({__name:"NyxModal",props:di({title:{},confirmText:{},cancelText:{default:"Close"},size:{default:Wt.Medium},static:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!0},customClass:{},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:di(["close","cancel","confirm","open"],["update:modelValue"]),setup(g,{emit:e}){const p=g,C=e,R=Ni(g,"modelValue"),I=wn(),c=()=>{p.static||(R.value=!1,C("close"))};TT(Pm.Esc,c);const E=Ft(()=>!!I.header||!!p.title),t=Ft(()=>!!I.footer||!!p.confirmText),h=()=>{C("cancel"),c()},x=()=>{C("confirm"),c()},{classList:o}=gs(p);return(r,a)=>(gt(),Ie(hh,{to:"body"},[Mt("div",{class:kt(["nyx-modal",[...at(o),!!r.customClass&&`${r.customClass}`,{"nyx-modal--open":R.value||p.static},{"nyx-modal--no-backdrop":!p.backdrop}]]),onClick:ya(c,["self"])},[Mt("article",$T,[E.value?(gt(),Tt("header",QT,[pe(r.$slots,"header",{},()=>[Mt("h1",null,ne(r.title),1)]),p.static?Yt("",!0):(gt(),Tt("button",{key:0,class:"nyx-modal__close",onClick:c},""))])):Yt("",!0),Mt("section",jT,[pe(r.$slots,"default",{},()=>[a[0]||(a[0]=se("NyxModal body"))])]),t.value?(gt(),Tt("footer",JT,[pe(r.$slots,"footer",{},()=>[p.static?Yt("",!0):(gt(),Ie(be,{key:0,theme:at(he).Default,variant:at(_e).Outline,onClick:h},{default:Xt(()=>[se(ne(p.cancelText),1)]),_:1},8,["theme","variant"])),p.confirmText?(gt(),Ie(be,{key:1,theme:at(he).Primary,onClick:x},{default:Xt(()=>[se(ne(r.confirmText),1)]),_:1},8,["theme"])):Yt("",!0)])])):Yt("",!0)])],2)]))}}),uo=ee({__name:"NyxProgress",props:di({min:{default:0},max:{default:100},theme:{},variant:{default:Oo.Line},shape:{default:ks.Rectangle},gradient:{type:[String,Boolean],default:!1},size:{default:Wt.Small},showValue:{}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const e=g,p=Ni(g,"modelValue"),{classList:C}=gs(e),R=Ft(()=>p.value===null?"100%":`${Math.min(100,p.value/e.max*100)}%`),I=Ft(()=>({"--progress":R.value})),c=E=>{if(p.value===null)return{"--dot-progress":"0%"};const t=p.value-(E-1);return{"--dot-progress":`${ye(t,0,1)*100}%`}};return(E,t)=>(gt(),Tt("div",{class:kt(["nyx-progress",[...at(C),`variant--${e.variant}`]]),style:Ye(I.value)},[e.variant===at(Oo).Dots?(gt(!0),Tt(de,{key:0},Ri(e.max,h=>(gt(),Tt("div",{class:"nyx-progress__dot",key:h,style:Ye(c(h))},ne(h),5))),128)):(gt(),Tt("div",{key:1,class:kt(["nyx-progress__bar",{indeterminate:p.value===null}])},null,2)),E.showValue&&p.value!==null?(gt(),Tt("span",{key:2,class:kt(["nyx-progress__label",`nyx-progress__label--${E.showValue}`])},ne(Math.round(p.value)),3)):Yt("",!0)],6))}}),ZT=["placeholder"],kT=["onClick"],qT=["id","multiple"],_T=["value"],xM=ee({__name:"NyxSelect",props:di({type:{default:Am.Single},theme:{default:he.Default},variant:{default:_e.Outline},size:{default:Wt.Medium},disabled:{type:Boolean},placeholder:{},options:{},id:{},multiple:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const e=g,p=Ni(g,"modelValue"),C=Ft({get:()=>p.value??(e.multiple?[]:""),set:f=>{p.value=f}}),R=pn("nyx-select-input"),I=Bt(""),c=pn("elControl"),E=pn("elDropdown"),t=Bt(!1),{cssVariables:h,computedPosition:x}=Ou(c,E,{isEqualWidth:!0,isUpdateAllowed:t}),o=Ft(()=>{var f;return e.multiple?C.value.map(d=>{var v;return((v=e.options.find(m=>m.value===d))==null?void 0:v.label)??""}).join(", "):((f=e.options.find(d=>d.value===C.value))==null?void 0:f.label)??""}),r=Ft(()=>I.value?e.options.filter(f=>f.label.toLowerCase().includes(I.value.toLowerCase())):e.options),a=()=>{t.value=!t.value},i=()=>{t.value=!1},n=({value:f,label:d})=>{if(e.multiple){const v=C.value;v.indexOf(f)===-1?C.value=[...v,f]:C.value=v.filter(m=>m!==f),I.value=""}else C.value=f,I.value=d,t.value=!1},l=f=>{I.value=f===void 0?o.value:f},s=()=>{var f;t.value=!0,(f=R.value)==null||f.focus()},u=f=>e.multiple?C.value.includes(f):f===C.value;return oi(t,f=>{f?l(""):l()}),(f,d)=>{const v=Kp("click-outside");return gt(),Tt("div",{class:kt(["nyx-select",[`theme-${e.theme}`,`variant-${e.variant}`,`size-${e.size}`]])},[Yi((gt(),Tt("div",{class:kt(["nyx-select__control",[`nyx-select__control--${at(x)}`,{"nyx-select__control--open":t.value}]]),ref_key:"elControl",ref:c,onClick:s,onKeyup:eT(i,["esc"])},[Yi(Mt("input",{type:"search","onUpdate:modelValue":d[0]||(d[0]=m=>I.value=m),class:"nyx-select__input",placeholder:e.multiple?"Select multiple...":"Select...",ref:"nyx-select-input"},null,8,ZT),[[_n,I.value]]),Mt("span",{class:"nyx-select__arrow",onClick:a},"")],34)),[[v,i]]),(gt(),Ie(hh,{to:"body"},[Mt("div",{class:kt(["nyx-select__dropdown",[`theme-${e.theme}`,`variant-${e.variant}`,`size-${e.size}`,`nyx-select__dropdown--${at(x)}`,{"nyx-select__dropdown--open":t.value}]]),ref_key:"elDropdown",ref:E,role:"listbox",style:Ye(at(h))},[Mt("ul",null,[(gt(!0),Tt(de,null,Ri(r.value,m=>(gt(),Tt("li",{key:m.value,class:kt(["nyx-select__option",{"nyx-select__option--selected":u(m.value),"nyx-select__option--disabled":!!m.disabled}]),onClick:y=>n(m)},[Mt("span",null,ne(m.label),1)],10,kT))),128)),r.value.length===0?(gt(),Tt("li",{key:0,class:"nyx-select__option nyx-select__option--empty",onClick:d[1]||(d[1]=ya(m=>{var y;return(y=at(R))==null?void 0:y.focus()},["prevent","stop"]))},[pe(f.$slots,"empty",{},()=>[d[3]||(d[3]=Mt("span",null,"No results found",-1))])])):Yt("",!0)])],6)])),Yi(Mt("select",{"onUpdate:modelValue":d[2]||(d[2]=m=>C.value=m),class:"sr-only",id:e.id,multiple:e.multiple},[(gt(!0),Tt(de,null,Ri(e.options,m=>(gt(),Tt("option",{value:m.value,key:m.value},ne(m.label),9,_T))),128))],8,qT),[[gm,C.value]])],2)}}}),tS=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],eS=["aria-valuenow","aria-valuemin","aria-valuemax"],iS=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],sS=["aria-valuenow","aria-valuemin","aria-valuemax"],nS=ee({__name:"NyxSlider",props:di({min:{default:0},max:{default:100},step:{},tooltip:{default:"interact"},theme:{default:he.Default},shape:{default:ks.Circle},direction:{default:"row"},pixel:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const e=g,p=Ni(g,"modelValue"),C=Bt(null),R=Bt(null),I=Ft(()=>Array.isArray(p.value)),c=Ft(()=>I.value?p.value[0]:p.value),E=Ft(()=>I.value?p.value[1]:null),t=Ft(()=>(c.value-e.min)/(e.max-e.min)*100),h=Ft(()=>I.value?(E.value-e.min)/(e.max-e.min)*100:0),x=u=>e.step?wm(u,e.step,e.min):u,o=(u,f)=>{if(f=x(f),I.value){let d=[...p.value];d[u]=f,d[0]>d[1]&&(d=[d[1],d[0]],R.value=R.value===0?1:0),p.value=d}else p.value=f},r=(u,f)=>{f.preventDefault(),R.value=u,document.addEventListener("mousemove",a),document.addEventListener("mouseup",i)},a=u=>{if(R.value===null||!C.value)return;const f=C.value.getBoundingClientRect();let d=(u.clientX-f.left)/f.width;d=Math.min(Math.max(d,0),1);const v=e.min+d*(e.max-e.min);o(R.value,v)},i=()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",i),R.value=null},n=u=>{if(!C.value)return;const f=C.value.getBoundingClientRect();let d=(u.clientX-f.left)/f.width;d=Math.min(Math.max(d,0),1);const v=e.min+d*(e.max-e.min);if(I.value){const m=Math.abs(v-c.value),y=Math.abs(v-E.value);let T=m<y?0:1;o(T,v),R.value=T}else p.value=v},l=(u,f)=>{let d=I.value?p.value[f]:p.value;const v=e.step??1;switch(u.key){case"ArrowLeft":case"ArrowDown":d=Math.max(e.min,d-v);break;case"ArrowRight":case"ArrowUp":d=Math.min(e.max,d+v);break;case"Home":d=e.min;break;case"End":d=e.max;break;default:return}u.preventDefault(),o(f,d)},{classList:s}=gs(e);return Pn(()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",i)}),(u,f)=>(gt(),Tt("div",{class:kt(["nyx-slider",at(s)]),ref_key:"track",ref:C,onMousedown:n},[I.value?(gt(),Tt("div",{key:0,class:"nyx-slider__track-highlight",style:Ye({left:Math.min(t.value,h.value)+"%",width:Math.abs(h.value-t.value)+"%"})},null,4)):Yt("",!0),Yi(Mt("input",{type:"range",min:e.min,max:e.max,step:e.step||"any","onUpdate:modelValue":f[0]||(f[0]=d=>p.value=d),onKeydown:f[1]||(f[1]=d=>l(d,0)),"aria-label":"Slider value","aria-valuenow":c.value,"aria-valuemin":e.min,"aria-valuemax":e.max,class:"sr-only"},null,40,tS),[[_n,p.value]]),Mt("div",{class:"nyx-slider__thumb",style:Ye({left:t.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":c.value,"aria-valuemin":e.min,"aria-valuemax":e.max,onMousedown:f[2]||(f[2]=d=>r(0,d)),onKeydown:f[3]||(f[3]=d=>l(d,0))},null,44,eS),I.value&&Array.isArray(p.value)&&p.value[1]?(gt(),Tt(de,{key:1},[Yi(Mt("input",{type:"range",min:e.min,max:e.max,step:e.step||"any","onUpdate:modelValue":f[4]||(f[4]=d=>p.value[1]=d),onKeydown:f[5]||(f[5]=d=>l(d,1)),"aria-label":"Slider second value","aria-valuenow":E.value??void 0,"aria-valuemin":e.min,"aria-valuemax":e.max,class:"sr-only"},null,40,iS),[[_n,p.value[1]]]),Mt("div",{class:"nyx-slider__thumb",style:Ye({left:h.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":E.value??void 0,"aria-valuemin":e.min,"aria-valuemax":e.max,onMousedown:f[6]||(f[6]=d=>r(1,d)),onKeydown:f[7]||(f[7]=d=>l(d,1))},null,44,sS)],64)):Yt("",!0)],34))}}),rS=ee({__name:"NyxSpinner",props:{theme:{default:he.Default},size:{},speed:{default:"2s"}},setup(g){const e=g,p=Ft(()=>({"--nyx-speed-spinner":e.speed}));return(C,R)=>(gt(),Tt("svg",{class:kt(["nyx-spinner",[`theme-${e.theme}`,e.size&&`size-${e.size}`]]),style:Ye(p.value),role:"progressbar","aria-label":"Loading"},R[0]||(R[0]=[Mt("circle",{class:"nyx-spinner__track"},null,-1),Mt("circle",{class:"nyx-spinner__indicator"},null,-1)]),6))}}),aS=["id"];he.Success,Wt.Medium,_e.Solid;const oS=(g,e)=>{const p=g.__vccOpts||g;for(const[C,R]of e)p[C]=R;return p},hS={};function lS(g,e){return gt(),Tt("td",null,[Mt("span",null,[pe(g.$slots,"default")])])}const Sc=oS(hS,[["render",lS]]),uS={key:0},fS={key:0},dS=ee({__name:"NyxTable",props:di({theme:{default:he.Default},size:{default:Wt.Medium},variant:{default:_e.Outline},itemKey:{},disabled:{type:Boolean,default:!1},columns:{},columnTitles:{},gridTemplateColumns:{},header:{type:[String,Boolean],default:!0},striped:{type:Boolean,default:!1},colWhitelist:{default:()=>[]},colBlacklist:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const e=wn(),p=g,C=Ni(g,"modelValue"),R=Ft(()=>{if(p.columnTitles)return p.columnTitles;if(C.value.length===0)return[];const t=C.value[0];return mT(t)?(p.colWhitelist.length>0?p.colWhitelist:Object.keys(t)).filter(h=>!p.colBlacklist.includes(h)):[]}),I=Ft(()=>{const t=e.actions?1:0;return p.columns!==void 0?p.columns+t:C.value.length===0?1+t:R.value.length+t}),c=Ft(()=>{const t=(p.colWhitelist.length>0?p.colWhitelist:Object.keys(C.value[0]??{})).filter(h=>!p.colBlacklist.includes(h));return C.value.map(h=>{const x={};for(const o of t)x[o]=h[o];return x})}),E=Ft(()=>{const t=e.actions?"auto":"";return{"--grid-template-columns":p.gridTemplateColumns?`${p.gridTemplateColumns} ${t}`:`repeat(${I.value}, 1fr)`}});return(t,h)=>(gt(),Tt("table",{class:kt(["nyx-table",[`size-${p.size}`,`theme-${p.theme}`,`variant-${p.variant}`,{striped:t.striped},{sticky:p.header==="sticky"}]]),style:Ye(E.value)},[p.header?(gt(),Tt("thead",uS,[Mt("tr",null,[(gt(!0),Tt(de,null,Ri(R.value,x=>(gt(),Tt("th",{key:x},ne(x),1))),128)),at(e).actions?(gt(),Tt("th",fS,"")):Yt("",!0)])])):Yt("",!0),Mt("tbody",null,[(gt(!0),Tt(de,null,Ri(c.value,x=>(gt(),Tt("tr",{key:typeof x=="object"&&p.itemKey?x[p.itemKey]:x},[pe(t.$slots,"default",{item:x},()=>[(gt(!0),Tt(de,null,Ri(Object.values(x??{}),o=>(gt(),Ie(Sc,{key:o},{default:Xt(()=>[se(ne(o),1)]),_:2},1024))),128))]),at(e).actions?(gt(),Ie(Sc,{key:0,class:"nyx-table__actions"},{default:Xt(()=>[pe(t.$slots,"actions",{item:x})]),_:2},1024)):Yt("",!0)]))),128))])],6))}}),cS=["onClick"],vS={class:"nyx-tabs__container"},pS={key:0};he.Default,Wt.Medium,Cm.Modern,ae.TopLeft;const mS=["placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","id"];he.Default,_e.Outline,Wt.Medium;const gS=["data-position"],xS={class:"nyx-tooltip__content-wrapper"};he.Default,_e.Solid,Wt.Medium,ae.Top;const yS={class:"credits"};const TS=ee({__name:"Credits",setup(g){const e=Bt(!1),p=()=>e.value=!e.value;return(C,R)=>(gt(),Tt("div",yS,[Ct(at(be),{ref:"nyxButton",class:"debug__button",size:at(Wt).Small,variant:at(_e).Outline,tabindex:"-1",onClick:p},{default:Xt(()=>R[2]||(R[2]=[se("Credits")])),_:1},8,["size","variant"]),Ct(at(ur),{modelValue:e.value,"onUpdate:modelValue":R[1]||(R[1]=I=>e.value=I),title:"Credits",size:at(Wt).Large},{default:Xt(()=>[R[3]||(R[3]=Mt("p",null," Special thanks to our esteemed testers, Jeroen Vanlessen and Tibo Swinnen, who bravely subjected themselves to the countless bugs, crashes, and questionable design choices that this game had to offer. Their patience, resilience, and willingness to repeatedly drift into asteroid swarms, miscalculate beam shots, and accidentally turn the entire screen into a blinding explosion of space debris have been invaluable. ",-1)),R[4]||(R[4]=Mt("p",null,"Without them, this game would still be a flaming mess. With them, it is now a slightly less flaming mess.",-1)),R[5]||(R[5]=Mt("p",null,"May their keyboards rest in peace. ",-1)),Yt("",!0)]),_:1},8,["modelValue","size"])]))}}),mh=(g,e)=>{const p=g.__vccOpts||g;for(const[C,R]of e)p[C]=R;return p},SS=mh(TS,[["__scopeId","data-v-d4455f6e"]]);let ES=class{constructor(){vt(this,"_isEnabled",!1);vt(this,"_isCollisionDisabled",!1);vt(this,"_hasInfiniteEnergy",!0);vt(this,"_hasInfiniteStamina",!0);vt(this,"_isImmortal",!0);const e=JSON.parse(localStorage.getItem("debug")??"{}");this._isEnabled=!1,this._isCollisionDisabled=this.load(e,"_isCollisionDisabled"),this._hasInfiniteEnergy=this.load(e,"_hasInfiniteEnergy"),this._hasInfiniteStamina=this.load(e,"_hasInfiniteStamina"),this._isImmortal=this.load(e,"_isImmortal")}load(e,p){return e[p]===void 0?!!this[p]:e[p]}get isEnabled(){return this._isEnabled}set isEnabled(e){this._isEnabled=e,this.save()}get isCollisionDisabled(){return this.isEnabled&&this._isCollisionDisabled}set isCollisionDisabled(e){this._isCollisionDisabled=e,this.save()}get isImmortal(){return this.isEnabled&&this._isImmortal}set isImmortal(e){this._isImmortal=e,this.save()}get hasInfiniteEnergy(){return this.isEnabled&&this._hasInfiniteEnergy}set hasInfiniteEnergy(e){this._hasInfiniteEnergy=e,this.save()}get hasInfiniteStamina(){return this.isEnabled&&this._hasInfiniteStamina}set hasInfiniteStamina(e){this._hasInfiniteStamina=e,this.save()}save(){localStorage.setItem("debug",JSON.stringify(this))}};const wt={player:{hpStart:100,hpMax:100,hpRegen:0,energyStart:25,energyMax:100,energyRegen:.01,energyDrainRate:.1,staminaStart:0,staminaRegen:.005,maxStaminaStart:3,maxStaminaEnd:6,maxStaminaScoreInterval:1e3,dashDistance:250,dashSpeed:30,dashCooldown:500,dashStaminaCost:1,teleportDistance:250,teleportCooldown:1e3,velocity:2,maxVelocity:4,acceleration:.2,deceleration:.1,boundsPadding:50,colorDash:43775,colorDamage:16755370},asteroid:{baseSpawnRate:4e3,minSpeed:2,maxSpeedMultiplier:3,rotationSpeed:.5,small:{hp:50,damage:20,speed:1,size:[2,2.5],score:10},large:{hp:100,damage:40,speed:1,size:[4.5,5],score:25}},powerUp:{baseSpawnRate:.5,rotationSpeed:.5,hpSmall:1,hpMedium:5,hpLarge:15,energySmall:3,energyMedium:20,energyLarge:50},beam:{damage:1,speed:10,maxScale:40,scaleDuration:500,minAngle:-Math.PI/3,maxAngle:Math.PI/3,scaleX:3},hiscores:{threshold:1e3}};var fo={exports:{}},CS=fo.exports,Ec;function AS(){return Ec||(Ec=1,function(g,e){(function(C,R){g.exports=R()})(CS,()=>(()=>{var p={50792:c=>{var E=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function x(i,n,l){this.fn=i,this.context=n,this.once=l||!1}function o(i,n,l,s,u){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new x(l,s||i,u),d=t?t+n:n;return i._events[d]?i._events[d].fn?i._events[d]=[i._events[d],f]:i._events[d].push(f):(i._events[d]=f,i._eventsCount++),i}function r(i,n){--i._eventsCount===0?i._events=new h:delete i._events[n]}function a(){this._events=new h,this._eventsCount=0}a.prototype.eventNames=function(){var n=[],l,s;if(this._eventsCount===0)return n;for(s in l=this._events)E.call(l,s)&&n.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},a.prototype.listeners=function(n){var l=t?t+n:n,s=this._events[l];if(!s)return[];if(s.fn)return[s.fn];for(var u=0,f=s.length,d=new Array(f);u<f;u++)d[u]=s[u].fn;return d},a.prototype.listenerCount=function(n){var l=t?t+n:n,s=this._events[l];return s?s.fn?1:s.length:0},a.prototype.emit=function(n,l,s,u,f,d){var v=t?t+n:n;if(!this._events[v])return!1;var m=this._events[v],y=arguments.length,T,S;if(m.fn){switch(m.once&&this.removeListener(n,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,s),!0;case 4:return m.fn.call(m.context,l,s,u),!0;case 5:return m.fn.call(m.context,l,s,u,f),!0;case 6:return m.fn.call(m.context,l,s,u,f,d),!0}for(S=1,T=new Array(y-1);S<y;S++)T[S-1]=arguments[S];m.fn.apply(m.context,T)}else{var A=m.length,P;for(S=0;S<A;S++)switch(m[S].once&&this.removeListener(n,m[S].fn,void 0,!0),y){case 1:m[S].fn.call(m[S].context);break;case 2:m[S].fn.call(m[S].context,l);break;case 3:m[S].fn.call(m[S].context,l,s);break;case 4:m[S].fn.call(m[S].context,l,s,u);break;default:if(!T)for(P=1,T=new Array(y-1);P<y;P++)T[P-1]=arguments[P];m[S].fn.apply(m[S].context,T)}}return!0},a.prototype.on=function(n,l,s){return o(this,n,l,s,!1)},a.prototype.once=function(n,l,s){return o(this,n,l,s,!0)},a.prototype.removeListener=function(n,l,s,u){var f=t?t+n:n;if(!this._events[f])return this;if(!l)return r(this,f),this;var d=this._events[f];if(d.fn)d.fn===l&&(!u||d.once)&&(!s||d.context===s)&&r(this,f);else{for(var v=0,m=[],y=d.length;v<y;v++)(d[v].fn!==l||u&&!d[v].once||s&&d[v].context!==s)&&m.push(d[v]);m.length?this._events[f]=m.length===1?m[0]:m:r(this,f)}return this},a.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&r(this,l)):(this._events=new h,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,c.exports=a},11517:(c,E,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38829),x=function(o,r,a,i){for(var n=o[0],l=1;l<o.length;l++){var s=o[l];h(s,n,r,a,i),n=s}return o};c.exports=x},80318:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n){return h(o,"angle",r,a,i,n)};c.exports=x},60757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){for(var o=0;o<t.length;o++){var r=t[o];h.call(x,r)}return t};c.exports=E},69927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){x===void 0&&(x=0);for(var o=x;o<t.length;o++){var r=t[o],a=!0;for(var i in h)r[i]!==h[i]&&(a=!1);if(a)return r}return null};c.exports=E},32265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){x===void 0&&(x=0);for(var o=t.length-1;o>=x;o--){var r=t[o],a=!0;for(var i in h)r[i]!==h[i]&&(a=!1);if(a)return r}return null};c.exports=E},94420:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11879),x=t(60461),o=t(95540),r=t(29747),a=t(41481),i=new a({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),n=function(l,s){s===void 0&&(s={});var u=s.hasOwnProperty("width"),f=s.hasOwnProperty("height"),d=o(s,"width",-1),v=o(s,"height",-1),m=o(s,"cellWidth",1),y=o(s,"cellHeight",m),T=o(s,"position",x.TOP_LEFT),S=o(s,"x",0),A=o(s,"y",0),P=0,w=0,M=d*m,D=v*y;i.setPosition(S,A),i.setSize(m,y);for(var F=0;F<l.length;F++)if(h(l[F],i,T),u&&d===-1)i.x+=m;else if(f&&v===-1)i.y+=y;else if(f&&!u){if(w+=y,i.y+=y,w===D&&(w=0,P+=m,i.y=A,i.x+=m,P===M))break}else if(P+=m,i.x+=m,P===M&&(P=0,w+=y,i.x=S,i.y+=y,w===D))break;return l};c.exports=n},41721:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n){return h(o,"alpha",r,a,i,n)};c.exports=x},67285:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n){return h(o,"x",r,a,i,n)};c.exports=x},9074:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n,l,s){return a==null&&(a=r),h(o,"x",r,i,l,s),h(o,"y",a,n,l,s)};c.exports=x},75222:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n){return h(o,"y",r,a,i,n)};c.exports=x},22983:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x===void 0&&(x=0),o===void 0&&(o=6.28);for(var r=x,a=(o-x)/t.length,i=h.x,n=h.y,l=h.radius,s=0;s<t.length;s++)t[s].x=i+l*Math.cos(r),t[s].y=n+l*Math.sin(r),r+=a;return t};c.exports=E},95253:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x===void 0&&(x=0),o===void 0&&(o=6.28);for(var r=x,a=(o-x)/t.length,i=h.width/2,n=h.height/2,l=0;l<t.length;l++)t[l].x=h.x+i*Math.cos(r),t[l].y=h.y+n*Math.sin(r),r+=a;return t};c.exports=E},88505:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15258),x=t(26708),o=function(r,a,i){var n;i?n=x(a,i,r.length):n=h(a,r.length);for(var l=0;l<r.length;l++){var s=r[l],u=n[l];s.x=u.x,s.y=u.y}return r};c.exports=o},41346:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14649),x=t(86003),o=t(49498),r=function(a,i,n){n===void 0&&(n=0);var l=h(i,!1,a.length);n>0?x(l,n):n<0&&o(l,Math.abs(n));for(var s=0;s<a.length;s++)a[s].x=l[s].x,a[s].y=l[s].y;return a};c.exports=r},11575:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84993),x=function(o,r,a){var i=h({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},a),n=h({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},a),l=h({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},a);i.pop(),n.pop(),l.pop(),i=i.concat(n,l);for(var s=i.length/o.length,u=0,f=0;f<o.length;f++){var d=o[f],v=i[Math.floor(u)];d.x=v.x,d.y=v.y,u+=s}return o};c.exports=x},29953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){for(var o=0;o<t.length;o++){var r=t[o];r.anims&&r.anims.play(h,x)}return t};c.exports=E},66979:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r,a){o===void 0&&(o=0),r===void 0&&(r=0),a===void 0&&(a=1);var i,n=0,l=t.length;if(a===1)for(i=r;i<l;i++)t[i][h]+=x+n*o,n++;else for(i=r;i>=0;i--)t[i][h]+=x+n*o,n++;return t};c.exports=E},43967:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r,a){o===void 0&&(o=0),r===void 0&&(r=0),a===void 0&&(a=1);var i,n=0,l=t.length;if(a===1)for(i=r;i<l;i++)t[i][h]=x+n*o,n++;else for(i=r;i>=0;i--)t[i][h]=x+n*o,n++;return t};c.exports=E},88926:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28176),x=function(o,r){for(var a=0;a<o.length;a++)h(r,o[a]);return o};c.exports=x},33286:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24820),x=function(o,r){for(var a=0;a<o.length;a++)h(r,o[a]);return o};c.exports=x},96e3:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65822),x=function(o,r){for(var a=0;a<o.length;a++)h(r,o[a]);return o};c.exports=x},28789:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26597),x=function(o,r){for(var a=0;a<o.length;a++)h(r,o[a]);return o};c.exports=x},97154:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90260),x=function(o,r){for(var a=0;a<o.length;a++)h(r,o[a]);return o};c.exports=x},20510:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n){return h(o,"rotation",r,a,i,n)};c.exports=x},91051:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),x=t(20339),o=function(r,a,i){for(var n=a.x,l=a.y,s=0;s<r.length;s++){var u=r[s];h(u,n,l,i,Math.max(1,x(u.x,u.y,n,l)))}return r};c.exports=o},76332:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),x=function(o,r,a,i){var n=r.x,l=r.y;if(i===0)return o;for(var s=0;s<o.length;s++)h(o[s],n,l,a,i);return o};c.exports=x},61619:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n){return h(o,"scaleX",r,a,i,n)};c.exports=x},94868:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n,l,s){return a==null&&(a=r),h(o,"scaleX",r,i,l,s),h(o,"scaleY",a,n,l,s)};c.exports=x},95532:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,r,a,i,n){return h(o,"scaleY",r,a,i,n)};c.exports=x},8689:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"alpha",r,a,i,n)};c.exports=x},2645:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i){return h(o,"blendMode",r,0,a,i)};c.exports=x},32372:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"depth",r,a,i,n)};c.exports=x},85373:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){for(var o=0;o<t.length;o++)t[o].setInteractive(h,x);return t};c.exports=E},81583:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n,l,s){return a==null&&(a=r),h(o,"originX",r,i,l,s),h(o,"originY",a,n,l,s),o.forEach(function(u){u.updateDisplayOrigin()}),o};c.exports=x},79939:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"rotation",r,a,i,n)};c.exports=x},2699:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n,l,s){return a==null&&(a=r),h(o,"scaleX",r,i,l,s),h(o,"scaleY",a,n,l,s)};c.exports=x},98739:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"scaleX",r,a,i,n)};c.exports=x},98476:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"scaleY",r,a,i,n)};c.exports=x},6207:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n,l,s){return a==null&&(a=r),h(o,"scrollFactorX",r,i,l,s),h(o,"scrollFactorY",a,n,l,s)};c.exports=x},6607:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"scrollFactorX",r,a,i,n)};c.exports=x},72248:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"scrollFactorY",r,a,i,n)};c.exports=x},14036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r){for(var a=0;a<t.length;a++)t[a].setTint(h,x,o,r);return t};c.exports=E},50159:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i){return h(o,"visible",r,0,a,i)};c.exports=x},77597:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"x",r,a,i,n)};c.exports=x},83194:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n,l,s){return a==null&&(a=r),h(o,"x",r,i,l,s),h(o,"y",a,n,l,s)};c.exports=x},67678:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,r,a,i,n){return h(o,"y",r,a,i,n)};c.exports=x},35850:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n){i===void 0&&(i=0),n===void 0&&(n=new h);var l,s,u=o.length;if(u===1)l=o[0].x,s=o[0].y,o[0].x=r,o[0].y=a;else{var f=1,d=0;i===0&&(d=u-1,f=u-2),l=o[d].x,s=o[d].y,o[d].x=r,o[d].y=a;for(var v=0;v<u;v++)if(!(f>=u||f===-1)){var m=o[f],y=m.x,T=m.y;m.x=l,m.y=s,l=y,s=T,i===0?f--:f++}}return n.x=l,n.y=s,n};c.exports=x},8628:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33680),x=function(o){return h(o)};c.exports=x},21837:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),x=function(o,r,a,i,n){n===void 0&&(n=!1);var l=Math.abs(i-a)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][r]+=h(s*l,a,i);else for(s=0;s<o.length;s++)o[s][r]=h(s*l,a,i);return o};c.exports=x},21910:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),x=function(o,r,a,i,n){n===void 0&&(n=!1);var l=Math.abs(i-a)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][r]+=h(s*l,a,i);else for(s=0;s<o.length;s++)o[s][r]=h(s*l,a,i);return o};c.exports=x},62054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][h]+=(o+x)/2:t[0][h]=(o+x)/2,t;var a=Math.abs(o-x)/(t.length-1),i;if(r)for(i=0;i<t.length;i++)t[i][h]+=i*a+x;else for(i=0;i<t.length;i++)t[i][h]=i*a+x;return t};c.exports=E},79815:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};c.exports=E},39665:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),x=function(o,r,a){a===void 0&&(a=0);for(var i=0;i<o.length;i++){var n=o[i];n.x=h(n.x,r.left-a,r.right+a),n.y=h(n.y,r.top-a,r.bottom+a)}return o};c.exports=x},61061:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(74943),r=t(81957),a=t(41138),i=t(35154),n=t(90126),l=new x({initialize:function(u,f,d){this.manager=u,this.key=f,this.type="frame",this.frames=this.getFrames(u.textureManager,i(d,"frames",[]),i(d,"defaultTextureKey",null),i(d,"sortFrames",!0)),this.frameRate=i(d,"frameRate",null),this.duration=i(d,"duration",null),this.msPerFrame,this.skipMissedFrames=i(d,"skipMissedFrames",!0),this.delay=i(d,"delay",0),this.repeat=i(d,"repeat",0),this.repeatDelay=i(d,"repeatDelay",0),this.yoyo=i(d,"yoyo",!1),this.showBeforeDelay=i(d,"showBeforeDelay",!1),this.showOnStart=i(d,"showOnStart",!1),this.hideOnComplete=i(d,"hideOnComplete",!1),this.randomFrame=i(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,u,f,d){f===null&&d===null?(s.frameRate=24,s.duration=24/u*1e3):f&&d===null?(s.duration=f,s.frameRate=u/(f/1e3)):(s.frameRate=d,s.duration=u/d*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,u){var f=this.getFrames(this.manager.textureManager,u);if(f.length>0){if(s===0)this.frames=f.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(f);else{var d=this.frames.slice(0,s),v=this.frames.slice(s);this.frames=d.concat(f,v)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,u,f,d){d===void 0&&(d=!0);var v=[],m,y,T=1,S,A;if(typeof u=="string"){if(A=u,!s.exists(A))return console.warn('Texture "%s" not found',A),v;var P=s.get(A),w=P.getFrameNames();d&&n(w),u=[],w.forEach(function(B){u.push({key:A,frame:B})})}if(!Array.isArray(u)||u.length===0)return v;for(S=0;S<u.length;S++){var M=u[S],D=i(M,"key",f);if(D){var F=i(M,"frame",0),L=s.getFrame(D,F);if(!L){console.warn('Texture "%s" not found',D);continue}y=new a(D,F,T,L),y.duration=i(M,"duration",0),y.isFirst=!m,m&&(m.nextFrame=y,y.prevFrame=m),v.push(y),m=y,T++}}if(v.length>0){y.isLast=!0,y.nextFrame=v[0],v[0].prevFrame=y;var O=1/(v.length-1);for(S=0;S<v.length;S++)v[S].progress=S*O}return v},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameByProgress:function(s){return s=h(s,0,1),r(s,this.frames,"progress")},nextFrame:function(s){var u=s.currentFrame;u.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,u.nextFrame)},handleYoyoFrame:function(s,u){if(u||(u=!1),s.inReverse===!u&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=u),this.repeatAnimation(s);return}if(s.inReverse!==u&&s.repeatCounter===0){s.complete();return}s.forward=u;var f=u?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var u=s.currentFrame;u.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,u.prevFrame)},updateAndGetNextTick:function(s,u){s.setCurrentFrame(u),this.getNextTick(s)},removeFrame:function(s){var u=this.frames.indexOf(s);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){s.frames.push(u.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,u=1/(s-1),f,d=0;d<s;d++)f=this.frames[d],f.index=d+1,f.isFirst=!1,f.isLast=!1,f.progress=d*u,d===0?(f.isFirst=!0,s===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[s-1],f.nextFrame=this.frames[d+1])):d===s-1&&s>1?(f.isLast=!0,f.prevFrame=this.frames[s-2],f.nextFrame=this.frames[0]):s>1&&(f.prevFrame=this.frames[d-1],f.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});c.exports=l},41138:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i,n,l){l===void 0&&(l=!1),this.textureKey=r,this.textureFrame=a,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=x},60848:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),x=t(83419),o=t(90330),r=t(50792),a=t(74943),i=t(8443),n=t(95540),l=t(35154),s=t(36383),u=t(20283),f=t(41836),d=new x({Extends:r,initialize:function(m){r.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",m.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(v,m,y){var T=this.anims,S=this.mixes,A=typeof v=="string"?v:v.key,P=typeof m=="string"?m:m.key;if(T.has(A)&&T.has(P)){var w=S.get(A);w||(w={}),w[P]=y,S.set(A,w)}return this},removeMix:function(v,m){var y=this.mixes,T=typeof v=="string"?v:v.key,S=y.get(T);if(S)if(m){var A=typeof m=="string"?m:m.key;S.hasOwnProperty(A)&&delete S[A]}else m||y.delete(T);return this},getMix:function(v,m){var y=this.mixes,T=typeof v=="string"?v:v.key,S=typeof m=="string"?m:m.key,A=y.get(T);return A&&A.hasOwnProperty(S)?A[S]:0},add:function(v,m){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(m.key=v,this.anims.set(v,m),this.emit(a.ADD_ANIMATION,v,m),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,m,y){var T=[],S=this.game.cache.json.get(v);if(!S)return console.warn("No Aseprite data found for: "+v),T;var A=this,P=l(S,"meta",null),w=l(S,"frames",null);if(P&&w){var M=l(P,"frameTags",[]);M.forEach(function(D){var F=[],L=n(D,"name",null),O=n(D,"from",0),B=n(D,"to",0),U=n(D,"direction","forward");if(L&&(!m||m&&m.indexOf(L)>-1)){for(var W=0,H=O;H<=B;H++){var Y=H.toString(),G=w[Y];if(G){var X=n(G,"duration",s.MAX_SAFE_INTEGER);F.push({key:v,frame:Y,duration:X}),W+=X}}U==="reverse"&&(F=F.reverse());var V={key:L,frames:F,duration:W,yoyo:U==="pingpong"},b;y?y.anims&&(b=y.anims.create(V)):b=A.create(V),b&&T.push(b)}})}return T},create:function(v){var m=v.key,y=!1;return m&&(y=this.get(m),y?console.warn("AnimationManager key already exists: "+m):(y=new h(this,m,v),this.anims.set(m,y),this.emit(a.ADD_ANIMATION,m,y))),y},fromJSON:function(v,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var y=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var T=0;T<v.anims.length;T++)y.push(this.create(v.anims[T]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&y.push(this.create(v));return y},generateFrameNames:function(v,m){var y=l(m,"prefix",""),T=l(m,"start",0),S=l(m,"end",0),A=l(m,"suffix",""),P=l(m,"zeroPad",0),w=l(m,"outputArray",[]),M=l(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),w;var D=this.textureManager.get(v);if(!D)return w;var F;if(m)for(M||(M=u(T,S)),F=0;F<M.length;F++){var L=y+f(M[F],P,"0",1)+A;D.has(L)?w.push({key:v,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,v)}else for(M=D.getFrameNames(),F=0;F<M.length;F++)w.push({key:v,frame:M[F]});return w},generateFrameNumbers:function(v,m){var y=l(m,"start",0),T=l(m,"end",-1),S=l(m,"first",!1),A=l(m,"outputArray",[]),P=l(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),A;var w=this.textureManager.get(v);if(!w)return A;S&&w.has(S)&&A.push({key:v,frame:S}),P||(T===-1&&(T=w.frameTotal-2),P=u(y,T));for(var M=0;M<P.length;M++){var D=P[M];w.has(D)?A.push({key:v,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,v)}return A},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var m=this.textureManager.get(v),y=m.key,T=this.anims.getArray(),S=[],A=0;A<T.length;A++)for(var P=T[A],w=P.frames,M=0;M<w.length;M++)if(w[M].textureKey===y){S.push(P.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(v,m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)m[y].anims.play(v);return this},staggerPlay:function(v,m,y,T){y===void 0&&(y=0),T===void 0&&(T=!0),Array.isArray(m)||(m=[m]);var S=m.length;T||S--;for(var A=0;A<m.length;A++){var P=y<0?Math.abs(y)*(S-A):y*A;m[A].anims.playAfterDelay(v,P)}return this},remove:function(v){var m=this.get(v);return m&&(this.emit(a.REMOVE_ANIMATION,v,m),this.anims.delete(v),this.removeMix(v)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(v){var m={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?m.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(y,T){m.anims.push(T.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=d},9674:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),x=t(30976),o=t(83419),r=t(90330),a=t(74943),i=t(95540),n=new o({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var s=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var f=l[u];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var s=this.animationManager,u=typeof l=="string"?l:i(l,"key",null),f=this.exists(u)?this.get(u):s.get(u);if(!f)console.warn("Missing animation: "+u);else{this.currentAnim=f;var d=f.getTotalFrames(),v=i(l,"frameRate",f.frameRate),m=i(l,"duration",f.duration);f.calculateDuration(this,d,m,v),this.delay=i(l,"delay",f.delay),this.repeat=i(l,"repeat",f.repeat),this.repeatDelay=i(l,"repeatDelay",f.repeatDelay),this.yoyo=i(l,"yoyo",f.yoyo),this.showBeforeDelay=i(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=i(l,"showOnStart",f.showOnStart),this.hideOnComplete=i(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=i(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=i(l,"randomFrame",f.randomFrame),this.timeScale=i(l,"timeScale",this.timeScale);var y=i(l,"startFrame",0);y>d&&(y=0),this.randomFrame&&(y=x(0,d-1));var T=f.frames[y];y===0&&!this.forward&&(T=f.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,s){if(!this.isPlaying)this.delayCounter=s,this.play(l,!0);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(l,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(l,s){s===void 0&&(s=!1);var u=this.currentAnim,f=this.parent,d=typeof l=="string"?l:l.key;if(s&&this.isPlaying&&u.key===d)return f;if(u&&this.isPlaying){var v=this.animationManager.getMix(u.key,l);if(v>0)return this.playAfterDelay(l,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,s){s===void 0&&(s=!1);var u=typeof l=="string"?l:l.key;return s&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var s=this.currentAnim,u=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,s){var u=this.currentAnim;if(u){var f=this.currentFrame,d=this.parent,v=f.textureFrame;d.emit(l,u,f,d,v),s&&d.emit(s+u.key,u,f,d,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var s=l.progress;return this.inReverse&&(s*=-1),s},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,s){l===void 0&&(l=!1),s===void 0&&(s=!1);var u=this.currentAnim,f=this.parent;return u?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,s){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?u.nextFrame(this):u.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var s=this.parent;return this.currentFrame=l,s.texture=l.frame.texture,s.frame=l.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),l.setAlpha&&(s.alpha=l.alpha),s.setSizeToFrame(),s._originComponent&&(l.frame.customPivot?s.setOrigin(l.frame.pivotX,l.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var s=l.key,u=!1;return s&&(u=this.get(s),u?console.warn("Animation key already exists: "+s):(u=new h(this,s,l),this.anims||(this.anims=new r),this.anims.set(s,u))),u},createFromAseprite:function(l,s){return this.animationManager.createFromAseprite(l,s,this.parent)},generateFrameNames:function(l,s){return this.animationManager.generateFrameNames(l,s)},generateFrameNumbers:function(l,s){return this.animationManager.generateFrameNumbers(l,s)},remove:function(l){var s=this.get(l);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(l)),s},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=n},57090:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},25312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},89580:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},52860:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},63850:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},99085:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},28087:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstop"},1794:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},52562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},57953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},68339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},74943:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(90330),o=t(50792),r=t(24736),a=new h({initialize:function(){this.entries=new x,this.events=new o},add:function(i,n){return this.entries.set(i,n),this.events.emit(r.ADD,this,i,n),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var n=this.get(i);return n&&(this.entries.delete(i),this.events.emit(r.REMOVE,this,i,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=a},24047:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2161),x=t(83419),o=t(8443),r=new x({initialize:function(i){this.game=i,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(a){return this.custom.hasOwnProperty(a)||(this.custom[a]=new h),this.custom[a]},destroy:function(){for(var a=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<a.length;i++)this[a[i]].destroy(),this[a[i]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});c.exports=r},51464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},59261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},24736:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(39506),r=t(50792),a=t(19715),i=t(87841),n=t(61340),l=t(80333),s=t(26099),u=new h({Extends:r,Mixins:[x.AlphaSingle,x.Visible],initialize:function(d,v,m,y){d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=d,this._y=v,this._width=m,this._height=y,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(m/2,y/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,d){return f===void 0&&(f=.5),d===void 0&&(d=f),this.originX=f,this.originY=d,this},getScroll:function(f,d,v){v===void 0&&(v=new s);var m=this.width*.5,y=this.height*.5;return v.x=f-m,v.y=d-y,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(f){var d=this.width*.5;return this.midPoint.x=f,this.scrollX=f-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var d=this.height*.5;return this.midPoint.y=f,this.scrollY=f-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,d){return this.centerOnX(f),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,d=this.width*.5,v=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-d,this.scrollY=f.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var d=this.matrix.matrix,v=d[0],m=d[1],y=d[2],T=d[3],S=v*T-m*y;if(!S)return f;var A=d[4],P=d[5],w=this.scrollX,M=this.scrollY,D=this.width,F=this.height,L=this.y,O=L+F,B=this.x,U=B+D,W=this.culledObjects,H=f.length;S=1/S,W.length=0;for(var Y=0;Y<H;++Y){var G=f[Y];if(!G.hasOwnProperty("width")||G.parentContainer){W.push(G);continue}var X=G.width,V=G.height,b=G.x-w*G.scrollFactorX-X*G.originX,z=G.y-M*G.scrollFactorY-V*G.originY,$=b*v+z*y+A,Q=b*m+z*T+P,Z=(b+X)*v+(z+V)*y+A,q=(b+X)*m+(z+V)*T+P;Z>B&&$<U&&q>L&&Q<O&&W.push(G)}return W},getWorldPoint:function(f,d,v){v===void 0&&(v=new s);var m=this.matrix.matrix,y=m[0],T=m[1],S=m[2],A=m[3],P=m[4],w=m[5],M=y*A-T*S;if(!M)return v.x=f,v.y=d,v;M=1/M;var D=A*M,F=-T*M,L=-S*M,O=y*M,B=(S*w-A*P)*M,U=(T*P-y*w)*M,W=Math.cos(this.rotation),H=Math.sin(this.rotation),Y=this.zoomX,G=this.zoomY,X=this.scrollX,V=this.scrollY,b=f+(X*W-V*H)*Y,z=d+(X*H+V*W)*G;return v.x=b*D+z*L+B,v.y=b*F+z*O+U,v},ignore:function(f){var d=this.id;Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var m=f[v];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=d}return this},clampX:function(f){var d=this._bounds,v=this.displayWidth,m=d.x+(v-this.width)/2,y=Math.max(m,m+d.width-v);return f<m?f=m:f>y&&(f=y),f},clampY:function(f){var d=this._bounds,v=this.displayHeight,m=d.y+(v-this.height)/2,y=Math.max(m,m+d.height-v);return f<m?f=m:f>y&&(f=y),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=o(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,d,v,m,y){return y===void 0&&(y=!1),this._bounds.setTo(f,d,v,m),this.dirty=!0,this.useBounds=!0,y?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new i);var d=this._bounds;return f.setTo(d.x,d.y,d.width,d.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,d){return d===void 0&&(d=f),this.x=f,this.y=d,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=d;var v=f.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(f,d){return d===void 0&&(d=f),this.scrollX=f,this.scrollY=d,this},setSize:function(f,d){return d===void 0&&(d=f),this.width=f,this.height=d,this},setViewport:function(f,d,v,m){return this.x=f,this.y=d,this.width=v,this.height=m,this},setZoom:function(f,d){return f===void 0&&(f=1),d===void 0&&(d=f),f===0&&(f=.001),d===0&&(d=.001),this.zoomX=f,this.zoomY=d,this},setMask:function(f,d){return d===void 0&&(d=!0),this.mask=f,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;f&&!this._customViewport?d.customViewports++:!f&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=u},38058:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),x=t(67502),o=t(45319),r=t(83419),a=t(31401),i=t(20052),n=t(19715),l=t(28915),s=t(87841),u=t(26099),f=new r({Extends:h,Mixins:[a.PostPipeline],initialize:function(v,m,y,T){h.call(this,v,m,y,T),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(d,v){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=v):this.deadzone=new s(0,0,d,v),this._follow){var m=this.width/2,y=this.height/2,T=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(T,S),this.scrollX=T-m,this.scrollY=S-y}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,v,m,y,T,S){return this.fadeEffect.start(!1,d,v,m,y,!0,T,S)},fadeOut:function(d,v,m,y,T,S){return this.fadeEffect.start(!0,d,v,m,y,!0,T,S)},fadeFrom:function(d,v,m,y,T,S,A){return this.fadeEffect.start(!1,d,v,m,y,T,S,A)},fade:function(d,v,m,y,T,S,A){return this.fadeEffect.start(!0,d,v,m,y,T,S,A)},flash:function(d,v,m,y,T,S,A){return this.flashEffect.start(d,v,m,y,T,S,A)},shake:function(d,v,m,y,T){return this.shakeEffect.start(d,v,m,y,T)},pan:function(d,v,m,y,T,S,A){return this.panEffect.start(d,v,m,y,T,S,A)},rotateTo:function(d,v,m,y,T,S,A){return this.rotateToEffect.start(d,v,m,y,T,S,A)},zoomTo:function(d,v,m,y,T,S){return this.zoomEffect.start(d,v,m,y,T,S)},preRender:function(){this.renderList.length=0;var d=this.width,v=this.height,m=d*.5,y=v*.5,T=this.zoomX,S=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(T)&&Number.isInteger(S);var P=d*this.originX,w=v*this.originY,M=this._follow,D=this.deadzone,F=this.scrollX,L=this.scrollY;D&&x(D,this.midPoint.x,this.midPoint.y);var O=!1;if(M&&!this.panEffect.isRunning){var B=this.lerp,U=M.x-this.followOffset.x,W=M.y-this.followOffset.y;D?(U<D.x?F=l(F,F-(D.x-U),B.x):U>D.right&&(F=l(F,F+(U-D.right),B.x)),W<D.y?L=l(L,L-(D.y-W),B.y):W>D.bottom&&(L=l(L,L+(W-D.bottom),B.y))):(F=l(F,U-P,B.x),L=l(L,W-w,B.y)),O=!0}this.roundPixels&&(F=Math.floor(F),L=Math.floor(L)),this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.scrollX=F,this.scrollY=L;var H=F+m,Y=L+y;this.midPoint.set(H,Y);var G=Math.floor(d/T+.5),X=Math.floor(v/S+.5),V=Math.floor(H-G/2+.5),b=Math.floor(Y-X/2+.5);this.worldView.setTo(V,b,G,X),A.applyITRS(Math.floor(this.x+P+.5),Math.floor(this.y+w+.5),this.rotation,T,S),A.translate(-P,-w),this.shakeEffect.preRender(),O&&this.emit(n.FOLLOW_UPDATE,this,M)},setLerp:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=d),this.lerp.set(d,v),this},setFollowOffset:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=0),this.followOffset.set(d,v),this},startFollow:function(d,v,m,y,T,S){v===void 0&&(v=!1),m===void 0&&(m=1),y===void 0&&(y=m),T===void 0&&(T=0),S===void 0&&(S=T),this._follow=d,this.roundPixels=v,m=o(m,0,1),y=o(y,0,1),this.lerp.set(m,y),this.followOffset.set(T,S);var A=this.width/2,P=this.height/2,w=d.x-T,M=d.y-S;return this.midPoint.set(w,M),this.scrollX=w-A,this.scrollY=M-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,v){this.visible&&(this.rotateToEffect.update(d,v),this.panEffect.update(d,v),this.zoomEffect.update(d,v),this.shakeEffect.update(d,v),this.flashEffect.update(d,v),this.fadeEffect.update(d,v))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=f},32743:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38058),x=t(83419),o=t(95540),r=t(37277),a=t(37303),i=t(97480),n=t(44594),l=new x({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(n.BOOT,this.boot,this),u.sys.events.on(n.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.shutdown,this)},add:function(s,u,f,d,v,m){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),v===void 0&&(v=!1),m===void 0&&(m="");var y=new h(s,u,f,d);return y.setName(m),y.setScene(this.scene),y.setRoundPixels(this.roundPixels),y.id=this.getNextID(),this.cameras.push(y),v&&(this.main=y),y},addExisting:function(s,u){u===void 0&&(u=!1);var f=this.cameras.indexOf(s);return f===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),u&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,u=1,f=0;f<32;f++){for(var d=!1,v=0;v<s.length;v++){var m=s[v];if(m&&m.id===u){d=!0;continue}}if(d)u=u<<1;else return u}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var u=0,f=this.cameras,d=0;d<f.length;d++){var v=f[d];(!s||s&&v.visible)&&u++}return u},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var u=this.scene.sys.scale.width,f=this.scene.sys.scale.height,d=0;d<s.length;d++){var v=s[d],m=o(v,"x",0),y=o(v,"y",0),T=o(v,"width",u),S=o(v,"height",f),A=this.add(m,y,T,S);A.name=o(v,"name",""),A.zoom=o(v,"zoom",1),A.rotation=o(v,"rotation",0),A.scrollX=o(v,"scrollX",0),A.scrollY=o(v,"scrollY",0),A.roundPixels=o(v,"roundPixels",!1),A.visible=o(v,"visible",!0);var P=o(v,"backgroundColor",!1);P&&A.setBackgroundColor(P);var w=o(v,"bounds",null);if(w){var M=o(w,"x",0),D=o(w,"y",0),F=o(w,"width",u),L=o(w,"height",f);A.setBounds(M,D,F,L)}}return this},getCamera:function(s){for(var u=this.cameras,f=0;f<u.length;f++)if(u[f].name===s)return u[f];return null},getCamerasBelowPointer:function(s){for(var u=this.cameras,f=s.x,d=s.y,v=[],m=0;m<u.length;m++){var y=u[m];y.visible&&y.inputEnabled&&a(y,f,d)&&v.unshift(y)}return v},remove:function(s,u){u===void 0&&(u=!0),Array.isArray(s)||(s=[s]);for(var f=0,d=this.cameras,v=0;v<s.length;v++){var m=d.indexOf(s[v]);m!==-1&&(u?d[m].destroy():d[m].renderList=[],d.splice(m,1),f++)}return!this.main&&d[0]&&(this.main=d[0]),f},render:function(s,u){for(var f=this.scene,d=this.cameras,v=0;v<d.length;v++){var m=d[v];if(m.visible&&m.alpha>0){m.preRender();var y=this.getVisibleChildren(u.getChildren(),m);s.render(f,y,m)}}},getVisibleChildren:function(s,u){return s.filter(function(f){return f.willRender(u)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(s,u)},onResize:function(s,u,f,d,v){for(var m=0;m<this.cameras.length;m++){var y=this.cameras[m];y._x===0&&y._y===0&&y._width===d&&y._height===v&&y.setSize(u.width,u.height)}},resize:function(s,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(s,u)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var u=this.systems.events;u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(i.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",l,"cameras"),c.exports=l},5020:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(19715),r=new x({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,i,n,l,s,u,f,d){if(a===void 0&&(a=!0),i===void 0&&(i=1e3),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=a,this.progress=0,this.red=n,this.green=l,this.blue=s,this.alpha=a?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d;var v=a?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(v,this.camera,this,i,n,l,s),this.camera},update:function(a,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(a){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(a,i){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return a.drawFillRect(n.x,n.y,n.width,n.height,i(u,s,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var a=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(a,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},10662:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(19715),r=new x({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(a,i,n,l,s,u,f){return a===void 0&&(a=250),i===void 0&&(i=255),n===void 0&&(n=255),l===void 0&&(l=255),s===void 0&&(s=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,this.red=i,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(o.FLASH_START,this.camera,this,a,i,n,l),this.camera)},update:function(a,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(a){if(!this.isRunning)return!1;var i=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(a,i){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return a.drawFillRect(n.x,n.y,n.width,n.height,i(u,s,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},20359:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(62640),r=t(19715),a=t(26099),i=new x({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,s,u,f,d,v){s===void 0&&(s=1e3),u===void 0&&(u=o.Linear),f===void 0&&(f=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene);var m=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(n,l),m.getScroll(n,l,this.current),typeof u=="string"&&o.hasOwnProperty(u)?this.ease=o[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(r.PAN_START,this.camera,this,s,n,l)),m},update:function(n,l){if(this.isRunning){this._elapsed+=l;var s=h(this._elapsed/this.duration,0,1);this.progress=s;var u=this.camera;if(this._elapsed<this.duration){var f=this.ease(s);u.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*f,v=this.source.y+(this.current.y-this.source.y)*f;u.setScroll(d,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,d,v)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=i},34208:(c,E,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(45319),x=t(83419),o=t(19715),r=t(62640),a=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,n,l,s,u,f,d){l===void 0&&(l=1e3),s===void 0&&(s=r.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var v=i;i<0?(v=-1*i,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;v=v-Math.floor(v/m)*m;var y=this.camera;if(!u&&this.isRunning)return y;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=y.rotation,this.destination=v,typeof s=="string"&&r.hasOwnProperty(s)?this.ease=r[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d,this.shortestPath){var T=0,S=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+m)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+m)-this.destination,T<S?this.clockwise=!0:T>S&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,v),y},update:function(i,n){if(this.isRunning){this._elapsed+=n;var l=h(this._elapsed/this.duration,0,1);this.progress=l;var s=this.camera;if(this._elapsed<this.duration){var u=this.ease(l);this.current=s.rotation;var f=0,d=360*Math.PI/180,v=this.destination,m=this.current;this.clockwise===!1&&(v=this.current,m=this.destination),v>=m?f=Math.abs(v-m):f=Math.abs(v+d)-m;var y=0;this.clockwise?y=s.rotation+f*u:y=s.rotation-f*u,s.rotation=y,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,y)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=a},30330:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(19715),r=t(26099),a=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,n,l,s,u){return i===void 0&&(i=100),n===void 0&&(n=.05),l===void 0&&(l=!1),s===void 0&&(s=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=u,this.camera.emit(o.SHAKE_START,this.camera,this,i,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,n){if(this.isRunning)if(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,s=this.camera.width,u=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*s*2-l.x*s)*f,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=a},45641:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(62640),r=t(19715),a=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,n,l,s,u,f){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),s===void 0&&(s=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene);var d=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=d.zoom,this.destination=i,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(r.ZOOM_START,this.camera,this,n,i)),d},update:function(i,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=a},20052:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},32726:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},87807:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},45917:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},95666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},47056:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},91261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},45047:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="followupdate"},81927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},74264:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},54419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},79330:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},93183:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},80112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},62252:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},86017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},539:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},51892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},19715:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(35154),o=new h({initialize:function(a){this.camera=x(a,"camera",null),this.left=x(a,"left",null),this.right=x(a,"right",null),this.up=x(a,"up",null),this.down=x(a,"down",null),this.zoomIn=x(a,"zoomIn",null),this.zoomOut=x(a,"zoomOut",null),this.zoomSpeed=x(a,"zoomSpeed",.01),this.minZoom=x(a,"minZoom",.001),this.maxZoom=x(a,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=x(a,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=x(a,"speed.x",0),this.speedY=x(a,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var a=this.camera;this.up&&this.up.isDown?a.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(a.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?a.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(a.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(a.zoom-=this.zoomSpeed,a.zoom<this.minZoom&&(a.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(a.zoom+=this.zoomSpeed,a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},58818:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(35154),o=new h({initialize:function(a){this.camera=x(a,"camera",null),this.left=x(a,"left",null),this.right=x(a,"right",null),this.up=x(a,"up",null),this.down=x(a,"down",null),this.zoomIn=x(a,"zoomIn",null),this.zoomOut=x(a,"zoomOut",null),this.zoomSpeed=x(a,"zoomSpeed",.01),this.minZoom=x(a,"minZoom",.001),this.maxZoom=x(a,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=x(a,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=x(a,"acceleration.x",0),this.accelY=x(a,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=x(a,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=x(a,"drag.x",0),this.dragY=x(a,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=x(a,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=x(a,"maxSpeed.x",0),this.maxSpeedY=x(a,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var a=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(a.scrollX-=this._speedX*r|0),this._speedY!==0&&(a.scrollY-=this._speedY*r|0),this._zoom!==0&&(a.zoom+=this._zoom,a.zoom<this.minZoom?a.zoom=this.minZoom:a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=o},38865:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=h},69547:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(8054),o=t(42363),r=t(82264),a=t(95540),i=t(35154),n=t(41212),l=t(29747),s=t(75508),u=t(36060),f=t(80333),d=new h({initialize:function(m){m===void 0&&(m={});var y=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],T="#ffffff",S=i(m,"scale",null);this.width=i(S,"width",1024,m),this.height=i(S,"height",768,m),this.zoom=i(S,"zoom",1,m),this.parent=i(S,"parent",void 0,m),this.scaleMode=i(S,S?"mode":"scaleMode",0,m),this.expandParent=i(S,"expandParent",!0,m),this.autoRound=i(S,"autoRound",!1,m),this.autoCenter=i(S,"autoCenter",0,m),this.resizeInterval=i(S,"resizeInterval",500,m),this.fullscreenTarget=i(S,"fullscreenTarget",null,m),this.minWidth=i(S,"min.width",0,m),this.maxWidth=i(S,"max.width",0,m),this.minHeight=i(S,"min.height",0,m),this.maxHeight=i(S,"max.height",0,m),this.snapWidth=i(S,"snap.width",0,m),this.snapHeight=i(S,"snap.height",0,m),this.renderType=i(m,"type",x.AUTO),this.canvas=i(m,"canvas",null),this.context=i(m,"context",null),this.canvasStyle=i(m,"canvasStyle",null),this.customEnvironment=i(m,"customEnvironment",!1),this.sceneConfig=i(m,"scene",null),this.seed=i(m,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=i(m,"title",""),this.gameURL=i(m,"url","https://phaser.io/"+x.LOG_VERSION),this.gameVersion=i(m,"version",""),this.autoFocus=i(m,"autoFocus",!0),this.stableSort=i(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=i(m,"dom.createContainer",!1),this.domPointerEvents=i(m,"dom.pointerEvents","none"),this.inputKeyboard=i(m,"input.keyboard",!0),this.inputKeyboardEventTarget=i(m,"input.keyboard.target",window),this.inputKeyboardCapture=i(m,"input.keyboard.capture",[]),this.inputMouse=i(m,"input.mouse",!0),this.inputMouseEventTarget=i(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=i(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=i(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=i(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=i(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=i(m,"input.touch",r.input.touch),this.inputTouchEventTarget=i(m,"input.touch.target",null),this.inputTouchCapture=i(m,"input.touch.capture",!0),this.inputActivePointers=i(m,"input.activePointers",1),this.inputSmoothFactor=i(m,"input.smoothFactor",0),this.inputWindowEvents=i(m,"input.windowEvents",!0),this.inputGamepad=i(m,"input.gamepad",!1),this.inputGamepadEventTarget=i(m,"input.gamepad.target",window),this.disableContextMenu=i(m,"disableContextMenu",!1),this.audio=i(m,"audio",{}),this.hideBanner=i(m,"banner",null)===!1,this.hidePhaser=i(m,"banner.hidePhaser",!1),this.bannerTextColor=i(m,"banner.text",T),this.bannerBackgroundColor=i(m,"banner.background",y),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=i(m,"fps",null),this.disablePreFX=i(m,"disablePreFX",!1),this.disablePostFX=i(m,"disablePostFX",!1);var A=i(m,"render",null);this.pipeline=i(A,"pipeline",null,m),this.autoMobilePipeline=i(A,"autoMobilePipeline",!0,m),this.defaultPipeline=i(A,"defaultPipeline",u.MULTI_PIPELINE,m),this.antialias=i(A,"antialias",!0,m),this.antialiasGL=i(A,"antialiasGL",!0,m),this.mipmapFilter=i(A,"mipmapFilter","",m),this.desynchronized=i(A,"desynchronized",!1,m),this.roundPixels=i(A,"roundPixels",!1,m),this.pixelArt=i(A,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=i(A,"transparent",!1,m),this.clearBeforeRender=i(A,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=i(A,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=i(A,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=i(A,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=i(A,"powerPreference","default",m),this.batchSize=i(A,"batchSize",4096,m),this.maxTextures=i(A,"maxTextures",-1,m),this.maxLights=i(A,"maxLights",10,m);var P=i(m,"backgroundColor",0);this.backgroundColor=f(P),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=i(m,"callbacks.preBoot",l),this.postBoot=i(m,"callbacks.postBoot",l),this.physics=i(m,"physics",{}),this.defaultPhysicsSystem=i(this.physics,"default",!1),this.loaderBaseURL=i(m,"loader.baseURL",""),this.loaderPath=i(m,"loader.path",""),this.loaderMaxParallelDownloads=i(m,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=i(m,"loader.crossOrigin",void 0),this.loaderResponseType=i(m,"loader.responseType",""),this.loaderAsync=i(m,"loader.async",!0),this.loaderUser=i(m,"loader.user",""),this.loaderPassword=i(m,"loader.password",""),this.loaderTimeout=i(m,"loader.timeout",0),this.loaderMaxRetries=i(m,"loader.maxRetries",2),this.loaderWithCredentials=i(m,"loader.withCredentials",!1),this.loaderImageLoadType=i(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=i(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=i(m,"fx.glow.quality",.1),this.glowFXDistance=i(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=i(m,"plugins",null),M=o.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:n(w)&&(this.installGlobalPlugins=a(w,"global",[]),this.installScenePlugins=a(w,"scene",[]),Array.isArray(w.default)?M=w.default:Array.isArray(w.defaultMerge)&&(M=M.concat(w.defaultMerge)))),this.defaultPlugins=M;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=i(m,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=i(m,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=i(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});c.exports=d},86054:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20623),x=t(27919),o=t(8054),r=t(89357),a=function(i){var n=i.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=r.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||x.disableSmoothing();var l=i.scale.baseSize,s=l.width,u=l.height;if(n.canvas?(i.canvas=n.canvas,i.canvas.width=s,i.canvas.height=u):i.canvas=x.create(i,s,u,n.renderType),n.canvasStyle&&(i.canvas.style=n.canvasStyle),n.antialias||h.setCrisp(i.canvas),n.renderType!==o.HEADLESS){var f,d;f=t(68627),d=t(74797),n.renderType===o.WEBGL?i.renderer=new d(i):(i.renderer=new f(i),i.context=i.renderer.gameContext)}};c.exports=a},96391:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),x=function(o){var r=o.config;if(!r.hideBanner){var a="WebGL";r.renderType===h.CANVAS?a="Canvas":r.renderType===h.HEADLESS&&(a="Headless");var i=r.audio,n=o.device.audio,l;if(n.webAudio&&!i.disableWebAudio?l="Web Audio":i.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var s="",u=[s];if(Array.isArray(r.bannerBackgroundColor)){var f;r.bannerBackgroundColor.forEach(function(v){s=s.concat("%c "),u.push("background: "+v),f=v}),u[u.length-1]="color: "+r.bannerTextColor+"; background: "+f}else s=s.concat("%c "),u.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);u.push("background: transparent"),r.gameTitle&&(s=s.concat(r.gameTitle),r.gameVersion&&(s=s.concat(" v"+r.gameVersion)),r.hidePhaser||(s=s.concat(" / ")));var d="";r.hidePhaser||(s=s.concat("Phaser v"+h.VERSION+d+" ("+a+" | "+l+")")),s=s.concat(" %c "+r.gameURL),u[0]=s,console.log.apply(console,u)}}};c.exports=x},50127:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),x=t(60848),o=t(24047),r=t(27919),a=t(83419),i=t(69547),n=t(83719),l=t(86054),s=t(45893),u=t(96391),f=t(82264),d=t(57264),v=t(50792),m=t(8443),y=t(7003),T=t(37277),S=t(77332),A=t(76531),P=t(60903),w=t(69442),M=t(17130),D=t(65898),F=t(51085),L=t(14747),O=new a({initialize:function(U){this.config=new i(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new x(this),this.textures=new M(this),this.cache=new o(this),this.registry=new s(this,new v),this.input=new y(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=f,this.scale=new A(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new D(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),u(this),h(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var B=this.events;B.on(m.HIDDEN,this.onHidden,this),B.on(m.VISIBLE,this.onVisible,this),B.on(m.BLUR,this.onBlur,this),B.on(m.FOCUS,this.onFocus,this)},step:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(m.PRE_STEP,B,U),W.emit(m.STEP,B,U),this.scene.update(B,U),W.emit(m.POST_STEP,B,U);var H=this.renderer;H.preRender(),W.emit(m.PRE_RENDER,H,B,U),this.scene.render(H),H.postRender(),W.emit(m.POST_RENDER,H,B,U)}},headlessStep:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(m.PRE_STEP,B,U),W.emit(m.STEP,B,U),this.scene.update(B,U),W.emit(m.POST_STEP,B,U),this.scene.isProcessing=!1,W.emit(m.PRE_RENDER,null,B,U),W.emit(m.POST_RENDER,null,B,U)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME,this.loop.pauseDuration)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(m.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=O},65898:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(35154),o=t(29747),r=t(43092),a=new h({initialize:function(n,l){this.game=n,this.raf=new r,this.started=!1,this.running=!1,this.minFps=x(l,"min",5),this.targetFps=x(l,"target",60),this.fpsLimit=x(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=x(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(l,"deltaHistory",10),this.panicMax=x(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(i){var n=this.deltaIndex,l=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,i=Math.min(i,this._target)),i>this._min&&(i=l[n],i=Math.min(i,this._min)),l[n]=i,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var u=0,f=0;f<s;f++)u+=l[f];return u/=s,u},updateFPS:function(i){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0},stepLimitFPS:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(i,this.delta),this.delta=0),this.lastTime=i,this.frame++},step:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.callback(i,n),this.lastTime=i,this.frame++},tick:function(){var i=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(i):this.step(i)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){i===void 0&&(i=!1);var n=window.performance.now();if(!this.running){i&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=a},51085:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8443),x=function(o){var r,a=o.events;if(document.hidden!==void 0)r="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},r=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?a.emit(h.HIDDEN):a.emit(h.VISIBLE)};r&&document.addEventListener(r,n,!1),window.onblur=function(){a.emit(h.BLUR)},window.onfocus=function(){a.emit(h.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};c.exports=x},97217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},47548:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},19814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},68446:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},41700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},25432:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},65942:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},59211:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},47789:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},39066:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},460:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},16175:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},42331:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},11966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},32969:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="systemready"},94830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},8443:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5290),x=t(27919),o=t(35154),r=function(a){var i=o(a,"data",[]),n=o(a,"canvas",null),l=o(a,"palette",h),s=o(a,"pixelWidth",1),u=o(a,"pixelHeight",s),f=o(a,"resizeCanvas",!0),d=o(a,"clearCanvas",!0),v=o(a,"preRender",null),m=o(a,"postRender",null),y=Math.floor(Math.abs(i[0].length*s)),T=Math.floor(Math.abs(i.length*u));n||(n=x.create2D(this,y,T),f=!1,d=!1),f&&(n.width=y,n.height=T);var S=n.getContext("2d",{willReadFrequently:!0});d&&S.clearRect(0,0,y,T),v&&v(n,S);for(var A=0;A<i.length;A++)for(var P=i[A],w=0;w<P.length;w++){var M=P[w];M!=="."&&M!==" "&&(S.fillStyle=l[M],S.fillRect(w*s,A*u,s,u))}return m&&m(n,S),n};c.exports=r},15822:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(36316),o=t(80021),r=t(26099),a=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(u=new r(n[6],n[7]),s=new r(n[4],n[5]),l=new r(n[2],n[3]),n=new r(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s,this.p3=u},getStartPoint:function(i){return i===void 0&&(i=new r),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new r);var l=this.p0,s=this.p1,u=this.p2,f=this.p3;return n.set(x(i,l.x,s.x,u.x,f.x),x(i,l.y,s.y,u.y,f.y))},draw:function(i,n){n===void 0&&(n=32);var l=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)i.lineTo(l[s].x,l[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(i){var n=i.points,l=new r(n[0],n[1]),s=new r(n[2],n[3]),u=new r(n[4],n[5]),f=new r(n[6],n[7]);return new a(l,s,u,f)},c.exports=a},80021:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(19217),o=t(87841),r=t(26099),a=new h({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(i,n){return n===void 0&&(n=32),i.strokePoints(this.getPoints(n))},getBounds:function(i,n){i||(i=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var s=Math.max(1,Math.round(l/n));return x(this.getSpacedPoints(s),i)},getDistancePoints:function(i){var n=this.getLength(),l=Math.max(1,n/i);return this.getSpacedPoints(l)},getEndPoint:function(i){return i===void 0&&(i=new r),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,s=this.getPoint(0,this._tmpVec2A),u=0;n.push(0);for(var f=1;f<=i;f++)l=this.getPoint(f/i,this._tmpVec2B),u+=l.distance(s),n.push(u),s.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(i,n){var l=this.getUtoTmapping(i);return this.getPoint(l,n)},getPoints:function(i,n,l){l===void 0&&(l=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++)l.push(this.getPoint(s/i));return l},getRandomPoint:function(i){return i===void 0&&(i=new r),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,n,l){l===void 0&&(l=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++){var u=this.getUtoTmapping(s/i,null,i);l.push(this.getPoint(u))}return l},getStartPoint:function(i){return i===void 0&&(i=new r),this.getPointAt(0,i)},getTangent:function(i,n){n===void 0&&(n=new r);var l=1e-4,s=i-l,u=i+l;return s<0&&(s=0),u>1&&(u=1),this.getPoint(s,this._tmpVec2A),this.getPoint(u,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,n){var l=this.getUtoTmapping(i);return this.getTangent(l,n)},getTFromDistance:function(i,n){return i<=0?0:this.getUtoTmapping(0,i,n)},getUtoTmapping:function(i,n,l){var s=this.getLengths(l),u=0,f=s.length,d;n?d=Math.min(n,s[f-1]):d=i*s[f-1];for(var v=0,m=f-1,y;v<=m;)if(u=Math.floor(v+(m-v)/2),y=s[u]-d,y<0)v=u+1;else if(y>0)m=u-1;else{m=u;break}if(u=m,s[u]===d)return u/(f-1);var T=s[u],S=s[u+1],A=S-T,P=(d-T)/A;return(u+P)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=a},73825:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(80021),o=t(39506),r=t(35154),a=t(43396),i=t(26099),n=new h({Extends:x,initialize:function(s,u,f,d,v,m,y,T){if(typeof s=="object"){var S=s;s=r(S,"x",0),u=r(S,"y",0),f=r(S,"xRadius",0),d=r(S,"yRadius",f),v=r(S,"startAngle",0),m=r(S,"endAngle",360),y=r(S,"clockwise",!1),T=r(S,"rotation",0)}else d===void 0&&(d=f),v===void 0&&(v=0),m===void 0&&(m=360),y===void 0&&(y=!1),T===void 0&&(T=0);x.call(this,"EllipseCurve"),this.p0=new i(s,u),this._xRadius=f,this._yRadius=d,this._startAngle=o(v),this._endAngle=o(m),this._clockwise=y,this._rotation=o(T)},getStartPoint:function(l){return l===void 0&&(l=new i),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,s){s===void 0&&(s=new i);for(var u=Math.PI*2,f=this._endAngle-this._startAngle,d=Math.abs(f)<Number.EPSILON;f<0;)f+=u;for(;f>u;)f-=u;f<Number.EPSILON&&(d?f=0:f=u),this._clockwise&&!d&&(f===u?f=-u:f=f-u);var v=this._startAngle+l*f,m=this.p0.x+this._xRadius*Math.cos(v),y=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var T=Math.cos(this._rotation),S=Math.sin(this._rotation),A=m-this.p0.x,P=y-this.p0.y;m=A*T-P*S+this.p0.x,y=A*S+P*T+this.p0.y}return s.set(m,y)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return a(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return a(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return a(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});n.fromJSON=function(l){return new n(l)},c.exports=n},33951:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(80021),o=t(19217),r=t(87841),a=t(26099),i=new h({Extends:x,initialize:function(l,s){x.call(this,"LineCurve"),Array.isArray(l)&&(s=new a(l[2],l[3]),l=new a(l[0],l[1])),this.p0=l,this.p1=s,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new r),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new a),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new a),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new a),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,s){var u;if(l){var f=this.getLengths(s),d=f[f.length-1],v=Math.min(l,d);u=v/d}else u=n;return u},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(n){var l=n.points,s=new a(l[0],l[1]),u=new a(l[2],l[3]);return new i(s,u)},c.exports=i},14744:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(80021),o=t(32112),r=t(26099),a=new h({Extends:x,initialize:function(n,l,s){x.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(s=new r(n[4],n[5]),l=new r(n[2],n[3]),n=new r(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s},getStartPoint:function(i){return i===void 0&&(i=new r),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new r);var l=this.p0,s=this.p1,u=this.p2;return n.set(o(i,l.x,s.x,u.x),o(i,l.y,s.y,u.y))},draw:function(i,n){n===void 0&&(n=32);var l=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)i.lineTo(l[s].x,l[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(i){var n=i.points,l=new r(n[0],n[1]),s=new r(n[2],n[3]),u=new r(n[4],n[5]);return new a(l,s,u)},c.exports=a},42534:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),x=t(83419),o=t(80021),r=t(26099),a=new x({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(i){for(var n=0;n<i.length;n++){var l=new r;typeof i[n]=="number"?(l.x=i[n],l.y=i[n+1],n++):Array.isArray(i[n])?(l.x=i[n][0],l.y=i[n][1]):(l.x=i[n].x,l.y=i[n].y),this.points.push(l)}return this},addPoint:function(i,n){var l=new r(i,n);return this.points.push(l),l},getStartPoint:function(i){return i===void 0&&(i=new r),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,n){n===void 0&&(n=new r);var l=this.points,s=(l.length-1)*i,u=Math.floor(s),f=s-u,d=l[u===0?u:u-1],v=l[u],m=l[u>l.length-2?l.length-1:u+1],y=l[u>l.length-3?l.length-1:u+2];return n.set(h(f,d.x,v.x,m.x,y.x),h(f,d.y,v.y,m.y,y.y))},toJSON:function(){for(var i=[],n=0;n<this.points.length;n++)i.push(this.points[n].x),i.push(this.points[n].y);return{type:this.type,points:i}}});a.fromJSON=function(i){return new a(i.points)},c.exports=a},25410:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(26099),o=new h({initialize:function(a,i){this.active=!1,this.p0=new x(a,i)},getPoint:function(r,a){return a===void 0&&(a=new x),a.copy(this.p0)},getPointAt:function(r,a){return this.getPoint(r,a)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=o},46669:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(46728),o=t(73825),r=t(39429),a=t(33951),i=t(68618),n=t(14744),l=t(87841),s=t(42534),u=t(26099),f=t(36383),d=new h({initialize:function(m,y){m===void 0&&(m=0),y===void 0&&(y=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,y)},add:function(v){return this.curves.push(v),this},circleTo:function(v,m,y){return m===void 0&&(m=!1),this.ellipseTo(v,v,0,360,m,y)},closePath:function(){var v=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return v.equals(m)||this.curves.push(new a(m,v)),this},cubicBezierTo:function(v,m,y,T,S,A){var P=this.getEndPoint(),w,M,D;return v instanceof u?(w=v,M=m,D=y):(w=new u(y,T),M=new u(S,A),D=new u(v,m)),this.add(new x(P,w,M,D))},quadraticBezierTo:function(v,m,y,T){var S=this.getEndPoint(),A,P;return v instanceof u?(A=v,P=m):(A=new u(y,T),P=new u(v,m)),this.add(new n(S,A,P))},draw:function(v,m){for(var y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&T.draw(v,m)}return v},ellipseTo:function(v,m,y,T,S,A){var P=new o(0,0,v,m,y,T,S,A),w=this.getEndPoint(this._tmpVec2A),M=P.getStartPoint(this._tmpVec2B);return w.subtract(M),P.x=w.x,P.y=w.y,this.add(P)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var m=0;m<v.curves.length;m++){var y=v.curves[m];switch(y.type){case"LineCurve":this.add(a.fromJSON(y));break;case"EllipseCurve":this.add(o.fromJSON(y));break;case"SplineCurve":this.add(s.fromJSON(y));break;case"CubicBezierCurve":this.add(x.fromJSON(y));break;case"QuadraticBezierCurve":this.add(n.fromJSON(y));break}}return this},getBounds:function(v,m){v===void 0&&(v=new l),m===void 0&&(m=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var y=new l,T=f.MIN_SAFE_INTEGER,S=f.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var P=this.curves[A];P.active&&(P.getBounds(y,m),v.x=Math.min(v.x,y.x),v.y=Math.min(v.y,y.y),T=Math.max(T,y.right),S=Math.max(S,y.bottom))}return v.right=T,v.bottom=S,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],m=0,y=0;y<this.curves.length;y++)m+=this.curves[y].getLength(),v.push(m);return this.cacheLengths=v,v},getCurveAt:function(v){for(var m=v*this.getLength(),y=this.getCurveLengths(),T=0;T<y.length;){if(y[T]>=m)return this.curves[T];T++}return null},getEndPoint:function(v){return v===void 0&&(v=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,m){m===void 0&&(m=new u);for(var y=v*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=y){var A=T[S]-y,P=this.curves[S],w=P.getLength(),M=w===0?0:1-A/w;return P.getPointAt(M,m)}S++}return null},getPoints:function(v,m){!v&&!m&&(v=this.defaultDivisions);for(var y=[],T,S=0;S<this.curves.length;S++){var A=this.curves[S];if(A.active)for(var P=A.getResolution(v),w=A.getPoints(P,m),M=0;M<w.length;M++){var D=w[M];T&&T.equals(D)||(y.push(D),T=D)}}return this.autoClose&&y.length>1&&!y[y.length-1].equals(y[0])&&y.push(y[0]),y},getRandomPoint:function(v){return v===void 0&&(v=new u),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var m=[],y=0;y<=v;y++)m.push(this.getPoint(y/v));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(v){return v===void 0&&(v=new u),v.copy(this.startPoint)},getTangent:function(v,m){m===void 0&&(m=new u);for(var y=v*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=y){var A=T[S]-y,P=this.curves[S],w=P.getLength(),M=w===0?0:1-A/w;return P.getTangentAt(M,m)}S++}return null},lineTo:function(v,m){v instanceof u?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,m);var y=this.getEndPoint(this._tmpVec2A);return this.add(new a([y.x,y.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new s(v))},moveTo:function(v,m){return v instanceof u?this.add(new i(v.x,v.y)):this.add(new i(v,m))},toJSON:function(){for(var v=[],m=0;m<this.curves.length;m++)v.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(v,m){return new d(v,m)}),c.exports=d},45893:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(24882),o=new h({initialize:function(a,i){this.parent=a,this.events=i,i||(this.events=a.events?a.events:a),this.list={},this.values={},this._frozen=!1,!a.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(r){var a=this.list;if(Array.isArray(r)){for(var i=[],n=0;n<r.length;n++)i.push(a[r[n]]);return i}else return a[r]},getAll:function(){var r={};for(var a in this.list)this.list.hasOwnProperty(a)&&(r[a]=this.list[a]);return r},query:function(r){var a={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(r)&&(a[i]=this.list[i]);return a},set:function(r,a){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,a);for(var i in r)this.setValue(i,r[i]);return this},inc:function(r,a){if(this._frozen)return this;a===void 0&&(a=1);var i=this.get(r);return i===void 0&&(i=0),this.set(r,i+a),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,a){if(this._frozen)return this;if(this.has(r))this.values[r]=a;else{var i=this,n=this.list,l=this.events,s=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return n[r]},set:function(u){if(!i._frozen){var f=n[r];n[r]=u,l.emit(x.CHANGE_DATA,s,r,u,f),l.emit(x.CHANGE_DATA_KEY+r,s,u,f)}}}),n[r]=a,l.emit(x.SET_DATA,s,r,a)}return this},each:function(r,a){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var l in this.list)i[1]=l,i[2]=this.list[l],r.apply(a,i);return this},merge:function(r,a){a===void 0&&(a=!0);for(var i in r)r.hasOwnProperty(i)&&(a||!a&&!this.has(i))&&this.setValue(i,r[i]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var a=0;a<r.length;a++)this.removeValue(r[a]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var a=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(x.REMOVE_DATA,this.parent,r,a)}return this},pop:function(r){var a=void 0;return!this._frozen&&this.has(r)&&(a=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(x.REMOVE_DATA,this.parent,r,a)),a},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var a in this.list)this.list[a]!==void 0&&r++;return r}}});c.exports=o},63646:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(45893),o=t(37277),r=t(44594),a=new h({Extends:x,initialize:function(n){x.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(r.BOOT,this.boot,this),n.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",a,"data"),c.exports=a},10700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},93608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},60883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},69780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},22166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},24882:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),a=!!r.canPlayType;try{if(a){var i=function(s,u){var f=r.canPlayType("audio/"+s).replace(/^no$/,"");return u?!!(f||r.canPlayType("audio/"+u).replace(/^no$/,"")):!!f};if(x.ogg=i('ogg; codecs="vorbis"'),x.opus=i('ogg; codecs="opus"',"opus"),x.mp3=i("mpeg"),x.wav=i("wav"),x.m4a=i("x-m4a"),x.aac=i("aac"),x.flac=i("flac","x-flac"),x.webm=i('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)x.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(x.dolby=!0)}}}}catch{}return x}c.exports=o()},84148:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(x.edge=!0,x.es2019=!0):/OPR/.test(r)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(r)&&!h.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(r)&&h.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(r)&&!h.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(x.silk=!0),x}c.exports=o()},89289:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var s=new Image;s.onload=function(){var u=h.create2D(s,6),f=u.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(s,2,0),!f.getImageData(2,0,1,1))return!1;var d=f.getImageData(2,0,1,1).data;h.remove(s),x.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},s.src=i+"/wCKxvRF"+n},l.src=i+"AP804Oa6"+n,!1}function r(){var i=h.create2D(this,2),n=i.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var s=n.getImageData(1,0,1,1),u=s.data[0]===l.data[0]&&s.data[1]===l.data[1]&&s.data[2]===l.data[2]&&s.data[3]===l.data[3];return h.remove(this),u}function a(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=o(),x.supportInverseAlpha=r()),x}c.exports=a()},89357:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),x=t(84148),o=t(27919),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function a(){var n=new ArrayBuffer(4),l=new Uint8Array(n),s=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var s=o.createWebGL(this),u=s.getContext("webgl")||s.getContext("experimental-webgl"),f=o.create2D(this),d=f.getContext("2d",{willReadFrequently:!0}),v=d.createImageData(1,1);return n=v.data instanceof Uint8ClampedArray,o.remove(s),o.remove(f),!!u}catch{return!1}return!1};return r.webGL=l(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(r.getUserMedia=!1),!h.iOS&&(x.ie||x.firefox||x.chrome)&&(r.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=a()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&n,r}c.exports=i()},91639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return E;var h,x="Fullscreen",o="FullScreen",r=["request"+x,"request"+o,"webkitRequest"+x,"webkitRequest"+o,"msRequest"+x,"msRequest"+o,"mozRequest"+o,"mozRequest"+x];for(h=0;h<r.length;h++)if(document.documentElement[r[h]]){E.available=!0,E.request=r[h];break}var a=["cancel"+o,"exit"+x,"webkitCancel"+o,"webkitExit"+x,"msCancel"+o,"msExit"+x,"mozCancel"+o,"mozExit"+x];if(E.available){for(h=0;h<a.length;h++)if(document[a[h]]){E.cancel=a[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(E.keyboard=!0),Object.defineProperty(E,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),E}c.exports=t()},31784:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}c.exports=o()},25892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return E;var h=navigator.userAgent;/Windows/.test(h)?E.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(E.iOS=!0,E.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),E.iOSVersion=parseInt(RegExp.$1,10)):E.macOS=!0:/Android/.test(h)?E.android=!0:/Linux/.test(h)?E.linux=!0:/iP[ao]d|iPhone/i.test(h)?(E.iOS=!0,navigator.appVersion.match(/OS (\d+)/),E.iOSVersion=parseInt(RegExp.$1,10),E.iPhone=h.toLowerCase().indexOf("iphone")!==-1,E.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?E.kindle=!0:/CrOS/.test(h)&&(E.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(E.android=!1,E.iOS=!1,E.macOS=!1,E.windows=!0,E.windowsPhone=!0);var x=/Silk/.test(h);return(E.windows||E.macOS||E.linux&&!x||E.chromeOS)&&(E.desktop=!0),(E.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(E.desktop=!1),navigator.standalone&&(E.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(E.cordova=!0),window.ejecta!==void 0&&(E.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(E.node=!0),E.node&&typeof process.versions=="object"&&(E.nodeWebkit=!!process.versions["node-webkit"],E.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(E.crosswalk=!0),E.pixelRatio=window.devicePixelRatio||1,E}c.exports=t()},43267:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return x;var r=document.createElement("video"),a=!!r.canPlayType,i=/^no$/;try{a&&(r.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(x.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(x.h264=!0,x.mp4=!0),r.canPlayType("video/x-m4v").replace(i,"")&&(x.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(x.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(x.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(x.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),x.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=h(n[l],"url",n[l]);if(s.indexOf("blob:")===0)return{url:s,type:""};var u;if(s.indexOf("data:")===0?u=s.split(",")[0].match(/\/(.*?);/):u=s.match(/\.([a-zA-Z0-9]+)($|\?)/),u=h(n[l],"type",u?u[1]:"").toLowerCase(),x[u])return{url:s,type:u}}return null},x}c.exports=o()},82264:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new Float32Array(20),o=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var i=r;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],a)},saturate:function(r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var i=r*2/3+1,n=(i-1)*-.5;return this.multiply([i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0],a)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,a){r===void 0&&(r=0),a===void 0&&(a=!1),r=r/180*Math.PI;var i=Math.cos(r),n=Math.sin(r),l=.213,s=.715,u=.072;return this.multiply([l+i*(1-l)+n*-.213,s+i*-.715+n*-.715,u+i*-.072+n*(1-u),0,0,l+i*-.213+n*.143,s+i*(1-s)+n*.14,u+i*-.072+n*-.283,0,0,l+i*-.213+n*-.787,s+i*-.715+n*s,u+i*(1-u)+n*u,0,0,0,0,0,1,0],a)},grayscale:function(r,a){return r===void 0&&(r=1),a===void 0&&(a=!1),this.saturate(-r,a)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(o.BLACK_WHITE,r)},contrast:function(r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var i=r+1,n=-.5*(i-1);return this.multiply([i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0],a)},negative:function(r){return r===void 0&&(r=!1),this.multiply(o.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(o.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(o.SEPIA,r)},night:function(r,a){return r===void 0&&(r=.1),a===void 0&&(a=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],a)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(o.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(o.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(o.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(o.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(o.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(o.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(o.SHIFT_BGR,r)},multiply:function(r,a){a===void 0&&(a=!1),a||this.reset();var i=this._matrix,n=x;return n.set(i),i.set([n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=o},51767:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(29747),o=new h({initialize:function(a,i,n){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(a,i,n)},set:function(r,a,i){return r===void 0&&(r=0),a===void 0&&(a=0),i===void 0&&(i=0),this._rgb=[r,a,i],this.onChange(),this},equals:function(r,a,i){var n=this._rgb;return n[0]===r&&n[1]===a&&n[2]===i},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=o},60461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=E},54312:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(35893),o=t(86327),r=t(88417),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)+l),o(i,h(n)+s),i};c.exports=a},46768:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(26541),o=t(86327),r=t(385),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)-l),o(i,h(n)+s),i};c.exports=a},35827:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(54380),o=t(86327),r=t(40136),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)+l),o(i,h(n)+s),i};c.exports=a},46871:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66786),x=t(35893),o=t(7702),r=function(a,i,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),h(a,x(i)+n,o(i)+l),a};c.exports=r},5198:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),x=t(26541),o=t(20786),r=t(385),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)-l),o(i,h(n)+s),i};c.exports=a},11879:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),x=[];x[h.BOTTOM_CENTER]=t(54312),x[h.BOTTOM_LEFT]=t(46768),x[h.BOTTOM_RIGHT]=t(35827),x[h.CENTER]=t(46871),x[h.LEFT_CENTER]=t(5198),x[h.RIGHT_CENTER]=t(80503),x[h.TOP_CENTER]=t(89698),x[h.TOP_LEFT]=t(922),x[h.TOP_RIGHT]=t(21373),x[h.LEFT_BOTTOM]=x[h.BOTTOM_LEFT],x[h.LEFT_TOP]=x[h.TOP_LEFT],x[h.RIGHT_BOTTOM]=x[h.BOTTOM_RIGHT],x[h.RIGHT_TOP]=x[h.TOP_RIGHT];var o=function(r,a,i,n,l){return x[i](r,a,n,l)};c.exports=o},80503:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),x=t(54380),o=t(20786),r=t(40136),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)+l),o(i,h(n)+s),i};c.exports=a},89698:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),x=t(17717),o=t(88417),r=t(66737),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),r(i,x(n)-s),i};c.exports=a},922:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),x=t(17717),o=t(385),r=t(66737),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)-l),r(i,x(n)-s),i};c.exports=a},21373:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),x=t(17717),o=t(40136),r=t(66737),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),r(i,x(n)-s),i};c.exports=a},91660:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),x=t(79291),o={In:t(91660),To:t(16694)};o=x(!1,o,h),c.exports=o},21578:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(35893),o=t(88417),r=t(66737),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,x(n)+l),r(i,h(n)+s),i};c.exports=a},10210:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(26541),o=t(385),r=t(66737),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,x(n)-l),r(i,h(n)+s),i};c.exports=a},82341:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(54380),o=t(40136),r=t(66737),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,x(n)+l),r(i,h(n)+s),i};c.exports=a},87958:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(26541),o=t(86327),r=t(40136),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)-l),o(i,h(n)+s),i};c.exports=a},40080:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),x=t(26541),o=t(20786),r=t(40136),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)-l),o(i,h(n)+s),i};c.exports=a},88466:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),x=t(17717),o=t(40136),r=t(66737),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)-l),r(i,x(n)-s),i};c.exports=a},38829:(c,E,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),x=[];x[h.BOTTOM_CENTER]=t(21578),x[h.BOTTOM_LEFT]=t(10210),x[h.BOTTOM_RIGHT]=t(82341),x[h.LEFT_BOTTOM]=t(87958),x[h.LEFT_CENTER]=t(40080),x[h.LEFT_TOP]=t(88466),x[h.RIGHT_BOTTOM]=t(19211),x[h.RIGHT_CENTER]=t(34609),x[h.RIGHT_TOP]=t(48741),x[h.TOP_CENTER]=t(49440),x[h.TOP_LEFT]=t(81288),x[h.TOP_RIGHT]=t(61323);var o=function(r,a,i,n,l){return x[i](r,a,n,l)};c.exports=o},19211:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(54380),o=t(86327),r=t(385),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)+l),o(i,h(n)+s),i};c.exports=a},34609:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),x=t(54380),o=t(20786),r=t(385),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,x(n)+l),o(i,h(n)+s),i};c.exports=a},48741:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),x=t(17717),o=t(385),r=t(66737),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),r(i,x(n)-s),i};c.exports=a},49440:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),x=t(17717),o=t(86327),r=t(88417),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,h(n)+l),o(i,x(n)-s),i};c.exports=a},81288:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),x=t(17717),o=t(86327),r=t(385),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,h(n)-l),o(i,x(n)-s),i};c.exports=a},61323:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),x=t(17717),o=t(86327),r=t(40136),a=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(i,h(n)+l),o(i,x(n)-s),i};c.exports=a},16694:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88417),x=t(20786),o=function(r,a,i){return h(r,a),x(r,i)};c.exports=o},62235:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.y+t.height-t.height*t.originY};c.exports=E},72873:(c,E,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(26541),o=t(54380),r=t(17717),a=t(87841),i=function(n,l){l===void 0&&(l=new a);var s=x(n),u=r(n);return l.x=s,l.y=u,l.width=o(n)-s,l.height=h(n)-u,l};c.exports=i},35893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.x-t.width*t.originX+t.width*.5};c.exports=E},7702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.y-t.height*t.originY+t.height*.5};c.exports=E},26541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.x-t.width*t.originX};c.exports=E},87431:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.width*t.originX};c.exports=E},46928:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.height*t.originY};c.exports=E},54380:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.x+t.width-t.width*t.originX};c.exports=E},17717:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.y-t.height*t.originY};c.exports=E},86327:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.y=h-t.height+t.height*t.originY,t};c.exports=E},88417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.width*t.originX;return t.x=h+x-t.width*.5,t};c.exports=E},20786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.height*t.originY;return t.y=h+x-t.height*.5,t};c.exports=E},385:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x=h+t.width*t.originX,t};c.exports=E},40136:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x=h-t.width+t.width*t.originX,t};c.exports=E},66737:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.y=h+t.height*t.originY,t};c.exports=E},58724:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(x){t.style["image-rendering"]=x}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};c.exports=E},27919:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),x=t(68703),o=[],r=!1,a=function(){var i=function(y,T,S,A,P){T===void 0&&(T=1),S===void 0&&(S=1),A===void 0&&(A=h.CANVAS),P===void 0&&(P=!1);var w,M=s(A);return M===null?(M={parent:y,canvas:document.createElement("canvas"),type:A},A===h.CANVAS&&o.push(M),w=M.canvas):(M.parent=y,w=M.canvas),P&&(M.parent=w),w.width=T,w.height=S,r&&A===h.CANVAS&&x.disable(w.getContext("2d",{willReadFrequently:!1})),w},n=function(y,T,S){return i(y,T,S,h.CANVAS)},l=function(y,T,S){return i(y,T,S,h.WEBGL)},s=function(y){if(y===void 0&&(y=h.CANVAS),y===h.WEBGL)return null;for(var T=0;T<o.length;T++){var S=o[T];if(!S.parent&&S.type===y)return S}return null},u=function(y){var T=y instanceof HTMLCanvasElement;o.forEach(function(S){(T&&S.canvas===y||!T&&S.parent===y)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},f=function(){var y=0;return o.forEach(function(T){T.parent&&y++}),y},d=function(){return o.length-f()},v=function(){r=!0},m=function(){r=!1};return{create2D:n,create:i,createWebGL:l,disableSmoothing:v,enableSmoothing:m,first:s,free:d,pool:o,remove:u,total:f}};c.exports=a()},68703:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E="",t=function(){var h=function(a){for(var i=["i","webkitI","msI","mozI","oI"],n=0;n<i.length;n++){var l=i[n]+"mageSmoothingEnabled";if(l in a)return l}return null},x=function(a){return E===""&&(E=h(a)),E&&(a[E]=!0),a},o=function(a){return E===""&&(E=h(a)),E&&(a[E]=!1),a},r=function(a){return E!==null?a[E]:null};return{disable:o,enable:x,getPrefix:h,isEnabled:r}};c.exports=t()},65208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};c.exports=E},91610:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(o){t.style[o+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};c.exports=E},26253:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37589),o=t(1e3),r=t(7537),a=t(87837),i=new h({initialize:function(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,s,u,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,s,u,f){return u===void 0&&(u=255),f===void 0&&(f=!0),this._locked=!0,this.red=n,this.green=l,this.blue=s,this.alpha=u,this._locked=!1,this.update(f)},setGLTo:function(n,l,s,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=s,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,s){return r(n,l,s,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,s=this.g,u=this.b,f=this.a;return this._color=x(l,s,u),this._color32=o(l,s,u,f),this._rgba="rgba("+l+","+s+","+u+","+f/255+")",n&&a(l,s,u,this),this},updateHSV:function(){var n=this.r,l=this.g,s=this.b;return a(n,l,s,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n)),u=Math.floor(n+Math.random()*(l-n)),f=Math.floor(n+Math.random()*(l-n));return this.setTo(s,u,f)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n));return this.setTo(s,s,s)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,s=this.g,u=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(n/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(n/100)))),this.setTo(l,s,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,r(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,r(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,r(this._h,this._s,n,this)}}});c.exports=i},92728:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),x=function(o){o===void 0&&(o=1024);var r=[],a=255,i,n=255,l=0,s=0;for(i=0;i<=a;i++)r.push({r:n,g:i,b:s,color:h(n,i,s)});for(l=255,i=a;i>=0;i--)r.push({r:i,g:l,b:s,color:h(i,l,s)});for(n=0,i=0;i<=a;i++,l--)r.push({r:n,g:l,b:i,color:h(n,l,i)});for(l=0,s=255,i=0;i<=a;i++,s--,n++)r.push({r:n,g:l,b:s,color:h(n,l,s)});if(o===1024)return r;var u=[],f=0,d=1024/o;for(i=0;i<o;i++)u.push(r[Math.floor(f)]),f+=d;return u};c.exports=x},91588:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};c.exports=E},62957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};c.exports=E},37589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t<<16|h<<8|x};c.exports=E},1e3:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){return o<<24|t<<16|h<<8|x};c.exports=E},62183:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=t(89528),o=function(r,a,i){var n=i,l=i,s=i;if(a!==0){var u=i<.5?i*(1+a):i+a-i*a,f=2*i-u;n=x(f,u,r+1/3),l=x(f,u,r),s=x(f,u,r-1/3)}var d=new h;return d.setGLTo(n,l,s,1)};c.exports=o},27939:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7537),x=function(o,r){o===void 0&&(o=1),r===void 0&&(r=1);for(var a=[],i=0;i<=359;i++)a.push(h(i/359,o,r));return a};c.exports=x},7537:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589);function x(r,a,i,n){var l=(r+a*6)%6,s=Math.min(l,4-l,1);return Math.round(255*(n-n*i*Math.max(0,s)))}var o=function(r,a,i,n){a===void 0&&(a=1),i===void 0&&(i=1);var l=x(5,r,a,i),s=x(3,r,a,i),u=x(1,r,a,i);return n?n.setTo?n.setTo(l,s,u,n.alpha,!0):(n.r=l,n.g=s,n.b=u,n.color=h(l,s,u),n):{r:l,g:s,b:u,color:h(l,s,u)}};c.exports=o},70238:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=function(o){var r=new h;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,u,f,d){return u+u+f+f+d+d});var a=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(a){var i=parseInt(a[1],16),n=parseInt(a[2],16),l=parseInt(a[3],16);r.setTo(i,n,l)}return r};c.exports=x},89528:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?t+(h-t)*6*x:x<.5?h:x<.6666666666666666?t+(h-t)*(.6666666666666666-x)*6:t};c.exports=E},30100:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=t(90664),o=function(r){var a=x(r);return new h(a.r,a.g,a.b,a.a)};c.exports=o},90664:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};c.exports=E},13699:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),x=t(37589),o=function(i,n,l,s,u,f,d,v){d===void 0&&(d=100),v===void 0&&(v=0);var m=v/d,y=h(i,s,m),T=h(n,u,m),S=h(l,f,m);return{r:y,g:T,b:S,a:255,color:x(y,T,S)}},r=function(i,n,l,s){return l===void 0&&(l=100),s===void 0&&(s=0),o(i.r,i.g,i.b,n.r,n.g,n.b,l,s)},a=function(i,n,l,s,u,f){return u===void 0&&(u=100),f===void 0&&(f=0),o(i.r,i.g,i.b,n,l,s,u,f)};c.exports={RGBWithRGB:o,ColorWithRGB:a,ColorWithColor:r}},68957:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=function(o){return new h(o.r,o.g,o.b,o.a)};c.exports=x},87388:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=function(o){var r=new h,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(a){var i=parseInt(a[1],10),n=parseInt(a[2],10),l=parseInt(a[3],10),s=a[4]!==void 0?parseFloat(a[4]):1;r.setTo(i,n,l,s*255)}return r};c.exports=x},87837:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,h/=255,x/=255;var r=Math.min(t,h,x),a=Math.max(t,h,x),i=a-r,n=0,l=a===0?0:i/a,s=a;return a!==r&&(a===t?n=(h-x)/i+(h<x?6:0):a===h?n=(x-t)/i+2:a===x&&(n=(t-h)/i+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=s):(o.h=n,o.s=l,o.v=s),o};c.exports=E},75723:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62957),x=function(o,r,a,i,n){return i===void 0&&(i=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(r<<8)+a).toString(16).slice(1,7):"0x"+h(i)+h(o)+h(r)+h(a)};c.exports=x},85386:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),x=t(40987),o=function(r,a){return r===void 0&&(r=0),a===void 0&&(a=255),new x(h(r,a),h(r,a),h(r,a))};c.exports=o},80333:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70238),x=t(30100),o=t(68957),r=t(87388),a=function(i){var n=typeof i;switch(n){case"string":return i.substr(0,3).toLowerCase()==="rgb"?r(i):h(i);case"number":return x(i);case"object":return o(i)}};c.exports=a},3956:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987);h.ColorSpectrum=t(92728),h.ColorToRGBA=t(91588),h.ComponentToHex=t(62957),h.GetColor=t(37589),h.GetColor32=t(1e3),h.HexStringToColor=t(70238),h.HSLToColor=t(62183),h.HSVColorWheel=t(27939),h.HSVToRGB=t(7537),h.HueToComponent=t(89528),h.IntegerToColor=t(30100),h.IntegerToRGB=t(90664),h.Interpolate=t(13699),h.ObjectToColor=t(68957),h.RandomRGB=t(85386),h.RGBStringToColor=t(87388),h.RGBToHSV=t(87837),h.RGBToString=t(75723),h.ValueToColor=t(80333),c.exports=h},27460:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(39429),o=new h({initialize:function(a,i,n,l,s,u){i||(i=a.sys.make.image({x:n,y:l,key:s,frame:u,add:!1})),this.bitmapMask=i,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,a,i){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,a,i)},postRenderWebGL:function(r,a,i){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,a,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(r,a,i,n,l){return new o(this.scene,r,a,i,n,l)}),c.exports=o},80661:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a){this.geometryMask=a,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,r,a){var i=o.gl;o.flush(),o.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:a}),this.applyStencil(o,a,!0),o.maskCount++},applyStencil:function(o,r,a){var i=o.gl,n=this.geometryMask,l=o.maskCount,s=255;i.colorMask(!1,!1,!1,!1),a?(i.stencilFunc(i.EQUAL,l,s),i.stencilOp(i.KEEP,i.KEEP,i.INCR),l++):(i.stencilFunc(i.EQUAL,l+1,s),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),this.level=l,n.renderWebGL(o,n,r),o.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.invertAlpha?i.stencilFunc(i.NOTEQUAL,l,s):i.stencilFunc(i.EQUAL,l,s)},postRenderWebGL:function(o){var r=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var a=o.currentMask;if(o.maskStack.length===0)a.mask=null,r.disable(r.STENCIL_TEST);else{var i=o.maskStack[o.maskStack.length-1];i.mask.applyStencil(o,i.camera,!1),o.currentCameraMask.mask!==i.mask?(a.mask=i.mask,a.camera=i.camera):a.mask=null}},preRenderCanvas:function(o,r,a){var i=this.geometryMask;o.currentContext.save(),i.renderCanvas(o,i,a,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=x},69781:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i,n){(!a||a==="")&&(a=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=r,this.fragmentSrc=a,this.vertexSrc=i,this.uniforms=n}});c.exports=x},40366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x;if(h)typeof h=="string"?x=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(x=h);else if(t.parentElement||h===null)return t;return x||(x=document.body),x.appendChild(t),t};c.exports=E},83719:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),x=function(o){var r=o.config;if(!(!r.parent||!r.domCreateContainer)){var a=document.createElement("div");a.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=a,h(a,r.parent)}};c.exports=x},57264:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),x=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),o()};document.body?h.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};c.exports=x},57811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),x={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),x.w=h===90?o.offsetHeight:window.innerWidth,x.h=h===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?x.h:x.w};c.exports=E},45818:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),x=function(o,r){var a=window.screen,i=a?a.orientation||a.mozOrientation||a.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return r>o?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};c.exports=x},74403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};c.exports=E},56836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h="";try{if(window.DOMParser){var x=new DOMParser;h=x.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};c.exports=E},35846:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){t.parentNode&&t.parentNode.removeChild(t)};c.exports=E},43092:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(29747),o=new h({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var a=this;this.step=function i(n){a.callback(n),a.isRunning&&(a.timeOutID=window.requestAnimationFrame(i))},this.stepTimeout=function i(){a.isRunning&&(a.timeOutID=window.setTimeout(i,a.delay)),a.callback(window.performance.now())}},start:function(r,a,i){this.isRunning||(this.callback=r,this.isSetTimeOut=a,this.delay=i,this.isRunning=!0,this.timeOutID=a?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});c.exports=o},84902:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};c.exports=h},47565:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(37277),r=new h({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",r,"events"),c.exports=r},93055:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(47565)}},20122:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n){n===void 0&&(n=1),x.call(this,o.BARREL,i),this.amount=n}});c.exports=r},32251:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u,f,d){l===void 0&&(l=1),s===void 0&&(s=1),u===void 0&&(u=1),f===void 0&&(f=1),d===void 0&&(d=4),x.call(this,o.BLOOM,i),this.steps=d,this.offsetX=l,this.offsetY=s,this.blurStrength=u,this.strength=f,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var i=this.glcolor;i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(a&255)/255}}});c.exports=r},9047:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u,f,d){n===void 0&&(n=0),l===void 0&&(l=2),s===void 0&&(s=2),u===void 0&&(u=1),d===void 0&&(d=4),x.call(this,o.BLUR,i),this.quality=n,this.x=l,this.y=s,this.steps=d,this.strength=u,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var i=this.glcolor;i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(a&255)/255}}});c.exports=r},27885:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u,f,d,v){n===void 0&&(n=.5),l===void 0&&(l=1),s===void 0&&(s=.2),u===void 0&&(u=!1),f===void 0&&(f=1),d===void 0&&(d=1),v===void 0&&(v=1),x.call(this,o.BOKEH,i),this.radius=n,this.amount=l,this.contrast=s,this.isTiltShift=u,this.strength=v,this.blurX=f,this.blurY=d}});c.exports=r},12578:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u,f){n===void 0&&(n=8),u===void 0&&(u=1),f===void 0&&(f=.005),x.call(this,o.CIRCLE,i),this.scale=u,this.feather=f,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),s!=null&&(this.backgroundColor=s)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var i=this.glcolor;i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(a&255)/255}},backgroundColor:{get:function(){var a=this.glcolor2;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var i=this.glcolor2;i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(a&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(a){this.glcolor2[3]=a}}});c.exports=r},15802:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89422),o=t(14811),r=new h({Extends:x,initialize:function(i){x.call(this),this.type=o.COLOR_MATRIX,this.gameObject=i,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=r},72898:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a){this.type=r,this.gameObject=a,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=x},44553:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),s===void 0&&(s=.005),x.call(this,o.DISPLACEMENT,i),this.x=l,this.y=s,this.glTexture,this.setTexture(n)},setTexture:function(a){var i=this.gameObject.scene.sys.textures.getFrame(a);return i&&(this.glTexture=i.glTexture),this}});c.exports=r},68531:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u){l===void 0&&(l=4),s===void 0&&(s=0),u===void 0&&(u=!1),x.call(this,o.GLOW,i),this.outerStrength=l,this.innerStrength=s,this.knockout=u,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var i=this.glcolor;i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(a&255)/255}}});c.exports=r},37102:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u,f,d,v,m){s===void 0&&(s=.2),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=1),m===void 0&&(m=0),x.call(this,o.GRADIENT,i),this.alpha=s,this.size=m,this.fromX=u,this.fromY=f,this.toX=d,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var a=this.glcolor1;return(a[0]<<16)+(a[1]<<8)+(a[2]|0)},set:function(a){var i=this.glcolor1;i[0]=a>>16&255,i[1]=a>>8&255,i[2]=a&255}},color2:{get:function(){var a=this.glcolor2;return(a[0]<<16)+(a[1]<<8)+(a[2]|0)},set:function(a){var i=this.glcolor2;i[0]=a>>16&255,i[1]=a>>8&255,i[2]=a&255}}});c.exports=r},86886:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n){n===void 0&&(n=1),x.call(this,o.PIXELATE,i),this.amount=n}});c.exports=r},92322:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u,f,d,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=.1),u===void 0&&(u=1),d===void 0&&(d=6),v===void 0&&(v=1),x.call(this,o.SHADOW,i),this.x=n,this.y=l,this.decay=s,this.power=u,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=v,f!==void 0&&(this.color=f)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var i=this.glcolor;i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(a&255)/255}}});c.exports=r},39563:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=3),u===void 0&&(u=!1),x.call(this,o.SHINE,i),this.speed=n,this.lineWidth=l,this.gradient=s,this.reveal=u}});c.exports=r},56448:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=.5),u===void 0&&(u=.5),x.call(this,o.VIGNETTE,i),this.x=n,this.y=l,this.radius=s,this.strength=u}});c.exports=r},38433:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),r=new h({Extends:x,initialize:function(i,n,l,s,u){n===void 0&&(n=.1),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),x.call(this,o.WIPE,i),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=s,this.reveal=u}});c.exports=r},14811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=E},66064:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=h(!1,o,x),c.exports=o},25305:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(23568),o=function(r,a,i){a.x=x(i,"x",0),a.y=x(i,"y",0),a.depth=x(i,"depth",0),a.flipX=x(i,"flipX",!1),a.flipY=x(i,"flipY",!1);var n=x(i,"scale",null);typeof n=="number"?a.setScale(n):n!==null&&(a.scaleX=x(n,"x",1),a.scaleY=x(n,"y",1));var l=x(i,"scrollFactor",null);typeof l=="number"?a.setScrollFactor(l):l!==null&&(a.scrollFactorX=x(l,"x",1),a.scrollFactorY=x(l,"y",1)),a.rotation=x(i,"rotation",0);var s=x(i,"angle",null);s!==null&&(a.angle=s),a.alpha=x(i,"alpha",1);var u=x(i,"origin",null);if(typeof u=="number")a.setOrigin(u);else if(u!==null){var f=x(u,"x",.5),d=x(u,"y",.5);a.setOrigin(f,d)}a.blendMode=x(i,"blendMode",h.NORMAL),a.visible=x(i,"visible",!0);var v=x(i,"add",!0);return v&&r.sys.displayList.add(a),a.preUpdate&&r.sys.updateList.add(a),a};c.exports=o},13059:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23568),x=function(o,r){var a=h(r,"anims",null);if(a===null)return o;if(typeof a=="string")o.anims.play(a);else if(typeof a=="object"){var i=o.anims,n=h(a,"key",void 0);if(n){var l=h(a,"startFrame",void 0),s=h(a,"delay",0),u=h(a,"repeat",0),f=h(a,"repeatDelay",0),d=h(a,"yoyo",!1),v=h(a,"play",!1),m=h(a,"delayedPlay",0),y={key:n,delay:s,repeat:u,repeatDelay:f,yoyo:d,startFrame:l};v?i.play(y):m>0?i.playAfterDelay(y,m):i.load(y)}}return o};c.exports=x},8050:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(73162),o=t(37277),r=t(51708),a=t(44594),i=t(19186),n=new h({Extends:x,initialize:function(s){x.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(r.ADDED_TO_SCENE,l,this.scene),this.events.emit(a.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(r.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,s){return l._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,s=l.length;s--;)l[s].destroy(!0);l.length=0,this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),c.exports=n},95643:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(53774),o=t(45893),r=t(50792),a=t(51708),i=t(44594),n=new h({Extends:r,initialize:function(s,u){r.call(this),this.scene=s,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,s){return this.data||(this.data=new o(this)),this.data.set(l,s),this},incData:function(l,s){return this.data||(this.data=new o(this)),this.data.inc(l,s),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,s,u){return this.scene.sys.input.enable(this,l,s,u),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(l){var s=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!s||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,s=this.parentContainer,u=[];s&&(u.unshift(s.getIndex(l)),l=s,s.parentContainer);)s=s.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),l.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,c.exports=n},44603:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37277),o=t(44594),r=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(a,i){r.prototype.hasOwnProperty(a)||(r.prototype[a]=i)},r.remove=function(a){r.prototype.hasOwnProperty(a)&&delete r.prototype[a]},x.register("GameObjectCreator",r,"make"),c.exports=r},39429:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37277),o=t(44594),r=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(a){return(a.renderCanvas||a.renderWebGL)&&this.displayList.add(a),a.preUpdate&&this.updateList.add(a),a},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(a,i){r.prototype.hasOwnProperty(a)||(r.prototype[a]=i)},r.remove=function(a){r.prototype.hasOwnProperty(a)&&delete r.prototype[a]},x.register("GameObjectFactory",r,"add"),c.exports=r},91296:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),x=new h,o=new h,r=new h,a={camera:x,sprite:o,calc:r},i=function(n,l,s){var u=x,f=o,d=r;return f.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),u.copyFrom(l.matrix),s?(u.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),f.e=n.x,f.f=n.y):(f.e-=l.scrollX*n.scrollFactorX,f.f-=l.scrollY*n.scrollFactorY),u.multiply(f,d),a};c.exports=i},45027:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(25774),o=t(37277),r=t(44594),a=new h({Extends:x,initialize:function(n){x.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(r.BOOT,this.boot,this),n.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(r.PRE_UPDATE,this.update,this),i.on(r.UPDATE,this.sceneUpdate,this),i.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,n){for(var l=this._active,s=l.length,u=0;u<s;u++){var f=l[u];f.active&&f.preUpdate.call(f,i,n)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(r.PRE_UPDATE,this.update,this),n.off(r.UPDATE,this.sceneUpdate,this),n.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",a,"updateList"),c.exports=a},3217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r,a,i,n,l,s,u,f,d,v,m){var y=x.x-h.displayOriginX+r,T=x.y-h.displayOriginY+a,S=y+x.w,A=T+x.h,P=i.a,w=i.b,M=i.c,D=i.d,F=i.e,L=i.f,O=y*P+T*M+F,B=y*w+T*D+L,U=y*P+A*M+F,W=y*w+A*D+L,H=S*P+A*M+F,Y=S*w+A*D+L,G=S*P+T*M+F,X=S*w+T*D+L;n&&(O=Math.round(O),B=Math.round(B),U=Math.round(U),W=Math.round(W),H=Math.round(H),Y=Math.round(Y),G=Math.round(G),X=Math.round(X)),t.batchQuad(h,O,B,U,W,H,Y,G,X,o.u0,o.v0,o.u1,o.v1,l,s,u,f,d,v,m)};c.exports=E},53048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){if(x===void 0&&(x=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var r=t.text,a=r.length,i=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,s=Number.MAX_VALUE,u=0,f=0,d=t.fontData.chars,v=t.fontData.lineHeight,m=t.letterSpacing,y=t.lineSpacing,T=0,S=0,A=0,P=null,w=t._align,M=0,D=0,F=t.fontSize/t.fontData.size,L=F*t.scaleX,O=F*t.scaleY,B=null,U=0,W=[],H=Number.MAX_VALUE,Y=0,G=0,X=0,V,b,z,$=[],Q=[],Z=null,q=function(zt,qt){for(var Nt=0,Zt=0;Zt<zt.length;Zt++){var le=zt.charCodeAt(Zt),jt=qt.chars[le];jt&&(Nt+=jt.xAdvance)}return Nt*L};if(i>0){z=r.split(`
`);var j=[];for(V=0;V<z.length;V++){var k=z[V],_="",et="",it="",st="";for(b=0;b<k.length;b++)if(A=k.charCodeAt(b),_+=k[b],A===n||b===k.length-1){st=it+_;var nt=q(st,t.fontData);nt<=i?it=st:(et=et.slice(0,-1),et+=(et?`
`:"")+it,it=_),_=""}et=et.slice(0,-1),et+=(et?`
`:"")+it,j.push(et)}r=j.join(`
`),o.wrappedText=r,a=r.length}var ut=0;for(V=0;V<a;V++){if(A=r.charCodeAt(V),A===10){Z!==null&&($.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*O,w:Z.w*L,h:Z.h*O}),Z=null),B=null,W[G]=X,X>Y&&(Y=X),X<H&&(H=X),G++,X=0,T=0,S=(v+y)*G;continue}if(P=d[A],!!P){if(M=T,D=S,B!==null){var ft=P.kerning[U];M+=ft!==void 0?ft:0}l>M&&(l=M),s>D&&(s=D);var ht=M+P.xAdvance,rt=D+v;u<ht&&(u=ht),f<rt&&(f=rt);var lt=P.xOffset+P.xAdvance+(ft!==void 0?ft:0);A===n?Z!==null&&($.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*O,w:Z.w*L,h:Z.h*O}),Z=null):(Z===null&&(Z={word:"",i:ut,x:T,y:S,w:0,h:v}),Z.word=Z.word.concat(r[V]),Z.w+=lt),Q.push({i:ut,idx:V,char:r[V],code:A,x:(P.xOffset+M)*F,y:(P.yOffset+S)*F,w:P.width*F,h:P.height*F,t:S*F,r:ht*F,b:v*F,line:G,glyph:P}),T+=P.xAdvance+m+(ft!==void 0?ft:0),B=P,U=A,X=ht*F,ut++}}if(Z!==null&&$.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*O,w:Z.w*L,h:Z.h*O}),W[G]=X,X>Y&&(Y=X),X<H&&(H=X),w>0)for(var dt=0;dt<Q.length;dt++){var xt=Q[dt];if(w===1){var yt=(Y-W[xt.line])/2;xt.x+=yt,xt.r+=yt}else if(w===2){var At=Y-W[xt.line];xt.x+=At,xt.r+=At}}var Et=o.local,Lt=o.global;return z=o.lines,Et.x=l*F,Et.y=s*F,Et.width=u*F,Et.height=f*F,Lt.x=t.x-t._displayOriginX+l*L,Lt.y=t.y-t._displayOriginY+s*O,Lt.width=u*L,Lt.height=f*O,z.shortest=H,z.longest=Y,z.lengths=W,h&&(Et.x=Math.ceil(Et.x),Et.y=Math.ceil(Et.y),Et.width=Math.ceil(Et.width),Et.height=Math.ceil(Et.height),Lt.x=Math.ceil(Lt.x),Lt.y=Math.ceil(Lt.y),Lt.width=Math.ceil(Lt.width),Lt.height=Math.ceil(Lt.height),z.shortest=Math.ceil(H),z.longest=Math.ceil(Y)),x&&(t._displayOriginX=t.originX*Et.width,t._displayOriginY=t.originY*Et.height,Lt.x=t.x-t._displayOriginX*t.scaleX,Lt.y=t.y-t._displayOriginY*t.scaleY,h&&(Lt.x=Math.ceil(Lt.x),Lt.y=Math.ceil(Lt.y))),o.words=$,o.characters=Q,o.lines.height=v,o.scale=F,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};c.exports=E},61327:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21859),x=function(o,r,a,i,n,l,s){var u=o.sys.textures.get(a),f=u.get(i),d=o.sys.cache.xml.get(n);if(f&&d){var v=h(d,f,l,s,u);return o.sys.cache.bitmapFont.add(r,{data:v,texture:a,frame:i,fromAtlas:!0}),!0}else return!1};c.exports=x},6925:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x=function(o,r){var a=r.width,i=r.height,n=Math.floor(a/2),l=Math.floor(i/2),s=h(r,"chars","");if(s!==""){var u=h(r,"image",""),f=o.sys.textures.getFrame(u),d=f.cutX,v=f.cutY,m=f.source.width,y=f.source.height,T=h(r,"offset.x",0),S=h(r,"offset.y",0),A=h(r,"spacing.x",0),P=h(r,"spacing.y",0),w=h(r,"lineSpacing",0),M=h(r,"charsPerRow",null);M===null&&(M=m/a,M>s.length&&(M=s.length));for(var D=T,F=S,L={retroFont:!0,font:u,size:a,lineHeight:i+w,chars:{}},O=0,B=0;B<s.length;B++){var U=s.charCodeAt(B),W=(d+D)/m,H=(v+F)/y,Y=(d+D+a)/m,G=(v+F+i)/y;L.chars[U]={x:D,y:F,width:a,height:i,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{},u0:W,v0:H,u1:Y,v1:G},O++,O===M?(O=0,D=T,F+=i+P):D+=a+A}var X={data:L,frame:null,texture:u};return X}};c.exports=x},21859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function E(h,x){return parseInt(h.getAttribute(x),10)}var t=function(h,x,o,r,a){o===void 0&&(o=0),r===void 0&&(r=0);var i=x.cutX,n=x.cutY,l=x.source.width,s=x.source.height,u=x.sourceIndex,f={},d=h.getElementsByTagName("info")[0],v=h.getElementsByTagName("common")[0];f.font=d.getAttribute("face"),f.size=E(d,"size"),f.lineHeight=E(v,"lineHeight")+r,f.chars={};var m=h.getElementsByTagName("char"),y=x!==void 0&&x.trimmed;if(y)var T=x.height,S=x.width;for(var A=0;A<m.length;A++){var P=m[A],w=E(P,"id"),M=String.fromCharCode(w),D=E(P,"x"),F=E(P,"y"),L=E(P,"width"),O=E(P,"height");y&&(D<S&&(S=D),F<T&&(T=F)),y&&T!==0&&S!==0&&(D-=x.x,F-=x.y);var B=(i+D)/l,U=(n+F)/s,W=(i+D+L)/l,H=(n+F+O)/s;if(f.chars[w]={x:D,y:F,width:L,height:O,centerX:Math.floor(L/2),centerY:Math.floor(O/2),xOffset:E(P,"xoffset"),yOffset:E(P,"yoffset"),xAdvance:E(P,"xadvance")+o,data:{},kerning:{},u0:B,v0:U,u1:W,v1:H},a&&L!==0&&O!==0){var Y=a.add(M,u,D,F,L,O);Y&&Y.setUVs(L,O,B,U,W,H)}}var G=h.getElementsByTagName("kerning");for(A=0;A<G.length;A++){var X=G[A],V=E(X,"first"),b=E(X,"second"),z=E(X,"amount");f.chars[b].kerning[V]=z}return f};c.exports=t},196:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87662),x=t(79291),o={Parse:t(6925)};o=x(!1,o,h),c.exports=o},87662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=E},2638:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),x=t(83419),o=t(12310),r=new x({Extends:h,Mixins:[o],initialize:function(i,n,l,s,u,f,d){h.call(this,i,n,l,s,u,f,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(a,i){return this.cropWidth=a,this.cropHeight=i,this},setDisplayCallback:function(a){return this.displayCallback=a,this},setScrollX:function(a){return this.scrollX=a,this},setScrollY:function(a){return this.scrollY=a,this}});c.exports=r},86741:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),x=function(o,r,a,i){var n=r._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,r,a,i))){a.addToRenderList(r);var u=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.displayCallback,d=r.callbackData,v=r.fontData.chars,m=r.fontData.lineHeight,y=r._letterSpacing,T=0,S=0,A=0,P=null,w=0,M=0,D=0,F=0,L=0,O=0,B=null,U=0,W=r.frame.source.image,H=u.cutX,Y=u.cutY,G=0,X=0,V=r._fontSize/r.fontData.size,b=r._align,z=0,$=0;r.getTextBounds(!1);var Q=r._bounds.lines;b===1?$=(Q.longest-Q.lengths[0])/2:b===2&&($=Q.longest-Q.lengths[0]),s.translate(-r.displayOriginX,-r.displayOriginY);var Z=a.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(s.beginPath(),s.rect(0,0,r.cropWidth,r.cropHeight),s.clip());for(var q=0;q<l;q++){if(X=V,G=0,A=n.charCodeAt(q),A===10){z++,b===1?$=(Q.longest-Q.lengths[z])/2:b===2&&($=Q.longest-Q.lengths[z]),T=0,S+=m,B=null;continue}if(P=v[A],!!P){if(w=H+P.x,M=Y+P.y,D=P.width,F=P.height,L=P.xOffset+T-r.scrollX,O=P.yOffset+S-r.scrollY,B!==null){var j=P.kerning[U];L+=j!==void 0?j:0}if(f){d.index=q,d.charCode=A,d.x=L,d.y=O,d.scale=X,d.rotation=G,d.data=P.data;var k=f(d);L=k.x,O=k.y,X=k.scale,G=k.rotation}L*=X,O*=X,L+=$,T+=P.xAdvance+y+(j!==void 0?j:0),B=P,U=A,!(D===0||F===0||A===32)&&(Z&&(L=Math.round(L),O=Math.round(O)),s.save(),s.translate(L,O),s.rotate(G),s.scale(X,X),s.drawImage(W,w,M,D,F,0,0,D,F),s.restore())}}s.restore()}};c.exports=x},11164:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),x=t(25305),o=t(44603),r=t(23568);o.register("dynamicBitmapText",function(a,i){a===void 0&&(a={});var n=r(a,"font",""),l=r(a,"text",""),s=r(a,"size",!1),u=new h(this.scene,0,0,n,l,s);return i!==void 0&&(a.add=i),x(this.scene,u,a),u})},72566:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),x=t(39429);x.register("dynamicBitmapText",function(o,r,a,i,n){return this.displayList.add(new h(this.scene,o,r,a,i,n))})},12310:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(73482),o=t(86741),c.exports={renderWebGL:x,renderCanvas:o}},73482:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(61340),o=t(70554),r=new x,a=function(i,n,l,s){var u=n.text,f=u.length;if(f!==0){l.addToRenderList(n);var d=i.pipelines.set(n.pipeline,n),v=h(n,l,s);i.pipelines.preBatch(n);var m=v.sprite,y=v.calc,T=r,S=n.cropWidth>0||n.cropHeight>0;S&&(d.flush(),i.pushScissor(y.tx,y.ty,n.cropWidth*y.scaleX,n.cropHeight*y.scaleY));var A=n.frame,P=A.glTexture,w=n.tintFill,M=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),D=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),O=d.setGameObject(n),B=0,U=0,W=0,H=0,Y=n.letterSpacing,G,X=0,V=0,b,z=n.scrollX,$=n.scrollY,Q=n.fontData,Z=Q.chars,q=Q.lineHeight,j=n.fontSize/Q.size,k=0,_=n._align,et=0,it=0,st=n.getTextBounds(!1);n.maxWidth>0&&(u=st.wrappedText,f=u.length);var nt=n._bounds.lines;_===1?it=(nt.longest-nt.lengths[0])/2:_===2&&(it=nt.longest-nt.lengths[0]);for(var ut=l.roundPixels,ft=n.displayCallback,ht=n.callbackData,rt=0;rt<f;rt++){if(W=u.charCodeAt(rt),W===10){et++,_===1?it=(nt.longest-nt.lengths[et])/2:_===2&&(it=nt.longest-nt.lengths[et]),B=0,U+=q,b=null;continue}if(G=Z[W],!!G){X=G.width,V=G.height;var lt=G.xOffset+B-z,dt=G.yOffset+U-$;if(b!==null){var xt=G.kerning[H]||0;lt+=xt,B+=xt}if(B+=G.xAdvance+Y,b=G,H=W,!(X===0||V===0||W===32)){if(j=n.fontSize/n.fontData.size,k=0,ft){ht.color=0,ht.tint.topLeft=M,ht.tint.topRight=D,ht.tint.bottomLeft=F,ht.tint.bottomRight=L,ht.index=rt,ht.charCode=W,ht.x=lt,ht.y=dt,ht.scale=j,ht.rotation=k,ht.data=G.data;var yt=ft(ht);lt=yt.x,dt=yt.y,j=yt.scale,k=yt.rotation,yt.color?(M=yt.color,D=yt.color,F=yt.color,L=yt.color):(M=yt.tint.topLeft,D=yt.tint.topRight,F=yt.tint.bottomLeft,L=yt.tint.bottomRight),M=o.getTintAppendFloatAlpha(M,l.alpha*n._alphaTL),D=o.getTintAppendFloatAlpha(D,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(F,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(L,l.alpha*n._alphaBR)}lt*=j,dt*=j,lt-=n.displayOriginX,dt-=n.displayOriginY,lt+=it,T.applyITRS(lt,dt,k,j,j),y.multiply(T,m);var At=G.u0,Et=G.v0,Lt=G.u1,zt=G.v1,qt=X,Nt=V,Zt=m.e,le=m.f,jt=Nt*m.c+m.e,Pe=Nt*m.d+m.f,gi=qt*m.a+Nt*m.c+m.e,Ei=qt*m.b+Nt*m.d+m.f,Bi=qt*m.a+m.e,bi=qt*m.b+m.f;ut&&(Zt=Math.round(Zt),le=Math.round(le),jt=Math.round(jt),Pe=Math.round(Pe),gi=Math.round(gi),Ei=Math.round(Ei),Bi=Math.round(Bi),bi=Math.round(bi)),d.shouldFlush(6)&&(d.flush(),O=d.setGameObject(n)),d.batchQuad(n,Zt,le,jt,Pe,gi,Ei,Bi,bi,At,Et,Lt,zt,M,D,F,L,w,P,O)}}}S&&(d.flush(),i.popScissor()),i.pipelines.postBatch(n)}};c.exports=a},22186:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(45319),o=t(31401),r=t(95643),a=t(53048),i=t(61327),n=t(21859),l=t(87841),s=t(18658),u=new h({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,s],initialize:function(d,v,m,y,T,S,A){T===void 0&&(T=""),A===void 0&&(A=0),r.call(this,d,"BitmapText"),this.font=y;var P=this.scene.sys.cache.bitmapFont.get(y);if(!P)throw new Error("Invalid BitmapText key: "+y);this.fontData=P.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=P.fromAtlas,this.setTexture(P.texture,P.frame),this.setPosition(v,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,d,v,m){return f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=.5),this.dropShadowX=f,this.dropShadowY=d,this.dropShadowColor=v,this.dropShadowAlpha=m,this},setCharacterTint:function(f,d,v,m,y,T,S){f===void 0&&(f=0),d===void 0&&(d=1),v===void 0&&(v=!1),m===void 0&&(m=-1),y===void 0&&(y=m,T=m,S=m);var A=this.text.length;d===-1&&(d=A),f<0&&(f=A+f),f=x(f,0,A-1);for(var P=x(f+d,f,A),w=this.charColors,M=f;M<P;M++){var D=w[M];if(m===-1)w[M]=null;else{var F=v?1:0;D?(D.tintEffect=F,D.tintTL=m,D.tintTR=y,D.tintBL=T,D.tintBR=S):w[M]={tintEffect:F,tintTL:m,tintTR:y,tintBL:T,tintBR:S}}}return this},setWordTint:function(f,d,v,m,y,T,S){d===void 0&&(d=1);for(var A=this.getTextBounds(),P=A.words,w=typeof f=="number",M=0,D=0;D<P.length;D++){var F=P[D];if((w&&D===f||!w&&F.word===f)&&(this.setCharacterTint(F.i,F.word.length,v,m,y,T,S),M++,M===d))return this}return this},getTextBounds:function(f){var d=this._bounds;return(this._dirty||f||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(a(this,f,!0,d),this._dirty=!1),d},getCharacterAt:function(f,d,v){for(var m=this.getLocalPoint(f,d,null,v),y=this.getTextBounds(),T=y.characters,S=new l,A=0;A<T.length;A++){var P=T[A];if(S.setTo(P.x,P.t,P.r-P.x,P.b),S.contains(m.x,m.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,d,v){d===void 0&&(d=this._fontSize),v===void 0&&(v=this._align);var m=this.scene.sys.cache.bitmapFont.get(f);return m&&(this.font=f,this.fontData=m.data,this._fontSize=d,this._align=v,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),a(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,d){return this._maxWidth=f,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=o.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=d,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=i,u.ParseXMLBitmapFont=n,c.exports=u},37289:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),x=function(o,r,a,i){var n=r._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,r,a,i))){a.addToRenderList(r);var u=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.fontData.chars,d=r.fontData.lineHeight,v=r._letterSpacing,m=r._lineSpacing,y=0,T=0,S=0,A=null,P=0,w=0,M=0,D=0,F=0,L=0,O=null,B=0,U=u.source.image,W=u.cutX,H=u.cutY,Y=r._fontSize/r.fontData.size,G=r._align,X=0,V=0,b=r.getTextBounds(!1);r.maxWidth>0&&(n=b.wrappedText,l=n.length);var z=r._bounds.lines;G===1?V=(z.longest-z.lengths[0])/2:G===2&&(V=z.longest-z.lengths[0]),s.translate(-r.displayOriginX,-r.displayOriginY);for(var $=a.roundPixels,Q=0;Q<l;Q++){if(S=n.charCodeAt(Q),S===10){X++,G===1?V=(z.longest-z.lengths[X])/2:G===2&&(V=z.longest-z.lengths[X]),y=0,T+=d+m,O=null;continue}if(A=f[S],!!A){if(P=W+A.x,w=H+A.y,M=A.width,D=A.height,F=A.xOffset+y,L=A.yOffset+T,O!==null){var Z=A.kerning[B];F+=Z!==void 0?Z:0}F*=Y,L*=Y,F+=V,y+=A.xAdvance+v+(Z!==void 0?Z:0),O=A,B=S,!(M===0||D===0||S===32)&&($&&(F=Math.round(F),L=Math.round(L)),s.save(),s.translate(F,L),s.scale(Y,Y),s.drawImage(U,P,w,M,D,0,0,M,D),s.restore())}}s.restore()}};c.exports=x},57336:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),x=t(25305),o=t(44603),r=t(23568),a=t(35154);o.register("bitmapText",function(i,n){i===void 0&&(i={});var l=a(i,"font",""),s=r(i,"text",""),u=r(i,"size",!1),f=a(i,"align",0),d=new h(this.scene,0,0,l,s,u,f);return n!==void 0&&(i.add=n),x(this.scene,d,i),d})},34914:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),x=t(39429);x.register("bitmapText",function(o,r,a,i,n,l){return this.displayList.add(new h(this.scene,o,r,a,i,n,l))})},18658:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(33590),o=t(37289),c.exports={renderWebGL:x,renderCanvas:o}},33590:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3217),x=t(91296),o=t(70554),r=function(a,i,n,l){var s=i._text,u=s.length;if(u!==0){n.addToRenderList(i);var f=a.pipelines.set(i.pipeline,i),d=x(i,n,l).calc;a.pipelines.preBatch(i);var v=n.roundPixels,m=n.alpha,y=i.charColors,T=i.tintFill,S=o.getTintAppendFloatAlpha,A=S(i.tintTopLeft,m*i._alphaTL),P=S(i.tintTopRight,m*i._alphaTR),w=S(i.tintBottomLeft,m*i._alphaBL),M=S(i.tintBottomRight,m*i._alphaBR),D=i.frame.glTexture,F=f.setGameObject(i),L=i.getTextBounds(!1),O,B,U,W=L.characters,H=i.dropShadowX,Y=i.dropShadowY,G=H!==0||Y!==0;if(G){var X=i.dropShadowColor,V=i.dropShadowAlpha,b=S(X,m*V*i._alphaTL),z=S(X,m*V*i._alphaTR),$=S(X,m*V*i._alphaBL),Q=S(X,m*V*i._alphaBR);for(O=0;O<W.length;O++)B=W[O],U=B.glyph,!(B.code===32||U.width===0||U.height===0)&&h(f,i,B,U,H,Y,d,v,b,z,$,Q,1,D,F)}for(O=0;O<W.length;O++)if(B=W[O],U=B.glyph,!(B.code===32||U.width===0||U.height===0))if(f.shouldFlush(6)&&(f.flush(),F=f.setGameObject(i)),y[B.i]){var Z=y[B.i],q=Z.tintEffect,j=S(Z.tintTL,m*i._alphaTL),k=S(Z.tintTR,m*i._alphaTR),_=S(Z.tintBL,m*i._alphaBL),et=S(Z.tintBR,m*i._alphaBR);h(f,i,B,U,0,0,d,v,j,k,_,et,q,D,F)}else h(f,i,B,U,0,0,d,v,A,P,w,M,T,D,F);a.pipelines.postBatch(i)}};c.exports=r},6107:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48011),x=t(46590),o=t(83419),r=t(31401),a=t(4327),i=t(95643),n=t(73162),l=new o({Extends:i,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,h],initialize:function(u,f,d,v,m){i.call(this,u,"Blitter"),this.setTexture(v,m),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(s,u,f,d,v){d===void 0&&(d=!0),v===void 0&&(v=this.children.length),f===void 0?f=this.frame:f instanceof a||(f=this.texture.get(f));var m=new x(this,s,u,f,d);return this.children.addAt(m,v,!1),this.dirty=!0,m},createFromCallback:function(s,u,f,d){for(var v=this.createMultiple(u,f,d),m=0;m<v.length;m++){var y=v[m];s.call(this,y,m)}return v},createMultiple:function(s,u,f){u===void 0&&(u=this.frame.name),f===void 0&&(f=!0),Array.isArray(u)||(u=[u]);var d=[],v=this;return u.forEach(function(m){for(var y=0;y<s;y++)d.push(v.create(0,0,m,f))}),d},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=l},72396:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=h.getRenderList();if(r.length!==0){var a=t.currentContext,i=x.alpha*h.alpha;if(i!==0){x.addToRenderList(h),a.globalCompositeOperation=t.blendModes[h.blendMode],a.imageSmoothingEnabled=!h.frame.source.scaleMode;var n=h.x-x.scrollX*h.scrollFactorX,l=h.y-x.scrollY*h.scrollFactorY;a.save(),o&&o.copyToContext(a);for(var s=x.roundPixels,u=0;u<r.length;u++){var f=r[u],d=f.flipX||f.flipY,v=f.frame,m=v.canvasData,y=v.x,T=v.y,S=1,A=1,P=f.alpha*i;P!==0&&(a.globalAlpha=P,d?(f.flipX&&(S=-1,y-=m.width),f.flipY&&(A=-1,T-=m.height),m.width>0&&m.height>0&&(a.save(),a.translate(f.x+n,f.y+l),a.scale(S,A),a.drawImage(v.source.image,m.x,m.y,m.width,m.height,y,T,m.width,m.height),a.restore())):(s&&(y=Math.round(y),T=Math.round(T)),m.width>0&&m.height>0&&a.drawImage(v.source.image,m.x,m.y,m.width,m.height,y+f.x+n,T+f.y+l,m.width,m.height)))}a.restore()}}};c.exports=E},9403:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),x=t(25305),o=t(44603),r=t(23568);o.register("blitter",function(a,i){a===void 0&&(a={});var n=r(a,"key",null),l=r(a,"frame",null),s=new h(this.scene,0,0,n,l);return i!==void 0&&(a.add=i),x(this.scene,s,a),s})},12709:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),x=t(39429);x.register("blitter",function(o,r,a,i){return this.displayList.add(new h(this.scene,o,r,a,i))})},48011:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(99485),o=t(72396),c.exports={renderWebGL:x,renderCanvas:o}},99485:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),x=t(70554),o=new h,r=function(a,i,n,l){var s=i.getRenderList(),u=n.alpha*i.alpha;if(!(s.length===0||u===0)){n.addToRenderList(i);var f=a.pipelines.set(this.pipeline,i),d=n.scrollX*i.scrollFactorX,v=n.scrollY*i.scrollFactorY,m=o.copyFrom(n.matrix);l&&(m.multiplyWithOffset(l,-d,-v),d=0,v=0);var y=i.x-d,T=i.y-v,S=-1,A=!1,P=n.roundPixels;a.pipelines.preBatch(i);for(var w=0;w<s.length;w++){var M=s[w],D=M.frame,F=M.alpha*u;if(F!==0){var L=D.width,O=D.height,B=y+M.x+D.x,U=T+M.y+D.y;M.flipX&&(L*=-1,B+=D.width),M.flipY&&(O*=-1,U+=D.height);var W=m.setQuad(B,U,B+L,U+O,P),H=x.getTintAppendFloatAlpha(M.tint,F);if(D.sourceIndex!==S){var Y=f.setGameObject(i,D);S=D.sourceIndex}f.batchQuad(i,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],D.u0,D.v0,D.u1,D.v1,H,H,H,H,A,D.glTexture,Y)&&(S=-1)}}a.pipelines.postBatch(i)}};c.exports=r},46590:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(4327),o=new h({initialize:function(a,i,n,l,s){this.parent=a,this.x=i,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof x&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,a,i){return this.x=r,this.y=a,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(r,a){return this.x=r,this.y=a,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,a){return this.flipX=r,this.flipY=a,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});c.exports=o},16005:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,a,i,n){return r===void 0&&(r=1),a===void 0?this.alpha=r:(this._alphaTL=h(r,0,1),this._alphaTR=h(a,0,1),this._alphaBL=h(i,0,1),this._alphaBR=h(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var a=h(r,0,1);this._alpha=a,this._alphaTL=a,this._alphaTR=a,this._alphaBL=a,this._alphaBR=a,a===0?this.renderFlags&=-3:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var a=h(r,0,1);this._alphaTL=a,a!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var a=h(r,0,1);this._alphaTR=a,a!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var a=h(r,0,1);this._alphaBL=a,a!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var a=h(r,0,1);this._alphaBR=a,a!==0&&(this.renderFlags|=x)}}};c.exports=o},88509:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var a=h(r,0,1);this._alpha=a,a===0?this.renderFlags&=-3:this.renderFlags|=x}}};c.exports=o},90065:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=h[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};c.exports=x},94215:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};c.exports=E},61683:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,x,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,x,o,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=E},89272:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),x={_depth:0,depth:{get:function(){return this._depth},set:function(o){this.displayList&&this.displayList.queueDepthSort(),this._depth=o}},setDepth:function(o){return o===void 0&&(o=0),this.depth=o,this},setToTop:function(){var o=this.getDisplayList();return o&&h.BringToTop(o,this),this},setToBack:function(){var o=this.getDisplayList();return o&&h.SendToBack(o,this),this},setAbove:function(o){var r=this.getDisplayList();return r&&o&&h.MoveAbove(r,this,o),this},setBelow:function(o){var r=this.getDisplayList();return r&&o&&h.MoveBelow(r,this,o),this}};c.exports=x},47059:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(66064),o=t(19133),r=new h({initialize:function(i,n){this.gameObject=i,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(a){return a===void 0&&(a=0),this.padding=a,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(a){if(!this.isPost){var i=this.gameObject.scene.sys.renderer;i&&i.pipelines?(this.gameObject.pipeline=i.pipelines.FX_PIPELINE,a!==void 0&&(this.padding=a),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var a=this.list,i=0;i<a.length;i++)a[i].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(a){var i;if(this.isPost){var n=this.gameObject.getPostPipeline(String(a.type));for(Array.isArray(n)||(n=[n]),i=0;i<n.length;i++){var l=n[i];if(l.controller===a){this.gameObject.removePostPipeline(l),a.destroy();break}}}else{var s=this.list;for(i=0;i<s.length;i++)s[i]===a&&(o(s,i),a.destroy())}return this.gameObject},disable:function(a){return a===void 0&&(a=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,a&&this.clear(),this.gameObject},add:function(a,i){if(this.isPost){var n=String(a.type);this.gameObject.setPostPipeline(n,i);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=a),a}else return this.enabled||this.enable(),this.list.push(a),a},addGlow:function(a,i,n,l,s,u){return this.add(new x.Glow(this.gameObject,a,i,n,l),{quality:s,distance:u})},addShadow:function(a,i,n,l,s,u,f){return this.add(new x.Shadow(this.gameObject,a,i,n,l,s,u,f))},addPixelate:function(a){return this.add(new x.Pixelate(this.gameObject,a))},addVignette:function(a,i,n,l){return this.add(new x.Vignette(this.gameObject,a,i,n,l))},addShine:function(a,i,n,l){return this.add(new x.Shine(this.gameObject,a,i,n,l))},addBlur:function(a,i,n,l,s,u){return this.add(new x.Blur(this.gameObject,a,i,n,l,s,u))},addGradient:function(a,i,n,l,s,u,f,d){return this.add(new x.Gradient(this.gameObject,a,i,n,l,s,u,f,d))},addBloom:function(a,i,n,l,s,u){return this.add(new x.Bloom(this.gameObject,a,i,n,l,s,u))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(a,i,n,l,s){return this.add(new x.Circle(this.gameObject,a,i,n,l,s))},addBarrel:function(a){return this.add(new x.Barrel(this.gameObject,a))},addDisplacement:function(a,i,n){return this.add(new x.Displacement(this.gameObject,a,i,n))},addWipe:function(a,i,n){return this.add(new x.Wipe(this.gameObject,a,i,n))},addReveal:function(a,i,n){return this.add(new x.Wipe(this.gameObject,a,i,n,!0))},addBokeh:function(a,i,n){return this.add(new x.Bokeh(this.gameObject,a,i,n))},addTiltShift:function(a,i,n,l,s,u){return this.add(new x.Bokeh(this.gameObject,a,i,n,!0,l,s,u))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=r},54434:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=E},8004:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(11520),o=t(26099),r={prepareBoundsOutput:function(a,i){if(i===void 0&&(i=!1),this.rotation!==0&&x(a,this.x,this.y,this.rotation),i&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(a.x,a.y,a)}return a},getCenter:function(a,i){return a===void 0&&(a=new o),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,i)},getTopLeft:function(a,i){return a||(a=new o),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,i)},getTopCenter:function(a,i){return a||(a=new o),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,i)},getTopRight:function(a,i){return a||(a=new o),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,i)},getLeftCenter:function(a,i){return a||(a=new o),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,i)},getRightCenter:function(a,i){return a||(a=new o),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,i)},getBottomLeft:function(a,i){return a||(a=new o),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,i)},getBottomCenter:function(a,i){return a||(a=new o),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,i)},getBottomRight:function(a,i){return a||(a=new o),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,i)},getBounds:function(a){a===void 0&&(a=new h);var i,n,l,s,u,f,d,v;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(a),m.transformPoint(a.x,a.y,a),i=a.x,n=a.y,this.getTopRight(a),m.transformPoint(a.x,a.y,a),l=a.x,s=a.y,this.getBottomLeft(a),m.transformPoint(a.x,a.y,a),u=a.x,f=a.y,this.getBottomRight(a),m.transformPoint(a.x,a.y,a),d=a.x,v=a.y}else this.getTopLeft(a),i=a.x,n=a.y,this.getTopRight(a),l=a.x,s=a.y,this.getBottomLeft(a),u=a.x,f=a.y,this.getBottomRight(a),d=a.x,v=a.y;return a.x=Math.min(i,l,u,d),a.y=Math.min(n,s,f,v),a.width=Math.max(i,l,u,d)-a.x,a.height=Math.max(n,s,f,v)-a.y,a}};c.exports=r},8573:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6858),x=t(80661),o={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,a,i,n,l){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new h(this.scene,r,a,i,n,l)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new x(this.scene,r)}};c.exports=o},27387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=E},37640:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),x=t(57355),o=t(35154),r=t(86353),a=t(26099),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var u=x(n,"positionOnPath",!1);this.rotateToPath=x(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var f=o(n,"startAt",l);if(f&&(n.onStart=function(v){var m=v.data[0];m.progress=f,m.elapsed=m.duration*f;var y=m.ease(m.progress);m.current=m.start+(m.end-m.start)*y,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],s=this.pathDelta,u=this.pathVector;if(s.copy(u).negate(),l.state===r.COMPLETE){this.path.getPoint(l.end,u),s.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(l.state!==r.PLAYING_FORWARD&&l.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),u),s.add(u),u.add(this.pathOffset);var f=this.x,d=this.y;this.setPosition(u.x,u.y);var v=this.x-f,m=this.y-d;if(v===0&&m===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,v)+h(this.pathRotationOffset))}}};c.exports=i},72699:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var a=r.pipelines;if(a){o===void 0&&(o=a.default);var i=a.get(o);if(i)return this.defaultPipeline=i,this.pipeline=i,!0}return!1},setPipeline:function(o,r,a){var i=this.scene.sys.renderer;if(!i)return this;var n=i.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),r&&(this.pipelineData=a?h(r):r)}return this},setPipelineData:function(o,r){var a=this.pipelineData;return r===void 0?delete a[o]:a[o]=r,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};c.exports=x},17581:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),x=t(47059),o=t(19133),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(a){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),a&&(this.preFX=new x(this,!1))},setPostPipeline:function(a,i,n){var l=this.scene.sys.renderer;if(!l)return this;var s=l.pipelines;if(s){Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;u++){var f=s.getPostPipeline(a[u],this,i);f&&this.postPipelines.push(f)}i&&(this.postPipelineData=n?h(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(a,i){var n=this.postPipelineData;return i===void 0?delete n[a]:n[a]=i,this},getPostPipeline:function(a){for(var i=typeof a=="string",n=this.postPipelines,l=[],s=0;s<n.length;s++){var u=n[s];(i&&u.name===a||!i&&u instanceof a)&&l.push(u)}return l.length===1?l[0]:l},resetPostPipeline:function(a){a===void 0&&(a=!1);for(var i=this.postPipelines,n=0;n<i.length;n++)i[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,a&&(this.postPipelineData={})},removePostPipeline:function(a){for(var i=typeof a=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var s=n[l];(i&&s.name===a||!i&&s===a)&&(s.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=r},80227:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};c.exports=E},16736:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};c.exports=E},37726:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),x=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(r,a,i,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(a,i,n)},setFrame:function(r,a,i){return a===void 0&&(a=!0),i===void 0&&(i=!0),r instanceof h?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=x,this._sizeComponent&&a&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=o},79812:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),x=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(r,a,i,n){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,a,i,n,this.flipX,this.flipY);else{var l=r;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,a){return this.texture=this.scene.sys.textures.get(r),this.setFrame(a)},setFrame:function(r,a,i){return a===void 0&&(a=!0),i===void 0&&(i=!0),r instanceof h?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=x,this._sizeComponent&&a&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=o},27472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,x,o){return t===void 0&&(t=16777215),h===void 0&&(h=t,x=t,o=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=x,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,h,x,o){return this.setTint(t,h,x,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};c.exports=E},53774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};c.exports=E},16901:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(61340),o=t(85955),r=t(86554),a=t(30954),i=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=-5:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return a(this._rotation*h.RAD_TO_DEG)},set:function(s){this.rotation=a(s)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=r(s)}},setPosition:function(s,u,f,d){return s===void 0&&(s=0),u===void 0&&(u=s),f===void 0&&(f=0),d===void 0&&(d=0),this.x=s,this.y=u,this.z=f,this.w=d,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,u,f,d){return s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=s+Math.random()*f,this.y=u+Math.random()*d,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=s),this.scaleX=s,this.scaleY=u,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new x),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,u){s===void 0&&(s=new x);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(s);var d=!1;for(u||(u=new x,d=!0),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)u.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),u.multiply(s,s),f=f.parentContainer;return d&&u.destroy(),s},getLocalPoint:function(s,u,f,d){f||(f=new i),d||(d=this.scene.sys.cameras.main);var v=d.scrollX,m=d.scrollY,y=s+v*this.scrollFactorX-v,T=u+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(y,T,f):o(y,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getWorldPoint:function(s,u,f){s===void 0&&(s=new i);var d=this.parentContainer;if(!d)return s.x=this.x,s.y=this.y,s;var v=this.getWorldTransformMatrix(u,f);return s.x=v.tx,s.y=v.ty,s},getParentRotation:function(){for(var s=0,u=this.parentContainer;u;)s+=u.rotation,u=u.parentContainer;return s}};c.exports=l},61340:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(36383),o=t(26099),r=new h({initialize:function(i,n,l,s,u,f){i===void 0&&(i=1),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=1),u===void 0&&(u=0),f===void 0&&(f=0),this.matrix=new Float32Array([i,n,l,s,u,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(a){this.matrix[0]=a}},b:{get:function(){return this.matrix[1]},set:function(a){this.matrix[1]=a}},c:{get:function(){return this.matrix[2]},set:function(a){this.matrix[2]=a}},d:{get:function(){return this.matrix[3]},set:function(a){this.matrix[3]=a}},e:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},f:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},tx:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},ty:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var a=this.matrix,i=a[0],n=a[1],l=a[2],s=a[3];return i||n?n>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):l||s?x.TAU-(s>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var a=this.matrix;return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,this},translate:function(a,i){var n=this.matrix;return n[4]=n[0]*a+n[2]*i+n[4],n[5]=n[1]*a+n[3]*i+n[5],this},scale:function(a,i){var n=this.matrix;return n[0]*=a,n[1]*=a,n[2]*=i,n[3]*=i,this},rotate:function(a){var i=Math.sin(a),n=Math.cos(a),l=this.matrix,s=l[0],u=l[1],f=l[2],d=l[3];return l[0]=s*n+f*i,l[1]=u*n+d*i,l[2]=s*-i+f*n,l[3]=u*-i+d*n,this},multiply:function(a,i){var n=this.matrix,l=a.matrix,s=n[0],u=n[1],f=n[2],d=n[3],v=n[4],m=n[5],y=l[0],T=l[1],S=l[2],A=l[3],P=l[4],w=l[5],M=i===void 0?n:i.matrix;return M[0]=y*s+T*f,M[1]=y*u+T*d,M[2]=S*s+A*f,M[3]=S*u+A*d,M[4]=P*s+w*f+v,M[5]=P*u+w*d+m,M},multiplyWithOffset:function(a,i,n){var l=this.matrix,s=a.matrix,u=l[0],f=l[1],d=l[2],v=l[3],m=l[4],y=l[5],T=i*u+n*d+m,S=i*f+n*v+y,A=s[0],P=s[1],w=s[2],M=s[3],D=s[4],F=s[5];return l[0]=A*u+P*d,l[1]=A*f+P*v,l[2]=w*u+M*d,l[3]=w*f+M*v,l[4]=D*u+F*d+T,l[5]=D*f+F*v+S,this},transform:function(a,i,n,l,s,u){var f=this.matrix,d=f[0],v=f[1],m=f[2],y=f[3],T=f[4],S=f[5];return f[0]=a*d+i*m,f[1]=a*v+i*y,f[2]=n*d+l*m,f[3]=n*v+l*y,f[4]=s*d+u*m+T,f[5]=s*v+u*y+S,this},transformPoint:function(a,i,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,s=l[0],u=l[1],f=l[2],d=l[3],v=l[4],m=l[5];return n.x=a*s+i*f+v,n.y=a*u+i*d+m,n},invert:function(){var a=this.matrix,i=a[0],n=a[1],l=a[2],s=a[3],u=a[4],f=a[5],d=i*s-n*l;return a[0]=s/d,a[1]=-n/d,a[2]=-l/d,a[3]=i/d,a[4]=(l*f-s*u)/d,a[5]=-(i*f-n*u)/d,this},copyFrom:function(a){var i=this.matrix;return i[0]=a.a,i[1]=a.b,i[2]=a.c,i[3]=a.d,i[4]=a.e,i[5]=a.f,this},copyFromArray:function(a){var i=this.matrix;return i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[3],i[4]=a[4],i[5]=a[5],this},copyToContext:function(a){var i=this.matrix;return a.transform(i[0],i[1],i[2],i[3],i[4],i[5]),a},setToContext:function(a){return a.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),a},copyToArray:function(a){var i=this.matrix;return a===void 0?a=[i[0],i[1],i[2],i[3],i[4],i[5]]:(a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],a[4]=i[4],a[5]=i[5]),a},setTransform:function(a,i,n,l,s,u){var f=this.matrix;return f[0]=a,f[1]=i,f[2]=n,f[3]=l,f[4]=s,f[5]=u,this},decomposeMatrix:function(){var a=this.decomposedMatrix,i=this.matrix,n=i[0],l=i[1],s=i[2],u=i[3],f=n*u-l*s;if(a.translateX=i[4],a.translateY=i[5],n||l){var d=Math.sqrt(n*n+l*l);a.rotation=l>0?Math.acos(n/d):-Math.acos(n/d),a.scaleX=d,a.scaleY=f/d}else if(s||u){var v=Math.sqrt(s*s+u*u);a.rotation=Math.PI*.5-(u>0?Math.acos(-s/v):-Math.acos(s/v)),a.scaleX=f/v,a.scaleY=v}else a.rotation=0,a.scaleX=0,a.scaleY=0;return a},applyITRS:function(a,i,n,l,s){var u=this.matrix,f=Math.sin(n),d=Math.cos(n);return u[4]=a,u[5]=i,u[0]=d*l,u[1]=f*l,u[2]=-f*s,u[3]=d*s,this},applyInverse:function(a,i,n){n===void 0&&(n=new o);var l=this.matrix,s=l[0],u=l[1],f=l[2],d=l[3],v=l[4],m=l[5],y=1/(s*d+f*-u);return n.x=d*y*a+-f*y*i+(m*f-v*d)*y,n.y=s*y*i+-u*y*a+(-m*s+v*u)*y,n},setQuad:function(a,i,n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=this.quad);var f=this.matrix,d=f[0],v=f[1],m=f[2],y=f[3],T=f[4],S=f[5],A=a*d+i*m+T,P=a*v+i*y+S,w=a*d+l*m+T,M=a*v+l*y+S,D=n*d+l*m+T,F=n*v+l*y+S,L=n*d+i*m+T,O=n*v+i*y+S;if(s){var B=Math.floor(A+.5),U=Math.floor(P+.5),W=B-A,H=U-P;u[0]=B,u[1]=U,u[2]=w+W,u[3]=M+H,u[4]=D+W,u[5]=F+H,u[6]=L+W,u[7]=O+H}else u[0]=A,u[1]=P,u[2]=w,u[3]=M,u[4]=D,u[5]=F,u[6]=L,u[7]=O;return u},getX:function(a,i){return a*this.a+i*this.c+this.e},getY:function(a,i){return a*this.b+i*this.d+this.f},getXRound:function(a,i,n){var l=this.getX(a,i);return n&&(l=Math.floor(l+.5)),l},getYRound:function(a,i,n){var l=this.getY(a,i);return n&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var a=this.matrix;return"matrix("+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=r},59715:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=E):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(h){return this.visible=h,this}};c.exports=t},31401:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),x=t(10312),o=t(83419),r=t(31401),a=t(51708),i=t(95643),n=t(87841),l=t(29959),s=t(36899),u=t(26099),f=new r.TransformMatrix,d=new o({Extends:i,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,l],initialize:function(m,y,T,S){i.call(this,m,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this._sortKey="",this._sysEvents=m.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,T),this.setBlendMode(x.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new n),v.setTo(this.x,this.y,0,0),this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix(),y=m.transformPoint(this.x,this.y);v.setTo(y.x,y.y,0,0)}if(this.list.length>0){var T=this.list,S=new n,A=!1;v.setEmpty();for(var P=0;P<T.length;P++){var w=T[P];w.getBounds&&(w.getBounds(S),A?s(S,v,v):(v.setTo(S.x,S.y,S.width,S.height),A=!0))}}return v},addHandler:function(v){v.once(a.DESTROY,this.onChildDestroyed,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this,v.removeFromDisplayList(),v.addedToScene())},removeHandler:function(v){v.off(a.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer=null,v.removedFromScene(),v.addToDisplayList())},pointToContainer:function(v,m){m===void 0&&(m=new u),this.parentContainer?this.parentContainer.pointToContainer(v,m):(m.x=v.x,m.y=v.y);var y=f;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(v.x,v.y,m),m},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(v){return h.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,m){return h.AddAt(this.list,v,m,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,m){return v?(m===void 0&&(m=function(y,T){return y[v]-T[v]}),h.StableSort(this.list,m),this):this},getByName:function(v){return h.GetFirst(this.list,"name",v)},getRandom:function(v,m){return h.GetRandom(this.list,v,m)},getFirst:function(v,m,y,T){return h.GetFirst(this.list,v,m,y,T)},getAll:function(v,m,y,T){return h.GetAll(this.list,v,m,y,T)},count:function(v,m,y,T){return h.CountAllMatching(this.list,v,m,y,T)},swap:function(v,m){return h.Swap(this.list,v,m),this},moveTo:function(v,m){return h.MoveTo(this.list,v,m),this},moveAbove:function(v,m){return h.MoveAbove(this.list,v,m),this},moveBelow:function(v,m){return h.MoveBelow(this.list,v,m),this},remove:function(v,m){var y=h.Remove(this.list,v,this.removeHandler,this);if(m&&y){Array.isArray(y)||(y=[y]);for(var T=0;T<y.length;T++)y[T].destroy()}return this},removeAt:function(v,m){var y=h.RemoveAt(this.list,v,this.removeHandler,this);return m&&y&&y.destroy(),this},removeBetween:function(v,m,y){var T=h.RemoveBetween(this.list,v,m,this.removeHandler,this);if(y)for(var S=0;S<T.length;S++)T[S].destroy();return this},removeAll:function(v){var m=this.list;if(v){for(var y=0;y<m.length;y++)m[y]&&m[y].scene&&(m[y].off(a.DESTROY,this.onChildDestroyed,this),m[y].destroy());this.list=[]}else h.RemoveBetween(m,0,m.length,this.removeHandler,this);return this},bringToTop:function(v){return h.BringToTop(this.list,v),this},sendToBack:function(v){return h.SendToBack(this.list,v),this},moveUp:function(v){return h.MoveUp(this.list,v),this},moveDown:function(v){return h.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(v,m,y){var T=h.Replace(this.list,v,m);return T&&(this.addHandler(m),this.removeHandler(v),y&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,m,y,T){return h.SetAll(this.list,v,m,y,T),this},each:function(v,m){var y=[null],T,S=this.list.slice(),A=S.length;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<A;T++)y[0]=S[T],v.apply(m,y);return this},iterate:function(v,m){var y=[null],T;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<this.list.length;T++)y[0]=this.list[T],v.apply(m,y);return this},setScrollFactor:function(v,m,y){return m===void 0&&(m=v),y===void 0&&(y=!1),this.scrollFactorX=v,this.scrollFactorY=m,y&&(h.SetAll(this.list,"scrollFactorX",v),h.SetAll(this.list,"scrollFactorY",m)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(v){h.Remove(this.list,v),this.exclusive&&(v.parentContainer=null,v.removedFromScene())}});c.exports=d},53584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x.addToRenderList(h);var r=h.list;if(r.length!==0){var a=h.localTransform;o?(a.loadIdentity(),a.multiply(o),a.translate(h.x,h.y),a.rotate(h.rotation),a.scale(h.scaleX,h.scaleY)):a.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var i=h.blendMode!==-1;i||t.setBlendMode(0);var n=h._alpha,l=h.scrollFactorX,s=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,x);for(var u=0;u<r.length;u++){var f=r[u];if(f.willRender(x)){var d=f.alpha,v=f.scrollFactorX,m=f.scrollFactorY;!i&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(v*l,m*s),f.setAlpha(d*n),f.renderCanvas(t,f,x,a),f.setAlpha(d),f.setScrollFactor(v,m)}}h.mask&&h.mask.postRenderCanvas(t)}};c.exports=E},77143:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(31559),o=t(44603),r=t(23568),a=t(95540);o.register("container",function(i,n){i===void 0&&(i={});var l=r(i,"x",0),s=r(i,"y",0),u=a(i,"children",null),f=new x(this.scene,l,s,u);return n!==void 0&&(i.add=n),h(this.scene,f,i),f})},24961:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31559),x=t(39429);x.register("container",function(o,r,a){return this.displayList.add(new h(this.scene,o,r,a))})},29959:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(72249),o=t(53584),c.exports={renderWebGL:x,renderCanvas:o}},72249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x.addToRenderList(h);var r=h.list,a=r.length;if(a!==0){var i=h.localTransform;o?(i.loadIdentity(),i.multiply(o),i.translate(h.x,h.y),i.rotate(h.rotation),i.scale(h.scaleX,h.scaleY)):i.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var n=h.blendMode!==-1;n||t.setBlendMode(0);for(var l=h.alpha,s=h.scrollFactorX,u=h.scrollFactorY,f=0;f<a;f++){var d=r[f];if(d.willRender(x)){var v,m,y,T;if(d.alphaTopLeft!==void 0)v=d.alphaTopLeft,m=d.alphaTopRight,y=d.alphaBottomLeft,T=d.alphaBottomRight;else{var S=d.alpha;v=S,m=S,y=S,T=S}var A=d.scrollFactorX,P=d.scrollFactorY;!n&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var w=d.mask;w&&w.preRenderWebGL(t,d,x);var M=d.type;M!==t.currentType&&(t.newType=!0,t.currentType=M),t.nextTypeMatch=f<a-1?r[f+1].type===t.currentType:!1,d.setScrollFactor(A*s,P*u),d.setAlpha(v*l,m*l,y*l,T*l),d.renderWebGL(t,d,x,i,h),d.setAlpha(v,m,y,T),d.setScrollFactor(A,P),w&&w.postRenderWebGL(t,x),t.newType=!1}}t.pipelines.postBatch(h)}};c.exports=E},47407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(441),r=t(95643),a=t(41212),i=t(35846),n=t(44594),l=t(61369),s=new h({Extends:r,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,o],initialize:function(f,d,v,m,y,T){r.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,v),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),y,T):this.createElement(m,y,T):m&&this.setElement(m,y,T),f.sys.events.on(n.SLEEP,this.handleSceneEvent,this),f.sys.events.on(n.WAKE,this.handleSceneEvent,this),f.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(u){var f=this.node,d=f.style;f&&(d.display=u.settings.visible?"block":"none")},setSkew:function(u,f){return u===void 0&&(u=0),f===void 0&&(f=u),this.skewX=u,this.skewY=f,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.addEventListener(u[f],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.removeEventListener(u[f],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,f,d){return this.setElement(document.createElement(u),f,d)},setElement:function(u,f,d){this.removeElement();var v;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),v=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(v=u),!v)return this;if(this.node=v,f&&a(f))for(var m in f)v.style[m]=f[m];else typeof f=="string"&&(v.style=f);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),d&&(v.innerText=d),this.updateSize()},createFromCache:function(u,f){var d=this.cache.get(u);return d&&this.createFromHTML(d,f),this},createFromHTML:function(u,f){f===void 0&&(f="div"),this.removeElement();var d=document.createElement(f);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var u=this.node;return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(u,f){if(this.node){for(var d=this.node.querySelectorAll("*"),v=0;v<d.length;v++)if(d[v][u]===f)return d[v]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preRender:function(){var u=this.parentContainer,f=this.node;f&&u&&!u.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});c.exports=s},49381:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47407),x=t(95643),o=t(61340),r=new o,a=new o,i=new o,n=function(l,s,u,f){if(s.node){var d=s.node.style,v=s.scene.sys.settings;if(!d||!v.visible||x.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&u.id||s.parentContainer&&!s.parentContainer.willRender()){d.display="none";return}var m=s.parentContainer,y=u.alpha*s.alpha;m&&(y*=m.alpha);var T=r,S=a,A=i,P=0,w=0,M="0%",D="0%";f?(P=s.width*s.scaleX*s.originX,w=s.height*s.scaleY*s.originY,S.applyITRS(s.x-P,s.y-w,s.rotation,s.scaleX,s.scaleY),T.copyFrom(u.matrix),T.multiplyWithOffset(f,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),S.e=s.x-P,S.f=s.y-w,T.multiply(S,A)):(P=s.width*s.originX,w=s.height*s.originY,S.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),T.copyFrom(u.matrix),M=100*s.originX+"%",D=100*s.originY+"%",S.e-=u.scrollX*s.scrollFactorX,S.f-=u.scrollY*s.scrollFactorY,T.multiply(S,A),A.e-=P,A.f-=w),s.transformOnly||(d.display="block",d.opacity=y,d.zIndex=s._depth,d.pointerEvents=s.pointerEvents,d.mixBlendMode=h[s._blendMode]),d.transform=A.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",d.transformOrigin=M+" "+D}};c.exports=n},2611:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3069),x=t(39429);x.register("dom",function(o,r,a,i,n){var l=new h(this.scene,o,r,a,i,n);return this.displayList.add(l),l})},441:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(49381),o=t(49381),c.exports={renderWebGL:x,renderCanvas:o}},62980:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},41337:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},44947:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},49358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},35163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},97249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},19483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="locked"},56059:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},26772:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="metadata"},64437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="playing"},83411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},75780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},67799:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},63500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stalled"},55541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},53208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="textureready"},4992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},12:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unsupported"},51708:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),r=t(64993),a=new h({Extends:o,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,r],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=a},70217:()=>{},56315:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42421),x=t(39429);x.register("extern",function(){var o=new h(this.scene);return this.displayList.add(o),o})},64993:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(80287),o=t(70217),c.exports={renderWebGL:x,renderCanvas:o}},80287:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,r,a,i){o.pipelines.clear();var n=h(r,a,i).calc;r.render.call(r,o,a,n),o.pipelines.rebind()};c.exports=x},85592:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),x=t(83419),o=t(85592),r=t(31401),a=t(8497),i=t(95643),n=t(95540),l=t(35154),s=t(36383),u=t(84503),f=new x({Extends:i,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,u],initialize:function(v,m){var y=l(m,"x",0),T=l(m,"y",0);i.call(this,v,"Graphics"),this.setPosition(y,T),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(d){return l(d,"lineStyle",null)&&(this.defaultStrokeWidth=l(d,"lineStyle.width",1),this.defaultStrokeColor=l(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(d,"fillStyle",null)&&(this.defaultFillColor=l(d,"fillStyle.color",16777215),this.defaultFillAlpha=l(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,v,m){return m===void 0&&(m=1),this.commandBuffer.push(o.LINE_STYLE,d,v,m),this._lineWidth=d,this},fillStyle:function(d,v){return v===void 0&&(v=1),this.commandBuffer.push(o.FILL_STYLE,d,v),this},fillGradientStyle:function(d,v,m,y,T,S,A,P){return T===void 0&&(T=1),S===void 0&&(S=T),A===void 0&&(A=T),P===void 0&&(P=T),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,T,S,A,P,d,v,m,y),this},lineGradientStyle:function(d,v,m,y,T,S){return S===void 0&&(S=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,d,S,v,m,y,T),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,v,m){return this.beginPath(),this.arc(d,v,m,0,s.PI2),this.fillPath(),this},strokeCircle:function(d,v,m){return this.beginPath(),this.arc(d,v,m,0,s.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,v,m,y){return this.commandBuffer.push(o.FILL_RECT,d,v,m,y),this},strokeRect:function(d,v,m,y){var T=this._lineWidth/2,S=d-T,A=d+T;return this.beginPath(),this.moveTo(d,v),this.lineTo(d,v+y),this.strokePath(),this.beginPath(),this.moveTo(d+m,v),this.lineTo(d+m,v+y),this.strokePath(),this.beginPath(),this.moveTo(S,v),this.lineTo(A+m,v),this.strokePath(),this.beginPath(),this.moveTo(S,v+y),this.lineTo(A+m,v+y),this.strokePath(),this},fillRoundedRect:function(d,v,m,y,T){T===void 0&&(T=20);var S=T,A=T,P=T,w=T;typeof T!="number"&&(S=n(T,"tl",20),A=n(T,"tr",20),P=n(T,"bl",20),w=n(T,"br",20));var M=S>=0,D=A>=0,F=P>=0,L=w>=0;return S=Math.abs(S),A=Math.abs(A),P=Math.abs(P),w=Math.abs(w),this.beginPath(),this.moveTo(d+S,v),this.lineTo(d+m-A,v),D?this.arc(d+m-A,v+A,A,-s.TAU,0):this.arc(d+m,v,A,Math.PI,s.TAU,!0),this.lineTo(d+m,v+y-w),L?this.arc(d+m-w,v+y-w,w,0,s.TAU):this.arc(d+m,v+y,w,-s.TAU,Math.PI,!0),this.lineTo(d+P,v+y),F?this.arc(d+P,v+y-P,P,s.TAU,Math.PI):this.arc(d,v+y,P,0,-s.TAU,!0),this.lineTo(d,v+S),M?this.arc(d+S,v+S,S,-Math.PI,-s.TAU):this.arc(d,v,S,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,v,m,y,T){T===void 0&&(T=20);var S=T,A=T,P=T,w=T,M=Math.min(m,y)/2;typeof T!="number"&&(S=n(T,"tl",20),A=n(T,"tr",20),P=n(T,"bl",20),w=n(T,"br",20));var D=S>=0,F=A>=0,L=P>=0,O=w>=0;return S=Math.min(Math.abs(S),M),A=Math.min(Math.abs(A),M),P=Math.min(Math.abs(P),M),w=Math.min(Math.abs(w),M),this.beginPath(),this.moveTo(d+S,v),this.lineTo(d+m-A,v),this.moveTo(d+m-A,v),F?this.arc(d+m-A,v+A,A,-s.TAU,0):this.arc(d+m,v,A,Math.PI,s.TAU,!0),this.lineTo(d+m,v+y-w),this.moveTo(d+m,v+y-w),O?this.arc(d+m-w,v+y-w,w,0,s.TAU):this.arc(d+m,v+y,w,-s.TAU,Math.PI,!0),this.lineTo(d+P,v+y),this.moveTo(d+P,v+y),L?this.arc(d+P,v+y-P,P,s.TAU,Math.PI):this.arc(d,v+y,P,0,-s.TAU,!0),this.lineTo(d,v+S),this.moveTo(d,v+S),D?this.arc(d+S,v+S,S,-Math.PI,-s.TAU):this.arc(d,v,S,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,v){return this.fillPoint(d.x,d.y,v)},fillPoint:function(d,v,m){return!m||m<1?m=1:(d-=m/2,v-=m/2),this.commandBuffer.push(o.FILL_RECT,d,v,m,m),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,v,m,y,T,S){return this.commandBuffer.push(o.FILL_TRIANGLE,d,v,m,y,T,S),this},strokeTriangle:function(d,v,m,y,T,S){return this.commandBuffer.push(o.STROKE_TRIANGLE,d,v,m,y,T,S),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,v,m,y){return this.beginPath(),this.moveTo(d,v),this.lineTo(m,y),this.strokePath(),this},lineTo:function(d,v){return this.commandBuffer.push(o.LINE_TO,d,v),this},moveTo:function(d,v){return this.commandBuffer.push(o.MOVE_TO,d,v),this},strokePoints:function(d,v,m,y){v===void 0&&(v=!1),m===void 0&&(m=!1),y===void 0&&(y=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var T=1;T<y;T++)this.lineTo(d[T].x,d[T].y);return v&&this.lineTo(d[0].x,d[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(d,v,m,y){v===void 0&&(v=!1),m===void 0&&(m=!1),y===void 0&&(y=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var T=1;T<y;T++)this.lineTo(d[T].x,d[T].y);return v&&this.lineTo(d[0].x,d[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,v){v===void 0&&(v=32);var m=d.getPoints(v);return this.strokePoints(m,!0)},strokeEllipse:function(d,v,m,y,T){T===void 0&&(T=32);var S=new a(d,v,m,y),A=S.getPoints(T);return this.strokePoints(A,!0)},fillEllipseShape:function(d,v){v===void 0&&(v=32);var m=d.getPoints(v);return this.fillPoints(m,!0)},fillEllipse:function(d,v,m,y,T){T===void 0&&(T=32);var S=new a(d,v,m,y),A=S.getPoints(T);return this.fillPoints(A,!0)},arc:function(d,v,m,y,T,S,A){return S===void 0&&(S=!1),A===void 0&&(A=0),this.commandBuffer.push(o.ARC,d,v,m,y,T,S,A),this},slice:function(d,v,m,y,T,S,A){return S===void 0&&(S=!1),A===void 0&&(A=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,d,v),this.commandBuffer.push(o.ARC,d,v,m,y,T,S,A),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(d,v){return this.commandBuffer.push(o.TRANSLATE,d,v),this},scaleCanvas:function(d,v){return this.commandBuffer.push(o.SCALE,d,v),this},rotateCanvas:function(d){return this.commandBuffer.push(o.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,v,m){var y=this.scene.sys,T=y.game.renderer;v===void 0&&(v=y.scale.width),m===void 0&&(m=y.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,v,m),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var S,A,P={willReadFrequently:!0};if(typeof d=="string")if(y.textures.exists(d)){S=y.textures.get(d);var w=S.getSourceImage();w instanceof HTMLCanvasElement&&(A=w.getContext("2d",P))}else S=y.textures.createCanvas(d,v,m),A=S.getSourceImage().getContext("2d",P);else d instanceof HTMLCanvasElement&&(A=d.getContext("2d",P));return A&&(this.renderCanvas(T,this,f.TargetCamera,null,A,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new h,c.exports=f},32768:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),x=t(20926),o=function(r,a,i,n,l,s){var u=a.commandBuffer,f=u.length,d=l||r.currentContext;if(!(f===0||!x(r,d,a,i,n))){i.addToRenderList(a);var v=1,m=1,y=0,T=0,S=1,A=0,P=0,w=0;d.beginPath();for(var M=0;M<f;++M){var D=u[M];switch(D){case h.ARC:d.arc(u[M+1],u[M+2],u[M+3],u[M+4],u[M+5],u[M+6]),M+=7;break;case h.LINE_STYLE:S=u[M+1],y=u[M+2],v=u[M+3],A=(y&16711680)>>>16,P=(y&65280)>>>8,w=y&255,d.strokeStyle="rgba("+A+","+P+","+w+","+v+")",d.lineWidth=S,M+=3;break;case h.FILL_STYLE:T=u[M+1],m=u[M+2],A=(T&16711680)>>>16,P=(T&65280)>>>8,w=T&255,d.fillStyle="rgba("+A+","+P+","+w+","+m+")",M+=2;break;case h.BEGIN_PATH:d.beginPath();break;case h.CLOSE_PATH:d.closePath();break;case h.FILL_PATH:s||d.fill();break;case h.STROKE_PATH:s||d.stroke();break;case h.FILL_RECT:s?d.rect(u[M+1],u[M+2],u[M+3],u[M+4]):d.fillRect(u[M+1],u[M+2],u[M+3],u[M+4]),M+=4;break;case h.FILL_TRIANGLE:d.beginPath(),d.moveTo(u[M+1],u[M+2]),d.lineTo(u[M+3],u[M+4]),d.lineTo(u[M+5],u[M+6]),d.closePath(),s||d.fill(),M+=6;break;case h.STROKE_TRIANGLE:d.beginPath(),d.moveTo(u[M+1],u[M+2]),d.lineTo(u[M+3],u[M+4]),d.lineTo(u[M+5],u[M+6]),d.closePath(),s||d.stroke(),M+=6;break;case h.LINE_TO:d.lineTo(u[M+1],u[M+2]),M+=2;break;case h.MOVE_TO:d.moveTo(u[M+1],u[M+2]),M+=2;break;case h.LINE_FX_TO:d.lineTo(u[M+1],u[M+2]),M+=5;break;case h.MOVE_FX_TO:d.moveTo(u[M+1],u[M+2]),M+=5;break;case h.SAVE:d.save();break;case h.RESTORE:d.restore();break;case h.TRANSLATE:d.translate(u[M+1],u[M+2]),M+=2;break;case h.SCALE:d.scale(u[M+1],u[M+2]),M+=2;break;case h.ROTATE:d.rotate(u[M+1]),M+=1;break;case h.GRADIENT_FILL_STYLE:M+=5;break;case h.GRADIENT_LINE_STYLE:M+=6;break}}d.restore()}};c.exports=o},87079:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),x=t(43831);h.register("graphics",function(o,r){o===void 0&&(o={}),r!==void 0&&(o.add=r);var a=new x(this.scene,o);return o.add&&this.scene.sys.displayList.add(a),a})},1201:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43831),x=t(39429);x.register("graphics",function(o){return this.displayList.add(new h(this.scene,o))})},84503:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(77545),o=t(32768),o=t(32768),c.exports={renderWebGL:x,renderCanvas:o}},77545:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),x=t(91296),o=t(61340),r=t(70554),a=function(u,f,d){this.x=u,this.y=f,this.width=d},i=function(u,f,d){this.points=[],this.pointsLength=1,this.points[0]=new a(u,f,d)},n=[],l=new o,s=function(u,f,d,v){if(f.commandBuffer.length!==0){d.addToRenderList(f);var m=u.pipelines.set(f.pipeline,f);u.pipelines.preBatch(f);for(var y=x(f,d,v).calc,T=l.loadIdentity(),S=f.commandBuffer,A=d.alpha*f.alpha,P=1,w=m.fillTint,M=m.strokeTint,D=0,F=0,L=0,O=.01,B=Math.PI*2,U,W=[],H=0,Y=!0,G=null,X=r.getTintAppendFloatAlpha,V=0;V<S.length;V++)switch(U=S[V],U){case h.BEGIN_PATH:{W.length=0,G=null,Y=!0;break}case h.CLOSE_PATH:{Y=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case h.FILL_PATH:{for(H=0;H<W.length;H++)m.batchFillPath(W[H].points,T,y);break}case h.STROKE_PATH:{for(H=0;H<W.length;H++)m.batchStrokePath(W[H].points,P,Y,T,y);break}case h.LINE_STYLE:{P=S[++V];var b=S[++V],z=S[++V]*A,$=X(b,z);M.TL=$,M.TR=$,M.BL=$,M.BR=$;break}case h.FILL_STYLE:{var Q=S[++V],Z=S[++V]*A,q=X(Q,Z);w.TL=q,w.TR=q,w.BL=q,w.BR=q;break}case h.GRADIENT_FILL_STYLE:{var j=S[++V]*A,k=S[++V]*A,_=S[++V]*A,et=S[++V]*A;w.TL=X(S[++V],j),w.TR=X(S[++V],k),w.BL=X(S[++V],_),w.BR=X(S[++V],et);break}case h.GRADIENT_LINE_STYLE:{P=S[++V];var it=S[++V]*A;M.TL=X(S[++V],it),M.TR=X(S[++V],it),M.BL=X(S[++V],it),M.BR=X(S[++V],it);break}case h.ARC:{var st=0,nt=S[++V],ut=S[++V],ft=S[++V],ht=S[++V],rt=S[++V],lt=S[++V],dt=S[++V];for(rt-=ht,lt?rt<-B?rt=-B:rt>0&&(rt=-B+rt%B):rt>B?rt=B:rt<0&&(rt=B+rt%B),G===null&&(G=new i(nt+Math.cos(ht)*ft,ut+Math.sin(ht)*ft,P),W.push(G),st+=O);st<1+dt;)L=rt*st+ht,D=nt+Math.cos(L)*ft,F=ut+Math.sin(L)*ft,G.points.push(new a(D,F,P)),st+=O;L=rt+ht,D=nt+Math.cos(L)*ft,F=ut+Math.sin(L)*ft,G.points.push(new a(D,F,P));break}case h.FILL_RECT:{m.batchFillRect(S[++V],S[++V],S[++V],S[++V],T,y);break}case h.FILL_TRIANGLE:{m.batchFillTriangle(S[++V],S[++V],S[++V],S[++V],S[++V],S[++V],T,y);break}case h.STROKE_TRIANGLE:{m.batchStrokeTriangle(S[++V],S[++V],S[++V],S[++V],S[++V],S[++V],P,T,y);break}case h.LINE_TO:{G!==null?G.points.push(new a(S[++V],S[++V],P)):(G=new i(S[++V],S[++V],P),W.push(G));break}case h.MOVE_TO:{G=new i(S[++V],S[++V],P),W.push(G);break}case h.SAVE:{n.push(T.copyToArray());break}case h.RESTORE:{T.copyFromArray(n.pop());break}case h.TRANSLATE:{nt=S[++V],ut=S[++V],T.translate(nt,ut);break}case h.SCALE:{nt=S[++V],ut=S[++V],T.scale(nt,ut);break}case h.ROTATE:{T.rotate(S[++V]);break}}u.pipelines.postBatch(f)}};c.exports=s},26479:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61061),x=t(83419),o=t(51708),r=t(50792),a=t(46710),i=t(95540),n=t(35154),l=t(97022),s=t(41212),u=t(88492),f=t(35072),d=t(68287),v=new x({Extends:r,initialize:function(y,T,S){r.call(this),S?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?s(T[0])&&(S=T,T=null):s(T)&&(S=T,T=null),this.scene=y,this.children=new f,this.isParent=!0,this.type="Group",this.classType=i(S,"classType",d),this.name=i(S,"name",""),this.active=i(S,"active",!0),this.maxSize=i(S,"maxSize",-1),this.defaultKey=i(S,"defaultKey",null),this.defaultFrame=i(S,"defaultFrame",null),this.runChildUpdate=i(S,"runChildUpdate",!1),this.createCallback=i(S,"createCallback",null),this.removeCallback=i(S,"removeCallback",null),this.createMultipleCallback=i(S,"createMultipleCallback",null),this.internalCreateCallback=i(S,"internalCreateCallback",null),this.internalRemoveCallback=i(S,"internalRemoveCallback",null),T&&this.addMultiple(T),S&&this.createMultiple(S),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,y,T,S,A,P){if(m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=this.defaultKey),S===void 0&&(S=this.defaultFrame),A===void 0&&(A=!0),P===void 0&&(P=!0),this.isFull())return null;var w=new this.classType(this.scene,m,y,T,S);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=A,w.setActive(P),this.add(w),w},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var y=[];if(m[0].key)for(var T=0;T<m.length;T++){var S=this.createFromConfig(m[T]);y=y.concat(S)}return y},createFromConfig:function(m){if(this.isFull())return[];this.classType=i(m,"classType",this.classType);var y=i(m,"key",void 0),T=i(m,"frame",null),S=i(m,"visible",!0),A=i(m,"active",!0),P=[];if(y===void 0)return P;Array.isArray(y)||(y=[y]),Array.isArray(T)||(T=[T]);var w=i(m,"repeat",0),M=i(m,"randomKey",!1),D=i(m,"randomFrame",!1),F=i(m,"yoyo",!1),L=i(m,"quantity",!1),O=i(m,"frameQuantity",1),B=i(m,"max",0),U=u(y,T,{max:B,qty:L||O,random:M,randomB:D,repeat:w,yoyo:F});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var W=0;W<U.length;W++){var H=this.create(0,0,U[W].a,U[W].b,S,A);if(!H)break;P.push(H)}if(l(m,"setXY")){var Y=n(m,"setXY.x",0),G=n(m,"setXY.y",0),X=n(m,"setXY.stepX",0),V=n(m,"setXY.stepY",0);h.SetXY(P,Y,G,X,V)}if(l(m,"setRotation")){var b=n(m,"setRotation.value",0),z=n(m,"setRotation.step",0);h.SetRotation(P,b,z)}if(l(m,"setScale")){var $=n(m,"setScale.x",1),Q=n(m,"setScale.y",$),Z=n(m,"setScale.stepX",0),q=n(m,"setScale.stepY",0);h.SetScale(P,$,Q,Z,q)}if(l(m,"setOrigin")){var j=n(m,"setOrigin.x",.5),k=n(m,"setOrigin.y",j),_=n(m,"setOrigin.stepX",0),et=n(m,"setOrigin.stepY",0);h.SetOrigin(P,j,k,_,et)}if(l(m,"setAlpha")){var it=n(m,"setAlpha.value",1),st=n(m,"setAlpha.step",0);h.SetAlpha(P,it,st)}if(l(m,"setDepth")){var nt=n(m,"setDepth.value",0),ut=n(m,"setDepth.step",0);h.SetDepth(P,nt,ut)}if(l(m,"setScrollFactor")){var ft=n(m,"setScrollFactor.x",1),ht=n(m,"setScrollFactor.y",ft),rt=n(m,"setScrollFactor.stepX",0),lt=n(m,"setScrollFactor.stepY",0);h.SetScrollFactor(P,ft,ht,rt,lt)}var dt=i(m,"hitArea",null),xt=i(m,"hitAreaCallback",null);dt&&h.SetHitArea(P,dt,xt);var yt=i(m,"gridAlign",!1);return yt&&h.GridAlign(P,yt),this.createMultipleCallback&&this.createMultipleCallback.call(this,P),P},preUpdate:function(m,y){if(!(!this.runChildUpdate||this.children.size===0))for(var T=this.children.entries.slice(),S=0;S<T.length;S++){var A=T[S];A.active&&A.update(m,y)}},add:function(m,y){return y===void 0&&(y=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),y&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(o.DESTROY,this.remove,this),this)},addMultiple:function(m,y){if(y===void 0&&(y=!1),Array.isArray(m))for(var T=0;T<m.length;T++)this.add(m[T],y);return this},remove:function(m,y,T){return y===void 0&&(y=!1),T===void 0&&(T=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(o.DESTROY,this.remove,this),T?m.destroy():y&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,y){m===void 0&&(m=!1),y===void 0&&(y=!1);for(var T=this.children,S=0;S<T.size;S++){var A=T.entries[S];A.off(o.DESTROY,this.remove,this),y?A.destroy():m&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,y,T,S){return a(this.children.entries,m,y,T,S)},getFirst:function(m,y,T,S,A,P,w){return this.getHandler(!0,1,m,y,T,S,A,P,w)},getFirstNth:function(m,y,T,S,A,P,w,M){return this.getHandler(!0,m,y,T,S,A,P,w,M)},getLast:function(m,y,T,S,A,P,w){return this.getHandler(!1,1,m,y,T,S,A,P,w)},getLastNth:function(m,y,T,S,A,P,w,M){return this.getHandler(!1,m,y,T,S,A,P,w,M)},getHandler:function(m,y,T,S,A,P,w,M,D){T===void 0&&(T=!1),S===void 0&&(S=!1);var F,L,O=0,B=this.children.entries;if(m)for(L=0;L<B.length;L++)if(F=B[L],F.active===T){if(O++,O===y)break}else F=null;else for(L=B.length-1;L>=0;L--)if(F=B[L],F.active===T){if(O++,O===y)break}else F=null;return F?(typeof A=="number"&&(F.x=A),typeof P=="number"&&(F.y=P),F):S?this.create(A,P,w,M,D):null},get:function(m,y,T,S,A){return this.getFirst(!1,!0,m,y,T,S,A)},getFirstAlive:function(m,y,T,S,A,P){return this.getFirst(!0,m,y,T,S,A,P)},getFirstDead:function(m,y,T,S,A,P){return this.getFirst(!1,m,y,T,S,A,P)},playAnimation:function(m,y){return h.PlayAnimation(this.children.entries,m,y),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var y=0,T=0;T<this.children.size;T++)this.children.entries[T].active===m&&y++;return y},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),y=this.maxSize===-1?999999999999:this.maxSize;return y-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,y,T,S,A){return h.PropertyValueSet(this.children.entries,m,y,T,S,A),this},propertyValueInc:function(m,y,T,S,A){return h.PropertyValueInc(this.children.entries,m,y,T,S,A),this},setX:function(m,y){return h.SetX(this.children.entries,m,y),this},setY:function(m,y){return h.SetY(this.children.entries,m,y),this},setXY:function(m,y,T,S){return h.SetXY(this.children.entries,m,y,T,S),this},incX:function(m,y){return h.IncX(this.children.entries,m,y),this},incY:function(m,y){return h.IncY(this.children.entries,m,y),this},incXY:function(m,y,T,S){return h.IncXY(this.children.entries,m,y,T,S),this},shiftPosition:function(m,y,T){return h.ShiftPosition(this.children.entries,m,y,T),this},angle:function(m,y){return h.Angle(this.children.entries,m,y),this},rotate:function(m,y){return h.Rotate(this.children.entries,m,y),this},rotateAround:function(m,y){return h.RotateAround(this.children.entries,m,y),this},rotateAroundDistance:function(m,y,T){return h.RotateAroundDistance(this.children.entries,m,y,T),this},setAlpha:function(m,y){return h.SetAlpha(this.children.entries,m,y),this},setTint:function(m,y,T,S){return h.SetTint(this.children.entries,m,y,T,S),this},setOrigin:function(m,y,T,S){return h.SetOrigin(this.children.entries,m,y,T,S),this},scaleX:function(m,y){return h.ScaleX(this.children.entries,m,y),this},scaleY:function(m,y){return h.ScaleY(this.children.entries,m,y),this},scaleXY:function(m,y,T,S){return h.ScaleXY(this.children.entries,m,y,T,S),this},setDepth:function(m,y){return h.SetDepth(this.children.entries,m,y),this},setBlendMode:function(m){return h.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,y){return h.SetHitArea(this.children.entries,m,y),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,y,T){return h.SetVisible(this.children.entries,m,y,T),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(m,y){m===void 0&&(m=!1),y===void 0&&(y=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(y,m),this.scene=void 0,this.children=void 0)}});c.exports=v},94975:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),x=t(26479);h.register("group",function(o){return new x(this.scene,null,o)})},3385:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26479),x=t(39429);x.register("group",function(o,r){return this.updateList.add(new h(this.scene,o,r))})},88571:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),r=t(59819),a=new h({Extends:o,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,r],initialize:function(n,l,s,u,f){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,f),this.setPosition(l,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=a},40652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x.addToRenderList(h),t.batchSprite(h,h.frame,x,o)};c.exports=E},82459:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(88571);x.register("image",function(a,i){a===void 0&&(a={});var n=o(a,"key",null),l=o(a,"frame",null),s=new r(this.scene,0,0,n,l);return i!==void 0&&(a.add=i),h(this.scene,s,a),s})},2117:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88571),x=t(39429);x.register("image",function(o,r,a,i){return this.displayList.add(new h(this.scene,o,r,a,i))})},59819:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(99517),o=t(40652),c.exports={renderWebGL:x,renderCanvas:o}},99517:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x.addToRenderList(h),this.pipeline.batchSprite(h,x,o)};c.exports=E},77856:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};h.Shader=t(20071),h.Mesh=t(4703),h.NineSlice=t(28103),h.PointLight=t(80321),h.Plane=t(33663),h.Factories.Shader=t(74177),h.Factories.Mesh=t(9225),h.Factories.NineSlice=t(47521),h.Factories.PointLight=t(71255),h.Factories.Plane=t(30985),h.Creators.Shader=t(54935),h.Creators.Mesh=t(20527),h.Creators.NineSlice=t(28279),h.Creators.PointLight=t(39829),h.Creators.Plane=t(56015),h.Light=t(41432),h.LightsManager=t(61356),h.LightsPlugin=t(88992),c.exports=h},93595:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(83419),o=t(31401),r=t(53774),a=t(45893),i=t(50792),n=t(51708),l=t(73162),s=t(33963),u=t(44594),f=t(19186),d=new x({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,i,s],initialize:function(m,y){l.call(this,m),i.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),y&&this.add(y),m.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(v,m){return this.data||(this.data=new a(this)),this.data.set(v,m),this},incData:function(v,m){return this.data||(this.data=new a(this)),this.data.inc(v,m),this},toggleData:function(v){return this.data||(this.data=new a(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new a(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,m=this.parentContainer,y=[];m&&(y.unshift(m.getIndex(v)),v=m,m.parentContainer);)m=m.parentContainer;return y.unshift(this.displayList.getIndex(v)),y},addChildCallback:function(v){var m=v.displayList;m&&m!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(n.ADDED_TO_SCENE,v,this.scene),this.events.emit(u.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(n.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,m){return v._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),v.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=d},2956:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=h.list;if(o.length!==0){h.depthSort();var r=h.blendMode!==-1;r||t.setBlendMode(0);var a=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,x);for(var i=0;i<o.length;i++){var n=o[i];if(n.willRender(x)){var l=n.alpha;!r&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*a),n.renderCanvas(t,n,x),n.setAlpha(l)}}h.mask&&h.mask.postRenderCanvas(t)}};c.exports=E},25179:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(93595),o=t(44603),r=t(23568);o.register("layer",function(a,i){a===void 0&&(a={});var n=r(a,"children",null),l=new x(this.scene,n);return i!==void 0&&(a.add=i),h(this.scene,l,a),l})},20005:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93595),x=t(39429);x.register("layer",function(o){return this.displayList.add(new h(this.scene,o))})},33963:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(15869),o=t(2956),c.exports={renderWebGL:x,renderCanvas:o}},15869:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=h.list,r=o.length;if(r!==0){h.depthSort(),t.pipelines.preBatch(h);var a=h.blendMode!==-1;a||t.setBlendMode(0);for(var i=h.alpha,n=0;n<r;n++){var l=o[n];if(l.willRender(x)){var s,u,f,d;if(l.alphaTopLeft!==void 0)s=l.alphaTopLeft,u=l.alphaTopRight,f=l.alphaBottomLeft,d=l.alphaBottomRight;else{var v=l.alpha;s=v,u=v,f=v,d=v}!a&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var m=l.mask;m&&m.preRenderWebGL(t,l,x);var y=l.type;y!==t.currentType&&(t.newType=!0,t.currentType=y),t.nextTypeMatch=n<r-1?o[n+1].type===t.currentType:!1,l.setAlpha(s*i,u*i,f*i,d*i),l.renderWebGL(t,l,x),l.setAlpha(s,u,f,d),m&&m.postRenderWebGL(t,x),t.newType=!1}}t.pipelines.postBatch(h)}};c.exports=E},41432:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),x=t(83419),o=t(31401),r=t(51767),a=t(70554),i=new x({Extends:h,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,s,u,f,d,v,m){h.call(this,l,s,u),this.color=new r(f,d,v),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(u)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=a.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});i.RENDER_MASK=15,c.exports=i},61356:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81491),x=t(83419),o=t(20339),r=t(41432),a=t(80321),i=t(51767),n=t(19133),l=t(19186),s=t(70554),u=new x({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,d,v,m,y,T){return this.systems.displayList.add(new a(this.scene,f,d,v,m,y,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var d=this.lights,v=f.worldView,m=[],y=0;y<d.length;y++){var T=d[y];T.willRender(f)&&h(T,v)&&m.push({light:T,distance:o(T.x,T.y,v.centerX,v.centerY)})}return m.length>this.maxLights&&(l(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(f,d){return f.distance>=d.distance},setAmbientColor:function(f){var d=s.getFloatsFromUintRGB(f);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,d,v,m,y){f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=128),m===void 0&&(m=16777215),y===void 0&&(y=1);var T=s.getFloatsFromUintRGB(m),S=new r(f,d,v,T[0],T[1],T[2],y);return this.lights.push(S),S},removeLight:function(f){var d=this.lights.indexOf(f);return d>=0&&n(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=u},88992:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(61356),o=t(37277),r=t(44594),a=new h({Extends:x,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(r.BOOT,this.boot,this),x.call(this)},boot:function(){var i=this.systems.events;i.on(r.SHUTDOWN,this.shutdown,this),i.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",a,"lights"),c.exports=a},4703:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(39506),r=t(83997),a=t(95643),i=t(34684),n=t(92515),l=t(91296),s=t(37867),u=t(29807),f=t(43396),d=t(19186),v=t(25836),m=t(39318),y=new h({Extends:a,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,u],initialize:function(S,A,P,w,M,D,F,L,O,B,U,W){A===void 0&&(A=0),P===void 0&&(P=0),w===void 0&&(w="__WHITE"),a.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new v,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=S.sys.renderer;this.setPosition(A,P),this.setTexture(w,M),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),D&&this.addVertices(D,F,L,O,B,U,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(v.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=v.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,S,A,P,w){return A===void 0&&(A=45),P===void 0&&(P=.01),w===void 0&&(w=1e3),this.fov=A,this.projectionMatrix.perspective(o(A),T/S,P,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,S,A,P){return T===void 0&&(T=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),A===void 0&&(A=-1e3),P===void 0&&(P=1e3),this.fov=0,this.projectionMatrix.ortho(-T,T,-S,S,A,P),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,S,A,P,w,M,D,F,L){var O=this.scene.sys.cache.obj.get(T),B;return O&&(B=i(O,this,S,A,P,w,M,D,F,L)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",T),this},sortByDepth:function(T,S){return T.depth-S.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(T,S,A,P,w,M,D){var F=new m(T,S,A,P,w,M,D);return this.vertices.push(F),F},addFace:function(T,S,A){var P=new r(T,S,A);return this.faces.push(P),this.dirtyCache[9]=-1,P},addVertices:function(T,S,A,P,w,M,D){var F=n(T,S,A,P,w,M,D);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},hasFaceAt:function(T,S,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,w=this.faces,M=0;M<w.length;M++){var D=w[M];if(D.contains(T,S,P))return!0}return!1},getFaceAt:function(T,S,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,w=this.faces,M=[],D=0;D<w.length;D++){var F=w[D];F.contains(T,S,P)&&M.push(F)}return d(M,this.sortByDepth)},setDebug:function(T,S){return this.debugGraphic=T,!T&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var T=this.modelPosition,S=this.modelRotation,A=this.modelScale,P=this.dirtyCache,w=T.x,M=T.y,D=T.z,F=S.x,L=S.y,O=S.z,B=A.x,U=A.y,W=A.z,H=this.getFaceCount(),Y=P[0],G=P[1],X=P[2],V=P[3],b=P[4],z=P[5],$=P[6],Q=P[7],Z=P[8],q=P[9];return P[0]=w,P[1]=M,P[2]=D,P[3]=F,P[4]=L,P[5]=O,P[6]=B,P[7]=U,P[8]=W,P[9]=H,Y!==w||G!==M||X!==D||V!==F||b!==L||z!==O||$!==B||Q!==U||Z!==W||q!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!T[10]&&!this.isDirty())){var S=this.width,A=this.height,P=this.viewMatrix,w=this.viewPosition;T[10]&&(P.identity(),P.translate(w),P.invert(),T[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=w.z,F=this.faces,L=0;L<F.length;L++)F[L].transformCoordinatesLocal(M,S,A,D);this.depthSort()}},renderDebug:function(T,S){for(var A=T.debugGraphic,P=0;P<S.length;P++){var w=S[P],M=w.vertex1.tx,D=w.vertex1.ty,F=w.vertex2.tx,L=w.vertex2.ty,O=w.vertex3.tx,B=w.vertex3.ty;A.strokeTriangle(M,D,F,L,O,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(T){T===void 0&&(T={});var S=(function(A,P,w){for(var M=this.faces,D=0;D<M.length;D++){var F=M[D];if(F.contains(P,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,T,S),this},setTint:function(T){T===void 0&&(T=16777215);for(var S=this.vertices,A=0;A<S.length;A++)S[A].color=T;return this},uvScroll:function(T,S){for(var A=this.faces,P=0;P<A.length;P++)A[P].scrollUV(T,S);return this},uvScale:function(T,S){for(var A=this.faces,P=0;P<A.length;P++)A[P].scaleUV(T,S);return this},tint:{set:function(T){this.setTint(T)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(T){this.modelRotation.x=o(T)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(T){this.modelRotation.y=o(T)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(T){this.modelRotation.z=o(T)}}});c.exports=y},36488:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(){};c.exports=E},20527:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(35154),a=t(4703);x.register("mesh",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=r(i,"vertices",[]),f=r(i,"uvs",[]),d=r(i,"indicies",[]),v=r(i,"containsZ",!1),m=r(i,"normals",[]),y=r(i,"colors",16777215),T=r(i,"alphas",1),S=new a(this.scene,0,0,l,s,u,f,d,v,m,y,T);return n!==void 0&&(i.add=n),h(this.scene,S,i),S})},9225:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4703),x=t(39429);x.register("mesh",function(o,r,a,i,n,l,s,u,f,d,v){return this.displayList.add(new h(this.scene,o,r,a,i,n,l,s,u,f,d,v))})},29807:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(48833),o=t(36488),c.exports={renderWebGL:x,renderCanvas:o}},48833:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,r,a,i){var n=r.faces,l=n.length;if(l!==0){a.addToRenderList(r);var s=o.pipelines.set(r.pipeline,r),u=h(r,a,i).calc;o.pipelines.preBatch(r);for(var f=s.setGameObject(r),d=s.vertexViewF32,v=s.vertexViewU32,m=s.vertexCount*s.currentShader.vertexComponentCount-1,y=r.tintFill,T=[],S=r.debugCallback,A=u.a,P=u.b,w=u.c,M=u.d,D=u.e,F=u.f,L=r.viewPosition.z,O=r.hideCCW,B=a.roundPixels,U=a.alpha*r.alpha,W=0,H=0;H<l;H++){var Y=n[H];Y.isInView(a,O,L,U,A,P,w,M,D,F,B)&&(s.shouldFlush(3)&&(s.flush(),f=s.setGameObject(r),m=s.vertexCount*s.currentShader.vertexComponentCount-1),m=Y.load(d,v,m,f,y),W++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,S&&T.push(Y))}r.totalFrame+=W,S&&S.call(r,r,T),o.pipelines.postBatch(r)}};c.exports=x},28103:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),r=t(78023),a=t(39318),i=new h({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,r],initialize:function(l,s,u,f,d,v,m,y,T,S,A){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var P=l.textures.getFrame(f,d);this.is3Slice=!S&&!A,P&&P.scale9&&(this.is3Slice=P.is3Slice);for(var w=this.is3Slice?18:54,M=0;M<w;M++)this.vertices.push(new a);this.setPosition(s,u),this.setTexture(f,d),this.setSlices(v,m,y,T,S,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,s,u,f,d,v){s===void 0&&(s=10),u===void 0&&(u=10),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=!1);var m=this.frame,y=!1;if(this.is3Slice&&v&&f!==0&&d!==0&&(y=!0),y)console.warn("Cannot change 9 slice to 3 slice");else{if(m&&m.scale9&&!v){var T=m.data.scale9Borders,S=T.x,A=T.y;s=S,u=m.width-T.w-S,f=A,d=m.height-T.h-A,n===void 0&&(n=m.width),l===void 0&&(l=m.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=s,this.rightWidth=u,this.topHeight=f,this.bottomHeight=d,this.is3Slice&&(l=m.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,f=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,n/f,s/d),this.updateQuadUVs(6,n/f,0,1-l/f,s/d),this.updateQuadUVs(12,1-l/f,0,1,s/d),this.is3Slice||(this.updateQuadUVs(18,0,s/d,n/f,1-u/d),this.updateQuadUVs(24,n/f,s/d,1-l/f,1-u/d),this.updateQuadUVs(30,1-l/f,s/d,1,1-u/d),this.updateQuadUVs(36,0,1-u/d,n/f,1),this.updateQuadUVs(42,n/f,1-u/d,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-u/d,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,f=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+n/f,.5-s/d),this.updateQuad(6,-.5+n/f,.5,.5-l/f,.5-s/d),this.updateQuad(12,.5-l/f,.5,.5,.5-s/d),this.is3Slice||(this.updateQuad(18,-.5,.5-s/d,-.5+n/f,-.5+u/d),this.updateQuad(24,-.5+n/f,.5-s/d,.5-l/f,-.5+u/d),this.updateQuad(30,.5-l/f,.5-s/d,.5,-.5+u/d),this.updateQuad(36,-.5,-.5+u/d,-.5+n/f,-.5),this.updateQuad(42,-.5+n/f,-.5+u/d,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+u/d,.5,-.5))},updateQuad:function(n,l,s,u,f){var d=this.width,v=this.height,m=this.originX,y=this.originY,T=this.vertices;T[n+0].resize(l,s,d,v,m,y),T[n+1].resize(l,f,d,v,m,y),T[n+2].resize(u,s,d,v,m,y),T[n+3].resize(l,f,d,v,m,y),T[n+4].resize(u,f,d,v,m,y),T[n+5].resize(u,s,d,v,m,y)},updateQuadUVs:function(n,l,s,u,f){var d=this.vertices,v=this.frame,m=v.u0,y=v.v0,T=v.u1,S=v.v1;if(m!==0||T!==1){var A=T-m;l=m+l*A,u=m+u*A}if(y!==0||S!==1){var P=S-y;s=y+s*P,f=y+f*P}d[n+0].setUVs(l,s),d[n+1].setUVs(l,f),d[n+2].setUVs(u,s),d[n+3].setUVs(l,f),d[n+4].setUVs(u,f),d[n+5].setUVs(u,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=i},28279:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(35154),a=t(28103);x.register("nineslice",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=r(i,"width",256),f=r(i,"height",256),d=r(i,"leftWidth",10),v=r(i,"rightWidth",10),m=r(i,"topHeight",0),y=r(i,"bottomHeight",0),T=new a(this.scene,0,0,l,s,u,f,d,v,m,y);return n!==void 0&&(i.add=n),h(this.scene,T,i),T})},47521:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28103),x=t(39429);x.register("nineslice",function(o,r,a,i,n,l,s,u,f,d){return this.displayList.add(new h(this.scene,o,r,a,i,n,l,s,u,f,d))})},78023:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(52230),c.exports={renderWebGL:x,renderCanvas:o}},52230:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(r,a,i,n){var l=a.vertices,s=l.length;if(s!==0){i.addToRenderList(a);var u=r.pipelines.set(a.pipeline,a),f=h(a,i,n,!1).calc;r.pipelines.preBatch(a);var d=u.setGameObject(a),v=u.vertexViewF32,m=u.vertexViewU32,y=u.vertexCount*u.currentShader.vertexComponentCount-1,T=i.roundPixels,S=a.tintFill,A=i.alpha*a.alpha,P=x.getTintAppendFloatAlpha(a.tint,A),w=u.vertexAvailable(),M=-1;w<s&&(M=w);for(var D=0;D<s;D++){var F=l[D];D===M&&(u.flush(),d=u.setGameObject(a),y=0),v[++y]=f.getXRound(F.vx,F.vy,T),v[++y]=f.getYRound(F.vx,F.vy,T),v[++y]=F.u,v[++y]=F.v,v[++y]=d,v[++y]=S,m[++y]=P,u.vertexCount++,u.currentBatch.count=u.vertexCount-u.currentBatch.start}r.pipelines.postBatch(a)}};c.exports=o},76472:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(44777),o=t(37589),r=t(6113),a=t(91389),i=t(90664),n=new h({Extends:x,initialize:function(s){x.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,s=l,u=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=r("Linear"),this.interpolation=a("linear"),u=this.easedValueEmit,f=this.easeValueUpdate,s=l[0],this.active=!0;for(var d=0;d<l.length;d++){var v=i(l[d]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=u,this.onUpdate=f,this.current=s,this},setEase:function(l){this.easeName=l,this.ease=r(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,s,u){var f=this.ease(u),d=this.interpolation(this.r,f),v=this.interpolation(this.g,f),m=this.interpolation(this.b,f),y=o(d,v,m);return this.current=y,y}});c.exports=n},44777:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),x=t(45319),o=t(83419),r=t(99472),a=t(6113),i=t(95540),n=t(91389),l=t(77720),s=t(15994),u=new o({initialize:function(d,v,m){m===void 0&&(m=!1),this.propertyKey=d,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,d){f===void 0&&(f={}),d&&(this.propertyKey=d),this.propertyValue=i(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var d;switch(this.method){case 1:case 3:case 8:d=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(d=f);break;case 4:var v=(this.end-this.start)/this.steps;d=l(f,v),this.counter=d;break;case 5:case 6:case 7:d=x(f,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var d=typeof f;if(d==="number")return 1;if(Array.isArray(f))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,d=f,v=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,d=f[0];break;case 3:this._onEmit=f,v=this.proxyEmit,d=this.defaultValue;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,v=this.steppedEmit,d=this.start;break;case 5:this.start=f.start,this.end=f.end;var y=this.has(f,"ease")?f.ease:"Linear";this.ease=a(y,f.easeParams),v=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,d=this.start;break;case 6:this.start=f.min,this.end=f.max,v=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var T=f.random;Array.isArray(T)&&(this.start=T[0],this.end=T[1]),v=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,v=this.proxyEmit,m=this.proxyUpdate,d=this.defaultValue;break;case 9:this.start=f.values;var S=this.has(f,"ease")?f.ease:"Linear";this.ease=a(S,f.easeParams),this.interpolation=n(f.interpolation),v=this.easedValueEmit,m=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=v,this.onUpdate=m,this.current=d,this},has:function(f,d){return f.hasOwnProperty(d)},hasBoth:function(f,d,v){return f.hasOwnProperty(d)&&f.hasOwnProperty(v)},hasEither:function(f,d,v){return f.hasOwnProperty(d)||f.hasOwnProperty(v)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(f,d,v,m){return m},proxyEmit:function(f,d,v){var m=this._onEmit(f,d,v);return this.current=m,m},proxyUpdate:function(f,d,v,m){var y=this._onUpdate(f,d,v,m);return this.current=y,y},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,d){var v=r(this.start,this.end);return f&&f.data[d]&&(f.data[d].min=v,f.data[d].max=this.end),this.current=v,v},randomRangedIntEmit:function(f,d){var v=h(this.start,this.end);return f&&f.data[d]&&(f.data[d].min=v,f.data[d].max=this.end),this.current=v,v},steppedEmit:function(){var f=this.counter,d=f,v=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(d+=v,d>=this.end&&(m=d-this.end,d=this.end-m,this.direction=1)):(d-=v,d<=this.start&&(m=this.start-d,d=this.start+m,this.direction=0)),this.counter=d}else this.counter=s(d+v,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,d){if(f&&f.data[d]){var v=f.data[d];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,d,v){var m=f.data[d],y,T=this.ease(v);return this.interpolation?y=this.interpolation(this.start,T):y=(m.max-m.min)*T+m.min,this.current=y,y},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=u},24502:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(20286),r=new h({Extends:o,initialize:function(i,n,l,s,u){if(typeof i=="object"){var f=i;i=x(f,"x",0),n=x(f,"y",0),l=x(f,"power",0),s=x(f,"epsilon",100),u=x(f,"gravity",50)}else i===void 0&&(i=0),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=100),u===void 0&&(u=50);o.call(this,i,n,!0),this._gravity=u,this._power=l*u,this._epsilon=s*s},update:function(a,i){var n=this.x-a.x,l=this.y-a.y,s=n*n+l*l;if(s!==0){var u=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var f=this._power*i/(s*u)*100;a.velocityX+=n*f,a.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(a){this._epsilon=a*a}},power:{get:function(){return this._power/this._gravity},set:function(a){this._power=a*this._gravity}},gravity:{get:function(){return this._gravity},set:function(a){var i=this.power;this._gravity=a,this.power=i}}});c.exports=r},56480:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(45319),o=t(83419),r=t(39506),a=t(87841),i=t(11520),n=t(26099),l=new o({initialize:function(u){this.emitter=u,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=u.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new h(this)),this.bounds=new a},emit:function(s,u,f,d,v,m){return this.emitter.emit(s,u,f,d,v,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.x=s,this.y=u},fire:function(s,u){var f=this.emitter,d=f.ops,v=f.getAnim();if(v?this.anims.play(v):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),s===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=s+d.x.onEmit(this,"x"):this.x+=s,u===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=u+d.y.onEmit(this,"y"):this.y+=u,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var m=d.speedX.onEmit(this,"speedX"),y=d.speedY.active?d.speedY.onEmit(this,"speedY"):m;if(f.radial){var T=r(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(T)*Math.abs(m),this.velocityY=Math.sin(T)*Math.abs(y)}else if(f.moveTo){var S=d.moveToX.onEmit(this,"moveToX"),A=d.moveToY.onEmit(this,"moveToY"),P=this.life/1e3;this.velocityX=(S-this.x)/P,this.velocityY=(A-this.y)/P}else this.velocityX=m,this.velocityY=y;return f.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(s,u,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims&&this.anims.update(0,s);var d=this.emitter,v=d.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=v.x.onUpdate(this,"x",m,this.x),this.y=v.y.onUpdate(this,"y",m,this.y),d.moveTo){var y=v.moveToX.onUpdate(this,"moveToX",m,d.moveToX),T=v.moveToY.onUpdate(this,"moveToY",m,d.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(y-this.x)/S,this.velocityY=(T-this.y)/S}return this.computeVelocity(d,s,u,f,m),this.scaleX=v.scaleX.onUpdate(this,"scaleX",m,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=r(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(v.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",m,this.tint):this.tint=v.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,u,f,d,v){var m=s.ops,y=this.velocityX,T=this.velocityY,S=m.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),A=m.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),P=m.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),w=m.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",v,this.bounce),y+=s.gravityX*f+S*f,T+=s.gravityY*f+A*f,y=x(y,-P,P),T=x(T,-w,w),this.velocityX=y,this.velocityY=T,this.x+=y*f,this.y+=T*f,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var M=0;M<d.length;M++){var D=d[M];D.active&&D.update(this,u,f,v)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var u=Math.abs(s.scaleX)*this.scaleX,f=Math.abs(s.scaleY)*this.scaleY,d=this.x,v=this.y,m=this.rotation,y=this.frame.width*u/2,T=this.frame.height*f/2,S=this.bounds,A=new n(d-y,v-T),P=new n(d+y,v-T),w=new n(d-y,v+T),M=new n(d+y,v+T);return m!==0&&(i(A,d,v,m),i(P,d,v,m),i(w,d,v,m),i(M,d,v,m)),s.transformPoint(A.x,A.y,A),s.transformPoint(P.x,P.y,P),s.transformPoint(w.x,w.y,w),s.transformPoint(M.x,M.y,M),S.x=Math.min(A.x,P.x,w.x,M.x),S.y=Math.min(A.y,P.y,w.y,M.y),S.width=Math.max(A.x,P.x,w.x,M.x)-S.x,S.height=Math.max(A.y,P.y,w.y,M.y)-S.y,S},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=l},69601:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(20286),o=t(87841),r=new h({Extends:x,initialize:function(i,n,l,s,u,f,d,v){u===void 0&&(u=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),v===void 0&&(v=!0),x.call(this,i,n,!0),this.bounds=new o(i,n,l,s),this.collideLeft=u,this.collideRight=f,this.collideTop=d,this.collideBottom=v},update:function(a){var i=this.bounds,n=-a.bounce,l=a.worldPosition;l.x<i.x&&this.collideLeft?(a.x+=i.x-l.x,a.velocityX*=n):l.x>i.right&&this.collideRight&&(a.x-=l.x-i.right,a.velocityX*=n),l.y<i.y&&this.collideTop?(a.y+=i.y-l.y,a.velocityY*=n):l.y>i.bottom&&this.collideBottom&&(a.y-=l.y-i.bottom,a.velocityY*=n)}});c.exports=r},31600:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(53774),r=t(43459),a=t(26388),i=t(19909),n=t(76472),l=t(44777),s=t(20696),u=t(95643),f=t(95540),d=t(26546),v=t(24502),m=t(1985),y=t(97022),T=t(86091),S=t(73162),A=t(20074),P=t(269),w=t(56480),M=t(69601),D=t(68875),F=t(87841),L=t(59996),O=t(72905),B=t(90668),U=t(19186),W=t(61340),H=t(26099),Y=t(15994),G=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new h({Extends:u,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,B],initialize:function(z,$,Q,Z,q){u.call(this,z,"ParticleEmitter"),this.particleClass=w,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new H,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new S(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,Q),this.setTexture(Z),q&&this.setConfig(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(b){if(!b)return this;this.config=b;var z=0,$="",Q=this.ops;for(z=0;z<X.length;z++)$=X[z],Q[$].loadConfig(b);for(z=0;z<G.length;z++)$=G[z],y(b,$)&&(this[$]=f(b,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,y(b,"speed")&&(Q.speedX.loadConfig(b,"speed"),Q.speedY.active=!1),(m(b,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(b,"scale")&&(Q.scaleX.loadConfig(b,"scale"),Q.scaleY.active=!1),y(b,"callbackScope")){var Z=f(b,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(y(b,"emitZone")&&this.addEmitZone(b.emitZone),y(b,"deathZone")&&this.addDeathZone(b.deathZone),y(b,"bounds")){var q=this.addParticleBounds(b.bounds);q.collideLeft=f(b,"collideLeft",!0),q.collideRight=f(b,"collideRight",!0),q.collideTop=f(b,"collideTop",!0),q.collideBottom=f(b,"collideBottom",!0)}return y(b,"followOffset")&&this.followOffset.setFromObject(f(b,"followOffset",0)),y(b,"texture")&&this.setTexture(b.texture),y(b,"frame")?this.setEmitterFrame(b.frame):y(b,"anim")&&this.setAnim(b.anim),y(b,"reserve")&&this.reserve(b.reserve),y(b,"advance")&&this.fastForward(b.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},updateConfig:function(b){return b&&(this.config?this.setConfig(P(this.config,b)):this.setConfig(b)),this},toJSON:function(){var b=o(this),z=0,$="";for(z=0;z<G.length;z++)$=G[z],b[$]=this[$];var Q=this.ops;for(z=0;z<X.length;z++)$=X[z],Q[$]&&(b[$]=Q[$].toJSON());return Q.speedY.active||(delete b.speedX,b.speed=Q.speedX.toJSON()),this.scaleX===this.scaleY&&(delete b.scaleX,delete b.scaleY,b.scale=Q.scaleX.toJSON()),b},resetCounters:function(b,z){var $=this.counters;$.fill(0),$[0]=b,z&&($[5]=1)},startFollow:function(b,z,$,Q){return z===void 0&&(z=0),$===void 0&&($=0),Q===void 0&&(Q=!1),this.follow=b,this.followOffset.set(z,$),this.trackVisible=Q,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var b=this.frames,z=b.length,$;return z===1?$=b[0]:this.randomFrame?$=d(b):($=b[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get($)},setEmitterFrame:function(b,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomFrame=z,this.frameQuantity=$,this.currentFrame=0;var Q=typeof b;if(this.frames.length=0,Array.isArray(b))this.frames=this.frames.concat(b);else if(Q==="string"||Q==="number")this.frames.push(b);else if(Q==="object"){var Z=b;b=f(Z,"frames",null),b&&(this.frames=this.frames.concat(b));var q=f(Z,"cycle",!1);this.randomFrame=!q,this.frameQuantity=f(Z,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var b=this.anims,z=b.length;if(z===0)return null;if(z===1)return b[0];if(this.randomAnim)return d(b);var $=b[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,z)),$},setAnim:function(b,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomAnim=z,this.animQuantity=$,this.currentAnim=0;var Q=typeof b;if(this.anims.length=0,Array.isArray(b))this.anims=this.anims.concat(b);else if(Q==="string")this.anims.push(b);else if(Q==="object"){var Z=b;b=f(Z,"anims",null),b&&(this.anims=this.anims.concat(b));var q=f(Z,"cycle",!1);this.randomAnim=!q,this.animQuantity=f(Z,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(b){return b===void 0&&(b=!0),this.radial=b,this},addParticleBounds:function(b,z,$,Q,Z,q,j,k){if(typeof b=="object"){var _=b;b=_.x,z=_.y,$=y(_,"w")?_.w:_.width,Q=y(_,"h")?_.h:_.height}return this.addParticleProcessor(new M(b,z,$,Q,Z,q,j,k))},setParticleSpeed:function(b,z){return z===void 0&&(z=b),this.ops.speedX.onChange(b),b===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(b,z){return b===void 0&&(b=1),z===void 0&&(z=b),this.ops.scaleX.onChange(b),this.ops.scaleY.onChange(z),this},setParticleGravity:function(b,z){return this.gravityX=b,this.gravityY=z,this},setParticleAlpha:function(b){return this.ops.alpha.onChange(b),this},setParticleTint:function(b){return this.ops.tint.onChange(b),this},setEmitterAngle:function(b){return this.ops.angle.onChange(b),this},setParticleLifespan:function(b){return this.ops.lifespan.onChange(b),this},setQuantity:function(b){return this.quantity=b,this},setFrequency:function(b,z){return this.frequency=b,this.flowCounter=b>0?b:0,z&&(this.quantity=z),this},addDeathZone:function(b){Array.isArray(b)||(b=[b]);for(var z,$=[],Q=0;Q<b.length;Q++)if(z=b[Q],z instanceof a)$.push(z);else if(typeof z.contains=="function")z=new a(z,!0),$.push(z);else{var Z=f(z,"type","onEnter"),q=f(z,"source",null);if(q&&typeof q.contains=="function"){var j=Z==="onEnter";z=new a(q,j),$.push(z)}}return this.deathZones=this.deathZones.concat($),$},removeDeathZone:function(b){return O(this.deathZones,b),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(b){Array.isArray(b)||(b=[b]);for(var z,$=[],Q=0;Q<b.length;Q++)if(z=b[Q],z instanceof D||z instanceof i)$.push(z);else{var Z=f(z,"source",null);if(Z){var q=f(z,"type","random");if(q==="random"&&typeof Z.getRandomPoint=="function")z=new D(Z),$.push(z);else if(q==="edge"&&typeof Z.getPoints=="function"){var j=f(z,"quantity",1),k=f(z,"stepRate",0),_=f(z,"yoyo",!1),et=f(z,"seamless",!0),it=f(z,"total",-1);z=new i(Z,j,k,_,et,it),$.push(z)}}}return this.emitZones=this.emitZones.concat($),$},removeEmitZone:function(b){return O(this.emitZones,b),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(b){var z=this.emitZones,$=z.length;if($!==0){var Q=z[this.zoneIndex];Q.getPoint(b),Q.total>-1&&(this.zoneTotal++,this.zoneTotal===Q.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},getDeathZone:function(b){for(var z=this.deathZones,$=0;$<z.length;$++){var Q=z[$];if(Q.willKill(b))return this.emit(s.DEATH_ZONE,this,b,Q),!0}return!1},setEmitZone:function(b){var z;return isFinite(b)?z=b:z=this.emitZones.indexOf(b),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(b){return this.processors.exists(b)||(b.emitter&&b.emitter.removeParticleProcessor(b),this.processors.add(b),b.emitter=this),b},removeParticleProcessor:function(b){return this.processors.exists(b)&&(this.processors.remove(b,!0),b.emitter=null),b},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(b){return this.addParticleProcessor(new v(b))},reserve:function(b){var z=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+b>this.maxParticles&&(b=this.maxParticles-($+b))}for(var Q=0;Q<b;Q++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(b,z){return b===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof b=="function"&&(this.emitCallback=b,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(b,z){return b===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof b=="function"&&(this.deathCallback=b,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var b=this.dead,z=this.alive;z.length>0;)b.push(z.pop());return this},forEachAlive:function(b,z){for(var $=this.alive,Q=$.length,Z=0;Z<Q;Z++)b.call(z,$[Z],this);return this},forEachDead:function(b,z){for(var $=this.dead,Q=$.length,Z=0;Z<Q;Z++)b.call(z,$[Z],this);return this},start:function(b,z){return b===void 0&&(b=0),this.emitting||(b>0&&this.fastForward(b),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(s.START,this)),this},stop:function(b){return b===void 0&&(b=!1),this.emitting&&(this.emitting=!1,b&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(b,z){return b===void 0&&(b=""),z===void 0&&(z=this.true),this.sortProperty=b,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(b){return this.sortProperty!==""?b=this.depthSortCallback:b=null,this.sortCallback=b,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(b,z){var $=this.sortProperty;return this.sortOrderAsc?b[$]-z[$]:z[$]-b[$]},flow:function(b,z,$){return z===void 0&&(z=1),this.emitting=!1,this.frequency=b,this.quantity=z,$!==void 0&&(this.stopAfter=$),this.start()},explode:function(b,z,$){this.frequency=-1,this.resetCounters(-1,!0);var Q=this.emitParticle(b,z,$);return this.emit(s.EXPLODE,this,Q),Q},emitParticleAt:function(b,z,$){return this.emitParticle($,b,z)},emitParticle:function(b,z,$){if(!this.atLimit()){b===void 0&&(b=this.ops.quantity.onEmit());for(var Q=this.dead,Z=this.stopAfter,q=this.follow?this.follow.x+this.followOffset.x:z,j=this.follow?this.follow.y+this.followOffset.y:$,k=0;k<b;k++){var _=Q.pop();if(_||(_=new this.particleClass(this)),_.fire(q,j)?(this.particleBringToTop?this.alive.push(_):this.alive.unshift(_),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,_,this)):this.dead.push(_),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return _}},fastForward:function(b,z){z===void 0&&(z=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(b);)this.preUpdate(0,z),$+=z;return this.skipping=!1,this},preUpdate:function(b,z){z*=this.timeScale;var $=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var Q=this.getProcessors(),Z=this.alive,q=this.dead,j=0,k=[],_=Z.length;for(j=0;j<_;j++){var et=Z[j];et.update(z,$,Q)&&k.push({index:j,particle:et})}if(_=k.length,_>0){var it=this.deathCallback,st=this.deathCallbackScope;for(j=_-1;j>=0;j--){var nt=k[j];Z.splice(nt.index,1),q.push(nt.particle),it&&it.call(st,nt.particle),nt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(b){for(var z=this.getWorldTransformMatrix(),$=this.alive,Q=$.length,Z=[],q=0;q<Q;q++){var j=$[q];L(b,j.getBounds(z))&&Z.push(j)}return Z},getBounds:function(b,z,$,Q){b===void 0&&(b=0),z===void 0&&(z=0),$===void 0&&($=1e3/60),Q===void 0&&(Q=new F);var Z=this.getWorldTransformMatrix(),q,j,k=this.alive,_=!1;if(Q.setTo(0,0,0,0),z>0){var et=0;for(this.skipping=!0;et<Math.abs(z);){for(this.preUpdate(0,$),q=0;q<k.length;q++)j=k[q].getBounds(Z),_?A(Q,j):(_=!0,r(j,Q));et+=$}this.skipping=!1}else for(q=0;q<k.length;q++)j=k[q].getBounds(Z),_?A(Q,j):(_=!0,r(j,Q));return b>0&&T(Q,b,b),Q},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(b){this.ops.x.onChange(b)}},particleY:{get:function(){return this.ops.y.current},set:function(b){this.ops.y.onChange(b)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(b){this.ops.accelerationX.onChange(b)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(b){this.ops.accelerationY.onChange(b)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(b){this.ops.maxVelocityX.onChange(b)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(b){this.ops.maxVelocityY.onChange(b)}},speed:{get:function(){return this.ops.speedX.current},set:function(b){this.ops.speedX.onChange(b),this.ops.speedY.onChange(b)}},speedX:{get:function(){return this.ops.speedX.current},set:function(b){this.ops.speedX.onChange(b)}},speedY:{get:function(){return this.ops.speedY.current},set:function(b){this.ops.speedY.onChange(b)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(b){this.ops.moveToX.onChange(b)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(b){this.ops.moveToY.onChange(b)}},bounce:{get:function(){return this.ops.bounce.current},set:function(b){this.ops.bounce.onChange(b)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(b){this.ops.scaleX.onChange(b)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(b){this.ops.scaleY.onChange(b)}},particleColor:{get:function(){return this.ops.color.current},set:function(b){this.ops.color.onChange(b)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(b){this.ops.color.setEase(b)}},particleTint:{get:function(){return this.ops.tint.current},set:function(b){this.ops.tint.onChange(b)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(b){this.ops.alpha.onChange(b)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(b){this.ops.lifespan.onChange(b)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(b){this.ops.angle.onChange(b)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(b){this.ops.rotate.onChange(b)}},quantity:{get:function(){return this.ops.quantity.current},set:function(b){this.ops.quantity.onChange(b)}},delay:{get:function(){return this.ops.delay.current},set:function(b){this.ops.delay.onChange(b)}},hold:{get:function(){return this.ops.hold.current},set:function(b){this.ops.hold.onChange(b)}},flowCounter:{get:function(){return this.counters[0]},set:function(b){this.counters[0]=b}},frameCounter:{get:function(){return this.counters[1]},set:function(b){this.counters[1]=b}},animCounter:{get:function(){return this.counters[2]},set:function(b){this.counters[2]=b}},elapsed:{get:function(){return this.counters[3]},set:function(b){this.counters[3]=b}},stopCounter:{get:function(){return this.counters[4]},set:function(b){this.counters[4]=b}},completeFlag:{get:function(){return this.counters[5]},set:function(b){this.counters[5]=b}},zoneIndex:{get:function(){return this.counters[6]},set:function(b){this.counters[6]=b}},zoneTotal:{get:function(){return this.counters[7]},set:function(b){this.counters[7]=b}},currentFrame:{get:function(){return this.counters[8]},set:function(b){this.counters[8]=b}},currentAnim:{get:function(){return this.counters[9]},set:function(b){this.counters[9]=b}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var b,z=this.ops;for(b=0;b<X.length;b++){var $=X[b];z[$].destroy()}for(b=0;b<this.alive.length;b++)this.alive[b].destroy();for(b=0;b<this.dead.length;b++)this.dead[b].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=V},9871:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),x=t(61340),o=new x,r=new x,a=new x,i=new x,n=function(l,s,u,f){var d=o,v=r,m=a,y=i;f?(y.loadIdentity(),y.multiply(f),y.translate(s.x,s.y),y.rotate(s.rotation),y.scale(s.scaleX,s.scaleY)):y.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var T=l.currentContext,S=u.roundPixels,A=u.alpha,P=s.alpha,w=s.alive,M=w.length,D=s.viewBounds;if(!(!s.visible||M===0||D&&!h(D,u.worldView))){s.sortCallback&&s.depthSort(),u.addToRenderList(s);var F=s.scrollFactorX,L=s.scrollFactorY;T.save(),T.globalCompositeOperation=l.blendModes[s.blendMode];for(var O=0;O<M;O++){var B=w[O],U=B.alpha*P*A;if(!(U<=0||B.scaleX===0||B.scaleY===0)){m.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),d.copyFrom(u.matrix),d.multiplyWithOffset(y,-u.scrollX*F,-u.scrollY*L),m.e=B.x,m.f=B.y,d.multiply(m,v);var W=B.frame,H=W.canvasData;if(H.width>0&&H.height>0){var Y=-W.halfWidth,G=-W.halfHeight;T.globalAlpha=U,T.save(),v.setToContext(T),S&&(Y=Math.round(Y),G=Math.round(G)),T.imageSmoothingEnabled=!W.source.scaleMode,T.drawImage(W.source.image,H.x,H.y,H.width,H.height,Y,G,H.width,H.height),T.restore()}}}T.restore()}};c.exports=n},92730:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(95540),a=t(31600);x.register("particles",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=r(i,"config",null),u=new a(this.scene,0,0,l);return n!==void 0&&(i.add=n),h(this.scene,u,i),s&&u.setConfig(s),u})},676:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(31600);h.register("particles",function(o,r,a,i){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,o,r,a,i))})},90668:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(21188),o=t(9871),c.exports={renderWebGL:x,renderCanvas:o}},21188:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),x=t(61340),o=t(70554),r=new x,a=new x,i=new x,n=new x,l=function(s,u,f,d){var v=s.pipelines.set(u.pipeline),m=r,y=a,T=i,S=n;d?(S.loadIdentity(),S.multiply(d),S.translate(u.x,u.y),S.rotate(u.rotation),S.scale(u.scaleX,u.scaleY)):S.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var A=o.getTintAppendFloatAlpha,P=f.alpha,w=u.alpha;s.pipelines.preBatch(u);var M=u.alive,D=M.length,F=u.viewBounds;if(!(D===0||F&&!h(F,f.worldView))){u.sortCallback&&u.depthSort(),f.addToRenderList(u),m.copyFrom(f.matrix),m.multiplyWithOffset(S,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),s.setBlendMode(u.blendMode),u.mask&&(u.mask.preRenderWebGL(s,u,f),s.pipelines.set(u.pipeline));for(var L=u.tintFill,O,B,U=0;U<D;U++){var W=M[U],H=W.alpha*w*P;if(!(H<=0||W.scaleX===0||W.scaleY===0)){T.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),T.e=W.x,T.f=W.y,m.multiply(T,y);var Y=W.frame;Y.glTexture!==B&&(B=Y.glTexture,O=v.setGameObject(u,Y));var G=-Y.halfWidth,X=-Y.halfHeight,V=y.setQuad(G,X,G+Y.width,X+Y.height),b=A(W.tint,H);v.shouldFlush(6)&&(v.flush(),O=v.setGameObject(u,Y)),v.batchQuad(u,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],Y.u0,Y.v0,Y.u1,Y.v1,b,b,b,b,L,B,O)}}u.mask&&u.mask.postRenderWebGL(s,f),s.pipelines.postBatch(u)}};c.exports=l},20286:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i){r===void 0&&(r=0),a===void 0&&(a=0),i===void 0&&(i=!0),this.emitter,this.x=r,this.y=a,this.active=i},update:function(){},destroy:function(){this.emitter=null}});c.exports=x},9774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},812:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="deathzone"},30522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="explode"},96695:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},18677:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},20696:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a){this.source=r,this.killOnEnter=a},willKill:function(o){var r=o.worldPosition,a=this.source.contains(r.x,r.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});c.exports=x},19909:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i,n,l,s){n===void 0&&(n=!1),l===void 0&&(l=!0),s===void 0&&(s=-1),this.source=r,this.points=[],this.quantity=a,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],r=this.points[this.points.length-1];o.x===r.x&&o.y===r.y&&this.points.pop()}var a=this._length;return this._length=this.points.length,this._length<a&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(o.x=r.x,o.y=r.y)}});c.exports=x},68875:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(26099),o=new h({initialize:function(a){this.source=a,this._tempVec=new x,this.total=-1},getPoint:function(r){var a=this._tempVec;this.source.getRandomPoint(a),r.x=a.x,r.y=a.y}});c.exports=o},21024:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(68287),r=new h({Extends:o,Mixins:[x.PathFollower],initialize:function(i,n,l,s,u,f){o.call(this,i,l,s,u,f),this.path=n},preUpdate:function(a,i){this.anims.update(a,i),this.pathUpdate(a)}});c.exports=r},90145:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(1159);h.register("follower",function(o,r,a,i,n){var l=new x(this.scene,o,r,a,i,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(83419),o=t(48803),r=t(90664),a=t(4703),i=t(45650),n=new x({Extends:a,initialize:function(s,u,f,d,v,m,y,T){d||(d="__DEFAULT"),a.call(this,s,u,f,d,v),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,y,T),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,s,u){l===void 0&&(l=8),s===void 0&&(s=8),u===void 0&&(u=!1);var f=!1;return u&&(f=!0),this.gridWidth=l,this.gridHeight=s,this.isTiled=u,this.clear(),o({mesh:this,widthSegments:l,heightSegments:s,isOrtho:!1,tile:u,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var u=this.gridWidth,f=this.gridHeight,d=this.vertices,v=s.u0,m=s.u1,y=s.v0,T=s.v1,S,A,P=0;if(this.isTiled)for(y=s.v1,T=s.v0,A=0;A<f;A++)for(S=0;S<u;S++)d[P++].setUVs(v,T),d[P++].setUVs(v,y),d[P++].setUVs(m,T),d[P++].setUVs(v,y),d[P++].setUVs(m,y),d[P++].setUVs(m,T);else{var w=u+1,M=f+1,D=m-v,F=T-y,L=[];for(A=0;A<M;A++)for(S=0;S<w;S++){var O=v+D*(S/u),B=y+F*(A/f);L.push(O,B)}for(A=0;A<f;A++)for(S=0;S<u;S++){var U=(S+w*A)*2,W=(S+w*(A+1))*2,H=(S+1+w*(A+1))*2,Y=(S+1+w*A)*2;d[P++].setUVs(L[U],L[U+1]),d[P++].setUVs(L[W],L[W+1]),d[P++].setUVs(L[Y],L[Y+1]),d[P++].setUVs(L[W],L[W+1]),d[P++].setUVs(L[H],L[H+1]),d[P++].setUVs(L[Y],L[Y+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(l,s,u,f,d){l===void 0&&(l=16777215),s===void 0&&(s=255),u===void 0&&(u=255),f===void 0&&(f=255),d===void 0&&(d=128);for(var v=r(l),m=r(s),y=[],T=0;T<16;T++)for(var S=0;S<16;S++)T<8&&S<8||T>7&&S>7?y.push(v.r,v.g,v.b,u):y.push(m.r,m.g,m.b,f);var A=this.scene.sys.textures.addUint8Array(i(),new Uint8Array(y),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,s){return this.anims.play(l,s)},playReverse:function(l,s){return this.anims.playReverse(l,s)},playAfterDelay:function(l,s){return this.anims.playAfterDelay(l,s)},playAfterRepeat:function(l,s){return this.anims.playAfterRepeat(l,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,s){a.prototype.preUpdate.call(this,l,s),this.anims.update(l,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=n},56015:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(13059),o=t(44603),r=t(23568),a=t(35154),i=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var s=r(n,"key",null),u=r(n,"frame",null),f=a(n,"width",8),d=a(n,"height",8),v=a(n,"tile",!1),m=new i(this.scene,0,0,s,u,f,d,v);l!==void 0&&(n.add=l);var y=a(n,"checkerboard",null);if(y){var T=a(y,"color1",16777215),S=a(y,"color2",255),A=a(y,"alpha1",255),P=a(y,"alpha2",255),w=a(y,"height",128);m.createCheckerboard(T,S,A,P,w)}return h(this.scene,m,n),x(m,n),m})},30985:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33663),x=t(39429);x.register("plane",function(o,r,a,i,n,l,s){return this.displayList.add(new h(this.scene,o,r,a,i,n,l,s))})},80321:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),r=t(30100),a=t(36060),i=t(67277),n=new h({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,i],initialize:function(s,u,f,d,v,m,y){d===void 0&&(d=16777215),v===void 0&&(v=128),m===void 0&&(m=1),y===void 0&&(y=.1),o.call(this,s,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(u,f),this.color=r(d),this.intensity=m,this.attenuation=y,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=n},39829:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(80321);x.register("pointlight",function(a,i){a===void 0&&(a={});var n=o(a,"color",16777215),l=o(a,"radius",128),s=o(a,"intensity",1),u=o(a,"attenuation",.1),f=new r(this.scene,0,0,n,l,s,u);return i!==void 0&&(a.add=i),h(this.scene,f,a),f})},71255:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(80321);h.register("pointlight",function(o,r,a,i,n,l){return this.displayList.add(new x(this.scene,o,r,a,i,n,l))})},67277:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(57787),c.exports={renderWebGL:x,renderCanvas:o}},57787:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,r,a,i){a.addToRenderList(r);var n=o.pipelines.set(r.pipeline),l=h(r,a,i).calc,s=r.width,u=r.height,f=-r._radius,d=-r._radius,v=f+s,m=d+u,y=l.getX(0,0),T=l.getY(0,0),S=l.getX(f,d),A=l.getY(f,d),P=l.getX(f,m),w=l.getY(f,m),M=l.getX(v,m),D=l.getY(v,m),F=l.getX(v,d),L=l.getY(v,d);o.pipelines.preBatch(r),n.batchPointLight(r,a,S,A,P,w,M,D,F,L,y,T),o.pipelines.postBatch(r)};c.exports=x},591:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(81320),o=t(88571),r=new h({Extends:o,initialize:function(i,n,l,s,u,f){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=32),u===void 0&&(u=32),f===void 0&&(f=!0);var d=new x(i.sys.textures,"",s,u,f);o.call(this,i,n,l,d),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(a,i){this.width=a,this.height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=a,n.hitArea.height=i),this},resize:function(a,i,n){return this.texture.setSize(a,i,n),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(a){var i=this.texture;return i.key=a,i.manager.addDynamicTexture(i)&&(this._saved=!0),i},fill:function(a,i,n,l,s,u){return this.texture.fill(a,i,n,l,s,u),this},clear:function(){return this.texture.clear(),this},stamp:function(a,i,n,l,s){return this.texture.stamp(a,i,n,l,s),this},erase:function(a,i,n){return this.texture.erase(a,i,n),this},draw:function(a,i,n,l,s){return this.texture.draw(a,i,n,l,s),this},drawFrame:function(a,i,n,l,s,u){return this.texture.drawFrame(a,i,n,l,s,u),this},repeat:function(a,i,n,l,s,u,f,d,v){return this.texture.repeat(a,i,n,l,s,u,f,d,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(a,i,n,l,s){return this.texture.batchDraw(a,i,n,l,s),this},batchDrawFrame:function(a,i,n,l,s,u){return this.texture.batchDrawFrame(a,i,n,l,s,u),this},endDraw:function(a){return this.texture.endDraw(a),this},snapshotArea:function(a,i,n,l,s,u,f){return this.texture.snapshotArea(a,i,n,l,s,u,f),this},snapshot:function(a,i,n){return this.snapshotArea(0,0,this.width,this.height,a,i,n)},snapshotPixel:function(a,i,n){return this.snapshotArea(a,i,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=r},34495:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(591);x.register("renderTexture",function(a,i){a===void 0&&(a={});var n=o(a,"x",0),l=o(a,"y",0),s=o(a,"width",32),u=o(a,"height",32),f=new r(this.scene,n,l,s,u);return i!==void 0&&(a.add=i),h(this.scene,f,a),f})},60505:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(591);h.register("renderTexture",function(o,r,a,i){return this.displayList.add(new x(this.scene,o,r,a,i))})},77757:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(83419),o=t(31401),r=t(95643),a=t(36060),i=t(38745),n=t(26099),l=new x({Extends:r,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,i],initialize:function(u,f,d,v,m,y,T,S,A){v===void 0&&(v="__DEFAULT"),y===void 0&&(y=2),T===void 0&&(T=!0),r.call(this,u,"Rope"),this.anims=new h(this),this.points=y,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,m),this.setPosition(f,d),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(y)&&this.resizeArrays(y.length),this.setPoints(y,S,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){var f=this.anims.currentFrame;this.anims.update(s,u),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(s,u,f){return this.anims.play(s,u,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,u,f){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,u,f))},setVertical:function(s,u,f){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,u,f)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,u){var f=this.points.length;if(f<1)return this;var d=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&u===void 0&&(s=[s]);var v,m=0;if(u!==void 0)for(v=0;v<f;v++)m=v*2,d[m]=s,d[m+1]=u;else if(s.length===f)for(v=0;v<f;v++)m=v*2,d[m]=s[v],d[m+1]=s[v];else{var y=s[0];for(v=0;v<f;v++)m=v*2,s.length>m&&(y=s[m]),d[m]=y,s.length>m+1&&(y=s[m+1]),d[m+1]=y}return this},setColors:function(s){var u=this.points.length;if(u<1)return this;var f=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var d,v=0;if(s.length===u)for(d=0;d<u;d++)v=d*2,f[v]=s[d],f[v+1]=s[d];else{var m=s[0];for(d=0;d<u;d++)v=d*2,s.length>v&&(m=s[v]),f[v]=m,s.length>v+1&&(m=s[v+1]),f[v+1]=m}return this},setPoints:function(s,u,f){if(s===void 0&&(s=2),typeof s=="number"){var d=s;d<2&&(d=2),s=[];var v,m,y;if(this.horizontal)for(y=-this.frame.halfWidth,m=this.frame.width/(d-1),v=0;v<d;v++)s.push({x:y+v*m,y:0});else for(y=-this.frame.halfHeight,m=this.frame.height/(d-1),v=0;v<d;v++)s.push({x:0,y:y+v*m})}var T=s.length,S=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(s.unshift({x:0,y:0}),T++),S!==T&&this.resizeArrays(T),this.dirty=!0,this.points=s,this.updateUVs(),u!=null&&this.setColors(u),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var s=this.uv,u=this.points.length,f=this.frame.u0,d=this.frame.v0,v=this.frame.u1,m=this.frame.v1,y=(v-f)/(u-1),T=(m-d)/(u-1),S=0;S<u;S++){var A=S*4,P,w,M,D;this.horizontal?(this._flipX?(P=v-S*y,M=v-S*y):(P=f+S*y,M=f+S*y),this._flipY?(w=m,D=d):(w=d,D=m)):(this._flipX?(P=f,M=v):(P=v,M=f),this._flipY?(w=m-S*T,D=m-S*T):(w=d+S*T,D=d+S*T)),s[A+0]=P,s[A+1]=w,s[A+2]=M,s[A+3]=D}return this},resizeArrays:function(s){var u=this.colors,f=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),u=new Uint32Array(s*2),f=new Float32Array(s*2);for(var d=0;d<s*2;d++)u[d]=16777215,f[d]=1;return this.colors=u,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var s=this._perp,u=this.points,f=this.vertices,d=u.length;if(this.dirty=!1,!(d<1)){for(var v,m=u[0],y=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<d;T++){var S=u[T],A=T*4;T<d-1?v=u[T+1]:v=S,s.x=v.y-m.y,s.y=-(v.x-m.x);var P=s.length();s.x/=P,s.y/=P,s.x*=y,s.y*=y,f[A]=S.x+s.x,f[A+1]=S.y+s.y,f[A+2]=S.x-s.x,f[A+3]=S.y-s.y,m=S}return this}},setDebug:function(s,u){return this.debugGraphic=s,!s&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,u,f){var d=s.debugGraphic,v=f[0],m=f[1],y=f[2],T=f[3];d.lineBetween(v,m,y,T);for(var S=4;S<u;S+=4){var A=f[S+0],P=f[S+1],w=f[S+2],M=f[S+3];d.lineBetween(v,m,A,P),d.lineBetween(y,T,w,M),d.lineBetween(y,T,A,P),d.lineBetween(A,P,w,M),v=A,m=P,y=w,T=M}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});c.exports=l},95262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(){};c.exports=E},26209:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(35154),a=t(77757);x.register("rope",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=o(i,"horizontal",!0),f=r(i,"points",void 0),d=r(i,"colors",void 0),v=r(i,"alphas",void 0),m=new a(this.scene,0,0,l,s,f,u,d,v);return n!==void 0&&(i.add=n),h(this.scene,m,i),m})},96819:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77757),x=t(39429);x.register("rope",function(o,r,a,i,n,l,s,u){return this.displayList.add(new h(this.scene,o,r,a,i,n,l,s,u))})},38745:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(20439),o=t(95262),c.exports={renderWebGL:x,renderCanvas:o}},20439:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(r,a,i,n){i.addToRenderList(a);var l=r.pipelines.set(a.pipeline,a),s=h(a,i,n).calc,u=a.vertices,f=a.uv,d=a.colors,v=a.alphas,m=a.alpha,y=x.getTintAppendFloatAlpha,T=i.roundPixels,S=u.length,A=Math.floor(S*.5);l.flush(),r.pipelines.preBatch(a);var P=l.setGameObject(a),w=l.vertexViewF32,M=l.vertexViewU32,D=l.vertexCount*l.currentShader.vertexComponentCount-1,F=0,L=a.tintFill;a.dirty&&a.updateVertices();for(var O=a.debugCallback,B=[],U=0;U<S;U+=2){var W=u[U+0],H=u[U+1],Y=W*s.a+H*s.c+s.e,G=W*s.b+H*s.d+s.f;T&&(Y=Math.round(Y),G=Math.round(G)),w[++D]=Y,w[++D]=G,w[++D]=f[U+0],w[++D]=f[U+1],w[++D]=P,w[++D]=L,M[++D]=y(d[F],i.alpha*(v[F]*m)),F++,O&&(B[U+0]=Y,B[U+1]=G)}O&&O.call(a,a,S,B),l.vertexCount+=A,l.currentBatch.count=l.vertexCount-l.currentBatch.start,r.pipelines.postBatch(a)};c.exports=o},20071:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),r=t(95540),a=t(79291),i=t(61622),n=t(25479),l=t(61340),s=t(95428),u=t(92503),f=new h({Extends:o,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,n],initialize:function(v,m,y,T,S,A,P,w){y===void 0&&(y=0),T===void 0&&(T=0),S===void 0&&(S=128),A===void 0&&(A=128),o.call(this,v,"Shader"),this.blendMode=-1,this.shader;var M=v.sys.renderer;this.renderer=M,this.gl=M.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=M.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=M.width,this._rendererHeight=M.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(y,T),this.setSize(S,A),this.setOrigin(.5,.5),this.setShader(m,P,w),this.renderer.on(u.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,v){if(!this.renderToTexture){var m=this.width,y=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,m,y,0),this.framebuffer=T.createFramebuffer(m,y,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=y,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(d,v,m){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:v,textureData:m},this;if(v===void 0&&(v=[]),typeof d=="string"){var y=this.scene.sys.cache.shader;if(!y.has(d))return console.warn("Shader missing: "+d),this;this.shader=y.get(d)}else this.shader=d;var T=this.gl,S=this.renderer;this.program&&S.deleteProgram(this.program);var A=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var P=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()*60*60+P.getMinutes()*60+P.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var M=0;M<4;M++)v[M]&&this.setSampler2D("iChannel"+M,v[M],M,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,v,m,y){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:v,bottom:m,top:y};return}var T=-1e3,S=1e3,A=1/(d-v),P=1/(m-y),w=1/(T-S),M=this.projectionMatrix;M[0]=-2*A,M[5]=-2*P,M[10]=2*w,M[12]=(d+v)*A,M[13]=(y+m)*P,M[14]=(S+T)*w;var D=this.program,F=this.gl,L=this.renderer;L.setProgram(D),F.uniformMatrix4fv(F.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=m},initUniforms:function(){var d=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var m in this.uniforms){var y=this.uniforms[m],T=y.type,S=d[T];y.uniformLocation=this.renderer.createUniformLocation(v,m),T!=="sampler2D"&&(y.glMatrix=S.matrix,y.glValueLength=S.length,y.glFunc=S.func)}},setSampler2DBuffer:function(d,v,m,y,T,S){T===void 0&&(T=0),S===void 0&&(S={});var A=this.uniforms[d];return A.value=v,S.width=m,S.height=y,A.textureData=S,this._textureCount=T,this.initSampler2D(A),this},setSampler2D:function(d,v,m,y){m===void 0&&(m=0);var T=this.scene.sys.textures;if(T.exists(v)){var S=T.getFrame(v);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,S.glTexture,S.width,S.height,m,y);var A=this.uniforms[d],P=S.source;A.textureKey=v,A.source=P.image,A.value=S.glTexture,P.isGLTexture&&(y||(y={}),y.width=P.width,y.height=P.height),y&&(A.textureData=y),this._textureCount=m,this.initSampler2D(A)}return this},setUniform:function(d,v){return i(this.uniforms,d,v),this},getUniform:function(d){return r(this.uniforms,d,null)},setChannel0:function(d,v){return this.setSampler2D("iChannel0",d,0,v)},setChannel1:function(d,v){return this.setSampler2D("iChannel1",d,1,v)},setChannel2:function(d,v){return this.setSampler2D("iChannel2",d,2,v)},setChannel3:function(d,v){return this.setSampler2D("iChannel3",d,3,v)},initSampler2D:function(d){if(d.value){var v=d.textureData;if(v&&!d.value.isRenderTexture){var m=this.gl,y=d.value,T=m[r(v,"magFilter","linear").toUpperCase()],S=m[r(v,"minFilter","linear").toUpperCase()],A=m[r(v,"wrapS","repeat").toUpperCase()],P=m[r(v,"wrapT","repeat").toUpperCase()],w=m[r(v,"format","rgba").toUpperCase()],M=r(v,"flipY",!1),D=r(v,"width",y.width),F=r(v,"height",y.height),L=r(v,"source",y.pixels);v.repeat&&(A=m.REPEAT,P=m.REPEAT),v.width&&(L=null),y.update(L,D,F,M,A,P,S,T,w)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,v=this.uniforms,m,y,T,S,A,P=0;for(var w in v)m=v[w],T=m.glFunc,y=m.glValueLength,S=m.uniformLocation,A=m.value,A!==null&&(y===1?m.glMatrix?T.call(d,S.webGLUniformLocation,m.transpose,A):T.call(d,S.webGLUniformLocation,A):y===2?T.call(d,S.webGLUniformLocation,A.x,A.y):y===3?T.call(d,S.webGLUniformLocation,A.x,A.y,A.z):y===4?T.call(d,S.webGLUniformLocation,A.x,A.y,A.z,A.w):m.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+P),d.bindTexture(d.TEXTURE_2D,A.webGLTexture),d.uniform1i(S.webGLUniformLocation,P),P++))},load:function(d){var v=this.gl,m=this.width,y=this.height,T=this.renderer,S=this.program,A=this.viewMatrix;if(!this.renderToTexture){var P=-this._displayOriginX,w=-this._displayOriginY;A[0]=d[0],A[1]=d[1],A[4]=d[2],A[5]=d[3],A[8]=d[4],A[9]=d[5],A[12]=A[0]*P+A[4]*w,A[13]=A[1]*P+A[5]*w}v.useProgram(S.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,A),v.uniformMatrix4fv(v.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height);var M=this.uniforms,D=M.resolution;D.value.x=m,D.value.y=y,M.time.value=T.game.loop.getDuration();var F=this.pointer;if(F){var L=M.mouse,O=F.x/m,B=1-F.y/y;L.value.x=O.toFixed(2),L.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,v=this.height,m=this.program,y=this.gl,T=this.vertexBuffer,S=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT)),y.bindBuffer(y.ARRAY_BUFFER,T.webGLBuffer);var P=y.getAttribLocation(m.webGLProgram,"inPosition");P!==-1&&(y.enableVertexAttribArray(P),y.vertexAttribPointer(P,2,y.FLOAT,!1,A,0));var w=this.vertexViewF32;w[3]=v,w[4]=d,w[5]=v,w[8]=d,w[9]=v,w[10]=d;var M=6;y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,M*A)),y.drawArrays(y.TRIANGLES,0,M),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,v=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,v,m)}if(this._deferProjOrtho!==null){var y=this._deferProjOrtho.left,T=this._deferProjOrtho.right,S=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(y,T,S,A)}},preDestroy:function(){var d=this.renderer;d.off(u.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(v){d.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});c.exports=f},80464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(){};c.exports=E},54935:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(20071);x.register("shader",function(a,i){a===void 0&&(a={});var n=o(a,"key",null),l=o(a,"x",0),s=o(a,"y",0),u=o(a,"width",128),f=o(a,"height",128),d=new r(this.scene,n,l,s,u,f);return i!==void 0&&(a.add=i),h(this.scene,d,a),d})},74177:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20071),x=t(39429);x.register("shader",function(o,r,a,i,n,l,s){return this.displayList.add(new h(this.scene,o,r,a,i,n,l,s))})},25479:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(19257),o=t(80464),c.exports={renderWebGL:x,renderCanvas:o}},19257:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,r,a,i){if(r.shader){if(a.addToRenderList(r),o.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var n=h(r,a,i).calc;(o.width!==r._rendererWidth||o.height!==r._rendererHeight)&&r.projOrtho(0,o.width,o.height,0),r.load(n.matrix),r.flush()}o.pipelines.rebind()}};c.exports=x},10441:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,r,a,i,n,l){for(var s=h.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*i),u=a.pathData,f=a.pathIndexes,d=0;d<f.length;d+=3){var v=f[d]*2,m=f[d+1]*2,y=f[d+2]*2,T=u[v+0]-n,S=u[v+1]-l,A=u[m+0]-n,P=u[m+1]-l,w=u[y+0]-n,M=u[y+1]-l,D=r.getX(T,S),F=r.getY(T,S),L=r.getX(A,P),O=r.getY(A,P),B=r.getX(w,M),U=r.getY(w,M);o.batchTri(a,D,F,L,O,B,U,0,0,1,1,s,s,s,2)}};c.exports=x},65960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=x||h.fillColor,a=o||h.fillAlpha,i=(r&16711680)>>>16,n=(r&65280)>>>8,l=r&255;t.fillStyle="rgba("+i+","+n+","+l+","+a+")"};c.exports=E},75177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=x||h.strokeColor,a=o||h.strokeAlpha,i=(r&16711680)>>>16,n=(r&65280)>>>8,l=r&255;t.strokeStyle="rgba("+i+","+n+","+l+","+a+")",t.lineWidth=h.lineWidth};c.exports=E},17803:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),r=t(23031),a=new h({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(n,l,s){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(i,n){return n===void 0&&(n=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(i,n,l){return l===void 0&&(l=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,n){return this.width=i,this.height=n,this},setDisplaySize:function(i,n){return this.displayWidth=i,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});c.exports=a},34682:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,r,a,i,n){var l=o.strokeTint,s=h.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*a);l.TL=s,l.TR=s,l.BL=s,l.BR=s;var u=r.pathData,f=u.length-1,d=r.lineWidth,v=d/2,m=u[0]-i,y=u[1]-n;r.closePath||(f-=2);for(var T=2;T<f;T+=2){var S=u[T]-i,A=u[T+1]-n;o.batchLine(m,y,S,A,v,v,d,T-2,r.closePath?T===f-1:!1),m=S,y=A}};c.exports=x},23629:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13609),x=t(83419),o=t(39506),r=t(94811),a=t(96503),i=t(36383),n=t(17803),l=new x({Extends:n,Mixins:[h],initialize:function(u,f,d,v,m,y,T,S,A){f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=128),m===void 0&&(m=0),y===void 0&&(y=360),T===void 0&&(T=!1),n.call(this,u,"Arc",new a(0,0,v)),this._startAngle=m,this._endAngle=y,this._anticlockwise=T,this._iterations=.01,this.setPosition(f,d);var P=this.geom.radius*2;this.setSize(P,P),S!==void 0&&this.setFillStyle(S,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var u=s*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,u){return this._startAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(s,u){return this._endAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var s=this._iterations,u=s,f=this.geom.radius,d=o(this._startAngle),v=o(this._endAngle),m=this._anticlockwise,y=f,T=f;v-=d,m?v<-i.PI2?v=-i.PI2:v>0&&(v=-i.PI2+v%i.PI2):v>i.PI2?v=i.PI2:v<0&&(v=i.PI2+v%i.PI2);for(var S=[y+Math.cos(d)*f,T+Math.sin(d)*f],A;u<1;)A=v*u+d,S.push(y+Math.cos(A)*f,T+Math.sin(A)*f),u+=s;return A=v+d,S.push(y+Math.cos(A)*f,T+Math.sin(A)*f),S.push(y+Math.cos(d)*f,T+Math.sin(d)*f),this.pathIndexes=r(S),this.pathData=S,this}});c.exports=l},42542:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),x=t(65960),o=t(75177),r=t(20926),a=function(i,n,l,s){l.addToRenderList(n);var u=i.currentContext;if(r(i,u,n,l,s)){var f=n.radius;u.beginPath(),u.arc(f-n.originX*(f*2),f-n.originY*(f*2),f,h(n._startAngle),h(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(x(u,n),u.fill()),n.isStroked&&(o(u,n),u.stroke()),u.restore()}};c.exports=a},42563:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23629),x=t(39429);x.register("arc",function(o,r,a,i,n,l,s,u){return this.displayList.add(new h(this.scene,o,r,a,i,n,l,s,u))}),x.register("circle",function(o,r,a,i,n){return this.displayList.add(new h(this.scene,o,r,a,0,360,!1,i,n))})},13609:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(41447),o=t(42542),c.exports={renderWebGL:x,renderCanvas:o}},41447:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(10441),o=t(34682),r=function(a,i,n,l){n.addToRenderList(i);var s=a.pipelines.set(i.pipeline),u=h(i,n,l),f=s.calcMatrix.copyFrom(u.calc),d=i._displayOriginX,v=i._displayOriginY,m=n.alpha*i.alpha;a.pipelines.preBatch(i),i.isFilled&&x(s,f,i,m,d,v),i.isStroked&&o(s,i,m,d,v),a.pipelines.postBatch(i)};c.exports=r},89:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(33141),o=t(94811),r=t(87841),a=t(17803),i=new h({Extends:a,Mixins:[x],initialize:function(l,s,u,f,d,v){s===void 0&&(s=0),u===void 0&&(u=0),a.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(s,u),d!==void 0&&this.setFillStyle(d,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var s=[],u=this.geom.getPoints(l),f=0;f<u.length;f++)s.push(u[f].x,u[f].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});c.exports=i},3170:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),r=function(a,i,n,l){n.addToRenderList(i);var s=a.currentContext;if(o(a,s,i,n,l)){var u=i._displayOriginX+i._curveBounds.x,f=i._displayOriginY+i._curveBounds.y,d=i.pathData,v=d.length-1,m=d[0]-u,y=d[1]-f;s.beginPath(),s.moveTo(m,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var S=d[T]-u,A=d[T+1]-f;s.lineTo(S,A)}i.closePath&&s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};c.exports=r},40511:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(89);h.register("curve",function(o,r,a,i,n){return this.displayList.add(new x(this.scene,o,r,a,i,n))})},33141:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(53987),o=t(3170),c.exports={renderWebGL:x,renderCanvas:o}},53987:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),x=t(91296),o=t(34682),r=function(a,i,n,l){n.addToRenderList(i);var s=a.pipelines.set(i.pipeline),u=x(i,n,l),f=s.calcMatrix.copyFrom(u.calc),d=i._displayOriginX+i._curveBounds.x,v=i._displayOriginY+i._curveBounds.y,m=n.alpha*i.alpha;a.pipelines.preBatch(i),i.isFilled&&h(s,f,i,m,d,v),i.isStroked&&o(s,i,m,d,v),a.pipelines.postBatch(i)};c.exports=r},19921:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(94811),o=t(54205),r=t(8497),a=t(17803),i=new h({Extends:a,Mixins:[o],initialize:function(l,s,u,f,d,v,m){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),d===void 0&&(d=128),a.call(this,l,"Ellipse",new r(f/2,d/2,f,d)),this._smoothness=64,this.setPosition(s,u),this.width=f,this.height=d,v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),s=0;s<l.length;s++)n.push(l[s].x,l[s].y);return n.push(l[0].x,l[0].y),this.pathIndexes=x(n),this.pathData=n,this}});c.exports=i},7930:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),r=function(a,i,n,l){n.addToRenderList(i);var s=a.currentContext;if(o(a,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY,d=i.pathData,v=d.length-1,m=d[0]-u,y=d[1]-f;s.beginPath(),s.moveTo(m,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var S=d[T]-u,A=d[T+1]-f;s.lineTo(S,A)}s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};c.exports=r},1543:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19921),x=t(39429);x.register("ellipse",function(o,r,a,i,n,l){return this.displayList.add(new h(this.scene,o,r,a,i,n,l))})},54205:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(19467),o=t(7930),c.exports={renderWebGL:x,renderCanvas:o}},19467:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),x=t(91296),o=t(34682),r=function(a,i,n,l){n.addToRenderList(i);var s=a.pipelines.set(i.pipeline),u=x(i,n,l),f=s.calcMatrix.copyFrom(u.calc),d=i._displayOriginX,v=i._displayOriginY,m=n.alpha*i.alpha;a.pipelines.preBatch(i),i.isFilled&&h(s,f,i,m,d,v),i.isStroked&&o(s,i,m,d,v),a.pipelines.postBatch(i)};c.exports=r},30479:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(17803),o=t(26015),r=new h({Extends:x,Mixins:[o],initialize:function(i,n,l,s,u,f,d,v,m,y,T){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=128),u===void 0&&(u=128),f===void 0&&(f=32),d===void 0&&(d=32),x.call(this,i,"Grid",null),this.cellWidth=f,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(s,u),this.setFillStyle(v,m),y!==void 0&&this.setOutlineStyle(y,T),this.updateDisplayOrigin()},setFillStyle:function(a,i){return i===void 0&&(i=1),a===void 0?this.showCells=!1:(this.fillColor=a,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(a,i){return i===void 0&&(i=1),a===void 0?this.showAltCells=!1:(this.altFillColor=a,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(a,i){return i===void 0&&(i=1),a===void 0?this.showOutline=!1:(this.outlineFillColor=a,this.outlineFillAlpha=i,this.showOutline=!0),this}});c.exports=r},49912:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),r=function(a,i,n,l){n.addToRenderList(i);var s=a.currentContext;if(o(a,s,i,n,l)){var u=-i._displayOriginX,f=-i._displayOriginY,d=n.alpha*i.alpha,v=i.width,m=i.height,y=i.cellWidth,T=i.cellHeight,S=Math.ceil(v/y),A=Math.ceil(m/T),P=y,w=T,M=y-(S*y-v),D=T-(A*T-m),F=i.showCells,L=i.showAltCells,O=i.showOutline,B=0,U=0,W=0,H=0,Y=0;if(O&&(P--,w--,M===y&&M--,D===T&&D--),F&&i.fillAlpha>0)for(h(s,i),U=0;U<A;U++)for(L&&(W=U%2),B=0;B<S;B++){if(L&&W){W=0;continue}W++,H=B<S-1?P:M,Y=U<A-1?w:D,s.fillRect(u+B*y,f+U*T,H,Y)}if(L&&i.altFillAlpha>0)for(h(s,i,i.altFillColor,i.altFillAlpha*d),U=0;U<A;U++)for(L&&(W=U%2),B=0;B<S;B++){if(L&&!W){W=1;continue}W=0,H=B<S-1?P:M,Y=U<A-1?w:D,s.fillRect(u+B*y,f+U*T,H,Y)}if(O&&i.outlineFillAlpha>0){for(x(s,i,i.outlineFillColor,i.outlineFillAlpha*d),B=1;B<S;B++){var G=B*y;s.beginPath(),s.moveTo(G+u,f),s.lineTo(G+u,m+f),s.stroke()}for(U=1;U<A;U++){var X=U*T;s.beginPath(),s.moveTo(u,X+f),s.lineTo(u+v,X+f),s.stroke()}}s.restore()}};c.exports=r},34137:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(30479);h.register("grid",function(o,r,a,i,n,l,s,u,f,d){return this.displayList.add(new x(this.scene,o,r,a,i,n,l,s,u,f,d))})},26015:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(46161),o=t(49912),c.exports={renderWebGL:x,renderCanvas:o}},46161:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(r,a,i,n){i.addToRenderList(a);var l=r.pipelines.set(a.pipeline),s=h(a,i,n),u=l.calcMatrix.copyFrom(s.calc);u.translate(-a._displayOriginX,-a._displayOriginY);var f=i.alpha*a.alpha,d=a.width,v=a.height,m=a.cellWidth,y=a.cellHeight,T=Math.ceil(d/m),S=Math.ceil(v/y),A=m,P=y,w=m-(T*m-d),M=y-(S*y-v),D,F,L=a.showCells,O=a.showAltCells,B=a.showOutline,U=0,W=0,H=0,Y=0,G=0;if(B&&(A--,P--,w===m&&w--,M===y&&M--),r.pipelines.preBatch(a),L&&a.fillAlpha>0)for(D=l.fillTint,F=x.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*f),D.TL=F,D.TR=F,D.BL=F,D.BR=F,W=0;W<S;W++)for(O&&(H=W%2),U=0;U<T;U++){if(O&&H){H=0;continue}H++,Y=U<T-1?A:w,G=W<S-1?P:M,l.batchFillRect(U*m,W*y,Y,G)}if(O&&a.altFillAlpha>0)for(D=l.fillTint,F=x.getTintAppendFloatAlpha(a.altFillColor,a.altFillAlpha*f),D.TL=F,D.TR=F,D.BL=F,D.BR=F,W=0;W<S;W++)for(O&&(H=W%2),U=0;U<T;U++){if(O&&!H){H=1;continue}H=0,Y=U<T-1?A:w,G=W<S-1?P:M,l.batchFillRect(U*m,W*y,Y,G)}if(B&&a.outlineFillAlpha>0){var X=l.strokeTint,V=x.getTintAppendFloatAlpha(a.outlineFillColor,a.outlineFillAlpha*f);for(X.TL=V,X.TR=V,X.BL=V,X.BR=V,U=1;U<T;U++){var b=U*m;l.batchLine(b,0,b,v,1,1,1,0,!1)}for(W=1;W<S;W++){var z=W*y;l.batchLine(0,z,d,z,1,1,1,0,!1)}}r.pipelines.postBatch(a)};c.exports=o},61475:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99651),x=t(83419),o=t(17803),r=new x({Extends:o,Mixins:[h],initialize:function(i,n,l,s,u,f,d,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),f===void 0&&(f=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),o.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setFaces:function(a,i,n){return a===void 0&&(a=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=a,this.showLeft=i,this.showRight=n,this},setFillStyle:function(a,i,n){return this.fillTop=a,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});c.exports=r},11508:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(20926),o=function(r,a,i,n){i.addToRenderList(a);var l=r.currentContext;if(x(r,l,a,i,n)&&a.isFilled){var s=a.width,u=a.height,f=s/2,d=s/a.projection;a.showTop&&(h(l,a,a.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-d-u),l.lineTo(f,-u),l.lineTo(f,-1),l.lineTo(0,d-1),l.lineTo(-f,-1),l.lineTo(-f,-u),l.fill()),a.showLeft&&(h(l,a,a.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,d),l.lineTo(0,d-u),l.lineTo(-f,-u),l.lineTo(-f,0),l.fill()),a.showRight&&(h(l,a,a.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,d),l.lineTo(0,d-u),l.lineTo(f,-u),l.lineTo(f,0),l.fill()),l.restore()}};c.exports=o},3933:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(61475);h.register("isobox",function(o,r,a,i,n,l,s){return this.displayList.add(new x(this.scene,o,r,a,i,n,l,s))})},99651:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(68149),o=t(11508),c.exports={renderWebGL:x,renderCanvas:o}},68149:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(r,a,i,n){i.addToRenderList(a);var l=r.pipelines.set(a.pipeline),s=h(a,i,n),u=l.calcMatrix.copyFrom(s.calc),f=a.width,d=a.height,v=f/2,m=f/a.projection,y=i.alpha*a.alpha;if(a.isFilled){var T,S,A,P,w,M,D,F,L;r.pipelines.preBatch(a),a.showTop&&(T=x.getTintAppendFloatAlpha(a.fillTop,y),S=u.getX(-v,-d),A=u.getY(-v,-d),P=u.getX(0,-m-d),w=u.getY(0,-m-d),M=u.getX(v,-d),D=u.getY(v,-d),F=u.getX(0,m-d),L=u.getY(0,m-d),l.batchQuad(a,S,A,P,w,M,D,F,L,0,0,1,1,T,T,T,T,2)),a.showLeft&&(T=x.getTintAppendFloatAlpha(a.fillLeft,y),S=u.getX(-v,0),A=u.getY(-v,0),P=u.getX(0,m),w=u.getY(0,m),M=u.getX(0,m-d),D=u.getY(0,m-d),F=u.getX(-v,-d),L=u.getY(-v,-d),l.batchQuad(a,S,A,P,w,M,D,F,L,0,0,1,1,T,T,T,T,2)),a.showRight&&(T=x.getTintAppendFloatAlpha(a.fillRight,y),S=u.getX(v,0),A=u.getY(v,0),P=u.getX(0,m),w=u.getY(0,m),M=u.getX(0,m-d),D=u.getY(0,m-d),F=u.getX(v,-d),L=u.getY(v,-d),l.batchQuad(a,S,A,P,w,M,D,F,L,0,0,1,1,T,T,T,T,2)),r.pipelines.postBatch(a)}};c.exports=o},16933:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(60561),o=t(17803),r=new h({Extends:o,Mixins:[x],initialize:function(i,n,l,s,u,f,d,v,m){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),f===void 0&&(f=!1),d===void 0&&(d=15658734),v===void 0&&(v=10066329),m===void 0&&(m=13421772),o.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=v,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setReversed:function(a){return this.isReversed=a,this},setFaces:function(a,i,n){return a===void 0&&(a=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=a,this.showLeft=i,this.showRight=n,this},setFillStyle:function(a,i,n){return this.fillTop=a,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});c.exports=r},79590:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(20926),o=function(r,a,i,n){i.addToRenderList(a);var l=r.currentContext;if(x(r,l,a,i,n)&&a.isFilled){var s=a.width,u=a.height,f=s/2,d=s/a.projection,v=a.isReversed;a.showTop&&v&&(h(l,a,a.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-d-u),l.lineTo(f,-u),l.lineTo(0,d-u),l.fill()),a.showLeft&&(h(l,a,a.fillLeft),l.beginPath(),v?(l.moveTo(-f,-u),l.lineTo(0,d),l.lineTo(0,d-u)):(l.moveTo(-f,0),l.lineTo(0,d),l.lineTo(0,d-u)),l.fill()),a.showRight&&(h(l,a,a.fillRight),l.beginPath(),v?(l.moveTo(f,-u),l.lineTo(0,d),l.lineTo(0,d-u)):(l.moveTo(f,0),l.lineTo(0,d),l.lineTo(0,d-u)),l.fill()),l.restore()}};c.exports=o},49803:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(16933);h.register("isotriangle",function(o,r,a,i,n,l,s,u){return this.displayList.add(new x(this.scene,o,r,a,i,n,l,s,u))})},60561:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(51503),o=t(79590),c.exports={renderWebGL:x,renderCanvas:o}},51503:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(r,a,i,n){i.addToRenderList(a);var l=r.pipelines.set(a.pipeline),s=h(a,i,n),u=l.calcMatrix.copyFrom(s.calc),f=a.width,d=a.height,v=f/2,m=f/a.projection,y=a.isReversed,T=i.alpha*a.alpha;if(a.isFilled){r.pipelines.preBatch(a);var S,A,P,w,M,D,F;if(a.showTop&&y){S=x.getTintAppendFloatAlpha(a.fillTop,T),A=u.getX(-v,-d),P=u.getY(-v,-d),w=u.getX(0,-m-d),M=u.getY(0,-m-d),D=u.getX(v,-d),F=u.getY(v,-d);var L=u.getX(0,m-d),O=u.getY(0,m-d);l.batchQuad(a,A,P,w,M,D,F,L,O,0,0,1,1,S,S,S,S,2)}a.showLeft&&(S=x.getTintAppendFloatAlpha(a.fillLeft,T),y?(A=u.getX(-v,-d),P=u.getY(-v,-d),w=u.getX(0,m),M=u.getY(0,m),D=u.getX(0,m-d),F=u.getY(0,m-d)):(A=u.getX(-v,0),P=u.getY(-v,0),w=u.getX(0,m),M=u.getY(0,m),D=u.getX(0,m-d),F=u.getY(0,m-d)),l.batchTri(a,A,P,w,M,D,F,0,0,1,1,S,S,S,2)),a.showRight&&(S=x.getTintAppendFloatAlpha(a.fillRight,T),y?(A=u.getX(v,-d),P=u.getY(v,-d),w=u.getX(0,m),M=u.getY(0,m),D=u.getX(0,m-d),F=u.getY(0,m-d)):(A=u.getX(v,0),P=u.getY(v,0),w=u.getX(0,m),M=u.getY(0,m),D=u.getX(0,m-d),F=u.getY(0,m-d)),l.batchTri(a,A,P,w,M,D,F,0,0,1,1,S,S,S,2)),r.pipelines.postBatch(a)}};c.exports=o},57847:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(17803),o=t(23031),r=t(36823),a=new h({Extends:x,Mixins:[r],initialize:function(n,l,s,u,f,d,v,m,y){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=128),v===void 0&&(v=0),x.call(this,n,"Line",new o(u,f,d,v));var T=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,s),this.setSize(T,S),m!==void 0&&this.setStrokeStyle(1,m,y),this.updateDisplayOrigin()},setLineWidth:function(i,n){return n===void 0&&(n=i),this._startWidth=i,this._endWidth=n,this.lineWidth=i,this},setTo:function(i,n,l,s){return this.geom.setTo(i,n,l,s),this}});c.exports=a},17440:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75177),x=t(20926),o=function(r,a,i,n){i.addToRenderList(a);var l=r.currentContext;if(x(r,l,a,i,n)){var s=a._displayOriginX,u=a._displayOriginY;a.isStroked&&(h(l,a),l.beginPath(),l.moveTo(a.geom.x1-s,a.geom.y1-u),l.lineTo(a.geom.x2-s,a.geom.y2-u),l.stroke()),l.restore()}};c.exports=o},2481:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(57847);h.register("line",function(o,r,a,i,n,l,s,u){return this.displayList.add(new x(this.scene,o,r,a,i,n,l,s,u))})},36823:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(77385),o=t(17440),c.exports={renderWebGL:x,renderCanvas:o}},77385:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(r,a,i,n){i.addToRenderList(a);var l=r.pipelines.set(a.pipeline),s=h(a,i,n);l.calcMatrix.copyFrom(s.calc);var u=a._displayOriginX,f=a._displayOriginY,d=i.alpha*a.alpha;if(r.pipelines.preBatch(a),a.isStroked){var v=l.strokeTint,m=x.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*d);v.TL=m,v.TR=m,v.BL=m,v.BR=m,l.batchLine(a.geom.x1-u,a.geom.y1-f,a.geom.x2-u,a.geom.y2-f,a._startWidth/2,a._endWidth/2,1,0,!1,s.sprite,s.camera)}r.pipelines.postBatch(a)};c.exports=o},24949:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90273),x=t(83419),o=t(94811),r=t(13829),a=t(25717),i=t(17803),n=t(5469),l=new x({Extends:i,Mixins:[h],initialize:function(u,f,d,v,m,y){f===void 0&&(f=0),d===void 0&&(d=0),i.call(this,u,"Polygon",new a(v));var T=r(this.geom);this.setPosition(f,d),this.setSize(T.width,T.height),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var u=0;u<s;u++)n(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var u=r(this.geom);return this.setSize(u.width,u.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],u=this.geom.points,f=0;f<u.length;f++)s.push(u[f].x,u[f].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});c.exports=l},38710:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),r=function(a,i,n,l){n.addToRenderList(i);var s=a.currentContext;if(o(a,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY,d=i.pathData,v=d.length-1,m=d[0]-u,y=d[1]-f;s.beginPath(),s.moveTo(m,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var S=d[T]-u,A=d[T+1]-f;s.lineTo(S,A)}i.closePath&&s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};c.exports=r},64827:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(24949);h.register("polygon",function(o,r,a,i,n){return this.displayList.add(new x(this.scene,o,r,a,i,n))})},90273:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(73695),o=t(38710),c.exports={renderWebGL:x,renderCanvas:o}},73695:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),x=t(91296),o=t(34682),r=function(a,i,n,l){n.addToRenderList(i);var s=a.pipelines.set(i.pipeline),u=x(i,n,l),f=s.calcMatrix.copyFrom(u.calc),d=i._displayOriginX,v=i._displayOriginY,m=n.alpha*i.alpha;a.pipelines.preBatch(i),i.isFilled&&h(s,f,i,m,d,v),i.isStroked&&o(s,i,m,d,v),a.pipelines.postBatch(i)};c.exports=r},74561:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(87841),o=t(17803),r=t(95597),a=new h({Extends:o,Mixins:[r],initialize:function(n,l,s,u,f,d,v){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=128),f===void 0&&(f=128),o.call(this,n,"Rectangle",new x(0,0,u,f)),this.setPosition(l,s),this.setSize(u,f),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,n){this.width=i,this.height=n,this.geom.setSize(i,n),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=i,l.hitArea.height=n),this},updateData:function(){var i=[],n=this.geom,l=this._tempLine;return n.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),i.push(l.x2,l.y2),n.getLineC(l),i.push(l.x2,l.y2),n.getLineD(l),i.push(l.x2,l.y2),this.pathData=i,this}});c.exports=a},48682:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),r=function(a,i,n,l){n.addToRenderList(i);var s=a.currentContext;if(o(a,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY;i.isFilled&&(h(s,i),s.fillRect(-u,-f,i.width,i.height)),i.isStroked&&(x(s,i),s.beginPath(),s.rect(-u,-f,i.width,i.height),s.stroke()),s.restore()}};c.exports=r},87959:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(74561);h.register("rectangle",function(o,r,a,i,n,l){return this.displayList.add(new x(this.scene,o,r,a,i,n,l))})},95597:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(52059),o=t(48682),c.exports={renderWebGL:x,renderCanvas:o}},52059:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(34682),o=t(70554),r=function(a,i,n,l){n.addToRenderList(i);var s=a.pipelines.set(i.pipeline),u=h(i,n,l);s.calcMatrix.copyFrom(u.calc);var f=i._displayOriginX,d=i._displayOriginY,v=n.alpha*i.alpha;if(a.pipelines.preBatch(i),i.isFilled){var m=s.fillTint,y=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);m.TL=y,m.TR=y,m.BL=y,m.BR=y,s.batchFillRect(-f,-d,i.width,i.height)}i.isStroked&&x(s,i,v,f,d),a.pipelines.postBatch(i)};c.exports=r},55911:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81991),x=t(83419),o=t(94811),r=t(17803),a=new x({Extends:r,Mixins:[h],initialize:function(n,l,s,u,f,d,v,m){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=5),f===void 0&&(f=32),d===void 0&&(d=64),r.call(this,n,"Star",null),this._points=u,this._innerRadius=f,this._outerRadius=d,this.setPosition(l,s),this.setSize(d*2,d*2),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],n=this._points,l=this._innerRadius,s=this._outerRadius,u=Math.PI/2*3,f=Math.PI/n,d=s,v=s;i.push(d,v+-s);for(var m=0;m<n;m++)i.push(d+Math.cos(u)*s,v+Math.sin(u)*s),u+=f,i.push(d+Math.cos(u)*l,v+Math.sin(u)*l),u+=f;return i.push(d,v+-s),this.pathIndexes=o(i),this.pathData=i,this}});c.exports=a},64272:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),r=function(a,i,n,l){n.addToRenderList(i);var s=a.currentContext;if(o(a,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY,d=i.pathData,v=d.length-1,m=d[0]-u,y=d[1]-f;s.beginPath(),s.moveTo(m,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var S=d[T]-u,A=d[T+1]-f;s.lineTo(S,A)}s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};c.exports=r},93697:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55911),x=t(39429);x.register("star",function(o,r,a,i,n,l,s){return this.displayList.add(new h(this.scene,o,r,a,i,n,l,s))})},81991:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(57017),o=t(64272),c.exports={renderWebGL:x,renderCanvas:o}},57017:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),x=t(91296),o=t(34682),r=function(a,i,n,l){n.addToRenderList(i);var s=a.pipelines.set(i.pipeline),u=x(i,n,l),f=s.calcMatrix.copyFrom(u.calc),d=i._displayOriginX,v=i._displayOriginY,m=n.alpha*i.alpha;a.pipelines.preBatch(i),i.isFilled&&h(s,f,i,m,d,v),i.isStroked&&o(s,i,m,d,v),a.pipelines.postBatch(i)};c.exports=r},36931:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(17803),o=t(16483),r=t(96195),a=new h({Extends:x,Mixins:[r],initialize:function(n,l,s,u,f,d,v,m,y,T,S){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),d===void 0&&(d=64),v===void 0&&(v=0),m===void 0&&(m=128),y===void 0&&(y=128),x.call(this,n,"Triangle",new o(u,f,d,v,m,y));var A=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(l,s),this.setSize(A,P),T!==void 0&&this.setFillStyle(T,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,n,l,s,u,f){return this.geom.setTo(i,n,l,s,u,f),this.updateData()},updateData:function(){var i=[],n=this.geom,l=this._tempLine;return n.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),i.push(l.x2,l.y2),n.getLineC(l),i.push(l.x2,l.y2),this.pathData=i,this}});c.exports=a},85172:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),r=function(a,i,n,l){n.addToRenderList(i);var s=a.currentContext;if(o(a,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY,d=i.geom.x1-u,v=i.geom.y1-f,m=i.geom.x2-u,y=i.geom.y2-f,T=i.geom.x3-u,S=i.geom.y3-f;s.beginPath(),s.moveTo(d,v),s.lineTo(m,y),s.lineTo(T,S),s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};c.exports=r},45245:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(36931);h.register("triangle",function(o,r,a,i,n,l,s,u,f,d){return this.displayList.add(new x(this.scene,o,r,a,i,n,l,s,u,f,d))})},96195:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(83253),o=t(85172),c.exports={renderWebGL:x,renderCanvas:o}},83253:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(34682),o=t(70554),r=function(a,i,n,l){n.addToRenderList(i);var s=a.pipelines.set(i.pipeline),u=h(i,n,l);s.calcMatrix.copyFrom(u.calc);var f=i._displayOriginX,d=i._displayOriginY,v=n.alpha*i.alpha;if(a.pipelines.preBatch(i),i.isFilled){var m=s.fillTint,y=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);m.TL=y,m.TR=y,m.BL=y,m.BR=y;var T=i.geom.x1-f,S=i.geom.y1-d,A=i.geom.x2-f,P=i.geom.y2-d,w=i.geom.x3-f,M=i.geom.y3-d;s.batchFillTriangle(T,S,A,P,w,M,u.sprite,u.camera)}i.isStroked&&x(s,i,v,f,d),a.pipelines.postBatch(i)};c.exports=r},68287:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(83419),o=t(31401),r=t(95643),a=t(92751),i=new x({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,a],initialize:function(l,s,u,f,d){r.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(f,d),this.setPosition(s,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=i},76552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x.addToRenderList(h),t.batchSprite(h,h.frame,x,o)};c.exports=E},15567:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(13059),o=t(44603),r=t(23568),a=t(68287);o.register("sprite",function(i,n){i===void 0&&(i={});var l=r(i,"key",null),s=r(i,"frame",null),u=new a(this.scene,0,0,l,s);return n!==void 0&&(i.add=n),h(this.scene,u,i),x(u,i),u})},46409:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(68287);h.register("sprite",function(o,r,a,i){return this.displayList.add(new x(this.scene,o,r,a,i))})},92751:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(9409),o=t(76552),c.exports={renderWebGL:x,renderCanvas:o}},9409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x.addToRenderList(h),h.pipeline.batchSprite(h,x,o)};c.exports=E},14220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=t.canvas,r=t.context,a=t.style,i=[],n=0,l=x.length;a.maxLines>0&&a.maxLines<x.length&&(l=a.maxLines),a.syncFont(o,r);for(var s=t.letterSpacing,u=0;u<l;u++){var f=a.strokeThickness;if(s===0)f+=r.measureText(x[u]).width;else{for(var d=x[u],v=0;v<d.length;v++)f+=r.measureText(d[v]).width;d.length>1&&(f+=s*(d.length-1))}a.wordWrap&&(f-=r.measureText(" ").width),i[u]=Math.ceil(f),n=Math.max(n,i[u])}var m=h.fontSize+a.strokeThickness,y=m*l,T=t.lineSpacing;return l>1&&(y+=T*(l-1)),{width:n,height:y,lines:l,lineWidths:i,lineSpacing:T,lineHeight:m}};c.exports=E},79557:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=function(o){var r=h.create(this),a=r.getContext("2d",{willReadFrequently:!0});o.syncFont(r,a);var i=a.measureText(o.testString);if("actualBoundingBoxAscent"in i){var n=i.actualBoundingBoxAscent,l=i.actualBoundingBoxDescent;return h.remove(r),{ascent:n,descent:l,fontSize:n+l}}var s=Math.ceil(i.width*o.baselineX),u=s,f=2*u;u=u*o.baselineY|0,r.width=s,r.height=f,a.fillStyle="#f00",a.fillRect(0,0,s,f),a.font=o._font,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o.testString,0,u);var d={ascent:0,descent:0,fontSize:0},v=a.getImageData(0,0,s,f);if(!v)return d.ascent=u,d.descent=u+6,d.fontSize=d.ascent+d.descent,h.remove(r),d;var m=v.data,y=m.length,T=s*4,S,A,P=0,w=!1;for(S=0;S<u;S++){for(A=0;A<T;A+=4)if(m[P+A]!==255){w=!0;break}if(!w)P+=T;else break}for(d.ascent=u-S,P=y-T,w=!1,S=f;S>u;S--){for(A=0;A<T;A+=4)if(m[P+A]!==255){w=!0;break}if(!w)P-=T;else break}return d.descent=S-u,d.fontSize=d.ascent+d.descent,h.remove(r),d};c.exports=x},50171:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),x=t(27919),o=t(83419),r=t(31401),a=t(95643),i=t(14220),n=t(35154),l=t(35846),s=t(61771),u=t(35762),f=t(45650),d=new o({Extends:a,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,s],initialize:function(m,y,T,S,A){y===void 0&&(y=0),T===void 0&&(T=0),a.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(y,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new u(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing),A&&A.letterSpacing&&this.setLetterSpacing(A.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var m=this.style;if(m.wordWrapCallback){var y=m.wordWrapCallback.call(m.wordWrapCallbackScope,v,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,m,y){for(var T="",S=v.replace(/ +/gi," ").split(this.splitRegExp),A=S.length,P=0;P<A;P++){var w=S[P],M="";w=w.replace(/^ *|\s*$/gi,"");var D=w.length*this.letterSpacing,F=m.measureText(w).width+D;if(F<y){T+=w+`
`;continue}for(var L=y,O=w.split(" "),B=0;B<O.length;B++){var U=O[B],W=U+" ",H=W.length*this.letterSpacing,Y=m.measureText(W).width+H;if(console.log(O.length,U),Y>L){if(B===0){for(var G=W;G.length;){G=G.slice(0,-1);var X=G.length*this.letterSpacing;if(Y=m.measureText(G).width+X,Y<=L)break}if(!G.length)throw new Error("wordWrapWidth < a single character");var V=U.substr(G.length);O[B]=V,M+=G}var b=O[B].length?B:B+1,z=O.slice(b).join(" ").replace(/[ \n]*$/gi,"");S.splice(P+1,0,z),A=S.length;break}else M+=W,L-=Y}T+=M.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(v,m,y){for(var T="",S=v.split(this.splitRegExp),A=S.length-1,P=m.measureText(" ").width,w=0;w<=A;w++){for(var M=y,D=S[w].split(" "),F=D.length-1,L=0;L<=F;L++){var O=D[L],B=O.length*this.letterSpacing,U=m.measureText(O).width+B,W=U;L<F&&(W+=P),W>M&&L>0&&(T+=`
`,M=y),T+=O,L<F?(T+=" ",M-=W):M-=U}w<A&&(T+=`
`)}return T},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(v);return m.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,m){m===void 0&&(m=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var y=this._text.concat(m?`
`+v:v);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,m){return this.style.setFixedSize(v,m)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,m){return this.style.setStroke(v,m)},setShadow:function(v,m,y,T,S,A){return this.style.setShadow(v,m,y,T,S,A)},setShadowOffset:function(v,m){return this.style.setShadowOffset(v,m)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,m){return this.style.setWordWrapWidth(v,m)},setWordWrapCallback:function(v,m){return this.style.setWordWrapCallback(v,m)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,m,y,T){if(typeof v=="object"){var S=v,A=n(S,"x",null);A!==null?(v=A,y=A):(v=n(S,"left",0),y=n(S,"right",v));var P=n(S,"y",null);P!==null?(m=P,T=P):(m=n(S,"top",0),T=n(S,"bottom",m))}else v===void 0&&(v=0),m===void 0&&(m=v),y===void 0&&(y=v),T===void 0&&(T=m);return this.padding.left=v,this.padding.top=m,this.padding.right=y,this.padding.bottom=T,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var m=this.style;return m.rtl===v?this:(m.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var v=this.canvas,m=this.context,y=this.style,T=y.resolution,S=y.metrics;y.syncFont(v,m);var A=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(A=this.runWordWrap(this._text));var P=A.split(this.splitRegExp),w=i(this,S,P),M=this.padding,D;y.fixedWidth===0?(this.width=w.width+M.left+M.right,D=w.width):(this.width=y.fixedWidth,D=this.width-M.left-M.right,D<w.width&&(D=w.width)),y.fixedHeight===0?this.height=w.height+M.top+M.bottom:this.height=y.fixedHeight;var F=this.width,L=this.height;this.updateDisplayOrigin(),F*=T,L*=T,F=Math.max(F,1),L=Math.max(L,1),v.width!==F||v.height!==L?(v.width=F,v.height=L,this.frame.setSize(F,L),y.syncFont(v,m),y.rtl&&(m.direction="rtl")):m.clearRect(0,0,F,L),m.save(),m.scale(T,T),y.backgroundColor&&(m.fillStyle=y.backgroundColor,m.fillRect(0,0,F,L)),y.syncStyle(v,m),m.translate(M.left,M.top);for(var O,B,U=0;U<w.lines;U++){if(O=y.strokeThickness/2,B=y.strokeThickness/2+U*w.lineHeight+S.ascent,U>0&&(B+=w.lineSpacing*U),y.rtl)O=F-O-M.left-M.right;else if(y.align==="right")O+=D-w.lineWidths[U];else if(y.align==="center")O+=(D-w.lineWidths[U])/2;else if(y.align==="justify"){var W=.85;if(w.lineWidths[U]/w.width>=W){var H=w.width-w.lineWidths[U],Y=m.measureText(" ").width,G=P[U].trim(),X=G.split(" ");H+=(P[U].length-G.length)*Y;for(var V=Math.floor(H/Y),b=0;V>0;)X[b]+=" ",b=(b+1)%(X.length-1||1),--V;P[U]=X.join(" ")}}this.autoRound&&(O=Math.round(O),B=Math.round(B));var z=this.letterSpacing;if(y.strokeThickness&&z===0&&(y.syncShadow(m,y.shadowStroke),m.strokeText(P[U],O,B)),y.color)if(y.syncShadow(m,y.shadowFill),z!==0)for(var $=0,Q=P[U].split(""),Z=0;Z<Q.length;Z++)y.strokeThickness&&(y.syncShadow(m,y.shadowStroke),m.strokeText(Q[Z],O+$,B),y.syncShadow(m,y.shadowFill)),m.fillText(Q[Z],O+$,B),$+=m.measureText(Q[Z]).width+z;else m.fillText(P[U],O,B)}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var q=this.input;return q&&!q.customHitArea&&(q.hitArea.width=this.width,q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=r.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=m,v},preDestroy:function(){l(this.canvas),x.remove(this.canvas);var v=this.texture;v&&v.destroy()}});c.exports=d},79724:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){h.width===0||h.height===0||(x.addToRenderList(h),t.batchSprite(h,h.frame,x,o))};c.exports=E},71259:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(50171);x.register("text",function(a,i){a===void 0&&(a={});var n=o(a,"text",""),l=o(a,"style",null),s=o(a,"padding",null);s!==null&&(l.padding=s);var u=new r(this.scene,0,0,n,l);return i!==void 0&&(a.add=i),h(this.scene,u,a),u.autoRound=o(a,"autoRound",!0),u.resolution=o(a,"resolution",1),u})},68005:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50171),x=t(39429);x.register("text",function(o,r,a,i){return this.displayList.add(new h(this.scene,o,r,a,i))})},61771:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(34397),o=t(79724),c.exports={renderWebGL:x,renderCanvas:o}},35762:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23568),o=t(35154),r=t(79557),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new h({initialize:function(l,s){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(n,l,s){l===void 0&&(l=!0),s===void 0&&(s=!1);for(var u in a){var f=s?a[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=o(n,a[u][0],f):n&&u==="fontSize"&&typeof n.fontSize=="number"?this[u]=n.fontSize.toString()+"px":this[u]=x(n,a[u][0],f)}var d=o(n,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=o(n,"fill",null);v!==null&&(this.color=v);var m=o(n,"metrics",!1);return m?this.metrics={ascent:o(m,"ascent",0),descent:o(m,"descent",0),fontSize:o(m,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=r(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var s=n,u="",f="";if(typeof n!="string")s=o(n,"fontFamily","Courier"),u=o(n,"fontSize","16px"),f=o(n,"fontStyle","");else{var d=n.split(" "),v=0;f=d.length>2?d[v++]:"",u=d[v++]||"16px",s=d[v++]||"Courier"}return(s!==this.fontFamily||u!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=u,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,s,u,f,d){return n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s="#000"),u===void 0&&(u=0),f===void 0&&(f=!1),d===void 0&&(d=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=s,this.shadowBlur=u,this.shadowStroke=f,this.shadowFill=d,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in a)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});c.exports=i},34397:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,r,a,i){if(!(r.width===0||r.height===0)){a.addToRenderList(r);var n=r.frame,l=n.width,s=n.height,u=h.getTintAppendFloatAlpha,f=o.pipelines.set(r.pipeline,r),d=f.setTexture2D(n.glTexture,r);f.batchTexture(r,n.glTexture,l,s,r.x,r.y,l/r.style.resolution,s/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,l,s,u(r.tintTopLeft,a.alpha*r._alphaTL),u(r.tintTopRight,a.alpha*r._alphaTR),u(r.tintBottomLeft,a.alpha*r._alphaBL),u(r.tintBottomRight,a.alpha*r._alphaBR),r.tintFill,0,0,a,i,!1,d)}};c.exports=x},20839:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(83419),o=t(31401),r=t(95643),a=t(98439),i=t(68703),n=t(56295),l=t(45650),s=t(26099),u=8,f=new x({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(v,m,y,T,S,A,P){var w=v.sys.renderer;r.call(this,v,"TileSprite");var M=v.sys.textures.get(A),D=M.get(P);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),M=v.sys.textures.get("__MISSING"),D=M.get()),M.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),M=v.sys.textures.get("__MISSING"),D=M.get()),!T||!S?(T=T||D.width,S=S||D.height):(T=Math.floor(T),S=Math.floor(S)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=w,this.canvas=h.create(this,T,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=M,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=a(D.width),this.potHeight=a(D.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,y),this.setSize(T,S),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,v){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(v)},setFrame:function(d){var v=this.displayTexture.get(d);return this.potWidth=a(v.width),this.potHeight=a(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=-9:this.renderFlags|=u,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,v){return d!==void 0&&(this.tilePositionX=d),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(d,v){return d===void 0&&(d=this.tileScaleX),v===void 0&&(v=d),this.tileScaleX=d,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,m=this.fillCanvas,y=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=d.cutWidth,T=d.cutHeight),v.clearRect(0,0,y,T),m.width=y,m.height=T,v.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,y,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=v.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||i.disable(v);var m=this._tileScale.x,y=this._tileScale.y,T=this._tilePosition.x,S=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(m,y),v.translate(-T,-S),v.fillStyle=this.fillPattern,v.fillRect(T,S,this.width/m,this.height/y),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});c.exports=f},46992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){h.updateCanvas(),x.addToRenderList(h),t.batchSprite(h,h.frame,x,o)};c.exports=E},14167:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(20839);x.register("tileSprite",function(a,i){a===void 0&&(a={});var n=o(a,"x",0),l=o(a,"y",0),s=o(a,"width",512),u=o(a,"height",512),f=o(a,"key",""),d=o(a,"frame",""),v=new r(this.scene,n,l,s,u,f,d);return i!==void 0&&(a.add=i),h(this.scene,v,a),v})},91681:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20839),x=t(39429);x.register("tileSprite",function(o,r,a,i,n,l){return this.displayList.add(new h(this.scene,o,r,a,i,n,l))})},56295:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(18553),o=t(46992),c.exports={renderWebGL:x,renderCanvas:o}},18553:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,r,a,i){r.updateCanvas();var n=r.width,l=r.height;if(!(n===0||l===0)){a.addToRenderList(r);var s=h.getTintAppendFloatAlpha,u=o.pipelines.set(r.pipeline,r),f=u.setTexture2D(r.fillPattern,r);u.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,n,l,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*n,r.originY*l,0,0,n,l,s(r.tintTopLeft,a.alpha*r._alphaTL),s(r.tintTopRight,a.alpha*r._alphaTR),s(r.tintBottomLeft,a.alpha*r._alphaBL),s(r.tintBottomRight,a.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,a,i,!1,f)}};c.exports=x},18471:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(31401),r=t(51708),a=t(8443),i=t(95643),n=t(36383),l=t(14463),s=t(45650),u=t(10247),f=new x({Extends:i,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,u],initialize:function(v,m,y,T){i.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var S=v.sys.game;this._device=S.device.video,this.setPosition(m,y),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(a.PAUSE,this.globalPause,this),S.events.on(a.RESUME,this.globalResume,this);var A=v.sys.sound;A&&A.on(l.GLOBAL_MUTE,this.globalMute,this),T&&this.load(T)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var v=this.scene.sys.cache.video.get(d);return v?(this.cacheKey=d,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,v,m,y,T){v===void 0&&(v=!0),m===void 0&&(m=!1),this.cacheKey!==d&&(this.load(d),v&&this.play(m,y,T))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,v,m){v===void 0&&(v=!1);var y=this._device.getVideoURL(d);return y?(this.cacheKey="",this.loadHandler(y.url,v,m)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,v,m){return this.loadHandler(null,v,m,d)},loadHandler:function(d,v,m,y){v||(v=!1);var T=this.video;if(T?(this.removeLoadEventHandlers(),this.stop()):(T=document.createElement("video"),T.controls=!1,T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.setAttribute("disablePictureInPicture","true")),v?(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")):(T.muted=!1,T.defaultMuted=!1,T.removeAttribute("autoplay")),m?T.setAttribute("crossorigin",m):T.removeAttribute("crossorigin"),y)if("srcObject"in T)try{T.srcObject=y}catch(A){if(A.name!=="TypeError")throw A;T.src=URL.createObjectURL(y)}else T.src=URL.createObjectURL(y);else T.src=d;this.retry=0,this.video=T,this._playCalled=!1,T.load(),this.addLoadEventHandlers();var S=this.scene.sys.textures.get(this._key);return this.setTexture(S),this},requestVideoFrame:function(d,v){var m=this.video;if(m){var y=v.width,T=v.height,S=this.videoTexture,A=this.videoTextureSource,P=!S||A.source!==m;P?(this._codePaused=m.paused,this._codeMuted=m.muted,S?(A.source=m,A.width=y,A.height=T,S.get().setSize(y,T)):(S=this.scene.sys.textures.create(this._key,m,y,T),S.add("__BASE",0,0,0,y,T),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=v;var w=v.mediaTime;P&&(this._lastUpdate=w,this.emit(r.VIDEO_CREATED,this,y,T),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=w,this._getFrame?(this.removeEventHandlers(),m.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,v,m){v===void 0&&(v=-1),m===void 0&&(m=n.MAX_SAFE_INTEGER);var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(d===void 0&&(d=y.loop),y.loop=d,this._markerIn=v,this._markerOut=m,this._playingMarker=v>-1&&m>v&&m<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var d=this.video;return!d||this.isPlaying()?(d||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=d.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var m in v)d.addEventListener(m,v[m])}},removeEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var m in v)d.removeEventListener(m,v[m])}},createPlayPromise:function(d){d===void 0&&(d=!0);var v=this.video,m=v.play();if(m!==void 0){var y=this.playSuccess.bind(this),T=this.playError.bind(this);if(!d){var S=this;T=function(){S.failedPlayAttempts++}}m.then(y).catch(T)}else v.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,v,m){return!isNaN(v)&&v>=0&&!isNaN(m)&&m>v&&(this.markers[d]=[v,m]),this},playMarker:function(d,v){var m=this.markers[d];return m&&this.play(v,m[0],m[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,v){return d===void 0&&(d=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,d,v)},snapshotArea:function(d,v,m,y,T,S){d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=this.width),y===void 0&&(y=this.height),T===void 0&&(T=m),S===void 0&&(S=y);var A=this.video,P=this.snapshotTexture;return P?(P.setSize(T,S),A&&P.context.drawImage(A,d,v,m,y,0,0,T,S)):(P=this.scene.sys.textures.createCanvas(s(),T,S),this.snapshotTexture=P,A&&P.context.drawImage(A,d,v,m,y,0,0,T,S)),P.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var v=d.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(r.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(r.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(d,v){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var v=this.video;if(v){var m=v.duration;if(m!==1/0&&!isNaN(m)){var y=m*d;this.setCurrentTime(y)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var v=this.video;if(v){if(typeof d=="string"){var m=d[0],y=parseFloat(d.substr(1));m==="+"?d=v.currentTime+y:m==="-"&&(d=v.currentTime-y)}v.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v))return d.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var v=this.video;return v&&(v.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,v){this._systemMuted=v;var m=this.video;m&&(m.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var v=this.video;return this._codePaused=d,v&&!v.ended&&(d?v.paused||(this.removeEventHandlers(),v.pause()):d||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=h(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(v)),this._key=d,this.flipY=v,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(a.PAUSE,this.globalPause,this),d.off(a.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(l.GLOBAL_MUTE,this.globalMute,this)}});c.exports=f},58352:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){h.videoTexture&&(x.addToRenderList(h),t.batchSprite(h,h.frame,x,o))};c.exports=E},11511:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),r=t(18471);x.register("video",function(a,i){a===void 0&&(a={});var n=o(a,"key",null),l=new r(this.scene,0,0,n);return i!==void 0&&(a.add=i),h(this.scene,l,a),l})},89025:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18471),x=t(39429);x.register("video",function(o,r,a){return this.displayList.add(new h(this.scene,o,r,a))})},10247:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(29849),o=t(58352),c.exports={renderWebGL:x,renderCanvas:o}},29849:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){h.videoTexture&&(x.addToRenderList(h),h.pipeline.batchSprite(h,x,o))};c.exports=E},41481:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(96503),o=t(87902),r=t(83419),a=t(31401),i=t(95643),n=t(87841),l=t(37303),s=new r({Extends:i,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(f,d,v,m,y){m===void 0&&(m=1),y===void 0&&(y=m),i.call(this,f,"Zone"),this.setPosition(d,v),this.width=m,this.height=y,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,f,d){d===void 0&&(d=!0),this.width=u,this.height=f,this.updateDisplayOrigin();var v=this.input;return d&&v&&!v.customHitArea&&(v.hitArea.width=u,v.hitArea.height=f),this},setDisplaySize:function(u,f){return this.displayWidth=u,this.displayHeight=f,this},setCircleDropZone:function(u){return this.setDropZone(new x(0,0,u),o)},setRectangleDropZone:function(u,f){return this.setDropZone(new n(0,0,u,f),l)},setDropZone:function(u,f){return this.input||this.setInteractive(u,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,f,d){d.addToRenderList(f)},renderWebGL:function(u,f,d){d.addToRenderList(f)}});c.exports=s},95261:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),x=t(23568),o=t(41481);h.register("zone",function(r){var a=x(r,"x",0),i=x(r,"y",0),n=x(r,"width",1),l=x(r,"height",n);return new o(this.scene,a,i,n,l)})},84175:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41481),x=t(39429);x.register("zone",function(o,r,a,i){return this.displayList.add(new h(this.scene,o,r,a,i))})},95166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};c.exports=E},96503:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(87902),o=t(26241),r=t(79124),a=t(23777),i=t(28176),n=new h({initialize:function(s,u,f){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=a.CIRCLE,this.x=s,this.y=u,this._radius=f,this._diameter=f*2},contains:function(l,s){return x(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return r(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u){return this.x=l,this.y=s,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});c.exports=n},71562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return 2*(Math.PI*t.radius)};c.exports=E},92110:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r,a){return a===void 0&&(a=new h),a.x=o.x+o.radius*Math.cos(r),a.y=o.y+o.radius*Math.sin(r),a};c.exports=x},42250:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),x=function(o){return new h(o.x,o.y,o.radius)};c.exports=x},87902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(t.radius>0&&h>=t.left&&h<=t.right&&x>=t.top&&x<=t.bottom){var o=(t.x-h)*(t.x-h),r=(t.y-x)*(t.y-x);return o+r<=t.radius*t.radius}else return!1};c.exports=E},5698:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),x=function(o,r){return h(o,r.x,r.y)};c.exports=x},70588:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),x=function(o,r){return h(o,r.x,r.y)&&h(o,r.right,r.y)&&h(o,r.x,r.bottom)&&h(o,r.right,r.bottom)};c.exports=x},26394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h.setTo(t.x,t.y,t.radius)};c.exports=E},76278:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};c.exports=E},2074:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,r){return r===void 0&&(r=new h),r.x=o.left,r.y=o.top,r.width=o.diameter,r.height=o.diameter,r};c.exports=x},26241:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92110),x=t(62945),o=t(36383),r=t(2141),a=function(i,n,l){l===void 0&&(l=new r);var s=x(n,0,o.PI2);return h(i,s,l)};c.exports=a},79124:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71562),x=t(92110),o=t(62945),r=t(36383),a=function(i,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(i)/l);for(var u=0;u<n;u++){var f=o(u/n,0,r.PI2);s.push(x(i,f))}return s};c.exports=a},50884:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t.x+=h,t.y+=x,t};c.exports=E},39212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x+=h.x,t.y+=h.y,t};c.exports=E},28176:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){r===void 0&&(r=new h);var a=2*Math.PI*Math.random(),i=Math.random()+Math.random(),n=i>1?2-i:i,l=n*Math.cos(a),s=n*Math.sin(a);return r.x=o.x+l*o.radius,r.y=o.y+s*o.radius,r};c.exports=x},88911:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503);h.Area=t(95166),h.Circumference=t(71562),h.CircumferencePoint=t(92110),h.Clone=t(42250),h.Contains=t(87902),h.ContainsPoint=t(5698),h.ContainsRect=t(70588),h.CopyFrom=t(26394),h.Equals=t(76278),h.GetBounds=t(2074),h.GetPoint=t(26241),h.GetPoints=t(79124),h.Offset=t(50884),h.OffsetPoint=t(39212),h.Random=t(28176),c.exports=h},23777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=E},78874:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};c.exports=E},92990:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=t.width/2,x=t.height/2,o=Math.pow(h-x,2)/Math.pow(h+x,2);return Math.PI*(h+x)*(1+3*o/(10+Math.sqrt(4-3*o)))};c.exports=E},79522:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r,a){a===void 0&&(a=new h);var i=o.width/2,n=o.height/2;return a.x=o.x+i*Math.cos(r),a.y=o.y+n*Math.sin(r),a};c.exports=x},58102:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497),x=function(o){return new h(o.x,o.y,o.width,o.height)};c.exports=x},81154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(t.width<=0||t.height<=0)return!1;var o=(h-t.x)/t.width,r=(x-t.y)/t.height;return o*=o,r*=r,o+r<.25};c.exports=E},46662:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),x=function(o,r){return h(o,r.x,r.y)};c.exports=x},1632:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),x=function(o,r){return h(o,r.x,r.y)&&h(o,r.right,r.y)&&h(o,r.x,r.bottom)&&h(o,r.right,r.bottom)};c.exports=x},65534:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};c.exports=E},8497:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(81154),o=t(90549),r=t(48320),a=t(23777),i=t(24820),n=new h({initialize:function(s,u,f,d){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=a.ELLIPSE,this.x=s,this.y=u,this.width=f,this.height=d},contains:function(l,s){return x(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return r(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u,f){return this.x=l,this.y=s,this.width=u,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},setSize:function(l,s){return s===void 0&&(s=l),this.width=l,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});c.exports=n},36146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};c.exports=E},23694:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,r){return r===void 0&&(r=new h),r.x=o.left,r.y=o.top,r.width=o.width,r.height=o.height,r};c.exports=x},90549:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79522),x=t(62945),o=t(36383),r=t(2141),a=function(i,n,l){l===void 0&&(l=new r);var s=x(n,0,o.PI2);return h(i,s,l)};c.exports=a},48320:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92990),x=t(79522),o=t(62945),r=t(36383),a=function(i,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(i)/l);for(var u=0;u<n;u++){var f=o(u/n,0,r.PI2);s.push(x(i,f))}return s};c.exports=a},73424:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t.x+=h,t.y+=x,t};c.exports=E},44808:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x+=h.x,t.y+=h.y,t};c.exports=E},24820:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){r===void 0&&(r=new h);var a=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return r.x=o.x+i*Math.cos(a)*o.width/2,r.y=o.y+i*Math.sin(a)*o.height/2,r};c.exports=x},49203:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497);h.Area=t(78874),h.Circumference=t(92990),h.CircumferencePoint=t(79522),h.Clone=t(58102),h.Contains=t(81154),h.ContainsPoint=t(46662),h.ContainsRect=t(1632),h.CopyFrom=t(65534),h.Equals=t(36146),h.GetBounds=t(23694),h.GetPoint=t(90549),h.GetPoints=t(48320),h.Offset=t(73424),h.OffsetPoint=t(44808),h.Random=t(24820),c.exports=h},55738:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23777),x=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=x(!1,o,h),c.exports=o},2044:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20339),x=function(o,r){return h(o.x,o.y,r.x,r.y)<=o.radius+r.radius};c.exports=x},81491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=h.width/2,o=h.height/2,r=Math.abs(t.x-h.x-x),a=Math.abs(t.y-h.y-o),i=x+t.radius,n=o+t.radius;if(r>i||a>n)return!1;if(r<=x||a<=o)return!0;var l=r-x,s=a-o,u=l*l,f=s*s,d=t.radius*t.radius;return u+f<=d};c.exports=E},63376:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(2044),o=function(r,a,i){if(i===void 0&&(i=[]),x(r,a)){var n=r.x,l=r.y,s=r.radius,u=a.x,f=a.y,d=a.radius,v,m,y,T,S;if(l===f)S=(d*d-s*s-u*u+n*n)/(2*(n-u)),v=1,m=-2*f,y=u*u+S*S-2*u*S+f*f-d*d,T=m*m-4*v*y,T===0?i.push(new h(S,-m/(2*v))):T>0&&(i.push(new h(S,(-m+Math.sqrt(T))/(2*v))),i.push(new h(S,(-m-Math.sqrt(T))/(2*v))));else{var A=(n-u)/(l-f),P=(d*d-s*s-u*u+n*n-f*f+l*l)/(2*(l-f));v=A*A+1,m=2*l*A-2*P*A-2*n,y=n*n+l*l+P*P-s*s-2*l*P,T=m*m-4*v*y,T===0?(S=-m/(2*v),i.push(new h(S,P-S*A))):T>0&&(S=(-m+Math.sqrt(T))/(2*v),i.push(new h(S,P-S*A)),S=(-m-Math.sqrt(T))/(2*v),i.push(new h(S,P-S*A)))}}return i};c.exports=o},97439:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),x=t(81491),o=function(r,a,i){if(i===void 0&&(i=[]),x(r,a)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC(),u=a.getLineD();h(n,r,i),h(l,r,i),h(s,r,i),h(u,r,i)}return i};c.exports=o},4042:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(80462),o=function(r,a,i){if(i===void 0&&(i=[]),x(r,a)){var n=r.x1,l=r.y1,s=r.x2,u=r.y2,f=a.x,d=a.y,v=a.radius,m=s-n,y=u-l,T=n-f,S=l-d,A=m*m+y*y,P=2*(m*T+y*S),w=T*T+S*S-v*v,M=P*P-4*A*w,D,F;if(M===0){var L=-P/(2*A);D=n+L*m,F=l+L*y,L>=0&&L<=1&&i.push(new h(D,F))}else if(M>0){var O=(-P-Math.sqrt(M))/(2*A);D=n+O*m,F=l+O*y,O>=0&&O<=1&&i.push(new h(D,F));var B=(-P+Math.sqrt(M))/(2*A);D=n+B*m,F=l+B*y,B>=0&&B<=1&&i.push(new h(D,F))}}return i};c.exports=o},36100:(c,E,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),x=function(o,r,a,i){a===void 0&&(a=!1);var n=o.x1,l=o.y1,s=o.x2,u=o.y2,f=r.x1,d=r.y1,v=r.x2,m=r.y2,y=s-n,T=u-l,S=v-f,A=m-d,P=y*A-T*S;if(P===0)return null;var w,M,D;if(a){if(w=(y*(d-l)+T*(n-f))/(S*T-A*y),y!==0)M=(f+S*w-n)/y;else if(T!==0)M=(d+A*w-l)/T;else return null;if(M<0||w<0||w>1)return null;D=M}else{if(w=((f-n)*A-(d-l)*S)/P,M=((l-d)*y-(n-f)*T)/P,w<0||w>1||M<0||M>1)return null;D=w}return i===void 0&&(i=new h),i.set(n+y*D,l+T*D,D)};c.exports=x},3073:(c,E,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36100),x=t(23031),o=t(25836),r=new x,a=new o,i=function(n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=new o);var f=!1;u.set(),a.set();for(var d=l[l.length-1],v=0;v<l.length;v++){var m=l[v];r.setTo(d.x,d.y,m.x,m.y),d=m,h(n,r,s,a)&&(!f||a.z<u.z)&&(u.copy(a),f=!0)}return f?u:null};c.exports=i},56362:(c,E,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),x=t(61369),o=t(3073),r=new h,a=function(i,n,l,s){s===void 0&&(s=new x),Array.isArray(n)||(n=[n]);var u=!1;s.set(),r.set();for(var f=0;f<n.length;f++)o(i,n[f].points,l,r)&&(!u||r.z<s.z)&&(s.set(r.x,r.y,r.z,f),u=!0);return u?s:null};c.exports=a},60646:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(76112),o=t(92773),r=function(a,i,n){if(n===void 0&&(n=[]),o(a,i))for(var l=i.getLineA(),s=i.getLineB(),u=i.getLineC(),f=i.getLineD(),d=[new h,new h,new h,new h],v=[x(l,a,d[0]),x(s,a,d[1]),x(u,a,d[2]),x(f,a,d[3])],m=0;m<4;m++)v[m]&&n.push(d[m]);return n};c.exports=r},71147:(c,E,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61369),x=t(56362),o=t(23031),r=new o;function a(l,s,u,f,d){var v=Math.cos(l),m=Math.sin(l);r.setTo(s,u,s+v,u+m);var y=x(r,f,!0);y&&d.push(new h(y.x,y.y,l,y.w))}function i(l,s){return l.z-s.z}var n=function(l,s,u){Array.isArray(u)||(u=[u]);for(var f=[],d=[],v=0;v<u.length;v++)for(var m=u[v].points,y=0;y<m.length;y++){var T=Math.atan2(m[y].y-s,m[y].x-l);d.indexOf(T)===-1&&(a(T,l,s,u,f),a(T-1e-5,l,s,u,f),a(T+1e-5,l,s,u,f),d.push(T))}return f.sort(i)};c.exports=n},68389:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(59996),o=function(r,a,i){return i===void 0&&(i=new h),x(r,a)&&(i.x=Math.max(r.x,a.x),i.y=Math.max(r.y,a.y),i.width=Math.min(r.right,a.right)-i.x,i.height=Math.min(r.bottom,a.bottom)-i.y),i};c.exports=o},52784:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60646),x=t(59996),o=function(r,a,i){if(i===void 0&&(i=[]),x(r,a)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=r.getLineD();h(n,a,i),h(l,a,i),h(s,a,i),h(u,a,i)}return i};c.exports=o},26341:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89265),x=t(60646),o=function(r,a,i){if(i===void 0&&(i=[]),h(r,a)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();x(n,r,i),x(l,r,i),x(s,r,i)}return i};c.exports=o},38720:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),x=t(67636),o=function(r,a,i){if(i===void 0&&(i=[]),x(r,a)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();h(n,a,i),h(l,a,i),h(s,a,i)}return i};c.exports=o},13882:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(2822),o=t(76112),r=function(a,i,n){if(n===void 0&&(n=[]),x(a,i))for(var l=a.getLineA(),s=a.getLineB(),u=a.getLineC(),f=[new h,new h,new h],d=[o(l,i,f[0]),o(s,i,f[1]),o(u,i,f[2])],v=0;v<3;v++)d[v]&&n.push(f[v]);return n};c.exports=r},75636:(c,E,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82944),x=t(13882),o=function(r,a,i){if(i===void 0&&(i=[]),h(r,a)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();x(r,n,i),x(r,l,i),x(r,s,i)}return i};c.exports=o},80462:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),x=t(2141),o=new x,r=function(a,i,n){if(n===void 0&&(n=o),h(i,a.x1,a.y1))return n.x=a.x1,n.y=a.y1,!0;if(h(i,a.x2,a.y2))return n.x=a.x2,n.y=a.y2,!0;var l=a.x2-a.x1,s=a.y2-a.y1,u=i.x-a.x1,f=i.y-a.y1,d=l*l+s*s,v=l,m=s;if(d>0){var y=(u*l+f*s)/d;v*=y,m*=y}n.x=a.x1+v,n.y=a.y1+m;var T=v*v+m*m;return T<=d&&v*l+m*s>=0&&h(i,n.x,n.y)};c.exports=r},76112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=t.x1,r=t.y1,a=t.x2,i=t.y2,n=h.x1,l=h.y1,s=h.x2,u=h.y2;if(o===a&&r===i||n===s&&l===u)return!1;var f=(u-l)*(a-o)-(s-n)*(i-r);if(f===0)return!1;var d=((s-n)*(r-l)-(u-l)*(o-n))/f,v=((a-o)*(r-l)-(i-r)*(o-n))/f;return d<0||d>1||v<0||v>1?!1:(x&&(x.x=o+d*(a-o),x.y=r+d*(i-r)),!0)};c.exports=E},92773:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.x1,o=t.y1,r=t.x2,a=t.y2,i=h.x,n=h.y,l=h.right,s=h.bottom,u=0;if(x>=i&&x<=l&&o>=n&&o<=s||r>=i&&r<=l&&a>=n&&a<=s)return!0;if(x<i&&r>=i){if(u=o+(a-o)*(i-x)/(r-x),u>n&&u<=s)return!0}else if(x>l&&r<=l&&(u=o+(a-o)*(l-x)/(r-x),u>=n&&u<=s))return!0;if(o<n&&a>=n){if(u=x+(r-x)*(n-o)/(a-o),u>=i&&u<=l)return!0}else if(o>s&&a<=s&&(u=x+(r-x)*(s-o)/(a-o),u>=i&&u<=l))return!0;return!1};c.exports=E},16204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){x===void 0&&(x=1);var o=h.x1,r=h.y1,a=h.x2,i=h.y2,n=t.x,l=t.y,s=(a-o)*(a-o)+(i-r)*(i-r);if(s===0)return!1;var u=((n-o)*(a-o)+(l-r)*(i-r))/s;if(u<0)return Math.sqrt((o-n)*(o-n)+(r-l)*(r-l))<=x;if(u>=0&&u<=1){var f=((r-l)*(a-o)-(o-n)*(i-r))/s;return Math.abs(f)*Math.sqrt(s)<=x}else return Math.sqrt((a-n)*(a-n)+(i-l)*(i-l))<=x};c.exports=E},14199:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16204),x=function(o,r){if(!h(o,r))return!1;var a=Math.min(r.x1,r.x2),i=Math.max(r.x1,r.x2),n=Math.min(r.y1,r.y2),l=Math.max(r.y1,r.y2);return o.x>=a&&o.x<=i&&o.y>=n&&o.y<=l};c.exports=x},59996:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};c.exports=E},89265:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),x=t(37303),o=t(48653),r=t(77493),a=function(i,n){if(n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top)return!1;var l=n.getLineA(),s=n.getLineB(),u=n.getLineC();if(x(i,l.x1,l.y1)||x(i,l.x2,l.y2)||x(i,s.x1,s.y1)||x(i,s.x2,s.y2)||x(i,u.x1,u.y1)||x(i,u.x2,u.y2))return!0;var f=i.getLineA(),d=i.getLineB(),v=i.getLineC(),m=i.getLineD();if(h(l,f)||h(l,d)||h(l,v)||h(l,m)||h(s,f)||h(s,d)||h(s,v)||h(s,m)||h(u,f)||h(u,d)||h(u,v)||h(u,m))return!0;var y=r(i),T=o(n,y,!0);return T.length>0};c.exports=a},84411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r,a){return a===void 0&&(a=0),!(h>t.right+a||x<t.left-a||o>t.bottom+a||r<t.top-a)};c.exports=E},67636:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80462),x=t(10690),o=function(r,a){return r.left>a.right||r.right<a.left||r.top>a.bottom||r.bottom<a.top?!1:!!(x(r,a.x,a.y)||h(r.getLineA(),a)||h(r.getLineB(),a)||h(r.getLineC(),a))};c.exports=o},2822:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),x=function(o,r){return!!(o.contains(r.x1,r.y1)||o.contains(r.x2,r.y2)||h(o.getLineA(),r)||h(o.getLineB(),r)||h(o.getLineC(),r))};c.exports=x},82944:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48653),x=t(71694),o=t(76112),r=function(a,i){if(a.left>i.right||a.right<i.left||a.top>i.bottom||a.bottom<i.top)return!1;var n=a.getLineA(),l=a.getLineB(),s=a.getLineC(),u=i.getLineA(),f=i.getLineB(),d=i.getLineC();if(o(n,u)||o(n,f)||o(n,d)||o(l,u)||o(l,f)||o(l,d)||o(s,u)||o(s,f)||o(s,d))return!0;var v=x(a),m=h(i,v,!0);return m.length>0||(v=x(i),m=h(a,v,!0),m.length>0)};c.exports=r},91865:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};c.exports=E},84993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){h===void 0&&(h=1),x===void 0&&(x=[]);var o=Math.round(t.x1),r=Math.round(t.y1),a=Math.round(t.x2),i=Math.round(t.y2),n=Math.abs(a-o),l=Math.abs(i-r),s=o<a?1:-1,u=r<i?1:-1,f=n-l;x.push({x:o,y:r});for(var d=1;!(o===a&&r===i);){var v=f<<1;v>-l&&(f-=l,o+=s),v<n&&(f+=n,r+=u),d%h===0&&x.push({x:o,y:r}),d++}return x};c.exports=E},36469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=h-(t.x1+t.x2)/2,r=x-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=r,t.x2+=o,t.y2+=r,t};c.exports=E},31116:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031),x=function(o){return new h(o.x1,o.y1,o.x2,o.y2)};c.exports=x},59944:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};c.exports=E},59220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};c.exports=E},78177:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=function(o,r,a){a===void 0&&(a=r);var i=h(o),n=o.x2-o.x1,l=o.y2-o.y1;return r&&(o.x1=o.x1-n/i*r,o.y1=o.y1-l/i*r),a&&(o.x2=o.x2+n/i*a,o.y2=o.y2+l/i*a),o};c.exports=x},26708:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),x=t(6113),o=t(2141),r=function(a,i,n,l,s){l===void 0&&(l=0),s===void 0&&(s=[]);var u=[],f=a.x1,d=a.y1,v=a.x2-f,m=a.y2-d,y=x(i,s),T,S,A=n-1;for(T=0;T<A;T++)S=y(T/A),u.push(new o(f+v*S,d+m*S));if(S=y(1),u.push(new o(f+v*S,d+m*S)),l>0){var P=u[0],w=[P];for(T=1;T<u.length-1;T++){var M=u[T];h(P,M)>=l&&(w.push(M),P=M)}var D=u[u.length-1];return h(P,D)<l&&w.pop(),w.push(D),w}else return u};c.exports=r},32125:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){return r===void 0&&(r=new h),r.x=(o.x1+o.x2)/2,r.y=(o.y1+o.y2)/2,r};c.exports=x},99569:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r,a){a===void 0&&(a=new h);var i=o.x1,n=o.y1,l=o.x2,s=o.y2,u=(l-i)*(l-i)+(s-n)*(s-n);if(u===0)return a;var f=((r.x-i)*(l-i)+(r.y-n)*(s-n))/u;return a.x=i+f*(l-i),a.y=n+f*(s-n),a};c.exports=x},34638:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(91938),o=t(2141),r=function(a,i){i===void 0&&(i=new o);var n=x(a)-h.TAU;return i.x=Math.cos(n),i.y=Math.sin(n),i};c.exports=r},13151:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r,a){return a===void 0&&(a=new h),a.x=o.x1+(o.x2-o.x1)*r,a.y=o.y1+(o.y2-o.y1)*r,a};c.exports=x},15258:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=t(2141),o=function(r,a,i,n){n===void 0&&(n=[]),!a&&i>0&&(a=h(r)/i);for(var l=r.x1,s=r.y1,u=r.x2,f=r.y2,d=0;d<a;d++){var v=d/a,m=l+(u-l)*v,y=s+(f-s)*v;n.push(new x(m,y))}return n};c.exports=o},26408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.x1,o=t.y1,r=t.x2,a=t.y2,i=(r-x)*(r-x)+(a-o)*(a-o);if(i===0)return!1;var n=((o-h.y)*(r-x)-(x-h.x)*(a-o))/i;return Math.abs(n)*Math.sqrt(i)};c.exports=E},98770:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return Math.abs(t.y1-t.y2)};c.exports=E},35001:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};c.exports=E},23031:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(13151),o=t(15258),r=t(23777),a=t(65822),i=t(26099),n=new h({initialize:function(s,u,f,d){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=r.LINE,this.x1=s,this.y1=u,this.x2=f,this.y2=d},getPoint:function(l,s){return x(this,l,s)},getPoints:function(l,s,u){return o(this,l,s,u)},getRandomPoint:function(l){return a(this,l)},setTo:function(l,s,u,f){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),this.x1=l,this.y1=s,this.x2=u,this.y2=f,this},setFromObjects:function(l,s){return this.x1=l.x,this.y1=l.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(l){return l===void 0&&(l=new i),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new i),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});c.exports=n},64795:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(15994),o=t(91938),r=function(a){var i=o(a)-h.TAU;return x(i,-Math.PI,Math.PI)};c.exports=r},52616:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(91938),o=function(r){return Math.cos(x(r)-h.TAU)};c.exports=o},87231:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(91938),o=function(r){return Math.sin(x(r)-h.TAU)};c.exports=o},89662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t.x1+=h,t.y1+=x,t.x2+=h,t.y2+=x,t};c.exports=E},71165:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};c.exports=E},65822:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){r===void 0&&(r=new h);var a=Math.random();return r.x=o.x1+a*(o.x2-o.x1),r.y=o.y1+a*(o.y2-o.y1),r};c.exports=x},69777:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91938),x=t(64795),o=function(r,a){return 2*x(a)-Math.PI-h(r)};c.exports=o},39706:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),x=function(o,r){var a=(o.x1+o.x2)/2,i=(o.y1+o.y2)/2;return h(o,a,i,r)};c.exports=x},82585:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),x=function(o,r,a){return h(o,r.x,r.y,a)};c.exports=x},64400:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=Math.cos(o),a=Math.sin(o),i=t.x1-h,n=t.y1-x;return t.x1=i*r-n*a+h,t.y1=i*a+n*r+x,i=t.x2-h,n=t.y2-x,t.x2=i*r-n*a+h,t.y2=i*a+n*r+x,t};c.exports=E},62377:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r){return t.x1=h,t.y1=x,t.x2=h+Math.cos(o)*r,t.y2=x+Math.sin(o)*r,t};c.exports=E},71366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};c.exports=E},10809:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return Math.abs(t.x1-t.x2)};c.exports=E},2529:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031);h.Angle=t(91938),h.BresenhamPoints=t(84993),h.CenterOn=t(36469),h.Clone=t(31116),h.CopyFrom=t(59944),h.Equals=t(59220),h.Extend=t(78177),h.GetEasedPoints=t(26708),h.GetMidPoint=t(32125),h.GetNearestPoint=t(99569),h.GetNormal=t(34638),h.GetPoint=t(13151),h.GetPoints=t(15258),h.GetShortestDistance=t(26408),h.Height=t(98770),h.Length=t(35001),h.NormalAngle=t(64795),h.NormalX=t(52616),h.NormalY=t(87231),h.Offset=t(89662),h.PerpSlope=t(71165),h.Random=t(65822),h.ReflectAngle=t(69777),h.Rotate=t(39706),h.RotateAroundPoint=t(82585),h.RotateAroundXY=t(64400),h.SetToAngle=t(62377),h.Slope=t(71366),h.Width=t(10809),c.exports=h},83997:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(87841),o=t(26099);function r(i,n,l,s){var u=i-l,f=n-s,d=u*u+f*f;return Math.sqrt(d)}var a=new h({initialize:function(n,l,s){this.vertex1=n,this.vertex2=l,this.vertex3=s,this.bounds=new x,this._inCenter=new o},getInCenter:function(i){i===void 0&&(i=!0);var n=this.vertex1,l=this.vertex2,s=this.vertex3,u,f,d,v,m,y;i?(u=n.x,f=n.y,d=l.x,v=l.y,m=s.x,y=s.y):(u=n.vx,f=n.vy,d=l.vx,v=l.vy,m=s.vx,y=s.vy);var T=r(m,y,d,v),S=r(u,f,m,y),A=r(d,v,u,f),P=T+S+A;return this._inCenter.set((u*T+d*S+m*A)/P,(f*T+v*S+y*A)/P)},contains:function(i,n,l){var s=this.vertex1,u=this.vertex2,f=this.vertex3,d=s.vx,v=s.vy,m=u.vx,y=u.vy,T=f.vx,S=f.vy;if(l){var A=l.a,P=l.b,w=l.c,M=l.d,D=l.e,F=l.f;d=s.vx*A+s.vy*w+D,v=s.vx*P+s.vy*M+F,m=u.vx*A+u.vy*w+D,y=u.vx*P+u.vy*M+F,T=f.vx*A+f.vy*w+D,S=f.vx*P+f.vy*M+F}var L=T-d,O=S-v,B=m-d,U=y-v,W=i-d,H=n-v,Y=L*L+O*O,G=L*B+O*U,X=L*W+O*H,V=B*B+U*U,b=B*W+U*H,z=Y*V-G*G,$=z===0?0:1/z,Q=(V*X-G*b)*$,Z=(Y*b-G*X)*$;return Q>=0&&Z>=0&&Q+Z<1},isCounterClockwise:function(i){var n=this.vertex1,l=this.vertex2,s=this.vertex3,u=(l.vx-n.vx)*(s.vy-n.vy)-(l.vy-n.vy)*(s.vx-n.vx);return i<=0?u>=0:u<0},load:function(i,n,l,s,u){return l=this.vertex1.load(i,n,l,s,u),l=this.vertex2.load(i,n,l,s,u),l=this.vertex3.load(i,n,l,s,u),l},transformCoordinatesLocal:function(i,n,l,s){return this.vertex1.transformCoordinatesLocal(i,n,l,s),this.vertex2.transformCoordinatesLocal(i,n,l,s),this.vertex3.transformCoordinatesLocal(i,n,l,s),this},updateBounds:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3,s=this.bounds;return s.x=Math.min(i.vx,n.vx,l.vx),s.y=Math.min(i.vy,n.vy,l.vy),s.width=Math.max(i.vx,n.vx,l.vx)-s.x,s.height=Math.max(i.vy,n.vy,l.vy)-s.y,this},isInView:function(i,n,l,s,u,f,d,v,m,y,T){this.update(s,u,f,d,v,m,y,T);var S=this.vertex1,A=this.vertex2,P=this.vertex3;if(S.ta<=0&&A.ta<=0&&P.ta<=0||n&&!this.isCounterClockwise(l))return!1;var w=this.bounds;w.x=Math.min(S.tx,A.tx,P.tx),w.y=Math.min(S.ty,A.ty,P.ty),w.width=Math.max(S.tx,A.tx,P.tx)-w.x,w.height=Math.max(S.ty,A.ty,P.ty)-w.y;var M=i.x+i.width,D=i.y+i.height;return w.width<=0||w.height<=0||i.width<=0||i.height<=0?!1:!(w.right<i.x||w.bottom<i.y||w.x>M||w.y>D)},scrollUV:function(i,n){return this.vertex1.scrollUV(i,n),this.vertex2.scrollUV(i,n),this.vertex3.scrollUV(i,n),this},scaleUV:function(i,n){return this.vertex1.scaleUV(i,n),this.vertex2.scaleUV(i,n),this.vertex3.scaleUV(i,n),this},setColor:function(i){return this.vertex1.color=i,this.vertex2.color=i,this.vertex3.color=i,this},update:function(i,n,l,s,u,f,d,v){return this.vertex1.update(n,l,s,u,f,d,v,i),this.vertex2.update(n,l,s,u,f,d,v,i),this.vertex3.update(n,l,s,u,f,d,v,i),this},translate:function(i,n){n===void 0&&(n=0);var l=this.vertex1,s=this.vertex2,u=this.vertex3;return l.x+=i,l.y+=n,s.x+=i,s.y+=n,u.x+=i,u.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(i){var n=this.getInCenter();this.translate(i-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var n=this.getInCenter();this.translate(0,i-n.y)}},alpha:{get:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3;return(i.alpha+n.alpha+l.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3;return(i.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=a},48803:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),x=t(95540),o=t(37867),r=t(25836),a=t(39318),i=new r,n=new r,l=new o,s=function(u){var f=x(u,"mesh"),d=x(u,"texture",null),v=x(u,"frame"),m=x(u,"width",1),y=x(u,"height",m),T=x(u,"widthSegments",1),S=x(u,"heightSegments",T),A=x(u,"x",0),P=x(u,"y",0),w=x(u,"z",0),M=x(u,"rotateX",0),D=x(u,"rotateY",0),F=x(u,"rotateZ",0),L=x(u,"zIsUp",!0),O=x(u,"isOrtho",f?f.dirtyCache[11]:!1),B=x(u,"colors",[16777215]),U=x(u,"alphas",[1]),W=x(u,"tile",!1),H=x(u,"flipY",!1),Y=x(u,"width",null),G={faces:[],verts:[]};i.set(A,P,w),n.set(M,D,F),l.fromRotationXYTranslation(n,i,L);var X;if(!d&&f)d=f.texture,v||(X=f.frame);else if(f&&typeof d=="string")d=f.scene.sys.textures.get(d);else if(!d)return G;X||(X=d.get(v)),!Y&&O&&d&&f&&(m=X.width/f.height,y=X.height/f.height);var V=m/2,b=y/2,z=Math.floor(T),$=Math.floor(S),Q=z+1,Z=$+1,q=m/z,j=y/$,k=[],_=[],et,it,st=0,nt=1,ut=0,ft=1;X&&(st=X.u0,nt=X.u1,H?(ut=X.v1,ft=X.v0):(ut=X.v0,ft=X.v1));var ht=nt-st,rt=ft-ut;for(it=0;it<Z;it++){var lt=it*j-b;for(et=0;et<Q;et++){var dt=et*q-V;_.push(dt,-lt);var xt=st+ht*(et/z),yt=ut+rt*(it/$);k.push(xt,yt)}}Array.isArray(B)||(B=[B]),Array.isArray(U)||(U=[U]);var At=0,Et=0;for(it=0;it<$;it++)for(et=0;et<z;et++){var Lt=(et+Q*it)*2,zt=(et+Q*(it+1))*2,qt=(et+1+Q*(it+1))*2,Nt=(et+1+Q*it)*2,Zt=B[Et],le=U[At],jt=new a(_[Lt],_[Lt+1],0,k[Lt],k[Lt+1],Zt,le).transformMat4(l),Pe=new a(_[zt],_[zt+1],0,k[zt],k[zt+1],Zt,le).transformMat4(l),gi=new a(_[Nt],_[Nt+1],0,k[Nt],k[Nt+1],Zt,le).transformMat4(l),Ei=new a(_[zt],_[zt+1],0,k[zt],k[zt+1],Zt,le).transformMat4(l),Bi=new a(_[qt],_[qt+1],0,k[qt],k[qt+1],Zt,le).transformMat4(l),bi=new a(_[Nt],_[Nt+1],0,k[Nt],k[Nt+1],Zt,le).transformMat4(l);W&&(jt.setUVs(st,ft),Pe.setUVs(st,ut),gi.setUVs(nt,ft),Ei.setUVs(st,ut),Bi.setUVs(nt,ut),bi.setUVs(nt,ft)),Et++,Et===B.length&&(Et=0),At++,At===U.length&&(At=0),G.verts.push(jt,Pe,gi,Ei,Bi,bi),G.faces.push(new h(jt,Pe,gi),new h(Ei,Bi,bi))}return f&&(f.faces=f.faces.concat(G.faces),f.vertices=f.vertices.concat(G.verts)),G};c.exports=s},34684:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),x=t(37867),o=t(25836),r=t(39318),a=new o,i=new o,n=new x,l=function(s,u,f,d,v,m,y,T,S,A){f===void 0&&(f=1),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=0),S===void 0&&(S=0),A===void 0&&(A=!0);var P={faces:[],verts:[]},w=s.materials;a.set(d,v,m),i.set(y,T,S),n.fromRotationXYTranslation(i,a,A);for(var M=0;M<s.models.length;M++)for(var D=s.models[M],F=D.vertices,L=D.textureCoords,O=D.faces,B=0;B<O.length;B++){var U=O[B],W=U.vertices[0],H=U.vertices[1],Y=U.vertices[2],G=F[W.vertexIndex],X=F[H.vertexIndex],V=F[Y.vertexIndex],b=W.textureCoordsIndex,z=H.textureCoordsIndex,$=Y.textureCoordsIndex,Q=b===-1?{u:0,v:1}:L[b],Z=z===-1?{u:0,v:0}:L[z],q=$===-1?{u:1,v:1}:L[$],j=16777215;U.material!==""&&w[U.material]&&(j=w[U.material]);var k=new r(G.x*f,G.y*f,G.z*f,Q.u,Q.v,j).transformMat4(n),_=new r(X.x*f,X.y*f,X.z*f,Z.u,Z.v,j).transformMat4(n),et=new r(V.x*f,V.y*f,V.z*f,q.u,q.v,j).transformMat4(n);P.verts.push(k,_,et),P.faces.push(new h(k,_,et))}return u&&(u.faces=u.faces.concat(P.faces),u.vertices=u.vertices.concat(P.verts)),P};c.exports=l},92515:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),x=t(39318),o=function(r,a,i,n,l,s,u,f){if(n===void 0&&(n=!1),s===void 0&&(s=16777215),u===void 0&&(u=1),f===void 0&&(f=!1),r.length!==a.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},v,m,y,T,S,A,P,w,M,D,F,L=n?3:2,O=Array.isArray(s),B=Array.isArray(u);if(Array.isArray(i)&&i.length>0)for(v=0;v<i.length;v++){var U=i[v],W=i[v]*2,H=i[v]*L;m=r[H],y=r[H+1],T=n?r[H+2]:0,S=a[W],A=a[W+1],f&&(A=1-A),P=O?s[U]:s,w=B?u[U]:u,M=0,D=0,F=0,l&&(M=l[H],D=l[H+1],F=n?l[H+2]:0),d.vertices.push(new x(m,y,T,S,A,P,w,M,D,F))}else{var Y=0,G=0;for(v=0;v<r.length;v+=L)m=r[v],y=r[v+1],T=n?r[v+2]:0,S=a[Y],A=a[Y+1],P=O?s[G]:s,w=B?u[G]:u,M=0,D=0,F=0,l&&(M=l[v],D=l[v+1],F=n?l[v+2]:0),d.vertices.push(new x(m,y,T,S,A,P,w,M,D,F)),Y+=2,G++}for(v=0;v<d.vertices.length;v+=3){var X=d.vertices[v],V=d.vertices[v+1],b=d.vertices[v+2];d.faces.push(new h(X,V,b))}return d};c.exports=o},85048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=!0,t="untitled",h="",x="";function o(m){var y=m.indexOf("#");return y>-1?m.substring(0,y):m}function r(m){return m.models.length===0&&m.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",m.models[m.models.length-1]}function a(m,y){var T=m.length>=2?m[1]:t;y.models.push({faces:[],name:T,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function i(m){m.length===2&&(h=m[1])}function n(m,y){var T=m.length,S=T>=2?parseFloat(m[1]):0,A=T>=3?parseFloat(m[2]):0,P=T>=4?parseFloat(m[3]):0;r(y).vertices.push({x:S,y:A,z:P})}function l(m,y){var T=m.length,S=T>=2?parseFloat(m[1]):0,A=T>=3?parseFloat(m[2]):0,P=T>=4?parseFloat(m[3]):0;isNaN(S)&&(S=0),isNaN(A)&&(A=0),isNaN(P)&&(P=0),E&&(A=1-A),r(y).textureCoords.push({u:S,v:A,w:P})}function s(m,y){var T=m.length,S=T>=2?parseFloat(m[1]):0,A=T>=3?parseFloat(m[2]):0,P=T>=4?parseFloat(m[3]):0;r(y).vertexNormals.push({x:S,y:A,z:P})}function u(m,y){var T=m.length-1;if(!(T<3)){for(var S={group:h,material:x,vertices:[]},A=0;A<T;A++){var P=m[A+1],w=P.split("/"),M=w.length;if(!(M<1||M>3)){var D=0,F=0,L=0;D=parseInt(w[0],10),M>1&&w[1]!==""&&(F=parseInt(w[1],10)),M>2&&(L=parseInt(w[2],10)),D!==0&&(D<0&&(D=r(y).vertices.length+1+D),F-=1,D-=1,L-=1,S.vertices.push({textureCoordsIndex:F,vertexIndex:D,vertexNormalIndex:L}))}}r(y).faces.push(S)}}function f(m,y){m.length>=2&&y.materialLibraries.push(m[1])}function d(m){m.length>=2&&(x=m[1])}var v=function(m,y){y===void 0&&(y=!0),E=y;var T={materials:{},materialLibraries:[],models:[]};h="",x="";for(var S=m.split(`
`),A=0;A<S.length;A++){var P=o(S[A]),w=P.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":a(w,T);break;case"g":i(w);break;case"v":n(w,T);break;case"vt":l(w,T);break;case"vn":s(w,T);break;case"f":u(w,T);break;case"mtllib":f(w,T);break;case"usemtl":d(w);break}}return T};c.exports=v},61485:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),x=function(o){for(var r={},a=o.split(`
`),i="",n=0;n<a.length;n++){var l=a[n].trim();if(!(l.indexOf("#")===0||l==="")){var s=l.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{i=s[1];break}case"kd":{var u=Math.floor(s[1]*255),f=s.length>=2?Math.floor(s[2]*255):u,d=s.length>=3?Math.floor(s[3]*255):u;r[i]=h(u,f,d);break}}}}return r};c.exports=x},92570:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r,a;if(x===void 0&&o===void 0){var i=t.getInCenter();r=i.x,a=i.y}var n=Math.cos(h),l=Math.sin(h),s=t.vertex1,u=t.vertex2,f=t.vertex3,d=s.x-r,v=s.y-a;s.set(d*n-v*l+r,d*l+v*n+a),d=u.x-r,v=u.y-a,u.set(d*n-v*l+r,d*l+v*n+a),d=f.x-r,v=f.y-a,f.set(d*n-v*l+r,d*l+v*n+a)};c.exports=E},39318:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(70554),o=t(25836),r=new h({Extends:o,initialize:function(i,n,l,s,u,f,d,v,m,y){f===void 0&&(f=16777215),d===void 0&&(d=1),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),o.call(this,i,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=m,this.nz=y,this.u=s,this.v=u,this.color=f,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=u},setUVs:function(a,i){return this.u=a,this.v=i,this.tu=a,this.tv=i,this},scrollUV:function(a,i){return this.tu+=a,this.tv+=i,this},scaleUV:function(a,i){return this.tu=this.u*a,this.tv=this.v*i,this},transformCoordinatesLocal:function(a,i,n,l){var s=this.x,u=this.y,f=this.z,d=a.val,v=s*d[0]+u*d[4]+f*d[8]+d[12],m=s*d[1]+u*d[5]+f*d[9]+d[13],y=s*d[2]+u*d[6]+f*d[10]+d[14],T=s*d[3]+u*d[7]+f*d[11]+d[15];this.vx=v/T*i,this.vy=-(m/T)*n,l<=0?this.vz=y/T:this.vz=-(y/T)},resize:function(a,i,n,l,s,u){return this.x=a,this.y=i,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,s<.5?this.vx+=n*(.5-s):s>.5&&(this.vx-=n*(s-.5)),u<.5?this.vy+=l*(.5-u):u>.5&&(this.vy-=l*(u-.5)),this},update:function(a,i,n,l,s,u,f,d){var v=this.vx*a+this.vy*n+s,m=this.vx*i+this.vy*l+u;return f&&(v=Math.round(v),m=Math.round(m)),this.tx=v,this.ty=m,this.ta=this.alpha*d,this},load:function(a,i,n,l,s){return a[++n]=this.tx,a[++n]=this.ty,a[++n]=this.tu,a[++n]=this.tv,a[++n]=l,a[++n]=s,i[++n]=x.getTintAppendFloatAlpha(this.color,this.ta),n}});c.exports=r},73090:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};c.exports=h},96550:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};c.exports=E},99706:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o){return new h(o.x,o.y)};c.exports=x},68010:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h.setTo(t.x,t.y)};c.exports=E},27814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x===h.x&&t.y===h.y};c.exports=E},73565:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};c.exports=E},87555:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){if(r===void 0&&(r=new h),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var a=o.length;if(a<1)throw new Error("GetCentroid points array must not be empty");if(a===1)r.x=o[0].x,r.y=o[0].y;else{for(var i=0;i<a;i++)r.x+=o[i].x,r.y+=o[i].y;r.x/=a,r.y/=a}return r};c.exports=x},28793:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};c.exports=E},44405:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.x*t.x+t.y*t.y};c.exports=E},20873:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,r){r===void 0&&(r=new h);for(var a=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,s=0;s<o.length;s++){var u=o[s];u.x>a&&(a=u.x),u.x<i&&(i=u.x),u.y>n&&(n=u.y),u.y<l&&(l=u.y)}return r.x=i,r.y=l,r.width=a-i,r.height=n-l,r};c.exports=x},26152:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r,a,i){return a===void 0&&(a=0),i===void 0&&(i=new h),i.x=o.x+(r.x-o.x)*a,i.y=o.y+(r.y-o.y)*a,i};c.exports=x},55767:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.setTo(t.y,t.x)};c.exports=E},79432:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){return r===void 0&&(r=new h),r.setTo(-o.x,-o.y)};c.exports=x},2141:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23777),o=new h({initialize:function(a,i){a===void 0&&(a=0),i===void 0&&(i=a),this.type=x.POINT,this.x=a,this.y=i},setTo:function(r,a){return r===void 0&&(r=0),a===void 0&&(a=r),this.x=r,this.y=a,this}});c.exports=o},72930:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(44405),o=function(r,a,i){i===void 0&&(i=new h);var n=r.x*a.x+r.y*a.y,l=n/x(a);return l!==0&&(i.x=l*a.x,i.y=l*a.y),i};c.exports=o},62880:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r,a){a===void 0&&(a=new h);var i=o.x*r.x+o.y*r.y;return i!==0&&(a.x=i*r.x,a.y=i*r.y),a};c.exports=x},15093:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28793),x=function(o,r){if(o.x!==0||o.y!==0){var a=h(o);o.x/=a,o.y/=a}return o.x*=r,o.y*=r,o};c.exports=x},43711:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);h.Ceil=t(96550),h.Clone=t(99706),h.CopyFrom=t(68010),h.Equals=t(27814),h.Floor=t(73565),h.GetCentroid=t(87555),h.GetMagnitude=t(28793),h.GetMagnitudeSq=t(44405),h.GetRectangleFromPoints=t(20873),h.Interpolate=t(26152),h.Invert=t(55767),h.Negative=t(79432),h.Project=t(72930),h.ProjectUnit=t(62880),h.SetMagnitude=t(15093),c.exports=h},12306:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717),x=function(o){return new h(o.points)};c.exports=x},63814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){for(var o=!1,r=-1,a=t.points.length-1;++r<t.points.length;a=r){var i=t.points[r].x,n=t.points[r].y,l=t.points[a].x,s=t.points[a].y;(n<=x&&x<s||s<=x&&x<n)&&h<(l-i)*(x-n)/(s-n)+i&&(o=!o)}return o};c.exports=E},99338:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63814),x=function(o,r){return h(o,r.x,r.y)};c.exports=x},94811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function E(G,X,V){V=V||2;var b=X&&X.length,z=b?X[0]*V:G.length,$=t(G,0,z,V,!0),Q=[];if(!$||$.next===$.prev)return Q;var Z,q,j,k,_,et,it;if(b&&($=n(G,X,$,V)),G.length>80*V){Z=j=G[0],q=k=G[1];for(var st=V;st<z;st+=V)_=G[st],et=G[st+1],_<Z&&(Z=_),et<q&&(q=et),_>j&&(j=_),et>k&&(k=et);it=Math.max(j-Z,k-q),it=it!==0?32767/it:0}return x($,Q,V,Z,q,it,0),Q}function t(G,X,V,b,z){var $,Q;if(z===Y(G,X,V,b)>0)for($=X;$<V;$+=b)Q=U($,G[$],G[$+1],Q);else for($=V-b;$>=X;$-=b)Q=U($,G[$],G[$+1],Q);return Q&&P(Q,Q.next)&&(W(Q),Q=Q.next),Q}function h(G,X){if(!G)return G;X||(X=G);var V=G,b;do if(b=!1,!V.steiner&&(P(V,V.next)||A(V.prev,V,V.next)===0)){if(W(V),V=X=V.prev,V===V.next)break;b=!0}else V=V.next;while(b||V!==X);return X}function x(G,X,V,b,z,$,Q){if(G){!Q&&$&&d(G,b,z,$);for(var Z=G,q,j;G.prev!==G.next;){if(q=G.prev,j=G.next,$?r(G,b,z,$):o(G)){X.push(q.i/V|0),X.push(G.i/V|0),X.push(j.i/V|0),W(G),G=j.next,Z=j.next;continue}if(G=j,G===Z){Q?Q===1?(G=a(h(G),X,V),x(G,X,V,b,z,$,2)):Q===2&&i(G,X,V,b,z,$):x(h(G),X,V,b,z,$,1);break}}}}function o(G){var X=G.prev,V=G,b=G.next;if(A(X,V,b)>=0)return!1;for(var z=X.x,$=V.x,Q=b.x,Z=X.y,q=V.y,j=b.y,k=z<$?z<Q?z:Q:$<Q?$:Q,_=Z<q?Z<j?Z:j:q<j?q:j,et=z>$?z>Q?z:Q:$>Q?$:Q,it=Z>q?Z>j?Z:j:q>j?q:j,st=b.next;st!==X;){if(st.x>=k&&st.x<=et&&st.y>=_&&st.y<=it&&T(z,Z,$,q,Q,j,st.x,st.y)&&A(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}function r(G,X,V,b){var z=G.prev,$=G,Q=G.next;if(A(z,$,Q)>=0)return!1;for(var Z=z.x,q=$.x,j=Q.x,k=z.y,_=$.y,et=Q.y,it=Z<q?Z<j?Z:j:q<j?q:j,st=k<_?k<et?k:et:_<et?_:et,nt=Z>q?Z>j?Z:j:q>j?q:j,ut=k>_?k>et?k:et:_>et?_:et,ft=m(it,st,X,V,b),ht=m(nt,ut,X,V,b),rt=G.prevZ,lt=G.nextZ;rt&&rt.z>=ft&&lt&&lt.z<=ht;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=ut&&rt!==z&&rt!==Q&&T(Z,k,q,_,j,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0||(rt=rt.prevZ,lt.x>=it&&lt.x<=nt&&lt.y>=st&&lt.y<=ut&&lt!==z&&lt!==Q&&T(Z,k,q,_,j,et,lt.x,lt.y)&&A(lt.prev,lt,lt.next)>=0))return!1;lt=lt.nextZ}for(;rt&&rt.z>=ft;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=ut&&rt!==z&&rt!==Q&&T(Z,k,q,_,j,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0)return!1;rt=rt.prevZ}for(;lt&&lt.z<=ht;){if(lt.x>=it&&lt.x<=nt&&lt.y>=st&&lt.y<=ut&&lt!==z&&lt!==Q&&T(Z,k,q,_,j,et,lt.x,lt.y)&&A(lt.prev,lt,lt.next)>=0)return!1;lt=lt.nextZ}return!0}function a(G,X,V){var b=G;do{var z=b.prev,$=b.next.next;!P(z,$)&&w(z,b,b.next,$)&&L(z,$)&&L($,z)&&(X.push(z.i/V|0),X.push(b.i/V|0),X.push($.i/V|0),W(b),W(b.next),b=G=$),b=b.next}while(b!==G);return h(b)}function i(G,X,V,b,z,$){var Q=G;do{for(var Z=Q.next.next;Z!==Q.prev;){if(Q.i!==Z.i&&S(Q,Z)){var q=B(Q,Z);Q=h(Q,Q.next),q=h(q,q.next),x(Q,X,V,b,z,$,0),x(q,X,V,b,z,$,0);return}Z=Z.next}Q=Q.next}while(Q!==G)}function n(G,X,V,b){var z=[],$,Q,Z,q,j;for($=0,Q=X.length;$<Q;$++)Z=X[$]*b,q=$<Q-1?X[$+1]*b:G.length,j=t(G,Z,q,b,!1),j===j.next&&(j.steiner=!0),z.push(y(j));for(z.sort(l),$=0;$<z.length;$++)V=s(z[$],V);return V}function l(G,X){return G.x-X.x}function s(G,X){var V=u(G,X);if(!V)return X;var b=B(V,G);return h(b,b.next),h(V,V.next)}function u(G,X){var V=X,b=G.x,z=G.y,$=-1/0,Q;do{if(z<=V.y&&z>=V.next.y&&V.next.y!==V.y){var Z=V.x+(z-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Z<=b&&Z>$&&($=Z,Q=V.x<V.next.x?V:V.next,Z===b))return Q}V=V.next}while(V!==X);if(!Q)return null;var q=Q,j=Q.x,k=Q.y,_=1/0,et;V=Q;do b>=V.x&&V.x>=j&&b!==V.x&&T(z<k?b:$,z,j,k,z<k?$:b,z,V.x,V.y)&&(et=Math.abs(z-V.y)/(b-V.x),L(V,G)&&(et<_||et===_&&(V.x>Q.x||V.x===Q.x&&f(Q,V)))&&(Q=V,_=et)),V=V.next;while(V!==q);return Q}function f(G,X){return A(G.prev,G,X.prev)<0&&A(X.next,G,G.next)<0}function d(G,X,V,b){var z=G;do z.z===0&&(z.z=m(z.x,z.y,X,V,b)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==G);z.prevZ.nextZ=null,z.prevZ=null,v(z)}function v(G){var X,V,b,z,$,Q,Z,q,j=1;do{for(V=G,G=null,$=null,Q=0;V;){for(Q++,b=V,Z=0,X=0;X<j&&(Z++,b=b.nextZ,!!b);X++);for(q=j;Z>0||q>0&&b;)Z!==0&&(q===0||!b||V.z<=b.z)?(z=V,V=V.nextZ,Z--):(z=b,b=b.nextZ,q--),$?$.nextZ=z:G=z,z.prevZ=$,$=z;V=b}$.nextZ=null,j*=2}while(Q>1);return G}function m(G,X,V,b,z){return G=(G-V)*z|0,X=(X-b)*z|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,G|X<<1}function y(G){var X=G,V=G;do(X.x<V.x||X.x===V.x&&X.y<V.y)&&(V=X),X=X.next;while(X!==G);return V}function T(G,X,V,b,z,$,Q,Z){return(z-Q)*(X-Z)>=(G-Q)*($-Z)&&(G-Q)*(b-Z)>=(V-Q)*(X-Z)&&(V-Q)*($-Z)>=(z-Q)*(b-Z)}function S(G,X){return G.next.i!==X.i&&G.prev.i!==X.i&&!F(G,X)&&(L(G,X)&&L(X,G)&&O(G,X)&&(A(G.prev,G,X.prev)||A(G,X.prev,X))||P(G,X)&&A(G.prev,G,G.next)>0&&A(X.prev,X,X.next)>0)}function A(G,X,V){return(X.y-G.y)*(V.x-X.x)-(X.x-G.x)*(V.y-X.y)}function P(G,X){return G.x===X.x&&G.y===X.y}function w(G,X,V,b){var z=D(A(G,X,V)),$=D(A(G,X,b)),Q=D(A(V,b,G)),Z=D(A(V,b,X));return!!(z!==$&&Q!==Z||z===0&&M(G,V,X)||$===0&&M(G,b,X)||Q===0&&M(V,G,b)||Z===0&&M(V,X,b))}function M(G,X,V){return X.x<=Math.max(G.x,V.x)&&X.x>=Math.min(G.x,V.x)&&X.y<=Math.max(G.y,V.y)&&X.y>=Math.min(G.y,V.y)}function D(G){return G>0?1:G<0?-1:0}function F(G,X){var V=G;do{if(V.i!==G.i&&V.next.i!==G.i&&V.i!==X.i&&V.next.i!==X.i&&w(V,V.next,G,X))return!0;V=V.next}while(V!==G);return!1}function L(G,X){return A(G.prev,G,G.next)<0?A(G,X,G.next)>=0&&A(G,G.prev,X)>=0:A(G,X,G.prev)<0||A(G,G.next,X)<0}function O(G,X){var V=G,b=!1,z=(G.x+X.x)/2,$=(G.y+X.y)/2;do V.y>$!=V.next.y>$&&V.next.y!==V.y&&z<(V.next.x-V.x)*($-V.y)/(V.next.y-V.y)+V.x&&(b=!b),V=V.next;while(V!==G);return b}function B(G,X){var V=new H(G.i,G.x,G.y),b=new H(X.i,X.x,X.y),z=G.next,$=X.prev;return G.next=X,X.prev=G,V.next=z,z.prev=V,b.next=V,V.prev=b,$.next=b,b.prev=$,b}function U(G,X,V,b){var z=new H(G,X,V);return b?(z.next=b.next,z.prev=b,b.next.prev=z,b.next=z):(z.prev=z,z.next=z),z}function W(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function H(G,X,V){this.i=G,this.x=X,this.y=V,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}E.deviation=function(G,X,V,b){var z=X&&X.length,$=z?X[0]*V:G.length,Q=Math.abs(Y(G,0,$,V));if(z)for(var Z=0,q=X.length;Z<q;Z++){var j=X[Z]*V,k=Z<q-1?X[Z+1]*V:G.length;Q-=Math.abs(Y(G,j,k,V))}var _=0;for(Z=0;Z<b.length;Z+=3){var et=b[Z]*V,it=b[Z+1]*V,st=b[Z+2]*V;_+=Math.abs((G[et]-G[st])*(G[it+1]-G[et+1])-(G[et]-G[it])*(G[st+1]-G[et+1]))}return Q===0&&_===0?0:Math.abs((_-Q)/Q)};function Y(G,X,V,b){for(var z=0,$=X,Q=V-b;$<V;$+=b)z+=(G[Q]-G[$])*(G[$+1]+G[Q+1]),Q=$;return z}E.flatten=function(G){for(var X=G[0][0].length,V={vertices:[],holes:[],dimensions:X},b=0,z=0;z<G.length;z++){for(var $=0;$<G[z].length;$++)for(var Q=0;Q<X;Q++)V.vertices.push(G[z][$][Q]);z>0&&(b+=G[z-1].length,V.holes.push(b))}return V},c.exports=E},13829:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,r){r===void 0&&(r=new h);for(var a=1/0,i=1/0,n=-a,l=-i,s,u=0;u<o.points.length;u++)s=o.points[u],a=Math.min(a,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x),l=Math.max(l,s.y);return r.x=a,r.y=i,r.width=n-a,r.height=l-i,r};c.exports=x},26173:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=[]);for(var x=0;x<t.points.length;x++)h.push(t.points[x].x),h.push(t.points[x].y);return h};c.exports=E},9564:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=t(23031),o=t(30052),r=function(a,i,n,l){l===void 0&&(l=[]);var s=a.points,u=o(a);!i&&n>0&&(i=u/n);for(var f=0;f<i;f++)for(var d=u*(f/i),v=0,m=0;m<s.length;m++){var y=s[m],T=s[(m+1)%s.length],S=new x(y.x,y.y,T.x,T.y),A=h(S);if(d<v||d>v+A){v+=A;continue}var P=S.getPoint((d-v)/A);l.push(P);break}return l};c.exports=r},30052:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=t(23031),o=function(r){for(var a=r.points,i=0,n=0;n<a.length;n++){var l=a[n],s=a[(n+1)%a.length],u=new x(l.x,l.y,s.x,s.y);i+=h(u)}return i};c.exports=o},25717:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(63814),o=t(9564),r=t(23777),a=new h({initialize:function(n){this.type=r.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(i,n){return x(this,i,n)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var n,l=0;l<i.length;l++)n={x:0,y:0},typeof i[l]=="number"||typeof i[l]=="string"?(n.x=parseFloat(i[l]),n.y=parseFloat(i[l+1]),l++):Array.isArray(i[l])?(n.x=i[l][0],n.y=i[l][1]):(n.x=i[l].x,n.y=i[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,n,l,s=0;s<this.points.length-1;s++)n=this.points[s],l=this.points[s+1],i+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],i+=(n.x-l.x)*(l.y+n.y),this.area=-i*.5,this.area},getPoints:function(i,n,l){return o(this,i,n,l)}});c.exports=a},8133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.points.reverse(),t};c.exports=E},29524:c=>{function E(a,i){var n=a.x-i.x,l=a.y-i.y;return n*n+l*l}function t(a,i,n){var l=i.x,s=i.y,u=n.x-l,f=n.y-s;if(u!==0||f!==0){var d=((a.x-l)*u+(a.y-s)*f)/(u*u+f*f);d>1?(l=n.x,s=n.y):d>0&&(l+=u*d,s+=f*d)}return u=a.x-l,f=a.y-s,u*u+f*f}function h(a,i){for(var n=a[0],l=[n],s,u=1,f=a.length;u<f;u++)s=a[u],E(s,n)>i&&(l.push(s),n=s);return n!==s&&l.push(s),l}function x(a,i,n,l,s){for(var u=l,f,d=i+1;d<n;d++){var v=t(a[d],a[i],a[n]);v>u&&(f=d,u=v)}u>l&&(f-i>1&&x(a,i,f,l,s),s.push(a[f]),n-f>1&&x(a,f,n,l,s))}function o(a,i){var n=a.length-1,l=[a[0]];return x(a,0,n,i,l),l.push(a[n]),l}var r=function(a,i,n){i===void 0&&(i=1),n===void 0&&(n=!1);var l=a.points;if(l.length>2){var s=i*i;n||(l=h(l,s)),a.setTo(o(l,s))}return a};c.exports=r},5469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(h,x){return h[0]=x[0],h[1]=x[1],h},t=function(h){var x,o=[],r=h.points;for(x=0;x<r.length;x++)o.push([r[x].x,r[x].y]);var a=[];for(o.length>0&&a.push(E([0,0],o[0])),x=0;x<o.length-1;x++){var i=o[x],n=o[x+1],l=i[0],s=i[1],u=n[0],f=n[1];a.push([.85*l+.15*u,.85*s+.15*f]),a.push([.15*l+.85*u,.15*s+.85*f])}return o.length>1&&a.push(E([0,0],o[o.length-1])),h.setTo(a)};c.exports=t},24709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){for(var o=t.points,r=0;r<o.length;r++)o[r].x+=h,o[r].y+=x;return t};c.exports=E},58423:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717);h.Clone=t(12306),h.Contains=t(63814),h.ContainsPoint=t(99338),h.Earcut=t(94811),h.GetAABB=t(13829),h.GetNumberArray=t(26173),h.GetPoints=t(9564),h.Perimeter=t(30052),h.Reverse=t(8133),h.Simplify=t(29524),h.Smooth=t(5469),h.Translate=t(24709),c.exports=h},62224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.width*t.height};c.exports=E},98615:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};c.exports=E},31688:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};c.exports=E},67502:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t.x=h-t.width/2,t.y=x-t.height/2,t};c.exports=E},65085:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o){return new h(o.x,o.y,o.width,o.height)};c.exports=x},37303:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=x&&t.y+t.height>=x};c.exports=E},96553:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37303),x=function(o,r){return h(o,r.x,r.y)};c.exports=x},70273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};c.exports=E},43459:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};c.exports=E},77493:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};c.exports=E},9219:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};c.exports=E},53751:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),x=function(o,r){var a=h(o);return a<h(r)?o.setSize(r.height*a,r.height):o.setSize(r.width,r.width/a),o.setPosition(r.centerX-o.width/2,r.centerY-o.height/2)};c.exports=x},16088:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),x=function(o,r){var a=h(o);return a>h(r)?o.setSize(r.height*a,r.height):o.setSize(r.width,r.width/a),o.setPosition(r.centerX-o.width/2,r.centerY-o.height/2)};c.exports=x},80774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};c.exports=E},83859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};c.exports=E},19217:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(36383),o=function(r,a){if(a===void 0&&(a=new h),r.length===0)return a;for(var i=Number.MAX_VALUE,n=Number.MAX_VALUE,l=x.MIN_SAFE_INTEGER,s=x.MIN_SAFE_INTEGER,u,f,d,v=0;v<r.length;v++)u=r[v],Array.isArray(u)?(f=u[0],d=u[1]):(f=u.x,d=u.y),i=Math.min(i,f),n=Math.min(n,d),l=Math.max(l,f),s=Math.max(s,d);return a.x=i,a.y=n,a.width=l-i,a.height=s-n,a};c.exports=o},9477:(c,E,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,r,a,i,n){return n===void 0&&(n=new h),n.setTo(Math.min(o,a),Math.min(r,i),Math.abs(o-a),Math.abs(r-i))};c.exports=x},8249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.height===0?NaN:t.width/t.height};c.exports=E},27165:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){return r===void 0&&(r=new h),r.x=o.centerX,r.y=o.centerY,r};c.exports=x},20812:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),x=t(2141),o=function(r,a,i){if(i===void 0&&(i=new x),a<=0||a>=1)return i.x=r.x,i.y=r.y,i;var n=h(r)*a;return a>.5?(n-=r.width+r.height,n<=r.width?(i.x=r.right-n,i.y=r.bottom):(i.x=r.x,i.y=r.bottom-(n-r.width))):n<=r.width?(i.x=r.x+n,i.y=r.y):(i.x=r.right,i.y=r.y+(n-r.width)),i};c.exports=o},34819:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20812),x=t(13019),o=function(r,a,i,n){n===void 0&&(n=[]),!a&&i>0&&(a=x(r)/i);for(var l=0;l<a;l++){var s=l/a;n.push(h(r,s))}return n};c.exports=o},51313:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){return r===void 0&&(r=new h),r.x=o.width,r.y=o.height,r};c.exports=x},86091:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67502),x=function(o,r,a){var i=o.centerX,n=o.centerY;return o.setSize(o.width+r*2,o.height+a*2),h(o,i,n)};c.exports=x},53951:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(59996),o=function(r,a,i){return i===void 0&&(i=new h),x(r,a)?(i.x=Math.max(r.x,a.x),i.y=Math.max(r.y,a.y),i.width=Math.min(r.right,a.right)-i.x,i.height=Math.min(r.bottom,a.bottom)-i.y):i.setEmpty(),i};c.exports=o},14649:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),x=t(2141),o=function(r,a,i,n){if(n===void 0&&(n=[]),!a&&!i)return n;a?i=Math.round(h(r)/a):a=h(r)/i;for(var l=r.x,s=r.y,u=0,f=0;f<i;f++)switch(n.push(new x(l,s)),u){case 0:l+=a,l>=r.right&&(u=1,s+=l-r.right,l=r.right);break;case 1:s+=a,s>=r.bottom&&(u=2,l-=s-r.bottom,s=r.bottom);break;case 2:l-=a,l<=r.left&&(u=3,s-=r.left-l,l=r.left);break;case 3:s-=a,s<=r.top&&(u=0,s=r.top);break}return n};c.exports=o},33595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){for(var x=t.x,o=t.right,r=t.y,a=t.bottom,i=0;i<h.length;i++)x=Math.min(x,h[i].x),o=Math.max(o,h[i].x),r=Math.min(r,h[i].y),a=Math.max(a,h[i].y);return t.x=x,t.y=r,t.width=o-x,t.height=a-r,t};c.exports=E},20074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=Math.min(t.x,h.x),o=Math.max(t.right,h.right);t.x=x,t.width=o-x;var r=Math.min(t.y,h.y),a=Math.max(t.bottom,h.bottom);return t.y=r,t.height=a-r,t};c.exports=E},92171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=Math.min(t.x,h),r=Math.max(t.right,h);t.x=o,t.width=r-o;var a=Math.min(t.y,x),i=Math.max(t.bottom,x);return t.y=a,t.height=i-a,t};c.exports=E},42981:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t.x+=h,t.y+=x,t};c.exports=E},46907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x+=h.x,t.y+=h.y,t};c.exports=E},60170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};c.exports=E},13019:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return 2*(t.width+t.height)};c.exports=E},85133:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(39506),o=function(r,a,i){i===void 0&&(i=new h),a=x(a);var n=Math.sin(a),l=Math.cos(a),s=l>0?r.width/2:r.width/-2,u=n>0?r.height/2:r.height/-2;return Math.abs(s*n)<Math.abs(u*l)?u=s*n/l:s=u*l/n,i.x=s+r.centerX,i.y=u+r.centerY,i};c.exports=o},26597:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){return r===void 0&&(r=new h),r.x=o.x+Math.random()*o.width,r.y=o.y+Math.random()*o.height,r};c.exports=x},86470:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),x=t(70273),o=t(2141),r=function(a,i,n){if(n===void 0&&(n=new o),x(a,i))switch(h(0,3)){case 0:n.x=a.x+Math.random()*(i.right-a.x),n.y=a.y+Math.random()*(i.top-a.y);break;case 1:n.x=i.x+Math.random()*(a.right-i.x),n.y=i.bottom+Math.random()*(a.bottom-i.bottom);break;case 2:n.x=a.x+Math.random()*(i.x-a.x),n.y=i.y+Math.random()*(a.bottom-i.y);break;case 3:n.x=i.right+Math.random()*(a.right-i.right),n.y=a.y+Math.random()*(i.bottom-a.y);break}return n};c.exports=r},87841:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37303),o=t(20812),r=t(34819),a=t(23777),i=t(23031),n=t(26597),l=new h({initialize:function(u,f,d,v){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=a.RECTANGLE,this.x=u,this.y=f,this.width=d,this.height=v},contains:function(s,u){return x(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,f){return r(this,s,u,f)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,f,d){return this.x=s,this.y=u,this.width=f,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,u){return u===void 0&&(u=s),this.x=s,this.y=u,this},setSize:function(s,u){return u===void 0&&(u=s),this.width=s,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});c.exports=l},94845:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.width===h.width&&t.height===h.height};c.exports=E},31730:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return x===void 0&&(x=h),t.width*=h,t.height*=x,t};c.exports=E},36899:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,r,a){a===void 0&&(a=new h);var i=Math.min(o.x,r.x),n=Math.min(o.y,r.y),l=Math.max(o.right,r.right)-i,s=Math.max(o.bottom,r.bottom)-n;return a.setTo(i,n,l,s)};c.exports=x},93232:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841);h.Area=t(62224),h.Ceil=t(98615),h.CeilAll=t(31688),h.CenterOn=t(67502),h.Clone=t(65085),h.Contains=t(37303),h.ContainsPoint=t(96553),h.ContainsRect=t(70273),h.CopyFrom=t(43459),h.Decompose=t(77493),h.Equals=t(9219),h.FitInside=t(53751),h.FitOutside=t(16088),h.Floor=t(80774),h.FloorAll=t(83859),h.FromPoints=t(19217),h.FromXY=t(9477),h.GetAspectRatio=t(8249),h.GetCenter=t(27165),h.GetPoint=t(20812),h.GetPoints=t(34819),h.GetSize=t(51313),h.Inflate=t(86091),h.Intersection=t(53951),h.MarchingAnts=t(14649),h.MergePoints=t(33595),h.MergeRect=t(20074),h.MergeXY=t(92171),h.Offset=t(42981),h.OffsetPoint=t(46907),h.Overlaps=t(60170),h.Perimeter=t(13019),h.PerimeterPoint=t(85133),h.Random=t(26597),h.RandomOutside=t(86470),h.SameDimensions=t(94845),h.Scale=t(31730),h.Union=t(36899),c.exports=h},41658:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=t.x1,x=t.y1,o=t.x2,r=t.y2,a=t.x3,i=t.y3;return Math.abs(((a-h)*(r-x)-(o-h)*(i-x))/2)};c.exports=E},39208:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),x=function(o,r,a){var i=a*(Math.sqrt(3)/2),n=o,l=r,s=o+a/2,u=r+i,f=o-a/2,d=r+i;return new h(n,l,s,u,f,d)};c.exports=x},39545:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94811),x=t(16483),o=function(r,a,i,n,l){a===void 0&&(a=null),i===void 0&&(i=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var s=h(r,a),u,f,d,v,m,y,T,S,A,P=0;P<s.length;P+=3)u=s[P],f=s[P+1],d=s[P+2],v=r[u*2]*i,m=r[u*2+1]*n,y=r[f*2]*i,T=r[f*2+1]*n,S=r[d*2]*i,A=r[d*2+1]*n,l.push(new x(v,m,y,T,S,A));return l};c.exports=o},90301:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),x=function(o,r,a,i){i===void 0&&(i=a);var n=o,l=r,s=o,u=r-i,f=o+a,d=r;return new h(n,l,s,u,f,d)};c.exports=x},23707:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97523),x=t(13584),o=function(r,a,i,n){n===void 0&&(n=h);var l=n(r),s=a-l.x,u=i-l.y;return x(r,s,u)};c.exports=o},97523:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){return r===void 0&&(r=new h),r.x=(o.x1+o.x2+o.x3)/3,r.y=(o.y1+o.y2+o.y3)/3,r};c.exports=x},24951:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099);function x(r,a,i,n){return r*n-a*i}var o=function(r,a){a===void 0&&(a=new h);var i=r.x3,n=r.y3,l=r.x1-i,s=r.y1-n,u=r.x2-i,f=r.y2-n,d=2*x(l,s,u,f),v=x(s,l*l+s*s,f,u*u+f*f),m=x(l,l*l+s*s,u,u*u+f*f);return a.x=i-v/d,a.y=n+m/d,a};c.exports=o},85614:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),x=function(o,r){r===void 0&&(r=new h);var a=o.x1,i=o.y1,n=o.x2,l=o.y2,s=o.x3,u=o.y3,f=n-a,d=l-i,v=s-a,m=u-i,y=f*(a+n)+d*(i+l),T=v*(a+s)+m*(i+u),S=2*(f*(u-l)-d*(s-n)),A,P;if(Math.abs(S)<1e-6){var w=Math.min(a,n,s),M=Math.min(i,l,u);A=(Math.max(a,n,s)-w)*.5,P=(Math.max(i,l,u)-M)*.5,r.x=w+A,r.y=M+P,r.radius=Math.sqrt(A*A+P*P)}else r.x=(m*y-d*T)/S,r.y=(f*T-v*y)/S,A=r.x-a,P=r.y-i,r.radius=Math.sqrt(A*A+P*P);return r};c.exports=x},74422:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),x=function(o){return new h(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};c.exports=x},10690:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=t.x3-t.x1,r=t.y3-t.y1,a=t.x2-t.x1,i=t.y2-t.y1,n=h-t.x1,l=x-t.y1,s=o*o+r*r,u=o*a+r*i,f=o*n+r*l,d=a*a+i*i,v=a*n+i*l,m=s*d-u*u,y=m===0?0:1/m,T=(d*f-u*v)*y,S=(s*v-u*f)*y;return T>=0&&S>=0&&T+S<1};c.exports=E},48653:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x===void 0&&(x=!1),o===void 0&&(o=[]);for(var r=t.x3-t.x1,a=t.y3-t.y1,i=t.x2-t.x1,n=t.y2-t.y1,l=r*r+a*a,s=r*i+a*n,u=i*i+n*n,f=l*u-s*s,d=f===0?0:1/f,v,m,y,T,S,A,P=t.x1,w=t.y1,M=0;M<h.length&&(y=h[M].x-P,T=h[M].y-w,S=r*y+a*T,A=i*y+n*T,v=(u*S-s*A)*d,m=(l*A-s*S)*d,!(v>=0&&m>=0&&v+m<1&&(o.push({x:h[M].x,y:h[M].y}),x)));M++);return o};c.exports=E},96006:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10690),x=function(o,r){return h(o,r.x,r.y)};c.exports=x},71326:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};c.exports=E},71694:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};c.exports=E},33522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};c.exports=E},20437:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(35001),o=function(r,a,i){i===void 0&&(i=new h);var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();if(a<=0||a>=1)return i.x=n.x1,i.y=n.y1,i;var u=x(n),f=x(l),d=x(s),v=u+f+d,m=v*a,y=0;return m<u?(y=m/u,i.x=n.x1+(n.x2-n.x1)*y,i.y=n.y1+(n.y2-n.y1)*y):m>u+f?(m-=u+f,y=m/d,i.x=s.x1+(s.x2-s.x1)*y,i.y=s.y1+(s.y2-s.y1)*y):(m-=u,y=m/f,i.x=l.x1+(l.x2-l.x1)*y,i.y=l.y1+(l.y2-l.y1)*y),i};c.exports=o},80672:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=t(2141),o=function(r,a,i,n){n===void 0&&(n=[]);var l=r.getLineA(),s=r.getLineB(),u=r.getLineC(),f=h(l),d=h(s),v=h(u),m=f+d+v;!a&&i>0&&(a=m/i);for(var y=0;y<a;y++){var T=m*(y/a),S=0,A=new x;T<f?(S=T/f,A.x=l.x1+(l.x2-l.x1)*S,A.y=l.y1+(l.y2-l.y1)*S):T>f+d?(T-=f+d,S=T/v,A.x=u.x1+(u.x2-u.x1)*S,A.y=u.y1+(u.y2-u.y1)*S):(T-=f,S=T/d,A.x=s.x1+(s.x2-s.x1)*S,A.y=s.y1+(s.y2-s.y1)*S),n.push(A)}return n};c.exports=o},39757:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);function x(r,a,i,n){var l=r-i,s=a-n,u=l*l+s*s;return Math.sqrt(u)}var o=function(r,a){a===void 0&&(a=new h);var i=r.x1,n=r.y1,l=r.x2,s=r.y2,u=r.x3,f=r.y3,d=x(u,f,l,s),v=x(i,n,u,f),m=x(l,s,i,n),y=d+v+m;return a.x=(i*d+l*v+u*m)/y,a.y=(n*d+s*v+f*m)/y,a};c.exports=o},13584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t.x1+=h,t.y1+=x,t.x2+=h,t.y2+=x,t.x3+=h,t.y3+=x,t};c.exports=E},1376:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=function(o){var r=o.getLineA(),a=o.getLineB(),i=o.getLineC();return h(r)+h(a)+h(i)};c.exports=x},90260:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,r){r===void 0&&(r=new h);var a=o.x2-o.x1,i=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,s=Math.random(),u=Math.random();return s+u>=1&&(s=1-s,u=1-u),r.x=o.x1+(a*s+n*u),r.y=o.y1+(i*s+l*u),r};c.exports=x},52172:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),x=t(39757),o=function(r,a){var i=x(r);return h(r,i.x,i.y,a)};c.exports=o},49907:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),x=function(o,r,a){return h(o,r.x,r.y,a)};c.exports=x},99614:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=Math.cos(o),a=Math.sin(o),i=t.x1-h,n=t.y1-x;return t.x1=i*r-n*a+h,t.y1=i*a+n*r+x,i=t.x2-h,n=t.y2-x,t.x2=i*r-n*a+h,t.y2=i*a+n*r+x,i=t.x3-h,n=t.y3-x,t.x3=i*r-n*a+h,t.y3=i*a+n*r+x,t};c.exports=E},16483:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(10690),o=t(20437),r=t(80672),a=t(23777),i=t(23031),n=t(90260),l=new h({initialize:function(u,f,d,v,m,y){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),this.type=a.TRIANGLE,this.x1=u,this.y1=f,this.x2=d,this.y2=v,this.x3=m,this.y3=y},contains:function(s,u){return x(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,f){return r(this,s,u,f)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,f,d,v,m){return s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),this.x1=s,this.y1=u,this.x2=f,this.y2=d,this.x3=v,this.y3=m,this},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}}});c.exports=l},84435:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483);h.Area=t(41658),h.BuildEquilateral=t(39208),h.BuildFromPolygon=t(39545),h.BuildRight=t(90301),h.CenterOn=t(23707),h.Centroid=t(97523),h.CircumCenter=t(24951),h.CircumCircle=t(85614),h.Clone=t(74422),h.Contains=t(10690),h.ContainsArray=t(48653),h.ContainsPoint=t(96006),h.CopyFrom=t(71326),h.Decompose=t(71694),h.Equals=t(33522),h.GetPoint=t(20437),h.GetPoints=t(80672),h.InCenter=t(39757),h.Perimeter=t(1376),h.Offset=t(13584),h.Random=t(90260),h.Rotate=t(52172),h.RotateAroundPoint=t(49907),h.RotateAroundXY=t(99614),c.exports=h},74457:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};c.exports=E},84409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return function(x,o,r,a){var i=t.getPixelAlpha(o,r,a.texture.key,a.frame.name);return i&&i>=h}};c.exports=E},7003:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(93301),o=t(50792),r=t(8214),a=t(8443),i=t(78970),n=t(85098),l=t(42515),s=t(36210),u=t(61340),f=t(85955),d=new h({initialize:function(m,y){this.game=m,this.scaleManager,this.canvas,this.config=y,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=y.inputKeyboard?new i(this):null,this.mouse=y.inputMouse?new n(this):null,this.touch=y.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=y.inputActivePointers;for(var T=0;T<=this.pointersTotal;T++){var S=new l(this,T);S.smoothFactor=y.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=y.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(a.BOOT,this.boot,this)},boot:function(){var v=this.game,m=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(r.MANAGER_BOOT),m.on(a.PRE_RENDER,this.preRender,this),m.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(r.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(r.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,m=this.game.loop.delta,y=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(r.MANAGER_UPDATE);for(var T=0;T<y.length;T++){var S=y[T];if(S.sys.input&&S.sys.input.updatePoll(v,m)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v,m){(m||v&&v.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var m=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var y=0;y<v;y++){var T=this.pointers.length,S=new l(this,T);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,m.push(S)}return m},updateInputPlugins:function(v,m){var y=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var T=0;T<y.length;T++){var S=y[T];if(S.sys.input){var A=S.sys.input.update(v,m);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var m=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var S=v.changedTouches[T],A=1;A<m.length;A++){var P=m[A];if(!P.active){P.touchstart(S,v),this.activePointer=P,y.push(P);break}}this.updateInputPlugins(x.TOUCH_START,y)},onTouchMove:function(v){for(var m=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var S=v.changedTouches[T],A=1;A<m.length;A++){var P=m[A];if(P.active&&P.identifier===S.identifier){var w=document.elementFromPoint(S.clientX,S.clientY),M=w===this.canvas;!this.isOver&&M?this.setCanvasOver(v):this.isOver&&!M&&this.setCanvasOut(v),this.isOver&&(P.touchmove(S,v),this.activePointer=P,y.push(P));break}}this.updateInputPlugins(x.TOUCH_MOVE,y)},onTouchEnd:function(v){for(var m=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var S=v.changedTouches[T],A=1;A<m.length;A++){var P=m[A];if(P.active&&P.identifier===S.identifier){P.touchend(S,v),y.push(P);break}}this.updateInputPlugins(x.TOUCH_END,y)},onTouchCancel:function(v){for(var m=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var S=v.changedTouches[T],A=1;A<m.length;A++){var P=m[A];if(P.active&&P.identifier===S.identifier){P.touchcancel(S,v),y.push(P);break}}this.updateInputPlugins(x.TOUCH_CANCEL,y)},onMouseDown:function(v){var m=this.mousePointer;m.down(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var m=this.mousePointer;m.move(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var m=this.mousePointer;m.up(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var m=this.mousePointer;m.wheel(v),this.activePointer=m,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(r.POINTERLOCK_CHANGE,v,m)},inputCandidate:function(v,m){var y=v.input;if(!y||!y.enabled||!v.willRender(m))return!1;var T=!0,S=v.parentContainer;if(S)do{if(!S.willRender(m)){T=!1;break}S=S.parentContainer}while(S);return T},hitTest:function(v,m,y,T){T===void 0&&(T=this._tempHitTest);var S=this._tempPoint,A=y.scrollX,P=y.scrollY;T.length=0;var w=v.x,M=v.y;y.getWorldPoint(w,M,S),v.worldX=S.x,v.worldY=S.y;for(var D={x:0,y:0},F=this._tempMatrix,L=this._tempMatrix2,O=0;O<m.length;O++){var B=m[O];if(this.inputCandidate(B,y)){var U=S.x+A*B.scrollFactorX-A,W=S.y+P*B.scrollFactorY-P;B.parentContainer?(B.getWorldTransformMatrix(F,L),F.applyInverse(U,W,D)):f(U,W,B.x,B.y,B.rotation,B.scaleX,B.scaleY,D),this.pointWithinHitArea(B,D.x,D.y)&&T.push(B)}}return T},pointWithinHitArea:function(v,m,y){m+=v.displayOriginX,y+=v.displayOriginY;var T=v.input;return T&&T.hitAreaCallback(T.hitArea,m,y,v)?(T.localX=m,T.localY=y,!0):!1},pointWithinInteractiveObject:function(v,m,y){return v.hitArea?(m+=v.gameObject.displayOriginX,y+=v.gameObject.displayOriginY,v.localX=m,v.localY=y,v.hitAreaCallback(v.hitArea,m,y,v)):!1},transformPointer:function(v,m,y,T){var S=v.position,A=v.prevPosition;A.x=S.x,A.y=S.y;var P=this.scaleManager.transformX(m),w=this.scaleManager.transformY(y),M=v.smoothFactor;!T||M===0?(S.x=P,S.y=w):(S.x=P*M+A.x*(1-M),S.y=w*M+A.y*(1-M))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=d},48205:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),x=t(87902),o=t(83419),r=t(93301),a=t(74457),i=t(84409),n=t(20339),l=t(8497),s=t(81154),u=t(8214),f=t(50792),d=t(95540),v=t(23777),m=t(89639),y=t(41212),T=t(37277),S=t(87841),A=t(37303),P=t(44594),w=t(16483),M=t(10690),D=new o({Extends:f,initialize:function(L){f.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var O={cancelled:!1};this._eventContainer={stopPropagation:function(){O.cancelled=!0}},this._eventData=O,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(P.BOOT,this.boot,this),L.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var F=this.systems.events;F.on(P.TRANSITION_START,this.transitionIn,this),F.on(P.TRANSITION_OUT,this.transitionOut,this),F.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(P.PRE_UPDATE,this.preUpdate,this),F.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(F){this.isActive()&&this.emit(u.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(u.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var F=this._pendingRemoval,L=this._pendingInsertion,O=F.length,B=L.length;if(!(O===0&&B===0)){for(var U=this._list,W=0;W<O;W++){var H=F[W],Y=U.indexOf(H);Y>-1&&(U.splice(Y,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=U.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(F){this.manager&&this.manager.setCursor(F)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(F,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,F,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var O,B=this.manager,U=B.pointers;for(O=0;O<U.length;O++)U[O].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(O=0;O<U.length;O++){var Y=0,G=U[O];this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(G),this.getDragState(G)===2&&this.processDragThresholdEvent(G,F),Y>0&&(H=!0)}return H},update:function(F,L){if(!this.isActive())return!1;for(var O=!1,B=0;B<L.length;B++){var U=0,W=L[B];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case r.MOUSE_DOWN:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverOutEvents(W);break;case r.MOUSE_UP:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOverOutEvents(W);break;case r.TOUCH_START:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverEvents(W);break;case r.TOUCH_END:case r.TOUCH_CANCEL:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOutEvents(W);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:U+=this.processDragMoveEvent(W),U+=this.processMoveEvents(W),U+=this.processOverOutEvents(W);break;case r.MOUSE_WHEEL:U+=this.processWheelEvent(W);break}U>0&&(O=!0)}return this._updatedThisFrame=!0,O},clear:function(F,L){L===void 0&&(L=!1),this.disable(F);var O=F.input;O&&(this.removeDebug(F),this.manager.resetCursor(O),O.gameObject=void 0,O.target=void 0,O.hitArea=void 0,O.hitAreaCallback=void 0,O.callbackContext=void 0,F.input=null),L||this.queueForRemoval(F);var B=this._draggable.indexOf(F);return B>-1&&this._draggable.splice(B,1),F},disable:function(F,L){L===void 0&&(L=!1);var O=F.input;O&&(O.enabled=!1,O.dragState=0);for(var B=this._drag,U=this._over,W=this.manager,H=0,Y;H<W.pointers.length;H++)Y=B[H].indexOf(F),Y>-1&&B[H].splice(Y,1),Y=U[H].indexOf(F),Y>-1&&U[H].splice(Y,1);return L&&this.resetCursor(),this},enable:function(F,L,O,B){return B===void 0&&(B=!1),F.input?F.input.enabled=!0:this.setHitArea(F,L,O),F.input&&B&&!F.input.dropZone&&(F.input.dropZone=B),this},hitTestPointer:function(F){for(var L=this.cameras.getCamerasBelowPointer(F),O=0;O<L.length;O++){for(var B=L[O],U=this.manager.hitTest(F,this._list,B),W=0;W<U.length;W++){var H=U[W];H.input.dropZone&&this._tempZones.push(H)}if(U.length>0)return F.camera=B,U}return F.camera=L[0],[]},processDownEvents:function(F){var L=0,O=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=0;W<O.length;W++){var H=O[W];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(u.GAMEOBJECT_POINTER_DOWN,F,H.input.localX,H.input.localY,U),B.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_DOWN,F,H,U),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&(F.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,F,O):this.emit(u.POINTER_DOWN_OUTSIDE,F)),L},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,L){this._dragState[F.id]=L},processDragThresholdEvent:function(F,L){var O=!1,B=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&n(F.x,F.y,F.downX,F.downY)>=U||B>0&&L>=F.downTime+B)&&(O=!0),O)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var O=0;O<L.length;O++){var B=L[O],U=B.input;U.dragState=2,U.dragStartX=B.x,U.dragStartY=B.y,U.dragStartXGlobal=F.worldX,U.dragStartYGlobal=F.worldY,U.dragStartCamera=F.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,B.emit(u.GAMEOBJECT_DRAG_START,F,U.dragX,U.dragY),this.emit(u.DRAG_START,F,B)}return this.setDragState(F,4),L.length},processDragDownEvent:function(F){var L=this._temp;if(this._draggable.length===0||L.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var O=[],B=0;B<L.length;B++){var U=L[B];U.input.draggable&&U.input.dragState===0&&O.push(U)}return O.length===0?(this.setDragState(F,0),0):(O.length>1&&(this.sortGameObjects(O,F),this.topOnly&&O.splice(1)),this._drag[F.id]=O,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;var L=this._tempZones,O=this._drag[F.id];O.length>1&&(O=O.slice(0));for(var B=0;B<O.length;B++){var U=O[B],W=U.input,H=W.target;if(H){var Y=L.indexOf(H);Y===0?(U.emit(u.GAMEOBJECT_DRAG_OVER,F,H),this.emit(u.DRAG_OVER,F,U,H)):Y>0?(U.emit(u.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(u.DRAG_LEAVE,F,U,H),W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H)):(U.emit(u.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(u.DRAG_LEAVE,F,U,H),L[0]?(W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H)):W.target=null)}else!H&&L[0]&&(W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H));var G,X,V=F.positionToCamera(W.dragStartCamera);if(!U.parentContainer)G=V.x-W.dragX,X=V.y-W.dragY;else{var b=V.x-W.dragStartXGlobal,z=V.y-W.dragStartYGlobal,$=U.getParentRotation(),Q=b*Math.cos($)+z*Math.sin($),Z=z*Math.cos($)-b*Math.sin($);Q*=1/U.parentContainer.scaleX,Z*=1/U.parentContainer.scaleY,G=Q+W.dragStartX,X=Z+W.dragStartY}U.emit(u.GAMEOBJECT_DRAG,F,G,X),this.emit(u.DRAG,F,U,G,X)}return O.length},processDragUpEvent:function(F){var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var O=0;O<L.length;O++){var B=L[O],U=B.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-B.displayOriginX,U.dragY=U.localY-B.displayOriginY,U.dragStartCamera=null;var W=!1,H=U.target;H&&(B.emit(u.GAMEOBJECT_DROP,F,H),this.emit(u.DROP,F,B,H),U.target=null,W=!0),B.input&&B.input.enabled&&(B.emit(u.GAMEOBJECT_DRAG_END,F,U.dragX,U.dragY,W),this.emit(u.DRAG_END,F,B,W))}}return this.setDragState(F,0),L.splice(0),0},processMoveEvents:function(F){var L=0,O=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=0;W<O.length;W++){var H=O[W];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(u.GAMEOBJECT_POINTER_MOVE,F,H.input.localX,H.input.localY,U),B.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_MOVE,F,H,U),B.cancelled||!this.isActive()||this.topOnly)))break}return!B.cancelled&&this.isActive()&&this.emit(u.POINTER_MOVE,F,O),L},processWheelEvent:function(F){var L=0,O=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=F.deltaX,H=F.deltaY,Y=F.deltaZ,G=0;G<O.length;G++){var X=O[G];if(!(!X.input||!X.input.enabled)&&(L++,X.emit(u.GAMEOBJECT_POINTER_WHEEL,F,W,H,Y,U),B.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_WHEEL,F,X,W,H,Y,U),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&this.emit(u.POINTER_WHEEL,F,O,W,H,Y),L},processOverEvents:function(F){var L=this._temp,O=0,B=L.length,U=[];if(B>0){var W=this.manager,H=this._eventData,Y=this._eventContainer;H.cancelled=!1;for(var G=0;G<B;G++){var X=L[G];if(!(!X.input||!X.input.enabled)&&(U.push(X),W.setCursor(X.input),X.emit(u.GAMEOBJECT_POINTER_OVER,F,X.input.localX,X.input.localY,Y),O++,H.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,X,Y),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,U)}return this._over[F.id]=U,O},processOutEvents:function(F){var L=this._over[F.id],O=0,B=L.length;if(B>0){var U=this.manager,W=this._eventData,H=this._eventContainer;W.cancelled=!1,this.sortGameObjects(L,F);for(var Y=0;Y<B;Y++){var G=L[Y];if(G=L[Y],!(!G.input||!G.input.enabled)&&(U.resetCursor(G.input),G.emit(u.GAMEOBJECT_POINTER_OUT,F,H),O++,W.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,G,H),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(u.POINTER_OUT,F,L),this._over[F.id]=[]}return O},processOverOutEvents:function(F){var L=this._temp,O,B,U=[],W=[],H=[],Y=this._over[F.id],G=this._drag[F.id],X=this.manager;for(O=0;O<Y.length;O++)B=Y[O],L.indexOf(B)===-1&&G.indexOf(B)===-1?U.push(B):H.push(B);for(O=0;O<L.length;O++)B=L[O],Y.indexOf(B)===-1&&W.push(B);var V=U.length,b=0,z=this._eventData,$=this._eventContainer;if(z.cancelled=!1,V>0){for(this.sortGameObjects(U,F),O=0;O<V&&(B=U[O],!(!(!B.input||!B.input.enabled)&&(X.resetCursor(B.input),B.emit(u.GAMEOBJECT_POINTER_OUT,F,$),b++,z.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,B,$),z.cancelled||!this.isActive()))));O++);(!z.cancelled||this.isActive())&&this.emit(u.POINTER_OUT,F,U)}if(V=W.length,z.cancelled=!1,V>0){for(this.sortGameObjects(W,F),O=0;O<V&&(B=W[O],!(!(!B.input||!B.input.enabled)&&(X.setCursor(B.input),B.emit(u.GAMEOBJECT_POINTER_OVER,F,B.input.localX,B.input.localY,$),b++,z.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,B,$),z.cancelled||!this.isActive()))));O++);!z.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,W)}return Y=H.concat(W),this._over[F.id]=this.sortGameObjects(Y,F),b},processUpEvents:function(F){var L=this._temp,O=this._eventData,B=this._eventContainer;O.cancelled=!1;for(var U=0;U<L.length;U++){var W=L[U];if(!(!W.input||!W.input.enabled)&&(W.emit(u.GAMEOBJECT_POINTER_UP,F,W.input.localX,W.input.localY,B),O.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(u.GAMEOBJECT_UP,F,W,B),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&(F.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,F,L):this.emit(u.POINTER_UP_OUTSIDE,F)),L.length},forceDownState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_DOWN,u.GAMEOBJECT_DOWN,!1)},forceUpState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_UP,u.GAMEOBJECT_UP,!1)},forceOverState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OVER,u.GAMEOBJECT_OVER,!0)},forceOutState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OUT,u.GAMEOBJECT_OUT,!1)},forceState:function(F,L,O,B,U){var W=this._eventData,H=this._eventContainer;W.cancelled=!1,L.input&&L.input.enabled&&(L.emit(O,F,L.input.localX,L.input.localY,H),U&&this.setCursor(L.input),!W.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(B,F,L,H))},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,L){L===void 0&&(L=!0),Array.isArray(F)||(F=[F]);for(var O=0;O<F.length;O++){var B=F[O];B.input.draggable=L;var U=this._draggable.indexOf(B);L&&U===-1?this._draggable.push(B):!L&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var L=this.systems.textures;return i(L,F)},setHitArea:function(F,L,O){if(L===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var B=!1,U=!1,W=!1,H=!1,Y=!1,G=!0;if(y(L)&&Object.keys(L).length){var X=L,V=F.some(function(Z){return Z.hasOwnProperty("faces")});if(!V){L=d(X,"hitArea",null),O=d(X,"hitAreaCallback",null),Y=d(X,"pixelPerfect",!1);var b=d(X,"alphaTolerance",1);Y&&(L={},O=this.makePixelPerfect(b))}B=d(X,"draggable",!1),U=d(X,"dropZone",!1),W=d(X,"cursor",!1),H=d(X,"useHandCursor",!1),(!L||!O)&&(this.setHitAreaFromTexture(F),G=!1)}else typeof L=="function"&&!O&&(O=L,L={});for(var z=0;z<F.length;z++){var $=F[z];if(Y&&$.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Q=$.input?$.input:a($,L,O);Q.customHitArea=G,Q.dropZone=U,Q.cursor=H?"pointer":W,$.input=Q,B&&this.setDraggable($),this.queueForInsertion($)}return this},setHitAreaCircle:function(F,L,O,B,U){U===void 0&&(U=x);var W=new h(L,O,B);return this.setHitArea(F,W,U)},setHitAreaEllipse:function(F,L,O,B,U,W){W===void 0&&(W=s);var H=new l(L,O,B,U);return this.setHitArea(F,H,W)},setHitAreaFromTexture:function(F,L){L===void 0&&(L=A),Array.isArray(F)||(F=[F]);for(var O=0;O<F.length;O++){var B=F[O],U=B.frame,W=0,H=0;if(B.width?(W=B.width,H=B.height):U&&(W=U.realWidth,H=U.realHeight),B.type==="Container"&&(W===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&H!==0&&(B.input=a(B,new S(0,0,W,H),L),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(F,L,O,B,U,W){W===void 0&&(W=A);var H=new S(L,O,B,U);return this.setHitArea(F,H,W)},setHitAreaTriangle:function(F,L,O,B,U,W,H,Y){Y===void 0&&(Y=M);var G=new w(L,O,B,U,W,H);return this.setHitArea(F,G,Y)},enableDebug:function(F,L){L===void 0&&(L=65280);var O=F.input;if(!O||!O.hitArea)return this;var B=O.hitArea,U=B.type,W=O.hitAreaDebug,H=this.systems.add,Y=this.systems.updateList;W&&(Y.remove(W),W.destroy(),W=null);var G=0,X=0;switch(U){case v.CIRCLE:W=H.arc(0,0,B.radius),G=B.x-B.radius,X=B.y-B.radius;break;case v.ELLIPSE:W=H.ellipse(0,0,B.width,B.height),G=B.x-B.width/2,X=B.y-B.height/2;break;case v.LINE:W=H.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case v.POLYGON:W=H.polygon(0,0,B.points);break;case v.RECTANGLE:W=H.rectangle(0,0,B.width,B.height),G=B.x,X=B.y;break;case v.TRIANGLE:W=H.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return W&&(W.isFilled=!1,W.strokeColor=L,W.preUpdate=function(){W.setVisible(F.visible),W.setStrokeStyle(1/F.scale,W.strokeColor),W.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var V=F.x,b=F.y,z=F.rotation,$=F.scaleX,Q=F.scaleY;if(F.parentContainer){var Z=F.getWorldTransformMatrix();V=Z.tx,b=Z.ty,z=Z.rotation,$=Z.scaleX,Q=Z.scaleY}W.setRotation(z),W.setScale($,Q),W.setPosition(V+G*$,b+X*Q),W.setScrollFactor(F.scrollFactorX,F.scrollFactorY),W.setDepth(F.depth)},Y.add(W),O.hitAreaDebug=W),this},removeDebug:function(F){var L=F.input;if(L&&L.hitAreaDebug){var O=L.hitAreaDebug;O.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,L){if(F.length<2||!L.camera)return F;var O=L.camera.renderList;return F.sort(function(B,U){var W=Math.max(O.indexOf(B),0),H=Math.max(O.indexOf(U),0);return H-W})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,L){if(!F.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(F);if(F.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-F.parentContainer.getIndex(F);if(F.parentContainer===L)return-1;if(L.parentContainer===F)return 1;for(var O=F.getIndexList(),B=L.getIndexList(),U=Math.min(O.length,B.length),W=0;W<U;W++){var H=O[W],Y=B[W];if(H!==Y)return Y-H}return B.length-O.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var O=this.systems.events;O.off(P.TRANSITION_START,this.transitionIn,this),O.off(P.TRANSITION_OUT,this.transitionOut,this),O.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),O.off(P.PRE_UPDATE,this.preUpdate,this),L.events.off(u.GAME_OUT,this.onGameOut,this),L.events.off(u.GAME_OVER,this.onGameOver,this),O.off(P.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,L=0;L<F.length;L++)F[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",D,"input"),c.exports=D},89639:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x={},o={};o.register=function(r,a,i,n,l){x[r]={plugin:a,mapping:i,settingsKey:n,configKey:l}},o.getPlugin=function(r){return x[r]},o.install=function(r){var a=r.scene.sys,i=a.settings.input,n=a.game.config;for(var l in x){var s=x[l].plugin,u=x[l].mapping,f=x[l].settingsKey,d=x[l].configKey;h(i,f,n[d])&&(r[u]=new s(r))}},o.remove=function(r){x.hasOwnProperty(r)&&delete x[r]},c.exports=o},42515:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31040),x=t(83419),o=t(20339),r=t(43855),a=t(47235),i=t(26099),n=t(25892),l=new x({initialize:function(u,f){this.manager=u,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var u=s.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(s,u){return s.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var s=this.position.x,u=this.position.y,f=this.midPoint.x,d=this.midPoint.y;if(!(s===f&&u===d)){var v=a(this.motionFactor,f,s),m=a(this.motionFactor,d,u);r(v,s,.1)&&(v=s),r(m,u,.1)&&(m=u),this.midPoint.set(v,m);var y=s-v,T=u-m;this.velocity.set(y,T),this.angle=h(v,m,s,u),this.distance=Math.sqrt(y*y+T*T)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,u){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,u){this.event=u,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,u){s===void 0&&(s=10),u===void 0&&(u=[]);for(var f=this.prevPosition.x,d=this.prevPosition.y,v=this.position.x,m=this.position.y,y=0;y<s;y++){var T=1/s*y;u[y]={x:a(T,f,v),y:a(T,d,m)}}return u},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=l},93301:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=E},7179:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},85375:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},39843:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},23388:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},16133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},27829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},53904:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},56058:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},2642:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},88171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},36147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},71692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},96149:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},81285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},74048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},21322:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},49378:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},86754:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},86433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},60709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},24081:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},11172:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},18907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},95579:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},35368:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},26972:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},47078:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},73802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},56718:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},25936:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},27503:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},50852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},96438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},59152:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},47777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},27957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},19444:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},54251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},18667:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},27192:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},24652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},45132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},44512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},15757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},41637:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},93802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},8214:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a){this.pad=r,this.events=r.events,this.index=a,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=x},28884:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92734),o=new h({initialize:function(a,i){this.pad=a,this.events=a.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var a=this.pad,i=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,a,this,r),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,i,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,a,this,r),this.pad.emit(x.GAMEPAD_BUTTON_UP,i,r,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=o},99125:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97421),x=t(28884),o=t(83419),r=t(50792),a=t(26099),i=new o({Extends:r,initialize:function(l,s){r.call(this),this.manager=l,this.pad=s,this.id=s.id,this.index=s.index;for(var u=[],f=0;f<s.buttons.length;f++)u.push(new x(this,f));this.buttons=u;var d=[];for(f=0;f<s.axes.length;f++)d.push(new h(this,f));this.axes=d,this.vibration=s.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:v,this._LCRight=u[15]?u[15]:v,this._LCTop=u[12]?u[12]:v,this._LCBottom=u[13]?u[13]:v,this._RCLeft=u[2]?u[2]:v,this._RCRight=u[1]?u[1]:v,this._RCTop=u[3]?u[3]:v,this._RCBottom=u[0]?u[0]:v,this._FBLeftTop=u[4]?u[4]:v,this._FBLeftBottom=u[6]?u[6]:v,this._FBRightTop=u[5]?u[5]:v,this._FBRightBottom=u[7]?u[7]:v;var m={value:0};this._HAxisLeft=d[0]?d[0]:m,this._VAxisLeft=d[1]?d[1]:m,this._HAxisRight=d[2]?d[2]:m,this._VAxisRight=d[3]?d[3]:m,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,s=this.buttons,u=n.buttons,f=s.length;for(l=0;l<f;l++)s[l].update(u[l].value);var d=this.axes,v=n.axes;for(f=d.length,l=0;l<f;l++)d[l].update(v[l]);f>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),f>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=i},56654:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(92734),r=t(99125),a=t(35154),i=t(89639),n=t(8214),l=new h({Extends:x,initialize:function(u){x.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(n.BOOT,this.boot,this),u.pluginEvents.on(n.START,this.start,this)},boot:function(){var s=this.scene.sys.game,u=this.settings.input,f=s.config;this.enabled=a(u,"gamepad",f.inputGamepad)&&s.device.input.gamepads,this.target=a(u,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,u=this.target,f=function(d){d.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(d))};this.onGamepadHandler=f,u.addEventListener("gamepadconnected",f,!1),u.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var u=this.gamepads,f=0;f<s.length;f++){var d=s[f];if(d){var v=d.id,m=d.index,y=u[m];if(y)y.id!==v?(y.destroy(),u[m]=new r(this,d)):y.update(d);else{var T=new r(this,d);u[m]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var s=[],u=this.gamepads,f=0;f<u.length;f++)u[f]&&s.push(u[f]);return s},getPad:function(s){for(var u=this.gamepads,f=0;f<u.length;f++)if(u[f]&&u[f].index===s)return u[f]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var u=this.queue.splice(0,s),f=0;f<s;f++){var d=u[f],v=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(o.CONNECTED,v,d):d.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,v,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),c.exports=l},89651:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},7629:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},42206:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},86544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},94784:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},14325:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},92734:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93301),x=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=x(!1,o,h),c.exports=o},78970:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),x=t(83419),o=t(8443),r=t(8214),a=t(46032),i=t(29747),n=new x({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,s.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(r.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(r.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=a[f.trim().toUpperCase()]),s.indexOf(f)===-1&&s.push(f)}this.preventDefault=s.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=a[f.toUpperCase()]),h(s,f)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=n},28846:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(95922),r=t(8443),a=t(35154),i=t(8214),n=t(89639),l=t(30472),s=t(46032),u=t(87960),f=t(74600),d=t(44594),v=t(56583),m=new h({Extends:x,initialize:function(T){x.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(i.BOOT,this.boot,this),T.pluginEvents.on(i.START,this.start,this)},boot:function(){var y=this.settings.input;this.enabled=a(y,"keyboard",!0);var T=a(y,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(y){return this.manager.addCapture(y),this},removeCapture:function(y){return this.manager.removeCapture(y),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(y,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var A={};if(typeof y=="string"){y=y.split(",");for(var P=0;P<y.length;P++){var w=y[P].trim();w&&(A[w]=this.addKey(w,T,S))}}else for(var M in y)A[M]=this.addKey(y[M],T,S);return A},addKey:function(y,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var A=this.keys;if(y instanceof l){var P=A.indexOf(y);return P>-1?A[P]=y:A[y.keyCode]=y,T&&this.addCapture(y.keyCode),y.setEmitOnRepeat(S),y}return typeof y=="string"&&(y=s[y.toUpperCase()]),A[y]||(A[y]=new l(this,y),T&&this.addCapture(y),A[y].setEmitOnRepeat(S)),A[y]},removeKey:function(y,T,S){T===void 0&&(T=!1),S===void 0&&(S=!1);var A=this.keys,P;if(y instanceof l){var w=A.indexOf(y);w>-1&&(P=this.keys[w],this.keys[w]=void 0)}else typeof y=="string"&&(y=s[y.toUpperCase()]);return A[y]&&(P=A[y],A[y]=void 0),P&&(P.plugin=null,S&&this.removeCapture(P.keyCode),T&&P.destroy()),this},removeAllKeys:function(y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);for(var S=this.keys,A=0;A<S.length;A++){var P=S[A];P&&(S[A]=void 0,T&&this.removeCapture(P.keyCode),y&&P.destroy())}return this},createCombo:function(y,T){return new u(this,y,T)},checkDown:function(y,T){if(T===void 0&&(T=0),this.enabled&&y.isDown){var S=v(this.time-y.timeDown,T);if(S>y._tick)return y._tick=S,!0}return!1},update:function(){var y=this.manager.queue,T=y.length;if(!(!this.isActive()||T===0))for(var S=this.keys,A=0;A<T;A++){var P=y[A],w=P.keyCode,M=S[w],D=!1;P.cancelled===void 0&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),P.cancelled!==-1&&(w===this.prevCode&&P.timeStamp===this.prevTime&&P.type===this.prevType||(this.prevCode=w,this.prevTime=P.timeStamp,this.prevType=P.type,P.type==="keydown"?(M&&(D=M.isDown,M.onDown(P)),!P.cancelled&&(!M||!D)&&(f[w]&&this.emit(o.KEY_DOWN+f[w],P),P.cancelled||this.emit(o.ANY_KEY_DOWN,P))):(M&&M.onUp(P),P.cancelled||(f[w]&&this.emit(o.KEY_UP+f[w],P),P.cancelled||this.emit(o.ANY_KEY_UP,P))),P.cancelled===1&&(P.cancelled=0)))}},resetKeys:function(){for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),c.exports=m},66970:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};c.exports=E},87960:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95922),o=t(95540),r=t(68769),a=t(92803),i=new h({initialize:function(l,s,u){if(u===void 0&&(u={}),s.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<s.length;f++){var d=s[f];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(u,"resetOnWrongKey",!0),this.maxKeyDelay=o(u,"maxKeyDelay",0),this.resetOnMatch=o(u,"resetOnMatch",!1),this.deleteOnMatch=o(u,"deleteOnMatch",!1);var v=this,m=function(y){if(!(v.matched||!v.enabled)){var T=r(y,v);T&&(v.manager.emit(x.COMBO_MATCH,v,y),v.resetOnMatch?a(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=m,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=i},68769:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66970),x=function(o,r){if(r.matched)return!0;var a=!1,i=!1;if(o.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var n=r.timeLastMatched+r.maxKeyDelay;o.timeStamp<=n&&(i=!0,a=h(o,r))}else i=!0,a=h(o,r);return!i&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),a&&(r.timeLastMatched=o.timeStamp,r.matched=!0,r.timeMatched=o.timeStamp),a};c.exports=x},92803:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};c.exports=E},92612:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},23345:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},21957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},44743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},3771:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},46358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},75674:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},95922:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=50);var x=t.plugin.game.loop.time-t.timeDown;return t.isDown&&x<h};c.exports=E},90229:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t._justDown?(t._justDown=!1,!0):!1};c.exports=E},38796:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t._justUp?(t._justUp=!1,!0):!1};c.exports=E},30472:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(95922),r=new h({Extends:x,initialize:function(i,n){x.call(this),this.plugin=i,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(a){return this.emitOnRepeat=a,this},onDown:function(a){this.originalEvent=a,this.enabled&&(this.altKey=a.altKey,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.location=a.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,a):(this.isDown=!0,this.isUp=!1,this.timeDown=a.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,a)))},onUp:function(a){this.originalEvent=a,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=a.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,a))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=r},46032:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=E},74600:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46032),x={};for(var o in h)x[h[o]]=o;c.exports=x},41170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=50);var x=t.plugin.game.loop.time-t.timeUp;return t.isUp&&x<h};c.exports=E},85098:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89357),o=t(8214),r=t(29747),a=new h({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var n=this,l=this.manager,s=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(d),n.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){u&&window.focus(),!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(d),n.preventDefaultDown&&d.target===s&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&l&&l.enabled&&d.target!==s&&l.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(d),n.preventDefaultUp&&d.target===s&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&l&&l.enabled&&d.target!==s&&l.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(d),n.preventDefaultWheel&&d.target===s&&d.preventDefault()};var f={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,f),i.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(d){var v=n.target;n.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,l.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=a},87078:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(85098)}},36210:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(8214),o=t(29747),r=new h({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,i.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputTouch,this.target=a.inputTouchEventTarget,this.capture=a.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},startListeners:function(){var a=this.target;if(a){var i=this,n=this.manager,l=n.canvas,s=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchMove(v),i.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){s&&window.focus(),!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchStart(v),i.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchEnd(v),i.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchCancel(v),i.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&n.onTouchCancel(v)};var u=this.capture,f={passive:!0},d={passive:!1};if(a.addEventListener("touchstart",this.onTouchStart,u?d:f),a.addEventListener("touchmove",this.onTouchMove,u?d:f),a.addEventListener("touchend",this.onTouchEnd,u?d:f),a.addEventListener("touchcancel",this.onTouchCancel,u?d:f),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("touchstart",this.onTouchStart),a.removeEventListener("touchmove",this.onTouchMove),a.removeEventListener("touchend",this.onTouchEnd),a.removeEventListener("touchcancel",this.onTouchCancel),window&&(a=this.isTop?window.top:window,a.removeEventListener("touchstart",this.onTouchStartWindow),a.removeEventListener("touchend",this.onTouchEndWindow),a.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},95618:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(36210)}},41299:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(54899),r=t(95540),a=t(98356),i=t(3374),n=t(84376),l=t(92638),s=new h({initialize:function(f,d){if(this.loader=f,this.cache=r(d,"cache",!1),this.type=r(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(d,"key",!1);var v=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var m=r(d,"url");m===void 0?m=f.path+v+"."+r(d,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=f.path+m),this.url=m,this.src="",this.xhrSettings=l(r(d,"responseType",void 0)),r(d,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,r(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0,this.retryAttempts=r(d,"maxRetries",f.maxRetries)},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===x.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=x.FILE_LOADING,this.src=a(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(u,f){var d=u.responseURL&&this.loader.localSchemes.some(function(y){return u.responseURL.indexOf(y)===0}),v=d&&f.target.status===0,m=!(f.target&&f.target.status!==200)||v;u.readyState===4&&u.status>=400&&u.status<=599&&(m=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(u){this.xhrLoader=u,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(u){if(this.state!==x.FILE_PENDING_DESTROY){u===void 0&&(u=this.data);var f=this.key,d=this.type;this.loader.emit(o.FILE_COMPLETE,f,d,u),this.loader.emit(o.FILE_KEY_COMPLETE+d+"-"+f,f,d,u),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(u,f,d){if(typeof URL=="function")u.src=URL.createObjectURL(f);else{var v=new FileReader;v.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(f.type||d)+";base64,"+v.result.split(",")[1]},v.onerror=u.onerror,v.readAsDataURL(f)}},s.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},c.exports=s},74099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={},t={install:function(h){for(var x in E)h[x]=E[x]},register:function(h,x){E[h]=x},destroy:function(){E={}}};c.exports=t},98356:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};c.exports=E},74261:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(35072),r=t(50792),a=t(54899),i=t(74099),n=t(95540),l=t(35154),s=t(41212),u=t(37277),f=t(44594),d=t(92638),v=new h({Extends:r,initialize:function(y){r.call(this);var T=y.sys.game.config,S=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(S,"baseURL",T.loaderBaseURL)),this.setPath(n(S,"path",T.loaderPath)),this.setPrefix(n(S,"prefix",T.loaderPrefix)),this.maxParallelDownloads=n(S,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=d(n(S,"responseType",T.loaderResponseType),n(S,"async",T.loaderAsync),n(S,"user",T.loaderUser),n(S,"password",T.loaderPassword),n(S,"timeout",T.loaderTimeout),n(S,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=n(S,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=n(S,"imageLoadType",T.loaderImageLoadType),this.localSchemes=n(S,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(S,"maxRetries",T.loaderMaxRetries),y.sys.events.once(f.BOOT,this.boot,this),y.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++){var T=m[y];this.keyExists(T)||(this.list.set(T),this.emit(a.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var y=m.hasCacheConflict();return y||this.list.iterate(function(T){if(T.type===m.type&&T.key===m.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===m.type&&T.key===m.key)return y=!0,!1}),this.queue.iterate(function(T){if(T.type===m.type&&T.key===m.key)return y=!0,!1})),y},addPack:function(m,y){if(typeof y=="string"){var T=l(m,y);T&&(m={packKey:T})}var S=0,A=this.baseURL,P=this.path,w=this.prefix;for(var M in m)if(Object.prototype.hasOwnProperty.call(m,M)){var D=m[M],F=n(D,"baseURL",A),L=n(D,"path",P),O=n(D,"prefix",w),B=n(D,"files",null),U=n(D,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(F),this.setPath(L),this.setPrefix(O);for(var W=0;W<B.length;W++){var H=B[W],Y=H.hasOwnProperty("type")?H.type:U;this[Y]&&(this[Y](H),S++)}}}return this.setBaseURL(A),this.setPath(P),this.setPrefix(w),S>0},removePack:function(m,y){var T=this.systems.anims,S=this.cacheManager,A=this.textureManager,P={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},w;if(s(m))w=m;else if(w=S.json.get(m),!w){console.warn("Asset Pack not found in JSON cache:",m);return}y&&(w={_:w[y]});for(var M in w){var D=w[M],F=n(D,"prefix",""),L=n(D,"files"),O=n(D,"defaultType");if(Array.isArray(L))for(var B=0;B<L.length;B++){var U=L[B],W=U.hasOwnProperty("type")?U.type:O;if(!W){console.warn("No type:",U);continue}var H=F+U.key;if(W==="animation"&&T.remove(H),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(A.remove(H),!P[W]))){if(W==="pack"){this.removePack(H,U.dataKey);continue}if(W==="spine"){var Y=S.custom.spine.get(H);if(!Y)continue;var G=Y.prefix===void 0?"":Y.prefix;S.custom.spine.remove(H);var X=S.custom.spineTextures.get(H);if(!X)continue;S.custom.spineTextures.remove(H);for(var V=0;V<X.pages.length;V++){var b=X.pages[V],z=G+b.name,$=H+":"+z;A.exists($)?A.remove($):A.remove(z)}}var Q=P[W];if(Q!==null){if(!Q){console.warn("Unknown type:",W);continue}var Z=S[Q];Z.remove(H)}}}}},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===x.FILE_POPULATED||m.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,y){this.inflight&&(this.inflight.delete(m),this.updateProgress(),y?(this.totalComplete++,this.queue.set(m),this.emit(a.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(a.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===x.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===x.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&(m.multiFile.addToCache(),m.multiFile.pendingDestroy()):(m.addToCache(),m.pendingDestroy())),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,y){return this.save(JSON.stringify(m),y)},save:function(m,y,T){y===void 0&&(y="file.json"),T===void 0&&(T="application/json");var S=new Blob([m],{type:T}),A=URL.createObjectURL(S),P=document.createElement("a");return P.download=y,P.textContent="Download "+y,P.href=A,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(n(y,"baseURL",m.loaderBaseURL)),this.setPath(n(y,"path",m.loaderPath)),this.setPrefix(n(y,"prefix",m.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",v,"load"),c.exports=v},3374:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(92638),o=function(r,a){var i=r===void 0?x():h({},r);if(a)for(var n in a)a[n]!==void 0&&(i[n]=a[n]);return i};c.exports=o},26430:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(54899),r=new h({initialize:function(i,n,l,s){var u=[];s.forEach(function(v){v&&u.push(v)}),this.loader=i,this.type=n,this.key=l;var f=this.key;i.prefix&&i.prefix!==""&&(this.key=i.prefix+f),this.multiKeyIndex=i.multiKeyIndex++,this.files=u,this.state=x.FILE_PENDING,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var d=0;d<u.length;d++)u[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(a){return this.files.push(a),a.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(a){var i=this.files.indexOf(a);i!==-1&&this.pending--},onFileFailed:function(a){var i=this.files.indexOf(a);i!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,a.type,a.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var a=this.key,i=this.type;this.loader.emit(o.FILE_COMPLETE,a,i),this.loader.emit(o.FILE_KEY_COMPLETE+i+"-"+a,a,i),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=r},84376:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3374),x=function(o,r){var a=h(r,o.xhrSettings);if(o.base64){var i=o.url.split(";base64,").pop()||o.url.split(",").pop(),n={responseText:atob(i)};o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,a.async,a.user,a.password),l.responseType=o.xhrSettings.responseType,l.timeout=a.timeout,a.headers)for(var s in a.headers)l.setRequestHeader(s,a.headers[s]);return a.header&&a.headerValue&&l.setRequestHeader(a.header,a.headerValue),a.requestedWith&&l.setRequestHeader("X-Requested-With",a.requestedWith),a.overrideMimeType&&l.overrideMimeType(a.overrideMimeType),a.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};c.exports=x},92638:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r,a){return t===void 0&&(t=""),h===void 0&&(h=!0),x===void 0&&(x=""),o===void 0&&(o=""),r===void 0&&(r=0),a===void 0&&(a=!1),{responseType:t,async:h,user:x,password:o,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:a}};c.exports=E},23906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=E},42155:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},38991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},27540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},87464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},94486:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},13035:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},38144:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},97520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},85595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},55680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},54899:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(518),r=t(54899),a=new h({Extends:o,initialize:function(n,l,s,u,f){o.call(this,n,l,s,u,f),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new a(this,i[u]));else this.addFile(new a(this,i,n,s,l));return this}),c.exports=a},76272:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),r=t(19550),a=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,d,v,m,y){var T,S;if(a(f)){var A=f;f=o(A,"key"),T=new r(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),S=new i(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new r(u,f,d,m),S=new i(u,f,v,y);T.linkFile?n.call(this,u,"atlasjson",f,[T,S,T.linkFile]):n.call(this,u,"atlasjson",f,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,f),u.addToCache(),this.complete=!0}}});x.register("aseprite",function(s,u,f,d,v){var m;if(Array.isArray(s))for(var y=0;y<s.length;y++)m=new l(this,s[y]),this.addFile(m.files);else m=new l(this,s,u,f,d,v),this.addFile(m.files);return this}),c.exports=l},38734:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),r=t(19550),a=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,d,v,m,y){var T,S;if(a(f)){var A=f;f=o(A,"key"),T=new r(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),S=new i(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new r(u,f,d,m),S=new i(u,f,v,y);T.linkFile?n.call(this,u,"atlasjson",f,[T,S,T.linkFile]):n.call(this,u,"atlasjson",f,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,f),this.complete=!0}}});x.register("atlas",function(s,u,f,d,v){var m;if(Array.isArray(s))for(var y=0;y<s.length;y++)m=new l(this,s[y]),this.addFile(m.files);else m=new l(this,s,u,f,d,v),this.addFile(m.files);return this}),c.exports=l},74599:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),r=t(19550),a=t(41212),i=t(26430),n=t(57318),l=new h({Extends:i,initialize:function(u,f,d,v,m,y){var T,S;if(a(f)){var A=f;f=o(A,"key"),T=new r(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),S=new n(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","xml"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new r(u,f,d,m),S=new n(u,f,v,y);T.linkFile?i.call(this,u,"atlasxml",f,[T,S,T.linkFile]):i.call(this,u,"atlasxml",f,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,u.data,f),this.complete=!0}}});x.register("atlasXML",function(s,u,f,d,v){var m;if(Array.isArray(s))for(var y=0;y<s.length;y++)m=new l(this,s[y]),this.addFile(m.files);else m=new l(this,s,u,f,d,v),this.addFile(m.files);return this}),c.exports=l},21097:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(89749),n=t(41212),l=new h({Extends:o,initialize:function(u,f,d,v,m){if(n(f)){var y=f;f=a(y,"key"),v=a(y,"xhrSettings"),m=a(y,"context",m)}var T={type:"audio",cache:u.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:f,url:d.url,xhrSettings:v,config:{context:m}};o.call(this,u,T)},onProcess:function(){this.state=x.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){s.data=u,s.onProcessComplete()},function(u){console.error("Error decoding audio: "+s.key+" - ",u?u.message:null),s.onProcessError()}),this.config.context=null}});l.create=function(s,u,f,d,v){var m=s.systems.game,y=m.config.audio,T=m.device.audio;n(u)&&(f=a(u,"url",[]),d=a(u,"config",{}));var S=l.getAudioURL(m,f);return S?T.webAudio&&!y.disableWebAudio?new l(s,u,S,v,m.sound.context):new i(s,u,S,d):(console.warn('No audio URLs for "%s" can play on this device',u),null)},l.getAudioURL=function(s,u){Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var d=a(u[f],"url",u[f]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var v=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=a(u[f],"type",v?v[1]:"").toLowerCase(),s.device.audio[v])return{url:d,type:v}}return null},r.register("audio",function(s,u,f,d){var v=this.systems.game,m=v.config.audio,y=v.device.audio;if(m.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(s))for(var S=0;S<s.length;S++)T=l.create(this,s[S]),T&&this.addFile(T);else T=l.create(this,s,u,f,d),T&&this.addFile(T);return this}),c.exports=l},89524:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21097),x=t(83419),o=t(74099),r=t(95540),a=t(41212),i=t(518),n=t(26430),l=new x({Extends:n,initialize:function(u,f,d,v,m,y,T){if(a(f)){var S=f;f=r(S,"key"),d=r(S,"jsonURL"),v=r(S,"audioURL"),m=r(S,"audioConfig"),y=r(S,"audioXhrSettings"),T=r(S,"jsonXhrSettings")}var A;if(!v)A=new i(u,f,d,T),n.call(this,u,"audiosprite",f,[A]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=y;else{var P=h.create(u,f,v,m,y);P&&(A=new i(u,f,d,T),n.call(this,u,"audiosprite",f,[P,A]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var f=s.data.resources,d=r(this.config,"audioConfig"),v=r(this.config,"audioXhrSettings"),m=h.create(this.loader,s.key,f,d,v);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1];s.addToCache(),u.addToCache(),this.complete=!0}}});o.register("audioSprite",function(s,u,f,d,v,m){var y=this.systems.game,T=y.config.audio,S=y.device.audio;if(T&&T.noAudio||!S.webAudio&&!S.audioData)return this;var A;if(Array.isArray(s))for(var P=0;P<s.length;P++)A=new l(this,s[P]),A.files&&this.addFile(A.files);else A=new l(this,s,u,f,d,v,m),A.files&&this.addFile(A.files);return this})},85722:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v){var m="bin";if(i(u)){var y=u;u=a(y,"key"),f=a(y,"url"),d=a(y,"xhrSettings"),m=a(y,"extension",m),v=a(y,"dataType",v)}var T={type:"binary",cache:s.cacheManager.binary,extension:m,responseType:"arraybuffer",key:u,url:f,xhrSettings:d,config:{dataType:v}};o.call(this,s,T)},onProcess:function(){this.state=x.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(l,s,u,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,f,u));return this}),c.exports=n},97025:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),r=t(19550),a=t(41212),i=t(26430),n=t(21859),l=t(57318),s=new h({Extends:i,initialize:function(f,d,v,m,y,T){var S,A;if(a(d)){var P=d;d=o(P,"key"),S=new r(f,{key:d,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),A=new l(f,{key:d,url:o(P,"fontDataURL"),extension:o(P,"fontDataExtension","xml"),xhrSettings:o(P,"fontDataXhrSettings")})}else S=new r(f,d,v,y),A=new l(f,d,m,T);S.linkFile?i.call(this,f,"bitmapfont",d,[S,A,S.linkFile]):i.call(this,f,"bitmapfont",d,[S,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1];u.addToCache();var d=u.cache.get(u.key),v=n(f.data,u.cache.getFrame(u.key),0,0,d);this.loader.cacheManager.bitmapFont.add(u.key,{data:v,texture:u.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(u,f,d,v,m){var y;if(Array.isArray(u))for(var T=0;T<u.length;T++)y=new s(this,u[T]),this.addFile(y.files);else y=new s(this,u,f,d,v,m),this.addFile(y.files);return this}),c.exports=s},16024:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){var v="css";if(i(u)){var m=u;u=a(m,"key"),f=a(m,"url"),d=a(m,"xhrSettings"),v=a(m,"extension",v)}var y={type:"script",cache:!1,extension:v,responseType:"text",key:u,url:f,xhrSettings:d};o.call(this,s,y)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),c.exports=n},69559:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38734),x=t(85722),o=t(83419),r=t(74099),a=t(95540),i=t(19550),n=t(41212),l=t(518),s=t(31403),u=t(46975),f=t(59327),d=t(26430),v=t(82038),m=t(55222),y=new o({Extends:d,initialize:function(S,A,P,w){if(P.multiAtlasURL){var M=new l(S,{key:A,url:P.multiAtlasURL,xhrSettings:w,config:P});d.call(this,S,"texture",A,[M])}else{var D=P.textureURL.substr(P.textureURL.length-3);P.type||(P.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var F=new x(S,{key:A,url:P.textureURL,extension:D,xhrSettings:w,config:P});if(P.atlasURL){var L=new l(S,{key:A,url:P.atlasURL,xhrSettings:w,config:P});d.call(this,S,"texture",A,[F,L])}else d.call(this,S,"texture",A,[F])}this.config=P},onFileComplete:function(T){var S=this.files.indexOf(T);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var A=T.data.textures,P=this.config,w=this.loader,M=w.baseURL,D=w.path,F=w.prefix,L=a(P,"multiBaseURL",this.baseURL),O=a(P,"multiPath",this.path),B=a(P,"prefix",this.prefix),U=a(P,"textureXhrSettings");L&&w.setBaseURL(L),O&&w.setPath(O),B&&w.setPrefix(B);for(var W=0;W<A.length;W++){var H=A[W].image,Y="CMA"+this.multiKeyIndex+"_"+H,G=new x(w,Y,H,U);if(this.addToMultiFile(G),w.addFile(G),A[W].normalMap){var X=new x(w,Y,A[W].normalMap,U);X.type="normalMap",G.setLink(X),this.addToMultiFile(X),w.addFile(X)}}w.setBaseURL(M),w.setPath(D),w.setPrefix(F)}}},addToCache:function(){function T(L){console.warn('Compressed Texture Invalid: "'+M.key+'". '+L)}if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,P=this.loader.textureManager,w,M=this.files[0],D=this.files[1];if(S.type==="PVR"?w=v(M.data):S.type==="KTX"&&(w=s(M.data),w||T("KTX file contains unsupported format.")),w&&!m(w)&&(T("Texture dimensions failed verification. Check the texture format specifications for "+S.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!A.supportsCompressedTexture(S.format,w.internalFormat)&&(T("Texture format "+S.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=A.getCompressedTextureName(S.format,w.internalFormat);var F=D&&D.data?D.data:null;P.addCompressedTexture(M.key,w,F)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,S=this.files[0],A=[],P=[],w=[],M=this.loader.systems.renderer,D=this.loader.textureManager,F,L=1;L<this.files.length;L++){var O=this.files[L];if(O.type!=="normalMap")for(var B=O.key.indexOf("_"),U=O.key.substr(B+1),W=O.data,H=0;H<S.data.textures.length;H++){var Y=S.data.textures[H];if(Y.image===U){T.type==="PVR"?F=v(W):T.type==="KTX"&&(F=s(W)),F&&M.supportsCompressedTexture(T.format,F.internalFormat)&&(F.format=M.getCompressedTextureName(T.format,F.internalFormat),P.push(F),A.push(Y),O.linkFile&&w.push(O.linkFile.data));break}}}w.length===0&&(w=void 0),D.addAtlasJSONArray(this.key,P,A,w),this.complete=!0}});r.register("texture",function(T,S,A){var P=this.systems.renderer,w=function(D,F,L,O){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(F)){var U=F;F=a(U,"key"),L=a(U,"url"),O=a(U,"xhrSettings")}var W=!1;for(var H in L)if(P.supportsCompressedTexture(H)){var Y=L[H];typeof Y=="string"?B.textureURL=Y:B=u(Y,B),B.format=H.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",F);else if(B.format==="IMG"){var G,X;B.multiAtlasURL?(X=new f(D,F,B.multiAtlasURL,B.multiPath,B.multiBaseURL,O),G=X.files):B.atlasURL?(X=new h(D,F,B.textureURL,B.atlasURL,O),G=X.files):G=new i(D,F,B.textureURL,O),D.addFile(G)}else{var V=new y(D,F,B,O);D.addFile(V.files)}};if(Array.isArray(T))for(var M=0;M<T.length;M++)w(this,T[M]);else w(this,T,S,A);return this}),c.exports=y},87674:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(98356),n=t(41212),l=new h({Extends:o,initialize:function(u,f,d,v,m,y){var T="ttf";if(n(f)){var S=f;f=a(S,"key"),d=a(S,"url"),v=a(S,"format","truetype"),m=a(S,"descriptors",null),y=a(S,"xhrSettings"),T=a(S,"extension",T)}else v===void 0&&(v="truetype");var A={type:"font",cache:!1,extension:T,responseType:"text",key:f,url:d,xhrSettings:y};o.call(this,u,A),this.data={format:v,descriptors:m},this.state=x.FILE_POPULATED},onProcess:function(){this.state=x.FILE_PROCESSING,this.src=i(this,this.loader.baseURL);var s,u=this.key,f="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?s=new FontFace(u,f,this.data.descriptors):s=new FontFace(u,f);var d=this;s.load().then(function(){document.fonts.add(s),document.body.classList.add("fonts-loaded"),d.onProcessComplete()}).catch(function(){console.warn("Font failed to load",f),d.onProcessComplete()})}});r.register("font",function(s,u,f,d,v){if(Array.isArray(s))for(var m=0;m<s.length;m++)this.addFile(new l(this,s[m]));else this.addFile(new l(this,s,u,f,d,v));return this}),c.exports=l},47931:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=t(73894),l=new h({Extends:o,initialize:function(u,f,d,v,m){var y="glsl";if(i(f)){var T=f;f=a(T,"key"),d=a(T,"url"),v=a(T,"shaderType","fragment"),m=a(T,"xhrSettings"),y=a(T,"extension",y)}else v===void 0&&(v="fragment");var S={type:"glsl",cache:u.cacheManager.shader,extension:y,responseType:"text",key:f,url:d,config:{shaderType:v},xhrSettings:m};o.call(this,u,S)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),u=this.extractBlock(s,0);if(u)for(;u;){var f=this.getShaderName(u.header),d=this.getShaderType(u.header),v=this.getShaderUniforms(u.header),m=u.shader;if(this.cache.has(f)){var y=this.cache.get(f);d==="fragment"?y.fragmentSrc=m:y.vertexSrc=m,y.uniforms||(y.uniforms=v)}else d==="fragment"?this.cache.add(f,new n(f,m,"",v)):this.cache.add(f,new n(f,"",m,v));u=this.extractBlock(s,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(s){for(var u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(s){for(var u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var u={},f=0;f<s.length;f++){var d=s[f].trim();if(d.substring(0,8)==="uniform."){var v=d.indexOf(":");if(v){var m=d.substring(8,v);try{u[m]=JSON.parse(d.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return u},extractBlock:function(s,u){for(var f=-1,d=-1,v=-1,m=!1,y=!1,T=[],S=[],A=u;A<s.length;A++){var P=s[A].trim();if(P==="---")if(f===-1)f=A,m=!0;else if(m)d=A,m=!1,y=!0;else{y=!1;break}else m?T.push(P):y&&(S.push(P),v=A)}return!m&&d!==-1?{header:T,shader:S.join(`
`),offset:v}:null}});r.register("glsl",function(s,u,f,d){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,f,d));return this}),c.exports=l},89749:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(54899),o=t(41299),r=t(95540),a=t(98356),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){if(i(u)){var v=u;u=r(v,"key"),d=r(v,"config",d)}var m={type:"audio",cache:s.cacheManager.audio,extension:f.type,key:u,url:f.url,config:d};o.call(this,s,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var s=this.data[l];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var s=l.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<l;s++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+s).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(s=0;s<this.data.length;s++)u=this.data[s],u.src=a(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=n},88470:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){var v="html";if(i(u)){var m=u;u=a(m,"key"),f=a(m,"url"),d=a(m,"xhrSettings"),v=a(m,"extension",v)}var y={type:"text",cache:s.cacheManager.html,extension:v,responseType:"text",key:u,url:f,xhrSettings:d};o.call(this,s,y)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),c.exports=n},14643:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v,m){d===void 0&&(d=512),v===void 0&&(v=512);var y="html";if(i(u)){var T=u;u=a(T,"key"),f=a(T,"url"),m=a(T,"xhrSettings"),y=a(T,"extension",y),d=a(T,"width",d),v=a(T,"height",v)}var S={type:"html",cache:s.textureManager,extension:y,responseType:"text",key:u,url:f,xhrSettings:m,config:{width:d,height:v}};o.call(this,s,S)},onProcess:function(){this.state=x.FILE_PROCESSING;var l=this.config.width,s=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+s+'px" viewBox="0 0 '+l+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var f=[u.join(`
`)],d=this;try{var v=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=x.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(d.data),d.onProcessError()},o.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(l,s,u,f,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,d));return this}),c.exports=n},19550:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=t(98356),l=new h({Extends:o,initialize:function s(u,f,d,v,m){var y="png",T;if(i(f)){var S=f;f=a(S,"key"),d=a(S,"url"),T=a(S,"normalMap"),v=a(S,"xhrSettings"),y=a(S,"extension",y),m=a(S,"frameConfig")}Array.isArray(d)&&(T=d[1],d=d[0]);var A={type:"image",cache:u.textureManager,extension:y,responseType:"blob",key:f,url:d,xhrSettings:v,config:m};if(o.call(this,u,A),T){var P=new s(u,this.key,T,v,m);P.type="normalMap",this.setLink(P),u.addFile(P)}this.useImageElementLoad=u.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){o.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(s.data),s.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=x.FILE_PROCESSING,s===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=x.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=x.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(s,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f));return this}),c.exports=l},518:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(35154),n=t(41212),l=new h({Extends:o,initialize:function(u,f,d,v,m){var y="json";if(n(f)){var T=f;f=a(T,"key"),d=a(T,"url"),v=a(T,"xhrSettings"),y=a(T,"extension",y),m=a(T,"dataKey",m)}var S={type:"json",cache:u.cacheManager.json,extension:y,responseType:"text",key:f,url:d,xhrSettings:v,config:m};o.call(this,u,S),n(d)&&(m?this.data=i(d,m):this.data=d,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var u=this.config;typeof u=="string"?this.data=i(s,u,s):this.data=s}this.onProcessComplete()}});r.register("json",function(s,u,f,d){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,d,f));return this}),c.exports=l},59327:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),r=t(19550),a=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,d,v,m,y,T){if(a(f)){var S=f;f=o(S,"key"),o(S,"url",!1)?d=o(S,"url"):d=o(S,"atlasURL"),y=o(S,"xhrSettings"),v=o(S,"path"),m=o(S,"baseURL"),T=o(S,"textureXhrSettings")}var A=new i(u,f,d,y);n.call(this,u,"multiatlas",f,[A]),this.config.path=v,this.config.baseURL=m,this.config.textureXhrSettings=T},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var f=s.data.textures,d=this.config,v=this.loader,m=v.baseURL,y=v.path,T=v.prefix,S=o(d,"baseURL",this.baseURL),A=o(d,"path",this.path),P=o(d,"prefix",this.prefix),w=o(d,"textureXhrSettings");v.setBaseURL(S),v.setPath(A),v.setPrefix(P);for(var M=0;M<f.length;M++){var D=f[M].image,F="MA"+this.multiKeyIndex+"_"+D,L=new r(v,F,D,w);if(this.addToMultiFile(L),v.addFile(L),f[M].normalMap){var O=new r(v,F,f[M].normalMap,w);O.type="normalMap",L.setLink(O),this.addToMultiFile(O),v.addFile(O)}}v.setBaseURL(m),v.setPath(y),v.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],u=[],f=[],d=[],v=1;v<this.files.length;v++){var m=this.files[v];if(m.type!=="normalMap")for(var y=m.key.indexOf("_"),T=m.key.substr(y+1),S=m.data,A=0;A<s.data.textures.length;A++){var P=s.data.textures[A];if(P.image===T){f.push(S),u.push(P),m.linkFile&&d.push(m.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,u,d),this.complete=!0}}});x.register("multiatlas",function(s,u,f,d,v){var m;if(Array.isArray(s))for(var y=0;y<s.length;y++)m=new l(this,s[y]),this.addFile(m.files);else m=new l(this,s,u,f,d,v),this.addFile(m.files);return this}),c.exports=l},99297:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),r=t(41212),a=t(26430),i=t(34328),n=new h({Extends:a,initialize:function(s,u,f,d){var v="js",m=[];if(r(u)){var y=u;u=o(y,"key"),f=o(y,"url"),d=o(y,"xhrSettings"),v=o(y,"extension",v)}Array.isArray(f)||(f=[f]);for(var T=0;T<f.length;T++){var S=new i(s,{key:u+"_"+T.toString(),url:f[T],extension:v,xhrSettings:d});S.onProcess=function(){this.onProcessComplete()},m.push(S)}a.call(this,s,"scripts",u,m)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var s=this.files[l];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});x.register("scripts",function(l,s,u){var f;if(Array.isArray(l))for(var d=0;d<l.length;d++)f=new n(this,l[d]),this.addFile(f.files);else f=new n(this,l,s,u),this.addFile(f.files);return this}),c.exports=n},41846:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),r=t(41212),a=t(26430),i=t(85048),n=t(61485),l=t(78776),s=new h({Extends:a,initialize:function(f,d,v,m,y,T){var S,A,P=f.cacheManager.obj;if(r(d)){var w=d;d=o(w,"key"),S=new l(f,{key:d,type:"obj",cache:P,url:o(w,"url"),extension:o(w,"extension","obj"),xhrSettings:o(w,"xhrSettings"),config:{flipUV:o(w,"flipUV",y)}}),m=o(w,"matURL"),m&&(A=new l(f,{key:d,type:"mat",cache:P,url:m,extension:o(w,"matExtension","mat"),xhrSettings:o(w,"xhrSettings")}))}else S=new l(f,{key:d,url:v,type:"obj",cache:P,extension:"obj",xhrSettings:T,config:{flipUV:y}}),m&&(A=new l(f,{key:d,url:m,type:"mat",cache:P,extension:"mat",xhrSettings:T}));a.call(this,f,"obj",d,[S,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1],d=i(u.data,u.config.flipUV);f&&(d.materials=n(f.data)),u.cache.add(u.key,d),this.complete=!0}}});x.register("obj",function(u,f,d,v,m){var y;if(Array.isArray(u))for(var T=0;T<u.length;T++)y=new s(this,u[T]),this.addFile(y.files);else y=new s(this,u,f,d,v,m),this.addFile(y.files);return this}),c.exports=s},58610:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(74099),r=t(518),a=new h({Extends:r,initialize:function(n,l,s,u,f){r.call(this,n,l,s,u,f),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var i={};i[this.config]=this.data,this.data=i}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new a(this,i[u]));else this.addFile(new a(this,i,n,s,l));return this}),c.exports=a},48988:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v,m){var y="js";if(i(u)){var T=u;u=a(T,"key"),f=a(T,"url"),m=a(T,"xhrSettings"),y=a(T,"extension",y),d=a(T,"start"),v=a(T,"mapping")}var S={type:"plugin",cache:!1,extension:y,responseType:"text",key:u,url:f,xhrSettings:m,config:{start:d,mapping:v}};o.call(this,s,S),typeof f=="function"&&(this.data=f,this.state=x.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=a(s,"start",!1),f=a(s,"mapping",null);if(this.state===x.FILE_POPULATED)l.install(this.key,this.data,u,f);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=l.install(this.key,window[this.key],u,f);(u||f)&&(this.loader.systems[f]=d,this.loader.scene[f]=d)}this.onProcessComplete()}});r.register("plugin",function(l,s,u,f,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,d));return this}),c.exports=n},67397:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v){var m="svg";if(i(u)){var y=u;u=a(y,"key"),f=a(y,"url"),d=a(y,"svgConfig",{}),v=a(y,"xhrSettings"),m=a(y,"extension",m)}var T={type:"svg",cache:s.textureManager,extension:m,responseType:"text",key:u,url:f,xhrSettings:v,config:{width:a(d,"width"),height:a(d,"height"),scale:a(d,"scale")}};o.call(this,s,T)},onProcess:function(){this.state=x.FILE_PROCESSING;var l=this.xhrLoader.responseText,s=[l],u=this.config.width,f=this.config.height,d=this.config.scale;t:if(u&&f||d){var v=null,m=new DOMParser;v=m.parseFromString(l,"text/xml");var y=v.getElementsByTagName("svg")[0],T=y.hasAttribute("viewBox"),S=parseFloat(y.getAttribute("width")),A=parseFloat(y.getAttribute("height"));if(!T&&S&&A)y.setAttribute("viewBox","0  0 "+S+" "+A);else if(T&&!S&&!A){var P=y.getAttribute("viewBox").split(/\s+|,/);S=P[2],A=P[3]}if(d)if(S&&A)u=S*d,f=A*d;else break t;y.setAttribute("width",u.toString()+"px"),y.setAttribute("height",f.toString()+"px"),s=[new XMLSerializer().serializeToString(y)]}try{var w=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var M=this,D=!1;this.data.onload=function(){D||o.revokeObjectURL(M.data),M.onProcessComplete()},this.data.onerror=function(){D?M.onProcessError():(D=!0,o.revokeObjectURL(M.data),M.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},o.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(l,s,u,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u,f));return this}),c.exports=n},88423:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){var v="js";if(i(u)){var m=u;u=a(m,"key"),f=a(m,"url"),d=a(m,"xhrSettings"),v=a(m,"extension",v)}var y={type:"text",extension:v,responseType:"text",key:u,url:f,xhrSettings:d};o.call(this,s,y)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(l)),this.complete=!0}});r.register("sceneFile",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),c.exports=n},56812:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v,m){var y="js";if(i(u)){var T=u;u=a(T,"key"),f=a(T,"url"),m=a(T,"xhrSettings"),y=a(T,"extension",y),d=a(T,"systemKey"),v=a(T,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:y,responseType:"text",key:u,url:f,xhrSettings:m,config:{systemKey:d,sceneKey:v}};o.call(this,s,S),typeof f=="function"&&(this.data=f,this.state=x.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=this.key,f=a(s,"systemKey",u),d=a(s,"sceneKey",u);this.state===x.FILE_POPULATED?l.installScenePlugin(f,this.data,d,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(l,s,u,f,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,d));return this}),c.exports=n},34328:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d,v){var m="js";if(i(u)){var y=u;u=a(y,"key"),f=a(y,"url"),d=a(y,"type","script"),v=a(y,"xhrSettings"),m=a(y,"extension",m)}else d===void 0&&(d="script");var T={type:d,cache:!1,extension:m,responseType:"text",key:u,url:f,xhrSettings:v};o.call(this,s,T)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(l,s,u,f){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u,f));return this}),c.exports=n},85035:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(74099),r=t(19550),a=new h({Extends:r,initialize:function(n,l,s,u,f){r.call(this,n,l,s,f,u),this.type="spritesheet"},addToCache:function(){var i=this.linkFile;i?i.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,i.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,i.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new a(this,i[u]));else this.addFile(new a(this,i,n,l,s));return this}),c.exports=a},78776:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,d){var v="text",m="txt",y=s.cacheManager.text;if(i(u)){var T=u;u=a(T,"key"),f=a(T,"url"),d=a(T,"xhrSettings"),m=a(T,"extension",m),v=a(T,"type",v),y=a(T,"cache",y)}var S={type:v,cache:y,extension:m,responseType:"text",key:u,url:f,xhrSettings:d};o.call(this,s,S)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),c.exports=n},49477:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=t(80341),l=new h({Extends:o,initialize:function(u,f,d,v){var m="csv";if(i(f)){var y=f;f=a(y,"key"),d=a(y,"url"),v=a(y,"xhrSettings"),m=a(y,"extension",m)}var T={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:m,responseType:"text",key:f,url:d,xhrSettings:v};o.call(this,u,T),this.tilemapFormat=n.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});r.register("tilemapCSV",function(s,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f));return this}),c.exports=l},40807:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(518),r=t(80341),a=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,i)}});x.register("tilemapImpact",function(i,n,l){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new a(this,i[s]));else this.addFile(new a(this,i,n,l));return this}),c.exports=a},56775:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(518),r=t(80341),a=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,i)}});x.register("tilemapTiledJSON",function(i,n,l){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new a(this,i[s]));else this.addFile(new a(this,i,n,l));return this}),c.exports=a},25771:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),r=t(19550),a=t(41212),i=t(26430),n=t(78776),l=new h({Extends:i,initialize:function(u,f,d,v,m,y){var T,S;if(a(f)){var A=f;f=o(A,"key"),T=new r(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),S=new n(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","txt"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new r(u,f,d,m),S=new n(u,f,v,y);T.linkFile?i.call(this,u,"unityatlas",f,[T,S,T.linkFile]):i.call(this,u,"unityatlas",f,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,u.data,f),this.complete=!0}}});x.register("unityAtlas",function(s,u,f,d,v){var m;if(Array.isArray(s))for(var y=0;y<s.length;y++)m=new l(this,s[y]),this.addFile(m.files);else m=new l(this,s,u,f,d,v),this.addFile(m.files);return this}),c.exports=l},33720:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(98356),i=t(95540),n=t(41212),l=new h({Extends:o,initialize:function(u,f,d,v){if(v===void 0&&(v=!1),n(f)){var m=f;f=i(m,"key"),d=i(m,"url",[]),v=i(m,"noAudio",!1)}var y=u.systems.game.device.video.getVideoURL(d);y||console.warn("VideoFile: No supported format for "+f);var T={type:"video",cache:u.cacheManager.video,extension:y.type,key:f,url:y.url,config:{noAudio:v}};o.call(this,u,T)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=a(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(s,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f));return this}),c.exports=l},57318:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),r=t(74099),a=t(95540),i=t(41212),n=t(56836),l=new h({Extends:o,initialize:function(u,f,d,v){var m="xml";if(i(f)){var y=f;f=a(y,"key"),d=a(y,"url"),v=a(y,"xhrSettings"),m=a(y,"extension",m)}var T={type:"xml",cache:u.cacheManager.xml,extension:m,responseType:"text",key:f,url:d,xhrSettings:v};o.call(this,u,T)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(s,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f));return this}),c.exports=l},64589:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23906),x=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=x(!1,o,h),c.exports=o},53307:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){for(var h=0,x=0;x<t.length;x++)h+=+t[x];return h/t.length};c.exports=E},85710:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6411),x=function(o,r){return h(o)/h(r)/h(o-r)};c.exports=x},30976:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};c.exports=E},87842:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r){var a=(o-h)*.5,i=(r-x)*.5,n=t*t,l=t*n;return(2*x-2*o+a+i)*l+(-3*x+3*o-2*a-i)*n+a*t+x};c.exports=E},26302:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var o=Math.pow(x,-h);return Math.ceil(t*o)/o};c.exports=E},45319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return Math.max(h,Math.min(x,t))};c.exports=E},39506:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=function(o){return o*h.DEG_TO_RAD};c.exports=x},61241:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return Math.abs(t-h)};c.exports=E},38857:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(37867),r=t(29747),a=new o,i=new x({initialize:function n(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=n.DefaultOrder),this._x=l,this._y=s,this._z=u,this._order=f,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,s,u){return u===void 0&&(u=this._order),this._x=n,this._y=l,this._z=s,this._order=u,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,s){return l===void 0&&(l=this._order),s===void 0&&(s=!1),a.fromQuat(n),this.setFromRotationMatrix(a,l,s)},setFromRotationMatrix:function(n,l,s){l===void 0&&(l=this._order),s===void 0&&(s=!1);var u=n.val,f=u[0],d=u[4],v=u[8],m=u[1],y=u[5],T=u[9],S=u[2],A=u[6],P=u[10],w=0,M=0,D=0,F=.99999;switch(l){case"XYZ":{M=Math.asin(h(v,-1,1)),Math.abs(v)<F?(w=Math.atan2(-T,P),D=Math.atan2(-d,f)):w=Math.atan2(A,y);break}case"YXZ":{w=Math.asin(-h(T,-1,1)),Math.abs(T)<F?(M=Math.atan2(v,P),D=Math.atan2(m,y)):M=Math.atan2(-S,f);break}case"ZXY":{w=Math.asin(h(A,-1,1)),Math.abs(A)<F?(M=Math.atan2(-S,P),D=Math.atan2(-d,y)):D=Math.atan2(m,f);break}case"ZYX":{M=Math.asin(-h(S,-1,1)),Math.abs(S)<F?(w=Math.atan2(A,P),D=Math.atan2(m,f)):D=Math.atan2(-d,y);break}case"YZX":{D=Math.asin(h(m,-1,1)),Math.abs(m)<F?(w=Math.atan2(-T,y),M=Math.atan2(-S,f)):M=Math.atan2(v,P);break}case"XZY":{D=Math.asin(-h(d,-1,1)),Math.abs(d)<F?(w=Math.atan2(A,y),M=Math.atan2(v,f)):w=Math.atan2(-T,P);break}}return this._x=w,this._y=M,this._z=D,this._order=l,s&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",c.exports=i},6411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};c.exports=E},99472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return Math.random()*(h-t)+t};c.exports=E},77623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var o=Math.pow(x,-h);return Math.floor(t*o)/o};c.exports=E},62945:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=function(o,r,a){return o=h(o,0,1),(a-r)*o+r};c.exports=x},38265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t/h/1e3};c.exports=E},78702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t==parseFloat(t)?!(t%2):void 0};c.exports=E},94883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t===parseFloat(t)?!(t%2):void 0};c.exports=E},28915:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return(h-t)*x+t};c.exports=E},94908:c=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return x===void 0&&(x=0),t.clone().lerp(h,x)};c.exports=E},94434:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new x(this)},set:function(o){return this.copy(o)},copy:function(o){var r=this.val,a=o.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},fromMat4:function(o){var r=o.val,a=this.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[4],a[4]=r[5],a[5]=r[6],a[6]=r[8],a[7]=r[9],a[8]=r[10],this},fromArray:function(o){var r=this.val;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,r=o[1],a=o[2],i=o[5];return o[1]=o[3],o[2]=o[6],o[3]=r,o[5]=o[7],o[6]=a,o[7]=i,this},invert:function(){var o=this.val,r=o[0],a=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],d=o[8],v=d*l-s*f,m=-d*n+s*u,y=f*n-l*u,T=r*v+a*m+i*y;return T?(T=1/T,o[0]=v*T,o[1]=(-d*a+i*f)*T,o[2]=(s*a-i*l)*T,o[3]=m*T,o[4]=(d*r-i*u)*T,o[5]=(-s*r+i*n)*T,o[6]=y*T,o[7]=(-f*r+a*u)*T,o[8]=(l*r-a*n)*T,this):null},adjoint:function(){var o=this.val,r=o[0],a=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],d=o[8];return o[0]=l*d-s*f,o[1]=i*f-a*d,o[2]=a*s-i*l,o[3]=s*u-n*d,o[4]=r*d-i*u,o[5]=i*n-r*s,o[6]=n*f-l*u,o[7]=a*u-r*f,o[8]=r*l-a*n,this},determinant:function(){var o=this.val,r=o[0],a=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],d=o[8];return r*(d*l-s*f)+a*(-d*n+s*u)+i*(f*n-l*u)},multiply:function(o){var r=this.val,a=r[0],i=r[1],n=r[2],l=r[3],s=r[4],u=r[5],f=r[6],d=r[7],v=r[8],m=o.val,y=m[0],T=m[1],S=m[2],A=m[3],P=m[4],w=m[5],M=m[6],D=m[7],F=m[8];return r[0]=y*a+T*l+S*f,r[1]=y*i+T*s+S*d,r[2]=y*n+T*u+S*v,r[3]=A*a+P*l+w*f,r[4]=A*i+P*s+w*d,r[5]=A*n+P*u+w*v,r[6]=M*a+D*l+F*f,r[7]=M*i+D*s+F*d,r[8]=M*n+D*u+F*v,this},translate:function(o){var r=this.val,a=o.x,i=o.y;return r[6]=a*r[0]+i*r[3]+r[6],r[7]=a*r[1]+i*r[4]+r[7],r[8]=a*r[2]+i*r[5]+r[8],this},rotate:function(o){var r=this.val,a=r[0],i=r[1],n=r[2],l=r[3],s=r[4],u=r[5],f=Math.sin(o),d=Math.cos(o);return r[0]=d*a+f*l,r[1]=d*i+f*s,r[2]=d*n+f*u,r[3]=d*l-f*a,r[4]=d*s-f*i,r[5]=d*u-f*n,this},scale:function(o){var r=this.val,a=o.x,i=o.y;return r[0]=a*r[0],r[1]=a*r[1],r[2]=a*r[2],r[3]=i*r[3],r[4]=i*r[4],r[5]=i*r[5],this},fromQuat:function(o){var r=o.x,a=o.y,i=o.z,n=o.w,l=r+r,s=a+a,u=i+i,f=r*l,d=r*s,v=r*u,m=a*s,y=a*u,T=i*u,S=n*l,A=n*s,P=n*u,w=this.val;return w[0]=1-(m+T),w[3]=d+P,w[6]=v-A,w[1]=d-P,w[4]=1-(f+T),w[7]=y+S,w[2]=v+A,w[5]=y-S,w[8]=1-(f+m),this},normalFromMat4:function(o){var r=o.val,a=this.val,i=r[0],n=r[1],l=r[2],s=r[3],u=r[4],f=r[5],d=r[6],v=r[7],m=r[8],y=r[9],T=r[10],S=r[11],A=r[12],P=r[13],w=r[14],M=r[15],D=i*f-n*u,F=i*d-l*u,L=i*v-s*u,O=n*d-l*f,B=n*v-s*f,U=l*v-s*d,W=m*P-y*A,H=m*w-T*A,Y=m*M-S*A,G=y*w-T*P,X=y*M-S*P,V=T*M-S*w,b=D*V-F*X+L*G+O*Y-B*H+U*W;return b?(b=1/b,a[0]=(f*V-d*X+v*G)*b,a[1]=(d*Y-u*V-v*H)*b,a[2]=(u*X-f*Y+v*W)*b,a[3]=(l*X-n*V-s*G)*b,a[4]=(i*V-l*Y+s*H)*b,a[5]=(n*Y-i*X-s*W)*b,a[6]=(P*U-w*B+M*O)*b,a[7]=(w*L-A*U-M*F)*b,a[8]=(A*B-P*L+M*D)*b,this):null}});c.exports=x},37867:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(25836),o=1e-6,r=new h({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new r(this)},set:function(u){return this.copy(u)},setValues:function(u,f,d,v,m,y,T,S,A,P,w,M,D,F,L,O){var B=this.val;return B[0]=u,B[1]=f,B[2]=d,B[3]=v,B[4]=m,B[5]=y,B[6]=T,B[7]=S,B[8]=A,B[9]=P,B[10]=w,B[11]=M,B[12]=D,B[13]=F,B[14]=L,B[15]=O,this},copy:function(u){var f=u.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,f,d){var v=a.fromQuat(d),m=v.val,y=f.x,T=f.y,S=f.z;return this.setValues(m[0]*y,m[1]*y,m[2]*y,0,m[4]*T,m[5]*T,m[6]*T,0,m[8]*S,m[9]*S,m[10]*S,0,u.x,u.y,u.z,1)},xyz:function(u,f,d){this.identity();var v=this.val;return v[12]=u,v[13]=f,v[14]=d,this},scaling:function(u,f,d){this.zero();var v=this.val;return v[0]=u,v[5]=f,v[10]=d,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,f=u[1],d=u[2],v=u[3],m=u[6],y=u[7],T=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=f,u[6]=u[9],u[7]=u[13],u[8]=d,u[9]=m,u[11]=u[14],u[12]=v,u[13]=y,u[14]=T,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,f=u[0],d=u[1],v=u[2],m=u[3],y=u[4],T=u[5],S=u[6],A=u[7],P=u[8],w=u[9],M=u[10],D=u[11],F=u[12],L=u[13],O=u[14],B=u[15],U=f*T-d*y,W=f*S-v*y,H=f*A-m*y,Y=d*S-v*T,G=d*A-m*T,X=v*A-m*S,V=P*L-w*F,b=P*O-M*F,z=P*B-D*F,$=w*O-M*L,Q=w*B-D*L,Z=M*B-D*O,q=U*Z-W*Q+H*$+Y*z-G*b+X*V;return q?(q=1/q,this.setValues((T*Z-S*Q+A*$)*q,(v*Q-d*Z-m*$)*q,(L*X-O*G+B*Y)*q,(M*G-w*X-D*Y)*q,(S*z-y*Z-A*b)*q,(f*Z-v*z+m*b)*q,(O*H-F*X-B*W)*q,(P*X-M*H+D*W)*q,(y*Q-T*z+A*V)*q,(d*z-f*Q-m*V)*q,(F*G-L*H+B*U)*q,(w*H-P*G-D*U)*q,(T*b-y*$-S*V)*q,(f*$-d*b+v*V)*q,(L*W-F*Y-O*U)*q,(P*Y-w*W+M*U)*q)):this},adjoint:function(){var u=this.val,f=u[0],d=u[1],v=u[2],m=u[3],y=u[4],T=u[5],S=u[6],A=u[7],P=u[8],w=u[9],M=u[10],D=u[11],F=u[12],L=u[13],O=u[14],B=u[15];return this.setValues(T*(M*B-D*O)-w*(S*B-A*O)+L*(S*D-A*M),-(d*(M*B-D*O)-w*(v*B-m*O)+L*(v*D-m*M)),d*(S*B-A*O)-T*(v*B-m*O)+L*(v*A-m*S),-(d*(S*D-A*M)-T*(v*D-m*M)+w*(v*A-m*S)),-(y*(M*B-D*O)-P*(S*B-A*O)+F*(S*D-A*M)),f*(M*B-D*O)-P*(v*B-m*O)+F*(v*D-m*M),-(f*(S*B-A*O)-y*(v*B-m*O)+F*(v*A-m*S)),f*(S*D-A*M)-y*(v*D-m*M)+P*(v*A-m*S),y*(w*B-D*L)-P*(T*B-A*L)+F*(T*D-A*w),-(f*(w*B-D*L)-P*(d*B-m*L)+F*(d*D-m*w)),f*(T*B-A*L)-y*(d*B-m*L)+F*(d*A-m*T),-(f*(T*D-A*w)-y*(d*D-m*w)+P*(d*A-m*T)),-(y*(w*O-M*L)-P*(T*O-S*L)+F*(T*M-S*w)),f*(w*O-M*L)-P*(d*O-v*L)+F*(d*M-v*w),-(f*(T*O-S*L)-y*(d*O-v*L)+F*(d*S-v*T)),f*(T*M-S*w)-y*(d*M-v*w)+P*(d*S-v*T))},determinant:function(){var u=this.val,f=u[0],d=u[1],v=u[2],m=u[3],y=u[4],T=u[5],S=u[6],A=u[7],P=u[8],w=u[9],M=u[10],D=u[11],F=u[12],L=u[13],O=u[14],B=u[15],U=f*T-d*y,W=f*S-v*y,H=f*A-m*y,Y=d*S-v*T,G=d*A-m*T,X=v*A-m*S,V=P*L-w*F,b=P*O-M*F,z=P*B-D*F,$=w*O-M*L,Q=w*B-D*L,Z=M*B-D*O;return U*Z-W*Q+H*$+Y*z-G*b+X*V},multiply:function(u){var f=this.val,d=f[0],v=f[1],m=f[2],y=f[3],T=f[4],S=f[5],A=f[6],P=f[7],w=f[8],M=f[9],D=f[10],F=f[11],L=f[12],O=f[13],B=f[14],U=f[15],W=u.val,H=W[0],Y=W[1],G=W[2],X=W[3];return f[0]=H*d+Y*T+G*w+X*L,f[1]=H*v+Y*S+G*M+X*O,f[2]=H*m+Y*A+G*D+X*B,f[3]=H*y+Y*P+G*F+X*U,H=W[4],Y=W[5],G=W[6],X=W[7],f[4]=H*d+Y*T+G*w+X*L,f[5]=H*v+Y*S+G*M+X*O,f[6]=H*m+Y*A+G*D+X*B,f[7]=H*y+Y*P+G*F+X*U,H=W[8],Y=W[9],G=W[10],X=W[11],f[8]=H*d+Y*T+G*w+X*L,f[9]=H*v+Y*S+G*M+X*O,f[10]=H*m+Y*A+G*D+X*B,f[11]=H*y+Y*P+G*F+X*U,H=W[12],Y=W[13],G=W[14],X=W[15],f[12]=H*d+Y*T+G*w+X*L,f[13]=H*v+Y*S+G*M+X*O,f[14]=H*m+Y*A+G*D+X*B,f[15]=H*y+Y*P+G*F+X*U,this},multiplyLocal:function(u){var f=this.val,d=u.val;return this.setValues(f[0]*d[0]+f[1]*d[4]+f[2]*d[8]+f[3]*d[12],f[0]*d[1]+f[1]*d[5]+f[2]*d[9]+f[3]*d[13],f[0]*d[2]+f[1]*d[6]+f[2]*d[10]+f[3]*d[14],f[0]*d[3]+f[1]*d[7]+f[2]*d[11]+f[3]*d[15],f[4]*d[0]+f[5]*d[4]+f[6]*d[8]+f[7]*d[12],f[4]*d[1]+f[5]*d[5]+f[6]*d[9]+f[7]*d[13],f[4]*d[2]+f[5]*d[6]+f[6]*d[10]+f[7]*d[14],f[4]*d[3]+f[5]*d[7]+f[6]*d[11]+f[7]*d[15],f[8]*d[0]+f[9]*d[4]+f[10]*d[8]+f[11]*d[12],f[8]*d[1]+f[9]*d[5]+f[10]*d[9]+f[11]*d[13],f[8]*d[2]+f[9]*d[6]+f[10]*d[10]+f[11]*d[14],f[8]*d[3]+f[9]*d[7]+f[10]*d[11]+f[11]*d[15],f[12]*d[0]+f[13]*d[4]+f[14]*d[8]+f[15]*d[12],f[12]*d[1]+f[13]*d[5]+f[14]*d[9]+f[15]*d[13],f[12]*d[2]+f[13]*d[6]+f[14]*d[10]+f[15]*d[14],f[12]*d[3]+f[13]*d[7]+f[14]*d[11]+f[15]*d[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,f){var d=u.val,v=f.val,m=d[0],y=d[4],T=d[8],S=d[12],A=d[1],P=d[5],w=d[9],M=d[13],D=d[2],F=d[6],L=d[10],O=d[14],B=d[3],U=d[7],W=d[11],H=d[15],Y=v[0],G=v[4],X=v[8],V=v[12],b=v[1],z=v[5],$=v[9],Q=v[13],Z=v[2],q=v[6],j=v[10],k=v[14],_=v[3],et=v[7],it=v[11],st=v[15];return this.setValues(m*Y+y*b+T*Z+S*_,A*Y+P*b+w*Z+M*_,D*Y+F*b+L*Z+O*_,B*Y+U*b+W*Z+H*_,m*G+y*z+T*q+S*et,A*G+P*z+w*q+M*et,D*G+F*z+L*q+O*et,B*G+U*z+W*q+H*et,m*X+y*$+T*j+S*it,A*X+P*$+w*j+M*it,D*X+F*$+L*j+O*it,B*X+U*$+W*j+H*it,m*V+y*Q+T*k+S*st,A*V+P*Q+w*k+M*st,D*V+F*Q+L*k+O*st,B*V+U*Q+W*k+H*st)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,f,d){var v=this.val;return v[12]=v[0]*u+v[4]*f+v[8]*d+v[12],v[13]=v[1]*u+v[5]*f+v[9]*d+v[13],v[14]=v[2]*u+v[6]*f+v[10]*d+v[14],v[15]=v[3]*u+v[7]*f+v[11]*d+v[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,f,d){var v=this.val;return v[0]=v[0]*u,v[1]=v[1]*u,v[2]=v[2]*u,v[3]=v[3]*u,v[4]=v[4]*f,v[5]=v[5]*f,v[6]=v[6]*f,v[7]=v[7]*f,v[8]=v[8]*d,v[9]=v[9]*d,v[10]=v[10]*d,v[11]=v[11]*d,this},makeRotationAxis:function(u,f){var d=Math.cos(f),v=Math.sin(f),m=1-d,y=u.x,T=u.y,S=u.z,A=m*y,P=m*T;return this.setValues(A*y+d,A*T-v*S,A*S+v*T,0,A*T+v*S,P*T+d,P*S-v*y,0,A*S-v*T,P*S+v*y,m*S*S+d,0,0,0,0,1)},rotate:function(u,f){var d=this.val,v=f.x,m=f.y,y=f.z,T=Math.sqrt(v*v+m*m+y*y);if(Math.abs(T)<o)return this;T=1/T,v*=T,m*=T,y*=T;var S=Math.sin(u),A=Math.cos(u),P=1-A,w=d[0],M=d[1],D=d[2],F=d[3],L=d[4],O=d[5],B=d[6],U=d[7],W=d[8],H=d[9],Y=d[10],G=d[11],X=d[12],V=d[13],b=d[14],z=d[15],$=v*v*P+A,Q=m*v*P+y*S,Z=y*v*P-m*S,q=v*m*P-y*S,j=m*m*P+A,k=y*m*P+v*S,_=v*y*P+m*S,et=m*y*P-v*S,it=y*y*P+A;return this.setValues(w*$+L*Q+W*Z,M*$+O*Q+H*Z,D*$+B*Q+Y*Z,F*$+U*Q+G*Z,w*q+L*j+W*k,M*q+O*j+H*k,D*q+B*j+Y*k,F*q+U*j+G*k,w*_+L*et+W*it,M*_+O*et+H*it,D*_+B*et+Y*it,F*_+U*et+G*it,X,V,b,z)},rotateX:function(u){var f=this.val,d=Math.sin(u),v=Math.cos(u),m=f[4],y=f[5],T=f[6],S=f[7],A=f[8],P=f[9],w=f[10],M=f[11];return f[4]=m*v+A*d,f[5]=y*v+P*d,f[6]=T*v+w*d,f[7]=S*v+M*d,f[8]=A*v-m*d,f[9]=P*v-y*d,f[10]=w*v-T*d,f[11]=M*v-S*d,this},rotateY:function(u){var f=this.val,d=Math.sin(u),v=Math.cos(u),m=f[0],y=f[1],T=f[2],S=f[3],A=f[8],P=f[9],w=f[10],M=f[11];return f[0]=m*v-A*d,f[1]=y*v-P*d,f[2]=T*v-w*d,f[3]=S*v-M*d,f[8]=m*d+A*v,f[9]=y*d+P*v,f[10]=T*d+w*v,f[11]=S*d+M*v,this},rotateZ:function(u){var f=this.val,d=Math.sin(u),v=Math.cos(u),m=f[0],y=f[1],T=f[2],S=f[3],A=f[4],P=f[5],w=f[6],M=f[7];return f[0]=m*v+A*d,f[1]=y*v+P*d,f[2]=T*v+w*d,f[3]=S*v+M*d,f[4]=A*v-m*d,f[5]=P*v-y*d,f[6]=w*v-T*d,f[7]=M*v-S*d,this},fromRotationTranslation:function(u,f){var d=u.x,v=u.y,m=u.z,y=u.w,T=d+d,S=v+v,A=m+m,P=d*T,w=d*S,M=d*A,D=v*S,F=v*A,L=m*A,O=y*T,B=y*S,U=y*A;return this.setValues(1-(D+L),w+U,M-B,0,w-U,1-(P+L),F+O,0,M+B,F-O,1-(P+D),0,f.x,f.y,f.z,1)},fromQuat:function(u){var f=u.x,d=u.y,v=u.z,m=u.w,y=f+f,T=d+d,S=v+v,A=f*y,P=f*T,w=f*S,M=d*T,D=d*S,F=v*S,L=m*y,O=m*T,B=m*S;return this.setValues(1-(M+F),P+B,w-O,0,P-B,1-(A+F),D+L,0,w+O,D-L,1-(A+M),0,0,0,0,1)},frustum:function(u,f,d,v,m,y){var T=1/(f-u),S=1/(v-d),A=1/(m-y);return this.setValues(m*2*T,0,0,0,0,m*2*S,0,0,(f+u)*T,(v+d)*S,(y+m)*A,-1,0,0,y*m*2*A,0)},perspective:function(u,f,d,v){var m=1/Math.tan(u/2),y=1/(d-v);return this.setValues(m/f,0,0,0,0,m,0,0,0,0,(v+d)*y,-1,0,0,2*v*d*y,0)},perspectiveLH:function(u,f,d,v){return this.setValues(2*d/u,0,0,0,0,2*d/f,0,0,0,0,-v/(d-v),1,0,0,d*v/(d-v),0)},ortho:function(u,f,d,v,m,y){var T=u-f,S=d-v,A=m-y;return T=T===0?T:1/T,S=S===0?S:1/S,A=A===0?A:1/A,this.setValues(-2*T,0,0,0,0,-2*S,0,0,0,0,2*A,0,(u+f)*T,(v+d)*S,(y+m)*A,1)},lookAtRH:function(u,f,d){var v=this.val;return s.subVectors(u,f),s.lengthSq()===0&&(s.z=1),s.normalize(),n.crossVectors(d,s),n.lengthSq()===0&&(Math.abs(d.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),n.crossVectors(d,s)),n.normalize(),l.crossVectors(s,n),v[0]=n.x,v[1]=n.y,v[2]=n.z,v[4]=l.x,v[5]=l.y,v[6]=l.z,v[8]=s.x,v[9]=s.y,v[10]=s.z,this},lookAt:function(u,f,d){var v=u.x,m=u.y,y=u.z,T=d.x,S=d.y,A=d.z,P=f.x,w=f.y,M=f.z;if(Math.abs(v-P)<o&&Math.abs(m-w)<o&&Math.abs(y-M)<o)return this.identity();var D=v-P,F=m-w,L=y-M,O=1/Math.sqrt(D*D+F*F+L*L);D*=O,F*=O,L*=O;var B=S*L-A*F,U=A*D-T*L,W=T*F-S*D;O=Math.sqrt(B*B+U*U+W*W),O?(O=1/O,B*=O,U*=O,W*=O):(B=0,U=0,W=0);var H=F*W-L*U,Y=L*B-D*W,G=D*U-F*B;return O=Math.sqrt(H*H+Y*Y+G*G),O?(O=1/O,H*=O,Y*=O,G*=O):(H=0,Y=0,G=0),this.setValues(B,H,D,0,U,Y,F,0,W,G,L,0,-(B*v+U*m+W*y),-(H*v+Y*m+G*y),-(D*v+F*m+L*y),1)},yawPitchRoll:function(u,f,d){this.zero(),a.zero(),i.zero();var v=this.val,m=a.val,y=i.val,T=Math.sin(d),S=Math.cos(d);return v[10]=1,v[15]=1,v[0]=S,v[1]=T,v[4]=-T,v[5]=S,T=Math.sin(f),S=Math.cos(f),m[0]=1,m[15]=1,m[5]=S,m[10]=S,m[9]=-T,m[6]=T,T=Math.sin(u),S=Math.cos(u),y[5]=1,y[15]=1,y[0]=S,y[2]=-T,y[8]=T,y[10]=S,this.multiplyLocal(a),this.multiplyLocal(i),this},setWorldMatrix:function(u,f,d,v,m){return this.yawPitchRoll(u.y,u.x,u.z),a.scaling(d.x,d.y,d.z),i.xyz(f.x,f.y,f.z),this.multiplyLocal(a),this.multiplyLocal(i),v&&this.multiplyLocal(v),m&&this.multiplyLocal(m),this},multiplyToMat4:function(u,f){var d=this.val,v=u.val,m=d[0],y=d[1],T=d[2],S=d[3],A=d[4],P=d[5],w=d[6],M=d[7],D=d[8],F=d[9],L=d[10],O=d[11],B=d[12],U=d[13],W=d[14],H=d[15],Y=v[0],G=v[1],X=v[2],V=v[3],b=v[4],z=v[5],$=v[6],Q=v[7],Z=v[8],q=v[9],j=v[10],k=v[11],_=v[12],et=v[13],it=v[14],st=v[15];return f.setValues(Y*m+G*A+X*D+V*B,G*y+G*P+X*F+V*U,X*T+G*w+X*L+V*W,V*S+G*M+X*O+V*H,b*m+z*A+$*D+Q*B,b*y+z*P+$*F+Q*U,b*T+z*w+$*L+Q*W,b*S+z*M+$*O+Q*H,Z*m+q*A+j*D+k*B,Z*y+q*P+j*F+k*U,Z*T+q*w+j*L+k*W,Z*S+q*M+j*O+k*H,_*m+et*A+it*D+st*B,_*y+et*P+it*F+st*U,_*T+et*w+it*L+st*W,_*S+et*M+it*O+st*H)},fromRotationXYTranslation:function(u,f,d){var v=f.x,m=f.y,y=f.z,T=Math.sin(u.x),S=Math.cos(u.x),A=Math.sin(u.y),P=Math.cos(u.y),w=v,M=m,D=y,F=-T,L=0-F*A,O=0-S*A,B=F*P,U=S*P;return d||(w=P*v+A*y,M=L*v+S*m+B*y,D=O*v+T*m+U*y),this.setValues(P,L,O,0,0,S,T,0,A,B,U,0,w,M,D,1)},getMaxScaleOnAxis:function(){var u=this.val,f=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],d=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],v=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(f,d,v))}}),a=new r,i=new r,n=new x,l=new x,s=new x;c.exports=r},86883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return Math.min(t+h,x)};c.exports=E},50040:c=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=t.length;if(h===0)return 0;t.sort(function(o,r){return o-r});var x=Math.floor(h/2);return h%2===0?(t[x]+t[x-1])/2:t[x]};c.exports=E},37204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return Math.max(t-h,x)};c.exports=E},65201:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){x===void 0&&(x=h+1);var r=(t-h)/(x-h);return r>1?o!==void 0?(r=(o-t)/(o-x),r<0&&(r=0)):r=1:r<0&&(r=0),r};c.exports=E},15746:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(94434),o=t(29747),r=t(25836),a=1e-6,i=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new r(1,0,0),s=new r(0,1,0),u=new r,f=new x,d=new h({initialize:function(m,y,T,S){this.onChangeCallback=o,this.set(m,y,T,S)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,m,y,T,S){return S===void 0&&(S=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=m||0,this._z=y||0,this._w=T||0),S&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,m=this.y,y=this.z,T=this.w;return Math.sqrt(v*v+m*m+y*y+T*T)},lengthSq:function(){var v=this.x,m=this.y,y=this.z,T=this.w;return v*v+m*m+y*y+T*T},normalize:function(){var v=this.x,m=this.y,y=this.z,T=this.w,S=v*v+m*m+y*y+T*T;return S>0&&(S=1/Math.sqrt(S),this._x=v*S,this._y=m*S,this._z=y*S,this._w=T*S),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,m){m===void 0&&(m=0);var y=this.x,T=this.y,S=this.z,A=this.w;return this.set(y+m*(v.x-y),T+m*(v.y-T),S+m*(v.z-S),A+m*(v.w-A))},rotationTo:function(v,m){var y=v.x*m.x+v.y*m.y+v.z*m.z;return y<-.999999?(u.copy(l).cross(v).length()<a&&u.copy(s).cross(v),u.normalize(),this.setAxisAngle(u,Math.PI)):y>.999999?this.set(0,0,0,1):(u.copy(v).cross(m),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+y,this.normalize())},setAxes:function(v,m,y){var T=f.val;return T[0]=m.x,T[3]=m.y,T[6]=m.z,T[1]=y.x,T[4]=y.y,T[7]=y.z,T[2]=-v.x,T[5]=-v.y,T[8]=-v.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,m){m=m*.5;var y=Math.sin(m);return this.set(y*v.x,y*v.y,y*v.z,Math.cos(m))},multiply:function(v){var m=this.x,y=this.y,T=this.z,S=this.w,A=v.x,P=v.y,w=v.z,M=v.w;return this.set(m*M+S*A+y*w-T*P,y*M+S*P+T*A-m*w,T*M+S*w+m*P-y*A,S*M-m*A-y*P-T*w)},slerp:function(v,m){var y=this.x,T=this.y,S=this.z,A=this.w,P=v.x,w=v.y,M=v.z,D=v.w,F=y*P+T*w+S*M+A*D;F<0&&(F=-F,P=-P,w=-w,M=-M,D=-D);var L=1-m,O=m;if(1-F>a){var B=Math.acos(F),U=Math.sin(B);L=Math.sin((1-m)*B)/U,O=Math.sin(m*B)/U}return this.set(L*y+O*P,L*T+O*w,L*S+O*M,L*A+O*D)},invert:function(){var v=this.x,m=this.y,y=this.z,T=this.w,S=v*v+m*m+y*y+T*T,A=S?1/S:0;return this.set(-v*A,-m*A,-y*A,T*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var m=this.x,y=this.y,T=this.z,S=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(m*P+S*A,y*P+T*A,T*P-y*A,S*P-m*A)},rotateY:function(v){v*=.5;var m=this.x,y=this.y,T=this.z,S=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(m*P-T*A,y*P+S*A,T*P+m*A,S*P-y*A)},rotateZ:function(v){v*=.5;var m=this.x,y=this.y,T=this.z,S=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(m*P+y*A,y*P-m*A,T*P+S*A,S*P-T*A)},calculateW:function(){var v=this.x,m=this.y,y=this.z;return this.w=-Math.sqrt(1-v*v-m*m-y*y),this},setFromEuler:function(v,m){var y=v.x/2,T=v.y/2,S=v.z/2,A=Math.cos(y),P=Math.cos(T),w=Math.cos(S),M=Math.sin(y),D=Math.sin(T),F=Math.sin(S);switch(v.order){case"XYZ":{this.set(M*P*w+A*D*F,A*D*w-M*P*F,A*P*F+M*D*w,A*P*w-M*D*F,m);break}case"YXZ":{this.set(M*P*w+A*D*F,A*D*w-M*P*F,A*P*F-M*D*w,A*P*w+M*D*F,m);break}case"ZXY":{this.set(M*P*w-A*D*F,A*D*w+M*P*F,A*P*F+M*D*w,A*P*w-M*D*F,m);break}case"ZYX":{this.set(M*P*w-A*D*F,A*D*w+M*P*F,A*P*F-M*D*w,A*P*w+M*D*F,m);break}case"YZX":{this.set(M*P*w+A*D*F,A*D*w+M*P*F,A*P*F-M*D*w,A*P*w-M*D*F,m);break}case"XZY":{this.set(M*P*w-A*D*F,A*D*w-M*P*F,A*P*F+M*D*w,A*P*w+M*D*F,m);break}}return this},setFromRotationMatrix:function(v){var m=v.val,y=m[0],T=m[4],S=m[8],A=m[1],P=m[5],w=m[9],M=m[2],D=m[6],F=m[10],L=y+P+F,O;return L>0?(O=.5/Math.sqrt(L+1),this.set((D-w)*O,(S-M)*O,(A-T)*O,.25/O)):y>P&&y>F?(O=2*Math.sqrt(1+y-P-F),this.set(.25*O,(T+A)/O,(S+M)/O,(D-w)/O)):P>F?(O=2*Math.sqrt(1+P-y-F),this.set((T+A)/O,.25*O,(w+D)/O,(S-M)/O)):(O=2*Math.sqrt(1+F-y-P),this.set((S+M)/O,(w+D)/O,.25*O,(A-T)/O)),this},fromMat3:function(v){var m=v.val,y=m[0]+m[4]+m[8],T;if(y>0)T=Math.sqrt(y+1),this.w=.5*T,T=.5/T,this._x=(m[7]-m[5])*T,this._y=(m[2]-m[6])*T,this._z=(m[3]-m[1])*T;else{var S=0;m[4]>m[0]&&(S=1),m[8]>m[S*3+S]&&(S=2);var A=i[S],P=i[A];T=Math.sqrt(m[S*3+S]-m[A*3+A]-m[P*3+P]+1),n[S]=.5*T,T=.5/T,n[A]=(m[A*3+S]+m[S*3+A])*T,n[P]=(m[P*3+S]+m[S*3+P])*T,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(m[P*3+A]-m[A*3+P])*T}return this.onChangeCallback(this),this}});c.exports=d},43396:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=function(o){return o*h.RAD_TO_DEG};c.exports=x},74362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=1);var x=Math.random()*2*Math.PI;return t.x=Math.cos(x)*h,t.y=Math.sin(x)*h,t};c.exports=E},60706:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=1);var x=Math.random()*2*Math.PI,o=Math.random()*2-1,r=Math.sqrt(1-o*o)*h;return t.x=Math.cos(x)*r,t.y=Math.sin(x)*r,t.z=o*h,t};c.exports=E},67421:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};c.exports=E},36305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.x,o=t.y;return t.x=x*Math.cos(h)-o*Math.sin(h),t.y=x*Math.sin(h)+o*Math.cos(h),t};c.exports=E},11520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=Math.cos(o),a=Math.sin(o),i=t.x-h,n=t.y-x;return t.x=i*r-n*a+h,t.y=i*a+n*r+x,t};c.exports=E},1163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r){var a=o+Math.atan2(t.y-x,t.x-h);return t.x=h+r*Math.cos(a),t.y=x+r*Math.sin(a),t};c.exports=E},70336:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r){return t.x=h+r*Math.cos(o),t.y=x+r*Math.sin(o),t};c.exports=E},72678:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),x=t(37867),o=t(15746),r=new x,a=new o,i=new h,n=function(l,s,u){return a.setAxisAngle(s,u),r.fromRotationTranslation(a,i.set(0,0,0)),l.transformMat4(r)};c.exports=n},2284:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t>0?Math.ceil(t):Math.floor(t)};c.exports=E},41013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var o=Math.pow(x,-h);return Math.round(t*o)/o};c.exports=E},16922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){h===void 0&&(h=1),x===void 0&&(x=1),o===void 0&&(o=1),o*=Math.PI/t;for(var r=[],a=[],i=0;i<t;i++)x-=h*o,h+=x*o,r[i]=x,a[i]=h;return{sin:a,cos:r,length:t}};c.exports=E},7602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t<=h?0:t>=x?1:(t=(t-h)/(x-h),t*t*(3-2*t))};c.exports=E},54261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t=Math.max(0,Math.min(1,(t-h)/(x-h))),t*t*t*(t*(t*6-15)+10)};c.exports=E},44408:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i){i===void 0&&(i=new h);var n=0,l=0,s=r*a;return o>0&&o<=s&&(o>r-1?(l=Math.floor(o/r),n=o-l*r):n=o),i.set(n,l)};c.exports=x},85955:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n,l,s,u){u===void 0&&(u=new h);var f=Math.sin(n),d=Math.cos(n),v=d*l,m=f*l,y=-f*s,T=d*s,S=1/(v*T+y*-m);return u.x=T*S*o+-y*S*r+(i*y-a*T)*S,u.y=v*S*r+-m*S*o+(-i*v+a*m)*S,u};c.exports=x},26099:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(43855),o=new h({initialize:function(a,i){this.x=0,this.y=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0):(i===void 0&&(i=a),this.x=a||0,this.y=i||0)},clone:function(){return new o(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,a){return a===void 0&&(a=r),this.x=r,this.y=a,this},setTo:function(r,a){return this.set(r,a)},setToPolar:function(r,a){return a==null&&(a=1),this.x=Math.cos(r)*a,this.y=Math.sin(r)*a,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,a){return x(this.x,r.x,a)&&x(this.y,r.y,a)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var a=r.x-this.x,i=r.y-this.y;return Math.sqrt(a*a+i*i)},distanceSq:function(r){var a=r.x-this.x,i=r.y-this.y;return a*a+i*i},length:function(){var r=this.x,a=this.y;return Math.sqrt(r*r+a*a)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,a=this.y;return r*r+a*a},normalize:function(){var r=this.x,a=this.y,i=r*r+a*a;return i>0&&(i=1/Math.sqrt(i),this.x=r*i,this.y=a*i),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,a){a===void 0&&(a=0);var i=this.x,n=this.y;return this.x=i+a*(r.x-i),this.y=n+a*(r.y-n),this},transformMat3:function(r){var a=this.x,i=this.y,n=r.val;return this.x=n[0]*a+n[3]*i+n[6],this.y=n[1]*a+n[4]*i+n[7],this},transformMat4:function(r){var a=this.x,i=this.y,n=r.val;return this.x=n[0]*a+n[4]*i+n[12],this.y=n[1]*a+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var a=this.length();return a&&a>r&&this.scale(r/a),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var a=Math.cos(r),i=Math.sin(r);return this.set(a*this.x-i*this.y,i*this.x+a*this.y)},project:function(r){var a=this.dot(r)/r.dot(r);return this.copy(r).scale(a)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),c.exports=o},25836:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=a||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(o,r){return this.x=o.x+r.x,this.y=o.y+r.y,this.z=o.z+r.z,this},subVectors:function(o,r){return this.x=o.x-r.x,this.y=o.y-r.y,this.z=o.z-r.z,this},crossVectors:function(o,r){var a=o.x,i=o.y,n=o.z,l=r.x,s=r.y,u=r.z;return this.x=i*u-n*s,this.y=n*l-a*u,this.z=a*s-i*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,r,a){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=r||0,this.z=a||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,r){return this.fromArray(o.val,r*4)},fromArray:function(o,r){return r===void 0&&(r=0),this.x=o[r],this.y=o[r+1],this.z=o[r+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,r){return this.x+=o.x*r,this.y+=o.y*r,this.z+=o.z*r||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var r=o.x-this.x,a=o.y-this.y,i=o.z-this.z||0;return Math.sqrt(r*r+a*a+i*i)},distanceSq:function(o){var r=o.x-this.x,a=o.y-this.y,i=o.z-this.z||0;return r*r+a*a+i*i},length:function(){var o=this.x,r=this.y,a=this.z;return Math.sqrt(o*o+r*r+a*a)},lengthSq:function(){var o=this.x,r=this.y,a=this.z;return o*o+r*r+a*a},normalize:function(){var o=this.x,r=this.y,a=this.z,i=o*o+r*r+a*a;return i>0&&(i=1/Math.sqrt(i),this.x=o*i,this.y=r*i,this.z=a*i),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var r=this.x,a=this.y,i=this.z,n=o.x,l=o.y,s=o.z;return this.x=a*s-i*l,this.y=i*n-r*s,this.z=r*l-a*n,this},lerp:function(o,r){r===void 0&&(r=0);var a=this.x,i=this.y,n=this.z;return this.x=a+r*(o.x-a),this.y=i+r*(o.y-i),this.z=n+r*(o.z-n),this},applyMatrix3:function(o){var r=this.x,a=this.y,i=this.z,n=o.val;return this.x=n[0]*r+n[3]*a+n[6]*i,this.y=n[1]*r+n[4]*a+n[7]*i,this.z=n[2]*r+n[5]*a+n[8]*i,this},applyMatrix4:function(o){var r=this.x,a=this.y,i=this.z,n=o.val,l=1/(n[3]*r+n[7]*a+n[11]*i+n[15]);return this.x=(n[0]*r+n[4]*a+n[8]*i+n[12])*l,this.y=(n[1]*r+n[5]*a+n[9]*i+n[13])*l,this.z=(n[2]*r+n[6]*a+n[10]*i+n[14])*l,this},transformMat3:function(o){var r=this.x,a=this.y,i=this.z,n=o.val;return this.x=r*n[0]+a*n[3]+i*n[6],this.y=r*n[1]+a*n[4]+i*n[7],this.z=r*n[2]+a*n[5]+i*n[8],this},transformMat4:function(o){var r=this.x,a=this.y,i=this.z,n=o.val;return this.x=n[0]*r+n[4]*a+n[8]*i+n[12],this.y=n[1]*r+n[5]*a+n[9]*i+n[13],this.z=n[2]*r+n[6]*a+n[10]*i+n[14],this},transformCoordinates:function(o){var r=this.x,a=this.y,i=this.z,n=o.val,l=r*n[0]+a*n[4]+i*n[8]+n[12],s=r*n[1]+a*n[5]+i*n[9]+n[13],u=r*n[2]+a*n[6]+i*n[10]+n[14],f=r*n[3]+a*n[7]+i*n[11]+n[15];return this.x=l/f,this.y=s/f,this.z=u/f,this},transformQuat:function(o){var r=this.x,a=this.y,i=this.z,n=o.x,l=o.y,s=o.z,u=o.w,f=u*r+l*i-s*a,d=u*a+s*r-n*i,v=u*i+n*a-l*r,m=-n*r-l*a-s*i;return this.x=f*u+m*-n+d*-s-v*-l,this.y=d*u+m*-l+v*-n-f*-s,this.z=v*u+m*-s+f*-l-d*-n,this},project:function(o){var r=this.x,a=this.y,i=this.z,n=o.val,l=n[0],s=n[1],u=n[2],f=n[3],d=n[4],v=n[5],m=n[6],y=n[7],T=n[8],S=n[9],A=n[10],P=n[11],w=n[12],M=n[13],D=n[14],F=n[15],L=1/(r*f+a*y+i*P+F);return this.x=(r*l+a*d+i*T+w)*L,this.y=(r*s+a*v+i*S+M)*L,this.z=(r*u+a*m+i*A+D)*L,this},projectViewMatrix:function(o,r){return this.applyMatrix4(o).applyMatrix4(r)},unprojectViewMatrix:function(o,r){return this.applyMatrix4(o).applyMatrix4(r)},unproject:function(o,r){var a=o.x,i=o.y,n=o.z,l=o.w,s=this.x-a,u=l-this.y-1-i,f=this.z;return this.x=2*s/n-1,this.y=2*u/l-1,this.z=2*f-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),c.exports=x},61369:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=a||0,this.z=i||0,this.w=n||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,r,a,i){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=r||0,this.z=a||0,this.w=i||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,r=this.y,a=this.z,i=this.w;return Math.sqrt(o*o+r*r+a*a+i*i)},lengthSq:function(){var o=this.x,r=this.y,a=this.z,i=this.w;return o*o+r*r+a*a+i*i},normalize:function(){var o=this.x,r=this.y,a=this.z,i=this.w,n=o*o+r*r+a*a+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=r*n,this.z=a*n,this.w=i*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,r){r===void 0&&(r=0);var a=this.x,i=this.y,n=this.z,l=this.w;return this.x=a+r*(o.x-a),this.y=i+r*(o.y-i),this.z=n+r*(o.z-n),this.w=l+r*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var r=o.x-this.x,a=o.y-this.y,i=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(r*r+a*a+i*i+n*n)},distanceSq:function(o){var r=o.x-this.x,a=o.y-this.y,i=o.z-this.z||0,n=o.w-this.w||0;return r*r+a*a+i*i+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var r=this.x,a=this.y,i=this.z,n=this.w,l=o.val;return this.x=l[0]*r+l[4]*a+l[8]*i+l[12]*n,this.y=l[1]*r+l[5]*a+l[9]*i+l[13]*n,this.z=l[2]*r+l[6]*a+l[10]*i+l[14]*n,this.w=l[3]*r+l[7]*a+l[11]*i+l[15]*n,this},transformQuat:function(o){var r=this.x,a=this.y,i=this.z,n=o.x,l=o.y,s=o.z,u=o.w,f=u*r+l*i-s*a,d=u*a+s*r-n*i,v=u*i+n*a-l*r,m=-n*r-l*a-s*i;return this.x=f*u+m*-n+d*-s-v*-l,this.y=d*u+m*-l+v*-n-f*-s,this.z=v*u+m*-s+f*-l-d*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,c.exports=x},60417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return Math.abs(t-h)<=x};c.exports=E},15994:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=x-h;return h+((t-h)%o+o)%o};c.exports=E},31040:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){return Math.atan2(o-h,x-t)};c.exports=E},55495:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};c.exports=E},128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};c.exports=E},41273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){return Math.atan2(x-t,o-h)};c.exports=E},1432:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=function(o){return o>Math.PI&&(o-=h.PI2),Math.abs(((o+h.TAU)%h.PI2-h.PI2)%h.PI2)};c.exports=x},12407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};c.exports=E},53993:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),x=function(){return h(-Math.PI,Math.PI)};c.exports=x},86564:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),x=function(){return h(-180,180)};c.exports=x},90154:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12407),x=function(o){return h(o+Math.PI)};c.exports=x},48736:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=function(o,r,a){return a===void 0&&(a=.05),o===r||(Math.abs(r-o)<=a||Math.abs(r-o)>=h.PI2-a?o=r:(Math.abs(r-o)>Math.PI&&(r<o?r+=h.PI2:r-=h.PI2),r>o?o+=a:r<o&&(o-=a))),o};c.exports=x},61430:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=h-t;if(x===0)return 0;var o=Math.floor((x- -180)/360);return x-o*360};c.exports=E},86554:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),x=function(o){return h(o,-Math.PI,Math.PI)};c.exports=x},30954:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),x=function(o){return h(o,-180,180)};c.exports=x},25588:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=E},20339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=t-x,a=h-o;return Math.sqrt(r*r+a*a)};c.exports=E},52816:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.x-h.x,o=t.y-h.y;return Math.sqrt(x*x+o*o)};c.exports=E},64559:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.x-h.x,o=t.y-h.y;return x*x+o*o};c.exports=E},82340:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){return Math.max(Math.abs(t-x),Math.abs(h-o))};c.exports=E},14390:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(x-t,r)+Math.pow(o-h,r))};c.exports=E},2243:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){return Math.abs(t-x)+Math.abs(h-o)};c.exports=E},89774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=t-x,a=h-o;return r*r+a*a};c.exports=E},50994:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54178),x=t(41521),o=t(79980),r=t(85433),a=t(99140),i=t(48857),n=t(81596),l=t(59133),s=t(98516),u=t(35248),f=t(82500),d=t(49752);c.exports={Power0:n,Power1:l.Out,Power2:r.Out,Power3:s.Out,Power4:u.Out,Linear:n,Quad:l.Out,Cubic:r.Out,Quart:s.Out,Quint:u.Out,Sine:f.Out,Expo:i.Out,Circ:o.Out,Elastic:a.Out,Back:h.Out,Bounce:x.Out,Stepped:d,"Quad.easeIn":l.In,"Cubic.easeIn":r.In,"Quart.easeIn":s.In,"Quint.easeIn":u.In,"Sine.easeIn":f.In,"Expo.easeIn":i.In,"Circ.easeIn":o.In,"Elastic.easeIn":a.In,"Back.easeIn":h.In,"Bounce.easeIn":x.In,"Quad.easeOut":l.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":s.Out,"Quint.easeOut":u.Out,"Sine.easeOut":f.Out,"Expo.easeOut":i.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":a.Out,"Back.easeOut":h.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":x.InOut}},1639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};c.exports=E},50099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=1.70158);var x=h*1.525;return(t*=2)<1?.5*(t*t*((x+1)*t-x)):.5*((t-=2)*t*((x+1)*t+x)+2)};c.exports=E},41286:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};c.exports=E},54178:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};c.exports=E},41788:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};c.exports=E},69905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};c.exports=E},41521:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return 1-Math.sqrt(1-t*t)};c.exports=E},4177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};c.exports=E},57512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return Math.sqrt(1- --t*t)};c.exports=E},79980:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t*t*t};c.exports=E},82820:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};c.exports=E},35033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return--t*t*t+1};c.exports=E},85433:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),t===0)return 0;if(t===1)return 1;var o=x/4;return h<1?h=1:o=x*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/x))};c.exports=E},50665:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),t===0)return 0;if(t===1)return 1;var o=x/4;return h<1?h=1:o=x*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/x)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/x)*.5+1};c.exports=E},7744:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),t===0)return 0;if(t===1)return 1;var o=x/4;return h<1?h=1:o=x*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/x)+1};c.exports=E},99140:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return Math.pow(2,10*(t-1))-.001};c.exports=E},87844:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};c.exports=E},89433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return 1-Math.pow(2,-10*t)};c.exports=E},48857:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t};c.exports=E},81596:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(7147)},34826:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t*t};c.exports=E},20544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};c.exports=E},92029:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t*(2-t)};c.exports=E},59133:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t*t*t*t};c.exports=E},78137:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};c.exports=E},45840:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return 1- --t*t*t*t};c.exports=E},98516:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t*t*t*t*t};c.exports=E},16509:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};c.exports=E},17868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return--t*t*t*t*t+1};c.exports=E},35248:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};c.exports=E},34025:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};c.exports=E},52768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};c.exports=E},82500:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};c.exports=E},49752:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(72251)},75698:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};c.exports=E},43855:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return x===void 0&&(x=1e-4),Math.abs(t-h)<x};c.exports=E},25777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};c.exports=E},5470:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return x===void 0&&(x=1e-4),t>h-x};c.exports=E},94977:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return x===void 0&&(x=1e-4),t<h+x};c.exports=E},48379:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=x(!1,o,h),c.exports=o},89318:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85710),x=function(o,r){for(var a=0,i=o.length-1,n=0;n<=i;n++)a+=Math.pow(1-r,i-n)*Math.pow(r,n)*o[n]*h(i,n);return a};c.exports=x},77259:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),x=function(o,r){var a=o.length-1,i=a*r,n=Math.floor(i);return o[0]===o[a]?(r<0&&(n=Math.floor(i=a*(1+r))),h(i-n,o[(n-1+a)%a],o[n],o[(n+1)%a],o[(n+2)%a])):r<0?o[0]-(h(-i,o[0],o[0],o[1],o[1])-o[0]):r>1?o[a]-(h(i-a,o[a],o[a],o[a-1],o[a-1])-o[a]):h(i-n,o[n?n-1:0],o[n],o[a<n+1?a:n+1],o[a<n+2?a:n+2])};c.exports=x},36316:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function E(r,a){var i=1-r;return i*i*i*a}function t(r,a){var i=1-r;return 3*i*i*r*a}function h(r,a){return 3*(1-r)*r*r*a}function x(r,a){return r*r*r*a}var o=function(r,a,i,n,l){return E(r,a)+t(r,i)+h(r,n)+x(r,l)};c.exports=o},28392:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),x=function(o,r){var a=o.length-1,i=a*r,n=Math.floor(i);return r<0?h(o[0],o[1],i):r>1?h(o[a],o[a-1],a-i):h(o[n],o[n+1>a?a:n+1],i-n)};c.exports=x},32112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function E(o,r){var a=1-o;return a*a*r}function t(o,r){return 2*(1-o)*o*r}function h(o,r){return o*o*r}var x=function(o,r,a,i){return E(o,r)+t(o,a)+h(o,i)};c.exports=x},47235:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),x=function(o,r,a){return r+(a-r)*h(o,0,1)};c.exports=x},50178:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),x=function(o,r,a){return r+(a-r)*h(o,0,1)};c.exports=x},38289:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};c.exports=E},50030:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};c.exports=E},81230:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t>0&&(t&t-1)===0};c.exports=E},49001:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var r,a=this.n;o=o.toString();for(var i=0;i<o.length;i++)a+=o.charCodeAt(i),r=.02519603282416938*a,a=r>>>0,r-=a,r*=a,a=r>>>0,r-=a,a+=r*4294967296;return this.n=a,(a>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var r=0;r<o.length&&o[r]!=null;r++){var a=o[r];this.s0-=this.hash(a),this.s0+=~~(this.s0<0),this.s1-=this.hash(a),this.s1+=~~(this.s1<0),this.s2-=this.hash(a),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,r){return Math.floor(this.realInRange(0,r-o+1)+o)},between:function(o,r){return Math.floor(this.realInRange(0,r-o+1)+o)},realInRange:function(o,r){return this.frac()*(r-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",r="";for(r=o="";o++<36;r+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return r},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,r){return this.realInRange(o||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var r=o.length-1,a=r;a>0;a--){var i=Math.floor(this.frac()*(a+1)),n=o[i];o[i]=o[a],o[a]=n}return o}});c.exports=x},63448:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){return x===void 0&&(x=0),h===0?t:(t-=x,t=h*Math.ceil(t/h),o?(x+t)/h:x+t)};c.exports=E},56583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){return x===void 0&&(x=0),h===0?t:(t-=x,t=h*Math.floor(t/h),o?(x+t)/h:x+t)};c.exports=E},77720:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){return x===void 0&&(x=0),h===0?t:(t-=x,t=h*Math.round(t/h),o?(x+t)/h:x+t)};c.exports=E},73697:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var h=t(8054),x=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=x(!1,o,h),c.exports=o,t.g.Phaser=o},71289:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92209),o=t(88571),r=new h({Extends:o,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(i,n,l,s,u){o.call(this,i,n,l,s,u),this.body=null}});c.exports=r},86689:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(39506),o=t(20339),r=t(89774),a=t(66022),i=t(95540),n=t(46975),l=t(72441),s=t(47956),u=t(37277),f=t(44594),d=t(26099),v=t(82248),m=new h({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,T.sys.events.once(f.BOOT,this.boot,this),T.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new a(this.world));var y=this.systems.events;i(this.config,"customUpdate",!1)||y.on(f.UPDATE,this.world.update,this.world),y.on(f.POST_UPDATE,this.world.postUpdate,this.world),y.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var y=this.systems.game.config.physics,T=this.systems.settings.physics,S=n(i(T,"arcade",{}),i(y,"arcade",{}));return S},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(y,T,S,A,P){return S===void 0&&(S=null),A===void 0&&(A=null),P===void 0&&(P=S),this.world.collideObjects(y,T,S,A,P,!0)},collide:function(y,T,S,A,P){return S===void 0&&(S=null),A===void 0&&(A=null),P===void 0&&(P=S),this.world.collideObjects(y,T,S,A,P,!1)},collideTiles:function(y,T,S,A,P){return this.world.collideTiles(y,T,S,A,P)},overlapTiles:function(y,T,S,A,P){return this.world.overlapTiles(y,T,S,A,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(y,T,S,A,P,w){A===void 0&&(A=60);var M=Math.atan2(S-y.y,T-y.x);return y.body.acceleration.setToPolar(M,A),P!==void 0&&w!==void 0&&y.body.maxVelocity.set(P,w),M},accelerateToObject:function(y,T,S,A,P){return this.accelerateTo(y,T.x,T.y,S,A,P)},closest:function(y,T){T||(T=this.world.bodies.entries);for(var S=Number.MAX_VALUE,A=null,P=y.x,w=y.y,M=T.length,D=0;D<M;D++){var F=T[D],L=F.body||F;if(!(y===F||y===L||y===L.gameObject||y===L.center)){var O=r(P,w,L.center.x,L.center.y);O<S&&(A=F,S=O)}}return A},furthest:function(y,T){T||(T=this.world.bodies.entries);for(var S=-1,A=null,P=y.x,w=y.y,M=T.length,D=0;D<M;D++){var F=T[D],L=F.body||F;if(!(y===F||y===L||y===L.gameObject||y===L.center)){var O=r(P,w,L.center.x,L.center.y);O>S&&(A=F,S=O)}}return A},moveTo:function(y,T,S,A,P){A===void 0&&(A=60),P===void 0&&(P=0);var w=Math.atan2(S-y.y,T-y.x);return P>0&&(A=o(y.x,y.y,T,S)/(P/1e3)),y.body.velocity.setToPolar(w,A),w},moveToObject:function(y,T,S,A){return this.moveTo(y,T.x,T.y,S,A)},velocityFromAngle:function(y,T,S){return T===void 0&&(T=60),S===void 0&&(S=new d),S.setToPolar(x(y),T)},velocityFromRotation:function(y,T,S){return T===void 0&&(T=60),S===void 0&&(S=new d),S.setToPolar(y,T)},overlapRect:function(y,T,S,A,P,w){return s(this.world,y,T,S,A,P,w)},overlapCirc:function(y,T,S,A,P){return l(this.world,y,T,S,A,P)},shutdown:function(){if(this.world){var y=this.systems.events;y.off(f.UPDATE,this.world.update,this.world),y.off(f.POST_UPDATE,this.world.postUpdate,this.world),y.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",m,"arcadePhysics"),c.exports=m},13759:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92209),o=t(68287),r=new h({Extends:o,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(i,n,l,s,u){o.call(this,i,n,l,s,u),this.body=null}});c.exports=r},37742:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(78389),o=t(37747),r=t(63012),a=t(43396),i=t(87841),n=t(37303),l=t(95829),s=t(26099),u=new h({Mixins:[x],initialize:function(d,v){var m=64,y=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=v!==void 0;S&&v.displayWidth&&(m=v.displayWidth,y=v.displayHeight),S||(v=T),this.world=d,this.gameObject=S?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=m,this.height=y,this.sourceWidth=m,this.sourceHeight=y,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(y/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new i,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,d=this.transform;if(f.parentContainer){var v=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=v.tx,d.y=v.ty,d.rotation=a(v.rotation),d.scaleX=v.scaleX,d.scaleY=v.scaleY,d.displayOriginX=f.displayOriginX,d.displayOriginY=f.displayOriginY}else d.x=f.x,d.y=f.y,d.rotation=f.angle,d.scaleX=f.scaleX,d.scaleY=f.scaleY,d.displayOriginX=f.displayOriginX,d.displayOriginY=f.displayOriginY;var m=!1;if(this.syncBounds){var y=f.getBounds(this._bounds);this.width=y.width,this.height=y.height,m=!0}else{var T=Math.abs(d.scaleX),S=Math.abs(d.scaleY);(this._sx!==T||this._sy!==S)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*S,this._sx=T,this._sy=S,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var d=this.wasTouching,v=this.touching,m=this.blocked;f?l(!0,d):(d.none=v.none,d.up=v.up,d.down=v.down,d.left=v.left,d.right=v.right),l(!0,v),l(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,d){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}f&&this.update(d)},update:function(f){var d=this.prev,v=this.position,m=this.velocity;if(d.set(v.x,v.y),!this.moves){this._dx=v.x-d.x,this._dy=v.y-d.y;return}if(this.directControl){var y=this.autoFrame;m.set((v.x-y.x)/f,(v.y-y.y)/f),this.world.updateMotion(this,f),this._dx=v.x-y.x,this._dy=v.y-y.y}else this.world.updateMotion(this,f),this.newVelocity.set(m.x*f,m.y*f),v.add(this.newVelocity),this._dx=v.x-d.x,this._dy=v.y-d.y;var T=m.x,S=m.y;if(this.updateCenter(),this.angle=Math.atan2(S,T),this.speed=Math.sqrt(T*T+S*S),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var f=this.position,d=f.x-this.prevFrame.x,v=f.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var y=this.deltaMax.x,T=this.deltaMax.y;y!==0&&d!==0&&(d<0&&d<-y?d=-y:d>0&&d>y&&(d=y)),T!==0&&v!==0&&(v<0&&v<-T?v=-T:v>0&&v>T&&(v=T)),m&&(m.x+=d,m.y+=v)}d<0?this.facing=o.FACING_LEFT:d>0&&(this.facing=o.FACING_RIGHT),v<0?this.facing=o.FACING_UP:v>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=d,this._ty=v,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,d=this.velocity,v=this.blocked,m=this.customBoundsRectangle,y=this.world.checkCollision,T=this.worldBounce?-this.worldBounce.x:-this.bounce.x,S=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return f.x<m.x&&y.left?(f.x=m.x,d.x*=T,v.left=!0,A=!0):this.right>m.right&&y.right&&(f.x=m.right-this.width,d.x*=T,v.right=!0,A=!0),f.y<m.y&&y.up?(f.y=m.y,d.y*=S,v.up=!0,A=!0):this.bottom>m.bottom&&y.down&&(f.y=m.bottom-this.height,d.y*=S,v.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(f,d){return d===void 0&&(d=f),this.offset.set(f,d),this},setGameObject:function(f,d){if(d===void 0&&(d=!0),!f||!f.hasTransformComponent)return this;var v=this.world;return this.gameObject&&this.gameObject.body&&(v.disable(this.gameObject),this.gameObject.body=null),f.body&&v.disable(f),this.gameObject=f,f.body=this,this.setSize(),this.enable=d,this},setSize:function(f,d,v){v===void 0&&(v=!0);var m=this.gameObject;if(m&&(!f&&m.frame&&(f=m.frame.realWidth),!d&&m.frame&&(d=m.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&m&&m.getCenter){var y=(m.width-f)/2,T=(m.height-d)/2;this.offset.set(y,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,d,v){return d===void 0&&(d=this.offset.x),v===void 0&&(v=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,v),this.updateCenter()):this.isCircle=!1,this},reset:function(f,d){this.stop();var v=this.gameObject;v&&(v.setPosition(f,d),this.rotation=v.angle,this.preRotation=v.angle);var m=this.position;v&&v.getTopLeft?v.getTopLeft(m):m.set(f,d),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,d){if(!this.isCircle)return n(this,f,d);if(this.radius>0&&f>=this.left&&f<=this.right&&d>=this.top&&d<=this.bottom){var v=(this.center.x-f)*(this.center.x-f),m=(this.center.y-d)*(this.center.y-d);return v+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var d=this.position,v=d.x+this.halfWidth,m=d.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(v,m,this.width/2):(this.checkCollision.up&&f.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&f.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&f.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&f.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(v,m,v+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,d,v,m){f===void 0&&(f=!0),this.collideWorldBounds=f;var y=d!==void 0,T=v!==void 0;return(y||T)&&(this.worldBounce||(this.worldBounce=new s),y&&(this.worldBounce.x=d),T&&(this.worldBounce.y=v)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(f,d){return this.velocity.set(f,d),f=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(f*f+d*d),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,d){return this.maxVelocity.set(f,d),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,d){return this.slideFactor.set(f,d),this},setBounce:function(f,d){return this.bounce.set(f,d),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,d){return this.acceleration.set(f,d),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,d){return this.drag.set(f,d),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,d){return this.gravity.set(f,d),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,d){return this.friction.set(f,d),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,d,v,m){this.x+=f,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var y=this.blocked;v&&(y.left=!0,y.none=!1),m&&(y.right=!0,y.none=!1)},processY:function(f,d,v,m){this.y+=f,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var y=this.blocked;v&&(y.up=!0,y.none=!1),m&&(y.down=!0,y.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=u},79342:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i,n,l,s,u){this.world=r,this.name="",this.active=!0,this.overlapOnly=a,this.object1=i,this.object2=n,this.collideCallback=l,this.processCallback=s,this.callbackContext=u},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=x},66022:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71289),x=t(13759),o=t(37742),r=t(83419),a=t(37747),i=t(60758),n=t(72624),l=t(71464),s=new r({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(u,f,d,v,m){return this.world.addCollider(u,f,d,v,m)},overlap:function(u,f,d,v,m){return this.world.addOverlap(u,f,d,v,m)},existing:function(u,f){var d=f?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(u,d),u},staticImage:function(u,f,d,v){var m=new h(this.scene,u,f,d,v);return this.sys.displayList.add(m),this.world.enableBody(m,a.STATIC_BODY),m},image:function(u,f,d,v){var m=new h(this.scene,u,f,d,v);return this.sys.displayList.add(m),this.world.enableBody(m,a.DYNAMIC_BODY),m},staticSprite:function(u,f,d,v){var m=new x(this.scene,u,f,d,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,a.STATIC_BODY),m},sprite:function(u,f,d,v){var m=new x(this.scene,u,f,d,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,a.DYNAMIC_BODY),m},staticGroup:function(u,f){return this.sys.updateList.add(new l(this.world,this.world.scene,u,f))},group:function(u,f){return this.sys.updateList.add(new i(this.world,this.world.scene,u,f))},body:function(u,f,d,v){var m=new o(this.world);return m.position.set(u,f),d&&v&&m.setSize(d,v),this.world.add(m,a.DYNAMIC_BODY),m},staticBody:function(u,f,d,v){var m=new n(this.world);return m.position.set(u,f),d&&v&&m.setSize(d,v),this.world.add(m,a.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=s},79599:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=0;if(!Array.isArray(t))h=t;else for(var x=0;x<t.length;x++)h|=t[x];return h};c.exports=E},64897:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),x=function(o,r,a,i){var n=0,l=o.deltaAbsX()+r.deltaAbsX()+i;return o._dx===0&&r._dx===0?(o.embedded=!0,r.embedded=!0):o._dx>r._dx?(n=o.right-r.x,n>l&&!a||o.checkCollision.right===!1||r.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===h.STATIC_BODY&&!a&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===h.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.left=!0))):o._dx<r._dx&&(n=o.x-r.width-r.x,-n>l&&!a||o.checkCollision.left===!1||r.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===h.STATIC_BODY&&!a&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===h.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.right=!0))),o.overlapX=n,r.overlapX=n,n};c.exports=x},45170:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),x=function(o,r,a,i){var n=0,l=o.deltaAbsY()+r.deltaAbsY()+i;return o._dy===0&&r._dy===0?(o.embedded=!0,r.embedded=!0):o._dy>r._dy?(n=o.bottom-r.y,n>l&&!a||o.checkCollision.down===!1||r.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===h.STATIC_BODY&&!a&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===h.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.up=!0))):o._dy<r._dy&&(n=o.y-r.bottom,-n>l&&!a||o.checkCollision.up===!1||r.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===h.STATIC_BODY&&!a&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===h.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.down=!0))),o.overlapY=n,r.overlapY=n,n};c.exports=x},60758:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),x=t(83419),o=t(78389),r=t(37747),a=t(95540),i=t(26479),n=t(41212),l=new x({Extends:i,Mixins:[o],initialize:function(u,f,d,v){if(!d&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(d))v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&n(d[0])){var m=this;d.forEach(function(y){y.internalCreateCallback=m.createCallbackHandler,y.internalRemoveCallback=m.removeCallbackHandler,y.classType=a(y,"classType",h)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,v&&(v.classType=a(v,"classType",h)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:a(v,"collideWorldBounds",!1),setBoundsRectangle:a(v,"customBoundsRectangle",null),setAccelerationX:a(v,"accelerationX",0),setAccelerationY:a(v,"accelerationY",0),setAllowDrag:a(v,"allowDrag",!0),setAllowGravity:a(v,"allowGravity",!0),setAllowRotation:a(v,"allowRotation",!0),setDamping:a(v,"useDamping",!1),setBounceX:a(v,"bounceX",0),setBounceY:a(v,"bounceY",0),setDragX:a(v,"dragX",0),setDragY:a(v,"dragY",0),setEnable:a(v,"enable",!0),setGravityX:a(v,"gravityX",0),setGravityY:a(v,"gravityY",0),setFrictionX:a(v,"frictionX",0),setFrictionY:a(v,"frictionY",0),setMaxSpeed:a(v,"maxSpeed",-1),setMaxVelocityX:a(v,"maxVelocityX",1e4),setMaxVelocityY:a(v,"maxVelocityY",1e4),setVelocityX:a(v,"velocityX",0),setVelocityY:a(v,"velocityY",0),setAngularVelocity:a(v,"angularVelocity",0),setAngularAcceleration:a(v,"angularAcceleration",0),setAngularDrag:a(v,"angularDrag",0),setMass:a(v,"mass",1),setImmovable:a(v,"immovable",!1)},i.call(this,f,d,v),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,r.DYNAMIC_BODY);var u=s.body;for(var f in this.defaults)u[f](this.defaults[f])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,u,f){f===void 0&&(f=0);for(var d=this.getChildren(),v=0;v<d.length;v++)d[v].body.velocity.set(s+v*f,u+v*f);return this},setVelocityX:function(s,u){u===void 0&&(u=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.x=s+d*u;return this},setVelocityY:function(s,u){u===void 0&&(u=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.y=s+d*u;return this}});c.exports=l},3017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E,t,h,x,o,r,a,i,n,l,s,u,f,d,v,m,y,T=function(D,F,L){E=D,t=F;var O=E.velocity.x,B=t.velocity.x;return h=E.pushable,n=E._dx<0,l=E._dx>0,s=E._dx===0,v=Math.abs(E.right-t.x)<=Math.abs(t.right-E.x),a=B-O*E.bounce.x,x=t.pushable,u=t._dx<0,f=t._dx>0,d=t._dx===0,m=!v,i=O-B*t.bounce.x,y=Math.abs(L),S()},S=function(){return l&&v&&t.blocked.right?(E.processX(-y,a,!1,!0),1):n&&m&&t.blocked.left?(E.processX(y,a,!0),1):f&&m&&E.blocked.right?(t.processX(-y,i,!1,!0),2):u&&v&&E.blocked.left?(t.processX(y,i,!0),2):0},A=function(){var D=E.velocity.x,F=t.velocity.x,L=Math.sqrt(F*F*t.mass/E.mass)*(F>0?1:-1),O=Math.sqrt(D*D*E.mass/t.mass)*(D>0?1:-1),B=(L+O)*.5;return L-=B,O-=B,o=B+L*E.bounce.x,r=B+O*t.bounce.x,n&&m?P(0):u&&v?P(1):l&&v?P(2):f&&m?P(3):!1},P=function(D){if(h&&x)y*=.5,D===0||D===3?(E.processX(y,o),t.processX(-y,r)):(E.processX(-y,o),t.processX(y,r));else if(h&&!x)D===0||D===3?E.processX(y,a,!0):E.processX(-y,a,!1,!0);else if(!h&&x)D===0||D===3?t.processX(-y,i,!1,!0):t.processX(y,i,!0);else{var F=y*.5;D===0?d?(E.processX(y,0,!0),t.processX(0,null,!1,!0)):f?(E.processX(F,0,!0),t.processX(-F,0,!1,!0)):(E.processX(F,t.velocity.x,!0),t.processX(-F,null,!1,!0)):D===1?s?(E.processX(0,null,!1,!0),t.processX(y,0,!0)):l?(E.processX(-F,0,!1,!0),t.processX(F,0,!0)):(E.processX(-F,null,!1,!0),t.processX(F,E.velocity.x,!0)):D===2?d?(E.processX(-y,0,!1,!0),t.processX(0,null,!0)):u?(E.processX(-F,0,!1,!0),t.processX(F,0,!0)):(E.processX(-F,t.velocity.x,!1,!0),t.processX(F,null,!0)):D===3&&(s?(E.processX(0,null,!0),t.processX(-y,0,!1,!0)):n?(E.processX(F,0,!0),t.processX(-F,0,!1,!0)):(E.processX(F,t.velocity.y,!0),t.processX(-F,null,!1,!0)))}return!0},w=function(D){if(D===1?t.velocity.x=0:v?t.processX(y,i,!0):t.processX(-y,i,!1,!0),E.moves){var F=E.directControl?E.y-E.autoFrame.y:E.y-E.prev.y;t.y+=F*E.friction.y,t._dy=t.y-t.prev.y}},M=function(D){if(D===2?E.velocity.x=0:m?E.processX(y,a,!0):E.processX(-y,a,!1,!0),t.moves){var F=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;E.y+=F*t.friction.y,E._dy=E.y-E.prev.y}};c.exports={BlockCheck:S,Check:A,Set:T,Run:P,RunImmovableBody1:w,RunImmovableBody2:M}},47962:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E,t,h,x,o,r,a,i,n,l,s,u,f,d,v,m,y,T=function(D,F,L){E=D,t=F;var O=E.velocity.y,B=t.velocity.y;return h=E.pushable,n=E._dy<0,l=E._dy>0,s=E._dy===0,v=Math.abs(E.bottom-t.y)<=Math.abs(t.bottom-E.y),a=B-O*E.bounce.y,x=t.pushable,u=t._dy<0,f=t._dy>0,d=t._dy===0,m=!v,i=O-B*t.bounce.y,y=Math.abs(L),S()},S=function(){return l&&v&&t.blocked.down?(E.processY(-y,a,!1,!0),1):n&&m&&t.blocked.up?(E.processY(y,a,!0),1):f&&m&&E.blocked.down?(t.processY(-y,i,!1,!0),2):u&&v&&E.blocked.up?(t.processY(y,i,!0),2):0},A=function(){var D=E.velocity.y,F=t.velocity.y,L=Math.sqrt(F*F*t.mass/E.mass)*(F>0?1:-1),O=Math.sqrt(D*D*E.mass/t.mass)*(D>0?1:-1),B=(L+O)*.5;return L-=B,O-=B,o=B+L*E.bounce.y,r=B+O*t.bounce.y,n&&m?P(0):u&&v?P(1):l&&v?P(2):f&&m?P(3):!1},P=function(D){if(h&&x)y*=.5,D===0||D===3?(E.processY(y,o),t.processY(-y,r)):(E.processY(-y,o),t.processY(y,r));else if(h&&!x)D===0||D===3?E.processY(y,a,!0):E.processY(-y,a,!1,!0);else if(!h&&x)D===0||D===3?t.processY(-y,i,!1,!0):t.processY(y,i,!0);else{var F=y*.5;D===0?d?(E.processY(y,0,!0),t.processY(0,null,!1,!0)):f?(E.processY(F,0,!0),t.processY(-F,0,!1,!0)):(E.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)):D===1?s?(E.processY(0,null,!1,!0),t.processY(y,0,!0)):l?(E.processY(-F,0,!1,!0),t.processY(F,0,!0)):(E.processY(-F,null,!1,!0),t.processY(F,E.velocity.y,!0)):D===2?d?(E.processY(-y,0,!1,!0),t.processY(0,null,!0)):u?(E.processY(-F,0,!1,!0),t.processY(F,0,!0)):(E.processY(-F,t.velocity.y,!1,!0),t.processY(F,null,!0)):D===3&&(s?(E.processY(0,null,!0),t.processY(-y,0,!1,!0)):n?(E.processY(F,0,!0),t.processY(-F,0,!1,!0)):(E.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)))}return!0},w=function(D){if(D===1?t.velocity.y=0:v?t.processY(y,i,!0):t.processY(-y,i,!1,!0),E.moves){var F=E.directControl?E.x-E.autoFrame.x:E.x-E.prev.x;t.x+=F*E.friction.x,t._dx=t.x-t.prev.x}},M=function(D){if(D===2?E.velocity.y=0:m?E.processY(y,a,!0):E.processY(-y,a,!1,!0),t.moves){var F=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;E.x+=F*t.friction.x,E._dx=E.x-E.prev.x}};c.exports={BlockCheck:S,Check:A,Set:T,Run:P,RunImmovableBody1:w,RunImmovableBody2:M}},14087:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64897),x=t(3017),o=function(r,a,i,n,l){l===void 0&&(l=h(r,a,i,n));var s=r.immovable,u=a.immovable;if(i||l===0||s&&u||r.customSeparateX||a.customSeparateX)return l!==0||r.embedded&&a.embedded;var f=x.Set(r,a,l);return!s&&!u?f>0?!0:x.Check():(s?x.RunImmovableBody1(f):u&&x.RunImmovableBody2(f),!0)};c.exports=o},89936:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45170),x=t(47962),o=function(r,a,i,n,l){l===void 0&&(l=h(r,a,i,n));var s=r.immovable,u=a.immovable;if(i||l===0||s&&u||r.customSeparateY||a.customSeparateY)return l!==0||r.embedded&&a.embedded;var f=x.Set(r,a,l);return!s&&!u?f>0?!0:x.Check():(s?x.RunImmovableBody1(f):u&&x.RunImmovableBody2(f),!0)};c.exports=o},95829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===void 0&&(h={}),h.none=t,h.up=!1,h.down=!1,h.left=!1,h.right=!1,t||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h};c.exports=E},72624:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),x=t(83419),o=t(78389),r=t(37747),a=t(37303),i=t(95829),n=t(26099),l=new x({Mixins:[o],initialize:function(u,f){var d=64,v=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=f!==void 0;y&&f.displayWidth&&(d=f.displayWidth,v=f.displayHeight),y||(f=m),this.world=u,this.gameObject=y?f:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(f.x-d*f.originX,f.y-v*f.originY),this.width=d,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=i(!1),this.touching=i(!0),this.wasTouching=i(!0),this.blocked=i(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,u,f){if(u===void 0&&(u=!0),f===void 0&&(f=!0),!s||!s.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),s.body&&d.disable(s),this.gameObject=s,s.body=this,this.setSize(),u&&this.updateFromGameObject(),this.enable=f,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,u){return u===void 0&&(u=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,u,f){f===void 0&&(f=!0);var d=this.gameObject;if(d&&d.frame&&(s||(s=d.frame.realWidth),u||(u=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=u,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(u/2),f&&d&&d.getCenter){var v=d.displayWidth/2,m=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,u,f){return u===void 0&&(u=this.offset.x),f===void 0&&(f=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,u){var f=this.gameObject;s===void 0&&(s=f.x),u===void 0&&(u=f.y),this.world.staticTree.remove(this),f.setPosition(s,u),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,u){return this.isCircle?h(this,s,u):a(this,s,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var u=this.position,f=u.x+this.halfWidth,d=u.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(f,d,this.width/2):s.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},71464:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),x=t(83419),o=t(78389),r=t(37747),a=t(95540),i=t(26479),n=t(41212),l=new x({Extends:i,Mixins:[o],initialize:function(u,f,d,v){!d&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:n(d)?(v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=a(v,"classType",h)):Array.isArray(d)&&n(d[0])?(v=d,d=null,v.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=a(m,"classType",h)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,i.call(this,f,d,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,r.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,u=0;u<s.length;u++)s[u].body.reset();return this}});c.exports=l},82248:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55495),x=t(37742),o=t(45319),r=t(83419),a=t(79342),i=t(37747),n=t(20339),l=t(52816),s=t(50792),u=t(63012),f=t(43855),d=t(5470),v=t(94977),m=t(64897),y=t(45170),T=t(96523),S=t(35154),A=t(36383),P=t(25774),w=t(96602),M=t(87841),D=t(59542),F=t(40012),L=t(14087),O=t(89936),B=t(35072),U=t(72624),W=t(2483),H=t(61340),Y=t(26099),G=t(15994),X=new r({Extends:s,initialize:function(b,z){s.call(this),this.scene=b,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new P,this.gravity=new Y(S(z,"gravity.x",0),S(z,"gravity.y",0)),this.bounds=new M(S(z,"x",0),S(z,"y",0),S(z,"width",b.sys.scale.width),S(z,"height",b.sys.scale.height)),this.checkCollision={up:S(z,"checkCollision.up",!0),down:S(z,"checkCollision.down",!0),left:S(z,"checkCollision.left",!0),right:S(z,"checkCollision.right",!0)},this.fps=S(z,"fps",60),this.fixedStep=S(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(z,"timeScale",1),this.OVERLAP_BIAS=S(z,"overlapBias",4),this.TILE_BIAS=S(z,"tileBias",16),this.forceX=S(z,"forceX",!1),this.isPaused=S(z,"isPaused",!1),this._total=0,this.drawDebug=S(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(z,"debugShowBody",!0),debugShowStaticBody:S(z,"debugShowStaticBody",!0),debugShowVelocity:S(z,"debugShowVelocity",!0),bodyDebugColor:S(z,"debugBodyColor",16711935),staticBodyDebugColor:S(z,"debugStaticBodyColor",255),velocityDebugColor:S(z,"debugVelocityColor",65280)},this.maxEntries=S(z,"maxEntries",16),this.useTree=S(z,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(V,b){b===void 0&&(b=i.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var z=0;z<V.length;z++){var $=V[z];if($.isParent)for(var Q=$.getChildren(),Z=0;Z<Q.length;Z++){var q=Q[Z];q.isParent?this.enable(q,b):this.enableBody(q,b)}else this.enableBody($,b)}},enableBody:function(V,b){return b===void 0&&(b=i.DYNAMIC_BODY),V.hasTransformComponent&&(V.body||(b===i.DYNAMIC_BODY?V.body=new x(this,V):b===i.STATIC_BODY&&(V.body=new U(this,V))),this.add(V.body)),V},add:function(V){return V.physicsType===i.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===i.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var b=0;b<V.length;b++){var z=V[b];if(z.isParent)for(var $=z.getChildren(),Q=0;Q<$.length;Q++){var Z=$[Q];Z.isParent?this.disable(Z):this.disableBody(Z.body)}else this.disableBody(z.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===i.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,b,z,$,Q,Z,q,j){return this.bounds.setTo(V,b,z,$),Q!==void 0&&this.setBoundsCollision(Q,Z,q,j),this},setBoundsCollision:function(V,b,z,$){return V===void 0&&(V=!0),b===void 0&&(b=!0),z===void 0&&(z=!0),$===void 0&&($=!0),this.checkCollision.left=V,this.checkCollision.right=b,this.checkCollision.up=z,this.checkCollision.down=$,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(V,b,z,$,Q){z===void 0&&(z=null),$===void 0&&($=null),Q===void 0&&(Q=z);var Z=new a(this,!1,V,b,z,$,Q);return this.colliders.add(Z),Z},addOverlap:function(V,b,z,$,Q){z===void 0&&(z=null),$===void 0&&($=null),Q===void 0&&(Q=z);var Z=new a(this,!0,V,b,z,$,Q);return this.colliders.add(Z),Z},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,b){if(!(this.isPaused||this.bodies.size===0)){var z,$=this._frameTime,Q=this._frameTimeMS*this.timeScale;this._elapsed+=b;var Z,q=this.bodies.entries,j=this._elapsed>=Q;for(this.fixedStep||($=b*.001,j=!0,this._elapsed=0),z=0;z<q.length;z++)Z=q[z],Z.enable&&Z.preUpdate(j,$);if(j){this._elapsed-=Q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(q));var k=this.colliders.update();for(z=0;z<k.length;z++){var _=k[z];_.active&&_.update()}this.emit(u.WORLD_STEP,$)}for(;this._elapsed>=Q;)this._elapsed-=Q,this.step($)}},step:function(V){var b,z,$=this.bodies.entries,Q=$.length;for(b=0;b<Q;b++)z=$[b],z.enable&&z.update(V);this.useTree&&(this.tree.clear(),this.tree.load($));var Z=this.colliders.update();for(b=0;b<Z.length;b++){var q=Z[b];q.active&&q.update()}this.emit(u.WORLD_STEP,V),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var V,b,z=this.bodies.entries,$=z.length,Q=this.bodies,Z=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<$;V++)b=z[V],b.enable&&b.postUpdate();if(this.drawDebug){var q=this.debugGraphic;for(q.clear(),V=0;V<$;V++)b=z[V],b.willDrawDebug()&&b.drawDebug(q);for(z=Z.entries,$=z.length,V=0;V<$;V++)b=z[V],b.willDrawDebug()&&b.drawDebug(q)}var j=this.pendingDestroy;if(j.size>0){var k=this.tree,_=this.staticTree;for(z=j.entries,$=z.length,V=0;V<$;V++)b=z[V],b.physicsType===i.DYNAMIC_BODY?(k.remove(b),Q.delete(b)):b.physicsType===i.STATIC_BODY&&(_.remove(b),Z.delete(b)),b.world=void 0,b.gameObject=void 0;j.clear()}},updateMotion:function(V,b){V.allowRotation&&this.computeAngularVelocity(V,b),this.computeVelocity(V,b)},computeAngularVelocity:function(V,b){var z=V.angularVelocity,$=V.angularAcceleration,Q=V.angularDrag,Z=V.maxAngular;$?z+=$*b:V.allowDrag&&Q&&(Q*=b,d(z-Q,0,.1)?z-=Q:v(z+Q,0,.1)?z+=Q:z=0),z=o(z,-Z,Z);var q=z-V.angularVelocity;V.angularVelocity+=q,V.rotation+=V.angularVelocity*b},computeVelocity:function(V,b){var z=V.velocity.x,$=V.acceleration.x,Q=V.drag.x,Z=V.maxVelocity.x,q=V.velocity.y,j=V.acceleration.y,k=V.drag.y,_=V.maxVelocity.y,et=V.speed,it=V.maxSpeed,st=V.allowDrag,nt=V.useDamping;V.allowGravity&&(z+=(this.gravity.x+V.gravity.x)*b,q+=(this.gravity.y+V.gravity.y)*b),$?z+=$*b:st&&Q&&(nt?(Q=Math.pow(Q,b),z*=Q,et=Math.sqrt(z*z+q*q),f(et,0,.001)&&(z=0)):(Q*=b,d(z-Q,0,.01)?z-=Q:v(z+Q,0,.01)?z+=Q:z=0)),j?q+=j*b:st&&k&&(nt?(k=Math.pow(k,b),q*=k,et=Math.sqrt(z*z+q*q),f(et,0,.001)&&(q=0)):(k*=b,d(q-k,0,.01)?q-=k:v(q+k,0,.01)?q+=k:q=0)),z=o(z,-Z,Z),q=o(q,-_,_),V.velocity.set(z,q),it>-1&&V.velocity.length()>it&&(V.velocity.normalize().scale(it),et=it),V.speed=et},separate:function(V,b,z,$,Q){var Z,q,j=!1,k=!0;if(!V.enable||!b.enable||V.checkCollision.none||b.checkCollision.none||!this.intersects(V,b)||z&&z.call($,V.gameObject||V,b.gameObject||b)===!1)return j;if(V.isCircle||b.isCircle){var _=this.separateCircle(V,b,Q);_.result?(j=!0,k=!1):(Z=_.x,q=_.y,k=!0)}if(k){var et=!1,it=!1,st=this.OVERLAP_BIAS;Q?(et=L(V,b,Q,st,Z),it=O(V,b,Q,st,q)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(et=L(V,b,Q,st,Z),this.intersects(V,b)&&(it=O(V,b,Q,st,q))):(it=O(V,b,Q,st,q),this.intersects(V,b)&&(et=L(V,b,Q,st,Z))),j=et||it}return j&&(Q?(V.onOverlap||b.onOverlap)&&this.emit(u.OVERLAP,V.gameObject,b.gameObject,V,b):(V.onCollide||b.onCollide)&&this.emit(u.COLLIDE,V.gameObject,b.gameObject,V,b)),j},separateCircle:function(V,b,z){m(V,b,!1,0),y(V,b,!1,0);var $=V.isCircle,Q=b.isCircle,Z=V.center,q=b.center,j=V.immovable,k=b.immovable,_=V.velocity,et=b.velocity,it=0,st=!0;if($!==Q){st=!1;var nt=Z.x,ut=Z.y,ft=V.halfWidth,ht=b.position.x,rt=b.position.y,lt=b.right,dt=b.bottom;Q&&(nt=q.x,ut=q.y,ft=b.halfWidth,ht=V.position.x,rt=V.position.y,lt=V.right,dt=V.bottom),ut<rt?nt<ht?it=n(nt,ut,ht,rt)-ft:nt>lt&&(it=n(nt,ut,lt,rt)-ft):ut>dt&&(nt<ht?it=n(nt,ut,ht,dt)-ft:nt>lt&&(it=n(nt,ut,lt,dt)-ft)),it*=-1}else it=V.halfWidth+b.halfWidth-l(Z,q);V.overlapR=it,b.overlapR=it;var xt=h(Z,q),yt=(it+A.EPSILON)*Math.cos(xt),At=(it+A.EPSILON)*Math.sin(xt),Et={overlap:it,result:!1,x:yt,y:At};if(z&&(!st||st&&it!==0))return Et.result=!0,Et;if(!st&&it===0||j&&k||V.customSeparateX||b.customSeparateX)return Et.x=void 0,Et.y=void 0,Et;var Lt=!V.pushable&&!b.pushable;if(st){var zt=Z.x-q.x,qt=Z.y-q.y,Nt=Math.sqrt(Math.pow(zt,2)+Math.pow(qt,2)),Zt=(q.x-Z.x)/Nt||0,le=(q.y-Z.y)/Nt||0,jt=2*(_.x*Zt+_.y*le-et.x*Zt-et.y*le)/(V.mass+b.mass);(j||k||!V.pushable||!b.pushable)&&(jt*=2),!j&&V.pushable&&(_.x=_.x-jt/V.mass*Zt,_.y=_.y-jt/V.mass*le,_.multiply(V.bounce)),!k&&b.pushable&&(et.x=et.x+jt/b.mass*Zt,et.y=et.y+jt/b.mass*le,et.multiply(b.bounce)),!j&&!k&&(yt*=.5,At*=.5),(!j||V.pushable||Lt)&&(V.x-=yt,V.y-=At,V.updateCenter()),(!k||b.pushable||Lt)&&(b.x+=yt,b.y+=At,b.updateCenter()),Et.result=!0}else(!j||V.pushable||Lt)&&(V.x-=yt,V.y-=At,V.updateCenter()),(!k||b.pushable||Lt)&&(b.x+=yt,b.y+=At,b.updateCenter()),Et.x=void 0,Et.y=void 0;return Et},intersects:function(V,b){return V===b?!1:!V.isCircle&&!b.isCircle?!(V.right<=b.left||V.bottom<=b.top||V.left>=b.right||V.top>=b.bottom):V.isCircle?b.isCircle?l(V.center,b.center)<=V.halfWidth+b.halfWidth:this.circleBodyIntersects(V,b):this.circleBodyIntersects(b,V)},circleBodyIntersects:function(V,b){var z=o(V.center.x,b.left,b.right),$=o(V.center.y,b.top,b.bottom),Q=(V.center.x-z)*(V.center.x-z),Z=(V.center.y-$)*(V.center.y-$);return Q+Z<=V.halfWidth*V.halfWidth},overlap:function(V,b,z,$,Q){return z===void 0&&(z=null),$===void 0&&($=null),Q===void 0&&(Q=z),this.collideObjects(V,b,z,$,Q,!0)},collide:function(V,b,z,$,Q){return z===void 0&&(z=null),$===void 0&&($=null),Q===void 0&&(Q=z),this.collideObjects(V,b,z,$,Q,!1)},collideObjects:function(V,b,z,$,Q,Z){var q,j;V.isParent&&(V.physicsType===void 0||b===void 0||V===b)&&(V=V.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var k=Array.isArray(V),_=Array.isArray(b);if(this._total=0,!k&&!_)this.collideHandler(V,b,z,$,Q,Z);else if(!k&&_)for(q=0;q<b.length;q++)this.collideHandler(V,b[q],z,$,Q,Z);else if(k&&!_)if(b)for(q=0;q<V.length;q++)this.collideHandler(V[q],b,z,$,Q,Z);else for(q=0;q<V.length;q++){var et=V[q];for(j=q+1;j<V.length;j++)q!==j&&this.collideHandler(et,V[j],z,$,Q,Z)}else for(q=0;q<V.length;q++)for(j=0;j<b.length;j++)this.collideHandler(V[q],b[j],z,$,Q,Z);return this._total>0},collideHandler:function(V,b,z,$,Q,Z){if(b===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,z,$,Q,Z);if(!V||!b)return!1;if(V.body||V.isBody){if(b.body||b.isBody)return this.collideSpriteVsSprite(V,b,z,$,Q,Z);if(b.isParent)return this.collideSpriteVsGroup(V,b,z,$,Q,Z);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(V,b,z,$,Q,Z)}else if(V.isParent){if(b.body||b.isBody)return this.collideSpriteVsGroup(b,V,z,$,Q,Z);if(b.isParent)return this.collideGroupVsGroup(V,b,z,$,Q,Z);if(b.isTilemap)return this.collideGroupVsTilemapLayer(V,b,z,$,Q,Z)}else if(V.isTilemap){if(b.body||b.isBody)return this.collideSpriteVsTilemapLayer(b,V,z,$,Q,Z);if(b.isParent)return this.collideGroupVsTilemapLayer(b,V,z,$,Q,Z)}},canCollide:function(V,b){return V&&b&&(V.collisionMask&b.collisionCategory)!==0&&(b.collisionMask&V.collisionCategory)!==0},collideSpriteVsSprite:function(V,b,z,$,Q,Z){var q=V.isBody?V:V.body,j=b.isBody?b:b.body;return this.canCollide(q,j)?(this.separate(q,j,$,Q,Z)&&(z&&z.call(Q,V,b),this._total++),!0):!1},collideSpriteVsGroup:function(V,b,z,$,Q,Z){var q=V.isBody?V:V.body;if(!(b.getLength()===0||!q||!q.enable||q.checkCollision.none||!this.canCollide(q,b))){var j,k,_;if(this.useTree||b.physicsType===i.STATIC_BODY){var et=this.treeMinMax;et.minX=q.left,et.minY=q.top,et.maxX=q.right,et.maxY=q.bottom;var it=b.physicsType===i.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(k=it.length,j=0;j<k;j++)_=it[j],!(q===_||!_.enable||_.checkCollision.none||!b.contains(_.gameObject))&&this.separate(q,_,$,Q,Z)&&(z&&z.call(Q,q.gameObject,_.gameObject),this._total++)}else{var st=b.getChildren(),nt=b.children.entries.indexOf(V);for(k=st.length,j=0;j<k;j++)_=st[j].body,!(!_||j===nt||!_.enable)&&this.separate(q,_,$,Q,Z)&&(z&&z.call(Q,q.gameObject,_.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,b,z,$,Q,Z){if(!this.canCollide(V,b))return!1;var q=V.getChildren();if(q.length===0)return!1;for(var j=!1,k=0;k<q.length;k++)(q[k].body||q[k].isBody)&&this.collideSpriteVsTilemapLayer(q[k],b,z,$,Q,Z)&&(j=!0);return j},collideTiles:function(V,b,z,$,Q){return b.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,b,z,$,Q,!1,!1)},overlapTiles:function(V,b,z,$,Q){return b.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,b,z,$,Q,!0,!1)},collideSpriteVsTilemapLayer:function(V,b,z,$,Q,Z){var q=V.isBody?V:V.body;if(!q.enable||q.checkCollision.none||!this.canCollide(q,b))return!1;var j=b.layer,k=q.x-j.tileWidth*b.scaleX,_=q.y-j.tileHeight*b.scaleY,et=q.width+j.tileWidth*b.scaleX,it=q.height+j.tileHeight*b.scaleY,st=Z?null:this.tileFilterOptions,nt=T(k,_,et,it,st,b.scene.cameras.main,b.layer);return nt.length===0?!1:this.collideSpriteVsTilesHandler(V,nt,z,$,Q,Z,!0)},collideSpriteVsTilesHandler:function(V,b,z,$,Q,Z,q){for(var j=V.isBody?V:V.body,k,_={left:0,right:0,top:0,bottom:0},et,it=!1,st=0;st<b.length;st++){k=b[st],et=k.tilemapLayer;var nt=et.tileToWorldXY(k.x,k.y);_.left=nt.x,_.top=nt.y,_.right=_.left+k.width*et.scaleX,_.bottom=_.top+k.height*et.scaleY,W(_,j)&&(!$||$.call(Q,V,k))&&w(k,V)&&(Z||F(st,j,k,_,et,this.TILE_BIAS,q))&&(this._total++,it=!0,z&&z.call(Q,V,k),Z&&j.onOverlap?this.emit(u.TILE_OVERLAP,V,k,j):j.onCollide&&this.emit(u.TILE_COLLIDE,V,k,j))}return it},collideGroupVsGroup:function(V,b,z,$,Q,Z){if(!(V.getLength()===0||b.getLength()===0||!this.canCollide(V,b)))for(var q=V.getChildren(),j=0;j<q.length;j++)this.collideSpriteVsGroup(q[j],b,z,$,Q,Z)},wrap:function(V,b){V.body?this.wrapObject(V,b):V.getChildren?this.wrapArray(V.getChildren(),b):Array.isArray(V)?this.wrapArray(V,b):this.wrapObject(V,b)},wrapArray:function(V,b){for(var z=0;z<V.length;z++)this.wrapObject(V[z],b)},wrapObject:function(V,b){b===void 0&&(b=0),V.x=G(V.x,this.bounds.left-b,this.bounds.right+b),V.y=G(V.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=X},1093:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};c.exports=E},59023:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};c.exports=E},62069:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,x,o){return this.body.setCollideWorldBounds(t,h,x,o),this}};c.exports=E},78389:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79599),x={setCollisionCategory:function(o){var r=this.body?this.body:this;return r.collisionCategory=o,this},willCollideWith:function(o){var r=this.body?this.body:this;return(r.collisionMask&o)!==0},addCollidesWith:function(o){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|o,this},removeCollidesWith:function(o){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~o,this},setCollidesWith:function(o){var r=this.body?this.body:this;return r.collisionMask=h(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=2147483647,this}};c.exports=x},87118:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setDebug:function(t,h,x){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=x,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};c.exports=E},52819:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};c.exports=E},4074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,h,x,o,r){return t&&this.body.reset(h,x),o&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=E},40831:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};c.exports=E},26775:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};c.exports=E},9437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};c.exports=E},30621:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setMass:function(t){return this.body.mass=t,this}};c.exports=E},72441:(c,E,t)=>{var h=t(47956),x=t(96503),o=t(2044),r=t(81491),a=function(i,n,l,s,u,f){var d=h(i,n-s,l-s,2*s,2*s,u,f);if(d.length===0)return d;for(var v=new x(n,l,s),m=new x,y=[],T=0;T<d.length;T++){var S=d[T];S.isCircle?(m.setTo(S.center.x,S.center.y,S.halfWidth),o(v,m)&&y.push(S)):r(v,S)&&y.push(S)}return y};c.exports=a},47956:c=>{var E=function(t,h,x,o,r,a,i){a===void 0&&(a=!0),i===void 0&&(i=!1);var n=[],l=[],s=t.treeMinMax;if(s.minX=h,s.minY=x,s.maxX=h+o,s.maxY=x+r,i&&(l=t.staticTree.search(s)),a&&t.useTree)n=t.tree.search(s);else if(a){var u=t.bodies,f={position:{x:h,y:x},left:h,top:x,right:h+o,bottom:x+r,isCircle:!1},d=t.intersects;u.iterate(function(v){d(v,f)&&n.push(v)})}return l.concat(n)};c.exports=E},62121:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};c.exports=E},29384:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,x){return this.body.setSize(t,h,x),this},setBodySize:function(t,h,x){return this.body.setSize(t,h,x),this},setCircle:function(t,h,x){return this.body.setCircle(t,h,x),this}};c.exports=E},15098:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};c.exports=E},92209:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=E},20009:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},36768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},60473:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},89954:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},61804:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},7161:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},34689:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},16006:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},63012:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),x=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=x(!1,o,h),c.exports=o},96602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};c.exports=E},36294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};c.exports=E},67013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};c.exports=E},40012:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21329),x=t(53442),o=t(2483),r=function(a,i,n,l,s,u,f){var d=l.left,v=l.top,m=l.right,y=l.bottom,T=n.faceLeft||n.faceRight,S=n.faceTop||n.faceBottom;if(f||(T=!0,S=!0),!T&&!S)return!1;var A=0,P=0,w=0,M=1;if(i.deltaAbsX()>i.deltaAbsY()?w=-1:i.deltaAbsX()<i.deltaAbsY()&&(M=-1),i.deltaX()!==0&&i.deltaY()!==0&&T&&S&&(w=Math.min(Math.abs(i.position.x-m),Math.abs(i.right-d)),M=Math.min(Math.abs(i.position.y-y),Math.abs(i.bottom-v))),w<M){if(T&&(A=h(i,n,d,m,u,f),A!==0&&!o(l,i)))return!0;S&&(P=x(i,n,v,y,u,f))}else{if(S&&(P=x(i,n,v,y,u,f),P!==0&&!o(l,i)))return!0;T&&(A=h(i,n,d,m,u,f))}return A!==0||P!==0};c.exports=r},21329:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36294),x=function(o,r,a,i,n,l){var s=0,u=r.faceLeft,f=r.faceRight,d=r.collideLeft,v=r.collideRight;return l||(u=!0,f=!0,d=!0,v=!0),o.deltaX()<0&&v&&o.checkCollision.left?f&&o.x<i&&(s=o.x-i,s<-n&&(s=0)):o.deltaX()>0&&d&&o.checkCollision.right&&u&&o.right>a&&(s=o.right-a,s>n&&(s=0)),s!==0&&(o.customSeparateX?o.overlapX=s:h(o,s)),s};c.exports=x},53442:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67013),x=function(o,r,a,i,n,l){var s=0,u=r.faceTop,f=r.faceBottom,d=r.collideUp,v=r.collideDown;return l||(u=!0,f=!0,d=!0,v=!0),o.deltaY()<0&&v&&o.checkCollision.up?f&&o.y<i&&(s=o.y-i,s<-n&&(s=0)):o.deltaY()>0&&d&&o.checkCollision.down&&u&&o.bottom>a&&(s=o.bottom-a,s>n&&(s=0)),s!==0&&(o.customSeparateY?o.overlapY=s:h(o,s)),s};c.exports=x},2483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};c.exports=E},55173:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};c.exports=h},44563:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(27064),Matter:t(3875)}},68174:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(26099),o=new h({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var a=this.boundsCenter,i=this.centerDiff,n=r.bounds.max.x-r.bounds.min.x,l=r.bounds.max.y-r.bounds.min.y,s=n*r.centerOfMass.x,u=l*r.centerOfMass.y;return a.set(n/2,l/2),i.set(s-a.x,u-a.y),!0},getTopLeft:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.boundsCenter,l=this.centerDiff;return new x(a+n.x+l.x,i+n.y+l.y)}return!1},getTopCenter:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.boundsCenter,l=this.centerDiff;return new x(a+l.x,i+n.y+l.y)}return!1},getTopRight:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.boundsCenter,l=this.centerDiff;return new x(a-(n.x-l.x),i+n.y+l.y)}return!1},getLeftCenter:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.boundsCenter,l=this.centerDiff;return new x(a+n.x+l.x,i+l.y)}return!1},getCenter:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.centerDiff;return new x(a+n.x,i+n.y)}return!1},getRightCenter:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.boundsCenter,l=this.centerDiff;return new x(a-(n.x-l.x),i+l.y)}return!1},getBottomLeft:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.boundsCenter,l=this.centerDiff;return new x(a+n.x+l.x,i-(n.y-l.y))}return!1},getBottomCenter:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.boundsCenter,l=this.centerDiff;return new x(a+l.x,i-(n.y-l.y))}return!1},getBottomRight:function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),this.parseBody(r)){var n=this.boundsCenter,l=this.centerDiff;return new x(a-(n.x-l.x),i-(n.y-l.y))}return!1}});c.exports=o},19933:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6790);h.Body=t(22562),h.Composite=t(69351),h.World=t(4372),h.Collision=t(52284),h.Detector=t(81388),h.Pairs=t(99561),h.Pair=t(4506),h.Query=t(73296),h.Resolver=t(66272),h.Constraint=t(48140),h.Common=t(53402),h.Engine=t(48413),h.Events=t(35810),h.Sleeping=t(53614),h.Plugin=t(73832),h.Bodies=t(66280),h.Composites=t(74116),h.Axes=t(66615),h.Bounds=t(15647),h.Svg=t(74058),h.Vector=t(31725),h.Vertices=t(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,c.exports=h},28137:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(83419),o=t(74116),r=t(48140),a=t(74058),i=t(75803),n=t(23181),l=t(34803),s=t(73834),u=t(19496),f=t(85791),d=t(98713),v=t(41598),m=new x({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(y,T,S,A,P){var w=h.rectangle(y,T,S,A,P);return this.world.add(w),w},trapezoid:function(y,T,S,A,P,w){var M=h.trapezoid(y,T,S,A,P,w);return this.world.add(M),M},circle:function(y,T,S,A,P){var w=h.circle(y,T,S,A,P);return this.world.add(w),w},polygon:function(y,T,S,A,P){var w=h.polygon(y,T,S,A,P);return this.world.add(w),w},fromVertices:function(y,T,S,A,P,w,M){typeof S=="string"&&(S=v.fromPath(S));var D=h.fromVertices(y,T,S,A,P,w,M);return this.world.add(D),D},fromPhysicsEditor:function(y,T,S,A,P){P===void 0&&(P=!0);var w=u.parseBody(y,T,S,A);return P&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(y,T,S,A,P,w){A===void 0&&(A=1),P===void 0&&(P={}),w===void 0&&(w=!0);for(var M=S.getElementsByTagName("path"),D=[],F=0;F<M.length;F++){var L=a.pathToVertices(M[F],30);A!==1&&v.scale(L,A,A),D.push(L)}var O=h.fromVertices(y,T,D,P);return w&&this.world.add(O),O},fromJSON:function(y,T,S,A,P){A===void 0&&(A={}),P===void 0&&(P=!0);var w=f.parseBody(y,T,S,A);return w&&P&&this.world.add(w),w},imageStack:function(y,T,S,A,P,w,M,D,F){M===void 0&&(M=0),D===void 0&&(D=0),F===void 0&&(F={});var L=this.world,O=this.sys.displayList;F.addToWorld=!1;var B=o.stack(S,A,P,w,M,D,function(U,W){var H=new n(L,U,W,y,T,F);return O.add(H),H.body});return L.add(B),B},stack:function(y,T,S,A,P,w,M){var D=o.stack(y,T,S,A,P,w,M);return this.world.add(D),D},pyramid:function(y,T,S,A,P,w,M){var D=o.pyramid(y,T,S,A,P,w,M);return this.world.add(D),D},chain:function(y,T,S,A,P,w){return o.chain(y,T,S,A,P,w)},mesh:function(y,T,S,A,P){return o.mesh(y,T,S,A,P)},newtonsCradle:function(y,T,S,A,P){var w=o.newtonsCradle(y,T,S,A,P);return this.world.add(w),w},car:function(y,T,S,A,P){var w=o.car(y,T,S,A,P);return this.world.add(w),w},softBody:function(y,T,S,A,P,w,M,D,F,L){var O=o.softBody(y,T,S,A,P,w,M,D,F,L);return this.world.add(O),O},joint:function(y,T,S,A,P){return this.constraint(y,T,S,A,P)},spring:function(y,T,S,A,P){return this.constraint(y,T,S,A,P)},constraint:function(y,T,S,A,P){A===void 0&&(A=1),P===void 0&&(P={}),P.bodyA=y.type==="body"?y:y.body,P.bodyB=T.type==="body"?T:T.body,isNaN(S)||(P.length=S),P.stiffness=A;var w=r.create(P);return this.world.add(w),w},worldConstraint:function(y,T,S,A){S===void 0&&(S=1),A===void 0&&(A={}),A.bodyB=y.type==="body"?y:y.body,isNaN(T)||(A.length=T),A.stiffness=S;var P=r.create(A);return this.world.add(P),P},mouseSpring:function(y){return this.pointerConstraint(y)},pointerConstraint:function(y){y===void 0&&(y={}),y.hasOwnProperty("render")||(y.render={visible:!1});var T=new d(this.scene,this.world,y);return this.world.add(T.constraint),T},image:function(y,T,S,A,P){var w=new n(this.world,y,T,S,A,P);return this.sys.displayList.add(w),w},tileBody:function(y,T){return new s(this.world,y,T)},sprite:function(y,T,S,A,P){var w=new l(this.world,y,T,S,A,P);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(y,T,S){return i(this.world,y,T,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=m},75803:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31884),x=t(95540),o=t(26099);function r(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var a=function(i,n,l,s){l===void 0&&(l={}),s===void 0&&(s=!0);var u=n.x,f=n.y;n.body={temp:!0,position:{x:u,y:f}};var d=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(d.forEach(function(m){for(var y in m)r(m[y])?Object.defineProperty(n,y,{get:m[y].get,set:m[y].set}):Object.defineProperty(n,y,{value:m[y]})}),n.world=i,n._tempVec2=new o(u,f),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,s);else{var v=x(l,"shape",null);v||(v="rectangle"),l.addToWorld=s,n.setBody(v,l)}return n};c.exports=a},23181:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31884),o=t(95643),r=t(95540),a=t(88571),i=t(72699),n=t(26099),l=new h({Extends:a,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,i],initialize:function(u,f,d,v,m,y){o.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new n(f,d);var T=r(y,"shape",null);T?this.setBody(T,y):this.setRectangle(this.width,this.height,y),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=l},42045:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),x=t(66615),o=t(66280),r=t(22562),a=t(68174),i=t(15647),n=t(83419),l=t(52284),s=t(53402),u=t(69351),f=t(74116),d=t(48140),v=t(81388),m=t(20339),y=t(28137),T=t(95540),S=t(35154),A=t(46975),P=t(4506),w=t(99561),M=t(37277),D=t(73296),F=t(66272),L=t(44594),O=t(74058),B=t(31725),U=t(41598),W=t(68243);s.setDecomp(t(55973));var H=new n({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=u,this.collision=l,this.detector=v,this.pair=P,this.pairs=w,this.query=D,this.resolver=F,this.constraint=d,this.bodies=o,this.composites=f,this.axes=x,this.bounds=i,this.svg=O,this.vector=B,this.vertices=U,this.verts=U,this._tempVec2=B.create(),F._restingThresh=S(this.config,"restingThresh",4),F._restingThreshTangent=S(this.config,"restingThreshTangent",6),F._positionDampen=S(this.config,"positionDampen",.9),F._positionWarming=S(this.config,"positionWarming",.8),F._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),G.sys.events.once(L.BOOT,this.boot,this),G.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new y(this.world),this.bodyBounds=new a,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new y(this.world));var Y=this.systems.events;Y.on(L.UPDATE,this.world.update,this.world),Y.on(L.POST_UPDATE,this.world.postUpdate,this.world),Y.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,G=this.systems.settings.physics,X=A(T(G,"matter",{}),T(Y,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,G){this.world.step(Y,G)},containsPoint:function(Y,G,X){Y=this.getMatterBodies(Y);var V=B.create(G,X),b=D.point(Y,V);return b.length>0},intersectPoint:function(Y,G,X){X=this.getMatterBodies(X);var V=B.create(Y,G),b=[],z=D.point(X,V);return z.forEach(function($){b.indexOf($)===-1&&b.push($)}),b},intersectRect:function(Y,G,X,V,b,z){b===void 0&&(b=!1),z=this.getMatterBodies(z);var $={min:{x:Y,y:G},max:{x:Y+X,y:G+V}},Q=[],Z=D.region(z,$,b);return Z.forEach(function(q){Q.indexOf(q)===-1&&Q.push(q)}),Q},intersectRay:function(Y,G,X,V,b,z){b===void 0&&(b=1),z=this.getMatterBodies(z);for(var $=[],Q=D.ray(z,B.create(Y,G),B.create(X,V),b),Z=0;Z<Q.length;Z++)$.push(Q[Z].body);return $},intersectBody:function(Y,G){G=this.getMatterBodies(G);for(var X=[],V=D.collides(Y,G),b=0;b<V.length;b++){var z=V[b];z.bodyA===Y?X.push(z.bodyB):X.push(z.bodyA)}return X},overlap:function(Y,G,X,V,b){X===void 0&&(X=null),V===void 0&&(V=null),b===void 0&&(b=X),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),G=this.getMatterBodies(G);for(var z=!1,$=0;$<Y.length;$++)for(var Q=Y[$],Z=D.collides(Q,G),q=0;q<Z.length;q++){var j=Z[q],k=j.bodyA.id===Q.id?j.bodyB:j.bodyA;if(!V||V.call(b,Q,k,j)){if(z=!0,X)X.call(b,Q,k,j);else if(!V)return!0}}return z},setCollisionCategory:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.category=G}),this},setCollisionGroup:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.group=G}),this},setCollidesWith:function(Y,G){Y=this.getMatterBodies(Y);var X=0;if(!Array.isArray(G))X=G;else for(var V=0;V<G.length;V++)X|=G[V];return Y.forEach(function(b){b.collisionFilter.mask=X}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var G=[],X=0;X<Y.length;X++){var V=Y[X].hasOwnProperty("body")?Y[X].body:Y[X];G.push(V)}return G},setVelocity:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.x=G,V.y=X,Y.forEach(function(b){r.setVelocity(b,V)}),this},setVelocityX:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.x=G,Y.forEach(function(V){X.y=V.velocity.y,r.setVelocity(V,X)}),this},setVelocityY:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.y=G,Y.forEach(function(V){X.x=V.velocity.x,r.setVelocity(V,X)}),this},setAngularVelocity:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){r.setAngularVelocity(X,G)}),this},applyForce:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return Y.forEach(function(V){X.x=V.position.x,X.y=V.position.y,r.applyForce(V,X,G)}),this},applyForceFromPosition:function(Y,G,X,V){Y=this.getMatterBodies(Y);var b=this._tempVec2;return Y.forEach(function(z){V===void 0&&(V=z.angle),b.x=X*Math.cos(V),b.y=X*Math.sin(V),r.applyForce(z,G,b)}),this},applyForceFromAngle:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return Y.forEach(function(b){X===void 0&&(X=b.angle),V.x=G*Math.cos(X),V.y=G*Math.sin(X),r.applyForce(b,{x:b.position.x,y:b.position.y},V)}),this},getConstraintLength:function(Y){var G=Y.pointA.x,X=Y.pointA.y,V=Y.pointB.x,b=Y.pointB.y;return Y.bodyA&&(G+=Y.bodyA.position.x,X+=Y.bodyA.position.y),Y.bodyB&&(V+=Y.bodyB.position.x,b+=Y.bodyB.position.y),m(G,X,V,b)},alignBody:function(Y,G,X,V){Y=Y.hasOwnProperty("body")?Y.body:Y;var b;switch(V){case h.TOP_LEFT:case h.LEFT_TOP:b=this.bodyBounds.getTopLeft(Y,G,X);break;case h.TOP_CENTER:b=this.bodyBounds.getTopCenter(Y,G,X);break;case h.TOP_RIGHT:case h.RIGHT_TOP:b=this.bodyBounds.getTopRight(Y,G,X);break;case h.LEFT_CENTER:b=this.bodyBounds.getLeftCenter(Y,G,X);break;case h.CENTER:b=this.bodyBounds.getCenter(Y,G,X);break;case h.RIGHT_CENTER:b=this.bodyBounds.getRightCenter(Y,G,X);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:b=this.bodyBounds.getBottomLeft(Y,G,X);break;case h.BOTTOM_CENTER:b=this.bodyBounds.getBottomCenter(Y,G,X);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:b=this.bodyBounds.getBottomRight(Y,G,X);break}return b&&r.setPosition(Y,b),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(L.UPDATE,this.world.update,this.world),Y.off(L.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});M.register("MatterPhysics",H,"matterPhysics"),c.exports=H},34803:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(83419),o=t(31884),r=t(95643),a=t(95540),i=t(72699),n=t(68287),l=t(26099),s=new x({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,i],initialize:function(f,d,v,m,y,T){r.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(m,y),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(d,v);var S=a(T,"shape",null);S?this.setBody(S,T):this.setRectangle(this.width,this.height,T),this.setPosition(d,v),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=s},73834:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o=t(83419),r=t(31884),a=t(62644),i=t(50792),n=t(95540),l=t(97022),s=t(41598),u=new o({Extends:i,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(d,v,m){i.call(this),this.tile=v,this.world=d,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var y=n(m,"body",null),T=n(m,"addToWorld",!0);if(y)this.setBody(y,T);else{var S=v.getCollisionGroup(),A=n(S,"objects",[]);A.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(v.flipX||v.flipY){var P={x:v.getCenterX(),y:v.getCenterY()},w=v.flipX?-1:1,M=v.flipY?-1:1;x.scale(y,w,M,P)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var d=this.tile.getBounds(),v=d.x+d.width/2,m=d.y+d.height/2,y=h.rectangle(v,m,d.width,d.height,f);return this.setBody(y,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),y=this.tile.getTop(),T=this.tile.getCollisionGroup(),S=n(T,"objects",[]),A=[],P=0;P<S.length;P++){var w=S[P],M=m+w.x*d,D=y+w.y*v,F=w.width*d,L=w.height*v,O=null;if(w.rectangle)O=h.rectangle(M+F/2,D+L/2,F,L,f);else if(w.ellipse)O=h.circle(M+F/2,D+L/2,F/2,f);else if(w.polygon||w.polyline){var B=w.polygon?w.polygon:w.polyline,U=B.map(function(G){return{x:G.x*d,y:G.y*v}}),W=s.create(U),H=s.centre(W);M+=H.x,D+=H.y,O=h.fromVertices(M,D,W,f)}O&&A.push(O)}if(A.length===1)this.setBody(A[0],f.addToWorld);else if(A.length>1){var Y=a(f);Y.parts=A,this.setBody(x.create(Y),Y.addToWorld)}return this},setBody:function(f,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=u},19496:(c,E,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o=t(53402),r=t(95540),a=t(41598),i={parseBody:function(n,l,s,u){u===void 0&&(u={});for(var f=r(s,"fixtures",[]),d=[],v=0;v<f.length;v++)for(var m=this.parseFixture(f[v]),y=0;y<m.length;y++)d.push(m[y]);var T=o.clone(s,!0);o.extend(T,u,!0),delete T.fixtures,delete T.type;var S=x.create(T);return x.setParts(S,d),x.setPosition(S,{x:n,y:l}),S},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var s;if(n.circle){var u=r(n.circle,"x"),f=r(n.circle,"y"),d=r(n.circle,"radius");s=[h.circle(u,f,d,l)]}else n.vertices&&(s=this.parseVertices(n.vertices,l));return s},parseVertices:function(n,l){l===void 0&&(l={});for(var s=[],u=0;u<n.length;u++)a.clockwiseSort(n[u]),s.push(x.create(o.extend({position:a.centre(n[u]),vertices:n[u]},l)));return h.flagCoincidentParts(s)}};c.exports=i},85791:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o={parseBody:function(r,a,i,n){n===void 0&&(n={});var l,s=i.vertices;if(s.length===1)n.vertices=s[0],l=x.create(n),h.flagCoincidentParts(l.parts);else{for(var u=[],f=0;f<s.length;f++){var d=x.create({vertices:s[f]});u.push(d)}h.flagCoincidentParts(u),n.parts=u,l=x.create(n)}return l.label=i.label,x.setPosition(l,{x:r,y:a}),l}};c.exports=o},98713:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15647),x=t(83419),o=t(69351),r=t(48140),a=t(81388),i=t(1121),n=t(8214),l=t(46975),s=t(53614),u=t(26099),f=t(41598),d=new x({initialize:function(m,y,T){T===void 0&&(T={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=y,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=r.create(l(T,S)),this.world.on(i.BEFORE_UPDATE,this.update,this),m.sys.input.on(n.POINTER_DOWN,this.onDown,this),m.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var m=this.position,y=this.constraint;this.camera.getWorldPoint(v.x,v.y,m);for(var T=o.allBodies(this.world.localWorld),S=0;S<T.length;S++){var A=T[S];if(!A.ignorePointer&&h.contains(A.bounds,m)&&a.canCollide(A.collisionFilter,y.collisionFilter)&&this.hitTestBody(A,m))return this.world.emit(i.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(v,m){for(var y=this.constraint,T=v.parts.length,S=T>1?1:0,A=S;A<T;A++){var P=v.parts[A];if(f.contains(P.vertices,m))return y.pointA=m,y.pointB={x:m.x-v.position.x,y:m.y-v.position.y},y.bodyB=v,y.angleB=v.angle,s.set(v,!1),this.part=P,this.body=v,!0}return!1},update:function(){var v=this.pointer,m=this.body;if(!this.active||!v){m&&this.stopDrag();return}if(!v.isDown&&m){this.stopDrag();return}else if(v.isDown){if(!this.camera||!m&&!this.getBody(v))return;m=this.body;var y=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,y),T.pointA.x=y.x,T.pointA.y=y.y,s.set(m,!1),this.world.emit(i.DRAG,m,this)}},stopDrag:function(){var v=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(i.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});c.exports=d},68243:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o=t(83419),r=t(53402),a=t(69351),i=t(48413),n=t(50792),l=t(1121),s=t(95540),u=t(35154),f=t(22562),d=t(35810),v=t(73834),m=t(4372),y=t(13037),T=t(31725),S=new o({Extends:n,initialize:function(P,w){n.call(this),this.scene=P,this.engine=i.create(w),this.localWorld=this.engine.world;var M=u(w,"gravity",null);M?this.setGravity(M.x,M.y,M.scale):M===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(w,"enabled",!0),this.getDelta=u(w,"getDelta",this.update60Hz);var D=s(w,"runner",{}),F=s(D,"fps",!1);F&&(D.delta=1e3/s(D,"fps",60)),this.runner=y.create(D),this.autoUpdate=u(w,"autoUpdate",!0);var L=u(w,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:s(L,"showAxes",!1),showAngleIndicator:s(L,"showAngleIndicator",!1),angleColor:s(L,"angleColor",15208787),showBroadphase:s(L,"showBroadphase",!1),broadphaseColor:s(L,"broadphaseColor",16757760),showBounds:s(L,"showBounds",!1),boundsColor:s(L,"boundsColor",16777215),showVelocity:s(L,"showVelocity",!1),velocityColor:s(L,"velocityColor",44783),showCollisions:s(L,"showCollisions",!1),collisionColor:s(L,"collisionColor",16094476),showSeparations:s(L,"showSeparations",!1),separationColor:s(L,"separationColor",16753920),showBody:s(L,"showBody",!0),showStaticBody:s(L,"showStaticBody",!0),showInternalEdges:s(L,"showInternalEdges",!1),renderFill:s(L,"renderFill",!1),renderLine:s(L,"renderLine",!0),fillColor:s(L,"fillColor",1075465),fillOpacity:s(L,"fillOpacity",1),lineColor:s(L,"lineColor",2678297),lineOpacity:s(L,"lineOpacity",1),lineThickness:s(L,"lineThickness",1),staticFillColor:s(L,"staticFillColor",857979),staticLineColor:s(L,"staticLineColor",1255396),showSleeping:s(L,"showSleeping",!1),staticBodySleepOpacity:s(L,"staticBodySleepOpacity",.7),sleepFillColor:s(L,"sleepFillColor",4605510),sleepLineColor:s(L,"sleepLineColor",10066585),showSensors:s(L,"showSensors",!0),sensorFillColor:s(L,"sensorFillColor",857979),sensorLineColor:s(L,"sensorLineColor",1255396),showPositions:s(L,"showPositions",!0),positionSize:s(L,"positionSize",4),positionColor:s(L,"positionColor",14697178),showJoint:s(L,"showJoint",!0),jointColor:s(L,"jointColor",14737474),jointLineOpacity:s(L,"jointLineOpacity",1),jointLineThickness:s(L,"jointLineThickness",2),pinSize:s(L,"pinSize",4),pinColor:s(L,"pinColor",4382944),springColor:s(L,"springColor",14697184),anchorColor:s(L,"anchorColor",15724527),anchorSize:s(L,"anchorSize",4),showConvexHulls:s(L,"showConvexHulls",!1),hullColor:s(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(w,"setBounds",!1)){var O=w.setBounds;if(typeof O=="boolean")this.setBounds();else{var B=s(O,"x",0),U=s(O,"y",0),W=s(O,"width",P.sys.scale.width),H=s(O,"height",P.sys.scale.height),Y=s(O,"thickness",64),G=s(O,"left",!0),X=s(O,"right",!0),V=s(O,"top",!0),b=s(O,"bottom",!0);this.setBounds(B,U,W,H,Y,G,X,V,b)}}},setCompositeRenderStyle:function(A){var P=A.bodies,w=A.constraints,M=A.composites,D,F,L;for(D=0;D<P.length;D++)F=P[D],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(D=0;D<w.length;D++)F=w[D],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(D=0;D<M.length;D++)F=M[D],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(A,P,w,M,D,F){var L=A.render,O=this.debugConfig;return L?(P==null&&(P=A.isStatic?O.staticLineColor:O.lineColor),w==null&&(w=O.lineOpacity),M==null&&(M=O.lineThickness),D==null&&(D=A.isStatic?O.staticFillColor:O.fillColor),F==null&&(F=O.fillOpacity),P!==!1&&(L.lineColor=P),w!==!1&&(L.lineOpacity=w),M!==!1&&(L.lineThickness=M),D!==!1&&(L.fillColor=D),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(A,P,w,M,D,F,L){var O=A.render,B=this.debugConfig;if(!O)return this;if(P==null){var U=O.type;U==="line"?P=B.jointColor:U==="pin"?P=B.pinColor:U==="spring"&&(P=B.springColor)}return w==null&&(w=B.jointLineOpacity),M==null&&(M=B.jointLineThickness),D==null&&(D=B.pinSize),F==null&&(F=B.anchorColor),L==null&&(L=B.anchorSize),P!==!1&&(O.lineColor=P),w!==!1&&(O.lineOpacity=w),M!==!1&&(O.lineThickness=M),D!==!1&&(O.pinSize=D),F!==!1&&(O.anchorColor=F),L!==!1&&(O.anchorSize=L),this},setEventsProxy:function(){var A=this,P=this.engine,w=this.localWorld;this.drawDebug&&(d.on(w,"compositeModified",function(M){A.setCompositeRenderStyle(M)}),d.on(w,"beforeAdd",function(M){for(var D=[].concat(M.object),F=0;F<D.length;F++){var L=D[F],O=L.render;L.type==="body"?A.setBodyRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):L.type==="composite"?A.setCompositeRenderStyle(L):L.type==="constraint"&&A.setConstraintRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),d.on(w,"beforeAdd",function(M){A.emit(l.BEFORE_ADD,M)}),d.on(w,"afterAdd",function(M){A.emit(l.AFTER_ADD,M)}),d.on(w,"beforeRemove",function(M){A.emit(l.BEFORE_REMOVE,M)}),d.on(w,"afterRemove",function(M){A.emit(l.AFTER_REMOVE,M)}),d.on(P,"beforeUpdate",function(M){A.emit(l.BEFORE_UPDATE,M)}),d.on(P,"afterUpdate",function(M){A.emit(l.AFTER_UPDATE,M)}),d.on(P,"collisionStart",function(M){var D=M.pairs,F,L;D.length>0&&D.map(function(O){F=O.bodyA,L=O.bodyB,F.gameObject&&F.gameObject.emit("collide",F,L,O),L.gameObject&&L.gameObject.emit("collide",L,F,O),d.trigger(F,"onCollide",{pair:O}),d.trigger(L,"onCollide",{pair:O}),F.onCollideCallback&&F.onCollideCallback(O),L.onCollideCallback&&L.onCollideCallback(O),F.onCollideWith[L.id]&&F.onCollideWith[L.id](L,O),L.onCollideWith[F.id]&&L.onCollideWith[F.id](F,O)}),A.emit(l.COLLISION_START,M,F,L)}),d.on(P,"collisionActive",function(M){var D=M.pairs,F,L;D.length>0&&D.map(function(O){F=O.bodyA,L=O.bodyB,F.gameObject&&F.gameObject.emit("collideActive",F,L,O),L.gameObject&&L.gameObject.emit("collideActive",L,F,O),d.trigger(F,"onCollideActive",{pair:O}),d.trigger(L,"onCollideActive",{pair:O}),F.onCollideActiveCallback&&F.onCollideActiveCallback(O),L.onCollideActiveCallback&&L.onCollideActiveCallback(O)}),A.emit(l.COLLISION_ACTIVE,M,F,L)}),d.on(P,"collisionEnd",function(M){var D=M.pairs,F,L;D.length>0&&D.map(function(O){F=O.bodyA,L=O.bodyB,F.gameObject&&F.gameObject.emit("collideEnd",F,L,O),L.gameObject&&L.gameObject.emit("collideEnd",L,F,O),d.trigger(F,"onCollideEnd",{pair:O}),d.trigger(L,"onCollideEnd",{pair:O}),F.onCollideEndCallback&&F.onCollideEndCallback(O),L.onCollideEndCallback&&L.onCollideEndCallback(O)}),A.emit(l.COLLISION_END,M,F,L)})},setBounds:function(A,P,w,M,D,F,L,O,B){return A===void 0&&(A=0),P===void 0&&(P=0),w===void 0&&(w=this.scene.sys.scale.width),M===void 0&&(M=this.scene.sys.scale.height),D===void 0&&(D=64),F===void 0&&(F=!0),L===void 0&&(L=!0),O===void 0&&(O=!0),B===void 0&&(B=!0),this.updateWall(F,"left",A-D,P-D,D,M+D*2),this.updateWall(L,"right",A+w,P-D,D,M+D*2),this.updateWall(O,"top",A,P-D,w,D),this.updateWall(B,"bottom",A,P+M,w,D),this},updateWall:function(A,P,w,M,D,F){var L=this.walls[P];A?(L&&m.remove(this.localWorld,L),w+=D/2,M+=F/2,this.walls[P]=this.create(w,M,D,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&m.remove(this.localWorld,L),this.walls[P]=null)},createDebugGraphic:function(){var A=this.scene.sys.add.graphics({x:0,y:0});return A.setDepth(Number.MAX_VALUE),this.debugGraphic=A,this.drawDebug=!0,A},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(A,P,w){return A===void 0&&(A=0),P===void 0&&(P=1),w===void 0&&(w=.001),this.localWorld.gravity.x=A,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=w,this},create:function(A,P,w,M,D){var F=h.rectangle(A,P,w,M,D);return m.add(this.localWorld,F),F},add:function(A){return m.add(this.localWorld,A),this},remove:function(A,P){Array.isArray(A)||(A=[A]);for(var w=0;w<A.length;w++){var M=A[w],D=M.body?M.body:M;a.remove(this.localWorld,D,P)}return this},removeConstraint:function(A,P){return a.remove(this.localWorld,A,P),this},convertTilemapLayer:function(A,P){var w=A.layer,M=A.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(M,P),this},convertTiles:function(A,P){if(A.length===0)return this;for(var w=0;w<A.length;w++)new v(this,A[w],P);return this},nextGroup:function(A){return f.nextGroup(A)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=r.now(),this.emit(l.RESUME),this},update:function(A){if(!(!this.enabled||!this.autoUpdate)){var P=this.engine,w=this.runner,M=r.now(),D=w.delta,F=0,L=A-w.timeLastTick;if((!L||!w.timeLastTick||L>Math.max(y._maxFrameDelta,w.maxFrameTime))&&(L=w.frameDelta||y._frameDeltaFallback),w.frameDeltaSmoothing){w.frameDeltaHistory.push(L),w.frameDeltaHistory=w.frameDeltaHistory.slice(-w.frameDeltaHistorySize);var O=w.frameDeltaHistory.slice(0).sort(),B=w.frameDeltaHistory.slice(O.length*y._smoothingLowerBound,O.length*y._smoothingUpperBound),U=y._mean(B);L=U||L}w.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),w.frameDelta=L,w.timeLastTick=A,w.timeBuffer+=w.frameDelta,w.timeBuffer=r.clamp(w.timeBuffer,0,w.frameDelta+D*y._timeBufferMargin),w.lastUpdatesDeferred=0;for(var W=w.maxUpdates||Math.ceil(w.maxFrameTime/D),H=r.now();D>0&&w.timeBuffer>=D*y._timeBufferMargin;){i.update(P,D),w.timeBuffer-=D,F+=1;var Y=r.now()-M,G=r.now()-H,X=Y+y._elapsedNextEstimate*G/F;if(F>=W||X>w.maxFrameTime){w.lastUpdatesDeferred=Math.round(Math.max(0,w.timeBuffer/D-y._timeBufferMargin));break}}}},step:function(A){i.update(this.engine,A)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(A){var P=A.hasOwnProperty("body")?A.body:A;return a.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var A=this.debugConfig,P=this.engine,w=this.debugGraphic,M=a.allBodies(this.localWorld);this.debugGraphic.clear(),A.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,w,A.broadphaseColor,.5),A.showBounds&&this.renderBodyBounds(M,w,A.boundsColor,.5),(A.showBody||A.showStaticBody)&&this.renderBodies(M),A.showJoint&&this.renderJoints(),(A.showAxes||A.showAngleIndicator)&&this.renderBodyAxes(M,w,A.showAxes,A.angleColor,.5),A.showVelocity&&this.renderBodyVelocity(M,w,A.velocityColor,1,2),A.showSeparations&&this.renderSeparations(P.pairs.list,w,A.separationColor),A.showCollisions&&this.renderCollisions(P.pairs.list,w,A.collisionColor)}},renderGrid:function(A,P,w,M){P.lineStyle(1,w,M);for(var D=r.keys(A.buckets),F=0;F<D.length;F++){var L=D[F];if(!(A.buckets[L].length<2)){var O=L.split(/C|R/);P.strokeRect(parseInt(O[1],10)*A.bucketWidth,parseInt(O[2],10)*A.bucketHeight,A.bucketWidth,A.bucketHeight)}}return this},renderSeparations:function(A,P,w){P.lineStyle(1,w,1);for(var M=0;M<A.length;M++){var D=A[M];if(D.isActive){var F=D.collision,L=F.bodyA,O=F.bodyB,B=L.position,U=O.position,W=F.penetration,H=!L.isStatic&&!O.isStatic?4:1;O.isStatic&&(H=0),P.lineBetween(U.x,U.y,U.x-W.x*H,U.y-W.y*H),H=!L.isStatic&&!O.isStatic?4:1,L.isStatic&&(H=0),P.lineBetween(B.x,B.y,B.x-W.x*H,B.y-W.y*H)}}return this},renderCollisions:function(A,P,w){P.lineStyle(1,w,.5),P.fillStyle(w,1);var M,D;for(M=0;M<A.length;M++)if(D=A[M],!!D.isActive)for(var F=0;F<D.contactCount;F++){var L=D.contacts[F],O=L.vertex;O&&P.fillRect(O.x-2,O.y-2,5,5)}for(M=0;M<A.length;M++)if(D=A[M],!!D.isActive){var B=D.collision,U=D.contacts;if(D.contactCount>0){var W=U[0].vertex.x,H=U[0].vertex.y;D.contactCount===2&&(W=(U[0].vertex.x+U[1].vertex.x)/2,H=(U[0].vertex.y+U[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?P.lineBetween(W-B.normal.x*8,H-B.normal.y*8,W,H):P.lineBetween(W+B.normal.x*8,H+B.normal.y*8,W,H)}}return this},renderBodyBounds:function(A,P,w,M){P.lineStyle(1,w,M);for(var D=0;D<A.length;D++){var F=A[D];if(F.render.visible){var L=F.bounds;if(L)P.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var O=F.parts,B=O.length>1?1:0;B<O.length;B++){var U=O[B];P.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(A,P,w,M,D){P.lineStyle(1,M,D);for(var F=0;F<A.length;F++){var L=A[F],O=L.parts;if(L.render.visible){var B,U,W;if(w)for(U=O.length>1?1:0;U<O.length;U++)for(B=O[U],W=0;W<B.axes.length;W++){var H=B.axes[W];P.lineBetween(B.position.x,B.position.y,B.position.x+H.x*20,B.position.y+H.y*20)}else for(U=O.length>1?1:0;U<O.length;U++)for(B=O[U],W=0;W<B.axes.length;W++)P.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(A,P,w,M,D){P.lineStyle(D,w,M);for(var F=0;F<A.length;F++){var L=A[F];L.render.visible&&P.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(A){for(var P=this.debugGraphic,w=this.debugConfig,M=w.showBody,D=w.showStaticBody,F=w.showSleeping,L=w.showInternalEdges,O=w.showConvexHulls,B=w.renderFill,U=w.renderLine,W=w.staticBodySleepOpacity,H=w.sleepFillColor,Y=w.sleepLineColor,G=w.hullColor,X=0;X<A.length;X++){var V=A[X];if(V.render.visible&&!(!D&&V.isStatic||!M&&!V.isStatic)){var b=V.render.lineColor,z=V.render.lineOpacity,$=V.render.lineThickness,Q=V.render.fillColor,Z=V.render.fillOpacity;F&&V.isSleeping&&(V.isStatic?(z*=W,Z*=W):(b=Y,Q=H)),B||(Q=null),U||(b=null),this.renderBody(V,P,L,b,z,$,Q,Z);var q=V.parts.length;O&&q>1&&this.renderConvexHull(V,P,G,$)}}},renderBody:function(A,P,w,M,D,F,L,O){M===void 0&&(M=null),D===void 0&&(D=null),F===void 0&&(F=1),L===void 0&&(L=null),O===void 0&&(O=null);for(var B=this.debugConfig,U=B.sensorFillColor,W=B.sensorLineColor,H=A.parts,Y=H.length,G=Y>1?1:0;G<Y;G++){var X=H[G],V=X.render,b=V.opacity;if(!(!V.visible||b===0||X.isSensor&&!B.showSensors)){var z=X.circleRadius;if(P.beginPath(),X.isSensor?(L!==null&&P.fillStyle(U,O*b),M!==null&&P.lineStyle(F,W,D*b)):(L!==null&&P.fillStyle(L,O*b),M!==null&&P.lineStyle(F,M,D*b)),z)P.arc(X.position.x,X.position.y,z,0,2*Math.PI);else{var $=X.vertices,Q=$.length;P.moveTo($[0].x,$[0].y);for(var Z=1;Z<Q;Z++){var q=$[Z];if(!$[Z-1].isInternal||w?P.lineTo(q.x,q.y):P.moveTo(q.x,q.y),Z<Q&&q.isInternal&&!w){var j=(Z+1)%Q;P.moveTo($[j].x,$[j].y)}}P.closePath()}L!==null&&P.fillPath(),M!==null&&P.strokePath()}}if(B.showPositions&&!A.isStatic){var k=A.position.x,_=A.position.y,et=Math.ceil(B.positionSize/2);P.fillStyle(B.positionColor,1),P.fillRect(k-et,_-et,B.positionSize,B.positionSize)}return this},renderConvexHull:function(A,P,w,M){M===void 0&&(M=1);var D=A.parts,F=D.length;if(F>1){var L=A.vertices;P.lineStyle(M,w),P.beginPath(),P.moveTo(L[0].x,L[0].y);for(var O=1;O<L.length;O++)P.lineTo(L[O].x,L[O].y);P.lineTo(L[0].x,L[0].y),P.strokePath()}return this},renderJoints:function(){for(var A=this.debugGraphic,P=a.allConstraints(this.localWorld),w=0;w<P.length;w++){var M=P[w].render,D=M.lineColor,F=M.lineOpacity,L=M.lineThickness,O=M.pinSize,B=M.anchorColor,U=M.anchorSize;this.renderConstraint(P[w],A,D,F,L,O,B,U)}},renderConstraint:function(A,P,w,M,D,F,L,O){var B=A.render;if(!B.visible||!A.pointA||!A.pointB)return this;P.lineStyle(D,w,M);var U=A.bodyA,W=A.bodyB,H,Y;if(U?H=T.add(U.position,A.pointA):H=A.pointA,B.type==="pin")P.strokeCircle(H.x,H.y,F);else{if(W?Y=T.add(W.position,A.pointB):Y=A.pointB,P.beginPath(),P.moveTo(H.x,H.y),B.type==="spring")for(var G=T.sub(Y,H),X=T.perp(T.normalise(G)),V=Math.ceil(r.clamp(A.length/5,12,20)),b,z=1;z<V;z+=1)b=z%2===0?1:-1,P.lineTo(H.x+G.x*(z/V)+X.x*b*4,H.y+G.y*(z/V)+X.y*b*4);P.lineTo(Y.x,Y.y)}return P.strokePath(),B.anchors&&O>0&&(P.fillStyle(L),P.fillCircle(H.x,H.y,O),P.fillCircle(Y.x,Y.y,O)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=S},70410:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setBounce:function(t){return this.body.restitution=t,this}};c.exports=E},66968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var x=0;x<t.length;x++)h|=t[x];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var x=0;x<t.length;x++){var o=t[x].hasOwnProperty("body")?t[x].body:t[x];this.body.setOnCollideWith(o,h)}return this}};c.exports=E},51607:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,r){return h.applyForce(this.body,o,r),this},thrust:function(o){var r=this.body.angle;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var r=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=x},5436:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setFriction:function(t,h,x){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};c.exports=E},39858:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};c.exports=E},37302:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x=t(26099),o={setMass:function(r){return h.setMass(this.body,r),this},setDensity:function(r){return h.setDensity(this.body,r),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=o},39132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};c.exports=E},57772:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o=t(43855),r=t(95540),a=t(19496),i=t(85791),n=t(41598),l={setRectangle:function(s,u,f){return this.setBody({type:"rectangle",width:s,height:u},f)},setCircle:function(s,u){return this.setBody({type:"circle",radius:s},u)},setPolygon:function(s,u,f){return this.setBody({type:"polygon",sides:u,radius:s},f)},setTrapezoid:function(s,u,f,d){return this.setBody({type:"trapezoid",width:s,height:u,slope:f},d)},setExistingBody:function(s,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var f=0;f<s.parts.length;f++)s.parts[f].gameObject=this;var d=this;if(s.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},u&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var v=s.render.sprite.xOffset,m=s.render.sprite.yOffset,y=s.centerOfMass.x,T=s.centerOfMass.y;if(o(y,.5)&&o(T,.5))this.setOrigin(v+.5,m+.5);else{var S=s.centerOffset.x,A=s.centerOffset.y;this.setOrigin(v+S/this.displayWidth,m+A/this.displayHeight)}}return this},setBody:function(s,u){if(!s)return this;var f;typeof s=="string"&&(s={type:s});var d=r(s,"type","rectangle"),v=r(s,"x",this._tempVec2.x),m=r(s,"y",this._tempVec2.y),y=r(s,"width",this.width),T=r(s,"height",this.height);switch(d){case"rectangle":f=h.rectangle(v,m,y,T,u);break;case"circle":var S=r(s,"radius",Math.max(y,T)/2),A=r(s,"maxSides",25);f=h.circle(v,m,S,u,A);break;case"trapezoid":var P=r(s,"slope",.5);f=h.trapezoid(v,m,y,T,P,u);break;case"polygon":var w=r(s,"sides",5),M=r(s,"radius",Math.max(y,T)/2);f=h.polygon(v,m,w,M,u);break;case"fromVertices":case"fromVerts":var D=r(s,"verts",null);if(D)if(typeof D=="string"&&(D=n.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,D),f=this.body;else{var F=r(s,"flagInternal",!1),L=r(s,"removeCollinear",.01),O=r(s,"minimumArea",10);f=h.fromVertices(v,m,D,u,F,L,O)}break;case"fromPhysicsEditor":f=a.parseBody(v,m,s,u);break;case"fromPhysicsTracer":f=i.parseBody(v,m,s,u);break}return f&&this.setExistingBody(f,s.addToWorld),this}};c.exports=l},38083:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1121),x=t(53614),o=t(35810),r={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(a){return a===void 0&&(a=60),this.body.sleepThreshold=a,this},setSleepEvents:function(a,i){return this.setSleepStartEvent(a),this.setSleepEndEvent(i),this},setSleepStartEvent:function(a){if(a){var i=this.world;o.on(this.body,"sleepStart",function(n){i.emit(h.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(a){if(a){var i=this.world;o.on(this.body,"sleepEnd",function(n){i.emit(h.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};c.exports=r},90556:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x={setStatic:function(o){return h.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};c.exports=x},85436:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x=t(36383),o=t(86554),r=t(30954),a=4,i={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),h.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this.setScale(n,n)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=a,h.scale(this.body,l,s),h.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=a,h.scale(this.body,l,s),h.scale(this.body,this._scaleX,n)}},angle:{get:function(){return r(this.body.angle*x.RAD_TO_DEG)},set:function(n){this.rotation=r(n)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),h.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),h.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),h.setAngle(this.body,n),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,h.setAngle(this.body,this.rotation),this},setScale:function(n,l,s){n===void 0&&(n=1),l===void 0&&(l=n);var u=1/this._scaleX,f=1/this._scaleY;return this._scaleX=n,this._scaleY=l,h.scale(this.body,u,f,s),h.scale(this.body,n,l,s),this}};c.exports=i},42081:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,r){return this._tempVec2.set(o,r),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(o){return h.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(o){return h.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};c.exports=x},31884:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},1213:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},25968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},67205:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},39438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},44823:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},92593:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},60128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},76861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},92362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},76408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},93971:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},5656:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},47861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},79099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},35906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},1121:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(c,E,t)=>{var h={};c.exports=h;var x=t(41598),o=t(31725),r=t(53614),a=t(53402),i=t(15647),n=t(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(s){var u={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:s.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=x.centre(s.vertices):s.hasOwnProperty("vertices")||(u.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=a.extend(u,s);return l(f,s),f.setOnCollideWith=function(d,v){return v?this.onCollideWith[d.id]=v:delete this.onCollideWith[d.id],this},f},h.nextGroup=function(s){return s?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var l=function(s,u){if(u=u||{},h.set(s,{bounds:s.bounds||i.create(s.vertices),positionPrev:s.positionPrev||o.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),x.rotate(s.vertices,s.angle,s.position),n.rotate(s.axes,s.angle),i.update(s.bounds,s.vertices,s.velocity),h.set(s,{axes:u.axes||s.axes,area:u.area||s.area,mass:u.mass||s.mass,inertia:u.inertia||s.inertia}),s.parts.length===1){var f=s.bounds,d=s.centerOfMass,v=s.centerOffset,m=f.max.x-f.min.x,y=f.max.y-f.min.y;d.x=-(f.min.x-s.position.x)/m,d.y=-(f.min.y-s.position.y)/y,v.x=m*d.x,v.y=y*d.y}};h.set=function(s,u,f){var d;typeof u=="string"&&(d=u,u={},u[d]=f);for(d in u)if(Object.prototype.hasOwnProperty.call(u,d))switch(f=u[d],d){case"isStatic":h.setStatic(s,f);break;case"isSleeping":r.set(s,f);break;case"mass":h.setMass(s,f);break;case"density":h.setDensity(s,f);break;case"inertia":h.setInertia(s,f);break;case"vertices":h.setVertices(s,f);break;case"position":h.setPosition(s,f);break;case"angle":h.setAngle(s,f);break;case"velocity":h.setVelocity(s,f);break;case"angularVelocity":h.setAngularVelocity(s,f);break;case"speed":h.setSpeed(s,f);break;case"angularSpeed":h.setAngularSpeed(s,f);break;case"parts":h.setParts(s,f);break;case"centre":h.setCentre(s,f);break;default:s[d]=f}},h.setStatic=function(s,u){for(var f=0;f<s.parts.length;f++){var d=s.parts[f];u?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=u}},h.setMass=function(s,u){var f=s.inertia/(s.mass/6);s.inertia=f*(u/6),s.inverseInertia=1/s.inertia,s.mass=u,s.inverseMass=1/s.mass,s.density=s.mass/s.area},h.setDensity=function(s,u){h.setMass(s,u*s.area),s.density=u},h.setInertia=function(s,u){s.inertia=u,s.inverseInertia=1/s.inertia},h.setVertices=function(s,u){u[0].body===s?s.vertices=u:s.vertices=x.create(u,s),s.axes=n.fromVertices(s.vertices),s.area=x.area(s.vertices),h.setMass(s,s.density*s.area);var f=x.centre(s.vertices);x.translate(s.vertices,f,-1),h.setInertia(s,h._inertiaScale*x.inertia(s.vertices,s.mass)),x.translate(s.vertices,s.position),i.update(s.bounds,s.vertices,s.velocity)},h.setParts=function(s,u,f){var d;for(u=u.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,d=0;d<u.length;d++){var v=u[d];v!==s&&(v.parent=s,s.parts.push(v))}if(s.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var m=[];for(d=0;d<u.length;d++)m=m.concat(u[d].vertices);x.clockwiseSort(m);var y=x.hull(m),T=x.centre(y);h.setVertices(s,y),x.translate(s.vertices,T)}var S=h._totalProperties(s),A=S.centre.x,P=S.centre.y,w=s.bounds,M=s.centerOfMass,D=s.centerOffset;i.update(w,s.vertices,s.velocity),M.x=-(w.min.x-A)/(w.max.x-w.min.x),M.y=-(w.min.y-P)/(w.max.y-w.min.y),D.x=A,D.y=P,s.area=S.area,s.parent=s,s.position.x=A,s.position.y=P,s.positionPrev.x=A,s.positionPrev.y=P,h.setMass(s,S.mass),h.setInertia(s,S.inertia),h.setPosition(s,S.centre)}},h.setCentre=function(s,u,f){f?(s.positionPrev.x+=u.x,s.positionPrev.y+=u.y,s.position.x+=u.x,s.position.y+=u.y):(s.positionPrev.x=u.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=u.y-(s.position.y-s.positionPrev.y),s.position.x=u.x,s.position.y=u.y)},h.setPosition=function(s,u,f){var d=o.sub(u,s.position);f?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=d.x,s.velocity.y=d.y,s.speed=o.magnitude(d)):(s.positionPrev.x+=d.x,s.positionPrev.y+=d.y);for(var v=0;v<s.parts.length;v++){var m=s.parts[v];m.position.x+=d.x,m.position.y+=d.y,x.translate(m.vertices,d),i.update(m.bounds,m.vertices,s.velocity)}},h.setAngle=function(s,u,f){var d=u-s.angle;f?(s.anglePrev=s.angle,s.angularVelocity=d,s.angularSpeed=Math.abs(d)):s.anglePrev+=d;for(var v=0;v<s.parts.length;v++){var m=s.parts[v];m.angle+=d,x.rotate(m.vertices,d,s.position),n.rotate(m.axes,d),i.update(m.bounds,m.vertices,s.velocity),v>0&&o.rotateAbout(m.position,d,s.position,m.position)}},h.setVelocity=function(s,u){var f=s.deltaTime/h._baseDelta;s.positionPrev.x=s.position.x-u.x*f,s.positionPrev.y=s.position.y-u.y*f,s.velocity.x=(s.position.x-s.positionPrev.x)/f,s.velocity.y=(s.position.y-s.positionPrev.y)/f,s.speed=o.magnitude(s.velocity)},h.getVelocity=function(s){var u=h._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*u,y:(s.position.y-s.positionPrev.y)*u}},h.getSpeed=function(s){return o.magnitude(h.getVelocity(s))},h.setSpeed=function(s,u){h.setVelocity(s,o.mult(o.normalise(h.getVelocity(s)),u))},h.setAngularVelocity=function(s,u){var f=s.deltaTime/h._baseDelta;s.anglePrev=s.angle-u*f,s.angularVelocity=(s.angle-s.anglePrev)/f,s.angularSpeed=Math.abs(s.angularVelocity)},h.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*h._baseDelta/s.deltaTime},h.getAngularSpeed=function(s){return Math.abs(h.getAngularVelocity(s))},h.setAngularSpeed=function(s,u){h.setAngularVelocity(s,a.sign(h.getAngularVelocity(s))*u)},h.translate=function(s,u,f){h.setPosition(s,o.add(s.position,u),f)},h.rotate=function(s,u,f,d){if(!f)h.setAngle(s,s.angle+u,d);else{var v=Math.cos(u),m=Math.sin(u),y=s.position.x-f.x,T=s.position.y-f.y;h.setPosition(s,{x:f.x+(y*v-T*m),y:f.y+(y*m+T*v)},d),h.setAngle(s,s.angle+u,d)}},h.scale=function(s,u,f,d){var v=0,m=0;d=d||s.position;for(var y=s.inertia===1/0,T=0;T<s.parts.length;T++){var S=s.parts[T];S.scale.x=u,S.scale.y=f,x.scale(S.vertices,u,f,d),S.axes=n.fromVertices(S.vertices),S.area=x.area(S.vertices),h.setMass(S,s.density*S.area),x.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),h.setInertia(S,h._inertiaScale*x.inertia(S.vertices,S.mass)),x.translate(S.vertices,{x:S.position.x,y:S.position.y}),T>0&&(v+=S.area,m+=S.inertia),S.position.x=d.x+(S.position.x-d.x)*u,S.position.y=d.y+(S.position.y-d.y)*f,i.update(S.bounds,S.vertices,s.velocity)}s.parts.length>1&&(s.area=v,s.isStatic||(h.setMass(s,s.density*v),h.setInertia(s,m))),s.circleRadius&&(u===f?s.circleRadius*=u:s.circleRadius=null),y&&h.setInertia(s,1/0)},h.update=function(s,u){u=(typeof u<"u"?u:16.666666666666668)*s.timeScale;var f=u*u,d=h._timeCorrection?u/(s.deltaTime||u):1,v=1-s.frictionAir*(u/a._baseDelta),m=(s.position.x-s.positionPrev.x)*d,y=(s.position.y-s.positionPrev.y)*d;s.velocity.x=m*v+s.force.x/s.mass*f,s.velocity.y=y*v+s.force.y/s.mass*f,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=u,s.angularVelocity=(s.angle-s.anglePrev)*v*d+s.torque/s.inertia*f,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=o.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var T=0;T<s.parts.length;T++){var S=s.parts[T];x.translate(S.vertices,s.velocity),T>0&&(S.position.x+=s.velocity.x,S.position.y+=s.velocity.y),s.angularVelocity!==0&&(x.rotate(S.vertices,s.angularVelocity,s.position),n.rotate(S.axes,s.angularVelocity),T>0&&o.rotateAbout(S.position,s.angularVelocity,s.position,S.position)),i.update(S.bounds,S.vertices,s.velocity)}},h.updateVelocities=function(s){var u=h._baseDelta/s.deltaTime,f=s.velocity;f.x=(s.position.x-s.positionPrev.x)*u,f.y=(s.position.y-s.positionPrev.y)*u,s.speed=Math.sqrt(f.x*f.x+f.y*f.y),s.angularVelocity=(s.angle-s.anglePrev)*u,s.angularSpeed=Math.abs(s.angularVelocity)},h.applyForce=function(s,u,f){var d={x:u.x-s.position.x,y:u.y-s.position.y};s.force.x+=f.x,s.force.y+=f.y,s.torque+=d.x*f.y-d.y*f.x},h._totalProperties=function(s){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=s.parts.length===1?0:1;f<s.parts.length;f++){var d=s.parts[f],v=d.mass!==1/0?d.mass:1;u.mass+=v,u.area+=d.area,u.inertia+=d.inertia,u.centre=o.add(u.centre,o.mult(d.position,v))}return u.centre=o.div(u.centre,u.mass),u},h.wrap=function(s,u){var f=i.wrap(s.bounds,u);return f&&h.translate(s,f),f}})()},69351:(c,E,t)=>{var h={};c.exports=h;var x=t(35810),o=t(53402),r=t(15647),a=t(22562);(function(){h.create=function(i){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},h.setModified=function(i,n,l,s){if(x.trigger(i,"compositeModified",i),i.isModified=n,n&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),l&&i.parent&&h.setModified(i.parent,n,l,s),s)for(var u=0;u<i.composites.length;u++){var f=i.composites[u];h.setModified(f,n,l,s)}},h.add=function(i,n){var l=[].concat(n);x.trigger(i,"beforeAdd",{object:n});for(var s=0;s<l.length;s++){var u=l[s];switch(u.type){case"body":if(u.parent!==u){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(i,u);break;case"constraint":h.addConstraint(i,u);break;case"composite":h.addComposite(i,u);break;case"mouseConstraint":h.addConstraint(i,u.constraint);break}}return x.trigger(i,"afterAdd",{object:n}),i},h.remove=function(i,n,l){var s=[].concat(n);x.trigger(i,"beforeRemove",{object:n});for(var u=0;u<s.length;u++){var f=s[u];switch(f.type){case"body":h.removeBody(i,f,l);break;case"constraint":h.removeConstraint(i,f,l);break;case"composite":h.removeComposite(i,f,l);break;case"mouseConstraint":h.removeConstraint(i,f.constraint);break}}return x.trigger(i,"afterRemove",{object:n}),i},h.addComposite=function(i,n){return i.composites.push(n),n.parent=i,h.setModified(i,!0,!0,!1),i},h.removeComposite=function(i,n,l){var s=o.indexOf(i.composites,n);if(s!==-1){var u=h.allBodies(n);h.removeCompositeAt(i,s);for(var f=0;f<u.length;f++)u[f].sleepCounter=0}if(l)for(var f=0;f<i.composites.length;f++)h.removeComposite(i.composites[f],n,!0);return i},h.removeCompositeAt=function(i,n){return i.composites.splice(n,1),h.setModified(i,!0,!0,!1),i},h.addBody=function(i,n){return i.bodies.push(n),h.setModified(i,!0,!0,!1),i},h.removeBody=function(i,n,l){var s=o.indexOf(i.bodies,n);if(s!==-1&&(h.removeBodyAt(i,s),n.sleepCounter=0),l)for(var u=0;u<i.composites.length;u++)h.removeBody(i.composites[u],n,!0);return i},h.removeBodyAt=function(i,n){return i.bodies.splice(n,1),h.setModified(i,!0,!0,!1),i},h.addConstraint=function(i,n){return i.constraints.push(n),h.setModified(i,!0,!0,!1),i},h.removeConstraint=function(i,n,l){var s=o.indexOf(i.constraints,n);if(s!==-1&&h.removeConstraintAt(i,s),l)for(var u=0;u<i.composites.length;u++)h.removeConstraint(i.composites[u],n,!0);return i},h.removeConstraintAt=function(i,n){return i.constraints.splice(n,1),h.setModified(i,!0,!0,!1),i},h.clear=function(i,n,l){if(l)for(var s=0;s<i.composites.length;s++)h.clear(i.composites[s],n,!0);return n?i.bodies=i.bodies.filter(function(u){return u.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,h.setModified(i,!0,!0,!1),i},h.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var n=[].concat(i.bodies),l=0;l<i.composites.length;l++)n=n.concat(h.allBodies(i.composites[l]));return i.cache&&(i.cache.allBodies=n),n},h.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var n=[].concat(i.constraints),l=0;l<i.composites.length;l++)n=n.concat(h.allConstraints(i.composites[l]));return i.cache&&(i.cache.allConstraints=n),n},h.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var n=[].concat(i.composites),l=0;l<i.composites.length;l++)n=n.concat(h.allComposites(i.composites[l]));return i.cache&&(i.cache.allComposites=n),n},h.get=function(i,n,l){var s,u;switch(l){case"body":s=h.allBodies(i);break;case"constraint":s=h.allConstraints(i);break;case"composite":s=h.allComposites(i).concat(i);break}return s?(u=s.filter(function(f){return f.id.toString()===n.toString()}),u.length===0?null:u[0]):null},h.move=function(i,n,l){return h.remove(i,n),h.add(l,n),i},h.rebase=function(i){for(var n=h.allBodies(i).concat(h.allConstraints(i)).concat(h.allComposites(i)),l=0;l<n.length;l++)n[l].id=o.nextId();return i},h.translate=function(i,n,l){for(var s=l?h.allBodies(i):i.bodies,u=0;u<s.length;u++)a.translate(s[u],n);return i},h.rotate=function(i,n,l,s){for(var u=Math.cos(n),f=Math.sin(n),d=s?h.allBodies(i):i.bodies,v=0;v<d.length;v++){var m=d[v],y=m.position.x-l.x,T=m.position.y-l.y;a.setPosition(m,{x:l.x+(y*u-T*f),y:l.y+(y*f+T*u)}),a.rotate(m,n)}return i},h.scale=function(i,n,l,s,u){for(var f=u?h.allBodies(i):i.bodies,d=0;d<f.length;d++){var v=f[d],m=v.position.x-s.x,y=v.position.y-s.y;a.setPosition(v,{x:s.x+m*n,y:s.y+y*l}),a.scale(v,n,l)}return i},h.bounds=function(i){for(var n=h.allBodies(i),l=[],s=0;s<n.length;s+=1){var u=n[s];l.push(u.bounds.min,u.bounds.max)}return r.create(l)},h.wrap=function(i,n){var l=r.wrap(h.bounds(i),n);return l&&h.translate(i,l),l}})()},4372:(c,E,t)=>{var h={};c.exports=h;var x=t(69351);(function(){h.create=x.create,h.add=x.add,h.remove=x.remove,h.clear=x.clear,h.addComposite=x.addComposite,h.addBody=x.addBody,h.addConstraint=x.addConstraint})()},52284:(c,E,t)=>{var h={};c.exports=h;var x=t(41598),o=t(4506);(function(){var r=[],a={overlap:0,axis:null},i={overlap:0,axis:null};h.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(n,l,s){if(h._overlapAxes(a,n.vertices,l.vertices,n.axes),a.overlap<=0||(h._overlapAxes(i,l.vertices,n.vertices,l.axes),i.overlap<=0))return null;var u=s&&s.table[o.id(n,l)],f;u?f=u.collision:(f=h.create(n,l),f.collided=!0,f.bodyA=n.id<l.id?n:l,f.bodyB=n.id<l.id?l:n,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),n=f.bodyA,l=f.bodyB;var d;a.overlap<i.overlap?d=a:d=i;var v=f.normal,m=f.tangent,y=f.penetration,T=f.supports,S=d.overlap,A=d.axis,P=A.x,w=A.y,M=l.position.x-n.position.x,D=l.position.y-n.position.y;P*M+w*D>=0&&(P=-P,w=-w),v.x=P,v.y=w,m.x=-w,m.y=P,y.x=P*S,y.y=w*S,f.depth=S;var F=h._findSupports(n,l,v,1),L=0;if(x.contains(n.vertices,F[0])&&(T[L++]=F[0]),x.contains(n.vertices,F[1])&&(T[L++]=F[1]),L<2){var O=h._findSupports(l,n,v,-1);x.contains(l.vertices,O[0])&&(T[L++]=O[0]),L<2&&x.contains(l.vertices,O[1])&&(T[L++]=O[1])}return L===0&&(T[L++]=F[0]),f.supportCount=L,f},h._overlapAxes=function(n,l,s,u){var f=l.length,d=s.length,v=l[0].x,m=l[0].y,y=s[0].x,T=s[0].y,S=u.length,A=Number.MAX_VALUE,P=0,w,M,D,F,L,O;for(L=0;L<S;L++){var B=u[L],U=B.x,W=B.y,H=v*U+m*W,Y=y*U+T*W,G=H,X=Y;for(O=1;O<f;O+=1)F=l[O].x*U+l[O].y*W,F>G?G=F:F<H&&(H=F);for(O=1;O<d;O+=1)F=s[O].x*U+s[O].y*W,F>X?X=F:F<Y&&(Y=F);if(M=G-Y,D=X-H,w=M<D?M:D,w<A&&(A=w,P=L,w<=0))break}n.axis=u[P],n.overlap=A},h._findSupports=function(n,l,s,u){var f=l.vertices,d=f.length,v=n.position.x,m=n.position.y,y=s.x*u,T=s.y*u,S=f[0],A=S,P=y*(v-A.x)+T*(m-A.y),w,M,D;for(D=1;D<d;D+=1)A=f[D],M=y*(v-A.x)+T*(m-A.y),M<P&&(P=M,S=A);return w=f[(d+S.index-1)%d],P=y*(v-w.x)+T*(m-w.y),A=f[(S.index+1)%d],y*(v-A.x)+T*(m-A.y)<P?(r[0]=S,r[1]=A,r):(r[0]=S,r[1]=w,r)}})()},43424:c=>{var E={};c.exports=E,function(){E.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,E,t)=>{var h={};c.exports=h;var x=t(53402),o=t(52284);(function(){h.create=function(r){var a={bodies:[],collisions:[],pairs:null};return x.extend(a,r)},h.setBodies=function(r,a){r.bodies=a.slice(0)},h.clear=function(r){r.bodies=[],r.collisions=[]},h.collisions=function(r){var a=r.pairs,i=r.bodies,n=i.length,l=h.canCollide,s=o.collides,u=r.collisions,f=0,d,v;for(i.sort(h._compareBoundsX),d=0;d<n;d++){var m=i[d],y=m.bounds,T=m.bounds.max.x,S=m.bounds.max.y,A=m.bounds.min.y,P=m.isStatic||m.isSleeping,w=m.parts.length,M=w===1;for(v=d+1;v<n;v++){var D=i[v],F=D.bounds;if(F.min.x>T)break;if(!(S<F.min.y||A>F.max.y)&&!(P&&(D.isStatic||D.isSleeping))&&l(m.collisionFilter,D.collisionFilter)){var L=D.parts.length;if(M&&L===1){var O=s(m,D,a);O&&(u[f++]=O)}else for(var B=w>1?1:0,U=L>1?1:0,W=B;W<w;W++)for(var H=m.parts[W],y=H.bounds,Y=U;Y<L;Y++){var G=D.parts[Y],F=G.bounds;if(!(y.min.x>F.max.x||y.max.x<F.min.x||y.max.y<F.min.y||y.min.y>F.max.y)){var O=s(H,G,a);O&&(u[f++]=O)}}}}}return u.length!==f&&(u.length=f),u},h.canCollide=function(r,a){return r.group===a.group&&r.group!==0?r.group>0:(r.mask&a.category)!==0&&(a.mask&r.category)!==0},h._compareBoundsX=function(r,a){return r.bounds.min.x-a.bounds.min.x}})()},4506:(c,E,t)=>{var h={};c.exports=h;var x=t(43424);(function(){h.create=function(o,r){var a=o.bodyA,i=o.bodyB,n={id:h.id(a,i),bodyA:a,bodyB:i,collision:o,contacts:[x.create(),x.create()],contactCount:0,separation:0,isActive:!0,isSensor:a.isSensor||i.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(n,o,r),n},h.update=function(o,r,a){var i=r.supports,n=r.supportCount,l=o.contacts,s=r.parentA,u=r.parentB;o.isActive=!0,o.timeUpdated=a,o.collision=r,o.separation=r.depth,o.inverseMass=s.inverseMass+u.inverseMass,o.friction=s.friction<u.friction?s.friction:u.friction,o.frictionStatic=s.frictionStatic>u.frictionStatic?s.frictionStatic:u.frictionStatic,o.restitution=s.restitution>u.restitution?s.restitution:u.restitution,o.slop=s.slop>u.slop?s.slop:u.slop,o.contactCount=n,r.pair=o;var f=i[0],d=l[0],v=i[1],m=l[1];(m.vertex===f||d.vertex===v)&&(l[1]=d,l[0]=d=m,m=l[1]),d.vertex=f,m.vertex=v},h.setActive=function(o,r,a){r?(o.isActive=!0,o.timeUpdated=a):(o.isActive=!1,o.contactCount=0)},h.id=function(o,r){return o.id<r.id?o.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+o.id.toString(36)}})()},99561:(c,E,t)=>{var h={};c.exports=h;var x=t(4506),o=t(53402);(function(){h.create=function(r){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},h.update=function(r,a,i){var n=x.update,l=x.create,s=x.setActive,u=r.table,f=r.list,d=f.length,v=d,m=r.collisionStart,y=r.collisionEnd,T=r.collisionActive,S=a.length,A=0,P=0,w=0,M,D,F;for(F=0;F<S;F++)M=a[F],D=M.pair,D?(D.isActive&&(T[w++]=D),n(D,M,i)):(D=l(M,i),u[D.id]=D,m[A++]=D,f[v++]=D);for(v=0,d=f.length,F=0;F<d;F++)D=f[F],D.timeUpdated>=i?f[v++]=D:(s(D,!1,i),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?f[v++]=D:(y[P++]=D,delete u[D.id]));f.length!==v&&(f.length=v),m.length!==A&&(m.length=A),y.length!==P&&(y.length=P),T.length!==w&&(T.length=w)},h.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},73296:(c,E,t)=>{var h={};c.exports=h;var x=t(31725),o=t(52284),r=t(15647),a=t(66280),i=t(41598);(function(){h.collides=function(n,l){for(var s=[],u=l.length,f=n.bounds,d=o.collides,v=r.overlaps,m=0;m<u;m++){var y=l[m],T=y.parts.length,S=T===1?0:1;if(n!==y&&v(y.bounds,f))for(var A=S;A<T;A++){var P=y.parts[A];if(v(P.bounds,f)){var w=d(P,n);if(w){s.push(w);break}}}}return s},h.ray=function(n,l,s,u){u=u||1e-100;for(var f=x.angle(l,s),d=x.magnitude(x.sub(l,s)),v=(s.x+l.x)*.5,m=(s.y+l.y)*.5,y=a.rectangle(v,m,d,u,{angle:f}),T=h.collides(y,n),S=0;S<T.length;S+=1){var A=T[S];A.body=A.bodyB=A.bodyA}return T},h.region=function(n,l,s){for(var u=[],f=0;f<n.length;f++){var d=n[f],v=r.overlaps(d.bounds,l);(v&&!s||!v&&s)&&u.push(d)}return u},h.point=function(n,l){for(var s=[],u=0;u<n.length;u++){var f=n[u];if(r.contains(f.bounds,l))for(var d=f.parts.length===1?0:1;d<f.parts.length;d++){var v=f.parts[d];if(r.contains(v.bounds,l)&&i.contains(v.vertices,l)){s.push(f);break}}}return s}})()},66272:(c,E,t)=>{var h={};c.exports=h;var x=t(41598),o=t(53402),r=t(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(a){var i,n,l,s=a.length;for(i=0;i<s;i++)n=a[i],n.isActive&&(l=n.contactCount,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},h.solvePosition=function(a,i,n){var l,s,u,f,d,v,m,y,T=h._positionDampen*(n||1),S=o.clamp(i/o._baseDelta,0,1),A=a.length;for(l=0;l<A;l++)s=a[l],!(!s.isActive||s.isSensor)&&(u=s.collision,f=u.parentA,d=u.parentB,v=u.normal,s.separation=u.depth+v.x*(d.positionImpulse.x-f.positionImpulse.x)+v.y*(d.positionImpulse.y-f.positionImpulse.y));for(l=0;l<A;l++)s=a[l],!(!s.isActive||s.isSensor)&&(u=s.collision,f=u.parentA,d=u.parentB,v=u.normal,y=s.separation-s.slop*S,(f.isStatic||d.isStatic)&&(y*=2),f.isStatic||f.isSleeping||(m=T/f.totalContacts,f.positionImpulse.x+=v.x*y*m,f.positionImpulse.y+=v.y*y*m),d.isStatic||d.isSleeping||(m=T/d.totalContacts,d.positionImpulse.x-=v.x*y*m,d.positionImpulse.y-=v.y*y*m))},h.postSolvePosition=function(a){for(var i=h._positionWarming,n=a.length,l=x.translate,s=r.update,u=0;u<n;u++){var f=a[u],d=f.positionImpulse,v=d.x,m=d.y,y=f.velocity;if(f.totalContacts=0,v!==0||m!==0){for(var T=0;T<f.parts.length;T++){var S=f.parts[T];l(S.vertices,d),s(S.bounds,S.vertices,y),S.position.x+=v,S.position.y+=m}f.positionPrev.x+=v,f.positionPrev.y+=m,v*y.x+m*y.y<0?(d.x=0,d.y=0):(d.x*=i,d.y*=i)}}},h.preSolveVelocity=function(a){var i=a.length,n,l;for(n=0;n<i;n++){var s=a[n];if(!(!s.isActive||s.isSensor)){var u=s.contacts,f=s.contactCount,d=s.collision,v=d.parentA,m=d.parentB,y=d.normal,T=d.tangent;for(l=0;l<f;l++){var S=u[l],A=S.vertex,P=S.normalImpulse,w=S.tangentImpulse;if(P!==0||w!==0){var M=y.x*P+T.x*w,D=y.y*P+T.y*w;v.isStatic||v.isSleeping||(v.positionPrev.x+=M*v.inverseMass,v.positionPrev.y+=D*v.inverseMass,v.anglePrev+=v.inverseInertia*((A.x-v.position.x)*D-(A.y-v.position.y)*M)),m.isStatic||m.isSleeping||(m.positionPrev.x-=M*m.inverseMass,m.positionPrev.y-=D*m.inverseMass,m.anglePrev-=m.inverseInertia*((A.x-m.position.x)*D-(A.y-m.position.y)*M))}}}}},h.solveVelocity=function(a,i){var n=i/o._baseDelta,l=n*n,s=l*n,u=-h._restingThresh*n,f=h._restingThreshTangent,d=h._frictionNormalMultiplier*n,v=h._frictionMaxStatic,m=a.length,y,T,S,A;for(S=0;S<m;S++){var P=a[S];if(!(!P.isActive||P.isSensor)){var w=P.collision,M=w.parentA,D=w.parentB,F=w.normal.x,L=w.normal.y,O=w.tangent.x,B=w.tangent.y,U=P.inverseMass,W=P.friction*P.frictionStatic*d,H=P.contacts,Y=P.contactCount,G=1/Y,X=M.position.x-M.positionPrev.x,V=M.position.y-M.positionPrev.y,b=M.angle-M.anglePrev,z=D.position.x-D.positionPrev.x,$=D.position.y-D.positionPrev.y,Q=D.angle-D.anglePrev;for(A=0;A<Y;A++){var Z=H[A],q=Z.vertex,j=q.x-M.position.x,k=q.y-M.position.y,_=q.x-D.position.x,et=q.y-D.position.y,it=X-k*b,st=V+j*b,nt=z-et*Q,ut=$+_*Q,ft=it-nt,ht=st-ut,rt=F*ft+L*ht,lt=O*ft+B*ht,dt=P.separation+rt,xt=Math.min(dt,1);xt=dt<0?0:xt;var yt=xt*W;lt<-yt||lt>yt?(T=lt>0?lt:-lt,y=P.friction*(lt>0?1:-1)*s,y<-T?y=-T:y>T&&(y=T)):(y=lt,T=v);var At=j*L-k*F,Et=_*L-et*F,Lt=G/(U+M.inverseInertia*At*At+D.inverseInertia*Et*Et),zt=(1+P.restitution)*rt*Lt;if(y*=Lt,rt<u)Z.normalImpulse=0;else{var qt=Z.normalImpulse;Z.normalImpulse+=zt,Z.normalImpulse>0&&(Z.normalImpulse=0),zt=Z.normalImpulse-qt}if(lt<-f||lt>f)Z.tangentImpulse=0;else{var Nt=Z.tangentImpulse;Z.tangentImpulse+=y,Z.tangentImpulse<-T&&(Z.tangentImpulse=-T),Z.tangentImpulse>T&&(Z.tangentImpulse=T),y=Z.tangentImpulse-Nt}var Zt=F*zt+O*y,le=L*zt+B*y;M.isStatic||M.isSleeping||(M.positionPrev.x+=Zt*M.inverseMass,M.positionPrev.y+=le*M.inverseMass,M.anglePrev+=(j*le-k*Zt)*M.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=Zt*D.inverseMass,D.positionPrev.y-=le*D.inverseMass,D.anglePrev-=(_*le-et*Zt)*D.inverseInertia)}}}}})()},48140:(c,E,t)=>{var h={};c.exports=h;var x=t(41598),o=t(31725),r=t(53614),a=t(15647),i=t(66615),n=t(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(l){var s=l;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var u=s.bodyA?o.add(s.bodyA.position,s.pointA):s.pointA,f=s.bodyB?o.add(s.bodyB.position,s.pointB):s.pointB,d=o.magnitude(o.sub(u,f));s.length=typeof s.length<"u"?s.length:d,s.id=s.id||n.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(v.type="pin",v.anchors=!1):s.stiffness<.9&&(v.type="spring"),s.render=n.extend(v,s.render),s},h.preSolveAll=function(l){for(var s=0;s<l.length;s+=1){var u=l[s],f=u.constraintImpulse;u.isStatic||f.x===0&&f.y===0&&f.angle===0||(u.position.x+=f.x,u.position.y+=f.y,u.angle+=f.angle)}},h.solveAll=function(l,s){for(var u=n.clamp(s/n._baseDelta,0,1),f=0;f<l.length;f+=1){var d=l[f],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,m=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(v||m)&&h.solve(l[f],u)}for(f=0;f<l.length;f+=1)d=l[f],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,m=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!v&&!m&&h.solve(l[f],u)},h.solve=function(l,s){var u=l.bodyA,f=l.bodyB,d=l.pointA,v=l.pointB;if(!(!u&&!f)){u&&!u.isStatic&&(o.rotate(d,u.angle-l.angleA,d),l.angleA=u.angle),f&&!f.isStatic&&(o.rotate(v,f.angle-l.angleB,v),l.angleB=f.angle);var m=d,y=v;if(u&&(m=o.add(u.position,d)),f&&(y=o.add(f.position,v)),!(!m||!y)){var T=o.sub(m,y),S=o.magnitude(T);S<h._minLength&&(S=h._minLength);var A=(S-l.length)/S,P=l.stiffness>=1||l.length===0,w=P?l.stiffness*s:l.stiffness*s*s,M=l.damping*s,D=o.mult(T,A*w),F=(u?u.inverseMass:0)+(f?f.inverseMass:0),L=(u?u.inverseInertia:0)+(f?f.inverseInertia:0),O=F+L,B,U,W,H,Y;if(M>0){var G=o.create();W=o.div(T,S),Y=o.sub(f&&o.sub(f.position,f.positionPrev)||G,u&&o.sub(u.position,u.positionPrev)||G),H=o.dot(W,Y)}u&&!u.isStatic&&(U=u.inverseMass/F,u.constraintImpulse.x-=D.x*U,u.constraintImpulse.y-=D.y*U,u.position.x-=D.x*U,u.position.y-=D.y*U,M>0&&(u.positionPrev.x-=M*W.x*H*U,u.positionPrev.y-=M*W.y*H*U),B=o.cross(d,D)/O*h._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle-=B,u.angle-=B),f&&!f.isStatic&&(U=f.inverseMass/F,f.constraintImpulse.x+=D.x*U,f.constraintImpulse.y+=D.y*U,f.position.x+=D.x*U,f.position.y+=D.y*U,M>0&&(f.positionPrev.x+=M*W.x*H*U,f.positionPrev.y+=M*W.y*H*U),B=o.cross(v,D)/O*h._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=B,f.angle+=B)}}},h.postSolveAll=function(l){for(var s=0;s<l.length;s++){var u=l[s],f=u.constraintImpulse;if(!(u.isStatic||f.x===0&&f.y===0&&f.angle===0)){r.set(u,!1);for(var d=0;d<u.parts.length;d++){var v=u.parts[d];x.translate(v.vertices,f),d>0&&(v.position.x+=f.x,v.position.y+=f.y),f.angle!==0&&(x.rotate(v.vertices,f.angle,u.position),i.rotate(v.axes,f.angle),d>0&&o.rotateAbout(v.position,f.angle,u.position,v.position)),a.update(v.bounds,v.vertices,u.velocity)}f.angle*=h._warming,f.x*=h._warming,f.y*=h._warming}}},h.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},h.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},h.currentLength=function(l){var s=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),u=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),d=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),v=s-f,m=u-d;return Math.sqrt(v*v+m*m)}})()},53402:(c,E,t)=>{var h={};c.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(o,r){var a,i;typeof r=="boolean"?(a=2,i=r):(a=1,i=!0);for(var n=a;n<arguments.length;n++){var l=arguments[n];if(l)for(var s in l)i&&l[s]&&l[s].constructor===Object&&(!o[s]||o[s].constructor===Object)?(o[s]=o[s]||{},h.extend(o[s],i,l[s])):o[s]=l[s]}return o},h.clone=function(o,r){return h.extend({},r,o)},h.keys=function(o){if(Object.keys)return Object.keys(o);var r=[];for(var a in o)r.push(a);return r},h.values=function(o){var r=[];if(Object.keys){for(var a=Object.keys(o),i=0;i<a.length;i++)r.push(o[a[i]]);return r}for(var n in o)r.push(o[n]);return r},h.get=function(o,r,a,i){r=r.split(".").slice(a,i);for(var n=0;n<r.length;n+=1)o=o[r[n]];return o},h.set=function(o,r,a,i,n){var l=r.split(".").slice(i,n);return h.get(o,r,0,-1)[l[l.length-1]]=a,a},h.shuffle=function(o){for(var r=o.length-1;r>0;r--){var a=Math.floor(h.random()*(r+1)),i=o[r];o[r]=o[a],o[a]=i}return o},h.choose=function(o){return o[Math.floor(h.random()*o.length)]},h.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},h.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},h.isFunction=function(o){return typeof o=="function"},h.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},h.isString=function(o){return toString.call(o)==="[object String]"},h.clamp=function(o,r,a){return o<r?r:o>a?a:o},h.sign=function(o){return o<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(o,r){return o=typeof o<"u"?o:0,r=typeof r<"u"?r:1,o+x()*(r-o)};var x=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[o]||(h.warn(o),h._warnedOnce[o]=!0)},h.deprecated=function(o,r,a){o[r]=h.chain(function(){h.warnOnce(" deprecated ",a)},o[r])},h.nextId=function(){return h._nextId++},h.indexOf=function(o,r){if(o.indexOf)return o.indexOf(r);for(var a=0;a<o.length;a++)if(o[a]===r)return a;return-1},h.map=function(o,r){if(o.map)return o.map(r);for(var a=[],i=0;i<o.length;i+=1)a.push(r(o[i]));return a},h.topologicalSort=function(o){var r=[],a=[],i=[];for(var n in o)!a[n]&&!i[n]&&h._topologicalSort(n,a,i,o,r);return r},h._topologicalSort=function(o,r,a,i,n){var l=i[o]||[];a[o]=!0;for(var s=0;s<l.length;s+=1){var u=l[s];a[u]||r[u]||h._topologicalSort(u,r,a,i,n)}a[o]=!1,r[o]=!0,n.push(o)},h.chain=function(){for(var o=[],r=0;r<arguments.length;r+=1){var a=arguments[r];a._chained?o.push.apply(o,a._chained):o.push(a)}var i=function(){for(var n,l=new Array(arguments.length),s=0,u=arguments.length;s<u;s++)l[s]=arguments[s];for(s=0;s<o.length;s+=1){var f=o[s].apply(n,l);typeof f<"u"&&(n=f)}return n};return i._chained=o,i},h.chainPathBefore=function(o,r,a){return h.set(o,r,h.chain(a,h.get(o,r)))},h.chainPathAfter=function(o,r,a){return h.set(o,r,h.chain(h.get(o,r),a))},h.setDecomp=function(o){h._decomp=o},h.getDecomp=function(){var o=h._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(c,E,t)=>{var h={};c.exports=h;var x=t(53614),o=t(66272),r=t(81388),a=t(99561),i=t(35810),n=t(69351),l=t(48140),s=t(53402),u=t(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(f){f=f||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=s.extend(d,f);return v.world=f.world||n.create({label:"World"}),v.pairs=f.pairs||a.create(),v.detector=f.detector||r.create(),v.detector.pairs=v.pairs,v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},h.update=function(f,d){var v=s.now(),m=f.world,y=f.detector,T=f.pairs,S=f.timing,A=S.timestamp,P;d>h._deltaMax&&s.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:s._baseDelta,d*=S.timeScale,S.timestamp+=d,S.lastDelta=d;var w={timestamp:S.timestamp,delta:d};i.trigger(f,"beforeUpdate",w);var M=n.allBodies(m),D=n.allConstraints(m),F=n.allComposites(m);for(m.isModified&&(r.setBodies(y,M),n.setModified(m,!1,!1,!0)),f.enableSleeping&&x.update(M,d),h._bodiesApplyGravity(M,f.gravity),h.wrap(M,F),h.attractors(M),d>0&&h._bodiesUpdate(M,d),i.trigger(f,"beforeSolve",w),l.preSolveAll(M),P=0;P<f.constraintIterations;P++)l.solveAll(D,d);l.postSolveAll(M);var L=r.collisions(y);a.update(T,L,A),f.enableSleeping&&x.afterCollisions(T.list),T.collisionStart.length>0&&i.trigger(f,"collisionStart",{pairs:T.collisionStart,timestamp:S.timestamp,delta:d});var O=s.clamp(20/f.positionIterations,0,1);for(o.preSolvePosition(T.list),P=0;P<f.positionIterations;P++)o.solvePosition(T.list,d,O);for(o.postSolvePosition(M),l.preSolveAll(M),P=0;P<f.constraintIterations;P++)l.solveAll(D,d);for(l.postSolveAll(M),o.preSolveVelocity(T.list),P=0;P<f.velocityIterations;P++)o.solveVelocity(T.list,d);return h._bodiesUpdateVelocities(M),T.collisionActive.length>0&&i.trigger(f,"collisionActive",{pairs:T.collisionActive,timestamp:S.timestamp,delta:d}),T.collisionEnd.length>0&&i.trigger(f,"collisionEnd",{pairs:T.collisionEnd,timestamp:S.timestamp,delta:d}),h._bodiesClearForces(M),i.trigger(f,"afterUpdate",w),f.timing.lastElapsed=s.now()-v,f},h.merge=function(f,d){if(s.extend(f,d),d.world){f.world=d.world,h.clear(f);for(var v=n.allBodies(f.world),m=0;m<v.length;m++){var y=v[m];x.set(y,!1),y.id=s.nextId()}}},h.clear=function(f){a.clear(f.pairs),r.clear(f.detector)},h._bodiesClearForces=function(f){for(var d=f.length,v=0;v<d;v++){var m=f[v];m.force.x=0,m.force.y=0,m.torque=0}},h._bodiesApplyGravity=function(f,d){var v=typeof d.scale<"u"?d.scale:.001,m=f.length;if(!(d.x===0&&d.y===0||v===0))for(var y=0;y<m;y++){var T=f[y];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.y+=T.mass*d.y*v,T.force.x+=T.mass*d.x*v)}},h._bodiesUpdate=function(f,d){for(var v=f.length,m=0;m<v;m++){var y=f[m];y.isStatic||y.isSleeping||u.update(y,d)}},h._bodiesUpdateVelocities=function(f){for(var d=f.length,v=0;v<d;v++)u.updateVelocities(f[v])},h.wrap=function(f,d){for(var v=0;v<f.length;v+=1){var m=f[v];m.wrapBounds!==null&&u.wrap(m,m.wrapBounds)}for(v=0;v<d.length;v+=1){var y=d[v];y.wrapBounds!==null&&n.wrap(y,y.wrapBounds)}},h.attractors=function(f){for(var d=0;d<f.length;d++){var v=f[d],m=v.attractors;if(m&&m.length>0)for(var y=0;y<f.length;y++){var T=f[y];if(d!==y)for(var S=0;S<m.length;S++){var A=m[S],P=A;s.isFunction(A)&&(P=A(v,T)),P&&u.applyForce(T,T.position,P)}}}}})()},35810:(c,E,t)=>{var h={};c.exports=h;var x=t(53402);(function(){h.on=function(o,r,a){for(var i=r.split(" "),n,l=0;l<i.length;l++)n=i[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(a);return a},h.off=function(o,r,a){if(!r){o.events={};return}typeof r=="function"&&(a=r,r=x.keys(o.events).join(" "));for(var i=r.split(" "),n=0;n<i.length;n++){var l=o.events[i[n]],s=[];if(a&&l)for(var u=0;u<l.length;u++)l[u]!==a&&s.push(l[u]);o.events[i[n]]=s}},h.trigger=function(o,r,a){var i,n,l,s,u=o.events;if(u&&x.keys(u).length>0){a||(a={}),i=r.split(" ");for(var f=0;f<i.length;f++)if(n=i[f],l=u[n],l){s=x.clone(a,!1),s.name=n,s.source=o;for(var d=0;d<l.length;d++)l[d].apply(o,[s])}}}})()},6790:(c,E,t)=>{var h={};c.exports=h;var x=t(73832),o=t(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){x.use(h,Array.prototype.slice.call(arguments))},h.before=function(r,a){return r=r.replace(/^Matter./,""),o.chainPathBefore(h,r,a)},h.after=function(r,a){return r=r.replace(/^Matter./,""),o.chainPathAfter(h,r,a)}})()},73832:(c,E,t)=>{var h={};c.exports=h;var x=t(53402);(function(){h._registry={},h.register=function(o){if(h.isPlugin(o)||x.warn("Plugin.register:",h.toString(o),"does not implement all required fields."),o.name in h._registry){var r=h._registry[o.name],a=h.versionParse(o.version).number,i=h.versionParse(r.version).number;a>i?(x.warn("Plugin.register:",h.toString(r),"was upgraded to",h.toString(o)),h._registry[o.name]=o):a<i?x.warn("Plugin.register:",h.toString(r),"can not be downgraded to",h.toString(o)):o!==r&&x.warn("Plugin.register:",h.toString(o),"is already registered to different plugin object")}else h._registry[o.name]=o;return o},h.resolve=function(o){return h._registry[h.dependencyParse(o).name]},h.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},h.isPlugin=function(o){return o&&o.name&&o.version&&o.install},h.isUsed=function(o,r){return o.used.indexOf(r)>-1},h.isFor=function(o,r){var a=o.for&&h.dependencyParse(o.for);return!o.for||r.name===a.name&&h.versionSatisfies(r.version,a.range)},h.use=function(o,r){if(o.uses=(o.uses||[]).concat(r||[]),o.uses.length===0){x.warn("Plugin.use:",h.toString(o),"does not specify any dependencies to install.");return}for(var a=h.dependencies(o),i=x.topologicalSort(a),n=[],l=0;l<i.length;l+=1)if(i[l]!==o.name){var s=h.resolve(i[l]);if(!s){n.push(" "+i[l]);continue}h.isUsed(o,s.name)||(h.isFor(s,o)||(x.warn("Plugin.use:",h.toString(s),"is for",s.for,"but installed on",h.toString(o)+"."),s._warned=!0),s.install?s.install(o):(x.warn("Plugin.use:",h.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(n.push(" "+h.toString(s)),delete s._warned):n.push(" "+h.toString(s)),o.used.push(s.name))}n.length>0&&!s.silent&&x.info(n.join("  "))},h.dependencies=function(o,r){var a=h.dependencyParse(o),i=a.name;if(r=r||{},!(i in r)){o=h.resolve(o)||o,r[i]=x.map(o.uses||[],function(l){h.isPlugin(l)&&h.register(l);var s=h.dependencyParse(l),u=h.resolve(l);return u&&!h.versionSatisfies(u.version,s.range)?(x.warn("Plugin.dependencies:",h.toString(u),"does not satisfy",h.toString(s),"used by",h.toString(a)+"."),u._warned=!0,o._warned=!0):u||(x.warn("Plugin.dependencies:",h.toString(l),"used by",h.toString(a),"could not be resolved."),o._warned=!0),s.name});for(var n=0;n<r[i].length;n+=1)h.dependencies(r[i][n],r);return r}},h.dependencyParse=function(o){if(x.isString(o)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(o)||x.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},h.versionParse=function(o){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(o)||x.warn("Plugin.versionParse:",o,"is not a valid version or range.");var a=r.exec(o),i=Number(a[4]),n=Number(a[5]),l=Number(a[6]);return{isRange:!!(a[1]||a[2]),version:a[3],range:o,operator:a[1]||a[2]||"",major:i,minor:n,patch:l,parts:[i,n,l],prerelease:a[7],number:i*1e8+n*1e4+l}},h.versionSatisfies=function(o,r){r=r||"*";var a=h.versionParse(r),i=h.versionParse(o);if(a.isRange){if(a.operator==="*"||o==="*")return!0;if(a.operator===">")return i.number>a.number;if(a.operator===">=")return i.number>=a.number;if(a.operator==="~")return i.major===a.major&&i.minor===a.minor&&i.patch>=a.patch;if(a.operator==="^")return a.major>0?i.major===a.major&&i.number>=a.number:a.minor>0?i.minor===a.minor&&i.patch>=a.patch:i.patch===a.patch}return o===r||o==="*"}})()},13037:(c,E,t)=>{var h={};c.exports=h;var x=t(35810),o=t(48413),r=t(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(i){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=r.extend(n,i);return l.fps=0,l},h.run=function(i,n){return i.timeBuffer=h._frameDeltaFallback,function l(s){i.frameRequestId=h._onNextFrame(i,l),s&&i.enabled&&h.tick(i,n,s)}(),i},h.tick=function(i,n,l){var s=r.now(),u=i.delta,f=0,d=l-i.timeLastTick;if((!d||!i.timeLastTick||d>Math.max(h._maxFrameDelta,i.maxFrameTime))&&(d=i.frameDelta||h._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(d),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var v=i.frameDeltaHistory.slice(0).sort(),m=i.frameDeltaHistory.slice(v.length*h._smoothingLowerBound,v.length*h._smoothingUpperBound),y=a(m);d=y||d}i.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),i.frameDelta=d,i.timeLastTick=l,i.timeBuffer+=i.frameDelta,i.timeBuffer=r.clamp(i.timeBuffer,0,i.frameDelta+u*h._timeBufferMargin),i.lastUpdatesDeferred=0;var T=i.maxUpdates||Math.ceil(i.maxFrameTime/u),S={timestamp:n.timing.timestamp};x.trigger(i,"beforeTick",S),x.trigger(i,"tick",S);for(var A=r.now();u>0&&i.timeBuffer>=u*h._timeBufferMargin;){x.trigger(i,"beforeUpdate",S),o.update(n,u),x.trigger(i,"afterUpdate",S),i.timeBuffer-=u,f+=1;var P=r.now()-s,w=r.now()-A,M=P+h._elapsedNextEstimate*w/f;if(f>=T||M>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/u-h._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=f,x.trigger(i,"afterTick",S),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/u)>T?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(i){h._cancelNextFrame(i)},h._onNextFrame=function(i,n){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},h._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var a=function(i){for(var n=0,l=i.length,s=0;s<l;s+=1)n+=i[s];return n/l||0};h._mean=a})()},53614:(c,E,t)=>{var h={};c.exports=h;var x=t(22562),o=t(35810),r=t(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(a,i){for(var n=i/r._baseDelta,l=h._motionSleepThreshold,s=0;s<a.length;s++){var u=a[s],f=x.getSpeed(u),d=x.getAngularSpeed(u),v=f*f+d*d;if(u.force.x!==0||u.force.y!==0){h.set(u,!1);continue}var m=Math.min(u.motion,v),y=Math.max(u.motion,v);u.motion=h._minBias*m+(1-h._minBias)*y,u.sleepThreshold>0&&u.motion<l?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/n&&h.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},h.afterCollisions=function(a){for(var i=h._motionSleepThreshold,n=0;n<a.length;n++){var l=a[n];if(l.isActive){var s=l.collision,u=s.bodyA.parent,f=s.bodyB.parent;if(!(u.isSleeping&&f.isSleeping||u.isStatic||f.isStatic)&&(u.isSleeping||f.isSleeping)){var d=u.isSleeping&&!u.isStatic?u:f,v=d===u?f:u;!d.isStatic&&v.motion>i&&h.set(d,!1)}}}},h.set=function(a,i){var n=a.isSleeping;i?(a.isSleeping=!0,a.sleepCounter=a.sleepThreshold,a.positionImpulse.x=0,a.positionImpulse.y=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.speed=0,a.angularSpeed=0,a.motion=0,n||o.trigger(a,"sleepStart")):(a.isSleeping=!1,a.sleepCounter=0,n&&o.trigger(a,"sleepEnd"))}})()},66280:(c,E,t)=>{var h={};c.exports=h;var x=t(41598),o=t(53402),r=t(22562),a=t(15647),i=t(31725);(function(){h.rectangle=function(n,l,s,u,f){f=f||{};var d={label:"Rectangle Body",position:{x:n,y:l},vertices:x.fromPath("L 0 0 L "+s+" 0 L "+s+" "+u+" L 0 "+u)};if(f.chamfer){var v=f.chamfer;d.vertices=x.chamfer(d.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete f.chamfer}return r.create(o.extend({},d,f))},h.trapezoid=function(n,l,s,u,f,d){d=d||{},f>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var v=(1-f*2)*s,m=s*f,y=m+v,T=y+m,S;f<.5?S="L 0 0 L "+m+" "+-u+" L "+y+" "+-u+" L "+T+" 0":S="L 0 0 L "+y+" "+-u+" L "+T+" 0";var A={label:"Trapezoid Body",position:{x:n,y:l},vertices:x.fromPath(S)};if(d.chamfer){var P=d.chamfer;A.vertices=x.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete d.chamfer}return r.create(o.extend({},A,d))},h.circle=function(n,l,s,u,f){u=u||{};var d={label:"Circle Body",circleRadius:s};f=f||25;var v=Math.ceil(Math.max(10,Math.min(f,s)));return v%2===1&&(v+=1),h.polygon(n,l,v,s,o.extend({},d,u))},h.polygon=function(n,l,s,u,f){if(f=f||{},s<3)return h.circle(n,l,u,f);for(var d=2*Math.PI/s,v="",m=d*.5,y=0;y<s;y+=1){var T=m+y*d,S=Math.cos(T)*u,A=Math.sin(T)*u;v+="L "+S.toFixed(3)+" "+A.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:n,y:l},vertices:x.fromPath(v)};if(f.chamfer){var w=f.chamfer;P.vertices=x.chamfer(P.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete f.chamfer}return r.create(o.extend({},P,f))},h.fromVertices=function(n,l,s,u,f,d,v,m){var y=o.getDecomp(),T,S,A,P,w,M,D,F,L,O,B;for(T=!!(y&&y.quickDecomp),u=u||{},A=[],f=typeof f<"u"?f:!1,d=typeof d<"u"?d:.01,v=typeof v<"u"?v:10,m=typeof m<"u"?m:.01,o.isArray(s[0])||(s=[s]),O=0;O<s.length;O+=1)if(M=s[O],P=x.isConvex(M),w=!P,w&&!T&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),P||!T)P?M=x.clockwiseSort(M):M=x.hull(M),A.push({position:{x:n,y:l},vertices:M});else{var U=M.map(function(Z){return[Z.x,Z.y]});y.makeCCW(U),d!==!1&&y.removeCollinearPoints(U,d),m!==!1&&y.removeDuplicatePoints&&y.removeDuplicatePoints(U,m);var W=y.quickDecomp(U);for(D=0;D<W.length;D++){var H=W[D],Y=H.map(function(Z){return{x:Z[0],y:Z[1]}});v>0&&x.area(Y)<v||A.push({position:x.centre(Y),vertices:Y})}}for(D=0;D<A.length;D++)A[D]=r.create(o.extend(A[D],u));if(f){var G=5;for(D=0;D<A.length;D++){var X=A[D];for(F=D+1;F<A.length;F++){var V=A[F];if(a.overlaps(X.bounds,V.bounds)){var b=X.vertices,z=V.vertices;for(L=0;L<X.vertices.length;L++)for(B=0;B<V.vertices.length;B++){var $=i.magnitudeSquared(i.sub(b[(L+1)%b.length],z[B])),Q=i.magnitudeSquared(i.sub(b[L],z[(B+1)%z.length]));$<G&&Q<G&&(b[L].isInternal=!0,z[B].isInternal=!0)}}}}}return A.length>1?(S=r.create(o.extend({parts:A.slice(0)},u)),r.setPosition(S,{x:n,y:l}),S):A[0]},h.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var s=0;s<n.length;s++)for(var u=n[s],f=s+1;f<n.length;f++){var d=n[f];if(a.overlaps(u.bounds,d.bounds))for(var v=u.vertices,m=d.vertices,y=0;y<u.vertices.length;y++)for(var T=0;T<d.vertices.length;T++){var S=i.magnitudeSquared(i.sub(v[(y+1)%v.length],m[T])),A=i.magnitudeSquared(i.sub(v[y],m[(T+1)%m.length]));S<l&&A<l&&(v[y].isInternal=!0,m[T].isInternal=!0)}}return n}})()},74116:(c,E,t)=>{var h={};c.exports=h;var x=t(69351),o=t(48140),r=t(53402),a=t(22562),i=t(66280);(function(){h.stack=function(n,l,s,u,f,d,v){for(var m=x.create({label:"Stack"}),y=n,T=l,S,A=0,P=0;P<u;P++){for(var w=0,M=0;M<s;M++){var D=v(y,T,M,P,S,A);if(D){var F=D.bounds.max.y-D.bounds.min.y,L=D.bounds.max.x-D.bounds.min.x;F>w&&(w=F),a.translate(D,{x:L*.5,y:F*.5}),y=D.bounds.max.x+f,x.addBody(m,D),S=D,A+=1}else y+=f}T+=w+d,y=n}return m},h.chain=function(n,l,s,u,f,d){for(var v=n.bodies,m=1;m<v.length;m++){var y=v[m-1],T=v[m],S=y.bounds.max.y-y.bounds.min.y,A=y.bounds.max.x-y.bounds.min.x,P=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,M={bodyA:y,pointA:{x:A*l,y:S*s},bodyB:T,pointB:{x:w*u,y:P*f}},D=r.extend(M,d);x.addConstraint(n,o.create(D))}return n.label+=" Chain",n},h.mesh=function(n,l,s,u,f){var d=n.bodies,v,m,y,T,S;for(v=0;v<s;v++){for(m=1;m<l;m++)y=d[m-1+v*l],T=d[m+v*l],x.addConstraint(n,o.create(r.extend({bodyA:y,bodyB:T},f)));if(v>0)for(m=0;m<l;m++)y=d[m+(v-1)*l],T=d[m+v*l],x.addConstraint(n,o.create(r.extend({bodyA:y,bodyB:T},f))),u&&m>0&&(S=d[m-1+(v-1)*l],x.addConstraint(n,o.create(r.extend({bodyA:S,bodyB:T},f)))),u&&m<l-1&&(S=d[m+1+(v-1)*l],x.addConstraint(n,o.create(r.extend({bodyA:S,bodyB:T},f))))}return n.label+=" Mesh",n},h.pyramid=function(n,l,s,u,f,d,v){return h.stack(n,l,s,u,f,d,function(m,y,T,S,A,P){var w=Math.min(u,Math.ceil(s/2)),M=A?A.bounds.max.x-A.bounds.min.x:0;if(!(S>w)){S=w-S;var D=S,F=s-1-S;if(!(T<D||T>F)){P===1&&a.translate(A,{x:(T+(s%2===1?1:-1))*M,y:0});var L=A?T*M:0;return v(n+L+T*f,y,T,S,A,P)}}})},h.newtonsCradle=function(n,l,s,u,f){for(var d=x.create({label:"Newtons Cradle"}),v=0;v<s;v++){var m=1.9,y=i.circle(n+v*(u*m),l+f,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=o.create({pointA:{x:n+v*(u*m),y:l},bodyB:y});x.addBody(d,y),x.addConstraint(d,T)}return d},h.car=function(n,l,s,u,f){var d=a.nextGroup(!0),v=20,m=-s*.5+v,y=s*.5-v,T=0,S=x.create({label:"Car"}),A=i.rectangle(n,l,s,u,{collisionFilter:{group:d},chamfer:{radius:u*.5},density:2e-4}),P=i.circle(n+m,l+T,f,{collisionFilter:{group:d},friction:.8}),w=i.circle(n+y,l+T,f,{collisionFilter:{group:d},friction:.8}),M=o.create({bodyB:A,pointB:{x:m,y:T},bodyA:P,stiffness:1,length:0}),D=o.create({bodyB:A,pointB:{x:y,y:T},bodyA:w,stiffness:1,length:0});return x.addBody(S,A),x.addBody(S,P),x.addBody(S,w),x.addConstraint(S,M),x.addConstraint(S,D),S},h.softBody=function(n,l,s,u,f,d,v,m,y,T){y=r.extend({inertia:1/0},y),T=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var S=h.stack(n,l,s,u,f,d,function(A,P){return i.circle(A,P,m,y)});return h.mesh(S,s,u,v,T),S.label="Soft Body",S}})()},66615:(c,E,t)=>{var h={};c.exports=h;var x=t(31725),o=t(53402);(function(){h.fromVertices=function(r){for(var a={},i=0;i<r.length;i++){var n=(i+1)%r.length,l=x.normalise({x:r[n].y-r[i].y,y:r[i].x-r[n].x}),s=l.y===0?1/0:l.x/l.y;s=s.toFixed(3).toString(),a[s]=l}return o.values(a)},h.rotate=function(r,a){if(a!==0)for(var i=Math.cos(a),n=Math.sin(a),l=0;l<r.length;l++){var s=r[l],u;u=s.x*i-s.y*n,s.y=s.x*n+s.y*i,s.x=u}}})()},15647:c=>{var E={};c.exports=E,function(){E.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&E.update(h,t),h},E.update=function(t,h,x){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<h.length;o++){var r=h[o];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}x&&(x.x>0?t.max.x+=x.x:t.min.x+=x.x,x.y>0?t.max.y+=x.y:t.min.y+=x.y)},E.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},E.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},E.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},E.shift=function(t,h){var x=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+x,t.min.y=h.y,t.max.y=h.y+o},E.wrap=function(t,h,x){var o=null,r=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(t.min.x>h.max.x?o=h.min.x-t.max.x:t.max.x<h.min.x&&(o=h.max.x-t.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(t.min.y>h.max.y?r=h.min.y-t.max.y:t.max.y<h.min.y&&(r=h.max.y-t.min.y)),o!==null||r!==null)return{x:o||0,y:r||0}}}()},74058:(c,E,t)=>{var h={};c.exports=h,t(15647);var x=t(53402);(function(){h.pathToVertices=function(o,r){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var a,i,n,l,s,u,f,d,v,m,y=[],T,S,A=0,P=0,w=0;r=r||15;var M=function(F,L,O){var B=O%2===1&&O>1;if(!v||F!=v.x||L!=v.y){v&&B?(T=v.x,S=v.y):(T=0,S=0);var U={x:T+F,y:S+L};(B||!v)&&(v=U),y.push(U),P=T+F,w=S+L}},D=function(F){var L=F.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":P=F.x,w=F.y;break;case"H":P=F.x;break;case"V":w=F.y;break}M(P,w,F.pathSegType)}};for(h._svgPathToAbsolute(o),n=o.getTotalLength(),u=[],a=0;a<o.pathSegList.numberOfItems;a+=1)u.push(o.pathSegList.getItem(a));for(f=u.concat();A<n;){if(m=o.getPathSegAtLength(A),s=u[m],s!=d){for(;f.length&&f[0]!=s;)D(f.shift());d=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(A),M(l.x,l.y,0);break}A+=r}for(a=0,i=f.length;a<i;++a)D(f[a]);return y},h._svgPathToAbsolute=function(o){for(var r,a,i,n,l,s,u=o.pathSegList,f=0,d=0,v=u.numberOfItems,m=0;m<v;++m){var y=u.getItem(m),T=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in y&&(f=y.x),"y"in y&&(d=y.y);else switch("x1"in y&&(i=f+y.x1),"x2"in y&&(l=f+y.x2),"y1"in y&&(n=d+y.y1),"y2"in y&&(s=d+y.y2),"x"in y&&(f+=y.x),"y"in y&&(d+=y.y),T){case"m":u.replaceItem(o.createSVGPathSegMovetoAbs(f,d),m);break;case"l":u.replaceItem(o.createSVGPathSegLinetoAbs(f,d),m);break;case"h":u.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(f),m);break;case"v":u.replaceItem(o.createSVGPathSegLinetoVerticalAbs(d),m);break;case"c":u.replaceItem(o.createSVGPathSegCurvetoCubicAbs(f,d,i,n,l,s),m);break;case"s":u.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(f,d,l,s),m);break;case"q":u.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(f,d,i,n),m);break;case"t":u.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(f,d),m);break;case"a":u.replaceItem(o.createSVGPathSegArcAbs(f,d,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),m);break;case"z":case"Z":f=r,d=a;break}(T=="M"||T=="m")&&(r=f,a=d)}}})()},31725:c=>{var E={};c.exports=E,function(){E.create=function(t,h){return{x:t||0,y:h||0}},E.clone=function(t){return{x:t.x,y:t.y}},E.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},E.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},E.rotate=function(t,h,x){var o=Math.cos(h),r=Math.sin(h);x||(x={});var a=t.x*o-t.y*r;return x.y=t.x*r+t.y*o,x.x=a,x},E.rotateAbout=function(t,h,x,o){var r=Math.cos(h),a=Math.sin(h);o||(o={});var i=x.x+((t.x-x.x)*r-(t.y-x.y)*a);return o.y=x.y+((t.x-x.x)*a+(t.y-x.y)*r),o.x=i,o},E.normalise=function(t){var h=E.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},E.dot=function(t,h){return t.x*h.x+t.y*h.y},E.cross=function(t,h){return t.x*h.y-t.y*h.x},E.cross3=function(t,h,x){return(h.x-t.x)*(x.y-t.y)-(h.y-t.y)*(x.x-t.x)},E.add=function(t,h,x){return x||(x={}),x.x=t.x+h.x,x.y=t.y+h.y,x},E.sub=function(t,h,x){return x||(x={}),x.x=t.x-h.x,x.y=t.y-h.y,x},E.mult=function(t,h){return{x:t.x*h,y:t.y*h}},E.div=function(t,h){return{x:t.x/h,y:t.y/h}},E.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},E.neg=function(t){return{x:-t.x,y:-t.y}},E.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},E._temp=[E.create(),E.create(),E.create(),E.create(),E.create(),E.create()]}()},41598:(c,E,t)=>{var h={};c.exports=h;var x=t(31725),o=t(53402);(function(){h.create=function(r,a){for(var i=[],n=0;n<r.length;n++){var l=r[n],s={x:l.x,y:l.y,index:n,body:a,isInternal:!1};i.push(s)}return i},h.fromPath=function(r,a){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return r.replace(i,function(l,s,u){n.push({x:parseFloat(s),y:parseFloat(u)})}),h.create(n,a)},h.centre=function(r){for(var a=h.area(r,!0),i={x:0,y:0},n,l,s,u=0;u<r.length;u++)s=(u+1)%r.length,n=x.cross(r[u],r[s]),l=x.mult(x.add(r[u],r[s]),n),i=x.add(i,l);return x.div(i,6*a)},h.mean=function(r){for(var a={x:0,y:0},i=0;i<r.length;i++)a.x+=r[i].x,a.y+=r[i].y;return x.div(a,r.length)},h.area=function(r,a){for(var i=0,n=r.length-1,l=0;l<r.length;l++)i+=(r[n].x-r[l].x)*(r[n].y+r[l].y),n=l;return a?i/2:Math.abs(i)/2},h.inertia=function(r,a){for(var i=0,n=0,l=r,s,u,f=0;f<l.length;f++)u=(f+1)%l.length,s=Math.abs(x.cross(l[u],l[f])),i+=s*(x.dot(l[u],l[u])+x.dot(l[u],l[f])+x.dot(l[f],l[f])),n+=s;return a/6*(i/n)},h.translate=function(r,a,i){i=typeof i<"u"?i:1;var n=r.length,l=a.x*i,s=a.y*i,u;for(u=0;u<n;u++)r[u].x+=l,r[u].y+=s;return r},h.rotate=function(r,a,i){if(a!==0){var n=Math.cos(a),l=Math.sin(a),s=i.x,u=i.y,f=r.length,d,v,m,y;for(y=0;y<f;y++)d=r[y],v=d.x-s,m=d.y-u,d.x=s+(v*n-m*l),d.y=u+(v*l+m*n);return r}},h.contains=function(r,a){for(var i=a.x,n=a.y,l=r.length,s=r[l-1],u,f=0;f<l;f++){if(u=r[f],(i-s.x)*(u.y-s.y)+(n-s.y)*(s.x-u.x)>0)return!1;s=u}return!0},h.scale=function(r,a,i,n){if(a===1&&i===1)return r;n=n||h.centre(r);for(var l,s,u=0;u<r.length;u++)l=r[u],s=x.sub(l,n),r[u].x=n.x+s.x*a,r[u].y=n.y+s.y*i;return r},h.chamfer=function(r,a,i,n,l){typeof a=="number"?a=[a]:a=a||[8],i=typeof i<"u"?i:-1,n=n||2,l=l||14;for(var s=[],u=0;u<r.length;u++){var f=r[u-1>=0?u-1:r.length-1],d=r[u],v=r[(u+1)%r.length],m=a[u<a.length?u:a.length-1];if(m===0){s.push(d);continue}var y=x.normalise({x:d.y-f.y,y:f.x-d.x}),T=x.normalise({x:v.y-d.y,y:d.x-v.x}),S=Math.sqrt(2*Math.pow(m,2)),A=x.mult(o.clone(y),m),P=x.normalise(x.mult(x.add(y,T),.5)),w=x.sub(d,x.mult(P,S)),M=i;i===-1&&(M=Math.pow(m,.32)*1.75),M=o.clamp(M,n,l),M%2===1&&(M+=1);for(var D=Math.acos(x.dot(y,T)),F=D/M,L=0;L<M;L++)s.push(x.add(x.rotate(A,F*L),w))}return s},h.clockwiseSort=function(r){var a=h.mean(r);return r.sort(function(i,n){return x.angle(a,i)-x.angle(a,n)}),r},h.isConvex=function(r){var a=0,i=r.length,n,l,s,u;if(i<3)return null;for(n=0;n<i;n++)if(l=(n+1)%i,s=(n+2)%i,u=(r[l].x-r[n].x)*(r[s].y-r[l].y),u-=(r[l].y-r[n].y)*(r[s].x-r[l].x),u<0?a|=1:u>0&&(a|=2),a===3)return!1;return a!==0?!0:null},h.hull=function(r){var a=[],i=[],n,l;for(r=r.slice(0),r.sort(function(s,u){var f=s.x-u.x;return f!==0?f:s.y-u.y}),l=0;l<r.length;l+=1){for(n=r[l];i.length>=2&&x.cross3(i[i.length-2],i[i.length-1],n)<=0;)i.pop();i.push(n)}for(l=r.length-1;l>=0;l-=1){for(n=r[l];a.length>=2&&x.cross3(a[a.length-2],a[a.length-1],n)<=0;)a.pop();a.push(n)}return a.pop(),i.pop(),a.concat(i)}})()},55973:c=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:D,quickDecomp:B,isSimple:L,removeCollinearPoints:U,removeDuplicatePoints:W,makeCCW:v};function E(G,X,V){V=V||0;var b=[0,0],z,$,Q,Z,q,j,k;return z=G[1][1]-G[0][1],$=G[0][0]-G[1][0],Q=z*G[0][0]+$*G[0][1],Z=X[1][1]-X[0][1],q=X[0][0]-X[1][0],j=Z*X[0][0]+q*X[0][1],k=z*q-Z*$,H(k,0,V)||(b[0]=(q*Q-$*j)/k,b[1]=(z*j-Z*Q)/k),b}function t(G,X,V,b){var z=X[0]-G[0],$=X[1]-G[1],Q=b[0]-V[0],Z=b[1]-V[1];if(Q*$-Z*z===0)return!1;var q=(z*(V[1]-G[1])+$*(G[0]-V[0]))/(Q*$-Z*z),j=(Q*(G[1]-V[1])+Z*(V[0]-G[0]))/(Z*z-Q*$);return q>=0&&q<=1&&j>=0&&j<=1}function h(G,X,V){return(X[0]-G[0])*(V[1]-G[1])-(V[0]-G[0])*(X[1]-G[1])}function x(G,X,V){return h(G,X,V)>0}function o(G,X,V){return h(G,X,V)>=0}function r(G,X,V){return h(G,X,V)<0}function a(G,X,V){return h(G,X,V)<=0}var i=[],n=[];function l(G,X,V,b){if(b){var z=i,$=n;z[0]=X[0]-G[0],z[1]=X[1]-G[1],$[0]=V[0]-X[0],$[1]=V[1]-X[1];var Q=z[0]*$[0]+z[1]*$[1],Z=Math.sqrt(z[0]*z[0]+z[1]*z[1]),q=Math.sqrt($[0]*$[0]+$[1]*$[1]),j=Math.acos(Q/(Z*q));return j<b}else return h(G,X,V)===0}function s(G,X){var V=X[0]-G[0],b=X[1]-G[1];return V*V+b*b}function u(G,X){var V=G.length;return G[X<0?X%V+V:X%V]}function f(G){G.length=0}function d(G,X,V,b){for(var z=V;z<b;z++)G.push(X[z])}function v(G){for(var X=0,V=G,b=1;b<G.length;++b)(V[b][1]<V[X][1]||V[b][1]===V[X][1]&&V[b][0]>V[X][0])&&(X=b);return x(u(G,X-1),u(G,X),u(G,X+1))?!1:(m(G),!0)}function m(G){for(var X=[],V=G.length,b=0;b!==V;b++)X.push(G.pop());for(var b=0;b!==V;b++)G[b]=X[b]}function y(G,X){return r(u(G,X-1),u(G,X),u(G,X+1))}var T=[],S=[];function A(G,X,V){var b,z,$=T,Q=S;if(o(u(G,X+1),u(G,X),u(G,V))&&a(u(G,X-1),u(G,X),u(G,V)))return!1;z=s(u(G,X),u(G,V));for(var Z=0;Z!==G.length;++Z)if(!((Z+1)%G.length===X||Z===X)&&o(u(G,X),u(G,V),u(G,Z+1))&&a(u(G,X),u(G,V),u(G,Z))&&($[0]=u(G,X),$[1]=u(G,V),Q[0]=u(G,Z),Q[1]=u(G,Z+1),b=E($,Q),s(u(G,X),b)<z))return!1;return!0}function P(G,X,V){for(var b=0;b!==G.length;++b)if(!(b===X||b===V||(b+1)%G.length===X||(b+1)%G.length===V)&&t(u(G,X),u(G,V),u(G,b),u(G,b+1)))return!1;return!0}function w(G,X,V,b){var z=b||[];if(f(z),X<V)for(var $=X;$<=V;$++)z.push(G[$]);else{for(var $=0;$<=V;$++)z.push(G[$]);for(var $=X;$<G.length;$++)z.push(G[$])}return z}function M(G){for(var X=[],V=[],b=[],z=[],$=Number.MAX_VALUE,Q=0;Q<G.length;++Q)if(y(G,Q)){for(var Z=0;Z<G.length;++Z)if(A(G,Q,Z)){V=M(w(G,Q,Z,z)),b=M(w(G,Z,Q,z));for(var q=0;q<b.length;q++)V.push(b[q]);V.length<$&&(X=V,$=V.length,X.push([u(G,Q),u(G,Z)]))}}return X}function D(G){var X=M(G);return X.length>0?F(G,X):[G]}function F(G,X){if(X.length===0)return[G];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var V=[G],b=0;b<X.length;b++)for(var z=X[b],$=0;$<V.length;$++){var Q=V[$],Z=F(Q,z);if(Z){V.splice($,1),V.push(Z[0],Z[1]);break}}return V}else{var z=X,b=G.indexOf(z[0]),$=G.indexOf(z[1]);return b!==-1&&$!==-1?[w(G,b,$),w(G,$,b)]:!1}}function L(G){var X=G,V;for(V=0;V<X.length-1;V++)for(var b=0;b<V-1;b++)if(t(X[V],X[V+1],X[b],X[b+1]))return!1;for(V=1;V<X.length-2;V++)if(t(X[0],X[X.length-1],X[V],X[V+1]))return!1;return!0}function O(G,X,V,b,z){z=z||0;var $=X[1]-G[1],Q=G[0]-X[0],Z=$*G[0]+Q*G[1],q=b[1]-V[1],j=V[0]-b[0],k=q*V[0]+j*V[1],_=$*j-q*Q;return H(_,0,z)?[0,0]:[(j*Z-Q*k)/_,($*k-q*Z)/_]}function B(G,X,V,b,z,$,Q){$=$||100,Q=Q||0,z=z||25,X=typeof X<"u"?X:[],V=V||[],b=b||[];var Z=[0,0],q=[0,0],j=[0,0],k=0,_=0,et=0,it=0,st=0,nt=0,ut=0,ft=[],ht=[],rt=G,lt=G;if(lt.length<3)return X;if(Q++,Q>$)return console.warn("quickDecomp: max level ("+$+") reached."),X;for(var dt=0;dt<G.length;++dt)if(y(rt,dt)){V.push(rt[dt]),k=_=Number.MAX_VALUE;for(var xt=0;xt<G.length;++xt)x(u(rt,dt-1),u(rt,dt),u(rt,xt))&&a(u(rt,dt-1),u(rt,dt),u(rt,xt-1))&&(j=O(u(rt,dt-1),u(rt,dt),u(rt,xt),u(rt,xt-1)),r(u(rt,dt+1),u(rt,dt),j)&&(et=s(rt[dt],j),et<_&&(_=et,q=j,nt=xt))),x(u(rt,dt+1),u(rt,dt),u(rt,xt+1))&&a(u(rt,dt+1),u(rt,dt),u(rt,xt))&&(j=O(u(rt,dt+1),u(rt,dt),u(rt,xt),u(rt,xt+1)),x(u(rt,dt-1),u(rt,dt),j)&&(et=s(rt[dt],j),et<k&&(k=et,Z=j,st=xt)));if(nt===(st+1)%G.length)j[0]=(q[0]+Z[0])/2,j[1]=(q[1]+Z[1])/2,b.push(j),dt<st?(d(ft,rt,dt,st+1),ft.push(j),ht.push(j),nt!==0&&d(ht,rt,nt,rt.length),d(ht,rt,0,dt+1)):(dt!==0&&d(ft,rt,dt,rt.length),d(ft,rt,0,st+1),ft.push(j),ht.push(j),d(ht,rt,nt,dt+1));else{if(nt>st&&(st+=G.length),it=Number.MAX_VALUE,st<nt)return X;for(var xt=nt;xt<=st;++xt)o(u(rt,dt-1),u(rt,dt),u(rt,xt))&&a(u(rt,dt+1),u(rt,dt),u(rt,xt))&&(et=s(u(rt,dt),u(rt,xt)),et<it&&P(rt,dt,xt)&&(it=et,ut=xt%G.length));dt<ut?(d(ft,rt,dt,ut+1),ut!==0&&d(ht,rt,ut,lt.length),d(ht,rt,0,dt+1)):(dt!==0&&d(ft,rt,dt,lt.length),d(ft,rt,0,ut+1),d(ht,rt,ut,dt+1))}return ft.length<ht.length?(B(ft,X,V,b,z,$,Q),B(ht,X,V,b,z,$,Q)):(B(ht,X,V,b,z,$,Q),B(ft,X,V,b,z,$,Q)),X}return X.push(G),X}function U(G,X){for(var V=0,b=G.length-1;G.length>3&&b>=0;--b)l(u(G,b-1),u(G,b),u(G,b+1),X)&&(G.splice(b%G.length,1),V++);return V}function W(G,X){for(var V=G.length-1;V>=1;--V)for(var b=G[V],z=V-1;z>=0;--z)if(Y(b,G[z],X)){G.splice(V,1);continue}}function H(G,X,V){return V=V||0,Math.abs(G-X)<=V}function Y(G,X,V){return H(G[0],X[0],V)&&H(G[1],X[1],V)}},52018:(c,E,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(83419),x=new h({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=x},42363:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=E},37277:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={},t={},h={};h.register=function(x,o,r,a){a===void 0&&(a=!1),E[x]={plugin:o,mapping:r,custom:a}},h.registerCustom=function(x,o,r,a){t[x]={plugin:o,mapping:r,data:a}},h.hasCore=function(x){return E.hasOwnProperty(x)},h.hasCustom=function(x){return t.hasOwnProperty(x)},h.getCore=function(x){return E[x]},h.getCustom=function(x){return t[x]},h.getCustomClass=function(x){return t.hasOwnProperty(x)?t[x].plugin:null},h.remove=function(x){E.hasOwnProperty(x)&&delete E[x]},h.removeCustom=function(x){t.hasOwnProperty(x)&&delete t[x]},h.destroyCorePlugins=function(){for(var x in E)E.hasOwnProperty(x)&&delete E[x]},h.destroyCustomPlugins=function(){for(var x in t)t.hasOwnProperty(x)&&delete t[x]},c.exports=h},77332:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(8443),o=t(50792),r=t(74099),a=t(44603),i=t(39429),n=t(95540),l=t(37277),s=t(72905),u=t(8054),f=new h({Extends:o,initialize:function(v){o.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted||v.config.renderType===u.HEADLESS?this.boot():v.events.once(x.BOOT,this.boot,this)},boot:function(){var d,v,m,y,T,S,A,P=this.game.config,w=P.installGlobalPlugins;for(w=w.concat(this._pendingGlobal),d=0;d<w.length;d++)v=w[d],m=n(v,"key",null),y=n(v,"plugin",null),T=n(v,"start",!1),S=n(v,"mapping",null),A=n(v,"data",null),m&&(y?this.install(m,y,T,S,A):console.warn("Missing `plugin` for key: "+m));for(w=P.installScenePlugins,w=w.concat(this._pendingScene),d=0;d<w.length;d++)v=w[d],m=n(v,"key",null),y=n(v,"plugin",null),S=n(v,"mapping",null),m&&(y?this.installScenePlugin(m,y,S):console.warn("Missing `plugin` for key: "+m));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(d,v,m){var y,T,S,A=this.game,P=d.scene,w=d.settings.map,M=d.settings.isBooted;for(y=0;y<v.length;y++)T=v[y],A[T]?(d[T]=A[T],w.hasOwnProperty(T)&&(P[w[T]]=d[T])):T==="game"&&w.hasOwnProperty(T)&&(P[w[T]]=A);for(var D=0;D<m.length;D++)for(S=m[D],y=0;y<S.length;y++)if(T=S[y],!!l.hasCore(T)){var F=l.getCore(T),L=F.mapping,O=new F.plugin(P,this,L);d[L]=O,F.custom?P[L]=O:w.hasOwnProperty(L)&&(P[w[L]]=O),M&&O.boot()}for(S=this.plugins,y=0;y<S.length;y++){var B=S[y];B.mapping&&(P[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,v,m,y,T){if(T===void 0&&(T=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(l.hasCore(d)||l.register(d,v,m,!0),this.scenePlugins.indexOf(d)===-1)this.scenePlugins.push(d);else if(!T&&l.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(y){var S=new v(y,this,d);y.sys[d]=S,m&&m!==""&&(y[m]=S),S.boot()}},install:function(d,v,m,y,T){if(m===void 0&&(m=!1),y===void 0&&(y=null),T===void 0&&(T=null),typeof v!="function")return console.warn("Invalid Plugin: "+d),null;if(l.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(y!==null&&(m=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:v,start:m,mapping:y,data:T});else if(l.registerCustom(d,v,y,T),m)return this.start(d);return null},getIndex:function(d){for(var v=this.plugins,m=0;m<v.length;m++){var y=v[m];if(y.key===d)return m}return-1},getEntry:function(d){var v=this.getIndex(d);if(v!==-1)return this.plugins[v]},isActive:function(d){var v=this.getEntry(d);return v&&v.active},start:function(d,v){v===void 0&&(v=d);var m=this.getEntry(v);return m&&!m.active?(m.active=!0,m.plugin.start()):m||(m=this.createEntry(d,v)),m?m.plugin:null},createEntry:function(d,v){var m=l.getCustom(d);if(m){var y=new m.plugin(this);m={key:v,plugin:y,active:!0,mapping:m.mapping,data:m.data},this.plugins.push(m),y.init(m.data),y.start()}return m},stop:function(d){var v=this.getEntry(d);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(d,v){v===void 0&&(v=!0);var m=this.getEntry(d);if(m)return m.plugin;var y=this.getClass(d);return y&&v?(m=this.createEntry(d,d),m?m.plugin:null):y||null},getClass:function(d){return l.getCustomClass(d)},removeGlobalPlugin:function(d){var v=this.getEntry(d);v&&s(this.plugins,v),l.removeCustom(d)},removeScenePlugin:function(d){s(this.scenePlugins,d),l.remove(d)},registerGameObject:function(d,v,m){return v&&i.register(d,v),m&&a.register(d,m),this},removeGameObject:function(d,v,m){return v===void 0&&(v=!0),m===void 0&&(m=!0),v&&i.remove(d),m&&a.remove(d),this},registerFileType:function(d,v,m){r.register(d,v),m&&m.sys.load&&(m.sys.load[d]=v)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=f},45145:(c,E,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(52018),x=t(83419),o=t(44594),r=new x({Extends:h,initialize:function(i,n,l){h.call(this,n),this.scene=i,this.systems=i.sys,this.pluginKey=l,i.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=r},18922:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){const E=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,x=(o,r)=>{const a=this.getVideoPlaybackQuality(),i=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames;if(i>h){const n=this.mozFrameDelay||a.totalFrameDelay-t.totalFrameDelay||0,l=r-o;c(r,{presentationTime:r+n*1e3,expectedDisplayTime:r+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:i,processingDuration:n}),delete this._rvfcpolyfillmap[E]}else this._rvfcpolyfillmap[E]=requestAnimationFrame(n=>x(r,n))};return this._rvfcpolyfillmap[E]=requestAnimationFrame(o=>x(E,o)),E},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=E},68627:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19715),x=t(32880),o=t(83419),r=t(8054),a=t(50792),i=t(92503),n=t(56373),l=t(97480),s=t(69442),u=t(8443),f=t(61340),d=new o({Extends:a,initialize:function(m){a.call(this);var y=m.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels,transparent:y.transparent},this.game=m,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=m.canvas;var T={alpha:y.transparent,desynchronized:y.desynchronized,willReadFrequently:!1};this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=y.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){var v=this.game;v.events.once(u.BOOT,function(){var m=this.config;if(!m.transparent){var y=this.gameContext,T=this.gameCanvas;y.fillStyle=m.backgroundColor.rgba,y.fillRect(0,0,T.width,T.height)}},this),v.textures.once(s.READY,this.boot,this)},boot:function(){var v=this.game,m=v.scale.baseSize;this.width=m.width,this.height=m.height,this.isBooted=!0,v.scale.on(l.RESIZE,this.onResize,this),this.resize(m.width,m.height)},onResize:function(v,m){(m.width!==this.width||m.height!==this.height)&&this.resize(m.width,m.height)},resize:function(v,m){this.width=v,this.height=m,this.emit(i.RESIZE,v,m)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,m=this.config,y=this.width,T=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),this.emit(i.PRE_RENDER_CLEAR),m.clearBeforeRender&&(v.clearRect(0,0,y,T),m.transparent||(v.fillStyle=m.backgroundColor.rgba,v.fillRect(0,0,y,T))),v.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(v,m,y){var T=m.length;this.emit(i.RENDER,v,y);var S=y.x,A=y.y,P=y.width,w=y.height,M=y.renderToTexture?y.context:v.sys.context;M.save(),this.game.scene.customViewports&&(M.beginPath(),M.rect(S,A,P,w),M.clip()),y.emit(h.PRE_RENDER,y),this.currentContext=M;var D=y.mask;D&&D.preRenderCanvas(this,null,y._maskCamera),y.transparent||(M.fillStyle=y.backgroundColor.rgba,M.fillRect(S,A,P,w)),M.globalAlpha=y.alpha,M.globalCompositeOperation="source-over",this.drawCount+=T,y.renderToTexture&&y.emit(h.PRE_RENDER,y),y.matrix.copyToContext(M);for(var F=0;F<T;F++){var L=m[F];L.mask&&L.mask.preRenderCanvas(this,L,y),L.renderCanvas(this,L,y),L.mask&&L.mask.postRenderCanvas(this,L,y)}M.setTransform(1,0,0,1,0,0),M.globalCompositeOperation="source-over",M.globalAlpha=1,y.flashEffect.postRenderCanvas(M),y.fadeEffect.postRenderCanvas(M),y.dirty=!1,D&&D.postRenderCanvas(this),M.restore(),y.renderToTexture&&(y.emit(h.POST_RENDER,y),y.renderToGame&&v.sys.context.drawImage(y.canvas,S,A)),y.emit(h.POST_RENDER,y)},postRender:function(){var v=this.gameContext;v.restore(),this.emit(i.POST_RENDER);var m=this.snapshotState;m.callback&&(x(this.gameCanvas,m),m.callback=null)},snapshotCanvas:function(v,m,y,T,S,A,P,w,M){y===void 0&&(y=!1),this.snapshotArea(T,S,A,P,m,w,M);var D=this.snapshotState;return D.getPixel=y,x(v,D),D.callback=null,this},snapshot:function(v,m,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,m,y)},snapshotArea:function(v,m,y,T,S,A,P){var w=this.snapshotState;return w.callback=S,w.type=A,w.encoder=P,w.getPixel=!1,w.x=v,w.y=m,w.width=Math.min(y,this.gameCanvas.width),w.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(v,m,y){return this.snapshotArea(v,m,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(v,m,y,T){var S=y.alpha*v.alpha;if(S!==0){var A=this.currentContext,P=this._tempMatrix1,w=this._tempMatrix2,M=m.canvasData,D=M.x,F=M.y,L=m.cutWidth,O=m.cutHeight,B=m.customPivot,U=m.source.resolution,W=v.displayOriginX,H=v.displayOriginY,Y=-W+m.x,G=-H+m.y;if(v.isCropped){var X=v._crop;(X.flipX!==v.flipX||X.flipY!==v.flipY)&&m.updateCropUVs(X,v.flipX,v.flipY),L=X.cw,O=X.ch,D=X.cx,F=X.cy,Y=-W+X.x,G=-H+X.y,v.flipX&&(Y>=0?Y=-(Y+L):Y<0&&(Y=Math.abs(Y)-L)),v.flipY&&(G>=0?G=-(G+O):G<0&&(G=Math.abs(G)-O))}var V=1,b=1;v.flipX&&(B||(Y+=-m.realWidth+W*2),V=-1),v.flipY&&(B||(G+=-m.realHeight+H*2),b=-1);var z=v.x,$=v.y;if(y.roundPixels&&(z=Math.floor(z),$=Math.floor($)),w.applyITRS(z,$,v.rotation,v.scaleX*V,v.scaleY*b),P.copyFrom(y.matrix),T?(P.multiplyWithOffset(T,-y.scrollX*v.scrollFactorX,-y.scrollY*v.scrollFactorY),w.e=z,w.f=$):(w.e-=y.scrollX*v.scrollFactorX,w.f-=y.scrollY*v.scrollFactorY),P.multiply(w),y.renderRoundPixels&&(P.e=Math.floor(P.e+.5),P.f=Math.floor(P.f+.5)),A.save(),P.setToContext(A),A.globalCompositeOperation=this.blendModes[v.blendMode],A.globalAlpha=S,A.imageSmoothingEnabled=!m.source.scaleMode,v.mask&&v.mask.preRenderCanvas(this,v,y),L>0&&O>0){var Q=L/U,Z=O/U;y.roundPixels&&(Y=Math.floor(Y+.5),G=Math.floor(G+.5),Q+=.5,Z+=.5),A.drawImage(m.source.image,D,F,L,O,Y,G,Q,Z)}v.mask&&v.mask.postRenderCanvas(this,v,y),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=d},55830:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(89289),o=function(){var r=[],a=x.supportNewBlendModes,i="source-over";return r[h.NORMAL]=i,r[h.ADD]="lighter",r[h.MULTIPLY]=a?"multiply":i,r[h.SCREEN]=a?"screen":i,r[h.OVERLAY]=a?"overlay":i,r[h.DARKEN]=a?"darken":i,r[h.LIGHTEN]=a?"lighten":i,r[h.COLOR_DODGE]=a?"color-dodge":i,r[h.COLOR_BURN]=a?"color-burn":i,r[h.HARD_LIGHT]=a?"hard-light":i,r[h.SOFT_LIGHT]=a?"soft-light":i,r[h.DIFFERENCE]=a?"difference":i,r[h.EXCLUSION]=a?"exclusion":i,r[h.HUE]=a?"hue":i,r[h.SATURATION]=a?"saturation":i,r[h.COLOR]=a?"color":i,r[h.LUMINOSITY]=a?"luminosity":i,r[h.ERASE]="destination-out",r[h.SOURCE_IN]="source-in",r[h.SOURCE_OUT]="source-out",r[h.SOURCE_ATOP]="source-atop",r[h.DESTINATION_OVER]="destination-over",r[h.DESTINATION_IN]="destination-in",r[h.DESTINATION_OUT]="destination-out",r[h.DESTINATION_ATOP]="destination-atop",r[h.LIGHTER]="lighter",r[h.COPY]="copy",r[h.XOR]="xor",r};c.exports=o},20926:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,r,a,i,n){var l=i.alpha*a.alpha;if(l<=0)return!1;var s=h(a,i,n).calc;return r.globalCompositeOperation=o.blendModes[a.blendMode],r.globalAlpha=l,r.save(),s.setToContext(r),r.imageSmoothingEnabled=a.frame?!a.frame.source.scaleMode:o.antialias,!0};c.exports=x},63899:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="losewebgl"},6119:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},48070:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},15640:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},8912:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},87124:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restorewebgl"},92503:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(92503),Snapshot:t(89966)},c.exports.Canvas=t(55830),c.exports.WebGL=t(4159)},32880:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(40987),o=t(95540),r=function(a,i){var n=o(i,"callback"),l=o(i,"type","image/png"),s=o(i,"encoder",.92),u=Math.abs(Math.round(o(i,"x",0))),f=Math.abs(Math.round(o(i,"y",0))),d=Math.floor(o(i,"width",a.width)),v=Math.floor(o(i,"height",a.height)),m=o(i,"getPixel",!1);if(m){var y=a.getContext("2d",{willReadFrequently:!1}),T=y.getImageData(u,f,1,1),S=T.data;n.call(null,new x(S[0],S[1],S[2],S[3]))}else if(u!==0||f!==0||d!==a.width||v!==a.height){var A=h.createWebGL(this,d,v),P=A.getContext("2d",{willReadFrequently:!0});d>0&&v>0&&P.drawImage(a,u,f,d,v,0,0,d,v);var w=new Image;w.onerror=function(){n.call(null),h.remove(A)},w.onload=function(){n.call(null,w),h.remove(A)},w.src=A.toDataURL(l,s)}else{var M=new Image;M.onerror=function(){n.call(null)},M.onload=function(){n.call(null,M)},M.src=a.toDataURL(l,s)}};c.exports=r},88815:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(40987),o=t(95540),r=function(a,i){var n=a,l=o(i,"callback"),s=o(i,"type","image/png"),u=o(i,"encoder",.92),f=Math.abs(Math.round(o(i,"x",0))),d=Math.abs(Math.round(o(i,"y",0))),v=o(i,"getPixel",!1),m=o(i,"isFramebuffer",!1),y=m?o(i,"bufferWidth",1):n.drawingBufferWidth,T=m?o(i,"bufferHeight",1):n.drawingBufferHeight;if(v){var S=new Uint8Array(4),A=m?d:T-d;n.readPixels(f,A,1,1,n.RGBA,n.UNSIGNED_BYTE,S),l.call(null,new x(S[0],S[1],S[2],S[3]))}else{var P=Math.floor(o(i,"width",y)),w=Math.floor(o(i,"height",T)),M=P*w*4,D=new Uint8Array(M);n.readPixels(f,T-d-w,P,w,n.RGBA,n.UNSIGNED_BYTE,D);for(var F=h.createWebGL(this,P,w),L=F.getContext("2d",{willReadFrequently:!0}),O=L.getImageData(0,0,P,w),B=O.data,U=0;U<w;U++)for(var W=0;W<P;W++){var H=((w-U-1)*P+W)*4,Y=m?M-(U*P+(P-W))*4:(U*P+W)*4;B[Y+0]=D[H+0],B[Y+1]=D[H+1],B[Y+2]=D[H+2],B[Y+3]=D[H+3]}L.putImageData(O,0,0);var G=new Image;G.onerror=function(){l.call(null),h.remove(F)},G.onload=function(){l.call(null,G),h.remove(F)},G.src=F.toDataURL(s,u)}};c.exports=r},89966:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(36060),o=t(90330),r=t(82264),a=t(95540),i=t(32302),n=t(63448),l=t(31302),s=t(58918),u=t(14811),f=t(92651),d=t(96569),v=t(56527),m=t(57516),y=t(43439),T=t(81041),S=t(12385),A=t(7589),P=t(95428),w=t(72905),M=new h({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new o([[x.UTILITY_PIPELINE,A],[x.MULTI_PIPELINE,m],[x.BITMAPMASK_PIPELINE,l],[x.SINGLE_PIPELINE,S],[x.ROPE_PIPELINE,T],[x.LIGHT_PIPELINE,d],[x.POINTLIGHT_PIPELINE,y],[x.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,F,L){var O=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(a(D,"frameInc",32));var U=O.width,W=O.height,H=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(u.BARREL),s.Barrel],[String(u.BLOOM),s.Bloom],[String(u.BLUR),s.Blur],[String(u.BOKEH),s.Bokeh],[String(u.CIRCLE),s.Circle],[String(u.COLOR_MATRIX),s.ColorMatrix],[String(u.DISPLACEMENT),s.Displacement],[String(u.GLOW),s.Glow],[String(u.GRADIENT),s.Gradient],[String(u.PIXELATE),s.Pixelate],[String(u.SHADOW),s.Shadow],[String(u.SHINE),s.Shine],[String(u.VIGNETTE),s.Vignette],[String(u.WIPE),s.Wipe]]),!H){this.classes.set(x.FX_PIPELINE,f);for(var G=Math.min(U,W),X=Math.ceil(G/this.frameInc),V=1;V<X;V++){var b=V*this.frameInc;B.push(new i(O,b,b)),B.push(new i(O,b,b)),B.push(new i(O,b,b)),this.maxDimension=b}B.push(new i(O,U,W,1,0,!0,!0)),B.push(new i(O,U,W,1,0,!0,!0)),B.push(new i(O,U,W,1,0,!0,!0))}var z,$,Q=this,Z=this.game;if(this.classes.each(function(j,k){z=Q.add(j,new k({game:Z})),j===x.UTILITY_PIPELINE&&(Q.UTILITY_PIPELINE=z,Q.fullFrame1=z.fullFrame1,Q.fullFrame2=z.fullFrame2,Q.halfFrame1=z.halfFrame1,Q.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),D)for($ in D){var q=D[$];z=new q(Z),z.name=$,z.isPostFX?this.postPipelineClasses.set($,q):this.has($)||(this.classes.set($,q),this.add($,z))}this.default=this.get(F),L&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var F=this.get(D);return F&&(this.default=F),F},add:function(D,F){if(F.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,O=this.renderer;return L.has(D)?console.warn("Pipeline exists: "+D):(F.name=D,F.manager=this,L.set(D,F)),F.hasBooted||F.boot(),O.width!==0&&O.height!==0&&!F.isPreFX&&F.resize(O.width,O.height),F},addPostPipeline:function(D,F){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,F)},flush:function(){this.current&&this.current.flush()},has:function(D){var F=this.pipelines;return typeof D=="string"?F.has(D):!!F.contains(D)},get:function(D){var F=this.pipelines;if(typeof D=="string")return F.get(D);if(F.contains(D))return D},getPostPipeline:function(D,F,L){var O=this.postPipelineClasses,B,U="",W=typeof D;if(W==="string"||W==="number"?(B=O.get(D),U=D):W==="function"?(O.contains(D)&&(B=D),U=D.name):W==="object"&&(B=O.get(D.name),U=D.name),B){var H=new B(this.game,L);return H.name=U,F&&(H.gameObject=F),this.postPipelineInstances.push(H),H}},removePostPipeline:function(D){w(this.postPipelineInstances,D)},remove:function(D,F,L){F===void 0&&(F=!0),L===void 0&&(L=!0),this.pipelines.delete(D),F&&this.classes.delete(D),L&&this.postPipelineClasses.delete(D)},set:function(D,F,L){if(!D.isPostFX)return this.isCurrent(D,L)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(L)),D.updateProjectionMatrix(),D.onBind(F),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,L=F.length-1;L>=0;L--){var O=F[L];O.active&&O.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,L=0;L<F.length;L++){var O=F[L];O.active&&O.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,L=F.length-1;L>=0;L--){var O=F[L];O.active&&O.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,L=0;L<F.length;L++){var O=F[L];O.active&&O.postBatch(D)}}},isCurrent:function(D,F){var L=this.renderer,O=this.current;return O&&!F&&(F=O.currentShader),!(O!==D||F.program!==L.currentProgram)},copyFrame:function(D,F,L,O,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,F,L,O,B),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,F,L,O){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,F,L,O),this},blendFrames:function(D,F,L,O,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,F,L,O,B),this},blendFramesAdditive:function(D,F,L,O,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,F,L,O,B),this},clearFrame:function(D,F){return this.UTILITY_PIPELINE.clearFrame(D,F),this},blitFrame:function(D,F,L,O,B,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,F,L,O,B,U),this},copyFrameRect:function(D,F,L,O,B,U,W,H){return this.UTILITY_PIPELINE.copyFrameRect(D,F,L,O,B,U,W,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,F){F.restoreContext()}),P(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var F=this.renderer,L=F.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),F.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var O=F.vaoExtension;O&&O.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var U in B)B[U].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var F=D.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(D){var F=this.renderTargets,L=3;if(D>this.maxDimension)return this.targetIndex=F.length-L,F[this.targetIndex];var O=(n(D,this.frameInc,0,!0)-1)*L;return this.targetIndex=O,F[O]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=M},32302:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92503),o=new h({initialize:function(a,i,n,l,s,u,f,d,v){l===void 0&&(l=1),s===void 0&&(s=0),u===void 0&&(u=!0),f===void 0&&(f=!1),d===void 0&&(d=!0),v===void 0&&(v=!0),this.renderer=a,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=s,this.autoClear=u,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=v,this.init(i,n),f?this.renderer.on(x.RESIZE,this.resize,this):this.autoResize=!1},init:function(r,a){var i=this.renderer;this.texture=i.createTextureFromSource(null,r,a,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(r,a,this.texture,this.hasDepthBuffer),this.width=r,this.height=a},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,a){if(this.autoResize&&this.willResize(r,a)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.texture=i.createTextureFromSource(null,r,a,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(r,a,this.texture,this.hasDepthBuffer),this.width=r,this.height=a}return this},willResize:function(r,a){return typeof r!="number"||typeof a!="number"?!1:(r=Math.round(r*this.scale),a=Math.round(a*this.scale),r=Math.max(r,1),a=Math.max(a,1),r!==this.width||a!==this.height)},bind:function(r,a,i){r===void 0&&(r=!1);var n=this.renderer;if(r&&n.flush(),a&&i&&this.resize(a,i),n.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(r,a,i,n){var l=this.renderer,s=l.gl;l.pushFramebuffer(this.framebuffer),r!==void 0&&a!==void 0&&i!==void 0&&n!==void 0?(s.enable(s.SCISSOR_TEST),s.scissor(r,a,i,n)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var a=this.renderer;return r&&a.flush(),a.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(x.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=o},70554:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(E,t,h,x){var o=(E*255|0)&255,r=(t*255|0)&255,a=(h*255|0)&255,i=(x*255|0)&255;return(i<<24|o<<16|r<<8|a)>>>0},getTintAppendFloatAlpha:function(E,t){var h=(t*255|0)&255;return(h<<24|E)>>>0},getTintAppendFloatAlphaAndSwap:function(E,t){var h=(E>>16|0)&255,x=(E>>8|0)&255,o=(E|0)&255,r=(t*255|0)&255;return(r<<24|o<<16|x<<8|h)>>>0},getFloatsFromUintRGB:function(E){var t=(E>>16|0)&255,h=(E>>8|0)&255,x=(E|0)&255;return[t/255,h/255,x/255]},checkShaderMax:function(E,t){var h=Math.min(16,E.getParameter(E.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(E,t){if(!E)return"";for(var h="",x=0;x<t;x++)x>0&&(h+=`
	else `),x<t-1&&(h+="if (outTexId < "+x+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",h+=`
	}`;return E=E.replace(/%count%/gi,t.toString()),E.replace(/%forloop%/gi,h)},setGlowQuality:function(E,t,h,x){return h===void 0&&(h=t.config.glowFXQuality),x===void 0&&(x=t.config.glowFXDistance),E=E.replace(/__SIZE__/gi,(1/h/x).toFixed(7)),E=E.replace(/__DIST__/gi,x.toFixed(0)+".0"),E}}},29100:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(62644),o=t(50792),r=t(77085),a=t(95540),i=t(37867),n=t(92503),l=t(32302),s=t(70554),u=t(38683),f=new h({Extends:o,initialize:function(v){o.call(this);var m=v.game,y=m.renderer,T=y.gl;this.name=a(v,"name","WebGLPipeline"),this.game=m,this.renderer=y,this.manager,this.gl=T,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=a(v,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=a(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=a(v,"resizeUniform","")},boot:function(){var d,v=this.gl,m=this.config,y=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var T=this.renderTargets,S=a(m,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var A=y.width,P=y.height;if(typeof S=="number")for(d=0;d<S;d++)T.push(new l(y,A,P,1,0,!0));else if(Array.isArray(S))for(d=0;d<S.length;d++){var w=a(S[d],"scale",1),M=a(S[d],"minFilter",0),D=a(S[d],"autoClear",1),F=a(S[d],"autoResize",!1),L=a(S[d],"width",null),O=a(S[d],"height",L);L?T.push(new l(y,L,O,1,M,D,F)):T.push(new l(y,A,P,w,M,D,F))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(m);var B=this.shaders,U=0;for(d=0;d<B.length;d++)B[d].vertexSize>U&&(U=B[d].vertexSize);var W=a(m,"batchSize",y.config.batchSize);this.vertexCapacity=W*6;var H=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var Y=a(m,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=y.createVertexBuffer(H,v.STATIC_DRAW)):this.vertexBuffer=y.createVertexBuffer(H.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),d=B.length-1;d>=0;d--)B[d].rebind();this.hasBooted=!0,y.on(n.RESIZE,this.resize,this),y.on(n.PRE_RENDER,this.onPreRender,this),y.on(n.RENDER,this.onRender,this),y.on(n.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,v,m){var y=this.renderer;if(d!==this.currentShader||y.currentProgram!==this.currentShader.program){this.flush();var T=this.setVertexBuffer(m);T&&!v&&(v=!0),d.bind(v,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var v=this.shaders,m=0;m<v.length;m++)if(v[m].name===d)return v[m]},setShadersFromConfig:function(d){var v,m=this.shaders,y=this.renderer;for(v=0;v<m.length;v++)m[v].destroy();var T="vertShader",S="fragShader",A="attributes",P=a(d,T,null),w=s.parseFragmentShaderMaxTextures(a(d,S,null),y.maxTextures),M=a(d,A,null),D=a(d,"shaders",[]),F=D.length;if(F===0)P&&w&&(this.shaders=[new u(this,"default",P,w,x(M))]);else{var L=[];for(v=0;v<F;v++){var O=D[v],B,U,W,H;if(typeof O=="string"?(B="default",U=P,W=s.parseFragmentShaderMaxTextures(O,y.maxTextures),H=M):(B=a(O,"name","default"),U=a(O,T,P),W=s.parseFragmentShaderMaxTextures(a(O,S,w),y.maxTextures),H=a(O,A,M)),B==="default"){var Y=W.split(`
`),G=Y[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(B=G.substring(20))}U&&W&&L.push(new u(this,B,U,W,x(H)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var v=this.currentBatch;v&&(v.texture.push(d),v.unit++,v.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var v=this.currentBatch,m=v.texture.indexOf(d);return m===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(d):(v.unit++,v.maxUnit++,v.texture.push(d),this.currentUnit=v.unit,this.currentTexture=d,v.unit):(this.currentUnit=m,this.currentTexture=d,m)},setGameObject:function(d,v){return v===void 0&&(v=d.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,v){(d!==this.width||v!==this.height)&&this.flush(),this.width=d,this.height=v;for(var m=this.renderTargets,y=0;y<m.length;y++)m[y].resize(d,v);return this.setProjectionMatrix(d,v),this.resizeUniform&&this.set2f(this.resizeUniform,d,v),this.emit(r.RESIZE,d,v,this),this.onResize(d,v),this},setProjectionMatrix:function(d,v){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=d,this.projectionHeight=v,m.ortho(0,d,v,0,-1e3,1e3);for(var y=this.shaders,T="uProjectionMatrix",S=0;S<y.length;S++){var A=y[S];A.hasUniform(T)&&(A.resetUniform(T),A.setMatrix4fv(T,!1,m.val,A))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var v=this.projectionMatrix;if(!v)return this;var m=this.projectionWidth,y=this.projectionHeight;d?v.ortho(0,m,0,y,-1e3,1e3):v.ortho(0,m,y,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==v)&&this.setProjectionMatrix(d,v)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var v=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),d.bind(v),this.currentShader=d,this.activeTextures.length=0,this.emit(r.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,m=v.length-1;m>=0;m--){var y=v[m].rebind();(!d||y===d)&&(this.currentShader=y)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var m=0;m<d.length;m++){var y=d[m];y.syncUniforms(),v&&y.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var v=this.gl,m=this.vertexCount,y=this.currentShader.vertexSize,T=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,m*y));var S,A,P,w=this.batch,M=this.activeTextures;if(this.forceZero)for(M[0]||v.activeTexture(v.TEXTURE0),S=0;S<w.length;S++)A=w[S],P=A.texture[0],M[0]!==P&&(v.bindTexture(v.TEXTURE_2D,P.webGLTexture),M[0]=P),v.drawArrays(T,A.start,A.count);else for(S=0;S<w.length;S++){A=w[S];for(var D=0;D<=A.maxUnit;D++)P=A.texture[D],M[D]!==P&&(v.activeTexture(v.TEXTURE0+D),v.bindTexture(v.TEXTURE_2D,P.webGLTexture),M[D]=P);v.drawArrays(T,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,v,m,y,T,S,A){var P=this.vertexViewF32,w=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++M]=d,P[++M]=v,P[++M]=m,P[++M]=y,P[++M]=T,P[++M]=S,w[++M]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,v,m,y,T,S,A,P,w,M,D,F,L,O,B,U,W,H,Y,G){G===void 0&&(G=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(G=this.setTexture2D(Y));var V=this.vertexViewF32,b=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return V[++z]=v,V[++z]=m,V[++z]=M,V[++z]=D,V[++z]=G,V[++z]=H,b[++z]=O,V[++z]=y,V[++z]=T,V[++z]=M,V[++z]=L,V[++z]=G,V[++z]=H,b[++z]=U,V[++z]=S,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=G,V[++z]=H,b[++z]=W,V[++z]=v,V[++z]=m,V[++z]=M,V[++z]=D,V[++z]=G,V[++z]=H,b[++z]=O,V[++z]=S,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=G,V[++z]=H,b[++z]=W,V[++z]=P,V[++z]=w,V[++z]=F,V[++z]=D,V[++z]=G,V[++z]=H,b[++z]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),X},batchTri:function(d,v,m,y,T,S,A,P,w,M,D,F,L,O,B,U,W){W===void 0&&(W=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(W=this.setTexture2D(U));var Y=this.vertexViewF32,G=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++X]=v,Y[++X]=m,Y[++X]=P,Y[++X]=w,Y[++X]=W,Y[++X]=B,G[++X]=F,Y[++X]=y,Y[++X]=T,Y[++X]=P,Y[++X]=D,Y[++X]=W,Y[++X]=B,G[++X]=L,Y[++X]=S,Y[++X]=A,Y[++X]=M,Y[++X]=D,Y[++X]=W,Y[++X]=B,G[++X]=O,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),H},drawFillRect:function(d,v,m,y,T,S,A,P){A===void 0&&(A=this.renderer.whiteTexture),P===void 0&&(P=!0),d=Math.floor(d),v=Math.floor(v);var w=Math.floor(d+m),M=Math.floor(v+y),D=this.setTexture2D(A),F=s.getTintAppendFloatAlphaAndSwap(T,S),L=0,O=0,B=1,U=1;P&&(O=1,U=0),this.batchQuad(null,d,v,d,M,w,M,w,v,L,O,B,U,F,F,F,F,0,A,D)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,v){v===void 0&&(v=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+v),m.bindTexture(m.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,v){return this.bindTexture(d.texture,v)},setTime:function(d,v){return this.set1f(d,this.game.loop.getDuration(),v),this},setBoolean:function(d,v,m){return m===void 0&&(m=this.currentShader),m.setBoolean(d,v),this},set1f:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1f(d,v),this},set2f:function(d,v,m,y){return y===void 0&&(y=this.currentShader),y.set2f(d,v,m),this},set3f:function(d,v,m,y,T){return T===void 0&&(T=this.currentShader),T.set3f(d,v,m,y),this},set4f:function(d,v,m,y,T,S){return S===void 0&&(S=this.currentShader),S.set4f(d,v,m,y,T),this},set1fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1fv(d,v),this},set2fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set2fv(d,v),this},set3fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set3fv(d,v),this},set4fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set4fv(d,v),this},set1iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1iv(d,v),this},set2iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set2iv(d,v),this},set3iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set3iv(d,v),this},set4iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set4iv(d,v),this},set1i:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1i(d,v),this},set2i:function(d,v,m,y){return y===void 0&&(y=this.currentShader),y.set2i(d,v,m),this},set3i:function(d,v,m,y,T){return T===void 0&&(T=this.currentShader),T.set3i(d,v,m,y),this},set4i:function(d,v,m,y,T,S){return S===void 0&&(S=this.currentShader),S.set4i(d,v,m,y,T),this},setMatrix2fv:function(d,v,m,y){return y===void 0&&(y=this.currentShader),y.setMatrix2fv(d,v,m),this},setMatrix3fv:function(d,v,m,y){return y===void 0&&(y=this.currentShader),y.setMatrix3fv(d,v,m),this},setMatrix4fv:function(d,v,m,y){return y===void 0&&(y=this.currentShader),y.setMatrix4fv(d,v,m),this},destroy:function(){this.emit(r.DESTROY,this);var d,v=this.shaders;for(d=0;d<v.length;d++)v[d].destroy();var m=this.renderTargets;for(d=0;d<m.length;d++)m[d].destroy();var y=this.renderer;return y.deleteBuffer(this.vertexBuffer),y.off(n.RESIZE,this.resize,this),y.off(n.PRE_RENDER,this.onPreRender,this),y.off(n.RENDER,this.onRender,this),y.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=f},74797:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95428),x=t(72905),o=t(19715),r=t(83419),a=t(8054),i=t(50792),n=t(92503),l=t(50030),s=t(37867),u=t(29747),f=t(7530),d=t(32302),v=t(97480),m=t(69442),y=t(70554),T=t(88815),S=t(26128),A=t(1482),P=t(82751),w=t(84387),M=t(93567),D=t(57183),F=new r({Extends:i,initialize:function(O){i.call(this);var B=O.config,U={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:U,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=O,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=O.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.previousContextLostHandler=u,this.previousContextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(L){var O,B=this.game,U=this.canvas,W=L.backgroundColor;if(B.config.context?O=B.config.context:O=U.getContext("webgl",L.contextCreation)||U.getContext("experimental-webgl",L.contextCreation),!O||O.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=O,this.setExtensions(),this.setContextHandlers(),B.context=O;for(var H=0;H<=27;H++)this.blendModes.push({func:[O.ONE,O.ONE_MINUS_SRC_ALPHA],equation:O.FUNC_ADD});this.blendModes[1].func=[O.ONE,O.DST_ALPHA],this.blendModes[2].func=[O.DST_COLOR,O.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[O.ONE,O.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[O.ZERO,O.ONE_MINUS_SRC_ALPHA],equation:O.FUNC_REVERSE_SUBTRACT},this.glFormats=[O.BYTE,O.SHORT,O.UNSIGNED_BYTE,O.UNSIGNED_SHORT,O.FLOAT],this.glFuncMap={mat2:{func:O.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:O.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:O.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:O.uniform1f,length:1},"1fv":{func:O.uniform1fv,length:1},"1i":{func:O.uniform1i,length:1},"1iv":{func:O.uniform1iv,length:1},"2f":{func:O.uniform2f,length:2},"2fv":{func:O.uniform2fv,length:1},"2i":{func:O.uniform2i,length:2},"2iv":{func:O.uniform2iv,length:1},"3f":{func:O.uniform3f,length:3},"3fv":{func:O.uniform3fv,length:1},"3i":{func:O.uniform3i,length:3},"3iv":{func:O.uniform3iv,length:1},"4f":{func:O.uniform4f,length:4},"4fv":{func:O.uniform4fv,length:1},"4i":{func:O.uniform4i,length:4},"4iv":{func:O.uniform4iv,length:1}},(!L.maxTextures||L.maxTextures===-1)&&(L.maxTextures=O.getParameter(O.MAX_TEXTURE_IMAGE_UNITS)),L.maxTextureSize||(L.maxTextureSize=O.getParameter(O.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),O.enable(O.BLEND),O.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),O.clear(O.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(L.mipmapFilter)!==-1&&(this.mipmapFilter=O[L.mipmapFilter]),this.maxTextures=y.checkShaderMax(O,L.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),B.textures.once(m.READY,this.boot,this),this},boot:function(){var L=this.game,O=this.pipelines,B=L.scale.baseSize,U=B.width,W=B.height;this.width=U,this.height=W,this.isBooted=!0,this.renderTarget=new d(this,U,W,1,0,!0,!0),this.maskTarget=new d(this,U,W,1,0,!0,!0),this.maskSource=new d(this,U,W,1,0,!0,!0);var H=L.config;O.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=L.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=L.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=L.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),L.scale.on(v.RESIZE,this.onResize,this),this.resize(U,W)},setExtensions:function(){var L=this.gl,O=L.getSupportedExtensions();this.supportedExtensions=O;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=O.indexOf(B)>-1?L.getExtension(B):null;var U="OES_vertex_array_object";this.vaoExtension=O.indexOf(U)>-1?L.getExtension(U):null},setContextHandlers:function(L,O){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof L=="function"?this.contextLostHandler=L.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof O=="function"?this.contextRestoredHandler=O.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(L){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),L.preventDefault()},dispatchContextRestored:function(L){var O=this.gl;if(O.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(a.BlendModes.NORMAL),O.disable(O.BLEND),O.disable(O.DEPTH_TEST),O.enable(O.CULL_FACE),this.compression=this.getCompressedTextures();var B=function(U){U.createResource()};h(this.glTextureWrappers,B),h(this.glBufferWrappers,B),h(this.glFramebufferWrappers,B),h(this.glProgramWrappers,B),h(this.glAttribLocationWrappers,B),h(this.glUniformLocationWrappers,B),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),L.preventDefault()},createTemporaryTextures:function(){for(var L=this.gl,O=0;O<this.maxTextures;O++){var B=L.createTexture();L.activeTexture(L.TEXTURE0+O),L.bindTexture(L.TEXTURE_2D,B),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(O)}},captureFrame:function(L,O){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(L,O,B){},stopCapture:function(){},onCapture:function(L){},onResize:function(L,O){(O.width!==this.width||O.height!==this.height)&&this.resize(O.width,O.height)},beginCapture:function(L,O){L===void 0&&(L=this.width),O===void 0&&(O=this.height),this.renderTarget.bind(!0,L,O),this.setProjectionMatrix(L,O)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(L,O){var B=this.gl;return this.width=L,this.height=O,this.setProjectionMatrix(L,O),B.viewport(0,0,L,O),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-O,L,O),this.defaultScissor[2]=L,this.defaultScissor[3]=O,this.emit(n.RESIZE,L,O),this},getCompressedTextures:function(){var L="WEBGL_compressed_texture_",O="WEBKIT_"+L,B="EXT_texture_compression_",U=function(H,Y){var G=H.getExtension(L+Y)||H.getExtension(O+Y)||H.getExtension(B+Y);if(G){var X={};for(var V in G)X[G[V]]=V;return X}},W=this.gl;return{ETC:U(W,"etc"),ETC1:U(W,"etc1"),ATC:U(W,"atc"),ASTC:U(W,"astc"),BPTC:U(W,"bptc"),RGTC:U(W,"rgtc"),PVRTC:U(W,"pvrtc"),S3TC:U(W,"s3tc"),S3TCSRGB:U(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(L,O){var B=this.compression[L.toUpperCase()];if(O in B)return B[O]},supportsCompressedTexture:function(L,O){var B=this.compression[L.toUpperCase()];return B?O?O in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(L,O){return(L!==this.projectionWidth||O!==this.projectionHeight)&&(this.projectionWidth=L,this.projectionHeight=O,this.projectionMatrix.ortho(0,L,O,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(L){return this.supportedExtensions?this.supportedExtensions.indexOf(L):!1},getExtension:function(L){return this.hasExtension(L)?(L in this.extensions||(this.extensions[L]=this.gl.getExtension(L)),this.extensions[L]):null},flush:function(){this.pipelines.flush()},pushScissor:function(L,O,B,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.scissorStack,Y=[L,O,B,U];return H.push(Y),this.setScissor(L,O,B,U,W),this.currentScissor=Y,Y},setScissor:function(L,O,B,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.gl,Y=this.currentScissor,G=B>0&&U>0;if(Y&&G){var X=Y[0],V=Y[1],b=Y[2],z=Y[3];G=X!==L||V!==O||b!==B||z!==U}G&&(this.flush(),H.scissor(L,W-O-U,B,U))},resetScissor:function(){var L=this.gl;L.enable(L.SCISSOR_TEST);var O=this.currentScissor;if(O){var B=O[0],U=O[1],W=O[2],H=O[3];W>0&&H>0&&L.scissor(B,this.drawingBufferHeight-U-H,W,H)}},popScissor:function(){var L=this.scissorStack;L.pop();var O=L[L.length-1];O&&this.setScissor(O[0],O[1],O[2],O[3]),this.currentScissor=O},hasActiveStencilMask:function(){var L=this.currentMask.mask,O=this.currentCameraMask.mask;return L&&L.isStencil||O&&O.isStencil},resetViewport:function(){var L=this.gl;L.viewport(0,0,this.width,this.height),this.drawingBufferHeight=L.drawingBufferHeight},setBlendMode:function(L,O){O===void 0&&(O=!1);var B=this.gl,U=this.blendModes[L];return O||L!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==L?(this.flush(),B.enable(B.BLEND),B.blendEquation(U.equation),U.func.length>2?B.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):B.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=L,!0):!1},addBlendMode:function(L,O){var B=this.blendModes.push({func:L,equation:O});return B-1},updateBlendMode:function(L,O,B){return this.blendModes[L]&&(this.blendModes[L].func=O,B&&(this.blendModes[L].equation=B)),this},removeBlendMode:function(L){return L>17&&this.blendModes[L]&&this.blendModes.splice(L,1),this},pushFramebuffer:function(L,O,B,U,W){return L===this.currentFramebuffer?this:(this.fboStack.push(L),this.setFramebuffer(L,O,B,U,W))},setFramebuffer:function(L,O,B,U,W){if(O===void 0&&(O=!1),B===void 0&&(B=!0),U===void 0&&(U=null),W===void 0&&(W=!1),L===this.currentFramebuffer)return this;var H=this.gl,Y=this.width,G=this.height;return L&&L.renderTexture&&B?(Y=L.renderTexture.width,G=L.renderTexture.height):this.flush(),L?H.bindFramebuffer(H.FRAMEBUFFER,L.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),B&&H.viewport(0,0,Y,G),U&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,U.webGLTexture,0),W&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),O&&(L?(this.drawingBufferHeight=G,this.pushScissor(0,0,Y,G)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=L,this},popFramebuffer:function(L,O){L===void 0&&(L=!1),O===void 0&&(O=!0);var B=this.fboStack;B.pop();var U=B[B.length-1];return U||(U=null),this.setFramebuffer(U,L,O),U},restoreFramebuffer:function(L,O){L===void 0&&(L=!1),O===void 0&&(O=!0);var B=this.fboStack,U=B[B.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,L,O)},setProgram:function(L){return L!==this.currentProgram?(this.flush(),this.gl.useProgram(L.webGLProgram),this.currentProgram=L,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(L,O,B,U,W){W===void 0&&(W=!1);var H=this.gl,Y=H.NEAREST,G=H.NEAREST,X=H.CLAMP_TO_EDGE,V=null;O=L?L.width:O,B=L?L.height:B;var b=l(O,B);if(b&&!W&&(X=H.REPEAT),U===a.ScaleModes.LINEAR&&this.config.antialias){var z=L&&L.compressed,$=!z&&b||z&&L.mipmaps.length>1;Y=this.mipmapFilter&&$?this.mipmapFilter:H.LINEAR,G=H.LINEAR}return!L&&typeof O=="number"&&typeof B=="number"?V=this.createTexture2D(0,Y,G,X,X,H.RGBA,null,O,B):V=this.createTexture2D(0,Y,G,X,X,H.RGBA,L),V},createTexture2D:function(L,O,B,U,W,H,Y,G,X,V,b,z){typeof G!="number"&&(G=Y?Y.width:1),typeof X!="number"&&(X=Y?Y.height:1);var $=new P(this.gl,L,O,B,U,W,H,Y,G,X,V,b,z);return this.glTextureWrappers.push($),$},createFramebuffer:function(L,O,B,U){this.currentFramebuffer=null;var W=new w(this.gl,L,O,B,U);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(L,O){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==L&&(this.currentMask.mask=L,this.currentMask.camera=O))},drawBitmapMask:function(L,O,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),L.renderWebGL(this,L,O),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,W=this.getCurrentStencilMask();W?(U.enable(U.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(L,O){var B=new A(this.gl,L,O);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(L,O){var B=this.gl,U=new S(B,L,B.ARRAY_BUFFER,O);return this.glBufferWrappers.push(U),U},createAttribLocation:function(L,O){var B=new M(this.gl,L,O);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(L,O){var B=new D(this.gl,L,O);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(L,O){var B=this.gl,U=new S(B,L,B.ELEMENT_ARRAY_BUFFER,O);return this.glBufferWrappers.push(U),U},deleteTexture:function(L){if(L)return x(this.glTextureWrappers,L),L.destroy(),this},deleteFramebuffer:function(L){return L?(x(this.fboStack,L),x(this.glFramebufferWrappers,L),L.destroy(),this):this},deleteProgram:function(L){return L&&(x(this.glProgramWrappers,L),L.destroy()),this},deleteAttribLocation:function(L){return L&&(x(this.glAttribLocationWrappers,L),L.destroy()),this},deleteUniformLocation:function(L){return L&&(x(this.glUniformLocationWrappers,L),L.destroy()),this},deleteBuffer:function(L){return L?(x(this.glBufferWrappers,L),L.destroy(),this):this},preRenderCamera:function(L){var O=L.x,B=L.y,U=L.width,W=L.height,H=L.backgroundColor;if(L.emit(o.PRE_RENDER,L),this.pipelines.preBatchCamera(L),this.pushScissor(O,B,U,W),L.mask&&(this.currentCameraMask.mask=L.mask,this.currentCameraMask.camera=L._maskCamera,L.mask.preRenderWebGL(this,L,L._maskCamera)),H.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(O,B,U,W,y.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},getCurrentStencilMask:function(){var L=null,O=this.maskStack,B=this.currentCameraMask;return O.length>0?L=O[O.length-1]:B.mask&&B.mask.isStencil&&(L=B),L},postRenderCamera:function(L){var O=L.flashEffect,B=L.fadeEffect;if(O.isRunning||B.isRunning||B.isComplete){var U=this.pipelines.setMulti();O.postRenderWebGL(U,y.getTintFromFloats),B.postRenderWebGL(U,y.getTintFromFloats)}L.dirty=!1,this.popScissor(),L.mask&&(this.currentCameraMask.mask=null,L.mask.postRenderWebGL(this,L._maskCamera)),this.pipelines.postBatchCamera(L),L.emit(o.POST_RENDER,L)},preRender:function(){if(!this.contextLost){var L=this.gl;if(L.bindFramebuffer(L.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var O=this.config.backgroundColor;L.clearColor(O.redGL,O.greenGL,O.blueGL,O.alphaGL),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)}L.enable(L.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&L.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(L,O,B){if(!this.contextLost){var U=O.length;if(this.emit(n.RENDER,L,B),this.preRenderCamera(B),U===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var W=this.currentMask,H=0;H<U;H++){this.finalType=H===U-1;var Y=O[H],G=Y.mask;W=this.currentMask,W.mask&&W.mask!==G&&W.mask.postRenderWebGL(this,W.camera),G&&W.mask!==G&&G.preRenderWebGL(this,Y,B),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var X=Y.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=O[H+1].type===this.currentType,Y.renderWebGL(this,Y,B),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var L=this.snapshotState;L.callback&&(T(this.gl,L),L.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var L=this.gl,O=this.getCurrentStencilMask();if(O){var B=O.mask;L.enable(L.STENCIL_TEST),B.invertAlpha?L.stencilFunc(L.NOTEQUAL,B.level,255):L.stencilFunc(L.EQUAL,B.level,255)}},snapshot:function(L,O,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,L,O,B)},snapshotArea:function(L,O,B,U,W,H,Y){var G=this.snapshotState;return G.callback=W,G.type=H,G.encoder=Y,G.getPixel=!1,G.x=L,G.y=O,G.width=B,G.height=U,this},snapshotPixel:function(L,O,B){return this.snapshotArea(L,O,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(L,O,B,U,W,H,Y,G,X,V,b){W===void 0&&(W=!1),H===void 0&&(H=0),Y===void 0&&(Y=0),G===void 0&&(G=O),X===void 0&&(X=B),V==="pixel"&&(W=!0,V="image/png");var z=this.currentFramebuffer;this.snapshotArea(H,Y,G,X,U,V,b);var $=this.snapshotState;return $.getPixel=W,$.isFramebuffer=!0,$.bufferWidth=O,$.bufferHeight=B,$.width=Math.min($.width,O),$.height=Math.min($.height,B),this.setFramebuffer(L),T(this.gl,$),this.setFramebuffer(z),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(L,O,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,Y=W.NEAREST,G=L.width,X=L.height,V=W.CLAMP_TO_EDGE,b=l(G,X);return!B&&b&&(V=W.REPEAT),this.config.antialias&&(H=b&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),O?(O.update(L,G,X,U,V,V,H,Y,O.format),O):this.createTexture2D(0,H,Y,V,V,W.RGBA,L,G,X,!0,!1,U)},createCanvasTexture:function(L,O,B){return O===void 0&&(O=!1),B===void 0&&(B=!1),this.canvasToTexture(L,null,O,B)},updateCanvasTexture:function(L,O,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.canvasToTexture(L,O,U,B)},videoToTexture:function(L,O,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,Y=W.NEAREST,G=L.videoWidth,X=L.videoHeight,V=W.CLAMP_TO_EDGE,b=l(G,X);return!B&&b&&(V=W.REPEAT),this.config.antialias&&(H=b&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),O?(O.update(L,G,X,U,V,V,H,Y,O.format),O):this.createTexture2D(0,H,Y,V,V,W.RGBA,L,G,X,!0,!0,U)},createVideoTexture:function(L,O,B){return O===void 0&&(O=!1),B===void 0&&(B=!1),this.videoToTexture(L,null,O,B)},updateVideoTexture:function(L,O,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.videoToTexture(L,O,U,B)},createUint8ArrayTexture:function(L,O,B){var U=this.gl,W=U.NEAREST,H=U.NEAREST,Y=U.CLAMP_TO_EDGE,G=l(O,B);return G&&(Y=U.REPEAT),this.createTexture2D(0,W,H,Y,Y,U.RGBA,L,O,B)},setTextureFilter:function(L,O){var B=this.gl,U=O===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var W=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,L.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,U),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,U),L.minFilter=U,L.magFilter=U,W&&B.bindTexture(B.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var L=function(O){O.destroy()};h(this.glAttribLocationWrappers,L),h(this.glBufferWrappers,L),h(this.glFramebufferWrappers,L),h(this.glProgramWrappers,L),h(this.glTextureWrappers,L),h(this.glUniformLocationWrappers,L),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});c.exports=F},38683:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95428),o=t(95540),r=t(14500),a=new h({initialize:function(n,l,s,u,f){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=s,this.program=this.renderer.createProgram(s,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(i){var n=0,l=0,s=[];this.vertexComponentCount=0;for(var u=0;u<i.length;u++){var f=i[u],d=f.name,v=o(f,"size",1),m=o(f,"type",r.FLOAT),y=m.enum,T=m.size,S=!!f.normalized;s.push({name:d,size:v,type:y,normalized:S,offset:l,enabled:!1,location:-1}),T===4?n+=v:n++,l+=v*T}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=s},bind:function(i,n){return i===void 0&&(i=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),i&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(i){i===void 0&&(i=!1);for(var n=this.gl,l=this.renderer,s=this.vertexSize,u=this.attributes,f=this.program,d=0;d<u.length;d++){var v=u[d],m=v.size,y=v.type,T=v.offset,S=v.enabled,A=v.location,P=!!v.normalized;if(i){A!==-1&&l.deleteAttribLocation(A);var w=this.renderer.createAttribLocation(f,v.name);w.webGLAttribLocation>=0?(n.enableVertexAttribArray(w.webGLAttribLocation),n.vertexAttribPointer(w.webGLAttribLocation,m,y,P,s,T),v.enabled=!0,v.location=w):w.webGLAttribLocation!==-1&&n.disableVertexAttribArray(w.webGLAttribLocation)}else S?n.vertexAttribPointer(A.webGLAttribLocation,m,y,P,s,T):!S&&A!==-1&&A.webGLAttribLocation>-1&&(n.disableVertexAttribArray(A.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var i=this.gl,n=this.program,l=this.uniforms,s,u,f,d=i.getProgramParameter(n.webGLProgram,i.ACTIVE_UNIFORMS);for(s=0;s<d;s++){var v=i.getActiveUniform(n.webGLProgram,s);if(v){u=v.name,f=this.renderer.createUniformLocation(n,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var m=u.indexOf("[");m>0&&(u=u.substr(0,m),l.hasOwnProperty(u)||(f=this.renderer.createUniformLocation(n,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var i=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(i,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(i){return this.uniforms.hasOwnProperty(i)},resetUniform:function(i){var n=this.uniforms[i];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(i,n,l,s){var u=this.uniforms[n];return u?((s||u.value1!==l)&&(u.setter||(u.setter=i),u.value1=l,this.renderer.setProgram(this.program),i.call(this.gl,u.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(i,n,l,s,u){var f=this.uniforms[n];return f?((u||f.value1!==l||f.value2!==s)&&(f.setter||(f.setter=i),f.value1=l,f.value2=s,this.renderer.setProgram(this.program),i.call(this.gl,f.location.webGLUniformLocation,l,s),this.pipeline.currentShader=this),this):this},setUniform3:function(i,n,l,s,u,f){var d=this.uniforms[n];return d?((f||d.value1!==l||d.value2!==s||d.value3!==u)&&(d.setter||(d.setter=i),d.value1=l,d.value2=s,d.value3=u,this.renderer.setProgram(this.program),i.call(this.gl,d.location.webGLUniformLocation,l,s,u),this.pipeline.currentShader=this),this):this},setUniform4:function(i,n,l,s,u,f,d){var v=this.uniforms[n];return v?((d||v.value1!==l||v.value2!==s||v.value3!==u||v.value4!==f)&&(v.setter||(v.setter=i),v.value1=l,v.value2=s,v.value3=u,v.value4=f,this.renderer.setProgram(this.program),i.call(this.gl,v.location.webGLUniformLocation,l,s,u,f),this.pipeline.currentShader=this),this):this},setBoolean:function(i,n){return this.setUniform1(this.gl.uniform1i,i,Number(n))},set1f:function(i,n){return this.setUniform1(this.gl.uniform1f,i,n)},set2f:function(i,n,l){return this.setUniform2(this.gl.uniform2f,i,n,l)},set3f:function(i,n,l,s){return this.setUniform3(this.gl.uniform3f,i,n,l,s)},set4f:function(i,n,l,s,u){return this.setUniform4(this.gl.uniform4f,i,n,l,s,u)},set1fv:function(i,n){return this.setUniform1(this.gl.uniform1fv,i,n,!0)},set2fv:function(i,n){return this.setUniform1(this.gl.uniform2fv,i,n,!0)},set3fv:function(i,n){return this.setUniform1(this.gl.uniform3fv,i,n,!0)},set4fv:function(i,n){return this.setUniform1(this.gl.uniform4fv,i,n,!0)},set1iv:function(i,n){return this.setUniform1(this.gl.uniform1iv,i,n,!0)},set2iv:function(i,n){return this.setUniform1(this.gl.uniform2iv,i,n,!0)},set3iv:function(i,n){return this.setUniform1(this.gl.uniform3iv,i,n,!0)},set4iv:function(i,n){return this.setUniform1(this.gl.uniform4iv,i,n,!0)},set1i:function(i,n){return this.setUniform1(this.gl.uniform1i,i,n)},set2i:function(i,n,l){return this.setUniform2(this.gl.uniform2i,i,n,l)},set3i:function(i,n,l,s){return this.setUniform3(this.gl.uniform3i,i,n,l,s)},set4i:function(i,n,l,s,u){return this.setUniform4(this.gl.uniform4i,i,n,l,s,u)},setMatrix2fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,i,n,l,!0)},setMatrix3fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,i,n,l,!0)},setMatrix4fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,i,n,l,!0)},createProgram:function(i,n){return i===void 0&&(i=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=i,this.fragSrc=n,this.program=this.renderer.createProgram(i,n),this.createUniforms(),this.rebind()},destroy:function(){var i=this.renderer;x(this.uniforms,function(n){i.deleteUniformLocation(n.location)}),this.uniforms=null,x(this.attributes,function(n){i.deleteAttribLocation(n.location)}),this.attributes=null,i.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=a},14500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=E},4159:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14500),x=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=x(!1,o,h),c.exports=o},31302:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(78908),r=t(85191),a=t(14500),i=t(29100),n=new h({Extends:i,initialize:function(s){s.fragShader=x(s,"fragShader",o),s.vertShader=x(s,"vertShader",r),s.batchSize=x(s,"batchSize",1),s.vertices=x(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=x(s,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),i.call(this,s)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,s){i.prototype.resize.call(this,l,s),this.set2f("uResolution",l,s)},beginMask:function(l,s,u){this.renderer.beginBitmapMask(l,u)},endMask:function(l,s,u){var f=this.gl,d=this.renderer,v=l.bitmapMask;v&&f&&(d.drawBitmapMask(v,s,this),u&&this.set2f("uResolution",u.width,u.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),u&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});c.exports=n},92651:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(58918),o=t(14811),r=t(95540),a=t(43558),i=t(89350),n=t(70554),l=new h({Extends:a,initialize:function(u){u.shaders=[n.setGlowQuality(i.FXGlowFrag,u.game),i.FXShadowFrag,i.FXPixelateFrag,i.FXVignetteFrag,i.FXShineFrag,i.FXBlurLowFrag,i.FXBlurMedFrag,i.FXBlurHighFrag,i.FXGradientFrag,i.FXBloomFrag,i.ColorMatrixFrag,i.FXCircleFrag,i.FXBarrelFrag,i.FXDisplacementFrag,i.FXWipeFrag,i.FXBokehFrag],a.call(this,u);var f=this.game;this.glow=new x.Glow(f),this.shadow=new x.Shadow(f),this.pixelate=new x.Pixelate(f),this.vignette=new x.Vignette(f),this.shine=new x.Shine(f),this.gradient=new x.Gradient(f),this.circle=new x.Circle(f),this.barrel=new x.Barrel(f),this.wipe=new x.Wipe(f),this.bokeh=new x.Bokeh(f);var d=[];d[o.GLOW]=this.onGlow,d[o.SHADOW]=this.onShadow,d[o.PIXELATE]=this.onPixelate,d[o.VIGNETTE]=this.onVignette,d[o.SHINE]=this.onShine,d[o.BLUR]=this.onBlur,d[o.GRADIENT]=this.onGradient,d[o.BLOOM]=this.onBloom,d[o.COLOR_MATRIX]=this.onColorMatrix,d[o.CIRCLE]=this.onCircle,d[o.BARREL]=this.onBarrel,d[o.DISPLACEMENT]=this.onDisplacement,d[o.WIPE]=this.onWipe,d[o.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(s,u,f){this.source=s,this.target=u,this.swap=f;var d=s.width,v=s.height,m=this.tempSprite,y=this.fxHandlers;if(m&&m.preFX)for(var T=m.preFX.list,S=0;S<T.length;S++){var A=T[S];A.active&&y[A.type].call(this,A,d,v)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,u=this.target;this.copy(s,u),this.source=u,this.target=s},onGlow:function(s,u,f){var d=this.shaders[o.GLOW];this.setShader(d),this.glow.onPreRender(s,d,u,f),this.runDraw()},onShadow:function(s){var u=this.shaders[o.SHADOW];this.setShader(u),this.shadow.onPreRender(s,u),this.runDraw()},onPixelate:function(s,u,f){var d=this.shaders[o.PIXELATE];this.setShader(d),this.pixelate.onPreRender(s,d,u,f),this.runDraw()},onVignette:function(s){var u=this.shaders[o.VIGNETTE];this.setShader(u),this.vignette.onPreRender(s,u),this.runDraw()},onShine:function(s,u,f){var d=this.shaders[o.SHINE];this.setShader(d),this.shine.onPreRender(s,d,u,f),this.runDraw()},onBlur:function(s,u,f){var d=r(s,"quality"),v=this.shaders[o.BLUR+d];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",u,f),this.set1f("strength",r(s,"strength")),this.set3fv("color",r(s,"glcolor"));for(var m=r(s,"x"),y=r(s,"y"),T=r(s,"steps"),S=0;S<T;S++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw()},onGradient:function(s){var u=this.shaders[o.GRADIENT];this.setShader(u),this.gradient.onPreRender(s,u),this.runDraw()},onBloom:function(s,u,f){var d=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",r(s,"blurStrength")),this.set3fv("color",r(s,"glcolor"));for(var v=2/u*r(s,"offsetX"),m=2/f*r(s,"offsetY"),y=r(s,"steps"),T=0;T<y;T++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,u,f){var d=this.shaders[o.CIRCLE];this.setShader(d),this.circle.onPreRender(s,d,u,f),this.runDraw()},onBarrel:function(s){var u=this.shaders[o.BARREL];this.setShader(u),this.barrel.onPreRender(s,u),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var u=this.shaders[o.WIPE];this.setShader(u),this.wipe.onPreRender(s,u),this.runDraw()},onBokeh:function(s,u,f){var d=this.shaders[o.BOKEH];this.setShader(d),this.bokeh.onPreRender(s,d,u,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,a.prototype.destroy.call(this),this}});c.exports=l},96569:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(31063),r=t(57516),a=t(61340),i=t(26099),n=t(29100),l=new h({Extends:r,initialize:function(u){var f=x(u,"fragShader",o);u.fragShader=f.replace("%LIGHT_COUNT%",u.game.renderer.config.maxLights),r.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new i,this._tempMatrix=new a,this._tempMatrix2=new a},boot:function(){n.prototype.boot.call(this)},onRender:function(s,u){var f=s.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var d=f.getLights(u),v=d.length;this.lightsActive=!0;var m,y=this.renderer,T=y.height,S=u.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",v),m=0;m<v;m++){var P=d[m].light,w=P.color,M="uLights["+m+"].";S.transformPoint(P.x,P.y,A),this.set2f(M+"position",A.x-u.scrollX*P.scrollFactorX*u.zoom,T-(A.y-u.scrollY*P.scrollFactorY*u.zoom)),this.set3f(M+"color",w.r,w.g,w.b),this.set1f(M+"intensity",P.intensity),this.set1f(M+"radius",P.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(s){var f=-s,d=Math.cos(f),v=Math.sin(f);u[1]=v,u[3]=-v,u[0]=u[4]=d}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=s}},setTexture2D:function(s,u){var f=this.renderer;s===void 0&&(s=f.whiteTexture);var d=this.getNormalMap(u);this.isNewNormalMap(s,d)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(d),this.currentNormalMap=d);var v=0;if(u&&u.parentContainer){var m=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=m.rotationNormalized}else u&&(v=u.rotation);return this.currentBatch===null&&(this.createBatch(s),this.addTextureToBatch(d)),this.setNormalMapRotation(v),0},setGameObject:function(s,u){u===void 0&&(u=s.frame);var f=u.glTexture,d=this.getNormalMap(s);if(this.isNewNormalMap(f,d)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(d),this.currentNormalMap=d),s.parentContainer){var v=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(d)),0},isNewNormalMap:function(s,u){return this.currentTexture!==s||this.currentNormalMap!==u},getNormalMap:function(s){var u;if(s)s.displayTexture?u=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?u=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?u=s.tileset[0].image.dataSource[0]:u=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return u?u.glTexture:this.renderer.normalTexture},batchSprite:function(s,u,f){this.lightsActive&&r.prototype.batchSprite.call(this,s,u,f)},batchTexture:function(s,u,f,d,v,m,y,T,S,A,P,w,M,D,F,L,O,B,U,W,H,Y,G,X,V,b,z,$,Q,Z,q,j){this.lightsActive&&r.prototype.batchTexture.call(this,s,u,f,d,v,m,y,T,S,A,P,w,M,D,F,L,O,B,U,W,H,Y,G,X,V,b,z,$,Q,Z,q,j)},batchTextureFrame:function(s,u,f,d,v,m,y){this.lightsActive&&r.prototype.batchTextureFrame.call(this,s,u,f,d,v,m,y)}});c.exports=l},56527:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(57516),r=t(45561),a=t(60722),i=t(14500),n=t(29100),l=new h({Extends:o,initialize:function(u){u.fragShader=x(u,"fragShader",r),u.vertShader=x(u,"vertShader",a),u.attributes=x(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:i.UNSIGNED_BYTE,normalized:!0}]),u.forceZero=!0,u.resizeUniform="uResolution",o.call(this,u)},boot:function(){n.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height)}});c.exports=l},57516:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(94811),o=t(95540),r=t(98840),a=t(44667),i=t(61340),n=t(70554),l=t(14500),s=t(29100),u=new h({Extends:s,initialize:function(d){var v=d.game.renderer,m=o(d,"fragShader",r);d.fragShader=n.parseFragmentShaderMaxTextures(m,v.maxTextures),d.vertShader=o(d,"vertShader",a),d.attributes=o(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",s.call(this,d),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height)},batchSprite:function(f,d,v){this.manager.set(this,f);var m=this._tempMatrix1,y=this._tempMatrix2,T=this._tempMatrix3,S=f.frame,A=S.glTexture,P=S.u0,w=S.v0,M=S.u1,D=S.v1,F=S.x,L=S.y,O=S.cutWidth,B=S.cutHeight,U=S.customPivot,W=f.displayOriginX,H=f.displayOriginY,Y=-W+F,G=-H+L;if(f.isCropped){var X=f._crop;(X.flipX!==f.flipX||X.flipY!==f.flipY)&&S.updateCropUVs(X,f.flipX,f.flipY),P=X.u0,w=X.v0,M=X.u1,D=X.v1,O=X.width,B=X.height,F=X.x,L=X.y,Y=-W+F,G=-H+L}var V=1,b=1;f.flipX&&(U||(Y+=-S.realWidth+W*2),V=-1),f.flipY&&(U||(G+=-S.realHeight+H*2),b=-1);var z=f.x,$=f.y;d.roundPixels&&(z=Math.floor(z),$=Math.floor($)),y.applyITRS(z,$,f.rotation,f.scaleX*V,f.scaleY*b),m.copyFrom(d.matrix),v?(m.multiplyWithOffset(v,-d.scrollX*f.scrollFactorX,-d.scrollY*f.scrollFactorY),y.e=z,y.f=$):(y.e-=d.scrollX*f.scrollFactorX,y.f-=d.scrollY*f.scrollFactorY),m.multiply(y,T);var Q=T.setQuad(Y,G,Y+O,G+B,d.renderRoundPixels),Z=n.getTintAppendFloatAlpha,q=d.alpha,j=Z(f.tintTopLeft,q*f._alphaTL),k=Z(f.tintTopRight,q*f._alphaTR),_=Z(f.tintBottomLeft,q*f._alphaBL),et=Z(f.tintBottomRight,q*f._alphaBR);this.shouldFlush(6)&&this.flush();var it=this.setGameObject(f,S);this.manager.preBatch(f),this.batchQuad(f,Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],P,w,M,D,j,k,_,et,f.tintFill,A,it),this.manager.postBatch(f)},batchTexture:function(f,d,v,m,y,T,S,A,P,w,M,D,F,L,O,B,U,W,H,Y,G,X,V,b,z,$,Q,Z,q,j,k,_,et){et===void 0&&(et=!1),this.manager.set(this,f);var it=this._tempMatrix1,st=this._tempMatrix2,nt=this._tempMatrix3,ut=W/v+Q,ft=H/m+Z,ht=(W+Y)/v+Q,rt=(H+G)/m+Z,lt=S,dt=A,xt=-B,yt=-U;if(f.isCropped){var At=f._crop,Et=At.width,Lt=At.height;lt=Et,dt=Lt,S=Et,A=Lt,W=At.x,H=At.y;var zt=W,qt=H;D&&(zt=Y-At.x-Et),F&&(qt=G-At.y-Lt),ut=zt/v+Q,ft=qt/m+Z,ht=(zt+Et)/v+Q,rt=(qt+Lt)/m+Z,xt=-B+W,yt=-U+H}F=F^(!k&&d.isRenderTexture?1:0),D&&(lt*=-1,xt+=S),F&&(dt*=-1,yt+=A),q.roundPixels&&(y=Math.floor(y),T=Math.floor(T)),st.applyITRS(y,T,M,P,w),it.copyFrom(q.matrix),j?(it.multiplyWithOffset(j,-q.scrollX*L,-q.scrollY*O),st.e=y,st.f=T):(st.e-=q.scrollX*L,st.f-=q.scrollY*O),it.multiply(st,nt);var Nt=nt.setQuad(xt,yt,xt+lt,yt+dt,q.renderRoundPixels);_==null&&(_=this.setTexture2D(d)),f&&!et&&this.manager.preBatch(f),this.batchQuad(f,Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6],Nt[7],ut,ft,ht,rt,X,V,b,z,$,d,_),f&&!et&&this.manager.postBatch(f)},batchTextureFrame:function(f,d,v,m,y,T,S){this.manager.set(this);var A=this._tempMatrix1.copyFrom(T),P=this._tempMatrix2;S?A.multiply(S,P):P=A;var w=P.setQuad(d,v,d+f.width,v+f.height),M=this.setTexture2D(f.source.glTexture);m=n.getTintAppendFloatAlpha(m,y),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],f.u0,f.v0,f.u1,f.v1,m,m,m,m,0,f.glTexture,M)},batchFillRect:function(f,d,v,m,y,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(y,S);var A=S.setQuad(f,d,f+v,d+m),P=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,P.TL,P.TR,P.BL,P.BR,2)},batchFillTriangle:function(f,d,v,m,y,T,S,A){this.renderer.pipelines.set(this);var P=this.calcMatrix;A&&A.multiply(S,P);var w=P.getX(f,d),M=P.getY(f,d),D=P.getX(v,m),F=P.getY(v,m),L=P.getX(y,T),O=P.getY(y,T),B=this.fillTint;this.batchTri(null,w,M,D,F,L,O,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(f,d,v,m,y,T,S,A,P){var w=this.tempTriangle;w[0].x=f,w[0].y=d,w[0].width=S,w[1].x=v,w[1].y=m,w[1].width=S,w[2].x=y,w[2].y=T,w[2].width=S,w[3].x=f,w[3].y=d,w[3].width=S,this.batchStrokePath(w,S,!1,A,P)},batchFillPath:function(f,d,v){this.renderer.pipelines.set(this);var m=this.calcMatrix;v&&v.multiply(d,m);for(var y=f.length,T=this.polygonCache,S,A,P=this.fillTint.TL,w=this.fillTint.TR,M=this.fillTint.BL,D=0;D<y;++D)A=f[D],T.push(A.x,A.y);S=x(T),y=S.length;for(var F=0;F<y;F+=3){var L=S[F+0]*2,O=S[F+1]*2,B=S[F+2]*2,U=T[L+0],W=T[L+1],H=T[O+0],Y=T[O+1],G=T[B+0],X=T[B+1],V=m.getX(U,W),b=m.getY(U,W),z=m.getX(H,Y),$=m.getY(H,Y),Q=m.getX(G,X),Z=m.getY(G,X);this.batchTri(null,V,b,z,$,Q,Z,0,0,1,1,P,w,M,2)}T.length=0},batchStrokePath:function(f,d,v,m,y){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=f.length-1,S=0;S<T;S++){var A=f[S],P=f[S+1];this.batchLine(A.x,A.y,P.x,P.y,A.width/2,P.width/2,d,S,!v&&S===T-1,m,y)}},batchLine:function(f,d,v,m,y,T,S,A,P,w,M){this.renderer.pipelines.set(this);var D=this.calcMatrix;M&&M.multiply(w,D);var F=v-f,L=m-d,O=Math.sqrt(F*F+L*L);if(O!==0){var B=y*(m-d)/O,U=y*(f-v)/O,W=T*(m-d)/O,H=T*(f-v)/O,Y=v-W,G=m-H,X=f-B,V=d-U,b=v+W,z=m+H,$=f+B,Q=d+U,Z=D.getX(Y,G),q=D.getY(Y,G),j=D.getX(X,V),k=D.getY(X,V),_=D.getX(b,z),et=D.getY(b,z),it=D.getX($,Q),st=D.getY($,Q),nt=this.strokeTint,ut=nt.TL,ft=nt.TR,ht=nt.BL,rt=nt.BR;if(this.batchQuad(null,it,st,j,k,Z,q,_,et,0,0,1,1,ut,ft,ht,rt,2),!(S<=2)){var lt=this.prevQuad,dt=this.firstQuad;A>0&&lt[4]?this.batchQuad(null,it,st,j,k,lt[0],lt[1],lt[2],lt[3],0,0,1,1,ut,ft,ht,rt,2):(dt[0]=it,dt[1]=st,dt[2]=j,dt[3]=k,dt[4]=1),P&&dt[4]?this.batchQuad(null,Z,q,_,et,dt[0],dt[1],dt[2],dt[3],0,0,1,1,ut,ft,ht,rt,2):(lt[0]=Z,lt[1]=q,lt[2]=_,lt[3]=et,lt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});c.exports=u},43439:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(4127),r=t(89924),a=t(29100),i=new h({Extends:a,initialize:function(l){l.vertShader=x(l,"vertShader",r),l.fragShader=x(l,"fragShader",o),l.attributes=x(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,s,u,f,d,v,m,y,T,S,A){var P=n.color,w=n.intensity,M=n.radius,D=n.attenuation,F=P.r*w,L=P.g*w,O=P.b*w,B=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,u,S,A,M,D,F,L,O,B),this.batchLightVert(f,d,S,A,M,D,F,L,O,B),this.batchLightVert(v,m,S,A,M,D,F,L,O,B),this.batchLightVert(s,u,S,A,M,D,F,L,O,B),this.batchLightVert(v,m,S,A,M,D,F,L,O,B),this.batchLightVert(y,T,S,A,M,D,F,L,O,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,s,u,f,d,v,m,y,T){var S=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++A]=n,S[++A]=l,S[++A]=s,S[++A]=u,S[++A]=f,S[++A]=d,S[++A]=v,S[++A]=m,S[++A]=y,S[++A]=T,this.vertexCount++}});c.exports=i},84057:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89422),o=t(95540),r=t(27681),a=t(49627),i=t(29100),n=new h({Extends:i,initialize:function(s){s.renderTarget=o(s,"renderTarget",1),s.fragShader=o(s,"fragShader",r),s.vertShader=o(s,"vertShader",a),s.attributes=o(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){i.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height);for(var u=this.renderTargets,f=0;f<u.length;f++)u[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,s,u){u===void 0&&(u=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var d=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,s.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),u&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,d))},copyFrame:function(l,s,u,f,d){this.manager.copyFrame(l,s,u,f,d)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,s,u){this.manager.drawFrame(l,s,u,this.colorMatrix)},blendFrames:function(l,s,u,f,d){this.manager.blendFrames(l,s,u,f,d)},blendFramesAdditive:function(l,s,u,f,d){this.manager.blendFramesAdditive(l,s,u,f,d)},clearFrame:function(l,s){this.manager.clearFrame(l,s)},blitFrame:function(l,s,u,f,d,v){this.manager.blitFrame(l,s,u,f,d,v)},copyFrameRect:function(l,s,u,f,d,v,m,y){this.manager.copyFrameRect(l,s,u,f,d,v,m,y)},bindAndDraw:function(l,s,u,f,d){u===void 0&&(u=!0),f===void 0&&(f=!0);var v=this.gl,m=this.renderer;this.bind(d),this.set1i("uMainSampler",0),s?(v.viewport(0,0,s.width,s.height),v.bindFramebuffer(v.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,s.texture.webGLTexture,0),u&&(f?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||v.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,l.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),s&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),i.prototype.destroy.call(this),this}});c.exports=n},43558:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(67502),o=t(83419),r=t(96293),a=t(95540),i=t(57516),n=t(27681),l=t(87841),s=t(32302),u=t(45561),f=t(60722),d=t(29100),v=new o({Extends:i,initialize:function(y){var T=a(y,"fragShader",n),S=a(y,"vertShader",f),A=a(y,"drawShader",n),P=[{name:"DrawSprite",fragShader:u,vertShader:f},{name:"CopySprite",fragShader:T,vertShader:S},{name:"DrawGame",fragShader:A,vertShader:f},{name:"ColorMatrix",fragShader:r}],w=a(y,"shaders",[]);y.shaders=P.concat(w),y.vertShader||(y.vertShader=S),y.batchSize=1,i.call(this,y),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var m=this.shaders,y=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new s(y,y.width,y.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var T=new ArrayBuffer(168);this.quadVertexData=T,this.quadVertexViewF32=new Float32Array(T),this.quadVertexBuffer=y.createVertexBuffer(T,this.gl.STATIC_DRAW),this.onResize(y.width,y.height),this.currentShader=this.copyShader,this.set2f("uResolution",y.width,y.height)},onResize:function(m,y){var T=this.quadVertexViewF32;T[1]=y,T[22]=y,T[14]=m,T[28]=m,T[35]=m,T[36]=y},batchQuad:function(m,y,T,S,A,P,w,M,D,F,L,O,B,U,W,H,Y,G,X){var V=Math.min(y,S,P,M),b=Math.min(T,A,w,D),z=Math.max(y,S,P,M),$=Math.max(T,A,w,D),Q=z-V,Z=$-b,q=this.spriteBounds.setTo(V,b,Q,Z),j=m?m.preFX.padding:0,k=Q+j*2,_=Z+j*2,et=Math.abs(Math.max(k,_)),it=this.manager.getRenderTarget(et),st=this.targetBounds.setTo(0,0,it.width,it.height);x(st,Math.round(q.centerX),Math.round(q.centerY)),this.tempSprite=m;var nt=this.gl,ut=this.renderer;ut.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ut.width,ut.height),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,it),m.preFX.onFX(this));var ft=this.fsTarget;return this.flush(),nt.viewport(0,0,ut.width,ut.height),nt.bindFramebuffer(nt.FRAMEBUFFER,ft.framebuffer.webGLFramebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,ft.texture.webGLTexture,0),nt.clearColor(0,0,0,0),nt.clear(nt.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(y,T,F,L,0,G,U),this.batchVert(S,A,F,B,0,G,H),this.batchVert(P,w,O,B,0,G,Y),this.batchVert(y,T,F,L,0,G,U),this.batchVert(P,w,O,B,0,G,Y),this.batchVert(M,D,O,L,0,G,W),this.flush(),this.flipProjectionMatrix(!1),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,it.texture.webGLTexture),nt.copyTexSubImage2D(nt.TEXTURE_2D,0,0,0,st.x,st.y,st.width,st.height),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(it,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,y,T,S,A,P,w){T===void 0&&(T=!0),S===void 0&&(S=!0),A===void 0&&(A=!1),w===void 0&&(w=this.copyShader);var M=this.gl,D=this.tempSprite;P&&(w=this.colorMatrixShader),this.currentShader=w;var F=this.setVertexBuffer(this.quadVertexBuffer);w.bind(F,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),D.preFX.onFXCopy(this),this.onCopySprite(m,y,D),P&&(this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,m.texture.webGLTexture),m.height>y.height)M.viewport(0,0,m.width,m.height),this.setTargetUVs(m,y);else{var O=y.height-m.height;M.viewport(0,O,m.width,m.height),this.resetUVs()}if(M.bindFramebuffer(M.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,y.texture.webGLTexture,0),T&&(M.clearColor(0,0,0,+!S),M.clear(M.COLOR_BUFFER_BIT)),A){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),A&&this.renderer.setBlendMode(B),M.bindFramebuffer(M.FRAMEBUFFER,null)},copy:function(m,y){var T=this.gl;this.set1i("uMainSampler",0),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,m.texture.webGLTexture),T.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),T.bindFramebuffer(T.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,y.texture.webGLTexture,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.quadVertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null)},blendFrames:function(m,y,T,S,A){this.manager.blendFrames(m,y,T,S,A)},blendFramesAdditive:function(m,y,T,S,A){this.manager.blendFramesAdditive(m,y,T,S,A)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var y=this.gl,T=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var S=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,P=this.targetBounds.y,w=A+m.width,M=P+m.height,D=S.getX(A,P),F=S.getX(A,M),L=S.getX(w,M),O=S.getX(w,P),B=S.getY(A,P),U=S.getY(A,M),W=S.getY(w,M),H=S.getY(w,P),Y=16777215;this.batchVert(D,B,0,0,0,0,Y),this.batchVert(F,U,0,1,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(D,B,0,0,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(O,H,1,0,0,0,Y),T.restoreFramebuffer(!1,!0),T.currentFramebuffer||y.viewport(0,0,T.width,T.height),T.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,y,T,S,A,P,w,M){var D=this.quadVertexViewF32;D[2]=m,D[3]=y,D[9]=T,D[10]=S,D[16]=A,D[17]=P,D[23]=m,D[24]=y,D[30]=A,D[31]=P,D[37]=w,D[38]=M},setTargetUVs:function(m,y){var T=y.height/m.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,i.prototype.destroy.call(this),this}});c.exports=v},81041:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(57516),r=new h({Extends:o,initialize:function(i){i.topology=5,i.batchSize=x(i,"batchSize",256),o.call(this,i)}});c.exports=r},12385:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(57516),r=t(45561),a=t(60722),i=t(29100),n=new h({Extends:o,initialize:function(s){s.fragShader=x(s,"fragShader",r),s.vertShader=x(s,"vertShader",a),s.forceZero=!0,o.call(this,s)},boot:function(){i.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});c.exports=n},7589:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35407),x=t(10312),o=t(83419),r=t(89422),a=t(96293),i=t(36682),n=t(95540),l=t(48247),s=t(49627),u=t(29100),f=new o({Extends:u,initialize:function(v){v.renderTarget=n(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=n(v,"vertShader",s),v.shaders=n(v,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:a}]),v.attributes=n(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,u.call(this,v),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var d=this.shaders,v=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(d,v,m,y,T){m===void 0&&(m=1),y===void 0&&(y=!0),T===void 0&&(T=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,d.texture.webGLTexture),v?(S.viewport(0,0,v.width,v.height),S.bindFramebuffer(S.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,v.texture.webGLTexture,0)):S.viewport(0,0,d.width,d.height),y&&(T?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(d,v,m,y,T,S,A){m===void 0&&(m=1),y===void 0&&(y=!0),T===void 0&&(T=!0),S===void 0&&(S=!1),A===void 0&&(A=!1);var P=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,d.texture.webGLTexture),d.height>v.height)P.viewport(0,0,d.width,d.height),this.setTargetUVs(d,v);else{var w=v.height-d.height;P.viewport(0,w,d.width,d.height)}if(P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture.webGLTexture,0),y&&(T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),S){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}A&&this.flipY(),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),S&&this.renderer.setBlendMode(M),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,v,m,y,T,S,A,P){A===void 0&&(A=!0),P===void 0&&(P=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,d.texture.webGLTexture,0),A&&(P?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,v.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,m,y,T,S),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(d){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,d.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(d,v,m,y){m===void 0&&(m=!0),y===void 0&&(y=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",y.getData()),this.set1f("uAlpha",y.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),v?(T.viewport(0,0,v.width,v.height),T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture.webGLTexture,0)):T.viewport(0,0,d.width,d.height),m?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(d,v,m,y,T,S){y===void 0&&(y=1),T===void 0&&(T=!0),S===void 0&&(S=this.linearShader);var A=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",y),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,d.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,v.texture.webGLTexture),m?(A.bindFramebuffer(A.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,m.texture.webGLTexture,0),A.viewport(0,0,m.width,m.height)):A.viewport(0,0,d.width,d.height),T?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(d,v,m,y,T){this.blendFrames(d,v,m,y,T,this.addShader)},clearFrame:function(d,v){v===void 0&&(v=!0);var m=this.gl;m.viewport(0,0,d.width,d.height),m.bindFramebuffer(m.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var y=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,y.webGLFramebuffer)},setUVs:function(d,v,m,y,T,S,A,P){var w=this.vertexViewF32;w[2]=d,w[3]=v,w[6]=m,w[7]=y,w[10]=T,w[11]=S,w[14]=d,w[15]=v,w[18]=T,w[19]=S,w[22]=A,w[23]=P},setTargetUVs:function(d,v){var m=v.height/d.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=f},36060:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=E},84817:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineafterflush"},36712:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebeforeflush"},40285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebind"},65918:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineboot"},92852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinedestroy"},56072:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinerebind"},57566:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineresize"},77085:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(99155),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.amount=1},onPreRender:function(a,i){a=this.getController(a),this.set1f("amount",a.amount,i)}});c.exports=r},67329:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(24400),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(a){a=this.getController(a),this.set1f("strength",a.blurStrength),this.set3fv("color",a.glcolor)},onDraw:function(a){var i=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(a,l);for(var s=2/a.width*i.offsetX,u=2/a.height*i.offsetY,f=0;f<i.steps;f++)this.set2f("offset",s,0),this.copySprite(a,n),this.set2f("offset",0,u),this.copySprite(n,a);this.blendFrames(l,a,n,i.strength),this.copyToGame(n)}});c.exports=r},8861:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(41514),o=t(51078),r=t(94328),a=t(84057),i=new h({Extends:a,initialize:function(l){a.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),s=this.gl,u=this.fullFrame1,f=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var d=0;d<l.steps;d++)this.set2f("offset",l.x,0),this.copySprite(n,u),this.set2f("offset",0,l.y),this.copySprite(u,n);s.bindFramebuffer(s.FRAMEBUFFER,f),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(n)}});c.exports=i},51051:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(90610),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(a,i,n,l){a=this.getController(a),this.set1f("radius",a.radius,i),this.set1f("amount",a.amount,i),this.set1f("contrast",a.contrast,i),this.set1f("strength",a.strength,i),this.set2f("blur",a.blurX,a.blurY,i),this.setBoolean("isTiltShift",a.isTiltShift,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});c.exports=r},89428:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(91899),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(a,i,n,l){a=this.getController(a),this.set1f("scale",a.scale,i),this.set1f("feather",a.feather,i),this.set1f("thickness",a.thickness,i),this.set3fv("color",a.glcolor,i),this.set4fv("backgroundColor",a.glcolor2,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});c.exports=r},88904:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(84057),o=new h({Extends:x,initialize:function(a){x.call(this,{game:a})},onDraw:function(r){var a=this.fullFrame1;this.controller?this.manager.drawFrame(r,a,!0,this.controller):this.drawFrame(r,a),this.copyToGame(a)}});c.exports=o},63563:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(47838),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(a){var i=this.game.textures.getFrame(a);i&&(this.glTexture=i.glTexture)},onDraw:function(a){var i=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.copySprite(a,n),this.copyToGame(n)}});c.exports=r},94045:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(98656),r=t(84057),a=t(70554),i=new h({Extends:r,initialize:function(l,s){var u=x(s,"quality",.1),f=x(s,"distance",10);r.call(this,{game:l,fragShader:a.setGlowQuality(o,l,u,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,s,u){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),s&&u&&this.set2f("resolution",s,u,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=i},74088:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(70463),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(a,i){a=this.getController(a),this.set1f("alpha",a.alpha,i),this.set1i("size",a.size,i),this.set3fv("color1",a.glcolor1,i),this.set3fv("color2",a.glcolor2,i),this.set2f("positionFrom",a.fromX,a.fromY,i),this.set2f("positionTo",a.toX,a.toY,i)}});c.exports=r},99636:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50831),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.amount=1},onPreRender:function(a,i,n,l){a=this.getController(a),this.set1f("amount",a.amount,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});c.exports=r},34700:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92595),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(a,i){a=this.getController(a);var n=a.samples;this.set1i("samples",n,i),this.set1f("intensity",a.intensity,i),this.set1f("decay",a.decay,i),this.set1f("power",a.power/n,i),this.set2f("lightPosition",a.x,a.y,i),this.set4fv("color",a.glcolor,i)}});c.exports=r},91157:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72464),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(a,i,n,l){a=this.getController(a),this.setTime("time",i),this.set1f("speed",a.speed,i),this.set1f("lineWidth",a.lineWidth,i),this.set1f("gradient",a.gradient,i),this.setBoolean("reveal",a.reveal,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});c.exports=r},27797:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(39249),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(a,i){a=this.getController(a),this.set1f("radius",a.radius,i),this.set1f("strength",a.strength,i),this.set2f("position",a.x,a.y,i)}});c.exports=r},67603:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(2878),o=t(84057),r=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(a,i){a=this.getController(a);var n=a.progress,l=a.wipeWidth,s=a.direction,u=a.axis;this.set4f("config",n,l,s,u,i),this.setBoolean("reveal",a.reveal,i)}});c.exports=r},58918:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};c.exports=h},96615:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36060),x=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=x(!1,o,h),c.exports=o},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,E,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(c,E,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i){this.webGLAttribLocation=-1,this.gl=r,this.program=a,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=x},26128:(c,E,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i,n){this.webGLBuffer=null,this.gl=r,this.initialDataOrSize=a,this.bufferType=i,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var r=this.bufferType,a=o.createBuffer();this.webGLBuffer=a,o.bindBuffer(r,this.webGLBuffer),o.bufferData(r,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(r,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=x},84387:(c,E,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new h({initialize:function(a,i,n,l,s){this.webGLFramebuffer=null,this.gl=a,this.width=i,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var a=this.renderTexture,i=0,n=r.createFramebuffer();if(this.webGLFramebuffer=n,r.bindFramebuffer(r.FRAMEBUFFER,n),a.isRenderTexture=!0,a.isAlphaPremultiplied=!1,r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,a.webGLTexture,0),i=r.checkFramebufferStatus(r.FRAMEBUFFER),i!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[i]||i));if(this.addDepthStencilBuffer){var l=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,l),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,this.width,this.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,l)}r.bindFramebuffer(r.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var r=this.gl;if(!r.isContextLost()){r.bindFramebuffer(r.FRAMEBUFFER,this.webGLFramebuffer);var a=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.deleteTexture(a));var i=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);i!==null&&r.deleteRenderbuffer(i),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=o},1482:(c,E,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i){this.webGLProgram=null,this.gl=r,this.vertexSource=a,this.fragmentSource=i,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var r=o.createProgram(),a=o.createShader(o.VERTEX_SHADER),i=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(a,this.vertexSource),o.shaderSource(i,this.fragmentSource),o.compileShader(a),o.compileShader(i);var n=`Shader failed:
`;if(!o.getShaderParameter(a,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(a));if(!o.getShaderParameter(i,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(i));if(o.attachShader(r,a),o.attachShader(r,i),o.linkProgram(r),!o.getProgramParameter(r,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(r));o.useProgram(r),this.webGLProgram=r}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=x},82751:(c,E,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50030),o=new h({initialize:function(a,i,n,l,s,u,f,d,v,m,y,T,S){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=a,this.mipLevel=i,this.minFilter=n,this.magFilter=l,this.wrapT=s,this.wrapS=u,this.format=f,this.pixels=d,this.width=v,this.height=m,this.pma=y??!0,this.forceSize=!!T,this.flipY=!!S,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var a=r.createTexture();a.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=a,this._processTexture()}},update:function(r,a,i,n,l,s,u,f,d){if(!(a===0||i===0)){this.pixels=r,this.width=a,this.height=i,this.flipY=n,this.wrapS=l,this.wrapT=s,this.minFilter=u,this.magFilter=f,this.format=d;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var r=this.gl;r.activeTexture(r.TEXTURE0);var a=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,this.webGLTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrapT),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels,n=this.mipLevel,l=this.width,s=this.height,u=this.format,f=!1;if(i==null)r.texImage2D(r.TEXTURE_2D,n,u,l,s,0,u,r.UNSIGNED_BYTE,null),f=x(l,s);else if(i.compressed){l=i.width,s=i.height,f=i.generateMipmap;for(var d=0;d<i.mipmaps.length;d++)r.compressedTexImage2D(r.TEXTURE_2D,d,i.internalFormat,i.mipmaps[d].width,i.mipmaps[d].height,0,i.mipmaps[d].data)}else i instanceof Uint8Array?(r.texImage2D(r.TEXTURE_2D,n,u,l,s,0,u,r.UNSIGNED_BYTE,i),f=x(l,s)):(this.forceSize||(l=i.width,s=i.height),r.texImage2D(r.TEXTURE_2D,n,u,u,r.UNSIGNED_BYTE,i),f=x(l,s));f&&r.generateMipmap(r.TEXTURE_2D),a?r.bindTexture(r.TEXTURE_2D,a):r.bindTexture(r.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(r){this.__SPECTOR_Metadata=r,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=r)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=o},57183:(c,E,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i){this.webGLUniformLocation=null,this.gl=r,this.program=a,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=x},9503:(c,E,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};c.exports=h},76531:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),x=t(83419),o=t(50792),r=t(97480),a=t(8443),i=t(57811),n=t(74403),l=t(45818),s=t(29747),u=t(87841),f=t(86555),d=t(56583),v=t(26099),m=t(38058),y=new x({Extends:o,initialize:function(S){o.call(this),this.game=S,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:s,windowResize:s,fullScreenChange:s,fullScreenError:s}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var T=this.game;this.canvas=T.canvas,this.fullscreen=T.device.fullscreen;var S=this.scaleMode;S!==h.SCALE_MODE.RESIZE&&S!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(S),S===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),T.events.on(a.PRE_STEP,this.step,this),T.events.once(a.READY,this.refresh,this),T.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(T){this.getParent(T),this.getParentBounds();var S=T.width,A=T.height,P=T.scaleMode,w=T.zoom,M=T.autoRound;if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var F=parseInt(S,10)/100;S=Math.floor(D*F)}if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var O=parseInt(A,10)/100;A=Math.floor(L*O)}this.scaleMode=P,this.autoRound=M,this.autoCenter=T.autoCenter,this.resizeInterval=T.resizeInterval,M&&(S=Math.floor(S),A=Math.floor(A)),this.gameSize.setSize(S,A),w===h.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(S,A),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),T.minWidth>0&&this.displaySize.setMin(T.minWidth*w,T.minHeight*w),T.maxWidth>0&&this.displaySize.setMax(T.maxWidth*w,T.maxHeight*w),this.displaySize.setSize(S,A),(T.snapWidth>0||T.snapHeight>0)&&this.displaySize.setSnap(T.snapWidth,T.snapHeight),this.orientation=l(S,A)},getParent:function(T){var S=T.parent;if(S!==null){if(this.parent=n(S),this.parentIsWindow=this.parent===document.body,T.expandParent&&T.scaleMode!==h.SCALE_MODE.NONE){var A=this.parent.getBoundingClientRect();(this.parentIsWindow||A.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",A=this.parent.getBoundingClientRect(),!this.parentIsWindow&&A.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}T.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(T.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var T=this.parentSize,S=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(S.height=i(!0));var A=S.width,P=S.height;if(T.width!==A||T.height!==P)return T.setSize(A,P),!0;if(this.canvas){var w=this.canvasBounds,M=this.canvas.getBoundingClientRect();if(M.x!==w.x||M.y!==w.y)return!0}return!1},lockOrientation:function(T){var S=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return S?S.call(screen,T):!1},setParentSize:function(T,S){return this.parentSize.setSize(T,S),this.refresh()},setGameSize:function(T,S){var A=this.autoRound;A&&(T=Math.floor(T),S=Math.floor(S));var P=this.width,w=this.height;return this.gameSize.resize(T,S),this.baseSize.resize(T,S),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(T/S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(P,w)},resize:function(T,S){var A=this.zoom,P=this.autoRound;P&&(T=Math.floor(T),S=Math.floor(S));var w=this.width,M=this.height;this.gameSize.resize(T,S),this.baseSize.resize(T,S),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(T*A,S*A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,F=T*A,L=S*A;return P&&(F=Math.floor(F),L=Math.floor(L)),(F!==T||L!==S)&&(D.width=F+"px",D.height=L+"px"),this.refresh(w,M)},setZoom:function(T){return this.zoom=T,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(T,S){return T===void 0&&(T=0),S===void 0&&(S=T),this.displaySize.setSnap(T,S),this.refresh()},refresh:function(T,S){T===void 0&&(T=this.width),S===void 0&&(S=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var A=this.game.domContainer;if(A){this.baseSize.setCSS(A);var P=this.canvas.style,w=A.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=P.marginLeft,w.marginTop=P.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,T,S),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var T=l(this.width,this.height);T!==this.orientation&&(this.orientation=T,this.emit(r.ORIENTATION_CHANGE,T))}},updateScale:function(){var T=this.canvas.style,S=this.gameSize.width,A=this.gameSize.height,P,w,M=this.zoom,D=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(S*M,A*M),P=this.displaySize.width,w=this.displaySize.height,D&&(P=Math.floor(P),w=Math.floor(w)),this._resetZoom&&(T.width=P+"px",T.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),P=this.displaySize.width,w=this.displaySize.height,D&&(P=Math.floor(P),w=Math.floor(w)),this.canvas.width=P,this.canvas.height=w;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var F=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,w=this.displaySize.height,D&&(P=Math.floor(P),w=Math.floor(w)),T.width=P+"px",T.height=w+"px";var O=this.parentSize.width/F,B=this.parentSize.height/L;O<B&&O!==0?this.baseSize.setSize(F,this.parentSize.height/O):B!==0&&this.baseSize.setSize(this.displaySize.width/B,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),P=this.baseSize.width,w=this.baseSize.height,D&&(P=Math.floor(P),w=Math.floor(w)),this.canvas.width=P,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,w=this.displaySize.height,D&&(P=Math.floor(P),w=Math.floor(w)),T.width=P+"px",T.height=w+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var T=d(this.parentSize.width,this.gameSize.width,0,!0),S=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(T,S),1)},updateCenter:function(){var T=this.autoCenter;if(T!==h.CENTER.NO_CENTER){var S=this.canvas,A=S.style,P=S.getBoundingClientRect(),w=P.width,M=P.height,D=Math.floor((this.parentSize.width-w)/2),F=Math.floor((this.parentSize.height-M)/2);T===h.CENTER.CENTER_HORIZONTALLY?F=0:T===h.CENTER.CENTER_VERTICALLY&&(D=0),A.marginLeft=D+"px",A.marginTop=F+"px"}},updateBounds:function(){var T=this.canvasBounds,S=this.canvas.getBoundingClientRect();T.x=S.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),T.y=S.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),T.width=S.width,T.height=S.height},transformX:function(T){return(T-this.canvasBounds.left)*this.displayScale.x},transformY:function(T){return(T-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(T){T===void 0&&(T={navigationUI:"hide"});var S=this.fullscreen;if(!S.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!S.active){var A=this.getFullscreenTarget();S.keyboard?A[S.request](Element.ALLOW_KEYBOARD_INPUT):A[S.request](T)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(T){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,T)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var T=document.createElement("div");T.style.margin="0",T.style.padding="0",T.style.width="100%",T.style.height="100%",this.fullscreenTarget=T,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var S=this.canvas.parentNode;S.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var T=this.fullscreenTarget;if(T&&T.parentNode){var S=T.parentNode;S.insertBefore(this.canvas,T),S.removeChild(T)}}},stopFullscreen:function(){var T=this.fullscreen;if(!T.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;T.active&&document[T.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(T){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(T)},startListeners:function(){var T=this,S=this.domlisteners;if(S.orientationChange=function(){T.updateBounds(),T._checkOrientation=!0,T.dirty=!0,T.refresh()},S.windowResize=function(){T.updateBounds(),T.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",S.orientationChange,!1):window.addEventListener("orientationchange",S.orientationChange,!1),window.addEventListener("resize",S.windowResize,!1),this.fullscreen.available){S.fullScreenChange=function(P){return T.onFullScreenChange(P)},S.fullScreenError=function(P){return T.onFullScreenError(P)};var A=["webkit","moz",""];A.forEach(function(P){document.addEventListener(P+"fullscreenchange",S.fullScreenChange,!1),document.addEventListener(P+"fullscreenerror",S.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.addEventListener("MSFullscreenError",S.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(T,S){T instanceof m||(S=T,T=void 0),S===void 0&&(S=new u);var A=this.baseSize,P=this.parentSize,w=this.canvasBounds,M=this.displayScale,D=w.x>=0?0:-(w.x*M.x),F=w.y>=0?0:-(w.y*M.y),L;P.width>=w.width?L=A.width:L=A.width-(w.width-P.width)*M.x;var O;return P.height>=w.height?O=A.height:O=A.height-(w.height-P.height)*M.y,S.setTo(D,F,L,O),T&&(S.width/=T.zoomX,S.height/=T.zoomY,S.centerX=T.centerX+T.scrollX,S.centerY=T.centerY+T.scrollY),S},step:function(T,S){this.parent&&(this._lastCheck+=S,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var T=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",T.orientationChange,!1):window.removeEventListener("orientationchange",T.orientationChange,!1),window.removeEventListener("resize",T.windowResize,!1);var S=["webkit","moz",""];S.forEach(function(A){document.removeEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.removeEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",T.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=y},64743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};c.exports=h},56139:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},2336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},47412:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},51452:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},20666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},47945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},97480:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=h(!1,o,x.CENTER),o=h(!1,o,x.ORIENTATION),o=h(!1,o,x.SCALE_MODE),o=h(!1,o,x.ZOOM),c.exports=o},27397:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=t(35355),o=function(r){var a=r.game.config.defaultPhysicsSystem,i=h(r.settings,"physics",!1);if(!(!a&&!i)){var n=[];if(a&&n.push(x(a+"Physics")),i)for(var l in i)l=x(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};c.exports=o},52106:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o){var r=o.plugins.getDefaultScenePlugins(),a=h(o.settings,"plugins",!1);return Array.isArray(a)?a:r||[]};c.exports=x},87033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=E},97482:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(2368),o=new h({initialize:function(a){this.sys=new x(this,a),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=o},60903:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89993),o=t(44594),r=t(8443),a=t(35154),i=t(54899),n=t(29747),l=t(97482),s=t(2368),u=new h({initialize:function(d,v){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)this._pending.push({key:"default",scene:v[m],autoStart:m===0,data:{}})}d.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var f,d,v,m;for(f=0;f<this._pending.length;f++){d=this._pending[f],v=d.key,m=d.scene;var y;m instanceof l?y=this.createSceneFromInstance(v,m):typeof m=="object"?y=this.createSceneFromObject(v,m):typeof m=="function"&&(y=this.createSceneFromFunction(v,m)),v=y.sys.settings.key,this.keys[v]=y,this.scenes.push(y),this._data[v]&&(y.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(d.autoStart=!0)),(d.autoStart||y.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)d=this._start[f],this.start(d);this._start.length=0}},processQueue:function(){var f=this._pending.length,d=this._queue.length;if(!(f===0&&d===0)){var v,m;if(f){for(v=0;v<f;v++)m=this._pending[v],this.add(m.key,m.scene,m.autoStart,m.data);for(v=0;v<this._start.length;v++)m=this._start[v],this.start(m);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)m=this._queue[v],this[m.op](m.keyA,m.keyB,m.data);this._queue.length=0}},add:function(f,d,v,m){if(v===void 0&&(v=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:d,autoStart:v,data:m}),this.isBooted||(this._data[f]={data:m}),null;f=this.getKey(f,d);var y;return d instanceof l?y=this.createSceneFromInstance(f,d):typeof d=="object"?(d.key=f,y=this.createSceneFromObject(f,d)):typeof d=="function"&&(y=this.createSceneFromFunction(f,d)),y.sys.settings.data=m,f=y.sys.settings.key,this.keys[f]=y,this.scenes.push(y),(v||y.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),y},remove:function(f){if(this.isProcessing)return this.queueOp("remove",f);var d=this.getScene(f);if(!d||d.sys.isTransitioning())return this;var v=this.scenes.indexOf(d),m=d.sys.settings.key;return v>-1&&(delete this.keys[m],this.scenes.splice(v,1),this._start.indexOf(m)>-1&&(v=this._start.indexOf(m),this._start.splice(v,1)),d.sys.destroy()),this},bootScene:function(f){var d=f.sys,v=d.settings;d.sceneUpdate=n,f.init&&(f.init.call(f,v.data),v.status=x.INIT,v.isTransition&&d.events.emit(o.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var m;d.load&&(m=d.load,m.reset()),m&&f.preload?(f.preload.call(f),v.status=x.LOADING,m.once(i.COMPLETE,this.loadComplete,this),m.start()):this.create(f)},loadComplete:function(f){this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,d){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var m=this.scenes[v].sys;m.settings.status>x.START&&m.settings.status<=x.RUNNING&&m.step(f,d),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(f,d)}},render:function(f){for(var d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys;v.settings.visible&&v.settings.status>=x.LOADING&&v.settings.status<x.SLEEPING&&v.render(f)}this.isProcessing=!1},create:function(f){var d=f.sys,v=d.settings;f.create&&(v.status=x.CREATING,f.create.call(f,v.data),v.status===x.DESTROYED)||(v.isTransition&&d.events.emit(o.TRANSITION_START,v.transitionFrom,v.transitionDuration),f.update&&(d.sceneUpdate=f.update),v.status=x.RUNNING,d.events.emit(o.CREATE,f))},createSceneFromFunction:function(f,d){var v=new d;if(v instanceof l){var m=v.sys.settings.key;if(m!==""&&(f=m),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return this.createSceneFromInstance(f,v)}else return v.sys=new s(v),v.sys.settings.key=f,v.sys.init(this.game),v},createSceneFromInstance:function(f,d){var v=d.sys.settings.key;return v===""&&(d.sys.settings.key=f),d.sys.init(this.game),d},createSceneFromObject:function(f,d){var v=new l(d),m=v.sys.settings.key;m!==""?f=m:v.sys.settings.key=f,v.sys.init(this.game);for(var y=["init","preload","create","update","render"],T=0;T<y.length;T++){var S=a(d,y[T],null);S&&(v[y[T]]=S)}if(d.hasOwnProperty("extend")){for(var A in d.extend)if(d.extend.hasOwnProperty(A)){var P=d.extend[A];A==="data"&&v.hasOwnProperty("data")&&typeof P=="object"?v.data.merge(P):A!=="sys"&&(v[A]=P)}}return v},getKey:function(f,d){if(f||(f="default"),typeof d=="function")return f;if(d instanceof l?f=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(f=d.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return f},getScenes:function(f,d){f===void 0&&(f=!0),d===void 0&&(d=!1);for(var v=[],m=this.scenes,y=0;y<m.length;y++){var T=m[y];T&&(!f||f&&T.sys.isActive())&&v.push(T)}return d?v.reverse():v},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var d=0;d<this.scenes.length;d++)if(f===this.scenes[d])return f;return null},isActive:function(f){var d=this.getScene(f);return d?d.sys.isActive():null},isPaused:function(f){var d=this.getScene(f);return d?d.sys.isPaused():null},isVisible:function(f){var d=this.getScene(f);return d?d.sys.isVisible():null},isSleeping:function(f){var d=this.getScene(f);return d?d.sys.isSleeping():null},pause:function(f,d){var v=this.getScene(f);return v&&v.sys.pause(d),this},resume:function(f,d){var v=this.getScene(f);return v&&v.sys.resume(d),this},sleep:function(f,d){var v=this.getScene(f);return v&&!v.sys.isTransitioning()&&v.sys.sleep(d),this},wake:function(f,d){var v=this.getScene(f);return v&&v.sys.wake(d),this},run:function(f,d){var v=this.getScene(f);if(!v){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===f){this.queueOp("start",f,d);break}return this}v.sys.isSleeping()?v.sys.wake(d):v.sys.isPaused()?v.sys.resume(d):this.start(f,d)},start:function(f,d){if(!this.isBooted)return this._data[f]={autoStart:!0,data:d},this;var v=this.getScene(f);if(!v)return console.warn("Scene key not found: "+f),this;var m=v.sys,y=m.settings.status;if(y>=x.START&&y<=x.CREATING)return this;if(y>=x.RUNNING&&y<=x.SLEEPING)m.shutdown(),m.sceneUpdate=n,m.start(d);else{m.sceneUpdate=n,m.start(d);var T;if(m.load&&(T=m.load),T&&m.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:m.settings.pack})))return m.settings.status=x.LOADING,T.once(i.COMPLETE,this.payloadComplete,this),T.start(),this}return this.bootScene(v),this},stop:function(f,d){var v=this.getScene(f);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==x.SHUTDOWN){var m=v.sys.load;m&&(m.off(i.COMPLETE,this.loadComplete,this),m.off(i.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(d)}return this},switch:function(f,d,v){var m=this.getScene(f),y=this.getScene(d);return m&&y&&m!==y&&(this.sleep(f),this.isSleeping(d)?this.wake(d,v):this.start(d,v)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var d=this.getScene(f);return this.scenes.indexOf(d)},bringToTop:function(f){if(this.isProcessing)return this.queueOp("bringToTop",f);var d=this.getIndex(f),v=this.scenes;if(d!==-1&&d<v.length){var m=this.getScene(f);v.splice(d,1),v.push(m)}return this},sendToBack:function(f){if(this.isProcessing)return this.queueOp("sendToBack",f);var d=this.getIndex(f);if(d!==-1&&d>0){var v=this.getScene(f);this.scenes.splice(d,1),this.scenes.unshift(v)}return this},moveDown:function(f){if(this.isProcessing)return this.queueOp("moveDown",f);var d=this.getIndex(f);if(d>0){var v=d-1,m=this.getScene(f),y=this.getAt(v);this.scenes[d]=y,this.scenes[v]=m}return this},moveUp:function(f){if(this.isProcessing)return this.queueOp("moveUp",f);var d=this.getIndex(f);if(d<this.scenes.length-1){var v=d+1,m=this.getScene(f),y=this.getAt(v);this.scenes[d]=y,this.scenes[v]=m}return this},moveAbove:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("moveAbove",f,d);var v=this.getIndex(f),m=this.getIndex(d);if(v!==-1&&m!==-1&&m<v){var y=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(v+(m>v),0,y)}return this},moveBelow:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("moveBelow",f,d);var v=this.getIndex(f),m=this.getIndex(d);if(v!==-1&&m!==-1&&m>v){var y=this.getAt(m);this.scenes.splice(m,1),v===0?this.scenes.unshift(y):this.scenes.splice(v-(m<v),0,y)}return this},queueOp:function(f,d,v,m){return this._queue.push({op:f,keyA:d,keyB:v,data:m}),this},swapPosition:function(f,d){if(f===d)return this;if(this.isProcessing)return this.queueOp("swapPosition",f,d);var v=this.getIndex(f),m=this.getIndex(d);if(v!==m&&v!==-1&&m!==-1){var y=this.getAt(v);this.scenes[v]=this.scenes[m],this.scenes[m]=y}return this},dump:function(){for(var f=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var m=this.scenes[v].sys,y=m.settings.visible&&(m.settings.status===x.RUNNING||m.settings.status===x.PAUSED)?"[*] ":"[-] ";y+=m.settings.key+" ("+d[m.settings.status]+")",f.push(y)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var d=this.scenes[f].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=u},52209:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(44594),r=t(95540),a=t(37277),i=new x({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=r(n,"target",!1),s=this.manager.getScene(l);if(!l||!this.checkValidTransition(s))return!1;var u=r(n,"duration",1e3);this._elapsed=0,this._target=s,this._duration=u,this._willSleep=r(n,"sleep",!1),this._willRemove=r(n,"remove",!1);var f=r(n,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=r(n,"onUpdateScope",this.scene));var d=r(n,"allowInput",!1);this.settings.transitionAllowInput=d;var v=s.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=u,v.transitionAllowInput=d,r(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):r(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),s.sys.isSleeping()?s.sys.wake(r(n,"data")):this.manager.start(l,r(n,"data"));var m=r(n,"onStart",null),y=r(n,"onStartScope",this.scene);return m&&m.call(y,this.scene,s,u),this.systems.events.emit(o.TRANSITION_OUT,s,u),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,s,u){return this.manager.add(n,l,s,u)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n,l){return n!==this.key&&this.manager.queueOp("switch",this.key,n,l),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,s){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(n,s),this},setVisible:function(n,l){l===void 0&&(l=this.key);var s=this.manager.getScene(l);return s&&s.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",i,"scenePlugin"),c.exports=i},55681:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),x=t(35154),o=t(46975),r=t(87033),a={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:h.PENDING,key:x(i,"key",""),active:x(i,"active",!1),visible:x(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(i,"pack",!1),cameras:x(i,"cameras",null),map:x(i,"map",o(r,x(i,"mapAdd",{}))),physics:x(i,"physics",{}),loader:x(i,"loader",{}),plugins:x(i,"plugins",!1),input:x(i,"input",{})}}};c.exports=a},2368:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89993),o=t(42363),r=t(44594),a=t(27397),i=t(52106),n=t(29747),l=t(55681),s=new h({initialize:function(f,d){this.scene=f,this.game,this.renderer,this.config=d,this.settings=l.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(u){this.settings.status=x.INIT,this.sceneUpdate=n,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var f=u.plugins;this.plugins=f,f.addToScene(this,o.Global,[o.CoreScene,i(this),a(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(u,f){var d=this.events;d.emit(r.PRE_UPDATE,u,f),d.emit(r.UPDATE,u,f),this.sceneUpdate.call(this.scene,u,f),d.emit(r.POST_UPDATE,u,f)},render:function(u){var f=this.displayList;f.depthSort(),this.events.emit(r.PRE_RENDER,u),this.cameras.render(u,f),this.events.emit(r.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var f=this.settings,d=this.getStatus();return d!==x.CREATING&&d!==x.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=x.PAUSED,f.active=!1,this.events.emit(r.PAUSE,this,u)),this},resume:function(u){var f=this.events,d=this.settings;return this.settings.active||(d.status=x.RUNNING,d.active=!0,f.emit(r.RESUME,this,u)),this},sleep:function(u){var f=this.settings,d=this.getStatus();return d!==x.CREATING&&d!==x.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=x.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(r.SLEEP,this,u)),this},wake:function(u){var f=this.events,d=this.settings;return d.status=x.RUNNING,d.active=!0,d.visible=!0,f.emit(r.WAKE,this,u),d.isTransition&&f.emit(r.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var u=this.settings.status;return u>x.PENDING&&u<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,f){return u?this.resume(f):this.pause(f)},start:function(u){var f=this.events,d=this.settings;u&&(d.data=u),d.status=x.START,d.active=!0,d.visible=!0,f.emit(r.START,this),f.emit(r.READY,this,u)},shutdown:function(u){var f=this.events,d=this.settings;f.off(r.TRANSITION_INIT),f.off(r.TRANSITION_START),f.off(r.TRANSITION_COMPLETE),f.off(r.TRANSITION_OUT),d.status=x.SHUTDOWN,d.active=!1,d.visible=!1,f.emit(r.SHUTDOWN,this,u)},destroy:function(){var u=this.events,f=this.settings;f.status=x.DESTROYED,f.active=!1,f.visible=!1,u.emit(r.DESTROY,this),u.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<d.length;v++)this[d[v]]=null}});c.exports=s},89993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=E},69830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},7919:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},46763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},11763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},71555:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},36735:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},3809:c=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},90716:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},58262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},91633:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},10319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},87132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},81961:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},90194:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},6265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},33178:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},43063:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},11259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},61611:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},45209:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},22966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},21747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},44594:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),x=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=x(!1,o,h),c.exports=o},30341:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(14463),r=t(79291),a=t(29747),i=new h({Extends:x,initialize:function(l,s,u){x.call(this),this.manager=l,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=r(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=r(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,s=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=i},85034:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(41786),o=t(50792),r=t(14463),a=t(8443),i=t(46710),n=t(58731),l=t(29747),s=t(26099),u=new h({Extends:o,initialize:function(d){o.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s;var v=d.events;v.on(a.BLUR,this.onGameBlur,this),v.on(a.FOCUS,this.onGameFocus,this),v.on(a.PRE_STEP,this.update,this),v.once(a.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,d){d===void 0&&(d={});var v=this.add(f,d);v.spritemap=this.jsonCache.get(f).spritemap;for(var m in v.spritemap)if(v.spritemap.hasOwnProperty(m)){var y=x(d),T=v.spritemap[m];y.loop=T.hasOwnProperty("loop")?T.loop:!1,v.addMarker({name:m,start:T.start,duration:T.end-T.start,config:y})}return v},get:function(f){return n(this.sounds,"key",f)},getAll:function(f){return f?i(this.sounds,"key",f):i(this.sounds)},getAllPlaying:function(){return i(this.sounds,"isPlaying",!0)},play:function(f,d){var v=this.add(f);return v.once(r.COMPLETE,v.destroy,v),d?d.name?(v.addMarker(d),v.play(d.name)):v.play(d):v.play()},playAudioSprite:function(f,d,v){var m=this.addAudioSprite(f);return m.once(r.COMPLETE,m.destroy,m),m.play(d,v)},remove:function(f){var d=this.sounds.indexOf(f);return d!==-1?(f.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var d=0,v=this.sounds.length-1;v>=0;v--){var m=this.sounds[v];m.key===f&&(m.destroy(),this.sounds.splice(v,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(f){var d=0;return this.getAll(f).forEach(function(v){v.stop()&&d++}),d},isPlaying:function(f){var d=this.sounds,v=d.length-1,m;if(f===void 0){for(;v>=0;v--)if(m=this.sounds[v],m.isPlaying)return!0}else for(;v>=0;v--)if(m=this.sounds[v],m.key===f&&m.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(m){m.update(f,d)})},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,d){var v=this;this.sounds.forEach(function(m,y){m&&!m.pendingRemove&&f.call(d||v,m,y,v.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,f)}}});c.exports=u},14747:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33684),x=t(25960),o=t(57490),r={create:function(a){var i=a.config.audio,n=a.device.audio;return i.noAudio||!n.webAudio&&!n.audioData?new x(a):n.webAudio&&!i.disableWebAudio?new o(a):new h(a)}};c.exports=r},19723:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},98882:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},57506:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},73146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},11305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},40577:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},30333:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},20394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},21802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},1299:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},99190:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},97125:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},89259:c=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pan"},79986:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},17586:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},19618:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},42306:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},10387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},48959:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},9960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},19180:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},98328:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},50401:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},52498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},14463:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),x=t(83419),o=t(14463),r=t(45319),a=new x({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,n,l,s)},play:function(i,n){return this.manager.isLocked(this,"play",[i,n])||!h.prototype.play.call(this,i,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var n=this.tags[i];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,f){return u.loop===f.loop?f.seek/f.duration-u.seek/u.duration:u.loop?1:-1});var s=l[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,s-l),s=this.audio.currentTime):s<n&&(this.audio.currentTime+=n,s=this.audio.currentTime),s<this.previousTime&&this.emit(o.LOOPED,this);else if(s>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=s}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(o.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(o.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,o.RATE,i)&&(this.calculateRate(),this.emit(o.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,o.DETUNE,i)&&(this.calculateRate(),this.emit(o.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(o.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});c.exports=a},33684:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),x=t(83419),o=t(14463),r=t(64895),a=new x({Extends:h,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,n)},add:function(i,n){var l=new r(this,i,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(u,f){for(var d=0;d<f.length;d++)if(f[d].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},s=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",s);var u=[];if(i.game.cache.audio.entries.each(function(d,v){for(var m=0;m<v.length;m++){var y=v[m];y.dataset.locked==="true"&&u.push(y)}return!0}),u.length!==0){var f=u[u.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,u.forEach(function(d){d.dataset.locked="false"}),i.unlocked=!0},u.forEach(function(d){d.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,n,l){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:n,value:l}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,i)}}});c.exports=a},23717:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),x=t(83419),o=t(50792),r=t(79291),a=t(29747),i=function(){return!1},n=function(){return null},l=function(){return this},s=new x({Extends:o,initialize:function(f,d,v){v===void 0&&(v={}),o.call(this),this.manager=f,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:i,updateMarker:i,removeMarker:n,play:i,pause:i,resume:i,stop:i,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:a,calculateRate:n,destroy:function(){h.prototype.destroy.call(this)}});c.exports=s},25960:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),x=t(83419),o=t(50792),r=t(4603),a=t(29747),i=new x({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var s=new r(this,n,l);return this.sounds.push(s),s},addAudioSprite:function(n,l){var s=this.add(n,l);return s.spritemap={},s},get:function(n){return h.prototype.get.call(this,n)},getAll:function(n){return h.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,s){return!1},remove:function(n){return h.prototype.remove.call(this,n)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(n){return h.prototype.removeByKey.call(this,n)},stopByKey:function(n){return h.prototype.stopByKey.call(this,n)},onBlur:a,onFocus:a,onGameBlur:a,onGameFocus:a,pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,unlock:a,forEachActiveSound:function(n,l){h.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){h.prototype.destroy.call(this)}});c.exports=i},71741:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),x=t(83419),o=t(14463),r=t(95540),a=new x({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,n,l,s)},play:function(i,n){return h.prototype.play.call(this,i,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var i=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,s=(this.currentMarker?this.currentMarker.start:0)+i,u=this.duration-i;this.playTime=l-i,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,s),Math.max(0,u)),this.resetConfig()},createAndStartLoopBufferSource:function(){var i=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=i,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,i),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var i=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){var s=l.target;(s===i.source||s===i.loopSource)&&(i.currentConfig.loop?i.hasLooped=!0:i.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var i=this.source;this.source=null,i.stop(),i.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var i=this.currentConfig.source;if(i&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=r(i,"panningModel","equalpower"),n.distanceModel=r(i,"distanceModel","inverse"),n.orientationX.value=r(i,"orientationX",0),n.orientationY.value=r(i,"orientationY",0),n.orientationZ.value=r(i,"orientationZ",-1),n.refDistance=r(i,"refDistance",1),n.maxDistance=r(i,"maxDistance",1e4),n.rolloffFactor=r(i,"rolloffFactor",1),n.coneInnerAngle=r(i,"coneInnerAngle",360),n.coneOuterAngle=r(i,"coneOuterAngle",0),n.coneOuterGain=r(i,"coneOuterGain",0),this.spatialSource=r(i,"follow",null),this.spatialSource||(n.positionX.value=r(i,"x",0),n.positionY.value=r(i,"y",0),n.positionZ.value=r(i,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(i){this.spatialNode&&(this.spatialNode.positionX.value=i)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(i){this.spatialNode&&(this.spatialNode.positionY.value=i)}},update:function(){if(this.isPlaying&&this.spatialSource){var i=r(this.spatialSource,"x",null),n=r(this.spatialSource,"y",null);i&&i!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=i),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var i=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,i),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,i)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var i=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,i+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return i},getLoopTime:function(){for(var i=0,n=0;n<this.rateUpdates.length-1;n++)i+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-i)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,this.calculateRate(),this.emit(o.RATE,this,i)}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,this.calculateRate(),this.emit(o.DETUNE,this,i)}},setDetune:function(i){return this.detune=i,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(i){this.currentConfig.mute=i,this.muteNode.gain.setValueAtTime(i?0:1,0),this.emit(o.MUTE,this,i)}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(i){this.currentConfig.volume=i,this.volumeNode.gain.setValueAtTime(i,0),this.emit(o.VOLUME,this,i)}},setVolume:function(i){return this.volume=i,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.currentConfig.seek=i,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),i&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,i)}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(i){this.currentConfig.pan=i,this.pannerNode&&this.pannerNode.pan.setValueAtTime(i,this.manager.context.currentTime),this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});c.exports=a},57490:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53134),x=t(85034),o=t(83419),r=t(14463),a=t(8443),i=t(71741),n=t(95540),l=new o({Extends:x,initialize:function(u){this.context=this.createAudioContext(u),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",x.call(this,u),this.locked&&(u.isBooted?this.unlock():u.events.once(a.BOOT,this.unlock,this)),u.events.on(a.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var s=this.context;window.setTimeout(function(){s&&(s.suspend(),s.resume())},100)},createAudioContext:function(s){var u=s.config.audio;if(u.context)return u.context.resume(),u.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,u){var f=new i(this,s,u);return this.sounds.push(f),f},decodeAudio:function(s,u){var f;Array.isArray(s)?f=s:f=[{key:s,data:u}];for(var d=this.game.cache.audio,v=f.length,m=0;m<f.length;m++){var y=f[m],T=y.key,S=y.data;typeof S=="string"&&(S=h(S));var A=(function(w,M){d.add(w,M),this.emit(r.DECODED,w),v--,v===0&&this.emit(r.DECODED_ALL)}).bind(this,T),P=(function(w,M){console.error("Error decoding audio: "+w+" - ",M?M.message:""),v--,v===0&&this.emit(r.DECODED_ALL)}).bind(this,T);this.context.decodeAudioData(S,A,P)}},setListenerPosition:function(s,u){return s===void 0&&(s=this.game.scale.width/2),u===void 0&&(u=this.game.scale.height/2),this.listenerPosition.set(s,u),this},unlock:function(){var s=this,u=document.body,f=function d(){if(s.context&&u){var v=u.removeEventListener.bind(u);s.context.resume().then(function(){v("touchstart",d),v("touchend",d),v("mousedown",d),v("mouseup",d),v("keydown",d),s.unlocked=!0},function(){v("touchstart",d),v("touchend",d),v("mousedown",d),v("mouseup",d),v("keydown",d)})}};u&&(u.addEventListener("touchstart",f,!1),u.addEventListener("touchend",f,!1),u.addEventListener("mousedown",f,!1),u.addEventListener("mouseup",f,!1),u.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,u){var f=this.context.listener;if(f&&f.positionX!==void 0){var d=n(this.listenerPosition,"x",null),v=n(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=f.positionX.value=d),v&&v!==this._spatialy&&(this._spatialy=f.positionY.value=v)}x.prototype.update.call(this,s,u),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}this.game.events.off(a.VISIBLE,this.onGameVisible,this),x.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(r.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(r.GLOBAL_VOLUME,this,s)}}});c.exports=l},73162:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),x=t(83419),o=t(29747),r=t(19186),a=new x({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(i,n){return n?h.Add(this.list,i):h.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,n,l){return l?h.AddAt(this.list,i,n):h.AddAt(this.list,i,n,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,n){return i?(n===void 0&&(n=function(l,s){return l[i]-s[i]}),r(this.list,n),this):this},getByName:function(i){return h.GetFirst(this.list,"name",i)},getRandom:function(i,n){return h.GetRandom(this.list,i,n)},getFirst:function(i,n,l,s){return h.GetFirst(this.list,i,n,l,s)},getAll:function(i,n,l,s){return h.GetAll(this.list,i,n,l,s)},count:function(i,n){return h.CountAllMatching(this.list,i,n)},swap:function(i,n){h.Swap(this.list,i,n)},moveTo:function(i,n){return h.MoveTo(this.list,i,n)},moveAbove:function(i,n){return h.MoveAbove(this.list,i,n)},moveBelow:function(i,n){return h.MoveBelow(this.list,i,n)},remove:function(i,n){return n?h.Remove(this.list,i):h.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,n){return n?h.RemoveAt(this.list,i):h.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,n,l){return l?h.RemoveBetween(this.list,i,n):h.RemoveBetween(this.list,i,n,this.removeCallback,this)},removeAll:function(i){for(var n=this.list.length;n--;)this.remove(this.list[n],i);return this},bringToTop:function(i){return h.BringToTop(this.list,i)},sendToBack:function(i){return h.SendToBack(this.list,i)},moveUp:function(i){return h.MoveUp(this.list,i),i},moveDown:function(i){return h.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(i,n){return h.Replace(this.list,i,n)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,n,l,s){return h.SetAll(this.list,i,n,l,s),this},each:function(i,n){for(var l=[null],s=2;s<arguments.length;s++)l.push(arguments[s]);for(s=0;s<this.list.length;s++)l[0]=this.list[s],i.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=a},90330:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(o){if(Array.isArray(o))for(var r=0;r<o.length;r++)this.set(o[r][0],o[r][1]);return this},set:function(o,r){return this.has(o)||this.size++,this.entries[o]=r,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],r=this.entries;for(var a in r)o.push(r[a]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],r=this.entries;for(var a in r)o.push(r[a]);return o},dump:function(){var o=this.entries;console.group("Map");for(var r in o)console.log(r,o[r]);console.groupEnd()},each:function(o){var r=this.entries;for(var a in r)if(o(a,r[a])===!1)break;return this},contains:function(o){var r=this.entries;for(var a in r)if(r[a]===o)return!0;return!1},merge:function(o,r){r===void 0&&(r=!1);var a=this.entries,i=o.entries;for(var n in i)a.hasOwnProperty(n)&&r?a[n]=i[n]:this.set(n,i[n]);return this}});c.exports=x},25774:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(82348),r=new h({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(a){return this._active.indexOf(a)>-1},isPending:function(a){return this._toProcess>0&&this._pending.indexOf(a)>-1},isDestroying:function(a){return this._destroy.indexOf(a)>-1},add:function(a){return this.checkQueue&&this.isActive(a)&&!this.isDestroying(a)||this.isPending(a)||(this._pending.push(a),this._toProcess++),a},remove:function(a){if(this.isPending(a)){var i=this._pending,n=i.indexOf(a);n!==-1&&i.splice(n,1)}else this.isActive(a)&&(this._destroy.push(a),this._toProcess++);return a},removeAll:function(){for(var a=this._active,i=this._destroy,n=a.length;n--;)i.push(a[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var a=this._destroy,i=this._active,n,l;for(n=0;n<a.length;n++){l=a[n];var s=i.indexOf(l);s!==-1&&(i.splice(s,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(a.length=0,a=this._pending,n=0;n<a.length;n++)l=a[n],(!this.checkQueue||this.checkQueue&&i.indexOf(l)===-1)&&(i.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return a.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=r},59542:(c,E,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43886);function x(S){if(!(this instanceof x))return new x(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(S){var A=this.data,P=[],w=this.toBBox;if(!m(S,A))return P;for(var M=[],D,F,L,O;A;){for(D=0,F=A.children.length;D<F;D++)L=A.children[D],O=A.leaf?w(L):L,m(S,O)&&(A.leaf?P.push(L):v(S,O)?this._all(L,P):M.push(L));A=M.pop()}return P},collides:function(S){var A=this.data,P=this.toBBox;if(!m(S,A))return!1;for(var w=[],M,D,F,L;A;){for(M=0,D=A.children.length;M<D;M++)if(F=A.children[M],L=A.leaf?P(F):F,m(S,L)){if(A.leaf||v(S,L))return!0;w.push(F)}A=w.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var A=0,P=S.length;A<P;A++)this.insert(S[A]);return this}var w=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var M=this.data;this.data=w,w=M}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(S,A){if(!S)return this;for(var P=this.data,w=this.toBBox(S),M=[],D=[],F,L,O,B;P||M.length;){if(P||(P=M.pop(),L=M[M.length-1],F=D.pop(),B=!0),P.leaf&&(O=o(S,P.children,A),O!==-1))return P.children.splice(O,1),M.push(P),this._condense(M),this;!B&&!P.leaf&&v(P,w)?(M.push(P),D.push(F),F=0,L=P,P=P.children[0]):L?(F++,P=L.children[F],B=!1):P=null}return this},toBBox:function(S){return S},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,A){for(var P=[];S;)S.leaf?A.push.apply(A,S.children):P.push.apply(P,S.children),S=P.pop();return A},_build:function(S,A,P,w){var M=P-A+1,D=this._maxEntries,F;if(M<=D)return F=y(S.slice(A,P+1)),r(F,this.toBBox),F;w||(w=Math.ceil(Math.log(M)/Math.log(D)),D=Math.ceil(M/Math.pow(D,w-1))),F=y([]),F.leaf=!1,F.height=w;var L=Math.ceil(M/D),O=L*Math.ceil(Math.sqrt(D)),B,U,W,H;for(T(S,A,P,O,this.compareMinX),B=A;B<=P;B+=O)for(W=Math.min(B+O-1,P),T(S,B,W,L,this.compareMinY),U=B;U<=W;U+=L)H=Math.min(U+L-1,W),F.children.push(this._build(S,U,H,w-1));return r(F,this.toBBox),F},_chooseSubtree:function(S,A,P,w){for(var M,D,F,L,O,B,U,W;w.push(A),!(A.leaf||w.length-1===P);){for(U=W=1/0,M=0,D=A.children.length;M<D;M++)F=A.children[M],O=s(F),B=f(S,F)-O,B<W?(W=B,U=O<U?O:U,L=F):B===W&&O<U&&(U=O,L=F);A=L||A.children[0]}return A},_insert:function(S,A,P){var w=this.toBBox,M=P?S:w(S),D=[],F=this._chooseSubtree(M,this.data,A,D);for(F.children.push(S),i(F,M);A>=0&&D[A].children.length>this._maxEntries;)this._split(D,A),A--;this._adjustParentBBoxes(M,D,A)},_split:function(S,A){var P=S[A],w=P.children.length,M=this._minEntries;this._chooseSplitAxis(P,M,w);var D=this._chooseSplitIndex(P,M,w),F=y(P.children.splice(D,P.children.length-D));F.height=P.height,F.leaf=P.leaf,r(P,this.toBBox),r(F,this.toBBox),A?S[A-1].children.push(F):this._splitRoot(P,F)},_splitRoot:function(S,A){this.data=y([S,A]),this.data.height=S.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(S,A,P){var w,M,D,F,L,O,B,U;for(O=B=1/0,w=A;w<=P-A;w++)M=a(S,0,w,this.toBBox),D=a(S,w,P,this.toBBox),F=d(M,D),L=s(M)+s(D),F<O?(O=F,U=w,B=L<B?L:B):F===O&&L<B&&(B=L,U=w);return U},_chooseSplitAxis:function(S,A,P){var w=S.leaf?this.compareMinX:n,M=S.leaf?this.compareMinY:l,D=this._allDistMargin(S,A,P,w),F=this._allDistMargin(S,A,P,M);D<F&&S.children.sort(w)},_allDistMargin:function(S,A,P,w){S.children.sort(w);var M=this.toBBox,D=a(S,0,A,M),F=a(S,P-A,P,M),L=u(D)+u(F),O,B;for(O=A;O<P-A;O++)B=S.children[O],i(D,S.leaf?M(B):B),L+=u(D);for(O=P-A-1;O>=A;O--)B=S.children[O],i(F,S.leaf?M(B):B),L+=u(F);return L},_adjustParentBBoxes:function(S,A,P){for(var w=P;w>=0;w--)i(A[w],S)},_condense:function(S){for(var A=S.length-1,P;A>=0;A--)S[A].children.length===0?A>0?(P=S[A-1].children,P.splice(P.indexOf(S[A]),1)):this.clear():r(S[A],this.toBBox)},compareMinX:function(S,A){return S.left-A.left},compareMinY:function(S,A){return S.top-A.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function o(S,A,P){if(!P)return A.indexOf(S);for(var w=0;w<A.length;w++)if(P(S,A[w]))return w;return-1}function r(S,A){a(S,0,S.children.length,A,S)}function a(S,A,P,w,M){M||(M=y(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var D=A,F;D<P;D++)F=S.children[D],i(M,S.leaf?w(F):F);return M}function i(S,A){return S.minX=Math.min(S.minX,A.minX),S.minY=Math.min(S.minY,A.minY),S.maxX=Math.max(S.maxX,A.maxX),S.maxY=Math.max(S.maxY,A.maxY),S}function n(S,A){return S.minX-A.minX}function l(S,A){return S.minY-A.minY}function s(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function u(S){return S.maxX-S.minX+(S.maxY-S.minY)}function f(S,A){return(Math.max(A.maxX,S.maxX)-Math.min(A.minX,S.minX))*(Math.max(A.maxY,S.maxY)-Math.min(A.minY,S.minY))}function d(S,A){var P=Math.max(S.minX,A.minX),w=Math.max(S.minY,A.minY),M=Math.min(S.maxX,A.maxX),D=Math.min(S.maxY,A.maxY);return Math.max(0,M-P)*Math.max(0,D-w)}function v(S,A){return S.minX<=A.minX&&S.minY<=A.minY&&A.maxX<=S.maxX&&A.maxY<=S.maxY}function m(S,A){return A.minX<=S.maxX&&A.minY<=S.maxY&&A.maxX>=S.minX&&A.maxY>=S.minY}function y(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(S,A,P,w,M){for(var D=[A,P],F;D.length;)P=D.pop(),A=D.pop(),!(P-A<=w)&&(F=A+Math.ceil((P-A)/w/2)*w,h(S,F,A,P,M),D.push(A,F,F,P))}c.exports=x},35072:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var a=0;a<r.length;a++)this.set(r[a])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,r){for(var a=0;a<this.entries.length;a++){var i=this.entries[a];if(i[o]===r)return i}},getArray:function(){return this.entries.slice(0)},delete:function(o){var r=this.entries.indexOf(o);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var r=this.entries[o];console.log(r)}console.groupEnd()},each:function(o,r){var a,i=this.entries.slice(),n=i.length;if(r)for(a=0;a<n&&o.call(r,i[a],a)!==!1;a++);else for(a=0;a<n&&o(i[a],a)!==!1;a++);return this},iterate:function(o,r){var a,i=this.entries.length;if(r)for(a=0;a<i&&o.call(r,this.entries[a],a)!==!1;a++);else for(a=0;a<i&&o(this.entries[a],a)!==!1;a++);return this},iterateLocal:function(o){var r,a=[];for(r=1;r<arguments.length;r++)a.push(arguments[r]);var i=this.entries.length;for(r=0;r<i;r++){var n=this.entries[r];n[o].apply(n,a)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var r=new x;return o.entries.forEach(function(a){r.set(a)}),this.entries.forEach(function(a){r.set(a)}),r},intersect:function(o){var r=new x;return this.entries.forEach(function(a){o.contains(a)&&r.set(a)}),r},difference:function(o){var r=new x;return this.entries.forEach(function(a){o.contains(a)||r.set(a)}),r},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});c.exports=x},86555:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(56583),r=t(26099),a=new x({initialize:function(n,l,s,u){n===void 0&&(n=0),l===void 0&&(l=n),s===void 0&&(s=0),u===void 0&&(u=null),this._width=n,this._height=l,this._parent=u,this.aspectMode=s,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.snapTo.set(i,n),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.minWidth=h(i,0,this.maxWidth),this.minHeight=h(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,n){return i===void 0&&(i=Number.MAX_VALUE),n===void 0&&(n=i),this.maxWidth=h(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,n){switch(i===void 0&&(i=0),n===void 0&&(n=i),this.aspectMode){case a.NONE:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(i,n,!0);break;case a.ENVELOP:this.constrain(i,n,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,n){return this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,n){return n===void 0&&(n=!0),i=h(i,this.minWidth,this.maxWidth),n&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,n){return n===void 0&&(n=!0),i=h(i,this.minHeight,this.maxHeight),n&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,n,l){i===void 0&&(i=0),n===void 0&&(n=i),l===void 0&&(l=!0),i=this.getNewWidth(i),n=this.getNewHeight(n);var s=this.snapTo,u=n===0?1:i/n;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(i=o(i,s.x),n=i/this.aspectRatio,s.y>0&&(n=o(n,s.y),i=n*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(n=o(n,s.y),i=n*this.aspectRatio,s.x>0&&(i=o(i,s.x),n=i*(1/this.aspectRatio))),this._width=i,this._height=n,this},fitTo:function(i,n){return this.constrain(i,n,!0)},envelop:function(i,n){return this.constrain(i,n,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,c.exports=a},15238:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},56187:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},82348:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(45319),o=t(40987),r=t(8054),a=t(50030),i=t(79237),n=new h({Extends:i,initialize:function(s,u,f,d,v){i.call(this,s,u,f,d,v),this.add("__BASE",0,0,0,d,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=v,this.imageData=this.context.getImageData(0,0,d,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(l,s,u,f){return f===void 0&&(f=!0),this.context.drawImage(u,l,s),f&&this.update(),this},drawFrame:function(l,s,u,f,d){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=!0);var v=this.manager.getFrame(l,s);if(v){var m=v.canvasData,y=v.cutWidth,T=v.cutHeight,S=v.source.resolution;this.context.drawImage(v.source.image,m.x,m.y,y,T,u,f,y/S,T/S),d&&this.update()}return this},setPixel:function(l,s,u,f,d,v){v===void 0&&(v=255),l=Math.abs(Math.floor(l)),s=Math.abs(Math.floor(s));var m=this.getIndex(l,s);if(m>-1){var y=this.context.getImageData(l,s,1,1);y.data[0]=u,y.data[1]=f,y.data[2]=d,y.data[3]=v,this.context.putImageData(y,l,s)}return this},putData:function(l,s,u,f,d,v,m){return f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=l.width),m===void 0&&(m=l.height),this.context.putImageData(l,s,u,f,d,v,m),this},getData:function(l,s,u,f){l=x(Math.floor(l),0,this.width-1),s=x(Math.floor(s),0,this.height-1),u=x(u,1,this.width-l),f=x(f,1,this.height-s);var d=this.context.getImageData(l,s,u,f);return d},getPixel:function(l,s,u){u||(u=new o);var f=this.getIndex(l,s);if(f>-1){var d=this.data,v=d[f+0],m=d[f+1],y=d[f+2],T=d[f+3];u.setTo(v,m,y,T)}return u},getPixels:function(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),f===void 0&&(f=u),l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s));for(var d=x(l,0,this.width),v=x(l+u,0,this.width),m=x(s,0,this.height),y=x(s+f,0,this.height),T=new o,S=[],A=m;A<y;A++){for(var P=[],w=d;w<v;w++)T=this.getPixel(w,A,T),P.push({x:w,y:A,color:T.color,alpha:T.alphaGL});S.push(P)}return S},getIndex:function(l,s){return l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s)),l<this.width&&s<this.height?(l+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,s,u,f,d){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),f===void 0&&(f=this.height),d===void 0&&(d=!0),this.context.clearRect(l,s,u,f),d&&this.update(),this},setSize:function(l,s){return s===void 0&&(s=l),(l!==this.width||s!==this.height)&&(this.canvas.width=l,this.canvas.height=s,this._source.width=l,this._source.height=s,this._source.isPowerOf2=a(l,s),this.frames.__BASE.setSize(l,s,0,0),this.width=l,this.height=s,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=n},81320:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(38058),o=t(27919),r=t(83419),a=t(8054),i=t(4327),n=t(95540),l=t(36060),s=t(32302),u=t(79237),f=t(70554),d=new r({Extends:u,initialize:function(m,y,T,S,A){T===void 0&&(T=256),S===void 0&&(S=256),A===void 0&&(A=!0),this.type="DynamicTexture";var P=m.game.renderer,w=P&&P.type===a.CANVAS,M=w?o.create2D(this,T,S):[this];u.call(this,m,y,M,T,S),this.add("__BASE",0,0,0,T,S),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=w?M:null,this.context=w?M.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,T,S).setScene(m.game.scene.systemScene,!1),this.renderTarget=w?null:new s(P,T,S,1,0,!1,!1,!0,!1),this.pipeline=w?null:P.pipelines.get(l.SINGLE_PIPELINE),this.setSize(T,S,A)},setSize:function(v,m,y){m===void 0&&(m=v),y===void 0&&(y=!0),y&&(v=Math.floor(v),m=Math.floor(m),v%2!==0&&v++,m%2!==0&&m++);var T=this.get(),S=T.source;if(v!==this.width||m!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=m);var A=this.renderTarget;A&&(A.willResize(v,m)&&A.resize(v,m),A.texture!==S.glTexture&&this.renderer.deleteTexture(S.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,m),S.width=v,S.height=m,T.setSize(v,m),this.width=v,this.height=m}else{var P=this.getSourceImage();T.cutX+v>P.width&&(v=P.width-T.cutX),T.cutY+m>P.height&&(m=P.height-T.cutY),T.setSize(v,m,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),m=v.source,y=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=y.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,m,y,T,S,A){var P=this.camera,w=this.renderer;m===void 0&&(m=1),y===void 0&&(y=0),T===void 0&&(T=0),S===void 0&&(S=this.width),A===void 0&&(A=this.height);var M=v>>16&255,D=v>>8&255,F=v&255,L=this.renderTarget;if(P.preRender(),L){L.bind(!0);var O=this.pipeline.manager.set(this.pipeline),B=w.width/L.width,U=w.height/L.height,W=L.height-(T+A);O.drawFillRect(y*B,W*U,S*B,A*U,f.getTintFromFloats(F/255,D/255,M/255,1),m),L.unbind(!0)}else{var H=this.context;w.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+M+","+D+","+F+","+m+")",H.fillRect(y,T,S,A),w.setContext()}return this.dirty=!0,this},clear:function(v,m,y,T){if(this.dirty){var S=this.context,A=this.renderTarget;A?A.clear(v,m,y,T):S&&(v!==void 0&&m!==void 0&&y!==void 0&&T!==void 0?S.clearRect(v,m,y,T):(S.save(),S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,this.width,this.height),S.restore())),this.dirty=!1}return this},stamp:function(v,m,y,T,S){y===void 0&&(y=0),T===void 0&&(T=0);var A=n(S,"alpha",1),P=n(S,"tint",16777215),w=n(S,"angle",0),M=n(S,"rotation",0),D=n(S,"scale",1),F=n(S,"scaleX",D),L=n(S,"scaleY",D),O=n(S,"originX",.5),B=n(S,"originY",.5),U=n(S,"blendMode",0),W=n(S,"erase",!1),H=n(S,"skipBatch",!1),Y=this.manager.resetStamp(A,P);return Y.setAngle(0),w!==0?Y.setAngle(w):M!==0&&Y.setRotation(M),Y.setScale(F,L),Y.setTexture(v,m),Y.setOrigin(O,B),Y.setBlendMode(U),W&&(this._eraseMode=!0),H?this.batchGameObject(Y,y,T):this.draw(Y,y,T),W&&(this._eraseMode=!1),this},erase:function(v,m,y){return this._eraseMode=!0,this.draw(v,m,y),this._eraseMode=!1,this},draw:function(v,m,y,T,S){return this.beginDraw(),this.batchDraw(v,m,y,T,S),this.endDraw(),this},drawFrame:function(v,m,y,T,S,A){return this.beginDraw(),this.batchDrawFrame(v,m,y,T,S,A),this.endDraw(),this},repeat:function(v,m,y,T,S,A,P,w,M){if(y===void 0&&(y=0),T===void 0&&(T=0),S===void 0&&(S=this.width),A===void 0&&(A=this.height),P===void 0&&(P=1),w===void 0&&(w=16777215),M===void 0&&(M=!1),v instanceof i?m=v:m=this.manager.getFrame(v,m),!m)return this;var D=this.manager.resetStamp(P,w);D.setFrame(m),D.setOrigin(0);var F=m.width,L=m.height;S=Math.floor(S),A=Math.floor(A);var O=Math.ceil(S/F),B=Math.ceil(A/L),U=O*F-S,W=B*L-A;U>0&&(U=F-U),W>0&&(W=L-W),y<0&&(O+=Math.ceil(Math.abs(y)/F)),T<0&&(B+=Math.ceil(Math.abs(T)/L));var H=y,Y=T,G=!1,X=this.manager.stampCrop.setTo(0,0,F,L);M||this.beginDraw();for(var V=0;V<B;V++){if(Y+L<0){Y+=L;continue}for(var b=0;b<O;b++){if(G=!1,H+F<0){H+=F;continue}else H<0&&(G=!0,X.width=F+H,X.x=F-X.width);Y<0&&(G=!0,X.height=L+Y,X.y=L-X.height),U>0&&b===O-1&&(G=!0,X.width=U),W>0&&V===B-1&&(G=!0,X.height=W),G&&D.setCrop(X),this.batchGameObject(D,H,Y),D.isCropped=!1,X.setTo(0,0,F,L),H+=F}H=y,Y+=L}return M||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,m=this.renderer,y=this.renderTarget;v.preRender(),y?m.beginCapture(y.width,y.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,m,y,T,S){return Array.isArray(v)||(v=[v]),this.batchList(v,m,y,T,S),this},batchDrawFrame:function(v,m,y,T,S,A){y===void 0&&(y=0),T===void 0&&(T=0),S===void 0&&(S=1),A===void 0&&(A=16777215);var P=this.manager.getFrame(v,m);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,y,T,A,S,this.camera.matrix,null):this.batchTextureFrame(P,y,T,S,A)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var m=this.renderer,y=this.renderTarget;if(y){var T=m.endCapture(),S=m.pipelines.setUtility();S.blitFrame(T,y,1,!1,!1,v,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,m,y,T,S){var A=v.length;if(A!==0)for(var P=0;P<A;P++){var w=v[P];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,m,y):w.isParent||w.list?this.batchGroup(w.getChildren(),m,y):typeof w=="string"?this.batchTextureFrameKey(w,null,m,y,T,S):w instanceof i?this.batchTextureFrame(w,m,y,T,S):Array.isArray(w)&&this.batchList(w,m,y,T,S))}},batchGroup:function(v,m,y){m===void 0&&(m=0),y===void 0&&(y=0);for(var T=0;T<v.length;T++){var S=v[T];S.willRender(this.camera)&&this.batchGameObject(S,S.x+m,S.y+y)}},batchGameObject:function(v,m,y){m===void 0&&(m=v.x),y===void 0&&(y=v.y);var T=v.x,S=v.y,A=this.camera,P=this.renderer,w=this._eraseMode,M=v.mask;if(v.setPosition(m,y),this.canvas){if(w){var D=v.blendMode;v.blendMode=h.ERASE}M&&M.preRenderCanvas(P,v,A),v.renderCanvas(P,v,A,null),M&&M.postRenderCanvas(P,v,A),w&&(v.blendMode=D)}else P&&(M&&M.preRenderWebGL(P,v,A),w||P.setBlendMode(v.blendMode),v.renderWebGL(P,v,A),M&&M.postRenderWebGL(P,A,this.renderTarget));v.setPosition(T,S)},batchTextureFrameKey:function(v,m,y,T,S,A){var P=this.manager.getFrame(v,m);P&&this.batchTextureFrame(P,y,T,S,A)},batchTextureFrame:function(v,m,y,T,S){m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=1),S===void 0&&(S=16777215);var A=this.camera.matrix,P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(v,m,y,S,T,A,null);else{var w=this.context,M=v.canvasData,D=v.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=T,A.setToContext(w),M.width>0&&M.height>0&&w.drawImage(D,M.x,M.y,M.width,M.height,m,y,M.width,M.height),w.restore()}},snapshotArea:function(v,m,y,T,S,A,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,v,m,y,T,A,P):this.renderer.snapshotCanvas(this.canvas,S,!1,v,m,y,T,A,P),this},snapshot:function(v,m,y){return this.snapshotArea(0,0,this.width,this.height,v,m,y)},snapshotPixel:function(v,m,y){return this.snapshotArea(v,m,1,1,y,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,m,y,T){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(v,S,y,T)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),u.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=d},4327:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(45319),o=t(79291),r=new h({initialize:function(i,n,l,s,u,f,d){this.texture=i,this.name=n,this.source=i.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,d,s,u)},setCutPosition:function(a,i){return a===void 0&&(a=0),i===void 0&&(i=0),this.cutX=a,this.cutY=i,this.updateUVs()},setCutSize:function(a,i){return this.cutWidth=a,this.cutHeight=i,this.updateUVs()},setSize:function(a,i,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.setCutPosition(n,l),this.setCutSize(a,i),this.width=a,this.height=i,this.halfWidth=Math.floor(a*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(a/2),this.centerY=Math.floor(i/2);var s=this.data,u=s.cut;u.x=n,u.y=l,u.w=a,u.h=i,u.r=n+a,u.b=l+i,s.sourceSize.w=a,s.sourceSize.h=i,s.spriteSourceSize.w=a,s.spriteSourceSize.h=i,s.radius=.5*Math.sqrt(a*a+i*i);var f=s.drawImage;return f.x=n,f.y=l,f.width=a,f.height=i,this.updateUVs()},setTrim:function(a,i,n,l,s,u){var f=this.data,d=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=a,f.sourceSize.h=i,d.x=n,d.y=l,d.w=s,d.h=u,d.r=n+s,d.b=l+u,this.x=n,this.y=l,this.width=s,this.height=u,this.halfWidth=s*.5,this.halfHeight=u*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(u/2),this.updateUVs()},setScale9:function(a,i,n,l){var s=this.data;return s.scale9=!0,s.is3Slice=i===0&&l===this.height,s.scale9Borders.x=a,s.scale9Borders.y=i,s.scale9Borders.w=n,s.scale9Borders.h=l,this},setCropUVs:function(a,i,n,l,s,u,f){var d=this.cutX,v=this.cutY,m=this.cutWidth,y=this.cutHeight,T=this.realWidth,S=this.realHeight;i=x(i,0,T),n=x(n,0,S),l=x(l,0,T-i),s=x(s,0,S-n);var A=d+i,P=v+n,w=l,M=s,D=this.data;if(D.trim){var F=D.spriteSourceSize;l=x(l,0,F.x+m-i),s=x(s,0,F.y+y-n);var L=i+l,O=n+s,B=!(F.r<i||F.b<n||F.x>L||F.y>O);if(B){var U=Math.max(F.x,i),W=Math.max(F.y,n),H=Math.min(F.r,L)-U,Y=Math.min(F.b,O)-W;w=H,M=Y,u?A=d+(m-(U-F.x)-H):A=d+(U-F.x),f?P=v+(y-(W-F.y)-Y):P=v+(W-F.y),i=U,n=W,l=H,s=Y}else A=0,P=0,w=0,M=0}else u&&(A=d+(m-i-l)),f&&(P=v+(y-n-s));var G=this.source.width,X=this.source.height;return a.u0=Math.max(0,A/G),a.v0=Math.max(0,P/X),a.u1=Math.min(1,(A+w)/G),a.v1=Math.min(1,(P+M)/X),a.x=i,a.y=n,a.cx=A,a.cy=P,a.cw=w,a.ch=M,a.width=l,a.height=s,a.flipX=u,a.flipY=f,a},updateCropUVs:function(a,i,n){return this.setCropUVs(a,a.x,a.y,a.width,a.height,i,n)},setUVs:function(a,i,n,l,s,u){var f=this.data.drawImage;return f.width=a,f.height=i,this.u0=n,this.v0=l,this.u1=s,this.v1=u,this},updateUVs:function(){var a=this.cutX,i=this.cutY,n=this.cutWidth,l=this.cutHeight,s=this.data.drawImage;s.width=n,s.height=l;var u=this.source.width,f=this.source.height;return this.u0=a/u,this.v0=i/f,this.u1=(a+n)/u,this.v1=(i+l)/f,this},updateUVsInverted:function(){var a=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/a,this.v0=this.cutY/i,this.u1=this.cutX/a,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var a=new r(this.texture,this.name,this.sourceIndex);return a.cutX=this.cutX,a.cutY=this.cutY,a.cutWidth=this.cutWidth,a.cutHeight=this.cutHeight,a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a.halfWidth=this.halfWidth,a.halfHeight=this.halfHeight,a.centerX=this.centerX,a.centerY=this.centerY,a.rotated=this.rotated,a.data=o(!0,a.data,this.data),a.updateUVs(),a},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=r},79237:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(4327),o=t(11876),r='Texture "%s" has no frame "%s"',a=new h({initialize:function(n,l,s,u,f){Array.isArray(s)||(s=[s]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<s.length;d++)this.source.push(new o(this,s[d],u,f))},add:function(i,n,l,s,u,f){if(this.has(i))return null;var d=new x(this,i,n,l,s,u,f);return this.frames[i]=d,this.firstFrame==="__BASE"&&(this.firstFrame=i),this.frameTotal++,d},remove:function(i){if(this.has(i)){var n=this.get(i);return n.destroy(),delete this.frames[i],!0}return!1},has:function(i){return this.frames.hasOwnProperty(i)},get:function(i){i||(i=this.firstFrame);var n=this.frames[i];return n||(console.warn(r,this.key,i),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(i){for(var n=0;n<this.source.length;n++)if(this.source[n]===i)return n;return-1},getFramesFromTextureSource:function(i,n){n===void 0&&(n=!1);var l=[];for(var s in this.frames)if(!(s==="__BASE"&&!n)){var u=this.frames[s];u.sourceIndex===i&&l.push(u)}return l},getFrameBounds:function(i){i===void 0&&(i=0);for(var n=this.getFramesFromTextureSource(i,!0),l=n[0],s=l.cutX,u=l.cutY,f=l.cutX+l.cutWidth,d=l.cutY+l.cutHeight,v=1;v<n.length;v++){var m=n[v];m.cutX<s&&(s=m.cutX),m.cutY<u&&(u=m.cutY),m.cutX+m.cutWidth>f&&(f=m.cutX+m.cutWidth),m.cutY+m.cutHeight>d&&(d=m.cutY+m.cutHeight)}return{x:s,y:u,width:f-s,height:d-u}},getFrameNames:function(i){i===void 0&&(i=!1);var n=Object.keys(this.frames);if(!i){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i];return n?n.source.image:(console.warn(r,this.key,i),this.frames.__BASE.source.image)},getDataSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i],l;return n?l=n.sourceIndex:(console.warn(r,this.key,i),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var l=this.source[n];this.dataSource.push(new o(this,i[n],l.width,l.height))}},setFilter:function(i){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(i);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(i)},destroy:function(){var i,n=this.source,l=this.dataSource;for(i=0;i<n.length;i++)n[i]&&n[i].destroy();for(i=0;i<l.length;i++)l[i]&&l[i].destroy();for(var s in this.frames){var u=this.frames[s];u&&u.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=a},17130:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(57382),o=t(83419),r=t(40987),a=t(8054),i=t(81320),n=t(50792),l=t(69442),s=t(4327),u=t(8443),f=t(99584),d=t(35154),v=t(88571),m=t(41212),y=t(61309),T=t(87841),S=t(79237),A=new o({Extends:n,initialize:function(w){n.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new T,this.silentWarnings=!1,w.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var P=this.game.config;P.defaultImage!==null&&this.addBase64("__DEFAULT",P.defaultImage),P.missingImage!==null&&this.addBase64("__MISSING",P.missingImage),P.whiteImage!==null&&this.addBase64("__WHITE",P.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(u.DESTROY,this.destroy,this),this.game.events.once(u.SYSTEM_READY,function(w){this.stamp=new v(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(P){return!P||typeof P!="string"||this.exists(P)?(this.silentWarnings||console.error("Texture key already in use: "+P),!1):!0},remove:function(P){if(typeof P=="string")if(this.exists(P))P=this.get(P);else return this.silentWarnings||console.warn("No texture found matching key: "+P),this;var w=P.key;return this.list.hasOwnProperty(w)&&(P.destroy(),this.emit(l.REMOVE,w),this.emit(l.REMOVE_KEY+w)),this},removeKey:function(P){return this.list.hasOwnProperty(P)&&delete this.list[P],this},addBase64:function(P,w){if(this.checkKey(P)){var M=this,D=new Image;D.onerror=function(){M.emit(l.ERROR,P)},D.onload=function(){var F=M.create(P,D);F&&(y.Image(F,0),M.emit(l.ADD,P,F),M.emit(l.ADD_KEY+P,F),M.emit(l.LOAD,P,F))},D.src=w}return this},getBase64:function(P,w,M,D){M===void 0&&(M="image/png"),D===void 0&&(D=.92);var F="",L=this.getFrame(P,w);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var O=L.canvasData,B=h.create2D(this,O.width,O.height),U=B.getContext("2d",{willReadFrequently:!0});O.width>0&&O.height>0&&U.drawImage(L.source.image,O.x,O.y,O.width,O.height,0,0,O.width,O.height),F=B.toDataURL(M,D),h.remove(B)}return F},addImage:function(P,w,M){var D=null;return this.checkKey(P)&&(D=this.create(P,w),y.Image(D,0),M&&D.setDataSource(M),this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)),D},addGLTexture:function(P,w){var M=null;if(this.checkKey(P)){var D=w.width,F=w.height;M=this.create(P,w,D,F),M.add("__BASE",0,0,0,D,F),this.emit(l.ADD,P,M),this.emit(l.ADD_KEY+P,M)}return M},addCompressedTexture:function(P,w,M){var D=null;if(this.checkKey(P)){if(D=this.create(P,w),D.add("__BASE",0,0,0,w.width,w.height),M){var F=function(O,B,U){Array.isArray(U.textures)||Array.isArray(U.frames)?y.JSONArray(O,B,U):y.JSONHash(O,B,U)};if(Array.isArray(M))for(var L=0;L<M.length;L++)F(D,L,M[L]);else F(D,0,M)}this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)}return D},addRenderTexture:function(P,w){var M=null;return this.checkKey(P)&&(M=this.create(P,w),M.add("__BASE",0,0,0,w.width,w.height),this.emit(l.ADD,P,M),this.emit(l.ADD_KEY+P,M)),M},generate:function(P,w){if(this.checkKey(P)){var M=h.create(this,1,1);return w.canvas=M,f(w),this.addCanvas(P,M)}else return null},createCanvas:function(P,w,M){if(w===void 0&&(w=256),M===void 0&&(M=256),this.checkKey(P)){var D=h.create(this,w,M,a.CANVAS,!0);return this.addCanvas(P,D)}return null},addCanvas:function(P,w,M){M===void 0&&(M=!1);var D=null;return M?D=new x(this,P,w,w.width,w.height):this.checkKey(P)&&(D=new x(this,P,w,w.width,w.height),this.list[P]=D,this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)),D},addDynamicTexture:function(P,w,M){var D=null;return typeof P=="string"&&!this.exists(P)?D=new i(this,P,w,M):(D=P,P=D.key),this.checkKey(P)?(this.list[P]=D,this.emit(l.ADD,P,D),this.emit(l.ADD_KEY+P,D)):D=null,D},addAtlas:function(P,w,M,D){return Array.isArray(M.textures)||Array.isArray(M.frames)?this.addAtlasJSONArray(P,w,M,D):this.addAtlasJSONHash(P,w,M,D)},addAtlasJSONArray:function(P,w,M,D){var F=null;if(w instanceof S?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){if(Array.isArray(M))for(var L=M.length===1,O=0;O<F.source.length;O++){var B=L?M[0]:M[O];y.JSONArray(F,O,B)}else y.JSONArray(F,0,M);D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addAtlasJSONHash:function(P,w,M,D){var F=null;if(w instanceof S?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){if(Array.isArray(M))for(var L=0;L<M.length;L++)y.JSONHash(F,L,M[L]);else y.JSONHash(F,0,M);D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addAtlasXML:function(P,w,M,D){var F=null;return w instanceof S?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F&&(y.AtlasXML(F,0,M),D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},addUnityAtlas:function(P,w,M,D){var F=null;return w instanceof S?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F&&(y.UnityYAML(F,0,M),D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},addSpriteSheet:function(P,w,M,D){var F=null;if(w instanceof S?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){var L=F.source[0].width,O=F.source[0].height;y.SpriteSheet(F,0,0,0,L,O,M),D&&F.setDataSource(D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addSpriteSheetFromAtlas:function(P,w){if(!this.checkKey(P))return null;var M=d(w,"atlas",null),D=d(w,"frame",null);if(!(!M||!D)){var F=this.get(M),L=F.get(D);if(L){var O=L.source.image;O||(O=L.source.glTexture);var B=this.create(P,O);return L.trimmed?y.SpriteSheetFromAtlas(B,L,w):y.SpriteSheet(B,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,w),this.emit(l.ADD,P,B),this.emit(l.ADD_KEY+P,B),B}}},addUint8Array:function(P,w,M,D){if(!this.checkKey(P)||w.length/4!==M*D)return null;var F=this.create(P,w,M,D);return F.add("__BASE",0,0,0,M,D),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F),F},create:function(P,w,M,D){var F=null;return this.checkKey(P)&&(F=new S(this,P,w,M,D),this.list[P]=F),F},exists:function(P){return this.list.hasOwnProperty(P)},get:function(P){return P===void 0&&(P="__DEFAULT"),this.list[P]?this.list[P]:P instanceof S?P:P instanceof s?P.texture:this.list.__MISSING},cloneFrame:function(P,w){if(this.list[P])return this.list[P].get(w).clone()},getFrame:function(P,w){if(this.list[P])return this.list[P].get(w)},parseFrame:function(P){if(P){if(typeof P=="string")return this.getFrame(P);if(Array.isArray(P)&&P.length===2)return this.getFrame(P[0],P[1]);if(m(P))return this.getFrame(P.key,P.frame);if(P instanceof S)return P.get();if(P instanceof s)return P}else return},getTextureKeys:function(){var P=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&P.push(w);return P},getPixel:function(P,w,M,D){var F=this.getFrame(M,D);if(F){P-=F.x,w-=F.y;var L=F.data.cut;if(P+=L.x,w+=L.y,P>=L.x&&P<L.r&&w>=L.y&&w<L.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(F.source.image,P,w,1,1,0,0,1,1);var B=O.getImageData(0,0,1,1);return new r(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(P,w,M,D){var F=this.getFrame(M,D);if(F){P-=F.x,w-=F.y;var L=F.data.cut;if(P+=L.x,w+=L.y,P>=L.x&&P<L.r&&w>=L.y&&w<L.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(F.source.image,P,w,1,1,0,0,1,1);var B=O.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(P,w,M){return this.list[w]&&(P.texture=this.list[w],P.frame=P.texture.get(M)),P},renameTexture:function(P,w){var M=this.get(P);return M&&P!==w?(M.key=w,this.list[w]=M,delete this.list[P],!0):!1},each:function(P,w){for(var M=[null],D=1;D<arguments.length;D++)M.push(arguments[D]);for(var F in this.list)M[0]=this.list[F],P.apply(w,M)},resetStamp:function(P,w){P===void 0&&(P=1),w===void 0&&(w=16777215);var M=this.stamp;return M.setCrop(),M.setPosition(0),M.setAngle(0),M.setScale(1),M.setAlpha(P),M.setTint(w),M.setTexture("__WHITE"),M},destroy:function(){for(var P in this.list)this.list[P].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});c.exports=A},11876:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(83419),o=t(50030),r=t(29795),a=t(82751),i=new x({initialize:function(l,s,u,f,d){d===void 0&&(d=!1);var v=l.manager.game;this.renderer=v.renderer,this.texture=l,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=u||s.naturalWidth||s.videoWidth||s.width||0,this.height=f||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof a,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(v)},init:function(n){var l=this.renderer;if(l){var s=this.source;if(l.gl){var u=this.image,f=this.flipY,d=this.width,v=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,d,v,m):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(s,void 0,void 0,m):s instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(s,d,v,m):this.glTexture=l.createTextureFromSource(u,d,v,m)}else this.isRenderTexture&&(this.image=s.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,s=this.flipY,u=n.gl;u&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,s):u&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=i},19673:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={LINEAR:0,NEAREST:1};c.exports=E},44538:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},63486:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture-"},94851:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},29099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},8678:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},86415:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},30879:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture-"},69442:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:x,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=h(!1,o,x),c.exports=o},89905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[h];t.add("__BASE",h,0,0,o.width,o.height);for(var r=x.getElementsByTagName("SubTexture"),a,i=0;i<r.length;i++){var n=r[i].attributes,l=n.name.value,s=parseInt(n.x.value,10),u=parseInt(n.y.value,10),f=parseInt(n.width.value,10),d=parseInt(n.height.value,10);if(a=t.add(l,h,s,u,f,d),n.frameX){var v=Math.abs(parseInt(n.frameX.value,10)),m=Math.abs(parseInt(n.frameY.value,10)),y=parseInt(n.frameWidth.value,10),T=parseInt(n.frameHeight.value,10);a.setTrim(f,d,v,m,y,T)}}return t};c.exports=E},72893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.source[h];return t.add("__BASE",h,0,0,x.width,x.height),t};c.exports=E},4832:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.source[h];return t.add("__BASE",h,0,0,x.width,x.height),t};c.exports=E},78566:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),x=function(o,r,a){if(!a.frames&&!a.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=o.source[r];o.add("__BASE",r,0,0,i.width,i.height);for(var n=Array.isArray(a.textures)?a.textures[r].frames:a.frames,l,s=0;s<n.length;s++){var u=n[s];if(l=o.add(u.filename,r,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+u.filename);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var d in a)d!=="frames"&&(Array.isArray(a[d])?o.customData[d]=a[d].slice(0):o.customData[d]=a[d]);return o};c.exports=x},39711:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),x=function(o,r,a){if(!a.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=o.source[r];o.add("__BASE",r,0,0,i.width,i.height);var n=a.frames,l;for(var s in n)if(n.hasOwnProperty(s)){var u=n[s];if(l=o.add(s,r,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+s);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var d in a)d!=="frames"&&(Array.isArray(a[d])?o.customData[d]=a[d].slice(0):o.customData[d]=a[d]);return o};c.exports=x},31403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],x,o=new Uint8Array(t,0,12);for(x=0;x<o.length;x++)if(o[x]!==h[x]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,a=new DataView(t,12,13*r),i=a.getUint32(0,!0)===67305985,n=a.getUint32(1*r,i);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=a.getUint32(4*r,i),s=a.getUint32(6*r,i),u=a.getUint32(7*r,i),f=Math.max(1,a.getUint32(11*r,i)),d=a.getUint32(12*r,i),v=new Array(f),m=12+13*4+d,y=s,T=u;for(x=0;x<f;x++){var S=new Int32Array(t,m,1)[0];m+=4,v[x]={data:new Uint8Array(t,m,S),width:y,height:T},y=Math.max(1,y>>1),T=Math.max(1,T>>1),m+=S}return{mipmaps:v,width:s,height:u,internalFormat:l,compressed:!0,generateMipmap:!1}};c.exports=E},82038:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function E(w,M,D,F,L,O,B){return B===void 0&&(B=16),Math.floor((w+D)/L)*Math.floor((M+F)/O)*B}function t(w,M){return w=Math.max(w,16),M=Math.max(M,8),w*M/4}function h(w,M){return w=Math.max(w,8),M=Math.max(M,8),w*M/2}function x(w,M){return Math.ceil(w/4)*Math.ceil(M/4)*16}function o(w,M){return E(w,M,3,3,4,4,8)}function r(w,M){return E(w,M,3,3,4,4)}function a(w,M){return E(w,M,4,3,5,4)}function i(w,M){return E(w,M,4,4,5,5)}function n(w,M){return E(w,M,5,4,6,5)}function l(w,M){return E(w,M,5,5,6,6)}function s(w,M){return E(w,M,7,4,8,5)}function u(w,M){return E(w,M,7,5,8,6)}function f(w,M){return E(w,M,7,7,8,8)}function d(w,M){return E(w,M,9,4,10,5)}function v(w,M){return E(w,M,9,5,10,6)}function m(w,M){return E(w,M,9,7,10,8)}function y(w,M){return E(w,M,9,9,10,10)}function T(w,M){return E(w,M,11,9,12,10)}function S(w,M){return E(w,M,11,11,12,12)}var A={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:r,glFormat:[33777,35917]},9:{sizeFunc:r,glFormat:[33778,35918]},11:{sizeFunc:r,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:r,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:r,glFormat:[37490]},27:{sizeFunc:r,glFormat:[37808,37840]},28:{sizeFunc:a,glFormat:[37809,37841]},29:{sizeFunc:i,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:u,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:y,glFormat:[37819,37851]},39:{sizeFunc:T,glFormat:[37820,37852]},40:{sizeFunc:S,glFormat:[37821,37853]}},P=function(w){for(var M=new Uint32Array(w,0,13),D=M[0],F=D===55727696,L=F?M[2]:M[3],O=M[4],B=A[L].glFormat[O],U=A[L].sizeFunc,W=M[11],H=M[7],Y=M[6],G=52+M[12],X=new Uint8Array(w,G),V=new Array(W),b=0,z=H,$=Y,Q=0;Q<W;Q++){var Z=U(z,$);V[Q]={data:new Uint8Array(X.buffer,X.byteOffset+b,Z),width:z,height:$},z=Math.max(1,z>>1),$=Math.max(1,$>>1),b+=Z}return{mipmaps:V,width:H,height:Y,internalFormat:B,compressed:!0,generateMipmap:!1}};c.exports=P},75549:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o,r,a,i,n,l,s){var u=h(s,"frameWidth",null),f=h(s,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=o.source[r];o.add("__BASE",r,0,0,d.width,d.height);var v=h(s,"startFrame",0),m=h(s,"endFrame",-1),y=h(s,"margin",0),T=h(s,"spacing",0),S=Math.floor((n-y+T)/(u+T)),A=Math.floor((l-y+T)/(f+T)),P=S*A;P===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(v>P||v<-P)&&(v=0),v<0&&(v=P+v),(m===-1||m>P||m<v)&&(m=P);for(var w=y,M=y,D=0,F=0,L=0,O=0;O<P;O++){D=0,F=0;var B=w+u,U=M+f;B>n&&(D=B-n),U>l&&(F=U-l),O>=v&&O<=m&&(o.add(L,r,a+w,i+M,u-D,f-F),L++),w+=u+T,w+u>n&&(w=y,M+=f+T)}return o};c.exports=x},47534:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o,r,a){var i=h(a,"frameWidth",null),n=h(a,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),h(a,"startFrame",0),h(a,"endFrame",-1);for(var s=h(a,"margin",0),u=h(a,"spacing",0),f=r.cutX,d=r.cutY,v=r.cutWidth,m=r.cutHeight,y=r.realWidth,T=r.realHeight,S=Math.floor((y-s+u)/(i+u)),A=Math.floor((T-s+u)/(n+u)),P=r.x,w=i-P,M=i-(y-v-P),D=r.y,F=n-D,L=n-(T-m-D),O,B=s,U=s,W=0,H=0,Y=0;Y<A;Y++){for(var G=Y===0,X=Y===A-1,V=0;V<S;V++){var b=V===0,z=V===S-1;if(O=o.add(W,H,f+B,d+U,i,n),b||G||z||X){var $=b?P:0,Q=G?D:0,Z=0,q=0;b&&(Z+=i-w),z&&(Z+=i-M),G&&(q+=n-F),X&&(q+=n-L);var j=i-Z,k=n-q;O.cutWidth=j,O.cutHeight=k,O.setTrim(i,n,$,Q,j,k)}B+=u,b?B+=w:z?B+=M:B+=i,W++}B=s,U+=u,G?U+=F:X?U+=L:U+=n}return o};c.exports=x},86147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=0,t=function(x,o,r,a){var i=E-a.y-a.height;x.add(r,o,a.x,i,a.width,a.height)},h=function(x,o,r){var a=x.source[o];x.add("__BASE",o,0,0,a.width,a.height),E=a.height;for(var i=r.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",s="",u={x:0,y:0,width:0,height:0},f=0;f<i.length;f++){var d=i[f].match(n);if(d){var v=d[1]==="- ",m=d[2],y=d[3];if(v&&(s!==l&&(t(x,o,s,u),l=s),u={x:0,y:0,width:0,height:0}),m==="name"){s=y;continue}switch(m){case"x":case"y":case"width":case"height":u[m]=parseInt(y,10);break}}}return s!==l&&t(x,o,s,u),x};c.exports=h},55222:(c,E,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50030),x=function(l){for(var s=l.mipmaps,u=1;u<s.length;u++){var f=s[u].width,d=s[u].height;if(!h(f,d))return console.warn("Mip level "+u+" is not a power-of-two size: "+f+"x"+d),!1}var v=n[l.internalFormat];return v?v(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var s=l.mipmaps,u=0;u<s.length;u++){var f=s[u].width,d=s[u].height;if((f<<u)%4!==0||(d<<u)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+u+" is "+f+"x"+d),!1}return!0}function r(){return!0}function a(l){var s=l.mipmaps,u=s[0];return h(u.width,u.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+u.width+"x"+u.height),!1)}function i(l){var s=l.mipmaps,u=s[0];return u.width%4!==0||u.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+u.width+"x"+u.height+" pixels"),!1):!0}var n={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:a,35841:a,35842:a,35843:a,33776:o,33777:o,33778:o,33779:o,35916:i,35917:i,35918:i,35919:i};c.exports=x},61309:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r,a,i,n,l,s,u){(i===void 0||i<=0)&&(i=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),s===void 0&&(s=0),this.name=r,this.firstgid=a|0,this.imageWidth=i|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=s|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,r,a,i){return this.images.push({gid:o,image:r,width:a,height:i}),this.total++,this}});c.exports=x},27462:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(r){if(this.gids=[],r!==void 0)for(var a=0;a<r.length;++a)for(var i=r[a],n=0;n<i.total;++n)this.gids[i.firstgid+n]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var r=this.gids[o.gid];if(r){var a=r.getTileData(o.gid);if(a)return a.type}}},setTextureAndFrame:function(o,r,a,i){if(r===null&&this.gids&&i.gid!==void 0){var n=this.gids[i.gid];n&&(r===null&&n.image!==void 0&&(r=n.image.key),a===null&&(a=i.gid-n.firstgid),o.scene.textures.getFrame(r,a)||(r=null,a=null))}o.setTexture(r,a)},setPropertiesFromTiledObject:function(o,r){if(this.gids!==void 0&&r.gid!==void 0){var a=this.gids[r.gid];a!==void 0&&this.setFromJSON(o,a.getTileProperties(r.gid))}this.setFromJSON(o,r.properties)},setFromJSON:function(o,r){if(r){if(Array.isArray(r)){for(var a=0;a<r.length;a++){var i=r[a];o[i.name]!==void 0?o[i.name]=i.value:o.setData(i.name,i.value)}return}for(var n in r)o[n]!==void 0?o[n]=r[n]:o.setData(n,r[n])}}});c.exports=x},31989:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(87010),o=t(46177),r=t(49075),a=function(i,n,l,s,u,f,d,v){l===void 0&&(l=32),s===void 0&&(s=32),u===void 0&&(u=10),f===void 0&&(f=10),v===void 0&&(v=!1);var m=null;if(Array.isArray(d)){var y=n!==void 0?n:"map";m=o(y,h.ARRAY_2D,d,l,s,v)}else if(n!==void 0){var T=i.cache.tilemap.get(n);T?m=o(n,T.format,T.data,l,s,v):console.warn("No map data found for key "+n)}return m===null&&(m=new x({tileWidth:l,tileHeight:s,width:u,height:f})),new r(i,m)};c.exports=a},23029:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(91907),r=t(62644),a=t(93232),i=new h({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(l,s,u,f,d,v,m,y){this.layer=l,this.index=s,this.x=u,this.y=f,this.width=d,this.height=v,this.right,this.bottom,this.baseWidth=m!==void 0?m:d,this.baseHeight=y!==void 0?y:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=r(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new a),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,s,u){return!(s<=this.pixelX||u<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,s,u,f){if(l===void 0&&(l=n),s===void 0&&(s=n),u===void 0&&(u=n),f===void 0&&(f=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=s,this.collideDown=u,this.faceLeft=n,this.faceRight=l,this.faceTop=s,this.faceBottom=u,f){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,s,u){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),s!==void 0&&(this.baseWidth=s),u!==void 0&&(this.baseHeight=u),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,s=this.layer.staggerIndex,u=this.layer.hexSideLength,f,d;l==="y"?(d=(this.baseHeight-u)/2+u,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):l==="x"&&(f=(this.baseWidth-u)/2+u,this.pixelX=this.x*f,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});c.exports=i},49075:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84101),x=t(83419),o=t(39506),r=t(80341),a=t(95540),i=t(14977),n=t(27462),l=t(91907),s=t(36305),u=t(19133),f=t(68287),d=t(23029),v=t(81086),m=t(20442),y=t(33629),T=new x({initialize:function(A,P){this.scene=A,this.tileWidth=P.tileWidth,this.tileHeight=P.tileHeight,this.width=P.width,this.height=P.height,this.orientation=P.orientation,this.renderOrder=P.renderOrder,this.format=P.format,this.version=P.version,this.properties=P.properties,this.widthInPixels=P.widthInPixels,this.heightInPixels=P.heightInPixels,this.imageCollections=P.imageCollections,this.images=P.images,this.layers=P.layers,this.tiles=P.tiles,this.tilesets=P.tilesets,this.objects=P.objects,this.currentLayerIndex=0,this.hexSideLength=P.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(w),WorldToTileX:v.GetWorldToTileXFunction(w),WorldToTileY:v.GetWorldToTileYFunction(w),TileToWorldXY:v.GetTileToWorldXYFunction(w),TileToWorldX:v.GetTileToWorldXFunction(w),TileToWorldY:v.GetTileToWorldYFunction(w),GetTileCorners:v.GetTileCornersFunction(w)}},setRenderOrder:function(S){var A=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=A[S]),A.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,A,P,w,M,D,F,L){if(S===void 0)return null;A==null&&(A=S);var O=this.scene.sys.textures;if(!O.exists(A))return console.warn('Texture key "%s" not found',A),null;var B=O.get(A),U=this.getTilesetIndex(S);if(U===null&&this.format===r.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',S,this.tilesets),null;var W=this.tilesets[U];return W?((P||w)&&W.setTileSize(P,w),(M||D)&&W.setSpacing(M,D),W.setImage(B),W):(P===void 0&&(P=this.tileWidth),w===void 0&&(w=this.tileHeight),M===void 0&&(M=0),D===void 0&&(D=0),F===void 0&&(F=0),L===void 0&&(L={x:0,y:0}),W=new y(S,F,P,w,M,D,void 0,void 0,L),W.setImage(B),this.tilesets.push(W),this.tiles=h(this),W)},copy:function(S,A,P,w,M,D,F,L){return L=this.getLayer(L),L!==null?(v.Copy(S,A,P,w,M,D,F,L),this):null},createBlankLayer:function(S,A,P,w,M,D,F,L){P===void 0&&(P=0),w===void 0&&(w=0),M===void 0&&(M=this.width),D===void 0&&(D=this.height),F===void 0&&(F=this.tileWidth),L===void 0&&(L=this.tileHeight);var O=this.getLayerIndex(S);if(O!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var B=new i({name:S,tileWidth:F,tileHeight:L,width:M,height:D,orientation:this.orientation,hexSideLength:this.hexSideLength}),U,W=0;W<D;W++){U=[];for(var H=0;H<M;H++)U.push(new d(B,-1,H,W,F,L,this.tileWidth,this.tileHeight));B.data.push(U)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var Y=new m(this.scene,this,this.currentLayerIndex,A,P,w);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(S,A,P,w){var M=this.getLayerIndex(S);if(M===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[M];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=M,P===void 0&&(P=D.x),w===void 0&&(w=D.y);var F=new m(this.scene,this,M,A,P,w);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(S,A,P){P===void 0&&(P=!0);var w=[],M=this.getObjectLayer(S);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),w;var D=new n(P?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var F=M.objects,L=0;L<A.length;L++){var O=A[L],B=a(O,"id",null),U=a(O,"gid",null),W=a(O,"name",null),H=a(O,"type",null);D.enabled=!a(O,"ignoreTileset",null);for(var Y,G=[],X=0;X<F.length;X++)Y=F[X],(B===null&&U===null&&W===null&&H===null||B!==null&&Y.id===B||U!==null&&Y.gid===U||W!==null&&Y.name===W||H!==null&&D.getTypeIncludingTile(Y)===H)&&G.push(Y);for(var V=a(O,"classType",f),b=a(O,"scene",this.scene),z=a(O,"container",null),$=a(O,"key",null),Q=a(O,"frame",null),Z=0;Z<G.length;Z++){Y=G[Z];var q=new V(b);if(q.setName(Y.name),q.setPosition(Y.x,Y.y),D.setTextureAndFrame(q,$,Q,Y),Y.width&&(q.displayWidth=Y.width),Y.height&&(q.displayHeight=Y.height),this.orientation===l.ISOMETRIC){var j=this.tileWidth/this.tileHeight,k={x:q.x-q.y,y:(q.x+q.y)/j};q.x=k.x,q.y=k.y}var _={x:q.originX*Y.width,y:(q.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var et=o(Y.rotation);s(_,et),q.rotation=et}q.x+=_.x,q.y+=_.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&q.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(q.visible=!1),D.setPropertiesFromTiledObject(q,Y),z?z.add(q):b.add.existing(q),w.push(q)}}return w},createFromTiles:function(S,A,P,w,M,D){return D=this.getLayer(D),D===null?null:v.CreateFromTiles(S,A,P,w,M,D)},fill:function(S,A,P,w,M,D,F){return D===void 0&&(D=!0),F=this.getLayer(F),F===null?null:(v.Fill(S,A,P,w,M,D,F),this)},filterObjects:function(S,A,P){if(typeof S=="string"){var w=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+w),null}return S.objects.filter(A,P)},filterTiles:function(S,A,P,w,M,D,F,L){return L=this.getLayer(L),L===null?null:v.FilterTiles(S,A,P,w,M,D,F,L)},findByIndex:function(S,A,P,w){return w=this.getLayer(w),w===null?null:v.FindByIndex(S,A,P,w)},findObject:function(S,A,P){if(typeof S=="string"){var w=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+w),null}return S.objects.find(A,P)||null},findTile:function(S,A,P,w,M,D,F,L){return L=this.getLayer(L),L===null?null:v.FindTile(S,A,P,w,M,D,F,L)},forEachTile:function(S,A,P,w,M,D,F,L){return L=this.getLayer(L),L===null?null:(v.ForEachTile(S,A,P,w,M,D,F,L),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,A){for(var P=0;P<S.length;P++)if(S[P].name===A)return P;return null},getLayer:function(S){var A=this.getLayerIndex(S);return A!==null?this.layers[A]:null},getObjectLayer:function(S){var A=this.getIndex(this.objects,S);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof m&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,A,P,w){return w=this.getLayer(w),w===null?null:v.GetTileAt(S,A,P,w)},getTileAtWorldXY:function(S,A,P,w,M){return M=this.getLayer(M),M===null?null:v.GetTileAtWorldXY(S,A,P,w,M)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,A,P,w,M,D){return D=this.getLayer(D),D===null?null:v.GetTilesWithin(S,A,P,w,M,D)},getTilesWithinShape:function(S,A,P,w){return w=this.getLayer(w),w===null?null:v.GetTilesWithinShape(S,A,P,w)},getTilesWithinWorldXY:function(S,A,P,w,M,D,F){return F=this.getLayer(F),F===null?null:v.GetTilesWithinWorldXY(S,A,P,w,M,D,F)},getTileset:function(S){var A=this.getIndex(this.tilesets,S);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,A,P){return P=this.getLayer(P),P===null?null:v.HasTileAt(S,A,P)},hasTileAtWorldXY:function(S,A,P,w){return w=this.getLayer(w),w===null?null:v.HasTileAtWorldXY(S,A,P,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,A,P,w,M){return w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:v.PutTileAt(S,A,P,w,M)},putTileAtWorldXY:function(S,A,P,w,M,D){return w===void 0&&(w=!0),D=this.getLayer(D),D===null?null:v.PutTileAtWorldXY(S,A,P,w,M,D)},putTilesAt:function(S,A,P,w,M){return w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:(v.PutTilesAt(S,A,P,w,M),this)},randomize:function(S,A,P,w,M,D){return D=this.getLayer(D),D===null?null:(v.Randomize(S,A,P,w,M,D),this)},calculateFacesAt:function(S,A,P){return P=this.getLayer(P),P===null?null:(v.CalculateFacesAt(S,A,P),this)},calculateFacesWithin:function(S,A,P,w,M){return M=this.getLayer(M),M===null?null:(v.CalculateFacesWithin(S,A,P,w,M),this)},removeLayer:function(S){var A=this.getLayerIndex(S);if(A!==null){u(this.layers,A);for(var P=A;P<this.layers.length;P++)this.layers[P].tilemapLayer&&this.layers[P].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var A=this.getLayerIndex(S);return A!==null?(S=this.layers[A],S.tilemapLayer.destroy(),u(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,A=0;A<S.length;A++)S[A].tilemapLayer&&S[A].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,A,P){A===void 0&&(A=-1),P===void 0&&(P=!0);var w=[];Array.isArray(S)||(S=[S]);for(var M=0;M<S.length;M++){var D=S[M];w.push(this.removeTileAt(D.x,D.y,!0,P,D.tilemapLayer)),A>-1&&this.putTileAt(A,D.x,D.y,P,D.tilemapLayer)}return w},removeTileAt:function(S,A,P,w,M){return P===void 0&&(P=!0),w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:v.RemoveTileAt(S,A,P,w,M)},removeTileAtWorldXY:function(S,A,P,w,M,D){return P===void 0&&(P=!0),w===void 0&&(w=!0),D=this.getLayer(D),D===null?null:v.RemoveTileAtWorldXY(S,A,P,w,M,D)},renderDebug:function(S,A,P){return P=this.getLayer(P),P===null?null:(this.orientation===l.ORTHOGONAL&&v.RenderDebug(S,A,P),this)},renderDebugFull:function(S,A){for(var P=this.layers,w=0;w<P.length;w++)v.RenderDebug(S,A,P[w]);return this},replaceByIndex:function(S,A,P,w,M,D,F){return F=this.getLayer(F),F===null?null:(v.ReplaceByIndex(S,A,P,w,M,D,F),this)},setCollision:function(S,A,P,w,M){return A===void 0&&(A=!0),P===void 0&&(P=!0),M===void 0&&(M=!0),w=this.getLayer(w),w===null?null:(v.SetCollision(S,A,P,w,M),this)},setCollisionBetween:function(S,A,P,w,M){return P===void 0&&(P=!0),w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:(v.SetCollisionBetween(S,A,P,w,M),this)},setCollisionByProperty:function(S,A,P,w){return A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByProperty(S,A,P,w),this)},setCollisionByExclusion:function(S,A,P,w){return A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByExclusion(S,A,P,w),this)},setCollisionFromCollisionGroup:function(S,A,P){return S===void 0&&(S=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(v.SetCollisionFromCollisionGroup(S,A,P),this)},setTileIndexCallback:function(S,A,P,w){return w=this.getLayer(w),w===null?null:(v.SetTileIndexCallback(S,A,P,w),this)},setTileLocationCallback:function(S,A,P,w,M,D,F){return F=this.getLayer(F),F===null?null:(v.SetTileLocationCallback(S,A,P,w,M,D,F),this)},setLayer:function(S){var A=this.getLayerIndex(S);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(S,A){this.tileWidth=S,this.tileHeight=A,this.widthInPixels=this.width*S,this.heightInPixels=this.height*A;for(var P=0;P<this.layers.length;P++){this.layers[P].baseTileWidth=S,this.layers[P].baseTileHeight=A;for(var w=this.layers[P].data,M=this.layers[P].width,D=this.layers[P].height,F=0;F<D;F++)for(var L=0;L<M;L++){var O=w[F][L];O!==null&&O.setSize(void 0,void 0,S,A)}}return this},setLayerTileSize:function(S,A,P){if(P=this.getLayer(P),P===null)return this;P.tileWidth=S,P.tileHeight=A;for(var w=P.data,M=P.width,D=P.height,F=0;F<D;F++)for(var L=0;L<M;L++){var O=w[F][L];O!==null&&O.setSize(S,A)}return this},shuffle:function(S,A,P,w,M){return M=this.getLayer(M),M===null?null:(v.Shuffle(S,A,P,w,M),this)},swapByIndex:function(S,A,P,w,M,D,F){return F=this.getLayer(F),F===null?null:(v.SwapByIndex(S,A,P,w,M,D,F),this)},tileToWorldX:function(S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldX(S,A,P)},tileToWorldY:function(S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldY(S,A,P)},tileToWorldXY:function(S,A,P,w,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldXY(S,A,P,w,M)},getTileCorners:function(S,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(S,A,P,w)},weightedRandomize:function(S,A,P,w,M,D){return D=this.getLayer(D),D===null?null:(v.WeightedRandomize(A,P,w,M,S,D),this)},worldToTileX:function(S,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(S,A,P,w)},worldToTileY:function(S,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(S,A,P,w)},worldToTileXY:function(S,A,P,w,M,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(S,A,P,w,M,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=T},45939:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),x=t(31989);h.register("tilemap",function(o){var r=o!==void 0?o:{};return x(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},46029:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(31989);h.register("tilemap",function(o,r,a,i,n,l,s){return o===null&&(o=void 0),r===null&&(r=void 0),a===null&&(a=void 0),i===null&&(i=void 0),n===null&&(n=void 0),x(this.scene,o,r,a,i,n,l,s)})},20442:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(78389),o=t(31401),r=t(95643),a=t(81086),i=t(19218),n=t(26099),l=new h({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,x,i],initialize:function(u,f,d,v,m,y){r.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=d,this.layer=f.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(m,y),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var u=[],f=[],d=this.tilemap;Array.isArray(s)||(s=[s]);for(var v=0;v<s.length;v++){var m=s[v];if(typeof m=="string"&&(m=d.getTileset(m)),m){f.push(m);for(var y=m.firstgid,T=0;T<m.total;T++)u[y+T]=m}}this.gidMap=u,this.tileset=f},setRenderOrder:function(s){var u=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=u.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,u){return a.CalculateFacesAt(s,u,this.layer),this},calculateFacesWithin:function(s,u,f,d){return a.CalculateFacesWithin(s,u,f,d,this.layer),this},createFromTiles:function(s,u,f,d,v){return a.CreateFromTiles(s,u,f,d,v,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,u,f,d,v,m,y){return a.Copy(s,u,f,d,v,m,y,this.layer),this},fill:function(s,u,f,d,v,m){return a.Fill(s,u,f,d,v,m,this.layer),this},filterTiles:function(s,u,f,d,v,m,y){return a.FilterTiles(s,u,f,d,v,m,y,this.layer)},findByIndex:function(s,u,f){return a.FindByIndex(s,u,f,this.layer)},findTile:function(s,u,f,d,v,m,y){return a.FindTile(s,u,f,d,v,m,y,this.layer)},forEachTile:function(s,u,f,d,v,m,y){return a.ForEachTile(s,u,f,d,v,m,y,this.layer),this},setTint:function(s,u,f,d,v,m){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!1};return this.forEachTile(y,this,u,f,d,v,m)},setTintFill:function(s,u,f,d,v,m){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!0};return this.forEachTile(y,this,u,f,d,v,m)},getTileAt:function(s,u,f){return a.GetTileAt(s,u,f,this.layer)},getTileAtWorldXY:function(s,u,f,d){return a.GetTileAtWorldXY(s,u,f,d,this.layer)},getIsoTileAtWorldXY:function(s,u,f,d,v){f===void 0&&(f=!0);var m=this.tempVec;return a.IsometricWorldToTileXY(s,u,!0,m,v,this.layer,f),this.getTileAt(m.x,m.y,d)},getTilesWithin:function(s,u,f,d,v){return a.GetTilesWithin(s,u,f,d,v,this.layer)},getTilesWithinShape:function(s,u,f){return a.GetTilesWithinShape(s,u,f,this.layer)},getTilesWithinWorldXY:function(s,u,f,d,v,m){return a.GetTilesWithinWorldXY(s,u,f,d,v,m,this.layer)},hasTileAt:function(s,u){return a.HasTileAt(s,u,this.layer)},hasTileAtWorldXY:function(s,u,f){return a.HasTileAtWorldXY(s,u,f,this.layer)},putTileAt:function(s,u,f,d){return a.PutTileAt(s,u,f,d,this.layer)},putTileAtWorldXY:function(s,u,f,d,v){return a.PutTileAtWorldXY(s,u,f,d,v,this.layer)},putTilesAt:function(s,u,f,d){return a.PutTilesAt(s,u,f,d,this.layer),this},randomize:function(s,u,f,d,v){return a.Randomize(s,u,f,d,v,this.layer),this},removeTileAt:function(s,u,f,d){return a.RemoveTileAt(s,u,f,d,this.layer)},removeTileAtWorldXY:function(s,u,f,d,v){return a.RemoveTileAtWorldXY(s,u,f,d,v,this.layer)},renderDebug:function(s,u){return a.RenderDebug(s,u,this.layer),this},replaceByIndex:function(s,u,f,d,v,m){return a.ReplaceByIndex(s,u,f,d,v,m,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=1),this.cullPaddingX=s,this.cullPaddingY=u,this},setCollision:function(s,u,f,d){return a.SetCollision(s,u,f,this.layer,d),this},setCollisionBetween:function(s,u,f,d){return a.SetCollisionBetween(s,u,f,d,this.layer),this},setCollisionByProperty:function(s,u,f){return a.SetCollisionByProperty(s,u,f,this.layer),this},setCollisionByExclusion:function(s,u,f){return a.SetCollisionByExclusion(s,u,f,this.layer),this},setCollisionFromCollisionGroup:function(s,u){return a.SetCollisionFromCollisionGroup(s,u,this.layer),this},setTileIndexCallback:function(s,u,f){return a.SetTileIndexCallback(s,u,f,this.layer),this},setTileLocationCallback:function(s,u,f,d,v,m){return a.SetTileLocationCallback(s,u,f,d,v,m,this.layer),this},shuffle:function(s,u,f,d){return a.Shuffle(s,u,f,d,this.layer),this},swapByIndex:function(s,u,f,d,v,m){return a.SwapByIndex(s,u,f,d,v,m,this.layer),this},tileToWorldX:function(s,u){return this.tilemap.tileToWorldX(s,u,this)},tileToWorldY:function(s,u){return this.tilemap.tileToWorldY(s,u,this)},tileToWorldXY:function(s,u,f,d){return this.tilemap.tileToWorldXY(s,u,f,d,this)},getTileCorners:function(s,u,f){return this.tilemap.getTileCorners(s,u,f,this)},weightedRandomize:function(s,u,f,d,v){return a.WeightedRandomize(u,f,d,v,s,this.layer),this},worldToTileX:function(s,u,f){return this.tilemap.worldToTileX(s,u,f,this)},worldToTileY:function(s,u,f){return this.tilemap.worldToTileY(s,u,f,this)},worldToTileXY:function(s,u,f,d,v){return this.tilemap.worldToTileXY(s,u,f,d,v,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});c.exports=l},16153:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),x=new h,o=new h,r=new h,a=function(i,n,l,s){var u=n.cull(l),f=u.length,d=l.alpha*n.alpha;if(!(f===0||d<=0)){var v=x,m=o,y=r;m.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),v.copyFrom(l.matrix);var T=i.currentContext,S=n.gidMap;T.save(),s?(v.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),m.e=n.x,m.f=n.y,v.multiply(m,y),y.copyToContext(T)):(m.e-=l.scrollX*n.scrollFactorX,m.f-=l.scrollY*n.scrollFactorY,m.copyToContext(T)),(!i.antialias||n.scaleX>1||n.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var A=0;A<f;A++){var P=u[A],w=S[P.index];if(w){var M=w.image.getSourceImage(),D=w.getTileTextureCoordinates(P.index),F=w.tileWidth,L=w.tileHeight;if(!(D===null||F===0||L===0)){var O=F*.5,B=L*.5;D.x+=w.tileOffset.x,D.y+=w.tileOffset.y,T.save(),T.translate(P.pixelX+O,P.pixelY+B),P.rotation!==0&&T.rotate(P.rotation),(P.flipX||P.flipY)&&T.scale(P.flipX?-1:1,P.flipY?-1:1),T.globalAlpha=d*P.alpha,T.drawImage(M,D.x,D.y,F,L,-O,-B,F,L),T.restore()}}}T.restore()}};c.exports=a},19218:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(99558),o=t(16153),c.exports={renderWebGL:x,renderCanvas:o}},99558:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,r,a){var i=r.cull(a),n=i.length,l=a.alpha*r.alpha;if(!(n===0||l<=0)){var s=r.gidMap,u=o.pipelines.set(r.pipeline,r),f=h.getTintAppendFloatAlpha,d=r.scrollFactorX,v=r.scrollFactorY,m=r.x,y=r.y,T=r.scaleX,S=r.scaleY;o.pipelines.preBatch(r);for(var A=0;A<n;A++){var P=i[A],w=s[P.index];if(w){var M=w.getTileTextureCoordinates(P.index),D=w.tileWidth,F=w.tileHeight;if(!(!M||D===0||F===0)){var L=D*.5,O=F*.5,B=w.glTexture,U=u.setTexture2D(B,r),W=D,H=F,Y=M.x,G=M.y,X=w.tileOffset.x,V=w.tileOffset.y,b=f(P.tint,l*P.alpha);u.batchTexture(r,B,B.width,B.height,m+P.pixelX*T+(L*T-X),y+P.pixelY*S+(O*S-V),D,F,T,S,P.rotation,P.flipX,P.flipY,d,v,L,O,Y,G,W,H,b,b,b,b,P.tintFill,0,0,a,null,!0,U,!0)}}}o.pipelines.postBatch(r)}};c.exports=x},33629:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(26099),o=new h({initialize:function(a,i,n,l,s,u,f,d,v){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f={}),d===void 0&&(d={}),this.name=a,this.firstgid=i,this.tileWidth=n,this.tileHeight=l,this.tileMargin=s,this.tileSpacing=u,this.tileProperties=f,this.tileData=d,this.tileOffset=new x,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var a=this.getTileData(r);return a&&a.objectgroup?a.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){this.image=r;var a=r.get(),i=r.getFrameBounds();return this.glTexture=a.source.glTexture,a.width>i.width||a.height>i.height?this.updateTileData(a.width,a.height):this.updateTileData(i.width,i.height,i.x,i.y),this},setTileSize:function(r,a){return r!==void 0&&(this.tileWidth=r),a!==void 0&&(this.tileHeight=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,a){return r!==void 0&&(this.tileMargin=r),a!==void 0&&(this.tileSpacing=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,a,i,n){i===void 0&&(i=0),n===void 0&&(n=0);var l=(a-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),s=Math.floor(s),this.rows=l,this.columns=s,this.total=l*s,this.texCoordinates.length=0;for(var u=this.tileMargin+i,f=this.tileMargin+n,d=0;d<this.rows;d++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:u,y:f}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin+i,f+=this.tileHeight+this.tileSpacing}return this}});c.exports=o},72023:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),x=function(o,r,a){var i=h(o,r,!0,a),n=h(o,r-1,!0,a),l=h(o,r+1,!0,a),s=h(o-1,r,!0,a),u=h(o+1,r,!0,a),f=i&&i.collides;return f&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),n&&n.collides&&(f&&(i.faceTop=!1),n.faceBottom=!f),l&&l.collides&&(f&&(i.faceBottom=!1),l.faceTop=!f),s&&s.collides&&(f&&(i.faceLeft=!1),s.faceRight=!f),u&&u.collides&&(f&&(i.faceRight=!1),u.faceLeft=!f),i&&!i.collides&&i.resetFaces(),i};c.exports=x},42573:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),x=t(7386),o=function(r,a,i,n,l){for(var s=null,u=null,f=null,d=null,v=x(r,a,i,n,null,l),m=0;m<v.length;m++){var y=v[m];y&&(y.collides?(s=h(y.x,y.y-1,!0,l),u=h(y.x,y.y+1,!0,l),f=h(y.x-1,y.y,!0,l),d=h(y.x+1,y.y,!0,l),y.faceTop=!(s&&s.collides),y.faceBottom=!(u&&u.collides),y.faceLeft=!(f&&f.collides),y.faceRight=!(d&&d.collides)):y.resetFaces())}};c.exports=o},33528:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=new h,o=function(r,a,i,n){var l=i.tilemapLayer,s=l.cullPaddingX,u=l.cullPaddingY,f=l.tilemap.tileToWorldXY(r,a,x,n,l);return f.x>n.worldView.x+l.scaleX*i.tileWidth*(-s-.5)&&f.x<n.worldView.right+l.scaleX*i.tileWidth*(s-.5)&&f.y>n.worldView.y+l.scaleY*i.tileHeight*(-u-1)&&f.y<n.worldView.bottom+l.scaleY*i.tileHeight*(u-.5)};c.exports=o},1785:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),x=t(7386),o=t(62991),r=t(23029),a=function(i,n,l,s,u,f,d,v){d===void 0&&(d=!0);var m=x(i,n,l,s,null,v),y=[];m.forEach(function(D){var F=new r(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);F.copy(D),y.push(F)});for(var T=u-i,S=f-n,A=0;A<y.length;A++){var P=y[A],w=P.x+T,M=P.y+S;o(w,M,v)&&v.data[M][w]&&(P.x=w,P.y=M,P.updatePixelXY(),v.data[M][w]=P)}d&&h(u-1,f-1,l+2,s+2,v),m.length=0,y.length=0};c.exports=a},78419:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),x=t(7386),o=t(27987),r=function(a,i,n,l,s,u){n||(n={}),Array.isArray(a)||(a=[a]);var f=u.tilemapLayer;l||(l=f.scene),s||(s=l.cameras.main);var d=u.width,v=u.height,m=x(0,0,d,v,null,u),y=[],T,S=function(M,D,F){for(var L=0;L<F.length;L++){var O=F[L];M.hasOwnProperty(O)||(M[O]=D[O])}};for(T=0;T<m.length;T++){var A=m[T],P=h(n);if(a.indexOf(A.index)!==-1){var w=f.tileToWorldXY(A.x,A.y,void 0,s,u);P.x=w.x,P.y=w.y,S(P,A,["rotation","flipX","flipY","alpha","visible","tint"]),P.hasOwnProperty("origin")||(P.x+=A.width*.5,P.y+=A.height*.5),P.hasOwnProperty("useSpriteSheet")&&(P.key=A.tileset.image,P.frame=A.index-1),y.push(l.make.sprite(P))}}if(Array.isArray(i))for(T=0;T<a.length;T++)o(a[T],i[T],0,0,d,v,u);else if(i!==null)for(T=0;T<a.length;T++)o(a[T],i,0,0,d,v,u);return y};c.exports=r},19545:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(63448),o=t(56583),r=new h,a=function(i,n){var l=i.tilemapLayer.tilemap,s=i.tilemapLayer,u=Math.floor(l.tileWidth*s.scaleX),f=Math.floor(l.tileHeight*s.scaleY),d=o(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,v=x(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,m=o(n.worldView.y-s.y,f,0,!0)-s.cullPaddingY,y=x(n.worldView.bottom-s.y,f,0,!0)+s.cullPaddingY;return r.setTo(d,m,v-d,y-m)};c.exports=a},30003:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19545),x=t(32483),o=function(r,a,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=r.tilemapLayer,s=h(r,a);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(s.left=0,s.right=r.width,s.top=0,s.bottom=r.height),x(r,s,n,i),i};c.exports=o},35137:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(42573),o=t(20576),r=function(a,i,n,l,s,u,f){for(var d=f.collideIndexes.indexOf(a)!==-1,v=h(i,n,l,s,null,f),m=0;m<v.length;m++)v[m].index=a,o(v[m],d);u&&x(i-1,n-1,l+2,s+2,f)};c.exports=r},40253:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,r,a,i,n,l,s,u){var f=h(a,i,n,l,s,u);return f.filter(o,r)};c.exports=x},52692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){h===void 0&&(h=0),x===void 0&&(x=!1);var r=0,a,i,n;if(x){for(i=o.height-1;i>=0;i--)for(a=o.width-1;a>=0;a--)if(n=o.data[i][a],n&&n.index===t){if(r===h)return n;r+=1}}else for(i=0;i<o.height;i++)for(a=0;a<o.width;a++)if(n=o.data[i][a],n&&n.index===t){if(r===h)return n;r+=1}return null};c.exports=E},66151:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,r,a,i,n,l,s,u){var f=h(a,i,n,l,s,u);return f.find(o,r)||null};c.exports=x},97560:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,r,a,i,n,l,s,u){var f=h(a,i,n,l,s,u);f.forEach(o,r)};c.exports=x},43305:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(30003),o=t(9474),r=t(14018),a=t(29747),i=t(54503),n=function(l){return l===h.ORTHOGONAL?x:l===h.HEXAGONAL?o:l===h.STAGGERED?i:l===h.ISOMETRIC?r:a};c.exports=n},7423:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),x=function(o,r,a,i){if(h(o,r,i)){var n=i.data[r][o]||null;return n?n.index===-1?a?n:null:n:null}else return null};c.exports=x},60540:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),x=t(26099),o=new x,r=function(a,i,n,l,s){return s.tilemapLayer.worldToTileXY(a,i,!0,o,l),h(o.x,o.y,n,s)};c.exports=r},55826:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i){var n=i.baseTileWidth,l=i.baseTileHeight,s=i.tilemapLayer,u=0,f=0;s&&(a||(a=s.scene.cameras.main),u=s.x+a.scrollX*(1-s.scrollFactorX),f=s.y+a.scrollY*(1-s.scrollFactorY),n*=s.scaleX,l*=s.scaleY);var d=u+o*n,v=f+r*l;return[new h(d,v),new h(d+n,v),new h(d+n,v+l),new h(d,v+l)]};c.exports=x},11758:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(27229),o=t(29747),r=t(55826),a=function(i){return i===h.ORTHOGONAL?r:i===h.ISOMETRIC?o:i===h.HEXAGONAL?x:(i===h.STAGGERED,o)};c.exports=a},39167:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(29747),o=t(97281),r=function(a){return a===h.ORTHOGONAL?o:x};c.exports=r},62e3:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(19951),o=t(14127),r=t(29747),a=t(97202),i=t(70326),n=function(l){return l===h.ORTHOGONAL?i:l===h.ISOMETRIC?o:l===h.HEXAGONAL?x:l===h.STAGGERED?a:r};c.exports=n},5984:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(29747),o=t(28054),r=t(29650),a=function(i){return i===h.ORTHOGONAL?r:i===h.STAGGERED?o:x};c.exports=a},7386:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o,r,a,i,n,l){o===void 0&&(o=0),r===void 0&&(r=0),a===void 0&&(a=l.width),i===void 0&&(i=l.height),n||(n={});var s=h(n,"isNotEmpty",!1),u=h(n,"isColliding",!1),f=h(n,"hasInterestingFace",!1);o<0&&(a+=o,o=0),r<0&&(i+=r,r=0),o+a>l.width&&(a=Math.max(l.width-o,0)),r+i>l.height&&(i=Math.max(l.height-r,0));for(var d=[],v=r;v<r+i;v++)for(var m=o;m<o+a;m++){var y=l.data[v][m];if(y!==null){if(s&&y.index===-1||u&&!y.collides||f&&!y.hasInterestingFace)continue;d.push(y)}}return d};c.exports=x},91141:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55738),x=t(7386),o=t(91865),r=t(29747),a=t(26099),i=t(91907),n=function(d,v){return o.RectangleToTriangle(v,d)},l=new a,s=new a,u=new a,f=function(d,v,m,y){if(y.orientation!==i.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(d===void 0)return[];var T=r;d instanceof h.Circle?T=o.CircleToRectangle:d instanceof h.Rectangle?T=o.RectangleToRectangle:d instanceof h.Triangle?T=n:d instanceof h.Line&&(T=o.LineToRectangle),y.tilemapLayer.worldToTileXY(d.left,d.top,!0,s,m);var S=s.x,A=s.y;y.tilemapLayer.worldToTileXY(d.right,d.bottom,!1,u,m);var P=Math.ceil(u.x),w=Math.ceil(u.y),M=Math.max(P-S,1),D=Math.max(w-A,1),F=x(S,A,M,D,v,y),L=y.tileWidth,O=y.tileHeight;y.tilemapLayer&&(L*=y.tilemapLayer.scaleX,O*=y.tilemapLayer.scaleY);for(var B=[],U=new h.Rectangle(0,0,L,O),W=0;W<F.length;W++){var H=F[W];y.tilemapLayer.tileToWorldXY(H.x,H.y,l,m),U.x=l.x,U.y=l.y,T(d,U)&&B.push(H)}return B};c.exports=f},96523:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(26099),o=new x,r=new x,a=function(i,n,l,s,u,f,d){var v=d.tilemapLayer.tilemap._convert.WorldToTileXY;v(i,n,!0,o,f,d);var m=o.x,y=o.y;v(i+l,n+s,!1,r,f,d);var T=Math.ceil(r.x),S=Math.ceil(r.y);return h(m,y,T-m,S-y,u,d)};c.exports=a},96113:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(20242),o=t(10095),r=function(a){return a===h.ORTHOGONAL?o:x};c.exports=r},16926:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(86625),o=t(96897),r=t(29747),a=t(15108),i=t(85896),n=function(l){return l===h.ORTHOGONAL?i:l===h.ISOMETRIC?o:l===h.HEXAGONAL?x:l===h.STAGGERED?a:r};c.exports=n},55762:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(20242),o=t(51900),r=t(63288),a=function(i){return i===h.ORTHOGONAL?r:i===h.STAGGERED?o:x};c.exports=a},45091:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),x=function(o,r,a){if(h(o,r,a)){var i=a.data[r][o];return i!==null&&i.index>-1}else return!1};c.exports=x},24152:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45091),x=t(26099),o=new x,r=function(a,i,n,l){l.tilemapLayer.worldToTileXY(a,i,!0,o,n);var s=o.x,u=o.y;return h(s,u,l)};c.exports=r},90454:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),x=t(56583),o=function(r,a){var i=r.tilemapLayer.tilemap,n=r.tilemapLayer,l=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),u=r.hexSideLength,f,d,v,m;if(r.staggerAxis==="y"){var y=(s-u)/2+u;f=x(a.worldView.x-n.x,l,0,!0)-n.cullPaddingX,d=h(a.worldView.right-n.x,l,0,!0)+n.cullPaddingX,v=x(a.worldView.y-n.y,y,0,!0)-n.cullPaddingY,m=h(a.worldView.bottom-n.y,y,0,!0)+n.cullPaddingY}else{var T=(l-u)/2+u;f=x(a.worldView.x-n.x,T,0,!0)-n.cullPaddingX,d=h(a.worldView.right-n.x,T,0,!0)+n.cullPaddingX,v=x(a.worldView.y-n.y,s,0,!0)-n.cullPaddingY,m=h(a.worldView.bottom-n.y,s,0,!0)+n.cullPaddingY}return{left:f,right:d,top:v,bottom:m}};c.exports=o},9474:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90454),x=t(32483),o=function(r,a,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=r.tilemapLayer,s=h(r,a);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=r.width,s.top=0,s.bottom=r.height),x(r,s,n,i),i};c.exports=o},27229:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19951),x=t(26099),o=new x,r=function(a,i,n,l){var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(s*=f.scaleX,u*=f.scaleY);var d=h(a,i,o,n,l),v=[],m=.5773502691896257,y,T;l.staggerAxis==="y"?(y=m*s,T=u/2):(y=s/2,T=m*u);for(var S=0;S<6;S++){var A=2*Math.PI*(.5-S)/6;v.push(new x(d.x+y*Math.cos(A),d.y+T*Math.sin(A)))}return v};c.exports=r},19951:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n){a||(a=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,d=0;u&&(i||(i=u.scene.cameras.main),f=u.x+i.scrollX*(1-u.scrollFactorX),d=u.y+i.scrollY*(1-u.scrollFactorY),l*=u.scaleX,s*=u.scaleY);var v=l/2,m=s/2,y,T,S=n.staggerAxis,A=n.staggerIndex;return S==="y"?(y=f+l*o+l,T=d+1.5*r*m+m,r%2===0&&(A==="odd"?y-=v:y+=v)):S==="x"&&A==="odd"&&(y=f+1.5*o*v+v,T=d+s*o+s,o%2===0&&(A==="odd"?T-=m:T+=m)),a.set(y,T)};c.exports=x},86625:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n,l){i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),r=r-(f.y+n.scrollY*(1-f.scrollFactorY)),s*=f.scaleX,u*=f.scaleY);var d=.5773502691896257,v=-.3333333333333333,m=0,y=.6666666666666666,T=s/2,S=u/2,A,P,w,M,D;l.staggerAxis==="y"?(A=(o-T)/(d*s),P=(r-S)/S,w=d*A+v*P,M=m*A+y*P):(A=(o-T)/T,P=(r-S)/(d*u),w=v*A+d*P,M=y*A+m*P),D=-w-M;var F=Math.round(w),L=Math.round(M),O=Math.round(D),B=Math.abs(F-w),U=Math.abs(L-M),W=Math.abs(O-D);B>U&&B>W?F=-L-O:U>W&&(L=-F-O);var H,Y=L;return l.staggerIndex==="odd"?H=Y%2===0?L/2+F:L/2+F-.5:H=Y%2===0?L/2+F:L/2+F+.5,i.set(H,Y)};c.exports=x},62991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t>=0&&t<x.width&&h>=0&&h<x.height};c.exports=E},14018:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33528),x=function(o,r,a,i){a===void 0&&(a=[]),i===void 0&&(i=0),a.length=0;var n=o.tilemapLayer,l=o.data,s=o.width,u=o.height,f=n.skipCull,d=0,v=s,m=0,y=u,T,S,A;if(i===0)for(S=m;S<y;S++)for(T=d;T<v;T++)A=l[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,S,o,r)||a.push(A));else if(i===1)for(S=m;S<y;S++)for(T=v;T>=d;T--)A=l[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,S,o,r)||a.push(A));else if(i===2)for(S=y;S>=m;S--)for(T=d;T<v;T++)A=l[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,S,o,r)||a.push(A));else if(i===3)for(S=y;S>=m;S--)for(T=v;T>=d;T--)A=l[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,S,o,r)||a.push(A));return n.tilesDrawn=a.length,n.tilesTotal=s*u,a};c.exports=x},14127:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n){a||(a=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,d=0;u&&(i||(i=u.scene.cameras.main),f=u.x+i.scrollX*(1-u.scrollFactorX),l*=u.scaleX,d=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=f+(o-r)*(l/2),m=d+(o+r)*(s/2);return a.set(v,m)};c.exports=x},96897:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n,l,s){i||(i=new h);var u=l.baseTileWidth,f=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),r=r-(d.y+n.scrollY*(1-d.scrollFactorY)),f*=d.scaleY,o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),u*=d.scaleX);var v=u/2,m=f/2;o=o-v,s||(r=r-f);var y=.5*(o/v+r/m),T=.5*(-o/v+r/m);return a&&(y=Math.floor(y),T=Math.floor(T)),i.set(y,T)};c.exports=x},71558:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),x=t(62991),o=t(72023),r=t(20576),a=function(i,n,l,s,u){if(s===void 0&&(s=!0),!x(n,l,u))return null;var f,d=u.data[l][n],v=d&&d.collides;i instanceof h?(u.data[l][n]===null&&(u.data[l][n]=new h(u,i.index,n,l,u.tileWidth,u.tileHeight)),u.data[l][n].copy(i)):(f=i,u.data[l][n]===null?u.data[l][n]=new h(u,f,n,l,u.tileWidth,u.tileHeight):u.data[l][n].index=f);var m=u.data[l][n],y=u.collideIndexes.indexOf(m.index)!==-1;if(f=i instanceof h?i.index:i,f===-1)m.width=u.tileWidth,m.height=u.tileHeight;else{var T=u.tilemapLayer.tilemap,S=T.tiles,A=S[f][2],P=T.tilesets[A];m.width=P.tileWidth,m.height=P.tileHeight}return r(m,y),s&&v!==m.collides&&o(n,l,u),m};c.exports=a},26303:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71558),x=t(26099),o=new x,r=function(a,i,n,l,s,u){return u.tilemapLayer.worldToTileXY(i,n,!0,o,s,u),h(a,o.x,o.y,l,u)};c.exports=r},14051:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),x=t(71558),o=function(r,a,i,n,l){if(n===void 0&&(n=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var s=r.length,u=r[0].length,f=0;f<s;f++)for(var d=0;d<u;d++){var v=r[f][d];x(v,a+d,i+f,!1,l)}n&&h(a-1,i-1,u+2,s+2,l)};c.exports=o},77389:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(26546),o=function(r,a,i,n,l,s){var u,f=h(r,a,i,n,{},s);if(!l)for(l=[],u=0;u<f.length;u++)l.indexOf(f[u].index)===-1&&l.push(f[u].index);for(u=0;u<f.length;u++)f[u].index=x(l)};c.exports=o},63557:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),x=t(62991),o=t(72023),r=function(a,i,n,l,s){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!x(a,i,s))return null;var u=s.data[i][a];if(u)s.data[i][a]=n?null:new h(s,-1,a,i,s.tileWidth,s.tileHeight);else return null;return l&&u&&u.collides&&o(a,i,s),u};c.exports=r},94178:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63557),x=t(26099),o=new x,r=function(a,i,n,l,s,u){return u.tilemapLayer.worldToTileXY(a,i,!0,o,s,u),h(o.x,o.y,n,l,u)};c.exports=r},15533:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(3956),o=new x(105,210,231,150),r=new x(243,134,48,200),a=new x(40,39,37,150),i=function(n,l,s){l===void 0&&(l={});var u=l.tileColor!==void 0?l.tileColor:o,f=l.collidingTileColor!==void 0?l.collidingTileColor:r,d=l.faceColor!==void 0?l.faceColor:a,v=h(0,0,s.width,s.height,null,s);n.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),n.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var m=0;m<v.length;m++){var y=v[m],T=y.tileset?y.tileset.tileOffset:{x:0,y:0},S=y.width,A=y.height,P=y.pixelX-T.x,w=y.pixelY-T.y,M=y.collides?f:u;M!==null&&(n.fillStyle(M.color,M.alpha/255),n.fillRect(P,w,S,A)),P+=1,w+=1,S-=2,A-=2,d!==null&&(n.lineStyle(1,d.color,d.alpha/255),y.faceTop&&n.lineBetween(P,w,P+S,w),y.faceRight&&n.lineBetween(P+S,w,P+S,w+A),y.faceBottom&&n.lineBetween(P,w+A,P+S,w+A),y.faceLeft&&n.lineBetween(P,w,P,w+A))}};c.exports=i},27987:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,r,a,i,n,l,s){for(var u=h(a,i,n,l,null,s),f=0;f<u.length;f++)u[f]&&u[f].index===o&&(u[f].index=r)};c.exports=x},32483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=t.data,a=t.width,i=t.height,n=t.tilemapLayer,l=Math.max(0,h.left),s=Math.min(a,h.right),u=Math.max(0,h.top),f=Math.min(i,h.bottom),d,v,m;if(x===0)for(v=u;v<f;v++)for(d=l;r[v]&&d<s;d++)m=r[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(x===1)for(v=u;v<f;v++)for(d=s;r[v]&&d>=l;d--)m=r[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(x===2)for(v=f;v>=u;v--)for(d=l;r[v]&&d<s;d++)m=r[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);else if(x===3)for(v=f;v>=u;v--)for(d=s;r[v]&&d>=l;d--)m=r[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&o.push(m);return n.tilesDrawn=o.length,n.tilesTotal=a*i,o};c.exports=E},57068:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=t(9589),r=function(a,i,n,l,s){i===void 0&&(i=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;u++)o(a[u],i,l);if(s)for(var f=0;f<l.height;f++)for(var d=0;d<l.width;d++){var v=l.data[f][d];v&&a.indexOf(v.index)!==-1&&h(v,i)}n&&x(0,0,l.width,l.height,l)};c.exports=r},37266:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=t(9589),r=function(a,i,n,l,s,u){if(n===void 0&&(n=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),!(a>i)){for(var f=a;f<=i;f++)o(f,n,s);if(u)for(var d=0;d<s.height;d++)for(var v=0;v<s.width;v++){var m=s.data[d][v];m&&m.index>=a&&m.index<=i&&h(m,n)}l&&x(0,0,s.width,s.height,s)}};c.exports=r},75661:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=t(9589),r=function(a,i,n,l){i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(a)||(a=[a]);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var f=l.data[s][u];f&&a.indexOf(f.index)===-1&&(h(f,i),o(f.index,i,l))}n&&x(0,0,l.width,l.height,l)};c.exports=r},64740:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=t(97022),r=function(a,i,n,l){i===void 0&&(i=!0),n===void 0&&(n=!0);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var f=l.data[s][u];if(f){for(var d in a)if(o(f.properties,d)){var v=a[d];Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)f.properties[d]===v[m]&&h(f,i)}}}n&&x(0,0,l.width,l.height,l)};c.exports=r},63307:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=function(r,a,i){r===void 0&&(r=!0),a===void 0&&(a=!0);for(var n=0;n<i.height;n++)for(var l=0;l<i.width;l++){var s=i.data[n][l];if(s){var u=s.getCollisionGroup();u&&u.objects&&u.objects.length>0&&h(s,r)}}a&&x(0,0,i.width,i.height,i)};c.exports=o},9589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=x.collideIndexes.indexOf(t);h&&o===-1?x.collideIndexes.push(t):!h&&o!==-1&&x.collideIndexes.splice(o,1)};c.exports=E},20576:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};c.exports=E},79583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){if(typeof t=="number")o.callbacks[t]=h!==null?{callback:h,callbackContext:x}:void 0;else for(var r=0,a=t.length;r<a;r++)o.callbacks[t[r]]=h!==null?{callback:h,callbackContext:x}:void 0};c.exports=E},93254:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,r,a,i,n,l,s){for(var u=h(o,r,a,i,null,s),f=0;f<u.length;f++)u[f].setCollisionCallback(n,l)};c.exports=x},32903:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(33680),o=function(r,a,i,n,l){var s=h(r,a,i,n,null,l),u=s.map(function(d){return d.index});x(u);for(var f=0;f<s.length;f++)s[f].index=u[f]};c.exports=o},61325:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),x=t(56583),o=function(r,a){var i=r.tilemapLayer.tilemap,n=r.tilemapLayer,l=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),u=x(a.worldView.x-n.x,l,0,!0)-n.cullPaddingX,f=h(a.worldView.right-n.x,l,0,!0)+n.cullPaddingX,d=x(a.worldView.y-n.y,s/2,0,!0)-n.cullPaddingY,v=h(a.worldView.bottom-n.y,s/2,0,!0)+n.cullPaddingY;return{left:u,right:f,top:d,bottom:v}};c.exports=o},54503:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61325),x=t(32483),o=function(r,a,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=r.tilemapLayer,s=h(r,a);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=r.width,s.top=0,s.bottom=r.height),x(r,s,n,i),i};c.exports=o},97202:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n){a||(a=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,d=0;u&&(i||(i=u.scene.cameras.main),f=u.x+i.scrollX*(1-u.scrollFactorX),l*=u.scaleX,d=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=f+o*l+r%2*(l/2),m=d+r*(s/2);return a.set(v,m)};c.exports=x},28054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=x.baseTileHeight,r=x.tilemapLayer,a=0;return r&&(h===void 0&&(h=r.scene.cameras.main),a=r.y+h.scrollY*(1-r.scrollFactorY),o*=r.scaleY),a+t*(o/2)+o};c.exports=E},15108:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n,l){i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),r=r-(f.y+n.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),s*=f.scaleX);var d=a?Math.floor(r/(u/2)):r/(u/2),v=a?Math.floor((o+d%2*.5*s)/s):(o+d%2*.5*s)/s;return i.set(v,d)};c.exports=x},51900:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=o.baseTileHeight,a=o.tilemapLayer;return a&&(x||(x=a.scene.cameras.main),t=t-(a.y+x.scrollY*(1-a.scrollFactorY)),r*=a.scaleY),h?Math.floor(t/(r/2)):t/(r/2)};c.exports=E},86560:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,r,a,i,n,l,s){for(var u=h(a,i,n,l,null,s),f=0;f<u.length;f++)u[f]&&(u[f].index===o?u[f].index=r:u[f].index===r&&(u[f].index=o))};c.exports=x},97281:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=x.baseTileWidth,r=x.tilemapLayer,a=0;return r&&(h||(h=r.scene.cameras.main),a=r.x+h.scrollX*(1-r.scrollFactorX),o*=r.scaleX),a+t*o};c.exports=E},70326:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97281),x=t(29650),o=t(26099),r=function(a,i,n,l,s){return n||(n=new o(0,0)),n.x=h(a,l,s),n.y=x(i,l,s),n};c.exports=r},29650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=x.baseTileHeight,r=x.tilemapLayer,a=0;return r&&(h||(h=r.scene.cameras.main),a=r.y+h.scrollY*(1-r.scrollFactorY),o*=r.scaleY),a+t*o};c.exports=E},77366:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(75508),o=function(r,a,i,n,l,s){if(l){var u,f=h(r,a,i,n,null,s),d=0;for(u=0;u<l.length;u++)d+=l[u].weight;if(!(d<=0))for(u=0;u<f.length;u++){for(var v=x.RND.frac()*d,m=0,y=-1,T=0;T<l.length;T++)if(m+=l[T].weight,v<=m){var S=l[T].index;y=Array.isArray(S)?S[Math.floor(x.RND.frac()*S.length)]:S;break}f[u].index=y}}};c.exports=o},10095:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),x=t(26099),o=new x,r=function(a,i,n,l){return h(a,0,i,o,n,l),o.x};c.exports=r},85896:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,r,a,i,n,l){a===void 0&&(a=!0),i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),r=r-(f.y+n.scrollY*(1-f.scrollFactorY)),s*=f.scaleX,u*=f.scaleY);var d=o/s,v=r/u;return a&&(d=Math.floor(d),v=Math.floor(v)),i.set(d,v)};c.exports=x},63288:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),x=t(26099),o=new x,r=function(a,i,n,l){return h(0,a,i,o,n,l),o.y};c.exports=r},81086:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(91907)};c.exports=h},62501:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=h(!1,o,x.ORIENTATION),c.exports=o},14977:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(91907),o=t(95540),r=new h({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","layer"),this.id=o(i,"id",0),this.x=o(i,"x",0),this.y=o(i,"y",0),this.width=o(i,"width",0),this.height=o(i,"height",0),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.baseTileWidth=o(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(i,"baseTileHeight",this.tileHeight),this.orientation=o(i,"orientation",x.ORTHOGONAL),this.widthInPixels=o(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(i,"alpha",1),this.visible=o(i,"visible",!0),this.properties=o(i,"properties",[]),this.indexes=o(i,"indexes",[]),this.collideIndexes=o(i,"collideIndexes",[]),this.callbacks=o(i,"callbacks",[]),this.bodies=o(i,"bodies",[]),this.data=o(i,"data",[]),this.tilemapLayer=o(i,"tilemapLayer",null),this.hexSideLength=o(i,"hexSideLength",0),this.staggerAxis=o(i,"staggerAxis","y"),this.staggerIndex=o(i,"staggerIndex","odd")}});c.exports=r},87010:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(91907),o=t(95540),r=new h({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","map"),this.width=o(i,"width",0),this.height=o(i,"height",0),this.infinite=o(i,"infinite",!1),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.widthInPixels=o(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.tileHeight),this.format=o(i,"format",null),this.orientation=o(i,"orientation",x.ORTHOGONAL),this.renderOrder=o(i,"renderOrder","right-down"),this.version=o(i,"version","1"),this.properties=o(i,"properties",{}),this.layers=o(i,"layers",[]),this.images=o(i,"images",[]),this.objects=o(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(i,"collision",{}),this.tilesets=o(i,"tilesets",[]),this.imageCollections=o(i,"imageCollections",[]),this.tiles=o(i,"tiles",[]),this.hexSideLength=o(i,"hexSideLength",0),this.staggerAxis=o(i,"staggerAxis","y"),this.staggerIndex=o(i,"staggerIndex","odd")}});c.exports=r},48700:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=new h({initialize:function(a){a===void 0&&(a={}),this.name=x(a,"name","object layer"),this.id=x(a,"id",0),this.opacity=x(a,"opacity",1),this.properties=x(a,"properties",{}),this.propertyTypes=x(a,"propertytypes",{}),this.type=x(a,"type","objectgroup"),this.visible=x(a,"visible",!0),this.objects=x(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=o},6641:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=function(o){return o=o.toLowerCase(),o==="isometric"?h.ISOMETRIC:o==="staggered"?h.STAGGERED:o==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};c.exports=x},46177:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(2342),o=t(82593),r=t(46594),a=t(87021),i=function(n,l,s,u,f,d){var v;switch(l){case h.ARRAY_2D:v=x(n,s,u,f,d);break;case h.CSV:v=o(n,s,u,f,d);break;case h.TILED_JSON:v=r(n,s,d);break;case h.WELTMEISTER:v=a(n,s,d);break;default:console.warn("Unrecognized tilemap data format: "+l),v=null}return v};c.exports=i},2342:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(14977),o=t(87010),r=t(23029),a=function(i,n,l,s,u){for(var f=new x({tileWidth:l,tileHeight:s}),d=new o({name:i,tileWidth:l,tileHeight:s,format:h.ARRAY_2D,layers:[f]}),v=[],m=n.length,y=0,T=0;T<n.length;T++){v[T]=[];for(var S=n[T],A=0;A<S.length;A++){var P=parseInt(S[A],10);isNaN(P)||P===-1?v[T][A]=u?null:new r(f,-1,A,T,l,s):v[T][A]=new r(f,P,A,T,l,s)}y===0&&(y=S.length)}return d.width=f.width=y,d.height=f.height=m,d.widthInPixels=f.widthInPixels=y*l,d.heightInPixels=f.heightInPixels=m*s,f.data=v,d};c.exports=a},82593:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(2342),o=function(r,a,i,n,l){var s=a.trim().split(`
`).map(function(f){return f.split(",")}),u=x(r,s,i,n,l);return u.format=h.CSV,u};c.exports=o},6656:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14977),x=t(23029),o=function(r,a){for(var i=[],n=0;n<r.layer.length;n++){for(var l=r.layer[n],s=new h({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),u=[],f=[],d=0;d<l.data.length;d++){for(var v=0;v<l.data[d].length;v++){var m=l.data[d][v]-1,y;m>-1?y=new x(s,m,v,d,l.tilesize,l.tilesize):y=a?null:new x(s,-1,v,d,l.tilesize,l.tilesize),u.push(y)}f.push(u),u=[]}s.data=f,i.push(s)}return i};c.exports=o},96483:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),x=function(o){for(var r=[],a=[],i=0;i<o.layer.length;i++){var n=o.layer[i],l=n.tilesetName;l!==""&&a.indexOf(l)===-1&&(a.push(l),r.push(new h(l,0,n.tilesize,n.tilesize,0,0)))}return r};c.exports=x},87021:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(87010),o=t(6656),r=t(96483),a=function(i,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var s=0,u=0,f=0;f<n.layer.length;f++)n.layer[f].width>s&&(s=n.layer[f].width),n.layer[f].height>u&&(u=n.layer[f].height);var d=new x({width:s,height:u,name:i,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:h.WELTMEISTER});return d.layers=o(n,l),d.tilesets=r(n),d};c.exports=a},52833:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=function(o){for(var r,a,i,n,l,s=0;s<o.layers.length;s++){r=o.layers[s],n=null;for(var u=0;u<r.data.length;u++){l=r.data[u];for(var f=0;f<l.length;f++)a=l[f],!(a===null||a.index<0)&&(i=o.tiles[a.index][2],n=o.tilesets[i],a.width=n.tileWidth,a.height=n.tileHeight,n.tileProperties&&n.tileProperties[a.index-n.firstgid]&&(a.properties=h(a.properties,n.tileProperties[a.index-n.firstgid])))}}};c.exports=x},41868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){for(var h=window.atob(t),x=h.length,o=new Array(x/4),r=0;r<x;r+=4)o[r/4]=(h.charCodeAt(r)|h.charCodeAt(r+1)<<8|h.charCodeAt(r+2)<<16|h.charCodeAt(r+3)<<24)>>>0;return o};c.exports=E},84101:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),x=function(o){var r,a,i=[];for(r=0;r<o.imageCollections.length;r++)for(var n=o.imageCollections[r],l=n.images,s=0;s<l.length;s++){var u=l[s],f={x:0,y:u.height-o.tileHeight};a=new h(u.image,u.gid,u.width,u.height,0,0,null,null,f),a.updateTileData(u.width,u.height),o.tilesets.push(a)}for(r=0;r<o.tilesets.length;r++){a=o.tilesets[r];for(var d=a.tileMargin,v=a.tileMargin,m=0,y=0,T=0,S=a.firstgid;S<a.firstgid+a.total&&(i[S]=[d,v,r],d+=a.tileWidth+a.tileSpacing,m++,!(m===a.total||(y++,y===a.columns&&(d=a.tileMargin,v+=a.tileHeight+a.tileSpacing,y=0,T++,T===a.rows))));S++);}return i};c.exports=x},79677:(c,E,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o,r,a){if(!r)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=r.x+h(r,"startx",0)*o.tilewidth+h(r,"offsetx",0),n=r.y+h(r,"starty",0)*o.tileheight+h(r,"offsety",0);return{i:0,layers:r.layers,name:a.name+r.name+"/",opacity:a.opacity*r.opacity,visible:a.visible&&r.visible,x:a.x+i,y:a.y+n}};c.exports=x},29920:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=2147483648,t=1073741824,h=536870912,x=function(o){var r=!!(o&E),a=!!(o&t),i=!!(o&h);o=o&536870911;var n=0,l=!1;return r&&a&&i?(n=Math.PI/2,l=!0):r&&a&&!i?(n=Math.PI,l=!1):r&&!a&&i?(n=Math.PI/2,l=!1):r&&!a&&!i?(n=0,l=!0):!r&&a&&i?(n=3*Math.PI/2,l=!1):!r&&a&&!i?(n=Math.PI,l=!0):!r&&!a&&i?(n=3*Math.PI/2,l=!0):!r&&!a&&!i&&(n=0,l=!1),{gid:o,flippedHorizontal:r,flippedVertical:a,flippedAntiDiagonal:i,rotation:n,flipped:l}};c.exports=x},12635:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=t(79677),o=function(r){for(var a=[],i=[],n=x(r);n.i<n.layers.length||i.length>0;){if(n.i>=n.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=i.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var s=x(r,l,n);i.push(n),n=s}continue}var u=h(l,"offsetx",0)+h(l,"startx",0),f=h(l,"offsety",0)+h(l,"starty",0);a.push({name:n.name+l.name,image:l.image,x:n.x+u+l.x,y:n.y+f+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:h(l,"properties",{})})}return a};c.exports=o},46594:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51233),x=t(84101),o=t(91907),r=t(62644),a=t(80341),i=t(6641),n=t(87010),l=t(12635),s=t(22611),u=t(28200),f=t(24619),d=function(v,m,y){var T=r(m),S=new n({width:T.width,height:T.height,name:v,tileWidth:T.tilewidth,tileHeight:T.tileheight,orientation:i(T.orientation),format:a.TILED_JSON,version:T.version,properties:T.properties,renderOrder:T.renderorder,infinite:T.infinite});if(S.orientation===o.HEXAGONAL)if(S.hexSideLength=T.hexsidelength,S.staggerAxis=T.staggeraxis,S.staggerIndex=T.staggerindex,S.staggerAxis==="y"){var A=(S.tileHeight-S.hexSideLength)/2;S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+A)+A}else{var P=(S.tileWidth-S.hexSideLength)/2;S.widthInPixels=S.width*(S.hexSideLength+P)+P,S.heightInPixels=S.tileHeight*(S.height+.5)}S.layers=u(T,y),S.images=l(T);var w=f(T);return S.tilesets=w.tilesets,S.imageCollections=w.imageCollections,S.objects=s(T),S.tiles=x(S),h(S),S};c.exports=d},52205:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18254),x=t(29920),o=function(i){return{x:i.x,y:i.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],a=function(i,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var s=h(i,r);if(s.x+=n,s.y+=l,i.gid){var u=x(i.gid);s.gid=u.gid,s.flippedHorizontal=u.flippedHorizontal,s.flippedVertical=u.flippedVertical,s.flippedAntiDiagonal=u.flippedAntiDiagonal}else i.polyline?s.polyline=i.polyline.map(o):i.polygon?s.polygon=i.polygon.map(o):i.ellipse?s.ellipse=i.ellipse:i.text?s.text=i.text:i.point?s.point=!0:s.rectangle=!0;return s};c.exports=a},22611:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=t(52205),o=t(48700),r=t(79677),a=function(i){for(var n=[],l=[],s=r(i);s.i<s.layers.length||l.length>0;){if(s.i>=s.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=l.pop();continue}var u=s.layers[s.i];if(s.i++,u.opacity*=s.opacity,u.visible=s.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var f=r(i,u,s);l.push(s),s=f}continue}u.name=s.name+u.name;for(var d=s.x+h(u,"startx",0)+h(u,"offsetx",0),v=s.y+h(u,"starty",0)+h(u,"offsety",0),m=[],y=0;y<u.objects.length;y++){var T=x(u.objects[y],d,v);m.push(T)}var S=new o(u);S.objects=m,n.push(S)}return n};c.exports=a},28200:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41868),x=t(91907),o=t(79677),r=t(6641),a=t(95540),i=t(14977),n=t(29920),l=t(23029),s=function(u,f){for(var d=a(u,"infinite",!1),v=[],m=[],y=o(u);y.i<y.layers.length||m.length>0;){if(y.i>=y.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}y=m.pop();continue}var T=y.layers[y.i];if(y.i++,T.type!=="tilelayer"){if(T.type==="group"){var S=o(u,T,y);m.push(y),y=S}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var A=0;A<T.chunks.length;A++)T.chunks[A].data=h(T.chunks[A].data);T.data&&(T.data=h(T.data)),delete T.encoding}var P,w,M,D,F,L,O=[],B=0;if(d){var U=a(T,"startx",0)+T.x,W=a(T,"starty",0)+T.y;P=new i({name:y.name+T.name,id:T.id,x:y.x+a(T,"offsetx",0)+U*u.tilewidth,y:y.y+a(T,"offsety",0)+W*u.tileheight,width:T.width,height:T.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:a(T,"properties",[]),orientation:r(u.orientation)}),P.orientation===x.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):(L=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var H=0;H<T.height;H++){O[H]=[null];for(var Y=0;Y<T.width;Y++)O[H][Y]=null}for(H=0,k=T.chunks.length;H<k;H++)for(var G=T.chunks[H],X=G.x-U,V=G.y-W,b=0,z=0,$=G.data.length;z<$;z++){var Q=B+X,Z=b+V;w=n(G.data[z]),w.gid>0?(M=new l(P,w.gid,Q,Z,u.tilewidth,u.tileheight),M.rotation=w.rotation,M.flipX=w.flipped,O[Z][Q]=M):(D=f?null:new l(P,-1,Q,Z,u.tilewidth,u.tileheight),O[Z][Q]=D),B++,B===G.width&&(b++,B=0)}}else{P=new i({name:y.name+T.name,id:T.id,x:y.x+a(T,"offsetx",0)+T.x,y:y.y+a(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:a(T,"properties",[]),orientation:r(u.orientation)}),P.orientation===x.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):(L=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var q=[],j=0,k=T.data.length;j<k;j++)w=n(T.data[j]),w.gid>0?(M=new l(P,w.gid,B,O.length,u.tilewidth,u.tileheight),M.rotation=w.rotation,M.flipX=w.flipped,q.push(M)):(D=f?null:new l(P,-1,B,O.length,u.tilewidth,u.tileheight),q.push(D)),B++,B===T.width&&(O.push(q),B=0,q=[])}P.data=O,v.push(P)}return v};c.exports=s},24619:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),x=t(16536),o=t(52205),r=t(57880),a=function(i){for(var n=[],l=[],s=null,u,f=0;f<i.tilesets.length;f++){var d=i.tilesets[f];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var v=new h(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(i.version>1){var m=void 0,y=void 0;if(Array.isArray(d.tiles)){m=m||{},y=y||{};for(var T=0;T<d.tiles.length;T++){var S=d.tiles[T];if(S.properties){var A={};S.properties.forEach(function(H){A[H.name]=H.value}),y[S.id]=A}if(S.objectgroup&&((m[S.id]||(m[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var P=S.objectgroup.objects.map(function(H){return o(H)});m[S.id].objectgroup.objects=P}S.animation&&((m[S.id]||(m[S.id]={})).animation=S.animation),S.type&&((m[S.id]||(m[S.id]={})).type=S.type)}}Array.isArray(d.wangsets)&&(m=m||{},y=y||{},r(d.wangsets,m)),m&&(v.tileData=m,v.tileProperties=y)}else if(d.tileproperties&&(v.tileProperties=d.tileproperties),d.tiles){v.tileData=d.tiles;for(u in v.tileData){var w=v.tileData[u].objectgroup;if(w&&w.objects){var M=w.objects.map(function(H){return o(H)});v.tileData[u].objectgroup.objects=M}}}v.updateTileData(d.imagewidth,d.imageheight),n.push(v)}else{var D=new x(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),F=0;for(T=0;T<d.tiles.length;T++){S=d.tiles[T];var L=S.image,O=parseInt(S.id,10),B=d.firstgid+O,U=S.imagewidth,W=S.imageheight;D.addImage(B,L,U,W),F=Math.max(O,F)}D.maxId=F,l.push(D)}s&&(s.lastgid=d.firstgid-1),s=d}return{tilesets:n,imageCollections:l}};c.exports=a},57880:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){for(var x=0;x<t.length;x++){var o=t[x],r=x;if(o.name&&o.name!==""&&(r=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var a={},i={},n,l,s;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)s=1+n,l=o.edgecolors[n],l.name!==""&&(a[s]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)s=1+n,l=o.cornercolors[n],l.name!==""&&(i[s]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],s=1+n,l.name!==""&&(a[s]=i[s]=l.name);for(var u=[a,i,a,i,a,i,a,i],f=0;f<o.wangtiles.length;f++){var d=o.wangtiles[f],v=h[d.tileid]||(h[d.tileid]={});v=v.wangid||(v.wangid={});for(var m=[],y=0;y<Math.min(u.length,d.wangid.length);y++){if(l=d.wangid[y],l===0){m.push(void 0);continue}var T=u[y][l];if(T!==void 0){m.push(T);continue}m.push(l)}v[r]=m}}}};c.exports=E},96761:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37277),o=t(44594),r=t(94880),a=t(72905),i=new h({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;if(n instanceof r){if(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new r(n);return this._pendingInsertion.push(l),l},delayedCall:function(n,l,s,u){return this.addEvent({delay:n,callback:l,args:s,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=n[l];a(this._pendingRemoval,s),a(this._pendingInsertion,s),a(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var s,u;for(s=0;s<n;s++){u=this._pendingRemoval[s];var f=this._active.indexOf(u);f>-1&&this._active.splice(f,1),u.destroy()}for(s=0;s<l;s++)u=this._pendingInsertion[s],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var s=0;s<this._active.length;s++){var u=this._active[s];if(!u.paused&&(u.elapsed+=l*u.timeScale,u.elapsed>=u.delay)){var f=u.elapsed-u.delay;if(u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0){if(u.repeatCount--,f>=u.delay)for(;f>=u.delay&&u.repeatCount>0;)u.callback&&u.callback.apply(u.callbackScope,u.args),f-=u.delay,u.repeatCount--;u.elapsed=f,u.hasDispatched=!1}else u.hasDispatched&&this._pendingRemoval.push(u)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",i,"time"),c.exports=i},96120:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(39429),r=t(95540),a=t(44594),i=t(89809),n=new h({Extends:x,initialize:function(s,u){x.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(a.PRE_UPDATE,this.preUpdate,this),f.on(a.UPDATE,this.update,this),f.once(a.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,s){this.paused||(this.elapsed+=s*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,s=this.events,u=!1,f=this.systems,d;for(l=0;l<s.length;l++){var v=s[l];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,d=v.target?v.target:this,v.if&&!v.if.call(d,v))continue;if(v.once&&(u=!0),v.set&&v.target)for(var m in v.set)v.target[m]=v.set[m];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(d),v.tween&&(v.tweenInstance=f.tweens.add(v.tween)),v.sound&&(typeof v.sound=="string"?f.sound.play(v.sound):f.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,d),v.run&&v.run.call(d),v.stop&&this.stop()}}if(u)for(l=0;l<s.length;l++)s[l].complete&&s[l].once&&(s.splice(l,1),l--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(i.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var s=this.events,u=0;u<s.length;u++){var f=s[u];f.complete=!1,l||(f.repeat=0),f.tweenInstance&&f.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var s=this.events,u=0;s.length>0&&(u=s[s.length-1].time);for(var f=0;f<l.length;f++){var d=l[f],v=r(d,"at",0),m=r(d,"in",null);m!==null&&(v=this.elapsed+m);var y=r(d,"from",null);y!==null&&(v=u+y),s.push({complete:!1,time:v,repeat:0,if:r(d,"if",null),run:r(d,"run",null),loop:r(d,"loop",null),event:r(d,"event",null),target:r(d,"target",null),set:r(d,"set",null),tween:r(d,"tween",null),sound:r(d,"sound",null),once:r(d,"once",!1),stop:r(d,"stop",!1)}),u=v}return this.complete=!1,this},clear:function(){for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&u.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(a.PRE_UPDATE,this.preUpdate,this),l.off(a.UPDATE,this.update,this),l.off(a.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});o.register("timeline",function(l){return new n(this.scene,l)}),c.exports=n},94880:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=new h({initialize:function(a){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(a)},reset:function(r){if(this.delay=x(r,"delay",0),this.repeat=x(r,"repeat",0),this.loop=x(r,"loop",!1),this.callback=x(r,"callback",void 0),this.callbackScope=x(r,"callbackScope",this),this.args=x(r,"args",[]),this.timeScale=x(r,"timeScale",1),this.startAt=x(r,"startAt",0),this.paused=x(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,a=this.elapsed+this.delay*(this.repeat-this.repeatCount);return a/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=o},35945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},89809:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(35945)}},90291:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),x=t(83419),o=t(43491),r=t(88032),a=t(37277),i=t(44594),n=t(93109),l=t(86081),s=t(8357),u=t(43960),f=t(26012),d=new x({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(i.UPDATE,this.update,this),this.events.once(i.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var m=[],y=0;y<v.length;y++){var T=v[y];T instanceof l||T instanceof u?m.push(T):Array.isArray(T.tweens)?m.push(f(this,T)):m.push(s(this,T))}return m.length===1?m[0]:m},add:function(v){var m=v,y=this.tweens;return m instanceof l||m instanceof u||(Array.isArray(m.tweens)?m=f(this,m):m=s(this,m)),y.push(m.reset()),m},addMultiple:function(v){for(var m,y=[],T=this.tweens,S=0;S<v.length;S++)m=v[S],m instanceof l||m instanceof u||(Array.isArray(m.tweens)?m=f(this,m):m=s(this,m)),T.push(m.reset()),y.push(m);return y},chain:function(v){var m=f(this,v);return this.tweens.push(m.init()),m},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var m=r(this,v);return this.tweens.push(m.reset()),m},stagger:function(v,m){return n(v,m)},setLagSmooth:function(v,m){return v===void 0&&(v=1/1e-8),m===void 0&&(m=0),this.maxLag=v,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var y=this.prevTime-this.startTime,T=y-this.nextTime,S=y-this.time*1e3;return T>0||v?(y/=1e3,this.time=y,this.nextTime+=T+(T>=this.gap?4:this.gap-T)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var m=this.getDelta(v);if(!(m<=0)){this.processing=!0;var y,T,S=[],A=this.tweens;for(y=0;y<A.length;y++)T=A[y],T.update(m)&&S.push(T);var P=S.length;if(P&&A.length>0){for(y=0;y<P;y++){T=S[y];var w=A.indexOf(T);w>-1&&(T.isPendingRemove()||T.isDestroyed())&&(A.splice(w,1),T.destroy())}S.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(h(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,m){var y,T=[null];for(y=1;y<arguments.length;y++)T.push(arguments[y]);return this.tweens.forEach(function(S){T[0]=S,v.apply(m,T)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var m=[],y=this.tweens;Array.isArray(v)?v=o(v):v=[v];for(var T=v.length,S=0;S<y.length;S++)for(var A=y[S],P=0;P<T;P++)!A.isDestroyed()&&A.hasTarget(v[P])&&m.push(A);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var m=this.tweens,y,T=0;T<m.length;T++)if(y=m[T],y.isPlaying()&&y.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,m=0;m<v.length;m++)v[m].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var m=this.getTweensOf(v),y=0;y<m.length;y++)m[y].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(i.UPDATE,this.update,this),this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.events=null}});a.register("TweenManager",d,"tweens"),c.exports=d},57355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){return t&&t.hasOwnProperty(h)?t[h]:x};c.exports=E},6113:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62640),x=t(35355),o=function(r,a){var i=h.Power0;if(typeof r=="string")if(h.hasOwnProperty(r))i=h[r];else{var n="";if(r.indexOf(".")){n=r.substring(r.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}r=x(r.substring(0,r.indexOf(".")+1)+n),h.hasOwnProperty(r)&&(i=h[r])}else typeof r=="function"&&(i=r);if(!a)return i;var s=a.slice(0);return s.unshift(0),function(u){return s[0]=u,i.apply(this,s)}};c.exports=o},91389:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89318),x=t(77259),o=t(28392),r={bezier:h,catmull:x,catmullrom:x,linear:o},a=function(i){if(i===null)return null;var n=r.linear;return typeof i=="string"?r.hasOwnProperty(i)&&(n=r[i]):typeof i=="function"&&(n=i),n};c.exports=a},55292:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o;if(t.hasOwnProperty(h)){var r=typeof t[h];r==="function"?o=function(a,i,n,l,s,u){return t[h](a,i,n,l,s,u)}:o=function(){return t[h]}}else typeof x=="function"?o=x:o=function(){return x};return o};c.exports=E},82985:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81076),x=function(o){var r,a=[];if(o.hasOwnProperty("props"))for(r in o.props)r.substring(0,1)!=="_"&&a.push({key:r,value:o.props[r]});else for(r in o)h.indexOf(r)===-1&&r.substring(0,1)!=="_"&&a.push({key:r,value:o[r]});return a};c.exports=x},62329:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x=function(o){var r=h(o,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};c.exports=x},17777:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),x=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function r(l){return!!l.getStart&&typeof l.getStart=="function"}function a(l){return!!l.getEnd&&typeof l.getEnd=="function"}function i(l){return r(l)||a(l)||o(l)}var n=function(l,s){var u,f=function(H,Y,G){return G},d=function(H,Y,G){return G},v=null,m=typeof s;if(m==="number")f=function(){return s};else if(Array.isArray(s))d=function(){return s[0]},f=function(){return s[s.length-1]};else if(m==="string"){var y=s.toLowerCase(),T=y.substring(0,6)==="random",S=y.substring(0,3)==="int";if(T||S){var A=y.indexOf("("),P=y.indexOf(")"),w=y.indexOf(",");if(A&&P&&w){var M=parseFloat(y.substring(A+1,w)),D=parseFloat(y.substring(w+1,P));T?f=function(){return x(M,D)}:f=function(){return h(M,D)}}else throw new Error("invalid random() format")}else{y=y[0];var F=parseFloat(s.substr(2));switch(y){case"+":f=function(H,Y,G){return G+F};break;case"-":f=function(H,Y,G){return G-F};break;case"*":f=function(H,Y,G){return G*F};break;case"/":f=function(H,Y,G){return G/F};break;default:f=function(){return parseFloat(s)}}}}else if(m==="function")f=s;else if(m==="object")if(i(s))o(s)&&(v=s.getActive),a(s)&&(f=s.getEnd),r(s)&&(d=s.getStart);else if(s.hasOwnProperty("value"))u=n(l,s.value);else{var L=s.hasOwnProperty("to"),O=s.hasOwnProperty("from"),B=s.hasOwnProperty("start");if(L&&(O||B)){if(u=n(l,s.to),B){var U=n(l,s.start);u.getActive=U.getEnd}if(O){var W=n(l,s.from);u.getStart=W.getEnd}}}return u||(u={getActive:v,getEnd:f,getStart:d}),u};c.exports=n},88032:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),x=t(69902),o=t(23568),r=t(57355),a=t(6113),i=t(95540),n=t(55292),l=t(35154),s=t(17777),u=t(269),f=t(86081),d=function(v,m,y){if(m instanceof f)return m.parent=v,m;y===void 0?y=x:y=u(x,y);var T=i(m,"from",0),S=i(m,"to",1),A=[{value:T}],P=i(m,"delay",y.delay),w=i(m,"easeParams",y.easeParams),M=i(m,"ease",y.ease),D=s("value",S),F=new f(v,A),L=F.add(0,"value",D.getEnd,D.getStart,D.getActive,a(i(m,"ease",M),i(m,"easeParams",w)),n(m,"delay",P),i(m,"duration",y.duration),r(m,"yoyo",y.yoyo),i(m,"hold",y.hold),i(m,"repeat",y.repeat),i(m,"repeatDelay",y.repeatDelay),!1,!1);L.start=T,L.current=T,F.completeDelay=o(m,"completeDelay",0),F.loop=Math.round(o(m,"loop",0)),F.loopDelay=Math.round(o(m,"loopDelay",0)),F.paused=r(m,"paused",!1),F.persist=r(m,"persist",!1),F.isNumberTween=!0,F.callbackScope=l(m,"callbackScope",F);for(var O=h.TYPES,B=0;B<O.length;B++){var U=O[B],W=l(m,U,!1);if(W){var H=l(m,U+"Params",[]);F.setCallback(U,W,H)}}return F};c.exports=d},93109:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6113),x=t(35154),o=t(36383),r=function(a,i){i===void 0&&(i={});var n,l=x(i,"start",0),s=x(i,"ease",null),u=x(i,"grid",null),f=x(i,"from",0),d=f==="first",v=f==="center",m=f==="last",y=typeof f=="number",T=Array.isArray(a),S=parseFloat(T?a[0]:a),A=T?parseFloat(a[1]):0,P=Math.max(S,A);if(T&&(l+=S),u){var w=u[0],M=u[1],D=0,F=0,L=0,O=0,B=[];m?(D=w-1,F=M-1):y?(D=f%w,F=Math.floor(f/w)):v&&(D=(w-1)/2,F=(M-1)/2);for(var U=o.MIN_SAFE_INTEGER,W=0;W<M;W++){B[W]=[];for(var H=0;H<w;H++){L=D-H,O=F-W;var Y=Math.sqrt(L*L+O*O);Y>U&&(U=Y),B[W][H]=Y}}}var G=s?h(s):null;return u?n=function(X,V,b,z){var $=0,Q=z%w,Z=Math.floor(z/w);Q>=0&&Q<w&&Z>=0&&Z<M&&($=B[Z][Q]);var q;if(T){var j=A-S;G?q=$/U*j*G($/U):q=$/U*j}else G?q=$*S*G($/U):q=$*S;return q+l}:n=function(X,V,b,z,$){$--;var Q;d?Q=z:v?Q=Math.abs($/2-z):m?Q=$-z:y&&(Q=Math.abs(f-z));var Z;if(T){var q;v?q=(A-S)/$*(Q*2):q=(A-S)/$*Q,G?Z=q*G(Q/$):Z=q}else G?Z=$*P*G(Q/$):Z=Q*S;return Z+l},n};c.exports=r},8357:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),x=t(69902),o=t(23568),r=t(57355),a=t(6113),i=t(95540),n=t(91389),l=t(55292),s=t(82985),u=t(62329),f=t(35154),d=t(17777),v=t(269),m=t(86081),y=function(T,S,A){if(S instanceof m)return S.parent=T,S;A===void 0?A=x:A=v(x,A);var P=u(S);!P&&A.targets&&(P=A.targets);for(var w=s(S),M=i(S,"delay",A.delay),D=i(S,"duration",A.duration),F=i(S,"easeParams",A.easeParams),L=i(S,"ease",A.ease),O=i(S,"hold",A.hold),B=i(S,"repeat",A.repeat),U=i(S,"repeatDelay",A.repeatDelay),W=r(S,"yoyo",A.yoyo),H=r(S,"flipX",A.flipX),Y=r(S,"flipY",A.flipY),G=i(S,"interpolation",A.interpolation),X=function(et,it,st,nt){if(st==="texture"){var ut=nt,ft=void 0;Array.isArray(nt)?(ut=nt[0],ft=nt[1]):nt.hasOwnProperty("value")?(ut=nt.value,Array.isArray(nt.value)?(ut=nt.value[0],ft=nt.value[1]):typeof nt.value=="string"&&(ut=nt.value)):typeof nt=="string"&&(ut=nt),et.addFrame(it,ut,ft,l(nt,"delay",M),i(nt,"duration",D),i(nt,"hold",O),i(nt,"repeat",B),i(nt,"repeatDelay",U),r(nt,"flipX",H),r(nt,"flipY",Y))}else{var ht=d(st,nt),rt=n(i(nt,"interpolation",G));et.add(it,st,ht.getEnd,ht.getStart,ht.getActive,a(i(nt,"ease",L),i(nt,"easeParams",F)),l(nt,"delay",M),i(nt,"duration",D),r(nt,"yoyo",W),i(nt,"hold",O),i(nt,"repeat",B),i(nt,"repeatDelay",U),r(nt,"flipX",H),r(nt,"flipY",Y),rt,rt?nt:null)}},V=new m(T,P),b=0;b<w.length;b++)for(var z=w[b].key,$=w[b].value,Q=0;Q<P.length;Q++)z==="scale"&&!P[Q].hasOwnProperty("scale")?(X(V,Q,"scaleX",$),X(V,Q,"scaleY",$)):X(V,Q,z,$);V.completeDelay=o(S,"completeDelay",0),V.loop=Math.round(o(S,"loop",0)),V.loopDelay=Math.round(o(S,"loopDelay",0)),V.paused=r(S,"paused",!1),V.persist=r(S,"persist",!1),V.callbackScope=i(S,"callbackScope",V);for(var Z=h.TYPES,q=0;q<Z.length;q++){var j=Z[q],k=f(S,j,!1);if(k){var _=f(S,j+"Params",[]);V.setCallback(j,k,_)}}return V};c.exports=y},26012:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),x=t(23568),o=t(57355),r=t(62329),a=t(35154),i=t(8357),n=t(43960),l=function(s,u){if(u instanceof n)return u.parent=s,u;var f=new n(s);f.startDelay=a(u,"delay",0),f.completeDelay=x(u,"completeDelay",0),f.loop=Math.round(x(u,"loop",a(u,"repeat",0))),f.loopDelay=Math.round(x(u,"loopDelay",a(u,"repeatDelay",0))),f.paused=o(u,"paused",!1),f.persist=o(u,"persist",!1),f.callbackScope=a(u,"callbackScope",f);var d,v=h.TYPES;for(d=0;d<v.length;d++){var m=v[d],y=a(u,m,!1);if(y){var T=a(u,m+"Params",[]);f.setCallback(m,y,T)}}var S=a(u,"tweens",null);if(Array.isArray(S)){var A=[],P=r(u),w=void 0;for(P&&(w={targets:P}),d=0;d<S.length;d++)A.push(i(f,S[d],w));f.add(A)}return f};c.exports=l},30231:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},98540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},67233:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},2859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},98336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},25764:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},32193:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},84371:c=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},70766:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},55659:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},842:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};c.exports=h},70402:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(842),r=t(86353),a=new h({Extends:x,initialize:function(n){x.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(i){return this.timeScale=i,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(i){return i===void 0&&(i=0),i?(this.setCompleteDelayState(),this.countdown=i):this.onCompleteHandler(),this},completeAfterLoop:function(i){return i===void 0&&(i=0),this.loopCounter>i&&(this.loopCounter=i),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(i){this.countdown-=i,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(i){return this.countdown-=i,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),i=0),i},updateCompleteDelay:function(i){this.countdown-=i,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(i,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(i)&&(this.callbacks[i]={func:n,params:l}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(i){i.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});a.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=a},95042:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(842),o=t(86353),r=new h({initialize:function(i,n,l,s,u,f,d,v,m,y){this.tween=i,this.targetIndex=n,this.duration=s<=0?.01:s,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=u,this.hold=f,this.repeat=d,this.repeatDelay=v,this.repeatCounter=0,this.flipX=m,this.flipY=y,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(a){a===void 0&&(a=this.current),this.tween.targets[this.targetIndex][this.key]=a},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(a){this.yoyo?this.onRepeat(a,!0,!0):this.repeatCounter>0?this.onRepeat(a,!0,!1):this.setCompleteState()},setStateFromStart:function(a){this.repeatCounter>0?this.onRepeat(a,!1):this.setCompleteState()},reset:function(){var a=this.tween,i=a.totalTargets,n=this.targetIndex,l=a.targets[n],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,s,0,n,i,a),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var u=this.duration+this.hold;this.yoyo&&(u+=this.duration);var f=u+this.repeatDelay;this.totalDuration=this.delay+u,this.repeat===-1?(this.totalDuration+=f*o.MAX,a.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>a.duration&&(a.duration=this.totalDuration),this.delay<a.startDelay&&(a.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(a,i,n){var l=this.tween,s=l.totalTargets,u=this.targetIndex,f=l.targets[u],d=this.key,v=d!=="texture";if(this.elapsed=a,this.progress=a/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),v&&(i||n)&&(this.start=this.getStartValue(f,d,this.start,u,s,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(f,d,this.start,u,s,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-a,v&&(this.current=this.start,f[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=r},69902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=E},81076:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),x=t(83419),o=t(842),r=t(44603),a=t(39429),i=t(36383),n=t(86353),l=t(48177),s=t(42220),u=new x({Extends:h,initialize:function(d,v){h.call(this,d),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(f,d,v,m,y,T,S,A,P,w,M,D,F,L,O,B){var U=new l(this,f,d,v,m,y,T,S,A,P,w,M,D,F,L,O,B);return this.totalData=this.data.push(U),U},addFrame:function(f,d,v,m,y,T,S,A,P,w){var M=new s(this,f,d,v,m,y,T,S,A,P,w);return this.totalData=this.data.push(M),M},getValue:function(f){f===void 0&&(f=0);var d=null;return this.data&&(d=this.data[f].current),d},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,d,v){if(v===void 0&&(v=!1),f!=="texture")for(var m=0;m<this.totalData;m++){var y=this.data[m];y.key===f&&(y.isPlayingForward()||y.isPlayingBackward())&&(y.end=d,v&&(y.start=y.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,d,v){if(f===void 0&&(f=0),d===void 0&&(d=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,f>0){for(var y=Math.floor(f/d),T=f-y*d,S=0;S<y;S++)this.update(d);T>0&&this.update(T)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=i.MAX_SAFE_INTEGER;for(var d=this.data,v=0;v<this.totalData;v++)d[v].reset(f);this.duration=Math.max(this.duration,.01);var m=this.duration,y=this.completeDelay,T=this.loopCounter,S=this.loopDelay;T>0?this.totalDuration=m+y+(m+S)*T:this.totalDuration=m+y},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),f=0));var d=!1;if(this.isActive())for(var v=this.data,m=0;m<this.totalData;m++)v[m].update(f)&&(d=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var y=this.isPendingRemove();return y&&this.persist&&(this.setFinishedState(),y=!1),y},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,d){if(!this.isSeeking){if(this.emit(f,this,this.targets),!this.callbacks)return;var v=this.callbacks[d];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});a.register("tween",function(f){return this.scene.sys.tweens.add(f)}),r.register("tween",function(f){return this.scene.sys.tweens.create(f)}),c.exports=u},43960:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),x=t(70402),o=t(83419),r=t(842),a=t(44603),i=t(39429),n=t(86353),l=new o({Extends:x,initialize:function(u){x.call(this,u),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(s){var u=this.parent.create(s);Array.isArray(u)||(u=[u]);for(var f=this.data,d=0;d<u.length;d++){var v=u[d];v.parent=this,f.push(v.reset())}return this.totalData=f.length,this},remove:function(s){return h(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var u=this.data,f=0;f<this.totalData;f++)if(u[f].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,u=this.totalData,f=0;f<u;f++)s[f].reset(!1);this.setCurrentTween(0)},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(s*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(s),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(s),!1;this.hasStarted||(this.startDelay-=s,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(r.TWEEN_START,"onStart"),s=0));var u=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),u=this.isPendingRemove(),u&&this.persist&&(this.setFinishedState(),u=!1)),u},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState()},dispatchEvent:function(s,u){this.emit(s,this);var f=this.callbacks[u];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});i.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),a.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),c.exports=l},48177:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),x=t(45319),o=t(83419),r=t(842),a=new o({Extends:h,initialize:function(n,l,s,u,f,d,v,m,y,T,S,A,P,w,M,D,F){h.call(this,n,l,m,y,T,S,A,P,w,M),this.key=s,this.getActiveValue=d,this.getEndValue=u,this.getStartValue=f,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=F},reset:function(i){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;i&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(i){var n=this.tween,l=n.totalTargets,s=this.targetIndex,u=n.targets[s],f=this.key;if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(u,f,u[f],s,l,n),this.end=this.getEndValue(u,f,this.start,s,l,n),this.current=this.start,u[f]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),v=this.isPlayingBackward();if(d||v){var m=this.elapsed,y=this.duration,T=0,S=!1;m+=i,m>=y?(T=m-y,m=y,S=!0):m<0&&(m=0);var A=x(m/y,0,1);this.elapsed=m,this.progress=A,this.previous=this.current,d||(A=1-A);var P=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,P):this.current=this.start+(this.end-this.start)*P,u[f]=this.current,S&&(d?(n.isNumberTween&&(this.current=this.end,u[f]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(n.isNumberTween&&(this.current=this.start,u[f]=this.current),this.setStateFromStart(T))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key,f=this.current,d=this.previous;l.emit(i,l,u,s,f,d);var v=l.callbacks[n];v&&v.func.apply(l.callbackScope,[l,s,u,f,d].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=a},42220:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),x=t(45319),o=t(83419),r=t(842),a=new o({Extends:h,initialize:function(n,l,s,u,f,d,v,m,y,T,S){h.call(this,n,l,f,d,!1,v,m,y,T,S),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=u,this.yoyo=m!==0},reset:function(i){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),i&&n.setTexture(this.startTexture,this.startFrame)},update:function(i){var n=this.tween,l=this.targetIndex,s=n.targets[l];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),f=this.isPlayingBackward();if(u||f){var d=this.elapsed,v=this.duration,m=0,y=!1;d+=i,d>=v?(m=d-v,d=v,y=!0):d<0&&(d=0);var T=x(d/v,0,1);this.elapsed=d,this.progress=T,y&&(u?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key;l.emit(i,l,u,s);var f=l.callbacks[n];f&&f.func.apply(l.callbackScope,[l,s,u].concat(f.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=a},86353:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=E},83419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function E(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}function t(a,i,n){var l=n?a[i]:Object.getOwnPropertyDescriptor(a,i);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&E(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function h(a,i){var n=Object.getOwnPropertyDescriptor(a,i);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function x(a,i,n,l){for(var s in i)if(i.hasOwnProperty(s)){var u=t(i,s,n);if(u!==!1){var f=l||a;if(h(f.prototype,s)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(a.prototype,s,u)}else a.prototype[s]=i[s]}}function o(a,i){if(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)x(a,i[n].prototype||i[n])}}function r(a){a||(a={});var i,n;if(a.initialize){if(typeof a.initialize!="function")throw new Error("initialize must be a function");i=a.initialize,delete a.initialize}else if(a.Extends){var l=a.Extends;i=function(){l.apply(this,arguments)}}else i=function(){};a.Extends?(i.prototype=Object.create(a.Extends.prototype),i.prototype.constructor=i,n=a.Extends,delete a.Extends):i.prototype.constructor=i;var s=null;return a.Mixins&&(s=a.Mixins,delete a.Mixins),o(i,s),x(i,a,!0,n),i}r.extend=x,r.mixin=o,r.ignoreFinals=!1,c.exports=r},29747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(){};c.exports=E},20242:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(){return null};c.exports=E},71146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r){if(r===void 0&&(r=t),x>0){var a=x-t.length;if(a<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),o&&o.call(r,h),h):null;for(var i=h.length-1;i>=0;)t.indexOf(h[i])!==-1&&h.splice(i,1),i--;if(i=h.length,i===0)return null;x>0&&i>a&&(h.splice(a),i=a);for(var n=0;n<i;n++){var l=h[n];t.push(l),o&&o.call(r,l)}return h};c.exports=E},51067:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o,r,a){if(x===void 0&&(x=0),a===void 0&&(a=t),o>0){var i=o-t.length;if(i<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(x,0,h),r&&r.call(a,h),h):null;for(var n=h.length-1;n>=0;)t.indexOf(h[n])!==-1&&h.pop(),n--;if(n=h.length,n===0)return null;o>0&&n>i&&(h.splice(i),n=i);for(var l=n-1;l>=0;l--){var s=h[l];t.splice(x,0,s),r&&r.call(a,s)}return h};c.exports=E},66905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.indexOf(h);return x!==-1&&x<t.length&&(t.splice(x,1),t.push(h)),h};c.exports=E},21612:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,r,a,i,n){i===void 0&&(i=0),n===void 0&&(n=o.length);var l=0;if(h(o,i,n))for(var s=i;s<n;s++){var u=o[s];u[r]===a&&l++}return l};c.exports=x},95428:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o,r=[null];for(o=3;o<arguments.length;o++)r.push(arguments[o]);for(o=0;o<t.length;o++)r[0]=t[o],h.apply(x,r);return t};c.exports=E},36914:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,r,a,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),h(o,i,n)){var l,s=[null];for(l=5;l<arguments.length;l++)s.push(arguments[l]);for(l=i;l<n;l++)s[0]=o[l],r.apply(a,s)}return o};c.exports=x},81957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(h.length){if(h.length===1)return h[0]}else return NaN;var o=1,r,a;if(x){if(t<h[0][x])return h[0];for(;h[o][x]<t;)o++}else for(;h[o]<t;)o++;return o>h.length&&(o=h.length),x?(r=h[o-1][x],a=h[o][x],a-t<=t-r?h[o]:h[o-1]):(r=h[o-1],a=h[o],a-t<=t-r?a:r)};c.exports=E},43491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=[]);for(var x=0;x<t.length;x++)Array.isArray(t[x])?E(t[x],h):h.push(t[x]);return h};c.exports=E},46710:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,r,a,i,n){i===void 0&&(i=0),n===void 0&&(n=o.length);var l=[];if(h(o,i,n))for(var s=i;s<n;s++){var u=o[s];(!r||r&&a===void 0&&u.hasOwnProperty(r)||r&&a!==void 0&&u[r]===a)&&l.push(u)}return l};c.exports=x},58731:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,r,a,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),i!==-1){if(h(o,i,n))for(var l=i;l<n;l++){var s=o[l];if(!r||r&&a===void 0&&s.hasOwnProperty(r)||r&&a!==void 0&&s[r]===a)return s}}else if(h(o,0,n))for(var l=n;l>=0;l--){var s=o[l];if(!r||r&&a===void 0&&s.hasOwnProperty(r)||r&&a!==void 0&&s[r]===a)return s}return null};c.exports=x},26546:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){h===void 0&&(h=0),x===void 0&&(x=t.length);var o=h+Math.floor(Math.random()*x);return t[o]===void 0?null:t[o]};c.exports=E},85835:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(h===x)return t;var o=t.indexOf(h),r=t.indexOf(x);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return o>r||(t.splice(o,1),r=t.indexOf(x),t.splice(r+1,0,h)),t};c.exports=E},83371:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(h===x)return t;var o=t.indexOf(h),r=t.indexOf(x);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return o<r||(t.splice(o,1),r===0?t.unshift(h):t.splice(r,0,h)),t};c.exports=E},70864:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.indexOf(h);if(x>0){var o=t[x-1],r=t.indexOf(o);t[x]=o,t[r]=h}return t};c.exports=E},69693:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=t.indexOf(h);if(o===-1||x<0||x>=t.length)throw new Error("Supplied index out of bounds");return o!==x&&(t.splice(o,1),t.splice(x,0,h)),h};c.exports=E},40853:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.indexOf(h);if(x!==-1&&x<t.length-1){var o=t[x+1],r=t.indexOf(o);t[x]=o,t[r]=h}return t};c.exports=E},20283:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=[],a,i=!1;if((x||o)&&(i=!0,x||(x=""),o||(o="")),h<t)for(a=t;a>=h;a--)i?r.push(x+a.toString()+o):r.push(a);else for(a=t;a<=h;a++)i?r.push(x+a.toString()+o):r.push(a);return r};c.exports=E},593:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2284),x=function(o,r,a){o===void 0&&(o=0),r===void 0&&(r=null),a===void 0&&(a=1),r===null&&(r=o,o=0);for(var i=[],n=Math.max(h((r-o)/(a||1)),0),l=0;l<n;l++)i.push(o),o+=a;return i};c.exports=x},43886:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function E(x,o,r){var a=x[o];x[o]=x[r],x[r]=a}function t(x,o){return x<o?-1:x>o?1:0}var h=function(x,o,r,a,i){for(r===void 0&&(r=0),a===void 0&&(a=x.length-1),i===void 0&&(i=t);a>r;){if(a-r>600){var n=a-r+1,l=o-r+1,s=Math.log(n),u=.5*Math.exp(2*s/3),f=.5*Math.sqrt(s*u*(n-u)/n)*(l-n/2<0?-1:1),d=Math.max(r,Math.floor(o-l*u/n+f)),v=Math.min(a,Math.floor(o+(n-l)*u/n+f));h(x,o,d,v,i)}var m=x[o],y=r,T=a;for(E(x,r,o),i(x[a],m)>0&&E(x,r,a);y<T;){for(E(x,y,T),y++,T--;i(x[y],m)<0;)y++;for(;i(x[T],m)>0;)T--}i(x[r],m)===0?E(x,r,T):(T++,E(x,T,a)),T<=o&&(r=T+1),o<=T&&(a=T-1)}};c.exports=h},88492:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x=t(33680),o=function(a,i,n){for(var l=[],s=0;s<a.length;s++)for(var u=0;u<i.length;u++)for(var f=0;f<n;f++)l.push({a:a[s],b:i[u]});return l},r=function(a,i,n){var l=h(n,"max",0),s=h(n,"qty",1),u=h(n,"random",!1),f=h(n,"randomB",!1),d=h(n,"repeat",0),v=h(n,"yoyo",!1),m=[];if(f&&x(i),d===-1)if(l===0)d=0;else{var y=a.length*i.length*s;v&&(y*=2),d=Math.ceil(l/y)}for(var T=0;T<=d;T++){var S=o(a,i,s);u&&x(S),m=m.concat(S),v&&(S.reverse(),m=m.concat(S))}return l&&m.splice(l),m};c.exports=r},72905:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),x=function(o,r,a,i){i===void 0&&(i=o);var n;if(!Array.isArray(r))return n=o.indexOf(r),n!==-1?(h(o,n),a&&a.call(i,r),r):null;for(var l=r.length-1,s=[];l>=0;){var u=r[l];n=o.indexOf(u),n!==-1&&(h(o,n),s.push(u),a&&a.call(i,u)),l--}return s};c.exports=x},60248:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),x=function(o,r,a,i){if(i===void 0&&(i=o),r<0||r>o.length-1)throw new Error("Index out of bounds");var n=h(o,r);return a&&a.call(i,n),n};c.exports=x},81409:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,r,a,i,n){if(r===void 0&&(r=0),a===void 0&&(a=o.length),n===void 0&&(n=o),h(o,r,a)){var l=a-r,s=o.splice(r,l);if(i)for(var u=0;u<s.length;u++){var f=s[u];i.call(n,f)}return s}else return[]};c.exports=x},31856:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),x=function(o,r,a){r===void 0&&(r=0),a===void 0&&(a=o.length);var i=r+Math.floor(Math.random()*a);return h(o,i)};c.exports=x},42169:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=t.indexOf(h),r=t.indexOf(x);return o!==-1&&r===-1?(t[o]=x,!0):!1};c.exports=E},86003:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=1);for(var x=null,o=0;o<h;o++)x=t.shift(),t.push(x);return x};c.exports=E},49498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){h===void 0&&(h=1);for(var x=null,o=0;o<h;o++)x=t.pop(),t.unshift(x);return x};c.exports=E},82011:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){var r=t.length;if(h<0||h>=r||h>=x||x>r){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=E},89545:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){var x=t.indexOf(h);return x!==-1&&x>0&&(t.splice(x,1),t.unshift(h)),h};c.exports=E},17810:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,r,a,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),h(o,i,n))for(var l=i;l<n;l++){var s=o[l];s.hasOwnProperty(r)&&(s[r]=a)}return o};c.exports=x},33680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){for(var h=t.length-1;h>0;h--){var x=Math.floor(Math.random()*(h+1)),o=t[h];t[h]=t[x],t[x]=o}return t};c.exports=E},90126:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h=/\D/g;return t.sort(function(x,o){return parseInt(x.replace(h,""),10)-parseInt(o.replace(h,""),10)}),t};c.exports=E},19133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){if(!(h>=t.length)){for(var x=t.length-1,o=t[h],r=h;r<x;r++)t[r]=t[r+1];return t.length=x,o}};c.exports=E},19186:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82264);function x(i,n){return String(i).localeCompare(n)}function o(i,n){var l=i.length;if(l<=1)return i;for(var s=new Array(l),u=1;u<l;u*=2){r(i,n,u,s);var f=i;i=s,s=f}return i}function r(i,n,l,s){var u=i.length,f=0,d=l*2,v,m,y,T,S;for(v=0;v<u;v+=d)for(m=v+l,y=m+l,m>u&&(m=u),y>u&&(y=u),T=v,S=m;;)if(T<m&&S<y)n(i[T],i[S])<=0?s[f++]=i[T++]:s[f++]=i[S++];else if(T<m)s[f++]=i[T++];else if(S<y)s[f++]=i[S++];else break}var a=function(i,n){if(n===void 0&&(n=x),!i||i.length<2)return i;if(h.features.stableSort)return i.sort(n);var l=o(i,n);return l!==i&&r(l,null,i.length,i),i};c.exports=a},25630:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(h===x)return t;var o=t.indexOf(h),r=t.indexOf(x);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[o]=x,t[r]=h,t};c.exports=E},37105:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,x=1;x<t.length;x++)if(t[x].length!==h)return!1;return!0};c.exports=E},63362:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41836),x=t(86922),o=function(r){var a="";if(!x(r))return a;for(var i=0;i<r.length;i++){for(var n=0;n<r[i].length;n++){var l=r[i][n].toString();l!=="undefined"?a+=h(l,2):a+="?",n<r[i].length-1&&(a+=" |")}if(i<r.length-1){a+=`
`;for(var s=0;s<r[i].length;s++)a+="---",s<r[i].length-1&&(a+="+");a+=`
`}}return a};c.exports=o},92598:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.reverse()};c.exports=E},21224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};c.exports=E},98717:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),x=function(o){return h(o,180)};c.exports=x},44657:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),x=function(o,r){r===void 0&&(r=1);for(var a=0;a<r;a++)o=h(o,90);return o};c.exports=x},37829:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86922),x=t(2429),o=function(r,a){if(a===void 0&&(a=90),!h(r))return null;if(typeof a!="string"&&(a=(a%360+360)%360),a===90||a===-270||a==="rotateLeft")r=x(r),r.reverse();else if(a===-90||a===270||a==="rotateRight")r.reverse(),r=x(r);else if(Math.abs(a)===180||a==="rotate180"){for(var i=0;i<r.length;i++)r[i].reverse();r.reverse()}return r};c.exports=o},92632:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),x=function(o,r){r===void 0&&(r=1);for(var a=0;a<r;a++)o=h(o,-90);return o};c.exports=x},69512:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86003),x=t(49498),o=function(r,a,i){if(a===void 0&&(a=0),i===void 0&&(i=0),i!==0&&(i<0?h(r,Math.abs(i)):x(r,i)),a!==0)for(var n=0;n<r.length;n++){var l=r[n];a<0?h(l,Math.abs(a)):x(l,a)}return r};c.exports=o},2429:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){for(var h=t.length,x=t[0].length,o=new Array(x),r=0;r<x;r++){o[r]=new Array(h);for(var a=h-1;a>-1;a--)o[r][a]=t[a][r]}return o};c.exports=E},54915:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,x){for(var o=new Uint8Array(h),r=o.length,a=x?"data:"+x+";base64,":"",i=0;i<r;i+=3)a+=E[o[i]>>2],a+=E[(o[i]&3)<<4|o[i+1]>>4],a+=E[(o[i+1]&15)<<2|o[i+2]>>6],a+=E[o[i+2]&63];return r%3===2?a=a.substring(0,a.length-1)+"=":r%3===1&&(a=a.substring(0,a.length-2)+"=="),a};c.exports=t},53134:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<E.length;h++)t[E.charCodeAt(h)]=h;var x=function(o){o=o.substr(o.indexOf(",")+1);var r=o.length,a=r*.75,i=0,n,l,s,u;o[r-1]==="="&&(a--,o[r-2]==="="&&a--);for(var f=new ArrayBuffer(a),d=new Uint8Array(f),v=0;v<r;v+=4)n=t[o.charCodeAt(v)],l=t[o.charCodeAt(v+1)],s=t[o.charCodeAt(v+2)],u=t[o.charCodeAt(v+3)],d[i++]=n<<2|l>>4,d[i++]=(l&15)<<4|s>>2,d[i++]=(s&3)<<6|u&63;return f};c.exports=x},65839:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h={};for(var x in t)Array.isArray(t[x])?h[x]=t[x].slice(0):h[x]=t[x];return h};c.exports=E},62644:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){var h,x,o;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(o in t)x=t[o],h[o]=E(x);return h};c.exports=E},79291:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41212),x=function(){var o,r,a,i,n,l,s=arguments[0]||{},u=1,f=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},u=2),f===u&&(s=this,--u);u<f;u++)if((o=arguments[u])!=null)for(r in o)a=s[r],i=o[r],s!==i&&(d&&i&&(h(i)||(n=Array.isArray(i)))?(n?(n=!1,l=a&&Array.isArray(a)?a:[]):l=a&&h(a)?a:{},s[r]=x(d,l,i)):i!==void 0&&(s[r]=i));return s};c.exports=x},23568:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75508),x=t(35154),o=function(r,a,i){var n=x(r,a,null);if(n===null)return i;if(Array.isArray(n))return h.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return h.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return h.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(a);return n};c.exports=o},95540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){var o=typeof t;return!t||o==="number"||o==="string"?x:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:x};c.exports=E},82840:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x=t(45319),o=function(r,a,i,n,l){l===void 0&&(l=i);var s=h(r,a,l);return x(s,i,n)};c.exports=o},35154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){if(!t&&!o||typeof t=="number")return x;if(t&&t.hasOwnProperty(h))return t[h];if(o&&o.hasOwnProperty(h))return o[h];if(h.indexOf(".")!==-1){for(var r=h.split("."),a=t,i=o,n=x,l=x,s=!0,u=!0,f=0;f<r.length;f++)a&&a.hasOwnProperty(r[f])?(n=a[r[f]],a=a[r[f]]):s=!1,i&&i.hasOwnProperty(r[f])?(l=i[r[f]],i=i[r[f]]):u=!1;return s?n:u?l:x}else return x};c.exports=E},69036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){for(var x=0;x<h.length;x++)if(!t.hasOwnProperty(h[x]))return!1;return!0};c.exports=E},1985:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){for(var x=0;x<h.length;x++)if(t.hasOwnProperty(h[x]))return!0;return!1};c.exports=E},97022:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.hasOwnProperty(h)};c.exports=E},41212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=E},46975:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),x=function(o,r){var a=h(o);for(var i in r)a.hasOwnProperty(i)||(a[i]=r[i]);return a};c.exports=x},269:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),x=function(o,r){var a=h(o);for(var i in r)a.hasOwnProperty(i)&&(a[i]=r[i]);return a};c.exports=x},18254:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97022),x=function(o,r){for(var a={},i=0;i<r.length;i++){var n=r[i];h(o,n)&&(a[n]=o[n])}return a};c.exports=x},61622:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=x,!0;if(h.indexOf(".")!==-1){for(var o=h.split("."),r=t,a=t,i=0;i<o.length;i++)if(r.hasOwnProperty(o[i]))a=r,r=r[o[i]];else return!1;return a[o[o.length-1]]=x,!0}return!1};c.exports=E},1183:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return t.replace(/%([0-9]+)/g,function(x,o){return h[Number(o)-1]})};c.exports=E},41836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h,x,o){h===void 0&&(h=0),x===void 0&&(x=" "),o===void 0&&(o=3),t=t.toString();var r=0;if(h+1>=t.length)switch(o){case 1:t=new Array(h+1-t.length).join(x)+t;break;case 3:var a=Math.ceil((r=h-t.length)/2),i=r-a;t=new Array(i+1).join(x)+t+new Array(a+1).join(x);break;default:t=t+new Array(h+1-t.length).join(x);break}return t};c.exports=E},33628:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t,h){return h===0?t.slice(1):t.slice(0,h)+t.slice(h+1)};c.exports=E},27671:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t.split("").reverse().join("")};c.exports=E},45650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,x=t==="x"?h:h&3|8;return x.toString(16)})};c.exports=E},35355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E=function(t){return t&&t[0].toUpperCase()+t.slice(1)};c.exports=E},31749:(c,E,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},C={};function R(c){var E=C[c];if(E!==void 0)return E.exports;var t=C[c]={exports:{}};return p[c](t,t.exports,R),t.exports}R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var I=R(85454);return I})())}(fo)),fo.exports}var fr=AS();const cl=g=>g[Math.floor(Math.random()*g.length)];var Ds=(g=>(g.Hiscores="hiscores",g.Profiles="profiles",g))(Ds||{}),ge=(g=>(g.Preload="preload",g.Menu="menu",g.Playing="playing",g.Paused="paused",g.GameOver="gameover",g))(ge||{}),Xl=(g=>(g.Normal="normal",g.Story="story",g.TimeTrial="time-trial",g.Battle="battle",g))(Xl||{}),we=(g=>(g.HpSmall="powerup/hp-small",g.HpMedium="powerup/hp-medium",g.HpLarge="powerup/hp-large",g.EnergySmall="powerup/energy-small",g.EnergyMedium="powerup/energy-medium",g.EnergyLarge="powerup/energy-large",g))(we||{});const PS=Mn("client",()=>{const g=Bt(window.innerWidth),e=Bt(window.innerHeight),p=Ft(()=>({x:g.value/2,y:e.value/2}));return{SCREEN_WIDTH:g,SCREEN_HEIGHT:e,SCREEN_CENTER:p,setScreenSize:()=>{g.value=window.innerWidth,e.value=window.innerHeight}}}),RS=()=>{};var Cc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=function(g){const e=[];let p=0;for(let C=0;C<g.length;C++){let R=g.charCodeAt(C);R<128?e[p++]=R:R<2048?(e[p++]=R>>6|192,e[p++]=R&63|128):(R&64512)===55296&&C+1<g.length&&(g.charCodeAt(C+1)&64512)===56320?(R=65536+((R&1023)<<10)+(g.charCodeAt(++C)&1023),e[p++]=R>>18|240,e[p++]=R>>12&63|128,e[p++]=R>>6&63|128,e[p++]=R&63|128):(e[p++]=R>>12|224,e[p++]=R>>6&63|128,e[p++]=R&63|128)}return e},wS=function(g){const e=[];let p=0,C=0;for(;p<g.length;){const R=g[p++];if(R<128)e[C++]=String.fromCharCode(R);else if(R>191&&R<224){const I=g[p++];e[C++]=String.fromCharCode((R&31)<<6|I&63)}else if(R>239&&R<365){const I=g[p++],c=g[p++],E=g[p++],t=((R&7)<<18|(I&63)<<12|(c&63)<<6|E&63)-65536;e[C++]=String.fromCharCode(55296+(t>>10)),e[C++]=String.fromCharCode(56320+(t&1023))}else{const I=g[p++],c=g[p++];e[C++]=String.fromCharCode((R&15)<<12|(I&63)<<6|c&63)}}return e.join("")},Lm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(g,e){if(!Array.isArray(g))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let R=0;R<g.length;R+=3){const I=g[R],c=R+1<g.length,E=c?g[R+1]:0,t=R+2<g.length,h=t?g[R+2]:0,x=I>>2,o=(I&3)<<4|E>>4;let r=(E&15)<<2|h>>6,a=h&63;t||(a=64,c||(r=64)),C.push(p[x],p[o],p[r],p[a])}return C.join("")},encodeString(g,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(g):this.encodeByteArray(Im(g),e)},decodeString(g,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(g):wS(this.decodeStringToByteArray(g,e))},decodeStringToByteArray(g,e){this.init_();const p=e?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let R=0;R<g.length;){const I=p[g.charAt(R++)],E=R<g.length?p[g.charAt(R)]:0;++R;const h=R<g.length?p[g.charAt(R)]:64;++R;const o=R<g.length?p[g.charAt(R)]:64;if(++R,I==null||E==null||h==null||o==null)throw new MS;const r=I<<2|E>>4;if(C.push(r),h!==64){const a=E<<4&240|h>>2;if(C.push(a),o!==64){const i=h<<6&192|o;C.push(i)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let g=0;g<this.ENCODED_VALS.length;g++)this.byteToCharMap_[g]=this.ENCODED_VALS.charAt(g),this.charToByteMap_[this.byteToCharMap_[g]]=g,this.byteToCharMapWebSafe_[g]=this.ENCODED_VALS_WEBSAFE.charAt(g),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[g]]=g,g>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(g)]=g,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(g)]=g)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IS=function(g){const e=Im(g);return Lm.encodeByteArray(e,!0)},Fm=function(g){return IS(g).replace(/\./g,"")},Dm=function(g){try{return Lm.decodeString(g,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=()=>LS().__FIREBASE_DEFAULTS__,DS=()=>{if(typeof process>"u"||typeof Cc>"u")return;const g=Cc.__FIREBASE_DEFAULTS__;if(g)return JSON.parse(g)},OS=()=>{if(typeof document>"u")return;let g;try{g=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=g&&Dm(g[1]);return e&&JSON.parse(e)},gh=()=>{try{return RS()||FS()||DS()||OS()}catch(g){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${g}`);return}},NS=g=>{var e,p;return(p=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||p===void 0?void 0:p[g]},Om=()=>{var g;return(g=gh())===null||g===void 0?void 0:g.config},Nm=g=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${g}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,p)=>{this.resolve=e,this.reject=p})}wrapCallback(e){return(p,C)=>{p?this.reject(p):this.resolve(C),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(p):e(p,C))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function VS(){var g;const e=(g=gh())===null||g===void 0?void 0:g.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const g=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof g=="object"&&g.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const g=ti();return g.indexOf("MSIE ")>=0||g.indexOf("Trident/")>=0}function WS(){return!VS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((g,e)=>{try{let p=!0;const C="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(C);R.onsuccess=()=>{R.result.close(),p||self.indexedDB.deleteDatabase(C),g(!0)},R.onupgradeneeded=()=>{p=!1},R.onerror=()=>{var I;e(((I=R.error)===null||I===void 0?void 0:I.message)||"")}}catch(p){e(p)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="FirebaseError";class xs extends Error{constructor(e,p,C){super(p),this.code=e,this.customData=C,this.name=KS,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(e,p,C){this.service=e,this.serviceName=p,this.errors=C}create(e,...p){const C=p[0]||{},R=`${this.service}/${e}`,I=this.errors[e],c=I?$S(I,C):"Error",E=`${this.serviceName}: ${c} (${R}).`;return new xs(R,E,C)}}function $S(g,e){return g.replace(QS,(p,C)=>{const R=e[C];return R!=null?String(R):`<${C}?>`})}const QS=/\{\$([^}]+)}/g;function jS(g){for(const e in g)if(Object.prototype.hasOwnProperty.call(g,e))return!1;return!0}function Tn(g,e){if(g===e)return!0;const p=Object.keys(g),C=Object.keys(e);for(const R of p){if(!C.includes(R))return!1;const I=g[R],c=e[R];if(Ac(I)&&Ac(c)){if(!Tn(I,c))return!1}else if(I!==c)return!1}for(const R of C)if(!p.includes(R))return!1;return!0}function Ac(g){return g!==null&&typeof g=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(g){const e=[];for(const[p,C]of Object.entries(g))Array.isArray(C)?C.forEach(R=>{e.push(encodeURIComponent(p)+"="+encodeURIComponent(R))}):e.push(encodeURIComponent(p)+"="+encodeURIComponent(C));return e.length?"&"+e.join("&"):""}function JS(g,e){const p=new ZS(g,e);return p.subscribe.bind(p)}class ZS{constructor(e,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then(()=>{e(this)}).catch(C=>{this.error(C)})}next(e){this.forEachObserver(p=>{p.next(e)})}error(e){this.forEachObserver(p=>{p.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,p,C){let R;if(e===void 0&&p===void 0&&C===void 0)throw new Error("Missing Observer.");kS(e,["next","error","complete"])?R=e:R={next:e,error:p,complete:C},R.next===void 0&&(R.next=vl),R.error===void 0&&(R.error=vl),R.complete===void 0&&(R.complete=vl);const I=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),I}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,e)}sendOne(e,p){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{p(this.observers[e])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kS(g,e){if(typeof g!="object"||g===null)return!1;for(const p of e)if(p in g&&typeof g[p]=="function")return!0;return!1}function vl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(g){return g&&g._delegate?g._delegate:g}class Sn{constructor(e,p,C){this.name=e,this.instanceFactory=p,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,p){this.name=e,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const p=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(p)){const C=new BS;if(this.instancesDeferred.set(p,C),this.isInitialized(p)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:p});R&&C.resolve(R)}catch{}}return this.instancesDeferred.get(p).promise}getImmediate(e){var p;const C=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),R=(p=e==null?void 0:e.optional)!==null&&p!==void 0?p:!1;if(this.isInitialized(C)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:C})}catch(I){if(R)return null;throw I}else{if(R)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tE(e))try{this.getOrInitializeService({instanceIdentifier:un})}catch{}for(const[p,C]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(p);try{const I=this.getOrInitializeService({instanceIdentifier:R});C.resolve(I)}catch{}}}}clearInstance(e=un){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(p=>"INTERNAL"in p).map(p=>p.INTERNAL.delete()),...e.filter(p=>"_delete"in p).map(p=>p._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=un){return this.instances.has(e)}getOptions(e=un){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:p={}}=e,C=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:C,options:p});for(const[I,c]of this.instancesDeferred.entries()){const E=this.normalizeInstanceIdentifier(I);C===E&&c.resolve(R)}return R}onInit(e,p){var C;const R=this.normalizeInstanceIdentifier(p),I=(C=this.onInitCallbacks.get(R))!==null&&C!==void 0?C:new Set;I.add(e),this.onInitCallbacks.set(R,I);const c=this.instances.get(R);return c&&e(c,R),()=>{I.delete(e)}}invokeOnInitCallbacks(e,p){const C=this.onInitCallbacks.get(p);if(C)for(const R of C)try{R(e,p)}catch{}}getOrInitializeService({instanceIdentifier:e,options:p={}}){let C=this.instances.get(e);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:_S(e),options:p}),this.instances.set(e,C),this.instancesOptions.set(e,p),this.invokeOnInitCallbacks(C,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,C)}catch{}return C||null}normalizeInstanceIdentifier(e=un){return this.component?this.component.multipleInstances?e:un:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _S(g){return g===un?void 0:g}function tE(g){return g.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const p=this.getProvider(e.name);if(p.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);p.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const p=new qS(e,this);return this.providers.set(e,p),p}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(g){g[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT"})(Ht||(Ht={}));const iE={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},sE=Ht.INFO,nE={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},rE=(g,e,...p)=>{if(e<g.logLevel)return;const C=new Date().toISOString(),R=nE[e];if(R)console[R](`[${C}]  ${g.name}:`,...p);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bu{constructor(e){this.name=e,this._logLevel=sE,this._logHandler=rE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const aE=(g,e)=>e.some(p=>g instanceof p);let Pc,Rc;function oE(){return Pc||(Pc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hE(){return Rc||(Rc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bm=new WeakMap,Wl=new WeakMap,bm=new WeakMap,pl=new WeakMap,bu=new WeakMap;function lE(g){const e=new Promise((p,C)=>{const R=()=>{g.removeEventListener("success",I),g.removeEventListener("error",c)},I=()=>{p(Os(g.result)),R()},c=()=>{C(g.error),R()};g.addEventListener("success",I),g.addEventListener("error",c)});return e.then(p=>{p instanceof IDBCursor&&Bm.set(p,g)}).catch(()=>{}),bu.set(e,g),e}function uE(g){if(Wl.has(g))return;const e=new Promise((p,C)=>{const R=()=>{g.removeEventListener("complete",I),g.removeEventListener("error",c),g.removeEventListener("abort",c)},I=()=>{p(),R()},c=()=>{C(g.error||new DOMException("AbortError","AbortError")),R()};g.addEventListener("complete",I),g.addEventListener("error",c),g.addEventListener("abort",c)});Wl.set(g,e)}let Yl={get(g,e,p){if(g instanceof IDBTransaction){if(e==="done")return Wl.get(g);if(e==="objectStoreNames")return g.objectStoreNames||bm.get(g);if(e==="store")return p.objectStoreNames[1]?void 0:p.objectStore(p.objectStoreNames[0])}return Os(g[e])},set(g,e,p){return g[e]=p,!0},has(g,e){return g instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in g}};function fE(g){Yl=g(Yl)}function dE(g){return g===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...p){const C=g.call(ml(this),e,...p);return bm.set(C,e.sort?e.sort():[e]),Os(C)}:hE().includes(g)?function(...e){return g.apply(ml(this),e),Os(Bm.get(this))}:function(...e){return Os(g.apply(ml(this),e))}}function cE(g){return typeof g=="function"?dE(g):(g instanceof IDBTransaction&&uE(g),aE(g,oE())?new Proxy(g,Yl):g)}function Os(g){if(g instanceof IDBRequest)return lE(g);if(pl.has(g))return pl.get(g);const e=cE(g);return e!==g&&(pl.set(g,e),bu.set(e,g)),e}const ml=g=>bu.get(g);function vE(g,e,{blocked:p,upgrade:C,blocking:R,terminated:I}={}){const c=indexedDB.open(g,e),E=Os(c);return C&&c.addEventListener("upgradeneeded",t=>{C(Os(c.result),t.oldVersion,t.newVersion,Os(c.transaction),t)}),p&&c.addEventListener("blocked",t=>p(t.oldVersion,t.newVersion,t)),E.then(t=>{I&&t.addEventListener("close",()=>I()),R&&t.addEventListener("versionchange",h=>R(h.oldVersion,h.newVersion,h))}).catch(()=>{}),E}const pE=["get","getKey","getAll","getAllKeys","count"],mE=["put","add","delete","clear"],gl=new Map;function wc(g,e){if(!(g instanceof IDBDatabase&&!(e in g)&&typeof e=="string"))return;if(gl.get(e))return gl.get(e);const p=e.replace(/FromIndex$/,""),C=e!==p,R=mE.includes(p);if(!(p in(C?IDBIndex:IDBObjectStore).prototype)||!(R||pE.includes(p)))return;const I=async function(c,...E){const t=this.transaction(c,R?"readwrite":"readonly");let h=t.store;return C&&(h=h.index(E.shift())),(await Promise.all([h[p](...E),R&&t.done]))[0]};return gl.set(e,I),I}fE(g=>({...g,get:(e,p,C)=>wc(e,p)||g.get(e,p,C),has:(e,p)=>!!wc(e,p)||g.has(e,p)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(p=>{if(xE(p)){const C=p.getImmediate();return`${C.library}/${C.version}`}else return null}).filter(p=>p).join(" ")}}function xE(g){const e=g.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hl="@firebase/app",Mc="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Bu("@firebase/app"),yE="@firebase/app-compat",TE="@firebase/analytics-compat",SE="@firebase/analytics",EE="@firebase/app-check-compat",CE="@firebase/app-check",AE="@firebase/auth",PE="@firebase/auth-compat",RE="@firebase/database",wE="@firebase/data-connect",ME="@firebase/database-compat",IE="@firebase/functions",LE="@firebase/functions-compat",FE="@firebase/installations",DE="@firebase/installations-compat",OE="@firebase/messaging",NE="@firebase/messaging-compat",BE="@firebase/performance",bE="@firebase/performance-compat",VE="@firebase/remote-config",GE="@firebase/remote-config-compat",UE="@firebase/storage",zE="@firebase/storage-compat",XE="@firebase/firestore",WE="@firebase/vertexai",YE="@firebase/firestore-compat",HE="firebase",KE="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="[DEFAULT]",$E={[Hl]:"fire-core",[yE]:"fire-core-compat",[SE]:"fire-analytics",[TE]:"fire-analytics-compat",[CE]:"fire-app-check",[EE]:"fire-app-check-compat",[AE]:"fire-auth",[PE]:"fire-auth-compat",[RE]:"fire-rtdb",[wE]:"fire-data-connect",[ME]:"fire-rtdb-compat",[IE]:"fire-fn",[LE]:"fire-fn-compat",[FE]:"fire-iid",[DE]:"fire-iid-compat",[OE]:"fire-fcm",[NE]:"fire-fcm-compat",[BE]:"fire-perf",[bE]:"fire-perf-compat",[VE]:"fire-rc",[GE]:"fire-rc-compat",[UE]:"fire-gcs",[zE]:"fire-gcs-compat",[XE]:"fire-fst",[YE]:"fire-fst-compat",[WE]:"fire-vertex","fire-js":"fire-js",[HE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Map,QE=new Map,$l=new Map;function Ic(g,e){try{g.container.addComponent(e)}catch(p){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${g.name}`,p)}}function er(g){const e=g.name;if($l.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;$l.set(e,g);for(const p of No.values())Ic(p,g);for(const p of QE.values())Ic(p,g);return!0}function Vu(g,e){const p=g.container.getProvider("heartbeat").getImmediate({optional:!0});return p&&p.triggerHeartbeat(),g.container.getProvider(e)}function Ai(g){return g==null?!1:g.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Ta("app","Firebase",jE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,p,C){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=C,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=KE;function Vm(g,e={}){let p=g;typeof e!="object"&&(e={name:e});const C=Object.assign({name:Kl,automaticDataCollectionEnabled:!1},e),R=C.name;if(typeof R!="string"||!R)throw Ns.create("bad-app-name",{appName:String(R)});if(p||(p=Om()),!p)throw Ns.create("no-options");const I=No.get(R);if(I){if(Tn(p,I.options)&&Tn(C,I.config))return I;throw Ns.create("duplicate-app",{appName:R})}const c=new eE(R);for(const t of $l.values())c.addComponent(t);const E=new JE(p,C,c);return No.set(R,E),E}function ZE(g=Kl){const e=No.get(g);if(!e&&g===Kl&&Om())return Vm();if(!e)throw Ns.create("no-app",{appName:g});return e}function Bs(g,e,p){var C;let R=(C=$E[g])!==null&&C!==void 0?C:g;p&&(R+=`-${p}`);const I=R.match(/\s|\//),c=e.match(/\s|\//);if(I||c){const E=[`Unable to register library "${R}" with version "${e}":`];I&&E.push(`library name "${R}" contains illegal characters (whitespace or "/")`),I&&c&&E.push("and"),c&&E.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(E.join(" "));return}er(new Sn(`${R}-version`,()=>({library:R,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firebase-heartbeat-database",qE=1,oa="firebase-heartbeat-store";let xl=null;function Gm(){return xl||(xl=vE(kE,qE,{upgrade:(g,e)=>{switch(e){case 0:try{g.createObjectStore(oa)}catch(p){console.warn(p)}}}}).catch(g=>{throw Ns.create("idb-open",{originalErrorMessage:g.message})})),xl}async function _E(g){try{const p=(await Gm()).transaction(oa),C=await p.objectStore(oa).get(Um(g));return await p.done,C}catch(e){if(e instanceof xs)fs.warn(e.message);else{const p=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(p.message)}}}async function Lc(g,e){try{const C=(await Gm()).transaction(oa,"readwrite");await C.objectStore(oa).put(e,Um(g)),await C.done}catch(p){if(p instanceof xs)fs.warn(p.message);else{const C=Ns.create("idb-set",{originalErrorMessage:p==null?void 0:p.message});fs.warn(C.message)}}}function Um(g){return`${g.name}!${g.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=1024,e2=30;class i2{constructor(e){this.container=e,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this._storage=new n2(p),this._heartbeatsCachePromise=this._storage.read().then(C=>(this._heartbeatsCache=C,C))}async triggerHeartbeat(){var e,p;try{const R=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),I=Fc();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((p=this._heartbeatsCache)===null||p===void 0?void 0:p.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===I||this._heartbeatsCache.heartbeats.some(c=>c.date===I))return;if(this._heartbeatsCache.heartbeats.push({date:I,agent:R}),this._heartbeatsCache.heartbeats.length>e2){const c=r2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(C){fs.warn(C)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const p=Fc(),{heartbeatsToSend:C,unsentEntries:R}=s2(this._heartbeatsCache.heartbeats),I=Fm(JSON.stringify({version:2,heartbeats:C}));return this._heartbeatsCache.lastSentHeartbeatDate=p,R.length>0?(this._heartbeatsCache.heartbeats=R,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),I}catch(p){return fs.warn(p),""}}}function Fc(){return new Date().toISOString().substring(0,10)}function s2(g,e=t2){const p=[];let C=g.slice();for(const R of g){const I=p.find(c=>c.agent===R.agent);if(I){if(I.dates.push(R.date),Dc(p)>e){I.dates.pop();break}}else if(p.push({agent:R.agent,dates:[R.date]}),Dc(p)>e){p.pop();break}C=C.slice(1)}return{heartbeatsToSend:p,unsentEntries:C}}class n2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const p=await _E(this.app);return p!=null&&p.heartbeats?p:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var p;if(await this._canUseIndexedDBPromise){const R=await this.read();return Lc(this.app,{lastSentHeartbeatDate:(p=e.lastSentHeartbeatDate)!==null&&p!==void 0?p:R.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var p;if(await this._canUseIndexedDBPromise){const R=await this.read();return Lc(this.app,{lastSentHeartbeatDate:(p=e.lastSentHeartbeatDate)!==null&&p!==void 0?p:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...e.heartbeats]})}else return}}function Dc(g){return Fm(JSON.stringify({version:2,heartbeats:g})).length}function r2(g){if(g.length===0)return-1;let e=0,p=g[0].date;for(let C=1;C<g.length;C++)g[C].date<p&&(p=g[C].date,e=C);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(g){er(new Sn("platform-logger",e=>new gE(e),"PRIVATE")),er(new Sn("heartbeat",e=>new i2(e),"PRIVATE")),Bs(Hl,Mc,g),Bs(Hl,Mc,"esm2017"),Bs("fire-js","")}a2("");var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,zm;(function(){var g;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,T){function S(){}S.prototype=T.prototype,y.D=T.prototype,y.prototype=new S,y.prototype.constructor=y,y.C=function(A,P,w){for(var M=Array(arguments.length-2),D=2;D<arguments.length;D++)M[D-2]=arguments[D];return T.prototype[P].apply(A,M)}}function p(){this.blockSize=-1}function C(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(C,p),C.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function R(y,T,S){S||(S=0);var A=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)A[P]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(P=0;16>P;++P)A[P]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=y.g[0],S=y.g[1],P=y.g[2];var w=y.g[3],M=T+(w^S&(P^w))+A[0]+3614090360&4294967295;T=S+(M<<7&4294967295|M>>>25),M=w+(P^T&(S^P))+A[1]+3905402710&4294967295,w=T+(M<<12&4294967295|M>>>20),M=P+(S^w&(T^S))+A[2]+606105819&4294967295,P=w+(M<<17&4294967295|M>>>15),M=S+(T^P&(w^T))+A[3]+3250441966&4294967295,S=P+(M<<22&4294967295|M>>>10),M=T+(w^S&(P^w))+A[4]+4118548399&4294967295,T=S+(M<<7&4294967295|M>>>25),M=w+(P^T&(S^P))+A[5]+1200080426&4294967295,w=T+(M<<12&4294967295|M>>>20),M=P+(S^w&(T^S))+A[6]+2821735955&4294967295,P=w+(M<<17&4294967295|M>>>15),M=S+(T^P&(w^T))+A[7]+4249261313&4294967295,S=P+(M<<22&4294967295|M>>>10),M=T+(w^S&(P^w))+A[8]+1770035416&4294967295,T=S+(M<<7&4294967295|M>>>25),M=w+(P^T&(S^P))+A[9]+2336552879&4294967295,w=T+(M<<12&4294967295|M>>>20),M=P+(S^w&(T^S))+A[10]+4294925233&4294967295,P=w+(M<<17&4294967295|M>>>15),M=S+(T^P&(w^T))+A[11]+2304563134&4294967295,S=P+(M<<22&4294967295|M>>>10),M=T+(w^S&(P^w))+A[12]+1804603682&4294967295,T=S+(M<<7&4294967295|M>>>25),M=w+(P^T&(S^P))+A[13]+4254626195&4294967295,w=T+(M<<12&4294967295|M>>>20),M=P+(S^w&(T^S))+A[14]+2792965006&4294967295,P=w+(M<<17&4294967295|M>>>15),M=S+(T^P&(w^T))+A[15]+1236535329&4294967295,S=P+(M<<22&4294967295|M>>>10),M=T+(P^w&(S^P))+A[1]+4129170786&4294967295,T=S+(M<<5&4294967295|M>>>27),M=w+(S^P&(T^S))+A[6]+3225465664&4294967295,w=T+(M<<9&4294967295|M>>>23),M=P+(T^S&(w^T))+A[11]+643717713&4294967295,P=w+(M<<14&4294967295|M>>>18),M=S+(w^T&(P^w))+A[0]+3921069994&4294967295,S=P+(M<<20&4294967295|M>>>12),M=T+(P^w&(S^P))+A[5]+3593408605&4294967295,T=S+(M<<5&4294967295|M>>>27),M=w+(S^P&(T^S))+A[10]+38016083&4294967295,w=T+(M<<9&4294967295|M>>>23),M=P+(T^S&(w^T))+A[15]+3634488961&4294967295,P=w+(M<<14&4294967295|M>>>18),M=S+(w^T&(P^w))+A[4]+3889429448&4294967295,S=P+(M<<20&4294967295|M>>>12),M=T+(P^w&(S^P))+A[9]+568446438&4294967295,T=S+(M<<5&4294967295|M>>>27),M=w+(S^P&(T^S))+A[14]+3275163606&4294967295,w=T+(M<<9&4294967295|M>>>23),M=P+(T^S&(w^T))+A[3]+4107603335&4294967295,P=w+(M<<14&4294967295|M>>>18),M=S+(w^T&(P^w))+A[8]+1163531501&4294967295,S=P+(M<<20&4294967295|M>>>12),M=T+(P^w&(S^P))+A[13]+2850285829&4294967295,T=S+(M<<5&4294967295|M>>>27),M=w+(S^P&(T^S))+A[2]+4243563512&4294967295,w=T+(M<<9&4294967295|M>>>23),M=P+(T^S&(w^T))+A[7]+1735328473&4294967295,P=w+(M<<14&4294967295|M>>>18),M=S+(w^T&(P^w))+A[12]+2368359562&4294967295,S=P+(M<<20&4294967295|M>>>12),M=T+(S^P^w)+A[5]+4294588738&4294967295,T=S+(M<<4&4294967295|M>>>28),M=w+(T^S^P)+A[8]+2272392833&4294967295,w=T+(M<<11&4294967295|M>>>21),M=P+(w^T^S)+A[11]+1839030562&4294967295,P=w+(M<<16&4294967295|M>>>16),M=S+(P^w^T)+A[14]+4259657740&4294967295,S=P+(M<<23&4294967295|M>>>9),M=T+(S^P^w)+A[1]+2763975236&4294967295,T=S+(M<<4&4294967295|M>>>28),M=w+(T^S^P)+A[4]+1272893353&4294967295,w=T+(M<<11&4294967295|M>>>21),M=P+(w^T^S)+A[7]+4139469664&4294967295,P=w+(M<<16&4294967295|M>>>16),M=S+(P^w^T)+A[10]+3200236656&4294967295,S=P+(M<<23&4294967295|M>>>9),M=T+(S^P^w)+A[13]+681279174&4294967295,T=S+(M<<4&4294967295|M>>>28),M=w+(T^S^P)+A[0]+3936430074&4294967295,w=T+(M<<11&4294967295|M>>>21),M=P+(w^T^S)+A[3]+3572445317&4294967295,P=w+(M<<16&4294967295|M>>>16),M=S+(P^w^T)+A[6]+76029189&4294967295,S=P+(M<<23&4294967295|M>>>9),M=T+(S^P^w)+A[9]+3654602809&4294967295,T=S+(M<<4&4294967295|M>>>28),M=w+(T^S^P)+A[12]+3873151461&4294967295,w=T+(M<<11&4294967295|M>>>21),M=P+(w^T^S)+A[15]+530742520&4294967295,P=w+(M<<16&4294967295|M>>>16),M=S+(P^w^T)+A[2]+3299628645&4294967295,S=P+(M<<23&4294967295|M>>>9),M=T+(P^(S|~w))+A[0]+4096336452&4294967295,T=S+(M<<6&4294967295|M>>>26),M=w+(S^(T|~P))+A[7]+1126891415&4294967295,w=T+(M<<10&4294967295|M>>>22),M=P+(T^(w|~S))+A[14]+2878612391&4294967295,P=w+(M<<15&4294967295|M>>>17),M=S+(w^(P|~T))+A[5]+4237533241&4294967295,S=P+(M<<21&4294967295|M>>>11),M=T+(P^(S|~w))+A[12]+1700485571&4294967295,T=S+(M<<6&4294967295|M>>>26),M=w+(S^(T|~P))+A[3]+2399980690&4294967295,w=T+(M<<10&4294967295|M>>>22),M=P+(T^(w|~S))+A[10]+4293915773&4294967295,P=w+(M<<15&4294967295|M>>>17),M=S+(w^(P|~T))+A[1]+2240044497&4294967295,S=P+(M<<21&4294967295|M>>>11),M=T+(P^(S|~w))+A[8]+1873313359&4294967295,T=S+(M<<6&4294967295|M>>>26),M=w+(S^(T|~P))+A[15]+4264355552&4294967295,w=T+(M<<10&4294967295|M>>>22),M=P+(T^(w|~S))+A[6]+2734768916&4294967295,P=w+(M<<15&4294967295|M>>>17),M=S+(w^(P|~T))+A[13]+1309151649&4294967295,S=P+(M<<21&4294967295|M>>>11),M=T+(P^(S|~w))+A[4]+4149444226&4294967295,T=S+(M<<6&4294967295|M>>>26),M=w+(S^(T|~P))+A[11]+3174756917&4294967295,w=T+(M<<10&4294967295|M>>>22),M=P+(T^(w|~S))+A[2]+718787259&4294967295,P=w+(M<<15&4294967295|M>>>17),M=S+(w^(P|~T))+A[9]+3951481745&4294967295,y.g[0]=y.g[0]+T&4294967295,y.g[1]=y.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,y.g[2]=y.g[2]+P&4294967295,y.g[3]=y.g[3]+w&4294967295}C.prototype.u=function(y,T){T===void 0&&(T=y.length);for(var S=T-this.blockSize,A=this.B,P=this.h,w=0;w<T;){if(P==0)for(;w<=S;)R(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<T;)if(A[P++]=y.charCodeAt(w++),P==this.blockSize){R(this,A),P=0;break}}else for(;w<T;)if(A[P++]=y[w++],P==this.blockSize){R(this,A),P=0;break}}this.h=P,this.o+=T},C.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var T=1;T<y.length-8;++T)y[T]=0;var S=8*this.o;for(T=y.length-8;T<y.length;++T)y[T]=S&255,S/=256;for(this.u(y),y=Array(16),T=S=0;4>T;++T)for(var A=0;32>A;A+=8)y[S++]=this.g[T]>>>A&255;return y};function I(y,T){var S=E;return Object.prototype.hasOwnProperty.call(S,y)?S[y]:S[y]=T(y)}function c(y,T){this.h=T;for(var S=[],A=!0,P=y.length-1;0<=P;P--){var w=y[P]|0;A&&w==T||(S[P]=w,A=!1)}this.g=S}var E={};function t(y){return-128<=y&&128>y?I(y,function(T){return new c([T|0],0>T?-1:0)}):new c([y|0],0>y?-1:0)}function h(y){if(isNaN(y)||!isFinite(y))return o;if(0>y)return l(h(-y));for(var T=[],S=1,A=0;y>=S;A++)T[A]=y/S|0,S*=4294967296;return new c(T,0)}function x(y,T){if(y.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y.charAt(0)=="-")return l(x(y.substring(1),T));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=h(Math.pow(T,8)),A=o,P=0;P<y.length;P+=8){var w=Math.min(8,y.length-P),M=parseInt(y.substring(P,P+w),T);8>w?(w=h(Math.pow(T,w)),A=A.j(w).add(h(M))):(A=A.j(S),A=A.add(h(M)))}return A}var o=t(0),r=t(1),a=t(16777216);g=c.prototype,g.m=function(){if(n(this))return-l(this).m();for(var y=0,T=1,S=0;S<this.g.length;S++){var A=this.i(S);y+=(0<=A?A:4294967296+A)*T,T*=4294967296}return y},g.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(i(this))return"0";if(n(this))return"-"+l(this).toString(y);for(var T=h(Math.pow(y,6)),S=this,A="";;){var P=d(S,T).g;S=s(S,P.j(T));var w=((0<S.g.length?S.g[0]:S.h)>>>0).toString(y);if(S=P,i(S))return w+A;for(;6>w.length;)w="0"+w;A=w+A}},g.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function i(y){if(y.h!=0)return!1;for(var T=0;T<y.g.length;T++)if(y.g[T]!=0)return!1;return!0}function n(y){return y.h==-1}g.l=function(y){return y=s(this,y),n(y)?-1:i(y)?0:1};function l(y){for(var T=y.g.length,S=[],A=0;A<T;A++)S[A]=~y.g[A];return new c(S,~y.h).add(r)}g.abs=function(){return n(this)?l(this):this},g.add=function(y){for(var T=Math.max(this.g.length,y.g.length),S=[],A=0,P=0;P<=T;P++){var w=A+(this.i(P)&65535)+(y.i(P)&65535),M=(w>>>16)+(this.i(P)>>>16)+(y.i(P)>>>16);A=M>>>16,w&=65535,M&=65535,S[P]=M<<16|w}return new c(S,S[S.length-1]&-2147483648?-1:0)};function s(y,T){return y.add(l(T))}g.j=function(y){if(i(this)||i(y))return o;if(n(this))return n(y)?l(this).j(l(y)):l(l(this).j(y));if(n(y))return l(this.j(l(y)));if(0>this.l(a)&&0>y.l(a))return h(this.m()*y.m());for(var T=this.g.length+y.g.length,S=[],A=0;A<2*T;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<y.g.length;P++){var w=this.i(A)>>>16,M=this.i(A)&65535,D=y.i(P)>>>16,F=y.i(P)&65535;S[2*A+2*P]+=M*F,u(S,2*A+2*P),S[2*A+2*P+1]+=w*F,u(S,2*A+2*P+1),S[2*A+2*P+1]+=M*D,u(S,2*A+2*P+1),S[2*A+2*P+2]+=w*D,u(S,2*A+2*P+2)}for(A=0;A<T;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=T;A<2*T;A++)S[A]=0;return new c(S,0)};function u(y,T){for(;(y[T]&65535)!=y[T];)y[T+1]+=y[T]>>>16,y[T]&=65535,T++}function f(y,T){this.g=y,this.h=T}function d(y,T){if(i(T))throw Error("division by zero");if(i(y))return new f(o,o);if(n(y))return T=d(l(y),T),new f(l(T.g),l(T.h));if(n(T))return T=d(y,l(T)),new f(l(T.g),T.h);if(30<y.g.length){if(n(y)||n(T))throw Error("slowDivide_ only works with positive integers.");for(var S=r,A=T;0>=A.l(y);)S=v(S),A=v(A);var P=m(S,1),w=m(A,1);for(A=m(A,2),S=m(S,2);!i(A);){var M=w.add(A);0>=M.l(y)&&(P=P.add(S),w=M),A=m(A,1),S=m(S,1)}return T=s(y,P.j(T)),new f(P,T)}for(P=o;0<=y.l(T);){for(S=Math.max(1,Math.floor(y.m()/T.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),w=h(S),M=w.j(T);n(M)||0<M.l(y);)S-=A,w=h(S),M=w.j(T);i(w)&&(w=r),P=P.add(w),y=s(y,M)}return new f(P,y)}g.A=function(y){return d(this,y).h},g.and=function(y){for(var T=Math.max(this.g.length,y.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)&y.i(A);return new c(S,this.h&y.h)},g.or=function(y){for(var T=Math.max(this.g.length,y.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)|y.i(A);return new c(S,this.h|y.h)},g.xor=function(y){for(var T=Math.max(this.g.length,y.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)^y.i(A);return new c(S,this.h^y.h)};function v(y){for(var T=y.g.length+1,S=[],A=0;A<T;A++)S[A]=y.i(A)<<1|y.i(A-1)>>>31;return new c(S,y.h)}function m(y,T){var S=T>>5;T%=32;for(var A=y.g.length-S,P=[],w=0;w<A;w++)P[w]=0<T?y.i(w+S)>>>T|y.i(w+S+1)<<32-T:y.i(w+S);return new c(P,y.h)}C.prototype.digest=C.prototype.v,C.prototype.reset=C.prototype.s,C.prototype.update=C.prototype.u,zm=C,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=x,bs=c}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xm,Nr,Wm,co,Ql,Ym,Hm,Km;(function(){var g,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,K,J){return N==Array.prototype||N==Object.prototype||(N[K]=J.value),N};function p(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof qa=="object"&&qa];for(var K=0;K<N.length;++K){var J=N[K];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var C=p(this);function R(N,K){if(K)t:{var J=C;N=N.split(".");for(var tt=0;tt<N.length-1;tt++){var ot=N[tt];if(!(ot in J))break t;J=J[ot]}N=N[N.length-1],tt=J[N],K=K(tt),K!=tt&&K!=null&&e(J,N,{configurable:!0,writable:!0,value:K})}}function I(N,K){N instanceof String&&(N+="");var J=0,tt=!1,ot={next:function(){if(!tt&&J<N.length){var ct=J++;return{value:K(ct,N[ct]),done:!1}}return tt=!0,{done:!0,value:void 0}}};return ot[Symbol.iterator]=function(){return ot},ot}R("Array.prototype.values",function(N){return N||function(){return I(this,function(K,J){return J})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},E=this||self;function t(N){var K=typeof N;return K=K!="object"?K:N?Array.isArray(N)?"array":K:"null",K=="array"||K=="object"&&typeof N.length=="number"}function h(N){var K=typeof N;return K=="object"&&N!=null||K=="function"}function x(N,K,J){return N.call.apply(N.bind,arguments)}function o(N,K,J){if(!N)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var ot=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ot,tt),N.apply(K,ot)}}return function(){return N.apply(K,arguments)}}function r(N,K,J){return r=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:o,r.apply(null,arguments)}function a(N,K){var J=Array.prototype.slice.call(arguments,1);return function(){var tt=J.slice();return tt.push.apply(tt,arguments),N.apply(this,tt)}}function i(N,K){function J(){}J.prototype=K.prototype,N.aa=K.prototype,N.prototype=new J,N.prototype.constructor=N,N.Qb=function(tt,ot,ct){for(var St=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)St[fe-2]=arguments[fe];return K.prototype[ot].apply(tt,St)}}function n(N){const K=N.length;if(0<K){const J=Array(K);for(let tt=0;tt<K;tt++)J[tt]=N[tt];return J}return[]}function l(N,K){for(let J=1;J<arguments.length;J++){const tt=arguments[J];if(t(tt)){const ot=N.length||0,ct=tt.length||0;N.length=ot+ct;for(let St=0;St<ct;St++)N[ot+St]=tt[St]}else N.push(tt)}}class s{constructor(K,J){this.i=K,this.j=J,this.h=0,this.g=null}get(){let K;return 0<this.h?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function u(N){return/^[\s\xa0]*$/.test(N)}function f(){var N=E.navigator;return N&&(N=N.userAgent)?N:""}function d(N){return d[" "](N),N}d[" "]=function(){};var v=f().indexOf("Gecko")!=-1&&!(f().toLowerCase().indexOf("webkit")!=-1&&f().indexOf("Edge")==-1)&&!(f().indexOf("Trident")!=-1||f().indexOf("MSIE")!=-1)&&f().indexOf("Edge")==-1;function m(N,K,J){for(const tt in N)K.call(J,N[tt],tt,N)}function y(N,K){for(const J in N)K.call(void 0,N[J],J,N)}function T(N){const K={};for(const J in N)K[J]=N[J];return K}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(N,K){let J,tt;for(let ot=1;ot<arguments.length;ot++){tt=arguments[ot];for(J in tt)N[J]=tt[J];for(let ct=0;ct<S.length;ct++)J=S[ct],Object.prototype.hasOwnProperty.call(tt,J)&&(N[J]=tt[J])}}function P(N){var K=1;N=N.split(":");const J=[];for(;0<K&&N.length;)J.push(N.shift()),K--;return N.length&&J.push(N.join(":")),J}function w(N){E.setTimeout(()=>{throw N},0)}function M(){var N=U;let K=null;return N.g&&(K=N.g,N.g=N.g.next,N.g||(N.h=null),K.next=null),K}class D{constructor(){this.h=this.g=null}add(K,J){const tt=F.get();tt.set(K,J),this.h?this.h.next=tt:this.g=tt,this.h=tt}}var F=new s(()=>new L,N=>N.reset());class L{constructor(){this.next=this.g=this.h=null}set(K,J){this.h=K,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let O,B=!1,U=new D,W=()=>{const N=E.Promise.resolve(void 0);O=()=>{N.then(H)}};var H=()=>{for(var N;N=M();){try{N.h.call(N.g)}catch(J){w(J)}var K=F;K.j(N),100>K.h&&(K.h++,N.next=K.g,K.g=N)}B=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(N,K){this.type=N,this.g=this.target=K,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!E.addEventListener||!Object.defineProperty)return!1;var N=!1,K=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const J=()=>{};E.addEventListener("test",J,K),E.removeEventListener("test",J,K)}catch{}return N}();function V(N,K){if(G.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N){var J=this.type=N.type,tt=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;if(this.target=N.target||N.srcElement,this.g=K,K=N.relatedTarget){if(v){t:{try{d(K.nodeName);var ot=!0;break t}catch{}ot=!1}ot||(K=null)}}else J=="mouseover"?K=N.fromElement:J=="mouseout"&&(K=N.toElement);this.relatedTarget=K,tt?(this.clientX=tt.clientX!==void 0?tt.clientX:tt.pageX,this.clientY=tt.clientY!==void 0?tt.clientY:tt.pageY,this.screenX=tt.screenX||0,this.screenY=tt.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=typeof N.pointerType=="string"?N.pointerType:b[N.pointerType]||"",this.state=N.state,this.i=N,N.defaultPrevented&&V.aa.h.call(this)}}i(V,G);var b={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),$=0;function Q(N,K,J,tt,ot){this.listener=N,this.proxy=null,this.src=K,this.type=J,this.capture=!!tt,this.ha=ot,this.key=++$,this.da=this.fa=!1}function Z(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function q(N){this.src=N,this.g={},this.h=0}q.prototype.add=function(N,K,J,tt,ot){var ct=N.toString();N=this.g[ct],N||(N=this.g[ct]=[],this.h++);var St=k(N,K,tt,ot);return-1<St?(K=N[St],J||(K.fa=!1)):(K=new Q(K,this.src,ct,!!tt,ot),K.fa=J,N.push(K)),K};function j(N,K){var J=K.type;if(J in N.g){var tt=N.g[J],ot=Array.prototype.indexOf.call(tt,K,void 0),ct;(ct=0<=ot)&&Array.prototype.splice.call(tt,ot,1),ct&&(Z(K),N.g[J].length==0&&(delete N.g[J],N.h--))}}function k(N,K,J,tt){for(var ot=0;ot<N.length;++ot){var ct=N[ot];if(!ct.da&&ct.listener==K&&ct.capture==!!J&&ct.ha==tt)return ot}return-1}var _="closure_lm_"+(1e6*Math.random()|0),et={};function it(N,K,J,tt,ot){if(Array.isArray(K)){for(var ct=0;ct<K.length;ct++)it(N,K[ct],J,tt,ot);return null}return J=xt(J),N&&N[z]?N.K(K,J,h(tt)?!!tt.capture:!1,ot):st(N,K,J,!1,tt,ot)}function st(N,K,J,tt,ot,ct){if(!K)throw Error("Invalid event type");var St=h(ot)?!!ot.capture:!!ot,fe=lt(N);if(fe||(N[_]=fe=new q(N)),J=fe.add(K,J,tt,St,ct),J.proxy)return J;if(tt=nt(),J.proxy=tt,tt.src=N,tt.listener=J,N.addEventListener)X||(ot=St),ot===void 0&&(ot=!1),N.addEventListener(K.toString(),tt,ot);else if(N.attachEvent)N.attachEvent(ht(K.toString()),tt);else if(N.addListener&&N.removeListener)N.addListener(tt);else throw Error("addEventListener and attachEvent are unavailable.");return J}function nt(){function N(J){return K.call(N.src,N.listener,J)}const K=rt;return N}function ut(N,K,J,tt,ot){if(Array.isArray(K))for(var ct=0;ct<K.length;ct++)ut(N,K[ct],J,tt,ot);else tt=h(tt)?!!tt.capture:!!tt,J=xt(J),N&&N[z]?(N=N.i,K=String(K).toString(),K in N.g&&(ct=N.g[K],J=k(ct,J,tt,ot),-1<J&&(Z(ct[J]),Array.prototype.splice.call(ct,J,1),ct.length==0&&(delete N.g[K],N.h--)))):N&&(N=lt(N))&&(K=N.g[K.toString()],N=-1,K&&(N=k(K,J,tt,ot)),(J=-1<N?K[N]:null)&&ft(J))}function ft(N){if(typeof N!="number"&&N&&!N.da){var K=N.src;if(K&&K[z])j(K.i,N);else{var J=N.type,tt=N.proxy;K.removeEventListener?K.removeEventListener(J,tt,N.capture):K.detachEvent?K.detachEvent(ht(J),tt):K.addListener&&K.removeListener&&K.removeListener(tt),(J=lt(K))?(j(J,N),J.h==0&&(J.src=null,K[_]=null)):Z(N)}}}function ht(N){return N in et?et[N]:et[N]="on"+N}function rt(N,K){if(N.da)N=!0;else{K=new V(K,this);var J=N.listener,tt=N.ha||N.src;N.fa&&ft(N),N=J.call(tt,K)}return N}function lt(N){return N=N[_],N instanceof q?N:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(N){return typeof N=="function"?N:(N[dt]||(N[dt]=function(K){return N.handleEvent(K)}),N[dt])}function yt(){Y.call(this),this.i=new q(this),this.M=this,this.F=null}i(yt,Y),yt.prototype[z]=!0,yt.prototype.removeEventListener=function(N,K,J,tt){ut(this,N,K,J,tt)};function At(N,K){var J,tt=N.F;if(tt)for(J=[];tt;tt=tt.F)J.push(tt);if(N=N.M,tt=K.type||K,typeof K=="string")K=new G(K,N);else if(K instanceof G)K.target=K.target||N;else{var ot=K;K=new G(tt,N),A(K,ot)}if(ot=!0,J)for(var ct=J.length-1;0<=ct;ct--){var St=K.g=J[ct];ot=Et(St,tt,!0,K)&&ot}if(St=K.g=N,ot=Et(St,tt,!0,K)&&ot,ot=Et(St,tt,!1,K)&&ot,J)for(ct=0;ct<J.length;ct++)St=K.g=J[ct],ot=Et(St,tt,!1,K)&&ot}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var N=this.i,K;for(K in N.g){for(var J=N.g[K],tt=0;tt<J.length;tt++)Z(J[tt]);delete N.g[K],N.h--}}this.F=null},yt.prototype.K=function(N,K,J,tt){return this.i.add(String(N),K,!1,J,tt)},yt.prototype.L=function(N,K,J,tt){return this.i.add(String(N),K,!0,J,tt)};function Et(N,K,J,tt){if(K=N.i.g[String(K)],!K)return!0;K=K.concat();for(var ot=!0,ct=0;ct<K.length;++ct){var St=K[ct];if(St&&!St.da&&St.capture==J){var fe=St.listener,Ge=St.ha||St.src;St.fa&&j(N.i,St),ot=fe.call(Ge,tt)!==!1&&ot}}return ot&&!tt.defaultPrevented}function Lt(N,K,J){if(typeof N=="function")J&&(N=r(N,J));else if(N&&typeof N.handleEvent=="function")N=r(N.handleEvent,N);else throw Error("Invalid listener argument");return 2147483647<Number(K)?-1:E.setTimeout(N,K||0)}function zt(N){N.g=Lt(()=>{N.g=null,N.i&&(N.i=!1,zt(N))},N.l);const K=N.h;N.h=null,N.m.apply(null,K)}class qt extends Y{constructor(K,J){super(),this.m=K,this.l=J,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(E.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(N){Y.call(this),this.h=N,this.g={}}i(Nt,Y);var Zt=[];function le(N){m(N.g,function(K,J){this.g.hasOwnProperty(J)&&ft(K)},N),N.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),le(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=E.JSON.stringify,Pe=E.JSON.parse,gi=class{stringify(N){return E.JSON.stringify(N,void 0)}parse(N){return E.JSON.parse(N,void 0)}};function Ei(){}Ei.prototype.h=null;function Bi(N){return N.h||(N.h=N.i())}function bi(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uh(){G.call(this,"d")}i(Uh,G);function zh(){G.call(this,"c")}i(zh,G);var tn={},Xf=null;function Fa(){return Xf=Xf||new yt}tn.La="serverreachability";function Wf(N){G.call(this,tn.La,N)}i(Wf,G);function yr(N){const K=Fa();At(K,new Wf(K))}tn.STAT_EVENT="statevent";function Yf(N,K){G.call(this,tn.STAT_EVENT,N),this.stat=K}i(Yf,G);function ei(N){const K=Fa();At(K,new Yf(K,N))}tn.Ma="timingevent";function Hf(N,K){G.call(this,tn.Ma,N),this.size=K}i(Hf,G);function Tr(N,K){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return E.setTimeout(function(){N()},K)}function Sr(){this.g=!0}Sr.prototype.xa=function(){this.g=!1};function Z0(N,K,J,tt,ot,ct){N.info(function(){if(N.g)if(ct)for(var St="",fe=ct.split("&"),Ge=0;Ge<fe.length;Ge++){var _t=fe[Ge].split("=");if(1<_t.length){var Ke=_t[0];_t=_t[1];var $e=Ke.split("_");St=2<=$e.length&&$e[1]=="type"?St+(Ke+"="+_t+"&"):St+(Ke+"=redacted&")}}else St=null;else St=ct;return"XMLHTTP REQ ("+tt+") [attempt "+ot+"]: "+K+`
`+J+`
`+St})}function k0(N,K,J,tt,ot,ct,St){N.info(function(){return"XMLHTTP RESP ("+tt+") [ attempt "+ot+"]: "+K+`
`+J+`
`+ct+" "+St})}function Dn(N,K,J,tt){N.info(function(){return"XMLHTTP TEXT ("+K+"): "+_0(N,J)+(tt?" "+tt:"")})}function q0(N,K){N.info(function(){return"TIMEOUT: "+K})}Sr.prototype.info=function(){};function _0(N,K){if(!N.g)return K;if(!K)return null;try{var J=JSON.parse(K);if(J){for(N=0;N<J.length;N++)if(Array.isArray(J[N])){var tt=J[N];if(!(2>tt.length)){var ot=tt[1];if(Array.isArray(ot)&&!(1>ot.length)){var ct=ot[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var St=1;St<ot.length;St++)ot[St]=""}}}}return jt(J)}catch{return K}}var Da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xh;function Oa(){}i(Oa,Ei),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Xh=new Oa;function ys(N,K,J,tt){this.j=N,this.i=K,this.l=J,this.R=tt||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $f}function $f(){this.i=null,this.g="",this.h=!1}var Qf={},Wh={};function Yh(N,K,J){N.L=1,N.v=Va(Zi(K)),N.m=J,N.P=!0,jf(N,null)}function jf(N,K){N.F=Date.now(),Na(N),N.A=Zi(N.v);var J=N.A,tt=N.R;Array.isArray(tt)||(tt=[String(tt)]),hd(J.i,"t",tt),N.C=0,J=N.j.J,N.h=new $f,N.g=Rd(N.j,J?K:null,!N.m),0<N.O&&(N.M=new qt(r(N.Y,N,N.g),N.O)),K=N.U,J=N.g,tt=N.ca;var ot="readystatechange";Array.isArray(ot)||(ot&&(Zt[0]=ot.toString()),ot=Zt);for(var ct=0;ct<ot.length;ct++){var St=it(J,ot[ct],tt||K.handleEvent,!1,K.h||K);if(!St)break;K.g[St.key]=St}K=N.H?T(N.H):{},N.m?(N.u||(N.u="POST"),K["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.A,N.u,N.m,K)):(N.u="GET",N.g.ea(N.A,N.u,null,K)),yr(),Z0(N.i,N.u,N.A,N.l,N.R,N.m)}ys.prototype.ca=function(N){N=N.target;const K=this.M;K&&ki(N)==3?K.j():this.Y(N)},ys.prototype.Y=function(N){try{if(N==this.g)t:{const $e=ki(this.g);var K=this.g.Ba();const Bn=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||pd(this.g)))){this.J||$e!=4||K==7||(K==8||0>=Bn?yr(3):yr(2)),Hh(this);var J=this.g.Z();this.X=J;e:if(Jf(this)){var tt=pd(this.g);N="";var ot=tt.length,ct=ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Er(this);var St="";break e}this.h.i=new E.TextDecoder}for(K=0;K<ot;K++)this.h.h=!0,N+=this.h.i.decode(tt[K],{stream:!(ct&&K==ot-1)});tt.length=0,this.h.g+=N,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=J==200,k0(this.i,this.u,this.A,this.l,this.R,$e,J),this.o){if(this.T&&!this.K){e:{if(this.g){var fe,Ge=this.g;if((fe=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u(fe)){var _t=fe;break e}}_t=null}if(J=_t)Dn(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kh(this,J);else{this.o=!1,this.s=3,ei(12),en(this),Er(this);break t}}if(this.P){J=!0;let Ci;for(;!this.J&&this.C<St.length;)if(Ci=tx(this,St),Ci==Wh){$e==4&&(this.s=4,ei(14),J=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ci==Qf){this.s=4,ei(15),Dn(this.i,this.l,St,"[Invalid Chunk]"),J=!1;break}else Dn(this.i,this.l,Ci,null),Kh(this,Ci);if(Jf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||St.length!=0||this.h.h||(this.s=1,ei(16),J=!1),this.o=this.o&&J,!J)Dn(this.i,this.l,St,"[Invalid Chunked Response]"),en(this),Er(this);else if(0<St.length&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.ba&&!Ke.M&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),kh(Ke),Ke.M=!0,ei(11))}}else Dn(this.i,this.l,St,null),Kh(this,St);$e==4&&en(this),this.o&&!this.J&&($e==4?Ed(this.j,this):(this.o=!1,Na(this)))}else gx(this.g),J==400&&0<St.indexOf("Unknown SID")?(this.s=3,ei(12)):(this.s=0,ei(13)),en(this),Er(this)}}}catch{}finally{}};function Jf(N){return N.g?N.u=="GET"&&N.L!=2&&N.j.Ca:!1}function tx(N,K){var J=N.C,tt=K.indexOf(`
`,J);return tt==-1?Wh:(J=Number(K.substring(J,tt)),isNaN(J)?Qf:(tt+=1,tt+J>K.length?Wh:(K=K.slice(tt,tt+J),N.C=tt+J,K)))}ys.prototype.cancel=function(){this.J=!0,en(this)};function Na(N){N.S=Date.now()+N.I,Zf(N,N.I)}function Zf(N,K){if(N.B!=null)throw Error("WatchDog timer not null");N.B=Tr(r(N.ba,N),K)}function Hh(N){N.B&&(E.clearTimeout(N.B),N.B=null)}ys.prototype.ba=function(){this.B=null;const N=Date.now();0<=N-this.S?(q0(this.i,this.A),this.L!=2&&(yr(),ei(17)),en(this),this.s=2,Er(this)):Zf(this,this.S-N)};function Er(N){N.j.G==0||N.J||Ed(N.j,N)}function en(N){Hh(N);var K=N.M;K&&typeof K.ma=="function"&&K.ma(),N.M=null,le(N.U),N.g&&(K=N.g,N.g=null,K.abort(),K.ma())}function Kh(N,K){try{var J=N.j;if(J.G!=0&&(J.g==N||$h(J.h,N))){if(!N.K&&$h(J.h,N)&&J.G==3){try{var tt=J.Da.g.parse(K)}catch{tt=null}if(Array.isArray(tt)&&tt.length==3){var ot=tt;if(ot[0]==0){t:if(!J.u){if(J.g)if(J.g.F+3e3<N.F)Ya(J),Xa(J);else break t;Zh(J),ei(18)}}else J.za=ot[1],0<J.za-J.T&&37500>ot[2]&&J.F&&J.v==0&&!J.C&&(J.C=Tr(r(J.Za,J),6e3));if(1>=_f(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else nn(J,11)}else if((N.K||J.g==N)&&Ya(J),!u(K))for(ot=J.Da.g.parse(K),K=0;K<ot.length;K++){let _t=ot[K];if(J.T=_t[0],_t=_t[1],J.G==2)if(_t[0]=="c"){J.K=_t[1],J.ia=_t[2];const Ke=_t[3];Ke!=null&&(J.la=Ke,J.j.info("VER="+J.la));const $e=_t[4];$e!=null&&(J.Aa=$e,J.j.info("SVER="+J.Aa));const Bn=_t[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(tt=1.5*Bn,J.L=tt,J.j.info("backChannelRequestTimeoutMs_="+tt)),tt=J;const Ci=N.g;if(Ci){const Ka=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var ct=tt.h;ct.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(Qh(ct,ct.h),ct.h=null))}if(tt.D){const qh=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(tt.ya=qh,me(tt.I,tt.D,qh))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-N.F,J.j.info("Handshake RTT: "+J.R+"ms")),tt=J;var St=N;if(tt.qa=Pd(tt,tt.J?tt.ia:null,tt.W),St.K){td(tt.h,St);var fe=St,Ge=tt.L;Ge&&(fe.I=Ge),fe.B&&(Hh(fe),Na(fe)),tt.g=St}else Td(tt);0<J.i.length&&Wa(J)}else _t[0]!="stop"&&_t[0]!="close"||nn(J,7);else J.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?nn(J,7):Jh(J):_t[0]!="noop"&&J.l&&J.l.ta(_t),J.v=0)}}yr(4)}catch{}}var ex=class{constructor(N,K){this.g=N,this.map=K}};function kf(N){this.l=N||10,E.PerformanceNavigationTiming?(N=E.performance.getEntriesByType("navigation"),N=0<N.length&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(E.chrome&&E.chrome.loadTimes&&E.chrome.loadTimes()&&E.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qf(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function _f(N){return N.h?1:N.g?N.g.size:0}function $h(N,K){return N.h?N.h==K:N.g?N.g.has(K):!1}function Qh(N,K){N.g?N.g.add(K):N.h=K}function td(N,K){N.h&&N.h==K?N.h=null:N.g&&N.g.has(K)&&N.g.delete(K)}kf.prototype.cancel=function(){if(this.i=ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function ed(N){if(N.h!=null)return N.i.concat(N.h.D);if(N.g!=null&&N.g.size!==0){let K=N.i;for(const J of N.g.values())K=K.concat(J.D);return K}return n(N.i)}function ix(N){if(N.V&&typeof N.V=="function")return N.V();if(typeof Map<"u"&&N instanceof Map||typeof Set<"u"&&N instanceof Set)return Array.from(N.values());if(typeof N=="string")return N.split("");if(t(N)){for(var K=[],J=N.length,tt=0;tt<J;tt++)K.push(N[tt]);return K}K=[],J=0;for(tt in N)K[J++]=N[tt];return K}function sx(N){if(N.na&&typeof N.na=="function")return N.na();if(!N.V||typeof N.V!="function"){if(typeof Map<"u"&&N instanceof Map)return Array.from(N.keys());if(!(typeof Set<"u"&&N instanceof Set)){if(t(N)||typeof N=="string"){var K=[];N=N.length;for(var J=0;J<N;J++)K.push(J);return K}K=[],J=0;for(const tt in N)K[J++]=tt;return K}}}function id(N,K){if(N.forEach&&typeof N.forEach=="function")N.forEach(K,void 0);else if(t(N)||typeof N=="string")Array.prototype.forEach.call(N,K,void 0);else for(var J=sx(N),tt=ix(N),ot=tt.length,ct=0;ct<ot;ct++)K.call(void 0,tt[ct],J&&J[ct],N)}var sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nx(N,K){if(N){N=N.split("&");for(var J=0;J<N.length;J++){var tt=N[J].indexOf("="),ot=null;if(0<=tt){var ct=N[J].substring(0,tt);ot=N[J].substring(tt+1)}else ct=N[J];K(ct,ot?decodeURIComponent(ot.replace(/\+/g," ")):"")}}}function sn(N){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,N instanceof sn){this.h=N.h,Ba(this,N.j),this.o=N.o,this.g=N.g,ba(this,N.s),this.l=N.l;var K=N.i,J=new Pr;J.i=K.i,K.g&&(J.g=new Map(K.g),J.h=K.h),nd(this,J),this.m=N.m}else N&&(K=String(N).match(sd))?(this.h=!1,Ba(this,K[1]||"",!0),this.o=Cr(K[2]||""),this.g=Cr(K[3]||"",!0),ba(this,K[4]),this.l=Cr(K[5]||"",!0),nd(this,K[6]||"",!0),this.m=Cr(K[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}sn.prototype.toString=function(){var N=[],K=this.j;K&&N.push(Ar(K,rd,!0),":");var J=this.g;return(J||K=="file")&&(N.push("//"),(K=this.o)&&N.push(Ar(K,rd,!0),"@"),N.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J=this.s,J!=null&&N.push(":",String(J))),(J=this.l)&&(this.g&&J.charAt(0)!="/"&&N.push("/"),N.push(Ar(J,J.charAt(0)=="/"?ox:ax,!0))),(J=this.i.toString())&&N.push("?",J),(J=this.m)&&N.push("#",Ar(J,lx)),N.join("")};function Zi(N){return new sn(N)}function Ba(N,K,J){N.j=J?Cr(K,!0):K,N.j&&(N.j=N.j.replace(/:$/,""))}function ba(N,K){if(K){if(K=Number(K),isNaN(K)||0>K)throw Error("Bad port number "+K);N.s=K}else N.s=null}function nd(N,K,J){K instanceof Pr?(N.i=K,ux(N.i,N.h)):(J||(K=Ar(K,hx)),N.i=new Pr(K,N.h))}function me(N,K,J){N.i.set(K,J)}function Va(N){return me(N,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),N}function Cr(N,K){return N?K?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function Ar(N,K,J){return typeof N=="string"?(N=encodeURI(N).replace(K,rx),J&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function rx(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var rd=/[#\/\?@]/g,ax=/[#\?:]/g,ox=/[#\?]/g,hx=/[#\?@]/g,lx=/#/g;function Pr(N,K){this.h=this.g=null,this.i=N||null,this.j=!!K}function Ts(N){N.g||(N.g=new Map,N.h=0,N.i&&nx(N.i,function(K,J){N.add(decodeURIComponent(K.replace(/\+/g," ")),J)}))}g=Pr.prototype,g.add=function(N,K){Ts(this),this.i=null,N=On(this,N);var J=this.g.get(N);return J||this.g.set(N,J=[]),J.push(K),this.h+=1,this};function ad(N,K){Ts(N),K=On(N,K),N.g.has(K)&&(N.i=null,N.h-=N.g.get(K).length,N.g.delete(K))}function od(N,K){return Ts(N),K=On(N,K),N.g.has(K)}g.forEach=function(N,K){Ts(this),this.g.forEach(function(J,tt){J.forEach(function(ot){N.call(K,ot,tt,this)},this)},this)},g.na=function(){Ts(this);const N=Array.from(this.g.values()),K=Array.from(this.g.keys()),J=[];for(let tt=0;tt<K.length;tt++){const ot=N[tt];for(let ct=0;ct<ot.length;ct++)J.push(K[tt])}return J},g.V=function(N){Ts(this);let K=[];if(typeof N=="string")od(this,N)&&(K=K.concat(this.g.get(On(this,N))));else{N=Array.from(this.g.values());for(let J=0;J<N.length;J++)K=K.concat(N[J])}return K},g.set=function(N,K){return Ts(this),this.i=null,N=On(this,N),od(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[K]),this.h+=1,this},g.get=function(N,K){return N?(N=this.V(N),0<N.length?String(N[0]):K):K};function hd(N,K,J){ad(N,K),0<J.length&&(N.i=null,N.g.set(On(N,K),n(J)),N.h+=J.length)}g.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],K=Array.from(this.g.keys());for(var J=0;J<K.length;J++){var tt=K[J];const ct=encodeURIComponent(String(tt)),St=this.V(tt);for(tt=0;tt<St.length;tt++){var ot=ct;St[tt]!==""&&(ot+="="+encodeURIComponent(String(St[tt]))),N.push(ot)}}return this.i=N.join("&")};function On(N,K){return K=String(K),N.j&&(K=K.toLowerCase()),K}function ux(N,K){K&&!N.j&&(Ts(N),N.i=null,N.g.forEach(function(J,tt){var ot=tt.toLowerCase();tt!=ot&&(ad(this,tt),hd(this,ot,J))},N)),N.j=K}function fx(N,K){const J=new Sr;if(E.Image){const tt=new Image;tt.onload=a(Ss,J,"TestLoadImage: loaded",!0,K,tt),tt.onerror=a(Ss,J,"TestLoadImage: error",!1,K,tt),tt.onabort=a(Ss,J,"TestLoadImage: abort",!1,K,tt),tt.ontimeout=a(Ss,J,"TestLoadImage: timeout",!1,K,tt),E.setTimeout(function(){tt.ontimeout&&tt.ontimeout()},1e4),tt.src=N}else K(!1)}function dx(N,K){const J=new Sr,tt=new AbortController,ot=setTimeout(()=>{tt.abort(),Ss(J,"TestPingServer: timeout",!1,K)},1e4);fetch(N,{signal:tt.signal}).then(ct=>{clearTimeout(ot),ct.ok?Ss(J,"TestPingServer: ok",!0,K):Ss(J,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout(ot),Ss(J,"TestPingServer: error",!1,K)})}function Ss(N,K,J,tt,ot){try{ot&&(ot.onload=null,ot.onerror=null,ot.onabort=null,ot.ontimeout=null),tt(J)}catch{}}function cx(){this.g=new gi}function vx(N,K,J){const tt=J||"";try{id(N,function(ot,ct){let St=ot;h(ot)&&(St=jt(ot)),K.push(tt+ct+"="+encodeURIComponent(St))})}catch(ot){throw K.push(tt+"type="+encodeURIComponent("_badmap")),ot}}function Ga(N){this.l=N.Ub||null,this.j=N.eb||!1}i(Ga,Ei),Ga.prototype.g=function(){return new Ua(this.l,this.j)},Ga.prototype.i=function(N){return function(){return N}}({});function Ua(N,K){yt.call(this),this.D=N,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}i(Ua,yt),g=Ua.prototype,g.open=function(N,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=N,this.A=K,this.readyState=1,wr(this)},g.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const K={headers:this.u,method:this.B,credentials:this.m,cache:void 0};N&&(K.body=N),(this.D||E).fetch(new Request(this.A,K)).then(this.Sa.bind(this),this.ga.bind(this))},g.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},g.Sa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof E.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ld(this)}else N.text().then(this.Ra.bind(this),this.ga.bind(this))};function ld(N){N.j.read().then(N.Pa.bind(N)).catch(N.ga.bind(N))}g.Pa=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var K=N.value?N.value:new Uint8Array(0);(K=this.v.decode(K,{stream:!N.done}))&&(this.response=this.responseText+=K)}N.done?Rr(this):wr(this),this.readyState==3&&ld(this)}},g.Ra=function(N){this.g&&(this.response=this.responseText=N,Rr(this))},g.Qa=function(N){this.g&&(this.response=N,Rr(this))},g.ga=function(){this.g&&Rr(this)};function Rr(N){N.readyState=4,N.l=null,N.j=null,N.v=null,wr(N)}g.setRequestHeader=function(N,K){this.u.append(N,K)},g.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},g.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],K=this.h.entries();for(var J=K.next();!J.done;)J=J.value,N.push(J[0]+": "+J[1]),J=K.next();return N.join(`\r
`)};function wr(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function ud(N){let K="";return m(N,function(J,tt){K+=tt,K+=":",K+=J,K+=`\r
`}),K}function jh(N,K,J){t:{for(tt in J){var tt=!1;break t}tt=!0}tt||(J=ud(J),typeof N=="string"?J!=null&&encodeURIComponent(String(J)):me(N,K,J))}function Se(N){yt.call(this),this.headers=new Map,this.o=N||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}i(Se,yt);var px=/^https?$/i,mx=["POST","PUT"];g=Se.prototype,g.Ha=function(N){this.J=N},g.ea=function(N,K,J,tt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);K=K?K.toUpperCase():"GET",this.D=N,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xh.g(),this.v=this.o?Bi(this.o):Bi(Xh),this.g.onreadystatechange=r(this.Ea,this);try{this.B=!0,this.g.open(K,String(N),!0),this.B=!1}catch(ct){fd(this,ct);return}if(N=J||"",J=new Map(this.headers),tt)if(Object.getPrototypeOf(tt)===Object.prototype)for(var ot in tt)J.set(ot,tt[ot]);else if(typeof tt.keys=="function"&&typeof tt.get=="function")for(const ct of tt.keys())J.set(ct,tt.get(ct));else throw Error("Unknown input type for opt_headers: "+String(tt));tt=Array.from(J.keys()).find(ct=>ct.toLowerCase()=="content-type"),ot=E.FormData&&N instanceof E.FormData,!(0<=Array.prototype.indexOf.call(mx,K,void 0))||tt||ot||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,St]of J)this.g.setRequestHeader(ct,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vd(this),this.u=!0,this.g.send(N),this.u=!1}catch(ct){fd(this,ct)}};function fd(N,K){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=K,N.m=5,dd(N),za(N)}function dd(N){N.A||(N.A=!0,At(N,"complete"),At(N,"error"))}g.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=N||7,At(this,"complete"),At(this,"abort"),za(this))},g.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),Se.aa.N.call(this)},g.Ea=function(){this.s||(this.B||this.u||this.j?cd(this):this.bb())},g.bb=function(){cd(this)};function cd(N){if(N.h&&typeof c<"u"&&(!N.v[1]||ki(N)!=4||N.Z()!=2)){if(N.u&&ki(N)==4)Lt(N.Ea,0,N);else if(At(N,"readystatechange"),ki(N)==4){N.h=!1;try{const St=N.Z();t:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break t;default:K=!1}var J;if(!(J=K)){var tt;if(tt=St===0){var ot=String(N.D).match(sd)[1]||null;!ot&&E.self&&E.self.location&&(ot=E.self.location.protocol.slice(0,-1)),tt=!px.test(ot?ot.toLowerCase():"")}J=tt}if(J)At(N,"complete"),At(N,"success");else{N.m=6;try{var ct=2<ki(N)?N.g.statusText:""}catch{ct=""}N.l=ct+" ["+N.Z()+"]",dd(N)}}finally{za(N)}}}}function za(N,K){if(N.g){vd(N);const J=N.g,tt=N.v[0]?()=>{}:null;N.g=null,N.v=null,K||At(N,"ready");try{J.onreadystatechange=tt}catch{}}}function vd(N){N.I&&(E.clearTimeout(N.I),N.I=null)}g.isActive=function(){return!!this.g};function ki(N){return N.g?N.g.readyState:0}g.Z=function(){try{return 2<ki(this)?this.g.status:-1}catch{return-1}},g.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},g.Oa=function(N){if(this.g){var K=this.g.responseText;return N&&K.indexOf(N)==0&&(K=K.substring(N.length)),Pe(K)}};function pd(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.H){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function gx(N){const K={};N=(N.g&&2<=ki(N)&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let tt=0;tt<N.length;tt++){if(u(N[tt]))continue;var J=P(N[tt]);const ot=J[0];if(J=J[1],typeof J!="string")continue;J=J.trim();const ct=K[ot]||[];K[ot]=ct,ct.push(J)}y(K,function(tt){return tt.join(", ")})}g.Ba=function(){return this.m},g.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(N,K,J){return J&&J.internalChannelParams&&J.internalChannelParams[N]||K}function md(N){this.Aa=0,this.i=[],this.j=new Sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,N),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,N),this.cb=Mr("retryDelaySeedMs",1e4,N),this.Wa=Mr("forwardChannelMaxRetries",2,N),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,N),this.pa=N&&N.xmlHttpFactory||void 0,this.Xa=N&&N.Tb||void 0,this.Ca=N&&N.useFetchStreams||!1,this.L=void 0,this.J=N&&N.supportsCrossDomainXhr||!1,this.K="",this.h=new kf(N&&N.concurrentRequestLimit),this.Da=new cx,this.P=N&&N.fastHandshake||!1,this.O=N&&N.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=N&&N.Rb||!1,N&&N.xa&&this.j.xa(),N&&N.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&N&&N.detectBufferingProxy||!1,this.ja=void 0,N&&N.longPollingTimeout&&0<N.longPollingTimeout&&(this.ja=N.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}g=md.prototype,g.la=8,g.G=1,g.connect=function(N,K,J,tt){ei(0),this.W=N,this.H=K||{},J&&tt!==void 0&&(this.H.OSID=J,this.H.OAID=tt),this.F=this.X,this.I=Pd(this,null,this.W),Wa(this)};function Jh(N){if(gd(N),N.G==3){var K=N.U++,J=Zi(N.I);if(me(J,"SID",N.K),me(J,"RID",K),me(J,"TYPE","terminate"),Ir(N,J),K=new ys(N,N.j,K),K.L=2,K.v=Va(Zi(J)),J=!1,E.navigator&&E.navigator.sendBeacon)try{J=E.navigator.sendBeacon(K.v.toString(),"")}catch{}!J&&E.Image&&(new Image().src=K.v,J=!0),J||(K.g=Rd(K.j,null),K.g.ea(K.v)),K.F=Date.now(),Na(K)}Ad(N)}function Xa(N){N.g&&(kh(N),N.g.cancel(),N.g=null)}function gd(N){Xa(N),N.u&&(E.clearTimeout(N.u),N.u=null),Ya(N),N.h.cancel(),N.s&&(typeof N.s=="number"&&E.clearTimeout(N.s),N.s=null)}function Wa(N){if(!qf(N.h)&&!N.s){N.s=!0;var K=N.Ga;O||W(),B||(O(),B=!0),U.add(K,N),N.B=0}}function xx(N,K){return _f(N.h)>=N.h.j-(N.s?1:0)?!1:N.s?(N.i=K.D.concat(N.i),!0):N.G==1||N.G==2||N.B>=(N.Va?0:N.Wa)?!1:(N.s=Tr(r(N.Ga,N,K),Cd(N,N.B)),N.B++,!0)}g.Ga=function(N){if(this.s)if(this.s=null,this.G==1){if(!N){this.U=Math.floor(1e5*Math.random()),N=this.U++;const ot=new ys(this,this.j,N);let ct=this.o;if(this.S&&(ct?(ct=T(ct),A(ct,this.S)):ct=this.S),this.m!==null||this.O||(ot.H=ct,ct=null),this.P)t:{for(var K=0,J=0;J<this.i.length;J++){e:{var tt=this.i[J];if("__data__"in tt.map&&(tt=tt.map.__data__,typeof tt=="string")){tt=tt.length;break e}tt=void 0}if(tt===void 0)break;if(K+=tt,4096<K){K=J;break t}if(K===4096||J===this.i.length-1){K=J+1;break t}}K=1e3}else K=1e3;K=yd(this,ot,K),J=Zi(this.I),me(J,"RID",N),me(J,"CVER",22),this.D&&me(J,"X-HTTP-Session-Id",this.D),Ir(this,J),ct&&(this.O?K="headers="+encodeURIComponent(String(ud(ct)))+"&"+K:this.m&&jh(J,this.m,ct)),Qh(this.h,ot),this.Ua&&me(J,"TYPE","init"),this.P?(me(J,"$req",K),me(J,"SID","null"),ot.T=!0,Yh(ot,J,null)):Yh(ot,J,K),this.G=2}}else this.G==3&&(N?xd(this,N):this.i.length==0||qf(this.h)||xd(this))};function xd(N,K){var J;K?J=K.l:J=N.U++;const tt=Zi(N.I);me(tt,"SID",N.K),me(tt,"RID",J),me(tt,"AID",N.T),Ir(N,tt),N.m&&N.o&&jh(tt,N.m,N.o),J=new ys(N,N.j,J,N.B+1),N.m===null&&(J.H=N.o),K&&(N.i=K.D.concat(N.i)),K=yd(N,J,1e3),J.I=Math.round(.5*N.wa)+Math.round(.5*N.wa*Math.random()),Qh(N.h,J),Yh(J,tt,K)}function Ir(N,K){N.H&&m(N.H,function(J,tt){me(K,tt,J)}),N.l&&id({},function(J,tt){me(K,tt,J)})}function yd(N,K,J){J=Math.min(N.i.length,J);var tt=N.l?r(N.l.Na,N.l,N):null;t:{var ot=N.i;let ct=-1;for(;;){const St=["count="+J];ct==-1?0<J?(ct=ot[0].g,St.push("ofs="+ct)):ct=0:St.push("ofs="+ct);let fe=!0;for(let Ge=0;Ge<J;Ge++){let _t=ot[Ge].g;const Ke=ot[Ge].map;if(_t-=ct,0>_t)ct=Math.max(0,ot[Ge].g-100),fe=!1;else try{vx(Ke,St,"req"+_t+"_")}catch{tt&&tt(Ke)}}if(fe){tt=St.join("&");break t}}}return N=N.i.splice(0,J),K.D=N,tt}function Td(N){if(!N.g&&!N.u){N.Y=1;var K=N.Fa;O||W(),B||(O(),B=!0),U.add(K,N),N.v=0}}function Zh(N){return N.g||N.u||3<=N.v?!1:(N.Y++,N.u=Tr(r(N.Fa,N),Cd(N,N.v)),N.v++,!0)}g.Fa=function(){if(this.u=null,Sd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var N=2*this.R;this.j.info("BP detection timer enabled: "+N),this.A=Tr(r(this.ab,this),N)}},g.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ei(10),Xa(this),Sd(this))};function kh(N){N.A!=null&&(E.clearTimeout(N.A),N.A=null)}function Sd(N){N.g=new ys(N,N.j,"rpc",N.Y),N.m===null&&(N.g.H=N.o),N.g.O=0;var K=Zi(N.qa);me(K,"RID","rpc"),me(K,"SID",N.K),me(K,"AID",N.T),me(K,"CI",N.F?"0":"1"),!N.F&&N.ja&&me(K,"TO",N.ja),me(K,"TYPE","xmlhttp"),Ir(N,K),N.m&&N.o&&jh(K,N.m,N.o),N.L&&(N.g.I=N.L);var J=N.g;N=N.ia,J.L=1,J.v=Va(Zi(K)),J.m=null,J.P=!0,jf(J,N)}g.Za=function(){this.C!=null&&(this.C=null,Xa(this),Zh(this),ei(19))};function Ya(N){N.C!=null&&(E.clearTimeout(N.C),N.C=null)}function Ed(N,K){var J=null;if(N.g==K){Ya(N),kh(N),N.g=null;var tt=2}else if($h(N.h,K))J=K.D,td(N.h,K),tt=1;else return;if(N.G!=0){if(K.o)if(tt==1){J=K.m?K.m.length:0,K=Date.now()-K.F;var ot=N.B;tt=Fa(),At(tt,new Hf(tt,J)),Wa(N)}else Td(N);else if(ot=K.s,ot==3||ot==0&&0<K.X||!(tt==1&&xx(N,K)||tt==2&&Zh(N)))switch(J&&0<J.length&&(K=N.h,K.i=K.i.concat(J)),ot){case 1:nn(N,5);break;case 4:nn(N,10);break;case 3:nn(N,6);break;default:nn(N,2)}}}function Cd(N,K){let J=N.Ta+Math.floor(Math.random()*N.cb);return N.isActive()||(J*=2),J*K}function nn(N,K){if(N.j.info("Error code "+K),K==2){var J=r(N.fb,N),tt=N.Xa;const ot=!tt;tt=new sn(tt||"//www.google.com/images/cleardot.gif"),E.location&&E.location.protocol=="http"||Ba(tt,"https"),Va(tt),ot?fx(tt.toString(),J):dx(tt.toString(),J)}else ei(2);N.G=0,N.l&&N.l.sa(K),Ad(N),gd(N)}g.fb=function(N){N?(this.j.info("Successfully pinged google.com"),ei(2)):(this.j.info("Failed to ping google.com"),ei(1))};function Ad(N){if(N.G=0,N.ka=[],N.l){const K=ed(N.h);(K.length!=0||N.i.length!=0)&&(l(N.ka,K),l(N.ka,N.i),N.h.i.length=0,n(N.i),N.i.length=0),N.l.ra()}}function Pd(N,K,J){var tt=J instanceof sn?Zi(J):new sn(J);if(tt.g!="")K&&(tt.g=K+"."+tt.g),ba(tt,tt.s);else{var ot=E.location;tt=ot.protocol,K=K?K+"."+ot.hostname:ot.hostname,ot=+ot.port;var ct=new sn(null);tt&&Ba(ct,tt),K&&(ct.g=K),ot&&ba(ct,ot),J&&(ct.l=J),tt=ct}return J=N.D,K=N.ya,J&&K&&me(tt,J,K),me(tt,"VER",N.la),Ir(N,tt),tt}function Rd(N,K,J){if(K&&!N.J)throw Error("Can't create secondary domain capable XhrIo object.");return K=N.Ca&&!N.pa?new Se(new Ga({eb:J})):new Se(N.pa),K.Ha(N.J),K}g.isActive=function(){return!!this.l&&this.l.isActive(this)};function wd(){}g=wd.prototype,g.ua=function(){},g.ta=function(){},g.sa=function(){},g.ra=function(){},g.isActive=function(){return!0},g.Na=function(){};function Ha(){}Ha.prototype.g=function(N,K){return new vi(N,K)};function vi(N,K){yt.call(this),this.g=new md(K),this.l=N,this.h=K&&K.messageUrlParams||null,N=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(N?N["X-WebChannel-Content-Type"]=K.messageContentType:N={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.va&&(N?N["X-WebChannel-Client-Profile"]=K.va:N={"X-WebChannel-Client-Profile":K.va}),this.g.S=N,(N=K&&K.Sb)&&!u(N)&&(this.g.m=N),this.v=K&&K.supportsCrossDomainXhr||!1,this.u=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!u(K)&&(this.g.D=K,N=this.h,N!==null&&K in N&&(N=this.h,K in N&&delete N[K])),this.j=new Nn(this)}i(vi,yt),vi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vi.prototype.close=function(){Jh(this.g)},vi.prototype.o=function(N){var K=this.g;if(typeof N=="string"){var J={};J.__data__=N,N=J}else this.u&&(J={},J.__data__=jt(N),N=J);K.i.push(new ex(K.Ya++,N)),K.G==3&&Wa(K)},vi.prototype.N=function(){this.g.l=null,delete this.j,Jh(this.g),delete this.g,vi.aa.N.call(this)};function Md(N){Uh.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var K=N.__sm__;if(K){t:{for(const J in K){N=J;break t}N=void 0}(this.i=N)&&(N=this.i,K=K!==null&&N in K?K[N]:void 0),this.data=K}else this.data=N}i(Md,Uh);function Id(){zh.call(this),this.status=1}i(Id,zh);function Nn(N){this.g=N}i(Nn,wd),Nn.prototype.ua=function(){At(this.g,"a")},Nn.prototype.ta=function(N){At(this.g,new Md(N))},Nn.prototype.sa=function(N){At(this.g,new Id)},Nn.prototype.ra=function(){At(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,vi.prototype.send=vi.prototype.o,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,Km=function(){return new Ha},Hm=function(){return Fa()},Ym=tn,Ql={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,co=Da,Kf.COMPLETE="complete",Wm=Kf,bi.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Nr=bi,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,Xm=Se}).apply(typeof qa<"u"?qa:typeof self<"u"?self:typeof window<"u"?window:{});const Nc="@firebase/firestore",Bc="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new Bu("@firebase/firestore");function Un(){return En.logLevel}function Pt(g,...e){if(En.logLevel<=Ht.DEBUG){const p=e.map(Gu);En.debug(`Firestore (${cr}): ${g}`,...p)}}function ds(g,...e){if(En.logLevel<=Ht.ERROR){const p=e.map(Gu);En.error(`Firestore (${cr}): ${g}`,...p)}}function ha(g,...e){if(En.logLevel<=Ht.WARN){const p=e.map(Gu);En.warn(`Firestore (${cr}): ${g}`,...p)}}function Gu(g){if(typeof g=="string")return g;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(p){return JSON.stringify(p)}(g)}catch{return g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(g="Unexpected state"){const e=`FIRESTORE (${cr}) INTERNAL ASSERTION FAILED: `+g;throw ds(e),new Error(e)}function re(g,e){g||Ot()}function Ut(g,e){return g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends xs{constructor(e,p){super(e,p),this.code=e,this.message=p,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,p)=>{this.resolve=e,this.reject=p})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,p){this.user=p,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,p){e.enqueueRetryable(()=>p(hi.UNAUTHENTICATED))}shutdown(){}}class l2{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,p){re(this.o===void 0);let C=this.i;const R=t=>this.i!==C?(C=this.i,p(t)):Promise.resolve();let I=new us;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new us,e.enqueueRetryable(()=>R(this.currentUser))};const c=()=>{const t=I;e.enqueueRetryable(async()=>{await t.promise,await R(this.currentUser)})},E=t=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(t=>E(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?E(t):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new us)}},0),c()}getToken(){const e=this.i,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(C=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):C?(re(typeof C.accessToken=="string"),new o2(C.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string"),new hi(e)}}class u2{constructor(e,p,C){this.l=e,this.h=p,this.P=C,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class f2{constructor(e,p,C){this.l=e,this.h=p,this.P=C}getToken(){return Promise.resolve(new u2(this.l,this.h,this.P))}start(e,p){e.enqueueRetryable(()=>p(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d2{constructor(e,p){this.A=p,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ai(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,p){re(this.o===void 0);const C=I=>{I.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${I.error.message}`);const c=I.token!==this.R;return this.R=I.token,Pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?p(I.token):Promise.resolve()};this.o=I=>{e.enqueueRetryable(()=>C(I))};const R=I=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=I,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(I=>R(I)),setTimeout(()=>{if(!this.appCheck){const I=this.A.getImmediate({optional:!0});I?R(I):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bc(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(p=>p?(re(typeof p.token=="string"),this.R=p.token,new bc(p.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(g){const e=typeof self<"u"&&(self.crypto||self.msCrypto),p=new Uint8Array(g);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(p);else for(let C=0;C<g;C++)p[C]=Math.floor(256*Math.random());return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p=62*Math.floor(4.129032258064516);let C="";for(;C.length<20;){const R=c2(40);for(let I=0;I<R.length;++I)C.length<20&&R[I]<p&&(C+=e.charAt(R[I]%62))}return C}}function Qt(g,e){return g<e?-1:g>e?1:0}function ir(g,e,p){return g.length===e.length&&g.every((C,R)=>p(C,e[R]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-62135596800,Gc=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(e){return Ee.fromMillis(e.getTime())}static fromMillis(e){const p=Math.floor(e/1e3),C=Math.floor((e-1e3*p)*Gc);return new Ee(p,C)}constructor(e,p){if(this.seconds=e,this.nanoseconds=p,p<0)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+p);if(p>=1e9)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+p);if(e<Vc)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gc}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Vc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Ee(0,0))}static max(){return new Vt(new Ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc="__name__";class zi{constructor(e,p,C){p===void 0?p=0:p>e.length&&Ot(),C===void 0?C=e.length-p:C>e.length-p&&Ot(),this.segments=e,this.offset=p,this.len=C}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const p=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(C=>{p.push(C)}):p.push(e),this.construct(p)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let p=0;p<this.length;p++)if(this.get(p)!==e.get(p))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let p=0;p<this.length;p++)if(this.get(p)!==e.get(p))return!1;return!0}forEach(e){for(let p=this.offset,C=this.limit();p<C;p++)e(this.segments[p])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,p){const C=Math.min(e.length,p.length);for(let R=0;R<C;R++){const I=zi.compareSegments(e.get(R),p.get(R));if(I!==0)return I}return Math.sign(e.length-p.length)}static compareSegments(e,p){const C=zi.isNumericId(e),R=zi.isNumericId(p);return C&&!R?-1:!C&&R?1:C&&R?zi.extractNumericId(e).compare(zi.extractNumericId(p)):e<p?-1:e>p?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class xe extends zi{construct(e,p,C){return new xe(e,p,C)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const p=[];for(const C of e){if(C.indexOf("//")>=0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid segment (${C}). Paths must not contain // in them.`);p.push(...C.split("/").filter(R=>R.length>0))}return new xe(p)}static emptyPath(){return new xe([])}}const v2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends zi{construct(e,p,C){return new Xe(e,p,C)}static isValidIdentifier(e){return v2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uc}static keyField(){return new Xe([Uc])}static fromServerFormat(e){const p=[];let C="",R=0;const I=()=>{if(C.length===0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);p.push(C),C=""};let c=!1;for(;R<e.length;){const E=e[R];if(E==="\\"){if(R+1===e.length)throw new Rt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[R+1];if(t!=="\\"&&t!=="."&&t!=="`")throw new Rt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);C+=t,R+=2}else E==="`"?(c=!c,R++):E!=="."||c?(C+=E,R++):(I(),R++)}if(I(),c)throw new Rt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(p)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(xe.fromString(e))}static fromName(e){return new Dt(xe.fromString(e).popFirst(5))}static empty(){return new Dt(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,p){return xe.comparator(e.path,p.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=-1;function p2(g,e){const p=g.toTimestamp().seconds,C=g.toTimestamp().nanoseconds+1,R=Vt.fromTimestamp(C===1e9?new Ee(p+1,0):new Ee(p,C));return new Xs(R,Dt.empty(),e)}function m2(g){return new Xs(g.readTime,g.key,la)}class Xs{constructor(e,p,C){this.readTime=e,this.documentKey=p,this.largestBatchId=C}static min(){return new Xs(Vt.min(),Dt.empty(),la)}static max(){return new Xs(Vt.max(),Dt.empty(),la)}}function g2(g,e){let p=g.readTime.compareTo(e.readTime);return p!==0?p:(p=Dt.comparator(g.documentKey,e.documentKey),p!==0?p:Qt(g.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vr(g){if(g.code!==pt.FAILED_PRECONDITION||g.message!==x2)throw g;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(p=>{this.isDone=!0,this.result=p,this.nextCallback&&this.nextCallback(p)},p=>{this.isDone=!0,this.error=p,this.catchCallback&&this.catchCallback(p)})}catch(e){return this.next(void 0,e)}next(e,p){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(p,this.error):this.wrapSuccess(e,this.result):new mt((C,R)=>{this.nextCallback=I=>{this.wrapSuccess(e,I).next(C,R)},this.catchCallback=I=>{this.wrapFailure(p,I).next(C,R)}})}toPromise(){return new Promise((e,p)=>{this.next(e,p)})}wrapUserFunction(e){try{const p=e();return p instanceof mt?p:mt.resolve(p)}catch(p){return mt.reject(p)}}wrapSuccess(e,p){return e?this.wrapUserFunction(()=>e(p)):mt.resolve(p)}wrapFailure(e,p){return e?this.wrapUserFunction(()=>e(p)):mt.reject(p)}static resolve(e){return new mt((p,C)=>{p(e)})}static reject(e){return new mt((p,C)=>{C(e)})}static waitFor(e){return new mt((p,C)=>{let R=0,I=0,c=!1;e.forEach(E=>{++R,E.next(()=>{++I,c&&I===R&&p()},t=>C(t))}),c=!0,I===R&&p()})}static or(e){let p=mt.resolve(!1);for(const C of e)p=p.next(R=>R?mt.resolve(R):C());return p}static forEach(e,p){const C=[];return e.forEach((R,I)=>{C.push(p.call(this,R,I))}),this.waitFor(C)}static mapArray(e,p){return new mt((C,R)=>{const I=e.length,c=new Array(I);let E=0;for(let t=0;t<I;t++){const h=t;p(e[h]).next(x=>{c[h]=x,++E,E===I&&C(c)},x=>R(x))}})}static doWhile(e,p){return new mt((C,R)=>{const I=()=>{e()===!0?p().next(()=>{I()},R):C()};I()})}}function T2(g){const e=g.match(/Android ([\d.]+)/i),p=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(p)}function pr(g){return g.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,p){this.previousValue=e,p&&(p.sequenceNumberHandler=C=>this.oe(C),this._e=C=>p.writeSequenceNumber(C))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function yh(g){return g==null}function Bo(g){return g===0&&1/g==-1/0}function S2(g){return typeof g=="number"&&Number.isInteger(g)&&!Bo(g)&&g<=Number.MAX_SAFE_INTEGER&&g>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="";function E2(g){let e="";for(let p=0;p<g.length;p++)e.length>0&&(e=zc(e)),e=C2(g.get(p),e);return zc(e)}function C2(g,e){let p=e;const C=g.length;for(let R=0;R<C;R++){const I=g.charAt(R);switch(I){case"\0":p+="";break;case Qm:p+="";break;default:p+=I}}return p}function zc(g){return g+Qm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(g){let e=0;for(const p in g)Object.prototype.hasOwnProperty.call(g,p)&&e++;return e}function qs(g,e){for(const p in g)Object.prototype.hasOwnProperty.call(g,p)&&e(p,g[p])}function jm(g){for(const e in g)if(Object.prototype.hasOwnProperty.call(g,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,p){this.comparator=e,this.root=p||ze.EMPTY}insert(e,p){return new Te(this.comparator,this.root.insert(e,p,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let p=this.root;for(;!p.isEmpty();){const C=this.comparator(e,p.key);if(C===0)return p.value;C<0?p=p.left:C>0&&(p=p.right)}return null}indexOf(e){let p=0,C=this.root;for(;!C.isEmpty();){const R=this.comparator(e,C.key);if(R===0)return p+C.left.size;R<0?C=C.left:(p+=C.left.size+1,C=C.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((p,C)=>(e(p,C),!1))}toString(){const e=[];return this.inorderTraversal((p,C)=>(e.push(`${p}:${C}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _a(this.root,e,this.comparator,!1)}getReverseIterator(){return new _a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _a(this.root,e,this.comparator,!0)}}class _a{constructor(e,p,C,R){this.isReverse=R,this.nodeStack=[];let I=1;for(;!e.isEmpty();)if(I=p?C(e.key,p):1,p&&R&&(I*=-1),I<0)e=this.isReverse?e.left:e.right;else{if(I===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const p={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return p}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,p,C,R,I){this.key=e,this.value=p,this.color=C??ze.RED,this.left=R??ze.EMPTY,this.right=I??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,p,C,R,I){return new ze(e??this.key,p??this.value,C??this.color,R??this.left,I??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,p,C){let R=this;const I=C(e,R.key);return R=I<0?R.copy(null,null,null,R.left.insert(e,p,C),null):I===0?R.copy(null,p,null,null,null):R.copy(null,null,null,null,R.right.insert(e,p,C)),R.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,p){let C,R=this;if(p(e,R.key)<0)R.left.isEmpty()||R.left.isRed()||R.left.left.isRed()||(R=R.moveRedLeft()),R=R.copy(null,null,null,R.left.remove(e,p),null);else{if(R.left.isRed()&&(R=R.rotateRight()),R.right.isEmpty()||R.right.isRed()||R.right.left.isRed()||(R=R.moveRedRight()),p(e,R.key)===0){if(R.right.isEmpty())return ze.EMPTY;C=R.right.min(),R=R.copy(C.key,C.value,null,null,R.right.removeMin())}R=R.copy(null,null,null,null,R.right.remove(e,p))}return R.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,p)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(e,p,C,R,I){return this}insert(e,p,C){return new ze(e,p)}remove(e,p){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((p,C)=>(e(p),!1))}forEachInRange(e,p){const C=this.data.getIteratorFrom(e[0]);for(;C.hasNext();){const R=C.getNext();if(this.comparator(R.key,e[1])>=0)return;p(R.key)}}forEachWhile(e,p){let C;for(C=p!==void 0?this.data.getIteratorFrom(p):this.data.getIterator();C.hasNext();)if(!e(C.getNext().key))return}firstAfterOrEqual(e){const p=this.data.getIteratorFrom(e);return p.hasNext()?p.getNext().key:null}getIterator(){return new Wc(this.data.getIterator())}getIteratorFrom(e){return new Wc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let p=this;return p.size<e.size&&(p=e,e=this),e.forEach(C=>{p=p.add(C)}),p}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const p=this.data.getIterator(),C=e.data.getIterator();for(;p.hasNext();){const R=p.getNext().key,I=C.getNext().key;if(this.comparator(R,I)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(p=>{e.push(p)}),e}toString(){const e=[];return this.forEach(p=>e.push(p)),"SortedSet("+e.toString()+")"}copy(e){const p=new Fe(this.comparator);return p.data=e,p}}class Wc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new mi([])}unionWith(e){let p=new Fe(Xe.comparator);for(const C of this.fields)p=p.add(C);for(const C of e)p=p.add(C);return new mi(p.toArray())}covers(e){for(const p of this.fields)if(p.isPrefixOf(e))return!0;return!1}isEqual(e){return ir(this.fields,e.fields,(p,C)=>p.isEqual(C))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const p=function(R){try{return atob(R)}catch(I){throw typeof DOMException<"u"&&I instanceof DOMException?new Jm("Invalid base64 string: "+I):I}}(e);return new He(p)}static fromUint8Array(e){const p=function(R){let I="";for(let c=0;c<R.length;++c)I+=String.fromCharCode(R[c]);return I}(e);return new He(p)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(p){return btoa(p)}(this.binaryString)}toUint8Array(){return function(p){const C=new Uint8Array(p.length);for(let R=0;R<p.length;R++)C[R]=p.charCodeAt(R);return C}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const A2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(g){if(re(!!g),typeof g=="string"){let e=0;const p=A2.exec(g);if(re(!!p),p[1]){let R=p[1];R=(R+"000000000").substr(0,9),e=Number(R)}const C=new Date(g);return{seconds:Math.floor(C.getTime()/1e3),nanos:e}}return{seconds:Ae(g.seconds),nanos:Ae(g.nanos)}}function Ae(g){return typeof g=="number"?g:typeof g=="string"?Number(g):0}function Ys(g){return typeof g=="string"?He.fromBase64String(g):He.fromUint8Array(g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="server_timestamp",km="__type__",qm="__previous_value__",_m="__local_write_time__";function zu(g){var e,p;return((p=(((e=g==null?void 0:g.mapValue)===null||e===void 0?void 0:e.fields)||{})[km])===null||p===void 0?void 0:p.stringValue)===Zm}function Th(g){const e=g.mapValue.fields[qm];return zu(e)?Th(e):e}function ua(g){const e=Ws(g.mapValue.fields[_m].timestampValue);return new Ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,p,C,R,I,c,E,t,h){this.databaseId=e,this.appId=p,this.persistenceKey=C,this.host=R,this.ssl=I,this.forceLongPolling=c,this.autoDetectLongPolling=E,this.longPollingOptions=t,this.useFetchStreams=h}}const bo="(default)";class fa{constructor(e,p){this.projectId=e,this.database=p||bo}static empty(){return new fa("","")}get isDefaultDatabase(){return this.database===bo}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="__type__",R2="__max__",to={mapValue:{}},eg="__vector__",Vo="value";function Hs(g){return"nullValue"in g?0:"booleanValue"in g?1:"integerValue"in g||"doubleValue"in g?2:"timestampValue"in g?3:"stringValue"in g?5:"bytesValue"in g?6:"referenceValue"in g?7:"geoPointValue"in g?8:"arrayValue"in g?9:"mapValue"in g?zu(g)?4:M2(g)?9007199254740991:w2(g)?10:11:Ot()}function ji(g,e){if(g===e)return!0;const p=Hs(g);if(p!==Hs(e))return!1;switch(p){case 0:case 9007199254740991:return!0;case 1:return g.booleanValue===e.booleanValue;case 4:return ua(g).isEqual(ua(e));case 3:return function(R,I){if(typeof R.timestampValue=="string"&&typeof I.timestampValue=="string"&&R.timestampValue.length===I.timestampValue.length)return R.timestampValue===I.timestampValue;const c=Ws(R.timestampValue),E=Ws(I.timestampValue);return c.seconds===E.seconds&&c.nanos===E.nanos}(g,e);case 5:return g.stringValue===e.stringValue;case 6:return function(R,I){return Ys(R.bytesValue).isEqual(Ys(I.bytesValue))}(g,e);case 7:return g.referenceValue===e.referenceValue;case 8:return function(R,I){return Ae(R.geoPointValue.latitude)===Ae(I.geoPointValue.latitude)&&Ae(R.geoPointValue.longitude)===Ae(I.geoPointValue.longitude)}(g,e);case 2:return function(R,I){if("integerValue"in R&&"integerValue"in I)return Ae(R.integerValue)===Ae(I.integerValue);if("doubleValue"in R&&"doubleValue"in I){const c=Ae(R.doubleValue),E=Ae(I.doubleValue);return c===E?Bo(c)===Bo(E):isNaN(c)&&isNaN(E)}return!1}(g,e);case 9:return ir(g.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(R,I){const c=R.mapValue.fields||{},E=I.mapValue.fields||{};if(Xc(c)!==Xc(E))return!1;for(const t in c)if(c.hasOwnProperty(t)&&(E[t]===void 0||!ji(c[t],E[t])))return!1;return!0}(g,e);default:return Ot()}}function da(g,e){return(g.values||[]).find(p=>ji(p,e))!==void 0}function sr(g,e){if(g===e)return 0;const p=Hs(g),C=Hs(e);if(p!==C)return Qt(p,C);switch(p){case 0:case 9007199254740991:return 0;case 1:return Qt(g.booleanValue,e.booleanValue);case 2:return function(I,c){const E=Ae(I.integerValue||I.doubleValue),t=Ae(c.integerValue||c.doubleValue);return E<t?-1:E>t?1:E===t?0:isNaN(E)?isNaN(t)?0:-1:1}(g,e);case 3:return Yc(g.timestampValue,e.timestampValue);case 4:return Yc(ua(g),ua(e));case 5:return Qt(g.stringValue,e.stringValue);case 6:return function(I,c){const E=Ys(I),t=Ys(c);return E.compareTo(t)}(g.bytesValue,e.bytesValue);case 7:return function(I,c){const E=I.split("/"),t=c.split("/");for(let h=0;h<E.length&&h<t.length;h++){const x=Qt(E[h],t[h]);if(x!==0)return x}return Qt(E.length,t.length)}(g.referenceValue,e.referenceValue);case 8:return function(I,c){const E=Qt(Ae(I.latitude),Ae(c.latitude));return E!==0?E:Qt(Ae(I.longitude),Ae(c.longitude))}(g.geoPointValue,e.geoPointValue);case 9:return Hc(g.arrayValue,e.arrayValue);case 10:return function(I,c){var E,t,h,x;const o=I.fields||{},r=c.fields||{},a=(E=o[Vo])===null||E===void 0?void 0:E.arrayValue,i=(t=r[Vo])===null||t===void 0?void 0:t.arrayValue,n=Qt(((h=a==null?void 0:a.values)===null||h===void 0?void 0:h.length)||0,((x=i==null?void 0:i.values)===null||x===void 0?void 0:x.length)||0);return n!==0?n:Hc(a,i)}(g.mapValue,e.mapValue);case 11:return function(I,c){if(I===to.mapValue&&c===to.mapValue)return 0;if(I===to.mapValue)return 1;if(c===to.mapValue)return-1;const E=I.fields||{},t=Object.keys(E),h=c.fields||{},x=Object.keys(h);t.sort(),x.sort();for(let o=0;o<t.length&&o<x.length;++o){const r=Qt(t[o],x[o]);if(r!==0)return r;const a=sr(E[t[o]],h[x[o]]);if(a!==0)return a}return Qt(t.length,x.length)}(g.mapValue,e.mapValue);default:throw Ot()}}function Yc(g,e){if(typeof g=="string"&&typeof e=="string"&&g.length===e.length)return Qt(g,e);const p=Ws(g),C=Ws(e),R=Qt(p.seconds,C.seconds);return R!==0?R:Qt(p.nanos,C.nanos)}function Hc(g,e){const p=g.values||[],C=e.values||[];for(let R=0;R<p.length&&R<C.length;++R){const I=sr(p[R],C[R]);if(I)return I}return Qt(p.length,C.length)}function nr(g){return jl(g)}function jl(g){return"nullValue"in g?"null":"booleanValue"in g?""+g.booleanValue:"integerValue"in g?""+g.integerValue:"doubleValue"in g?""+g.doubleValue:"timestampValue"in g?function(p){const C=Ws(p);return`time(${C.seconds},${C.nanos})`}(g.timestampValue):"stringValue"in g?g.stringValue:"bytesValue"in g?function(p){return Ys(p).toBase64()}(g.bytesValue):"referenceValue"in g?function(p){return Dt.fromName(p).toString()}(g.referenceValue):"geoPointValue"in g?function(p){return`geo(${p.latitude},${p.longitude})`}(g.geoPointValue):"arrayValue"in g?function(p){let C="[",R=!0;for(const I of p.values||[])R?R=!1:C+=",",C+=jl(I);return C+"]"}(g.arrayValue):"mapValue"in g?function(p){const C=Object.keys(p.fields||{}).sort();let R="{",I=!0;for(const c of C)I?I=!1:R+=",",R+=`${c}:${jl(p.fields[c])}`;return R+"}"}(g.mapValue):Ot()}function vo(g){switch(Hs(g)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(g);return e?16+vo(e):16;case 5:return 2*g.stringValue.length;case 6:return Ys(g.bytesValue).approximateByteSize();case 7:return g.referenceValue.length;case 9:return function(C){return(C.values||[]).reduce((R,I)=>R+vo(I),0)}(g.arrayValue);case 10:case 11:return function(C){let R=0;return qs(C.fields,(I,c)=>{R+=I.length+vo(c)}),R}(g.mapValue);default:throw Ot()}}function Kc(g,e){return{referenceValue:`projects/${g.projectId}/databases/${g.database}/documents/${e.path.canonicalString()}`}}function Jl(g){return!!g&&"integerValue"in g}function Xu(g){return!!g&&"arrayValue"in g}function $c(g){return!!g&&"nullValue"in g}function Qc(g){return!!g&&"doubleValue"in g&&isNaN(Number(g.doubleValue))}function po(g){return!!g&&"mapValue"in g}function w2(g){var e,p;return((p=(((e=g==null?void 0:g.mapValue)===null||e===void 0?void 0:e.fields)||{})[tg])===null||p===void 0?void 0:p.stringValue)===eg}function Qr(g){if(g.geoPointValue)return{geoPointValue:Object.assign({},g.geoPointValue)};if(g.timestampValue&&typeof g.timestampValue=="object")return{timestampValue:Object.assign({},g.timestampValue)};if(g.mapValue){const e={mapValue:{fields:{}}};return qs(g.mapValue.fields,(p,C)=>e.mapValue.fields[p]=Qr(C)),e}if(g.arrayValue){const e={arrayValue:{values:[]}};for(let p=0;p<(g.arrayValue.values||[]).length;++p)e.arrayValue.values[p]=Qr(g.arrayValue.values[p]);return e}return Object.assign({},g)}function M2(g){return(((g.mapValue||{}).fields||{}).__type__||{}).stringValue===R2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let p=this.value;for(let C=0;C<e.length-1;++C)if(p=(p.mapValue.fields||{})[e.get(C)],!po(p))return null;return p=(p.mapValue.fields||{})[e.lastSegment()],p||null}}set(e,p){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qr(p)}setAll(e){let p=Xe.emptyPath(),C={},R=[];e.forEach((c,E)=>{if(!p.isImmediateParentOf(E)){const t=this.getFieldsMap(p);this.applyChanges(t,C,R),C={},R=[],p=E.popLast()}c?C[E.lastSegment()]=Qr(c):R.push(E.lastSegment())});const I=this.getFieldsMap(p);this.applyChanges(I,C,R)}delete(e){const p=this.field(e.popLast());po(p)&&p.mapValue.fields&&delete p.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let p=this.value;p.mapValue.fields||(p.mapValue={fields:{}});for(let C=0;C<e.length;++C){let R=p.mapValue.fields[e.get(C)];po(R)&&R.mapValue.fields||(R={mapValue:{fields:{}}},p.mapValue.fields[e.get(C)]=R),p=R}return p.mapValue.fields}applyChanges(e,p,C){qs(p,(R,I)=>e[R]=I);for(const R of C)delete e[R]}clone(){return new fi(Qr(this.value))}}function ig(g){const e=[];return qs(g.fields,(p,C)=>{const R=new Xe([p]);if(po(C)){const I=ig(C.mapValue).fields;if(I.length===0)e.push(R);else for(const c of I)e.push(R.child(c))}else e.push(R)}),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,p,C,R,I,c,E){this.key=e,this.documentType=p,this.version=C,this.readTime=R,this.createTime=I,this.data=c,this.documentState=E}static newInvalidDocument(e){return new ke(e,0,Vt.min(),Vt.min(),Vt.min(),fi.empty(),0)}static newFoundDocument(e,p,C,R){return new ke(e,1,p,Vt.min(),C,R,0)}static newNoDocument(e,p){return new ke(e,2,p,Vt.min(),Vt.min(),fi.empty(),0)}static newUnknownDocument(e,p){return new ke(e,3,p,Vt.min(),Vt.min(),fi.empty(),2)}convertToFoundDocument(e,p){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=p,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,p){this.position=e,this.inclusive=p}}function jc(g,e,p){let C=0;for(let R=0;R<g.position.length;R++){const I=e[R],c=g.position[R];if(I.field.isKeyField()?C=Dt.comparator(Dt.fromName(c.referenceValue),p.key):C=sr(c,p.data.field(I.field)),I.dir==="desc"&&(C*=-1),C!==0)break}return C}function Jc(g,e){if(g===null)return e===null;if(e===null||g.inclusive!==e.inclusive||g.position.length!==e.position.length)return!1;for(let p=0;p<g.position.length;p++)if(!ji(g.position[p],e.position[p]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,p="asc"){this.field=e,this.dir=p}}function I2(g,e){return g.dir===e.dir&&g.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{}class Me extends sg{constructor(e,p,C){super(),this.field=e,this.op=p,this.value=C}static create(e,p,C){return e.isKeyField()?p==="in"||p==="not-in"?this.createKeyFieldInFilter(e,p,C):new F2(e,p,C):p==="array-contains"?new N2(e,C):p==="in"?new B2(e,C):p==="not-in"?new b2(e,C):p==="array-contains-any"?new V2(e,C):new Me(e,p,C)}static createKeyFieldInFilter(e,p,C){return p==="in"?new D2(e,C):new O2(e,C)}matches(e){const p=e.data.field(this.field);return this.op==="!="?p!==null&&this.matchesComparison(sr(p,this.value)):p!==null&&Hs(this.value)===Hs(p)&&this.matchesComparison(sr(p,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends sg{constructor(e,p){super(),this.filters=e,this.op=p,this.ce=null}static create(e,p){return new Oi(e,p)}matches(e){return ng(this)?this.filters.find(p=>!p.matches(e))===void 0:this.filters.find(p=>p.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,p)=>e.concat(p.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ng(g){return g.op==="and"}function rg(g){return L2(g)&&ng(g)}function L2(g){for(const e of g.filters)if(e instanceof Oi)return!1;return!0}function Zl(g){if(g instanceof Me)return g.field.canonicalString()+g.op.toString()+nr(g.value);if(rg(g))return g.filters.map(e=>Zl(e)).join(",");{const e=g.filters.map(p=>Zl(p)).join(",");return`${g.op}(${e})`}}function ag(g,e){return g instanceof Me?function(C,R){return R instanceof Me&&C.op===R.op&&C.field.isEqual(R.field)&&ji(C.value,R.value)}(g,e):g instanceof Oi?function(C,R){return R instanceof Oi&&C.op===R.op&&C.filters.length===R.filters.length?C.filters.reduce((I,c,E)=>I&&ag(c,R.filters[E]),!0):!1}(g,e):void Ot()}function og(g){return g instanceof Me?function(p){return`${p.field.canonicalString()} ${p.op} ${nr(p.value)}`}(g):g instanceof Oi?function(p){return p.op.toString()+" {"+p.getFilters().map(og).join(" ,")+"}"}(g):"Filter"}class F2 extends Me{constructor(e,p,C){super(e,p,C),this.key=Dt.fromName(C.referenceValue)}matches(e){const p=Dt.comparator(e.key,this.key);return this.matchesComparison(p)}}class D2 extends Me{constructor(e,p){super(e,"in",p),this.keys=hg("in",p)}matches(e){return this.keys.some(p=>p.isEqual(e.key))}}class O2 extends Me{constructor(e,p){super(e,"not-in",p),this.keys=hg("not-in",p)}matches(e){return!this.keys.some(p=>p.isEqual(e.key))}}function hg(g,e){var p;return(((p=e.arrayValue)===null||p===void 0?void 0:p.values)||[]).map(C=>Dt.fromName(C.referenceValue))}class N2 extends Me{constructor(e,p){super(e,"array-contains",p)}matches(e){const p=e.data.field(this.field);return Xu(p)&&da(p.arrayValue,this.value)}}class B2 extends Me{constructor(e,p){super(e,"in",p)}matches(e){const p=e.data.field(this.field);return p!==null&&da(this.value.arrayValue,p)}}class b2 extends Me{constructor(e,p){super(e,"not-in",p)}matches(e){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const p=e.data.field(this.field);return p!==null&&!da(this.value.arrayValue,p)}}class V2 extends Me{constructor(e,p){super(e,"array-contains-any",p)}matches(e){const p=e.data.field(this.field);return!(!Xu(p)||!p.arrayValue.values)&&p.arrayValue.values.some(C=>da(this.value.arrayValue,C))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,p=null,C=[],R=[],I=null,c=null,E=null){this.path=e,this.collectionGroup=p,this.orderBy=C,this.filters=R,this.limit=I,this.startAt=c,this.endAt=E,this.le=null}}function Zc(g,e=null,p=[],C=[],R=null,I=null,c=null){return new G2(g,e,p,C,R,I,c)}function Wu(g){const e=Ut(g);if(e.le===null){let p=e.path.canonicalString();e.collectionGroup!==null&&(p+="|cg:"+e.collectionGroup),p+="|f:",p+=e.filters.map(C=>Zl(C)).join(","),p+="|ob:",p+=e.orderBy.map(C=>function(I){return I.field.canonicalString()+I.dir}(C)).join(","),yh(e.limit)||(p+="|l:",p+=e.limit),e.startAt&&(p+="|lb:",p+=e.startAt.inclusive?"b:":"a:",p+=e.startAt.position.map(C=>nr(C)).join(",")),e.endAt&&(p+="|ub:",p+=e.endAt.inclusive?"a:":"b:",p+=e.endAt.position.map(C=>nr(C)).join(",")),e.le=p}return e.le}function Yu(g,e){if(g.limit!==e.limit||g.orderBy.length!==e.orderBy.length)return!1;for(let p=0;p<g.orderBy.length;p++)if(!I2(g.orderBy[p],e.orderBy[p]))return!1;if(g.filters.length!==e.filters.length)return!1;for(let p=0;p<g.filters.length;p++)if(!ag(g.filters[p],e.filters[p]))return!1;return g.collectionGroup===e.collectionGroup&&!!g.path.isEqual(e.path)&&!!Jc(g.startAt,e.startAt)&&Jc(g.endAt,e.endAt)}function kl(g){return Dt.isDocumentKey(g.path)&&g.collectionGroup===null&&g.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,p=null,C=[],R=[],I=null,c="F",E=null,t=null){this.path=e,this.collectionGroup=p,this.explicitOrderBy=C,this.filters=R,this.limit=I,this.limitType=c,this.startAt=E,this.endAt=t,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function U2(g,e,p,C,R,I,c,E){return new Ea(g,e,p,C,R,I,c,E)}function Sh(g){return new Ea(g)}function kc(g){return g.filters.length===0&&g.limit===null&&g.startAt==null&&g.endAt==null&&(g.explicitOrderBy.length===0||g.explicitOrderBy.length===1&&g.explicitOrderBy[0].field.isKeyField())}function lg(g){return g.collectionGroup!==null}function jr(g){const e=Ut(g);if(e.he===null){e.he=[];const p=new Set;for(const I of e.explicitOrderBy)e.he.push(I),p.add(I.field.canonicalString());const C=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let E=new Fe(Xe.comparator);return c.filters.forEach(t=>{t.getFlattenedFilters().forEach(h=>{h.isInequality()&&(E=E.add(h.field))})}),E})(e).forEach(I=>{p.has(I.canonicalString())||I.isKeyField()||e.he.push(new Uo(I,C))}),p.has(Xe.keyField().canonicalString())||e.he.push(new Uo(Xe.keyField(),C))}return e.he}function Hi(g){const e=Ut(g);return e.Pe||(e.Pe=z2(e,jr(g))),e.Pe}function z2(g,e){if(g.limitType==="F")return Zc(g.path,g.collectionGroup,e,g.filters,g.limit,g.startAt,g.endAt);{e=e.map(R=>{const I=R.dir==="desc"?"asc":"desc";return new Uo(R.field,I)});const p=g.endAt?new Go(g.endAt.position,g.endAt.inclusive):null,C=g.startAt?new Go(g.startAt.position,g.startAt.inclusive):null;return Zc(g.path,g.collectionGroup,e,g.filters,g.limit,p,C)}}function ql(g,e){const p=g.filters.concat([e]);return new Ea(g.path,g.collectionGroup,g.explicitOrderBy.slice(),p,g.limit,g.limitType,g.startAt,g.endAt)}function _l(g,e,p){return new Ea(g.path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),e,p,g.startAt,g.endAt)}function Eh(g,e){return Yu(Hi(g),Hi(e))&&g.limitType===e.limitType}function ug(g){return`${Wu(Hi(g))}|lt:${g.limitType}`}function zn(g){return`Query(target=${function(p){let C=p.path.canonicalString();return p.collectionGroup!==null&&(C+=" collectionGroup="+p.collectionGroup),p.filters.length>0&&(C+=`, filters: [${p.filters.map(R=>og(R)).join(", ")}]`),yh(p.limit)||(C+=", limit: "+p.limit),p.orderBy.length>0&&(C+=`, orderBy: [${p.orderBy.map(R=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(R)).join(", ")}]`),p.startAt&&(C+=", startAt: ",C+=p.startAt.inclusive?"b:":"a:",C+=p.startAt.position.map(R=>nr(R)).join(",")),p.endAt&&(C+=", endAt: ",C+=p.endAt.inclusive?"a:":"b:",C+=p.endAt.position.map(R=>nr(R)).join(",")),`Target(${C})`}(Hi(g))}; limitType=${g.limitType})`}function Ch(g,e){return e.isFoundDocument()&&function(C,R){const I=R.key.path;return C.collectionGroup!==null?R.key.hasCollectionId(C.collectionGroup)&&C.path.isPrefixOf(I):Dt.isDocumentKey(C.path)?C.path.isEqual(I):C.path.isImmediateParentOf(I)}(g,e)&&function(C,R){for(const I of jr(C))if(!I.field.isKeyField()&&R.data.field(I.field)===null)return!1;return!0}(g,e)&&function(C,R){for(const I of C.filters)if(!I.matches(R))return!1;return!0}(g,e)&&function(C,R){return!(C.startAt&&!function(c,E,t){const h=jc(c,E,t);return c.inclusive?h<=0:h<0}(C.startAt,jr(C),R)||C.endAt&&!function(c,E,t){const h=jc(c,E,t);return c.inclusive?h>=0:h>0}(C.endAt,jr(C),R))}(g,e)}function X2(g){return g.collectionGroup||(g.path.length%2==1?g.path.lastSegment():g.path.get(g.path.length-2))}function fg(g){return(e,p)=>{let C=!1;for(const R of jr(g)){const I=W2(R,e,p);if(I!==0)return I;C=C||R.field.isKeyField()}return 0}}function W2(g,e,p){const C=g.field.isKeyField()?Dt.comparator(e.key,p.key):function(I,c,E){const t=c.data.field(I),h=E.data.field(I);return t!==null&&h!==null?sr(t,h):Ot()}(g.field,e,p);switch(g.dir){case"asc":return C;case"desc":return-1*C;default:return Ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,p){this.mapKeyFn=e,this.equalsFn=p,this.inner={},this.innerSize=0}get(e){const p=this.mapKeyFn(e),C=this.inner[p];if(C!==void 0){for(const[R,I]of C)if(this.equalsFn(R,e))return I}}has(e){return this.get(e)!==void 0}set(e,p){const C=this.mapKeyFn(e),R=this.inner[C];if(R===void 0)return this.inner[C]=[[e,p]],void this.innerSize++;for(let I=0;I<R.length;I++)if(this.equalsFn(R[I][0],e))return void(R[I]=[e,p]);R.push([e,p]),this.innerSize++}delete(e){const p=this.mapKeyFn(e),C=this.inner[p];if(C===void 0)return!1;for(let R=0;R<C.length;R++)if(this.equalsFn(C[R][0],e))return C.length===1?delete this.inner[p]:C.splice(R,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(p,C)=>{for(const[R,I]of C)e(R,I)})}isEmpty(){return jm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Te(Dt.comparator);function cs(){return Y2}const dg=new Te(Dt.comparator);function Br(...g){let e=dg;for(const p of g)e=e.insert(p.key,p);return e}function cg(g){let e=dg;return g.forEach((p,C)=>e=e.insert(p,C.overlayedDocument)),e}function dn(){return Jr()}function vg(){return Jr()}function Jr(){return new In(g=>g.toString(),(g,e)=>g.isEqual(e))}const H2=new Te(Dt.comparator),K2=new Fe(Dt.comparator);function Kt(...g){let e=K2;for(const p of g)e=e.add(p);return e}const $2=new Fe(Qt);function Q2(){return $2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(g,e){if(g.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(e)?"-0":e}}function pg(g){return{integerValue:""+g}}function j2(g,e){return S2(e)?pg(e):Hu(g,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function J2(g,e,p){return g instanceof zo?function(R,I){const c={fields:{[km]:{stringValue:Zm},[_m]:{timestampValue:{seconds:R.seconds,nanos:R.nanoseconds}}}};return I&&zu(I)&&(I=Th(I)),I&&(c.fields[qm]=I),{mapValue:c}}(p,e):g instanceof ca?gg(g,e):g instanceof va?xg(g,e):function(R,I){const c=mg(R,I),E=qc(c)+qc(R.Ie);return Jl(c)&&Jl(R.Ie)?pg(E):Hu(R.serializer,E)}(g,e)}function Z2(g,e,p){return g instanceof ca?gg(g,e):g instanceof va?xg(g,e):p}function mg(g,e){return g instanceof Xo?function(C){return Jl(C)||function(I){return!!I&&"doubleValue"in I}(C)}(e)?e:{integerValue:0}:null}class zo extends Ah{}class ca extends Ah{constructor(e){super(),this.elements=e}}function gg(g,e){const p=yg(e);for(const C of g.elements)p.some(R=>ji(R,C))||p.push(C);return{arrayValue:{values:p}}}class va extends Ah{constructor(e){super(),this.elements=e}}function xg(g,e){let p=yg(e);for(const C of g.elements)p=p.filter(R=>!ji(R,C));return{arrayValue:{values:p}}}class Xo extends Ah{constructor(e,p){super(),this.serializer=e,this.Ie=p}}function qc(g){return Ae(g.integerValue||g.doubleValue)}function yg(g){return Xu(g)&&g.arrayValue.values?g.arrayValue.values.slice():[]}function k2(g,e){return g.field.isEqual(e.field)&&function(C,R){return C instanceof ca&&R instanceof ca||C instanceof va&&R instanceof va?ir(C.elements,R.elements,ji):C instanceof Xo&&R instanceof Xo?ji(C.Ie,R.Ie):C instanceof zo&&R instanceof zo}(g.transform,e.transform)}class q2{constructor(e,p){this.version=e,this.transformResults=p}}class wi{constructor(e,p){this.updateTime=e,this.exists=p}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mo(g,e){return g.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(g.updateTime):g.exists===void 0||g.exists===e.isFoundDocument()}class Ph{}function Tg(g,e){if(!g.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return g.isNoDocument()?new Eg(g.key,wi.none()):new Ca(g.key,g.data,wi.none());{const p=g.data,C=fi.empty();let R=new Fe(Xe.comparator);for(let I of e.fields)if(!R.has(I)){let c=p.field(I);c===null&&I.length>1&&(I=I.popLast(),c=p.field(I)),c===null?C.delete(I):C.set(I,c),R=R.add(I)}return new _s(g.key,C,new mi(R.toArray()),wi.none())}}function _2(g,e,p){g instanceof Ca?function(R,I,c){const E=R.value.clone(),t=tv(R.fieldTransforms,I,c.transformResults);E.setAll(t),I.convertToFoundDocument(c.version,E).setHasCommittedMutations()}(g,e,p):g instanceof _s?function(R,I,c){if(!mo(R.precondition,I))return void I.convertToUnknownDocument(c.version);const E=tv(R.fieldTransforms,I,c.transformResults),t=I.data;t.setAll(Sg(R)),t.setAll(E),I.convertToFoundDocument(c.version,t).setHasCommittedMutations()}(g,e,p):function(R,I,c){I.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,p)}function Zr(g,e,p,C){return g instanceof Ca?function(I,c,E,t){if(!mo(I.precondition,c))return E;const h=I.value.clone(),x=ev(I.fieldTransforms,t,c);return h.setAll(x),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null}(g,e,p,C):g instanceof _s?function(I,c,E,t){if(!mo(I.precondition,c))return E;const h=ev(I.fieldTransforms,t,c),x=c.data;return x.setAll(Sg(I)),x.setAll(h),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),E===null?null:E.unionWith(I.fieldMask.fields).unionWith(I.fieldTransforms.map(o=>o.field))}(g,e,p,C):function(I,c,E){return mo(I.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):E}(g,e,p)}function tC(g,e){let p=null;for(const C of g.fieldTransforms){const R=e.data.field(C.field),I=mg(C.transform,R||null);I!=null&&(p===null&&(p=fi.empty()),p.set(C.field,I))}return p||null}function _c(g,e){return g.type===e.type&&!!g.key.isEqual(e.key)&&!!g.precondition.isEqual(e.precondition)&&!!function(C,R){return C===void 0&&R===void 0||!(!C||!R)&&ir(C,R,(I,c)=>k2(I,c))}(g.fieldTransforms,e.fieldTransforms)&&(g.type===0?g.value.isEqual(e.value):g.type!==1||g.data.isEqual(e.data)&&g.fieldMask.isEqual(e.fieldMask))}class Ca extends Ph{constructor(e,p,C,R=[]){super(),this.key=e,this.value=p,this.precondition=C,this.fieldTransforms=R,this.type=0}getFieldMask(){return null}}class _s extends Ph{constructor(e,p,C,R,I=[]){super(),this.key=e,this.data=p,this.fieldMask=C,this.precondition=R,this.fieldTransforms=I,this.type=1}getFieldMask(){return this.fieldMask}}function Sg(g){const e=new Map;return g.fieldMask.fields.forEach(p=>{if(!p.isEmpty()){const C=g.data.field(p);e.set(p,C)}}),e}function tv(g,e,p){const C=new Map;re(g.length===p.length);for(let R=0;R<p.length;R++){const I=g[R],c=I.transform,E=e.data.field(I.field);C.set(I.field,Z2(c,E,p[R]))}return C}function ev(g,e,p){const C=new Map;for(const R of g){const I=R.transform,c=p.data.field(R.field);C.set(R.field,J2(I,c,e))}return C}class Eg extends Ph{constructor(e,p){super(),this.key=e,this.precondition=p,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eC extends Ph{constructor(e,p){super(),this.key=e,this.precondition=p,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,p,C,R){this.batchId=e,this.localWriteTime=p,this.baseMutations=C,this.mutations=R}applyToRemoteDocument(e,p){const C=p.mutationResults;for(let R=0;R<this.mutations.length;R++){const I=this.mutations[R];I.key.isEqual(e.key)&&_2(I,e,C[R])}}applyToLocalView(e,p){for(const C of this.baseMutations)C.key.isEqual(e.key)&&(p=Zr(C,e,p,this.localWriteTime));for(const C of this.mutations)C.key.isEqual(e.key)&&(p=Zr(C,e,p,this.localWriteTime));return p}applyToLocalDocumentSet(e,p){const C=vg();return this.mutations.forEach(R=>{const I=e.get(R.key),c=I.overlayedDocument;let E=this.applyToLocalView(c,I.mutatedFields);E=p.has(R.key)?null:E;const t=Tg(c,E);t!==null&&C.set(R.key,t),c.isValidDocument()||c.convertToNoDocument(Vt.min())}),C}keys(){return this.mutations.reduce((e,p)=>e.add(p.key),Kt())}isEqual(e){return this.batchId===e.batchId&&ir(this.mutations,e.mutations,(p,C)=>_c(p,C))&&ir(this.baseMutations,e.baseMutations,(p,C)=>_c(p,C))}}class Ku{constructor(e,p,C,R){this.batch=e,this.commitVersion=p,this.mutationResults=C,this.docVersions=R}static from(e,p,C){re(e.mutations.length===C.length);let R=function(){return H2}();const I=e.mutations;for(let c=0;c<I.length;c++)R=R.insert(I[c].key,C[c].version);return new Ku(e,p,C,R)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,p){this.largestBatchId=e,this.mutation=p}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,p){this.count=e,this.unchangedNames=p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Jt;function rC(g){switch(g){case pt.OK:return Ot();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return Ot()}}function Cg(g){if(g===void 0)return ds("GRPC error has no .code"),pt.UNKNOWN;switch(g){case Re.OK:return pt.OK;case Re.CANCELLED:return pt.CANCELLED;case Re.UNKNOWN:return pt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return pt.INTERNAL;case Re.UNAVAILABLE:return pt.UNAVAILABLE;case Re.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Re.NOT_FOUND:return pt.NOT_FOUND;case Re.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Re.ABORTED:return pt.ABORTED;case Re.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Re.DATA_LOSS:return pt.DATA_LOSS;default:return Ot()}}(Jt=Re||(Re={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new bs([4294967295,4294967295],0);function iv(g){const e=aC().encode(g),p=new zm;return p.update(e),new Uint8Array(p.digest())}function sv(g){const e=new DataView(g.buffer),p=e.getUint32(0,!0),C=e.getUint32(4,!0),R=e.getUint32(8,!0),I=e.getUint32(12,!0);return[new bs([p,C],0),new bs([R,I],0)]}class $u{constructor(e,p,C){if(this.bitmap=e,this.padding=p,this.hashCount=C,p<0||p>=8)throw new br(`Invalid padding: ${p}`);if(C<0)throw new br(`Invalid hash count: ${C}`);if(e.length>0&&this.hashCount===0)throw new br(`Invalid hash count: ${C}`);if(e.length===0&&p!==0)throw new br(`Invalid padding when bitmap length is 0: ${p}`);this.Ee=8*e.length-p,this.de=bs.fromNumber(this.Ee)}Ae(e,p,C){let R=e.add(p.multiply(bs.fromNumber(C)));return R.compare(oC)===1&&(R=new bs([R.getBits(0),R.getBits(1)],0)),R.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const p=iv(e),[C,R]=sv(p);for(let I=0;I<this.hashCount;I++){const c=this.Ae(C,R,I);if(!this.Re(c))return!1}return!0}static create(e,p,C){const R=e%8==0?0:8-e%8,I=new Uint8Array(Math.ceil(e/8)),c=new $u(I,R,p);return C.forEach(E=>c.insert(E)),c}insert(e){if(this.Ee===0)return;const p=iv(e),[C,R]=sv(p);for(let I=0;I<this.hashCount;I++){const c=this.Ae(C,R,I);this.Ve(c)}}Ve(e){const p=Math.floor(e/8),C=e%8;this.bitmap[p]|=1<<C}}class br extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,p,C,R,I){this.snapshotVersion=e,this.targetChanges=p,this.targetMismatches=C,this.documentUpdates=R,this.resolvedLimboDocuments=I}static createSynthesizedRemoteEventForCurrentChange(e,p,C){const R=new Map;return R.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,p,C)),new Rh(Vt.min(),R,new Te(Qt),cs(),Kt())}}class Aa{constructor(e,p,C,R,I){this.resumeToken=e,this.current=p,this.addedDocuments=C,this.modifiedDocuments=R,this.removedDocuments=I}static createSynthesizedTargetChangeForCurrentChange(e,p,C){return new Aa(C,p,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,p,C,R){this.me=e,this.removedTargetIds=p,this.key=C,this.fe=R}}class Ag{constructor(e,p){this.targetId=e,this.ge=p}}class Pg{constructor(e,p,C=He.EMPTY_BYTE_STRING,R=null){this.state=e,this.targetIds=p,this.resumeToken=C,this.cause=R}}class nv{constructor(){this.pe=0,this.ye=rv(),this.we=He.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Kt(),p=Kt(),C=Kt();return this.ye.forEach((R,I)=>{switch(I){case 0:e=e.add(R);break;case 2:p=p.add(R);break;case 1:C=C.add(R);break;default:Ot()}}),new Aa(this.we,this.be,e,p,C)}Me(){this.Se=!1,this.ye=rv()}xe(e,p){this.Se=!0,this.ye=this.ye.insert(e,p)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,re(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class hC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cs(),this.$e=eo(),this.Ke=eo(),this.Ue=new Te(Qt)}We(e){for(const p of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(p,e.fe):this.ze(p,e.key,e.fe);for(const p of e.removedTargetIds)this.ze(p,e.key,e.fe)}je(e){this.forEachTarget(e,p=>{const C=this.He(p);switch(e.state){case 0:this.Je(p)&&C.Ce(e.resumeToken);break;case 1:C.Be(),C.De||C.Me(),C.Ce(e.resumeToken);break;case 2:C.Be(),C.De||this.removeTarget(p);break;case 3:this.Je(p)&&(C.Le(),C.Ce(e.resumeToken));break;case 4:this.Je(p)&&(this.Ye(p),C.Ce(e.resumeToken));break;default:Ot()}})}forEachTarget(e,p){e.targetIds.length>0?e.targetIds.forEach(p):this.qe.forEach((C,R)=>{this.Je(R)&&p(R)})}Ze(e){const p=e.targetId,C=e.ge.count,R=this.Xe(p);if(R){const I=R.target;if(kl(I))if(C===0){const c=new Dt(I.path);this.ze(p,c,ke.newNoDocument(c,Vt.min()))}else re(C===1);else{const c=this.et(p);if(c!==C){const E=this.tt(e),t=E?this.nt(E,e,c):1;if(t!==0){this.Ye(p);const h=t===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(p,h)}}}}}tt(e){const p=e.ge.unchangedNames;if(!p||!p.bits)return null;const{bits:{bitmap:C="",padding:R=0},hashCount:I=0}=p;let c,E;try{c=Ys(C).toUint8Array()}catch(t){if(t instanceof Jm)return ha("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{E=new $u(c,R,I)}catch(t){return ha(t instanceof br?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return E.Ee===0?null:E}nt(e,p,C){return p.ge.count===C-this.st(e,p.targetId)?0:2}st(e,p){const C=this.ke.getRemoteKeysForTarget(p);let R=0;return C.forEach(I=>{const c=this.ke.it(),E=`projects/${c.projectId}/databases/${c.database}/documents/${I.path.canonicalString()}`;e.mightContain(E)||(this.ze(p,I,null),R++)}),R}ot(e){const p=new Map;this.qe.forEach((I,c)=>{const E=this.Xe(c);if(E){if(I.current&&kl(E.target)){const t=new Dt(E.target.path);this._t(t).has(c)||this.ut(c,t)||this.ze(c,t,ke.newNoDocument(t,e))}I.ve&&(p.set(c,I.Fe()),I.Me())}});let C=Kt();this.Ke.forEach((I,c)=>{let E=!0;c.forEachWhile(t=>{const h=this.Xe(t);return!h||h.purpose==="TargetPurposeLimboResolution"||(E=!1,!1)}),E&&(C=C.add(I))}),this.Qe.forEach((I,c)=>c.setReadTime(e));const R=new Rh(e,p,this.Ue,this.Qe,C);return this.Qe=cs(),this.$e=eo(),this.Ke=eo(),this.Ue=new Te(Qt),R}Ge(e,p){if(!this.Je(e))return;const C=this.ut(e,p.key)?2:0;this.He(e).xe(p.key,C),this.Qe=this.Qe.insert(p.key,p),this.$e=this.$e.insert(p.key,this._t(p.key).add(e)),this.Ke=this.Ke.insert(p.key,this.ct(p.key).add(e))}ze(e,p,C){if(!this.Je(e))return;const R=this.He(e);this.ut(e,p)?R.xe(p,1):R.Oe(p),this.Ke=this.Ke.insert(p,this.ct(p).delete(e)),this.Ke=this.Ke.insert(p,this.ct(p).add(e)),C&&(this.Qe=this.Qe.insert(p,C))}removeTarget(e){this.qe.delete(e)}et(e){const p=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+p.addedDocuments.size-p.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let p=this.qe.get(e);return p||(p=new nv,this.qe.set(e,p)),p}ct(e){let p=this.Ke.get(e);return p||(p=new Fe(Qt),this.Ke=this.Ke.insert(e,p)),p}_t(e){let p=this.$e.get(e);return p||(p=new Fe(Qt),this.$e=this.$e.insert(e,p)),p}Je(e){const p=this.Xe(e)!==null;return p||Pt("WatchChangeAggregator","Detected inactive target",e),p}Xe(e){const p=this.qe.get(e);return p&&p.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new nv),this.ke.getRemoteKeysForTarget(e).forEach(p=>{this.ze(e,p,null)})}ut(e,p){return this.ke.getRemoteKeysForTarget(e).has(p)}}function eo(){return new Te(Dt.comparator)}function rv(){return new Te(Dt.comparator)}const lC={asc:"ASCENDING",desc:"DESCENDING"},uC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fC={and:"AND",or:"OR"};class dC{constructor(e,p){this.databaseId=e,this.useProto3Json=p}}function tu(g,e){return g.useProto3Json||yh(e)?e:{value:e}}function Wo(g,e){return g.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rg(g,e){return g.useProto3Json?e.toBase64():e.toUint8Array()}function cC(g,e){return Wo(g,e.toTimestamp())}function Ki(g){return re(!!g),Vt.fromTimestamp(function(p){const C=Ws(p);return new Ee(C.seconds,C.nanos)}(g))}function Qu(g,e){return eu(g,e).canonicalString()}function eu(g,e){const p=function(R){return new xe(["projects",R.projectId,"databases",R.database])}(g).child("documents");return e===void 0?p:p.child(e)}function wg(g){const e=xe.fromString(g);return re(Dg(e)),e}function iu(g,e){return Qu(g.databaseId,e.path)}function yl(g,e){const p=wg(e);if(p.get(1)!==g.databaseId.projectId)throw new Rt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+p.get(1)+" vs "+g.databaseId.projectId);if(p.get(3)!==g.databaseId.database)throw new Rt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+p.get(3)+" vs "+g.databaseId.database);return new Dt(Ig(p))}function Mg(g,e){return Qu(g.databaseId,e)}function vC(g){const e=wg(g);return e.length===4?xe.emptyPath():Ig(e)}function su(g){return new xe(["projects",g.databaseId.projectId,"databases",g.databaseId.database]).canonicalString()}function Ig(g){return re(g.length>4&&g.get(4)==="documents"),g.popFirst(5)}function av(g,e,p){return{name:iu(g,e),fields:p.value.mapValue.fields}}function pC(g,e){let p;if("targetChange"in e){e.targetChange;const C=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),R=e.targetChange.targetIds||[],I=function(h,x){return h.useProto3Json?(re(x===void 0||typeof x=="string"),He.fromBase64String(x||"")):(re(x===void 0||x instanceof Buffer||x instanceof Uint8Array),He.fromUint8Array(x||new Uint8Array))}(g,e.targetChange.resumeToken),c=e.targetChange.cause,E=c&&function(h){const x=h.code===void 0?pt.UNKNOWN:Cg(h.code);return new Rt(x,h.message||"")}(c);p=new Pg(C,R,I,E||null)}else if("documentChange"in e){e.documentChange;const C=e.documentChange;C.document,C.document.name,C.document.updateTime;const R=yl(g,C.document.name),I=Ki(C.document.updateTime),c=C.document.createTime?Ki(C.document.createTime):Vt.min(),E=new fi({mapValue:{fields:C.document.fields}}),t=ke.newFoundDocument(R,I,c,E),h=C.targetIds||[],x=C.removedTargetIds||[];p=new go(h,x,t.key,t)}else if("documentDelete"in e){e.documentDelete;const C=e.documentDelete;C.document;const R=yl(g,C.document),I=C.readTime?Ki(C.readTime):Vt.min(),c=ke.newNoDocument(R,I),E=C.removedTargetIds||[];p=new go([],E,c.key,c)}else if("documentRemove"in e){e.documentRemove;const C=e.documentRemove;C.document;const R=yl(g,C.document),I=C.removedTargetIds||[];p=new go([],I,R,null)}else{if(!("filter"in e))return Ot();{e.filter;const C=e.filter;C.targetId;const{count:R=0,unchangedNames:I}=C,c=new nC(R,I),E=C.targetId;p=new Ag(E,c)}}return p}function mC(g,e){let p;if(e instanceof Ca)p={update:av(g,e.key,e.value)};else if(e instanceof Eg)p={delete:iu(g,e.key)};else if(e instanceof _s)p={update:av(g,e.key,e.data),updateMask:PC(e.fieldMask)};else{if(!(e instanceof eC))return Ot();p={verify:iu(g,e.key)}}return e.fieldTransforms.length>0&&(p.updateTransforms=e.fieldTransforms.map(C=>function(I,c){const E=c.transform;if(E instanceof zo)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof ca)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof va)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Xo)return{fieldPath:c.field.canonicalString(),increment:E.Ie};throw Ot()}(0,C))),e.precondition.isNone||(p.currentDocument=function(R,I){return I.updateTime!==void 0?{updateTime:cC(R,I.updateTime)}:I.exists!==void 0?{exists:I.exists}:Ot()}(g,e.precondition)),p}function gC(g,e){return g&&g.length>0?(re(e!==void 0),g.map(p=>function(R,I){let c=R.updateTime?Ki(R.updateTime):Ki(I);return c.isEqual(Vt.min())&&(c=Ki(I)),new q2(c,R.transformResults||[])}(p,e))):[]}function xC(g,e){return{documents:[Mg(g,e.path)]}}function yC(g,e){const p={structuredQuery:{}},C=e.path;let R;e.collectionGroup!==null?(R=C,p.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(R=C.popLast(),p.structuredQuery.from=[{collectionId:C.lastSegment()}]),p.parent=Mg(g,R);const I=function(h){if(h.length!==0)return Fg(Oi.create(h,"and"))}(e.filters);I&&(p.structuredQuery.where=I);const c=function(h){if(h.length!==0)return h.map(x=>function(r){return{field:Xn(r.field),direction:EC(r.dir)}}(x))}(e.orderBy);c&&(p.structuredQuery.orderBy=c);const E=tu(g,e.limit);return E!==null&&(p.structuredQuery.limit=E),e.startAt&&(p.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(p.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:p,parent:R}}function TC(g){let e=vC(g.parent);const p=g.structuredQuery,C=p.from?p.from.length:0;let R=null;if(C>0){re(C===1);const x=p.from[0];x.allDescendants?R=x.collectionId:e=e.child(x.collectionId)}let I=[];p.where&&(I=function(o){const r=Lg(o);return r instanceof Oi&&rg(r)?r.getFilters():[r]}(p.where));let c=[];p.orderBy&&(c=function(o){return o.map(r=>function(i){return new Uo(Wn(i.field),function(l){switch(l){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(i.direction))}(r))}(p.orderBy));let E=null;p.limit&&(E=function(o){let r;return r=typeof o=="object"?o.value:o,yh(r)?null:r}(p.limit));let t=null;p.startAt&&(t=function(o){const r=!!o.before,a=o.values||[];return new Go(a,r)}(p.startAt));let h=null;return p.endAt&&(h=function(o){const r=!o.before,a=o.values||[];return new Go(a,r)}(p.endAt)),U2(e,R,c,I,E,"F",t,h)}function SC(g,e){const p=function(R){switch(R){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return p==null?null:{"goog-listen-tags":p}}function Lg(g){return g.unaryFilter!==void 0?function(p){switch(p.unaryFilter.op){case"IS_NAN":const C=Wn(p.unaryFilter.field);return Me.create(C,"==",{doubleValue:NaN});case"IS_NULL":const R=Wn(p.unaryFilter.field);return Me.create(R,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const I=Wn(p.unaryFilter.field);return Me.create(I,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Wn(p.unaryFilter.field);return Me.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(g):g.fieldFilter!==void 0?function(p){return Me.create(Wn(p.fieldFilter.field),function(R){switch(R){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(p.fieldFilter.op),p.fieldFilter.value)}(g):g.compositeFilter!==void 0?function(p){return Oi.create(p.compositeFilter.filters.map(C=>Lg(C)),function(R){switch(R){case"AND":return"and";case"OR":return"or";default:return Ot()}}(p.compositeFilter.op))}(g):Ot()}function EC(g){return lC[g]}function CC(g){return uC[g]}function AC(g){return fC[g]}function Xn(g){return{fieldPath:g.canonicalString()}}function Wn(g){return Xe.fromServerFormat(g.fieldPath)}function Fg(g){return g instanceof Me?function(p){if(p.op==="=="){if(Qc(p.value))return{unaryFilter:{field:Xn(p.field),op:"IS_NAN"}};if($c(p.value))return{unaryFilter:{field:Xn(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(Qc(p.value))return{unaryFilter:{field:Xn(p.field),op:"IS_NOT_NAN"}};if($c(p.value))return{unaryFilter:{field:Xn(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xn(p.field),op:CC(p.op),value:p.value}}}(g):g instanceof Oi?function(p){const C=p.getFilters().map(R=>Fg(R));return C.length===1?C[0]:{compositeFilter:{op:AC(p.op),filters:C}}}(g):Ot()}function PC(g){const e=[];return g.fields.forEach(p=>e.push(p.canonicalString())),{fieldPaths:e}}function Dg(g){return g.length>=4&&g.get(0)==="projects"&&g.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,p,C,R,I=Vt.min(),c=Vt.min(),E=He.EMPTY_BYTE_STRING,t=null){this.target=e,this.targetId=p,this.purpose=C,this.sequenceNumber=R,this.snapshotVersion=I,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=E,this.expectedCount=t}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,p){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,p,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.Tt=e}}function wC(g){const e=TC({parent:g.parent,structuredQuery:g.structuredQuery});return g.limitType==="LAST"?_l(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.Tn=new IC}addToCollectionParentIndex(e,p){return this.Tn.add(p),mt.resolve()}getCollectionParents(e,p){return mt.resolve(this.Tn.getEntries(p))}addFieldIndex(e,p){return mt.resolve()}deleteFieldIndex(e,p){return mt.resolve()}deleteAllFieldIndexes(e){return mt.resolve()}createTargetIndexes(e,p){return mt.resolve()}getDocumentsMatchingTarget(e,p){return mt.resolve(null)}getIndexType(e,p){return mt.resolve(0)}getFieldIndexes(e,p){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,p){return mt.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,p){return mt.resolve(Xs.min())}updateCollectionGroup(e,p,C){return mt.resolve()}updateIndexEntries(e,p){return mt.resolve()}}class IC{constructor(){this.index={}}add(e){const p=e.lastSegment(),C=e.popLast(),R=this.index[p]||new Fe(xe.comparator),I=!R.has(C);return this.index[p]=R.add(C),I}has(e){const p=e.lastSegment(),C=e.popLast(),R=this.index[p];return R&&R.has(C)}getEntries(e){return(this.index[e]||new Fe(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Og=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,p,C){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=p,this.maximumSequenceNumbersToCollect=C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(Og,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new rr(0)}static Un(){return new rr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="LruGarbageCollector",Ng=1048576;function lv([g,e],[p,C]){const R=Qt(g,p);return R===0?Qt(e,C):R}class LC{constructor(e){this.Hn=e,this.buffer=new Fe(lv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const p=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(p);else{const C=this.buffer.last();lv(p,C)<0&&(this.buffer=this.buffer.delete(C).add(p))}}get maxValue(){return this.buffer.last()[0]}}class FC{constructor(e,p,C){this.garbageCollector=e,this.asyncQueue=p,this.localStore=C,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Pt(hv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(p){pr(p)?Pt(hv,"Ignoring IndexedDB error during garbage collection: ",p):await vr(p)}await this.er(3e5)})}}class DC{constructor(e,p){this.tr=e,this.params=p}calculateTargetCount(e,p){return this.tr.nr(e).next(C=>Math.floor(p/100*C))}nthSequenceNumber(e,p){if(p===0)return mt.resolve(xh.ae);const C=new LC(p);return this.tr.forEachTarget(e,R=>C.Zn(R.sequenceNumber)).next(()=>this.tr.rr(e,R=>C.Zn(R))).next(()=>C.maxValue)}removeTargets(e,p,C){return this.tr.removeTargets(e,p,C)}removeOrphanedDocuments(e,p){return this.tr.removeOrphanedDocuments(e,p)}collect(e,p){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(ov)):this.getCacheSize(e).next(C=>C<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${C} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.ir(e,p))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,p){let C,R,I,c,E,t,h;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(o=>(o>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${o}`),R=this.params.maximumSequenceNumbersToCollect):R=o,c=Date.now(),this.nthSequenceNumber(e,R))).next(o=>(C=o,E=Date.now(),this.removeTargets(e,C,p))).next(o=>(I=o,t=Date.now(),this.removeOrphanedDocuments(e,C))).next(o=>(h=Date.now(),Un()<=Ht.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${R} in `+(E-c)+`ms
	Removed ${I} targets in `+(t-E)+`ms
	Removed ${o} documents in `+(h-t)+`ms
Total Duration: ${h-x}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:R,targetsRemoved:I,documentsRemoved:o})))}}function OC(g,e){return new DC(g,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.changes=new In(e=>e.toString(),(e,p)=>e.isEqual(p)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,p){this.assertNotApplied(),this.changes.set(e,ke.newInvalidDocument(e).setReadTime(p))}getEntry(e,p){this.assertNotApplied();const C=this.changes.get(p);return C!==void 0?mt.resolve(C):this.getFromCache(e,p)}getEntries(e,p){return this.getAllFromCache(e,p)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,p){this.overlayedDocument=e,this.mutatedFields=p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,p,C,R){this.remoteDocumentCache=e,this.mutationQueue=p,this.documentOverlayCache=C,this.indexManager=R}getDocument(e,p){let C=null;return this.documentOverlayCache.getOverlay(e,p).next(R=>(C=R,this.remoteDocumentCache.getEntry(e,p))).next(R=>(C!==null&&Zr(C.mutation,R,mi.empty(),Ee.now()),R))}getDocuments(e,p){return this.remoteDocumentCache.getEntries(e,p).next(C=>this.getLocalViewOfDocuments(e,C,Kt()).next(()=>C))}getLocalViewOfDocuments(e,p,C=Kt()){const R=dn();return this.populateOverlays(e,R,p).next(()=>this.computeViews(e,p,R,C).next(I=>{let c=Br();return I.forEach((E,t)=>{c=c.insert(E,t.overlayedDocument)}),c}))}getOverlayedDocuments(e,p){const C=dn();return this.populateOverlays(e,C,p).next(()=>this.computeViews(e,p,C,Kt()))}populateOverlays(e,p,C){const R=[];return C.forEach(I=>{p.has(I)||R.push(I)}),this.documentOverlayCache.getOverlays(e,R).next(I=>{I.forEach((c,E)=>{p.set(c,E)})})}computeViews(e,p,C,R){let I=cs();const c=Jr(),E=function(){return Jr()}();return p.forEach((t,h)=>{const x=C.get(h.key);R.has(h.key)&&(x===void 0||x.mutation instanceof _s)?I=I.insert(h.key,h):x!==void 0?(c.set(h.key,x.mutation.getFieldMask()),Zr(x.mutation,h,x.mutation.getFieldMask(),Ee.now())):c.set(h.key,mi.empty())}),this.recalculateAndSaveOverlays(e,I).next(t=>(t.forEach((h,x)=>c.set(h,x)),p.forEach((h,x)=>{var o;return E.set(h,new BC(x,(o=c.get(h))!==null&&o!==void 0?o:null))}),E))}recalculateAndSaveOverlays(e,p){const C=Jr();let R=new Te((c,E)=>c-E),I=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,p).next(c=>{for(const E of c)E.keys().forEach(t=>{const h=p.get(t);if(h===null)return;let x=C.get(t)||mi.empty();x=E.applyToLocalView(h,x),C.set(t,x);const o=(R.get(E.batchId)||Kt()).add(t);R=R.insert(E.batchId,o)})}).next(()=>{const c=[],E=R.getReverseIterator();for(;E.hasNext();){const t=E.getNext(),h=t.key,x=t.value,o=vg();x.forEach(r=>{if(!I.has(r)){const a=Tg(p.get(r),C.get(r));a!==null&&o.set(r,a),I=I.add(r)}}),c.push(this.documentOverlayCache.saveOverlays(e,h,o))}return mt.waitFor(c)}).next(()=>C)}recalculateAndSaveOverlaysForDocumentKeys(e,p){return this.remoteDocumentCache.getEntries(e,p).next(C=>this.recalculateAndSaveOverlays(e,C))}getDocumentsMatchingQuery(e,p,C,R){return function(c){return Dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(p)?this.getDocumentsMatchingDocumentQuery(e,p.path):lg(p)?this.getDocumentsMatchingCollectionGroupQuery(e,p,C,R):this.getDocumentsMatchingCollectionQuery(e,p,C,R)}getNextDocuments(e,p,C,R){return this.remoteDocumentCache.getAllFromCollectionGroup(e,p,C,R).next(I=>{const c=R-I.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,p,C.largestBatchId,R-I.size):mt.resolve(dn());let E=la,t=I;return c.next(h=>mt.forEach(h,(x,o)=>(E<o.largestBatchId&&(E=o.largestBatchId),I.get(x)?mt.resolve():this.remoteDocumentCache.getEntry(e,x).next(r=>{t=t.insert(x,r)}))).next(()=>this.populateOverlays(e,h,I)).next(()=>this.computeViews(e,t,h,Kt())).next(x=>({batchId:E,changes:cg(x)})))})}getDocumentsMatchingDocumentQuery(e,p){return this.getDocument(e,new Dt(p)).next(C=>{let R=Br();return C.isFoundDocument()&&(R=R.insert(C.key,C)),R})}getDocumentsMatchingCollectionGroupQuery(e,p,C,R){const I=p.collectionGroup;let c=Br();return this.indexManager.getCollectionParents(e,I).next(E=>mt.forEach(E,t=>{const h=function(o,r){return new Ea(r,null,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(p,t.child(I));return this.getDocumentsMatchingCollectionQuery(e,h,C,R).next(x=>{x.forEach((o,r)=>{c=c.insert(o,r)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,p,C,R){let I;return this.documentOverlayCache.getOverlaysForCollection(e,p.path,C.largestBatchId).next(c=>(I=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,p,C,I,R))).next(c=>{I.forEach((t,h)=>{const x=h.getKey();c.get(x)===null&&(c=c.insert(x,ke.newInvalidDocument(x)))});let E=Br();return c.forEach((t,h)=>{const x=I.get(t);x!==void 0&&Zr(x.mutation,h,mi.empty(),Ee.now()),Ch(p,h)&&(E=E.insert(t,h))}),E})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,p){return mt.resolve(this.dr.get(p))}saveBundleMetadata(e,p){return this.dr.set(p.id,function(R){return{id:R.id,version:R.version,createTime:Ki(R.createTime)}}(p)),mt.resolve()}getNamedQuery(e,p){return mt.resolve(this.Ar.get(p))}saveNamedQuery(e,p){return this.Ar.set(p.name,function(R){return{name:R.name,query:wC(R.bundledQuery),readTime:Ki(R.readTime)}}(p)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.overlays=new Te(Dt.comparator),this.Rr=new Map}getOverlay(e,p){return mt.resolve(this.overlays.get(p))}getOverlays(e,p){const C=dn();return mt.forEach(p,R=>this.getOverlay(e,R).next(I=>{I!==null&&C.set(R,I)})).next(()=>C)}saveOverlays(e,p,C){return C.forEach((R,I)=>{this.Et(e,p,I)}),mt.resolve()}removeOverlaysForBatchId(e,p,C){const R=this.Rr.get(C);return R!==void 0&&(R.forEach(I=>this.overlays=this.overlays.remove(I)),this.Rr.delete(C)),mt.resolve()}getOverlaysForCollection(e,p,C){const R=dn(),I=p.length+1,c=new Dt(p.child("")),E=this.overlays.getIteratorFrom(c);for(;E.hasNext();){const t=E.getNext().value,h=t.getKey();if(!p.isPrefixOf(h.path))break;h.path.length===I&&t.largestBatchId>C&&R.set(t.getKey(),t)}return mt.resolve(R)}getOverlaysForCollectionGroup(e,p,C,R){let I=new Te((h,x)=>h-x);const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===p&&h.largestBatchId>C){let x=I.get(h.largestBatchId);x===null&&(x=dn(),I=I.insert(h.largestBatchId,x)),x.set(h.getKey(),h)}}const E=dn(),t=I.getIterator();for(;t.hasNext()&&(t.getNext().value.forEach((h,x)=>E.set(h,x)),!(E.size()>=R)););return mt.resolve(E)}Et(e,p,C){const R=this.overlays.get(C.key);if(R!==null){const c=this.Rr.get(R.largestBatchId).delete(C.key);this.Rr.set(R.largestBatchId,c)}this.overlays=this.overlays.insert(C.key,new sC(p,C));let I=this.Rr.get(p);I===void 0&&(I=Kt(),this.Rr.set(p,I)),this.Rr.set(p,I.add(C.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return mt.resolve(this.sessionToken)}setSessionToken(e,p){return this.sessionToken=p,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.Vr=new Fe(Ne.mr),this.gr=new Fe(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,p){const C=new Ne(e,p);this.Vr=this.Vr.add(C),this.gr=this.gr.add(C)}yr(e,p){e.forEach(C=>this.addReference(C,p))}removeReference(e,p){this.wr(new Ne(e,p))}br(e,p){e.forEach(C=>this.removeReference(C,p))}Sr(e){const p=new Dt(new xe([])),C=new Ne(p,e),R=new Ne(p,e+1),I=[];return this.gr.forEachInRange([C,R],c=>{this.wr(c),I.push(c.key)}),I}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const p=new Dt(new xe([])),C=new Ne(p,e),R=new Ne(p,e+1);let I=Kt();return this.gr.forEachInRange([C,R],c=>{I=I.add(c.key)}),I}containsKey(e){const p=new Ne(e,0),C=this.Vr.firstAfterOrEqual(p);return C!==null&&e.isEqual(C.key)}}class Ne{constructor(e,p){this.key=e,this.Cr=p}static mr(e,p){return Dt.comparator(e.key,p.key)||Qt(e.Cr,p.Cr)}static pr(e,p){return Qt(e.Cr,p.Cr)||Dt.comparator(e.key,p.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,p){this.indexManager=e,this.referenceDelegate=p,this.mutationQueue=[],this.Fr=1,this.Mr=new Fe(Ne.mr)}checkEmpty(e){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,p,C,R){const I=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iC(I,p,C,R);this.mutationQueue.push(c);for(const E of R)this.Mr=this.Mr.add(new Ne(E.key,I)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return mt.resolve(c)}lookupMutationBatch(e,p){return mt.resolve(this.Or(p))}getNextMutationBatchAfterBatchId(e,p){const C=p+1,R=this.Nr(C),I=R<0?0:R;return mt.resolve(this.mutationQueue.length>I?this.mutationQueue[I]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Uu:this.Fr-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,p){const C=new Ne(p,0),R=new Ne(p,Number.POSITIVE_INFINITY),I=[];return this.Mr.forEachInRange([C,R],c=>{const E=this.Or(c.Cr);I.push(E)}),mt.resolve(I)}getAllMutationBatchesAffectingDocumentKeys(e,p){let C=new Fe(Qt);return p.forEach(R=>{const I=new Ne(R,0),c=new Ne(R,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([I,c],E=>{C=C.add(E.Cr)})}),mt.resolve(this.Br(C))}getAllMutationBatchesAffectingQuery(e,p){const C=p.path,R=C.length+1;let I=C;Dt.isDocumentKey(I)||(I=I.child(""));const c=new Ne(new Dt(I),0);let E=new Fe(Qt);return this.Mr.forEachWhile(t=>{const h=t.key.path;return!!C.isPrefixOf(h)&&(h.length===R&&(E=E.add(t.Cr)),!0)},c),mt.resolve(this.Br(E))}Br(e){const p=[];return e.forEach(C=>{const R=this.Or(C);R!==null&&p.push(R)}),p}removeMutationBatch(e,p){re(this.Lr(p.batchId,"removed")===0),this.mutationQueue.shift();let C=this.Mr;return mt.forEach(p.mutations,R=>{const I=new Ne(R.key,p.batchId);return C=C.delete(I),this.referenceDelegate.markPotentiallyOrphaned(e,R.key)}).next(()=>{this.Mr=C})}qn(e){}containsKey(e,p){const C=new Ne(p,0),R=this.Mr.firstAfterOrEqual(C);return mt.resolve(p.isEqual(R&&R.key))}performConsistencyCheck(e){return this.mutationQueue.length,mt.resolve()}Lr(e,p){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const p=this.Nr(e);return p<0||p>=this.mutationQueue.length?null:this.mutationQueue[p]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.kr=e,this.docs=function(){return new Te(Dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,p){const C=p.key,R=this.docs.get(C),I=R?R.size:0,c=this.kr(p);return this.docs=this.docs.insert(C,{document:p.mutableCopy(),size:c}),this.size+=c-I,this.indexManager.addToCollectionParentIndex(e,C.path.popLast())}removeEntry(e){const p=this.docs.get(e);p&&(this.docs=this.docs.remove(e),this.size-=p.size)}getEntry(e,p){const C=this.docs.get(p);return mt.resolve(C?C.document.mutableCopy():ke.newInvalidDocument(p))}getEntries(e,p){let C=cs();return p.forEach(R=>{const I=this.docs.get(R);C=C.insert(R,I?I.document.mutableCopy():ke.newInvalidDocument(R))}),mt.resolve(C)}getDocumentsMatchingQuery(e,p,C,R){let I=cs();const c=p.path,E=new Dt(c.child("__id-9223372036854775808__")),t=this.docs.getIteratorFrom(E);for(;t.hasNext();){const{key:h,value:{document:x}}=t.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||g2(m2(x),C)<=0||(R.has(x.key)||Ch(p,x))&&(I=I.insert(x.key,x.mutableCopy()))}return mt.resolve(I)}getAllFromCollectionGroup(e,p,C,R){Ot()}qr(e,p){return mt.forEach(this.docs,C=>p(C))}newChangeBuffer(e){return new WC(this)}getSize(e){return mt.resolve(this.size)}}class WC extends NC{constructor(e){super(),this.Ir=e}applyChanges(e){const p=[];return this.changes.forEach((C,R)=>{R.isValidDocument()?p.push(this.Ir.addEntry(e,R)):this.Ir.removeEntry(C)}),mt.waitFor(p)}getFromCache(e,p){return this.Ir.getEntry(e,p)}getAllFromCache(e,p){return this.Ir.getEntries(e,p)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.persistence=e,this.Qr=new In(p=>Wu(p),Yu),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ju,this.targetCount=0,this.Ur=rr.Kn()}forEachTarget(e,p){return this.Qr.forEach((C,R)=>p(R)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,p,C){return C&&(this.lastRemoteSnapshotVersion=C),p>this.$r&&(this.$r=p),mt.resolve()}zn(e){this.Qr.set(e.target,e);const p=e.targetId;p>this.highestTargetId&&(this.Ur=new rr(p),this.highestTargetId=p),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,p){return this.zn(p),this.targetCount+=1,mt.resolve()}updateTargetData(e,p){return this.zn(p),mt.resolve()}removeTargetData(e,p){return this.Qr.delete(p.target),this.Kr.Sr(p.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,p,C){let R=0;const I=[];return this.Qr.forEach((c,E)=>{E.sequenceNumber<=p&&C.get(E.targetId)===null&&(this.Qr.delete(c),I.push(this.removeMatchingKeysForTargetId(e,E.targetId)),R++)}),mt.waitFor(I).next(()=>R)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,p){const C=this.Qr.get(p)||null;return mt.resolve(C)}addMatchingKeys(e,p,C){return this.Kr.yr(p,C),mt.resolve()}removeMatchingKeys(e,p,C){this.Kr.br(p,C);const R=this.persistence.referenceDelegate,I=[];return R&&p.forEach(c=>{I.push(R.markPotentiallyOrphaned(e,c))}),mt.waitFor(I)}removeMatchingKeysForTargetId(e,p){return this.Kr.Sr(p),mt.resolve()}getMatchingKeysForTargetId(e,p){const C=this.Kr.vr(p);return mt.resolve(C)}containsKey(e,p){return mt.resolve(this.Kr.containsKey(p))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,p){this.Wr={},this.overlays={},this.Gr=new xh(0),this.zr=!1,this.zr=!0,this.jr=new UC,this.referenceDelegate=e(this),this.Hr=new YC(this),this.indexManager=new MC,this.remoteDocumentCache=function(R){return new XC(R)}(C=>this.referenceDelegate.Jr(C)),this.serializer=new RC(p),this.Yr=new VC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let p=this.overlays[e.toKey()];return p||(p=new GC,this.overlays[e.toKey()]=p),p}getMutationQueue(e,p){let C=this.Wr[e.toKey()];return C||(C=new zC(p,this.referenceDelegate),this.Wr[e.toKey()]=C),C}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,p,C){Pt("MemoryPersistence","Starting transaction:",e);const R=new HC(this.Gr.next());return this.referenceDelegate.Zr(),C(R).next(I=>this.referenceDelegate.Xr(R).next(()=>I)).toPromise().then(I=>(R.raiseOnCommittedEvent(),I))}ei(e,p){return mt.or(Object.values(this.Wr).map(C=>()=>C.containsKey(e,p)))}}class HC extends y2{constructor(e){super(),this.currentSequenceNumber=e}}class Ju{constructor(e){this.persistence=e,this.ti=new ju,this.ni=null}static ri(e){return new Ju(e)}get ii(){if(this.ni)return this.ni;throw Ot()}addReference(e,p,C){return this.ti.addReference(C,p),this.ii.delete(C.toString()),mt.resolve()}removeReference(e,p,C){return this.ti.removeReference(C,p),this.ii.add(C.toString()),mt.resolve()}markPotentiallyOrphaned(e,p){return this.ii.add(p.toString()),mt.resolve()}removeTarget(e,p){this.ti.Sr(p.targetId).forEach(R=>this.ii.add(R.toString()));const C=this.persistence.getTargetCache();return C.getMatchingKeysForTargetId(e,p.targetId).next(R=>{R.forEach(I=>this.ii.add(I.toString()))}).next(()=>C.removeTargetData(e,p))}Zr(){this.ni=new Set}Xr(e){const p=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.ii,C=>{const R=Dt.fromPath(C);return this.si(e,R).next(I=>{I||p.removeEntry(R,Vt.min())})}).next(()=>(this.ni=null,p.apply(e)))}updateLimboDocument(e,p){return this.si(e,p).next(C=>{C?this.ii.delete(p.toString()):this.ii.add(p.toString())})}Jr(e){return 0}si(e,p){return mt.or([()=>mt.resolve(this.ti.containsKey(p)),()=>this.persistence.getTargetCache().containsKey(e,p),()=>this.persistence.ei(e,p)])}}class Yo{constructor(e,p){this.persistence=e,this.oi=new In(C=>E2(C.path),(C,R)=>C.isEqual(R)),this.garbageCollector=OC(this,p)}static ri(e,p){return new Yo(e,p)}Zr(){}Xr(e){return mt.resolve()}forEachTarget(e,p){return this.persistence.getTargetCache().forEachTarget(e,p)}nr(e){const p=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(C=>p.next(R=>C+R))}sr(e){let p=0;return this.rr(e,C=>{p++}).next(()=>p)}rr(e,p){return mt.forEach(this.oi,(C,R)=>this.ar(e,C,R).next(I=>I?mt.resolve():p(R)))}removeTargets(e,p,C){return this.persistence.getTargetCache().removeTargets(e,p,C)}removeOrphanedDocuments(e,p){let C=0;const R=this.persistence.getRemoteDocumentCache(),I=R.newChangeBuffer();return R.qr(e,c=>this.ar(e,c,p).next(E=>{E||(C++,I.removeEntry(c,Vt.min()))})).next(()=>I.apply(e)).next(()=>C)}markPotentiallyOrphaned(e,p){return this.oi.set(p,e.currentSequenceNumber),mt.resolve()}removeTarget(e,p){const C=p.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,C)}addReference(e,p,C){return this.oi.set(C,e.currentSequenceNumber),mt.resolve()}removeReference(e,p,C){return this.oi.set(C,e.currentSequenceNumber),mt.resolve()}updateLimboDocument(e,p){return this.oi.set(p,e.currentSequenceNumber),mt.resolve()}Jr(e){let p=e.key.toString().length;return e.isFoundDocument()&&(p+=vo(e.data.value)),p}ar(e,p,C){return mt.or([()=>this.persistence.ei(e,p),()=>this.persistence.getTargetCache().containsKey(e,p),()=>{const R=this.oi.get(p);return mt.resolve(R!==void 0&&R>C)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,p,C,R){this.targetId=e,this.fromCache=p,this.Hi=C,this.Ji=R}static Yi(e,p){let C=Kt(),R=Kt();for(const I of p.docChanges)switch(I.type){case 0:C=C.add(I.doc.key);break;case 1:R=R.add(I.doc.key)}return new Zu(e,p.fromCache,C,R)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return WS()?8:T2(ti())>0?6:4}()}initialize(e,p){this.ns=e,this.indexManager=p,this.Zi=!0}getDocumentsMatchingQuery(e,p,C,R){const I={result:null};return this.rs(e,p).next(c=>{I.result=c}).next(()=>{if(!I.result)return this.ss(e,p,R,C).next(c=>{I.result=c})}).next(()=>{if(I.result)return;const c=new KC;return this._s(e,p,c).next(E=>{if(I.result=E,this.Xi)return this.us(e,p,c,E.size)})}).next(()=>I.result)}us(e,p,C,R){return C.documentReadCount<this.es?(Un()<=Ht.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",zn(p),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),mt.resolve()):(Un()<=Ht.DEBUG&&Pt("QueryEngine","Query:",zn(p),"scans",C.documentReadCount,"local documents and returns",R,"documents as results."),C.documentReadCount>this.ts*R?(Un()<=Ht.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",zn(p),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(p))):mt.resolve())}rs(e,p){if(kc(p))return mt.resolve(null);let C=Hi(p);return this.indexManager.getIndexType(e,C).next(R=>R===0?null:(p.limit!==null&&R===1&&(p=_l(p,null,"F"),C=Hi(p)),this.indexManager.getDocumentsMatchingTarget(e,C).next(I=>{const c=Kt(...I);return this.ns.getDocuments(e,c).next(E=>this.indexManager.getMinOffset(e,C).next(t=>{const h=this.cs(p,E);return this.ls(p,h,c,t.readTime)?this.rs(e,_l(p,null,"F")):this.hs(e,h,p,t)}))})))}ss(e,p,C,R){return kc(p)||R.isEqual(Vt.min())?mt.resolve(null):this.ns.getDocuments(e,C).next(I=>{const c=this.cs(p,I);return this.ls(p,c,C,R)?mt.resolve(null):(Un()<=Ht.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",R.toString(),zn(p)),this.hs(e,c,p,p2(R,la)).next(E=>E))})}cs(e,p){let C=new Fe(fg(e));return p.forEach((R,I)=>{Ch(e,I)&&(C=C.add(I))}),C}ls(e,p,C,R){if(e.limit===null)return!1;if(C.size!==p.size)return!0;const I=e.limitType==="F"?p.last():p.first();return!!I&&(I.hasPendingWrites||I.version.compareTo(R)>0)}_s(e,p,C){return Un()<=Ht.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",zn(p)),this.ns.getDocumentsMatchingQuery(e,p,Xs.min(),C)}hs(e,p,C,R){return this.ns.getDocumentsMatchingQuery(e,C,R).next(I=>(p.forEach(c=>{I=I.insert(c.key,c)}),I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="LocalStore",QC=3e8;class jC{constructor(e,p,C,R){this.persistence=e,this.Ps=p,this.serializer=R,this.Ts=new Te(Qt),this.Is=new In(I=>Wu(I),Yu),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(C)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",p=>e.collect(p,this.Ts))}}function JC(g,e,p,C){return new jC(g,e,p,C)}async function bg(g,e){const p=Ut(g);return await p.persistence.runTransaction("Handle user change","readonly",C=>{let R;return p.mutationQueue.getAllMutationBatches(C).next(I=>(R=I,p.As(e),p.mutationQueue.getAllMutationBatches(C))).next(I=>{const c=[],E=[];let t=Kt();for(const h of R){c.push(h.batchId);for(const x of h.mutations)t=t.add(x.key)}for(const h of I){E.push(h.batchId);for(const x of h.mutations)t=t.add(x.key)}return p.localDocuments.getDocuments(C,t).next(h=>({Rs:h,removedBatchIds:c,addedBatchIds:E}))})})}function ZC(g,e){const p=Ut(g);return p.persistence.runTransaction("Acknowledge batch","readwrite-primary",C=>{const R=e.batch.keys(),I=p.ds.newChangeBuffer({trackRemovals:!0});return function(E,t,h,x){const o=h.batch,r=o.keys();let a=mt.resolve();return r.forEach(i=>{a=a.next(()=>x.getEntry(t,i)).next(n=>{const l=h.docVersions.get(i);re(l!==null),n.version.compareTo(l)<0&&(o.applyToRemoteDocument(n,h),n.isValidDocument()&&(n.setReadTime(h.commitVersion),x.addEntry(n)))})}),a.next(()=>E.mutationQueue.removeMutationBatch(t,o))}(p,C,e,I).next(()=>I.apply(C)).next(()=>p.mutationQueue.performConsistencyCheck(C)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(C,R,e.batch.batchId)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,function(E){let t=Kt();for(let h=0;h<E.mutationResults.length;++h)E.mutationResults[h].transformResults.length>0&&(t=t.add(E.batch.mutations[h].key));return t}(e))).next(()=>p.localDocuments.getDocuments(C,R))})}function Vg(g){const e=Ut(g);return e.persistence.runTransaction("Get last remote snapshot version","readonly",p=>e.Hr.getLastRemoteSnapshotVersion(p))}function kC(g,e){const p=Ut(g),C=e.snapshotVersion;let R=p.Ts;return p.persistence.runTransaction("Apply remote event","readwrite-primary",I=>{const c=p.ds.newChangeBuffer({trackRemovals:!0});R=p.Ts;const E=[];e.targetChanges.forEach((x,o)=>{const r=R.get(o);if(!r)return;E.push(p.Hr.removeMatchingKeys(I,x.removedDocuments,o).next(()=>p.Hr.addMatchingKeys(I,x.addedDocuments,o)));let a=r.withSequenceNumber(I.currentSequenceNumber);e.targetMismatches.get(o)!==null?a=a.withResumeToken(He.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):x.resumeToken.approximateByteSize()>0&&(a=a.withResumeToken(x.resumeToken,C)),R=R.insert(o,a),function(n,l,s){return n.resumeToken.approximateByteSize()===0||l.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=QC?!0:s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0}(r,a,x)&&E.push(p.Hr.updateTargetData(I,a))});let t=cs(),h=Kt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&E.push(p.persistence.referenceDelegate.updateLimboDocument(I,x))}),E.push(qC(I,c,e.documentUpdates).next(x=>{t=x.Vs,h=x.fs})),!C.isEqual(Vt.min())){const x=p.Hr.getLastRemoteSnapshotVersion(I).next(o=>p.Hr.setTargetsMetadata(I,I.currentSequenceNumber,C));E.push(x)}return mt.waitFor(E).next(()=>c.apply(I)).next(()=>p.localDocuments.getLocalViewOfDocuments(I,t,h)).next(()=>t)}).then(I=>(p.Ts=R,I))}function qC(g,e,p){let C=Kt(),R=Kt();return p.forEach(I=>C=C.add(I)),e.getEntries(g,C).next(I=>{let c=cs();return p.forEach((E,t)=>{const h=I.get(E);t.isFoundDocument()!==h.isFoundDocument()&&(R=R.add(E)),t.isNoDocument()&&t.version.isEqual(Vt.min())?(e.removeEntry(E,t.readTime),c=c.insert(E,t)):!h.isValidDocument()||t.version.compareTo(h.version)>0||t.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(t),c=c.insert(E,t)):Pt(ku,"Ignoring outdated watch update for ",E,". Current version:",h.version," Watch version:",t.version)}),{Vs:c,fs:R}})}function _C(g,e){const p=Ut(g);return p.persistence.runTransaction("Get next mutation batch","readonly",C=>(e===void 0&&(e=Uu),p.mutationQueue.getNextMutationBatchAfterBatchId(C,e)))}function tA(g,e){const p=Ut(g);return p.persistence.runTransaction("Allocate target","readwrite",C=>{let R;return p.Hr.getTargetData(C,e).next(I=>I?(R=I,mt.resolve(R)):p.Hr.allocateTargetId(C).next(c=>(R=new Fs(e,c,"TargetPurposeListen",C.currentSequenceNumber),p.Hr.addTargetData(C,R).next(()=>R))))}).then(C=>{const R=p.Ts.get(C.targetId);return(R===null||C.snapshotVersion.compareTo(R.snapshotVersion)>0)&&(p.Ts=p.Ts.insert(C.targetId,C),p.Is.set(e,C.targetId)),C})}async function nu(g,e,p){const C=Ut(g),R=C.Ts.get(e),I=p?"readwrite":"readwrite-primary";try{p||await C.persistence.runTransaction("Release target",I,c=>C.persistence.referenceDelegate.removeTarget(c,R))}catch(c){if(!pr(c))throw c;Pt(ku,`Failed to update sequence numbers for target ${e}: ${c}`)}C.Ts=C.Ts.remove(e),C.Is.delete(R.target)}function uv(g,e,p){const C=Ut(g);let R=Vt.min(),I=Kt();return C.persistence.runTransaction("Execute query","readwrite",c=>function(t,h,x){const o=Ut(t),r=o.Is.get(x);return r!==void 0?mt.resolve(o.Ts.get(r)):o.Hr.getTargetData(h,x)}(C,c,Hi(e)).next(E=>{if(E)return R=E.lastLimboFreeSnapshotVersion,C.Hr.getMatchingKeysForTargetId(c,E.targetId).next(t=>{I=t})}).next(()=>C.Ps.getDocumentsMatchingQuery(c,e,p?R:Vt.min(),p?I:Kt())).next(E=>(eA(C,X2(e),E),{documents:E,gs:I})))}function eA(g,e,p){let C=g.Es.get(e)||Vt.min();p.forEach((R,I)=>{I.readTime.compareTo(C)>0&&(C=I.readTime)}),g.Es.set(e,C)}class fv{constructor(){this.activeTargetIds=Q2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iA{constructor(){this.ho=new fv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,p,C){}addLocalQueryTarget(e,p=!0){return p&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,p,C){this.Po[e]=p}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fv,Promise.resolve()}handleUserChange(e,p,C){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="ConnectivityMonitor";class cv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Pt(dv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Pt(dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io=null;function ru(){return io===null?io=function(){return 268435456+Math.round(2147483648*Math.random())}():io++,"0x"+io.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="RestConnection",nA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rA{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const p=e.ssl?"https":"http",C=encodeURIComponent(this.databaseId.projectId),R=encodeURIComponent(this.databaseId.database);this.po=p+"://"+e.host,this.yo=`projects/${C}/databases/${R}`,this.wo=this.databaseId.database===bo?`project_id=${C}`:`project_id=${C}&database_id=${R}`}bo(e,p,C,R,I){const c=ru(),E=this.So(e,p.toUriEncodedString());Pt(Tl,`Sending RPC '${e}' ${c}:`,E,C);const t={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(t,R,I),this.vo(e,E,t,C).then(h=>(Pt(Tl,`Received RPC '${e}' ${c}: `,h),h),h=>{throw ha(Tl,`RPC '${e}' ${c} failed with error: `,h,"url: ",E,"request:",C),h})}Co(e,p,C,R,I,c){return this.bo(e,p,C,R,I)}Do(e,p,C){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),p&&p.headers.forEach((R,I)=>e[I]=R),C&&C.headers.forEach((R,I)=>e[I]=R)}So(e,p){const C=nA[e];return`${this.po}/v1/${p}:${C}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class oA extends rA{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,p,C,R){const I=ru();return new Promise((c,E)=>{const t=new Xm;t.setWithCredentials(!0),t.listenOnce(Wm.COMPLETE,()=>{try{switch(t.getLastErrorCode()){case co.NO_ERROR:const x=t.getResponseJson();Pt(Qe,`XHR for RPC '${e}' ${I} received:`,JSON.stringify(x)),c(x);break;case co.TIMEOUT:Pt(Qe,`RPC '${e}' ${I} timed out`),E(new Rt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case co.HTTP_ERROR:const o=t.getStatus();if(Pt(Qe,`RPC '${e}' ${I} failed with status:`,o,"response text:",t.getResponseText()),o>0){let r=t.getResponseJson();Array.isArray(r)&&(r=r[0]);const a=r==null?void 0:r.error;if(a&&a.status&&a.message){const i=function(l){const s=l.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(s)>=0?s:pt.UNKNOWN}(a.status);E(new Rt(i,a.message))}else E(new Rt(pt.UNKNOWN,"Server responded with status "+t.getStatus()))}else E(new Rt(pt.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{Pt(Qe,`RPC '${e}' ${I} completed.`)}});const h=JSON.stringify(R);Pt(Qe,`RPC '${e}' ${I} sending request:`,R),t.send(p,"POST",h,C,15)})}Wo(e,p,C){const R=ru(),I=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Km(),E=Hm(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(t.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(t.useFetchStreams=!0),this.Do(t.initMessageHeaders,p,C),t.encodeInitMessageHeaders=!0;const x=I.join("");Pt(Qe,`Creating RPC '${e}' stream ${R}: ${x}`,t);const o=c.createWebChannel(x,t);let r=!1,a=!1;const i=new aA({Fo:l=>{a?Pt(Qe,`Not sending because RPC '${e}' stream ${R} is closed:`,l):(r||(Pt(Qe,`Opening RPC '${e}' stream ${R} transport.`),o.open(),r=!0),Pt(Qe,`RPC '${e}' stream ${R} sending:`,l),o.send(l))},Mo:()=>o.close()}),n=(l,s,u)=>{l.listen(s,f=>{try{u(f)}catch(d){setTimeout(()=>{throw d},0)}})};return n(o,Nr.EventType.OPEN,()=>{a||(Pt(Qe,`RPC '${e}' stream ${R} transport opened.`),i.Qo())}),n(o,Nr.EventType.CLOSE,()=>{a||(a=!0,Pt(Qe,`RPC '${e}' stream ${R} transport closed`),i.Ko())}),n(o,Nr.EventType.ERROR,l=>{a||(a=!0,ha(Qe,`RPC '${e}' stream ${R} transport errored:`,l),i.Ko(new Rt(pt.UNAVAILABLE,"The operation could not be completed")))}),n(o,Nr.EventType.MESSAGE,l=>{var s;if(!a){const u=l.data[0];re(!!u);const f=u,d=(f==null?void 0:f.error)||((s=f[0])===null||s===void 0?void 0:s.error);if(d){Pt(Qe,`RPC '${e}' stream ${R} received error:`,d);const v=d.status;let m=function(S){const A=Re[S];if(A!==void 0)return Cg(A)}(v),y=d.message;m===void 0&&(m=pt.INTERNAL,y="Unknown error status: "+v+" with message "+d.message),a=!0,i.Ko(new Rt(m,y)),o.close()}else Pt(Qe,`RPC '${e}' stream ${R} received:`,u),i.Uo(u)}}),n(E,Ym.STAT_EVENT,l=>{l.stat===Ql.PROXY?Pt(Qe,`RPC '${e}' stream ${R} detected buffering proxy`):l.stat===Ql.NOPROXY&&Pt(Qe,`RPC '${e}' stream ${R} detected no buffering proxy`)}),setTimeout(()=>{i.$o()},0),i}}function Sl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(g){return new dC(g,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,p,C=1e3,R=1.5,I=6e4){this.Ti=e,this.timerId=p,this.Go=C,this.zo=R,this.jo=I,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const p=Math.floor(this.Ho+this.e_()),C=Math.max(0,Date.now()-this.Yo),R=Math.max(0,p-C);R>0&&Pt("ExponentialBackoff",`Backing off for ${R} ms (base delay: ${this.Ho} ms, delay with jitter: ${p} ms, last attempt: ${C} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,R,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="PersistentStream";class Ug{constructor(e,p,C,R,I,c,E,t){this.Ti=e,this.n_=C,this.r_=R,this.connection=I,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=E,this.listener=t,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Gg(e,p)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,p){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():p&&p.code===pt.RESOURCE_EXHAUSTED?(ds(p.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):p&&p.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(p)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),p=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([C,R])=>{this.i_===p&&this.V_(C,R)},C=>{e(()=>{const R=new Rt(pt.UNKNOWN,"Fetching auth token failed: "+C.message);return this.m_(R)})})}V_(e,p){const C=this.R_(this.i_);this.stream=this.f_(e,p),this.stream.xo(()=>{C(()=>this.listener.xo())}),this.stream.No(()=>{C(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(R=>{C(()=>this.m_(R))}),this.stream.onMessage(R=>{C(()=>++this.__==1?this.g_(R):this.onNext(R))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Pt(vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return p=>{this.Ti.enqueueAndForget(()=>this.i_===e?p():(Pt(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hA extends Ug{constructor(e,p,C,R,I,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",p,C,R,c),this.serializer=I}f_(e,p){return this.connection.Wo("Listen",e,p)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const p=pC(this.serializer,e),C=function(I){if(!("targetChange"in I))return Vt.min();const c=I.targetChange;return c.targetIds&&c.targetIds.length?Vt.min():c.readTime?Ki(c.readTime):Vt.min()}(e);return this.listener.p_(p,C)}y_(e){const p={};p.database=su(this.serializer),p.addTarget=function(I,c){let E;const t=c.target;if(E=kl(t)?{documents:xC(I,t)}:{query:yC(I,t).ht},E.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){E.resumeToken=Rg(I,c.resumeToken);const h=tu(I,c.expectedCount);h!==null&&(E.expectedCount=h)}else if(c.snapshotVersion.compareTo(Vt.min())>0){E.readTime=Wo(I,c.snapshotVersion.toTimestamp());const h=tu(I,c.expectedCount);h!==null&&(E.expectedCount=h)}return E}(this.serializer,e);const C=SC(this.serializer,e);C&&(p.labels=C),this.I_(p)}w_(e){const p={};p.database=su(this.serializer),p.removeTarget=e,this.I_(p)}}class lA extends Ug{constructor(e,p,C,R,I,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",p,C,R,c),this.serializer=I}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,p){return this.connection.Wo("Write",e,p)}g_(e){return re(!!e.streamToken),this.lastStreamToken=e.streamToken,re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const p=gC(e.writeResults,e.commitTime),C=Ki(e.commitTime);return this.listener.v_(C,p)}C_(){const e={};e.database=su(this.serializer),this.I_(e)}S_(e){const p={streamToken:this.lastStreamToken,writes:e.map(C=>mC(this.serializer,C))};this.I_(p)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{}class fA extends uA{constructor(e,p,C,R){super(),this.authCredentials=e,this.appCheckCredentials=p,this.connection=C,this.serializer=R,this.F_=!1}M_(){if(this.F_)throw new Rt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,p,C,R){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,c])=>this.connection.bo(e,eu(p,C),R,I,c)).catch(I=>{throw I.name==="FirebaseError"?(I.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new Rt(pt.UNKNOWN,I.toString())})}Co(e,p,C,R,I){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,E])=>this.connection.Co(e,eu(p,C),R,c,E,I)).catch(c=>{throw c.name==="FirebaseError"?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Rt(pt.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class dA{constructor(e,p){this.asyncQueue=e,this.onlineStateHandler=p,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const p=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ds(p),this.N_=!1):Pt("OnlineStateTracker",p)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="RemoteStore";class cA{constructor(e,p,C,R,I){this.localStore=e,this.datastore=p,this.asyncQueue=C,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=I,this.z_.To(c=>{C.enqueueAndForget(async()=>{Ln(this)&&(Pt(Cn,"Restarting streams for network reachability change."),await async function(t){const h=Ut(t);h.W_.add(4),await Pa(h),h.j_.set("Unknown"),h.W_.delete(4),await Mh(h)}(this))})}),this.j_=new dA(C,R)}}async function Mh(g){if(Ln(g))for(const e of g.G_)await e(!0)}async function Pa(g){for(const e of g.G_)await e(!1)}function zg(g,e){const p=Ut(g);p.U_.has(e.targetId)||(p.U_.set(e.targetId,e),ef(p)?tf(p):mr(p).c_()&&_u(p,e))}function qu(g,e){const p=Ut(g),C=mr(p);p.U_.delete(e),C.c_()&&Xg(p,e),p.U_.size===0&&(C.c_()?C.P_():Ln(p)&&p.j_.set("Unknown"))}function _u(g,e){if(g.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const p=g.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(p)}mr(g).y_(e)}function Xg(g,e){g.H_.Ne(e),mr(g).w_(e)}function tf(g){g.H_=new hC({getRemoteKeysForTarget:e=>g.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>g.U_.get(e)||null,it:()=>g.datastore.serializer.databaseId}),mr(g).start(),g.j_.B_()}function ef(g){return Ln(g)&&!mr(g).u_()&&g.U_.size>0}function Ln(g){return Ut(g).W_.size===0}function Wg(g){g.H_=void 0}async function vA(g){g.j_.set("Online")}async function pA(g){g.U_.forEach((e,p)=>{_u(g,e)})}async function mA(g,e){Wg(g),ef(g)?(g.j_.q_(e),tf(g)):g.j_.set("Unknown")}async function gA(g,e,p){if(g.j_.set("Online"),e instanceof Pg&&e.state===2&&e.cause)try{await async function(R,I){const c=I.cause;for(const E of I.targetIds)R.U_.has(E)&&(await R.remoteSyncer.rejectListen(E,c),R.U_.delete(E),R.H_.removeTarget(E))}(g,e)}catch(C){Pt(Cn,"Failed to remove targets %s: %s ",e.targetIds.join(","),C),await Ho(g,C)}else if(e instanceof go?g.H_.We(e):e instanceof Ag?g.H_.Ze(e):g.H_.je(e),!p.isEqual(Vt.min()))try{const C=await Vg(g.localStore);p.compareTo(C)>=0&&await function(I,c){const E=I.H_.ot(c);return E.targetChanges.forEach((t,h)=>{if(t.resumeToken.approximateByteSize()>0){const x=I.U_.get(h);x&&I.U_.set(h,x.withResumeToken(t.resumeToken,c))}}),E.targetMismatches.forEach((t,h)=>{const x=I.U_.get(t);if(!x)return;I.U_.set(t,x.withResumeToken(He.EMPTY_BYTE_STRING,x.snapshotVersion)),Xg(I,t);const o=new Fs(x.target,t,h,x.sequenceNumber);_u(I,o)}),I.remoteSyncer.applyRemoteEvent(E)}(g,p)}catch(C){Pt(Cn,"Failed to raise snapshot:",C),await Ho(g,C)}}async function Ho(g,e,p){if(!pr(e))throw e;g.W_.add(1),await Pa(g),g.j_.set("Offline"),p||(p=()=>Vg(g.localStore)),g.asyncQueue.enqueueRetryable(async()=>{Pt(Cn,"Retrying IndexedDB access"),await p(),g.W_.delete(1),await Mh(g)})}function Yg(g,e){return e().catch(p=>Ho(g,p,e))}async function Ih(g){const e=Ut(g),p=Ks(e);let C=e.K_.length>0?e.K_[e.K_.length-1].batchId:Uu;for(;xA(e);)try{const R=await _C(e.localStore,C);if(R===null){e.K_.length===0&&p.P_();break}C=R.batchId,yA(e,R)}catch(R){await Ho(e,R)}Hg(e)&&Kg(e)}function xA(g){return Ln(g)&&g.K_.length<10}function yA(g,e){g.K_.push(e);const p=Ks(g);p.c_()&&p.b_&&p.S_(e.mutations)}function Hg(g){return Ln(g)&&!Ks(g).u_()&&g.K_.length>0}function Kg(g){Ks(g).start()}async function TA(g){Ks(g).C_()}async function SA(g){const e=Ks(g);for(const p of g.K_)e.S_(p.mutations)}async function EA(g,e,p){const C=g.K_.shift(),R=Ku.from(C,e,p);await Yg(g,()=>g.remoteSyncer.applySuccessfulWrite(R)),await Ih(g)}async function CA(g,e){e&&Ks(g).b_&&await async function(C,R){if(function(c){return rC(c)&&c!==pt.ABORTED}(R.code)){const I=C.K_.shift();Ks(C).h_(),await Yg(C,()=>C.remoteSyncer.rejectFailedWrite(I.batchId,R)),await Ih(C)}}(g,e),Hg(g)&&Kg(g)}async function pv(g,e){const p=Ut(g);p.asyncQueue.verifyOperationInProgress(),Pt(Cn,"RemoteStore received new credentials");const C=Ln(p);p.W_.add(3),await Pa(p),C&&p.j_.set("Unknown"),await p.remoteSyncer.handleCredentialChange(e),p.W_.delete(3),await Mh(p)}async function AA(g,e){const p=Ut(g);e?(p.W_.delete(2),await Mh(p)):e||(p.W_.add(2),await Pa(p),p.j_.set("Unknown"))}function mr(g){return g.J_||(g.J_=function(p,C,R){const I=Ut(p);return I.M_(),new hA(C,I.connection,I.authCredentials,I.appCheckCredentials,I.serializer,R)}(g.datastore,g.asyncQueue,{xo:vA.bind(null,g),No:pA.bind(null,g),Lo:mA.bind(null,g),p_:gA.bind(null,g)}),g.G_.push(async e=>{e?(g.J_.h_(),ef(g)?tf(g):g.j_.set("Unknown")):(await g.J_.stop(),Wg(g))})),g.J_}function Ks(g){return g.Y_||(g.Y_=function(p,C,R){const I=Ut(p);return I.M_(),new lA(C,I.connection,I.authCredentials,I.appCheckCredentials,I.serializer,R)}(g.datastore,g.asyncQueue,{xo:()=>Promise.resolve(),No:TA.bind(null,g),Lo:CA.bind(null,g),D_:SA.bind(null,g),v_:EA.bind(null,g)}),g.G_.push(async e=>{e?(g.Y_.h_(),await Ih(g)):(await g.Y_.stop(),g.K_.length>0&&(Pt(Cn,`Stopping write stream with ${g.K_.length} pending writes`),g.K_=[]))})),g.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,p,C,R,I){this.asyncQueue=e,this.timerId=p,this.targetTimeMs=C,this.op=R,this.removalCallback=I,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,p,C,R,I){const c=Date.now()+C,E=new sf(e,p,c,R,I);return E.start(C),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nf(g,e){if(ds("AsyncQueue",`${e}: ${g}`),pr(g))return new Rt(pt.UNAVAILABLE,`${e}: ${g}`);throw g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{static emptySet(e){return new Jn(e.comparator)}constructor(e){this.comparator=e?(p,C)=>e(p,C)||Dt.comparator(p.key,C.key):(p,C)=>Dt.comparator(p.key,C.key),this.keyedMap=Br(),this.sortedSet=new Te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const p=this.keyedMap.get(e);return p?this.sortedSet.indexOf(p):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((p,C)=>(e(p),!1))}add(e){const p=this.delete(e.key);return p.copy(p.keyedMap.insert(e.key,e),p.sortedSet.insert(e,null))}delete(e){const p=this.get(e);return p?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(p)):this}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const p=this.sortedSet.getIterator(),C=e.sortedSet.getIterator();for(;p.hasNext();){const R=p.getNext().key,I=C.getNext().key;if(!R.isEqual(I))return!1}return!0}toString(){const e=[];return this.forEach(p=>{e.push(p.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,p){const C=new Jn;return C.comparator=this.comparator,C.keyedMap=e,C.sortedSet=p,C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.Z_=new Te(Dt.comparator)}track(e){const p=e.doc.key,C=this.Z_.get(p);C?e.type!==0&&C.type===3?this.Z_=this.Z_.insert(p,e):e.type===3&&C.type!==1?this.Z_=this.Z_.insert(p,{type:C.type,doc:e.doc}):e.type===2&&C.type===2?this.Z_=this.Z_.insert(p,{type:2,doc:e.doc}):e.type===2&&C.type===0?this.Z_=this.Z_.insert(p,{type:0,doc:e.doc}):e.type===1&&C.type===0?this.Z_=this.Z_.remove(p):e.type===1&&C.type===2?this.Z_=this.Z_.insert(p,{type:1,doc:C.doc}):e.type===0&&C.type===1?this.Z_=this.Z_.insert(p,{type:2,doc:e.doc}):Ot():this.Z_=this.Z_.insert(p,e)}X_(){const e=[];return this.Z_.inorderTraversal((p,C)=>{e.push(C)}),e}}class ar{constructor(e,p,C,R,I,c,E,t,h){this.query=e,this.docs=p,this.oldDocs=C,this.docChanges=R,this.mutatedKeys=I,this.fromCache=c,this.syncStateChanged=E,this.excludesMetadataChanges=t,this.hasCachedResults=h}static fromInitialDocuments(e,p,C,R,I){const c=[];return p.forEach(E=>{c.push({type:0,doc:E})}),new ar(e,p,Jn.emptySet(p),c,C,R,!0,!1,I)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const p=this.docChanges,C=e.docChanges;if(p.length!==C.length)return!1;for(let R=0;R<p.length;R++)if(p[R].type!==C[R].type||!p[R].doc.isEqual(C[R].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class RA{constructor(){this.queries=gv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(p,C){const R=Ut(p),I=R.queries;R.queries=gv(),I.forEach((c,E)=>{for(const t of E.ta)t.onError(C)})})(this,new Rt(pt.ABORTED,"Firestore shutting down"))}}function gv(){return new In(g=>ug(g),Eh)}async function rf(g,e){const p=Ut(g);let C=3;const R=e.query;let I=p.queries.get(R);I?!I.na()&&e.ra()&&(C=2):(I=new PA,C=e.ra()?0:1);try{switch(C){case 0:I.ea=await p.onListen(R,!0);break;case 1:I.ea=await p.onListen(R,!1);break;case 2:await p.onFirstRemoteStoreListen(R)}}catch(c){const E=nf(c,`Initialization of query '${zn(e.query)}' failed`);return void e.onError(E)}p.queries.set(R,I),I.ta.push(e),e.sa(p.onlineState),I.ea&&e.oa(I.ea)&&of(p)}async function af(g,e){const p=Ut(g),C=e.query;let R=3;const I=p.queries.get(C);if(I){const c=I.ta.indexOf(e);c>=0&&(I.ta.splice(c,1),I.ta.length===0?R=e.ra()?0:1:!I.na()&&e.ra()&&(R=2))}switch(R){case 0:return p.queries.delete(C),p.onUnlisten(C,!0);case 1:return p.queries.delete(C),p.onUnlisten(C,!1);case 2:return p.onLastRemoteStoreUnlisten(C);default:return}}function wA(g,e){const p=Ut(g);let C=!1;for(const R of e){const I=R.query,c=p.queries.get(I);if(c){for(const E of c.ta)E.oa(R)&&(C=!0);c.ea=R}}C&&of(p)}function MA(g,e,p){const C=Ut(g),R=C.queries.get(e);if(R)for(const I of R.ta)I.onError(p);C.queries.delete(e)}function of(g){g.ia.forEach(e=>{e.next()})}var au,xv;(xv=au||(au={}))._a="default",xv.Cache="cache";class hf{constructor(e,p,C){this.query=e,this.aa=p,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=C||{}}oa(e){if(!this.options.includeMetadataChanges){const C=[];for(const R of e.docChanges)R.type!==3&&C.push(R);e=new ar(e.query,e.docs,e.oldDocs,C,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let p=!1;return this.ua?this.la(e)&&(this.aa.next(e),p=!0):this.ha(e,this.onlineState)&&(this.Pa(e),p=!0),this.ca=e,p}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let p=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),p=!0),p}ha(e,p){if(!e.fromCache||!this.ra())return!0;const C=p!=="Offline";return(!this.options.Ta||!C)&&(!e.docs.isEmpty()||e.hasCachedResults||p==="Offline")}la(e){if(e.docChanges.length>0)return!0;const p=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!p)&&this.options.includeMetadataChanges===!0}Pa(e){e=ar.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==au.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.key=e}}class Qg{constructor(e){this.key=e}}class IA{constructor(e,p){this.query=e,this.fa=p,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Kt(),this.mutatedKeys=Kt(),this.ya=fg(e),this.wa=new Jn(this.ya)}get ba(){return this.fa}Sa(e,p){const C=p?p.Da:new mv,R=p?p.wa:this.wa;let I=p?p.mutatedKeys:this.mutatedKeys,c=R,E=!1;const t=this.query.limitType==="F"&&R.size===this.query.limit?R.last():null,h=this.query.limitType==="L"&&R.size===this.query.limit?R.first():null;if(e.inorderTraversal((x,o)=>{const r=R.get(x),a=Ch(this.query,o)?o:null,i=!!r&&this.mutatedKeys.has(r.key),n=!!a&&(a.hasLocalMutations||this.mutatedKeys.has(a.key)&&a.hasCommittedMutations);let l=!1;r&&a?r.data.isEqual(a.data)?i!==n&&(C.track({type:3,doc:a}),l=!0):this.va(r,a)||(C.track({type:2,doc:a}),l=!0,(t&&this.ya(a,t)>0||h&&this.ya(a,h)<0)&&(E=!0)):!r&&a?(C.track({type:0,doc:a}),l=!0):r&&!a&&(C.track({type:1,doc:r}),l=!0,(t||h)&&(E=!0)),l&&(a?(c=c.add(a),I=n?I.add(x):I.delete(x)):(c=c.delete(x),I=I.delete(x)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),I=I.delete(x.key),C.track({type:1,doc:x})}return{wa:c,Da:C,ls:E,mutatedKeys:I}}va(e,p){return e.hasLocalMutations&&p.hasCommittedMutations&&!p.hasLocalMutations}applyChanges(e,p,C,R){const I=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((x,o)=>function(a,i){const n=l=>{switch(l){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return n(a)-n(i)}(x.type,o.type)||this.ya(x.doc,o.doc)),this.Ca(C),R=R!=null&&R;const E=p&&!R?this.Fa():[],t=this.pa.size===0&&this.current&&!R?1:0,h=t!==this.ga;return this.ga=t,c.length!==0||h?{snapshot:new ar(this.query,e.wa,I,c,e.mutatedKeys,t===0,h,!1,!!C&&C.resumeToken.approximateByteSize()>0),Ma:E}:{Ma:E}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(p=>this.fa=this.fa.add(p)),e.modifiedDocuments.forEach(p=>{}),e.removedDocuments.forEach(p=>this.fa=this.fa.delete(p)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Kt(),this.wa.forEach(C=>{this.xa(C.key)&&(this.pa=this.pa.add(C.key))});const p=[];return e.forEach(C=>{this.pa.has(C)||p.push(new Qg(C))}),this.pa.forEach(C=>{e.has(C)||p.push(new $g(C))}),p}Oa(e){this.fa=e.gs,this.pa=Kt();const p=this.Sa(e.documents);return this.applyChanges(p,!0)}Na(){return ar.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lf="SyncEngine";class LA{constructor(e,p,C){this.query=e,this.targetId=p,this.view=C}}class FA{constructor(e){this.key=e,this.Ba=!1}}class DA{constructor(e,p,C,R,I,c){this.localStore=e,this.remoteStore=p,this.eventManager=C,this.sharedClientState=R,this.currentUser=I,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new In(E=>ug(E),Eh),this.qa=new Map,this.Qa=new Set,this.$a=new Te(Dt.comparator),this.Ka=new Map,this.Ua=new ju,this.Wa={},this.Ga=new Map,this.za=rr.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function OA(g,e,p=!0){const C=_g(g);let R;const I=C.ka.get(e);return I?(C.sharedClientState.addLocalQueryTarget(I.targetId),R=I.view.Na()):R=await jg(C,e,p,!0),R}async function NA(g,e){const p=_g(g);await jg(p,e,!0,!1)}async function jg(g,e,p,C){const R=await tA(g.localStore,Hi(e)),I=R.targetId,c=g.sharedClientState.addLocalQueryTarget(I,p);let E;return C&&(E=await BA(g,e,I,c==="current",R.resumeToken)),g.isPrimaryClient&&p&&zg(g.remoteStore,R),E}async function BA(g,e,p,C,R){g.Ha=(o,r,a)=>async function(n,l,s,u){let f=l.view.Sa(s);f.ls&&(f=await uv(n.localStore,l.query,!1).then(({documents:y})=>l.view.Sa(y,f)));const d=u&&u.targetChanges.get(l.targetId),v=u&&u.targetMismatches.get(l.targetId)!=null,m=l.view.applyChanges(f,n.isPrimaryClient,d,v);return Tv(n,l.targetId,m.Ma),m.snapshot}(g,o,r,a);const I=await uv(g.localStore,e,!0),c=new IA(e,I.gs),E=c.Sa(I.documents),t=Aa.createSynthesizedTargetChangeForCurrentChange(p,C&&g.onlineState!=="Offline",R),h=c.applyChanges(E,g.isPrimaryClient,t);Tv(g,p,h.Ma);const x=new LA(e,p,c);return g.ka.set(e,x),g.qa.has(p)?g.qa.get(p).push(e):g.qa.set(p,[e]),h.snapshot}async function bA(g,e,p){const C=Ut(g),R=C.ka.get(e),I=C.qa.get(R.targetId);if(I.length>1)return C.qa.set(R.targetId,I.filter(c=>!Eh(c,e))),void C.ka.delete(e);C.isPrimaryClient?(C.sharedClientState.removeLocalQueryTarget(R.targetId),C.sharedClientState.isActiveQueryTarget(R.targetId)||await nu(C.localStore,R.targetId,!1).then(()=>{C.sharedClientState.clearQueryState(R.targetId),p&&qu(C.remoteStore,R.targetId),ou(C,R.targetId)}).catch(vr)):(ou(C,R.targetId),await nu(C.localStore,R.targetId,!0))}async function VA(g,e){const p=Ut(g),C=p.ka.get(e),R=p.qa.get(C.targetId);p.isPrimaryClient&&R.length===1&&(p.sharedClientState.removeLocalQueryTarget(C.targetId),qu(p.remoteStore,C.targetId))}async function GA(g,e,p){const C=KA(g);try{const R=await function(c,E){const t=Ut(c),h=Ee.now(),x=E.reduce((a,i)=>a.add(i.key),Kt());let o,r;return t.persistence.runTransaction("Locally write mutations","readwrite",a=>{let i=cs(),n=Kt();return t.ds.getEntries(a,x).next(l=>{i=l,i.forEach((s,u)=>{u.isValidDocument()||(n=n.add(s))})}).next(()=>t.localDocuments.getOverlayedDocuments(a,i)).next(l=>{o=l;const s=[];for(const u of E){const f=tC(u,o.get(u.key).overlayedDocument);f!=null&&s.push(new _s(u.key,f,ig(f.value.mapValue),wi.exists(!0)))}return t.mutationQueue.addMutationBatch(a,h,s,E)}).next(l=>{r=l;const s=l.applyToLocalDocumentSet(o,n);return t.documentOverlayCache.saveOverlays(a,l.batchId,s)})}).then(()=>({batchId:r.batchId,changes:cg(o)}))}(C.localStore,e);C.sharedClientState.addPendingMutation(R.batchId),function(c,E,t){let h=c.Wa[c.currentUser.toKey()];h||(h=new Te(Qt)),h=h.insert(E,t),c.Wa[c.currentUser.toKey()]=h}(C,R.batchId,p),await Ra(C,R.changes),await Ih(C.remoteStore)}catch(R){const I=nf(R,"Failed to persist write");p.reject(I)}}async function Jg(g,e){const p=Ut(g);try{const C=await kC(p.localStore,e);e.targetChanges.forEach((R,I)=>{const c=p.Ka.get(I);c&&(re(R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size<=1),R.addedDocuments.size>0?c.Ba=!0:R.modifiedDocuments.size>0?re(c.Ba):R.removedDocuments.size>0&&(re(c.Ba),c.Ba=!1))}),await Ra(p,C,e)}catch(C){await vr(C)}}function yv(g,e,p){const C=Ut(g);if(C.isPrimaryClient&&p===0||!C.isPrimaryClient&&p===1){const R=[];C.ka.forEach((I,c)=>{const E=c.view.sa(e);E.snapshot&&R.push(E.snapshot)}),function(c,E){const t=Ut(c);t.onlineState=E;let h=!1;t.queries.forEach((x,o)=>{for(const r of o.ta)r.sa(E)&&(h=!0)}),h&&of(t)}(C.eventManager,e),R.length&&C.La.p_(R),C.onlineState=e,C.isPrimaryClient&&C.sharedClientState.setOnlineState(e)}}async function UA(g,e,p){const C=Ut(g);C.sharedClientState.updateQueryState(e,"rejected",p);const R=C.Ka.get(e),I=R&&R.key;if(I){let c=new Te(Dt.comparator);c=c.insert(I,ke.newNoDocument(I,Vt.min()));const E=Kt().add(I),t=new Rh(Vt.min(),new Map,new Te(Qt),c,E);await Jg(C,t),C.$a=C.$a.remove(I),C.Ka.delete(e),uf(C)}else await nu(C.localStore,e,!1).then(()=>ou(C,e,p)).catch(vr)}async function zA(g,e){const p=Ut(g),C=e.batch.batchId;try{const R=await ZC(p.localStore,e);kg(p,C,null),Zg(p,C),p.sharedClientState.updateMutationState(C,"acknowledged"),await Ra(p,R)}catch(R){await vr(R)}}async function XA(g,e,p){const C=Ut(g);try{const R=await function(c,E){const t=Ut(c);return t.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let x;return t.mutationQueue.lookupMutationBatch(h,E).next(o=>(re(o!==null),x=o.keys(),t.mutationQueue.removeMutationBatch(h,o))).next(()=>t.mutationQueue.performConsistencyCheck(h)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(h,x,E)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,x)).next(()=>t.localDocuments.getDocuments(h,x))})}(C.localStore,e);kg(C,e,p),Zg(C,e),C.sharedClientState.updateMutationState(e,"rejected",p),await Ra(C,R)}catch(R){await vr(R)}}function Zg(g,e){(g.Ga.get(e)||[]).forEach(p=>{p.resolve()}),g.Ga.delete(e)}function kg(g,e,p){const C=Ut(g);let R=C.Wa[C.currentUser.toKey()];if(R){const I=R.get(e);I&&(p?I.reject(p):I.resolve(),R=R.remove(e)),C.Wa[C.currentUser.toKey()]=R}}function ou(g,e,p=null){g.sharedClientState.removeLocalQueryTarget(e);for(const C of g.qa.get(e))g.ka.delete(C),p&&g.La.Ja(C,p);g.qa.delete(e),g.isPrimaryClient&&g.Ua.Sr(e).forEach(C=>{g.Ua.containsKey(C)||qg(g,C)})}function qg(g,e){g.Qa.delete(e.path.canonicalString());const p=g.$a.get(e);p!==null&&(qu(g.remoteStore,p),g.$a=g.$a.remove(e),g.Ka.delete(p),uf(g))}function Tv(g,e,p){for(const C of p)C instanceof $g?(g.Ua.addReference(C.key,e),WA(g,C)):C instanceof Qg?(Pt(lf,"Document no longer in limbo: "+C.key),g.Ua.removeReference(C.key,e),g.Ua.containsKey(C.key)||qg(g,C.key)):Ot()}function WA(g,e){const p=e.key,C=p.path.canonicalString();g.$a.get(p)||g.Qa.has(C)||(Pt(lf,"New document in limbo: "+p),g.Qa.add(C),uf(g))}function uf(g){for(;g.Qa.size>0&&g.$a.size<g.maxConcurrentLimboResolutions;){const e=g.Qa.values().next().value;g.Qa.delete(e);const p=new Dt(xe.fromString(e)),C=g.za.next();g.Ka.set(C,new FA(p)),g.$a=g.$a.insert(p,C),zg(g.remoteStore,new Fs(Hi(Sh(p.path)),C,"TargetPurposeLimboResolution",xh.ae))}}async function Ra(g,e,p){const C=Ut(g),R=[],I=[],c=[];C.ka.isEmpty()||(C.ka.forEach((E,t)=>{c.push(C.Ha(t,e,p).then(h=>{var x;if((h||p)&&C.isPrimaryClient){const o=h?!h.fromCache:(x=p==null?void 0:p.targetChanges.get(t.targetId))===null||x===void 0?void 0:x.current;C.sharedClientState.updateQueryState(t.targetId,o?"current":"not-current")}if(h){R.push(h);const o=Zu.Yi(t.targetId,h);I.push(o)}}))}),await Promise.all(c),C.La.p_(R),await async function(t,h){const x=Ut(t);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",o=>mt.forEach(h,r=>mt.forEach(r.Hi,a=>x.persistence.referenceDelegate.addReference(o,r.targetId,a)).next(()=>mt.forEach(r.Ji,a=>x.persistence.referenceDelegate.removeReference(o,r.targetId,a)))))}catch(o){if(!pr(o))throw o;Pt(ku,"Failed to update sequence numbers: "+o)}for(const o of h){const r=o.targetId;if(!o.fromCache){const a=x.Ts.get(r),i=a.snapshotVersion,n=a.withLastLimboFreeSnapshotVersion(i);x.Ts=x.Ts.insert(r,n)}}}(C.localStore,I))}async function YA(g,e){const p=Ut(g);if(!p.currentUser.isEqual(e)){Pt(lf,"User change. New user:",e.toKey());const C=await bg(p.localStore,e);p.currentUser=e,function(I,c){I.Ga.forEach(E=>{E.forEach(t=>{t.reject(new Rt(pt.CANCELLED,c))})}),I.Ga.clear()}(p,"'waitForPendingWrites' promise is rejected due to a user change."),p.sharedClientState.handleUserChange(e,C.removedBatchIds,C.addedBatchIds),await Ra(p,C.Rs)}}function HA(g,e){const p=Ut(g),C=p.Ka.get(e);if(C&&C.Ba)return Kt().add(C.key);{let R=Kt();const I=p.qa.get(e);if(!I)return R;for(const c of I){const E=p.ka.get(c);R=R.unionWith(E.view.ba)}return R}}function _g(g){const e=Ut(g);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UA.bind(null,e),e.La.p_=wA.bind(null,e.eventManager),e.La.Ja=MA.bind(null,e.eventManager),e}function KA(g){const e=Ut(g);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XA.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,p){return null}nu(e,p){return null}eu(e){return JC(this.persistence,new $C,e.initialUser,this.serializer)}Xa(e){return new Bg(Ju.ri,this.serializer)}Za(e){return new iA}async terminate(){var e,p;(e=this.gcScheduler)===null||e===void 0||e.stop(),(p=this.indexBackfillerScheduler)===null||p===void 0||p.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class $A extends Ko{constructor(e){super(),this.cacheSizeBytes=e}tu(e,p){re(this.persistence.referenceDelegate instanceof Yo);const C=this.persistence.referenceDelegate.garbageCollector;return new FC(C,e.asyncQueue,p)}Xa(e){const p=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new Bg(C=>Yo.ri(C,p),this.serializer)}}class hu{async initialize(e,p){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(p),this.remoteStore=this.createRemoteStore(p),this.eventManager=this.createEventManager(p),this.syncEngine=this.createSyncEngine(p,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=C=>yv(this.syncEngine,C,1),this.remoteStore.remoteSyncer.handleCredentialChange=YA.bind(null,this.syncEngine),await AA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RA}()}createDatastore(e){const p=wh(e.databaseInfo.databaseId),C=function(I){return new oA(I)}(e.databaseInfo);return function(I,c,E,t){return new fA(I,c,E,t)}(e.authCredentials,e.appCheckCredentials,C,p)}createRemoteStore(e){return function(C,R,I,c,E){return new cA(C,R,I,c,E)}(this.localStore,this.datastore,e.asyncQueue,p=>yv(this.syncEngine,p,0),function(){return cv.D()?new cv:new sA}())}createSyncEngine(e,p){return function(R,I,c,E,t,h,x){const o=new DA(R,I,c,E,t,h);return x&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,p)}async terminate(){var e,p;await async function(R){const I=Ut(R);Pt(Cn,"RemoteStore shutting down."),I.W_.add(5),await Pa(I),I.z_.shutdown(),I.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(p=this.eventManager)===null||p===void 0||p.terminate()}}hu.provider={build:()=>new hu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,p){setTimeout(()=>{this.muted||e(p)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class QA{constructor(e,p,C,R,I){this.authCredentials=e,this.appCheckCredentials=p,this.asyncQueue=C,this.databaseInfo=R,this.user=hi.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=I,this.authCredentials.start(C,async c=>{Pt($s,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(C,c=>(Pt($s,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(p){const C=nf(p,"Failed to shutdown persistence");e.reject(C)}}),e.promise}}async function El(g,e){g.asyncQueue.verifyOperationInProgress(),Pt($s,"Initializing OfflineComponentProvider");const p=g.configuration;await e.initialize(p);let C=p.initialUser;g.setCredentialChangeListener(async R=>{C.isEqual(R)||(await bg(e.localStore,R),C=R)}),e.persistence.setDatabaseDeletedListener(()=>g.terminate()),g._offlineComponents=e}async function Sv(g,e){g.asyncQueue.verifyOperationInProgress();const p=await jA(g);Pt($s,"Initializing OnlineComponentProvider"),await e.initialize(p,g.configuration),g.setCredentialChangeListener(C=>pv(e.remoteStore,C)),g.setAppCheckTokenChangeListener((C,R)=>pv(e.remoteStore,R)),g._onlineComponents=e}async function jA(g){if(!g._offlineComponents)if(g._uninitializedComponentsProvider){Pt($s,"Using user provided OfflineComponentProvider");try{await El(g,g._uninitializedComponentsProvider._offline)}catch(e){const p=e;if(!function(R){return R.name==="FirebaseError"?R.code===pt.FAILED_PRECONDITION||R.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&R instanceof DOMException)||R.code===22||R.code===20||R.code===11}(p))throw p;ha("Error using user provided cache. Falling back to memory cache: "+p),await El(g,new Ko)}}else Pt($s,"Using default OfflineComponentProvider"),await El(g,new $A(void 0));return g._offlineComponents}async function t0(g){return g._onlineComponents||(g._uninitializedComponentsProvider?(Pt($s,"Using user provided OnlineComponentProvider"),await Sv(g,g._uninitializedComponentsProvider._online)):(Pt($s,"Using default OnlineComponentProvider"),await Sv(g,new hu))),g._onlineComponents}function JA(g){return t0(g).then(e=>e.syncEngine)}async function $o(g){const e=await t0(g),p=e.eventManager;return p.onListen=OA.bind(null,e.syncEngine),p.onUnlisten=bA.bind(null,e.syncEngine),p.onFirstRemoteStoreListen=NA.bind(null,e.syncEngine),p.onLastRemoteStoreUnlisten=VA.bind(null,e.syncEngine),p}function ZA(g,e,p={}){const C=new us;return g.asyncQueue.enqueueAndForget(async()=>function(I,c,E,t,h){const x=new ff({next:r=>{x.su(),c.enqueueAndForget(()=>af(I,o));const a=r.docs.has(E);!a&&r.fromCache?h.reject(new Rt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&r.fromCache&&t&&t.source==="server"?h.reject(new Rt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(r)},error:r=>h.reject(r)}),o=new hf(Sh(E.path),x,{includeMetadataChanges:!0,Ta:!0});return rf(I,o)}(await $o(g),g.asyncQueue,e,p,C)),C.promise}function kA(g,e,p={}){const C=new us;return g.asyncQueue.enqueueAndForget(async()=>function(I,c,E,t,h){const x=new ff({next:r=>{x.su(),c.enqueueAndForget(()=>af(I,o)),r.fromCache&&t.source==="server"?h.reject(new Rt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(r)},error:r=>h.reject(r)}),o=new hf(E,x,{includeMetadataChanges:!0,Ta:!0});return rf(I,o)}(await $o(g),g.asyncQueue,e,p,C)),C.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(g){const e={};return g.timeoutSeconds!==void 0&&(e.timeoutSeconds=g.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(g,e,p){if(!p)throw new Rt(pt.INVALID_ARGUMENT,`Function ${g}() cannot be called with an empty ${e}.`)}function qA(g,e,p,C){if(e===!0&&C===!0)throw new Rt(pt.INVALID_ARGUMENT,`${g} and ${p} cannot be used together.`)}function Cv(g){if(!Dt.isDocumentKey(g))throw new Rt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${g} has ${g.length}.`)}function Av(g){if(Dt.isDocumentKey(g))throw new Rt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${g} has ${g.length}.`)}function Lh(g){if(g===void 0)return"undefined";if(g===null)return"null";if(typeof g=="string")return g.length>20&&(g=`${g.substring(0,20)}...`),JSON.stringify(g);if(typeof g=="number"||typeof g=="boolean")return""+g;if(typeof g=="object"){if(g instanceof Array)return"an array";{const e=function(C){return C.constructor?C.constructor.name:null}(g);return e?`a custom ${e} object`:"an object"}}return typeof g=="function"?"a function":Ot()}function Si(g,e){if("_delegate"in g&&(g=g._delegate),!(g instanceof e)){if(e.name===g.constructor.name)throw new Rt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const p=Lh(g);throw new Rt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${p}`)}}return g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firestore.googleapis.com",Pv=!0;class Rv{constructor(e){var p,C;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_A,this.ssl=Pv}else this.host=e.host,this.ssl=(p=e.ssl)!==null&&p!==void 0?p:Pv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Og;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ng)throw new Rt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e0((C=e.experimentalLongPollingOptions)!==null&&C!==void 0?C:{}),function(I){if(I.timeoutSeconds!==void 0){if(isNaN(I.timeoutSeconds))throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (must not be NaN)`);if(I.timeoutSeconds<5)throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (minimum allowed value is 5)`);if(I.timeoutSeconds>30)throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(C,R){return C.timeoutSeconds===R.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,p,C,R){this._authCredentials=e,this._appCheckCredentials=p,this._databaseId=C,this._app=R,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(C){if(!C)return new h2;switch(C.type){case"firstParty":return new f2(C.sessionIndex||"0",C.iamToken||null,C.authTokenFactory||null);case"provider":return C.client;default:throw new Rt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(p){const C=Ev.get(p);C&&(Pt("ComponentProvider","Removing Datastore"),Ev.delete(p),C.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,p,C){this.converter=p,this._query=C,this.type="query",this.firestore=e}withConverter(e){return new Fn(this.firestore,e,this._query)}}class qe{constructor(e,p,C){this.converter=p,this._key=C,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}}class Vs extends Fn{constructor(e,p,C){super(e,p,Sh(C)),this._path=C,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new Dt(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function wv(g,e,...p){if(g=Ve(g),i0("collection","path",e),g instanceof df){const C=xe.fromString(e,...p);return Av(C),new Vs(g,null,C)}{if(!(g instanceof qe||g instanceof Vs))throw new Rt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=g._path.child(xe.fromString(e,...p));return Av(C),new Vs(g.firestore,null,C)}}function Vr(g,e,...p){if(g=Ve(g),arguments.length===1&&(e=$m.newId()),i0("doc","path",e),g instanceof df){const C=xe.fromString(e,...p);return Cv(C),new qe(g,null,new Dt(C))}{if(!(g instanceof qe||g instanceof Vs))throw new Rt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=g._path.child(xe.fromString(e,...p));return Cv(C),new qe(g.firestore,g instanceof Vs?g.converter:null,new Dt(C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="AsyncQueue";class Iv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Gg(this,"async_queue_retry"),this.bu=()=>{const C=Sl();C&&Pt(Mv,"Visibility state changed to "+C.visibilityState),this.a_.t_()},this.Su=e;const p=Sl();p&&typeof p.addEventListener=="function"&&p.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const p=Sl();p&&typeof p.removeEventListener=="function"&&p.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const p=new us;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(p.resolve,p.reject),p.promise)).then(()=>p.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!pr(e))throw e;Pt(Mv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const p=this.Su.then(()=>(this.pu=!0,e().catch(C=>{this.gu=C,this.pu=!1;const R=function(c){let E=c.message||"";return c.stack&&(E=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),E}(C);throw ds("INTERNAL UNHANDLED ERROR: ",R),C}).then(C=>(this.pu=!1,C))));return this.Su=p,p}enqueueAfterDelay(e,p,C){this.Du(),this.wu.indexOf(e)>-1&&(p=0);const R=sf.createAndSchedule(this,e,p,C,I=>this.Fu(I));return this.fu.push(R),R}Du(){this.gu&&Ot()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const p of this.fu)if(p.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((p,C)=>p.targetTimeMs-C.targetTimeMs);for(const p of this.fu)if(p.skipDelay(),e!=="all"&&p.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const p=this.fu.indexOf(e);this.fu.splice(p,1)}}function Lv(g){return function(p,C){if(typeof p!="object"||p===null)return!1;const R=p;for(const I of C)if(I in R&&typeof R[I]=="function")return!0;return!1}(g,["next","error","complete"])}class Qs extends df{constructor(e,p,C,R){super(e,p,C,R),this.type="firestore",this._queue=new Iv,this._persistenceKey=(R==null?void 0:R.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iv(e),this._firestoreClient=void 0,await e}}}function tP(g,e,p){p||(p=bo);const C=Vu(g,"firestore");if(C.isInitialized(p)){const R=C.getImmediate({identifier:p}),I=C.getOptions(p);if(Tn(I,e))return R;throw new Rt(pt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Rt(pt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ng)throw new Rt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return C.initialize({options:e,instanceIdentifier:p})}function Fh(g){if(g._terminated)throw new Rt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return g._firestoreClient||eP(g),g._firestoreClient}function eP(g){var e,p,C;const R=g._freezeSettings(),I=function(E,t,h,x){return new P2(E,t,h,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,e0(x.experimentalLongPollingOptions),x.useFetchStreams)}(g._databaseId,((e=g._app)===null||e===void 0?void 0:e.options.appId)||"",g._persistenceKey,R);g._componentsProvider||!((p=R.localCache)===null||p===void 0)&&p._offlineComponentProvider&&(!((C=R.localCache)===null||C===void 0)&&C._onlineComponentProvider)&&(g._componentsProvider={_offline:R.localCache._offlineComponentProvider,_online:R.localCache._onlineComponentProvider}),g._firestoreClient=new QA(g._authCredentials,g._appCheckCredentials,g._queue,I,g._componentsProvider&&function(E){const t=E==null?void 0:E._online.build();return{_offline:E==null?void 0:E._offline.build(t),_online:t}}(g._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(He.fromBase64String(e))}catch(p){throw new Rt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+p)}}static fromUint8Array(e){return new or(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(...e){for(let p=0;p<e.length;++p)if(e[p].length===0)throw new Rt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,p){if(!isFinite(e)||e<-90||e>90)throw new Rt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(p)||p<-180||p>180)throw new Rt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+p);this._lat=e,this._long=p}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this._values=(e||[]).map(p=>p)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(C,R){if(C.length!==R.length)return!1;for(let I=0;I<C.length;++I)if(C[I]!==R[I])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=/^__.*__$/;class sP{constructor(e,p,C){this.data=e,this.fieldMask=p,this.fieldTransforms=C}toMutation(e,p){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,p,this.fieldTransforms):new Ca(e,this.data,p,this.fieldTransforms)}}class s0{constructor(e,p,C){this.data=e,this.fieldMask=p,this.fieldTransforms=C}toMutation(e,p){return new _s(e,this.data,this.fieldMask,p,this.fieldTransforms)}}function n0(g){switch(g){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class mf{constructor(e,p,C,R,I,c){this.settings=e,this.databaseId=p,this.serializer=C,this.ignoreUndefinedProperties=R,I===void 0&&this.Bu(),this.fieldTransforms=I||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var p;const C=(p=this.path)===null||p===void 0?void 0:p.child(e),R=this.ku({path:C,Qu:!1});return R.$u(e),R}Ku(e){var p;const C=(p=this.path)===null||p===void 0?void 0:p.child(e),R=this.ku({path:C,Qu:!1});return R.Bu(),R}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(p=>e.isPrefixOf(p))!==void 0||this.fieldTransforms.find(p=>e.isPrefixOf(p.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(n0(this.Lu)&&iP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class nP{constructor(e,p,C){this.databaseId=e,this.ignoreUndefinedProperties=p,this.serializer=C||wh(e)}ju(e,p,C,R=!1){return new mf({Lu:e,methodName:p,zu:C,path:Xe.emptyPath(),Qu:!1,Gu:R},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(g){const e=g._freezeSettings(),p=wh(g._databaseId);return new nP(g._databaseId,!!e.ignoreUndefinedProperties,p)}function r0(g,e,p,C,R,I={}){const c=g.ju(I.merge||I.mergeFields?2:0,e,p,R);gf("Data must be an object, but it was:",c,C);const E=a0(C,c);let t,h;if(I.merge)t=new mi(c.fieldMask),h=c.fieldTransforms;else if(I.mergeFields){const x=[];for(const o of I.mergeFields){const r=lu(e,o,p);if(!c.contains(r))throw new Rt(pt.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);h0(x,r)||x.push(r)}t=new mi(x),h=c.fieldTransforms.filter(o=>t.covers(o.field))}else t=null,h=c.fieldTransforms;return new sP(new fi(E),t,h)}class Nh extends cf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function rP(g,e,p,C){const R=g.ju(1,e,p);gf("Data must be an object, but it was:",R,C);const I=[],c=fi.empty();qs(C,(t,h)=>{const x=xf(e,t,p);h=Ve(h);const o=R.Ku(x);if(h instanceof Nh)I.push(x);else{const r=wa(h,o);r!=null&&(I.push(x),c.set(x,r))}});const E=new mi(I);return new s0(c,E,R.fieldTransforms)}function aP(g,e,p,C,R,I){const c=g.ju(1,e,p),E=[lu(e,C,p)],t=[R];if(I.length%2!=0)throw new Rt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let r=0;r<I.length;r+=2)E.push(lu(e,I[r])),t.push(I[r+1]);const h=[],x=fi.empty();for(let r=E.length-1;r>=0;--r)if(!h0(h,E[r])){const a=E[r];let i=t[r];i=Ve(i);const n=c.Ku(a);if(i instanceof Nh)h.push(a);else{const l=wa(i,n);l!=null&&(h.push(a),x.set(a,l))}}const o=new mi(h);return new s0(x,o,c.fieldTransforms)}function oP(g,e,p,C=!1){return wa(p,g.ju(C?4:3,e))}function wa(g,e){if(o0(g=Ve(g)))return gf("Unsupported field value:",e,g),a0(g,e);if(g instanceof cf)return function(C,R){if(!n0(R.Lu))throw R.Wu(`${C._methodName}() can only be used with update() and set()`);if(!R.path)throw R.Wu(`${C._methodName}() is not currently supported inside arrays`);const I=C._toFieldTransform(R);I&&R.fieldTransforms.push(I)}(g,e),null;if(g===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),g instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(C,R){const I=[];let c=0;for(const E of C){let t=wa(E,R.Uu(c));t==null&&(t={nullValue:"NULL_VALUE"}),I.push(t),c++}return{arrayValue:{values:I}}}(g,e)}return function(C,R){if((C=Ve(C))===null)return{nullValue:"NULL_VALUE"};if(typeof C=="number")return j2(R.serializer,C);if(typeof C=="boolean")return{booleanValue:C};if(typeof C=="string")return{stringValue:C};if(C instanceof Date){const I=Ee.fromDate(C);return{timestampValue:Wo(R.serializer,I)}}if(C instanceof Ee){const I=new Ee(C.seconds,1e3*Math.floor(C.nanoseconds/1e3));return{timestampValue:Wo(R.serializer,I)}}if(C instanceof vf)return{geoPointValue:{latitude:C.latitude,longitude:C.longitude}};if(C instanceof or)return{bytesValue:Rg(R.serializer,C._byteString)};if(C instanceof qe){const I=R.databaseId,c=C.firestore._databaseId;if(!c.isEqual(I))throw R.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${I.projectId}/${I.database}`);return{referenceValue:Qu(C.firestore._databaseId||R.databaseId,C._key.path)}}if(C instanceof pf)return function(c,E){return{mapValue:{fields:{[tg]:{stringValue:eg},[Vo]:{arrayValue:{values:c.toArray().map(h=>{if(typeof h!="number")throw E.Wu("VectorValues must only contain numeric values.");return Hu(E.serializer,h)})}}}}}}(C,R);throw R.Wu(`Unsupported field value: ${Lh(C)}`)}(g,e)}function a0(g,e){const p={};return jm(g)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(g,(C,R)=>{const I=wa(R,e.qu(C));I!=null&&(p[C]=I)}),{mapValue:{fields:p}}}function o0(g){return!(typeof g!="object"||g===null||g instanceof Array||g instanceof Date||g instanceof Ee||g instanceof vf||g instanceof or||g instanceof qe||g instanceof cf||g instanceof pf)}function gf(g,e,p){if(!o0(p)||!function(R){return typeof R=="object"&&R!==null&&(Object.getPrototypeOf(R)===Object.prototype||Object.getPrototypeOf(R)===null)}(p)){const C=Lh(p);throw C==="an object"?e.Wu(g+" a custom object"):e.Wu(g+" "+C)}}function lu(g,e,p){if((e=Ve(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return xf(g,e);throw Qo("Field path arguments must be of type string or ",g,!1,void 0,p)}const hP=new RegExp("[~\\*/\\[\\]]");function xf(g,e,p){if(e.search(hP)>=0)throw Qo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,g,!1,void 0,p);try{return new Dh(...e.split("."))._internalPath}catch{throw Qo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,g,!1,void 0,p)}}function Qo(g,e,p,C,R){const I=C&&!C.isEmpty(),c=R!==void 0;let E=`Function ${e}() called with invalid data`;p&&(E+=" (via `toFirestore()`)"),E+=". ";let t="";return(I||c)&&(t+=" (found",I&&(t+=` in field ${C}`),c&&(t+=` in document ${R}`),t+=")"),new Rt(pt.INVALID_ARGUMENT,E+g+t)}function h0(g,e){return g.some(p=>p.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,p,C,R,I){this._firestore=e,this._userDataWriter=p,this._key=C,this._document=R,this._converter=I}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const p=this._document.data.field(yf("DocumentSnapshot.get",e));if(p!==null)return this._userDataWriter.convertValue(p)}}}class lP extends l0{data(){return super.data()}}function yf(g,e){return typeof e=="string"?xf(g,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(g){if(g.limitType==="L"&&g.explicitOrderBy.length===0)throw new Rt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tf{}class uP extends Tf{}function f0(g,e,...p){let C=[];e instanceof Tf&&C.push(e),C=C.concat(p),function(I){const c=I.filter(t=>t instanceof Sf).length,E=I.filter(t=>t instanceof Bh).length;if(c>1||c>0&&E>0)throw new Rt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(C);for(const R of C)g=R._apply(g);return g}class Bh extends uP{constructor(e,p,C){super(),this._field=e,this._op=p,this._value=C,this.type="where"}static _create(e,p,C){return new Bh(e,p,C)}_apply(e){const p=this._parse(e);return d0(e._query,p),new Fn(e.firestore,e.converter,ql(e._query,p))}_parse(e){const p=Oh(e.firestore);return function(I,c,E,t,h,x,o){let r;if(h.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Rt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Dv(o,x);const i=[];for(const n of o)i.push(Fv(t,I,n));r={arrayValue:{values:i}}}else r=Fv(t,I,o)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Dv(o,x),r=oP(E,c,o,x==="in"||x==="not-in");return Me.create(h,x,r)}(e._query,"where",p,e.firestore._databaseId,this._field,this._op,this._value)}}function fP(g,e,p){const C=e,R=yf("where",g);return Bh._create(R,C,p)}class Sf extends Tf{constructor(e,p){super(),this.type=e,this._queryConstraints=p}static _create(e,p){return new Sf(e,p)}_parse(e){const p=this._queryConstraints.map(C=>C._parse(e)).filter(C=>C.getFilters().length>0);return p.length===1?p[0]:Oi.create(p,this._getOperator())}_apply(e){const p=this._parse(e);return p.getFilters().length===0?e:(function(R,I){let c=R;const E=I.getFlattenedFilters();for(const t of E)d0(c,t),c=ql(c,t)}(e._query,p),new Fn(e.firestore,e.converter,ql(e._query,p)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fv(g,e,p){if(typeof(p=Ve(p))=="string"){if(p==="")throw new Rt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lg(e)&&p.indexOf("/")!==-1)throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${p}' contains a '/' character.`);const C=e.path.child(xe.fromString(p));if(!Dt.isDocumentKey(C))throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${C}' is not because it has an odd number of segments (${C.length}).`);return Kc(g,new Dt(C))}if(p instanceof qe)return Kc(g,p._key);throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(p)}.`)}function Dv(g,e){if(!Array.isArray(g)||g.length===0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d0(g,e){const p=function(R,I){for(const c of R)for(const E of c.getFlattenedFilters())if(I.indexOf(E.op)>=0)return E.op;return null}(g.filters,function(R){switch(R){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(p!==null)throw p===e.op?new Rt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Rt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${p.toString()}' filters.`)}class dP{convertValue(e,p="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,p);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,p);case 11:return this.convertObject(e.mapValue,p);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot()}}convertObject(e,p){return this.convertObjectMap(e.fields,p)}convertObjectMap(e,p="none"){const C={};return qs(e,(R,I)=>{C[R]=this.convertValue(I,p)}),C}convertVectorValue(e){var p,C,R;const I=(R=(C=(p=e.fields)===null||p===void 0?void 0:p[Vo].arrayValue)===null||C===void 0?void 0:C.values)===null||R===void 0?void 0:R.map(c=>Ae(c.doubleValue));return new pf(I)}convertGeoPoint(e){return new vf(Ae(e.latitude),Ae(e.longitude))}convertArray(e,p){return(e.values||[]).map(C=>this.convertValue(C,p))}convertServerTimestamp(e,p){switch(p){case"previous":const C=Th(e);return C==null?null:this.convertValue(C,p);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const p=Ws(e);return new Ee(p.seconds,p.nanos)}convertDocumentKey(e,p){const C=xe.fromString(e);re(Dg(C));const R=new fa(C.get(1),C.get(3)),I=new Dt(C.popFirst(5));return R.isEqual(p)||ds(`Document ${I} contains a document reference within a different database (${R.projectId}/${R.database}) which is not supported. It will be treated as a reference in the current database (${p.projectId}/${p.database}) instead.`),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(g,e,p){let C;return C=g?g.toFirestore(e):e,C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,p){this.hasPendingWrites=e,this.fromCache=p}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v0 extends l0{constructor(e,p,C,R,I,c){super(e,p,C,R,c),this._firestore=e,this._firestoreImpl=e,this.metadata=I}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const p=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(p,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,p={}){if(this._document){const C=this._document.data.field(yf("DocumentSnapshot.get",e));if(C!==null)return this._userDataWriter.convertValue(C,p.serverTimestamps)}}}class xo extends v0{data(e={}){return super.data(e)}}class p0{constructor(e,p,C,R){this._firestore=e,this._userDataWriter=p,this._snapshot=R,this.metadata=new Gr(R.hasPendingWrites,R.fromCache),this.query=C}get docs(){const e=[];return this.forEach(p=>e.push(p)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,p){this._snapshot.docs.forEach(C=>{e.call(p,new xo(this._firestore,this._userDataWriter,C.key,C,new Gr(this._snapshot.mutatedKeys.has(C.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const p=!!e.includeMetadataChanges;if(p&&this._snapshot.excludesMetadataChanges)throw new Rt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===p||(this._cachedChanges=function(R,I){if(R._snapshot.oldDocs.isEmpty()){let c=0;return R._snapshot.docChanges.map(E=>{const t=new xo(R._firestore,R._userDataWriter,E.doc.key,E.doc,new Gr(R._snapshot.mutatedKeys.has(E.doc.key),R._snapshot.fromCache),R.query.converter);return E.doc,{type:"added",doc:t,oldIndex:-1,newIndex:c++}})}{let c=R._snapshot.oldDocs;return R._snapshot.docChanges.filter(E=>I||E.type!==3).map(E=>{const t=new xo(R._firestore,R._userDataWriter,E.doc.key,E.doc,new Gr(R._snapshot.mutatedKeys.has(E.doc.key),R._snapshot.fromCache),R.query.converter);let h=-1,x=-1;return E.type!==0&&(h=c.indexOf(E.doc.key),c=c.delete(E.doc.key)),E.type!==1&&(c=c.add(E.doc),x=c.indexOf(E.doc.key)),{type:cP(E.type),doc:t,oldIndex:h,newIndex:x}})}}(this,p),this._cachedChangesIncludeMetadataChanges=p),this._cachedChanges}}function cP(g){switch(g){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(g){g=Si(g,qe);const e=Si(g.firestore,Qs);return ZA(Fh(e),g._key).then(p=>m0(e,g,p))}class Ef extends dP{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const p=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,p)}}function Ov(g){g=Si(g,Fn);const e=Si(g.firestore,Qs),p=Fh(e),C=new Ef(e);return u0(g._query),kA(p,g._query).then(R=>new p0(e,C,g,R))}function vP(g,e,p){g=Si(g,qe);const C=Si(g.firestore,Qs),R=c0(g.converter,e);return Cf(C,[r0(Oh(C),"setDoc",g._key,R,g.converter!==null,p).toMutation(g._key,wi.none())])}function pP(g,e,p,...C){g=Si(g,qe);const R=Si(g.firestore,Qs),I=Oh(R);let c;return c=typeof(e=Ve(e))=="string"||e instanceof Dh?aP(I,"updateDoc",g._key,e,p,C):rP(I,"updateDoc",g._key,e),Cf(R,[c.toMutation(g._key,wi.exists(!0))])}function mP(g,e){const p=Si(g.firestore,Qs),C=Vr(g),R=c0(g.converter,e);return Cf(p,[r0(Oh(g.firestore),"addDoc",C._key,R,g.converter!==null,{}).toMutation(C._key,wi.exists(!1))]).then(()=>C)}function Nv(g,...e){var p,C,R;g=Ve(g);let I={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Lv(e[c])||(I=e[c],c++);const E={includeMetadataChanges:I.includeMetadataChanges,source:I.source};if(Lv(e[c])){const o=e[c];e[c]=(p=o.next)===null||p===void 0?void 0:p.bind(o),e[c+1]=(C=o.error)===null||C===void 0?void 0:C.bind(o),e[c+2]=(R=o.complete)===null||R===void 0?void 0:R.bind(o)}let t,h,x;if(g instanceof qe)h=Si(g.firestore,Qs),x=Sh(g._key.path),t={next:o=>{e[c]&&e[c](m0(h,g,o))},error:e[c+1],complete:e[c+2]};else{const o=Si(g,Fn);h=Si(o.firestore,Qs),x=o._query;const r=new Ef(h);t={next:a=>{e[c]&&e[c](new p0(h,r,o,a))},error:e[c+1],complete:e[c+2]},u0(g._query)}return function(r,a,i,n){const l=new ff(n),s=new hf(a,l,i);return r.asyncQueue.enqueueAndForget(async()=>rf(await $o(r),s)),()=>{l.su(),r.asyncQueue.enqueueAndForget(async()=>af(await $o(r),s))}}(Fh(h),x,E,t)}function Cf(g,e){return function(C,R){const I=new us;return C.asyncQueue.enqueueAndForget(async()=>GA(await JA(C),R,I)),I.promise}(Fh(g),e)}function m0(g,e,p){const C=p.docs.get(e._key),R=new Ef(g);return new v0(g,R,e._key,C,new Gr(p.hasPendingWrites,p.fromCache),e.converter)}(function(e,p=!0){(function(R){cr=R})(dr),er(new Sn("firestore",(C,{instanceIdentifier:R,options:I})=>{const c=C.getProvider("app").getImmediate(),E=new Qs(new l2(C.getProvider("auth-internal")),new d2(c,C.getProvider("app-check-internal")),function(h,x){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Rt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(h.options.projectId,x)}(c,R),c);return I=Object.assign({useFetchStreams:p},I),E._setSettings(I),E},"PUBLIC").setMultipleInstances(!0)),Bs(Nc,Bc,e),Bs(Nc,Bc,"esm2017")})();class Oe{static handleDefaultValue(e,p,C){if(e!==void 0)return e;throw new Error(`Could not load data, expected ${p} to be of type ${C}`)}static handleData(e,p,C){return!e||typeof e!="object"?this.handleDefaultValue(void 0,p,C):e[p]}static loadString(e,p,C){const R=this.handleData(e,p,"string");return typeof R=="string"?R:this.handleDefaultValue(C,p,"string")}static loadStringOrNull(e,p,C){const R=this.handleData(e,p,"string");return typeof R=="string"?R:this.handleDefaultValue(C,p,"string")}static loadBoolean(e,p,C){const R=this.handleData(e,p,"boolean");return typeof R=="boolean"?R:this.handleDefaultValue(C,p,"boolean")}static loadBooleanOrNull(e,p,C){const R=this.handleData(e,p,"boolean");return typeof R=="boolean"?R:this.handleDefaultValue(C,p,"boolean")}static loadNumber(e,p,C){const R=this.handleData(e,p,"number");return typeof R=="number"?R:this.handleDefaultValue(C,p,"number")}static loadNumberOrNull(e,p,C){const R=this.handleData(e,p,"number");return typeof R=="number"?R:this.handleDefaultValue(C,p,"number")}static loadEnum(e,p,C,R){const I=this.handleData(e,p,"string");return R.includes(I)?I:this.handleDefaultValue(C,p,"enum")}static loadEnumOrNull(e,p,C,R){const I=this.handleData(e,p,"string");return R.includes(I)||I===null?I:this.handleDefaultValue(C,p,"enum")}static loadArray(e,p,C){const R=this.handleData(e,p,"array");return Array.isArray(R)?R:this.handleDefaultValue(C,p,"array")}static loadArrayOrNull(e,p,C){const R=this.handleData(e,p,"array");return Array.isArray(R)||R===null?R:this.handleDefaultValue(C,p,"array")}static loadObject(e,p,C){const R=this.handleData(e,p,"object");return typeof R=="object"&&R!==null?R:this.handleDefaultValue(C,p,"object")}static loadObjectOrNull(e,p,C){const R=this.handleData(e,p,"object");return typeof R=="object"?R:this.handleDefaultValue(C,p,"object")}static loadDate(e,p,C){const R=this.handleData(e,p,"date");return R instanceof Date?R:typeof R=="object"&&R!==null&&"seconds"in R&&typeof R.seconds=="number"?new Date(R.seconds*1e3):this.handleDefaultValue(C,p,"date")}static loadDateOrNull(e,p,C){const R=this.handleData(e,p,"date");return R instanceof Date||R===null?R:typeof R=="object"&&R!==null&&"seconds"in R&&typeof R.seconds=="number"?new Date(R.seconds*1e3):this.handleDefaultValue(C,p,"date")}}const _o=class _o{constructor(e){vt(this,"id","");vt(this,"score",0);vt(this,"createdAt",new Date);vt(this,"userId","");vt(this,"version","0.2.3");vt(this,"gameMode",Xl.Normal);vt(this,"hasDebugged",!1);e&&(this.id=Oe.loadString(e,"id",this.id),this.score=Oe.loadNumber(e,"score",this.score),this.userId=Oe.loadString(e,"userId",this.userId),this.version=Oe.loadString(e,"version",this.version),this.gameMode=Oe.loadEnum(e,"gameMode",this.gameMode,Object.values(Xl)),this.hasDebugged=Oe.loadBoolean(e,"hasDebugged",this.hasDebugged))}getRawData(){return{score:this.score,createdAt:this.createdAt,userId:this.userId,version:this.version,gameMode:this.gameMode,hasDebugged:this.hasDebugged}}};vt(_o,"Converter",{toFirestore:e=>e.getRawData(),fromFirestore:e=>{const p=e.data();return new _o({...p,id:e.id})}});let kr=_o;const Af=Mn("hiscores",()=>{const g=Bt([]),e=Bt(!1),p=c=>{g.value=Array.isArray(c)?c:[c]};return{hiscores:g,hasDebugged:e,addNewHiscore:async(c,E)=>{const t=new kr({userId:c,score:Math.floor(E),hasDebugged:e.value});if(t.score>=wt.hiscores.threshold){const h=await je.addDocument(Ds.Hiscores,t,kr.Converter);t.id=h}return e.value=!1,t},subscribeHiscores:async()=>{const c=je.getCollectionRef(Ds.Hiscores),E=fP("hasDebugged","==",!1);je.subscribe({key:"hiscores",queryRef:f0(c,E).withConverter(kr.Converter),callback:p,error:t=>{console.error("Error in subscription to hiscores.",t)}})},unsubscribeHiscores:async()=>{je.unsubscribe("hiscores")}}}),Pf=Mn("interface",()=>{const{isPlaying:g}=We(ci()),e=Bt(!1),p=Bt(!1),C=Bt(!1);return{isGameMenuVisible:C,isHiscoresVisible:e,isSettingsVisible:p,toggleGameMenu:()=>{g.value||(C.value=!C.value)},toggleHiscores:()=>e.value=!e.value,toggleSettings:()=>p.value=!p.value}}),$i=new fr.Events.EventEmitter;var Mi=(g=>(g.PreloadComplete="preloadComplete",g.CurrentSceneReady="currentSceneReady",g.SetVolume="setVolume",g.SetMusicVolume="setMusicVolume",g.SetSfxVolume="setSfxVolume",g.TogglePaused="togglePaused",g))(Mi||{});const Rf=Mn("settings",()=>{const g=Bt(!1),e=Bt(1),p=Bt(1),C=Bt(1),R=Ft({get(){return e.value},set(t){e.value=t,localStorage.setItem("settings",JSON.stringify({currentVolume:t})),$i.emit(Mi.SetVolume,t)}});return{currentVolume:R,isFullscreen:g,musicVolume:p,sfxVolume:C,setVolume:t=>{R.value=t},setMusicVolume:t=>{p.value=t,$i.emit(Mi.SetMusicVolume,t)},setSfxVolume:t=>{C.value=t,$i.emit(Mi.SetSfxVolume,t)}}}),th=class th{constructor(e){vt(this,"id","");vt(this,"displayName",null);vt(this,"firstName",null);vt(this,"lastName",null);vt(this,"email",null);vt(this,"country",null);vt(this,"createdAt",new Date);vt(this,"updatedAt",new Date);vt(this,"lastLoginAt",new Date);vt(this,"photoUrl",null);vt(this,"phoneNumber",null);vt(this,"isSuperUser",!1);e&&(this.id=Oe.loadString(e,"id"),this.displayName=Oe.loadStringOrNull(e,"displayName",null),this.firstName=Oe.loadStringOrNull(e,"firstName",null),this.lastName=Oe.loadStringOrNull(e,"lastName",null),this.email=Oe.loadStringOrNull(e,"email",null),this.country=Oe.loadStringOrNull(e,"country",null),this.photoUrl=Oe.loadStringOrNull(e,"photoUrl",null),this.phoneNumber=Oe.loadStringOrNull(e,"phoneNumber",null),this.isSuperUser=Oe.loadBoolean(e,"isSuperUser",!1),this.createdAt=Oe.loadDate(e,"createdAt",this.createdAt),this.updatedAt=Oe.loadDate(e,"updatedAt",this.updatedAt),this.lastLoginAt=Oe.loadDate(e,"lastLoginAt",this.lastLoginAt))}get fullName(){return this.displayName?this.displayName:`${this.firstName} ${this.lastName}`}get initials(){var e,p;return this.displayName?this.displayName.split(" ").map(C=>C[0]).join(""):`${(e=this.firstName)==null?void 0:e.charAt(0)}${(p=this.lastName)==null?void 0:p.charAt(0)}`}getRawData(){return{displayName:this.displayName,firstName:this.firstName,lastName:this.lastName,email:this.email,country:this.country,createdAt:Ee.fromDate(this.createdAt),updatedAt:Ee.fromDate(this.updatedAt),lastLoginAt:Ee.fromDate(this.lastLoginAt),photoUrl:this.photoUrl,phoneNumber:this.phoneNumber,isSuperUser:this.isSuperUser}}};vt(th,"Converter",{toFirestore:e=>e.getRawData(),fromFirestore:e=>{const p=e.data();return new th({...p,id:e.id})}});let Gs=th;function wf(g,e){var p={};for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&e.indexOf(C)<0&&(p[C]=g[C]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,C=Object.getOwnPropertySymbols(g);R<C.length;R++)e.indexOf(C[R])<0&&Object.prototype.propertyIsEnumerable.call(g,C[R])&&(p[C[R]]=g[C[R]]);return p}function g0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gP=g0,x0=new Ta("auth","Firebase",g0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Bu("@firebase/auth");function xP(g,...e){jo.logLevel<=Ht.WARN&&jo.warn(`Auth (${dr}): ${g}`,...e)}function yo(g,...e){jo.logLevel<=Ht.ERROR&&jo.error(`Auth (${dr}): ${g}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(g,...e){throw If(g,...e)}function Ii(g,...e){return If(g,...e)}function Mf(g,e,p){const C=Object.assign(Object.assign({},gP()),{[e]:p});return new Ta("auth","Firebase",C).create(e,{appName:g.name})}function gn(g){return Mf(g,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yP(g,e,p){const C=p;if(!(e instanceof C))throw C.name!==e.constructor.name&&Ji(g,"argument-error"),Mf(g,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function If(g,...e){if(typeof g!="string"){const p=e[0],C=[...e.slice(1)];return C[0]&&(C[0].appName=g.name),g._errorFactory.create(p,...C)}return x0.create(g,...e)}function bt(g,e,...p){if(!g)throw If(e,...p)}function as(g){const e="INTERNAL ASSERTION FAILED: "+g;throw yo(e),new Error(e)}function vs(g,e){g||as(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(){var g;return typeof self<"u"&&((g=self.location)===null||g===void 0?void 0:g.href)||""}function TP(){return Bv()==="http:"||Bv()==="https:"}function Bv(){var g;return typeof self<"u"&&((g=self.location)===null||g===void 0?void 0:g.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TP()||US()||"connection"in navigator)?navigator.onLine:!0}function EP(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,p){this.shortDelay=e,this.longDelay=p,vs(p>e,"Short delay should be less than long delay!"),this.isMobile=bS()||zS()}get(){return SP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(g,e){vs(g.emulator,"Emulator should always be set here");const{url:p}=g.emulator;return e?`${p}${e.startsWith("/")?e.slice(1):e}`:p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static initialize(e,p,C){this.fetchImpl=e,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Ma(3e4,6e4);function Ff(g,e){return g.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:g.tenantId}):e}async function gr(g,e,p,C,R={}){return T0(g,R,async()=>{let I={},c={};C&&(e==="GET"?c=C:I={body:JSON.stringify(C)});const E=Sa(Object.assign({key:g.config.apiKey},c)).slice(1),t=await g._getAdditionalHeaders();t["Content-Type"]="application/json",g.languageCode&&(t["X-Firebase-Locale"]=g.languageCode);const h=Object.assign({method:e,headers:t},I);return GS()||(h.referrerPolicy="no-referrer"),y0.fetch()(S0(g,g.config.apiHost,p,E),h)})}async function T0(g,e,p){g._canInitEmulator=!1;const C=Object.assign(Object.assign({},CP),e);try{const R=new RP(g),I=await Promise.race([p(),R.promise]);R.clearNetworkTimeout();const c=await I.json();if("needConfirmation"in c)throw so(g,"account-exists-with-different-credential",c);if(I.ok&&!("errorMessage"in c))return c;{const E=I.ok?c.errorMessage:c.error.message,[t,h]=E.split(" : ");if(t==="FEDERATED_USER_ID_ALREADY_LINKED")throw so(g,"credential-already-in-use",c);if(t==="EMAIL_EXISTS")throw so(g,"email-already-in-use",c);if(t==="USER_DISABLED")throw so(g,"user-disabled",c);const x=C[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Mf(g,x,h);Ji(g,x)}}catch(R){if(R instanceof xs)throw R;Ji(g,"network-request-failed",{message:String(R)})}}async function PP(g,e,p,C,R={}){const I=await gr(g,e,p,C,R);return"mfaPendingCredential"in I&&Ji(g,"multi-factor-auth-required",{_serverResponse:I}),I}function S0(g,e,p,C){const R=`${e}${p}?${C}`;return g.config.emulator?Lf(g.config,R):`${g.config.apiScheme}://${R}`}class RP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Ii(this.auth,"network-request-failed")),AP.get())})}}function so(g,e,p){const C={appName:g.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const R=Ii(g,e,C);return R.customData._tokenResponse=p,R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(g,e){return gr(g,"POST","/v1/accounts:delete",e)}async function E0(g,e){return gr(g,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(g){if(g)try{const e=new Date(Number(g));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MP(g,e=!1){const p=Ve(g),C=await p.getIdToken(e),R=Df(C);bt(R&&R.exp&&R.auth_time&&R.iat,p.auth,"internal-error");const I=typeof R.firebase=="object"?R.firebase:void 0,c=I==null?void 0:I.sign_in_provider;return{claims:R,token:C,authTime:qr(Al(R.auth_time)),issuedAtTime:qr(Al(R.iat)),expirationTime:qr(Al(R.exp)),signInProvider:c||null,signInSecondFactor:(I==null?void 0:I.sign_in_second_factor)||null}}function Al(g){return Number(g)*1e3}function Df(g){const[e,p,C]=g.split(".");if(e===void 0||p===void 0||C===void 0)return yo("JWT malformed, contained fewer than 3 sections"),null;try{const R=Dm(p);return R?JSON.parse(R):(yo("Failed to decode base64 JWT payload"),null)}catch(R){return yo("Caught error parsing JWT payload as JSON",R==null?void 0:R.toString()),null}}function bv(g){const e=Df(g);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(g,e,p=!1){if(p)return e;try{return await e}catch(C){throw C instanceof xs&&IP(C)&&g.auth.currentUser===g&&await g.auth.signOut(),C}}function IP({code:g}){return g==="auth/user-disabled"||g==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var p;if(e){const C=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),C}else{this.errorBackoff=3e4;const R=((p=this.user.stsTokenManager.expirationTime)!==null&&p!==void 0?p:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(e=!1){if(!this.isRunning)return;const p=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},p)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,p){this.createdAt=e,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=qr(this.lastLoginAt),this.creationTime=qr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(g){var e;const p=g.auth,C=await g.getIdToken(),R=await pa(g,E0(p,{idToken:C}));bt(R==null?void 0:R.users.length,p,"internal-error");const I=R.users[0];g._notifyReloadListener(I);const c=!((e=I.providerUserInfo)===null||e===void 0)&&e.length?C0(I.providerUserInfo):[],E=DP(g.providerData,c),t=g.isAnonymous,h=!(g.email&&I.passwordHash)&&!(E!=null&&E.length),x=t?h:!1,o={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:E,metadata:new fu(I.createdAt,I.lastLoginAt),isAnonymous:x};Object.assign(g,o)}async function FP(g){const e=Ve(g);await Jo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DP(g,e){return[...g.filter(C=>!e.some(R=>R.providerId===C.providerId)),...e]}function C0(g){return g.map(e=>{var{providerId:p}=e,C=wf(e,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(g,e){const p=await T0(g,{},async()=>{const C=Sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:R,apiKey:I}=g.config,c=S0(g,R,"/v1/token",`key=${I}`),E=await g._getAdditionalHeaders();return E["Content-Type"]="application/x-www-form-urlencoded",y0.fetch()(c,{method:"POST",headers:E,body:C})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}}async function NP(g,e){return gr(g,"POST","/v2/accounts:revokeToken",Ff(g,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const p="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,p)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const p=bv(e);this.updateTokensAndExpiration(e,null,p)}async getToken(e,p=!1){return!p&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,p){const{accessToken:C,refreshToken:R,expiresIn:I}=await OP(e,p);this.updateTokensAndExpiration(C,R,Number(I))}updateTokensAndExpiration(e,p,C){this.refreshToken=p||null,this.accessToken=e||null,this.expirationTime=Date.now()+C*1e3}static fromJSON(e,p){const{refreshToken:C,accessToken:R,expirationTime:I}=p,c=new Zn;return C&&(bt(typeof C=="string","internal-error",{appName:e}),c.refreshToken=C),R&&(bt(typeof R=="string","internal-error",{appName:e}),c.accessToken=R),I&&(bt(typeof I=="number","internal-error",{appName:e}),c.expirationTime=I),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zn,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(g,e){bt(typeof g=="string"||typeof g>"u","internal-error",{appName:e})}class os{constructor(e){var{uid:p,auth:C,stsTokenManager:R}=e,I=wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new fu(I.createdAt||void 0,I.lastLoginAt||void 0)}async getIdToken(e){const p=await pa(this,this.stsTokenManager.getToken(this.auth,e));return bt(p,this.auth,"internal-error"),this.accessToken!==p&&(this.accessToken=p,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),p}getIdTokenResult(e){return MP(this,e)}reload(){return FP(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(p=>Object.assign({},p)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const p=new os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,p=!1){let C=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),C=!0),p&&await Jo(this),await this.auth._persistUserIfCurrent(this),C&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(gn(this.auth));const e=await this.getIdToken();return await pa(this,wP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,p){var C,R,I,c,E,t,h,x;const o=(C=p.displayName)!==null&&C!==void 0?C:void 0,r=(R=p.email)!==null&&R!==void 0?R:void 0,a=(I=p.phoneNumber)!==null&&I!==void 0?I:void 0,i=(c=p.photoURL)!==null&&c!==void 0?c:void 0,n=(E=p.tenantId)!==null&&E!==void 0?E:void 0,l=(t=p._redirectEventId)!==null&&t!==void 0?t:void 0,s=(h=p.createdAt)!==null&&h!==void 0?h:void 0,u=(x=p.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:f,emailVerified:d,isAnonymous:v,providerData:m,stsTokenManager:y}=p;bt(f&&y,e,"internal-error");const T=Zn.fromJSON(this.name,y);bt(typeof f=="string",e,"internal-error"),Cs(o,e.name),Cs(r,e.name),bt(typeof d=="boolean",e,"internal-error"),bt(typeof v=="boolean",e,"internal-error"),Cs(a,e.name),Cs(i,e.name),Cs(n,e.name),Cs(l,e.name),Cs(s,e.name),Cs(u,e.name);const S=new os({uid:f,auth:e,email:r,emailVerified:d,displayName:o,isAnonymous:v,photoURL:i,phoneNumber:a,tenantId:n,stsTokenManager:T,createdAt:s,lastLoginAt:u});return m&&Array.isArray(m)&&(S.providerData=m.map(A=>Object.assign({},A))),l&&(S._redirectEventId=l),S}static async _fromIdTokenResponse(e,p,C=!1){const R=new Zn;R.updateFromServerResponse(p);const I=new os({uid:p.localId,auth:e,stsTokenManager:R,isAnonymous:C});return await Jo(I),I}static async _fromGetAccountInfoResponse(e,p,C){const R=p.users[0];bt(R.localId!==void 0,"internal-error");const I=R.providerUserInfo!==void 0?C0(R.providerUserInfo):[],c=!(R.email&&R.passwordHash)&&!(I!=null&&I.length),E=new Zn;E.updateFromIdToken(C);const t=new os({uid:R.localId,auth:e,stsTokenManager:E,isAnonymous:c}),h={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:I,metadata:new fu(R.createdAt,R.lastLoginAt),isAnonymous:!(R.email&&R.passwordHash)&&!(I!=null&&I.length)};return Object.assign(t,h),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function hs(g){vs(g instanceof Function,"Expected a class definition");let e=Vv.get(g);return e?(vs(e instanceof g,"Instance stored in cache mismatched with class"),e):(e=new g,Vv.set(g,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,p){this.storage[e]=p}async _get(e){const p=this.storage[e];return p===void 0?null:p}async _remove(e){delete this.storage[e]}_addListener(e,p){}_removeListener(e,p){}}A0.type="NONE";const Gv=A0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(g,e,p){return`firebase:${g}:${e}:${p}`}class kn{constructor(e,p,C){this.persistence=e,this.auth=p,this.userKey=C;const{config:R,name:I}=this.auth;this.fullUserKey=To(this.userKey,R.apiKey,I),this.fullPersistenceKey=To("persistence",R.apiKey,I),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const p=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,p)return this.setCurrentUser(p)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,p,C="authUser"){if(!p.length)return new kn(hs(Gv),e,C);const R=(await Promise.all(p.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let I=R[0]||hs(Gv);const c=To(C,e.config.apiKey,e.name);let E=null;for(const h of p)try{const x=await h._get(c);if(x){const o=os._fromJSON(e,x);h!==I&&(E=o),I=h;break}}catch{}const t=R.filter(h=>h._shouldAllowMigration);return!I._shouldAllowMigration||!t.length?new kn(I,e,C):(I=t[0],E&&await I._set(c,E.toJSON()),await Promise.all(p.map(async h=>{if(h!==I)try{await h._remove(c)}catch{}})),new kn(I,e,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(g){const e=g.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L0(e))return"Blackberry";if(F0(e))return"Webos";if(R0(e))return"Safari";if((e.includes("chrome/")||w0(e))&&!e.includes("edge/"))return"Chrome";if(I0(e))return"Android";{const p=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,C=g.match(p);if((C==null?void 0:C.length)===2)return C[1]}return"Other"}function P0(g=ti()){return/firefox\//i.test(g)}function R0(g=ti()){const e=g.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w0(g=ti()){return/crios\//i.test(g)}function M0(g=ti()){return/iemobile/i.test(g)}function I0(g=ti()){return/android/i.test(g)}function L0(g=ti()){return/blackberry/i.test(g)}function F0(g=ti()){return/webos/i.test(g)}function Of(g=ti()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function BP(g=ti()){var e;return Of(g)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bP(){return XS()&&document.documentMode===10}function D0(g=ti()){return Of(g)||I0(g)||F0(g)||L0(g)||/windows phone/i.test(g)||M0(g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(g,e=[]){let p;switch(g){case"Browser":p=Uv(ti());break;case"Worker":p=`${Uv(ti())}-${g}`;break;default:p=g}const C=e.length?e.join(","):"FirebaseCore-web";return`${p}/JsCore/${dr}/${C}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,p){const C=I=>new Promise((c,E)=>{try{const t=e(I);c(t)}catch(t){E(t)}});C.onAbort=p,this.queue.push(C);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const p=[];try{for(const C of this.queue)await C(e),C.onAbort&&p.push(C.onAbort)}catch(C){p.reverse();for(const R of p)try{R()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:C==null?void 0:C.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(g,e={}){return gr(g,"GET","/v2/passwordPolicy",Ff(g,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=6;class zP{constructor(e){var p,C,R,I;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(p=c.minPasswordLength)!==null&&p!==void 0?p:UP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(R=(C=e.allowedNonAlphanumericCharacters)===null||C===void 0?void 0:C.join(""))!==null&&R!==void 0?R:"",this.forceUpgradeOnSignin=(I=e.forceUpgradeOnSignin)!==null&&I!==void 0?I:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var p,C,R,I,c,E;const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=(p=t.meetsMinPasswordLength)!==null&&p!==void 0?p:!0),t.isValid&&(t.isValid=(C=t.meetsMaxPasswordLength)!==null&&C!==void 0?C:!0),t.isValid&&(t.isValid=(R=t.containsLowercaseLetter)!==null&&R!==void 0?R:!0),t.isValid&&(t.isValid=(I=t.containsUppercaseLetter)!==null&&I!==void 0?I:!0),t.isValid&&(t.isValid=(c=t.containsNumericCharacter)!==null&&c!==void 0?c:!0),t.isValid&&(t.isValid=(E=t.containsNonAlphanumericCharacter)!==null&&E!==void 0?E:!0),t}validatePasswordLengthOptions(e,p){const C=this.customStrengthOptions.minPasswordLength,R=this.customStrengthOptions.maxPasswordLength;C&&(p.meetsMinPasswordLength=e.length>=C),R&&(p.meetsMaxPasswordLength=e.length<=R)}validatePasswordCharacterOptions(e,p){this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);let C;for(let R=0;R<e.length;R++)C=e.charAt(R),this.updatePasswordCharacterOptionsStatuses(p,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(e,p,C,R,I){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=R)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,p,C,R){this.app=e,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new VP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(e,p){return p&&(this._popupRedirectResolver=hs(p)),this._initializationPromise=this.queue(async()=>{var C,R;if(!this._deleted&&(this.persistenceManager=await kn.create(this,e),!this._deleted)){if(!((C=this._popupRedirectResolver)===null||C===void 0)&&C._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(p),this.lastNotifiedUid=((R=this.currentUser)===null||R===void 0?void 0:R.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const p=await E0(this,{idToken:e}),C=await os._fromGetAccountInfoResponse(this,p,e);await this.directlySetCurrentUser(C)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var p;if(Ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(E=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(E,E))}):this.directlySetCurrentUser(null)}const C=await this.assertedPersistence.getCurrentUser();let R=C,I=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(p=this.redirectUser)===null||p===void 0?void 0:p._redirectEventId,E=R==null?void 0:R._redirectEventId,t=await this.tryRedirectSignIn(e);(!c||c===E)&&(t!=null&&t.user)&&(R=t.user,I=!0)}if(!R)return this.directlySetCurrentUser(null);if(!R._redirectEventId){if(I)try{await this.beforeStateQueue.runMiddleware(R)}catch(c){R=C,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return R?this.reloadAndSetCurrentUserOrClear(R):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===R._redirectEventId?this.directlySetCurrentUser(R):this.reloadAndSetCurrentUserOrClear(R)}async tryRedirectSignIn(e){let p=null;try{p=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return p}async reloadAndSetCurrentUserOrClear(e){try{await Jo(e)}catch(p){if((p==null?void 0:p.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(gn(this));const p=e?Ve(e):null;return p&&bt(p.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(p&&p._clone(this))}async _updateCurrentUser(e,p=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),p||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const p=this._getPasswordPolicyInternal();return p.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GP(this),p=new zP(e);this.tenantId===null?this._projectPasswordPolicy=p:this._tenantPasswordPolicies[this.tenantId]=p}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ta("auth","Firebase",e())}onAuthStateChanged(e,p,C){return this.registerStateListener(this.authStateSubscription,e,p,C)}beforeAuthStateChanged(e,p){return this.beforeStateQueue.pushCallback(e,p)}onIdTokenChanged(e,p,C){return this.registerStateListener(this.idTokenSubscription,e,p,C)}authStateReady(){return new Promise((e,p)=>{if(this.currentUser)e();else{const C=this.onAuthStateChanged(()=>{C(),e()},p)}})}async revokeAccessToken(e){if(this.currentUser){const p=await this.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:p};this.tenantId!=null&&(C.tenantId=this.tenantId),await NP(this,C)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,p){const C=await this.getOrInitRedirectPersistenceManager(p);return e===null?C.removeCurrentUser():C.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const p=e&&hs(e)||this._popupRedirectResolver;bt(p,this,"argument-error"),this.redirectPersistenceManager=await kn.create(this,[hs(p._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var p,C;return this._isInitialized&&await this.queue(async()=>{}),((p=this._currentUser)===null||p===void 0?void 0:p._redirectEventId)===e?this._currentUser:((C=this.redirectUser)===null||C===void 0?void 0:C._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=(p=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&p!==void 0?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,p,C,R){if(this._deleted)return()=>{};const I=typeof p=="function"?p:p.next.bind(p);let c=!1;const E=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(E,this,"internal-error"),E.then(()=>{c||I(this.currentUser)}),typeof p=="function"){const t=e.addObserver(p,C,R);return()=>{c=!0,t()}}else{const t=e.addObserver(p);return()=>{c=!0,t()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const p={"X-Client-Version":this.clientVersion};this.app.options.appId&&(p["X-Firebase-gmpid"]=this.app.options.appId);const C=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());C&&(p["X-Firebase-Client"]=C);const R=await this._getAppCheckToken();return R&&(p["X-Firebase-AppCheck"]=R),p}async _getAppCheckToken(){var e;if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const p=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return p!=null&&p.error&&xP(`Error while retrieving App Check token: ${p.error}`),p==null?void 0:p.token}}function bh(g){return Ve(g)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=JS(p=>this.observer=p)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WP(g){Nf=g}function YP(g){return Nf.loadJS(g)}function HP(){return Nf.gapiScript}function KP(g){return`__${g}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(g,e){const p=Vu(g,"auth");if(p.isInitialized()){const R=p.getImmediate(),I=p.getOptions();if(Tn(I,e??{}))return R;Ji(R,"already-initialized")}return p.initialize({options:e})}function QP(g,e){const p=(e==null?void 0:e.persistence)||[],C=(Array.isArray(p)?p:[p]).map(hs);e!=null&&e.errorMap&&g._updateErrorMap(e.errorMap),g._initializeWithPersistence(C,e==null?void 0:e.popupRedirectResolver)}function jP(g,e,p){const C=bh(g);bt(/^https?:\/\//.test(e),C,"invalid-emulator-scheme");const R=!1,I=N0(e),{host:c,port:E}=JP(e),t=E===null?"":`:${E}`,h={url:`${I}//${c}${t}/`},x=Object.freeze({host:c,port:E,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:R})});if(!C._canInitEmulator){bt(C.config.emulator&&C.emulatorConfig,C,"emulator-config-failed"),bt(Tn(h,C.config.emulator)&&Tn(x,C.emulatorConfig),C,"emulator-config-failed");return}C.config.emulator=h,C.emulatorConfig=x,C.settings.appVerificationDisabledForTesting=!0,ZP()}function N0(g){const e=g.indexOf(":");return e<0?"":g.substr(0,e+1)}function JP(g){const e=N0(g),p=/(\/\/)?([^?#/]+)/.exec(g.substr(e.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(C);if(R){const I=R[1];return{host:I,port:Xv(C.substr(I.length+1))}}else{const[I,c]=C.split(":");return{host:I,port:Xv(c)}}}function Xv(g){if(!g)return null;const e=Number(g);return isNaN(e)?null:e}function ZP(){function g(){const e=document.createElement("p"),p=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,p){this.providerId=e,this.signInMethod=p}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,p){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qn(g,e){return PP(g,"POST","/v1/accounts:signInWithIdp",Ff(g,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="http://localhost";class An extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const p=new An(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(p.idToken=e.idToken),e.accessToken&&(p.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(p.nonce=e.nonce),e.pendingToken&&(p.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(p.accessToken=e.oauthToken,p.secret=e.oauthTokenSecret):Ji("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const p=typeof e=="string"?JSON.parse(e):e,{providerId:C,signInMethod:R}=p,I=wf(p,["providerId","signInMethod"]);if(!C||!R)return null;const c=new An(C,R);return c.idToken=I.idToken||void 0,c.accessToken=I.accessToken||void 0,c.secret=I.secret,c.nonce=I.nonce,c.pendingToken=I.pendingToken||null,c}_getIdTokenResponse(e){const p=this.buildRequest();return qn(e,p)}_linkToIdToken(e,p){const C=this.buildRequest();return C.idToken=p,qn(e,C)}_getReauthenticationResolver(e){const p=this.buildRequest();return p.autoCreate=!1,qn(e,p)}buildRequest(){const e={requestUri:kP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),e.postBody=Sa(p)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Bf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Ia{constructor(){super("facebook.com")}static credential(e){return An._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Ia{constructor(){super("google.com"),this.addScope("profile")}static credential(e,p){return An._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:p})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:p,oauthAccessToken:C}=e;if(!p&&!C)return null;try{return rs.credential(p,C)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Ia{constructor(){super("github.com")}static credential(e){return An._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Ia{constructor(){super("twitter.com")}static credential(e,p){return An._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:p})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:p,oauthTokenSecret:C}=e;if(!p||!C)return null;try{return Ls.credential(p,C)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,p,C,R=!1){const I=await os._fromIdTokenResponse(e,C,R),c=Wv(C);return new hr({user:I,providerId:c,_tokenResponse:C,operationType:p})}static async _forOperation(e,p,C){await e._updateTokensIfNecessary(C,!0);const R=Wv(C);return new hr({user:e,providerId:R,_tokenResponse:C,operationType:p})}}function Wv(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends xs{constructor(e,p,C,R){var I;super(p.code,p.message),this.operationType=C,this.user=R,Object.setPrototypeOf(this,Zo.prototype),this.customData={appName:e.name,tenantId:(I=e.tenantId)!==null&&I!==void 0?I:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(e,p,C,R){return new Zo(e,p,C,R)}}function b0(g,e,p,C){return(e==="reauthenticate"?p._getReauthenticationResolver(g):p._getIdTokenResponse(g)).catch(I=>{throw I.code==="auth/multi-factor-auth-required"?Zo._fromErrorAndOperation(g,I,e,C):I})}async function qP(g,e,p=!1){const C=await pa(g,e._linkToIdToken(g.auth,await g.getIdToken()),p);return hr._forOperation(g,"link",C)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(g,e,p=!1){const{auth:C}=g;if(Ai(C.app))return Promise.reject(gn(C));const R="reauthenticate";try{const I=await pa(g,b0(C,R,e,g),p);bt(I.idToken,C,"internal-error");const c=Df(I.idToken);bt(c,C,"internal-error");const{sub:E}=c;return bt(g.uid===E,C,"user-mismatch"),hr._forOperation(g,R,I)}catch(I){throw(I==null?void 0:I.code)==="auth/user-not-found"&&Ji(C,"user-mismatch"),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(g,e,p=!1){if(Ai(g.app))return Promise.reject(gn(g));const C="signIn",R=await b0(g,C,e),I=await hr._fromIdTokenResponse(g,C,R);return p||await g._updateCurrentUser(I.user),I}function eR(g,e,p,C){return Ve(g).onIdTokenChanged(e,p,C)}function iR(g,e,p){return Ve(g).beforeAuthStateChanged(e,p)}function sR(g,e,p,C){return Ve(g).onAuthStateChanged(e,p,C)}function nR(g){return Ve(g).signOut()}const ko="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,p){this.storageRetriever=e,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,p){return this.storage.setItem(e,JSON.stringify(p)),Promise.resolve()}_get(e){const p=this.storage.getItem(e);return Promise.resolve(p?JSON.parse(p):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=1e3,aR=10;class G0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,p)=>this.onStorageEvent(e,p),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const p of Object.keys(this.listeners)){const C=this.storage.getItem(p),R=this.localCache[p];C!==R&&e(p,R,C)}}onStorageEvent(e,p=!1){if(!e.key){this.forAllChangedKeys((c,E,t)=>{this.notifyListeners(c,t)});return}const C=e.key;p?this.detachListener():this.stopPolling();const R=()=>{const c=this.storage.getItem(C);!p&&this.localCache[C]===c||this.notifyListeners(C,c)},I=this.storage.getItem(C);bP()&&I!==e.newValue&&e.newValue!==e.oldValue?setTimeout(R,aR):R()}notifyListeners(e,p){this.localCache[e]=p;const C=this.listeners[e];if(C)for(const R of Array.from(C))R(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,p,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:p,newValue:C}),!0)})},rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,p){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(p)}_removeListener(e,p){this.listeners[e]&&(this.listeners[e].delete(p),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,p){await super._set(e,p),this.localCache[e]=JSON.stringify(p)}async _get(e){const p=await super._get(e);return this.localCache[e]=JSON.stringify(p),p}async _remove(e){await super._remove(e),delete this.localCache[e]}}G0.type="LOCAL";const oR=G0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,p){}_removeListener(e,p){}}U0.type="SESSION";const z0=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(g){return Promise.all(g.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(p){return{fulfilled:!1,reason:p}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const p=this.receivers.find(R=>R.isListeningto(e));if(p)return p;const C=new Vh(e);return this.receivers.push(C),C}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const p=e,{eventId:C,eventType:R,data:I}=p.data,c=this.handlersMap[R];if(!(c!=null&&c.size))return;p.ports[0].postMessage({status:"ack",eventId:C,eventType:R});const E=Array.from(c).map(async h=>h(p.origin,I)),t=await hR(E);p.ports[0].postMessage({status:"done",eventId:C,eventType:R,response:t})}_subscribe(e,p){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(p)}_unsubscribe(e,p){this.handlersMap[e]&&p&&this.handlersMap[e].delete(p),(!p||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(g="",e=10){let p="";for(let C=0;C<e;C++)p+=Math.floor(Math.random()*10);return g+p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,p,C=50){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let I,c;return new Promise((E,t)=>{const h=bf("",20);R.port1.start();const x=setTimeout(()=>{t(new Error("unsupported_event"))},C);c={messageChannel:R,onMessage(o){const r=o;if(r.data.eventId===h)switch(r.data.status){case"ack":clearTimeout(x),I=setTimeout(()=>{t(new Error("timeout"))},3e3);break;case"done":clearTimeout(I),E(r.data.response);break;default:clearTimeout(x),clearTimeout(I),t(new Error("invalid_response"));break}}},this.handlers.add(c),R.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:p},[R.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function uR(g){Qi().location.href=g}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function fR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dR(){var g;return((g=navigator==null?void 0:navigator.serviceWorker)===null||g===void 0?void 0:g.controller)||null}function cR(){return X0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firebaseLocalStorageDb",vR=1,qo="firebaseLocalStorage",Y0="fbase_key";class La{constructor(e){this.request=e}toPromise(){return new Promise((e,p)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Gh(g,e){return g.transaction([qo],e?"readwrite":"readonly").objectStore(qo)}function pR(){const g=indexedDB.deleteDatabase(W0);return new La(g).toPromise()}function du(){const g=indexedDB.open(W0,vR);return new Promise((e,p)=>{g.addEventListener("error",()=>{p(g.error)}),g.addEventListener("upgradeneeded",()=>{const C=g.result;try{C.createObjectStore(qo,{keyPath:Y0})}catch(R){p(R)}}),g.addEventListener("success",async()=>{const C=g.result;C.objectStoreNames.contains(qo)?e(C):(C.close(),await pR(),e(await du()))})})}async function Yv(g,e,p){const C=Gh(g,!0).put({[Y0]:e,value:p});return new La(C).toPromise()}async function mR(g,e){const p=Gh(g,!1).get(e),C=await new La(p).toPromise();return C===void 0?null:C.value}function Hv(g,e){const p=Gh(g,!0).delete(e);return new La(p).toPromise()}const gR=800,xR=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await du(),this.db)}async _withRetries(e){let p=0;for(;;)try{const C=await this._openDb();return await e(C)}catch(C){if(p++>xR)throw C;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(cR()),this.receiver._subscribe("keyChanged",async(e,p)=>({keyProcessed:(await this._poll()).includes(p.key)})),this.receiver._subscribe("ping",async(e,p)=>["keyChanged"])}async initializeSender(){var e,p;if(this.activeServiceWorker=await fR(),!this.activeServiceWorker)return;this.sender=new lR(this.activeServiceWorker);const C=await this.sender._send("ping",{},800);C&&!((e=C[0])===null||e===void 0)&&e.fulfilled&&!((p=C[0])===null||p===void 0)&&p.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await du();return await Yv(e,ko,"1"),await Hv(e,ko),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,p){return this._withPendingWrite(async()=>(await this._withRetries(C=>Yv(C,e,p)),this.localCache[e]=p,this.notifyServiceWorker(e)))}async _get(e){const p=await this._withRetries(C=>mR(C,e));return this.localCache[e]=p,p}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(p=>Hv(p,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(R=>{const I=Gh(R,!1).getAll();return new La(I).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const p=[],C=new Set;if(e.length!==0)for(const{fbase_key:R,value:I}of e)C.add(R),JSON.stringify(this.localCache[R])!==JSON.stringify(I)&&(this.notifyListeners(R,I),p.push(R));for(const R of Object.keys(this.localCache))this.localCache[R]&&!C.has(R)&&(this.notifyListeners(R,null),p.push(R));return p}notifyListeners(e,p){this.localCache[e]=p;const C=this.listeners[e];if(C)for(const R of Array.from(C))R(p)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,p){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(p)}_removeListener(e,p){this.listeners[e]&&(this.listeners[e].delete(p),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const yR=H0;new Ma(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(g,e){return e?hs(e):(bt(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends B0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qn(e,this._buildIdpRequest())}_linkToIdToken(e,p){return qn(e,this._buildIdpRequest(p))}_getReauthenticationResolver(e){return qn(e,this._buildIdpRequest())}_buildIdpRequest(e){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(p.idToken=e),p}}function TR(g){return tR(g.auth,new Vf(g),g.bypassAuthState)}function SR(g){const{auth:e,user:p}=g;return bt(p,e,"internal-error"),_P(p,new Vf(g),g.bypassAuthState)}async function ER(g){const{auth:e,user:p}=g;return bt(p,e,"internal-error"),qP(p,new Vf(g),g.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,p,C,R,I=!1){this.auth=e,this.resolver=C,this.user=R,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){return new Promise(async(e,p)=>{this.pendingPromise={resolve:e,reject:p};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(C){this.reject(C)}})}async onAuthEvent(e){const{urlResponse:p,sessionId:C,postBody:R,tenantId:I,error:c,type:E}=e;if(c){this.reject(c);return}const t={auth:this.auth,requestUri:p,sessionId:C,tenantId:I||void 0,postBody:R||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(E)(t))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TR;case"linkViaPopup":case"linkViaRedirect":return ER;case"reauthViaPopup":case"reauthViaRedirect":return SR;default:Ji(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Ma(2e3,1e4);async function AR(g,e,p){if(Ai(g.app))return Promise.reject(Ii(g,"operation-not-supported-in-this-environment"));const C=bh(g);yP(g,e,Bf);const R=K0(C,p);return new cn(C,"signInViaPopup",e,R).executeNotNull()}class cn extends $0{constructor(e,p,C,R,I){super(e,p,R,I),this.provider=C,this.authWindow=null,this.pollId=null,cn.currentPopupAction&&cn.currentPopupAction.cancel(),cn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(p=>{this.reject(p)}),this.resolver._isIframeWebStorageSupported(this.auth,p=>{p||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var p,C;if(!((C=(p=this.authWindow)===null||p===void 0?void 0:p.window)===null||C===void 0)&&C.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CR.get())};e()}}cn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="pendingRedirect",So=new Map;class RR extends $0{constructor(e,p,C=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}async execute(){let e=So.get(this.auth._key());if(!e){try{const C=await wR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(C)}catch(p){e=()=>Promise.reject(p)}So.set(this.auth._key(),e)}return this.bypassAuthState||So.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const p=await this.auth._redirectUserForId(e.eventId);if(p)return this.user=p,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wR(g,e){const p=LR(e),C=IR(g);if(!await C._isAvailable())return!1;const R=await C._get(p)==="true";return await C._remove(p),R}function MR(g,e){So.set(g._key(),e)}function IR(g){return hs(g._redirectPersistence)}function LR(g){return To(PR,g.config.apiKey,g.name)}async function FR(g,e,p=!1){if(Ai(g.app))return Promise.reject(gn(g));const C=bh(g),R=K0(C,e),c=await new RR(C,R,p).execute();return c&&!p&&(delete c.user._redirectEventId,await C._persistUserIfCurrent(c.user),await C._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=10*60*1e3;class OR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(e,C)&&(p=!0,this.sendToConsumer(e,C),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NR(e)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=e,p=!0)),p}sendToConsumer(e,p){var C;if(e.error&&!Q0(e)){const R=((C=e.error.code)===null||C===void 0?void 0:C.split("auth/")[1])||"internal-error";p.onError(Ii(this.auth,R))}else p.onAuthEvent(e)}isEventForConsumer(e,p){const C=p.eventId===null||!!e.eventId&&e.eventId===p.eventId;return p.filter.includes(e.type)&&C}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(e))}saveEventToCache(e){this.cachedEventUids.add(Kv(e)),this.lastProcessedEventTime=Date.now()}}function Kv(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(e=>e).join("-")}function Q0({type:g,error:e}){return g==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NR(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q0(g);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(g,e={}){return gr(g,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VR=/^https?/;async function GR(g){if(g.config.emulator)return;const{authorizedDomains:e}=await BR(g);for(const p of e)try{if(UR(p))return}catch{}Ji(g,"unauthorized-domain")}function UR(g){const e=uu(),{protocol:p,hostname:C}=new URL(e);if(g.startsWith("chrome-extension://")){const c=new URL(g);return c.hostname===""&&C===""?p==="chrome-extension:"&&g.replace("chrome-extension://","")===e.replace("chrome-extension://",""):p==="chrome-extension:"&&c.hostname===C}if(!VR.test(p))return!1;if(bR.test(g))return C===g;const R=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(C)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Ma(3e4,6e4);function $v(){const g=Qi().___jsl;if(g!=null&&g.H){for(const e of Object.keys(g.H))if(g.H[e].r=g.H[e].r||[],g.H[e].L=g.H[e].L||[],g.H[e].r=[...g.H[e].L],g.CP)for(let p=0;p<g.CP.length;p++)g.CP[p]=null}}function XR(g){return new Promise((e,p)=>{var C,R,I;function c(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),p(Ii(g,"network-request-failed"))},timeout:zR.get()})}if(!((R=(C=Qi().gapi)===null||C===void 0?void 0:C.iframes)===null||R===void 0)&&R.Iframe)e(gapi.iframes.getContext());else if(!((I=Qi().gapi)===null||I===void 0)&&I.load)c();else{const E=KP("iframefcb");return Qi()[E]=()=>{gapi.load?c():p(Ii(g,"network-request-failed"))},YP(`${HP()}?onload=${E}`).catch(t=>p(t))}}).catch(e=>{throw Eo=null,e})}let Eo=null;function WR(g){return Eo=Eo||XR(g),Eo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Ma(5e3,15e3),HR="__/auth/iframe",KR="emulator/auth/iframe",$R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jR(g){const e=g.config;bt(e.authDomain,g,"auth-domain-config-required");const p=e.emulator?Lf(e,KR):`https://${g.config.authDomain}/${HR}`,C={apiKey:e.apiKey,appName:g.name,v:dr},R=QR.get(g.config.apiHost);R&&(C.eid=R);const I=g._getFrameworks();return I.length&&(C.fw=I.join(",")),`${p}?${Sa(C).slice(1)}`}async function JR(g){const e=await WR(g),p=Qi().gapi;return bt(p,g,"internal-error"),e.open({where:document.body,url:jR(g),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$R,dontclear:!0},C=>new Promise(async(R,I)=>{await C.restyle({setHideOnLeave:!1});const c=Ii(g,"network-request-failed"),E=Qi().setTimeout(()=>{I(c)},YR.get());function t(){Qi().clearTimeout(E),R(C)}C.ping(t).then(t,()=>{I(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kR=500,qR=600,_R="_blank",tw="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ew(g,e,p,C=kR,R=qR){const I=Math.max((window.screen.availHeight-R)/2,0).toString(),c=Math.max((window.screen.availWidth-C)/2,0).toString();let E="";const t=Object.assign(Object.assign({},ZR),{width:C.toString(),height:R.toString(),top:I,left:c}),h=ti().toLowerCase();p&&(E=w0(h)?_R:p),P0(h)&&(e=e||tw,t.scrollbars="yes");const x=Object.entries(t).reduce((r,[a,i])=>`${r}${a}=${i},`,"");if(BP(h)&&E!=="_self")return iw(e||"",E),new Qv(null);const o=window.open(e||"",E,x);bt(o,g,"popup-blocked");try{o.focus()}catch{}return new Qv(o)}function iw(g,e){const p=document.createElement("a");p.href=g,p.target=e;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__/auth/handler",nw="emulator/auth/handler",rw=encodeURIComponent("fac");async function jv(g,e,p,C,R,I){bt(g.config.authDomain,g,"auth-domain-config-required"),bt(g.config.apiKey,g,"invalid-api-key");const c={apiKey:g.config.apiKey,appName:g.name,authType:p,redirectUrl:C,v:dr,eventId:R};if(e instanceof Bf){e.setDefaultLanguage(g.languageCode),c.providerId=e.providerId||"",jS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,o]of Object.entries({}))c[x]=o}if(e instanceof Ia){const x=e.getScopes().filter(o=>o!=="");x.length>0&&(c.scopes=x.join(","))}g.tenantId&&(c.tid=g.tenantId);const E=c;for(const x of Object.keys(E))E[x]===void 0&&delete E[x];const t=await g._getAppCheckToken(),h=t?`#${rw}=${encodeURIComponent(t)}`:"";return`${aw(g)}?${Sa(E).slice(1)}${h}`}function aw({config:g}){return g.emulator?Lf(g,nw):`https://${g.authDomain}/${sw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="webStorageSupport";class ow{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=FR,this._overrideRedirectResult=MR}async _openPopup(e,p,C,R){var I;vs((I=this.eventManagers[e._key()])===null||I===void 0?void 0:I.manager,"_initialize() not called before _openPopup()");const c=await jv(e,p,C,uu(),R);return ew(e,c,bf())}async _openRedirect(e,p,C,R){await this._originValidation(e);const I=await jv(e,p,C,uu(),R);return uR(I),new Promise(()=>{})}_initialize(e){const p=e._key();if(this.eventManagers[p]){const{manager:R,promise:I}=this.eventManagers[p];return R?Promise.resolve(R):(vs(I,"If manager is not set, promise should be"),I)}const C=this.initAndGetManager(e);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}async initAndGetManager(e){const p=await JR(e),C=new OR(e);return p.register("authEvent",R=>(bt(R==null?void 0:R.authEvent,e,"invalid-auth-event"),{status:C.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:C},this.iframes[e._key()]=p,C}_isIframeWebStorageSupported(e,p){this.iframes[e._key()].send(Pl,{type:Pl},R=>{var I;const c=(I=R==null?void 0:R[0])===null||I===void 0?void 0:I[Pl];c!==void 0&&p(!!c),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const p=e._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=GR(e)),this.originValidationPromises[p]}get _shouldInitProactively(){return D0()||R0()||Of()}}const hw=ow;var Jv="@firebase/auth",Zv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const p=this.auth.onIdTokenChanged(C=>{e((C==null?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,p),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const p=this.internalListeners.get(e);p&&(this.internalListeners.delete(e),p(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fw(g){er(new Sn("auth",(e,{options:p})=>{const C=e.getProvider("app").getImmediate(),R=e.getProvider("heartbeat"),I=e.getProvider("app-check-internal"),{apiKey:c,authDomain:E}=C.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:C.name});const t={apiKey:c,authDomain:E,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O0(g)},h=new XP(C,R,I,t);return QP(h,p),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,p,C)=>{e.getProvider("auth-internal").initialize()})),er(new Sn("auth-internal",e=>{const p=bh(e.getProvider("auth").getImmediate());return(C=>new lw(C))(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(Jv,Zv,uw(g)),Bs(Jv,Zv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=5*60,cw=Nm("authIdTokenMaxAge")||dw;let kv=null;const vw=g=>async e=>{const p=e&&await e.getIdTokenResult(),C=p&&(new Date().getTime()-Date.parse(p.issuedAtTime))/1e3;if(C&&C>cw)return;const R=p==null?void 0:p.token;kv!==R&&(kv=R,await fetch(g,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))};function pw(g=ZE()){const e=Vu(g,"auth");if(e.isInitialized())return e.getImmediate();const p=$P(g,{popupRedirectResolver:hw,persistence:[yR,oR,z0]}),C=Nm("authTokenSyncURL");if(C&&typeof isSecureContext=="boolean"&&isSecureContext){const I=new URL(C,location.origin);if(location.origin===I.origin){const c=vw(I.toString());iR(p,c,()=>c(p.currentUser)),eR(p,E=>c(E))}}const R=NS("auth");return R&&jP(p,`http://${R}`),p}function mw(){var g,e;return(e=(g=document.getElementsByTagName("head"))===null||g===void 0?void 0:g[0])!==null&&e!==void 0?e:document}WP({loadJS(g){return new Promise((e,p)=>{const C=document.createElement("script");C.setAttribute("src",g),C.onload=e,C.onerror=R=>{const I=Ii("internal-error");I.customData=R,p(I)},C.type="text/javascript",C.charset="UTF-8",mw().appendChild(C)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fw("Browser");const Gf=Mn("auth",()=>{const g=Bt(null),e=Ft(()=>g.value!==null),p=async()=>{if(!g.value)throw new Error("User not logged in.");const c=await je.getDocument(Ds.Profiles,g.value.uid,Gs.Converter,!0),E=new Gs({id:g.value.uid,displayName:g.value.displayName,email:g.value.email,phoneNumber:g.value.phoneNumber,photoUrl:g.value.photoURL,isSuperUser:!!(c!=null&&c.isSuperUser),createdAt:c?c.createdAt:new Date,updatedAt:c?c.updatedAt:new Date});je.setDocument(Ds.Profiles,g.value.uid,E,Gs.Converter)};return{user:g,isLoggedIn:e,loginWithGoogle:async()=>{try{const c=await je.signIn();g.value=c.user,await p()}catch(c){console.error(c)}},logout:async()=>{await nR(je.auth),g.value=null},watchAuthState:c=>{sR(je.auth,E=>{g.value=E??null,c==null||c(g.value)})}}}),Uf=Mn("profiles",()=>{const{user:g}=We(Gf()),e=Bt([]),p=Bt(null),C=o=>{e.value=Array.isArray(o)?o:[o]},R=o=>{p.value=Array.isArray(o)?o[0]:o},I=async o=>{await je.subscribe({key:"profile",docRef:je.getDocRef(Ds.Profiles,o,Gs.Converter),callback:R,error:r=>{console.error("Error in subscription to profile.",r)}})},c=async()=>{je.unsubscribe("profile",()=>p.value=null)},E=async()=>{const o=je.getCollectionRef(Ds.Profiles);await je.subscribe({key:"profiles",queryRef:f0(o).withConverter(Gs.Converter),callback:C,error:r=>{console.error("Error in subscription to profiles.",r)}})},t=async()=>{je.unsubscribe("profiles")},h=async o=>{await je.setDocument(Ds.Profiles,o.id,o,Gs.Converter)},x=async()=>{p.value&&(p.value.lastLoginAt=new Date,await h(p.value))};return oi(g,async(o,r)=>{o&&o.uid!==(r==null?void 0:r.uid)?await I(o.uid):await c()}),oi(p,async(o,r)=>{!o||r||x()}),{profile:p,profiles:e,updateLastLogin:x,updateProfile:h,subscribeProfile:I,unsubscribeProfile:c,subscribeProfiles:E,unsubscribeProfiles:t}}),Ue=[];for(let g=0;g<256;++g)Ue.push((g+256).toString(16).slice(1));function gw(g,e=0){return(Ue[g[e+0]]+Ue[g[e+1]]+Ue[g[e+2]]+Ue[g[e+3]]+"-"+Ue[g[e+4]]+Ue[g[e+5]]+"-"+Ue[g[e+6]]+Ue[g[e+7]]+"-"+Ue[g[e+8]]+Ue[g[e+9]]+"-"+Ue[g[e+10]]+Ue[g[e+11]]+Ue[g[e+12]]+Ue[g[e+13]]+Ue[g[e+14]]+Ue[g[e+15]]).toLowerCase()}let Rl;const xw=new Uint8Array(16);function yw(){if(!Rl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Rl=crypto.getRandomValues.bind(crypto)}return Rl(xw)}const Tw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qv={randomUUID:Tw};function zf(g,e,p){var R;if(qv.randomUUID&&!g)return qv.randomUUID();g=g||{};const C=g.random??((R=g.rng)==null?void 0:R.call(g))??yw();if(C.length<16)throw new Error("Random bytes length must be >= 16");return C[6]=C[6]&15|64,C[8]=C[8]&63|128,gw(C)}class Sw{constructor(e,p){vt(this,"scene");vt(this,"store",ci());vt(this,"position");vt(this,"onDestroy");vt(this,"id",zf());vt(this,"type",we.EnergySmall);vt(this,"sprite");vt(this,"speed");vt(this,"isLarge",!1);this.scene=e,this.type=(p==null?void 0:p.type)??this.getRandomType((p==null?void 0:p.isLarge)??!1),this.isLarge=(p==null?void 0:p.isLarge)??!1,this.position=(p==null?void 0:p.position)??{x:0,y:0},this.sprite=this.create(),this.speed=(p==null?void 0:p.speed)??5,this.onDestroy=(p==null?void 0:p.onDestroy)??(()=>{})}get key(){return this.type}getRandomType(e){if(!e)return we.EnergySmall;const p=[we.EnergyMedium,we.EnergyMedium,we.EnergyMedium,we.EnergyLarge],C=[we.HpMedium,we.HpMedium,we.HpMedium,we.HpLarge];if(this.store.hp===wt.player.hpMax)return cl(p);const R=this.store.energy/100;return Math.random()>R?cl(p):cl(C)}create(){let e=2;return[we.EnergyMedium,we.HpMedium].includes(this.type)&&(e=1.5),this.scene.add.image(this.position.x,this.position.y,this.key).setOrigin(.5,.5).setRotation(Gi(0,Math.PI*2)).setScale(e*ve).setDepth(100)}update(e,p){const C=p.x-this.sprite.x,R=p.y-this.sprite.y,I=Math.sqrt(C*C+R*R);if(I<300){const t=C/I*this.speed*3,h=R/I*this.speed*3;this.sprite.x+=t*(e*60),this.sprite.y+=h*(e*60)}else this.sprite.x-=this.speed*3*(e*60);this.sprite.rotation+=wt.powerUp.rotationSpeed*e,(this.sprite.x<-this.sprite.width||this.sprite.y>this.scene.scale.height+this.sprite.height)&&this.destroy()}destroy(e=!1){var p;this.sprite.destroy(),e&&this.type!==we.EnergySmall&&((p=this.scene.audio)==null||p.playSfx("powerUp")),this.onDestroy(this.id,{isDestroyedByPlayer:e,type:this.type,position:this.position})}}class Ew extends fr.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}class Cw extends fr.Scene{constructor(){super("Preloader")}init(){const{setPreloadProgress:e}=ci();this.load.on("progress",p=>{e(p)})}preload(){this.load.setPath("assets"),this.load.image("playerImage","whale.png"),this.load.image("blackhole","blackhole.png"),this.load.image("background/stars","background/stars.png"),this.load.image("background/dust","background/dust.png"),this.load.image("background/nebulae","background/nebulae.png"),this.load.image("background/planets","background/planets.png"),this.load.image("asteroid/1","asteroid/1.png"),this.load.image("asteroid/2","asteroid/2.png"),this.load.image("asteroid/3","asteroid/3.png"),this.load.image("asteroid/4","asteroid/4.png"),this.load.image("asteroid/5","asteroid/5.png"),this.load.image("asteroid/6","asteroid/6.png"),this.load.image("powerup/hp-small","powerup/pink0.png"),this.load.image("powerup/hp-medium","powerup/pink1.png"),this.load.image("powerup/hp-large","powerup/pink2.png"),this.load.image("powerup/energy-small","powerup/blue0.png"),this.load.image("powerup/energy-medium","powerup/blue1.png"),this.load.image("powerup/energy-large","powerup/blue2.png"),this.load.spritesheet("beam","beam.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player/idle","player/idle.png",{frameWidth:128,frameHeight:64}),this.load.spritesheet("explosion/md","explosion/md.png",{frameWidth:32,frameHeight:32}),this.load.audio("soundtrack/0","soundtracks/Stars.mp3"),this.load.audio("soundtrack/1","soundtracks/NoGravity.mp3"),this.load.audio("soundtrack/2","soundtracks/OutOfTheOrbit.mp3"),this.load.audio("soundtrack/3","soundtracks/FarBeyond.mp3"),this.load.audio("playerDamage","sfx/playerDamage.mp3"),this.load.audio("playerBeam","sfx/playerBeam.mp3"),this.load.audio("playerDash","sfx/playerDash.mp3"),this.load.audio("playerDeath","sfx/playerDeath.mp3"),this.load.audio("playerScream","sfx/playerScream.mp3"),this.load.audio("asteroidExplosion","sfx/asteroidExplosion.mp3"),this.load.audio("powerUp","sfx/powerUp.mp3"),this.load.audio("noEnergy","sfx/noEnergy.mp3")}create(){$i.emit(Mi.PreloadComplete,this),this.scene.start("Game")}}const no=(g,e,p)=>{const C=g.textures.get(e).getSourceImage().height;return g.add.tileSprite(0,0,g.scale.width,g.scale.height,e).setOrigin(0,0).setScrollFactor(0).setScale(g.scale.height/C).setDepth((p==null?void 0:p.depth)??0).setAlpha((p==null?void 0:p.alpha)??1)},Co=(g,e,p,C,R=-1)=>g.create({key:e,frames:g.generateFrameNames(p,{frames:C}),frameRate:10,repeat:R}),Aw=g=>g instanceof j0,ro={volume:1,fade:!1,duration:200,force:!1,cooldown:0};let Pw=class{constructor(e){vt(this,"scene");vt(this,"store",Rf());vt(this,"soundtracks",[]);vt(this,"sfx",{playerBeam:null,playerDamage:null,playerDash:null,playerDeath:null,playerScream:null,asteroidExplosion:null,powerUp:null,noEnergy:null});vt(this,"lastPlay",{playerBeam:0,playerDamage:0,playerDash:0,playerDeath:0,playerScream:0,asteroidExplosion:0,powerUp:0,noEnergy:0});var C;this.scene=e;const p=this.store.currentVolume;this.soundtracks=[this.scene.sound.add("soundtrack/0",{loop:!1,volume:p*.8}),this.scene.sound.add("soundtrack/1",{loop:!1,volume:p*.8}),this.scene.sound.add("soundtrack/2",{loop:!1,volume:p*.8}),this.scene.sound.add("soundtrack/3",{loop:!1,volume:p*.8})],this.sfx={playerBeam:this.scene.sound.add("playerBeam",{volume:0,loop:!0}),playerDamage:this.scene.sound.add("playerDamage",{volume:p}),playerDash:this.scene.sound.add("playerDash",{volume:p}),playerDeath:this.scene.sound.add("playerDeath",{volume:p}),playerScream:this.scene.sound.add("playerScream",{volume:p*.5}),asteroidExplosion:this.scene.sound.add("asteroidExplosion",{volume:p}),powerUp:this.scene.sound.add("powerUp",{volume:p}),noEnergy:this.scene.sound.add("noEnergy",{volume:p})};for(const R in this.sfx)(C=this.sfx[R])!=null&&C.loop&&this.sfx[R].play();$i.on(Mi.SetVolume,this.updateVolume.bind(this))}updateVolume(e){this.scene.sound.setVolume(e)}playSoundtrack(e=0){if(this.soundtracks.length===0)return;const p=this.soundtracks[e],C=(e+1)%this.soundtracks.length;p.once("complete",()=>this.playSoundtrack(C)),p.play()}playSfx(e,p=ro){const C={...ro,...p},R=this.sfx[e];if(R.isPlaying&&!R.loop&&!C.force)return;const I=this.scene.time.now;if(C.cooldown>0&&I-this.lastPlay[e]<C.cooldown)return;if(!(C.fade||R.loop))R.play();else{this.scene.tweens.killTweensOf(R),R.loop||(R.setVolume(0),R.play());const E=this.store.currentVolume*C.volume;this.scene.tweens.add({targets:R,volume:E,duration:C.duration,ease:"Linear"})}C.cooldown>0?this.lastPlay[e]=I:this.lastPlay[e]=0}stopSfx(e,p=ro){const C={...ro,...p},R=this.sfx[e];if(!(C.fade||R.loop))R.stop();else{const c=this.scene.tweens.add({targets:R,volume:0,duration:C.duration,ease:"Linear"});if(R.loop)return;c.on("complete",()=>R.stop())}this.lastPlay[e]=0}playAttack(){this.playSfx("playerScream",{fade:!0}),this.playSfx("playerBeam",{fade:!0,volume:.2})}stopAttack(){this.stopSfx("playerScream",{fade:!0}),this.stopSfx("playerBeam",{fade:!0})}playBeamHit(){}stopBeamHit(){}stopAll(){this.scene.sound.stopAll()}},ve=1;class j0 extends fr.Scene{constructor(){super("Game");vt(this,"controls",null);vt(this,"background",null);vt(this,"player",null);vt(this,"velocity",1);vt(this,"asteroidSpeed",0);vt(this,"store",ci());vt(this,"asteroids",[]);vt(this,"lastSpawnTime",0);vt(this,"powerUps",[]);vt(this,"audio",null);vt(this,"unit",1);$i.addListener(Mi.TogglePaused,this.togglePaused.bind(this))}reset(){var p,C;this.asteroids.forEach(R=>R.destroy()),this.asteroids=[],this.powerUps.forEach(R=>R.destroy()),this.powerUps=[],(p=this.player)==null||p.setPosition(200,this.scale.height/2),(C=this.player)==null||C.stopBeam(),this.lastSpawnTime=0,this.togglePaused(!1)}togglePaused(p){p?this.scene.pause():this.scene.resume()}create(){if(!this.input.keyboard)throw new Error("No keyboard input found");this.audio=new Pw(this),this.audio.playSoundtrack(),ve=this.scale.width/1920,this.controls=new Lw(this.input.keyboard),this.background=new Iw(this,this.controls),this.player=new Mw(this,this.controls),this.player.setDepth(1e3),this.player.setPosition(200,this.scale.height/2),Co(this.anims,"explosion/md","explosion/md",[0,1,2,3],0),$i.emit(Mi.CurrentSceneReady,this)}update(p,C){var x,o,r,a,i;if(!this.player||!this.background||this.store.isPaused)return;const R=C/1e3,I=1+Math.log1p(Math.max(1,this.store.score/500))*2+Math.pow(this.store.score/1e3,1.025);if(this.velocity=ye(I*R*60,1,30),!this.store.isInGame){this.background.update(R,this.velocity);return}if(!this.store.isPlaying)return;this.store.score+=R;const c=this.player.currentPosition;this.asteroids.forEach(n=>n.update(R)),this.powerUps.forEach(n=>n.update(R,c)),this.background.update(R,this.velocity),this.player.update(R),this.trySpawnAsteroid();const E=this.player.bounds,t=this.isCollisionAsteroidDetected(E),h=this.isCollisionPowerUpDetected(E);if(t?((x=this.audio)==null||x.playBeamHit(),(o=this.player)!=null&&o.isDashing?t.destroy(!0):(this.player.hp-=t.damage,t.destroy(!1))):(r=this.audio)==null||r.stopBeamHit(),h&&h.destroy(!0),(i=(a=this.player)==null?void 0:a.beam)!=null&&i.isActive){const n=this.player.beam.sprite,l=new Phaser.Geom.Line(this.player.x+this.player.beam.position.x,this.player.y+this.player.beam.position.y,this.player.x+this.player.beam.position.x+Math.cos(n.rotation)*n.displayWidth,this.player.y+this.player.beam.position.y+Math.sin(n.rotation)*n.displayWidth);this.asteroids.forEach(s=>{var f;const u=s.sprite.getBounds();Phaser.Geom.Intersects.LineToRectangle(l,u)&&(s.hp-=((f=this.player)==null?void 0:f.damage)??1)})}}trySpawnAsteroid(){let p=wt.asteroid.baseSpawnRate/this.velocity;const C=Math.log1p(this.store.score/1e3);p=p/(1+C),this.time.now-this.lastSpawnTime>=p&&(this.lastSpawnTime=this.time.now,this.spawnAsteroid())}isCollisionAsteroidDetected(p){if(this.store.debug.isCollisionDisabled)return!1;for(const C of this.asteroids){const R=C.sprite.getBounds();if(Phaser.Geom.Rectangle.Overlaps(p,R))return C}return!1}isCollisionPowerUpDetected(p){for(const C of this.powerUps){const R=C.sprite.getBounds();if(Phaser.Geom.Intersects.RectangleToRectangle(p,R))return C}return!1}spawnAsteroid(){this.asteroidSpeed=this.velocity*.5;const p=new Rw(this,{maxSpeed:this.asteroidSpeed,isLarge:Math.random()>.75,onDestroy:this.onDestroyAsteroid.bind(this)});this.asteroids.push(p)}spawnPowerUp(p,C){const R=new Sw(this,{position:p,isLarge:C,speed:this.asteroidSpeed,onDestroy:this.onDestroyPowerUp.bind(this)});this.powerUps.push(R)}onDestroyAsteroid(p,C){this.asteroids=this.asteroids.filter(R=>R.id!==p),C!=null&&C.isDestroyedByPlayer&&(this.store.increaseScore(C.isLarge?wt.asteroid.large.score:wt.asteroid.small.score),!(Math.random()<=wt.powerUp.baseSpawnRate)&&this.spawnPowerUp(C.position,C.isLarge))}onDestroyPowerUp(p,C){if(this.powerUps=this.powerUps.filter(R=>R.id!==p),!(!(C!=null&&C.isDestroyedByPlayer)||!this.player))switch(C.type){case we.HpLarge:this.player.hp+=wt.powerUp.hpLarge;break;case we.HpMedium:this.player.hp+=wt.powerUp.hpMedium;break;case we.HpSmall:this.player.hp+=wt.powerUp.hpSmall;break;case we.EnergyLarge:this.player.energy+=wt.powerUp.energyLarge;break;case we.EnergyMedium:this.player.energy+=wt.powerUp.energyMedium;break;case we.EnergySmall:default:this.player.energy+=wt.powerUp.energySmall;break}}}class Rw{constructor(e,p){vt(this,"id");vt(this,"sprite");vt(this,"_hp",1);vt(this,"maxHp",1);vt(this,"maxSpeed",3*ve);vt(this,"minSpeed",wt.asteroid.minSpeed*ve);vt(this,"isLarge",!1);vt(this,"onDestroy");vt(this,"scene");vt(this,"key");vt(this,"size",1);vt(this,"angle",0);this.id=zf(),this.key=`asteroid/${Gi(1,6)}`,this.scene=e,this.maxSpeed=(p.maxSpeed??1)*wt.asteroid.maxSpeedMultiplier*ve,this.isLarge=p.isLarge??!1,this.size=this.isLarge?Gi(wt.asteroid.large.size[0],wt.asteroid.large.size[1],.1):Gi(wt.asteroid.small.size[0],wt.asteroid.small.size[1],.1),this.hp=this.isLarge?wt.asteroid.large.hp:wt.asteroid.small.hp,this.maxHp=this.hp,this.sprite=this.create(),this.onDestroy=p.onDestroy}get hp(){return this._hp}set hp(e){if(this._hp=e,e<=0){this.destroy(!0);return}if(!this.sprite)return;const p=this._hp/this.maxHp,I=Phaser.Display.Color.Interpolate.ColorWithColor(Phaser.Display.Color.ValueToColor(16766336),Phaser.Display.Color.ValueToColor(16777215),100,p*100);this.sprite.setTint(Phaser.Display.Color.GetColor(I.r,I.g,I.b))}get damage(){const e=this.isLarge?wt.asteroid.large.damage:wt.asteroid.small.damage,p=this.hp/this.maxHp;return e*p}get speed(){const e=this.hp/this.maxHp,p=this.minSpeed+(this.maxSpeed-this.minSpeed)*e;return ye(p,this.minSpeed,this.maxSpeed)}get velocity(){return{x:-this.speed*Math.cos(this.angle),y:this.speed*.5*Math.sin(this.angle)}}create(){const e=this.scene.textures.get(this.key).getSourceImage(),p=Math.random()<.75;let C,R;return p?(C=this.scene.scale.width+e.width,R=Gi(0,this.scene.scale.height-e.height),this.angle=Gi(-15,15)*Math.PI/180):Math.random()<.5?(C=Gi(this.scene.scale.width/2,this.scene.scale.width)+e.width,R=-e.height,this.angle=Gi(15,30)*Math.PI/180):(C=Gi(0,this.scene.scale.width-e.width),R=this.scene.scale.height+e.height,this.angle=Gi(-15,-30)*Math.PI/180),this.scene.add.image(C,R,this.key).setScale(this.size*ve).setDepth(100)}update(e){this.sprite.x+=this.velocity.x,this.sprite.y+=this.velocity.y,this.sprite.rotation+=wt.asteroid.rotationSpeed*e;const p=500;(this.sprite.x<-this.sprite.width-p||this.sprite.y>this.scene.scale.height+this.sprite.height+p)&&this.destroy()}destroy(e=!1){var c,E;const p={x:this.sprite.x,y:this.sprite.y};this.onDestroy(this.id,{isDestroyedByPlayer:e,position:p,size:this.size,isLarge:this.isLarge});const{x:C,y:R}={x:this.sprite.x,y:this.sprite.y};this.sprite.destroy(),e&&((E=(c=this.scene.audio)==null?void 0:c.sfx.asteroidExplosion)==null||E.play());const I=this.scene.add.sprite(C,R,"explosion/md").setScale(this.size*.5*ve).setDepth(100);I.anims.play("explosion/md").once("animationcomplete",()=>I.destroy())}}class ww{constructor(e,p){vt(this,"scene");vt(this,"key","beam");vt(this,"origin",{x:0,y:0});vt(this,"originOffset",{x:0,y:0});vt(this,"position",{x:0,y:0});vt(this,"id",zf());vt(this,"sprite");vt(this,"isActive",!1);vt(this,"beamStartTime",0);vt(this,"scaleX",wt.beam.scaleX);vt(this,"currentAngle",0);vt(this,"weight",.2);this.scene=e,this.origin=p,this.position={x:(p.x+this.originOffset.x)*ve,y:(p.y+this.originOffset.y)*ve},this.sprite=this.scene.add.sprite(this.position.x,this.position.y,this.key).setAlpha(0).setOrigin(0,.5),Co(this.scene.anims,"beam-start",this.key,[0,1,2,3,4,5,6,7],0),Co(this.scene.anims,"beam-active",this.key,[8,9,10,11,12,13,14,15]),Co(this.scene.anims,"beam-end",this.key,[16,17,18,19,20,21,22,23],0)}get bounds(){const e=this.sprite.getBounds().getPoints(4),p=Math.min(...e.map(c=>c.x)),C=Math.max(...e.map(c=>c.x)),R=Math.min(...e.map(c=>c.y)),I=Math.max(...e.map(c=>c.y));return new Phaser.Geom.Rectangle(p,R,C-p,I-R)}get scaleY(){var e;return ye(((e=this.scene.player)==null?void 0:e.damage)??1,1,4)}start(e){this.isActive=!0,this.sprite.setAlpha(1).setOrigin(0,.5).setScale(this.scaleX*ve,this.scaleY*ve),this.sprite.anims&&(this.sprite.anims.play("beam-start").once("animationcomplete",()=>this.isActive&&this.sprite.anims.play("beam-active")),this.update(0,e),this.beamStartTime=this.scene.time.now)}update(e,p){if(!this.isActive)return;const C=this.scene.input.activePointer,{x:R,y:I}={x:p.x+this.position.x,y:p.y+this.position.y},c=Phaser.Math.Angle.Between(R,I,C.worldX,C.worldY),E=wt.beam.minAngle,t=wt.beam.maxAngle,h=ye(c,E,t);this.currentAngle+=(h-this.currentAngle)*this.weight*(e*60),this.sprite.setRotation(this.currentAngle)}end(){this.isActive=!1,this.sprite.anims.stop(),this.sprite.anims.play("beam-end").once("animationcomplete",()=>this.sprite.setScale(this.scaleX*ve,this.scaleY*ve)),this.beamStartTime=0}destroy(){this.sprite.destroy()}handleScaling(){if(!this.isActive)return;const e=wt.beam.maxScale,p=wt.beam.scaleDuration,C=Math.min(1,(this.scene.time.now-this.beamStartTime)/p),R=this.scaleX+(e-this.scaleX)*C;this.sprite.setScale(R*ve,this.scaleY*ve)}}class Mw extends Phaser.GameObjects.Container{constructor(p,C){super(p,0,0);vt(this,"sprite");vt(this,"scene");vt(this,"controls");vt(this,"store",ci());vt(this,"velocity",{x:wt.player.velocity*ve,y:wt.player.velocity*ve});vt(this,"maxVelocity",{x:wt.player.maxVelocity*ve,y:wt.player.maxVelocity*ve});vt(this,"acceleration",{x:wt.player.acceleration*ve,y:wt.player.acceleration*ve});vt(this,"deceleration",{x:wt.player.deceleration*ve,y:wt.player.deceleration*ve});vt(this,"beam",null);vt(this,"energyDrainRate",wt.player.energyDrainRate);vt(this,"_isDashing",!1);vt(this,"dashDistance",wt.player.dashDistance*ve);vt(this,"dashCooldown",wt.player.dashCooldown);vt(this,"lastDashTime",0);vt(this,"dashDestinationPos",{x:0,y:0});vt(this,"audio",null);this.scene=p,this.controls=C,this.audio=p.audio;const R=3*ve,I={width:128*R};this.beam=new ww(this.scene,{x:I.width/2,y:-35}),this.add(this.beam.sprite),this.sprite=this.scene.add.sprite(0,0,"player/idle").setScale(R),this.add(this.sprite),this.scene.anims.create({key:"player-idle",frames:this.scene.anims.generateFrameNames("player/idle",{start:0,end:28}),frameRate:8,repeat:-1}),this.sprite.anims.play("player-idle"),p.add.existing(this),p.input.on("pointerdown",this.startBeam,this),p.input.on("pointerup",this.stopBeam,this)}get hp(){return this.store.hp}set hp(p){var I,c,E,t;if(this.store.debug.isImmortal)return;const C=p<this.hp,R=ye(p,0,wt.player.hpMax);this.store.setPlayerHp(R),C&&(R<=0?(c=(I=this.audio)==null?void 0:I.sfx.playerDeath)==null||c.play():(t=(E=this.audio)==null?void 0:E.sfx.playerDamage)==null||t.play(),this.playDamageAnimation())}get energy(){return this.store.energy}set energy(p){if(this.store.debug.hasInfiniteEnergy)return;const C=ye(p,0,wt.player.energyMax);this.store.setPlayerEnergy(C)}get stamina(){return this.store.stamina}set stamina(p){if(this.store.debug.hasInfiniteStamina)return;const C=ye(p,0,this.store.maxStamina);this.store.setPlayerStamina(C)}get isDashing(){return this._isDashing}set isDashing(p){var C,R;this._isDashing=p,p&&((C=this.audio)==null||C.stopSfx("noEnergy"),(R=this.audio)==null||R.playSfx("playerDash"),this.stamina-=wt.player.dashStaminaCost)}get hasEnergyForBeam(){return this.energy>=this.energyDrainRate||this.store.debug.hasInfiniteEnergy}get hasStaminaForDash(){return this.stamina>=wt.player.dashStaminaCost||this.store.debug.hasInfiniteStamina}get currentPosition(){return{x:this.x,y:this.y}}get damage(){const p=this.store.score;return p<1e3?1:1+(p-1e3)/500}get bounds(){const p=wt.player.boundsPadding,C=this.sprite.getBounds();return new Phaser.Geom.Rectangle(C.x+p,C.y+p,C.width-p*2,C.height-p*2)}update(p){var c,E,t;this.setDashTargetLocation(),this.stamina+=wt.player.staminaRegen;const{vx:C,vy:R}=this.isDashing?this.getVelocityDash():this.getVelocity(),I=this.getPosition(C,R,p);this.x=I.x,this.y=I.y,this.velocity.x=C,this.velocity.y=R,this.store.setPlayerPosition(this.x,this.y),this.hasEnergyForBeam&&((c=this.beam)!=null&&c.isActive)?(this.beam.handleScaling(),this.updateBeam(p),this.energy-=this.energyDrainRate):(E=this.beam)!=null&&E.isActive?((t=this.audio)==null||t.playSfx("noEnergy"),this.stopBeam()):this.energy+=wt.player.energyRegen}getPosition(p,C,R){const I=this.x+p*(R*60),c=this.y+C*(R*60);return this.getClampedPosition(I,c)}getVelocity(){let p=this.velocity.x,C=this.velocity.y;return this.controls.left?p=ye(p-this.acceleration.x,-this.maxVelocity.x,this.maxVelocity.x):this.controls.right?p=ye(p+this.acceleration.x,-this.maxVelocity.x,this.maxVelocity.x):p>0?p=ye(Math.max(0,p-this.deceleration.x),-this.maxVelocity.x,this.maxVelocity.x):p<0&&(p=ye(Math.min(0,p+this.deceleration.x),-this.maxVelocity.x,this.maxVelocity.x)),this.controls.up?C=ye(C-this.acceleration.y,-this.maxVelocity.y,this.maxVelocity.y):this.controls.down?C=ye(C+this.acceleration.y,-this.maxVelocity.y,this.maxVelocity.y):C>0?C=ye(Math.max(0,C-this.deceleration.y),-this.maxVelocity.y,this.maxVelocity.y):C<0&&(C=ye(Math.min(0,C+this.deceleration.y),-this.maxVelocity.y,this.maxVelocity.y)),{vx:p,vy:C}}setDashTargetLocation(){var I;if(!this.controls.space)return;if(!this.controls.left&&!this.controls.right&&!this.controls.up&&!this.controls.down){this.controls.space=!1;return}const p=this.scene.time.now;if(p-this.lastDashTime<this.dashCooldown){this.controls.space=!1;return}if(!this.hasStaminaForDash){(I=this.audio)==null||I.playSfx("noEnergy",{cooldown:2e3}),this.controls.space=!1;return}this.isDashing=!0,this.lastDashTime=p;const R={x:this.x+(this.controls.left?-this.dashDistance:this.controls.right?this.dashDistance:0),y:this.y+(this.controls.up?-this.dashDistance:this.controls.down?this.dashDistance:0)};this.dashDestinationPos=this.getClampedPosition(R.x,R.y),this.controls.space=!1}getVelocityDash(){const p=this.dashDestinationPos.x-this.x,C=this.dashDestinationPos.y-this.y;let R=this.velocity.x,I=this.velocity.y;const c=Math.max(Math.sqrt(p*p+C*C),0);if(c>25){const E=wt.player.dashSpeed*ve;R=p/c*E,I=C/c*E,this.sprite.setTint(wt.player.colorDash),this.sprite.setPipeline("glow")}else R=this.controls.right?this.maxVelocity.x:this.controls.left?-this.maxVelocity.x:0,I=this.controls.down?this.maxVelocity.y:this.controls.up?-this.maxVelocity.y:0,this.isDashing=!1,this.sprite.clearTint(),this.sprite.resetPipeline();return{vx:R,vy:I}}startBeam(){var p,C;this.store.isPlaying&&this.hasEnergyForBeam&&((p=this.audio)==null||p.playAttack(),(C=this.beam)==null||C.start(this.currentPosition))}stopBeam(){var p,C,R;(p=this.beam)!=null&&p.isActive&&((C=this.audio)==null||C.stopAttack(),(R=this.beam)==null||R.end())}updateBeam(p){var C,R;this.hasEnergyForBeam&&(C=this.beam)!=null&&C.isActive&&((R=this.beam)==null||R.update(p,this.currentPosition))}playDamageAnimation(){this.sprite.setTint(wt.player.colorDamage),this.sprite.setPipeline("glow"),window.setTimeout(()=>{this.sprite.clearTint(),this.sprite.resetPipeline()},200)}getClampedPosition(p,C){return{x:ye(p,this.sprite.displayWidth/2,this.scene.scale.width-this.sprite.displayWidth/2),y:ye(C,this.sprite.displayHeight/2,this.scene.scale.height-this.sprite.displayHeight/2)}}destroy(){this.beam&&(this.scene.input.off("pointerdown",this.startBeam,this),this.scene.input.off("pointerup",this.stopBeam,this),this.beam.destroy()),super.destroy()}}class Iw{constructor(e,p){vt(this,"scene");vt(this,"controls");vt(this,"store",ci());vt(this,"bgDust");vt(this,"bgStars");vt(this,"bgNebulae");vt(this,"bgPlanets");vt(this,"velocity",1);this.scene=e,this.controls=p,this.bgDust=no(e,"background/dust",{depth:10,alpha:.5}),this.bgNebulae=no(e,"background/nebulae",{depth:20,alpha:.5}),this.bgStars=no(e,"background/stars",{depth:30,alpha:1}),this.bgPlanets=no(e,"background/planets",{depth:40,alpha:1})}update(e,p){this.velocity=p,this.bgDust.tilePositionX+=this.velocity*.25,this.bgNebulae.tilePositionX+=this.velocity*.25,this.bgStars.tilePositionX+=this.velocity*.275,this.bgPlanets.tilePositionX+=this.velocity*.3}}class Lw{constructor(e){vt(this,"store",ci());vt(this,"left",!1);vt(this,"right",!1);vt(this,"up",!1);vt(this,"down",!1);vt(this,"space",!1);vt(this,"esc",!1);vt(this,"special1",!1);vt(this,"special2",!1);e.on("keydown",p=>{if(this.store.isPlaying)switch(p.code){case"ArrowLeft":case"KeyA":this.left=!0;break;case"ArrowRight":case"KeyD":this.right=!0;break;case"ArrowUp":case"KeyW":this.up=!0;break;case"ArrowDown":case"KeyS":this.down=!0;break;case"Space":this.space=!0;break;case"Escape":this.esc=!0;break;case"KeyE":this.special1=!0;break;case"KeyQ":this.special2=!0;break}}),e.on("keyup",p=>{switch(p.code){case"ArrowLeft":case"KeyA":this.left=!1;break;case"ArrowRight":case"KeyD":this.right=!1;break;case"ArrowUp":case"KeyW":this.up=!1;break;case"ArrowDown":case"KeyS":this.down=!1;break;case"Space":this.space=!1;break;case"Escape":this.esc=!1;break;case"KeyE":this.special1=!1;break;case"KeyQ":this.special2=!1;break}})}}const ci=Mn("game",()=>{const g=Bt(ge.Preload),e=Bt(new ES),p=Bt(0),C=Bt(),R=Bt({x:0,y:0}),I=Bt(0),c=Bt(wt.player.hpStart),E=Bt(wt.player.energyStart),t=Bt(wt.player.staminaStart),h=Bt(0),x=(P=1)=>I.value+=P,o=P=>c.value=ye(P,0,wt.player.hpMax),r=P=>E.value=ye(P,0,wt.player.energyMax),a=P=>t.value=P,i=Ft(()=>{const P=wt.player.maxStaminaStart+Math.floor(I.value/wt.player.maxStaminaScoreInterval);return ye(P,wt.player.maxStaminaStart,wt.player.maxStaminaEnd)}),n=P=>p.value=P,l=P=>C.value=P,s=P=>{[ge.Playing,ge.Paused].includes(g.value)&&(P===void 0?g.value=g.value===ge.Playing?ge.Paused:ge.Playing:g.value=P?ge.Paused:ge.Playing,$i.emit(Mi.TogglePaused,g.value===ge.Paused))},u=(P,w)=>R.value={x:P,y:w},f=Ft(()=>g.value===ge.Paused),d=Ft(()=>g.value===ge.Playing),v=Ft(()=>g.value===ge.Preload),m=Ft(()=>g.value===ge.Menu),y=Ft(()=>g.value===ge.GameOver),T=Ft(()=>d.value||f.value),S=()=>{c.value=wt.player.hpStart,E.value=wt.player.energyStart,t.value=wt.player.staminaStart,I.value=0,h.value=Date.now(),C.value&&Aw(C.value)&&C.value.reset()},A=P=>{g.value!==ge.Paused&&P===ge.Playing&&S(),g.value=P};return oi(c,P=>{g.value===ge.Playing&&(P>0||A(ge.GameOver))}),{currentScene:C,debug:e,energy:E,hp:c,increaseScore:x,isGameOver:y,isInGame:T,isInMenu:m,isPaused:f,isPlaying:d,isPreloading:v,playerPosition:R,playStart:h,preloadProgress:p,reset:S,score:I,setCurrentScene:l,setGameState:A,setPlayerEnergy:r,setPlayerHp:o,setPlayerStamina:a,setPreloadProgress:n,setPlayerPosition:u,state:g,stamina:t,maxStamina:i,togglePaused:s}}),Fw={class:"debug"},Dw={class:"debug__card-position"},Ow=ee({__name:"Debug",setup(g){const e=ci(),{debug:p,playerPosition:C,hp:R,score:I,state:c,energy:E,currentScene:t}=We(e),{setPlayerHp:h,setPlayerEnergy:x}=e,o=pn("nyxButton"),r=pn("nyxCard"),a=Bt(!1),i=Bt(!1),{cssVariables:n}=Ou(o,r,{gap:Bt(Wt.XLarge),position:Bt(ae.TopLeft),offsetX:-5,offsetY:-10}),l=T=>{var S,A;a.value=!1,i.value=T===void 0?!i.value:T,(A=(S=o.value)==null?void 0:S.$el)==null||A.blur()},s=Ft({get:()=>I.value.toString(),set:T=>I.value=parseInt(T)}),u=Ft({get:()=>R.value.toString(),set:T=>h(parseInt(T))}),f=Ft({get:()=>E.value.toString(),set:T=>x(parseInt(T))}),d=Ft(()=>({x:parseFloat(C.value.x.toFixed(2)),y:parseFloat(C.value.y.toFixed(2))})),v=Ft(()=>Object.values(ge).map(T=>({label:T,value:T}))),m=()=>{const T=$t(t.value);T&&T.spawnAsteroid()},y=()=>{p.value.isEnabled=!1};return oi(c,()=>a.value=!1),(T,S)=>(gt(),Tt("div",Fw,[Ct(at(be),{ref_key:"nyxButton",ref:o,class:"debug__button",theme:at(he).Danger,size:at(Wt).Small,tabindex:"-1",onClick:l},{default:Xt(()=>S[10]||(S[10]=[se("Debog")])),_:1},8,["theme","size"]),Ct(at(ur),{modelValue:a.value,"onUpdate:modelValue":S[0]||(S[0]=A=>a.value=A),title:"Config"},{default:Xt(()=>[Mt("pre",null,ne(at(wt)),1)]),_:1},8,["modelValue"]),(gt(),Ie(hh,{to:"body"},[Ct(at(GT),{class:kt(["debug__card",{"debug__card--visible":i.value}]),size:at(Wt).Large,style:Ye(at(n)),ref_key:"nyxCard",ref:r},{default:Xt(()=>[Ct(at(Mm),{class:"debug__card-content"},{default:Xt(()=>[Mt("span",Dw,[Mt("pre",null,"x: "+ne(d.value.x),1),Mt("pre",null,"y: "+ne(d.value.y),1)]),Ct(at(es),{label:"HP"},{default:Xt(({id:A})=>[Ct(at(dl),{class:"debug__card-input",id:A,modelValue:u.value,"onUpdate:modelValue":S[1]||(S[1]=P=>u.value=P),type:at($r).Number,max:100},null,8,["id","modelValue","type"])]),_:1}),Ct(at(es),{label:"Energy"},{default:Xt(({id:A})=>[Ct(at(dl),{class:"debug__card-input",id:A,modelValue:f.value,"onUpdate:modelValue":S[2]||(S[2]=P=>f.value=P),type:at($r).Number},null,8,["id","modelValue","type"])]),_:1}),Ct(at(es),{label:"Score"},{default:Xt(({id:A})=>[Ct(at(dl),{class:"debug__card-input",id:A,modelValue:s.value,"onUpdate:modelValue":S[3]||(S[3]=P=>s.value=P),type:at($r).Number},null,8,["id","modelValue","type"])]),_:1}),Yt("",!0),Ct(at(es),null,{default:Xt(({id:A})=>[Ct(at(Or),{id:A,modelValue:at(p).isImmortal,"onUpdate:modelValue":S[5]||(S[5]=P=>at(p).isImmortal=P),label:"Immortality"},null,8,["id","modelValue"])]),_:1}),Ct(at(es),null,{default:Xt(({id:A})=>[Ct(at(Or),{id:A,modelValue:at(p).hasInfiniteEnergy,"onUpdate:modelValue":S[6]||(S[6]=P=>at(p).hasInfiniteEnergy=P),label:"Infinite Energy"},null,8,["id","modelValue"])]),_:1}),Ct(at(es),null,{default:Xt(({id:A})=>[Ct(at(Or),{id:A,modelValue:at(p).hasInfiniteStamina,"onUpdate:modelValue":S[7]||(S[7]=P=>at(p).hasInfiniteStamina=P),label:"Infinite Stamina"},null,8,["id","modelValue"])]),_:1}),Ct(at(es),null,{default:Xt(({id:A})=>[Ct(at(Or),{id:A,modelValue:at(p).isCollisionDisabled,"onUpdate:modelValue":S[8]||(S[8]=P=>at(p).isCollisionDisabled=P),label:"Disable Collision"},null,8,["id","modelValue"])]),_:1}),Ct(at(be),{class:"debug__card-button",onClick:m},{default:Xt(()=>S[11]||(S[11]=[se("Spawn Asteroid")])),_:1}),Ct(at(be),{class:"debug__card-button",onClick:S[9]||(S[9]=A=>a.value=!0)},{default:Xt(()=>S[12]||(S[12]=[se("View config")])),_:1}),Ct(at(be),{class:"debug__card-button",onClick:y},{default:Xt(()=>S[13]||(S[13]=[se("Disable debug")])),_:1})]),_:1})]),_:1},8,["class","size","style"])]))]))}}),Nw=mh(Ow,[["__scopeId","data-v-c36da92b"]]),Bw=new URLSearchParams(document.location.search),bw=Bw.get("fps")??"0",Vw={type:fr.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"game",backgroundColor:"#000000",pixelArt:!0,fps:{limit:parseInt(bw)},scene:[Ew,Cw,j0]},Gw=g=>new fr.Game({...Vw,parent:g}),Uw={id:"game",class:"game"},zw=ee({__name:"Game",setup(g){const{setCurrentScene:e,setGameState:p}=ci(),C=Bt();return Zs(()=>{C.value=Gw("game"),$i.on(Mi.CurrentSceneReady,I=>e(I)),$i.on(Mi.PreloadComplete,()=>p(ge.Menu))}),Rn(()=>{C.value&&(C.value.destroy(!0),C.value=null)}),(I,c)=>(gt(),Tt("main",Uw))}}),Xw=mh(zw,[["__scopeId","data-v-16e8efe5"]]),Ww={key:0,class:"game-interface"},Yw={class:"game-interface__stats"},Hw={class:"game-interface__score"},Kw=ee({__name:"GameInterface",setup(g){const{hp:e,energy:p,stamina:C,maxStamina:R,score:I,isPlaying:c,isPaused:E,debug:t,isInGame:h}=We(ci()),x=Bt(null),o=Bt(0);Pn(()=>{x.value&&window.clearInterval(x.value)});const r=()=>{t.value.isEnabled||(o.value+=1,!(o.value<10)&&(t.value.isEnabled=!0,o.value=0))};return(a,i)=>at(h)?(gt(),Tt("header",Ww,[Mt("section",Yw,[Ct(at(uo),{class:"game-interface__progress-hp",modelValue:at(e),max:100,size:at(Wt).XLarge,theme:at(he).Danger,showValue:"start",onClick:r},null,8,["modelValue","size","theme"]),Ct(at(uo),{class:"game-interface__progress-energy",modelValue:at(p),max:100,size:at(Wt).Medium,theme:at(he).Secondary},null,8,["modelValue","size","theme"]),Ct(at(uo),{class:"game-interface__progress-stamina",modelValue:at(C),max:at(R),size:at(Wt).Medium,theme:at(he).Success,variant:at(Oo).Dots},null,8,["modelValue","max","size","theme","variant"])]),Mt("span",Hw,ne(Math.floor(at(I))),1)])):Yt("",!0)}}),J0=ee({__name:"Settings",setup(g){const{isFullscreen:e,currentVolume:p}=We(Rf());return oi(e,C=>{C?document.documentElement.requestFullscreen():document.exitFullscreen()}),(C,R)=>(gt(),Ie(at(Mm),null,{default:Xt(()=>[Ct(at(es),{label:"Volume"},{default:Xt(({id:I})=>[Ct(at(nS),{for:I,modelValue:at(p),"onUpdate:modelValue":R[0]||(R[0]=c=>oe(p)?p.value=c:null),max:1,min:0,step:.05,shape:at(ks).Rectangle},null,8,["for","modelValue","shape"])]),_:1}),Ct(at(es),{label:"Fullscreen"},{default:Xt(({id:I})=>[Ct(at(Or),{for:I,modelValue:at(e),"onUpdate:modelValue":R[1]||(R[1]=c=>oe(e)?e.value=c:null)},null,8,["for","modelValue"])]),_:1})]),_:1}))}}),$w={class:"game-menu__buttons"},_v=ee({__name:"GameMenu",setup(g){const e=ci(),{isPlaying:p,isPaused:C}=We(e),R=h=>{h.key==="Escape"&&e.togglePaused()},I=Ft(()=>{let h="game-menu";return C.value&&(h+=" game-menu--visible"),h}),c=()=>{e.reset(),e.togglePaused()},E=()=>{e.reset(),e.setGameState(ge.Menu)},t=()=>{e.togglePaused()};return Zs(()=>{window.addEventListener("keydown",R)}),Rn(()=>{window.removeEventListener("keydown",R)}),(h,x)=>at(C)?(gt(),Ie(at(ur),{key:0,customClass:I.value,size:at(Wt).Small,static:""},{footer:Xt(()=>[Mt("div",$w,[Ct(at(be),{onClick:c,theme:at(he).Warning},{default:Xt(()=>x[0]||(x[0]=[se("Restart")])),_:1},8,["theme"]),Ct(at(be),{onClick:E,theme:at(he).Danger},{default:Xt(()=>x[1]||(x[1]=[se("Quit")])),_:1},8,["theme"]),Ct(at(be),{onClick:t,theme:at(he).Primary},{default:Xt(()=>x[2]||(x[2]=[se("Resume")])),_:1},8,["theme"])])]),default:Xt(()=>[Ct(J0)]),_:1},8,["customClass","size"])):Yt("",!0)}}),Qw={key:0,class:"game-over__body"},jw={key:0},Jw={key:1},Zw={key:1,class:"game-over__body game-over__body-spinner"},kw={class:"game-over__footer"},qw=ee({__name:"GameOver",setup(g){const e=ci(),{isGameOver:p,score:C,debug:R}=We(e),{addNewHiscore:I}=Af(),{profile:c}=We(Uf()),E=Bt(null),t=()=>{e.setGameState(ge.Playing)},h=()=>{e.setGameState(ge.Menu)};return oi(p,async x=>{var o;E.value=null,!(!x||!((o=c.value)!=null&&o.id))&&(R.value.isEnabled=!1,E.value=await I(c.value.id,C.value),e.reset())}),(x,o)=>at(p)?(gt(),Ie(at(ur),{key:0,size:at(Wt).Small,static:"",title:"Game Over"},{footer:Xt(()=>[Mt("section",kw,[Ct(at(be),{theme:at(he).Warning,onClick:t},{default:Xt(()=>o[0]||(o[0]=[se("Restart")])),_:1},8,["theme"]),Ct(at(be),{theme:at(he).Danger,onClick:h},{default:Xt(()=>o[1]||(o[1]=[se("Quit")])),_:1},8,["theme"])])]),default:Xt(()=>{var r;return[E.value?(gt(),Tt("section",Qw,[Mt("p",null,"Score: "+ne(E.value.score),1),(r=E.value)!=null&&r.hasDebugged?(gt(),Tt("p",jw," You played with debug mode enabled. Hiscore will not be visible in the leaderboard. ")):Yt("",!0),E.value.score<at(wt).hiscores.threshold?(gt(),Tt("p",Jw," You need a minimum score of "+ne(at(wt).hiscores.threshold)+" to make it into the leaderboard. ",1)):Yt("",!0)])):(gt(),Tt("section",Zw,[Ct(at(rS),{size:at(Wt).Large},null,8,["size"])]))]}),_:1},8,["size"])):Yt("",!0)}}),_w=()=>{const g=Af(),e=Uf(),{hiscores:p}=We(g),{profiles:C}=We(e),R=Ft(()=>p.value.map(I=>{const c=C.value.find(E=>E.id===I.userId);return{name:c==null?void 0:c.fullName,score:I.score,version:I.version}}).sort((I,c)=>c.score-I.score));return Hp(()=>{e.subscribeProfiles(),g.subscribeHiscores()}),Pn(()=>{g.unsubscribeHiscores(),e.unsubscribeProfiles()}),{hiscoresData:R}},tM=ee({__name:"Hiscores",setup(g){const{isHiscoresVisible:e}=We(Pf()),{hiscoresData:p}=_w();return(C,R)=>(gt(),Ie(at(ur),{modelValue:at(e),"onUpdate:modelValue":R[1]||(R[1]=I=>oe(e)?e.value=I:null),size:at(Wt).Large,customClass:"view-hiscores"},{default:Xt(()=>[Ct(at(dS),{modelValue:at(p),"onUpdate:modelValue":R[0]||(R[0]=I=>oe(p)?p.value=I:null),size:at(Wt).Small,gridTemplateColumns:"1fr 10rem 10rem",header:"sticky"},null,8,["modelValue","size"])]),_:1},8,["modelValue","size"]))}}),eM="/nyx-game/assets/logo-Bof7pWK0.png",iM={class:"main-menu"},sM={key:0},nM={key:0},rM={key:1},aM="#71657A",oM=ee({__name:"MainMenu",setup(g){const e=Gf(),{profile:p}=We(Uf()),{toggleHiscores:C,toggleSettings:R}=Pf(),{setGameState:I}=ci(),{loginWithGoogle:c,logout:E}=e,{isLoggedIn:t}=We(e);new URLSearchParams(document.location.search);const h=!1;return(x,o)=>(gt(),Tt("div",iM,[at(p)?(gt(),Tt("header",sM,[Ct(at(LT),{src:at(p).photoUrl??void 0,name:at(p).displayName??void 0,size:at(Wt).Small,color:aM},null,8,["src","name","size"])])):Yt("",!0),Mt("section",null,[o[6]||(o[6]=Mt("img",{src:eM},null,-1)),at(t)||at(h)?(gt(),Tt("nav",nM,[Ct(at(be),{class:"button-play",theme:at(he).Primary,size:at(Wt).XLarge,onClick:o[0]||(o[0]=r=>at(I)(at(ge).Playing))},{default:Xt(()=>o[1]||(o[1]=[se("Play")])),_:1},8,["theme","size"]),Ct(at(be),{size:at(Wt).Small,onClick:at(C)},{default:Xt(()=>o[2]||(o[2]=[se("Hiscores")])),_:1},8,["size","onClick"]),Ct(at(be),{size:at(Wt).Small,onClick:at(R)},{default:Xt(()=>o[3]||(o[3]=[se("Settings")])),_:1},8,["size","onClick"]),Ct(at(be),{size:at(Wt).Small,onClick:at(E)},{default:Xt(()=>o[4]||(o[4]=[se("Logout")])),_:1},8,["size","onClick"])])):(gt(),Tt("nav",rM,[Ct(at(be),{size:at(Wt).XLarge,onClick:at(c)},{default:Xt(()=>o[5]||(o[5]=[se("Login")])),_:1},8,["size","onClick"])]))]),o[7]||(o[7]=Mt("footer",null,null,-1))]))}}),hM=mh(oM,[["__scopeId","data-v-3fd0300b"]]),lM={key:0,class:"preloader"},uM={key:0,class:"interface"},fM={class:"version"},dM=ee({__name:"App",setup(g){const{currentVolume:e}=We(Rf()),{debug:p,isInMenu:C,isPreloading:R,preloadProgress:I}=We(ci()),{setScreenSize:c}=PS(),{isSettingsVisible:E}=We(Pf()),{watchAuthState:t}=Gf(),{hasDebugged:h}=We(Af()),x="0.2.3";return oi(p,o=>{o.isEnabled&&(h.value=!0)},{immediate:!0,deep:1}),Zs(async()=>{t();const o=JSON.parse(localStorage.getItem("settings")??"{}");e.value=o.currentVolume!==void 0?o.currentVolume:1,window.addEventListener("resize",c)}),Pn(async()=>{window.removeEventListener("resize",c)}),(o,r)=>(gt(),Tt(de,null,[at(R)?(gt(),Tt("div",lM,[Ct(at(uo),{class:"preloader__progress",modelValue:at(I),"onUpdate:modelValue":r[0]||(r[0]=a=>oe(I)?I.value=a:null),min:0,max:1,theme:at(he).Primary,size:at(Wt).Medium},null,8,["modelValue","theme","size"])])):Yt("",!0),Ct(M1,{name:"fade"},{default:Xt(()=>[at(C)?(gt(),Tt("div",uM,[Ct(at(hM),{class:"view"}),Ct(at(ur),{modelValue:at(E),"onUpdate:modelValue":r[1]||(r[1]=a=>oe(E)?E.value=a:null)},{default:Xt(()=>[Ct(at(J0))]),_:1},8,["modelValue"]),Ct(at(tM)),Ct(at(_v)),Ct(at(SS))])):Yt("",!0)]),_:1}),at(p).isEnabled?(gt(),Ie(at(Nw),{key:1})):Yt("",!0),Ct(at(_v)),Ct(at(Xw)),Ct(at(Kw)),Ct(at(qw)),Mt("span",fM,ne(at(x)),1)],64))}});var cM="firebase",vM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(cM,vM,"app");const pM={apiKey:"AIzaSyB8U-G13jDAjURH-PWBDmMp0l8XJFIeCOM",authDomain:"nyxbase-2f10e.firebaseapp.com",projectId:"nyxbase-2f10e",storageBucket:"nyxbase-2f10e.firebasestorage.app",messagingSenderId:"782425608263",appId:"1:782425608263:web:8a75ca84179aeb25ef2162"};class mM{constructor(e=pM){vt(this,"subscriptions",{});vt(this,"app");vt(this,"db");vt(this,"auth");vt(this,"authProviders",{google:new rs});vt(this,"unsubscribe",(e,p)=>{if(!this.subscriptions[e]){console.warn(`You should not unsubscribe if you have not yet subscribed to key "${e}".`);return}if(this.subscriptions[e].count-=1,this.subscriptions[e].count!==0)return;const C=this.subscriptions[e].destroy;C?(delete this.subscriptions[e],C(),p==null||p()):console.warn(`Unsubscribe called with key "${e}" while subscribe is waiting to complete.`)});vt(this,"getCollectionRef",(e,p)=>p?wv(this.db,e).withConverter(p):wv(this.db,e));vt(this,"getDocRef",(e,p,C)=>{const R=this.getCollectionRef(e);return p!==null?C?Vr(R,p).withConverter(C):Vr(R,p):C?Vr(R).withConverter(C):Vr(R)});vt(this,"getSnapshot",async(e,p,C)=>{const R=this.getDocRef(e,p,C);return await Cl(R)});vt(this,"getDocData",async(e,p,C)=>{const R=await this.getSnapshot(e,p,C);return R.exists()?R.data():(console.error(`There is no document with id "${p}" in collection "${e}".`),null)});vt(this,"getDocDataByRef",async e=>{const p=await Cl(e);if(p.exists())return p.data();console.error(`No document found with reference id "${e.id}".`)});vt(this,"getDocDataByQuery",async e=>{const p=await Ov(e);return p.empty?(console.error(`No document(s) found using query "${e}".`),[]):p.docs.map(C=>C.data())});vt(this,"getCollectionData",async(e,p)=>{const C=this.getCollectionRef(e,p),R=await Ov(C);return R.empty?(console.error(`Collection "${e}" is empty.`),[]):R.docs.map(I=>I.data())});this.app=Vm(e),this.db=tP(this.app,{ignoreUndefinedProperties:!0}),this.auth=pw(this.app)}async signIn(e="google"){return await AR(this.auth,this.authProviders[e])}getRunningKeys(e=""){return Object.keys(this.subscriptions).filter(p=>p.startsWith(e))}async getDocument(e,p,C,R=!1){const I=this.getDocRef(e,p,C),c=await Cl(I);return c.exists()?c.data():(R||console.error(`No document found with id "${p}" in collection "${e}".`),null)}async addDocument(e,p,C){const R=this.getCollectionRef(e),I=C?C.toFirestore(p):p;return(await mP(R,I)).id}async setDocument(e,p,C,R){const I=this.getDocRef(e,p,R);await vP(I,C)}async updateDocument(e,p,C,R){const I=this.getDocRef(e,p,R);await pP(I,C)}async subscribe({key:e,docRef:p,queryRef:C,callback:R,error:I,converter:c}){if(this.subscriptions[e]===void 0&&(this.subscriptions[e]={key:e,count:0}),this.subscriptions[e].count+=1,this.subscriptions[e].count===1)try{if(p){const E=Nv(p,t=>this.handleDocSnapshot(t,R,c),I);this.subscriptions[e].destroy=E}else if(C){const E=Nv(C,t=>this.handleQuerySnapshot(t,R,c),I);this.subscriptions[e].destroy=E}}catch(E){console.error(`Error subscribing to key "${e}":`,E)}}getData(e,p){return p?p.fromFirestore(e):e.data()}handleDocSnapshot(e,p,C){if(!e.exists())return;const R=this.getData(e,C);R&&p(R)}handleQuerySnapshot(e,p,C){const R=e.docs.map(I=>this.getData(I,C));p(R)}}const je=new mM;nT(dM).use(oT()).use(vT,{pixel:!0}).mount("#app");
