var Py=Object.defineProperty;var Ry=(p,e,m)=>e in p?Py(p,e,{enumerable:!0,configurable:!0,writable:!0,value:m}):p[e]=m;var mt=(p,e,m)=>Ry(p,typeof e!="symbol"?e+"":e,m);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))C(R);new MutationObserver(R=>{for(const M of R)if(M.type==="childList")for(const f of M.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&C(f)}).observe(document,{childList:!0,subtree:!0});function m(R){const M={};return R.integrity&&(M.integrity=R.integrity),R.referrerPolicy&&(M.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?M.credentials="include":R.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function C(R){if(R.ep)return;R.ep=!0;const M=m(R);fetch(R.href,M)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ru(p){const e=Object.create(null);for(const m of p.split(","))e[m]=1;return m=>m in e}const te={},kn=[],Hi=()=>{},wy=()=>!1,hh=p=>p.charCodeAt(0)===111&&p.charCodeAt(1)===110&&(p.charCodeAt(2)>122||p.charCodeAt(2)<97),wu=p=>p.startsWith("onUpdate:"),Fe=Object.assign,Mu=(p,e)=>{const m=p.indexOf(e);m>-1&&p.splice(m,1)},My=Object.prototype.hasOwnProperty,ee=(p,e)=>My.call(p,e),Mt=Array.isArray,Zn=p=>Aa(p)==="[object Map]",pr=p=>Aa(p)==="[object Set]",Jd=p=>Aa(p)==="[object Date]",Ut=p=>typeof p=="function",Te=p=>typeof p=="string",Li=p=>typeof p=="symbol",le=p=>p!==null&&typeof p=="object",Lp=p=>(le(p)||Ut(p))&&Ut(p.then)&&Ut(p.catch),Fp=Object.prototype.toString,Aa=p=>Fp.call(p),Iy=p=>Aa(p).slice(8,-1),Op=p=>Aa(p)==="[object Object]",Iu=p=>Te(p)&&p!=="NaN"&&p[0]!=="-"&&""+parseInt(p,10)===p,$r=Ru(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lh=p=>{const e=Object.create(null);return m=>e[m]||(e[m]=p(m))},Ly=/-(\w)/g,Fi=lh(p=>p.replace(Ly,(e,m)=>m?m.toUpperCase():"")),Fy=/\B([A-Z])/g,Cs=lh(p=>p.replace(Fy,"-$1").toLowerCase()),Lu=lh(p=>p.charAt(0).toUpperCase()+p.slice(1)),ol=lh(p=>p?`on${Lu(p)}`:""),hi=(p,e)=>!Object.is(p,e),vo=(p,...e)=>{for(let m=0;m<p.length;m++)p[m](...e)},Dp=(p,e,m,C=!1)=>{Object.defineProperty(p,e,{configurable:!0,enumerable:!1,writable:C,value:m})},Lo=p=>{const e=parseFloat(p);return isNaN(e)?p:e},Oy=p=>{const e=Te(p)?Number(p):NaN;return isNaN(e)?p:e};let kd;const uh=()=>kd||(kd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qe(p){if(Mt(p)){const e={};for(let m=0;m<p.length;m++){const C=p[m],R=Te(C)?By(C):Qe(C);if(R)for(const M in R)e[M]=R[M]}return e}else if(Te(p)||le(p))return p}const Dy=/;(?![^(]*\))/g,Ny=/:([^]+)/,by=/\/\*[^]*?\*\//g;function By(p){const e={};return p.replace(by,"").split(Dy).forEach(m=>{if(m){const C=m.split(Ny);C.length>1&&(e[C[0].trim()]=C[1].trim())}}),e}function Zt(p){let e="";if(Te(p))e=p;else if(Mt(p))for(let m=0;m<p.length;m++){const C=Zt(p[m]);C&&(e+=C+" ")}else if(le(p))for(const m in p)p[m]&&(e+=m+" ");return e.trim()}const Vy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gy=Ru(Vy);function Np(p){return!!p||p===""}function Uy(p,e){if(p.length!==e.length)return!1;let m=!0;for(let C=0;m&&C<p.length;C++)m=Sn(p[C],e[C]);return m}function Sn(p,e){if(p===e)return!0;let m=Jd(p),C=Jd(e);if(m||C)return m&&C?p.getTime()===e.getTime():!1;if(m=Li(p),C=Li(e),m||C)return p===e;if(m=Mt(p),C=Mt(e),m||C)return m&&C?Uy(p,e):!1;if(m=le(p),C=le(e),m||C){if(!m||!C)return!1;const R=Object.keys(p).length,M=Object.keys(e).length;if(R!==M)return!1;for(const f in p){const S=p.hasOwnProperty(f),t=e.hasOwnProperty(f);if(S&&!t||!S&&t||!Sn(p[f],e[f]))return!1}}return String(p)===String(e)}function Fu(p,e){return p.findIndex(m=>Sn(m,e))}const bp=p=>!!(p&&p.__v_isRef===!0),ie=p=>Te(p)?p:p==null?"":Mt(p)||le(p)&&(p.toString===Fp||!Ut(p.toString))?bp(p)?ie(p.value):JSON.stringify(p,Bp,2):String(p),Bp=(p,e)=>bp(e)?Bp(p,e.value):Zn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((m,[C,R],M)=>(m[hl(C,M)+" =>"]=R,m),{})}:pr(e)?{[`Set(${e.size})`]:[...e.values()].map(m=>hl(m))}:Li(e)?hl(e):le(e)&&!Mt(e)&&!Op(e)?String(e):e,hl=(p,e="")=>{var m;return Li(p)?`Symbol(${(m=p.description)!=null?m:e})`:p};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ei;class Vp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ei,!e&&ei&&(this.index=(ei.scopes||(ei.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,m;if(this.scopes)for(e=0,m=this.scopes.length;e<m;e++)this.scopes[e].pause();for(e=0,m=this.effects.length;e<m;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,m;if(this.scopes)for(e=0,m=this.scopes.length;e<m;e++)this.scopes[e].resume();for(e=0,m=this.effects.length;e<m;e++)this.effects[e].resume()}}run(e){if(this._active){const m=ei;try{return ei=this,e()}finally{ei=m}}}on(){ei=this}off(){ei=this.parent}stop(e){if(this._active){this._active=!1;let m,C;for(m=0,C=this.effects.length;m<C;m++)this.effects[m].stop();for(this.effects.length=0,m=0,C=this.cleanups.length;m<C;m++)this.cleanups[m]();if(this.cleanups.length=0,this.scopes){for(m=0,C=this.scopes.length;m<C;m++)this.scopes[m].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const R=this.parent.scopes.pop();R&&R!==this&&(this.parent.scopes[this.index]=R,R.index=this.index)}this.parent=void 0}}}function Gp(p){return new Vp(p)}function Up(){return ei}function zy(p,e=!1){ei&&ei.cleanups.push(p)}let fe;const ll=new WeakSet;class zp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ei&&ei.active&&ei.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ll.has(this)&&(ll.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zd(this),Yp(this);const e=fe,m=wi;fe=this,wi=!0;try{return this.fn()}finally{Hp(this),fe=e,wi=m,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Nu(e);this.deps=this.depsTail=void 0,Zd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ll.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gl(this)&&this.run()}get dirty(){return Gl(this)}}let Xp=0,jr,Qr;function Wp(p,e=!1){if(p.flags|=8,e){p.next=Qr,Qr=p;return}p.next=jr,jr=p}function Ou(){Xp++}function Du(){if(--Xp>0)return;if(Qr){let e=Qr;for(Qr=void 0;e;){const m=e.next;e.next=void 0,e.flags&=-9,e=m}}let p;for(;jr;){let e=jr;for(jr=void 0;e;){const m=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(C){p||(p=C)}e=m}}if(p)throw p}function Yp(p){for(let e=p.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Hp(p){let e,m=p.depsTail,C=m;for(;C;){const R=C.prevDep;C.version===-1?(C===m&&(m=R),Nu(C),Xy(C)):e=C,C.dep.activeLink=C.prevActiveLink,C.prevActiveLink=void 0,C=R}p.deps=e,p.depsTail=m}function Gl(p){for(let e=p.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Kp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!p._dirty}function Kp(p){if(p.flags&4&&!(p.flags&16)||(p.flags&=-17,p.globalVersion===oa))return;p.globalVersion=oa;const e=p.dep;if(p.flags|=2,e.version>0&&!p.isSSR&&p.deps&&!Gl(p)){p.flags&=-3;return}const m=fe,C=wi;fe=p,wi=!0;try{Yp(p);const R=p.fn(p._value);(e.version===0||hi(R,p._value))&&(p._value=R,e.version++)}catch(R){throw e.version++,R}finally{fe=m,wi=C,Hp(p),p.flags&=-3}}function Nu(p,e=!1){const{dep:m,prevSub:C,nextSub:R}=p;if(C&&(C.nextSub=R,p.prevSub=void 0),R&&(R.prevSub=C,p.nextSub=void 0),m.subs===p&&(m.subs=C,!C&&m.computed)){m.computed.flags&=-5;for(let M=m.computed.deps;M;M=M.nextDep)Nu(M,!0)}!e&&!--m.sc&&m.map&&m.map.delete(m.key)}function Xy(p){const{prevDep:e,nextDep:m}=p;e&&(e.nextDep=m,p.prevDep=void 0),m&&(m.prevDep=e,p.nextDep=void 0)}let wi=!0;const $p=[];function Zs(){$p.push(wi),wi=!1}function qs(){const p=$p.pop();wi=p===void 0?!0:p}function Zd(p){const{cleanup:e}=p;if(p.cleanup=void 0,e){const m=fe;fe=void 0;try{e()}finally{fe=m}}}let oa=0;class Wy{constructor(e,m){this.sub=e,this.dep=m,this.version=m.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!fe||!wi||fe===this.computed)return;let m=this.activeLink;if(m===void 0||m.sub!==fe)m=this.activeLink=new Wy(fe,this),fe.deps?(m.prevDep=fe.depsTail,fe.depsTail.nextDep=m,fe.depsTail=m):fe.deps=fe.depsTail=m,jp(m);else if(m.version===-1&&(m.version=this.version,m.nextDep)){const C=m.nextDep;C.prevDep=m.prevDep,m.prevDep&&(m.prevDep.nextDep=C),m.prevDep=fe.depsTail,m.nextDep=void 0,fe.depsTail.nextDep=m,fe.depsTail=m,fe.deps===m&&(fe.deps=C)}return m}trigger(e){this.version++,oa++,this.notify(e)}notify(e){Ou();try{for(let m=this.subs;m;m=m.prevSub)m.sub.notify()&&m.sub.dep.notify()}finally{Du()}}}function jp(p){if(p.dep.sc++,p.sub.flags&4){const e=p.dep.computed;if(e&&!p.dep.subs){e.flags|=20;for(let C=e.deps;C;C=C.nextDep)jp(C)}const m=p.dep.subs;m!==p&&(p.prevSub=m,m&&(m.nextSub=p)),p.dep.subs=p}}const Fo=new WeakMap,xn=Symbol(""),Ul=Symbol(""),ha=Symbol("");function Ke(p,e,m){if(wi&&fe){let C=Fo.get(p);C||Fo.set(p,C=new Map);let R=C.get(m);R||(C.set(m,R=new fh),R.map=C,R.key=m),R.track()}}function as(p,e,m,C,R,M){const f=Fo.get(p);if(!f){oa++;return}const S=t=>{t&&t.trigger()};if(Ou(),e==="clear")f.forEach(S);else{const t=Mt(p),h=t&&Iu(m);if(t&&m==="length"){const g=Number(C);f.forEach((o,a)=>{(a==="length"||a===ha||!Li(a)&&a>=g)&&S(o)})}else switch((m!==void 0||f.has(void 0))&&S(f.get(m)),h&&S(f.get(ha)),e){case"add":t?h&&S(f.get("length")):(S(f.get(xn)),Zn(p)&&S(f.get(Ul)));break;case"delete":t||(S(f.get(xn)),Zn(p)&&S(f.get(Ul)));break;case"set":Zn(p)&&S(f.get(xn));break}}Du()}function Yy(p,e){const m=Fo.get(p);return m&&m.get(e)}function Wn(p){const e=Kt(p);return e===p?e:(Ke(e,"iterate",ha),Ei(p)?e:e.map($e))}function dh(p){return Ke(p=Kt(p),"iterate",ha),p}const Hy={__proto__:null,[Symbol.iterator](){return ul(this,Symbol.iterator,$e)},concat(...p){return Wn(this).concat(...p.map(e=>Mt(e)?Wn(e):e))},entries(){return ul(this,"entries",p=>(p[1]=$e(p[1]),p))},every(p,e){return is(this,"every",p,e,void 0,arguments)},filter(p,e){return is(this,"filter",p,e,m=>m.map($e),arguments)},find(p,e){return is(this,"find",p,e,$e,arguments)},findIndex(p,e){return is(this,"findIndex",p,e,void 0,arguments)},findLast(p,e){return is(this,"findLast",p,e,$e,arguments)},findLastIndex(p,e){return is(this,"findLastIndex",p,e,void 0,arguments)},forEach(p,e){return is(this,"forEach",p,e,void 0,arguments)},includes(...p){return fl(this,"includes",p)},indexOf(...p){return fl(this,"indexOf",p)},join(p){return Wn(this).join(p)},lastIndexOf(...p){return fl(this,"lastIndexOf",p)},map(p,e){return is(this,"map",p,e,void 0,arguments)},pop(){return Vr(this,"pop")},push(...p){return Vr(this,"push",p)},reduce(p,...e){return qd(this,"reduce",p,e)},reduceRight(p,...e){return qd(this,"reduceRight",p,e)},shift(){return Vr(this,"shift")},some(p,e){return is(this,"some",p,e,void 0,arguments)},splice(...p){return Vr(this,"splice",p)},toReversed(){return Wn(this).toReversed()},toSorted(p){return Wn(this).toSorted(p)},toSpliced(...p){return Wn(this).toSpliced(...p)},unshift(...p){return Vr(this,"unshift",p)},values(){return ul(this,"values",$e)}};function ul(p,e,m){const C=dh(p),R=C[e]();return C!==p&&!Ei(p)&&(R._next=R.next,R.next=()=>{const M=R._next();return M.value&&(M.value=m(M.value)),M}),R}const Ky=Array.prototype;function is(p,e,m,C,R,M){const f=dh(p),S=f!==p&&!Ei(p),t=f[e];if(t!==Ky[e]){const o=t.apply(p,M);return S?$e(o):o}let h=m;f!==p&&(S?h=function(o,a){return m.call(this,$e(o),a,p)}:m.length>2&&(h=function(o,a){return m.call(this,o,a,p)}));const g=t.call(f,h,C);return S&&R?R(g):g}function qd(p,e,m,C){const R=dh(p);let M=m;return R!==p&&(Ei(p)?m.length>3&&(M=function(f,S,t){return m.call(this,f,S,t,p)}):M=function(f,S,t){return m.call(this,f,$e(S),t,p)}),R[e](M,...C)}function fl(p,e,m){const C=Kt(p);Ke(C,"iterate",ha);const R=C[e](...m);return(R===-1||R===!1)&&Vu(m[0])?(m[0]=Kt(m[0]),C[e](...m)):R}function Vr(p,e,m=[]){Zs(),Ou();const C=Kt(p)[e].apply(p,m);return Du(),qs(),C}const $y=Ru("__proto__,__v_isRef,__isVue"),Qp=new Set(Object.getOwnPropertyNames(Symbol).filter(p=>p!=="arguments"&&p!=="caller").map(p=>Symbol[p]).filter(Li));function jy(p){Li(p)||(p=String(p));const e=Kt(this);return Ke(e,"has",p),e.hasOwnProperty(p)}class Jp{constructor(e=!1,m=!1){this._isReadonly=e,this._isShallow=m}get(e,m,C){if(m==="__v_skip")return e.__v_skip;const R=this._isReadonly,M=this._isShallow;if(m==="__v_isReactive")return!R;if(m==="__v_isReadonly")return R;if(m==="__v_isShallow")return M;if(m==="__v_raw")return C===(R?M?s1:_p:M?qp:Zp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(C)?e:void 0;const f=Mt(e);if(!R){let t;if(f&&(t=Hy[m]))return t;if(m==="hasOwnProperty")return jy}const S=Reflect.get(e,m,ae(e)?e:C);return(Li(m)?Qp.has(m):$y(m))||(R||Ke(e,"get",m),M)?S:ae(S)?f&&Iu(m)?S:S.value:le(S)?R?tm(S):ch(S):S}}class kp extends Jp{constructor(e=!1){super(!1,e)}set(e,m,C,R){let M=e[m];if(!this._isShallow){const t=Cn(M);if(!Ei(C)&&!Cn(C)&&(M=Kt(M),C=Kt(C)),!Mt(e)&&ae(M)&&!ae(C))return t?!1:(M.value=C,!0)}const f=Mt(e)&&Iu(m)?Number(m)<e.length:ee(e,m),S=Reflect.set(e,m,C,ae(e)?e:R);return e===Kt(R)&&(f?hi(C,M)&&as(e,"set",m,C):as(e,"add",m,C)),S}deleteProperty(e,m){const C=ee(e,m);e[m];const R=Reflect.deleteProperty(e,m);return R&&C&&as(e,"delete",m,void 0),R}has(e,m){const C=Reflect.has(e,m);return(!Li(m)||!Qp.has(m))&&Ke(e,"has",m),C}ownKeys(e){return Ke(e,"iterate",Mt(e)?"length":xn),Reflect.ownKeys(e)}}class Qy extends Jp{constructor(e=!1){super(!0,e)}set(e,m){return!0}deleteProperty(e,m){return!0}}const Jy=new kp,ky=new Qy,Zy=new kp(!0);const zl=p=>p,to=p=>Reflect.getPrototypeOf(p);function qy(p,e,m){return function(...C){const R=this.__v_raw,M=Kt(R),f=Zn(M),S=p==="entries"||p===Symbol.iterator&&f,t=p==="keys"&&f,h=R[p](...C),g=m?zl:e?Xl:$e;return!e&&Ke(M,"iterate",t?Ul:xn),{next(){const{value:o,done:a}=h.next();return a?{value:o,done:a}:{value:S?[g(o[0]),g(o[1])]:g(o),done:a}},[Symbol.iterator](){return this}}}}function eo(p){return function(...e){return p==="delete"?!1:p==="clear"?void 0:this}}function _y(p,e){const m={get(R){const M=this.__v_raw,f=Kt(M),S=Kt(R);p||(hi(R,S)&&Ke(f,"get",R),Ke(f,"get",S));const{has:t}=to(f),h=e?zl:p?Xl:$e;if(t.call(f,R))return h(M.get(R));if(t.call(f,S))return h(M.get(S));M!==f&&M.get(R)},get size(){const R=this.__v_raw;return!p&&Ke(Kt(R),"iterate",xn),Reflect.get(R,"size",R)},has(R){const M=this.__v_raw,f=Kt(M),S=Kt(R);return p||(hi(R,S)&&Ke(f,"has",R),Ke(f,"has",S)),R===S?M.has(R):M.has(R)||M.has(S)},forEach(R,M){const f=this,S=f.__v_raw,t=Kt(S),h=e?zl:p?Xl:$e;return!p&&Ke(t,"iterate",xn),S.forEach((g,o)=>R.call(M,h(g),h(o),f))}};return Fe(m,p?{add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear")}:{add(R){!e&&!Ei(R)&&!Cn(R)&&(R=Kt(R));const M=Kt(this);return to(M).has.call(M,R)||(M.add(R),as(M,"add",R,R)),this},set(R,M){!e&&!Ei(M)&&!Cn(M)&&(M=Kt(M));const f=Kt(this),{has:S,get:t}=to(f);let h=S.call(f,R);h||(R=Kt(R),h=S.call(f,R));const g=t.call(f,R);return f.set(R,M),h?hi(M,g)&&as(f,"set",R,M):as(f,"add",R,M),this},delete(R){const M=Kt(this),{has:f,get:S}=to(M);let t=f.call(M,R);t||(R=Kt(R),t=f.call(M,R)),S&&S.call(M,R);const h=M.delete(R);return t&&as(M,"delete",R,void 0),h},clear(){const R=Kt(this),M=R.size!==0,f=R.clear();return M&&as(R,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(R=>{m[R]=qy(R,p,e)}),m}function bu(p,e){const m=_y(p,e);return(C,R,M)=>R==="__v_isReactive"?!p:R==="__v_isReadonly"?p:R==="__v_raw"?C:Reflect.get(ee(m,R)&&R in C?m:C,R,M)}const t1={get:bu(!1,!1)},e1={get:bu(!1,!0)},i1={get:bu(!0,!1)};const Zp=new WeakMap,qp=new WeakMap,_p=new WeakMap,s1=new WeakMap;function n1(p){switch(p){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function r1(p){return p.__v_skip||!Object.isExtensible(p)?0:n1(Iy(p))}function ch(p){return Cn(p)?p:Bu(p,!1,Jy,t1,Zp)}function a1(p){return Bu(p,!1,Zy,e1,qp)}function tm(p){return Bu(p,!0,ky,i1,_p)}function Bu(p,e,m,C,R){if(!le(p)||p.__v_raw&&!(e&&p.__v_isReactive))return p;const M=R.get(p);if(M)return M;const f=r1(p);if(f===0)return p;const S=new Proxy(p,f===2?C:m);return R.set(p,S),S}function ms(p){return Cn(p)?ms(p.__v_raw):!!(p&&p.__v_isReactive)}function Cn(p){return!!(p&&p.__v_isReadonly)}function Ei(p){return!!(p&&p.__v_isShallow)}function Vu(p){return p?!!p.__v_raw:!1}function Kt(p){const e=p&&p.__v_raw;return e?Kt(e):p}function Gu(p){return!ee(p,"__v_skip")&&Object.isExtensible(p)&&Dp(p,"__v_skip",!0),p}const $e=p=>le(p)?ch(p):p,Xl=p=>le(p)?tm(p):p;function ae(p){return p?p.__v_isRef===!0:!1}function Gt(p){return em(p,!1)}function o1(p){return em(p,!0)}function em(p,e){return ae(p)?p:new h1(p,e)}class h1{constructor(e,m){this.dep=new fh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=m?e:Kt(e),this._value=m?e:$e(e),this.__v_isShallow=m}get value(){return this.dep.track(),this._value}set value(e){const m=this._rawValue,C=this.__v_isShallow||Ei(e)||Cn(e);e=C?e:Kt(e),hi(e,m)&&(this._rawValue=e,this._value=C?e:$e(e),this.dep.trigger())}}function ft(p){return ae(p)?p.value:p}const l1={get:(p,e,m)=>e==="__v_raw"?p:ft(Reflect.get(p,e,m)),set:(p,e,m,C)=>{const R=p[e];return ae(R)&&!ae(m)?(R.value=m,!0):Reflect.set(p,e,m,C)}};function im(p){return ms(p)?p:new Proxy(p,l1)}class u1{constructor(e){this.__v_isRef=!0,this._value=void 0;const m=this.dep=new fh,{get:C,set:R}=e(m.track.bind(m),m.trigger.bind(m));this._get=C,this._set=R}get value(){return this._value=this._get()}set value(e){this._set(e)}}function f1(p){return new u1(p)}function d1(p){const e=Mt(p)?new Array(p.length):{};for(const m in p)e[m]=sm(p,m);return e}class c1{constructor(e,m,C){this._object=e,this._key=m,this._defaultValue=C,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Yy(Kt(this._object),this._key)}}class v1{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function p1(p,e,m){return ae(p)?p:Ut(p)?new v1(p):le(p)&&arguments.length>1?sm(p,e,m):Gt(p)}function sm(p,e,m){const C=p[e];return ae(C)?C:new c1(p,e,m)}class m1{constructor(e,m,C){this.fn=e,this.setter=m,this._value=void 0,this.dep=new fh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=oa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!m,this.isSSR=C}notify(){if(this.flags|=16,!(this.flags&8)&&fe!==this)return Wp(this,!0),!0}get value(){const e=this.dep.track();return Kp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function g1(p,e,m=!1){let C,R;return Ut(p)?C=p:(C=p.get,R=p.set),new m1(C,R,m)}const io={},Oo=new WeakMap;let dn;function x1(p,e=!1,m=dn){if(m){let C=Oo.get(m);C||Oo.set(m,C=[]),C.push(p)}}function y1(p,e,m=te){const{immediate:C,deep:R,once:M,scheduler:f,augmentJob:S,call:t}=m,h=c=>R?c:Ei(c)||R===!1||R===0?os(c,1):os(c);let g,o,a,r,i=!1,n=!1;if(ae(p)?(o=()=>p.value,i=Ei(p)):ms(p)?(o=()=>h(p),i=!0):Mt(p)?(n=!0,i=p.some(c=>ms(c)||Ei(c)),o=()=>p.map(c=>{if(ae(c))return c.value;if(ms(c))return h(c);if(Ut(c))return t?t(c,2):c()})):Ut(p)?e?o=t?()=>t(p,2):p:o=()=>{if(a){Zs();try{a()}finally{qs()}}const c=dn;dn=g;try{return t?t(p,3,[r]):p(r)}finally{dn=c}}:o=Hi,e&&R){const c=o,v=R===!0?1/0:R;o=()=>os(c(),v)}const l=Up(),s=()=>{g.stop(),l&&l.active&&Mu(l.effects,g)};if(M&&e){const c=e;e=(...v)=>{c(...v),s()}}let u=n?new Array(p.length).fill(io):io;const d=c=>{if(!(!(g.flags&1)||!g.dirty&&!c))if(e){const v=g.run();if(R||i||(n?v.some((x,y)=>hi(x,u[y])):hi(v,u))){a&&a();const x=dn;dn=g;try{const y=[v,u===io?void 0:n&&u[0]===io?[]:u,r];t?t(e,3,y):e(...y),u=v}finally{dn=x}}}else g.run()};return S&&S(d),g=new zp(o),g.scheduler=f?()=>f(d,!1):d,r=c=>x1(c,!1,g),a=g.onStop=()=>{const c=Oo.get(g);if(c){if(t)t(c,4);else for(const v of c)v();Oo.delete(g)}},e?C?d(!0):u=g.run():f?f(d.bind(null,!0),!0):g.run(),s.pause=g.pause.bind(g),s.resume=g.resume.bind(g),s.stop=s,s}function os(p,e=1/0,m){if(e<=0||!le(p)||p.__v_skip||(m=m||new Set,m.has(p)))return p;if(m.add(p),e--,ae(p))os(p.value,e,m);else if(Mt(p))for(let C=0;C<p.length;C++)os(p[C],e,m);else if(pr(p)||Zn(p))p.forEach(C=>{os(C,e,m)});else if(Op(p)){for(const C in p)os(p[C],e,m);for(const C of Object.getOwnPropertySymbols(p))Object.prototype.propertyIsEnumerable.call(p,C)&&os(p[C],e,m)}return p}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pa(p,e,m,C){try{return C?p(...C):p()}catch(R){vh(R,e,m)}}function Oi(p,e,m,C){if(Ut(p)){const R=Pa(p,e,m,C);return R&&Lp(R)&&R.catch(M=>{vh(M,e,m)}),R}if(Mt(p)){const R=[];for(let M=0;M<p.length;M++)R.push(Oi(p[M],e,m,C));return R}}function vh(p,e,m,C=!0){const R=e?e.vnode:null,{errorHandler:M,throwUnhandledErrorInProduction:f}=e&&e.appContext.config||te;if(e){let S=e.parent;const t=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${m}`;for(;S;){const g=S.ec;if(g){for(let o=0;o<g.length;o++)if(g[o](p,t,h)===!1)return}S=S.parent}if(M){Zs(),Pa(M,null,10,[p,t,h]),qs();return}}T1(p,m,R,C,f)}function T1(p,e,m,C=!0,R=!1){if(R)throw p;console.error(p)}const ii=[];let Xi=-1;const qn=[];let Os=null,Hn=0;const nm=Promise.resolve();let Do=null;function Uu(p){const e=Do||nm;return p?e.then(this?p.bind(this):p):e}function E1(p){let e=Xi+1,m=ii.length;for(;e<m;){const C=e+m>>>1,R=ii[C],M=la(R);M<p||M===p&&R.flags&2?e=C+1:m=C}return e}function zu(p){if(!(p.flags&1)){const e=la(p),m=ii[ii.length-1];!m||!(p.flags&2)&&e>=la(m)?ii.push(p):ii.splice(E1(e),0,p),p.flags|=1,rm()}}function rm(){Do||(Do=nm.then(om))}function S1(p){Mt(p)?qn.push(...p):Os&&p.id===-1?Os.splice(Hn+1,0,p):p.flags&1||(qn.push(p),p.flags|=1),rm()}function _d(p,e,m=Xi+1){for(;m<ii.length;m++){const C=ii[m];if(C&&C.flags&2){if(p&&C.id!==p.uid)continue;ii.splice(m,1),m--,C.flags&4&&(C.flags&=-2),C(),C.flags&4||(C.flags&=-2)}}}function am(p){if(qn.length){const e=[...new Set(qn)].sort((m,C)=>la(m)-la(C));if(qn.length=0,Os){Os.push(...e);return}for(Os=e,Hn=0;Hn<Os.length;Hn++){const m=Os[Hn];m.flags&4&&(m.flags&=-2),m.flags&8||m(),m.flags&=-2}Os=null,Hn=0}}const la=p=>p.id==null?p.flags&2?-1:1/0:p.id;function om(p){try{for(Xi=0;Xi<ii.length;Xi++){const e=ii[Xi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pa(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Xi<ii.length;Xi++){const e=ii[Xi];e&&(e.flags&=-2)}Xi=-1,ii.length=0,am(),Do=null,(ii.length||qn.length)&&om()}}let Me=null,hm=null;function No(p){const e=Me;return Me=p,hm=p&&p.type.__scopeId||null,e}function Xt(p,e=Me,m){if(!e||p._n)return p;const C=(...R)=>{C._d&&dc(-1);const M=No(e);let f;try{f=p(...R)}finally{No(M),C._d&&dc(1)}return f};return C._n=!0,C._c=!0,C._d=!0,C}function Ki(p,e){if(Me===null)return p;const m=Eh(Me),C=p.dirs||(p.dirs=[]);for(let R=0;R<e.length;R++){let[M,f,S,t=te]=e[R];M&&(Ut(M)&&(M={mounted:M,updated:M}),M.deep&&os(f),C.push({dir:M,instance:m,value:f,oldValue:void 0,arg:S,modifiers:t}))}return p}function hn(p,e,m,C){const R=p.dirs,M=e&&e.dirs;for(let f=0;f<R.length;f++){const S=R[f];M&&(S.oldValue=M[f].value);let t=S.dir[C];t&&(Zs(),Oi(t,m,8,[p.el,S,p,e]),qs())}}const lm=Symbol("_vte"),um=p=>p.__isTeleport,Jr=p=>p&&(p.disabled||p.disabled===""),tc=p=>p&&(p.defer||p.defer===""),ec=p=>typeof SVGElement<"u"&&p instanceof SVGElement,ic=p=>typeof MathMLElement=="function"&&p instanceof MathMLElement,Wl=(p,e)=>{const m=p&&p.to;return Te(m)?e?e(m):null:m},fm={name:"Teleport",__isTeleport:!0,process(p,e,m,C,R,M,f,S,t,h){const{mc:g,pc:o,pbc:a,o:{insert:r,querySelector:i,createText:n,createComment:l}}=h,s=Jr(e.props);let{shapeFlag:u,children:d,dynamicChildren:c}=e;if(p==null){const v=e.el=n(""),x=e.anchor=n("");r(v,m,C),r(x,m,C);const y=(E,A)=>{u&16&&(R&&R.isCE&&(R.ce._teleportTarget=E),g(d,E,A,R,M,f,S,t))},T=()=>{const E=e.target=Wl(e.props,i),A=dm(E,e,n,r);E&&(f!=="svg"&&ec(E)?f="svg":f!=="mathml"&&ic(E)&&(f="mathml"),s||(y(E,A),po(e,!1)))};s&&(y(m,x),po(e,!0)),tc(e.props)?ti(()=>{T(),e.el.__isMounted=!0},M):T()}else{if(tc(e.props)&&!p.el.__isMounted){ti(()=>{fm.process(p,e,m,C,R,M,f,S,t,h),delete p.el.__isMounted},M);return}e.el=p.el,e.targetStart=p.targetStart;const v=e.anchor=p.anchor,x=e.target=p.target,y=e.targetAnchor=p.targetAnchor,T=Jr(p.props),E=T?m:x,A=T?v:y;if(f==="svg"||ec(x)?f="svg":(f==="mathml"||ic(x))&&(f="mathml"),c?(a(p.dynamicChildren,c,E,R,M,f,S),Wu(p,e,!0)):t||o(p,e,E,A,R,M,f,S,!1),s)T?e.props&&p.props&&e.props.to!==p.props.to&&(e.props.to=p.props.to):so(e,m,v,h,1);else if((e.props&&e.props.to)!==(p.props&&p.props.to)){const P=e.target=Wl(e.props,i);P&&so(e,P,null,h,0)}else T&&so(e,x,y,h,1);po(e,s)}},remove(p,e,m,{um:C,o:{remove:R}},M){const{shapeFlag:f,children:S,anchor:t,targetStart:h,targetAnchor:g,target:o,props:a}=p;if(o&&(R(h),R(g)),M&&R(t),f&16){const r=M||!Jr(a);for(let i=0;i<S.length;i++){const n=S[i];C(n,e,m,r,!!n.dynamicChildren)}}},move:so,hydrate:C1};function so(p,e,m,{o:{insert:C},m:R},M=2){M===0&&C(p.targetAnchor,e,m);const{el:f,anchor:S,shapeFlag:t,children:h,props:g}=p,o=M===2;if(o&&C(f,e,m),(!o||Jr(g))&&t&16)for(let a=0;a<h.length;a++)R(h[a],e,m,2);o&&C(S,e,m)}function C1(p,e,m,C,R,M,{o:{nextSibling:f,parentNode:S,querySelector:t,insert:h,createText:g}},o){const a=e.target=Wl(e.props,t);if(a){const r=Jr(e.props),i=a._lpa||a.firstChild;if(e.shapeFlag&16)if(r)e.anchor=o(f(p),e,S(p),m,C,R,M),e.targetStart=i,e.targetAnchor=i&&f(i);else{e.anchor=f(p);let n=i;for(;n;){if(n&&n.nodeType===8){if(n.data==="teleport start anchor")e.targetStart=n;else if(n.data==="teleport anchor"){e.targetAnchor=n,a._lpa=e.targetAnchor&&f(e.targetAnchor);break}}n=f(n)}e.targetAnchor||dm(a,e,g,h),o(i&&f(i),e,a,m,C,R,M)}po(e,r)}return e.anchor&&f(e.anchor)}const ph=fm;function po(p,e){const m=p.ctx;if(m&&m.ut){let C,R;for(e?(C=p.el,R=p.anchor):(C=p.targetStart,R=p.targetAnchor);C&&C!==R;)C.nodeType===1&&C.setAttribute("data-v-owner",m.uid),C=C.nextSibling;m.ut()}}function dm(p,e,m,C){const R=e.targetStart=m(""),M=e.targetAnchor=m("");return R[lm]=M,p&&(C(R,p),C(M,p)),M}const Ds=Symbol("_leaveCb"),no=Symbol("_enterCb");function A1(){const p={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ps(()=>{p.isMounted=!0}),In(()=>{p.isUnmounting=!0}),p}const xi=[Function,Array],cm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xi,onEnter:xi,onAfterEnter:xi,onEnterCancelled:xi,onBeforeLeave:xi,onLeave:xi,onAfterLeave:xi,onLeaveCancelled:xi,onBeforeAppear:xi,onAppear:xi,onAfterAppear:xi,onAppearCancelled:xi},vm=p=>{const e=p.subTree;return e.component?vm(e.component):e},P1={name:"BaseTransition",props:cm,setup(p,{slots:e}){const m=Th(),C=A1();return()=>{const R=e.default&&gm(e.default(),!0);if(!R||!R.length)return;const M=pm(R),f=Kt(p),{mode:S}=f;if(C.isLeaving)return dl(M);const t=sc(M);if(!t)return dl(M);let h=Yl(t,f,C,m,o=>h=o);t.type!==si&&ua(t,h);let g=m.subTree&&sc(m.subTree);if(g&&g.type!==si&&!vn(t,g)&&vm(m).type!==si){let o=Yl(g,f,C,m);if(ua(g,o),S==="out-in"&&t.type!==si)return C.isLeaving=!0,o.afterLeave=()=>{C.isLeaving=!1,m.job.flags&8||m.update(),delete o.afterLeave,g=void 0},dl(M);S==="in-out"&&t.type!==si?o.delayLeave=(a,r,i)=>{const n=mm(C,g);n[String(g.key)]=g,a[Ds]=()=>{r(),a[Ds]=void 0,delete h.delayedLeave,g=void 0},h.delayedLeave=()=>{i(),delete h.delayedLeave,g=void 0}}:g=void 0}else g&&(g=void 0);return M}}};function pm(p){let e=p[0];if(p.length>1){for(const m of p)if(m.type!==si){e=m;break}}return e}const R1=P1;function mm(p,e){const{leavingVNodes:m}=p;let C=m.get(e.type);return C||(C=Object.create(null),m.set(e.type,C)),C}function Yl(p,e,m,C,R){const{appear:M,mode:f,persisted:S=!1,onBeforeEnter:t,onEnter:h,onAfterEnter:g,onEnterCancelled:o,onBeforeLeave:a,onLeave:r,onAfterLeave:i,onLeaveCancelled:n,onBeforeAppear:l,onAppear:s,onAfterAppear:u,onAppearCancelled:d}=e,c=String(p.key),v=mm(m,p),x=(E,A)=>{E&&Oi(E,C,9,A)},y=(E,A)=>{const P=A[1];x(E,A),Mt(E)?E.every(w=>w.length<=1)&&P():E.length<=1&&P()},T={mode:f,persisted:S,beforeEnter(E){let A=t;if(!m.isMounted)if(M)A=l||t;else return;E[Ds]&&E[Ds](!0);const P=v[c];P&&vn(p,P)&&P.el[Ds]&&P.el[Ds](),x(A,[E])},enter(E){let A=h,P=g,w=o;if(!m.isMounted)if(M)A=s||h,P=u||g,w=d||o;else return;let I=!1;const O=E[no]=F=>{I||(I=!0,F?x(w,[E]):x(P,[E]),T.delayedLeave&&T.delayedLeave(),E[no]=void 0)};A?y(A,[E,O]):O()},leave(E,A){const P=String(p.key);if(E[no]&&E[no](!0),m.isUnmounting)return A();x(a,[E]);let w=!1;const I=E[Ds]=O=>{w||(w=!0,A(),O?x(n,[E]):x(i,[E]),E[Ds]=void 0,v[P]===p&&delete v[P])};v[P]=p,r?y(r,[E,I]):I()},clone(E){const A=Yl(E,e,m,C,R);return R&&R(A),A}};return T}function dl(p){if(mh(p))return p=Ys(p),p.children=null,p}function sc(p){if(!mh(p))return um(p.type)&&p.children?pm(p.children):p;const{shapeFlag:e,children:m}=p;if(m){if(e&16)return m[0];if(e&32&&Ut(m.default))return m.default()}}function ua(p,e){p.shapeFlag&6&&p.component?(p.transition=e,ua(p.component.subTree,e)):p.shapeFlag&128?(p.ssContent.transition=e.clone(p.ssContent),p.ssFallback.transition=e.clone(p.ssFallback)):p.transition=e}function gm(p,e=!1,m){let C=[],R=0;for(let M=0;M<p.length;M++){let f=p[M];const S=m==null?f.key:String(m)+String(f.key!=null?f.key:M);f.type===de?(f.patchFlag&128&&R++,C=C.concat(gm(f.children,e,S))):(e||f.type!==si)&&C.push(S!=null?Ys(f,{key:S}):f)}if(R>1)for(let M=0;M<C.length;M++)C[M].patchFlag=-2;return C}/*! #__NO_SIDE_EFFECTS__ */function ne(p,e){return Ut(p)?Fe({name:p.name},e,{setup:p}):p}function xm(p){p.ids=[p.ids[0]+p.ids[2]+++"-",0,0]}function yn(p){const e=Th(),m=o1(null);if(e){const R=e.refs===te?e.refs={}:e.refs;Object.defineProperty(R,p,{enumerable:!0,get:()=>m.value,set:M=>m.value=M})}return m}function bo(p,e,m,C,R=!1){if(Mt(p)){p.forEach((i,n)=>bo(i,e&&(Mt(e)?e[n]:e),m,C,R));return}if(_n(C)&&!R){C.shapeFlag&512&&C.type.__asyncResolved&&C.component.subTree.component&&bo(p,e,m,C.component.subTree);return}const M=C.shapeFlag&4?Eh(C.component):C.el,f=R?null:M,{i:S,r:t}=p,h=e&&e.r,g=S.refs===te?S.refs={}:S.refs,o=S.setupState,a=Kt(o),r=o===te?()=>!1:i=>ee(a,i);if(h!=null&&h!==t&&(Te(h)?(g[h]=null,r(h)&&(o[h]=null)):ae(h)&&(h.value=null)),Ut(t))Pa(t,S,12,[f,g]);else{const i=Te(t),n=ae(t);if(i||n){const l=()=>{if(p.f){const s=i?r(t)?o[t]:g[t]:t.value;R?Mt(s)&&Mu(s,M):Mt(s)?s.includes(M)||s.push(M):i?(g[t]=[M],r(t)&&(o[t]=g[t])):(t.value=[M],p.k&&(g[p.k]=t.value))}else i?(g[t]=f,r(t)&&(o[t]=f)):n&&(t.value=f,p.k&&(g[p.k]=f))};f?(l.id=-1,ti(l,m)):l()}}}uh().requestIdleCallback;uh().cancelIdleCallback;const _n=p=>!!p.type.__asyncLoader,mh=p=>p.type.__isKeepAlive;function w1(p,e){ym(p,"a",e)}function M1(p,e){ym(p,"da",e)}function ym(p,e,m=De){const C=p.__wdc||(p.__wdc=()=>{let R=m;for(;R;){if(R.isDeactivated)return;R=R.parent}return p()});if(gh(e,C,m),m){let R=m.parent;for(;R&&R.parent;)mh(R.parent.vnode)&&I1(C,e,m,R),R=R.parent}}function I1(p,e,m,C){const R=gh(e,p,C,!0);Ln(()=>{Mu(C[e],R)},m)}function gh(p,e,m=De,C=!1){if(m){const R=m[p]||(m[p]=[]),M=e.__weh||(e.__weh=(...f)=>{Zs();const S=Ra(m),t=Oi(e,m,p,f);return S(),qs(),t});return C?R.unshift(M):R.push(M),M}}const As=p=>(e,m=De)=>{(!ca||p==="sp")&&gh(p,(...C)=>e(...C),m)},Tm=As("bm"),Ps=As("m"),L1=As("bu"),F1=As("u"),In=As("bum"),Ln=As("um"),O1=As("sp"),D1=As("rtg"),N1=As("rtc");function b1(p,e=De){gh("ec",p,e)}const B1="directives",V1=Symbol.for("v-ndc");function Em(p){return G1(B1,p)}function G1(p,e,m=!0,C=!1){const R=Me||De;if(R){const M=R.type,f=nc(R[p]||M[p],e)||nc(R.appContext[p],e);return!f&&C?M:f}}function nc(p,e){return p&&(p[e]||p[Fi(e)]||p[Lu(Fi(e))])}function $i(p,e,m,C){let R;const M=m,f=Mt(p);if(f||Te(p)){const S=f&&ms(p);let t=!1;S&&(t=!Ei(p),p=dh(p)),R=new Array(p.length);for(let h=0,g=p.length;h<g;h++)R[h]=e(t?$e(p[h]):p[h],h,void 0,M)}else if(typeof p=="number"){R=new Array(p);for(let S=0;S<p;S++)R[S]=e(S+1,S,void 0,M)}else if(le(p))if(p[Symbol.iterator])R=Array.from(p,(S,t)=>e(S,t,void 0,M));else{const S=Object.keys(p);R=new Array(S.length);for(let t=0,h=S.length;t<h;t++){const g=S[t];R[t]=e(p[g],g,t,M)}}else R=[];return R}function me(p,e,m={},C,R){if(Me.ce||Me.parent&&_n(Me.parent)&&Me.parent.ce)return e!=="default"&&(m.name=e),gt(),Pe(de,null,[Rt("slot",m,C&&C())],64);let M=p[e];M&&M._c&&(M._d=!1),gt();const f=M&&Sm(M(m)),S=m.key||f&&f.key,t=Pe(de,{key:(S&&!Li(S)?S:`_${e}`)+(!f&&C?"_fb":"")},f||(C?C():[]),f&&p._===1?64:-2);return t.scopeId&&(t.slotScopeIds=[t.scopeId+"-s"]),M&&M._c&&(M._d=!0),t}function Sm(p){return p.some(e=>da(e)?!(e.type===si||e.type===de&&!Sm(e.children)):!0)?p:null}const Hl=p=>p?Wm(p)?Eh(p):Hl(p.parent):null,kr=Fe(Object.create(null),{$:p=>p,$el:p=>p.vnode.el,$data:p=>p.data,$props:p=>p.props,$attrs:p=>p.attrs,$slots:p=>p.slots,$refs:p=>p.refs,$parent:p=>Hl(p.parent),$root:p=>Hl(p.root),$host:p=>p.ce,$emit:p=>p.emit,$options:p=>Am(p),$forceUpdate:p=>p.f||(p.f=()=>{zu(p.update)}),$nextTick:p=>p.n||(p.n=Uu.bind(p.proxy)),$watch:p=>lT.bind(p)}),cl=(p,e)=>p!==te&&!p.__isScriptSetup&&ee(p,e),U1={get({_:p},e){if(e==="__v_skip")return!0;const{ctx:m,setupState:C,data:R,props:M,accessCache:f,type:S,appContext:t}=p;let h;if(e[0]!=="$"){const r=f[e];if(r!==void 0)switch(r){case 1:return C[e];case 2:return R[e];case 4:return m[e];case 3:return M[e]}else{if(cl(C,e))return f[e]=1,C[e];if(R!==te&&ee(R,e))return f[e]=2,R[e];if((h=p.propsOptions[0])&&ee(h,e))return f[e]=3,M[e];if(m!==te&&ee(m,e))return f[e]=4,m[e];Kl&&(f[e]=0)}}const g=kr[e];let o,a;if(g)return e==="$attrs"&&Ke(p.attrs,"get",""),g(p);if((o=S.__cssModules)&&(o=o[e]))return o;if(m!==te&&ee(m,e))return f[e]=4,m[e];if(a=t.config.globalProperties,ee(a,e))return a[e]},set({_:p},e,m){const{data:C,setupState:R,ctx:M}=p;return cl(R,e)?(R[e]=m,!0):C!==te&&ee(C,e)?(C[e]=m,!0):ee(p.props,e)||e[0]==="$"&&e.slice(1)in p?!1:(M[e]=m,!0)},has({_:{data:p,setupState:e,accessCache:m,ctx:C,appContext:R,propsOptions:M}},f){let S;return!!m[f]||p!==te&&ee(p,f)||cl(e,f)||(S=M[0])&&ee(S,f)||ee(C,f)||ee(kr,f)||ee(R.config.globalProperties,f)},defineProperty(p,e,m){return m.get!=null?p._.accessCache[e]=0:ee(m,"value")&&this.set(p,e,m.value,null),Reflect.defineProperty(p,e,m)}};function Fn(){return z1().slots}function z1(){const p=Th();return p.setupContext||(p.setupContext=Hm(p))}function Bo(p){return Mt(p)?p.reduce((e,m)=>(e[m]=null,e),{}):p}function fi(p,e){return!p||!e?p||e:Mt(p)&&Mt(e)?p.concat(e):Fe({},Bo(p),Bo(e))}let Kl=!0;function X1(p){const e=Am(p),m=p.proxy,C=p.ctx;Kl=!1,e.beforeCreate&&rc(e.beforeCreate,p,"bc");const{data:R,computed:M,methods:f,watch:S,provide:t,inject:h,created:g,beforeMount:o,mounted:a,beforeUpdate:r,updated:i,activated:n,deactivated:l,beforeDestroy:s,beforeUnmount:u,destroyed:d,unmounted:c,render:v,renderTracked:x,renderTriggered:y,errorCaptured:T,serverPrefetch:E,expose:A,inheritAttrs:P,components:w,directives:I,filters:O}=e;if(h&&W1(h,C,null),f)for(const D in f){const b=f[D];Ut(b)&&(C[D]=b.bind(m))}if(R){const D=R.call(m,m);le(D)&&(p.data=ch(D))}if(Kl=!0,M)for(const D in M){const b=M[D],U=Ut(b)?b.bind(m,m):Ut(b.get)?b.get.bind(m,m):Hi,W=!Ut(b)&&Ut(b.set)?b.set.bind(m):Hi,H=Lt({get:U,set:W});Object.defineProperty(C,D,{enumerable:!0,configurable:!0,get:()=>H.value,set:Y=>H.value=Y})}if(S)for(const D in S)Cm(S[D],C,m,D);if(t){const D=Ut(t)?t.call(m):t;Reflect.ownKeys(D).forEach(b=>{Q1(b,D[b])})}g&&rc(g,p,"c");function L(D,b){Mt(b)?b.forEach(U=>D(U.bind(m))):b&&D(b.bind(m))}if(L(Tm,o),L(Ps,a),L(L1,r),L(F1,i),L(w1,n),L(M1,l),L(b1,T),L(N1,x),L(D1,y),L(In,u),L(Ln,c),L(O1,E),Mt(A))if(A.length){const D=p.exposed||(p.exposed={});A.forEach(b=>{Object.defineProperty(D,b,{get:()=>m[b],set:U=>m[b]=U})})}else p.exposed||(p.exposed={});v&&p.render===Hi&&(p.render=v),P!=null&&(p.inheritAttrs=P),w&&(p.components=w),I&&(p.directives=I),E&&xm(p)}function W1(p,e,m=Hi){Mt(p)&&(p=$l(p));for(const C in p){const R=p[C];let M;le(R)?"default"in R?M=tr(R.from||C,R.default,!0):M=tr(R.from||C):M=tr(R),ae(M)?Object.defineProperty(e,C,{enumerable:!0,configurable:!0,get:()=>M.value,set:f=>M.value=f}):e[C]=M}}function rc(p,e,m){Oi(Mt(p)?p.map(C=>C.bind(e.proxy)):p.bind(e.proxy),e,m)}function Cm(p,e,m,C){let R=C.includes(".")?Bm(m,C):()=>m[C];if(Te(p)){const M=e[p];Ut(M)&&ni(R,M)}else if(Ut(p))ni(R,p.bind(m));else if(le(p))if(Mt(p))p.forEach(M=>Cm(M,e,m,C));else{const M=Ut(p.handler)?p.handler.bind(m):e[p.handler];Ut(M)&&ni(R,M,p)}}function Am(p){const e=p.type,{mixins:m,extends:C}=e,{mixins:R,optionsCache:M,config:{optionMergeStrategies:f}}=p.appContext,S=M.get(e);let t;return S?t=S:!R.length&&!m&&!C?t=e:(t={},R.length&&R.forEach(h=>Vo(t,h,f,!0)),Vo(t,e,f)),le(e)&&M.set(e,t),t}function Vo(p,e,m,C=!1){const{mixins:R,extends:M}=e;M&&Vo(p,M,m,!0),R&&R.forEach(f=>Vo(p,f,m,!0));for(const f in e)if(!(C&&f==="expose")){const S=Y1[f]||m&&m[f];p[f]=S?S(p[f],e[f]):e[f]}return p}const Y1={data:ac,props:oc,emits:oc,methods:Ur,computed:Ur,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:Ur,directives:Ur,watch:K1,provide:ac,inject:H1};function ac(p,e){return e?p?function(){return Fe(Ut(p)?p.call(this,this):p,Ut(e)?e.call(this,this):e)}:e:p}function H1(p,e){return Ur($l(p),$l(e))}function $l(p){if(Mt(p)){const e={};for(let m=0;m<p.length;m++)e[p[m]]=p[m];return e}return p}function _e(p,e){return p?[...new Set([].concat(p,e))]:e}function Ur(p,e){return p?Fe(Object.create(null),p,e):e}function oc(p,e){return p?Mt(p)&&Mt(e)?[...new Set([...p,...e])]:Fe(Object.create(null),Bo(p),Bo(e??{})):e}function K1(p,e){if(!p)return e;if(!e)return p;const m=Fe(Object.create(null),p);for(const C in e)m[C]=_e(p[C],e[C]);return m}function Pm(){return{app:null,config:{isNativeTag:wy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $1=0;function j1(p,e){return function(C,R=null){Ut(C)||(C=Fe({},C)),R!=null&&!le(R)&&(R=null);const M=Pm(),f=new WeakSet,S=[];let t=!1;const h=M.app={_uid:$1++,_component:C,_props:R,_container:null,_context:M,_instance:null,version:MT,get config(){return M.config},set config(g){},use(g,...o){return f.has(g)||(g&&Ut(g.install)?(f.add(g),g.install(h,...o)):Ut(g)&&(f.add(g),g(h,...o))),h},mixin(g){return M.mixins.includes(g)||M.mixins.push(g),h},component(g,o){return o?(M.components[g]=o,h):M.components[g]},directive(g,o){return o?(M.directives[g]=o,h):M.directives[g]},mount(g,o,a){if(!t){const r=h._ceVNode||Rt(C,R);return r.appContext=M,a===!0?a="svg":a===!1&&(a=void 0),p(r,g,a),t=!0,h._container=g,g.__vue_app__=h,Eh(r.component)}},onUnmount(g){S.push(g)},unmount(){t&&(Oi(S,h._instance,16),p(null,h._container),delete h._container.__vue_app__)},provide(g,o){return M.provides[g]=o,h},runWithContext(g){const o=Tn;Tn=h;try{return g()}finally{Tn=o}}};return h}}let Tn=null;function Q1(p,e){if(De){let m=De.provides;const C=De.parent&&De.parent.provides;C===m&&(m=De.provides=Object.create(C)),m[p]=e}}function tr(p,e,m=!1){const C=De||Me;if(C||Tn){const R=Tn?Tn._context.provides:C?C.parent==null?C.vnode.appContext&&C.vnode.appContext.provides:C.parent.provides:void 0;if(R&&p in R)return R[p];if(arguments.length>1)return m&&Ut(e)?e.call(C&&C.proxy):e}}function J1(){return!!(De||Me||Tn)}const Rm={},wm=()=>Object.create(Rm),Mm=p=>Object.getPrototypeOf(p)===Rm;function k1(p,e,m,C=!1){const R={},M=wm();p.propsDefaults=Object.create(null),Im(p,e,R,M);for(const f in p.propsOptions[0])f in R||(R[f]=void 0);m?p.props=C?R:a1(R):p.type.props?p.props=R:p.props=M,p.attrs=M}function Z1(p,e,m,C){const{props:R,attrs:M,vnode:{patchFlag:f}}=p,S=Kt(R),[t]=p.propsOptions;let h=!1;if((C||f>0)&&!(f&16)){if(f&8){const g=p.vnode.dynamicProps;for(let o=0;o<g.length;o++){let a=g[o];if(xh(p.emitsOptions,a))continue;const r=e[a];if(t)if(ee(M,a))r!==M[a]&&(M[a]=r,h=!0);else{const i=Fi(a);R[i]=jl(t,S,i,r,p,!1)}else r!==M[a]&&(M[a]=r,h=!0)}}}else{Im(p,e,R,M)&&(h=!0);let g;for(const o in S)(!e||!ee(e,o)&&((g=Cs(o))===o||!ee(e,g)))&&(t?m&&(m[o]!==void 0||m[g]!==void 0)&&(R[o]=jl(t,S,o,void 0,p,!0)):delete R[o]);if(M!==S)for(const o in M)(!e||!ee(e,o))&&(delete M[o],h=!0)}h&&as(p.attrs,"set","")}function Im(p,e,m,C){const[R,M]=p.propsOptions;let f=!1,S;if(e)for(let t in e){if($r(t))continue;const h=e[t];let g;R&&ee(R,g=Fi(t))?!M||!M.includes(g)?m[g]=h:(S||(S={}))[g]=h:xh(p.emitsOptions,t)||(!(t in C)||h!==C[t])&&(C[t]=h,f=!0)}if(M){const t=Kt(m),h=S||te;for(let g=0;g<M.length;g++){const o=M[g];m[o]=jl(R,t,o,h[o],p,!ee(h,o))}}return f}function jl(p,e,m,C,R,M){const f=p[m];if(f!=null){const S=ee(f,"default");if(S&&C===void 0){const t=f.default;if(f.type!==Function&&!f.skipFactory&&Ut(t)){const{propsDefaults:h}=R;if(m in h)C=h[m];else{const g=Ra(R);C=h[m]=t.call(null,e),g()}}else C=t;R.ce&&R.ce._setProp(m,C)}f[0]&&(M&&!S?C=!1:f[1]&&(C===""||C===Cs(m))&&(C=!0))}return C}const q1=new WeakMap;function Lm(p,e,m=!1){const C=m?q1:e.propsCache,R=C.get(p);if(R)return R;const M=p.props,f={},S=[];let t=!1;if(!Ut(p)){const g=o=>{t=!0;const[a,r]=Lm(o,e,!0);Fe(f,a),r&&S.push(...r)};!m&&e.mixins.length&&e.mixins.forEach(g),p.extends&&g(p.extends),p.mixins&&p.mixins.forEach(g)}if(!M&&!t)return le(p)&&C.set(p,kn),kn;if(Mt(M))for(let g=0;g<M.length;g++){const o=Fi(M[g]);hc(o)&&(f[o]=te)}else if(M)for(const g in M){const o=Fi(g);if(hc(o)){const a=M[g],r=f[o]=Mt(a)||Ut(a)?{type:a}:Fe({},a),i=r.type;let n=!1,l=!0;if(Mt(i))for(let s=0;s<i.length;++s){const u=i[s],d=Ut(u)&&u.name;if(d==="Boolean"){n=!0;break}else d==="String"&&(l=!1)}else n=Ut(i)&&i.name==="Boolean";r[0]=n,r[1]=l,(n||ee(r,"default"))&&S.push(o)}}const h=[f,S];return le(p)&&C.set(p,h),h}function hc(p){return p[0]!=="$"&&!$r(p)}const Fm=p=>p[0]==="_"||p==="$stable",Xu=p=>Mt(p)?p.map(Yi):[Yi(p)],_1=(p,e,m)=>{if(e._n)return e;const C=Xt((...R)=>Xu(e(...R)),m);return C._c=!1,C},Om=(p,e,m)=>{const C=p._ctx;for(const R in p){if(Fm(R))continue;const M=p[R];if(Ut(M))e[R]=_1(R,M,C);else if(M!=null){const f=Xu(M);e[R]=()=>f}}},Dm=(p,e)=>{const m=Xu(e);p.slots.default=()=>m},Nm=(p,e,m)=>{for(const C in e)(m||C!=="_")&&(p[C]=e[C])},tT=(p,e,m)=>{const C=p.slots=wm();if(p.vnode.shapeFlag&32){const R=e._;R?(Nm(C,e,m),m&&Dp(C,"_",R,!0)):Om(e,C)}else e&&Dm(p,e)},eT=(p,e,m)=>{const{vnode:C,slots:R}=p;let M=!0,f=te;if(C.shapeFlag&32){const S=e._;S?m&&S===1?M=!1:Nm(R,e,m):(M=!e.$stable,Om(e,R)),f=e}else e&&(Dm(p,e),f={default:1});if(M)for(const S in R)!Fm(S)&&f[S]==null&&delete R[S]},ti=pT;function iT(p){return sT(p)}function sT(p,e){const m=uh();m.__VUE__=!0;const{insert:C,remove:R,patchProp:M,createElement:f,createText:S,createComment:t,setText:h,setElementText:g,parentNode:o,nextSibling:a,setScopeId:r=Hi,insertStaticContent:i}=p,n=(Q,Z,_,et=null,it=null,st=null,nt=void 0,lt=null,ut=!!Z.dynamicChildren)=>{if(Q===Z)return;Q&&!vn(Q,Z)&&(et=z(Q),Y(Q,it,st,!0),Q=null),Z.patchFlag===-2&&(ut=!1,Z.dynamicChildren=null);const{type:ot,ref:rt,shapeFlag:ht}=Z;switch(ot){case yh:l(Q,Z,_,et);break;case si:s(Q,Z,_,et);break;case pl:Q==null&&u(Z,_,et,nt);break;case de:w(Q,Z,_,et,it,st,nt,lt,ut);break;default:ht&1?v(Q,Z,_,et,it,st,nt,lt,ut):ht&6?I(Q,Z,_,et,it,st,nt,lt,ut):(ht&64||ht&128)&&ot.process(Q,Z,_,et,it,st,nt,lt,ut,k)}rt!=null&&it&&bo(rt,Q&&Q.ref,st,Z||Q,!Z)},l=(Q,Z,_,et)=>{if(Q==null)C(Z.el=S(Z.children),_,et);else{const it=Z.el=Q.el;Z.children!==Q.children&&h(it,Z.children)}},s=(Q,Z,_,et)=>{Q==null?C(Z.el=t(Z.children||""),_,et):Z.el=Q.el},u=(Q,Z,_,et)=>{[Q.el,Q.anchor]=i(Q.children,Z,_,et,Q.el,Q.anchor)},d=({el:Q,anchor:Z},_,et)=>{let it;for(;Q&&Q!==Z;)it=a(Q),C(Q,_,et),Q=it;C(Z,_,et)},c=({el:Q,anchor:Z})=>{let _;for(;Q&&Q!==Z;)_=a(Q),R(Q),Q=_;R(Z)},v=(Q,Z,_,et,it,st,nt,lt,ut)=>{Z.type==="svg"?nt="svg":Z.type==="math"&&(nt="mathml"),Q==null?x(Z,_,et,it,st,nt,lt,ut):E(Q,Z,it,st,nt,lt,ut)},x=(Q,Z,_,et,it,st,nt,lt)=>{let ut,ot;const{props:rt,shapeFlag:ht,transition:dt,dirs:xt}=Q;if(ut=Q.el=f(Q.type,st,rt&&rt.is,rt),ht&8?g(ut,Q.children):ht&16&&T(Q.children,ut,null,et,it,vl(Q,st),nt,lt),xt&&hn(Q,null,et,"created"),y(ut,Q,Q.scopeId,nt,et),rt){for(const Ct in rt)Ct!=="value"&&!$r(Ct)&&M(ut,Ct,null,rt[Ct],st,et);"value"in rt&&M(ut,"value",null,rt.value,st),(ot=rt.onVnodeBeforeMount)&&Ui(ot,et,Q)}xt&&hn(Q,null,et,"beforeMount");const yt=nT(it,dt);yt&&dt.beforeEnter(ut),C(ut,Z,_),((ot=rt&&rt.onVnodeMounted)||yt||xt)&&ti(()=>{ot&&Ui(ot,et,Q),yt&&dt.enter(ut),xt&&hn(Q,null,et,"mounted")},it)},y=(Q,Z,_,et,it)=>{if(_&&r(Q,_),et)for(let st=0;st<et.length;st++)r(Q,et[st]);if(it){let st=it.subTree;if(Z===st||Um(st.type)&&(st.ssContent===Z||st.ssFallback===Z)){const nt=it.vnode;y(Q,nt,nt.scopeId,nt.slotScopeIds,it.parent)}}},T=(Q,Z,_,et,it,st,nt,lt,ut=0)=>{for(let ot=ut;ot<Q.length;ot++){const rt=Q[ot]=lt?Ns(Q[ot]):Yi(Q[ot]);n(null,rt,Z,_,et,it,st,nt,lt)}},E=(Q,Z,_,et,it,st,nt)=>{const lt=Z.el=Q.el;let{patchFlag:ut,dynamicChildren:ot,dirs:rt}=Z;ut|=Q.patchFlag&16;const ht=Q.props||te,dt=Z.props||te;let xt;if(_&&ln(_,!1),(xt=dt.onVnodeBeforeUpdate)&&Ui(xt,_,Z,Q),rt&&hn(Z,Q,_,"beforeUpdate"),_&&ln(_,!0),(ht.innerHTML&&dt.innerHTML==null||ht.textContent&&dt.textContent==null)&&g(lt,""),ot?A(Q.dynamicChildren,ot,lt,_,et,vl(Z,it),st):nt||b(Q,Z,lt,null,_,et,vl(Z,it),st,!1),ut>0){if(ut&16)P(lt,ht,dt,_,it);else if(ut&2&&ht.class!==dt.class&&M(lt,"class",null,dt.class,it),ut&4&&M(lt,"style",ht.style,dt.style,it),ut&8){const yt=Z.dynamicProps;for(let Ct=0;Ct<yt.length;Ct++){const St=yt[Ct],It=ht[St],zt=dt[St];(zt!==It||St==="value")&&M(lt,St,It,zt,it,_)}}ut&1&&Q.children!==Z.children&&g(lt,Z.children)}else!nt&&ot==null&&P(lt,ht,dt,_,it);((xt=dt.onVnodeUpdated)||rt)&&ti(()=>{xt&&Ui(xt,_,Z,Q),rt&&hn(Z,Q,_,"updated")},et)},A=(Q,Z,_,et,it,st,nt)=>{for(let lt=0;lt<Z.length;lt++){const ut=Q[lt],ot=Z[lt],rt=ut.el&&(ut.type===de||!vn(ut,ot)||ut.shapeFlag&70)?o(ut.el):_;n(ut,ot,rt,null,et,it,st,nt,!0)}},P=(Q,Z,_,et,it)=>{if(Z!==_){if(Z!==te)for(const st in Z)!$r(st)&&!(st in _)&&M(Q,st,Z[st],null,it,et);for(const st in _){if($r(st))continue;const nt=_[st],lt=Z[st];nt!==lt&&st!=="value"&&M(Q,st,lt,nt,it,et)}"value"in _&&M(Q,"value",Z.value,_.value,it)}},w=(Q,Z,_,et,it,st,nt,lt,ut)=>{const ot=Z.el=Q?Q.el:S(""),rt=Z.anchor=Q?Q.anchor:S("");let{patchFlag:ht,dynamicChildren:dt,slotScopeIds:xt}=Z;xt&&(lt=lt?lt.concat(xt):xt),Q==null?(C(ot,_,et),C(rt,_,et),T(Z.children||[],_,rt,it,st,nt,lt,ut)):ht>0&&ht&64&&dt&&Q.dynamicChildren?(A(Q.dynamicChildren,dt,_,it,st,nt,lt),(Z.key!=null||it&&Z===it.subTree)&&Wu(Q,Z,!0)):b(Q,Z,_,rt,it,st,nt,lt,ut)},I=(Q,Z,_,et,it,st,nt,lt,ut)=>{Z.slotScopeIds=lt,Q==null?Z.shapeFlag&512?it.ctx.activate(Z,_,et,nt,ut):O(Z,_,et,it,st,nt,ut):F(Q,Z,ut)},O=(Q,Z,_,et,it,st,nt)=>{const lt=Q.component=ST(Q,et,it);if(mh(Q)&&(lt.ctx.renderer=k),CT(lt,!1,nt),lt.asyncDep){if(it&&it.registerDep(lt,L,nt),!Q.el){const ut=lt.subTree=Rt(si);s(null,ut,Z,_)}}else L(lt,Q,Z,_,it,st,nt)},F=(Q,Z,_)=>{const et=Z.component=Q.component;if(cT(Q,Z,_))if(et.asyncDep&&!et.asyncResolved){D(et,Z,_);return}else et.next=Z,et.update();else Z.el=Q.el,et.vnode=Z},L=(Q,Z,_,et,it,st,nt)=>{const lt=()=>{if(Q.isMounted){let{next:ht,bu:dt,u:xt,parent:yt,vnode:Ct}=Q;{const Nt=bm(Q);if(Nt){ht&&(ht.el=Ct.el,D(Q,ht,nt)),Nt.asyncDep.then(()=>{Q.isUnmounted||lt()});return}}let St=ht,It;ln(Q,!1),ht?(ht.el=Ct.el,D(Q,ht,nt)):ht=Ct,dt&&vo(dt),(It=ht.props&&ht.props.onVnodeBeforeUpdate)&&Ui(It,yt,ht,Ct),ln(Q,!0);const zt=uc(Q),qt=Q.subTree;Q.subTree=zt,n(qt,zt,o(qt.el),z(qt),Q,it,st),ht.el=zt.el,St===null&&vT(Q,zt.el),xt&&ti(xt,it),(It=ht.props&&ht.props.onVnodeUpdated)&&ti(()=>Ui(It,yt,ht,Ct),it)}else{let ht;const{el:dt,props:xt}=Z,{bm:yt,m:Ct,parent:St,root:It,type:zt}=Q,qt=_n(Z);ln(Q,!1),yt&&vo(yt),!qt&&(ht=xt&&xt.onVnodeBeforeMount)&&Ui(ht,St,Z),ln(Q,!0);{It.ce&&It.ce._injectChildStyle(zt);const Nt=Q.subTree=uc(Q);n(null,Nt,_,et,Q,it,st),Z.el=Nt.el}if(Ct&&ti(Ct,it),!qt&&(ht=xt&&xt.onVnodeMounted)){const Nt=Z;ti(()=>Ui(ht,St,Nt),it)}(Z.shapeFlag&256||St&&_n(St.vnode)&&St.vnode.shapeFlag&256)&&Q.a&&ti(Q.a,it),Q.isMounted=!0,Z=_=et=null}};Q.scope.on();const ut=Q.effect=new zp(lt);Q.scope.off();const ot=Q.update=ut.run.bind(ut),rt=Q.job=ut.runIfDirty.bind(ut);rt.i=Q,rt.id=Q.uid,ut.scheduler=()=>zu(rt),ln(Q,!0),ot()},D=(Q,Z,_)=>{Z.component=Q;const et=Q.vnode.props;Q.vnode=Z,Q.next=null,Z1(Q,Z.props,et,_),eT(Q,Z.children,_),Zs(),_d(Q),qs()},b=(Q,Z,_,et,it,st,nt,lt,ut=!1)=>{const ot=Q&&Q.children,rt=Q?Q.shapeFlag:0,ht=Z.children,{patchFlag:dt,shapeFlag:xt}=Z;if(dt>0){if(dt&128){W(ot,ht,_,et,it,st,nt,lt,ut);return}else if(dt&256){U(ot,ht,_,et,it,st,nt,lt,ut);return}}xt&8?(rt&16&&B(ot,it,st),ht!==ot&&g(_,ht)):rt&16?xt&16?W(ot,ht,_,et,it,st,nt,lt,ut):B(ot,it,st,!0):(rt&8&&g(_,""),xt&16&&T(ht,_,et,it,st,nt,lt,ut))},U=(Q,Z,_,et,it,st,nt,lt,ut)=>{Q=Q||kn,Z=Z||kn;const ot=Q.length,rt=Z.length,ht=Math.min(ot,rt);let dt;for(dt=0;dt<ht;dt++){const xt=Z[dt]=ut?Ns(Z[dt]):Yi(Z[dt]);n(Q[dt],xt,_,null,it,st,nt,lt,ut)}ot>rt?B(Q,it,st,!0,!1,ht):T(Z,_,et,it,st,nt,lt,ut,ht)},W=(Q,Z,_,et,it,st,nt,lt,ut)=>{let ot=0;const rt=Z.length;let ht=Q.length-1,dt=rt-1;for(;ot<=ht&&ot<=dt;){const xt=Q[ot],yt=Z[ot]=ut?Ns(Z[ot]):Yi(Z[ot]);if(vn(xt,yt))n(xt,yt,_,null,it,st,nt,lt,ut);else break;ot++}for(;ot<=ht&&ot<=dt;){const xt=Q[ht],yt=Z[dt]=ut?Ns(Z[dt]):Yi(Z[dt]);if(vn(xt,yt))n(xt,yt,_,null,it,st,nt,lt,ut);else break;ht--,dt--}if(ot>ht){if(ot<=dt){const xt=dt+1,yt=xt<rt?Z[xt].el:et;for(;ot<=dt;)n(null,Z[ot]=ut?Ns(Z[ot]):Yi(Z[ot]),_,yt,it,st,nt,lt,ut),ot++}}else if(ot>dt)for(;ot<=ht;)Y(Q[ot],it,st,!0),ot++;else{const xt=ot,yt=ot,Ct=new Map;for(ot=yt;ot<=dt;ot++){const jt=Z[ot]=ut?Ns(Z[ot]):Yi(Z[ot]);jt.key!=null&&Ct.set(jt.key,ot)}let St,It=0;const zt=dt-yt+1;let qt=!1,Nt=0;const Jt=new Array(zt);for(ot=0;ot<zt;ot++)Jt[ot]=0;for(ot=xt;ot<=ht;ot++){const jt=Q[ot];if(It>=zt){Y(jt,it,st,!0);continue}let Se;if(jt.key!=null)Se=Ct.get(jt.key);else for(St=yt;St<=dt;St++)if(Jt[St-yt]===0&&vn(jt,Z[St])){Se=St;break}Se===void 0?Y(jt,it,st,!0):(Jt[Se-yt]=ot+1,Se>=Nt?Nt=Se:qt=!0,n(jt,Z[Se],_,null,it,st,nt,lt,ut),It++)}const oe=qt?rT(Jt):kn;for(St=oe.length-1,ot=zt-1;ot>=0;ot--){const jt=yt+ot,Se=Z[jt],gi=jt+1<rt?Z[jt+1].el:et;Jt[ot]===0?n(null,Se,_,gi,it,st,nt,lt,ut):qt&&(St<0||ot!==oe[St]?H(Se,_,gi,2):St--)}}},H=(Q,Z,_,et,it=null)=>{const{el:st,type:nt,transition:lt,children:ut,shapeFlag:ot}=Q;if(ot&6){H(Q.component.subTree,Z,_,et);return}if(ot&128){Q.suspense.move(Z,_,et);return}if(ot&64){nt.move(Q,Z,_,k);return}if(nt===de){C(st,Z,_);for(let ht=0;ht<ut.length;ht++)H(ut[ht],Z,_,et);C(Q.anchor,Z,_);return}if(nt===pl){d(Q,Z,_);return}if(et!==2&&ot&1&&lt)if(et===0)lt.beforeEnter(st),C(st,Z,_),ti(()=>lt.enter(st),it);else{const{leave:ht,delayLeave:dt,afterLeave:xt}=lt,yt=()=>C(st,Z,_),Ct=()=>{ht(st,()=>{yt(),xt&&xt()})};dt?dt(st,yt,Ct):Ct()}else C(st,Z,_)},Y=(Q,Z,_,et=!1,it=!1)=>{const{type:st,props:nt,ref:lt,children:ut,dynamicChildren:ot,shapeFlag:rt,patchFlag:ht,dirs:dt,cacheIndex:xt}=Q;if(ht===-2&&(it=!1),lt!=null&&bo(lt,null,_,Q,!0),xt!=null&&(Z.renderCache[xt]=void 0),rt&256){Z.ctx.deactivate(Q);return}const yt=rt&1&&dt,Ct=!_n(Q);let St;if(Ct&&(St=nt&&nt.onVnodeBeforeUnmount)&&Ui(St,Z,Q),rt&6)V(Q.component,_,et);else{if(rt&128){Q.suspense.unmount(_,et);return}yt&&hn(Q,null,Z,"beforeUnmount"),rt&64?Q.type.remove(Q,Z,_,k,et):ot&&!ot.hasOnce&&(st!==de||ht>0&&ht&64)?B(ot,Z,_,!1,!0):(st===de&&ht&384||!it&&rt&16)&&B(ut,Z,_),et&&G(Q)}(Ct&&(St=nt&&nt.onVnodeUnmounted)||yt)&&ti(()=>{St&&Ui(St,Z,Q),yt&&hn(Q,null,Z,"unmounted")},_)},G=Q=>{const{type:Z,el:_,anchor:et,transition:it}=Q;if(Z===de){X(_,et);return}if(Z===pl){c(Q);return}const st=()=>{R(_),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(Q.shapeFlag&1&&it&&!it.persisted){const{leave:nt,delayLeave:lt}=it,ut=()=>nt(_,st);lt?lt(Q.el,st,ut):ut()}else st()},X=(Q,Z)=>{let _;for(;Q!==Z;)_=a(Q),R(Q),Q=_;R(Z)},V=(Q,Z,_)=>{const{bum:et,scope:it,job:st,subTree:nt,um:lt,m:ut,a:ot}=Q;lc(ut),lc(ot),et&&vo(et),it.stop(),st&&(st.flags|=8,Y(nt,Q,Z,_)),lt&&ti(lt,Z),ti(()=>{Q.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},B=(Q,Z,_,et=!1,it=!1,st=0)=>{for(let nt=st;nt<Q.length;nt++)Y(Q[nt],Z,_,et,it)},z=Q=>{if(Q.shapeFlag&6)return z(Q.component.subTree);if(Q.shapeFlag&128)return Q.suspense.next();const Z=a(Q.anchor||Q.el),_=Z&&Z[lm];return _?a(_):Z};let $=!1;const j=(Q,Z,_)=>{Q==null?Z._vnode&&Y(Z._vnode,null,null,!0):n(Z._vnode||null,Q,Z,null,null,null,_),Z._vnode=Q,$||($=!0,_d(),am(),$=!1)},k={p:n,um:Y,m:H,r:G,mt:O,mc:T,pc:b,pbc:A,n:z,o:p};return{render:j,hydrate:void 0,createApp:j1(j)}}function vl({type:p,props:e},m){return m==="svg"&&p==="foreignObject"||m==="mathml"&&p==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:m}function ln({effect:p,job:e},m){m?(p.flags|=32,e.flags|=4):(p.flags&=-33,e.flags&=-5)}function nT(p,e){return(!p||p&&!p.pendingBranch)&&e&&!e.persisted}function Wu(p,e,m=!1){const C=p.children,R=e.children;if(Mt(C)&&Mt(R))for(let M=0;M<C.length;M++){const f=C[M];let S=R[M];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=R[M]=Ns(R[M]),S.el=f.el),!m&&S.patchFlag!==-2&&Wu(f,S)),S.type===yh&&(S.el=f.el)}}function rT(p){const e=p.slice(),m=[0];let C,R,M,f,S;const t=p.length;for(C=0;C<t;C++){const h=p[C];if(h!==0){if(R=m[m.length-1],p[R]<h){e[C]=R,m.push(C);continue}for(M=0,f=m.length-1;M<f;)S=M+f>>1,p[m[S]]<h?M=S+1:f=S;h<p[m[M]]&&(M>0&&(e[C]=m[M-1]),m[M]=C)}}for(M=m.length,f=m[M-1];M-- >0;)m[M]=f,f=e[f];return m}function bm(p){const e=p.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:bm(e)}function lc(p){if(p)for(let e=0;e<p.length;e++)p[e].flags|=8}const aT=Symbol.for("v-scx"),oT=()=>tr(aT);function hT(p,e){return Yu(p,null,{flush:"sync"})}function ni(p,e,m){return Yu(p,e,m)}function Yu(p,e,m=te){const{immediate:C,deep:R,flush:M,once:f}=m,S=Fe({},m),t=e&&C||!e&&M!=="post";let h;if(ca){if(M==="sync"){const r=oT();h=r.__watcherHandles||(r.__watcherHandles=[])}else if(!t){const r=()=>{};return r.stop=Hi,r.resume=Hi,r.pause=Hi,r}}const g=De;S.call=(r,i,n)=>Oi(r,g,i,n);let o=!1;M==="post"?S.scheduler=r=>{ti(r,g&&g.suspense)}:M!=="sync"&&(o=!0,S.scheduler=(r,i)=>{i?r():zu(r)}),S.augmentJob=r=>{e&&(r.flags|=4),o&&(r.flags|=2,g&&(r.id=g.uid,r.i=g))};const a=y1(p,e,S);return ca&&(h?h.push(a):t&&a()),a}function lT(p,e,m){const C=this.proxy,R=Te(p)?p.includes(".")?Bm(C,p):()=>C[p]:p.bind(C,C);let M;Ut(e)?M=e:(M=e.handler,m=e);const f=Ra(this),S=Yu(R,M.bind(C),m);return f(),S}function Bm(p,e){const m=e.split(".");return()=>{let C=p;for(let R=0;R<m.length&&C;R++)C=C[m[R]];return C}}function bi(p,e,m=te){const C=Th(),R=Fi(e),M=Cs(e),f=Vm(p,R),S=f1((t,h)=>{let g,o=te,a;return hT(()=>{const r=p[R];hi(g,r)&&(g=r,h())}),{get(){return t(),m.get?m.get(g):g},set(r){const i=m.set?m.set(r):r;if(!hi(i,g)&&!(o!==te&&hi(r,o)))return;const n=C.vnode.props;n&&(e in n||R in n||M in n)&&(`onUpdate:${e}`in n||`onUpdate:${R}`in n||`onUpdate:${M}`in n)||(g=r,h()),C.emit(`update:${e}`,i),hi(r,i)&&hi(r,o)&&!hi(i,a)&&h(),o=r,a=i}}});return S[Symbol.iterator]=()=>{let t=0;return{next(){return t<2?{value:t++?f||te:S,done:!1}:{done:!0}}}},S}const Vm=(p,e)=>e==="modelValue"||e==="model-value"?p.modelModifiers:p[`${e}Modifiers`]||p[`${Fi(e)}Modifiers`]||p[`${Cs(e)}Modifiers`];function uT(p,e,...m){if(p.isUnmounted)return;const C=p.vnode.props||te;let R=m;const M=e.startsWith("update:"),f=M&&Vm(C,e.slice(7));f&&(f.trim&&(R=m.map(g=>Te(g)?g.trim():g)),f.number&&(R=m.map(Lo)));let S,t=C[S=ol(e)]||C[S=ol(Fi(e))];!t&&M&&(t=C[S=ol(Cs(e))]),t&&Oi(t,p,6,R);const h=C[S+"Once"];if(h){if(!p.emitted)p.emitted={};else if(p.emitted[S])return;p.emitted[S]=!0,Oi(h,p,6,R)}}function Gm(p,e,m=!1){const C=e.emitsCache,R=C.get(p);if(R!==void 0)return R;const M=p.emits;let f={},S=!1;if(!Ut(p)){const t=h=>{const g=Gm(h,e,!0);g&&(S=!0,Fe(f,g))};!m&&e.mixins.length&&e.mixins.forEach(t),p.extends&&t(p.extends),p.mixins&&p.mixins.forEach(t)}return!M&&!S?(le(p)&&C.set(p,null),null):(Mt(M)?M.forEach(t=>f[t]=null):Fe(f,M),le(p)&&C.set(p,f),f)}function xh(p,e){return!p||!hh(e)?!1:(e=e.slice(2).replace(/Once$/,""),ee(p,e[0].toLowerCase()+e.slice(1))||ee(p,Cs(e))||ee(p,e))}function uc(p){const{type:e,vnode:m,proxy:C,withProxy:R,propsOptions:[M],slots:f,attrs:S,emit:t,render:h,renderCache:g,props:o,data:a,setupState:r,ctx:i,inheritAttrs:n}=p,l=No(p);let s,u;try{if(m.shapeFlag&4){const c=R||C,v=c;s=Yi(h.call(v,c,g,o,r,a,i)),u=S}else{const c=e;s=Yi(c.length>1?c(o,{attrs:S,slots:f,emit:t}):c(o,null)),u=e.props?S:fT(S)}}catch(c){Zr.length=0,vh(c,p,1),s=Rt(si)}let d=s;if(u&&n!==!1){const c=Object.keys(u),{shapeFlag:v}=d;c.length&&v&7&&(M&&c.some(wu)&&(u=dT(u,M)),d=Ys(d,u,!1,!0))}return m.dirs&&(d=Ys(d,null,!1,!0),d.dirs=d.dirs?d.dirs.concat(m.dirs):m.dirs),m.transition&&ua(d,m.transition),s=d,No(l),s}const fT=p=>{let e;for(const m in p)(m==="class"||m==="style"||hh(m))&&((e||(e={}))[m]=p[m]);return e},dT=(p,e)=>{const m={};for(const C in p)(!wu(C)||!(C.slice(9)in e))&&(m[C]=p[C]);return m};function cT(p,e,m){const{props:C,children:R,component:M}=p,{props:f,children:S,patchFlag:t}=e,h=M.emitsOptions;if(e.dirs||e.transition)return!0;if(m&&t>=0){if(t&1024)return!0;if(t&16)return C?fc(C,f,h):!!f;if(t&8){const g=e.dynamicProps;for(let o=0;o<g.length;o++){const a=g[o];if(f[a]!==C[a]&&!xh(h,a))return!0}}}else return(R||S)&&(!S||!S.$stable)?!0:C===f?!1:C?f?fc(C,f,h):!0:!!f;return!1}function fc(p,e,m){const C=Object.keys(e);if(C.length!==Object.keys(p).length)return!0;for(let R=0;R<C.length;R++){const M=C[R];if(e[M]!==p[M]&&!xh(m,M))return!0}return!1}function vT({vnode:p,parent:e},m){for(;e;){const C=e.subTree;if(C.suspense&&C.suspense.activeBranch===p&&(C.el=p.el),C===p)(p=e.vnode).el=m,e=e.parent;else break}}const Um=p=>p.__isSuspense;function pT(p,e){e&&e.pendingBranch?Mt(p)?e.effects.push(...p):e.effects.push(p):S1(p)}const de=Symbol.for("v-fgt"),yh=Symbol.for("v-txt"),si=Symbol.for("v-cmt"),pl=Symbol.for("v-stc"),Zr=[];let vi=null;function gt(p=!1){Zr.push(vi=p?null:[])}function mT(){Zr.pop(),vi=Zr[Zr.length-1]||null}let fa=1;function dc(p,e=!1){fa+=p,p<0&&vi&&e&&(vi.hasOnce=!0)}function zm(p){return p.dynamicChildren=fa>0?vi||kn:null,mT(),fa>0&&vi&&vi.push(p),p}function Et(p,e,m,C,R,M){return zm(wt(p,e,m,C,R,M,!0))}function Pe(p,e,m,C,R){return zm(Rt(p,e,m,C,R,!0))}function da(p){return p?p.__v_isVNode===!0:!1}function vn(p,e){return p.type===e.type&&p.key===e.key}const Xm=({key:p})=>p??null,mo=({ref:p,ref_key:e,ref_for:m})=>(typeof p=="number"&&(p=""+p),p!=null?Te(p)||ae(p)||Ut(p)?{i:Me,r:p,k:e,f:!!m}:p:null);function wt(p,e=null,m=null,C=0,R=null,M=p===de?0:1,f=!1,S=!1){const t={__v_isVNode:!0,__v_skip:!0,type:p,props:e,key:e&&Xm(e),ref:e&&mo(e),scopeId:hm,slotScopeIds:null,children:m,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:M,patchFlag:C,dynamicProps:R,dynamicChildren:null,appContext:null,ctx:Me};return S?(Hu(t,m),M&128&&p.normalize(t)):m&&(t.shapeFlag|=Te(m)?8:16),fa>0&&!f&&vi&&(t.patchFlag>0||M&6)&&t.patchFlag!==32&&vi.push(t),t}const Rt=gT;function gT(p,e=null,m=null,C=0,R=null,M=!1){if((!p||p===V1)&&(p=si),da(p)){const S=Ys(p,e,!0);return m&&Hu(S,m),fa>0&&!M&&vi&&(S.shapeFlag&6?vi[vi.indexOf(p)]=S:vi.push(S)),S.patchFlag=-2,S}if(RT(p)&&(p=p.__vccOpts),e){e=xT(e);let{class:S,style:t}=e;S&&!Te(S)&&(e.class=Zt(S)),le(t)&&(Vu(t)&&!Mt(t)&&(t=Fe({},t)),e.style=Qe(t))}const f=Te(p)?1:Um(p)?128:um(p)?64:le(p)?4:Ut(p)?2:0;return wt(p,e,m,C,R,f,M,!0)}function xT(p){return p?Vu(p)||Mm(p)?Fe({},p):p:null}function Ys(p,e,m=!1,C=!1){const{props:R,ref:M,patchFlag:f,children:S,transition:t}=p,h=e?yT(R||{},e):R,g={__v_isVNode:!0,__v_skip:!0,type:p.type,props:h,key:h&&Xm(h),ref:e&&e.ref?m&&M?Mt(M)?M.concat(mo(e)):[M,mo(e)]:mo(e):M,scopeId:p.scopeId,slotScopeIds:p.slotScopeIds,children:S,target:p.target,targetStart:p.targetStart,targetAnchor:p.targetAnchor,staticCount:p.staticCount,shapeFlag:p.shapeFlag,patchFlag:e&&p.type!==de?f===-1?16:f|16:f,dynamicProps:p.dynamicProps,dynamicChildren:p.dynamicChildren,appContext:p.appContext,dirs:p.dirs,transition:t,component:p.component,suspense:p.suspense,ssContent:p.ssContent&&Ys(p.ssContent),ssFallback:p.ssFallback&&Ys(p.ssFallback),el:p.el,anchor:p.anchor,ctx:p.ctx,ce:p.ce};return t&&C&&ua(g,t.clone(g)),g}function he(p=" ",e=0){return Rt(yh,null,p,e)}function Wt(p="",e=!1){return e?(gt(),Pe(si,null,p)):Rt(si,null,p)}function Yi(p){return p==null||typeof p=="boolean"?Rt(si):Mt(p)?Rt(de,null,p.slice()):da(p)?Ns(p):Rt(yh,null,String(p))}function Ns(p){return p.el===null&&p.patchFlag!==-1||p.memo?p:Ys(p)}function Hu(p,e){let m=0;const{shapeFlag:C}=p;if(e==null)e=null;else if(Mt(e))m=16;else if(typeof e=="object")if(C&65){const R=e.default;R&&(R._c&&(R._d=!1),Hu(p,R()),R._c&&(R._d=!0));return}else{m=32;const R=e._;!R&&!Mm(e)?e._ctx=Me:R===3&&Me&&(Me.slots._===1?e._=1:(e._=2,p.patchFlag|=1024))}else Ut(e)?(e={default:e,_ctx:Me},m=32):(e=String(e),C&64?(m=16,e=[he(e)]):m=8);p.children=e,p.shapeFlag|=m}function yT(...p){const e={};for(let m=0;m<p.length;m++){const C=p[m];for(const R in C)if(R==="class")e.class!==C.class&&(e.class=Zt([e.class,C.class]));else if(R==="style")e.style=Qe([e.style,C.style]);else if(hh(R)){const M=e[R],f=C[R];f&&M!==f&&!(Mt(M)&&M.includes(f))&&(e[R]=M?[].concat(M,f):f)}else R!==""&&(e[R]=C[R])}return e}function Ui(p,e,m,C=null){Oi(p,e,7,[m,C])}const TT=Pm();let ET=0;function ST(p,e,m){const C=p.type,R=(e?e.appContext:p.appContext)||TT,M={uid:ET++,vnode:p,type:C,parent:e,appContext:R,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(R.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lm(C,R),emitsOptions:Gm(C,R),emit:null,emitted:null,propsDefaults:te,inheritAttrs:C.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:m,suspenseId:m?m.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return M.ctx={_:M},M.root=e?e.root:M,M.emit=uT.bind(null,M),p.ce&&p.ce(M),M}let De=null;const Th=()=>De||Me;let Go,Ql;{const p=uh(),e=(m,C)=>{let R;return(R=p[m])||(R=p[m]=[]),R.push(C),M=>{R.length>1?R.forEach(f=>f(M)):R[0](M)}};Go=e("__VUE_INSTANCE_SETTERS__",m=>De=m),Ql=e("__VUE_SSR_SETTERS__",m=>ca=m)}const Ra=p=>{const e=De;return Go(p),p.scope.on(),()=>{p.scope.off(),Go(e)}},cc=()=>{De&&De.scope.off(),Go(null)};function Wm(p){return p.vnode.shapeFlag&4}let ca=!1;function CT(p,e=!1,m=!1){e&&Ql(e);const{props:C,children:R}=p.vnode,M=Wm(p);k1(p,C,M,e),tT(p,R,m);const f=M?AT(p,e):void 0;return e&&Ql(!1),f}function AT(p,e){const m=p.type;p.accessCache=Object.create(null),p.proxy=new Proxy(p.ctx,U1);const{setup:C}=m;if(C){Zs();const R=p.setupContext=C.length>1?Hm(p):null,M=Ra(p),f=Pa(C,p,0,[p.props,R]),S=Lp(f);if(qs(),M(),(S||p.sp)&&!_n(p)&&xm(p),S){if(f.then(cc,cc),e)return f.then(t=>{vc(p,t)}).catch(t=>{vh(t,p,0)});p.asyncDep=f}else vc(p,f)}else Ym(p)}function vc(p,e,m){Ut(e)?p.type.__ssrInlineRender?p.ssrRender=e:p.render=e:le(e)&&(p.setupState=im(e)),Ym(p)}function Ym(p,e,m){const C=p.type;p.render||(p.render=C.render||Hi);{const R=Ra(p);Zs();try{X1(p)}finally{qs(),R()}}}const PT={get(p,e){return Ke(p,"get",""),p[e]}};function Hm(p){const e=m=>{p.exposed=m||{}};return{attrs:new Proxy(p.attrs,PT),slots:p.slots,emit:p.emit,expose:e}}function Eh(p){return p.exposed?p.exposeProxy||(p.exposeProxy=new Proxy(im(Gu(p.exposed)),{get(e,m){if(m in e)return e[m];if(m in kr)return kr[m](p)},has(e,m){return m in e||m in kr}})):p.proxy}function RT(p){return Ut(p)&&"__vccOpts"in p}const Lt=(p,e)=>g1(p,e,ca);function wT(p,e,m){const C=arguments.length;return C===2?le(e)&&!Mt(e)?da(e)?Rt(p,null,[e]):Rt(p,e):Rt(p,null,e):(C>3?m=Array.prototype.slice.call(arguments,2):C===3&&da(m)&&(m=[m]),Rt(p,e,m))}const MT="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jl;const pc=typeof window<"u"&&window.trustedTypes;if(pc)try{Jl=pc.createPolicy("vue",{createHTML:p=>p})}catch{}const Km=Jl?p=>Jl.createHTML(p):p=>p,IT="http://www.w3.org/2000/svg",LT="http://www.w3.org/1998/Math/MathML",ns=typeof document<"u"?document:null,mc=ns&&ns.createElement("template"),FT={insert:(p,e,m)=>{e.insertBefore(p,m||null)},remove:p=>{const e=p.parentNode;e&&e.removeChild(p)},createElement:(p,e,m,C)=>{const R=e==="svg"?ns.createElementNS(IT,p):e==="mathml"?ns.createElementNS(LT,p):m?ns.createElement(p,{is:m}):ns.createElement(p);return p==="select"&&C&&C.multiple!=null&&R.setAttribute("multiple",C.multiple),R},createText:p=>ns.createTextNode(p),createComment:p=>ns.createComment(p),setText:(p,e)=>{p.nodeValue=e},setElementText:(p,e)=>{p.textContent=e},parentNode:p=>p.parentNode,nextSibling:p=>p.nextSibling,querySelector:p=>ns.querySelector(p),setScopeId(p,e){p.setAttribute(e,"")},insertStaticContent(p,e,m,C,R,M){const f=m?m.previousSibling:e.lastChild;if(R&&(R===M||R.nextSibling))for(;e.insertBefore(R.cloneNode(!0),m),!(R===M||!(R=R.nextSibling)););else{mc.innerHTML=Km(C==="svg"?`<svg>${p}</svg>`:C==="mathml"?`<math>${p}</math>`:p);const S=mc.content;if(C==="svg"||C==="mathml"){const t=S.firstChild;for(;t.firstChild;)S.appendChild(t.firstChild);S.removeChild(t)}e.insertBefore(S,m)}return[f?f.nextSibling:e.firstChild,m?m.previousSibling:e.lastChild]}},Is="transition",Gr="animation",va=Symbol("_vtc"),$m={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},OT=Fe({},cm,$m),DT=p=>(p.displayName="Transition",p.props=OT,p),NT=DT((p,{slots:e})=>wT(R1,bT(p),e)),un=(p,e=[])=>{Mt(p)?p.forEach(m=>m(...e)):p&&p(...e)},gc=p=>p?Mt(p)?p.some(e=>e.length>1):p.length>1:!1;function bT(p){const e={};for(const w in p)w in $m||(e[w]=p[w]);if(p.css===!1)return e;const{name:m="v",type:C,duration:R,enterFromClass:M=`${m}-enter-from`,enterActiveClass:f=`${m}-enter-active`,enterToClass:S=`${m}-enter-to`,appearFromClass:t=M,appearActiveClass:h=f,appearToClass:g=S,leaveFromClass:o=`${m}-leave-from`,leaveActiveClass:a=`${m}-leave-active`,leaveToClass:r=`${m}-leave-to`}=p,i=BT(R),n=i&&i[0],l=i&&i[1],{onBeforeEnter:s,onEnter:u,onEnterCancelled:d,onLeave:c,onLeaveCancelled:v,onBeforeAppear:x=s,onAppear:y=u,onAppearCancelled:T=d}=e,E=(w,I,O,F)=>{w._enterCancelled=F,fn(w,I?g:S),fn(w,I?h:f),O&&O()},A=(w,I)=>{w._isLeaving=!1,fn(w,o),fn(w,r),fn(w,a),I&&I()},P=w=>(I,O)=>{const F=w?y:u,L=()=>E(I,w,O);un(F,[I,L]),xc(()=>{fn(I,w?t:M),ss(I,w?g:S),gc(F)||yc(I,C,n,L)})};return Fe(e,{onBeforeEnter(w){un(s,[w]),ss(w,M),ss(w,f)},onBeforeAppear(w){un(x,[w]),ss(w,t),ss(w,h)},onEnter:P(!1),onAppear:P(!0),onLeave(w,I){w._isLeaving=!0;const O=()=>A(w,I);ss(w,o),w._enterCancelled?(ss(w,a),Sc()):(Sc(),ss(w,a)),xc(()=>{w._isLeaving&&(fn(w,o),ss(w,r),gc(c)||yc(w,C,l,O))}),un(c,[w,O])},onEnterCancelled(w){E(w,!1,void 0,!0),un(d,[w])},onAppearCancelled(w){E(w,!0,void 0,!0),un(T,[w])},onLeaveCancelled(w){A(w),un(v,[w])}})}function BT(p){if(p==null)return null;if(le(p))return[ml(p.enter),ml(p.leave)];{const e=ml(p);return[e,e]}}function ml(p){return Oy(p)}function ss(p,e){e.split(/\s+/).forEach(m=>m&&p.classList.add(m)),(p[va]||(p[va]=new Set)).add(e)}function fn(p,e){e.split(/\s+/).forEach(C=>C&&p.classList.remove(C));const m=p[va];m&&(m.delete(e),m.size||(p[va]=void 0))}function xc(p){requestAnimationFrame(()=>{requestAnimationFrame(p)})}let VT=0;function yc(p,e,m,C){const R=p._endId=++VT,M=()=>{R===p._endId&&C()};if(m!=null)return setTimeout(M,m);const{type:f,timeout:S,propCount:t}=GT(p,e);if(!f)return C();const h=f+"end";let g=0;const o=()=>{p.removeEventListener(h,a),M()},a=r=>{r.target===p&&++g>=t&&o()};setTimeout(()=>{g<t&&o()},S+1),p.addEventListener(h,a)}function GT(p,e){const m=window.getComputedStyle(p),C=i=>(m[i]||"").split(", "),R=C(`${Is}Delay`),M=C(`${Is}Duration`),f=Tc(R,M),S=C(`${Gr}Delay`),t=C(`${Gr}Duration`),h=Tc(S,t);let g=null,o=0,a=0;e===Is?f>0&&(g=Is,o=f,a=M.length):e===Gr?h>0&&(g=Gr,o=h,a=t.length):(o=Math.max(f,h),g=o>0?f>h?Is:Gr:null,a=g?g===Is?M.length:t.length:0);const r=g===Is&&/\b(transform|all)(,|$)/.test(C(`${Is}Property`).toString());return{type:g,timeout:o,propCount:a,hasTransform:r}}function Tc(p,e){for(;p.length<e.length;)p=p.concat(p);return Math.max(...e.map((m,C)=>Ec(m)+Ec(p[C])))}function Ec(p){return p==="auto"?0:Number(p.slice(0,-1).replace(",","."))*1e3}function Sc(){return document.body.offsetHeight}function UT(p,e,m){const C=p[va];C&&(e=(e?[e,...C]:[...C]).join(" ")),e==null?p.removeAttribute("class"):m?p.setAttribute("class",e):p.className=e}const Cc=Symbol("_vod"),zT=Symbol("_vsh"),XT=Symbol(""),WT=/(^|;)\s*display\s*:/;function YT(p,e,m){const C=p.style,R=Te(m);let M=!1;if(m&&!R){if(e)if(Te(e))for(const f of e.split(";")){const S=f.slice(0,f.indexOf(":")).trim();m[S]==null&&go(C,S,"")}else for(const f in e)m[f]==null&&go(C,f,"");for(const f in m)f==="display"&&(M=!0),go(C,f,m[f])}else if(R){if(e!==m){const f=C[XT];f&&(m+=";"+f),C.cssText=m,M=WT.test(m)}}else e&&p.removeAttribute("style");Cc in p&&(p[Cc]=M?C.display:"",p[zT]&&(C.display="none"))}const Ac=/\s*!important$/;function go(p,e,m){if(Mt(m))m.forEach(C=>go(p,e,C));else if(m==null&&(m=""),e.startsWith("--"))p.setProperty(e,m);else{const C=HT(p,e);Ac.test(m)?p.setProperty(Cs(C),m.replace(Ac,""),"important"):p[C]=m}}const Pc=["Webkit","Moz","ms"],gl={};function HT(p,e){const m=gl[e];if(m)return m;let C=Fi(e);if(C!=="filter"&&C in p)return gl[e]=C;C=Lu(C);for(let R=0;R<Pc.length;R++){const M=Pc[R]+C;if(M in p)return gl[e]=M}return e}const Rc="http://www.w3.org/1999/xlink";function wc(p,e,m,C,R,M=Gy(e)){C&&e.startsWith("xlink:")?m==null?p.removeAttributeNS(Rc,e.slice(6,e.length)):p.setAttributeNS(Rc,e,m):m==null||M&&!Np(m)?p.removeAttribute(e):p.setAttribute(e,M?"":Li(m)?String(m):m)}function Mc(p,e,m,C,R){if(e==="innerHTML"||e==="textContent"){m!=null&&(p[e]=e==="innerHTML"?Km(m):m);return}const M=p.tagName;if(e==="value"&&M!=="PROGRESS"&&!M.includes("-")){const S=M==="OPTION"?p.getAttribute("value")||"":p.value,t=m==null?p.type==="checkbox"?"on":"":String(m);(S!==t||!("_value"in p))&&(p.value=t),m==null&&p.removeAttribute(e),p._value=m;return}let f=!1;if(m===""||m==null){const S=typeof p[e];S==="boolean"?m=Np(m):m==null&&S==="string"?(m="",f=!0):S==="number"&&(m=0,f=!0)}try{p[e]=m}catch{}f&&p.removeAttribute(R||e)}function hs(p,e,m,C){p.addEventListener(e,m,C)}function KT(p,e,m,C){p.removeEventListener(e,m,C)}const Ic=Symbol("_vei");function $T(p,e,m,C,R=null){const M=p[Ic]||(p[Ic]={}),f=M[e];if(C&&f)f.value=C;else{const[S,t]=jT(e);if(C){const h=M[e]=kT(C,R);hs(p,S,h,t)}else f&&(KT(p,S,f,t),M[e]=void 0)}}const Lc=/(?:Once|Passive|Capture)$/;function jT(p){let e;if(Lc.test(p)){e={};let C;for(;C=p.match(Lc);)p=p.slice(0,p.length-C[0].length),e[C[0].toLowerCase()]=!0}return[p[2]===":"?p.slice(3):Cs(p.slice(2)),e]}let xl=0;const QT=Promise.resolve(),JT=()=>xl||(QT.then(()=>xl=0),xl=Date.now());function kT(p,e){const m=C=>{if(!C._vts)C._vts=Date.now();else if(C._vts<=m.attached)return;Oi(ZT(C,m.value),e,5,[C])};return m.value=p,m.attached=JT(),m}function ZT(p,e){if(Mt(e)){const m=p.stopImmediatePropagation;return p.stopImmediatePropagation=()=>{m.call(p),p._stopped=!0},e.map(C=>R=>!R._stopped&&C&&C(R))}else return e}const Fc=p=>p.charCodeAt(0)===111&&p.charCodeAt(1)===110&&p.charCodeAt(2)>96&&p.charCodeAt(2)<123,qT=(p,e,m,C,R,M)=>{const f=R==="svg";e==="class"?UT(p,C,f):e==="style"?YT(p,m,C):hh(e)?wu(e)||$T(p,e,m,C,M):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_T(p,e,C,f))?(Mc(p,e,C),!p.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wc(p,e,C,f,M,e!=="value")):p._isVueCE&&(/[A-Z]/.test(e)||!Te(C))?Mc(p,Fi(e),C,M,e):(e==="true-value"?p._trueValue=C:e==="false-value"&&(p._falseValue=C),wc(p,e,C,f))};function _T(p,e,m,C){if(C)return!!(e==="innerHTML"||e==="textContent"||e in p&&Fc(e)&&Ut(m));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&p.tagName==="INPUT"||e==="type"&&p.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const R=p.tagName;if(R==="IMG"||R==="VIDEO"||R==="CANVAS"||R==="SOURCE")return!1}return Fc(e)&&Te(m)?!1:e in p}const Hs=p=>{const e=p.props["onUpdate:modelValue"]||!1;return Mt(e)?m=>vo(e,m):e};function tE(p){p.target.composing=!0}function Oc(p){const e=p.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Si=Symbol("_assign"),rr={created(p,{modifiers:{lazy:e,trim:m,number:C}},R){p[Si]=Hs(R);const M=C||R.props&&R.props.type==="number";hs(p,e?"change":"input",f=>{if(f.target.composing)return;let S=p.value;m&&(S=S.trim()),M&&(S=Lo(S)),p[Si](S)}),m&&hs(p,"change",()=>{p.value=p.value.trim()}),e||(hs(p,"compositionstart",tE),hs(p,"compositionend",Oc),hs(p,"change",Oc))},mounted(p,{value:e}){p.value=e??""},beforeUpdate(p,{value:e,oldValue:m,modifiers:{lazy:C,trim:R,number:M}},f){if(p[Si]=Hs(f),p.composing)return;const S=(M||p.type==="number")&&!/^0\d/.test(p.value)?Lo(p.value):p.value,t=e??"";S!==t&&(document.activeElement===p&&p.type!=="range"&&(C&&e===m||R&&p.value.trim()===t)||(p.value=t))}},Ku={deep:!0,created(p,e,m){p[Si]=Hs(m),hs(p,"change",()=>{const C=p._modelValue,R=ar(p),M=p.checked,f=p[Si];if(Mt(C)){const S=Fu(C,R),t=S!==-1;if(M&&!t)f(C.concat(R));else if(!M&&t){const h=[...C];h.splice(S,1),f(h)}}else if(pr(C)){const S=new Set(C);M?S.add(R):S.delete(R),f(S)}else f(Qm(p,M))})},mounted:Dc,beforeUpdate(p,e,m){p[Si]=Hs(m),Dc(p,e,m)}};function Dc(p,{value:e,oldValue:m},C){p._modelValue=e;let R;if(Mt(e))R=Fu(e,C.props.value)>-1;else if(pr(e))R=e.has(C.props.value);else{if(e===m)return;R=Sn(e,Qm(p,!0))}p.checked!==R&&(p.checked=R)}const eE={created(p,{value:e},m){p.checked=Sn(e,m.props.value),p[Si]=Hs(m),hs(p,"change",()=>{p[Si](ar(p))})},beforeUpdate(p,{value:e,oldValue:m},C){p[Si]=Hs(C),e!==m&&(p.checked=Sn(e,C.props.value))}},jm={deep:!0,created(p,{value:e,modifiers:{number:m}},C){const R=pr(e);hs(p,"change",()=>{const M=Array.prototype.filter.call(p.options,f=>f.selected).map(f=>m?Lo(ar(f)):ar(f));p[Si](p.multiple?R?new Set(M):M:M[0]),p._assigning=!0,Uu(()=>{p._assigning=!1})}),p[Si]=Hs(C)},mounted(p,{value:e}){Nc(p,e)},beforeUpdate(p,e,m){p[Si]=Hs(m)},updated(p,{value:e}){p._assigning||Nc(p,e)}};function Nc(p,e){const m=p.multiple,C=Mt(e);if(!(m&&!C&&!pr(e))){for(let R=0,M=p.options.length;R<M;R++){const f=p.options[R],S=ar(f);if(m)if(C){const t=typeof S;t==="string"||t==="number"?f.selected=e.some(h=>String(h)===String(S)):f.selected=Fu(e,S)>-1}else f.selected=e.has(S);else if(Sn(ar(f),e)){p.selectedIndex!==R&&(p.selectedIndex=R);return}}!m&&p.selectedIndex!==-1&&(p.selectedIndex=-1)}}function ar(p){return"_value"in p?p._value:p.value}function Qm(p,e){const m=e?"_trueValue":"_falseValue";return m in p?p[m]:e}const iE={created(p,e,m){ro(p,e,m,null,"created")},mounted(p,e,m){ro(p,e,m,null,"mounted")},beforeUpdate(p,e,m,C){ro(p,e,m,C,"beforeUpdate")},updated(p,e,m,C){ro(p,e,m,C,"updated")}};function sE(p,e){switch(p){case"SELECT":return jm;case"TEXTAREA":return rr;default:switch(e){case"checkbox":return Ku;case"radio":return eE;default:return rr}}}function ro(p,e,m,C,R){const f=sE(p.tagName,m.props&&m.props.type)[R];f&&f(p,e,m,C)}const nE=["ctrl","shift","alt","meta"],rE={stop:p=>p.stopPropagation(),prevent:p=>p.preventDefault(),self:p=>p.target!==p.currentTarget,ctrl:p=>!p.ctrlKey,shift:p=>!p.shiftKey,alt:p=>!p.altKey,meta:p=>!p.metaKey,left:p=>"button"in p&&p.button!==0,middle:p=>"button"in p&&p.button!==1,right:p=>"button"in p&&p.button!==2,exact:(p,e)=>nE.some(m=>p[`${m}Key`]&&!e.includes(m))},wa=(p,e)=>{const m=p._withMods||(p._withMods={}),C=e.join(".");return m[C]||(m[C]=(R,...M)=>{for(let f=0;f<e.length;f++){const S=rE[e[f]];if(S&&S(R,e))return}return p(R,...M)})},aE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},oE=(p,e)=>{const m=p._withKeys||(p._withKeys={}),C=e.join(".");return m[C]||(m[C]=R=>{if(!("key"in R))return;const M=Cs(R.key);if(e.some(f=>f===M||aE[f]===M))return p(R)})},hE=Fe({patchProp:qT},FT);let bc;function lE(){return bc||(bc=iT(hE))}const uE=(...p)=>{const e=lE().createApp(...p),{mount:m}=e;return e.mount=C=>{const R=dE(C);if(!R)return;const M=e._component;!Ut(M)&&!M.render&&!M.template&&(M.template=R.innerHTML),R.nodeType===1&&(R.textContent="");const f=m(R,!1,fE(R));return R instanceof Element&&(R.removeAttribute("v-cloak"),R.setAttribute("data-v-app","")),f},e};function fE(p){if(p instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&p instanceof MathMLElement)return"mathml"}function dE(p){return Te(p)?document.querySelector(p):p}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Jm;const Sh=p=>Jm=p,km=Symbol();function kl(p){return p&&typeof p=="object"&&Object.prototype.toString.call(p)==="[object Object]"&&typeof p.toJSON!="function"}var qr;(function(p){p.direct="direct",p.patchObject="patch object",p.patchFunction="patch function"})(qr||(qr={}));function cE(){const p=Gp(!0),e=p.run(()=>Gt({}));let m=[],C=[];const R=Gu({install(M){Sh(R),R._a=M,M.provide(km,R),M.config.globalProperties.$pinia=R,C.forEach(f=>m.push(f)),C=[]},use(M){return this._a?m.push(M):C.push(M),this},_p:m,_a:null,_e:p,_s:new Map,state:e});return R}const Zm=()=>{};function Bc(p,e,m,C=Zm){p.push(e);const R=()=>{const M=p.indexOf(e);M>-1&&(p.splice(M,1),C())};return!m&&Up()&&zy(R),R}function Yn(p,...e){p.slice().forEach(m=>{m(...e)})}const vE=p=>p(),Vc=Symbol(),yl=Symbol();function Zl(p,e){p instanceof Map&&e instanceof Map?e.forEach((m,C)=>p.set(C,m)):p instanceof Set&&e instanceof Set&&e.forEach(p.add,p);for(const m in e){if(!e.hasOwnProperty(m))continue;const C=e[m],R=p[m];kl(R)&&kl(C)&&p.hasOwnProperty(m)&&!ae(C)&&!ms(C)?p[m]=Zl(R,C):p[m]=C}return p}const pE=Symbol();function mE(p){return!kl(p)||!p.hasOwnProperty(pE)}const{assign:Fs}=Object;function gE(p){return!!(ae(p)&&p.effect)}function xE(p,e,m,C){const{state:R,actions:M,getters:f}=e,S=m.state.value[p];let t;function h(){S||(m.state.value[p]=R?R():{});const g=d1(m.state.value[p]);return Fs(g,M,Object.keys(f||{}).reduce((o,a)=>(o[a]=Gu(Lt(()=>{Sh(m);const r=m._s.get(p);return f[a].call(r,r)})),o),{}))}return t=qm(p,h,e,m,C,!0),t}function qm(p,e,m={},C,R,M){let f;const S=Fs({actions:{}},m),t={deep:!0};let h,g,o=[],a=[],r;const i=C.state.value[p];!M&&!i&&(C.state.value[p]={}),Gt({});let n;function l(T){let E;h=g=!1,typeof T=="function"?(T(C.state.value[p]),E={type:qr.patchFunction,storeId:p,events:r}):(Zl(C.state.value[p],T),E={type:qr.patchObject,payload:T,storeId:p,events:r});const A=n=Symbol();Uu().then(()=>{n===A&&(h=!0)}),g=!0,Yn(o,E,C.state.value[p])}const s=M?function(){const{state:E}=m,A=E?E():{};this.$patch(P=>{Fs(P,A)})}:Zm;function u(){f.stop(),o=[],a=[],C._s.delete(p)}const d=(T,E="")=>{if(Vc in T)return T[yl]=E,T;const A=function(){Sh(C);const P=Array.from(arguments),w=[],I=[];function O(D){w.push(D)}function F(D){I.push(D)}Yn(a,{args:P,name:A[yl],store:v,after:O,onError:F});let L;try{L=T.apply(this&&this.$id===p?this:v,P)}catch(D){throw Yn(I,D),D}return L instanceof Promise?L.then(D=>(Yn(w,D),D)).catch(D=>(Yn(I,D),Promise.reject(D))):(Yn(w,L),L)};return A[Vc]=!0,A[yl]=E,A},c={_p:C,$id:p,$onAction:Bc.bind(null,a),$patch:l,$reset:s,$subscribe(T,E={}){const A=Bc(o,T,E.detached,()=>P()),P=f.run(()=>ni(()=>C.state.value[p],w=>{(E.flush==="sync"?g:h)&&T({storeId:p,type:qr.direct,events:r},w)},Fs({},t,E)));return A},$dispose:u},v=ch(c);C._s.set(p,v);const y=(C._a&&C._a.runWithContext||vE)(()=>C._e.run(()=>(f=Gp()).run(()=>e({action:d}))));for(const T in y){const E=y[T];if(ae(E)&&!gE(E)||ms(E))M||(i&&mE(E)&&(ae(E)?E.value=i[T]:Zl(E,i[T])),C.state.value[p][T]=E);else if(typeof E=="function"){const A=d(E,T);y[T]=A,S.actions[T]=E}}return Fs(v,y),Fs(Kt(v),y),Object.defineProperty(v,"$state",{get:()=>C.state.value[p],set:T=>{l(E=>{Fs(E,T)})}}),C._p.forEach(T=>{Fs(v,f.run(()=>T({store:v,app:C._a,pinia:C,options:S})))}),i&&M&&m.hydrate&&m.hydrate(v.$state,i),h=!0,g=!0,v}/*! #__NO_SIDE_EFFECTS__ */function On(p,e,m){let C;const R=typeof e=="function";C=R?m:e;function M(f,S){const t=J1();return f=f||(t?tr(km,null):null),f&&Sh(f),f=Jm,f._s.has(p)||(R?qm(p,e,C,f):xE(p,C,f)),f._s.get(p)}return M.$id=p,M}function Ue(p){const e=Kt(p),m={};for(const C in e){const R=e[C];R.effect?m[C]=Lt({get:()=>p[C],set(M){p[C]=M}}):(ae(R)||ms(R))&&(m[C]=p1(p,C))}return m}const yE={beforeMount(p,e){const m=R=>{!p.contains(R.target)&&typeof e.value=="function"&&e.value(R)},C=p.ownerDocument||document;p.__clickOutsideHandler__=m,C.addEventListener("click",m,e.modifiers.capture)},beforeUnmount(p,e){p.__clickOutsideHandler__&&((p.ownerDocument||document).removeEventListener("click",p.__clickOutsideHandler__,e.modifiers.capture),delete p.__clickOutsideHandler__)}},TE={install:(p,e={})=>{p.directive("click-outside",yE),p.provide("libEnv",e)}};let EE=class{constructor(){mt(this,"_isEnabled",!1);mt(this,"_isCollisionDisabled",!1);mt(this,"_hasInfiniteEnergy",!0);mt(this,"_isImmortal",!0);const e=JSON.parse(localStorage.getItem("debug")??"{}");this._isEnabled=!1,this._isCollisionDisabled=this.load(e,"_isCollisionDisabled"),this._hasInfiniteEnergy=this.load(e,"_hasInfiniteEnergy"),this._isImmortal=this.load(e,"_isImmortal")}load(e,m){return e[m]===void 0?!!this[m]:e[m]}get isEnabled(){return this._isEnabled}set isEnabled(e){this._isEnabled=e,this.save()}get isCollisionDisabled(){return this.isEnabled&&this._isCollisionDisabled}set isCollisionDisabled(e){this._isCollisionDisabled=e,this.save()}get hasInfiniteEnergy(){return this.isEnabled&&this._hasInfiniteEnergy}set hasInfiniteEnergy(e){this._hasInfiniteEnergy=e,this.save()}get isImmortal(){return this.isEnabled&&this._isImmortal}set isImmortal(e){this._isImmortal=e,this.save()}save(){localStorage.setItem("debug",JSON.stringify(this))}};const Ot={player:{hpStart:100,hpMax:100,hpRegen:0,energyStart:25,energyMax:100,energyRegen:.015,energyDrainRate:.1,dashDistance:250,dashSpeed:30,dashCooldown:500,dashDamageReduction:.5,teleportDistance:250,teleportCooldown:1e3,velocity:2,maxVelocity:4,acceleration:.2,deceleration:.1,boundsPadding:50,colorDash:43775,colorDamage:16755370},asteroid:{baseSpawnRate:4e3,minSpeed:2,maxSpeedMultiplier:3,rotationSpeed:.01,damageMultiplier:.5,small:{hp:20,speed:1,size:[2,2.5]},large:{hp:50,speed:1,size:[4.5,5]}},powerUp:{rotationSpeed:.01,hpSmall:1,hpMedium:5,hpLarge:15,energySmall:2,energyMedium:20,energyLarge:50},beam:{damage:1,speed:10,maxScale:40,scaleDuration:500,minAngle:-Math.PI/3,maxAngle:Math.PI/3,scaleX:3},hiscores:{threshold:1e3}},SE=p=>typeof p=="object"&&!Array.isArray(p)&&p!==null,_m=(p=16)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let m="";const C=e.length;for(let R=0;R<p;R++)m+=e.charAt(Math.floor(Math.random()*C));return m},CE=p=>{try{return new URL(p,window.location.origin).origin===window.location.origin}catch{return!1}},Ti=(p,e,m)=>Math.max(e,Math.min(p,m)),tg=(p,e,m=0)=>{const C=(p-m)%e;return C<e/2?p-C:p+(e-C)},zi=(p,e,m=1)=>{const C=Math.random()*(e-p)+p;return tg(C,m)},Gc=p=>p[Math.floor(Math.random()*p.length)],be=[];for(let p=0;p<256;++p)be.push((p+256).toString(16).slice(1));function AE(p,e=0){return(be[p[e+0]]+be[p[e+1]]+be[p[e+2]]+be[p[e+3]]+"-"+be[p[e+4]]+be[p[e+5]]+"-"+be[p[e+6]]+be[p[e+7]]+"-"+be[p[e+8]]+be[p[e+9]]+"-"+be[p[e+10]]+be[p[e+11]]+be[p[e+12]]+be[p[e+13]]+be[p[e+14]]+be[p[e+15]]).toLowerCase()}let Tl;const PE=new Uint8Array(16);function RE(){if(!Tl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Tl=crypto.getRandomValues.bind(crypto)}return Tl(PE)}const wE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Uc={randomUUID:wE};function $u(p,e,m){var R;if(Uc.randomUUID&&!p)return Uc.randomUUID();p=p||{};const C=p.random??((R=p.rng)==null?void 0:R.call(p))??RE();if(C.length<16)throw new Error("Random bytes length must be >= 16");return C[6]=C[6]&15|64,C[8]=C[8]&63|128,AE(C)}class ME{constructor(e,m){mt(this,"id");mt(this,"sprite");mt(this,"_hp",1);mt(this,"maxHp",1);mt(this,"maxSpeed",3);mt(this,"minSpeed",Ot.asteroid.minSpeed);mt(this,"isLarge",!1);mt(this,"onDestroy");mt(this,"scene");mt(this,"key");mt(this,"size",1);mt(this,"angle",0);this.id=$u(),this.key=`asteroid/${zi(1,6)}`,this.scene=e,this.maxSpeed=(m.maxSpeed??1)*Ot.asteroid.maxSpeedMultiplier,this.isLarge=m.isLarge??!1,this.size=this.isLarge?zi(Ot.asteroid.large.size[0],Ot.asteroid.large.size[1],.1):zi(Ot.asteroid.small.size[0],Ot.asteroid.small.size[1],.1),this.hp=this.isLarge?Ot.asteroid.large.hp:Ot.asteroid.small.hp,this.maxHp=this.hp,this.sprite=this.create(),this.onDestroy=m.onDestroy}get hp(){return this._hp}set hp(e){if(this._hp=e,e<=0){this.destroy(!0);return}if(!this.sprite)return;const m=this._hp/this.maxHp,M=Phaser.Display.Color.Interpolate.ColorWithColor(Phaser.Display.Color.ValueToColor(16766336),Phaser.Display.Color.ValueToColor(16777215),100,m*100);this.sprite.setTint(Phaser.Display.Color.GetColor(M.r,M.g,M.b))}get damage(){return this.hp*Ot.asteroid.damageMultiplier}get speed(){const e=this.hp/this.maxHp,m=this.minSpeed+(this.maxSpeed-this.minSpeed)*e;return Ti(m,this.minSpeed,this.maxSpeed)}get velocity(){return{x:-this.speed*Math.cos(this.angle),y:this.speed*.5*Math.sin(this.angle)}}create(){const e=this.scene.textures.get(this.key).getSourceImage(),m=Math.random()<.75;let C,R;return m?(C=this.scene.scale.width+e.width,R=zi(0,this.scene.scale.height-e.height),this.angle=zi(-15,15)*Math.PI/180):Math.random()<.5?(C=zi(this.scene.scale.width/2,this.scene.scale.width)+e.width,R=-e.height,this.angle=zi(15,30)*Math.PI/180):(C=zi(0,this.scene.scale.width-e.width),R=this.scene.scale.height+e.height,this.angle=zi(-15,-30)*Math.PI/180),this.scene.add.image(C,R,this.key).setScale(this.size).setDepth(100)}update(){this.sprite.x+=this.velocity.x,this.sprite.y+=this.velocity.y,this.sprite.rotation+=Ot.asteroid.rotationSpeed;const e=500;(this.sprite.x<-this.sprite.width-e||this.sprite.y>this.scene.scale.height+this.sprite.height+e)&&this.destroy()}destroy(e=!1){const m={x:this.sprite.x,y:this.sprite.y};this.onDestroy(this.id,{isDestroyedByPlayer:e,position:m,size:this.size,isLarge:this.isLarge});const{x:C,y:R}={x:this.sprite.x,y:this.sprite.y};this.sprite.destroy();const M=this.scene.add.sprite(C,R,"explosion/md").setScale(this.size*.5).setDepth(100);M.anims.play("explosion/md").once("animationcomplete",()=>M.destroy())}}var xo={exports:{}},IE=xo.exports,zc;function LE(){return zc||(zc=1,function(p,e){(function(C,R){p.exports=R()})(IE,()=>(()=>{var m={50792:f=>{var S=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function g(i,n,l){this.fn=i,this.context=n,this.once=l||!1}function o(i,n,l,s,u){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new g(l,s||i,u),c=t?t+n:n;return i._events[c]?i._events[c].fn?i._events[c]=[i._events[c],d]:i._events[c].push(d):(i._events[c]=d,i._eventsCount++),i}function a(i,n){--i._eventsCount===0?i._events=new h:delete i._events[n]}function r(){this._events=new h,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,s;if(this._eventsCount===0)return n;for(s in l=this._events)S.call(l,s)&&n.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,s=this._events[l];if(!s)return[];if(s.fn)return[s.fn];for(var u=0,d=s.length,c=new Array(d);u<d;u++)c[u]=s[u].fn;return c},r.prototype.listenerCount=function(n){var l=t?t+n:n,s=this._events[l];return s?s.fn?1:s.length:0},r.prototype.emit=function(n,l,s,u,d,c){var v=t?t+n:n;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,T,E;if(x.fn){switch(x.once&&this.removeListener(n,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,l),!0;case 3:return x.fn.call(x.context,l,s),!0;case 4:return x.fn.call(x.context,l,s,u),!0;case 5:return x.fn.call(x.context,l,s,u,d),!0;case 6:return x.fn.call(x.context,l,s,u,d,c),!0}for(E=1,T=new Array(y-1);E<y;E++)T[E-1]=arguments[E];x.fn.apply(x.context,T)}else{var A=x.length,P;for(E=0;E<A;E++)switch(x[E].once&&this.removeListener(n,x[E].fn,void 0,!0),y){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,l);break;case 3:x[E].fn.call(x[E].context,l,s);break;case 4:x[E].fn.call(x[E].context,l,s,u);break;default:if(!T)for(P=1,T=new Array(y-1);P<y;P++)T[P-1]=arguments[P];x[E].fn.apply(x[E].context,T)}}return!0},r.prototype.on=function(n,l,s){return o(this,n,l,s,!1)},r.prototype.once=function(n,l,s){return o(this,n,l,s,!0)},r.prototype.removeListener=function(n,l,s,u){var d=t?t+n:n;if(!this._events[d])return this;if(!l)return a(this,d),this;var c=this._events[d];if(c.fn)c.fn===l&&(!u||c.once)&&(!s||c.context===s)&&a(this,d);else{for(var v=0,x=[],y=c.length;v<y;v++)(c[v].fn!==l||u&&!c[v].once||s&&c[v].context!==s)&&x.push(c[v]);x.length?this._events[d]=x.length===1?x[0]:x:a(this,d)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&a(this,l)):(this._events=new h,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,f.exports=r},11517:(f,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38829),g=function(o,a,r,i){for(var n=o[0],l=1;l<o.length;l++){var s=o[l];h(s,n,a,r,i),n=s}return o};f.exports=g},80318:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"angle",a,r,i,n)};f.exports=g},60757:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){for(var o=0;o<t.length;o++){var a=t[o];h.call(g,a)}return t};f.exports=S},69927:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){g===void 0&&(g=0);for(var o=g;o<t.length;o++){var a=t[o],r=!0;for(var i in h)a[i]!==h[i]&&(r=!1);if(r)return a}return null};f.exports=S},32265:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){g===void 0&&(g=0);for(var o=t.length-1;o>=g;o--){var a=t[o],r=!0;for(var i in h)a[i]!==h[i]&&(r=!1);if(r)return a}return null};f.exports=S},94420:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11879),g=t(60461),o=t(95540),a=t(29747),r=t(41481),i=new r({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),n=function(l,s){s===void 0&&(s={});var u=s.hasOwnProperty("width"),d=s.hasOwnProperty("height"),c=o(s,"width",-1),v=o(s,"height",-1),x=o(s,"cellWidth",1),y=o(s,"cellHeight",x),T=o(s,"position",g.TOP_LEFT),E=o(s,"x",0),A=o(s,"y",0),P=0,w=0,I=c*x,O=v*y;i.setPosition(E,A),i.setSize(x,y);for(var F=0;F<l.length;F++)if(h(l[F],i,T),u&&c===-1)i.x+=x;else if(d&&v===-1)i.y+=y;else if(d&&!u){if(w+=y,i.y+=y,w===O&&(w=0,P+=x,i.y=A,i.x+=x,P===I))break}else if(P+=x,i.x+=x,P===I&&(P=0,w+=y,i.x=E,i.y+=y,w===O))break;return l};f.exports=n},41721:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"alpha",a,r,i,n)};f.exports=g},67285:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"x",a,r,i,n)};f.exports=g},9074:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"x",a,i,l,s),h(o,"y",r,n,l,s)};f.exports=g},75222:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"y",a,r,i,n)};f.exports=g},22983:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g===void 0&&(g=0),o===void 0&&(o=6.28);for(var a=g,r=(o-g)/t.length,i=h.x,n=h.y,l=h.radius,s=0;s<t.length;s++)t[s].x=i+l*Math.cos(a),t[s].y=n+l*Math.sin(a),a+=r;return t};f.exports=S},95253:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g===void 0&&(g=0),o===void 0&&(o=6.28);for(var a=g,r=(o-g)/t.length,i=h.width/2,n=h.height/2,l=0;l<t.length;l++)t[l].x=h.x+i*Math.cos(a),t[l].y=h.y+n*Math.sin(a),a+=r;return t};f.exports=S},88505:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15258),g=t(26708),o=function(a,r,i){var n;i?n=g(r,i,a.length):n=h(r,a.length);for(var l=0;l<a.length;l++){var s=a[l],u=n[l];s.x=u.x,s.y=u.y}return a};f.exports=o},41346:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14649),g=t(86003),o=t(49498),a=function(r,i,n){n===void 0&&(n=0);var l=h(i,!1,r.length);n>0?g(l,n):n<0&&o(l,Math.abs(n));for(var s=0;s<r.length;s++)r[s].x=l[s].x,r[s].y=l[s].y;return r};f.exports=a},11575:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84993),g=function(o,a,r){var i=h({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r),n=h({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},r),l=h({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},r);i.pop(),n.pop(),l.pop(),i=i.concat(n,l);for(var s=i.length/o.length,u=0,d=0;d<o.length;d++){var c=o[d],v=i[Math.floor(u)];c.x=v.x,c.y=v.y,u+=s}return o};f.exports=g},29953:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){for(var o=0;o<t.length;o++){var a=t[o];a.anims&&a.anims.play(h,g)}return t};f.exports=S},66979:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,n=0,l=t.length;if(r===1)for(i=a;i<l;i++)t[i][h]+=g+n*o,n++;else for(i=a;i>=0;i--)t[i][h]+=g+n*o,n++;return t};f.exports=S},43967:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,n=0,l=t.length;if(r===1)for(i=a;i<l;i++)t[i][h]=g+n*o,n++;else for(i=a;i>=0;i--)t[i][h]=g+n*o,n++;return t};f.exports=S},88926:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28176),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},33286:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24820),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},96e3:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65822),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},28789:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26597),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},97154:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90260),g=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};f.exports=g},20510:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"rotation",a,r,i,n)};f.exports=g},91051:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),g=t(20339),o=function(a,r,i){for(var n=r.x,l=r.y,s=0;s<a.length;s++){var u=a[s];h(u,n,l,i,Math.max(1,g(u.x,u.y,n,l)))}return a};f.exports=o},76332:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),g=function(o,a,r,i){var n=a.x,l=a.y;if(i===0)return o;for(var s=0;s<o.length;s++)h(o[s],n,l,r,i);return o};f.exports=g},61619:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"scaleX",a,r,i,n)};f.exports=g},94868:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scaleX",a,i,l,s),h(o,"scaleY",r,n,l,s)};f.exports=g},95532:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),g=function(o,a,r,i,n){return h(o,"scaleY",a,r,i,n)};f.exports=g},8689:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"alpha",a,r,i,n)};f.exports=g},2645:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i){return h(o,"blendMode",a,0,r,i)};f.exports=g},32372:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"depth",a,r,i,n)};f.exports=g},85373:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){for(var o=0;o<t.length;o++)t[o].setInteractive(h,g);return t};f.exports=S},81583:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"originX",a,i,l,s),h(o,"originY",r,n,l,s),o.forEach(function(u){u.updateDisplayOrigin()}),o};f.exports=g},79939:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"rotation",a,r,i,n)};f.exports=g},2699:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scaleX",a,i,l,s),h(o,"scaleY",r,n,l,s)};f.exports=g},98739:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"scaleX",a,r,i,n)};f.exports=g},98476:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"scaleY",a,r,i,n)};f.exports=g},6207:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scrollFactorX",a,i,l,s),h(o,"scrollFactorY",r,n,l,s)};f.exports=g},6607:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"scrollFactorX",a,r,i,n)};f.exports=g},72248:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"scrollFactorY",a,r,i,n)};f.exports=g},14036:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a){for(var r=0;r<t.length;r++)t[r].setTint(h,g,o,a);return t};f.exports=S},50159:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i){return h(o,"visible",a,0,r,i)};f.exports=g},77597:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"x",a,r,i,n)};f.exports=g},83194:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"x",a,i,l,s),h(o,"y",r,n,l,s)};f.exports=g},67678:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),g=function(o,a,r,i,n){return h(o,"y",a,r,i,n)};f.exports=g},35850:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=new h);var l,s,u=o.length;if(u===1)l=o[0].x,s=o[0].y,o[0].x=a,o[0].y=r;else{var d=1,c=0;i===0&&(c=u-1,d=u-2),l=o[c].x,s=o[c].y,o[c].x=a,o[c].y=r;for(var v=0;v<u;v++)if(!(d>=u||d===-1)){var x=o[d],y=x.x,T=x.y;x.x=l,x.y=s,l=y,s=T,i===0?d--:d++}}return n.x=l,n.y=s,n};f.exports=g},8628:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33680),g=function(o){return h(o)};f.exports=g},21837:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),g=function(o,a,r,i,n){n===void 0&&(n=!1);var l=Math.abs(i-r)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][a]+=h(s*l,r,i);else for(s=0;s<o.length;s++)o[s][a]=h(s*l,r,i);return o};f.exports=g},21910:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),g=function(o,a,r,i,n){n===void 0&&(n=!1);var l=Math.abs(i-r)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][a]+=h(s*l,r,i);else for(s=0;s<o.length;s++)o[s][a]=h(s*l,r,i);return o};f.exports=g},62054:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a){if(a===void 0&&(a=!1),t.length===0)return t;if(t.length===1)return a?t[0][h]+=(o+g)/2:t[0][h]=(o+g)/2,t;var r=Math.abs(o-g)/(t.length-1),i;if(a)for(i=0;i<t.length;i++)t[i][h]+=i*r+g;else for(i=0;i<t.length;i++)t[i][h]=i*r+g;return t};f.exports=S},79815:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};f.exports=S},39665:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),g=function(o,a,r){r===void 0&&(r=0);for(var i=0;i<o.length;i++){var n=o[i];n.x=h(n.x,a.left-r,a.right+r),n.y=h(n.y,a.top-r,a.bottom+r)}return o};f.exports=g},61061:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(74943),a=t(81957),r=t(41138),i=t(35154),n=t(90126),l=new g({initialize:function(u,d,c){this.manager=u,this.key=d,this.type="frame",this.frames=this.getFrames(u.textureManager,i(c,"frames",[]),i(c,"defaultTextureKey",null),i(c,"sortFrames",!0)),this.frameRate=i(c,"frameRate",null),this.duration=i(c,"duration",null),this.msPerFrame,this.skipMissedFrames=i(c,"skipMissedFrames",!0),this.delay=i(c,"delay",0),this.repeat=i(c,"repeat",0),this.repeatDelay=i(c,"repeatDelay",0),this.yoyo=i(c,"yoyo",!1),this.showBeforeDelay=i(c,"showBeforeDelay",!1),this.showOnStart=i(c,"showOnStart",!1),this.hideOnComplete=i(c,"hideOnComplete",!1),this.randomFrame=i(c,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,u,d,c){d===null&&c===null?(s.frameRate=24,s.duration=24/u*1e3):d&&c===null?(s.duration=d,s.frameRate=u/(d/1e3)):(s.frameRate=c,s.duration=u/c*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,u){var d=this.getFrames(this.manager.textureManager,u);if(d.length>0){if(s===0)this.frames=d.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(d);else{var c=this.frames.slice(0,s),v=this.frames.slice(s);this.frames=c.concat(d,v)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,u,d,c){c===void 0&&(c=!0);var v=[],x,y,T=1,E,A;if(typeof u=="string"){if(A=u,!s.exists(A))return console.warn('Texture "%s" not found',A),v;var P=s.get(A),w=P.getFrameNames();c&&n(w),u=[],w.forEach(function(b){u.push({key:A,frame:b})})}if(!Array.isArray(u)||u.length===0)return v;for(E=0;E<u.length;E++){var I=u[E],O=i(I,"key",d);if(O){var F=i(I,"frame",0),L=s.getFrame(O,F);if(!L){console.warn('Texture "%s" not found',O);continue}y=new r(O,F,T,L),y.duration=i(I,"duration",0),y.isFirst=!x,x&&(x.nextFrame=y,y.prevFrame=x),v.push(y),x=y,T++}}if(v.length>0){y.isLast=!0,y.nextFrame=v[0],v[0].prevFrame=y;var D=1/(v.length-1);for(E=0;E<v.length;E++)v[E].progress=E*D}return v},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameByProgress:function(s){return s=h(s,0,1),a(s,this.frames,"progress")},nextFrame:function(s){var u=s.currentFrame;u.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,u.nextFrame)},handleYoyoFrame:function(s,u){if(u||(u=!1),s.inReverse===!u&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=u),this.repeatAnimation(s);return}if(s.inReverse!==u&&s.repeatCounter===0){s.complete();return}s.forward=u;var d=u?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,d)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var u=s.currentFrame;u.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,u.prevFrame)},updateAndGetNextTick:function(s,u){s.setCurrentFrame(u),this.getNextTick(s)},removeFrame:function(s){var u=this.frames.indexOf(s);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){s.frames.push(u.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,u=1/(s-1),d,c=0;c<s;c++)d=this.frames[c],d.index=c+1,d.isFirst=!1,d.isLast=!1,d.progress=c*u,c===0?(d.isFirst=!0,s===1?(d.isLast=!0,d.nextFrame=d,d.prevFrame=d):(d.isLast=!1,d.prevFrame=this.frames[s-1],d.nextFrame=this.frames[c+1])):c===s-1&&s>1?(d.isLast=!0,d.prevFrame=this.frames[s-2],d.nextFrame=this.frames[0]):s>1&&(d.prevFrame=this.frames[c-1],d.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});f.exports=l},41138:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n,l){l===void 0&&(l=!1),this.textureKey=a,this.textureFrame=r,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});f.exports=g},60848:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),g=t(83419),o=t(90330),a=t(50792),r=t(74943),i=t(8443),n=t(95540),l=t(35154),s=t(36383),u=t(20283),d=t(41836),c=new g({Extends:a,initialize:function(x){a.call(this),this.game=x,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",x.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(v,x,y){var T=this.anims,E=this.mixes,A=typeof v=="string"?v:v.key,P=typeof x=="string"?x:x.key;if(T.has(A)&&T.has(P)){var w=E.get(A);w||(w={}),w[P]=y,E.set(A,w)}return this},removeMix:function(v,x){var y=this.mixes,T=typeof v=="string"?v:v.key,E=y.get(T);if(E)if(x){var A=typeof x=="string"?x:x.key;E.hasOwnProperty(A)&&delete E[A]}else x||y.delete(T);return this},getMix:function(v,x){var y=this.mixes,T=typeof v=="string"?v:v.key,E=typeof x=="string"?x:x.key,A=y.get(T);return A&&A.hasOwnProperty(E)?A[E]:0},add:function(v,x){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(x.key=v,this.anims.set(v,x),this.emit(r.ADD_ANIMATION,v,x),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,x,y){var T=[],E=this.game.cache.json.get(v);if(!E)return console.warn("No Aseprite data found for: "+v),T;var A=this,P=l(E,"meta",null),w=l(E,"frames",null);if(P&&w){var I=l(P,"frameTags",[]);I.forEach(function(O){var F=[],L=n(O,"name",null),D=n(O,"from",0),b=n(O,"to",0),U=n(O,"direction","forward");if(L&&(!x||x&&x.indexOf(L)>-1)){for(var W=0,H=D;H<=b;H++){var Y=H.toString(),G=w[Y];if(G){var X=n(G,"duration",s.MAX_SAFE_INTEGER);F.push({key:v,frame:Y,duration:X}),W+=X}}U==="reverse"&&(F=F.reverse());var V={key:L,frames:F,duration:W,yoyo:U==="pingpong"},B;y?y.anims&&(B=y.anims.create(V)):B=A.create(V),B&&T.push(B)}})}return T},create:function(v){var x=v.key,y=!1;return x&&(y=this.get(x),y?console.warn("AnimationManager key already exists: "+x):(y=new h(this,x,v),this.anims.set(x,y),this.emit(r.ADD_ANIMATION,x,y))),y},fromJSON:function(v,x){x===void 0&&(x=!1),x&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var y=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var T=0;T<v.anims.length;T++)y.push(this.create(v.anims[T]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&y.push(this.create(v));return y},generateFrameNames:function(v,x){var y=l(x,"prefix",""),T=l(x,"start",0),E=l(x,"end",0),A=l(x,"suffix",""),P=l(x,"zeroPad",0),w=l(x,"outputArray",[]),I=l(x,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),w;var O=this.textureManager.get(v);if(!O)return w;var F;if(x)for(I||(I=u(T,E)),F=0;F<I.length;F++){var L=y+d(I[F],P,"0",1)+A;O.has(L)?w.push({key:v,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,v)}else for(I=O.getFrameNames(),F=0;F<I.length;F++)w.push({key:v,frame:I[F]});return w},generateFrameNumbers:function(v,x){var y=l(x,"start",0),T=l(x,"end",-1),E=l(x,"first",!1),A=l(x,"outputArray",[]),P=l(x,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),A;var w=this.textureManager.get(v);if(!w)return A;E&&w.has(E)&&A.push({key:v,frame:E}),P||(T===-1&&(T=w.frameTotal-2),P=u(y,T));for(var I=0;I<P.length;I++){var O=P[I];w.has(O)?A.push({key:v,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,v)}return A},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var x=this.textureManager.get(v),y=x.key,T=this.anims.getArray(),E=[],A=0;A<T.length;A++)for(var P=T[A],w=P.frames,I=0;I<w.length;I++)if(w[I].textureKey===y){E.push(P.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(v,x){Array.isArray(x)||(x=[x]);for(var y=0;y<x.length;y++)x[y].anims.play(v);return this},staggerPlay:function(v,x,y,T){y===void 0&&(y=0),T===void 0&&(T=!0),Array.isArray(x)||(x=[x]);var E=x.length;T||E--;for(var A=0;A<x.length;A++){var P=y<0?Math.abs(y)*(E-A):y*A;x[A].anims.playAfterDelay(v,P)}return this},remove:function(v){var x=this.get(v);return x&&(this.emit(r.REMOVE_ANIMATION,v,x),this.anims.delete(v),this.removeMix(v)),x},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(v){var x={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?x.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(y,T){x.anims.push(T.toJSON())}),x},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});f.exports=c},9674:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),g=t(30976),o=t(83419),a=t(90330),r=t(74943),i=t(95540),n=new o({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var s=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var d=l[u];this.nextAnim?this.nextAnimsQueue.push(d):this.nextAnim=d}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var s=this.animationManager,u=typeof l=="string"?l:i(l,"key",null),d=this.exists(u)?this.get(u):s.get(u);if(!d)console.warn("Missing animation: "+u);else{this.currentAnim=d;var c=d.getTotalFrames(),v=i(l,"frameRate",d.frameRate),x=i(l,"duration",d.duration);d.calculateDuration(this,c,x,v),this.delay=i(l,"delay",d.delay),this.repeat=i(l,"repeat",d.repeat),this.repeatDelay=i(l,"repeatDelay",d.repeatDelay),this.yoyo=i(l,"yoyo",d.yoyo),this.showBeforeDelay=i(l,"showBeforeDelay",d.showBeforeDelay),this.showOnStart=i(l,"showOnStart",d.showOnStart),this.hideOnComplete=i(l,"hideOnComplete",d.hideOnComplete),this.skipMissedFrames=i(l,"skipMissedFrames",d.skipMissedFrames),this.randomFrame=i(l,"randomFrame",d.randomFrame),this.timeScale=i(l,"timeScale",this.timeScale);var y=i(l,"startFrame",0);y>c&&(y=0),this.randomFrame&&(y=g(0,c-1));var T=d.frames[y];y===0&&!this.forward&&(T=d.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,s){if(!this.isPlaying)this.delayCounter=s,this.play(l,!0);else{var u=this.nextAnim,d=this.nextAnimsQueue;u&&d.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(l,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,d=this.nextAnimsQueue;u&&d.unshift(u),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(l,s){s===void 0&&(s=!1);var u=this.currentAnim,d=this.parent,c=typeof l=="string"?l:l.key;if(s&&this.isPlaying&&u.key===c)return d;if(u&&this.isPlaying){var v=this.animationManager.getMix(u.key,l);if(v>0)return this.playAfterDelay(l,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,s){s===void 0&&(s=!1);var u=typeof l=="string"?l:l.key;return s&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var s=this.currentAnim,u=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,s){var u=this.currentAnim;if(u){var d=this.currentFrame,c=this.parent,v=d.textureFrame;c.emit(l,u,d,c,v),s&&c.emit(s+u.key,u,d,c,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var s=l.progress;return this.inReverse&&(s*=-1),s},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,s){l===void 0&&(l=!1),s===void 0&&(s=!1);var u=this.currentAnim,d=this.parent;return u?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):d},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,s){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var d=0;do this.forward?u.nextFrame(this):u.previousFrame(this),d++;while(this.isPlaying&&this.accumulator>this.nextTick&&d<60)}}},setCurrentFrame:function(l){var s=this.parent;return this.currentFrame=l,s.texture=l.frame.texture,s.frame=l.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),l.setAlpha&&(s.alpha=l.alpha),s.setSizeToFrame(),s._originComponent&&(l.frame.customPivot?s.setOrigin(l.frame.pivotX,l.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var s=l.key,u=!1;return s&&(u=this.get(s),u?console.warn("Animation key already exists: "+s):(u=new h(this,s,l),this.anims||(this.anims=new a),this.anims.set(s,u))),u},createFromAseprite:function(l,s){return this.animationManager.createFromAseprite(l,s,this.parent)},generateFrameNames:function(l,s){return this.animationManager.generateFrameNames(l,s)},generateFrameNumbers:function(l,s){return this.animationManager.generateFrameNumbers(l,s)},remove:function(l){var s=this.get(l);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(l)),s},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});f.exports=n},57090:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="add"},25312:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationcomplete"},89580:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationcomplete-"},52860:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationrepeat"},63850:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationrestart"},99085:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationstart"},28087:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationstop"},1794:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="animationupdate"},52562:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pauseall"},57953:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="remove"},68339:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resumeall"},74943:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(90330),o=t(50792),a=t(24736),r=new h({initialize:function(){this.entries=new g,this.events=new o},add:function(i,n){return this.entries.set(i,n),this.events.emit(a.ADD,this,i,n),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var n=this.get(i);return n&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});f.exports=r},24047:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2161),g=t(83419),o=t(8443),a=new g({initialize:function(i){this.game=i,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new h),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<r.length;i++)this[r[i]].destroy(),this[r[i]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});f.exports=a},51464:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="add"},59261:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="remove"},24736:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(39506),a=t(50792),r=t(19715),i=t(87841),n=t(61340),l=t(80333),s=t(26099),u=new h({Extends:a,Mixins:[g.AlphaSingle,g.Visible],initialize:function(c,v,x,y){c===void 0&&(c=0),v===void 0&&(v=0),x===void 0&&(x=0),y===void 0&&(y=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=c,this._y=v,this._width=x,this._height=y,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(x/2,y/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(d){this.renderList.push(d)},setOrigin:function(d,c){return d===void 0&&(d=.5),c===void 0&&(c=d),this.originX=d,this.originY=c,this},getScroll:function(d,c,v){v===void 0&&(v=new s);var x=this.width*.5,y=this.height*.5;return v.x=d-x,v.y=c-y,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(d){var c=this.width*.5;return this.midPoint.x=d,this.scrollX=d-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(d){var c=this.height*.5;return this.midPoint.y=d,this.scrollY=d-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(d,c){return this.centerOnX(d),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var d=this._bounds,c=this.width*.5,v=this.height*.5;this.midPoint.set(d.centerX,d.centerY),this.scrollX=d.centerX-c,this.scrollY=d.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(d){if(this.disableCull)return d;var c=this.matrix.matrix,v=c[0],x=c[1],y=c[2],T=c[3],E=v*T-x*y;if(!E)return d;var A=c[4],P=c[5],w=this.scrollX,I=this.scrollY,O=this.width,F=this.height,L=this.y,D=L+F,b=this.x,U=b+O,W=this.culledObjects,H=d.length;E=1/E,W.length=0;for(var Y=0;Y<H;++Y){var G=d[Y];if(!G.hasOwnProperty("width")||G.parentContainer){W.push(G);continue}var X=G.width,V=G.height,B=G.x-w*G.scrollFactorX-X*G.originX,z=G.y-I*G.scrollFactorY-V*G.originY,$=B*v+z*y+A,j=B*x+z*T+P,k=(B+X)*v+(z+V)*y+A,q=(B+X)*x+(z+V)*T+P;k>b&&$<U&&q>L&&j<D&&W.push(G)}return W},getWorldPoint:function(d,c,v){v===void 0&&(v=new s);var x=this.matrix.matrix,y=x[0],T=x[1],E=x[2],A=x[3],P=x[4],w=x[5],I=y*A-T*E;if(!I)return v.x=d,v.y=c,v;I=1/I;var O=A*I,F=-T*I,L=-E*I,D=y*I,b=(E*w-A*P)*I,U=(T*P-y*w)*I,W=Math.cos(this.rotation),H=Math.sin(this.rotation),Y=this.zoomX,G=this.zoomY,X=this.scrollX,V=this.scrollY,B=d+(X*W-V*H)*Y,z=c+(X*H+V*W)*G;return v.x=B*O+z*L+b,v.y=B*F+z*D+U,v},ignore:function(d){var c=this.id;Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var x=d[v];Array.isArray(x)?this.ignore(x):x.isParent?this.ignore(x.getChildren()):x.cameraFilter|=c}return this},clampX:function(d){var c=this._bounds,v=this.displayWidth,x=c.x+(v-this.width)/2,y=Math.max(x,x+c.width-v);return d<x?d=x:d>y&&(d=y),d},clampY:function(d){var c=this._bounds,v=this.displayHeight,x=c.y+(v-this.height)/2,y=Math.max(x,x+c.height-v);return d<x?d=x:d>y&&(d=y),d},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(d){return d===void 0&&(d=0),this.rotation=o(d),this},setBackgroundColor:function(d){return d===void 0&&(d="rgba(0,0,0,0)"),this.backgroundColor=l(d),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(d,c,v,x,y){return y===void 0&&(y=!1),this._bounds.setTo(d,c,v,x),this.dirty=!0,this.useBounds=!0,y?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(d){d===void 0&&(d=new i);var c=this._bounds;return d.setTo(c.x,c.y,c.width,c.height),d},setName:function(d){return d===void 0&&(d=""),this.name=d,this},setPosition:function(d,c){return c===void 0&&(c=d),this.x=d,this.y=c,this},setRotation:function(d){return d===void 0&&(d=0),this.rotation=d,this},setRoundPixels:function(d){return this.roundPixels=d,this},setScene:function(d,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=d,this.isSceneCamera=c;var v=d.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(d,c){return c===void 0&&(c=d),this.scrollX=d,this.scrollY=c,this},setSize:function(d,c){return c===void 0&&(c=d),this.width=d,this.height=c,this},setViewport:function(d,c,v,x){return this.x=d,this.y=c,this.width=v,this.height=x,this},setZoom:function(d,c){return d===void 0&&(d=1),c===void 0&&(c=d),d===0&&(d=.001),c===0&&(c=.001),this.zoomX=d,this.zoomY=c,this},setMask:function(d,c){return c===void 0&&(c=!0),this.mask=d,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(d){return d===void 0&&(d=!1),d&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var d={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(d.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),d},update:function(){},setIsSceneCamera:function(d){return this.isSceneCamera=d,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var d=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;d&&!this._customViewport?c.customViewports++:!d&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=d}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(d){this._x=d,this.updateSystem()}},y:{get:function(){return this._y},set:function(d){this._y=d,this.updateSystem()}},width:{get:function(){return this._width},set:function(d){this._width=d,this.updateSystem()}},height:{get:function(){return this._height},set:function(d){this._height=d,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(d){d!==this._scrollX&&(this._scrollX=d,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(d){d!==this._scrollY&&(this._scrollY=d,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(d){this._zoomX=d,this._zoomY=d,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(d){this._zoomX=d,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(d){this._zoomY=d,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});f.exports=u},38058:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),g=t(67502),o=t(45319),a=t(83419),r=t(31401),i=t(20052),n=t(19715),l=t(28915),s=t(87841),u=t(26099),d=new a({Extends:h,Mixins:[r.PostPipeline],initialize:function(v,x,y,T){h.call(this,v,x,y,T),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(c,v){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=v):this.deadzone=new s(0,0,c,v),this._follow){var x=this.width/2,y=this.height/2,T=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(T,E),this.scrollX=T-x,this.scrollY=E-y}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,v,x,y,T,E){return this.fadeEffect.start(!1,c,v,x,y,!0,T,E)},fadeOut:function(c,v,x,y,T,E){return this.fadeEffect.start(!0,c,v,x,y,!0,T,E)},fadeFrom:function(c,v,x,y,T,E,A){return this.fadeEffect.start(!1,c,v,x,y,T,E,A)},fade:function(c,v,x,y,T,E,A){return this.fadeEffect.start(!0,c,v,x,y,T,E,A)},flash:function(c,v,x,y,T,E,A){return this.flashEffect.start(c,v,x,y,T,E,A)},shake:function(c,v,x,y,T){return this.shakeEffect.start(c,v,x,y,T)},pan:function(c,v,x,y,T,E,A){return this.panEffect.start(c,v,x,y,T,E,A)},rotateTo:function(c,v,x,y,T,E,A){return this.rotateToEffect.start(c,v,x,y,T,E,A)},zoomTo:function(c,v,x,y,T,E){return this.zoomEffect.start(c,v,x,y,T,E)},preRender:function(){this.renderList.length=0;var c=this.width,v=this.height,x=c*.5,y=v*.5,T=this.zoomX,E=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(T)&&Number.isInteger(E);var P=c*this.originX,w=v*this.originY,I=this._follow,O=this.deadzone,F=this.scrollX,L=this.scrollY;O&&g(O,this.midPoint.x,this.midPoint.y);var D=!1;if(I&&!this.panEffect.isRunning){var b=this.lerp,U=I.x-this.followOffset.x,W=I.y-this.followOffset.y;O?(U<O.x?F=l(F,F-(O.x-U),b.x):U>O.right&&(F=l(F,F+(U-O.right),b.x)),W<O.y?L=l(L,L-(O.y-W),b.y):W>O.bottom&&(L=l(L,L+(W-O.bottom),b.y))):(F=l(F,U-P,b.x),L=l(L,W-w,b.y)),D=!0}this.roundPixels&&(F=Math.floor(F),L=Math.floor(L)),this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.scrollX=F,this.scrollY=L;var H=F+x,Y=L+y;this.midPoint.set(H,Y);var G=Math.floor(c/T+.5),X=Math.floor(v/E+.5),V=Math.floor(H-G/2+.5),B=Math.floor(Y-X/2+.5);this.worldView.setTo(V,B,G,X),A.applyITRS(Math.floor(this.x+P+.5),Math.floor(this.y+w+.5),this.rotation,T,E),A.translate(-P,-w),this.shakeEffect.preRender(),D&&this.emit(n.FOLLOW_UPDATE,this,I)},setLerp:function(c,v){return c===void 0&&(c=1),v===void 0&&(v=c),this.lerp.set(c,v),this},setFollowOffset:function(c,v){return c===void 0&&(c=0),v===void 0&&(v=0),this.followOffset.set(c,v),this},startFollow:function(c,v,x,y,T,E){v===void 0&&(v=!1),x===void 0&&(x=1),y===void 0&&(y=x),T===void 0&&(T=0),E===void 0&&(E=T),this._follow=c,this.roundPixels=v,x=o(x,0,1),y=o(y,0,1),this.lerp.set(x,y),this.followOffset.set(T,E);var A=this.width/2,P=this.height/2,w=c.x-T,I=c.y-E;return this.midPoint.set(w,I),this.scrollX=w-A,this.scrollY=I-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,v){this.visible&&(this.rotateToEffect.update(c,v),this.panEffect.update(c,v),this.zoomEffect.update(c,v),this.shakeEffect.update(c,v),this.flashEffect.update(c,v),this.fadeEffect.update(c,v))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});f.exports=d},32743:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38058),g=t(83419),o=t(95540),a=t(37277),r=t(37303),i=t(97480),n=t(44594),l=new g({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(n.BOOT,this.boot,this),u.sys.events.on(n.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.shutdown,this)},add:function(s,u,d,c,v,x){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),v===void 0&&(v=!1),x===void 0&&(x="");var y=new h(s,u,d,c);return y.setName(x),y.setScene(this.scene),y.setRoundPixels(this.roundPixels),y.id=this.getNextID(),this.cameras.push(y),v&&(this.main=y),y},addExisting:function(s,u){u===void 0&&(u=!1);var d=this.cameras.indexOf(s);return d===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),u&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,u=1,d=0;d<32;d++){for(var c=!1,v=0;v<s.length;v++){var x=s[v];if(x&&x.id===u){c=!0;continue}}if(c)u=u<<1;else return u}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var u=0,d=this.cameras,c=0;c<d.length;c++){var v=d[c];(!s||s&&v.visible)&&u++}return u},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var u=this.scene.sys.scale.width,d=this.scene.sys.scale.height,c=0;c<s.length;c++){var v=s[c],x=o(v,"x",0),y=o(v,"y",0),T=o(v,"width",u),E=o(v,"height",d),A=this.add(x,y,T,E);A.name=o(v,"name",""),A.zoom=o(v,"zoom",1),A.rotation=o(v,"rotation",0),A.scrollX=o(v,"scrollX",0),A.scrollY=o(v,"scrollY",0),A.roundPixels=o(v,"roundPixels",!1),A.visible=o(v,"visible",!0);var P=o(v,"backgroundColor",!1);P&&A.setBackgroundColor(P);var w=o(v,"bounds",null);if(w){var I=o(w,"x",0),O=o(w,"y",0),F=o(w,"width",u),L=o(w,"height",d);A.setBounds(I,O,F,L)}}return this},getCamera:function(s){for(var u=this.cameras,d=0;d<u.length;d++)if(u[d].name===s)return u[d];return null},getCamerasBelowPointer:function(s){for(var u=this.cameras,d=s.x,c=s.y,v=[],x=0;x<u.length;x++){var y=u[x];y.visible&&y.inputEnabled&&r(y,d,c)&&v.unshift(y)}return v},remove:function(s,u){u===void 0&&(u=!0),Array.isArray(s)||(s=[s]);for(var d=0,c=this.cameras,v=0;v<s.length;v++){var x=c.indexOf(s[v]);x!==-1&&(u?c[x].destroy():c[x].renderList=[],c.splice(x,1),d++)}return!this.main&&c[0]&&(this.main=c[0]),d},render:function(s,u){for(var d=this.scene,c=this.cameras,v=0;v<c.length;v++){var x=c[v];if(x.visible&&x.alpha>0){x.preRender();var y=this.getVisibleChildren(u.getChildren(),x);s.render(d,y,x)}}},getVisibleChildren:function(s,u){return s.filter(function(d){return d.willRender(u)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,u){for(var d=0;d<this.cameras.length;d++)this.cameras[d].update(s,u)},onResize:function(s,u,d,c,v){for(var x=0;x<this.cameras.length;x++){var y=this.cameras[x];y._x===0&&y._y===0&&y._width===c&&y._height===v&&y.setSize(u.width,u.height)}},resize:function(s,u){for(var d=0;d<this.cameras.length;d++)this.cameras[d].setSize(s,u)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var u=this.systems.events;u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(i.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",l,"cameras"),f.exports=l},5020:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(19715),a=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,i,n,l,s,u,d,c){if(r===void 0&&(r=!0),i===void 0&&(i=1e3),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=s,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c;var v=r?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(v,this.camera,this,i,n,l,s),this.camera},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,i(u,s,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=a},10662:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(19715),a=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,i,n,l,s,u,d){return r===void 0&&(r=250),i===void 0&&(i=255),n===void 0&&(n=255),l===void 0&&(l=255),s===void 0&&(s=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=i,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(o.FLASH_START,this.camera,this,r,i,n,l),this.camera)},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,i(u,s,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=a},20359:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(62640),a=t(19715),r=t(26099),i=new g({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,s,u,d,c,v){s===void 0&&(s=1e3),u===void 0&&(u=o.Linear),d===void 0&&(d=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene);var x=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(x.scrollX,x.scrollY),this.destination.set(n,l),x.getScroll(n,l,this.current),typeof u=="string"&&o.hasOwnProperty(u)?this.ease=o[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v,this.camera.emit(a.PAN_START,this.camera,this,s,n,l)),x},update:function(n,l){if(this.isRunning){this._elapsed+=l;var s=h(this._elapsed/this.duration,0,1);this.progress=s;var u=this.camera;if(this._elapsed<this.duration){var d=this.ease(s);u.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*d,v=this.source.y+(this.current.y-this.source.y)*d;u.setScroll(c,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,c,v)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});f.exports=i},34208:(f,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(45319),g=t(83419),o=t(19715),a=t(62640),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,n,l,s,u,d,c){l===void 0&&(l=1e3),s===void 0&&(s=a.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var v=i;i<0?(v=-1*i,this.clockwise=!1):this.clockwise=!0;var x=360*Math.PI/180;v=v-Math.floor(v/x)*x;var y=this.camera;if(!u&&this.isRunning)return y;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=y.rotation,this.destination=v,typeof s=="string"&&a.hasOwnProperty(s)?this.ease=a[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c,this.shortestPath){var T=0,E=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+x)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+x)-this.destination,T<E?this.clockwise=!0:T>E&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,v),y},update:function(i,n){if(this.isRunning){this._elapsed+=n;var l=h(this._elapsed/this.duration,0,1);this.progress=l;var s=this.camera;if(this._elapsed<this.duration){var u=this.ease(l);this.current=s.rotation;var d=0,c=360*Math.PI/180,v=this.destination,x=this.current;this.clockwise===!1&&(v=this.current,x=this.destination),v>=x?d=Math.abs(v-x):d=Math.abs(v+c)-x;var y=0;this.clockwise?y=s.rotation+d*u:y=s.rotation-d*u,s.rotation=y,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,y)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});f.exports=r},30330:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(19715),a=t(26099),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,n,l,s,u){return i===void 0&&(i=100),n===void 0&&(n=.05),l===void 0&&(l=!1),s===void 0&&(s=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=u,this.camera.emit(o.SHAKE_START,this.camera,this,i,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,n){if(this.isRunning)if(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,s=this.camera.width,u=this.camera.height,d=this.camera.zoom;this._offsetX=(Math.random()*l.x*s*2-l.x*s)*d,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*d,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});f.exports=r},45641:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(62640),a=t(19715),r=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,n,l,s,u,d){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),s===void 0&&(s=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var c=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=c.zoom,this.destination=i,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(a.ZOOM_START,this.camera,this,n,i)),c},update:function(i,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=r},20052:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="cameradestroy"},32726:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerafadeincomplete"},87807:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerafadeinstart"},45917:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerafadeoutcomplete"},95666:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerafadeoutstart"},47056:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="cameraflashcomplete"},91261:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="cameraflashstart"},45047:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="followupdate"},81927:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerapancomplete"},74264:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerapanstart"},54419:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postrender"},79330:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prerender"},93183:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerarotatecomplete"},80112:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerarotatestart"},62252:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerashakecomplete"},86017:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerashakestart"},539:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerazoomcomplete"},51892:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="camerazoomstart"},19715:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(35154),o=new h({initialize:function(r){this.camera=g(r,"camera",null),this.left=g(r,"left",null),this.right=g(r,"right",null),this.up=g(r,"up",null),this.down=g(r,"down",null),this.zoomIn=g(r,"zoomIn",null),this.zoomOut=g(r,"zoomOut",null),this.zoomSpeed=g(r,"zoomSpeed",.01),this.minZoom=g(r,"minZoom",.001),this.maxZoom=g(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=g(r,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=g(r,"speed.x",0),this.speedY=g(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});f.exports=o},58818:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(35154),o=new h({initialize:function(r){this.camera=g(r,"camera",null),this.left=g(r,"left",null),this.right=g(r,"right",null),this.up=g(r,"up",null),this.down=g(r,"down",null),this.zoomIn=g(r,"zoomIn",null),this.zoomOut=g(r,"zoomOut",null),this.zoomSpeed=g(r,"zoomSpeed",.01),this.minZoom=g(r,"minZoom",.001),this.maxZoom=g(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=g(r,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=g(r,"acceleration.x",0),this.accelY=g(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=g(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=g(r,"drag.x",0),this.dragY=g(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=g(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=g(r,"maxSpeed.x",0),this.maxSpeedY=g(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*a|0),this._speedY!==0&&(r.scrollY-=this._speedY*a|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});f.exports=o},38865:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};f.exports=h},69547:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(8054),o=t(42363),a=t(82264),r=t(95540),i=t(35154),n=t(41212),l=t(29747),s=t(75508),u=t(36060),d=t(80333),c=new h({initialize:function(x){x===void 0&&(x={});var y=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],T="#ffffff",E=i(x,"scale",null);this.width=i(E,"width",1024,x),this.height=i(E,"height",768,x),this.zoom=i(E,"zoom",1,x),this.parent=i(E,"parent",void 0,x),this.scaleMode=i(E,E?"mode":"scaleMode",0,x),this.expandParent=i(E,"expandParent",!0,x),this.autoRound=i(E,"autoRound",!1,x),this.autoCenter=i(E,"autoCenter",0,x),this.resizeInterval=i(E,"resizeInterval",500,x),this.fullscreenTarget=i(E,"fullscreenTarget",null,x),this.minWidth=i(E,"min.width",0,x),this.maxWidth=i(E,"max.width",0,x),this.minHeight=i(E,"min.height",0,x),this.maxHeight=i(E,"max.height",0,x),this.snapWidth=i(E,"snap.width",0,x),this.snapHeight=i(E,"snap.height",0,x),this.renderType=i(x,"type",g.AUTO),this.canvas=i(x,"canvas",null),this.context=i(x,"context",null),this.canvasStyle=i(x,"canvasStyle",null),this.customEnvironment=i(x,"customEnvironment",!1),this.sceneConfig=i(x,"scene",null),this.seed=i(x,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=i(x,"title",""),this.gameURL=i(x,"url","https://phaser.io/"+g.LOG_VERSION),this.gameVersion=i(x,"version",""),this.autoFocus=i(x,"autoFocus",!0),this.stableSort=i(x,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=i(x,"dom.createContainer",!1),this.domPointerEvents=i(x,"dom.pointerEvents","none"),this.inputKeyboard=i(x,"input.keyboard",!0),this.inputKeyboardEventTarget=i(x,"input.keyboard.target",window),this.inputKeyboardCapture=i(x,"input.keyboard.capture",[]),this.inputMouse=i(x,"input.mouse",!0),this.inputMouseEventTarget=i(x,"input.mouse.target",null),this.inputMousePreventDefaultDown=i(x,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=i(x,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=i(x,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=i(x,"input.mouse.preventDefaultWheel",!0),this.inputTouch=i(x,"input.touch",a.input.touch),this.inputTouchEventTarget=i(x,"input.touch.target",null),this.inputTouchCapture=i(x,"input.touch.capture",!0),this.inputActivePointers=i(x,"input.activePointers",1),this.inputSmoothFactor=i(x,"input.smoothFactor",0),this.inputWindowEvents=i(x,"input.windowEvents",!0),this.inputGamepad=i(x,"input.gamepad",!1),this.inputGamepadEventTarget=i(x,"input.gamepad.target",window),this.disableContextMenu=i(x,"disableContextMenu",!1),this.audio=i(x,"audio",{}),this.hideBanner=i(x,"banner",null)===!1,this.hidePhaser=i(x,"banner.hidePhaser",!1),this.bannerTextColor=i(x,"banner.text",T),this.bannerBackgroundColor=i(x,"banner.background",y),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=i(x,"fps",null),this.disablePreFX=i(x,"disablePreFX",!1),this.disablePostFX=i(x,"disablePostFX",!1);var A=i(x,"render",null);this.pipeline=i(A,"pipeline",null,x),this.autoMobilePipeline=i(A,"autoMobilePipeline",!0,x),this.defaultPipeline=i(A,"defaultPipeline",u.MULTI_PIPELINE,x),this.antialias=i(A,"antialias",!0,x),this.antialiasGL=i(A,"antialiasGL",!0,x),this.mipmapFilter=i(A,"mipmapFilter","",x),this.desynchronized=i(A,"desynchronized",!1,x),this.roundPixels=i(A,"roundPixels",!1,x),this.pixelArt=i(A,"pixelArt",this.zoom!==1,x),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=i(A,"transparent",!1,x),this.clearBeforeRender=i(A,"clearBeforeRender",!0,x),this.preserveDrawingBuffer=i(A,"preserveDrawingBuffer",!1,x),this.premultipliedAlpha=i(A,"premultipliedAlpha",!0,x),this.failIfMajorPerformanceCaveat=i(A,"failIfMajorPerformanceCaveat",!1,x),this.powerPreference=i(A,"powerPreference","default",x),this.batchSize=i(A,"batchSize",4096,x),this.maxTextures=i(A,"maxTextures",-1,x),this.maxLights=i(A,"maxLights",10,x);var P=i(x,"backgroundColor",0);this.backgroundColor=d(P),this.transparent&&(this.backgroundColor=d(0),this.backgroundColor.alpha=0),this.preBoot=i(x,"callbacks.preBoot",l),this.postBoot=i(x,"callbacks.postBoot",l),this.physics=i(x,"physics",{}),this.defaultPhysicsSystem=i(this.physics,"default",!1),this.loaderBaseURL=i(x,"loader.baseURL",""),this.loaderPath=i(x,"loader.path",""),this.loaderMaxParallelDownloads=i(x,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=i(x,"loader.crossOrigin",void 0),this.loaderResponseType=i(x,"loader.responseType",""),this.loaderAsync=i(x,"loader.async",!0),this.loaderUser=i(x,"loader.user",""),this.loaderPassword=i(x,"loader.password",""),this.loaderTimeout=i(x,"loader.timeout",0),this.loaderMaxRetries=i(x,"loader.maxRetries",2),this.loaderWithCredentials=i(x,"loader.withCredentials",!1),this.loaderImageLoadType=i(x,"loader.imageLoadType","XHR"),this.loaderLocalScheme=i(x,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=i(x,"fx.glow.quality",.1),this.glowFXDistance=i(x,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=i(x,"plugins",null),I=o.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:n(w)&&(this.installGlobalPlugins=r(w,"global",[]),this.installScenePlugins=r(w,"scene",[]),Array.isArray(w.default)?I=w.default:Array.isArray(w.defaultMerge)&&(I=I.concat(w.defaultMerge)))),this.defaultPlugins=I;var O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=i(x,"images.default",O+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=i(x,"images.missing",O+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=i(x,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});f.exports=c},86054:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20623),g=t(27919),o=t(8054),a=t(89357),r=function(i){var n=i.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=a.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||g.disableSmoothing();var l=i.scale.baseSize,s=l.width,u=l.height;if(n.canvas?(i.canvas=n.canvas,i.canvas.width=s,i.canvas.height=u):i.canvas=g.create(i,s,u,n.renderType),n.canvasStyle&&(i.canvas.style=n.canvasStyle),n.antialias||h.setCrisp(i.canvas),n.renderType!==o.HEADLESS){var d,c;d=t(68627),c=t(74797),n.renderType===o.WEBGL?i.renderer=new c(i):(i.renderer=new d(i),i.context=i.renderer.gameContext)}};f.exports=r},96391:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),g=function(o){var a=o.config;if(!a.hideBanner){var r="WebGL";a.renderType===h.CANVAS?r="Canvas":a.renderType===h.HEADLESS&&(r="Headless");var i=a.audio,n=o.device.audio,l;if(n.webAudio&&!i.disableWebAudio?l="Web Audio":i.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var s="",u=[s];if(Array.isArray(a.bannerBackgroundColor)){var d;a.bannerBackgroundColor.forEach(function(v){s=s.concat("%c "),u.push("background: "+v),d=v}),u[u.length-1]="color: "+a.bannerTextColor+"; background: "+d}else s=s.concat("%c "),u.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);u.push("background: transparent"),a.gameTitle&&(s=s.concat(a.gameTitle),a.gameVersion&&(s=s.concat(" v"+a.gameVersion)),a.hidePhaser||(s=s.concat(" / ")));var c="";a.hidePhaser||(s=s.concat("Phaser v"+h.VERSION+c+" ("+r+" | "+l+")")),s=s.concat(" %c "+a.gameURL),u[0]=s,console.log.apply(console,u)}}};f.exports=g},50127:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),g=t(60848),o=t(24047),a=t(27919),r=t(83419),i=t(69547),n=t(83719),l=t(86054),s=t(45893),u=t(96391),d=t(82264),c=t(57264),v=t(50792),x=t(8443),y=t(7003),T=t(37277),E=t(77332),A=t(76531),P=t(60903),w=t(69442),I=t(17130),O=t(65898),F=t(51085),L=t(14747),D=new r({initialize:function(U){this.config=new i(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new g(this),this.textures=new I(this),this.cache=new o(this),this.registry=new s(this,new v),this.input=new y(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=d,this.scale=new A(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new O(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),u(this),h(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(x.BOOT)},texturesReady:function(){this.events.emit(x.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var b=this.events;b.on(x.HIDDEN,this.onHidden,this),b.on(x.VISIBLE,this.onVisible,this),b.on(x.BLUR,this.onBlur,this),b.on(x.FOCUS,this.onFocus,this)},step:function(b,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(x.PRE_STEP,b,U),W.emit(x.STEP,b,U),this.scene.update(b,U),W.emit(x.POST_STEP,b,U);var H=this.renderer;H.preRender(),W.emit(x.PRE_RENDER,H,b,U),this.scene.render(H),H.postRender(),W.emit(x.POST_RENDER,H,b,U)}},headlessStep:function(b,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(x.PRE_STEP,b,U),W.emit(x.STEP,b,U),this.scene.update(b,U),W.emit(x.POST_STEP,b,U),this.scene.isProcessing=!1,W.emit(x.PRE_RENDER,null,b,U),W.emit(x.POST_RENDER,null,b,U)}},onHidden:function(){this.loop.pause(),this.events.emit(x.PAUSE)},pause:function(){var b=this.isPaused;this.isPaused=!0,b||this.events.emit(x.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(x.RESUME,this.loop.pauseDuration)},resume:function(){var b=this.isPaused;this.isPaused=!1,b&&this.events.emit(x.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(b,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=b,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(x.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});f.exports=D},65898:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(35154),o=t(29747),a=t(43092),r=new h({initialize:function(n,l){this.game=n,this.raf=new a,this.started=!1,this.running=!1,this.minFps=g(l,"min",5),this.targetFps=g(l,"target",60),this.fpsLimit=g(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=g(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(l,"deltaHistory",10),this.panicMax=g(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=g(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(i){var n=this.deltaIndex,l=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,i=Math.min(i,this._target)),i>this._min&&(i=l[n],i=Math.min(i,this._min)),l[n]=i,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var u=0,d=0;d<s;d++)u+=l[d];return u/=s,u},updateFPS:function(i){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0},stepLimitFPS:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(i,this.delta),this.delta=0),this.lastTime=i,this.frame++},step:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.callback(i,n),this.lastTime=i,this.frame++},tick:function(){var i=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(i):this.step(i)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){i===void 0&&(i=!1);var n=window.performance.now();if(!this.running){i&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});f.exports=r},51085:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8443),g=function(o){var a,r=o.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},a=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(h.HIDDEN):r.emit(h.VISIBLE)};a&&document.addEventListener(a,n,!1),window.onblur=function(){r.emit(h.BLUR)},window.onfocus=function(){r.emit(h.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};f.exports=g},97217:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="blur"},47548:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="boot"},19814:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="contextlost"},68446:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},41700:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="focus"},25432:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="hidden"},65942:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},59211:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postrender"},47789:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="poststep"},39066:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prerender"},460:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prestep"},16175:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="ready"},42331:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},11966:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="step"},32969:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="systemready"},94830:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="visible"},8443:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5290),g=t(27919),o=t(35154),a=function(r){var i=o(r,"data",[]),n=o(r,"canvas",null),l=o(r,"palette",h),s=o(r,"pixelWidth",1),u=o(r,"pixelHeight",s),d=o(r,"resizeCanvas",!0),c=o(r,"clearCanvas",!0),v=o(r,"preRender",null),x=o(r,"postRender",null),y=Math.floor(Math.abs(i[0].length*s)),T=Math.floor(Math.abs(i.length*u));n||(n=g.create2D(this,y,T),d=!1,c=!1),d&&(n.width=y,n.height=T);var E=n.getContext("2d",{willReadFrequently:!0});c&&E.clearRect(0,0,y,T),v&&v(n,E);for(var A=0;A<i.length;A++)for(var P=i[A],w=0;w<P.length;w++){var I=P[w];I!=="."&&I!==" "&&(E.fillStyle=l[I],E.fillRect(w*s,A*u,s,u))}return x&&x(n,E),n};f.exports=a},15822:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(36316),o=t(80021),a=t(26099),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(u=new a(n[6],n[7]),s=new a(n[4],n[5]),l=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s,this.p3=u},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.p0,s=this.p1,u=this.p2,d=this.p3;return n.set(g(i,l.x,s.x,u.x,d.x),g(i,l.y,s.y,u.y,d.y))},draw:function(i,n){n===void 0&&(n=32);var l=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)i.lineTo(l[s].x,l[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(i){var n=i.points,l=new a(n[0],n[1]),s=new a(n[2],n[3]),u=new a(n[4],n[5]),d=new a(n[6],n[7]);return new r(l,s,u,d)},f.exports=r},80021:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(19217),o=t(87841),a=t(26099),r=new h({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,n){return n===void 0&&(n=32),i.strokePoints(this.getPoints(n))},getBounds:function(i,n){i||(i=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var s=Math.max(1,Math.round(l/n));return g(this.getSpacedPoints(s),i)},getDistancePoints:function(i){var n=this.getLength(),l=Math.max(1,n/i);return this.getSpacedPoints(l)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,s=this.getPoint(0,this._tmpVec2A),u=0;n.push(0);for(var d=1;d<=i;d++)l=this.getPoint(d/i,this._tmpVec2B),u+=l.distance(s),n.push(u),s.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(i,n){var l=this.getUtoTmapping(i);return this.getPoint(l,n)},getPoints:function(i,n,l){l===void 0&&(l=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++)l.push(this.getPoint(s/i));return l},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,n,l){l===void 0&&(l=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++){var u=this.getUtoTmapping(s/i,null,i);l.push(this.getPoint(u))}return l},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,n){n===void 0&&(n=new a);var l=1e-4,s=i-l,u=i+l;return s<0&&(s=0),u>1&&(u=1),this.getPoint(s,this._tmpVec2A),this.getPoint(u,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,n){var l=this.getUtoTmapping(i);return this.getTangent(l,n)},getTFromDistance:function(i,n){return i<=0?0:this.getUtoTmapping(0,i,n)},getUtoTmapping:function(i,n,l){var s=this.getLengths(l),u=0,d=s.length,c;n?c=Math.min(n,s[d-1]):c=i*s[d-1];for(var v=0,x=d-1,y;v<=x;)if(u=Math.floor(v+(x-v)/2),y=s[u]-c,y<0)v=u+1;else if(y>0)x=u-1;else{x=u;break}if(u=x,s[u]===c)return u/(d-1);var T=s[u],E=s[u+1],A=E-T,P=(c-T)/A;return(u+P)/(d-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});f.exports=r},73825:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(80021),o=t(39506),a=t(35154),r=t(43396),i=t(26099),n=new h({Extends:g,initialize:function(s,u,d,c,v,x,y,T){if(typeof s=="object"){var E=s;s=a(E,"x",0),u=a(E,"y",0),d=a(E,"xRadius",0),c=a(E,"yRadius",d),v=a(E,"startAngle",0),x=a(E,"endAngle",360),y=a(E,"clockwise",!1),T=a(E,"rotation",0)}else c===void 0&&(c=d),v===void 0&&(v=0),x===void 0&&(x=360),y===void 0&&(y=!1),T===void 0&&(T=0);g.call(this,"EllipseCurve"),this.p0=new i(s,u),this._xRadius=d,this._yRadius=c,this._startAngle=o(v),this._endAngle=o(x),this._clockwise=y,this._rotation=o(T)},getStartPoint:function(l){return l===void 0&&(l=new i),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,s){s===void 0&&(s=new i);for(var u=Math.PI*2,d=this._endAngle-this._startAngle,c=Math.abs(d)<Number.EPSILON;d<0;)d+=u;for(;d>u;)d-=u;d<Number.EPSILON&&(c?d=0:d=u),this._clockwise&&!c&&(d===u?d=-u:d=d-u);var v=this._startAngle+l*d,x=this.p0.x+this._xRadius*Math.cos(v),y=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var T=Math.cos(this._rotation),E=Math.sin(this._rotation),A=x-this.p0.x,P=y-this.p0.y;x=A*T-P*E+this.p0.x,y=A*E+P*T+this.p0.y}return s.set(x,y)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},f.exports=n},33951:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(80021),o=t(19217),a=t(87841),r=t(26099),i=new h({Extends:g,initialize:function(l,s){g.call(this,"LineCurve"),Array.isArray(l)&&(s=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=s,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new a),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,s){var u;if(l){var d=this.getLengths(s),c=d[d.length-1],v=Math.min(l,c);u=v/c}else u=n;return u},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(n){var l=n.points,s=new r(l[0],l[1]),u=new r(l[2],l[3]);return new i(s,u)},f.exports=i},14744:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(80021),o=t(32112),a=t(26099),r=new h({Extends:g,initialize:function(n,l,s){g.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(s=new a(n[4],n[5]),l=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.p0,s=this.p1,u=this.p2;return n.set(o(i,l.x,s.x,u.x),o(i,l.y,s.y,u.y))},draw:function(i,n){n===void 0&&(n=32);var l=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)i.lineTo(l[s].x,l[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(i){var n=i.points,l=new a(n[0],n[1]),s=new a(n[2],n[3]),u=new a(n[4],n[5]);return new r(l,s,u)},f.exports=r},42534:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),g=t(83419),o=t(80021),a=t(26099),r=new g({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(i){for(var n=0;n<i.length;n++){var l=new a;typeof i[n]=="number"?(l.x=i[n],l.y=i[n+1],n++):Array.isArray(i[n])?(l.x=i[n][0],l.y=i[n][1]):(l.x=i[n].x,l.y=i[n].y),this.points.push(l)}return this},addPoint:function(i,n){var l=new a(i,n);return this.points.push(l),l},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.points,s=(l.length-1)*i,u=Math.floor(s),d=s-u,c=l[u===0?u:u-1],v=l[u],x=l[u>l.length-2?l.length-1:u+1],y=l[u>l.length-3?l.length-1:u+2];return n.set(h(d,c.x,v.x,x.x,y.x),h(d,c.y,v.y,x.y,y.y))},toJSON:function(){for(var i=[],n=0;n<this.points.length;n++)i.push(this.points[n].x),i.push(this.points[n].y);return{type:this.type,points:i}}});r.fromJSON=function(i){return new r(i.points)},f.exports=r},25410:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(26099),o=new h({initialize:function(r,i){this.active=!1,this.p0=new g(r,i)},getPoint:function(a,r){return r===void 0&&(r=new g),r.copy(this.p0)},getPointAt:function(a,r){return this.getPoint(a,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});f.exports=o},46669:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(46728),o=t(73825),a=t(39429),r=t(33951),i=t(68618),n=t(14744),l=t(87841),s=t(42534),u=t(26099),d=t(36383),c=new h({initialize:function(x,y){x===void 0&&(x=0),y===void 0&&(y=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof x=="object"?this.fromJSON(x):this.startPoint.set(x,y)},add:function(v){return this.curves.push(v),this},circleTo:function(v,x,y){return x===void 0&&(x=!1),this.ellipseTo(v,v,0,360,x,y)},closePath:function(){var v=this.curves[0].getPoint(0),x=this.curves[this.curves.length-1].getPoint(1);return v.equals(x)||this.curves.push(new r(x,v)),this},cubicBezierTo:function(v,x,y,T,E,A){var P=this.getEndPoint(),w,I,O;return v instanceof u?(w=v,I=x,O=y):(w=new u(y,T),I=new u(E,A),O=new u(v,x)),this.add(new g(P,w,I,O))},quadraticBezierTo:function(v,x,y,T){var E=this.getEndPoint(),A,P;return v instanceof u?(A=v,P=x):(A=new u(y,T),P=new u(v,x)),this.add(new n(E,A,P))},draw:function(v,x){for(var y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&T.draw(v,x)}return v},ellipseTo:function(v,x,y,T,E,A){var P=new o(0,0,v,x,y,T,E,A),w=this.getEndPoint(this._tmpVec2A),I=P.getStartPoint(this._tmpVec2B);return w.subtract(I),P.x=w.x,P.y=w.y,this.add(P)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var x=0;x<v.curves.length;x++){var y=v.curves[x];switch(y.type){case"LineCurve":this.add(r.fromJSON(y));break;case"EllipseCurve":this.add(o.fromJSON(y));break;case"SplineCurve":this.add(s.fromJSON(y));break;case"CubicBezierCurve":this.add(g.fromJSON(y));break;case"QuadraticBezierCurve":this.add(n.fromJSON(y));break}}return this},getBounds:function(v,x){v===void 0&&(v=new l),x===void 0&&(x=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var y=new l,T=d.MIN_SAFE_INTEGER,E=d.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var P=this.curves[A];P.active&&(P.getBounds(y,x),v.x=Math.min(v.x,y.x),v.y=Math.min(v.y,y.y),T=Math.max(T,y.right),E=Math.max(E,y.bottom))}return v.right=T,v.bottom=E,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],x=0,y=0;y<this.curves.length;y++)x+=this.curves[y].getLength(),v.push(x);return this.cacheLengths=v,v},getCurveAt:function(v){for(var x=v*this.getLength(),y=this.getCurveLengths(),T=0;T<y.length;){if(y[T]>=x)return this.curves[T];T++}return null},getEndPoint:function(v){return v===void 0&&(v=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,x){x===void 0&&(x=new u);for(var y=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=y){var A=T[E]-y,P=this.curves[E],w=P.getLength(),I=w===0?0:1-A/w;return P.getPointAt(I,x)}E++}return null},getPoints:function(v,x){!v&&!x&&(v=this.defaultDivisions);for(var y=[],T,E=0;E<this.curves.length;E++){var A=this.curves[E];if(A.active)for(var P=A.getResolution(v),w=A.getPoints(P,x),I=0;I<w.length;I++){var O=w[I];T&&T.equals(O)||(y.push(O),T=O)}}return this.autoClose&&y.length>1&&!y[y.length-1].equals(y[0])&&y.push(y[0]),y},getRandomPoint:function(v){return v===void 0&&(v=new u),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var x=[],y=0;y<=v;y++)x.push(this.getPoint(y/v));return this.autoClose&&x.push(x[0]),x},getStartPoint:function(v){return v===void 0&&(v=new u),v.copy(this.startPoint)},getTangent:function(v,x){x===void 0&&(x=new u);for(var y=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=y){var A=T[E]-y,P=this.curves[E],w=P.getLength(),I=w===0?0:1-A/w;return P.getTangentAt(I,x)}E++}return null},lineTo:function(v,x){v instanceof u?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,x);var y=this.getEndPoint(this._tmpVec2A);return this.add(new r([y.x,y.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new s(v))},moveTo:function(v,x){return v instanceof u?this.add(new i(v.x,v.y)):this.add(new i(v,x))},toJSON:function(){for(var v=[],x=0;x<this.curves.length;x++)v.push(this.curves[x].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(v,x){return new c(v,x)}),f.exports=c},45893:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(24882),o=new h({initialize:function(r,i){this.parent=r,this.events=i,i||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(a){var r=this.list;if(Array.isArray(a)){for(var i=[],n=0;n<a.length;n++)i.push(r[a[n]]);return i}else return r[a]},getAll:function(){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&(a[r]=this.list[r]);return a},query:function(a){var r={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(r[i]=this.list[i]);return r},set:function(a,r){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,r);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,r){if(this._frozen)return this;r===void 0&&(r=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+r),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,r){if(this._frozen)return this;if(this.has(a))this.values[a]=r;else{var i=this,n=this.list,l=this.events,s=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return n[a]},set:function(u){if(!i._frozen){var d=n[a];n[a]=u,l.emit(g.CHANGE_DATA,s,a,u,d),l.emit(g.CHANGE_DATA_KEY+a,s,u,d)}}}),n[a]=r,l.emit(g.SET_DATA,s,a,r)}return this},each:function(a,r){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var l in this.list)i[1]=l,i[2]=this.list[l],a.apply(r,i);return this},merge:function(a,r){r===void 0&&(r=!0);for(var i in a)a.hasOwnProperty(i)&&(r||!r&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var r=0;r<a.length;r++)this.removeValue(a[r]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var r=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(g.REMOVE_DATA,this.parent,a,r)}return this},pop:function(a){var r=void 0;return!this._frozen&&this.has(a)&&(r=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(g.REMOVE_DATA,this.parent,a,r)),r},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var r in this.list)this.list[r]!==void 0&&a++;return a}}});f.exports=o},63646:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(45893),o=t(37277),a=t(44594),r=new h({Extends:g,initialize:function(n){g.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",r,"data"),f.exports=r},10700:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="changedata"},93608:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="changedata-"},60883:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},69780:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removedata"},22166:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="setdata"},24882:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return g;g.audioData=!!window.Audio,g.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),r=!!a.canPlayType;try{if(r){var i=function(s,u){var d=a.canPlayType("audio/"+s).replace(/^no$/,"");return u?!!(d||a.canPlayType("audio/"+u).replace(/^no$/,"")):!!d};if(g.ogg=i('ogg; codecs="vorbis"'),g.opus=i('ogg; codecs="opus"',"opus"),g.mp3=i("mpeg"),g.wav=i("wav"),g.m4a=i("x-m4a"),g.aac=i("aac"),g.flac=i("flac","x-flac"),g.webm=i('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)g.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(g.dolby=!0)}}}}catch{}return g}f.exports=o()},84148:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(g.edge=!0,g.es2019=!0):/OPR/.test(a)?(g.opera=!0,g.es2019=!0):/Chrome\/(\d+)/.test(a)&&!h.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10),g.es2019=g.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10),g.es2019=g.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(a)&&h.iOS?(g.mobileSafari=!0,g.es2019=!0):/MSIE (\d+\.\d+);/.test(a)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(a)&&!h.windowsPhone?(g.safari=!0,g.safariVersion=parseInt(RegExp.$1,10),g.es2019=g.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(g.silk=!0),g}f.exports=o()},89289:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var s=new Image;s.onload=function(){var u=h.create2D(s,6),d=u.getContext("2d",{willReadFrequently:!0});if(d.globalCompositeOperation="multiply",d.drawImage(l,0,0),d.drawImage(s,2,0),!d.getImageData(2,0,1,1))return!1;var c=d.getImageData(2,0,1,1).data;h.remove(s),g.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},s.src=i+"/wCKxvRF"+n},l.src=i+"AP804Oa6"+n,!1}function a(){var i=h.create2D(this,2),n=i.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var s=n.getImageData(1,0,1,1),u=s.data[0]===l.data[0]&&s.data[1]===l.data[1]&&s.data[2]===l.data[2]&&s.data[3]===l.data[3];return h.remove(this),u}function r(){return typeof importScripts!="function"&&document!==void 0&&(g.supportNewBlendModes=o(),g.supportInverseAlpha=a()),g}f.exports=r()},89357:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),g=t(84148),o=t(27919),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),s=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var s=o.createWebGL(this),u=s.getContext("webgl")||s.getContext("experimental-webgl"),d=o.create2D(this),c=d.getContext("2d",{willReadFrequently:!0}),v=c.createImageData(1,1);return n=v.data instanceof Uint8ClampedArray,o.remove(s),o.remove(d),!!u}catch{return!1}return!1};return a.webGL=l(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(a.getUserMedia=!1),!h.iOS&&(g.ie||g.firefox||g.chrome)&&(a.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=r()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&n,a}f.exports=i()},91639:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var h,g="Fullscreen",o="FullScreen",a=["request"+g,"request"+o,"webkitRequest"+g,"webkitRequest"+o,"msRequest"+g,"msRequest"+o,"mozRequest"+o,"mozRequest"+g];for(h=0;h<a.length;h++)if(document.documentElement[a[h]]){S.available=!0,S.request=a[h];break}var r=["cancel"+o,"exit"+g,"webkitCancel"+o,"webkitExit"+g,"msCancel"+o,"msExit"+g,"mozCancel"+o,"mozExit"+g];if(S.available){for(h=0;h<r.length;h++)if(document[r[h]]){S.cancel=r[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}f.exports=t()},31784:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?g.wheelEvent="wheel":"onmousewheel"in window?g.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(g.wheelEvent="DOMMouseScroll")),g}f.exports=o()},25892:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var h=navigator.userAgent;/Windows/.test(h)?S.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(h)?S.android=!0:/Linux/.test(h)?S.linux=!0:/iP[ao]d|iPhone/i.test(h)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=h.toLowerCase().indexOf("iphone")!==-1,S.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?S.kindle=!0:/CrOS/.test(h)&&(S.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var g=/Silk/.test(h);return(S.windows||S.macOS||S.linux&&!g||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}f.exports=t()},43267:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return g;var a=document.createElement("video"),r=!!a.canPlayType,i=/^no$/;try{r&&(a.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(g.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(g.h264=!0,g.mp4=!0),a.canPlayType("video/x-m4v").replace(i,"")&&(g.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(g.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(g.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(g.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),g.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=h(n[l],"url",n[l]);if(s.indexOf("blob:")===0)return{url:s,type:""};var u;if(s.indexOf("data:")===0?u=s.split(",")[0].match(/\/(.*?);/):u=s.match(/\.([a-zA-Z0-9]+)($|\?)/),u=h(n[l],"type",u?u[1]:"").toLowerCase(),g[u])return{url:s,type:u}}return null},g}f.exports=o()},82264:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new Float32Array(20),o=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],r)},saturate:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a*2/3+1,n=(i-1)*-.5;return this.multiply([i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0],r)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1),a=a/180*Math.PI;var i=Math.cos(a),n=Math.sin(a),l=.213,s=.715,u=.072;return this.multiply([l+i*(1-l)+n*-.213,s+i*-.715+n*-.715,u+i*-.072+n*(1-u),0,0,l+i*-.213+n*.143,s+i*(1-s)+n*.14,u+i*-.072+n*-.283,0,0,l+i*-.213+n*-.787,s+i*-.715+n*s,u+i*(1-u)+n*u,0,0,0,0,0,1,0],r)},grayscale:function(a,r){return a===void 0&&(a=1),r===void 0&&(r=!1),this.saturate(-a,r)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(o.BLACK_WHITE,a)},contrast:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a+1,n=-.5*(i-1);return this.multiply([i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0],r)},negative:function(a){return a===void 0&&(a=!1),this.multiply(o.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(o.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(o.SEPIA,a)},night:function(a,r){return a===void 0&&(a=.1),r===void 0&&(r=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],r)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(o.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(o.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(o.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(o.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(o.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(o.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(o.SHIFT_BGR,a)},multiply:function(a,r){r===void 0&&(r=!1),r||this.reset();var i=this._matrix,n=g;return n.set(i),i.set([n[0]*a[0]+n[1]*a[5]+n[2]*a[10]+n[3]*a[15],n[0]*a[1]+n[1]*a[6]+n[2]*a[11]+n[3]*a[16],n[0]*a[2]+n[1]*a[7]+n[2]*a[12]+n[3]*a[17],n[0]*a[3]+n[1]*a[8]+n[2]*a[13]+n[3]*a[18],n[0]*a[4]+n[1]*a[9]+n[2]*a[14]+n[3]*a[19]+n[4],n[5]*a[0]+n[6]*a[5]+n[7]*a[10]+n[8]*a[15],n[5]*a[1]+n[6]*a[6]+n[7]*a[11]+n[8]*a[16],n[5]*a[2]+n[6]*a[7]+n[7]*a[12]+n[8]*a[17],n[5]*a[3]+n[6]*a[8]+n[7]*a[13]+n[8]*a[18],n[5]*a[4]+n[6]*a[9]+n[7]*a[14]+n[8]*a[19]+n[9],n[10]*a[0]+n[11]*a[5]+n[12]*a[10]+n[13]*a[15],n[10]*a[1]+n[11]*a[6]+n[12]*a[11]+n[13]*a[16],n[10]*a[2]+n[11]*a[7]+n[12]*a[12]+n[13]*a[17],n[10]*a[3]+n[11]*a[8]+n[12]*a[13]+n[13]*a[18],n[10]*a[4]+n[11]*a[9]+n[12]*a[14]+n[13]*a[19]+n[14],n[15]*a[0]+n[16]*a[5]+n[17]*a[10]+n[18]*a[15],n[15]*a[1]+n[16]*a[6]+n[17]*a[11]+n[18]*a[16],n[15]*a[2]+n[16]*a[7]+n[17]*a[12]+n[18]*a[17],n[15]*a[3]+n[16]*a[8]+n[17]*a[13]+n[18]*a[18],n[15]*a[4]+n[16]*a[9]+n[17]*a[14]+n[18]*a[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],f.exports=o},51767:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(29747),o=new h({initialize:function(r,i,n){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(r,i,n)},set:function(a,r,i){return a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=0),this._rgb=[a,r,i],this.onChange(),this},equals:function(a,r,i){var n=this._rgb;return n[0]===a&&n[1]===r&&n[2]===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});f.exports=o},60461:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};f.exports=S},54312:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(35893),o=t(86327),a=t(88417),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},46768:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(26541),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)-l),o(i,h(n)+s),i};f.exports=r},35827:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(54380),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},46871:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66786),g=t(35893),o=t(7702),a=function(r,i,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),h(r,g(i)+n,o(i)+l),r};f.exports=a},5198:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),g=t(26541),o=t(20786),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)-l),o(i,h(n)+s),i};f.exports=r},11879:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),g=[];g[h.BOTTOM_CENTER]=t(54312),g[h.BOTTOM_LEFT]=t(46768),g[h.BOTTOM_RIGHT]=t(35827),g[h.CENTER]=t(46871),g[h.LEFT_CENTER]=t(5198),g[h.RIGHT_CENTER]=t(80503),g[h.TOP_CENTER]=t(89698),g[h.TOP_LEFT]=t(922),g[h.TOP_RIGHT]=t(21373),g[h.LEFT_BOTTOM]=g[h.BOTTOM_LEFT],g[h.LEFT_TOP]=g[h.TOP_LEFT],g[h.RIGHT_BOTTOM]=g[h.BOTTOM_RIGHT],g[h.RIGHT_TOP]=g[h.TOP_RIGHT];var o=function(a,r,i,n,l){return g[i](a,r,n,l)};f.exports=o},80503:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),g=t(54380),o=t(20786),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},89698:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),g=t(17717),o=t(88417),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,g(n)-s),i};f.exports=r},922:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),g=t(17717),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)-l),a(i,g(n)-s),i};f.exports=r},21373:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),g=t(17717),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,g(n)-s),i};f.exports=r},91660:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),g=t(79291),o={In:t(91660),To:t(16694)};o=g(!1,o,h),f.exports=o},21578:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(35893),o=t(88417),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,g(n)+l),a(i,h(n)+s),i};f.exports=r},10210:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(26541),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,g(n)-l),a(i,h(n)+s),i};f.exports=r},82341:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(54380),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,g(n)+l),a(i,h(n)+s),i};f.exports=r},87958:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(26541),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)-l),o(i,h(n)+s),i};f.exports=r},40080:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),g=t(26541),o=t(20786),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)-l),o(i,h(n)+s),i};f.exports=r},88466:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),g=t(17717),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)-l),a(i,g(n)-s),i};f.exports=r},38829:(f,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),g=[];g[h.BOTTOM_CENTER]=t(21578),g[h.BOTTOM_LEFT]=t(10210),g[h.BOTTOM_RIGHT]=t(82341),g[h.LEFT_BOTTOM]=t(87958),g[h.LEFT_CENTER]=t(40080),g[h.LEFT_TOP]=t(88466),g[h.RIGHT_BOTTOM]=t(19211),g[h.RIGHT_CENTER]=t(34609),g[h.RIGHT_TOP]=t(48741),g[h.TOP_CENTER]=t(49440),g[h.TOP_LEFT]=t(81288),g[h.TOP_RIGHT]=t(61323);var o=function(a,r,i,n,l){return g[i](a,r,n,l)};f.exports=o},19211:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(54380),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},34609:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),g=t(54380),o=t(20786),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,g(n)+l),o(i,h(n)+s),i};f.exports=r},48741:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),g=t(17717),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,g(n)-s),i};f.exports=r},49440:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),g=t(17717),o=t(86327),a=t(88417),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)+l),o(i,g(n)-s),i};f.exports=r},81288:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),g=t(17717),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)-l),o(i,g(n)-s),i};f.exports=r},61323:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),g=t(17717),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)+l),o(i,g(n)-s),i};f.exports=r},16694:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88417),g=t(20786),o=function(a,r,i){return h(a,r),g(a,i)};f.exports=o},62235:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};f.exports=S},72873:(f,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),g=t(26541),o=t(54380),a=t(17717),r=t(87841),i=function(n,l){l===void 0&&(l=new r);var s=g(n),u=a(n);return l.x=s,l.y=u,l.width=o(n)-s,l.height=h(n)-u,l};f.exports=i},35893:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};f.exports=S},7702:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};f.exports=S},26541:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};f.exports=S},87431:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};f.exports=S},46928:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};f.exports=S},54380:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};f.exports=S},17717:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};f.exports=S},86327:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h-t.height+t.height*t.originY,t};f.exports=S},88417:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.width*t.originX;return t.x=h+g-t.width*.5,t};f.exports=S},20786:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.height*t.originY;return t.y=h+g-t.height*.5,t};f.exports=S},385:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h+t.width*t.originX,t};f.exports=S},40136:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h-t.width+t.width*t.originX,t};f.exports=S},66737:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h+t.height*t.originY,t};f.exports=S},58724:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(g){t.style["image-rendering"]=g}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};f.exports=S},27919:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),g=t(68703),o=[],a=!1,r=function(){var i=function(y,T,E,A,P){T===void 0&&(T=1),E===void 0&&(E=1),A===void 0&&(A=h.CANVAS),P===void 0&&(P=!1);var w,I=s(A);return I===null?(I={parent:y,canvas:document.createElement("canvas"),type:A},A===h.CANVAS&&o.push(I),w=I.canvas):(I.parent=y,w=I.canvas),P&&(I.parent=w),w.width=T,w.height=E,a&&A===h.CANVAS&&g.disable(w.getContext("2d",{willReadFrequently:!1})),w},n=function(y,T,E){return i(y,T,E,h.CANVAS)},l=function(y,T,E){return i(y,T,E,h.WEBGL)},s=function(y){if(y===void 0&&(y=h.CANVAS),y===h.WEBGL)return null;for(var T=0;T<o.length;T++){var E=o[T];if(!E.parent&&E.type===y)return E}return null},u=function(y){var T=y instanceof HTMLCanvasElement;o.forEach(function(E){(T&&E.canvas===y||!T&&E.parent===y)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},d=function(){var y=0;return o.forEach(function(T){T.parent&&y++}),y},c=function(){return o.length-d()},v=function(){a=!0},x=function(){a=!1};return{create2D:n,create:i,createWebGL:l,disableSmoothing:v,enableSmoothing:x,first:s,free:c,pool:o,remove:u,total:d}};f.exports=r()},68703:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var h=function(r){for(var i=["i","webkitI","msI","mozI","oI"],n=0;n<i.length;n++){var l=i[n]+"mageSmoothingEnabled";if(l in r)return l}return null},g=function(r){return S===""&&(S=h(r)),S&&(r[S]=!0),r},o=function(r){return S===""&&(S=h(r)),S&&(r[S]=!1),r},a=function(r){return S!==null?r[S]:null};return{disable:o,enable:g,getPrefix:h,isEnabled:a}};f.exports=t()},65208:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};f.exports=S},91610:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h="none");var g=["-webkit-","-khtml-","-moz-","-ms-",""];return g.forEach(function(o){t.style[o+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};f.exports=S},26253:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37589),o=t(1e3),a=t(7537),r=t(87837),i=new h({initialize:function(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,s,u,d)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,s,u,d){return u===void 0&&(u=255),d===void 0&&(d=!0),this._locked=!0,this.red=n,this.green=l,this.blue=s,this.alpha=u,this._locked=!1,this.update(d)},setGLTo:function(n,l,s,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=s,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,s){return a(n,l,s,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,s=this.g,u=this.b,d=this.a;return this._color=g(l,s,u),this._color32=o(l,s,u,d),this._rgba="rgba("+l+","+s+","+u+","+d/255+")",n&&r(l,s,u,this),this},updateHSV:function(){var n=this.r,l=this.g,s=this.b;return r(n,l,s,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n)),u=Math.floor(n+Math.random()*(l-n)),d=Math.floor(n+Math.random()*(l-n));return this.setTo(s,u,d)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n));return this.setTo(s,s,s)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,s=this.g,u=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(n/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(n/100)))),this.setTo(l,s,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,a(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,a(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,a(this._h,this._s,n,this)}}});f.exports=i},92728:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),g=function(o){o===void 0&&(o=1024);var a=[],r=255,i,n=255,l=0,s=0;for(i=0;i<=r;i++)a.push({r:n,g:i,b:s,color:h(n,i,s)});for(l=255,i=r;i>=0;i--)a.push({r:i,g:l,b:s,color:h(i,l,s)});for(n=0,i=0;i<=r;i++,l--)a.push({r:n,g:l,b:i,color:h(n,l,i)});for(l=0,s=255,i=0;i<=r;i++,s--,n++)a.push({r:n,g:l,b:s,color:h(n,l,s)});if(o===1024)return a;var u=[],d=0,c=1024/o;for(i=0;i<o;i++)u.push(a[Math.floor(d)]),d+=c;return u};f.exports=g},91588:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};f.exports=S},62957:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};f.exports=S},37589:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t<<16|h<<8|g};f.exports=S},1e3:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){return o<<24|t<<16|h<<8|g};f.exports=S},62183:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=t(89528),o=function(a,r,i){var n=i,l=i,s=i;if(r!==0){var u=i<.5?i*(1+r):i+r-i*r,d=2*i-u;n=g(d,u,a+1/3),l=g(d,u,a),s=g(d,u,a-1/3)}var c=new h;return c.setGLTo(n,l,s,1)};f.exports=o},27939:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7537),g=function(o,a){o===void 0&&(o=1),a===void 0&&(a=1);for(var r=[],i=0;i<=359;i++)r.push(h(i/359,o,a));return r};f.exports=g},7537:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589);function g(a,r,i,n){var l=(a+r*6)%6,s=Math.min(l,4-l,1);return Math.round(255*(n-n*i*Math.max(0,s)))}var o=function(a,r,i,n){r===void 0&&(r=1),i===void 0&&(i=1);var l=g(5,a,r,i),s=g(3,a,r,i),u=g(1,a,r,i);return n?n.setTo?n.setTo(l,s,u,n.alpha,!0):(n.r=l,n.g=s,n.b=u,n.color=h(l,s,u),n):{r:l,g:s,b:u,color:h(l,s,u)}};f.exports=o},70238:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=function(o){var a=new h;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,u,d,c){return u+u+d+d+c+c});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(r){var i=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);a.setTo(i,n,l)}return a};f.exports=g},89528:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?t+(h-t)*6*g:g<.5?h:g<.6666666666666666?t+(h-t)*(.6666666666666666-g)*6:t};f.exports=S},30100:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=t(90664),o=function(a){var r=g(a);return new h(r.r,r.g,r.b,r.a)};f.exports=o},90664:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};f.exports=S},13699:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),g=t(37589),o=function(i,n,l,s,u,d,c,v){c===void 0&&(c=100),v===void 0&&(v=0);var x=v/c,y=h(i,s,x),T=h(n,u,x),E=h(l,d,x);return{r:y,g:T,b:E,a:255,color:g(y,T,E)}},a=function(i,n,l,s){return l===void 0&&(l=100),s===void 0&&(s=0),o(i.r,i.g,i.b,n.r,n.g,n.b,l,s)},r=function(i,n,l,s,u,d){return u===void 0&&(u=100),d===void 0&&(d=0),o(i.r,i.g,i.b,n,l,s,u,d)};f.exports={RGBWithRGB:o,ColorWithRGB:r,ColorWithColor:a}},68957:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=function(o){return new h(o.r,o.g,o.b,o.a)};f.exports=g},87388:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),g=function(o){var a=new h,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(r){var i=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),s=r[4]!==void 0?parseFloat(r[4]):1;a.setTo(i,n,l,s*255)}return a};f.exports=g},87837:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,h/=255,g/=255;var a=Math.min(t,h,g),r=Math.max(t,h,g),i=r-a,n=0,l=r===0?0:i/r,s=r;return r!==a&&(r===t?n=(h-g)/i+(h<g?6:0):r===h?n=(g-t)/i+2:r===g&&(n=(t-h)/i+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=s):(o.h=n,o.s=l,o.v=s),o};f.exports=S},75723:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62957),g=function(o,a,r,i,n){return i===void 0&&(i=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(a<<8)+r).toString(16).slice(1,7):"0x"+h(i)+h(o)+h(a)+h(r)};f.exports=g},85386:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),g=t(40987),o=function(a,r){return a===void 0&&(a=0),r===void 0&&(r=255),new g(h(a,r),h(a,r),h(a,r))};f.exports=o},80333:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70238),g=t(30100),o=t(68957),a=t(87388),r=function(i){var n=typeof i;switch(n){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):h(i);case"number":return g(i);case"object":return o(i)}};f.exports=r},3956:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987);h.ColorSpectrum=t(92728),h.ColorToRGBA=t(91588),h.ComponentToHex=t(62957),h.GetColor=t(37589),h.GetColor32=t(1e3),h.HexStringToColor=t(70238),h.HSLToColor=t(62183),h.HSVColorWheel=t(27939),h.HSVToRGB=t(7537),h.HueToComponent=t(89528),h.IntegerToColor=t(30100),h.IntegerToRGB=t(90664),h.Interpolate=t(13699),h.ObjectToColor=t(68957),h.RandomRGB=t(85386),h.RGBStringToColor=t(87388),h.RGBToHSV=t(87837),h.RGBToString=t(75723),h.ValueToColor=t(80333),f.exports=h},27460:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(39429),o=new h({initialize:function(r,i,n,l,s,u){i||(i=r.sys.make.image({x:n,y:l,key:s,frame:u,add:!1})),this.bitmapMask=i,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,i)},postRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});g.register("bitmapMask",function(a,r,i,n,l){return new o(this.scene,a,r,i,n,l)}),f.exports=o},80661:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,a,r){var i=o.gl;o.flush(),o.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:r}),this.applyStencil(o,r,!0),o.maskCount++},applyStencil:function(o,a,r){var i=o.gl,n=this.geometryMask,l=o.maskCount,s=255;i.colorMask(!1,!1,!1,!1),r?(i.stencilFunc(i.EQUAL,l,s),i.stencilOp(i.KEEP,i.KEEP,i.INCR),l++):(i.stencilFunc(i.EQUAL,l+1,s),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),this.level=l,n.renderWebGL(o,n,a),o.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.invertAlpha?i.stencilFunc(i.NOTEQUAL,l,s):i.stencilFunc(i.EQUAL,l,s)},postRenderWebGL:function(o){var a=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var r=o.currentMask;if(o.maskStack.length===0)r.mask=null,a.disable(a.STENCIL_TEST);else{var i=o.maskStack[o.maskStack.length-1];i.mask.applyStencil(o,i.camera,!1),o.currentCameraMask.mask!==i.mask?(r.mask=i.mask,r.camera=i.camera):r.mask=null}},preRenderCanvas:function(o,a,r){var i=this.geometryMask;o.currentContext.save(),i.renderCanvas(o,i,r,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});f.exports=g},69781:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=a,this.fragmentSrc=r,this.vertexSrc=i,this.uniforms=n}});f.exports=g},40366:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g;if(h)typeof h=="string"?g=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(g=h);else if(t.parentElement||h===null)return t;return g||(g=document.body),g.appendChild(t),t};f.exports=S},83719:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),g=function(o){var a=o.config;if(!(!a.parent||!a.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=r,h(r,a.parent)}};f.exports=g},57264:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),g=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),o()};document.body?h.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};f.exports=g},57811:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),g={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),g.w=h===90?o.offsetHeight:window.innerWidth,g.h=h===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?g.h:g.w};f.exports=S},45818:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),g=function(o,a){var r=window.screen,i=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return a>o?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};f.exports=g},74403:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};f.exports=S},56836:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h="";try{if(window.DOMParser){var g=new DOMParser;h=g.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};f.exports=S},35846:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};f.exports=S},43092:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(29747),o=new h({initialize:function(){this.isRunning=!1,this.callback=g,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function i(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(i))},this.stepTimeout=function i(){r.isRunning&&(r.timeOutID=window.setTimeout(i,r.delay)),r.callback(window.performance.now())}},start:function(a,r,i){this.isRunning||(this.callback=a,this.isSetTimeOut=r,this.delay=i,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});f.exports=o},84902:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};f.exports=h},47565:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(37277),a=new h({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",a,"events"),f.exports=a},93055:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={EventEmitter:t(47565)}},20122:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n){n===void 0&&(n=1),g.call(this,o.BARREL,i),this.amount=n}});f.exports=a},32251:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c){l===void 0&&(l=1),s===void 0&&(s=1),u===void 0&&(u=1),d===void 0&&(d=1),c===void 0&&(c=4),g.call(this,o.BLOOM,i),this.steps=c,this.offsetX=l,this.offsetY=s,this.blurStrength=u,this.strength=d,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});f.exports=a},9047:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c){n===void 0&&(n=0),l===void 0&&(l=2),s===void 0&&(s=2),u===void 0&&(u=1),c===void 0&&(c=4),g.call(this,o.BLUR,i),this.quality=n,this.x=l,this.y=s,this.steps=c,this.strength=u,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});f.exports=a},27885:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c,v){n===void 0&&(n=.5),l===void 0&&(l=1),s===void 0&&(s=.2),u===void 0&&(u=!1),d===void 0&&(d=1),c===void 0&&(c=1),v===void 0&&(v=1),g.call(this,o.BOKEH,i),this.radius=n,this.amount=l,this.contrast=s,this.isTiltShift=u,this.strength=v,this.blurX=d,this.blurY=c}});f.exports=a},12578:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d){n===void 0&&(n=8),u===void 0&&(u=1),d===void 0&&(d=.005),g.call(this,o.CIRCLE,i),this.scale=u,this.feather=d,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),s!=null&&(this.backgroundColor=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor2;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});f.exports=a},15802:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89422),o=t(14811),a=new h({Extends:g,initialize:function(i){g.call(this),this.type=o.COLOR_MATRIX,this.gameObject=i,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});f.exports=a},72898:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r){this.type=a,this.gameObject=r,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});f.exports=g},44553:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),s===void 0&&(s=.005),g.call(this,o.DISPLACEMENT,i),this.x=l,this.y=s,this.glTexture,this.setTexture(n)},setTexture:function(r){var i=this.gameObject.scene.sys.textures.getFrame(r);return i&&(this.glTexture=i.glTexture),this}});f.exports=a},68531:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u){l===void 0&&(l=4),s===void 0&&(s=0),u===void 0&&(u=!1),g.call(this,o.GLOW,i),this.outerStrength=l,this.innerStrength=s,this.knockout=u,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});f.exports=a},37102:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c,v,x){s===void 0&&(s=.2),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=1),x===void 0&&(x=0),g.call(this,o.GRADIENT,i),this.alpha=s,this.size=x,this.fromX=u,this.fromY=d,this.toX=c,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor1;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor2;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}}});f.exports=a},86886:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n){n===void 0&&(n=1),g.call(this,o.PIXELATE,i),this.amount=n}});f.exports=a},92322:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=.1),u===void 0&&(u=1),c===void 0&&(c=6),v===void 0&&(v=1),g.call(this,o.SHADOW,i),this.x=n,this.y=l,this.decay=s,this.power=u,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=v,d!==void 0&&(this.color=d)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});f.exports=a},39563:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=3),u===void 0&&(u=!1),g.call(this,o.SHINE,i),this.speed=n,this.lineWidth=l,this.gradient=s,this.reveal=u}});f.exports=a},56448:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=.5),u===void 0&&(u=.5),g.call(this,o.VIGNETTE,i),this.x=n,this.y=l,this.radius=s,this.strength=u}});f.exports=a},38433:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72898),o=t(14811),a=new h({Extends:g,initialize:function(i,n,l,s,u){n===void 0&&(n=.1),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),g.call(this,o.WIPE,i),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=s,this.reveal=u}});f.exports=a},14811:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};f.exports=S},66064:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=h(!1,o,g),f.exports=o},25305:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(23568),o=function(a,r,i){r.x=g(i,"x",0),r.y=g(i,"y",0),r.depth=g(i,"depth",0),r.flipX=g(i,"flipX",!1),r.flipY=g(i,"flipY",!1);var n=g(i,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=g(n,"x",1),r.scaleY=g(n,"y",1));var l=g(i,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=g(l,"x",1),r.scrollFactorY=g(l,"y",1)),r.rotation=g(i,"rotation",0);var s=g(i,"angle",null);s!==null&&(r.angle=s),r.alpha=g(i,"alpha",1);var u=g(i,"origin",null);if(typeof u=="number")r.setOrigin(u);else if(u!==null){var d=g(u,"x",.5),c=g(u,"y",.5);r.setOrigin(d,c)}r.blendMode=g(i,"blendMode",h.NORMAL),r.visible=g(i,"visible",!0);var v=g(i,"add",!0);return v&&a.sys.displayList.add(r),r.preUpdate&&a.sys.updateList.add(r),r};f.exports=o},13059:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23568),g=function(o,a){var r=h(a,"anims",null);if(r===null)return o;if(typeof r=="string")o.anims.play(r);else if(typeof r=="object"){var i=o.anims,n=h(r,"key",void 0);if(n){var l=h(r,"startFrame",void 0),s=h(r,"delay",0),u=h(r,"repeat",0),d=h(r,"repeatDelay",0),c=h(r,"yoyo",!1),v=h(r,"play",!1),x=h(r,"delayedPlay",0),y={key:n,delay:s,repeat:u,repeatDelay:d,yoyo:c,startFrame:l};v?i.play(y):x>0?i.playAfterDelay(y,x):i.load(y)}}return o};f.exports=g},8050:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(73162),o=t(37277),a=t(51708),r=t(44594),i=t(19186),n=new h({Extends:g,initialize:function(s){g.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(a.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(a.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,s){return l._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,s=l.length;s--;)l[s].destroy(!0);l.length=0,this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),f.exports=n},95643:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(53774),o=t(45893),a=t(50792),r=t(51708),i=t(44594),n=new h({Extends:a,initialize:function(s,u){a.call(this),this.scene=s,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,s){return this.data||(this.data=new o(this)),this.data.set(l,s),this},incData:function(l,s){return this.data||(this.data=new o(this)),this.data.inc(l,s),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,s,u){return this.scene.sys.input.enable(this,l,s,u),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return g(this)},willRender:function(l){var s=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!s||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,s=this.parentContainer,u=[];s&&(u.unshift(s.getIndex(l)),l=s,s.parentContainer);)s=s.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,f.exports=n},44603:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37277),o=t(44594),a=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},g.register("GameObjectCreator",a,"make"),f.exports=a},39429:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37277),o=t(44594),a=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},g.register("GameObjectFactory",a,"add"),f.exports=a},91296:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),g=new h,o=new h,a=new h,r={camera:g,sprite:o,calc:a},i=function(n,l,s){var u=g,d=o,c=a;return d.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),u.copyFrom(l.matrix),s?(u.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),d.e=n.x,d.f=n.y):(d.e-=l.scrollX*n.scrollFactorX,d.f-=l.scrollY*n.scrollFactorY),u.multiply(d,c),r};f.exports=i},45027:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(25774),o=t(37277),a=t(44594),r=new h({Extends:g,initialize:function(n){g.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,n){for(var l=this._active,s=l.length,u=0;u<s;u++){var d=l[u];d.active&&d.preUpdate.call(d,i,n)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(a.PRE_UPDATE,this.update,this),n.off(a.UPDATE,this.sceneUpdate,this),n.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",r,"updateList"),f.exports=r},3217:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a,r,i,n,l,s,u,d,c,v,x){var y=g.x-h.displayOriginX+a,T=g.y-h.displayOriginY+r,E=y+g.w,A=T+g.h,P=i.a,w=i.b,I=i.c,O=i.d,F=i.e,L=i.f,D=y*P+T*I+F,b=y*w+T*O+L,U=y*P+A*I+F,W=y*w+A*O+L,H=E*P+A*I+F,Y=E*w+A*O+L,G=E*P+T*I+F,X=E*w+T*O+L;n&&(D=Math.round(D),b=Math.round(b),U=Math.round(U),W=Math.round(W),H=Math.round(H),Y=Math.round(Y),G=Math.round(G),X=Math.round(X)),t.batchQuad(h,D,b,U,W,H,Y,G,X,o.u0,o.v0,o.u1,o.v1,l,s,u,d,c,v,x)};f.exports=S},53048:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){if(g===void 0&&(g=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var a=t.text,r=a.length,i=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,s=Number.MAX_VALUE,u=0,d=0,c=t.fontData.chars,v=t.fontData.lineHeight,x=t.letterSpacing,y=t.lineSpacing,T=0,E=0,A=0,P=null,w=t._align,I=0,O=0,F=t.fontSize/t.fontData.size,L=F*t.scaleX,D=F*t.scaleY,b=null,U=0,W=[],H=Number.MAX_VALUE,Y=0,G=0,X=0,V,B,z,$=[],j=[],k=null,q=function(zt,qt){for(var Nt=0,Jt=0;Jt<zt.length;Jt++){var oe=zt.charCodeAt(Jt),jt=qt.chars[oe];jt&&(Nt+=jt.xAdvance)}return Nt*L};if(i>0){z=a.split(`
`);var Q=[];for(V=0;V<z.length;V++){var Z=z[V],_="",et="",it="",st="";for(B=0;B<Z.length;B++)if(A=Z.charCodeAt(B),_+=Z[B],A===n||B===Z.length-1){st=it+_;var nt=q(st,t.fontData);nt<=i?it=st:(et=et.slice(0,-1),et+=(et?`
`:"")+it,it=_),_=""}et=et.slice(0,-1),et+=(et?`
`:"")+it,Q.push(et)}a=Q.join(`
`),o.wrappedText=a,r=a.length}var lt=0;for(V=0;V<r;V++){if(A=a.charCodeAt(V),A===10){k!==null&&($.push({word:k.word,i:k.i,x:k.x*L,y:k.y*D,w:k.w*L,h:k.h*D}),k=null),b=null,W[G]=X,X>Y&&(Y=X),X<H&&(H=X),G++,X=0,T=0,E=(v+y)*G;continue}if(P=c[A],!!P){if(I=T,O=E,b!==null){var ut=P.kerning[U];I+=ut!==void 0?ut:0}l>I&&(l=I),s>O&&(s=O);var ot=I+P.xAdvance,rt=O+v;u<ot&&(u=ot),d<rt&&(d=rt);var ht=P.xOffset+P.xAdvance+(ut!==void 0?ut:0);A===n?k!==null&&($.push({word:k.word,i:k.i,x:k.x*L,y:k.y*D,w:k.w*L,h:k.h*D}),k=null):(k===null&&(k={word:"",i:lt,x:T,y:E,w:0,h:v}),k.word=k.word.concat(a[V]),k.w+=ht),j.push({i:lt,idx:V,char:a[V],code:A,x:(P.xOffset+I)*F,y:(P.yOffset+E)*F,w:P.width*F,h:P.height*F,t:E*F,r:ot*F,b:v*F,line:G,glyph:P}),T+=P.xAdvance+x+(ut!==void 0?ut:0),b=P,U=A,X=ot*F,lt++}}if(k!==null&&$.push({word:k.word,i:k.i,x:k.x*L,y:k.y*D,w:k.w*L,h:k.h*D}),W[G]=X,X>Y&&(Y=X),X<H&&(H=X),w>0)for(var dt=0;dt<j.length;dt++){var xt=j[dt];if(w===1){var yt=(Y-W[xt.line])/2;xt.x+=yt,xt.r+=yt}else if(w===2){var Ct=Y-W[xt.line];xt.x+=Ct,xt.r+=Ct}}var St=o.local,It=o.global;return z=o.lines,St.x=l*F,St.y=s*F,St.width=u*F,St.height=d*F,It.x=t.x-t._displayOriginX+l*L,It.y=t.y-t._displayOriginY+s*D,It.width=u*L,It.height=d*D,z.shortest=H,z.longest=Y,z.lengths=W,h&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),It.x=Math.ceil(It.x),It.y=Math.ceil(It.y),It.width=Math.ceil(It.width),It.height=Math.ceil(It.height),z.shortest=Math.ceil(H),z.longest=Math.ceil(Y)),g&&(t._displayOriginX=t.originX*St.width,t._displayOriginY=t.originY*St.height,It.x=t.x-t._displayOriginX*t.scaleX,It.y=t.y-t._displayOriginY*t.scaleY,h&&(It.x=Math.ceil(It.x),It.y=Math.ceil(It.y))),o.words=$,o.characters=j,o.lines.height=v,o.scale=F,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};f.exports=S},61327:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21859),g=function(o,a,r,i,n,l,s){var u=o.sys.textures.get(r),d=u.get(i),c=o.sys.cache.xml.get(n);if(d&&c){var v=h(c,d,l,s,u);return o.sys.cache.bitmapFont.add(a,{data:v,texture:r,frame:i,fromAtlas:!0}),!0}else return!1};f.exports=g},6925:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g=function(o,a){var r=a.width,i=a.height,n=Math.floor(r/2),l=Math.floor(i/2),s=h(a,"chars","");if(s!==""){var u=h(a,"image",""),d=o.sys.textures.getFrame(u),c=d.cutX,v=d.cutY,x=d.source.width,y=d.source.height,T=h(a,"offset.x",0),E=h(a,"offset.y",0),A=h(a,"spacing.x",0),P=h(a,"spacing.y",0),w=h(a,"lineSpacing",0),I=h(a,"charsPerRow",null);I===null&&(I=x/r,I>s.length&&(I=s.length));for(var O=T,F=E,L={retroFont:!0,font:u,size:r,lineHeight:i+w,chars:{}},D=0,b=0;b<s.length;b++){var U=s.charCodeAt(b),W=(c+O)/x,H=(v+F)/y,Y=(c+O+r)/x,G=(v+F+i)/y;L.chars[U]={x:O,y:F,width:r,height:i,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:W,v0:H,u1:Y,v1:G},D++,D===I?(D=0,O=T,F+=i+P):O+=r+A}var X={data:L,frame:null,texture:u};return X}};f.exports=g},21859:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(h,g){return parseInt(h.getAttribute(g),10)}var t=function(h,g,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0);var i=g.cutX,n=g.cutY,l=g.source.width,s=g.source.height,u=g.sourceIndex,d={},c=h.getElementsByTagName("info")[0],v=h.getElementsByTagName("common")[0];d.font=c.getAttribute("face"),d.size=S(c,"size"),d.lineHeight=S(v,"lineHeight")+a,d.chars={};var x=h.getElementsByTagName("char"),y=g!==void 0&&g.trimmed;if(y)var T=g.height,E=g.width;for(var A=0;A<x.length;A++){var P=x[A],w=S(P,"id"),I=String.fromCharCode(w),O=S(P,"x"),F=S(P,"y"),L=S(P,"width"),D=S(P,"height");y&&(O<E&&(E=O),F<T&&(T=F)),y&&T!==0&&E!==0&&(O-=g.x,F-=g.y);var b=(i+O)/l,U=(n+F)/s,W=(i+O+L)/l,H=(n+F+D)/s;if(d.chars[w]={x:O,y:F,width:L,height:D,centerX:Math.floor(L/2),centerY:Math.floor(D/2),xOffset:S(P,"xoffset"),yOffset:S(P,"yoffset"),xAdvance:S(P,"xadvance")+o,data:{},kerning:{},u0:b,v0:U,u1:W,v1:H},r&&L!==0&&D!==0){var Y=r.add(I,u,O,F,L,D);Y&&Y.setUVs(L,D,b,U,W,H)}}var G=h.getElementsByTagName("kerning");for(A=0;A<G.length;A++){var X=G[A],V=S(X,"first"),B=S(X,"second"),z=S(X,"amount");d.chars[B].kerning[V]=z}return d};f.exports=t},196:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87662),g=t(79291),o={Parse:t(6925)};o=g(!1,o,h),f.exports=o},87662:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};f.exports=S},2638:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),g=t(83419),o=t(12310),a=new g({Extends:h,Mixins:[o],initialize:function(i,n,l,s,u,d,c){h.call(this,i,n,l,s,u,d,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,i){return this.cropWidth=r,this.cropHeight=i,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});f.exports=a},86741:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),g=function(o,a,r,i){var n=a._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,a,r,i))){r.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,d=a.displayCallback,c=a.callbackData,v=a.fontData.chars,x=a.fontData.lineHeight,y=a._letterSpacing,T=0,E=0,A=0,P=null,w=0,I=0,O=0,F=0,L=0,D=0,b=null,U=0,W=a.frame.source.image,H=u.cutX,Y=u.cutY,G=0,X=0,V=a._fontSize/a.fontData.size,B=a._align,z=0,$=0;a.getTextBounds(!1);var j=a._bounds.lines;B===1?$=(j.longest-j.lengths[0])/2:B===2&&($=j.longest-j.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);var k=r.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(s.beginPath(),s.rect(0,0,a.cropWidth,a.cropHeight),s.clip());for(var q=0;q<l;q++){if(X=V,G=0,A=n.charCodeAt(q),A===10){z++,B===1?$=(j.longest-j.lengths[z])/2:B===2&&($=j.longest-j.lengths[z]),T=0,E+=x,b=null;continue}if(P=v[A],!!P){if(w=H+P.x,I=Y+P.y,O=P.width,F=P.height,L=P.xOffset+T-a.scrollX,D=P.yOffset+E-a.scrollY,b!==null){var Q=P.kerning[U];L+=Q!==void 0?Q:0}if(d){c.index=q,c.charCode=A,c.x=L,c.y=D,c.scale=X,c.rotation=G,c.data=P.data;var Z=d(c);L=Z.x,D=Z.y,X=Z.scale,G=Z.rotation}L*=X,D*=X,L+=$,T+=P.xAdvance+y+(Q!==void 0?Q:0),b=P,U=A,!(O===0||F===0||A===32)&&(k&&(L=Math.round(L),D=Math.round(D)),s.save(),s.translate(L,D),s.rotate(G),s.scale(X,X),s.drawImage(W,w,I,O,F,0,0,O,F),s.restore())}}s.restore()}};f.exports=g},11164:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),g=t(25305),o=t(44603),a=t(23568);o.register("dynamicBitmapText",function(r,i){r===void 0&&(r={});var n=a(r,"font",""),l=a(r,"text",""),s=a(r,"size",!1),u=new h(this.scene,0,0,n,l,s);return i!==void 0&&(r.add=i),g(this.scene,u,r),u})},72566:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),g=t(39429);g.register("dynamicBitmapText",function(o,a,r,i,n){return this.displayList.add(new h(this.scene,o,a,r,i,n))})},12310:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(73482),o=t(86741),f.exports={renderWebGL:g,renderCanvas:o}},73482:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(61340),o=t(70554),a=new g,r=function(i,n,l,s){var u=n.text,d=u.length;if(d!==0){l.addToRenderList(n);var c=i.pipelines.set(n.pipeline,n),v=h(n,l,s);i.pipelines.preBatch(n);var x=v.sprite,y=v.calc,T=a,E=n.cropWidth>0||n.cropHeight>0;E&&(c.flush(),i.pushScissor(y.tx,y.ty,n.cropWidth*y.scaleX,n.cropHeight*y.scaleY));var A=n.frame,P=A.glTexture,w=n.tintFill,I=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),O=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),D=c.setGameObject(n),b=0,U=0,W=0,H=0,Y=n.letterSpacing,G,X=0,V=0,B,z=n.scrollX,$=n.scrollY,j=n.fontData,k=j.chars,q=j.lineHeight,Q=n.fontSize/j.size,Z=0,_=n._align,et=0,it=0,st=n.getTextBounds(!1);n.maxWidth>0&&(u=st.wrappedText,d=u.length);var nt=n._bounds.lines;_===1?it=(nt.longest-nt.lengths[0])/2:_===2&&(it=nt.longest-nt.lengths[0]);for(var lt=l.roundPixels,ut=n.displayCallback,ot=n.callbackData,rt=0;rt<d;rt++){if(W=u.charCodeAt(rt),W===10){et++,_===1?it=(nt.longest-nt.lengths[et])/2:_===2&&(it=nt.longest-nt.lengths[et]),b=0,U+=q,B=null;continue}if(G=k[W],!!G){X=G.width,V=G.height;var ht=G.xOffset+b-z,dt=G.yOffset+U-$;if(B!==null){var xt=G.kerning[H]||0;ht+=xt,b+=xt}if(b+=G.xAdvance+Y,B=G,H=W,!(X===0||V===0||W===32)){if(Q=n.fontSize/n.fontData.size,Z=0,ut){ot.color=0,ot.tint.topLeft=I,ot.tint.topRight=O,ot.tint.bottomLeft=F,ot.tint.bottomRight=L,ot.index=rt,ot.charCode=W,ot.x=ht,ot.y=dt,ot.scale=Q,ot.rotation=Z,ot.data=G.data;var yt=ut(ot);ht=yt.x,dt=yt.y,Q=yt.scale,Z=yt.rotation,yt.color?(I=yt.color,O=yt.color,F=yt.color,L=yt.color):(I=yt.tint.topLeft,O=yt.tint.topRight,F=yt.tint.bottomLeft,L=yt.tint.bottomRight),I=o.getTintAppendFloatAlpha(I,l.alpha*n._alphaTL),O=o.getTintAppendFloatAlpha(O,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(F,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(L,l.alpha*n._alphaBR)}ht*=Q,dt*=Q,ht-=n.displayOriginX,dt-=n.displayOriginY,ht+=it,T.applyITRS(ht,dt,Z,Q,Q),y.multiply(T,x);var Ct=G.u0,St=G.v0,It=G.u1,zt=G.v1,qt=X,Nt=V,Jt=x.e,oe=x.f,jt=Nt*x.c+x.e,Se=Nt*x.d+x.f,gi=qt*x.a+Nt*x.c+x.e,Ai=qt*x.b+Nt*x.d+x.f,Vi=qt*x.a+x.e,Gi=qt*x.b+x.f;lt&&(Jt=Math.round(Jt),oe=Math.round(oe),jt=Math.round(jt),Se=Math.round(Se),gi=Math.round(gi),Ai=Math.round(Ai),Vi=Math.round(Vi),Gi=Math.round(Gi)),c.shouldFlush(6)&&(c.flush(),D=c.setGameObject(n)),c.batchQuad(n,Jt,oe,jt,Se,gi,Ai,Vi,Gi,Ct,St,It,zt,I,O,F,L,w,P,D)}}}E&&(c.flush(),i.popScissor()),i.pipelines.postBatch(n)}};f.exports=r},22186:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(45319),o=t(31401),a=t(95643),r=t(53048),i=t(61327),n=t(21859),l=t(87841),s=t(18658),u=new h({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,s],initialize:function(c,v,x,y,T,E,A){T===void 0&&(T=""),A===void 0&&(A=0),a.call(this,c,"BitmapText"),this.font=y;var P=this.scene.sys.cache.bitmapFont.get(y);if(!P)throw new Error("Invalid BitmapText key: "+y);this.fontData=P.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=P.fromAtlas,this.setTexture(P.texture,P.frame),this.setPosition(v,x),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(d){return this._fontSize=d,this._dirty=!0,this},setLetterSpacing:function(d){return d===void 0&&(d=0),this._letterSpacing=d,this._dirty=!0,this},setLineSpacing:function(d){return d===void 0&&(d=0),this.lineSpacing=d,this},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this.text&&(this._text=d.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(d,c,v,x){return d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),x===void 0&&(x=.5),this.dropShadowX=d,this.dropShadowY=c,this.dropShadowColor=v,this.dropShadowAlpha=x,this},setCharacterTint:function(d,c,v,x,y,T,E){d===void 0&&(d=0),c===void 0&&(c=1),v===void 0&&(v=!1),x===void 0&&(x=-1),y===void 0&&(y=x,T=x,E=x);var A=this.text.length;c===-1&&(c=A),d<0&&(d=A+d),d=g(d,0,A-1);for(var P=g(d+c,d,A),w=this.charColors,I=d;I<P;I++){var O=w[I];if(x===-1)w[I]=null;else{var F=v?1:0;O?(O.tintEffect=F,O.tintTL=x,O.tintTR=y,O.tintBL=T,O.tintBR=E):w[I]={tintEffect:F,tintTL:x,tintTR:y,tintBL:T,tintBR:E}}}return this},setWordTint:function(d,c,v,x,y,T,E){c===void 0&&(c=1);for(var A=this.getTextBounds(),P=A.words,w=typeof d=="number",I=0,O=0;O<P.length;O++){var F=P[O];if((w&&O===d||!w&&F.word===d)&&(this.setCharacterTint(F.i,F.word.length,v,x,y,T,E),I++,I===c))return this}return this},getTextBounds:function(d){var c=this._bounds;return(this._dirty||d||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(r(this,d,!0,c),this._dirty=!1),c},getCharacterAt:function(d,c,v){for(var x=this.getLocalPoint(d,c,null,v),y=this.getTextBounds(),T=y.characters,E=new l,A=0;A<T.length;A++){var P=T[A];if(E.setTo(P.x,P.t,P.r-P.x,P.b),E.contains(x.x,x.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(d,c,v){c===void 0&&(c=this._fontSize),v===void 0&&(v=this._align);var x=this.scene.sys.cache.bitmapFont.get(d);return x&&(this.font=d,this.fontData=x.data,this._fontSize=c,this._align=v,this.fromAtlas=x.fromAtlas===!0,this.setTexture(x.texture,x.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(d,c){return this._maxWidth=d,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},align:{set:function(d){this._align=d,this._dirty=!0},get:function(){return this._align}},text:{set:function(d){this.setText(d)},get:function(){return this._text}},fontSize:{set:function(d){this._fontSize=d,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(d){this._letterSpacing=d,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(d){this._lineSpacing=d,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(d){this._maxWidth=d,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var d=o.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return d.data=c,d},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=i,u.ParseXMLBitmapFont=n,f.exports=u},37289:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),g=function(o,a,r,i){var n=a._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,a,r,i))){r.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,d=a.fontData.chars,c=a.fontData.lineHeight,v=a._letterSpacing,x=a._lineSpacing,y=0,T=0,E=0,A=null,P=0,w=0,I=0,O=0,F=0,L=0,D=null,b=0,U=u.source.image,W=u.cutX,H=u.cutY,Y=a._fontSize/a.fontData.size,G=a._align,X=0,V=0,B=a.getTextBounds(!1);a.maxWidth>0&&(n=B.wrappedText,l=n.length);var z=a._bounds.lines;G===1?V=(z.longest-z.lengths[0])/2:G===2&&(V=z.longest-z.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);for(var $=r.roundPixels,j=0;j<l;j++){if(E=n.charCodeAt(j),E===10){X++,G===1?V=(z.longest-z.lengths[X])/2:G===2&&(V=z.longest-z.lengths[X]),y=0,T+=c+x,D=null;continue}if(A=d[E],!!A){if(P=W+A.x,w=H+A.y,I=A.width,O=A.height,F=A.xOffset+y,L=A.yOffset+T,D!==null){var k=A.kerning[b];F+=k!==void 0?k:0}F*=Y,L*=Y,F+=V,y+=A.xAdvance+v+(k!==void 0?k:0),D=A,b=E,!(I===0||O===0||E===32)&&($&&(F=Math.round(F),L=Math.round(L)),s.save(),s.translate(F,L),s.scale(Y,Y),s.drawImage(U,P,w,I,O,0,0,I,O),s.restore())}}s.restore()}};f.exports=g},57336:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),g=t(25305),o=t(44603),a=t(23568),r=t(35154);o.register("bitmapText",function(i,n){i===void 0&&(i={});var l=r(i,"font",""),s=a(i,"text",""),u=a(i,"size",!1),d=r(i,"align",0),c=new h(this.scene,0,0,l,s,u,d);return n!==void 0&&(i.add=n),g(this.scene,c,i),c})},34914:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),g=t(39429);g.register("bitmapText",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},18658:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(33590),o=t(37289),f.exports={renderWebGL:g,renderCanvas:o}},33590:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3217),g=t(91296),o=t(70554),a=function(r,i,n,l){var s=i._text,u=s.length;if(u!==0){n.addToRenderList(i);var d=r.pipelines.set(i.pipeline,i),c=g(i,n,l).calc;r.pipelines.preBatch(i);var v=n.roundPixels,x=n.alpha,y=i.charColors,T=i.tintFill,E=o.getTintAppendFloatAlpha,A=E(i.tintTopLeft,x*i._alphaTL),P=E(i.tintTopRight,x*i._alphaTR),w=E(i.tintBottomLeft,x*i._alphaBL),I=E(i.tintBottomRight,x*i._alphaBR),O=i.frame.glTexture,F=d.setGameObject(i),L=i.getTextBounds(!1),D,b,U,W=L.characters,H=i.dropShadowX,Y=i.dropShadowY,G=H!==0||Y!==0;if(G){var X=i.dropShadowColor,V=i.dropShadowAlpha,B=E(X,x*V*i._alphaTL),z=E(X,x*V*i._alphaTR),$=E(X,x*V*i._alphaBL),j=E(X,x*V*i._alphaBR);for(D=0;D<W.length;D++)b=W[D],U=b.glyph,!(b.code===32||U.width===0||U.height===0)&&h(d,i,b,U,H,Y,c,v,B,z,$,j,1,O,F)}for(D=0;D<W.length;D++)if(b=W[D],U=b.glyph,!(b.code===32||U.width===0||U.height===0))if(d.shouldFlush(6)&&(d.flush(),F=d.setGameObject(i)),y[b.i]){var k=y[b.i],q=k.tintEffect,Q=E(k.tintTL,x*i._alphaTL),Z=E(k.tintTR,x*i._alphaTR),_=E(k.tintBL,x*i._alphaBL),et=E(k.tintBR,x*i._alphaBR);h(d,i,b,U,0,0,c,v,Q,Z,_,et,q,O,F)}else h(d,i,b,U,0,0,c,v,A,P,w,I,T,O,F);r.pipelines.postBatch(i)}};f.exports=a},6107:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48011),g=t(46590),o=t(83419),a=t(31401),r=t(4327),i=t(95643),n=t(73162),l=new o({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,h],initialize:function(u,d,c,v,x){i.call(this,u,"Blitter"),this.setTexture(v,x),this.setPosition(d,c),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(s,u,d,c,v){c===void 0&&(c=!0),v===void 0&&(v=this.children.length),d===void 0?d=this.frame:d instanceof r||(d=this.texture.get(d));var x=new g(this,s,u,d,c);return this.children.addAt(x,v,!1),this.dirty=!0,x},createFromCallback:function(s,u,d,c){for(var v=this.createMultiple(u,d,c),x=0;x<v.length;x++){var y=v[x];s.call(this,y,x)}return v},createMultiple:function(s,u,d){u===void 0&&(u=this.frame.name),d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);var c=[],v=this;return u.forEach(function(x){for(var y=0;y<s;y++)c.push(v.create(0,0,x,d))}),c},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});f.exports=l},72396:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=h.getRenderList();if(a.length!==0){var r=t.currentContext,i=g.alpha*h.alpha;if(i!==0){g.addToRenderList(h),r.globalCompositeOperation=t.blendModes[h.blendMode],r.imageSmoothingEnabled=!h.frame.source.scaleMode;var n=h.x-g.scrollX*h.scrollFactorX,l=h.y-g.scrollY*h.scrollFactorY;r.save(),o&&o.copyToContext(r);for(var s=g.roundPixels,u=0;u<a.length;u++){var d=a[u],c=d.flipX||d.flipY,v=d.frame,x=v.canvasData,y=v.x,T=v.y,E=1,A=1,P=d.alpha*i;P!==0&&(r.globalAlpha=P,c?(d.flipX&&(E=-1,y-=x.width),d.flipY&&(A=-1,T-=x.height),x.width>0&&x.height>0&&(r.save(),r.translate(d.x+n,d.y+l),r.scale(E,A),r.drawImage(v.source.image,x.x,x.y,x.width,x.height,y,T,x.width,x.height),r.restore())):(s&&(y=Math.round(y),T=Math.round(T)),x.width>0&&x.height>0&&r.drawImage(v.source.image,x.x,x.y,x.width,x.height,y+d.x+n,T+d.y+l,x.width,x.height)))}r.restore()}}};f.exports=S},9403:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),g=t(25305),o=t(44603),a=t(23568);o.register("blitter",function(r,i){r===void 0&&(r={});var n=a(r,"key",null),l=a(r,"frame",null),s=new h(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),g(this.scene,s,r),s})},12709:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),g=t(39429);g.register("blitter",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},48011:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(99485),o=t(72396),f.exports={renderWebGL:g,renderCanvas:o}},99485:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),g=t(70554),o=new h,a=function(r,i,n,l){var s=i.getRenderList(),u=n.alpha*i.alpha;if(!(s.length===0||u===0)){n.addToRenderList(i);var d=r.pipelines.set(this.pipeline,i),c=n.scrollX*i.scrollFactorX,v=n.scrollY*i.scrollFactorY,x=o.copyFrom(n.matrix);l&&(x.multiplyWithOffset(l,-c,-v),c=0,v=0);var y=i.x-c,T=i.y-v,E=-1,A=!1,P=n.roundPixels;r.pipelines.preBatch(i);for(var w=0;w<s.length;w++){var I=s[w],O=I.frame,F=I.alpha*u;if(F!==0){var L=O.width,D=O.height,b=y+I.x+O.x,U=T+I.y+O.y;I.flipX&&(L*=-1,b+=O.width),I.flipY&&(D*=-1,U+=O.height);var W=x.setQuad(b,U,b+L,U+D,P),H=g.getTintAppendFloatAlpha(I.tint,F);if(O.sourceIndex!==E){var Y=d.setGameObject(i,O);E=O.sourceIndex}d.batchQuad(i,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],O.u0,O.v0,O.u1,O.v1,H,H,H,H,A,O.glTexture,Y)&&(E=-1)}}r.pipelines.postBatch(i)}};f.exports=a},46590:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(4327),o=new h({initialize:function(r,i,n,l,s){this.parent=r,this.x=i,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof g&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,r,i){return this.x=a,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,r){return this.x=a,this.y=r,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,r){return this.flipX=a,this.flipY=r,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});f.exports=o},16005:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,r,i,n){return a===void 0&&(a=1),r===void 0?this.alpha=a:(this._alphaTL=h(a,0,1),this._alphaTR=h(r,0,1),this._alphaBL=h(i,0,1),this._alphaBR=h(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=-3:this.renderFlags|=g}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var r=h(a,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=g)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var r=h(a,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=g)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var r=h(a,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=g)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var r=h(a,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=g)}}};f.exports=o},88509:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,r===0?this.renderFlags&=-3:this.renderFlags|=g}}};f.exports=o},90065:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=h[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};f.exports=g},94215:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};f.exports=S},61683:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,g,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,g,o,this.flipX,this.flipY);else{var a=t;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};f.exports=S},89272:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),g={_depth:0,depth:{get:function(){return this._depth},set:function(o){this.displayList&&this.displayList.queueDepthSort(),this._depth=o}},setDepth:function(o){return o===void 0&&(o=0),this.depth=o,this},setToTop:function(){var o=this.getDisplayList();return o&&h.BringToTop(o,this),this},setToBack:function(){var o=this.getDisplayList();return o&&h.SendToBack(o,this),this},setAbove:function(o){var a=this.getDisplayList();return a&&o&&h.MoveAbove(a,this,o),this},setBelow:function(o){var a=this.getDisplayList();return a&&o&&h.MoveBelow(a,this,o),this}};f.exports=g},47059:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(66064),o=t(19133),a=new h({initialize:function(i,n){this.gameObject=i,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var i=this.gameObject.scene.sys.renderer;i&&i.pipelines?(this.gameObject.pipeline=i.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,i=0;i<r.length;i++)r[i].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var i;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),i=0;i<n.length;i++){var l=n[i];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var s=this.list;for(i=0;i<s.length;i++)s[i]===r&&(o(s,i),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,i){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,i);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,i,n,l,s,u){return this.add(new g.Glow(this.gameObject,r,i,n,l),{quality:s,distance:u})},addShadow:function(r,i,n,l,s,u,d){return this.add(new g.Shadow(this.gameObject,r,i,n,l,s,u,d))},addPixelate:function(r){return this.add(new g.Pixelate(this.gameObject,r))},addVignette:function(r,i,n,l){return this.add(new g.Vignette(this.gameObject,r,i,n,l))},addShine:function(r,i,n,l){return this.add(new g.Shine(this.gameObject,r,i,n,l))},addBlur:function(r,i,n,l,s,u){return this.add(new g.Blur(this.gameObject,r,i,n,l,s,u))},addGradient:function(r,i,n,l,s,u,d,c){return this.add(new g.Gradient(this.gameObject,r,i,n,l,s,u,d,c))},addBloom:function(r,i,n,l,s,u){return this.add(new g.Bloom(this.gameObject,r,i,n,l,s,u))},addColorMatrix:function(){return this.add(new g.ColorMatrix(this.gameObject))},addCircle:function(r,i,n,l,s){return this.add(new g.Circle(this.gameObject,r,i,n,l,s))},addBarrel:function(r){return this.add(new g.Barrel(this.gameObject,r))},addDisplacement:function(r,i,n){return this.add(new g.Displacement(this.gameObject,r,i,n))},addWipe:function(r,i,n){return this.add(new g.Wipe(this.gameObject,r,i,n))},addReveal:function(r,i,n){return this.add(new g.Wipe(this.gameObject,r,i,n,!0))},addBokeh:function(r,i,n){return this.add(new g.Bokeh(this.gameObject,r,i,n))},addTiltShift:function(r,i,n,l,s,u){return this.add(new g.Bokeh(this.gameObject,r,i,n,!0,l,s,u))},destroy:function(){this.clear(),this.gameObject=null}});f.exports=a},54434:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};f.exports=S},8004:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(11520),o=t(26099),a={prepareBoundsOutput:function(r,i){if(i===void 0&&(i=!1),this.rotation!==0&&g(r,this.x,this.y,this.rotation),i&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,i){return r===void 0&&(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getTopLeft:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopRight:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getLeftCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getRightCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getBottomLeft:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomRight:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBounds:function(r){r===void 0&&(r=new h);var i,n,l,s,u,d,c,v;if(this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),x.transformPoint(r.x,r.y,r),i=r.x,n=r.y,this.getTopRight(r),x.transformPoint(r.x,r.y,r),l=r.x,s=r.y,this.getBottomLeft(r),x.transformPoint(r.x,r.y,r),u=r.x,d=r.y,this.getBottomRight(r),x.transformPoint(r.x,r.y,r),c=r.x,v=r.y}else this.getTopLeft(r),i=r.x,n=r.y,this.getTopRight(r),l=r.x,s=r.y,this.getBottomLeft(r),u=r.x,d=r.y,this.getBottomRight(r),c=r.x,v=r.y;return r.x=Math.min(i,l,u,c),r.y=Math.min(n,s,d,v),r.width=Math.max(i,l,u,c)-r.x,r.height=Math.max(n,s,d,v)-r.y,r}};f.exports=a},8573:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6858),g=t(80661),o={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,r,i,n,l){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new h(this.scene,a,r,i,n,l)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new g(this.scene,a)}};f.exports=o},27387:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};f.exports=S},37640:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),g=t(57355),o=t(35154),a=t(86353),r=t(26099),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var u=g(n,"positionOnPath",!1);this.rotateToPath=g(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var d=o(n,"startAt",l);if(d&&(n.onStart=function(v){var x=v.data[0];x.progress=d,x.elapsed=x.duration*d;var y=x.ease(x.progress);x.current=x.start+(x.end-x.start)*y,x.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],s=this.pathDelta,u=this.pathVector;if(s.copy(u).negate(),l.state===a.COMPLETE){this.path.getPoint(l.end,u),s.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(l.state!==a.PLAYING_FORWARD&&l.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),u),s.add(u),u.add(this.pathOffset);var d=this.x,c=this.y;this.setPosition(u.x,u.y);var v=this.x-d,x=this.y-c;if(v===0&&x===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(x,v)+h(this.pathRotationOffset))}}};f.exports=i},72699:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),g={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var r=a.pipelines;if(r){o===void 0&&(o=r.default);var i=r.get(o);if(i)return this.defaultPipeline=i,this.pipeline=i,!0}return!1},setPipeline:function(o,a,r){var i=this.scene.sys.renderer;if(!i)return this;var n=i.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),a&&(this.pipelineData=r?h(a):a)}return this},setPipelineData:function(o,a){var r=this.pipelineData;return a===void 0?delete r[o]:r[o]=a,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};f.exports=g},17581:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),g=t(47059),o=t(19133),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new g(this,!0),r&&(this.preFX=new g(this,!1))},setPostPipeline:function(r,i,n){var l=this.scene.sys.renderer;if(!l)return this;var s=l.pipelines;if(s){Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var d=s.getPostPipeline(r[u],this,i);d&&this.postPipelines.push(d)}i&&(this.postPipelineData=n?h(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,i){var n=this.postPipelineData;return i===void 0?delete n[r]:n[r]=i,this},getPostPipeline:function(r){for(var i=typeof r=="string",n=this.postPipelines,l=[],s=0;s<n.length;s++){var u=n[s];(i&&u.name===r||!i&&u instanceof r)&&l.push(u)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var i=this.postPipelines,n=0;n<i.length;n++)i[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var i=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var s=n[l];(i&&s.name===r||!i&&s===r)&&(s.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};f.exports=a},80227:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};f.exports=S},16736:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};f.exports=S},37726:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),g=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(a,r,i,n){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r,i,n)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=g,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};f.exports=o},79812:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),g=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(a,r,i,n){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,r,i,n,this.flipX,this.flipY);else{var l=a;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=g,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};f.exports=o},27472:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,g,o){return t===void 0&&(t=16777215),h===void 0&&(h=t,g=t,o=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=g,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,h,g,o){return this.setTint(t,h,g,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};f.exports=S},53774:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};f.exports=S},16901:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(61340),o=t(85955),a=t(86554),r=t(30954),i=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=-5:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*h.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=a(s)}},setPosition:function(s,u,d,c){return s===void 0&&(s=0),u===void 0&&(u=s),d===void 0&&(d=0),c===void 0&&(c=0),this.x=s,this.y=u,this.z=d,this.w=c,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,u,d,c){return s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=s+Math.random()*d,this.y=u+Math.random()*c,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=s),this.scaleX=s,this.scaleY=u,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new g),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,u){s===void 0&&(s=new g);var d=this.parentContainer;if(!d)return this.getLocalTransformMatrix(s);var c=!1;for(u||(u=new g,c=!0),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);d;)u.applyITRS(d.x,d.y,d._rotation,d._scaleX,d._scaleY),u.multiply(s,s),d=d.parentContainer;return c&&u.destroy(),s},getLocalPoint:function(s,u,d,c){d||(d=new i),c||(c=this.scene.sys.cameras.main);var v=c.scrollX,x=c.scrollY,y=s+v*this.scrollFactorX-v,T=u+x*this.scrollFactorY-x;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(y,T,d):o(y,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,d),this._originComponent&&(d.x+=this._displayOriginX,d.y+=this._displayOriginY),d},getWorldPoint:function(s,u,d){s===void 0&&(s=new i);var c=this.parentContainer;if(!c)return s.x=this.x,s.y=this.y,s;var v=this.getWorldTransformMatrix(u,d);return s.x=v.tx,s.y=v.ty,s},getParentRotation:function(){for(var s=0,u=this.parentContainer;u;)s+=u.rotation,u=u.parentContainer;return s}};f.exports=l},61340:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(36383),o=t(26099),a=new h({initialize:function(i,n,l,s,u,d){i===void 0&&(i=1),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=1),u===void 0&&(u=0),d===void 0&&(d=0),this.matrix=new Float32Array([i,n,l,s,u,d,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,i=r[0],n=r[1],l=r[2],s=r[3];return i||n?n>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):l||s?g.TAU-(s>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,i){var n=this.matrix;return n[4]=n[0]*r+n[2]*i+n[4],n[5]=n[1]*r+n[3]*i+n[5],this},scale:function(r,i){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=i,n[3]*=i,this},rotate:function(r){var i=Math.sin(r),n=Math.cos(r),l=this.matrix,s=l[0],u=l[1],d=l[2],c=l[3];return l[0]=s*n+d*i,l[1]=u*n+c*i,l[2]=s*-i+d*n,l[3]=u*-i+c*n,this},multiply:function(r,i){var n=this.matrix,l=r.matrix,s=n[0],u=n[1],d=n[2],c=n[3],v=n[4],x=n[5],y=l[0],T=l[1],E=l[2],A=l[3],P=l[4],w=l[5],I=i===void 0?n:i.matrix;return I[0]=y*s+T*d,I[1]=y*u+T*c,I[2]=E*s+A*d,I[3]=E*u+A*c,I[4]=P*s+w*d+v,I[5]=P*u+w*c+x,I},multiplyWithOffset:function(r,i,n){var l=this.matrix,s=r.matrix,u=l[0],d=l[1],c=l[2],v=l[3],x=l[4],y=l[5],T=i*u+n*c+x,E=i*d+n*v+y,A=s[0],P=s[1],w=s[2],I=s[3],O=s[4],F=s[5];return l[0]=A*u+P*c,l[1]=A*d+P*v,l[2]=w*u+I*c,l[3]=w*d+I*v,l[4]=O*u+F*c+T,l[5]=O*d+F*v+E,this},transform:function(r,i,n,l,s,u){var d=this.matrix,c=d[0],v=d[1],x=d[2],y=d[3],T=d[4],E=d[5];return d[0]=r*c+i*x,d[1]=r*v+i*y,d[2]=n*c+l*x,d[3]=n*v+l*y,d[4]=s*c+u*x+T,d[5]=s*v+u*y+E,this},transformPoint:function(r,i,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,s=l[0],u=l[1],d=l[2],c=l[3],v=l[4],x=l[5];return n.x=r*s+i*d+v,n.y=r*u+i*c+x,n},invert:function(){var r=this.matrix,i=r[0],n=r[1],l=r[2],s=r[3],u=r[4],d=r[5],c=i*s-n*l;return r[0]=s/c,r[1]=-n/c,r[2]=-l/c,r[3]=i/c,r[4]=(l*d-s*u)/c,r[5]=-(i*d-n*u)/c,this},copyFrom:function(r){var i=this.matrix;return i[0]=r.a,i[1]=r.b,i[2]=r.c,i[3]=r.d,i[4]=r.e,i[5]=r.f,this},copyFromArray:function(r){var i=this.matrix;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],this},copyToContext:function(r){var i=this.matrix;return r.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r},setToContext:function(r){return r.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),r},copyToArray:function(r){var i=this.matrix;return r===void 0?r=[i[0],i[1],i[2],i[3],i[4],i[5]]:(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5]),r},setTransform:function(r,i,n,l,s,u){var d=this.matrix;return d[0]=r,d[1]=i,d[2]=n,d[3]=l,d[4]=s,d[5]=u,this},decomposeMatrix:function(){var r=this.decomposedMatrix,i=this.matrix,n=i[0],l=i[1],s=i[2],u=i[3],d=n*u-l*s;if(r.translateX=i[4],r.translateY=i[5],n||l){var c=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/c):-Math.acos(n/c),r.scaleX=c,r.scaleY=d/c}else if(s||u){var v=Math.sqrt(s*s+u*u);r.rotation=Math.PI*.5-(u>0?Math.acos(-s/v):-Math.acos(s/v)),r.scaleX=d/v,r.scaleY=v}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,i,n,l,s){var u=this.matrix,d=Math.sin(n),c=Math.cos(n);return u[4]=r,u[5]=i,u[0]=c*l,u[1]=d*l,u[2]=-d*s,u[3]=c*s,this},applyInverse:function(r,i,n){n===void 0&&(n=new o);var l=this.matrix,s=l[0],u=l[1],d=l[2],c=l[3],v=l[4],x=l[5],y=1/(s*c+d*-u);return n.x=c*y*r+-d*y*i+(x*d-v*c)*y,n.y=s*y*i+-u*y*r+(-x*s+v*u)*y,n},setQuad:function(r,i,n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=this.quad);var d=this.matrix,c=d[0],v=d[1],x=d[2],y=d[3],T=d[4],E=d[5],A=r*c+i*x+T,P=r*v+i*y+E,w=r*c+l*x+T,I=r*v+l*y+E,O=n*c+l*x+T,F=n*v+l*y+E,L=n*c+i*x+T,D=n*v+i*y+E;if(s){var b=Math.floor(A+.5),U=Math.floor(P+.5),W=b-A,H=U-P;u[0]=b,u[1]=U,u[2]=w+W,u[3]=I+H,u[4]=O+W,u[5]=F+H,u[6]=L+W,u[7]=D+H}else u[0]=A,u[1]=P,u[2]=w,u[3]=I,u[4]=O,u[5]=F,u[6]=L,u[7]=D;return u},getX:function(r,i){return r*this.a+i*this.c+this.e},getY:function(r,i){return r*this.b+i*this.d+this.f},getXRound:function(r,i,n){var l=this.getX(r,i);return n&&(l=Math.floor(l+.5)),l},getYRound:function(r,i,n){var l=this.getY(r,i);return n&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});f.exports=a},59715:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(h){return this.visible=h,this}};f.exports=t},31401:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),g=t(10312),o=t(83419),a=t(31401),r=t(51708),i=t(95643),n=t(87841),l=t(29959),s=t(36899),u=t(26099),d=new a.TransformMatrix,c=new o({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,l],initialize:function(x,y,T,E){i.call(this,x,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this._sortKey="",this._sysEvents=x.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,T),this.setBlendMode(g.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new n),v.setTo(this.x,this.y,0,0),this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix(),y=x.transformPoint(this.x,this.y);v.setTo(y.x,y.y,0,0)}if(this.list.length>0){var T=this.list,E=new n,A=!1;v.setEmpty();for(var P=0;P<T.length;P++){var w=T[P];w.getBounds&&(w.getBounds(E),A?s(E,v,v):(v.setTo(E.x,E.y,E.width,E.height),A=!0))}}return v},addHandler:function(v){v.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this,v.removeFromDisplayList(),v.addedToScene())},removeHandler:function(v){v.off(r.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer=null,v.removedFromScene(),v.addToDisplayList())},pointToContainer:function(v,x){x===void 0&&(x=new u),this.parentContainer?this.parentContainer.pointToContainer(v,x):(x.x=v.x,x.y=v.y);var y=d;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(v.x,v.y,x),x},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(d,this.localTransform)},add:function(v){return h.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,x){return h.AddAt(this.list,v,x,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,x){return v?(x===void 0&&(x=function(y,T){return y[v]-T[v]}),h.StableSort(this.list,x),this):this},getByName:function(v){return h.GetFirst(this.list,"name",v)},getRandom:function(v,x){return h.GetRandom(this.list,v,x)},getFirst:function(v,x,y,T){return h.GetFirst(this.list,v,x,y,T)},getAll:function(v,x,y,T){return h.GetAll(this.list,v,x,y,T)},count:function(v,x,y,T){return h.CountAllMatching(this.list,v,x,y,T)},swap:function(v,x){return h.Swap(this.list,v,x),this},moveTo:function(v,x){return h.MoveTo(this.list,v,x),this},moveAbove:function(v,x){return h.MoveAbove(this.list,v,x),this},moveBelow:function(v,x){return h.MoveBelow(this.list,v,x),this},remove:function(v,x){var y=h.Remove(this.list,v,this.removeHandler,this);if(x&&y){Array.isArray(y)||(y=[y]);for(var T=0;T<y.length;T++)y[T].destroy()}return this},removeAt:function(v,x){var y=h.RemoveAt(this.list,v,this.removeHandler,this);return x&&y&&y.destroy(),this},removeBetween:function(v,x,y){var T=h.RemoveBetween(this.list,v,x,this.removeHandler,this);if(y)for(var E=0;E<T.length;E++)T[E].destroy();return this},removeAll:function(v){var x=this.list;if(v){for(var y=0;y<x.length;y++)x[y]&&x[y].scene&&(x[y].off(r.DESTROY,this.onChildDestroyed,this),x[y].destroy());this.list=[]}else h.RemoveBetween(x,0,x.length,this.removeHandler,this);return this},bringToTop:function(v){return h.BringToTop(this.list,v),this},sendToBack:function(v){return h.SendToBack(this.list,v),this},moveUp:function(v){return h.MoveUp(this.list,v),this},moveDown:function(v){return h.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(v,x,y){var T=h.Replace(this.list,v,x);return T&&(this.addHandler(x),this.removeHandler(v),y&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,x,y,T){return h.SetAll(this.list,v,x,y,T),this},each:function(v,x){var y=[null],T,E=this.list.slice(),A=E.length;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<A;T++)y[0]=E[T],v.apply(x,y);return this},iterate:function(v,x){var y=[null],T;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<this.list.length;T++)y[0]=this.list[T],v.apply(x,y);return this},setScrollFactor:function(v,x,y){return x===void 0&&(x=v),y===void 0&&(y=!1),this.scrollFactorX=v,this.scrollFactorY=x,y&&(h.SetAll(this.list,"scrollFactorX",v),h.SetAll(this.list,"scrollFactorY",x)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(v){h.Remove(this.list,v),this.exclusive&&(v.parentContainer=null,v.removedFromScene())}});f.exports=c},53584:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g.addToRenderList(h);var a=h.list;if(a.length!==0){var r=h.localTransform;o?(r.loadIdentity(),r.multiply(o),r.translate(h.x,h.y),r.rotate(h.rotation),r.scale(h.scaleX,h.scaleY)):r.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var i=h.blendMode!==-1;i||t.setBlendMode(0);var n=h._alpha,l=h.scrollFactorX,s=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,g);for(var u=0;u<a.length;u++){var d=a[u];if(d.willRender(g)){var c=d.alpha,v=d.scrollFactorX,x=d.scrollFactorY;!i&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode),d.setScrollFactor(v*l,x*s),d.setAlpha(c*n),d.renderCanvas(t,d,g,r),d.setAlpha(c),d.setScrollFactor(v,x)}}h.mask&&h.mask.postRenderCanvas(t)}};f.exports=S},77143:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(31559),o=t(44603),a=t(23568),r=t(95540);o.register("container",function(i,n){i===void 0&&(i={});var l=a(i,"x",0),s=a(i,"y",0),u=r(i,"children",null),d=new g(this.scene,l,s,u);return n!==void 0&&(i.add=n),h(this.scene,d,i),d})},24961:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31559),g=t(39429);g.register("container",function(o,a,r){return this.displayList.add(new h(this.scene,o,a,r))})},29959:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(72249),o=t(53584),f.exports={renderWebGL:g,renderCanvas:o}},72249:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g.addToRenderList(h);var a=h.list,r=a.length;if(r!==0){var i=h.localTransform;o?(i.loadIdentity(),i.multiply(o),i.translate(h.x,h.y),i.rotate(h.rotation),i.scale(h.scaleX,h.scaleY)):i.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var n=h.blendMode!==-1;n||t.setBlendMode(0);for(var l=h.alpha,s=h.scrollFactorX,u=h.scrollFactorY,d=0;d<r;d++){var c=a[d];if(c.willRender(g)){var v,x,y,T;if(c.alphaTopLeft!==void 0)v=c.alphaTopLeft,x=c.alphaTopRight,y=c.alphaBottomLeft,T=c.alphaBottomRight;else{var E=c.alpha;v=E,x=E,y=E,T=E}var A=c.scrollFactorX,P=c.scrollFactorY;!n&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode);var w=c.mask;w&&w.preRenderWebGL(t,c,g);var I=c.type;I!==t.currentType&&(t.newType=!0,t.currentType=I),t.nextTypeMatch=d<r-1?a[d+1].type===t.currentType:!1,c.setScrollFactor(A*s,P*u),c.setAlpha(v*l,x*l,y*l,T*l),c.renderWebGL(t,c,g,i,h),c.setAlpha(v,x,y,T),c.setScrollFactor(A,P),w&&w.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(h)}};f.exports=S},47407:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(441),a=t(95643),r=t(41212),i=t(35846),n=t(44594),l=t(61369),s=new h({Extends:a,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Origin,g.ScrollFactor,g.Transform,g.Visible,o],initialize:function(d,c,v,x,y,T){a.call(this,d,"DOMElement"),this.parent=d.sys.game.domContainer,this.cache=d.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,v),typeof x=="string"?x[0]==="#"?this.setElement(x.substr(1),y,T):this.createElement(x,y,T):x&&this.setElement(x,y,T),d.sys.events.on(n.SLEEP,this.handleSceneEvent,this),d.sys.events.on(n.WAKE,this.handleSceneEvent,this),d.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(u){var d=this.node,c=d.style;d&&(c.display=u.settings.visible?"block":"none")},setSkew:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=u),this.skewX=u,this.skewY=d,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var d=0;d<u.length;d++)this.node.addEventListener(u[d],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var d=0;d<u.length;d++)this.node.removeEventListener(u[d],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,d,c){return this.setElement(document.createElement(u),d,c)},setElement:function(u,d,c){this.removeElement();var v;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),v=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(v=u),!v)return this;if(this.node=v,d&&r(d))for(var x in d)v.style[x]=d[x];else typeof d=="string"&&(v.style=d);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),c&&(v.innerText=c),this.updateSize()},createFromCache:function(u,d){var c=this.cache.get(u);return c&&this.createFromHTML(c,d),this},createFromHTML:function(u,d){d===void 0&&(d="div"),this.removeElement();var c=document.createElement(d);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),c.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var u=this.node;return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(u,d){if(this.node){for(var c=this.node.querySelectorAll("*"),v=0;v<c.length;v++)if(c[v][u]===d)return c[v]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preRender:function(){var u=this.parentContainer,d=this.node;d&&u&&!u.willRender()&&(d.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});f.exports=s},49381:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47407),g=t(95643),o=t(61340),a=new o,r=new o,i=new o,n=function(l,s,u,d){if(s.node){var c=s.node.style,v=s.scene.sys.settings;if(!c||!v.visible||g.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&u.id||s.parentContainer&&!s.parentContainer.willRender()){c.display="none";return}var x=s.parentContainer,y=u.alpha*s.alpha;x&&(y*=x.alpha);var T=a,E=r,A=i,P=0,w=0,I="0%",O="0%";d?(P=s.width*s.scaleX*s.originX,w=s.height*s.scaleY*s.originY,E.applyITRS(s.x-P,s.y-w,s.rotation,s.scaleX,s.scaleY),T.copyFrom(u.matrix),T.multiplyWithOffset(d,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),E.e=s.x-P,E.f=s.y-w,T.multiply(E,A)):(P=s.width*s.originX,w=s.height*s.originY,E.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),T.copyFrom(u.matrix),I=100*s.originX+"%",O=100*s.originY+"%",E.e-=u.scrollX*s.scrollFactorX,E.f-=u.scrollY*s.scrollFactorY,T.multiply(E,A),A.e-=P,A.f-=w),s.transformOnly||(c.display="block",c.opacity=y,c.zIndex=s._depth,c.pointerEvents=s.pointerEvents,c.mixBlendMode=h[s._blendMode]),c.transform=A.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",c.transformOrigin=I+" "+O}};f.exports=n},2611:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3069),g=t(39429);g.register("dom",function(o,a,r,i,n){var l=new h(this.scene,o,a,r,i,n);return this.displayList.add(l),l})},441:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(49381),o=t(49381),f.exports={renderWebGL:g,renderCanvas:o}},62980:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addedtoscene"},41337:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},44947:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removedfromscene"},49358:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},35163:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="created"},97249:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="error"},19483:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="locked"},56059:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="loop"},26772:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="metadata"},64437:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="playing"},83411:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="play"},75780:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="seeked"},67799:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="seeking"},63500:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stalled"},55541:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stop"},53208:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="textureready"},4992:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="unlocked"},12:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="unsupported"},51708:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(64993),r=new h({Extends:o,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.Origin,g.ScrollFactor,g.Size,g.Texture,g.Tint,g.Transform,g.Visible,a],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});f.exports=r},70217:()=>{},56315:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42421),g=t(39429);g.register("extern",function(){var o=new h(this.scene);return this.displayList.add(o),o})},64993:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(80287),o=t(70217),f.exports={renderWebGL:g,renderCanvas:o}},80287:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i){o.pipelines.clear();var n=h(a,r,i).calc;a.render.call(a,o,r,n),o.pipelines.rebind()};f.exports=g},85592:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),g=t(83419),o=t(85592),a=t(31401),r=t(8497),i=t(95643),n=t(95540),l=t(35154),s=t(36383),u=t(84503),d=new g({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,u],initialize:function(v,x){var y=l(x,"x",0),T=l(x,"y",0);i.call(this,v,"Graphics"),this.setPosition(y,T),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(x)},setDefaultStyles:function(c){return l(c,"lineStyle",null)&&(this.defaultStrokeWidth=l(c,"lineStyle.width",1),this.defaultStrokeColor=l(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(c,"fillStyle",null)&&(this.defaultFillColor=l(c,"fillStyle.color",16777215),this.defaultFillAlpha=l(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,v,x){return x===void 0&&(x=1),this.commandBuffer.push(o.LINE_STYLE,c,v,x),this._lineWidth=c,this},fillStyle:function(c,v){return v===void 0&&(v=1),this.commandBuffer.push(o.FILL_STYLE,c,v),this},fillGradientStyle:function(c,v,x,y,T,E,A,P){return T===void 0&&(T=1),E===void 0&&(E=T),A===void 0&&(A=T),P===void 0&&(P=T),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,T,E,A,P,c,v,x,y),this},lineGradientStyle:function(c,v,x,y,T,E){return E===void 0&&(E=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,c,E,v,x,y,T),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,v,x){return this.beginPath(),this.arc(c,v,x,0,s.PI2),this.fillPath(),this},strokeCircle:function(c,v,x){return this.beginPath(),this.arc(c,v,x,0,s.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,v,x,y){return this.commandBuffer.push(o.FILL_RECT,c,v,x,y),this},strokeRect:function(c,v,x,y){var T=this._lineWidth/2,E=c-T,A=c+T;return this.beginPath(),this.moveTo(c,v),this.lineTo(c,v+y),this.strokePath(),this.beginPath(),this.moveTo(c+x,v),this.lineTo(c+x,v+y),this.strokePath(),this.beginPath(),this.moveTo(E,v),this.lineTo(A+x,v),this.strokePath(),this.beginPath(),this.moveTo(E,v+y),this.lineTo(A+x,v+y),this.strokePath(),this},fillRoundedRect:function(c,v,x,y,T){T===void 0&&(T=20);var E=T,A=T,P=T,w=T;typeof T!="number"&&(E=n(T,"tl",20),A=n(T,"tr",20),P=n(T,"bl",20),w=n(T,"br",20));var I=E>=0,O=A>=0,F=P>=0,L=w>=0;return E=Math.abs(E),A=Math.abs(A),P=Math.abs(P),w=Math.abs(w),this.beginPath(),this.moveTo(c+E,v),this.lineTo(c+x-A,v),O?this.arc(c+x-A,v+A,A,-s.TAU,0):this.arc(c+x,v,A,Math.PI,s.TAU,!0),this.lineTo(c+x,v+y-w),L?this.arc(c+x-w,v+y-w,w,0,s.TAU):this.arc(c+x,v+y,w,-s.TAU,Math.PI,!0),this.lineTo(c+P,v+y),F?this.arc(c+P,v+y-P,P,s.TAU,Math.PI):this.arc(c,v+y,P,0,-s.TAU,!0),this.lineTo(c,v+E),I?this.arc(c+E,v+E,E,-Math.PI,-s.TAU):this.arc(c,v,E,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,v,x,y,T){T===void 0&&(T=20);var E=T,A=T,P=T,w=T,I=Math.min(x,y)/2;typeof T!="number"&&(E=n(T,"tl",20),A=n(T,"tr",20),P=n(T,"bl",20),w=n(T,"br",20));var O=E>=0,F=A>=0,L=P>=0,D=w>=0;return E=Math.min(Math.abs(E),I),A=Math.min(Math.abs(A),I),P=Math.min(Math.abs(P),I),w=Math.min(Math.abs(w),I),this.beginPath(),this.moveTo(c+E,v),this.lineTo(c+x-A,v),this.moveTo(c+x-A,v),F?this.arc(c+x-A,v+A,A,-s.TAU,0):this.arc(c+x,v,A,Math.PI,s.TAU,!0),this.lineTo(c+x,v+y-w),this.moveTo(c+x,v+y-w),D?this.arc(c+x-w,v+y-w,w,0,s.TAU):this.arc(c+x,v+y,w,-s.TAU,Math.PI,!0),this.lineTo(c+P,v+y),this.moveTo(c+P,v+y),L?this.arc(c+P,v+y-P,P,s.TAU,Math.PI):this.arc(c,v+y,P,0,-s.TAU,!0),this.lineTo(c,v+E),this.moveTo(c,v+E),O?this.arc(c+E,v+E,E,-Math.PI,-s.TAU):this.arc(c,v,E,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,v){return this.fillPoint(c.x,c.y,v)},fillPoint:function(c,v,x){return!x||x<1?x=1:(c-=x/2,v-=x/2),this.commandBuffer.push(o.FILL_RECT,c,v,x,x),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,v,x,y,T,E){return this.commandBuffer.push(o.FILL_TRIANGLE,c,v,x,y,T,E),this},strokeTriangle:function(c,v,x,y,T,E){return this.commandBuffer.push(o.STROKE_TRIANGLE,c,v,x,y,T,E),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,v,x,y){return this.beginPath(),this.moveTo(c,v),this.lineTo(x,y),this.strokePath(),this},lineTo:function(c,v){return this.commandBuffer.push(o.LINE_TO,c,v),this},moveTo:function(c,v){return this.commandBuffer.push(o.MOVE_TO,c,v),this},strokePoints:function(c,v,x,y){v===void 0&&(v=!1),x===void 0&&(x=!1),y===void 0&&(y=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var T=1;T<y;T++)this.lineTo(c[T].x,c[T].y);return v&&this.lineTo(c[0].x,c[0].y),x&&this.closePath(),this.strokePath(),this},fillPoints:function(c,v,x,y){v===void 0&&(v=!1),x===void 0&&(x=!1),y===void 0&&(y=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var T=1;T<y;T++)this.lineTo(c[T].x,c[T].y);return v&&this.lineTo(c[0].x,c[0].y),x&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,v){v===void 0&&(v=32);var x=c.getPoints(v);return this.strokePoints(x,!0)},strokeEllipse:function(c,v,x,y,T){T===void 0&&(T=32);var E=new r(c,v,x,y),A=E.getPoints(T);return this.strokePoints(A,!0)},fillEllipseShape:function(c,v){v===void 0&&(v=32);var x=c.getPoints(v);return this.fillPoints(x,!0)},fillEllipse:function(c,v,x,y,T){T===void 0&&(T=32);var E=new r(c,v,x,y),A=E.getPoints(T);return this.fillPoints(A,!0)},arc:function(c,v,x,y,T,E,A){return E===void 0&&(E=!1),A===void 0&&(A=0),this.commandBuffer.push(o.ARC,c,v,x,y,T,E,A),this},slice:function(c,v,x,y,T,E,A){return E===void 0&&(E=!1),A===void 0&&(A=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,c,v),this.commandBuffer.push(o.ARC,c,v,x,y,T,E,A),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(c,v){return this.commandBuffer.push(o.TRANSLATE,c,v),this},scaleCanvas:function(c,v){return this.commandBuffer.push(o.SCALE,c,v),this},rotateCanvas:function(c){return this.commandBuffer.push(o.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,v,x){var y=this.scene.sys,T=y.game.renderer;v===void 0&&(v=y.scale.width),x===void 0&&(x=y.scale.height),d.TargetCamera.setScene(this.scene),d.TargetCamera.setViewport(0,0,v,x),d.TargetCamera.scrollX=this.x,d.TargetCamera.scrollY=this.y;var E,A,P={willReadFrequently:!0};if(typeof c=="string")if(y.textures.exists(c)){E=y.textures.get(c);var w=E.getSourceImage();w instanceof HTMLCanvasElement&&(A=w.getContext("2d",P))}else E=y.textures.createCanvas(c,v,x),A=E.getSourceImage().getContext("2d",P);else c instanceof HTMLCanvasElement&&(A=c.getContext("2d",P));return A&&(this.renderCanvas(T,this,d.TargetCamera,null,A,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});d.TargetCamera=new h,f.exports=d},32768:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),g=t(20926),o=function(a,r,i,n,l,s){var u=r.commandBuffer,d=u.length,c=l||a.currentContext;if(!(d===0||!g(a,c,r,i,n))){i.addToRenderList(r);var v=1,x=1,y=0,T=0,E=1,A=0,P=0,w=0;c.beginPath();for(var I=0;I<d;++I){var O=u[I];switch(O){case h.ARC:c.arc(u[I+1],u[I+2],u[I+3],u[I+4],u[I+5],u[I+6]),I+=7;break;case h.LINE_STYLE:E=u[I+1],y=u[I+2],v=u[I+3],A=(y&16711680)>>>16,P=(y&65280)>>>8,w=y&255,c.strokeStyle="rgba("+A+","+P+","+w+","+v+")",c.lineWidth=E,I+=3;break;case h.FILL_STYLE:T=u[I+1],x=u[I+2],A=(T&16711680)>>>16,P=(T&65280)>>>8,w=T&255,c.fillStyle="rgba("+A+","+P+","+w+","+x+")",I+=2;break;case h.BEGIN_PATH:c.beginPath();break;case h.CLOSE_PATH:c.closePath();break;case h.FILL_PATH:s||c.fill();break;case h.STROKE_PATH:s||c.stroke();break;case h.FILL_RECT:s?c.rect(u[I+1],u[I+2],u[I+3],u[I+4]):c.fillRect(u[I+1],u[I+2],u[I+3],u[I+4]),I+=4;break;case h.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[I+1],u[I+2]),c.lineTo(u[I+3],u[I+4]),c.lineTo(u[I+5],u[I+6]),c.closePath(),s||c.fill(),I+=6;break;case h.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[I+1],u[I+2]),c.lineTo(u[I+3],u[I+4]),c.lineTo(u[I+5],u[I+6]),c.closePath(),s||c.stroke(),I+=6;break;case h.LINE_TO:c.lineTo(u[I+1],u[I+2]),I+=2;break;case h.MOVE_TO:c.moveTo(u[I+1],u[I+2]),I+=2;break;case h.LINE_FX_TO:c.lineTo(u[I+1],u[I+2]),I+=5;break;case h.MOVE_FX_TO:c.moveTo(u[I+1],u[I+2]),I+=5;break;case h.SAVE:c.save();break;case h.RESTORE:c.restore();break;case h.TRANSLATE:c.translate(u[I+1],u[I+2]),I+=2;break;case h.SCALE:c.scale(u[I+1],u[I+2]),I+=2;break;case h.ROTATE:c.rotate(u[I+1]),I+=1;break;case h.GRADIENT_FILL_STYLE:I+=5;break;case h.GRADIENT_LINE_STYLE:I+=6;break}}c.restore()}};f.exports=o},87079:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),g=t(43831);h.register("graphics",function(o,a){o===void 0&&(o={}),a!==void 0&&(o.add=a);var r=new g(this.scene,o);return o.add&&this.scene.sys.displayList.add(r),r})},1201:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43831),g=t(39429);g.register("graphics",function(o){return this.displayList.add(new h(this.scene,o))})},84503:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(77545),o=t(32768),o=t(32768),f.exports={renderWebGL:g,renderCanvas:o}},77545:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),g=t(91296),o=t(61340),a=t(70554),r=function(u,d,c){this.x=u,this.y=d,this.width=c},i=function(u,d,c){this.points=[],this.pointsLength=1,this.points[0]=new r(u,d,c)},n=[],l=new o,s=function(u,d,c,v){if(d.commandBuffer.length!==0){c.addToRenderList(d);var x=u.pipelines.set(d.pipeline,d);u.pipelines.preBatch(d);for(var y=g(d,c,v).calc,T=l.loadIdentity(),E=d.commandBuffer,A=c.alpha*d.alpha,P=1,w=x.fillTint,I=x.strokeTint,O=0,F=0,L=0,D=.01,b=Math.PI*2,U,W=[],H=0,Y=!0,G=null,X=a.getTintAppendFloatAlpha,V=0;V<E.length;V++)switch(U=E[V],U){case h.BEGIN_PATH:{W.length=0,G=null,Y=!0;break}case h.CLOSE_PATH:{Y=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case h.FILL_PATH:{for(H=0;H<W.length;H++)x.batchFillPath(W[H].points,T,y);break}case h.STROKE_PATH:{for(H=0;H<W.length;H++)x.batchStrokePath(W[H].points,P,Y,T,y);break}case h.LINE_STYLE:{P=E[++V];var B=E[++V],z=E[++V]*A,$=X(B,z);I.TL=$,I.TR=$,I.BL=$,I.BR=$;break}case h.FILL_STYLE:{var j=E[++V],k=E[++V]*A,q=X(j,k);w.TL=q,w.TR=q,w.BL=q,w.BR=q;break}case h.GRADIENT_FILL_STYLE:{var Q=E[++V]*A,Z=E[++V]*A,_=E[++V]*A,et=E[++V]*A;w.TL=X(E[++V],Q),w.TR=X(E[++V],Z),w.BL=X(E[++V],_),w.BR=X(E[++V],et);break}case h.GRADIENT_LINE_STYLE:{P=E[++V];var it=E[++V]*A;I.TL=X(E[++V],it),I.TR=X(E[++V],it),I.BL=X(E[++V],it),I.BR=X(E[++V],it);break}case h.ARC:{var st=0,nt=E[++V],lt=E[++V],ut=E[++V],ot=E[++V],rt=E[++V],ht=E[++V],dt=E[++V];for(rt-=ot,ht?rt<-b?rt=-b:rt>0&&(rt=-b+rt%b):rt>b?rt=b:rt<0&&(rt=b+rt%b),G===null&&(G=new i(nt+Math.cos(ot)*ut,lt+Math.sin(ot)*ut,P),W.push(G),st+=D);st<1+dt;)L=rt*st+ot,O=nt+Math.cos(L)*ut,F=lt+Math.sin(L)*ut,G.points.push(new r(O,F,P)),st+=D;L=rt+ot,O=nt+Math.cos(L)*ut,F=lt+Math.sin(L)*ut,G.points.push(new r(O,F,P));break}case h.FILL_RECT:{x.batchFillRect(E[++V],E[++V],E[++V],E[++V],T,y);break}case h.FILL_TRIANGLE:{x.batchFillTriangle(E[++V],E[++V],E[++V],E[++V],E[++V],E[++V],T,y);break}case h.STROKE_TRIANGLE:{x.batchStrokeTriangle(E[++V],E[++V],E[++V],E[++V],E[++V],E[++V],P,T,y);break}case h.LINE_TO:{G!==null?G.points.push(new r(E[++V],E[++V],P)):(G=new i(E[++V],E[++V],P),W.push(G));break}case h.MOVE_TO:{G=new i(E[++V],E[++V],P),W.push(G);break}case h.SAVE:{n.push(T.copyToArray());break}case h.RESTORE:{T.copyFromArray(n.pop());break}case h.TRANSLATE:{nt=E[++V],lt=E[++V],T.translate(nt,lt);break}case h.SCALE:{nt=E[++V],lt=E[++V],T.scale(nt,lt);break}case h.ROTATE:{T.rotate(E[++V]);break}}u.pipelines.postBatch(d)}};f.exports=s},26479:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61061),g=t(83419),o=t(51708),a=t(50792),r=t(46710),i=t(95540),n=t(35154),l=t(97022),s=t(41212),u=t(88492),d=t(35072),c=t(68287),v=new g({Extends:a,initialize:function(y,T,E){a.call(this),E?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?s(T[0])&&(E=T,T=null):s(T)&&(E=T,T=null),this.scene=y,this.children=new d,this.isParent=!0,this.type="Group",this.classType=i(E,"classType",c),this.name=i(E,"name",""),this.active=i(E,"active",!0),this.maxSize=i(E,"maxSize",-1),this.defaultKey=i(E,"defaultKey",null),this.defaultFrame=i(E,"defaultFrame",null),this.runChildUpdate=i(E,"runChildUpdate",!1),this.createCallback=i(E,"createCallback",null),this.removeCallback=i(E,"removeCallback",null),this.createMultipleCallback=i(E,"createMultipleCallback",null),this.internalCreateCallback=i(E,"internalCreateCallback",null),this.internalRemoveCallback=i(E,"internalRemoveCallback",null),T&&this.addMultiple(T),E&&this.createMultiple(E),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(x,y,T,E,A,P){if(x===void 0&&(x=0),y===void 0&&(y=0),T===void 0&&(T=this.defaultKey),E===void 0&&(E=this.defaultFrame),A===void 0&&(A=!0),P===void 0&&(P=!0),this.isFull())return null;var w=new this.classType(this.scene,x,y,T,E);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=A,w.setActive(P),this.add(w),w},createMultiple:function(x){if(this.isFull())return[];Array.isArray(x)||(x=[x]);var y=[];if(x[0].key)for(var T=0;T<x.length;T++){var E=this.createFromConfig(x[T]);y=y.concat(E)}return y},createFromConfig:function(x){if(this.isFull())return[];this.classType=i(x,"classType",this.classType);var y=i(x,"key",void 0),T=i(x,"frame",null),E=i(x,"visible",!0),A=i(x,"active",!0),P=[];if(y===void 0)return P;Array.isArray(y)||(y=[y]),Array.isArray(T)||(T=[T]);var w=i(x,"repeat",0),I=i(x,"randomKey",!1),O=i(x,"randomFrame",!1),F=i(x,"yoyo",!1),L=i(x,"quantity",!1),D=i(x,"frameQuantity",1),b=i(x,"max",0),U=u(y,T,{max:b,qty:L||D,random:I,randomB:O,repeat:w,yoyo:F});x.createCallback&&(this.createCallback=x.createCallback),x.removeCallback&&(this.removeCallback=x.removeCallback),x.internalCreateCallback&&(this.internalCreateCallback=x.internalCreateCallback),x.internalRemoveCallback&&(this.internalRemoveCallback=x.internalRemoveCallback);for(var W=0;W<U.length;W++){var H=this.create(0,0,U[W].a,U[W].b,E,A);if(!H)break;P.push(H)}if(l(x,"setXY")){var Y=n(x,"setXY.x",0),G=n(x,"setXY.y",0),X=n(x,"setXY.stepX",0),V=n(x,"setXY.stepY",0);h.SetXY(P,Y,G,X,V)}if(l(x,"setRotation")){var B=n(x,"setRotation.value",0),z=n(x,"setRotation.step",0);h.SetRotation(P,B,z)}if(l(x,"setScale")){var $=n(x,"setScale.x",1),j=n(x,"setScale.y",$),k=n(x,"setScale.stepX",0),q=n(x,"setScale.stepY",0);h.SetScale(P,$,j,k,q)}if(l(x,"setOrigin")){var Q=n(x,"setOrigin.x",.5),Z=n(x,"setOrigin.y",Q),_=n(x,"setOrigin.stepX",0),et=n(x,"setOrigin.stepY",0);h.SetOrigin(P,Q,Z,_,et)}if(l(x,"setAlpha")){var it=n(x,"setAlpha.value",1),st=n(x,"setAlpha.step",0);h.SetAlpha(P,it,st)}if(l(x,"setDepth")){var nt=n(x,"setDepth.value",0),lt=n(x,"setDepth.step",0);h.SetDepth(P,nt,lt)}if(l(x,"setScrollFactor")){var ut=n(x,"setScrollFactor.x",1),ot=n(x,"setScrollFactor.y",ut),rt=n(x,"setScrollFactor.stepX",0),ht=n(x,"setScrollFactor.stepY",0);h.SetScrollFactor(P,ut,ot,rt,ht)}var dt=i(x,"hitArea",null),xt=i(x,"hitAreaCallback",null);dt&&h.SetHitArea(P,dt,xt);var yt=i(x,"gridAlign",!1);return yt&&h.GridAlign(P,yt),this.createMultipleCallback&&this.createMultipleCallback.call(this,P),P},preUpdate:function(x,y){if(!(!this.runChildUpdate||this.children.size===0))for(var T=this.children.entries.slice(),E=0;E<T.length;E++){var A=T[E];A.active&&A.update(x,y)}},add:function(x,y){return y===void 0&&(y=!1),this.isFull()?this:(this.children.set(x),this.internalCreateCallback&&this.internalCreateCallback.call(this,x),this.createCallback&&this.createCallback.call(this,x),y&&(x.addToDisplayList(this.scene.sys.displayList),x.addToUpdateList()),x.on(o.DESTROY,this.remove,this),this)},addMultiple:function(x,y){if(y===void 0&&(y=!1),Array.isArray(x))for(var T=0;T<x.length;T++)this.add(x[T],y);return this},remove:function(x,y,T){return y===void 0&&(y=!1),T===void 0&&(T=!1),this.children.contains(x)?(this.children.delete(x),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,x),this.removeCallback&&this.removeCallback.call(this,x),x.off(o.DESTROY,this.remove,this),T?x.destroy():y&&(x.removeFromDisplayList(),x.removeFromUpdateList()),this):this},clear:function(x,y){x===void 0&&(x=!1),y===void 0&&(y=!1);for(var T=this.children,E=0;E<T.size;E++){var A=T.entries[E];A.off(o.DESTROY,this.remove,this),y?A.destroy():x&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(x){return this.children.contains(x)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(x,y,T,E){return r(this.children.entries,x,y,T,E)},getFirst:function(x,y,T,E,A,P,w){return this.getHandler(!0,1,x,y,T,E,A,P,w)},getFirstNth:function(x,y,T,E,A,P,w,I){return this.getHandler(!0,x,y,T,E,A,P,w,I)},getLast:function(x,y,T,E,A,P,w){return this.getHandler(!1,1,x,y,T,E,A,P,w)},getLastNth:function(x,y,T,E,A,P,w,I){return this.getHandler(!1,x,y,T,E,A,P,w,I)},getHandler:function(x,y,T,E,A,P,w,I,O){T===void 0&&(T=!1),E===void 0&&(E=!1);var F,L,D=0,b=this.children.entries;if(x)for(L=0;L<b.length;L++)if(F=b[L],F.active===T){if(D++,D===y)break}else F=null;else for(L=b.length-1;L>=0;L--)if(F=b[L],F.active===T){if(D++,D===y)break}else F=null;return F?(typeof A=="number"&&(F.x=A),typeof P=="number"&&(F.y=P),F):E?this.create(A,P,w,I,O):null},get:function(x,y,T,E,A){return this.getFirst(!1,!0,x,y,T,E,A)},getFirstAlive:function(x,y,T,E,A,P){return this.getFirst(!0,x,y,T,E,A,P)},getFirstDead:function(x,y,T,E,A,P){return this.getFirst(!1,x,y,T,E,A,P)},playAnimation:function(x,y){return h.PlayAnimation(this.children.entries,x,y),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(x){x===void 0&&(x=!0);for(var y=0,T=0;T<this.children.size;T++)this.children.entries[T].active===x&&y++;return y},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var x=this.getTotalUsed(),y=this.maxSize===-1?999999999999:this.maxSize;return y-x},setActive:function(x){return this.active=x,this},setName:function(x){return this.name=x,this},propertyValueSet:function(x,y,T,E,A){return h.PropertyValueSet(this.children.entries,x,y,T,E,A),this},propertyValueInc:function(x,y,T,E,A){return h.PropertyValueInc(this.children.entries,x,y,T,E,A),this},setX:function(x,y){return h.SetX(this.children.entries,x,y),this},setY:function(x,y){return h.SetY(this.children.entries,x,y),this},setXY:function(x,y,T,E){return h.SetXY(this.children.entries,x,y,T,E),this},incX:function(x,y){return h.IncX(this.children.entries,x,y),this},incY:function(x,y){return h.IncY(this.children.entries,x,y),this},incXY:function(x,y,T,E){return h.IncXY(this.children.entries,x,y,T,E),this},shiftPosition:function(x,y,T){return h.ShiftPosition(this.children.entries,x,y,T),this},angle:function(x,y){return h.Angle(this.children.entries,x,y),this},rotate:function(x,y){return h.Rotate(this.children.entries,x,y),this},rotateAround:function(x,y){return h.RotateAround(this.children.entries,x,y),this},rotateAroundDistance:function(x,y,T){return h.RotateAroundDistance(this.children.entries,x,y,T),this},setAlpha:function(x,y){return h.SetAlpha(this.children.entries,x,y),this},setTint:function(x,y,T,E){return h.SetTint(this.children.entries,x,y,T,E),this},setOrigin:function(x,y,T,E){return h.SetOrigin(this.children.entries,x,y,T,E),this},scaleX:function(x,y){return h.ScaleX(this.children.entries,x,y),this},scaleY:function(x,y){return h.ScaleY(this.children.entries,x,y),this},scaleXY:function(x,y,T,E){return h.ScaleXY(this.children.entries,x,y,T,E),this},setDepth:function(x,y){return h.SetDepth(this.children.entries,x,y),this},setBlendMode:function(x){return h.SetBlendMode(this.children.entries,x),this},setHitArea:function(x,y){return h.SetHitArea(this.children.entries,x,y),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(x){this.children.contains(x)&&x.setActive(!1)},killAndHide:function(x){this.children.contains(x)&&(x.setActive(!1),x.setVisible(!1))},setVisible:function(x,y,T){return h.SetVisible(this.children.entries,x,y,T),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(x,y){x===void 0&&(x=!1),y===void 0&&(y=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(y,x),this.scene=void 0,this.children=void 0)}});f.exports=v},94975:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),g=t(26479);h.register("group",function(o){return new g(this.scene,null,o)})},3385:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26479),g=t(39429);g.register("group",function(o,a){return this.updateList.add(new h(this.scene,o,a))})},88571:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(59819),r=new h({Extends:o,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,a],initialize:function(n,l,s,u,d){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,d),this.setPosition(l,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});f.exports=r},40652:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g.addToRenderList(h),t.batchSprite(h,h.frame,g,o)};f.exports=S},82459:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(88571);g.register("image",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"frame",null),s=new a(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),h(this.scene,s,r),s})},2117:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88571),g=t(39429);g.register("image",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},59819:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(99517),o=t(40652),f.exports={renderWebGL:g,renderCanvas:o}},99517:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g.addToRenderList(h),this.pipeline.batchSprite(h,g,o)};f.exports=S},77856:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};h.Shader=t(20071),h.Mesh=t(4703),h.NineSlice=t(28103),h.PointLight=t(80321),h.Plane=t(33663),h.Factories.Shader=t(74177),h.Factories.Mesh=t(9225),h.Factories.NineSlice=t(47521),h.Factories.PointLight=t(71255),h.Factories.Plane=t(30985),h.Creators.Shader=t(54935),h.Creators.Mesh=t(20527),h.Creators.NineSlice=t(28279),h.Creators.PointLight=t(39829),h.Creators.Plane=t(56015),h.Light=t(41432),h.LightsManager=t(61356),h.LightsPlugin=t(88992),f.exports=h},93595:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(83419),o=t(31401),a=t(53774),r=t(45893),i=t(50792),n=t(51708),l=t(73162),s=t(33963),u=t(44594),d=t(19186),c=new g({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,i,s],initialize:function(x,y){l.call(this,x),i.call(this),this.scene=x,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=x.sys,this.events=x.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),y&&this.add(y),x.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(v,x){return this.data||(this.data=new r(this)),this.data.set(v,x),this},incData:function(v,x){return this.data||(this.data=new r(this)),this.data.inc(v,x),this},toggleData:function(v){return this.data||(this.data=new r(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new r(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,x=this.parentContainer,y=[];x&&(y.unshift(x.getIndex(v)),v=x,x.parentContainer);)x=x.parentContainer;return y.unshift(this.displayList.getIndex(v)),y},addChildCallback:function(v){var x=v.displayList;x&&x!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(n.ADDED_TO_SCENE,v,this.scene),this.events.emit(u.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(n.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,x){return v._depth-x._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),v.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var x=this.list;x.length;)x[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});f.exports=c},2956:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=h.list;if(o.length!==0){h.depthSort();var a=h.blendMode!==-1;a||t.setBlendMode(0);var r=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,g);for(var i=0;i<o.length;i++){var n=o[i];if(n.willRender(g)){var l=n.alpha;!a&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,g),n.setAlpha(l)}}h.mask&&h.mask.postRenderCanvas(t)}};f.exports=S},25179:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(93595),o=t(44603),a=t(23568);o.register("layer",function(r,i){r===void 0&&(r={});var n=a(r,"children",null),l=new g(this.scene,n);return i!==void 0&&(r.add=i),h(this.scene,l,r),l})},20005:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93595),g=t(39429);g.register("layer",function(o){return this.displayList.add(new h(this.scene,o))})},33963:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(15869),o=t(2956),f.exports={renderWebGL:g,renderCanvas:o}},15869:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=h.list,a=o.length;if(a!==0){h.depthSort(),t.pipelines.preBatch(h);var r=h.blendMode!==-1;r||t.setBlendMode(0);for(var i=h.alpha,n=0;n<a;n++){var l=o[n];if(l.willRender(g)){var s,u,d,c;if(l.alphaTopLeft!==void 0)s=l.alphaTopLeft,u=l.alphaTopRight,d=l.alphaBottomLeft,c=l.alphaBottomRight;else{var v=l.alpha;s=v,u=v,d=v,c=v}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var x=l.mask;x&&x.preRenderWebGL(t,l,g);var y=l.type;y!==t.currentType&&(t.newType=!0,t.currentType=y),t.nextTypeMatch=n<a-1?o[n+1].type===t.currentType:!1,l.setAlpha(s*i,u*i,d*i,c*i),l.renderWebGL(t,l,g),l.setAlpha(s,u,d,c),x&&x.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(h)}};f.exports=S},41432:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),g=t(83419),o=t(31401),a=t(51767),r=t(70554),i=new g({Extends:h,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,s,u,d,c,v,x){h.call(this,l,s,u),this.color=new a(d,c,v),this.intensity=x,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(u)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});i.RENDER_MASK=15,f.exports=i},61356:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81491),g=t(83419),o=t(20339),a=t(41432),r=t(80321),i=t(51767),n=t(19133),l=t(19186),s=t(70554),u=new g({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(d,c,v,x,y,T){return this.systems.displayList.add(new r(this.scene,d,c,v,x,y,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(d){for(var c=this.lights,v=d.worldView,x=[],y=0;y<c.length;y++){var T=c[y];T.willRender(d)&&h(T,v)&&x.push({light:T,distance:o(T.x,T.y,v.centerX,v.centerY)})}return x.length>this.maxLights&&(l(x,this.sortByDistance),x=x.slice(0,this.maxLights)),this.visibleLights=x.length,x},sortByDistance:function(d,c){return d.distance>=c.distance},setAmbientColor:function(d){var c=s.getFloatsFromUintRGB(d);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(d,c,v,x,y){d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=128),x===void 0&&(x=16777215),y===void 0&&(y=1);var T=s.getFloatsFromUintRGB(x),E=new a(d,c,v,T[0],T[1],T[2],y);return this.lights.push(E),E},removeLight:function(d){var c=this.lights.indexOf(d);return c>=0&&n(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});f.exports=u},88992:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(61356),o=t(37277),a=t(44594),r=new h({Extends:g,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(a.BOOT,this.boot,this),g.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",r,"lights"),f.exports=r},4703:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(39506),a=t(83997),r=t(95643),i=t(34684),n=t(92515),l=t(91296),s=t(37867),u=t(29807),d=t(43396),c=t(19186),v=t(25836),x=t(39318),y=new h({Extends:r,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.Texture,g.Transform,g.Visible,u],initialize:function(E,A,P,w,I,O,F,L,D,b,U,W){A===void 0&&(A=0),P===void 0&&(P=0),w===void 0&&(w="__WHITE"),r.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new v,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=E.sys.renderer;this.setPosition(A,P),this.setTexture(w,I),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),O&&this.addVertices(O,F,L,D,b,U,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(v.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=v.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,E,A,P,w){return A===void 0&&(A=45),P===void 0&&(P=.01),w===void 0&&(w=1e3),this.fov=A,this.projectionMatrix.perspective(o(A),T/E,P,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,E,A,P){return T===void 0&&(T=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),A===void 0&&(A=-1e3),P===void 0&&(P=1e3),this.fov=0,this.projectionMatrix.ortho(-T,T,-E,E,A,P),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,E,A,P,w,I,O,F,L){var D=this.scene.sys.cache.obj.get(T),b;return D&&(b=i(D,this,E,A,P,w,I,O,F,L)),(!b||b.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",T),this},sortByDepth:function(T,E){return T.depth-E.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(T,E,A,P,w,I,O){var F=new x(T,E,A,P,w,I,O);return this.vertices.push(F),F},addFace:function(T,E,A){var P=new a(T,E,A);return this.faces.push(P),this.dirtyCache[9]=-1,P},addVertices:function(T,E,A,P,w,I,O){var F=n(T,E,A,P,w,I,O);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},hasFaceAt:function(T,E,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,w=this.faces,I=0;I<w.length;I++){var O=w[I];if(O.contains(T,E,P))return!0}return!1},getFaceAt:function(T,E,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,w=this.faces,I=[],O=0;O<w.length;O++){var F=w[O];F.contains(T,E,P)&&I.push(F)}return c(I,this.sortByDepth)},setDebug:function(T,E){return this.debugGraphic=T,!T&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var T=this.modelPosition,E=this.modelRotation,A=this.modelScale,P=this.dirtyCache,w=T.x,I=T.y,O=T.z,F=E.x,L=E.y,D=E.z,b=A.x,U=A.y,W=A.z,H=this.getFaceCount(),Y=P[0],G=P[1],X=P[2],V=P[3],B=P[4],z=P[5],$=P[6],j=P[7],k=P[8],q=P[9];return P[0]=w,P[1]=I,P[2]=O,P[3]=F,P[4]=L,P[5]=D,P[6]=b,P[7]=U,P[8]=W,P[9]=H,Y!==w||G!==I||X!==O||V!==F||B!==L||z!==D||$!==b||j!==U||k!==W||q!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!T[10]&&!this.isDirty())){var E=this.width,A=this.height,P=this.viewMatrix,w=this.viewPosition;T[10]&&(P.identity(),P.translate(w),P.invert(),T[10]=0);var I=this.transformMatrix;I.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var O=w.z,F=this.faces,L=0;L<F.length;L++)F[L].transformCoordinatesLocal(I,E,A,O);this.depthSort()}},renderDebug:function(T,E){for(var A=T.debugGraphic,P=0;P<E.length;P++){var w=E[P],I=w.vertex1.tx,O=w.vertex1.ty,F=w.vertex2.tx,L=w.vertex2.ty,D=w.vertex3.tx,b=w.vertex3.ty;A.strokeTriangle(I,O,F,L,D,b)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(T){T===void 0&&(T={});var E=(function(A,P,w){for(var I=this.faces,O=0;O<I.length;O++){var F=I[O];if(F.contains(P,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,T,E),this},setTint:function(T){T===void 0&&(T=16777215);for(var E=this.vertices,A=0;A<E.length;A++)E[A].color=T;return this},uvScroll:function(T,E){for(var A=this.faces,P=0;P<A.length;P++)A[P].scrollUV(T,E);return this},uvScale:function(T,E){for(var A=this.faces,P=0;P<A.length;P++)A[P].scaleUV(T,E);return this},tint:{set:function(T){this.setTint(T)}},rotateX:{get:function(){return d(this.modelRotation.x)},set:function(T){this.modelRotation.x=o(T)}},rotateY:{get:function(){return d(this.modelRotation.y)},set:function(T){this.modelRotation.y=o(T)}},rotateZ:{get:function(){return d(this.modelRotation.z)},set:function(T){this.modelRotation.z=o(T)}}});f.exports=y},36488:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};f.exports=S},20527:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(35154),r=t(4703);g.register("mesh",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=a(i,"vertices",[]),d=a(i,"uvs",[]),c=a(i,"indicies",[]),v=a(i,"containsZ",!1),x=a(i,"normals",[]),y=a(i,"colors",16777215),T=a(i,"alphas",1),E=new r(this.scene,0,0,l,s,u,d,c,v,x,y,T);return n!==void 0&&(i.add=n),h(this.scene,E,i),E})},9225:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4703),g=t(39429);g.register("mesh",function(o,a,r,i,n,l,s,u,d,c,v){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u,d,c,v))})},29807:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(48833),o=t(36488),f.exports={renderWebGL:g,renderCanvas:o}},48833:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i){var n=a.faces,l=n.length;if(l!==0){r.addToRenderList(a);var s=o.pipelines.set(a.pipeline,a),u=h(a,r,i).calc;o.pipelines.preBatch(a);for(var d=s.setGameObject(a),c=s.vertexViewF32,v=s.vertexViewU32,x=s.vertexCount*s.currentShader.vertexComponentCount-1,y=a.tintFill,T=[],E=a.debugCallback,A=u.a,P=u.b,w=u.c,I=u.d,O=u.e,F=u.f,L=a.viewPosition.z,D=a.hideCCW,b=r.roundPixels,U=r.alpha*a.alpha,W=0,H=0;H<l;H++){var Y=n[H];Y.isInView(r,D,L,U,A,P,w,I,O,F,b)&&(s.shouldFlush(3)&&(s.flush(),d=s.setGameObject(a),x=s.vertexCount*s.currentShader.vertexComponentCount-1),x=Y.load(c,v,x,d,y),W++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,E&&T.push(Y))}a.totalFrame+=W,E&&E.call(a,a,T),o.pipelines.postBatch(a)}};f.exports=g},28103:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(78023),r=t(39318),i=new h({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,a],initialize:function(l,s,u,d,c,v,x,y,T,E,A){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var P=l.textures.getFrame(d,c);this.is3Slice=!E&&!A,P&&P.scale9&&(this.is3Slice=P.is3Slice);for(var w=this.is3Slice?18:54,I=0;I<w;I++)this.vertices.push(new r);this.setPosition(s,u),this.setTexture(d,c),this.setSlices(v,x,y,T,E,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,s,u,d,c,v){s===void 0&&(s=10),u===void 0&&(u=10),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=!1);var x=this.frame,y=!1;if(this.is3Slice&&v&&d!==0&&c!==0&&(y=!0),y)console.warn("Cannot change 9 slice to 3 slice");else{if(x&&x.scale9&&!v){var T=x.data.scale9Borders,E=T.x,A=T.y;s=E,u=x.width-T.w-E,d=A,c=x.height-T.h-A,n===void 0&&(n=x.width),l===void 0&&(l=x.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=s,this.rightWidth=u,this.topHeight=d,this.bottomHeight=c,this.is3Slice&&(l=x.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,d=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,n/d,s/c),this.updateQuadUVs(6,n/d,0,1-l/d,s/c),this.updateQuadUVs(12,1-l/d,0,1,s/c),this.is3Slice||(this.updateQuadUVs(18,0,s/c,n/d,1-u/c),this.updateQuadUVs(24,n/d,s/c,1-l/d,1-u/c),this.updateQuadUVs(30,1-l/d,s/c,1,1-u/c),this.updateQuadUVs(36,0,1-u/c,n/d,1),this.updateQuadUVs(42,n/d,1-u/c,1-l/d,1),this.updateQuadUVs(48,1-l/d,1-u/c,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,d=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+n/d,.5-s/c),this.updateQuad(6,-.5+n/d,.5,.5-l/d,.5-s/c),this.updateQuad(12,.5-l/d,.5,.5,.5-s/c),this.is3Slice||(this.updateQuad(18,-.5,.5-s/c,-.5+n/d,-.5+u/c),this.updateQuad(24,-.5+n/d,.5-s/c,.5-l/d,-.5+u/c),this.updateQuad(30,.5-l/d,.5-s/c,.5,-.5+u/c),this.updateQuad(36,-.5,-.5+u/c,-.5+n/d,-.5),this.updateQuad(42,-.5+n/d,-.5+u/c,.5-l/d,-.5),this.updateQuad(48,.5-l/d,-.5+u/c,.5,-.5))},updateQuad:function(n,l,s,u,d){var c=this.width,v=this.height,x=this.originX,y=this.originY,T=this.vertices;T[n+0].resize(l,s,c,v,x,y),T[n+1].resize(l,d,c,v,x,y),T[n+2].resize(u,s,c,v,x,y),T[n+3].resize(l,d,c,v,x,y),T[n+4].resize(u,d,c,v,x,y),T[n+5].resize(u,s,c,v,x,y)},updateQuadUVs:function(n,l,s,u,d){var c=this.vertices,v=this.frame,x=v.u0,y=v.v0,T=v.u1,E=v.v1;if(x!==0||T!==1){var A=T-x;l=x+l*A,u=x+u*A}if(y!==0||E!==1){var P=E-y;s=y+s*P,d=y+d*P}c[n+0].setUVs(l,s),c[n+1].setUVs(l,d),c[n+2].setUVs(u,s),c[n+3].setUVs(l,d),c[n+4].setUVs(u,d),c[n+5].setUVs(u,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});f.exports=i},28279:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(35154),r=t(28103);g.register("nineslice",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=a(i,"width",256),d=a(i,"height",256),c=a(i,"leftWidth",10),v=a(i,"rightWidth",10),x=a(i,"topHeight",0),y=a(i,"bottomHeight",0),T=new r(this.scene,0,0,l,s,u,d,c,v,x,y);return n!==void 0&&(i.add=n),h(this.scene,T,i),T})},47521:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28103),g=t(39429);g.register("nineslice",function(o,a,r,i,n,l,s,u,d,c){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u,d,c))})},78023:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(52230),f.exports={renderWebGL:g,renderCanvas:o}},52230:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){var l=r.vertices,s=l.length;if(s!==0){i.addToRenderList(r);var u=a.pipelines.set(r.pipeline,r),d=h(r,i,n,!1).calc;a.pipelines.preBatch(r);var c=u.setGameObject(r),v=u.vertexViewF32,x=u.vertexViewU32,y=u.vertexCount*u.currentShader.vertexComponentCount-1,T=i.roundPixels,E=r.tintFill,A=i.alpha*r.alpha,P=g.getTintAppendFloatAlpha(r.tint,A),w=u.vertexAvailable(),I=-1;w<s&&(I=w);for(var O=0;O<s;O++){var F=l[O];O===I&&(u.flush(),c=u.setGameObject(r),y=0),v[++y]=d.getXRound(F.vx,F.vy,T),v[++y]=d.getYRound(F.vx,F.vy,T),v[++y]=F.u,v[++y]=F.v,v[++y]=c,v[++y]=E,x[++y]=P,u.vertexCount++,u.currentBatch.count=u.vertexCount-u.currentBatch.start}a.pipelines.postBatch(r)}};f.exports=o},76472:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(44777),o=t(37589),a=t(6113),r=t(91389),i=t(90664),n=new h({Extends:g,initialize:function(s){g.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,s=l,u=this.defaultEmit,d=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=a("Linear"),this.interpolation=r("linear"),u=this.easedValueEmit,d=this.easeValueUpdate,s=l[0],this.active=!0;for(var c=0;c<l.length;c++){var v=i(l[c]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=u,this.onUpdate=d,this.current=s,this},setEase:function(l){this.easeName=l,this.ease=a(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,s,u){var d=this.ease(u),c=this.interpolation(this.r,d),v=this.interpolation(this.g,d),x=this.interpolation(this.b,d),y=o(c,v,x);return this.current=y,y}});f.exports=n},44777:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),g=t(45319),o=t(83419),a=t(99472),r=t(6113),i=t(95540),n=t(91389),l=t(77720),s=t(15994),u=new o({initialize:function(c,v,x){x===void 0&&(x=!1),this.propertyKey=c,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=x,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(d,c){d===void 0&&(d={}),c&&(this.propertyKey=c),this.propertyValue=i(d,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(d){var c;switch(this.method){case 1:case 3:case 8:c=d;break;case 2:this.propertyValue.indexOf(d)>=0&&(c=d);break;case 4:var v=(this.end-this.start)/this.steps;c=l(d,v),this.counter=c;break;case 5:case 6:case 7:c=g(d,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var d=this.propertyValue;if(d===null)return 0;var c=typeof d;if(c==="number")return 1;if(Array.isArray(d))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(d,"start","end"))return this.has(d,"steps")?4:5;if(this.hasBoth(d,"min","max"))return 6;if(this.has(d,"random"))return 7;if(this.hasEither(d,"onEmit","onUpdate"))return 8;if(this.hasEither(d,"values","interpolation"))return 9}return 0},setMethods:function(){var d=this.propertyValue,c=d,v=this.defaultEmit,x=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,c=d[0];break;case 3:this._onEmit=d,v=this.proxyEmit,c=this.defaultValue;break;case 4:this.start=d.start,this.end=d.end,this.steps=d.steps,this.counter=this.start,this.yoyo=this.has(d,"yoyo")?d.yoyo:!1,this.direction=0,v=this.steppedEmit,c=this.start;break;case 5:this.start=d.start,this.end=d.end;var y=this.has(d,"ease")?d.ease:"Linear";this.ease=r(y,d.easeParams),v=this.has(d,"random")&&d.random?this.randomRangedValueEmit:this.easedValueEmit,x=this.easeValueUpdate,c=this.start;break;case 6:this.start=d.min,this.end=d.max,v=this.has(d,"int")&&d.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var T=d.random;Array.isArray(T)&&(this.start=T[0],this.end=T[1]),v=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(d,"onEmit")?d.onEmit:this.defaultEmit,this._onUpdate=this.has(d,"onUpdate")?d.onUpdate:this.defaultUpdate,v=this.proxyEmit,x=this.proxyUpdate,c=this.defaultValue;break;case 9:this.start=d.values;var E=this.has(d,"ease")?d.ease:"Linear";this.ease=r(E,d.easeParams),this.interpolation=n(d.interpolation),v=this.easedValueEmit,x=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=v,this.onUpdate=x,this.current=c,this},has:function(d,c){return d.hasOwnProperty(c)},hasBoth:function(d,c,v){return d.hasOwnProperty(c)&&d.hasOwnProperty(v)},hasEither:function(d,c,v){return d.hasOwnProperty(c)||d.hasOwnProperty(v)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(d,c,v,x){return x},proxyEmit:function(d,c,v){var x=this._onEmit(d,c,v);return this.current=x,x},proxyUpdate:function(d,c,v,x){var y=this._onUpdate(d,c,v,x);return this.current=y,y},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var d=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[d],this.current},randomRangedValueEmit:function(d,c){var v=a(this.start,this.end);return d&&d.data[c]&&(d.data[c].min=v,d.data[c].max=this.end),this.current=v,v},randomRangedIntEmit:function(d,c){var v=h(this.start,this.end);return d&&d.data[c]&&(d.data[c].min=v,d.data[c].max=this.end),this.current=v,v},steppedEmit:function(){var d=this.counter,c=d,v=(this.end-this.start)/this.steps;if(this.yoyo){var x;this.direction===0?(c+=v,c>=this.end&&(x=c-this.end,c=this.end-x,this.direction=1)):(c-=v,c<=this.start&&(x=this.start-c,c=this.start+x,this.direction=0)),this.counter=c}else this.counter=s(c+v,this.start,this.end);return this.current=d,d},easedValueEmit:function(d,c){if(d&&d.data[c]){var v=d.data[c];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(d,c,v){var x=d.data[c],y,T=this.ease(v);return this.interpolation?y=this.interpolation(this.start,T):y=(x.max-x.min)*T+x.min,this.current=y,y},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});f.exports=u},24502:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(20286),a=new h({Extends:o,initialize:function(i,n,l,s,u){if(typeof i=="object"){var d=i;i=g(d,"x",0),n=g(d,"y",0),l=g(d,"power",0),s=g(d,"epsilon",100),u=g(d,"gravity",50)}else i===void 0&&(i=0),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=100),u===void 0&&(u=50);o.call(this,i,n,!0),this._gravity=u,this._power=l*u,this._epsilon=s*s},update:function(r,i){var n=this.x-r.x,l=this.y-r.y,s=n*n+l*l;if(s!==0){var u=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var d=this._power*i/(s*u)*100;r.velocityX+=n*d,r.velocityY+=l*d}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var i=this.power;this._gravity=r,this.power=i}}});f.exports=a},56480:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(45319),o=t(83419),a=t(39506),r=t(87841),i=t(11520),n=t(26099),l=new o({initialize:function(u){this.emitter=u,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=u.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new h(this)),this.bounds=new r},emit:function(s,u,d,c,v,x){return this.emitter.emit(s,u,d,c,v,x)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.x=s,this.y=u},fire:function(s,u){var d=this.emitter,c=d.ops,v=d.getAnim();if(v?this.anims.play(v):(this.frame=d.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(d.getEmitZone(this),s===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=s+c.x.onEmit(this,"x"):this.x+=s,u===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=u+c.y.onEmit(this,"y"):this.y+=u,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&d.getDeathZone(this))return this.lifeCurrent=0,!1;var x=c.speedX.onEmit(this,"speedX"),y=c.speedY.active?c.speedY.onEmit(this,"speedY"):x;if(d.radial){var T=a(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(T)*Math.abs(x),this.velocityY=Math.sin(T)*Math.abs(y)}else if(d.moveTo){var E=c.moveToX.onEmit(this,"moveToX"),A=c.moveToY.onEmit(this,"moveToY"),P=this.life/1e3;this.velocityX=(E-this.x)/P,this.velocityY=(A-this.y)/P}else this.velocityX=x,this.velocityY=y;return d.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(s,u,d){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims&&this.anims.update(0,s);var c=this.emitter,v=c.ops,x=1-this.lifeCurrent/this.life;if(this.lifeT=x,this.x=v.x.onUpdate(this,"x",x,this.x),this.y=v.y.onUpdate(this,"y",x,this.y),c.moveTo){var y=v.moveToX.onUpdate(this,"moveToX",x,c.moveToX),T=v.moveToY.onUpdate(this,"moveToY",x,c.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(y-this.x)/E,this.velocityY=(T-this.y)/E}return this.computeVelocity(c,s,u,d,x),this.scaleX=v.scaleX.onUpdate(this,"scaleX",x,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",x,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",x,this.angle),this.rotation=a(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=g(v.alpha.onUpdate(this,"alpha",x,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",x,this.tint):this.tint=v.tint.onUpdate(this,"tint",x,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,u,d,c,v){var x=s.ops,y=this.velocityX,T=this.velocityY,E=x.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),A=x.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),P=x.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),w=x.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=x.bounce.onUpdate(this,"bounce",v,this.bounce),y+=s.gravityX*d+E*d,T+=s.gravityY*d+A*d,y=g(y,-P,P),T=g(T,-w,w),this.velocityX=y,this.velocityY=T,this.x+=y*d,this.y+=T*d,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var I=0;I<c.length;I++){var O=c[I];O.active&&O.update(this,u,d,v)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var u=Math.abs(s.scaleX)*this.scaleX,d=Math.abs(s.scaleY)*this.scaleY,c=this.x,v=this.y,x=this.rotation,y=this.frame.width*u/2,T=this.frame.height*d/2,E=this.bounds,A=new n(c-y,v-T),P=new n(c+y,v-T),w=new n(c-y,v+T),I=new n(c+y,v+T);return x!==0&&(i(A,c,v,x),i(P,c,v,x),i(w,c,v,x),i(I,c,v,x)),s.transformPoint(A.x,A.y,A),s.transformPoint(P.x,P.y,P),s.transformPoint(w.x,w.y,w),s.transformPoint(I.x,I.y,I),E.x=Math.min(A.x,P.x,w.x,I.x),E.y=Math.min(A.y,P.y,w.y,I.y),E.width=Math.max(A.x,P.x,w.x,I.x)-E.x,E.height=Math.max(A.y,P.y,w.y,I.y)-E.y,E},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});f.exports=l},69601:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(20286),o=t(87841),a=new h({Extends:g,initialize:function(i,n,l,s,u,d,c,v){u===void 0&&(u=!0),d===void 0&&(d=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),g.call(this,i,n,!0),this.bounds=new o(i,n,l,s),this.collideLeft=u,this.collideRight=d,this.collideTop=c,this.collideBottom=v},update:function(r){var i=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<i.x&&this.collideLeft?(r.x+=i.x-l.x,r.velocityX*=n):l.x>i.right&&this.collideRight&&(r.x-=l.x-i.right,r.velocityX*=n),l.y<i.y&&this.collideTop?(r.y+=i.y-l.y,r.velocityY*=n):l.y>i.bottom&&this.collideBottom&&(r.y-=l.y-i.bottom,r.velocityY*=n)}});f.exports=a},31600:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(53774),a=t(43459),r=t(26388),i=t(19909),n=t(76472),l=t(44777),s=t(20696),u=t(95643),d=t(95540),c=t(26546),v=t(24502),x=t(1985),y=t(97022),T=t(86091),E=t(73162),A=t(20074),P=t(269),w=t(56480),I=t(69601),O=t(68875),F=t(87841),L=t(59996),D=t(72905),b=t(90668),U=t(19186),W=t(61340),H=t(26099),Y=t(15994),G=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new h({Extends:u,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,b],initialize:function(z,$,j,k,q){u.call(this,z,"ParticleEmitter"),this.particleClass=w,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new H,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new E(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,j),this.setTexture(k),q&&this.setConfig(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(B){if(!B)return this;this.config=B;var z=0,$="",j=this.ops;for(z=0;z<X.length;z++)$=X[z],j[$].loadConfig(B);for(z=0;z<G.length;z++)$=G[z],y(B,$)&&(this[$]=d(B,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,y(B,"speed")&&(j.speedX.loadConfig(B,"speed"),j.speedY.active=!1),(x(B,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(B,"scale")&&(j.scaleX.loadConfig(B,"scale"),j.scaleY.active=!1),y(B,"callbackScope")){var k=d(B,"callbackScope",null);this.emitCallbackScope=k,this.deathCallbackScope=k}if(y(B,"emitZone")&&this.addEmitZone(B.emitZone),y(B,"deathZone")&&this.addDeathZone(B.deathZone),y(B,"bounds")){var q=this.addParticleBounds(B.bounds);q.collideLeft=d(B,"collideLeft",!0),q.collideRight=d(B,"collideRight",!0),q.collideTop=d(B,"collideTop",!0),q.collideBottom=d(B,"collideBottom",!0)}return y(B,"followOffset")&&this.followOffset.setFromObject(d(B,"followOffset",0)),y(B,"texture")&&this.setTexture(B.texture),y(B,"frame")?this.setEmitterFrame(B.frame):y(B,"anim")&&this.setAnim(B.anim),y(B,"reserve")&&this.reserve(B.reserve),y(B,"advance")&&this.fastForward(B.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},updateConfig:function(B){return B&&(this.config?this.setConfig(P(this.config,B)):this.setConfig(B)),this},toJSON:function(){var B=o(this),z=0,$="";for(z=0;z<G.length;z++)$=G[z],B[$]=this[$];var j=this.ops;for(z=0;z<X.length;z++)$=X[z],j[$]&&(B[$]=j[$].toJSON());return j.speedY.active||(delete B.speedX,B.speed=j.speedX.toJSON()),this.scaleX===this.scaleY&&(delete B.scaleX,delete B.scaleY,B.scale=j.scaleX.toJSON()),B},resetCounters:function(B,z){var $=this.counters;$.fill(0),$[0]=B,z&&($[5]=1)},startFollow:function(B,z,$,j){return z===void 0&&(z=0),$===void 0&&($=0),j===void 0&&(j=!1),this.follow=B,this.followOffset.set(z,$),this.trackVisible=j,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var B=this.frames,z=B.length,$;return z===1?$=B[0]:this.randomFrame?$=c(B):($=B[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get($)},setEmitterFrame:function(B,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomFrame=z,this.frameQuantity=$,this.currentFrame=0;var j=typeof B;if(this.frames.length=0,Array.isArray(B))this.frames=this.frames.concat(B);else if(j==="string"||j==="number")this.frames.push(B);else if(j==="object"){var k=B;B=d(k,"frames",null),B&&(this.frames=this.frames.concat(B));var q=d(k,"cycle",!1);this.randomFrame=!q,this.frameQuantity=d(k,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var B=this.anims,z=B.length;if(z===0)return null;if(z===1)return B[0];if(this.randomAnim)return c(B);var $=B[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,z)),$},setAnim:function(B,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomAnim=z,this.animQuantity=$,this.currentAnim=0;var j=typeof B;if(this.anims.length=0,Array.isArray(B))this.anims=this.anims.concat(B);else if(j==="string")this.anims.push(B);else if(j==="object"){var k=B;B=d(k,"anims",null),B&&(this.anims=this.anims.concat(B));var q=d(k,"cycle",!1);this.randomAnim=!q,this.animQuantity=d(k,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(B){return B===void 0&&(B=!0),this.radial=B,this},addParticleBounds:function(B,z,$,j,k,q,Q,Z){if(typeof B=="object"){var _=B;B=_.x,z=_.y,$=y(_,"w")?_.w:_.width,j=y(_,"h")?_.h:_.height}return this.addParticleProcessor(new I(B,z,$,j,k,q,Q,Z))},setParticleSpeed:function(B,z){return z===void 0&&(z=B),this.ops.speedX.onChange(B),B===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(B,z){return B===void 0&&(B=1),z===void 0&&(z=B),this.ops.scaleX.onChange(B),this.ops.scaleY.onChange(z),this},setParticleGravity:function(B,z){return this.gravityX=B,this.gravityY=z,this},setParticleAlpha:function(B){return this.ops.alpha.onChange(B),this},setParticleTint:function(B){return this.ops.tint.onChange(B),this},setEmitterAngle:function(B){return this.ops.angle.onChange(B),this},setParticleLifespan:function(B){return this.ops.lifespan.onChange(B),this},setQuantity:function(B){return this.quantity=B,this},setFrequency:function(B,z){return this.frequency=B,this.flowCounter=B>0?B:0,z&&(this.quantity=z),this},addDeathZone:function(B){Array.isArray(B)||(B=[B]);for(var z,$=[],j=0;j<B.length;j++)if(z=B[j],z instanceof r)$.push(z);else if(typeof z.contains=="function")z=new r(z,!0),$.push(z);else{var k=d(z,"type","onEnter"),q=d(z,"source",null);if(q&&typeof q.contains=="function"){var Q=k==="onEnter";z=new r(q,Q),$.push(z)}}return this.deathZones=this.deathZones.concat($),$},removeDeathZone:function(B){return D(this.deathZones,B),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(B){Array.isArray(B)||(B=[B]);for(var z,$=[],j=0;j<B.length;j++)if(z=B[j],z instanceof O||z instanceof i)$.push(z);else{var k=d(z,"source",null);if(k){var q=d(z,"type","random");if(q==="random"&&typeof k.getRandomPoint=="function")z=new O(k),$.push(z);else if(q==="edge"&&typeof k.getPoints=="function"){var Q=d(z,"quantity",1),Z=d(z,"stepRate",0),_=d(z,"yoyo",!1),et=d(z,"seamless",!0),it=d(z,"total",-1);z=new i(k,Q,Z,_,et,it),$.push(z)}}}return this.emitZones=this.emitZones.concat($),$},removeEmitZone:function(B){return D(this.emitZones,B),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(B){var z=this.emitZones,$=z.length;if($!==0){var j=z[this.zoneIndex];j.getPoint(B),j.total>-1&&(this.zoneTotal++,this.zoneTotal===j.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},getDeathZone:function(B){for(var z=this.deathZones,$=0;$<z.length;$++){var j=z[$];if(j.willKill(B))return this.emit(s.DEATH_ZONE,this,B,j),!0}return!1},setEmitZone:function(B){var z;return isFinite(B)?z=B:z=this.emitZones.indexOf(B),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(B){return this.processors.exists(B)||(B.emitter&&B.emitter.removeParticleProcessor(B),this.processors.add(B),B.emitter=this),B},removeParticleProcessor:function(B){return this.processors.exists(B)&&(this.processors.remove(B,!0),B.emitter=null),B},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(B){return this.addParticleProcessor(new v(B))},reserve:function(B){var z=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+B>this.maxParticles&&(B=this.maxParticles-($+B))}for(var j=0;j<B;j++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(B,z){return B===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof B=="function"&&(this.emitCallback=B,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(B,z){return B===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof B=="function"&&(this.deathCallback=B,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var B=this.dead,z=this.alive;z.length>0;)B.push(z.pop());return this},forEachAlive:function(B,z){for(var $=this.alive,j=$.length,k=0;k<j;k++)B.call(z,$[k],this);return this},forEachDead:function(B,z){for(var $=this.dead,j=$.length,k=0;k<j;k++)B.call(z,$[k],this);return this},start:function(B,z){return B===void 0&&(B=0),this.emitting||(B>0&&this.fastForward(B),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(s.START,this)),this},stop:function(B){return B===void 0&&(B=!1),this.emitting&&(this.emitting=!1,B&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(B,z){return B===void 0&&(B=""),z===void 0&&(z=this.true),this.sortProperty=B,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(B){return this.sortProperty!==""?B=this.depthSortCallback:B=null,this.sortCallback=B,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(B,z){var $=this.sortProperty;return this.sortOrderAsc?B[$]-z[$]:z[$]-B[$]},flow:function(B,z,$){return z===void 0&&(z=1),this.emitting=!1,this.frequency=B,this.quantity=z,$!==void 0&&(this.stopAfter=$),this.start()},explode:function(B,z,$){this.frequency=-1,this.resetCounters(-1,!0);var j=this.emitParticle(B,z,$);return this.emit(s.EXPLODE,this,j),j},emitParticleAt:function(B,z,$){return this.emitParticle($,B,z)},emitParticle:function(B,z,$){if(!this.atLimit()){B===void 0&&(B=this.ops.quantity.onEmit());for(var j=this.dead,k=this.stopAfter,q=this.follow?this.follow.x+this.followOffset.x:z,Q=this.follow?this.follow.y+this.followOffset.y:$,Z=0;Z<B;Z++){var _=j.pop();if(_||(_=new this.particleClass(this)),_.fire(q,Q)?(this.particleBringToTop?this.alive.push(_):this.alive.unshift(_),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,_,this)):this.dead.push(_),k>0&&(this.stopCounter++,this.stopCounter>=k)||this.atLimit())break}return _}},fastForward:function(B,z){z===void 0&&(z=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(B);)this.preUpdate(0,z),$+=z;return this.skipping=!1,this},preUpdate:function(B,z){z*=this.timeScale;var $=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var j=this.getProcessors(),k=this.alive,q=this.dead,Q=0,Z=[],_=k.length;for(Q=0;Q<_;Q++){var et=k[Q];et.update(z,$,j)&&Z.push({index:Q,particle:et})}if(_=Z.length,_>0){var it=this.deathCallback,st=this.deathCallbackScope;for(Q=_-1;Q>=0;Q--){var nt=Z[Q];k.splice(nt.index,1),q.push(nt.particle),it&&it.call(st,nt.particle),nt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&k.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(B){for(var z=this.getWorldTransformMatrix(),$=this.alive,j=$.length,k=[],q=0;q<j;q++){var Q=$[q];L(B,Q.getBounds(z))&&k.push(Q)}return k},getBounds:function(B,z,$,j){B===void 0&&(B=0),z===void 0&&(z=0),$===void 0&&($=1e3/60),j===void 0&&(j=new F);var k=this.getWorldTransformMatrix(),q,Q,Z=this.alive,_=!1;if(j.setTo(0,0,0,0),z>0){var et=0;for(this.skipping=!0;et<Math.abs(z);){for(this.preUpdate(0,$),q=0;q<Z.length;q++)Q=Z[q].getBounds(k),_?A(j,Q):(_=!0,a(Q,j));et+=$}this.skipping=!1}else for(q=0;q<Z.length;q++)Q=Z[q].getBounds(k),_?A(j,Q):(_=!0,a(Q,j));return B>0&&T(j,B,B),j},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(B){this.ops.x.onChange(B)}},particleY:{get:function(){return this.ops.y.current},set:function(B){this.ops.y.onChange(B)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(B){this.ops.accelerationX.onChange(B)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(B){this.ops.accelerationY.onChange(B)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(B){this.ops.maxVelocityX.onChange(B)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(B){this.ops.maxVelocityY.onChange(B)}},speed:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B),this.ops.speedY.onChange(B)}},speedX:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B)}},speedY:{get:function(){return this.ops.speedY.current},set:function(B){this.ops.speedY.onChange(B)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(B){this.ops.moveToX.onChange(B)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(B){this.ops.moveToY.onChange(B)}},bounce:{get:function(){return this.ops.bounce.current},set:function(B){this.ops.bounce.onChange(B)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(B){this.ops.scaleX.onChange(B)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(B){this.ops.scaleY.onChange(B)}},particleColor:{get:function(){return this.ops.color.current},set:function(B){this.ops.color.onChange(B)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(B){this.ops.color.setEase(B)}},particleTint:{get:function(){return this.ops.tint.current},set:function(B){this.ops.tint.onChange(B)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(B){this.ops.alpha.onChange(B)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(B){this.ops.lifespan.onChange(B)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(B){this.ops.angle.onChange(B)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(B){this.ops.rotate.onChange(B)}},quantity:{get:function(){return this.ops.quantity.current},set:function(B){this.ops.quantity.onChange(B)}},delay:{get:function(){return this.ops.delay.current},set:function(B){this.ops.delay.onChange(B)}},hold:{get:function(){return this.ops.hold.current},set:function(B){this.ops.hold.onChange(B)}},flowCounter:{get:function(){return this.counters[0]},set:function(B){this.counters[0]=B}},frameCounter:{get:function(){return this.counters[1]},set:function(B){this.counters[1]=B}},animCounter:{get:function(){return this.counters[2]},set:function(B){this.counters[2]=B}},elapsed:{get:function(){return this.counters[3]},set:function(B){this.counters[3]=B}},stopCounter:{get:function(){return this.counters[4]},set:function(B){this.counters[4]=B}},completeFlag:{get:function(){return this.counters[5]},set:function(B){this.counters[5]=B}},zoneIndex:{get:function(){return this.counters[6]},set:function(B){this.counters[6]=B}},zoneTotal:{get:function(){return this.counters[7]},set:function(B){this.counters[7]=B}},currentFrame:{get:function(){return this.counters[8]},set:function(B){this.counters[8]=B}},currentAnim:{get:function(){return this.counters[9]},set:function(B){this.counters[9]=B}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var B,z=this.ops;for(B=0;B<X.length;B++){var $=X[B];z[$].destroy()}for(B=0;B<this.alive.length;B++)this.alive[B].destroy();for(B=0;B<this.dead.length;B++)this.dead[B].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});f.exports=V},9871:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),g=t(61340),o=new g,a=new g,r=new g,i=new g,n=function(l,s,u,d){var c=o,v=a,x=r,y=i;d?(y.loadIdentity(),y.multiply(d),y.translate(s.x,s.y),y.rotate(s.rotation),y.scale(s.scaleX,s.scaleY)):y.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var T=l.currentContext,E=u.roundPixels,A=u.alpha,P=s.alpha,w=s.alive,I=w.length,O=s.viewBounds;if(!(!s.visible||I===0||O&&!h(O,u.worldView))){s.sortCallback&&s.depthSort(),u.addToRenderList(s);var F=s.scrollFactorX,L=s.scrollFactorY;T.save(),T.globalCompositeOperation=l.blendModes[s.blendMode];for(var D=0;D<I;D++){var b=w[D],U=b.alpha*P*A;if(!(U<=0||b.scaleX===0||b.scaleY===0)){x.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),c.copyFrom(u.matrix),c.multiplyWithOffset(y,-u.scrollX*F,-u.scrollY*L),x.e=b.x,x.f=b.y,c.multiply(x,v);var W=b.frame,H=W.canvasData;if(H.width>0&&H.height>0){var Y=-W.halfWidth,G=-W.halfHeight;T.globalAlpha=U,T.save(),v.setToContext(T),E&&(Y=Math.round(Y),G=Math.round(G)),T.imageSmoothingEnabled=!W.source.scaleMode,T.drawImage(W.source.image,H.x,H.y,H.width,H.height,Y,G,H.width,H.height),T.restore()}}}T.restore()}};f.exports=n},92730:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(95540),r=t(31600);g.register("particles",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=a(i,"config",null),u=new r(this.scene,0,0,l);return n!==void 0&&(i.add=n),h(this.scene,u,i),s&&u.setConfig(s),u})},676:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(31600);h.register("particles",function(o,a,r,i){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new g(this.scene,o,a,r,i))})},90668:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(21188),o=t(9871),f.exports={renderWebGL:g,renderCanvas:o}},21188:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),g=t(61340),o=t(70554),a=new g,r=new g,i=new g,n=new g,l=function(s,u,d,c){var v=s.pipelines.set(u.pipeline),x=a,y=r,T=i,E=n;c?(E.loadIdentity(),E.multiply(c),E.translate(u.x,u.y),E.rotate(u.rotation),E.scale(u.scaleX,u.scaleY)):E.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var A=o.getTintAppendFloatAlpha,P=d.alpha,w=u.alpha;s.pipelines.preBatch(u);var I=u.alive,O=I.length,F=u.viewBounds;if(!(O===0||F&&!h(F,d.worldView))){u.sortCallback&&u.depthSort(),d.addToRenderList(u),x.copyFrom(d.matrix),x.multiplyWithOffset(E,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),s.setBlendMode(u.blendMode),u.mask&&(u.mask.preRenderWebGL(s,u,d),s.pipelines.set(u.pipeline));for(var L=u.tintFill,D,b,U=0;U<O;U++){var W=I[U],H=W.alpha*w*P;if(!(H<=0||W.scaleX===0||W.scaleY===0)){T.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),T.e=W.x,T.f=W.y,x.multiply(T,y);var Y=W.frame;Y.glTexture!==b&&(b=Y.glTexture,D=v.setGameObject(u,Y));var G=-Y.halfWidth,X=-Y.halfHeight,V=y.setQuad(G,X,G+Y.width,X+Y.height),B=A(W.tint,H);v.shouldFlush(6)&&(v.flush(),D=v.setGameObject(u,Y)),v.batchQuad(u,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],Y.u0,Y.v0,Y.u1,Y.v1,B,B,B,B,L,b,D)}}u.mask&&u.mask.postRenderWebGL(s,d),s.pipelines.postBatch(u)}};f.exports=l},20286:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=!0),this.emitter,this.x=a,this.y=r,this.active=i},update:function(){},destroy:function(){this.emitter=null}});f.exports=g},9774:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},812:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="deathzone"},30522:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="explode"},96695:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},18677:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stop"},20696:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r){this.source=a,this.killOnEnter=r},willKill:function(o){var a=o.worldPosition,r=this.source.contains(a.x,a.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});f.exports=g},19909:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n,l,s){n===void 0&&(n=!1),l===void 0&&(l=!0),s===void 0&&(s=-1),this.source=a,this.points=[],this.quantity=r,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],a=this.points[this.points.length-1];o.x===a.x&&o.y===a.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(o.x=a.x,o.y=a.y)}});f.exports=g},68875:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(26099),o=new h({initialize:function(r){this.source=r,this._tempVec=new g,this.total=-1},getPoint:function(a){var r=this._tempVec;this.source.getRandomPoint(r),a.x=r.x,a.y=r.y}});f.exports=o},21024:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(68287),a=new h({Extends:o,Mixins:[g.PathFollower],initialize:function(i,n,l,s,u,d){o.call(this,i,l,s,u,d),this.path=n},preUpdate:function(r,i){this.anims.update(r,i),this.pathUpdate(r)}});f.exports=a},90145:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(1159);h.register("follower",function(o,a,r,i,n){var l=new g(this.scene,o,a,r,i,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(83419),o=t(48803),a=t(90664),r=t(4703),i=t(45650),n=new g({Extends:r,initialize:function(s,u,d,c,v,x,y,T){c||(c="__DEFAULT"),r.call(this,s,u,d,c,v),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(x,y,T),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,s,u){l===void 0&&(l=8),s===void 0&&(s=8),u===void 0&&(u=!1);var d=!1;return u&&(d=!0),this.gridWidth=l,this.gridHeight=s,this.isTiled=u,this.clear(),o({mesh:this,widthSegments:l,heightSegments:s,isOrtho:!1,tile:u,flipY:d}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var u=this.gridWidth,d=this.gridHeight,c=this.vertices,v=s.u0,x=s.u1,y=s.v0,T=s.v1,E,A,P=0;if(this.isTiled)for(y=s.v1,T=s.v0,A=0;A<d;A++)for(E=0;E<u;E++)c[P++].setUVs(v,T),c[P++].setUVs(v,y),c[P++].setUVs(x,T),c[P++].setUVs(v,y),c[P++].setUVs(x,y),c[P++].setUVs(x,T);else{var w=u+1,I=d+1,O=x-v,F=T-y,L=[];for(A=0;A<I;A++)for(E=0;E<w;E++){var D=v+O*(E/u),b=y+F*(A/d);L.push(D,b)}for(A=0;A<d;A++)for(E=0;E<u;E++){var U=(E+w*A)*2,W=(E+w*(A+1))*2,H=(E+1+w*(A+1))*2,Y=(E+1+w*A)*2;c[P++].setUVs(L[U],L[U+1]),c[P++].setUVs(L[W],L[W+1]),c[P++].setUVs(L[Y],L[Y+1]),c[P++].setUVs(L[W],L[W+1]),c[P++].setUVs(L[H],L[H+1]),c[P++].setUVs(L[Y],L[Y+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(l,s,u,d,c){l===void 0&&(l=16777215),s===void 0&&(s=255),u===void 0&&(u=255),d===void 0&&(d=255),c===void 0&&(c=128);for(var v=a(l),x=a(s),y=[],T=0;T<16;T++)for(var E=0;E<16;E++)T<8&&E<8||T>7&&E>7?y.push(v.r,v.g,v.b,u):y.push(x.r,x.g,x.b,d);var A=this.scene.sys.textures.addUint8Array(i(),new Uint8Array(y),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,s){return this.anims.play(l,s)},playReverse:function(l,s){return this.anims.playReverse(l,s)},playAfterDelay:function(l,s){return this.anims.playAfterDelay(l,s)},playAfterRepeat:function(l,s){return this.anims.playAfterRepeat(l,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,s){r.prototype.preUpdate.call(this,l,s),this.anims.update(l,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});f.exports=n},56015:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(13059),o=t(44603),a=t(23568),r=t(35154),i=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var s=a(n,"key",null),u=a(n,"frame",null),d=r(n,"width",8),c=r(n,"height",8),v=r(n,"tile",!1),x=new i(this.scene,0,0,s,u,d,c,v);l!==void 0&&(n.add=l);var y=r(n,"checkerboard",null);if(y){var T=r(y,"color1",16777215),E=r(y,"color2",255),A=r(y,"alpha1",255),P=r(y,"alpha2",255),w=r(y,"height",128);x.createCheckerboard(T,E,A,P,w)}return h(this.scene,x,n),g(x,n),x})},30985:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33663),g=t(39429);g.register("plane",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},80321:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(30100),r=t(36060),i=t(67277),n=new h({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible,i],initialize:function(s,u,d,c,v,x,y){c===void 0&&(c=16777215),v===void 0&&(v=128),x===void 0&&(x=1),y===void 0&&(y=.1),o.call(this,s,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(u,d),this.color=a(c),this.intensity=x,this.attenuation=y,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});f.exports=n},39829:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(80321);g.register("pointlight",function(r,i){r===void 0&&(r={});var n=o(r,"color",16777215),l=o(r,"radius",128),s=o(r,"intensity",1),u=o(r,"attenuation",.1),d=new a(this.scene,0,0,n,l,s,u);return i!==void 0&&(r.add=i),h(this.scene,d,r),d})},71255:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(80321);h.register("pointlight",function(o,a,r,i,n,l){return this.displayList.add(new g(this.scene,o,a,r,i,n,l))})},67277:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(57787),f.exports={renderWebGL:g,renderCanvas:o}},57787:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i){r.addToRenderList(a);var n=o.pipelines.set(a.pipeline),l=h(a,r,i).calc,s=a.width,u=a.height,d=-a._radius,c=-a._radius,v=d+s,x=c+u,y=l.getX(0,0),T=l.getY(0,0),E=l.getX(d,c),A=l.getY(d,c),P=l.getX(d,x),w=l.getY(d,x),I=l.getX(v,x),O=l.getY(v,x),F=l.getX(v,c),L=l.getY(v,c);o.pipelines.preBatch(a),n.batchPointLight(a,r,E,A,P,w,I,O,F,L,y,T),o.pipelines.postBatch(a)};f.exports=g},591:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(81320),o=t(88571),a=new h({Extends:o,initialize:function(i,n,l,s,u,d){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=32),u===void 0&&(u=32),d===void 0&&(d=!0);var c=new g(i.sys.textures,"",s,u,d);o.call(this,i,n,l,c),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,i){this.width=r,this.height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=i),this},resize:function(r,i,n){return this.texture.setSize(r,i,n),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(r){var i=this.texture;return i.key=r,i.manager.addDynamicTexture(i)&&(this._saved=!0),i},fill:function(r,i,n,l,s,u){return this.texture.fill(r,i,n,l,s,u),this},clear:function(){return this.texture.clear(),this},stamp:function(r,i,n,l,s){return this.texture.stamp(r,i,n,l,s),this},erase:function(r,i,n){return this.texture.erase(r,i,n),this},draw:function(r,i,n,l,s){return this.texture.draw(r,i,n,l,s),this},drawFrame:function(r,i,n,l,s,u){return this.texture.drawFrame(r,i,n,l,s,u),this},repeat:function(r,i,n,l,s,u,d,c,v){return this.texture.repeat(r,i,n,l,s,u,d,c,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,i,n,l,s){return this.texture.batchDraw(r,i,n,l,s),this},batchDrawFrame:function(r,i,n,l,s,u){return this.texture.batchDrawFrame(r,i,n,l,s,u),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,i,n,l,s,u,d){return this.texture.snapshotArea(r,i,n,l,s,u,d),this},snapshot:function(r,i,n){return this.snapshotArea(0,0,this.width,this.height,r,i,n)},snapshotPixel:function(r,i,n){return this.snapshotArea(r,i,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});f.exports=a},34495:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(591);g.register("renderTexture",function(r,i){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),s=o(r,"width",32),u=o(r,"height",32),d=new a(this.scene,n,l,s,u);return i!==void 0&&(r.add=i),h(this.scene,d,r),d})},60505:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(591);h.register("renderTexture",function(o,a,r,i){return this.displayList.add(new g(this.scene,o,a,r,i))})},77757:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(83419),o=t(31401),a=t(95643),r=t(36060),i=t(38745),n=t(26099),l=new g({Extends:a,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,i],initialize:function(u,d,c,v,x,y,T,E,A){v===void 0&&(v="__DEFAULT"),y===void 0&&(y=2),T===void 0&&(T=!0),a.call(this,u,"Rope"),this.anims=new h(this),this.points=y,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,x),this.setPosition(d,c),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(y)&&this.resizeArrays(y.length),this.setPoints(y,E,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){var d=this.anims.currentFrame;this.anims.update(s,u),this.anims.currentFrame!==d&&(this.updateUVs(),this.updateVertices())},play:function(s,u,d){return this.anims.play(s,u,d),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,u,d){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,u,d))},setVertical:function(s,u,d){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,u,d)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,u){var d=this.points.length;if(d<1)return this;var c=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&u===void 0&&(s=[s]);var v,x=0;if(u!==void 0)for(v=0;v<d;v++)x=v*2,c[x]=s,c[x+1]=u;else if(s.length===d)for(v=0;v<d;v++)x=v*2,c[x]=s[v],c[x+1]=s[v];else{var y=s[0];for(v=0;v<d;v++)x=v*2,s.length>x&&(y=s[x]),c[x]=y,s.length>x+1&&(y=s[x+1]),c[x+1]=y}return this},setColors:function(s){var u=this.points.length;if(u<1)return this;var d=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var c,v=0;if(s.length===u)for(c=0;c<u;c++)v=c*2,d[v]=s[c],d[v+1]=s[c];else{var x=s[0];for(c=0;c<u;c++)v=c*2,s.length>v&&(x=s[v]),d[v]=x,s.length>v+1&&(x=s[v+1]),d[v+1]=x}return this},setPoints:function(s,u,d){if(s===void 0&&(s=2),typeof s=="number"){var c=s;c<2&&(c=2),s=[];var v,x,y;if(this.horizontal)for(y=-this.frame.halfWidth,x=this.frame.width/(c-1),v=0;v<c;v++)s.push({x:y+v*x,y:0});else for(y=-this.frame.halfHeight,x=this.frame.height/(c-1),v=0;v<c;v++)s.push({x:0,y:y+v*x})}var T=s.length,E=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(s.unshift({x:0,y:0}),T++),E!==T&&this.resizeArrays(T),this.dirty=!0,this.points=s,this.updateUVs(),u!=null&&this.setColors(u),d!=null&&this.setAlphas(d),this)},updateUVs:function(){for(var s=this.uv,u=this.points.length,d=this.frame.u0,c=this.frame.v0,v=this.frame.u1,x=this.frame.v1,y=(v-d)/(u-1),T=(x-c)/(u-1),E=0;E<u;E++){var A=E*4,P,w,I,O;this.horizontal?(this._flipX?(P=v-E*y,I=v-E*y):(P=d+E*y,I=d+E*y),this._flipY?(w=x,O=c):(w=c,O=x)):(this._flipX?(P=d,I=v):(P=v,I=d),this._flipY?(w=x-E*T,O=x-E*T):(w=c+E*T,O=c+E*T)),s[A+0]=P,s[A+1]=w,s[A+2]=I,s[A+3]=O}return this},resizeArrays:function(s){var u=this.colors,d=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),u=new Uint32Array(s*2),d=new Float32Array(s*2);for(var c=0;c<s*2;c++)u[c]=16777215,d[c]=1;return this.colors=u,this.alphas=d,this.dirty=!0,this},updateVertices:function(){var s=this._perp,u=this.points,d=this.vertices,c=u.length;if(this.dirty=!1,!(c<1)){for(var v,x=u[0],y=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<c;T++){var E=u[T],A=T*4;T<c-1?v=u[T+1]:v=E,s.x=v.y-x.y,s.y=-(v.x-x.x);var P=s.length();s.x/=P,s.y/=P,s.x*=y,s.y*=y,d[A]=E.x+s.x,d[A+1]=E.y+s.y,d[A+2]=E.x-s.x,d[A+3]=E.y-s.y,x=E}return this}},setDebug:function(s,u){return this.debugGraphic=s,!s&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,u,d){var c=s.debugGraphic,v=d[0],x=d[1],y=d[2],T=d[3];c.lineBetween(v,x,y,T);for(var E=4;E<u;E+=4){var A=d[E+0],P=d[E+1],w=d[E+2],I=d[E+3];c.lineBetween(v,x,A,P),c.lineBetween(y,T,w,I),c.lineBetween(y,T,A,P),c.lineBetween(A,P,w,I),v=A,x=P,y=w,T=I}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});f.exports=l},95262:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};f.exports=S},26209:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(35154),r=t(77757);g.register("rope",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=o(i,"horizontal",!0),d=a(i,"points",void 0),c=a(i,"colors",void 0),v=a(i,"alphas",void 0),x=new r(this.scene,0,0,l,s,d,u,c,v);return n!==void 0&&(i.add=n),h(this.scene,x,i),x})},96819:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77757),g=t(39429);g.register("rope",function(o,a,r,i,n,l,s,u){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u))})},38745:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(20439),o=t(95262),f.exports={renderWebGL:g,renderCanvas:o}},20439:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline,r),s=h(r,i,n).calc,u=r.vertices,d=r.uv,c=r.colors,v=r.alphas,x=r.alpha,y=g.getTintAppendFloatAlpha,T=i.roundPixels,E=u.length,A=Math.floor(E*.5);l.flush(),a.pipelines.preBatch(r);var P=l.setGameObject(r),w=l.vertexViewF32,I=l.vertexViewU32,O=l.vertexCount*l.currentShader.vertexComponentCount-1,F=0,L=r.tintFill;r.dirty&&r.updateVertices();for(var D=r.debugCallback,b=[],U=0;U<E;U+=2){var W=u[U+0],H=u[U+1],Y=W*s.a+H*s.c+s.e,G=W*s.b+H*s.d+s.f;T&&(Y=Math.round(Y),G=Math.round(G)),w[++O]=Y,w[++O]=G,w[++O]=d[U+0],w[++O]=d[U+1],w[++O]=P,w[++O]=L,I[++O]=y(c[F],i.alpha*(v[F]*x)),F++,D&&(b[U+0]=Y,b[U+1]=G)}D&&D.call(r,r,E,b),l.vertexCount+=A,l.currentBatch.count=l.vertexCount-l.currentBatch.start,a.pipelines.postBatch(r)};f.exports=o},20071:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(95540),r=t(79291),i=t(61622),n=t(25479),l=t(61340),s=t(95428),u=t(92503),d=new h({Extends:o,Mixins:[g.ComputedSize,g.Depth,g.GetBounds,g.Mask,g.Origin,g.ScrollFactor,g.Transform,g.Visible,n],initialize:function(v,x,y,T,E,A,P,w){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=128),A===void 0&&(A=128),o.call(this,v,"Shader"),this.blendMode=-1,this.shader;var I=v.sys.renderer;this.renderer=I,this.gl=I.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=I.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=I.width,this._rendererHeight=I.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(y,T),this.setSize(E,A),this.setOrigin(.5,.5),this.setShader(x,P,w),this.renderer.on(u.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(c){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,v){if(!this.renderToTexture){var x=this.width,y=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,x,y,0),this.framebuffer=T.createFramebuffer(x,y,this.glTexture,!1),this._rendererWidth=x,this._rendererHeight=y,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(c,v,x){if(this.renderer.contextLost)return this._deferSetShader={key:c,textures:v,textureData:x},this;if(v===void 0&&(v=[]),typeof c=="string"){var y=this.scene.sys.cache.shader;if(!y.has(c))return console.warn("Shader missing: "+c),this;this.shader=y.get(c)}else this.shader=c;var T=this.gl,E=this.renderer;this.program&&E.deleteProgram(this.program);var A=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var P=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()*60*60+P.getMinutes()*60+P.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var I=0;I<4;I++)v[I]&&this.setSampler2D("iChannel"+I,v[I],I,x);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,v,x,y){if(this.renderer.contextLost){this._deferProjOrtho={left:c,right:v,bottom:x,top:y};return}var T=-1e3,E=1e3,A=1/(c-v),P=1/(x-y),w=1/(T-E),I=this.projectionMatrix;I[0]=-2*A,I[5]=-2*P,I[10]=2*w,I[12]=(c+v)*A,I[13]=(y+x)*P,I[14]=(E+T)*w;var O=this.program,F=this.gl,L=this.renderer;L.setProgram(O),F.uniformMatrix4fv(F.getUniformLocation(O.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=x},initUniforms:function(){var c=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var x in this.uniforms){var y=this.uniforms[x],T=y.type,E=c[T];y.uniformLocation=this.renderer.createUniformLocation(v,x),T!=="sampler2D"&&(y.glMatrix=E.matrix,y.glValueLength=E.length,y.glFunc=E.func)}},setSampler2DBuffer:function(c,v,x,y,T,E){T===void 0&&(T=0),E===void 0&&(E={});var A=this.uniforms[c];return A.value=v,E.width=x,E.height=y,A.textureData=E,this._textureCount=T,this.initSampler2D(A),this},setSampler2D:function(c,v,x,y){x===void 0&&(x=0);var T=this.scene.sys.textures;if(T.exists(v)){var E=T.getFrame(v);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,E.glTexture,E.width,E.height,x,y);var A=this.uniforms[c],P=E.source;A.textureKey=v,A.source=P.image,A.value=E.glTexture,P.isGLTexture&&(y||(y={}),y.width=P.width,y.height=P.height),y&&(A.textureData=y),this._textureCount=x,this.initSampler2D(A)}return this},setUniform:function(c,v){return i(this.uniforms,c,v),this},getUniform:function(c){return a(this.uniforms,c,null)},setChannel0:function(c,v){return this.setSampler2D("iChannel0",c,0,v)},setChannel1:function(c,v){return this.setSampler2D("iChannel1",c,1,v)},setChannel2:function(c,v){return this.setSampler2D("iChannel2",c,2,v)},setChannel3:function(c,v){return this.setSampler2D("iChannel3",c,3,v)},initSampler2D:function(c){if(c.value){var v=c.textureData;if(v&&!c.value.isRenderTexture){var x=this.gl,y=c.value,T=x[a(v,"magFilter","linear").toUpperCase()],E=x[a(v,"minFilter","linear").toUpperCase()],A=x[a(v,"wrapS","repeat").toUpperCase()],P=x[a(v,"wrapT","repeat").toUpperCase()],w=x[a(v,"format","rgba").toUpperCase()],I=a(v,"flipY",!1),O=a(v,"width",y.width),F=a(v,"height",y.height),L=a(v,"source",y.pixels);v.repeat&&(A=x.REPEAT,P=x.REPEAT),v.width&&(L=null),y.update(L,O,F,I,A,P,E,T,w)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var c=this.gl,v=this.uniforms,x,y,T,E,A,P=0;for(var w in v)x=v[w],T=x.glFunc,y=x.glValueLength,E=x.uniformLocation,A=x.value,A!==null&&(y===1?x.glMatrix?T.call(c,E.webGLUniformLocation,x.transpose,A):T.call(c,E.webGLUniformLocation,A):y===2?T.call(c,E.webGLUniformLocation,A.x,A.y):y===3?T.call(c,E.webGLUniformLocation,A.x,A.y,A.z):y===4?T.call(c,E.webGLUniformLocation,A.x,A.y,A.z,A.w):x.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+P),c.bindTexture(c.TEXTURE_2D,A.webGLTexture),c.uniform1i(E.webGLUniformLocation,P),P++))},load:function(c){var v=this.gl,x=this.width,y=this.height,T=this.renderer,E=this.program,A=this.viewMatrix;if(!this.renderToTexture){var P=-this._displayOriginX,w=-this._displayOriginY;A[0]=c[0],A[1]=c[1],A[4]=c[2],A[5]=c[3],A[8]=c[4],A[9]=c[5],A[12]=A[0]*P+A[4]*w,A[13]=A[1]*P+A[5]*w}v.useProgram(E.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,A),v.uniformMatrix4fv(v.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height);var I=this.uniforms,O=I.resolution;O.value.x=x,O.value.y=y,I.time.value=T.game.loop.getDuration();var F=this.pointer;if(F){var L=I.mouse,D=F.x/x,b=1-F.y/y;L.value.x=D.toFixed(2),L.value.y=b.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,v=this.height,x=this.program,y=this.gl,T=this.vertexBuffer,E=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT)),y.bindBuffer(y.ARRAY_BUFFER,T.webGLBuffer);var P=y.getAttribLocation(x.webGLProgram,"inPosition");P!==-1&&(y.enableVertexAttribArray(P),y.vertexAttribPointer(P,2,y.FLOAT,!1,A,0));var w=this.vertexViewF32;w[3]=v,w[4]=c,w[5]=v,w[8]=c,w[9]=v,w[10]=c;var I=6;y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,I*A)),y.drawArrays(y.TRIANGLES,0,I),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var c=this._deferSetShader.key,v=this._deferSetShader.textures,x=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(c,v,x)}if(this._deferProjOrtho!==null){var y=this._deferProjOrtho.left,T=this._deferProjOrtho.right,E=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(y,T,E,A)}},preDestroy:function(){var c=this.renderer;c.off(u.RESTORE_WEBGL,this.onContextRestored,this),c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(c.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(v){c.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});f.exports=d},80464:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};f.exports=S},54935:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(20071);g.register("shader",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"x",0),s=o(r,"y",0),u=o(r,"width",128),d=o(r,"height",128),c=new a(this.scene,n,l,s,u,d);return i!==void 0&&(r.add=i),h(this.scene,c,r),c})},74177:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20071),g=t(39429);g.register("shader",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},25479:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(19257),o=t(80464),f.exports={renderWebGL:g,renderCanvas:o}},19257:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i){if(a.shader){if(r.addToRenderList(a),o.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var n=h(a,r,i).calc;(o.width!==a._rendererWidth||o.height!==a._rendererHeight)&&a.projOrtho(0,o.width,o.height,0),a.load(n.matrix),a.flush()}o.pipelines.rebind()}};f.exports=g},10441:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r,i,n,l){for(var s=h.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*i),u=r.pathData,d=r.pathIndexes,c=0;c<d.length;c+=3){var v=d[c]*2,x=d[c+1]*2,y=d[c+2]*2,T=u[v+0]-n,E=u[v+1]-l,A=u[x+0]-n,P=u[x+1]-l,w=u[y+0]-n,I=u[y+1]-l,O=a.getX(T,E),F=a.getY(T,E),L=a.getX(A,P),D=a.getY(A,P),b=a.getX(w,I),U=a.getY(w,I);o.batchTri(r,O,F,L,D,b,U,0,0,1,1,s,s,s,2)}};f.exports=g},65960:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=g||h.fillColor,r=o||h.fillAlpha,i=(a&16711680)>>>16,n=(a&65280)>>>8,l=a&255;t.fillStyle="rgba("+i+","+n+","+l+","+r+")"};f.exports=S},75177:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=g||h.strokeColor,r=o||h.strokeAlpha,i=(a&16711680)>>>16,n=(a&65280)>>>8,l=a&255;t.strokeStyle="rgba("+i+","+n+","+l+","+r+")",t.lineWidth=h.lineWidth};f.exports=S},17803:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(95643),a=t(23031),r=new h({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible],initialize:function(n,l,s){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(i,n){return n===void 0&&(n=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(i,n,l){return l===void 0&&(l=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,n){return this.width=i,this.height=n,this},setDisplaySize:function(i,n){return this.displayWidth=i,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});f.exports=r},34682:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r,i,n){var l=o.strokeTint,s=h.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*r);l.TL=s,l.TR=s,l.BL=s,l.BR=s;var u=a.pathData,d=u.length-1,c=a.lineWidth,v=c/2,x=u[0]-i,y=u[1]-n;a.closePath||(d-=2);for(var T=2;T<d;T+=2){var E=u[T]-i,A=u[T+1]-n;o.batchLine(x,y,E,A,v,v,c,T-2,a.closePath?T===d-1:!1),x=E,y=A}};f.exports=g},23629:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13609),g=t(83419),o=t(39506),a=t(94811),r=t(96503),i=t(36383),n=t(17803),l=new g({Extends:n,Mixins:[h],initialize:function(u,d,c,v,x,y,T,E,A){d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=128),x===void 0&&(x=0),y===void 0&&(y=360),T===void 0&&(T=!1),n.call(this,u,"Arc",new r(0,0,v)),this._startAngle=x,this._endAngle=y,this._anticlockwise=T,this._iterations=.01,this.setPosition(d,c);var P=this.geom.radius*2;this.setSize(P,P),E!==void 0&&this.setFillStyle(E,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var u=s*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,u){return this._startAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(s,u){return this._endAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var s=this._iterations,u=s,d=this.geom.radius,c=o(this._startAngle),v=o(this._endAngle),x=this._anticlockwise,y=d,T=d;v-=c,x?v<-i.PI2?v=-i.PI2:v>0&&(v=-i.PI2+v%i.PI2):v>i.PI2?v=i.PI2:v<0&&(v=i.PI2+v%i.PI2);for(var E=[y+Math.cos(c)*d,T+Math.sin(c)*d],A;u<1;)A=v*u+c,E.push(y+Math.cos(A)*d,T+Math.sin(A)*d),u+=s;return A=v+c,E.push(y+Math.cos(A)*d,T+Math.sin(A)*d),E.push(y+Math.cos(c)*d,T+Math.sin(c)*d),this.pathIndexes=a(E),this.pathData=E,this}});f.exports=l},42542:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),g=t(65960),o=t(75177),a=t(20926),r=function(i,n,l,s){l.addToRenderList(n);var u=i.currentContext;if(a(i,u,n,l,s)){var d=n.radius;u.beginPath(),u.arc(d-n.originX*(d*2),d-n.originY*(d*2),d,h(n._startAngle),h(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(g(u,n),u.fill()),n.isStroked&&(o(u,n),u.stroke()),u.restore()}};f.exports=r},42563:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23629),g=t(39429);g.register("arc",function(o,a,r,i,n,l,s,u){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u))}),g.register("circle",function(o,a,r,i,n){return this.displayList.add(new h(this.scene,o,a,r,0,360,!1,i,n))})},13609:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(41447),o=t(42542),f.exports={renderWebGL:g,renderCanvas:o}},41447:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(10441),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,x=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&g(s,d,i,x,c,v),i.isStroked&&o(s,i,x,c,v),r.pipelines.postBatch(i)};f.exports=a},89:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(33141),o=t(94811),a=t(87841),r=t(17803),i=new h({Extends:r,Mixins:[g],initialize:function(l,s,u,d,c,v){s===void 0&&(s=0),u===void 0&&(u=0),r.call(this,l,"Curve",d),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(s,u),c!==void 0&&this.setFillStyle(c,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var s=[],u=this.geom.getPoints(l),d=0;d<u.length;d++)s.push(u[d].x,u[d].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});f.exports=i},3170:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX+i._curveBounds.x,d=i._displayOriginY+i._curveBounds.y,c=i.pathData,v=c.length-1,x=c[0]-u,y=c[1]-d;s.beginPath(),s.moveTo(x,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=c[T]-u,A=c[T+1]-d;s.lineTo(E,A)}i.closePath&&s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},40511:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(89);h.register("curve",function(o,a,r,i,n){return this.displayList.add(new g(this.scene,o,a,r,i,n))})},33141:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(53987),o=t(3170),f.exports={renderWebGL:g,renderCanvas:o}},53987:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),g=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=g(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX+i._curveBounds.x,v=i._displayOriginY+i._curveBounds.y,x=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,d,i,x,c,v),i.isStroked&&o(s,i,x,c,v),r.pipelines.postBatch(i)};f.exports=a},19921:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(94811),o=t(54205),a=t(8497),r=t(17803),i=new h({Extends:r,Mixins:[o],initialize:function(l,s,u,d,c,v,x){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=128),c===void 0&&(c=128),r.call(this,l,"Ellipse",new a(d/2,c/2,d,c)),this._smoothness=64,this.setPosition(s,u),this.width=d,this.height=c,v!==void 0&&this.setFillStyle(v,x),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),s=0;s<l.length;s++)n.push(l[s].x,l[s].y);return n.push(l[0].x,l[0].y),this.pathIndexes=g(n),this.pathData=n,this}});f.exports=i},7930:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,x=c[0]-u,y=c[1]-d;s.beginPath(),s.moveTo(x,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=c[T]-u,A=c[T+1]-d;s.lineTo(E,A)}s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},1543:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19921),g=t(39429);g.register("ellipse",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},54205:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(19467),o=t(7930),f.exports={renderWebGL:g,renderCanvas:o}},19467:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),g=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=g(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,x=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,d,i,x,c,v),i.isStroked&&o(s,i,x,c,v),r.pipelines.postBatch(i)};f.exports=a},30479:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(17803),o=t(26015),a=new h({Extends:g,Mixins:[o],initialize:function(i,n,l,s,u,d,c,v,x,y,T){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=128),u===void 0&&(u=128),d===void 0&&(d=32),c===void 0&&(c=32),g.call(this,i,"Grid",null),this.cellWidth=d,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(s,u),this.setFillStyle(v,x),y!==void 0&&this.setOutlineStyle(y,T),this.updateDisplayOrigin()},setFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=i,this.showOutline=!0),this}});f.exports=a},49912:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=-i._displayOriginX,d=-i._displayOriginY,c=n.alpha*i.alpha,v=i.width,x=i.height,y=i.cellWidth,T=i.cellHeight,E=Math.ceil(v/y),A=Math.ceil(x/T),P=y,w=T,I=y-(E*y-v),O=T-(A*T-x),F=i.showCells,L=i.showAltCells,D=i.showOutline,b=0,U=0,W=0,H=0,Y=0;if(D&&(P--,w--,I===y&&I--,O===T&&O--),F&&i.fillAlpha>0)for(h(s,i),U=0;U<A;U++)for(L&&(W=U%2),b=0;b<E;b++){if(L&&W){W=0;continue}W++,H=b<E-1?P:I,Y=U<A-1?w:O,s.fillRect(u+b*y,d+U*T,H,Y)}if(L&&i.altFillAlpha>0)for(h(s,i,i.altFillColor,i.altFillAlpha*c),U=0;U<A;U++)for(L&&(W=U%2),b=0;b<E;b++){if(L&&!W){W=1;continue}W=0,H=b<E-1?P:I,Y=U<A-1?w:O,s.fillRect(u+b*y,d+U*T,H,Y)}if(D&&i.outlineFillAlpha>0){for(g(s,i,i.outlineFillColor,i.outlineFillAlpha*c),b=1;b<E;b++){var G=b*y;s.beginPath(),s.moveTo(G+u,d),s.lineTo(G+u,x+d),s.stroke()}for(U=1;U<A;U++){var X=U*T;s.beginPath(),s.moveTo(u,X+d),s.lineTo(u+v,X+d),s.stroke()}}s.restore()}};f.exports=a},34137:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(30479);h.register("grid",function(o,a,r,i,n,l,s,u,d,c){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s,u,d,c))})},26015:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(46161),o=t(49912),f.exports={renderWebGL:g,renderCanvas:o}},46161:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc);u.translate(-r._displayOriginX,-r._displayOriginY);var d=i.alpha*r.alpha,c=r.width,v=r.height,x=r.cellWidth,y=r.cellHeight,T=Math.ceil(c/x),E=Math.ceil(v/y),A=x,P=y,w=x-(T*x-c),I=y-(E*y-v),O,F,L=r.showCells,D=r.showAltCells,b=r.showOutline,U=0,W=0,H=0,Y=0,G=0;if(b&&(A--,P--,w===x&&w--,I===y&&I--),a.pipelines.preBatch(r),L&&r.fillAlpha>0)for(O=l.fillTint,F=g.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*d),O.TL=F,O.TR=F,O.BL=F,O.BR=F,W=0;W<E;W++)for(D&&(H=W%2),U=0;U<T;U++){if(D&&H){H=0;continue}H++,Y=U<T-1?A:w,G=W<E-1?P:I,l.batchFillRect(U*x,W*y,Y,G)}if(D&&r.altFillAlpha>0)for(O=l.fillTint,F=g.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*d),O.TL=F,O.TR=F,O.BL=F,O.BR=F,W=0;W<E;W++)for(D&&(H=W%2),U=0;U<T;U++){if(D&&!H){H=1;continue}H=0,Y=U<T-1?A:w,G=W<E-1?P:I,l.batchFillRect(U*x,W*y,Y,G)}if(b&&r.outlineFillAlpha>0){var X=l.strokeTint,V=g.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*d);for(X.TL=V,X.TR=V,X.BL=V,X.BR=V,U=1;U<T;U++){var B=U*x;l.batchLine(B,0,B,v,1,1,1,0,!1)}for(W=1;W<E;W++){var z=W*y;l.batchLine(0,z,c,z,1,1,1,0,!1)}}a.pipelines.postBatch(r)};f.exports=o},61475:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99651),g=t(83419),o=t(17803),a=new g({Extends:o,Mixins:[h],initialize:function(i,n,l,s,u,d,c,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),d===void 0&&(d=15658734),c===void 0&&(c=10066329),v===void 0&&(v=13421772),o.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=d,this.fillLeft=c,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,i,n){return r===void 0&&(r=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=i,this.showRight=n,this},setFillStyle:function(r,i,n){return this.fillTop=r,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});f.exports=a},11508:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(g(a,l,r,i,n)&&r.isFilled){var s=r.width,u=r.height,d=s/2,c=s/r.projection;r.showTop&&(h(l,r,r.fillTop),l.beginPath(),l.moveTo(-d,-u),l.lineTo(0,-c-u),l.lineTo(d,-u),l.lineTo(d,-1),l.lineTo(0,c-1),l.lineTo(-d,-1),l.lineTo(-d,-u),l.fill()),r.showLeft&&(h(l,r,r.fillLeft),l.beginPath(),l.moveTo(-d,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(-d,-u),l.lineTo(-d,0),l.fill()),r.showRight&&(h(l,r,r.fillRight),l.beginPath(),l.moveTo(d,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(d,-u),l.lineTo(d,0),l.fill()),l.restore()}};f.exports=o},3933:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(61475);h.register("isobox",function(o,a,r,i,n,l,s){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s))})},99651:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(68149),o=t(11508),f.exports={renderWebGL:g,renderCanvas:o}},68149:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc),d=r.width,c=r.height,v=d/2,x=d/r.projection,y=i.alpha*r.alpha;if(r.isFilled){var T,E,A,P,w,I,O,F,L;a.pipelines.preBatch(r),r.showTop&&(T=g.getTintAppendFloatAlpha(r.fillTop,y),E=u.getX(-v,-c),A=u.getY(-v,-c),P=u.getX(0,-x-c),w=u.getY(0,-x-c),I=u.getX(v,-c),O=u.getY(v,-c),F=u.getX(0,x-c),L=u.getY(0,x-c),l.batchQuad(r,E,A,P,w,I,O,F,L,0,0,1,1,T,T,T,T,2)),r.showLeft&&(T=g.getTintAppendFloatAlpha(r.fillLeft,y),E=u.getX(-v,0),A=u.getY(-v,0),P=u.getX(0,x),w=u.getY(0,x),I=u.getX(0,x-c),O=u.getY(0,x-c),F=u.getX(-v,-c),L=u.getY(-v,-c),l.batchQuad(r,E,A,P,w,I,O,F,L,0,0,1,1,T,T,T,T,2)),r.showRight&&(T=g.getTintAppendFloatAlpha(r.fillRight,y),E=u.getX(v,0),A=u.getY(v,0),P=u.getX(0,x),w=u.getY(0,x),I=u.getX(0,x-c),O=u.getY(0,x-c),F=u.getX(v,-c),L=u.getY(v,-c),l.batchQuad(r,E,A,P,w,I,O,F,L,0,0,1,1,T,T,T,T,2)),a.pipelines.postBatch(r)}};f.exports=o},16933:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(60561),o=t(17803),a=new h({Extends:o,Mixins:[g],initialize:function(i,n,l,s,u,d,c,v,x){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),d===void 0&&(d=!1),c===void 0&&(c=15658734),v===void 0&&(v=10066329),x===void 0&&(x=13421772),o.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=v,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=d,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,i,n){return r===void 0&&(r=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=i,this.showRight=n,this},setFillStyle:function(r,i,n){return this.fillTop=r,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});f.exports=a},79590:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(g(a,l,r,i,n)&&r.isFilled){var s=r.width,u=r.height,d=s/2,c=s/r.projection,v=r.isReversed;r.showTop&&v&&(h(l,r,r.fillTop),l.beginPath(),l.moveTo(-d,-u),l.lineTo(0,-c-u),l.lineTo(d,-u),l.lineTo(0,c-u),l.fill()),r.showLeft&&(h(l,r,r.fillLeft),l.beginPath(),v?(l.moveTo(-d,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(-d,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),r.showRight&&(h(l,r,r.fillRight),l.beginPath(),v?(l.moveTo(d,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(d,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),l.restore()}};f.exports=o},49803:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(16933);h.register("isotriangle",function(o,a,r,i,n,l,s,u){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s,u))})},60561:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(51503),o=t(79590),f.exports={renderWebGL:g,renderCanvas:o}},51503:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc),d=r.width,c=r.height,v=d/2,x=d/r.projection,y=r.isReversed,T=i.alpha*r.alpha;if(r.isFilled){a.pipelines.preBatch(r);var E,A,P,w,I,O,F;if(r.showTop&&y){E=g.getTintAppendFloatAlpha(r.fillTop,T),A=u.getX(-v,-c),P=u.getY(-v,-c),w=u.getX(0,-x-c),I=u.getY(0,-x-c),O=u.getX(v,-c),F=u.getY(v,-c);var L=u.getX(0,x-c),D=u.getY(0,x-c);l.batchQuad(r,A,P,w,I,O,F,L,D,0,0,1,1,E,E,E,E,2)}r.showLeft&&(E=g.getTintAppendFloatAlpha(r.fillLeft,T),y?(A=u.getX(-v,-c),P=u.getY(-v,-c),w=u.getX(0,x),I=u.getY(0,x),O=u.getX(0,x-c),F=u.getY(0,x-c)):(A=u.getX(-v,0),P=u.getY(-v,0),w=u.getX(0,x),I=u.getY(0,x),O=u.getX(0,x-c),F=u.getY(0,x-c)),l.batchTri(r,A,P,w,I,O,F,0,0,1,1,E,E,E,2)),r.showRight&&(E=g.getTintAppendFloatAlpha(r.fillRight,T),y?(A=u.getX(v,-c),P=u.getY(v,-c),w=u.getX(0,x),I=u.getY(0,x),O=u.getX(0,x-c),F=u.getY(0,x-c)):(A=u.getX(v,0),P=u.getY(v,0),w=u.getX(0,x),I=u.getY(0,x),O=u.getX(0,x-c),F=u.getY(0,x-c)),l.batchTri(r,A,P,w,I,O,F,0,0,1,1,E,E,E,2)),a.pipelines.postBatch(r)}};f.exports=o},57847:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(17803),o=t(23031),a=t(36823),r=new h({Extends:g,Mixins:[a],initialize:function(n,l,s,u,d,c,v,x,y){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=128),v===void 0&&(v=0),g.call(this,n,"Line",new o(u,d,c,v));var T=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,s),this.setSize(T,E),x!==void 0&&this.setStrokeStyle(1,x,y),this.updateDisplayOrigin()},setLineWidth:function(i,n){return n===void 0&&(n=i),this._startWidth=i,this._endWidth=n,this.lineWidth=i,this},setTo:function(i,n,l,s){return this.geom.setTo(i,n,l,s),this}});f.exports=r},17440:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75177),g=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(g(a,l,r,i,n)){var s=r._displayOriginX,u=r._displayOriginY;r.isStroked&&(h(l,r),l.beginPath(),l.moveTo(r.geom.x1-s,r.geom.y1-u),l.lineTo(r.geom.x2-s,r.geom.y2-u),l.stroke()),l.restore()}};f.exports=o},2481:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(57847);h.register("line",function(o,a,r,i,n,l,s,u){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s,u))})},36823:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(77385),o=t(17440),f.exports={renderWebGL:g,renderCanvas:o}},77385:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n);l.calcMatrix.copyFrom(s.calc);var u=r._displayOriginX,d=r._displayOriginY,c=i.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isStroked){var v=l.strokeTint,x=g.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*c);v.TL=x,v.TR=x,v.BL=x,v.BR=x,l.batchLine(r.geom.x1-u,r.geom.y1-d,r.geom.x2-u,r.geom.y2-d,r._startWidth/2,r._endWidth/2,1,0,!1,s.sprite,s.camera)}a.pipelines.postBatch(r)};f.exports=o},24949:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90273),g=t(83419),o=t(94811),a=t(13829),r=t(25717),i=t(17803),n=t(5469),l=new g({Extends:i,Mixins:[h],initialize:function(u,d,c,v,x,y){d===void 0&&(d=0),c===void 0&&(c=0),i.call(this,u,"Polygon",new r(v));var T=a(this.geom);this.setPosition(d,c),this.setSize(T.width,T.height),x!==void 0&&this.setFillStyle(x,y),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var u=0;u<s;u++)n(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var u=a(this.geom);return this.setSize(u.width,u.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],u=this.geom.points,d=0;d<u.length;d++)s.push(u[d].x,u[d].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});f.exports=l},38710:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,x=c[0]-u,y=c[1]-d;s.beginPath(),s.moveTo(x,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=c[T]-u,A=c[T+1]-d;s.lineTo(E,A)}i.closePath&&s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},64827:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(24949);h.register("polygon",function(o,a,r,i,n){return this.displayList.add(new g(this.scene,o,a,r,i,n))})},90273:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(73695),o=t(38710),f.exports={renderWebGL:g,renderCanvas:o}},73695:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),g=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=g(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,x=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,d,i,x,c,v),i.isStroked&&o(s,i,x,c,v),r.pipelines.postBatch(i)};f.exports=a},74561:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(87841),o=t(17803),a=t(95597),r=new h({Extends:o,Mixins:[a],initialize:function(n,l,s,u,d,c,v){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=128),d===void 0&&(d=128),o.call(this,n,"Rectangle",new g(0,0,u,d)),this.setPosition(l,s),this.setSize(u,d),c!==void 0&&this.setFillStyle(c,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,n){this.width=i,this.height=n,this.geom.setSize(i,n),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=i,l.hitArea.height=n),this},updateData:function(){var i=[],n=this.geom,l=this._tempLine;return n.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),i.push(l.x2,l.y2),n.getLineC(l),i.push(l.x2,l.y2),n.getLineD(l),i.push(l.x2,l.y2),this.pathData=i,this}});f.exports=r},48682:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY;i.isFilled&&(h(s,i),s.fillRect(-u,-d,i.width,i.height)),i.isStroked&&(g(s,i),s.beginPath(),s.rect(-u,-d,i.width,i.height),s.stroke()),s.restore()}};f.exports=a},87959:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(74561);h.register("rectangle",function(o,a,r,i,n,l){return this.displayList.add(new g(this.scene,o,a,r,i,n,l))})},95597:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(52059),o=t(48682),f.exports={renderWebGL:g,renderCanvas:o}},52059:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(34682),o=t(70554),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l);s.calcMatrix.copyFrom(u.calc);var d=i._displayOriginX,c=i._displayOriginY,v=n.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var x=s.fillTint,y=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);x.TL=y,x.TR=y,x.BL=y,x.BR=y,s.batchFillRect(-d,-c,i.width,i.height)}i.isStroked&&g(s,i,v,d,c),r.pipelines.postBatch(i)};f.exports=a},55911:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81991),g=t(83419),o=t(94811),a=t(17803),r=new g({Extends:a,Mixins:[h],initialize:function(n,l,s,u,d,c,v,x){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=5),d===void 0&&(d=32),c===void 0&&(c=64),a.call(this,n,"Star",null),this._points=u,this._innerRadius=d,this._outerRadius=c,this.setPosition(l,s),this.setSize(c*2,c*2),v!==void 0&&this.setFillStyle(v,x),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],n=this._points,l=this._innerRadius,s=this._outerRadius,u=Math.PI/2*3,d=Math.PI/n,c=s,v=s;i.push(c,v+-s);for(var x=0;x<n;x++)i.push(c+Math.cos(u)*s,v+Math.sin(u)*s),u+=d,i.push(c+Math.cos(u)*l,v+Math.sin(u)*l),u+=d;return i.push(c,v+-s),this.pathIndexes=o(i),this.pathData=i,this}});f.exports=r},64272:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY,c=i.pathData,v=c.length-1,x=c[0]-u,y=c[1]-d;s.beginPath(),s.moveTo(x,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=c[T]-u,A=c[T+1]-d;s.lineTo(E,A)}s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},93697:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55911),g=t(39429);g.register("star",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},81991:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(57017),o=t(64272),f.exports={renderWebGL:g,renderCanvas:o}},57017:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),g=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=g(i,n,l),d=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,x=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,d,i,x,c,v),i.isStroked&&o(s,i,x,c,v),r.pipelines.postBatch(i)};f.exports=a},36931:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(17803),o=t(16483),a=t(96195),r=new h({Extends:g,Mixins:[a],initialize:function(n,l,s,u,d,c,v,x,y,T,E){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=128),c===void 0&&(c=64),v===void 0&&(v=0),x===void 0&&(x=128),y===void 0&&(y=128),g.call(this,n,"Triangle",new o(u,d,c,v,x,y));var A=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(l,s),this.setSize(A,P),T!==void 0&&this.setFillStyle(T,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,n,l,s,u,d){return this.geom.setTo(i,n,l,s,u,d),this.updateData()},updateData:function(){var i=[],n=this.geom,l=this._tempLine;return n.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),i.push(l.x2,l.y2),n.getLineC(l),i.push(l.x2,l.y2),this.pathData=i,this}});f.exports=r},85172:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),g=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,d=i._displayOriginY,c=i.geom.x1-u,v=i.geom.y1-d,x=i.geom.x2-u,y=i.geom.y2-d,T=i.geom.x3-u,E=i.geom.y3-d;s.beginPath(),s.moveTo(c,v),s.lineTo(x,y),s.lineTo(T,E),s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(g(s,i),s.stroke()),s.restore()}};f.exports=a},45245:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(36931);h.register("triangle",function(o,a,r,i,n,l,s,u,d,c){return this.displayList.add(new g(this.scene,o,a,r,i,n,l,s,u,d,c))})},96195:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(83253),o=t(85172),f.exports={renderWebGL:g,renderCanvas:o}},83253:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=t(34682),o=t(70554),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l);s.calcMatrix.copyFrom(u.calc);var d=i._displayOriginX,c=i._displayOriginY,v=n.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var x=s.fillTint,y=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);x.TL=y,x.TR=y,x.BL=y,x.BR=y;var T=i.geom.x1-d,E=i.geom.y1-c,A=i.geom.x2-d,P=i.geom.y2-c,w=i.geom.x3-d,I=i.geom.y3-c;s.batchFillTriangle(T,E,A,P,w,I,u.sprite,u.camera)}i.isStroked&&g(s,i,v,d,c),r.pipelines.postBatch(i)};f.exports=a},68287:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(83419),o=t(31401),a=t(95643),r=t(92751),i=new g({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,r],initialize:function(l,s,u,d,c){a.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(d,c),this.setPosition(s,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});f.exports=i},76552:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g.addToRenderList(h),t.batchSprite(h,h.frame,g,o)};f.exports=S},15567:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(13059),o=t(44603),a=t(23568),r=t(68287);o.register("sprite",function(i,n){i===void 0&&(i={});var l=a(i,"key",null),s=a(i,"frame",null),u=new r(this.scene,0,0,l,s);return n!==void 0&&(i.add=n),h(this.scene,u,i),g(u,i),u})},46409:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(68287);h.register("sprite",function(o,a,r,i){return this.displayList.add(new g(this.scene,o,a,r,i))})},92751:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(9409),o=t(76552),f.exports={renderWebGL:g,renderCanvas:o}},9409:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g.addToRenderList(h),h.pipeline.batchSprite(h,g,o)};f.exports=S},14220:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=t.canvas,a=t.context,r=t.style,i=[],n=0,l=g.length;r.maxLines>0&&r.maxLines<g.length&&(l=r.maxLines),r.syncFont(o,a);for(var s=t.letterSpacing,u=0;u<l;u++){var d=r.strokeThickness;if(s===0)d+=a.measureText(g[u]).width;else{for(var c=g[u],v=0;v<c.length;v++)d+=a.measureText(c[v]).width;c.length>1&&(d+=s*(c.length-1))}r.wordWrap&&(d-=a.measureText(" ").width),i[u]=Math.ceil(d),n=Math.max(n,i[u])}var x=h.fontSize+r.strokeThickness,y=x*l,T=t.lineSpacing;return l>1&&(y+=T*(l-1)),{width:n,height:y,lines:l,lineWidths:i,lineSpacing:T,lineHeight:x}};f.exports=S},79557:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=function(o){var a=h.create(this),r=a.getContext("2d",{willReadFrequently:!0});o.syncFont(a,r);var i=r.measureText(o.testString);if("actualBoundingBoxAscent"in i){var n=i.actualBoundingBoxAscent,l=i.actualBoundingBoxDescent;return h.remove(a),{ascent:n,descent:l,fontSize:n+l}}var s=Math.ceil(i.width*o.baselineX),u=s,d=2*u;u=u*o.baselineY|0,a.width=s,a.height=d,r.fillStyle="#f00",r.fillRect(0,0,s,d),r.font=o._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o.testString,0,u);var c={ascent:0,descent:0,fontSize:0},v=r.getImageData(0,0,s,d);if(!v)return c.ascent=u,c.descent=u+6,c.fontSize=c.ascent+c.descent,h.remove(a),c;var x=v.data,y=x.length,T=s*4,E,A,P=0,w=!1;for(E=0;E<u;E++){for(A=0;A<T;A+=4)if(x[P+A]!==255){w=!0;break}if(!w)P+=T;else break}for(c.ascent=u-E,P=y-T,w=!1,E=d;E>u;E--){for(A=0;A<T;A+=4)if(x[P+A]!==255){w=!0;break}if(!w)P-=T;else break}return c.descent=E-u,c.fontSize=c.ascent+c.descent,h.remove(a),c};f.exports=g},50171:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),g=t(27919),o=t(83419),a=t(31401),r=t(95643),i=t(14220),n=t(35154),l=t(35846),s=t(61771),u=t(35762),d=t(45650),c=new o({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(x,y,T,E,A){y===void 0&&(y=0),T===void 0&&(T=0),r.call(this,x,"Text"),this.renderer=x.sys.renderer,this.setPosition(y,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=g.create(this),this.context,this.style=new u(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=d(),this.texture=x.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing),A&&A.letterSpacing&&this.setLetterSpacing(A.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var x=this.style;if(x.wordWrapCallback){var y=x.wordWrapCallback.call(x.wordWrapCallbackScope,v,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return x.wordWrapWidth?x.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,x,y){for(var T="",E=v.replace(/ +/gi," ").split(this.splitRegExp),A=E.length,P=0;P<A;P++){var w=E[P],I="";w=w.replace(/^ *|\s*$/gi,"");var O=w.length*this.letterSpacing,F=x.measureText(w).width+O;if(F<y){T+=w+`
`;continue}for(var L=y,D=w.split(" "),b=0;b<D.length;b++){var U=D[b],W=U+" ",H=W.length*this.letterSpacing,Y=x.measureText(W).width+H;if(console.log(D.length,U),Y>L){if(b===0){for(var G=W;G.length;){G=G.slice(0,-1);var X=G.length*this.letterSpacing;if(Y=x.measureText(G).width+X,Y<=L)break}if(!G.length)throw new Error("wordWrapWidth < a single character");var V=U.substr(G.length);D[b]=V,I+=G}var B=D[b].length?b:b+1,z=D.slice(B).join(" ").replace(/[ \n]*$/gi,"");E.splice(P+1,0,z),A=E.length;break}else I+=W,L-=Y}T+=I.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(v,x,y){for(var T="",E=v.split(this.splitRegExp),A=E.length-1,P=x.measureText(" ").width,w=0;w<=A;w++){for(var I=y,O=E[w].split(" "),F=O.length-1,L=0;L<=F;L++){var D=O[L],b=D.length*this.letterSpacing,U=x.measureText(D).width+b,W=U;L<F&&(W+=P),W>I&&L>0&&(T+=`
`,I=y),T+=D,L<F?(T+=" ",I-=W):I-=U}w<A&&(T+=`
`)}return T},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var x=this.runWordWrap(v);return x.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,x){x===void 0&&(x=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var y=this._text.concat(x?`
`+v:v);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,x){return this.style.setFixedSize(v,x)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,x){return this.style.setStroke(v,x)},setShadow:function(v,x,y,T,E,A){return this.style.setShadow(v,x,y,T,E,A)},setShadowOffset:function(v,x){return this.style.setShadowOffset(v,x)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,x){return this.style.setWordWrapWidth(v,x)},setWordWrapCallback:function(v,x){return this.style.setWordWrapCallback(v,x)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,x,y,T){if(typeof v=="object"){var E=v,A=n(E,"x",null);A!==null?(v=A,y=A):(v=n(E,"left",0),y=n(E,"right",v));var P=n(E,"y",null);P!==null?(x=P,T=P):(x=n(E,"top",0),T=n(E,"bottom",x))}else v===void 0&&(v=0),x===void 0&&(x=v),y===void 0&&(y=v),T===void 0&&(T=x);return this.padding.left=v,this.padding.top=x,this.padding.right=y,this.padding.bottom=T,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var x=this.style;return x.rtl===v?this:(x.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),x.align==="left"?x.align="right":x.align==="right"&&(x.align="left"),this)},updateText:function(){var v=this.canvas,x=this.context,y=this.style,T=y.resolution,E=y.metrics;y.syncFont(v,x);var A=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(A=this.runWordWrap(this._text));var P=A.split(this.splitRegExp),w=i(this,E,P),I=this.padding,O;y.fixedWidth===0?(this.width=w.width+I.left+I.right,O=w.width):(this.width=y.fixedWidth,O=this.width-I.left-I.right,O<w.width&&(O=w.width)),y.fixedHeight===0?this.height=w.height+I.top+I.bottom:this.height=y.fixedHeight;var F=this.width,L=this.height;this.updateDisplayOrigin(),F*=T,L*=T,F=Math.max(F,1),L=Math.max(L,1),v.width!==F||v.height!==L?(v.width=F,v.height=L,this.frame.setSize(F,L),y.syncFont(v,x),y.rtl&&(x.direction="rtl")):x.clearRect(0,0,F,L),x.save(),x.scale(T,T),y.backgroundColor&&(x.fillStyle=y.backgroundColor,x.fillRect(0,0,F,L)),y.syncStyle(v,x),x.translate(I.left,I.top);for(var D,b,U=0;U<w.lines;U++){if(D=y.strokeThickness/2,b=y.strokeThickness/2+U*w.lineHeight+E.ascent,U>0&&(b+=w.lineSpacing*U),y.rtl)D=F-D-I.left-I.right;else if(y.align==="right")D+=O-w.lineWidths[U];else if(y.align==="center")D+=(O-w.lineWidths[U])/2;else if(y.align==="justify"){var W=.85;if(w.lineWidths[U]/w.width>=W){var H=w.width-w.lineWidths[U],Y=x.measureText(" ").width,G=P[U].trim(),X=G.split(" ");H+=(P[U].length-G.length)*Y;for(var V=Math.floor(H/Y),B=0;V>0;)X[B]+=" ",B=(B+1)%(X.length-1||1),--V;P[U]=X.join(" ")}}this.autoRound&&(D=Math.round(D),b=Math.round(b));var z=this.letterSpacing;if(y.strokeThickness&&z===0&&(y.syncShadow(x,y.shadowStroke),x.strokeText(P[U],D,b)),y.color)if(y.syncShadow(x,y.shadowFill),z!==0)for(var $=0,j=P[U].split(""),k=0;k<j.length;k++)y.strokeThickness&&(y.syncShadow(x,y.shadowStroke),x.strokeText(j[k],D+$,b),y.syncShadow(x,y.shadowFill)),x.fillText(j[k],D+$,b),$+=x.measureText(j[k]).width+z;else x.fillText(P[U],D,b)}x.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var q=this.input;return q&&!q.customHitArea&&(q.hitArea.width=this.width,q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=a.ToJSON(this),x={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=x,v},preDestroy:function(){l(this.canvas),g.remove(this.canvas);var v=this.texture;v&&v.destroy()}});f.exports=c},79724:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){h.width===0||h.height===0||(g.addToRenderList(h),t.batchSprite(h,h.frame,g,o))};f.exports=S},71259:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(50171);g.register("text",function(r,i){r===void 0&&(r={});var n=o(r,"text",""),l=o(r,"style",null),s=o(r,"padding",null);s!==null&&(l.padding=s);var u=new a(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),h(this.scene,u,r),u.autoRound=o(r,"autoRound",!0),u.resolution=o(r,"resolution",1),u})},68005:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50171),g=t(39429);g.register("text",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},61771:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(34397),o=t(79724),f.exports={renderWebGL:g,renderCanvas:o}},35762:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23568),o=t(35154),a=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new h({initialize:function(l,s){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(n,l,s){l===void 0&&(l=!0),s===void 0&&(s=!1);for(var u in r){var d=s?r[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=o(n,r[u][0],d):n&&u==="fontSize"&&typeof n.fontSize=="number"?this[u]=n.fontSize.toString()+"px":this[u]=g(n,r[u][0],d)}var c=o(n,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=o(n,"fill",null);v!==null&&(this.color=v);var x=o(n,"metrics",!1);return x?this.metrics={ascent:o(x,"ascent",0),descent:o(x,"descent",0),fontSize:o(x,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=a(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var s=n,u="",d="";if(typeof n!="string")s=o(n,"fontFamily","Courier"),u=o(n,"fontSize","16px"),d=o(n,"fontStyle","");else{var c=n.split(" "),v=0;d=c.length>2?c[v++]:"",u=c[v++]||"16px",s=c[v++]||"Courier"}return(s!==this.fontFamily||u!==this.fontSize||d!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=u,this.fontStyle=d,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,s,u,d,c){return n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s="#000"),u===void 0&&(u=0),d===void 0&&(d=!1),c===void 0&&(c=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=s,this.shadowBlur=u,this.shadowStroke=d,this.shadowFill=c,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});f.exports=i},34397:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r,i){if(!(a.width===0||a.height===0)){r.addToRenderList(a);var n=a.frame,l=n.width,s=n.height,u=h.getTintAppendFloatAlpha,d=o.pipelines.set(a.pipeline,a),c=d.setTexture2D(n.glTexture,a);d.batchTexture(a,n.glTexture,l,s,a.x,a.y,l/a.style.resolution,s/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,l,s,u(a.tintTopLeft,r.alpha*a._alphaTL),u(a.tintTopRight,r.alpha*a._alphaTR),u(a.tintBottomLeft,r.alpha*a._alphaBL),u(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,0,0,r,i,!1,c)}};f.exports=g},20839:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(83419),o=t(31401),a=t(95643),r=t(98439),i=t(68703),n=t(56295),l=t(45650),s=t(26099),u=8,d=new g({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(v,x,y,T,E,A,P){var w=v.sys.renderer;a.call(this,v,"TileSprite");var I=v.sys.textures.get(A),O=I.get(P);O.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),I=v.sys.textures.get("__MISSING"),O=I.get()),I.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),I=v.sys.textures.get("__MISSING"),O=I.get()),!T||!E?(T=T||O.width,E=E||O.height):(T=Math.floor(T),E=Math.floor(E)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=w,this.canvas=h.create(this,T,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=I,this.displayFrame=O,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(O.width),this.potHeight=r(O.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(x,y),this.setSize(T,E),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(c,v){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(v)},setFrame:function(c){var v=this.displayTexture.get(c);return this.potWidth=r(v.width),this.potHeight=r(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=-9:this.renderFlags|=u,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,v){return c!==void 0&&(this.tilePositionX=c),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(c,v){return c===void 0&&(c=this.tileScaleX),v===void 0&&(v=c),this.tileScaleX=c,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,x=this.fillCanvas,y=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=c.cutWidth,T=c.cutHeight),v.clearRect(0,0,y,T),x.width=y,x.height=T,v.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,y,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(x,this.fillPattern):this.fillPattern=v.createPattern(x,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||i.disable(v);var x=this._tileScale.x,y=this._tileScale.y,T=this._tilePosition.x,E=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(x,y),v.translate(-T,-E),v.fillStyle=this.fillPattern,v.fillRect(T,E,this.width/x,this.height/y),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var c=this.texture;c&&c.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});f.exports=d},46992:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){h.updateCanvas(),g.addToRenderList(h),t.batchSprite(h,h.frame,g,o)};f.exports=S},14167:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(20839);g.register("tileSprite",function(r,i){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),s=o(r,"width",512),u=o(r,"height",512),d=o(r,"key",""),c=o(r,"frame",""),v=new a(this.scene,n,l,s,u,d,c);return i!==void 0&&(r.add=i),h(this.scene,v,r),v})},91681:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20839),g=t(39429);g.register("tileSprite",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},56295:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(18553),o=t(46992),f.exports={renderWebGL:g,renderCanvas:o}},18553:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r,i){a.updateCanvas();var n=a.width,l=a.height;if(!(n===0||l===0)){r.addToRenderList(a);var s=h.getTintAppendFloatAlpha,u=o.pipelines.set(a.pipeline,a),d=u.setTexture2D(a.fillPattern,a);u.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,n,l,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*n,a.originY*l,0,0,n,l,s(a.tintTopLeft,r.alpha*a._alphaTL),s(a.tintTopRight,r.alpha*a._alphaTR),s(a.tintBottomLeft,r.alpha*a._alphaBL),s(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,r,i,!1,d)}};f.exports=g},18471:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(31401),a=t(51708),r=t(8443),i=t(95643),n=t(36383),l=t(14463),s=t(45650),u=t(10247),d=new g({Extends:i,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,u],initialize:function(v,x,y,T){i.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var E=v.sys.game;this._device=E.device.video,this.setPosition(x,y),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(r.PAUSE,this.globalPause,this),E.events.on(r.RESUME,this.globalResume,this);var A=v.sys.sound;A&&A.on(l.GLOBAL_MUTE,this.globalMute,this),T&&this.load(T)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var v=this.scene.sys.cache.video.get(c);return v?(this.cacheKey=c,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,v,x,y,T){v===void 0&&(v=!0),x===void 0&&(x=!1),this.cacheKey!==c&&(this.load(c),v&&this.play(x,y,T))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,v,x){v===void 0&&(v=!1);var y=this._device.getVideoURL(c);return y?(this.cacheKey="",this.loadHandler(y.url,v,x)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,v,x){return this.loadHandler(null,v,x,c)},loadHandler:function(c,v,x,y){v||(v=!1);var T=this.video;if(T?(this.removeLoadEventHandlers(),this.stop()):(T=document.createElement("video"),T.controls=!1,T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.setAttribute("disablePictureInPicture","true")),v?(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")):(T.muted=!1,T.defaultMuted=!1,T.removeAttribute("autoplay")),x?T.setAttribute("crossorigin",x):T.removeAttribute("crossorigin"),y)if("srcObject"in T)try{T.srcObject=y}catch(A){if(A.name!=="TypeError")throw A;T.src=URL.createObjectURL(y)}else T.src=URL.createObjectURL(y);else T.src=c;this.retry=0,this.video=T,this._playCalled=!1,T.load(),this.addLoadEventHandlers();var E=this.scene.sys.textures.get(this._key);return this.setTexture(E),this},requestVideoFrame:function(c,v){var x=this.video;if(x){var y=v.width,T=v.height,E=this.videoTexture,A=this.videoTextureSource,P=!E||A.source!==x;P?(this._codePaused=x.paused,this._codeMuted=x.muted,E?(A.source=x,A.width=y,A.height=T,E.get().setSize(y,T)):(E=this.scene.sys.textures.create(this._key,x,y,T),E.add("__BASE",0,0,0,y,T),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=v;var w=v.mediaTime;P&&(this._lastUpdate=w,this.emit(a.VIDEO_CREATED,this,y,T),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(x.loop?(x.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=w,this._getFrame?(this.removeEventHandlers(),x.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,v,x){v===void 0&&(v=-1),x===void 0&&(x=n.MAX_SAFE_INTEGER);var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(c===void 0&&(c=y.loop),y.loop=c,this._markerIn=v,this._markerOut=x,this._playingMarker=v>-1&&x>v&&x<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var c=this.video;return!c||this.isPlaying()?(c||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=c.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler),c.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var v=this._callbacks;for(var x in v)c.addEventListener(x,v[x])}},removeEventHandlers:function(){var c=this.video;if(c){var v=this._callbacks;for(var x in v)c.removeEventListener(x,v[x])}},createPlayPromise:function(c){c===void 0&&(c=!0);var v=this.video,x=v.play();if(x!==void 0){var y=this.playSuccess.bind(this),T=this.playError.bind(this);if(!c){var E=this;T=function(){E.failedPlayAttempts++}}x.then(y).catch(T)}else v.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,v,x){return!isNaN(v)&&v>=0&&!isNaN(x)&&x>v&&(this.markers[c]=[v,x]),this},playMarker:function(c,v){var x=this.markers[c];return x&&this.play(v,x[0],x[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,v){return c===void 0&&(c=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,c,v)},snapshotArea:function(c,v,x,y,T,E){c===void 0&&(c=0),v===void 0&&(v=0),x===void 0&&(x=this.width),y===void 0&&(y=this.height),T===void 0&&(T=x),E===void 0&&(E=y);var A=this.video,P=this.snapshotTexture;return P?(P.setSize(T,E),A&&P.context.drawImage(A,c,v,x,y,0,0,T,E)):(P=this.scene.sys.textures.createCanvas(s(),T,E),this.snapshotTexture=P,A&&P.context.drawImage(A,c,v,x,y,0,0,T,E)),P.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var v=c.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(a.VIDEO_ERROR,this,c)},metadataHandler:function(c){this.emit(a.VIDEO_METADATA,this,c)},setSizeToFrame:function(c){c||(c=this.frame),this.width=c.realWidth,this.height=c.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(c){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(c,v){var x=this.video;!x||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var v=this.video;if(v){var x=v.duration;if(x!==1/0&&!isNaN(x)){var y=x*c;this.setCurrentTime(y)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var v=this.video;if(v){if(typeof c=="string"){var x=c[0],y=parseFloat(c.substr(1));x==="+"?c=v.currentTime+y:x==="-"&&(c=v.currentTime-y)}v.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var v=c.duration;if(v!==1/0&&!isNaN(v))return c.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var v=this.video;return v&&(v.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,v){this._systemMuted=v;var x=this.video;x&&(x.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var v=this.video;return this._codePaused=c,v&&!v.ended&&(c?v.paused||(this.removeEventHandlers(),v.pause()):c||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=h(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(v)),this._key=c,this.flipY=v,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(r.PAUSE,this.globalPause,this),c.off(r.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(l.GLOBAL_MUTE,this.globalMute,this)}});f.exports=d},58352:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){h.videoTexture&&(g.addToRenderList(h),t.batchSprite(h,h.frame,g,o))};f.exports=S},11511:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),g=t(44603),o=t(23568),a=t(18471);g.register("video",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=new a(this.scene,0,0,n);return i!==void 0&&(r.add=i),h(this.scene,l,r),l})},89025:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18471),g=t(39429);g.register("video",function(o,a,r){return this.displayList.add(new h(this.scene,o,a,r))})},10247:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(29849),o=t(58352),f.exports={renderWebGL:g,renderCanvas:o}},29849:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){h.videoTexture&&(g.addToRenderList(h),h.pipeline.batchSprite(h,g,o))};f.exports=S},41481:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(96503),o=t(87902),a=t(83419),r=t(31401),i=t(95643),n=t(87841),l=t(37303),s=new a({Extends:i,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(d,c,v,x,y){x===void 0&&(x=1),y===void 0&&(y=x),i.call(this,d,"Zone"),this.setPosition(c,v),this.width=x,this.height=y,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,d,c){c===void 0&&(c=!0),this.width=u,this.height=d,this.updateDisplayOrigin();var v=this.input;return c&&v&&!v.customHitArea&&(v.hitArea.width=u,v.hitArea.height=d),this},setDisplaySize:function(u,d){return this.displayWidth=u,this.displayHeight=d,this},setCircleDropZone:function(u){return this.setDropZone(new g(0,0,u),o)},setRectangleDropZone:function(u,d){return this.setDropZone(new n(0,0,u,d),l)},setDropZone:function(u,d){return this.input||this.setInteractive(u,d,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,d,c){c.addToRenderList(d)},renderWebGL:function(u,d,c){c.addToRenderList(d)}});f.exports=s},95261:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),g=t(23568),o=t(41481);h.register("zone",function(a){var r=g(a,"x",0),i=g(a,"y",0),n=g(a,"width",1),l=g(a,"height",n);return new o(this.scene,r,i,n,l)})},84175:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41481),g=t(39429);g.register("zone",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},95166:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};f.exports=S},96503:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(87902),o=t(26241),a=t(79124),r=t(23777),i=t(28176),n=new h({initialize:function(s,u,d){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=r.CIRCLE,this.x=s,this.y=u,this._radius=d,this._diameter=d*2},contains:function(l,s){return g(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u){return this.x=l,this.y=s,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});f.exports=n},71562:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};f.exports=S},92110:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){return r===void 0&&(r=new h),r.x=o.x+o.radius*Math.cos(a),r.y=o.y+o.radius*Math.sin(a),r};f.exports=g},42250:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),g=function(o){return new h(o.x,o.y,o.radius)};f.exports=g},87902:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(t.radius>0&&h>=t.left&&h<=t.right&&g>=t.top&&g<=t.bottom){var o=(t.x-h)*(t.x-h),a=(t.y-g)*(t.y-g);return o+a<=t.radius*t.radius}else return!1};f.exports=S},5698:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},70588:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),g=function(o,a){return h(o,a.x,a.y)&&h(o,a.right,a.y)&&h(o,a.x,a.bottom)&&h(o,a.right,a.bottom)};f.exports=g},26394:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.radius)};f.exports=S},76278:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};f.exports=S},2074:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a){return a===void 0&&(a=new h),a.x=o.left,a.y=o.top,a.width=o.diameter,a.height=o.diameter,a};f.exports=g},26241:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92110),g=t(62945),o=t(36383),a=t(2141),r=function(i,n,l){l===void 0&&(l=new a);var s=g(n,0,o.PI2);return h(i,s,l)};f.exports=r},79124:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71562),g=t(92110),o=t(62945),a=t(36383),r=function(i,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(i)/l);for(var u=0;u<n;u++){var d=o(u/n,0,a.PI2);s.push(g(i,d))}return s};f.exports=r},50884:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t.x+=h,t.y+=g,t};f.exports=S},39212:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};f.exports=S},28176:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){a===void 0&&(a=new h);var r=2*Math.PI*Math.random(),i=Math.random()+Math.random(),n=i>1?2-i:i,l=n*Math.cos(r),s=n*Math.sin(r);return a.x=o.x+l*o.radius,a.y=o.y+s*o.radius,a};f.exports=g},88911:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503);h.Area=t(95166),h.Circumference=t(71562),h.CircumferencePoint=t(92110),h.Clone=t(42250),h.Contains=t(87902),h.ContainsPoint=t(5698),h.ContainsRect=t(70588),h.CopyFrom=t(26394),h.Equals=t(76278),h.GetBounds=t(2074),h.GetPoint=t(26241),h.GetPoints=t(79124),h.Offset=t(50884),h.OffsetPoint=t(39212),h.Random=t(28176),f.exports=h},23777:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};f.exports=S},78874:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};f.exports=S},92990:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.width/2,g=t.height/2,o=Math.pow(h-g,2)/Math.pow(h+g,2);return Math.PI*(h+g)*(1+3*o/(10+Math.sqrt(4-3*o)))};f.exports=S},79522:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){r===void 0&&(r=new h);var i=o.width/2,n=o.height/2;return r.x=o.x+i*Math.cos(a),r.y=o.y+n*Math.sin(a),r};f.exports=g},58102:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497),g=function(o){return new h(o.x,o.y,o.width,o.height)};f.exports=g},81154:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(t.width<=0||t.height<=0)return!1;var o=(h-t.x)/t.width,a=(g-t.y)/t.height;return o*=o,a*=a,o+a<.25};f.exports=S},46662:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},1632:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),g=function(o,a){return h(o,a.x,a.y)&&h(o,a.right,a.y)&&h(o,a.x,a.bottom)&&h(o,a.right,a.bottom)};f.exports=g},65534:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};f.exports=S},8497:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(81154),o=t(90549),a=t(48320),r=t(23777),i=t(24820),n=new h({initialize:function(s,u,d,c){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=r.ELLIPSE,this.x=s,this.y=u,this.width=d,this.height=c},contains:function(l,s){return g(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u,d){return this.x=l,this.y=s,this.width=u,this.height=d,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},setSize:function(l,s){return s===void 0&&(s=l),this.width=l,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});f.exports=n},36146:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};f.exports=S},23694:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a){return a===void 0&&(a=new h),a.x=o.left,a.y=o.top,a.width=o.width,a.height=o.height,a};f.exports=g},90549:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79522),g=t(62945),o=t(36383),a=t(2141),r=function(i,n,l){l===void 0&&(l=new a);var s=g(n,0,o.PI2);return h(i,s,l)};f.exports=r},48320:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92990),g=t(79522),o=t(62945),a=t(36383),r=function(i,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(i)/l);for(var u=0;u<n;u++){var d=o(u/n,0,a.PI2);s.push(g(i,d))}return s};f.exports=r},73424:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t.x+=h,t.y+=g,t};f.exports=S},44808:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};f.exports=S},24820:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){a===void 0&&(a=new h);var r=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=o.x+i*Math.cos(r)*o.width/2,a.y=o.y+i*Math.sin(r)*o.height/2,a};f.exports=g},49203:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497);h.Area=t(78874),h.Circumference=t(92990),h.CircumferencePoint=t(79522),h.Clone=t(58102),h.Contains=t(81154),h.ContainsPoint=t(46662),h.ContainsRect=t(1632),h.CopyFrom=t(65534),h.Equals=t(36146),h.GetBounds=t(23694),h.GetPoint=t(90549),h.GetPoints=t(48320),h.Offset=t(73424),h.OffsetPoint=t(44808),h.Random=t(24820),f.exports=h},55738:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23777),g=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=g(!1,o,h),f.exports=o},2044:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20339),g=function(o,a){return h(o.x,o.y,a.x,a.y)<=o.radius+a.radius};f.exports=g},81491:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=h.width/2,o=h.height/2,a=Math.abs(t.x-h.x-g),r=Math.abs(t.y-h.y-o),i=g+t.radius,n=o+t.radius;if(a>i||r>n)return!1;if(a<=g||r<=o)return!0;var l=a-g,s=r-o,u=l*l,d=s*s,c=t.radius*t.radius;return u+d<=c};f.exports=S},63376:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(2044),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=a.x,l=a.y,s=a.radius,u=r.x,d=r.y,c=r.radius,v,x,y,T,E;if(l===d)E=(c*c-s*s-u*u+n*n)/(2*(n-u)),v=1,x=-2*d,y=u*u+E*E-2*u*E+d*d-c*c,T=x*x-4*v*y,T===0?i.push(new h(E,-x/(2*v))):T>0&&(i.push(new h(E,(-x+Math.sqrt(T))/(2*v))),i.push(new h(E,(-x-Math.sqrt(T))/(2*v))));else{var A=(n-u)/(l-d),P=(c*c-s*s-u*u+n*n-d*d+l*l)/(2*(l-d));v=A*A+1,x=2*l*A-2*P*A-2*n,y=n*n+l*l+P*P-s*s-2*l*P,T=x*x-4*v*y,T===0?(E=-x/(2*v),i.push(new h(E,P-E*A))):T>0&&(E=(-x+Math.sqrt(T))/(2*v),i.push(new h(E,P-E*A)),E=(-x-Math.sqrt(T))/(2*v),i.push(new h(E,P-E*A)))}}return i};f.exports=o},97439:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),g=t(81491),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=r.getLineD();h(n,a,i),h(l,a,i),h(s,a,i),h(u,a,i)}return i};f.exports=o},4042:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(80462),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=a.x1,l=a.y1,s=a.x2,u=a.y2,d=r.x,c=r.y,v=r.radius,x=s-n,y=u-l,T=n-d,E=l-c,A=x*x+y*y,P=2*(x*T+y*E),w=T*T+E*E-v*v,I=P*P-4*A*w,O,F;if(I===0){var L=-P/(2*A);O=n+L*x,F=l+L*y,L>=0&&L<=1&&i.push(new h(O,F))}else if(I>0){var D=(-P-Math.sqrt(I))/(2*A);O=n+D*x,F=l+D*y,D>=0&&D<=1&&i.push(new h(O,F));var b=(-P+Math.sqrt(I))/(2*A);O=n+b*x,F=l+b*y,b>=0&&b<=1&&i.push(new h(O,F))}}return i};f.exports=o},36100:(f,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),g=function(o,a,r,i){r===void 0&&(r=!1);var n=o.x1,l=o.y1,s=o.x2,u=o.y2,d=a.x1,c=a.y1,v=a.x2,x=a.y2,y=s-n,T=u-l,E=v-d,A=x-c,P=y*A-T*E;if(P===0)return null;var w,I,O;if(r){if(w=(y*(c-l)+T*(n-d))/(E*T-A*y),y!==0)I=(d+E*w-n)/y;else if(T!==0)I=(c+A*w-l)/T;else return null;if(I<0||w<0||w>1)return null;O=I}else{if(w=((d-n)*A-(c-l)*E)/P,I=((l-c)*y-(n-d)*T)/P,w<0||w>1||I<0||I>1)return null;O=w}return i===void 0&&(i=new h),i.set(n+y*O,l+T*O,O)};f.exports=g},3073:(f,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36100),g=t(23031),o=t(25836),a=new g,r=new o,i=function(n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=new o);var d=!1;u.set(),r.set();for(var c=l[l.length-1],v=0;v<l.length;v++){var x=l[v];a.setTo(c.x,c.y,x.x,x.y),c=x,h(n,a,s,r)&&(!d||r.z<u.z)&&(u.copy(r),d=!0)}return d?u:null};f.exports=i},56362:(f,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),g=t(61369),o=t(3073),a=new h,r=function(i,n,l,s){s===void 0&&(s=new g),Array.isArray(n)||(n=[n]);var u=!1;s.set(),a.set();for(var d=0;d<n.length;d++)o(i,n[d].points,l,a)&&(!u||a.z<s.z)&&(s.set(a.x,a.y,a.z,d),u=!0);return u?s:null};f.exports=r},60646:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(76112),o=t(92773),a=function(r,i,n){if(n===void 0&&(n=[]),o(r,i))for(var l=i.getLineA(),s=i.getLineB(),u=i.getLineC(),d=i.getLineD(),c=[new h,new h,new h,new h],v=[g(l,r,c[0]),g(s,r,c[1]),g(u,r,c[2]),g(d,r,c[3])],x=0;x<4;x++)v[x]&&n.push(c[x]);return n};f.exports=a},71147:(f,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61369),g=t(56362),o=t(23031),a=new o;function r(l,s,u,d,c){var v=Math.cos(l),x=Math.sin(l);a.setTo(s,u,s+v,u+x);var y=g(a,d,!0);y&&c.push(new h(y.x,y.y,l,y.w))}function i(l,s){return l.z-s.z}var n=function(l,s,u){Array.isArray(u)||(u=[u]);for(var d=[],c=[],v=0;v<u.length;v++)for(var x=u[v].points,y=0;y<x.length;y++){var T=Math.atan2(x[y].y-s,x[y].x-l);c.indexOf(T)===-1&&(r(T,l,s,u,d),r(T-1e-5,l,s,u,d),r(T+1e-5,l,s,u,d),c.push(T))}return d.sort(i)};f.exports=n},68389:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(59996),o=function(a,r,i){return i===void 0&&(i=new h),g(a,r)&&(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y),i};f.exports=o},52784:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60646),g=t(59996),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC(),u=a.getLineD();h(n,r,i),h(l,r,i),h(s,r,i),h(u,r,i)}return i};f.exports=o},26341:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89265),g=t(60646),o=function(a,r,i){if(i===void 0&&(i=[]),h(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();g(n,a,i),g(l,a,i),g(s,a,i)}return i};f.exports=o},38720:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),g=t(67636),o=function(a,r,i){if(i===void 0&&(i=[]),g(a,r)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();h(n,r,i),h(l,r,i),h(s,r,i)}return i};f.exports=o},13882:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(2822),o=t(76112),a=function(r,i,n){if(n===void 0&&(n=[]),g(r,i))for(var l=r.getLineA(),s=r.getLineB(),u=r.getLineC(),d=[new h,new h,new h],c=[o(l,i,d[0]),o(s,i,d[1]),o(u,i,d[2])],v=0;v<3;v++)c[v]&&n.push(d[v]);return n};f.exports=a},75636:(f,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82944),g=t(13882),o=function(a,r,i){if(i===void 0&&(i=[]),h(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();g(a,n,i),g(a,l,i),g(a,s,i)}return i};f.exports=o},80462:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),g=t(2141),o=new g,a=function(r,i,n){if(n===void 0&&(n=o),h(i,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(h(i,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,s=r.y2-r.y1,u=i.x-r.x1,d=i.y-r.y1,c=l*l+s*s,v=l,x=s;if(c>0){var y=(u*l+d*s)/c;v*=y,x*=y}n.x=r.x1+v,n.y=r.y1+x;var T=v*v+x*x;return T<=c&&v*l+x*s>=0&&h(i,n.x,n.y)};f.exports=a},76112:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=t.x1,a=t.y1,r=t.x2,i=t.y2,n=h.x1,l=h.y1,s=h.x2,u=h.y2;if(o===r&&a===i||n===s&&l===u)return!1;var d=(u-l)*(r-o)-(s-n)*(i-a);if(d===0)return!1;var c=((s-n)*(a-l)-(u-l)*(o-n))/d,v=((r-o)*(a-l)-(i-a)*(o-n))/d;return c<0||c>1||v<0||v>1?!1:(g&&(g.x=o+c*(r-o),g.y=a+c*(i-a)),!0)};f.exports=S},92773:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.x1,o=t.y1,a=t.x2,r=t.y2,i=h.x,n=h.y,l=h.right,s=h.bottom,u=0;if(g>=i&&g<=l&&o>=n&&o<=s||a>=i&&a<=l&&r>=n&&r<=s)return!0;if(g<i&&a>=i){if(u=o+(r-o)*(i-g)/(a-g),u>n&&u<=s)return!0}else if(g>l&&a<=l&&(u=o+(r-o)*(l-g)/(a-g),u>=n&&u<=s))return!0;if(o<n&&r>=n){if(u=g+(a-g)*(n-o)/(r-o),u>=i&&u<=l)return!0}else if(o>s&&r<=s&&(u=g+(a-g)*(s-o)/(r-o),u>=i&&u<=l))return!0;return!1};f.exports=S},16204:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){g===void 0&&(g=1);var o=h.x1,a=h.y1,r=h.x2,i=h.y2,n=t.x,l=t.y,s=(r-o)*(r-o)+(i-a)*(i-a);if(s===0)return!1;var u=((n-o)*(r-o)+(l-a)*(i-a))/s;if(u<0)return Math.sqrt((o-n)*(o-n)+(a-l)*(a-l))<=g;if(u>=0&&u<=1){var d=((a-l)*(r-o)-(o-n)*(i-a))/s;return Math.abs(d)*Math.sqrt(s)<=g}else return Math.sqrt((r-n)*(r-n)+(i-l)*(i-l))<=g};f.exports=S},14199:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16204),g=function(o,a){if(!h(o,a))return!1;var r=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),n=Math.min(a.y1,a.y2),l=Math.max(a.y1,a.y2);return o.x>=r&&o.x<=i&&o.y>=n&&o.y<=l};f.exports=g},59996:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};f.exports=S},89265:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),g=t(37303),o=t(48653),a=t(77493),r=function(i,n){if(n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top)return!1;var l=n.getLineA(),s=n.getLineB(),u=n.getLineC();if(g(i,l.x1,l.y1)||g(i,l.x2,l.y2)||g(i,s.x1,s.y1)||g(i,s.x2,s.y2)||g(i,u.x1,u.y1)||g(i,u.x2,u.y2))return!0;var d=i.getLineA(),c=i.getLineB(),v=i.getLineC(),x=i.getLineD();if(h(l,d)||h(l,c)||h(l,v)||h(l,x)||h(s,d)||h(s,c)||h(s,v)||h(s,x)||h(u,d)||h(u,c)||h(u,v)||h(u,x))return!0;var y=a(i),T=o(n,y,!0);return T.length>0};f.exports=r},84411:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a,r){return r===void 0&&(r=0),!(h>t.right+r||g<t.left-r||o>t.bottom+r||a<t.top-r)};f.exports=S},67636:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80462),g=t(10690),o=function(a,r){return a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top?!1:!!(g(a,r.x,r.y)||h(a.getLineA(),r)||h(a.getLineB(),r)||h(a.getLineC(),r))};f.exports=o},2822:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),g=function(o,a){return!!(o.contains(a.x1,a.y1)||o.contains(a.x2,a.y2)||h(o.getLineA(),a)||h(o.getLineB(),a)||h(o.getLineC(),a))};f.exports=g},82944:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48653),g=t(71694),o=t(76112),a=function(r,i){if(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)return!1;var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=i.getLineA(),d=i.getLineB(),c=i.getLineC();if(o(n,u)||o(n,d)||o(n,c)||o(l,u)||o(l,d)||o(l,c)||o(s,u)||o(s,d)||o(s,c))return!0;var v=g(r),x=h(i,v,!0);return x.length>0||(v=g(i),x=h(r,v,!0),x.length>0)};f.exports=a},91865:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};f.exports=S},84993:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){h===void 0&&(h=1),g===void 0&&(g=[]);var o=Math.round(t.x1),a=Math.round(t.y1),r=Math.round(t.x2),i=Math.round(t.y2),n=Math.abs(r-o),l=Math.abs(i-a),s=o<r?1:-1,u=a<i?1:-1,d=n-l;g.push({x:o,y:a});for(var c=1;!(o===r&&a===i);){var v=d<<1;v>-l&&(d-=l,o+=s),v<n&&(d+=n,a+=u),c%h===0&&g.push({x:o,y:a}),c++}return g};f.exports=S},36469:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=h-(t.x1+t.x2)/2,a=g-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=a,t.x2+=o,t.y2+=a,t};f.exports=S},31116:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031),g=function(o){return new h(o.x1,o.y1,o.x2,o.y2)};f.exports=g},59944:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};f.exports=S},59220:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};f.exports=S},78177:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=function(o,a,r){r===void 0&&(r=a);var i=h(o),n=o.x2-o.x1,l=o.y2-o.y1;return a&&(o.x1=o.x1-n/i*a,o.y1=o.y1-l/i*a),r&&(o.x2=o.x2+n/i*r,o.y2=o.y2+l/i*r),o};f.exports=g},26708:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),g=t(6113),o=t(2141),a=function(r,i,n,l,s){l===void 0&&(l=0),s===void 0&&(s=[]);var u=[],d=r.x1,c=r.y1,v=r.x2-d,x=r.y2-c,y=g(i,s),T,E,A=n-1;for(T=0;T<A;T++)E=y(T/A),u.push(new o(d+v*E,c+x*E));if(E=y(1),u.push(new o(d+v*E,c+x*E)),l>0){var P=u[0],w=[P];for(T=1;T<u.length-1;T++){var I=u[T];h(P,I)>=l&&(w.push(I),P=I)}var O=u[u.length-1];return h(P,O)<l&&w.pop(),w.push(O),w}else return u};f.exports=a},32125:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=(o.x1+o.x2)/2,a.y=(o.y1+o.y2)/2,a};f.exports=g},99569:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){r===void 0&&(r=new h);var i=o.x1,n=o.y1,l=o.x2,s=o.y2,u=(l-i)*(l-i)+(s-n)*(s-n);if(u===0)return r;var d=((a.x-i)*(l-i)+(a.y-n)*(s-n))/u;return r.x=i+d*(l-i),r.y=n+d*(s-n),r};f.exports=g},34638:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(91938),o=t(2141),a=function(r,i){i===void 0&&(i=new o);var n=g(r)-h.TAU;return i.x=Math.cos(n),i.y=Math.sin(n),i};f.exports=a},13151:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){return r===void 0&&(r=new h),r.x=o.x1+(o.x2-o.x1)*a,r.y=o.y1+(o.y2-o.y1)*a,r};f.exports=g},15258:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=t(2141),o=function(a,r,i,n){n===void 0&&(n=[]),!r&&i>0&&(r=h(a)/i);for(var l=a.x1,s=a.y1,u=a.x2,d=a.y2,c=0;c<r;c++){var v=c/r,x=l+(u-l)*v,y=s+(d-s)*v;n.push(new g(x,y))}return n};f.exports=o},26408:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.x1,o=t.y1,a=t.x2,r=t.y2,i=(a-g)*(a-g)+(r-o)*(r-o);if(i===0)return!1;var n=((o-h.y)*(a-g)-(g-h.x)*(r-o))/i;return Math.abs(n)*Math.sqrt(i)};f.exports=S},98770:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};f.exports=S},35001:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};f.exports=S},23031:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(13151),o=t(15258),a=t(23777),r=t(65822),i=t(26099),n=new h({initialize:function(s,u,d,c){s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=a.LINE,this.x1=s,this.y1=u,this.x2=d,this.y2=c},getPoint:function(l,s){return g(this,l,s)},getPoints:function(l,s,u){return o(this,l,s,u)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,s,u,d){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),this.x1=l,this.y1=s,this.x2=u,this.y2=d,this},setFromObjects:function(l,s){return this.x1=l.x,this.y1=l.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(l){return l===void 0&&(l=new i),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new i),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});f.exports=n},64795:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(15994),o=t(91938),a=function(r){var i=o(r)-h.TAU;return g(i,-Math.PI,Math.PI)};f.exports=a},52616:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(91938),o=function(a){return Math.cos(g(a)-h.TAU)};f.exports=o},87231:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(91938),o=function(a){return Math.sin(g(a)-h.TAU)};f.exports=o},89662:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t.x1+=h,t.y1+=g,t.x2+=h,t.y2+=g,t};f.exports=S},71165:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};f.exports=S},65822:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){a===void 0&&(a=new h);var r=Math.random();return a.x=o.x1+r*(o.x2-o.x1),a.y=o.y1+r*(o.y2-o.y1),a};f.exports=g},69777:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91938),g=t(64795),o=function(a,r){return 2*g(r)-Math.PI-h(a)};f.exports=o},39706:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),g=function(o,a){var r=(o.x1+o.x2)/2,i=(o.y1+o.y2)/2;return h(o,r,i,a)};f.exports=g},82585:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),g=function(o,a,r){return h(o,a.x,a.y,r)};f.exports=g},64400:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=Math.cos(o),r=Math.sin(o),i=t.x1-h,n=t.y1-g;return t.x1=i*a-n*r+h,t.y1=i*r+n*a+g,i=t.x2-h,n=t.y2-g,t.x2=i*a-n*r+h,t.y2=i*r+n*a+g,t};f.exports=S},62377:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a){return t.x1=h,t.y1=g,t.x2=h+Math.cos(o)*a,t.y2=g+Math.sin(o)*a,t};f.exports=S},71366:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};f.exports=S},10809:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};f.exports=S},2529:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031);h.Angle=t(91938),h.BresenhamPoints=t(84993),h.CenterOn=t(36469),h.Clone=t(31116),h.CopyFrom=t(59944),h.Equals=t(59220),h.Extend=t(78177),h.GetEasedPoints=t(26708),h.GetMidPoint=t(32125),h.GetNearestPoint=t(99569),h.GetNormal=t(34638),h.GetPoint=t(13151),h.GetPoints=t(15258),h.GetShortestDistance=t(26408),h.Height=t(98770),h.Length=t(35001),h.NormalAngle=t(64795),h.NormalX=t(52616),h.NormalY=t(87231),h.Offset=t(89662),h.PerpSlope=t(71165),h.Random=t(65822),h.ReflectAngle=t(69777),h.Rotate=t(39706),h.RotateAroundPoint=t(82585),h.RotateAroundXY=t(64400),h.SetToAngle=t(62377),h.Slope=t(71366),h.Width=t(10809),f.exports=h},83997:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(87841),o=t(26099);function a(i,n,l,s){var u=i-l,d=n-s,c=u*u+d*d;return Math.sqrt(c)}var r=new h({initialize:function(n,l,s){this.vertex1=n,this.vertex2=l,this.vertex3=s,this.bounds=new g,this._inCenter=new o},getInCenter:function(i){i===void 0&&(i=!0);var n=this.vertex1,l=this.vertex2,s=this.vertex3,u,d,c,v,x,y;i?(u=n.x,d=n.y,c=l.x,v=l.y,x=s.x,y=s.y):(u=n.vx,d=n.vy,c=l.vx,v=l.vy,x=s.vx,y=s.vy);var T=a(x,y,c,v),E=a(u,d,x,y),A=a(c,v,u,d),P=T+E+A;return this._inCenter.set((u*T+c*E+x*A)/P,(d*T+v*E+y*A)/P)},contains:function(i,n,l){var s=this.vertex1,u=this.vertex2,d=this.vertex3,c=s.vx,v=s.vy,x=u.vx,y=u.vy,T=d.vx,E=d.vy;if(l){var A=l.a,P=l.b,w=l.c,I=l.d,O=l.e,F=l.f;c=s.vx*A+s.vy*w+O,v=s.vx*P+s.vy*I+F,x=u.vx*A+u.vy*w+O,y=u.vx*P+u.vy*I+F,T=d.vx*A+d.vy*w+O,E=d.vx*P+d.vy*I+F}var L=T-c,D=E-v,b=x-c,U=y-v,W=i-c,H=n-v,Y=L*L+D*D,G=L*b+D*U,X=L*W+D*H,V=b*b+U*U,B=b*W+U*H,z=Y*V-G*G,$=z===0?0:1/z,j=(V*X-G*B)*$,k=(Y*B-G*X)*$;return j>=0&&k>=0&&j+k<1},isCounterClockwise:function(i){var n=this.vertex1,l=this.vertex2,s=this.vertex3,u=(l.vx-n.vx)*(s.vy-n.vy)-(l.vy-n.vy)*(s.vx-n.vx);return i<=0?u>=0:u<0},load:function(i,n,l,s,u){return l=this.vertex1.load(i,n,l,s,u),l=this.vertex2.load(i,n,l,s,u),l=this.vertex3.load(i,n,l,s,u),l},transformCoordinatesLocal:function(i,n,l,s){return this.vertex1.transformCoordinatesLocal(i,n,l,s),this.vertex2.transformCoordinatesLocal(i,n,l,s),this.vertex3.transformCoordinatesLocal(i,n,l,s),this},updateBounds:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3,s=this.bounds;return s.x=Math.min(i.vx,n.vx,l.vx),s.y=Math.min(i.vy,n.vy,l.vy),s.width=Math.max(i.vx,n.vx,l.vx)-s.x,s.height=Math.max(i.vy,n.vy,l.vy)-s.y,this},isInView:function(i,n,l,s,u,d,c,v,x,y,T){this.update(s,u,d,c,v,x,y,T);var E=this.vertex1,A=this.vertex2,P=this.vertex3;if(E.ta<=0&&A.ta<=0&&P.ta<=0||n&&!this.isCounterClockwise(l))return!1;var w=this.bounds;w.x=Math.min(E.tx,A.tx,P.tx),w.y=Math.min(E.ty,A.ty,P.ty),w.width=Math.max(E.tx,A.tx,P.tx)-w.x,w.height=Math.max(E.ty,A.ty,P.ty)-w.y;var I=i.x+i.width,O=i.y+i.height;return w.width<=0||w.height<=0||i.width<=0||i.height<=0?!1:!(w.right<i.x||w.bottom<i.y||w.x>I||w.y>O)},scrollUV:function(i,n){return this.vertex1.scrollUV(i,n),this.vertex2.scrollUV(i,n),this.vertex3.scrollUV(i,n),this},scaleUV:function(i,n){return this.vertex1.scaleUV(i,n),this.vertex2.scaleUV(i,n),this.vertex3.scaleUV(i,n),this},setColor:function(i){return this.vertex1.color=i,this.vertex2.color=i,this.vertex3.color=i,this},update:function(i,n,l,s,u,d,c,v){return this.vertex1.update(n,l,s,u,d,c,v,i),this.vertex2.update(n,l,s,u,d,c,v,i),this.vertex3.update(n,l,s,u,d,c,v,i),this},translate:function(i,n){n===void 0&&(n=0);var l=this.vertex1,s=this.vertex2,u=this.vertex3;return l.x+=i,l.y+=n,s.x+=i,s.y+=n,u.x+=i,u.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(i){var n=this.getInCenter();this.translate(i-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var n=this.getInCenter();this.translate(0,i-n.y)}},alpha:{get:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3;return(i.alpha+n.alpha+l.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3;return(i.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});f.exports=r},48803:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),g=t(95540),o=t(37867),a=t(25836),r=t(39318),i=new a,n=new a,l=new o,s=function(u){var d=g(u,"mesh"),c=g(u,"texture",null),v=g(u,"frame"),x=g(u,"width",1),y=g(u,"height",x),T=g(u,"widthSegments",1),E=g(u,"heightSegments",T),A=g(u,"x",0),P=g(u,"y",0),w=g(u,"z",0),I=g(u,"rotateX",0),O=g(u,"rotateY",0),F=g(u,"rotateZ",0),L=g(u,"zIsUp",!0),D=g(u,"isOrtho",d?d.dirtyCache[11]:!1),b=g(u,"colors",[16777215]),U=g(u,"alphas",[1]),W=g(u,"tile",!1),H=g(u,"flipY",!1),Y=g(u,"width",null),G={faces:[],verts:[]};i.set(A,P,w),n.set(I,O,F),l.fromRotationXYTranslation(n,i,L);var X;if(!c&&d)c=d.texture,v||(X=d.frame);else if(d&&typeof c=="string")c=d.scene.sys.textures.get(c);else if(!c)return G;X||(X=c.get(v)),!Y&&D&&c&&d&&(x=X.width/d.height,y=X.height/d.height);var V=x/2,B=y/2,z=Math.floor(T),$=Math.floor(E),j=z+1,k=$+1,q=x/z,Q=y/$,Z=[],_=[],et,it,st=0,nt=1,lt=0,ut=1;X&&(st=X.u0,nt=X.u1,H?(lt=X.v1,ut=X.v0):(lt=X.v0,ut=X.v1));var ot=nt-st,rt=ut-lt;for(it=0;it<k;it++){var ht=it*Q-B;for(et=0;et<j;et++){var dt=et*q-V;_.push(dt,-ht);var xt=st+ot*(et/z),yt=lt+rt*(it/$);Z.push(xt,yt)}}Array.isArray(b)||(b=[b]),Array.isArray(U)||(U=[U]);var Ct=0,St=0;for(it=0;it<$;it++)for(et=0;et<z;et++){var It=(et+j*it)*2,zt=(et+j*(it+1))*2,qt=(et+1+j*(it+1))*2,Nt=(et+1+j*it)*2,Jt=b[St],oe=U[Ct],jt=new r(_[It],_[It+1],0,Z[It],Z[It+1],Jt,oe).transformMat4(l),Se=new r(_[zt],_[zt+1],0,Z[zt],Z[zt+1],Jt,oe).transformMat4(l),gi=new r(_[Nt],_[Nt+1],0,Z[Nt],Z[Nt+1],Jt,oe).transformMat4(l),Ai=new r(_[zt],_[zt+1],0,Z[zt],Z[zt+1],Jt,oe).transformMat4(l),Vi=new r(_[qt],_[qt+1],0,Z[qt],Z[qt+1],Jt,oe).transformMat4(l),Gi=new r(_[Nt],_[Nt+1],0,Z[Nt],Z[Nt+1],Jt,oe).transformMat4(l);W&&(jt.setUVs(st,ut),Se.setUVs(st,lt),gi.setUVs(nt,ut),Ai.setUVs(st,lt),Vi.setUVs(nt,lt),Gi.setUVs(nt,ut)),St++,St===b.length&&(St=0),Ct++,Ct===U.length&&(Ct=0),G.verts.push(jt,Se,gi,Ai,Vi,Gi),G.faces.push(new h(jt,Se,gi),new h(Ai,Vi,Gi))}return d&&(d.faces=d.faces.concat(G.faces),d.vertices=d.vertices.concat(G.verts)),G};f.exports=s},34684:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),g=t(37867),o=t(25836),a=t(39318),r=new o,i=new o,n=new g,l=function(s,u,d,c,v,x,y,T,E,A){d===void 0&&(d=1),c===void 0&&(c=0),v===void 0&&(v=0),x===void 0&&(x=0),y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=0),A===void 0&&(A=!0);var P={faces:[],verts:[]},w=s.materials;r.set(c,v,x),i.set(y,T,E),n.fromRotationXYTranslation(i,r,A);for(var I=0;I<s.models.length;I++)for(var O=s.models[I],F=O.vertices,L=O.textureCoords,D=O.faces,b=0;b<D.length;b++){var U=D[b],W=U.vertices[0],H=U.vertices[1],Y=U.vertices[2],G=F[W.vertexIndex],X=F[H.vertexIndex],V=F[Y.vertexIndex],B=W.textureCoordsIndex,z=H.textureCoordsIndex,$=Y.textureCoordsIndex,j=B===-1?{u:0,v:1}:L[B],k=z===-1?{u:0,v:0}:L[z],q=$===-1?{u:1,v:1}:L[$],Q=16777215;U.material!==""&&w[U.material]&&(Q=w[U.material]);var Z=new a(G.x*d,G.y*d,G.z*d,j.u,j.v,Q).transformMat4(n),_=new a(X.x*d,X.y*d,X.z*d,k.u,k.v,Q).transformMat4(n),et=new a(V.x*d,V.y*d,V.z*d,q.u,q.v,Q).transformMat4(n);P.verts.push(Z,_,et),P.faces.push(new h(Z,_,et))}return u&&(u.faces=u.faces.concat(P.faces),u.vertices=u.vertices.concat(P.verts)),P};f.exports=l},92515:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),g=t(39318),o=function(a,r,i,n,l,s,u,d){if(n===void 0&&(n=!1),s===void 0&&(s=16777215),u===void 0&&(u=1),d===void 0&&(d=!1),a.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},v,x,y,T,E,A,P,w,I,O,F,L=n?3:2,D=Array.isArray(s),b=Array.isArray(u);if(Array.isArray(i)&&i.length>0)for(v=0;v<i.length;v++){var U=i[v],W=i[v]*2,H=i[v]*L;x=a[H],y=a[H+1],T=n?a[H+2]:0,E=r[W],A=r[W+1],d&&(A=1-A),P=D?s[U]:s,w=b?u[U]:u,I=0,O=0,F=0,l&&(I=l[H],O=l[H+1],F=n?l[H+2]:0),c.vertices.push(new g(x,y,T,E,A,P,w,I,O,F))}else{var Y=0,G=0;for(v=0;v<a.length;v+=L)x=a[v],y=a[v+1],T=n?a[v+2]:0,E=r[Y],A=r[Y+1],P=D?s[G]:s,w=b?u[G]:u,I=0,O=0,F=0,l&&(I=l[v],O=l[v+1],F=n?l[v+2]:0),c.vertices.push(new g(x,y,T,E,A,P,w,I,O,F)),Y+=2,G++}for(v=0;v<c.vertices.length;v+=3){var X=c.vertices[v],V=c.vertices[v+1],B=c.vertices[v+2];c.faces.push(new h(X,V,B))}return c};f.exports=o},85048:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",h="",g="";function o(x){var y=x.indexOf("#");return y>-1?x.substring(0,y):x}function a(x){return x.models.length===0&&x.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",x.models[x.models.length-1]}function r(x,y){var T=x.length>=2?x[1]:t;y.models.push({faces:[],name:T,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function i(x){x.length===2&&(h=x[1])}function n(x,y){var T=x.length,E=T>=2?parseFloat(x[1]):0,A=T>=3?parseFloat(x[2]):0,P=T>=4?parseFloat(x[3]):0;a(y).vertices.push({x:E,y:A,z:P})}function l(x,y){var T=x.length,E=T>=2?parseFloat(x[1]):0,A=T>=3?parseFloat(x[2]):0,P=T>=4?parseFloat(x[3]):0;isNaN(E)&&(E=0),isNaN(A)&&(A=0),isNaN(P)&&(P=0),S&&(A=1-A),a(y).textureCoords.push({u:E,v:A,w:P})}function s(x,y){var T=x.length,E=T>=2?parseFloat(x[1]):0,A=T>=3?parseFloat(x[2]):0,P=T>=4?parseFloat(x[3]):0;a(y).vertexNormals.push({x:E,y:A,z:P})}function u(x,y){var T=x.length-1;if(!(T<3)){for(var E={group:h,material:g,vertices:[]},A=0;A<T;A++){var P=x[A+1],w=P.split("/"),I=w.length;if(!(I<1||I>3)){var O=0,F=0,L=0;O=parseInt(w[0],10),I>1&&w[1]!==""&&(F=parseInt(w[1],10)),I>2&&(L=parseInt(w[2],10)),O!==0&&(O<0&&(O=a(y).vertices.length+1+O),F-=1,O-=1,L-=1,E.vertices.push({textureCoordsIndex:F,vertexIndex:O,vertexNormalIndex:L}))}}a(y).faces.push(E)}}function d(x,y){x.length>=2&&y.materialLibraries.push(x[1])}function c(x){x.length>=2&&(g=x[1])}var v=function(x,y){y===void 0&&(y=!0),S=y;var T={materials:{},materialLibraries:[],models:[]};h="",g="";for(var E=x.split(`
`),A=0;A<E.length;A++){var P=o(E[A]),w=P.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":r(w,T);break;case"g":i(w);break;case"v":n(w,T);break;case"vt":l(w,T);break;case"vn":s(w,T);break;case"f":u(w,T);break;case"mtllib":d(w,T);break;case"usemtl":c(w);break}}return T};f.exports=v},61485:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),g=function(o){for(var a={},r=o.split(`
`),i="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var s=l.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{i=s[1];break}case"kd":{var u=Math.floor(s[1]*255),d=s.length>=2?Math.floor(s[2]*255):u,c=s.length>=3?Math.floor(s[3]*255):u;a[i]=h(u,d,c);break}}}}return a};f.exports=g},92570:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a,r;if(g===void 0&&o===void 0){var i=t.getInCenter();a=i.x,r=i.y}var n=Math.cos(h),l=Math.sin(h),s=t.vertex1,u=t.vertex2,d=t.vertex3,c=s.x-a,v=s.y-r;s.set(c*n-v*l+a,c*l+v*n+r),c=u.x-a,v=u.y-r,u.set(c*n-v*l+a,c*l+v*n+r),c=d.x-a,v=d.y-r,d.set(c*n-v*l+a,c*l+v*n+r)};f.exports=S},39318:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(70554),o=t(25836),a=new h({Extends:o,initialize:function(i,n,l,s,u,d,c,v,x,y){d===void 0&&(d=16777215),c===void 0&&(c=1),v===void 0&&(v=0),x===void 0&&(x=0),y===void 0&&(y=0),o.call(this,i,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=x,this.nz=y,this.u=s,this.v=u,this.color=d,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=u},setUVs:function(r,i){return this.u=r,this.v=i,this.tu=r,this.tv=i,this},scrollUV:function(r,i){return this.tu+=r,this.tv+=i,this},scaleUV:function(r,i){return this.tu=this.u*r,this.tv=this.v*i,this},transformCoordinatesLocal:function(r,i,n,l){var s=this.x,u=this.y,d=this.z,c=r.val,v=s*c[0]+u*c[4]+d*c[8]+c[12],x=s*c[1]+u*c[5]+d*c[9]+c[13],y=s*c[2]+u*c[6]+d*c[10]+c[14],T=s*c[3]+u*c[7]+d*c[11]+c[15];this.vx=v/T*i,this.vy=-(x/T)*n,l<=0?this.vz=y/T:this.vz=-(y/T)},resize:function(r,i,n,l,s,u){return this.x=r,this.y=i,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,s<.5?this.vx+=n*(.5-s):s>.5&&(this.vx-=n*(s-.5)),u<.5?this.vy+=l*(.5-u):u>.5&&(this.vy-=l*(u-.5)),this},update:function(r,i,n,l,s,u,d,c){var v=this.vx*r+this.vy*n+s,x=this.vx*i+this.vy*l+u;return d&&(v=Math.round(v),x=Math.round(x)),this.tx=v,this.ty=x,this.ta=this.alpha*c,this},load:function(r,i,n,l,s){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=s,i[++n]=g.getTintAppendFloatAlpha(this.color,this.ta),n}});f.exports=a},73090:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};f.exports=h},96550:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};f.exports=S},99706:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o){return new h(o.x,o.y)};f.exports=g},68010:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y)};f.exports=S},27814:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y};f.exports=S},73565:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};f.exports=S},87555:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){if(a===void 0&&(a=new h),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var r=o.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)a.x=o[0].x,a.y=o[0].y;else{for(var i=0;i<r;i++)a.x+=o[i].x,a.y+=o[i].y;a.x/=r,a.y/=r}return a};f.exports=g},28793:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};f.exports=S},44405:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};f.exports=S},20873:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a){a===void 0&&(a=new h);for(var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,s=0;s<o.length;s++){var u=o[s];u.x>r&&(r=u.x),u.x<i&&(i=u.x),u.y>n&&(n=u.y),u.y<l&&(l=u.y)}return a.x=i,a.y=l,a.width=r-i,a.height=n-l,a};f.exports=g},26152:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r,i){return r===void 0&&(r=0),i===void 0&&(i=new h),i.x=o.x+(a.x-o.x)*r,i.y=o.y+(a.y-o.y)*r,i};f.exports=g},55767:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};f.exports=S},79432:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.setTo(-o.x,-o.y)};f.exports=g},2141:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23777),o=new h({initialize:function(r,i){r===void 0&&(r=0),i===void 0&&(i=r),this.type=g.POINT,this.x=r,this.y=i},setTo:function(a,r){return a===void 0&&(a=0),r===void 0&&(r=a),this.x=a,this.y=r,this}});f.exports=o},72930:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(44405),o=function(a,r,i){i===void 0&&(i=new h);var n=a.x*r.x+a.y*r.y,l=n/g(r);return l!==0&&(i.x=l*r.x,i.y=l*r.y),i};f.exports=o},62880:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a,r){r===void 0&&(r=new h);var i=o.x*a.x+o.y*a.y;return i!==0&&(r.x=i*a.x,r.y=i*a.y),r};f.exports=g},15093:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28793),g=function(o,a){if(o.x!==0||o.y!==0){var r=h(o);o.x/=r,o.y/=r}return o.x*=a,o.y*=a,o};f.exports=g},43711:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);h.Ceil=t(96550),h.Clone=t(99706),h.CopyFrom=t(68010),h.Equals=t(27814),h.Floor=t(73565),h.GetCentroid=t(87555),h.GetMagnitude=t(28793),h.GetMagnitudeSq=t(44405),h.GetRectangleFromPoints=t(20873),h.Interpolate=t(26152),h.Invert=t(55767),h.Negative=t(79432),h.Project=t(72930),h.ProjectUnit=t(62880),h.SetMagnitude=t(15093),f.exports=h},12306:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717),g=function(o){return new h(o.points)};f.exports=g},63814:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){for(var o=!1,a=-1,r=t.points.length-1;++a<t.points.length;r=a){var i=t.points[a].x,n=t.points[a].y,l=t.points[r].x,s=t.points[r].y;(n<=g&&g<s||s<=g&&g<n)&&h<(l-i)*(g-n)/(s-n)+i&&(o=!o)}return o};f.exports=S},99338:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63814),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},94811:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(G,X,V){V=V||2;var B=X&&X.length,z=B?X[0]*V:G.length,$=t(G,0,z,V,!0),j=[];if(!$||$.next===$.prev)return j;var k,q,Q,Z,_,et,it;if(B&&($=n(G,X,$,V)),G.length>80*V){k=Q=G[0],q=Z=G[1];for(var st=V;st<z;st+=V)_=G[st],et=G[st+1],_<k&&(k=_),et<q&&(q=et),_>Q&&(Q=_),et>Z&&(Z=et);it=Math.max(Q-k,Z-q),it=it!==0?32767/it:0}return g($,j,V,k,q,it,0),j}function t(G,X,V,B,z){var $,j;if(z===Y(G,X,V,B)>0)for($=X;$<V;$+=B)j=U($,G[$],G[$+1],j);else for($=V-B;$>=X;$-=B)j=U($,G[$],G[$+1],j);return j&&P(j,j.next)&&(W(j),j=j.next),j}function h(G,X){if(!G)return G;X||(X=G);var V=G,B;do if(B=!1,!V.steiner&&(P(V,V.next)||A(V.prev,V,V.next)===0)){if(W(V),V=X=V.prev,V===V.next)break;B=!0}else V=V.next;while(B||V!==X);return X}function g(G,X,V,B,z,$,j){if(G){!j&&$&&c(G,B,z,$);for(var k=G,q,Q;G.prev!==G.next;){if(q=G.prev,Q=G.next,$?a(G,B,z,$):o(G)){X.push(q.i/V|0),X.push(G.i/V|0),X.push(Q.i/V|0),W(G),G=Q.next,k=Q.next;continue}if(G=Q,G===k){j?j===1?(G=r(h(G),X,V),g(G,X,V,B,z,$,2)):j===2&&i(G,X,V,B,z,$):g(h(G),X,V,B,z,$,1);break}}}}function o(G){var X=G.prev,V=G,B=G.next;if(A(X,V,B)>=0)return!1;for(var z=X.x,$=V.x,j=B.x,k=X.y,q=V.y,Q=B.y,Z=z<$?z<j?z:j:$<j?$:j,_=k<q?k<Q?k:Q:q<Q?q:Q,et=z>$?z>j?z:j:$>j?$:j,it=k>q?k>Q?k:Q:q>Q?q:Q,st=B.next;st!==X;){if(st.x>=Z&&st.x<=et&&st.y>=_&&st.y<=it&&T(z,k,$,q,j,Q,st.x,st.y)&&A(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}function a(G,X,V,B){var z=G.prev,$=G,j=G.next;if(A(z,$,j)>=0)return!1;for(var k=z.x,q=$.x,Q=j.x,Z=z.y,_=$.y,et=j.y,it=k<q?k<Q?k:Q:q<Q?q:Q,st=Z<_?Z<et?Z:et:_<et?_:et,nt=k>q?k>Q?k:Q:q>Q?q:Q,lt=Z>_?Z>et?Z:et:_>et?_:et,ut=x(it,st,X,V,B),ot=x(nt,lt,X,V,B),rt=G.prevZ,ht=G.nextZ;rt&&rt.z>=ut&&ht&&ht.z<=ot;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=lt&&rt!==z&&rt!==j&&T(k,Z,q,_,Q,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0||(rt=rt.prevZ,ht.x>=it&&ht.x<=nt&&ht.y>=st&&ht.y<=lt&&ht!==z&&ht!==j&&T(k,Z,q,_,Q,et,ht.x,ht.y)&&A(ht.prev,ht,ht.next)>=0))return!1;ht=ht.nextZ}for(;rt&&rt.z>=ut;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=lt&&rt!==z&&rt!==j&&T(k,Z,q,_,Q,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0)return!1;rt=rt.prevZ}for(;ht&&ht.z<=ot;){if(ht.x>=it&&ht.x<=nt&&ht.y>=st&&ht.y<=lt&&ht!==z&&ht!==j&&T(k,Z,q,_,Q,et,ht.x,ht.y)&&A(ht.prev,ht,ht.next)>=0)return!1;ht=ht.nextZ}return!0}function r(G,X,V){var B=G;do{var z=B.prev,$=B.next.next;!P(z,$)&&w(z,B,B.next,$)&&L(z,$)&&L($,z)&&(X.push(z.i/V|0),X.push(B.i/V|0),X.push($.i/V|0),W(B),W(B.next),B=G=$),B=B.next}while(B!==G);return h(B)}function i(G,X,V,B,z,$){var j=G;do{for(var k=j.next.next;k!==j.prev;){if(j.i!==k.i&&E(j,k)){var q=b(j,k);j=h(j,j.next),q=h(q,q.next),g(j,X,V,B,z,$,0),g(q,X,V,B,z,$,0);return}k=k.next}j=j.next}while(j!==G)}function n(G,X,V,B){var z=[],$,j,k,q,Q;for($=0,j=X.length;$<j;$++)k=X[$]*B,q=$<j-1?X[$+1]*B:G.length,Q=t(G,k,q,B,!1),Q===Q.next&&(Q.steiner=!0),z.push(y(Q));for(z.sort(l),$=0;$<z.length;$++)V=s(z[$],V);return V}function l(G,X){return G.x-X.x}function s(G,X){var V=u(G,X);if(!V)return X;var B=b(V,G);return h(B,B.next),h(V,V.next)}function u(G,X){var V=X,B=G.x,z=G.y,$=-1/0,j;do{if(z<=V.y&&z>=V.next.y&&V.next.y!==V.y){var k=V.x+(z-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(k<=B&&k>$&&($=k,j=V.x<V.next.x?V:V.next,k===B))return j}V=V.next}while(V!==X);if(!j)return null;var q=j,Q=j.x,Z=j.y,_=1/0,et;V=j;do B>=V.x&&V.x>=Q&&B!==V.x&&T(z<Z?B:$,z,Q,Z,z<Z?$:B,z,V.x,V.y)&&(et=Math.abs(z-V.y)/(B-V.x),L(V,G)&&(et<_||et===_&&(V.x>j.x||V.x===j.x&&d(j,V)))&&(j=V,_=et)),V=V.next;while(V!==q);return j}function d(G,X){return A(G.prev,G,X.prev)<0&&A(X.next,G,G.next)<0}function c(G,X,V,B){var z=G;do z.z===0&&(z.z=x(z.x,z.y,X,V,B)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==G);z.prevZ.nextZ=null,z.prevZ=null,v(z)}function v(G){var X,V,B,z,$,j,k,q,Q=1;do{for(V=G,G=null,$=null,j=0;V;){for(j++,B=V,k=0,X=0;X<Q&&(k++,B=B.nextZ,!!B);X++);for(q=Q;k>0||q>0&&B;)k!==0&&(q===0||!B||V.z<=B.z)?(z=V,V=V.nextZ,k--):(z=B,B=B.nextZ,q--),$?$.nextZ=z:G=z,z.prevZ=$,$=z;V=B}$.nextZ=null,Q*=2}while(j>1);return G}function x(G,X,V,B,z){return G=(G-V)*z|0,X=(X-B)*z|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,G|X<<1}function y(G){var X=G,V=G;do(X.x<V.x||X.x===V.x&&X.y<V.y)&&(V=X),X=X.next;while(X!==G);return V}function T(G,X,V,B,z,$,j,k){return(z-j)*(X-k)>=(G-j)*($-k)&&(G-j)*(B-k)>=(V-j)*(X-k)&&(V-j)*($-k)>=(z-j)*(B-k)}function E(G,X){return G.next.i!==X.i&&G.prev.i!==X.i&&!F(G,X)&&(L(G,X)&&L(X,G)&&D(G,X)&&(A(G.prev,G,X.prev)||A(G,X.prev,X))||P(G,X)&&A(G.prev,G,G.next)>0&&A(X.prev,X,X.next)>0)}function A(G,X,V){return(X.y-G.y)*(V.x-X.x)-(X.x-G.x)*(V.y-X.y)}function P(G,X){return G.x===X.x&&G.y===X.y}function w(G,X,V,B){var z=O(A(G,X,V)),$=O(A(G,X,B)),j=O(A(V,B,G)),k=O(A(V,B,X));return!!(z!==$&&j!==k||z===0&&I(G,V,X)||$===0&&I(G,B,X)||j===0&&I(V,G,B)||k===0&&I(V,X,B))}function I(G,X,V){return X.x<=Math.max(G.x,V.x)&&X.x>=Math.min(G.x,V.x)&&X.y<=Math.max(G.y,V.y)&&X.y>=Math.min(G.y,V.y)}function O(G){return G>0?1:G<0?-1:0}function F(G,X){var V=G;do{if(V.i!==G.i&&V.next.i!==G.i&&V.i!==X.i&&V.next.i!==X.i&&w(V,V.next,G,X))return!0;V=V.next}while(V!==G);return!1}function L(G,X){return A(G.prev,G,G.next)<0?A(G,X,G.next)>=0&&A(G,G.prev,X)>=0:A(G,X,G.prev)<0||A(G,G.next,X)<0}function D(G,X){var V=G,B=!1,z=(G.x+X.x)/2,$=(G.y+X.y)/2;do V.y>$!=V.next.y>$&&V.next.y!==V.y&&z<(V.next.x-V.x)*($-V.y)/(V.next.y-V.y)+V.x&&(B=!B),V=V.next;while(V!==G);return B}function b(G,X){var V=new H(G.i,G.x,G.y),B=new H(X.i,X.x,X.y),z=G.next,$=X.prev;return G.next=X,X.prev=G,V.next=z,z.prev=V,B.next=V,V.prev=B,$.next=B,B.prev=$,B}function U(G,X,V,B){var z=new H(G,X,V);return B?(z.next=B.next,z.prev=B,B.next.prev=z,B.next=z):(z.prev=z,z.next=z),z}function W(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function H(G,X,V){this.i=G,this.x=X,this.y=V,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(G,X,V,B){var z=X&&X.length,$=z?X[0]*V:G.length,j=Math.abs(Y(G,0,$,V));if(z)for(var k=0,q=X.length;k<q;k++){var Q=X[k]*V,Z=k<q-1?X[k+1]*V:G.length;j-=Math.abs(Y(G,Q,Z,V))}var _=0;for(k=0;k<B.length;k+=3){var et=B[k]*V,it=B[k+1]*V,st=B[k+2]*V;_+=Math.abs((G[et]-G[st])*(G[it+1]-G[et+1])-(G[et]-G[it])*(G[st+1]-G[et+1]))}return j===0&&_===0?0:Math.abs((_-j)/j)};function Y(G,X,V,B){for(var z=0,$=X,j=V-B;$<V;$+=B)z+=(G[j]-G[$])*(G[$+1]+G[j+1]),j=$;return z}S.flatten=function(G){for(var X=G[0][0].length,V={vertices:[],holes:[],dimensions:X},B=0,z=0;z<G.length;z++){for(var $=0;$<G[z].length;$++)for(var j=0;j<X;j++)V.vertices.push(G[z][$][j]);z>0&&(B+=G[z-1].length,V.holes.push(B))}return V},f.exports=S},13829:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a){a===void 0&&(a=new h);for(var r=1/0,i=1/0,n=-r,l=-i,s,u=0;u<o.points.length;u++)s=o.points[u],r=Math.min(r,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x),l=Math.max(l,s.y);return a.x=r,a.y=i,a.width=n-r,a.height=l-i,a};f.exports=g},26173:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var g=0;g<t.points.length;g++)h.push(t.points[g].x),h.push(t.points[g].y);return h};f.exports=S},9564:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=t(23031),o=t(30052),a=function(r,i,n,l){l===void 0&&(l=[]);var s=r.points,u=o(r);!i&&n>0&&(i=u/n);for(var d=0;d<i;d++)for(var c=u*(d/i),v=0,x=0;x<s.length;x++){var y=s[x],T=s[(x+1)%s.length],E=new g(y.x,y.y,T.x,T.y),A=h(E);if(c<v||c>v+A){v+=A;continue}var P=E.getPoint((c-v)/A);l.push(P);break}return l};f.exports=a},30052:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=t(23031),o=function(a){for(var r=a.points,i=0,n=0;n<r.length;n++){var l=r[n],s=r[(n+1)%r.length],u=new g(l.x,l.y,s.x,s.y);i+=h(u)}return i};f.exports=o},25717:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(63814),o=t(9564),a=t(23777),r=new h({initialize:function(n){this.type=a.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(i,n){return g(this,i,n)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var n,l=0;l<i.length;l++)n={x:0,y:0},typeof i[l]=="number"||typeof i[l]=="string"?(n.x=parseFloat(i[l]),n.y=parseFloat(i[l+1]),l++):Array.isArray(i[l])?(n.x=i[l][0],n.y=i[l][1]):(n.x=i[l].x,n.y=i[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,n,l,s=0;s<this.points.length-1;s++)n=this.points[s],l=this.points[s+1],i+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],i+=(n.x-l.x)*(l.y+n.y),this.area=-i*.5,this.area},getPoints:function(i,n,l){return o(this,i,n,l)}});f.exports=r},8133:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};f.exports=S},29524:f=>{function S(r,i){var n=r.x-i.x,l=r.y-i.y;return n*n+l*l}function t(r,i,n){var l=i.x,s=i.y,u=n.x-l,d=n.y-s;if(u!==0||d!==0){var c=((r.x-l)*u+(r.y-s)*d)/(u*u+d*d);c>1?(l=n.x,s=n.y):c>0&&(l+=u*c,s+=d*c)}return u=r.x-l,d=r.y-s,u*u+d*d}function h(r,i){for(var n=r[0],l=[n],s,u=1,d=r.length;u<d;u++)s=r[u],S(s,n)>i&&(l.push(s),n=s);return n!==s&&l.push(s),l}function g(r,i,n,l,s){for(var u=l,d,c=i+1;c<n;c++){var v=t(r[c],r[i],r[n]);v>u&&(d=c,u=v)}u>l&&(d-i>1&&g(r,i,d,l,s),s.push(r[d]),n-d>1&&g(r,d,n,l,s))}function o(r,i){var n=r.length-1,l=[r[0]];return g(r,0,n,i,l),l.push(r[n]),l}var a=function(r,i,n){i===void 0&&(i=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var s=i*i;n||(l=h(l,s)),r.setTo(o(l,s))}return r};f.exports=a},5469:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(h,g){return h[0]=g[0],h[1]=g[1],h},t=function(h){var g,o=[],a=h.points;for(g=0;g<a.length;g++)o.push([a[g].x,a[g].y]);var r=[];for(o.length>0&&r.push(S([0,0],o[0])),g=0;g<o.length-1;g++){var i=o[g],n=o[g+1],l=i[0],s=i[1],u=n[0],d=n[1];r.push([.85*l+.15*u,.85*s+.15*d]),r.push([.15*l+.85*u,.15*s+.85*d])}return o.length>1&&r.push(S([0,0],o[o.length-1])),h.setTo(r)};f.exports=t},24709:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){for(var o=t.points,a=0;a<o.length;a++)o[a].x+=h,o[a].y+=g;return t};f.exports=S},58423:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717);h.Clone=t(12306),h.Contains=t(63814),h.ContainsPoint=t(99338),h.Earcut=t(94811),h.GetAABB=t(13829),h.GetNumberArray=t(26173),h.GetPoints=t(9564),h.Perimeter=t(30052),h.Reverse=t(8133),h.Simplify=t(29524),h.Smooth=t(5469),h.Translate=t(24709),f.exports=h},62224:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};f.exports=S},98615:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};f.exports=S},31688:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};f.exports=S},67502:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t.x=h-t.width/2,t.y=g-t.height/2,t};f.exports=S},65085:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o){return new h(o.x,o.y,o.width,o.height)};f.exports=g},37303:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=g&&t.y+t.height>=g};f.exports=S},96553:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37303),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},70273:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};f.exports=S},43459:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};f.exports=S},77493:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};f.exports=S},9219:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};f.exports=S},53751:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),g=function(o,a){var r=h(o);return r<h(a)?o.setSize(a.height*r,a.height):o.setSize(a.width,a.width/r),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};f.exports=g},16088:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),g=function(o,a){var r=h(o);return r>h(a)?o.setSize(a.height*r,a.height):o.setSize(a.width,a.width/r),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};f.exports=g},80774:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};f.exports=S},83859:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};f.exports=S},19217:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(36383),o=function(a,r){if(r===void 0&&(r=new h),a.length===0)return r;for(var i=Number.MAX_VALUE,n=Number.MAX_VALUE,l=g.MIN_SAFE_INTEGER,s=g.MIN_SAFE_INTEGER,u,d,c,v=0;v<a.length;v++)u=a[v],Array.isArray(u)?(d=u[0],c=u[1]):(d=u.x,c=u.y),i=Math.min(i,d),n=Math.min(n,c),l=Math.max(l,d),s=Math.max(s,c);return r.x=i,r.y=n,r.width=l-i,r.height=s-n,r};f.exports=o},9477:(f,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a,r,i,n){return n===void 0&&(n=new h),n.setTo(Math.min(o,r),Math.min(a,i),Math.abs(o-r),Math.abs(a-i))};f.exports=g},8249:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};f.exports=S},27165:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=o.centerX,a.y=o.centerY,a};f.exports=g},20812:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),g=t(2141),o=function(a,r,i){if(i===void 0&&(i=new g),r<=0||r>=1)return i.x=a.x,i.y=a.y,i;var n=h(a)*r;return r>.5?(n-=a.width+a.height,n<=a.width?(i.x=a.right-n,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(n-a.width))):n<=a.width?(i.x=a.x+n,i.y=a.y):(i.x=a.right,i.y=a.y+(n-a.width)),i};f.exports=o},34819:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20812),g=t(13019),o=function(a,r,i,n){n===void 0&&(n=[]),!r&&i>0&&(r=g(a)/i);for(var l=0;l<r;l++){var s=l/r;n.push(h(a,s))}return n};f.exports=o},51313:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=o.width,a.y=o.height,a};f.exports=g},86091:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67502),g=function(o,a,r){var i=o.centerX,n=o.centerY;return o.setSize(o.width+a*2,o.height+r*2),h(o,i,n)};f.exports=g},53951:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(59996),o=function(a,r,i){return i===void 0&&(i=new h),g(a,r)?(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y):i.setEmpty(),i};f.exports=o},14649:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),g=t(2141),o=function(a,r,i,n){if(n===void 0&&(n=[]),!r&&!i)return n;r?i=Math.round(h(a)/r):r=h(a)/i;for(var l=a.x,s=a.y,u=0,d=0;d<i;d++)switch(n.push(new g(l,s)),u){case 0:l+=r,l>=a.right&&(u=1,s+=l-a.right,l=a.right);break;case 1:s+=r,s>=a.bottom&&(u=2,l-=s-a.bottom,s=a.bottom);break;case 2:l-=r,l<=a.left&&(u=3,s-=a.left-l,l=a.left);break;case 3:s-=r,s<=a.top&&(u=0,s=a.top);break}return n};f.exports=o},33595:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var g=t.x,o=t.right,a=t.y,r=t.bottom,i=0;i<h.length;i++)g=Math.min(g,h[i].x),o=Math.max(o,h[i].x),a=Math.min(a,h[i].y),r=Math.max(r,h[i].y);return t.x=g,t.y=a,t.width=o-g,t.height=r-a,t};f.exports=S},20074:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=Math.min(t.x,h.x),o=Math.max(t.right,h.right);t.x=g,t.width=o-g;var a=Math.min(t.y,h.y),r=Math.max(t.bottom,h.bottom);return t.y=a,t.height=r-a,t};f.exports=S},92171:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=Math.min(t.x,h),a=Math.max(t.right,h);t.x=o,t.width=a-o;var r=Math.min(t.y,g),i=Math.max(t.bottom,g);return t.y=r,t.height=i-r,t};f.exports=S},42981:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t.x+=h,t.y+=g,t};f.exports=S},46907:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};f.exports=S},60170:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};f.exports=S},13019:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};f.exports=S},85133:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(39506),o=function(a,r,i){i===void 0&&(i=new h),r=g(r);var n=Math.sin(r),l=Math.cos(r),s=l>0?a.width/2:a.width/-2,u=n>0?a.height/2:a.height/-2;return Math.abs(s*n)<Math.abs(u*l)?u=s*n/l:s=u*l/n,i.x=s+a.centerX,i.y=u+a.centerY,i};f.exports=o},26597:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=o.x+Math.random()*o.width,a.y=o.y+Math.random()*o.height,a};f.exports=g},86470:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),g=t(70273),o=t(2141),a=function(r,i,n){if(n===void 0&&(n=new o),g(r,i))switch(h(0,3)){case 0:n.x=r.x+Math.random()*(i.right-r.x),n.y=r.y+Math.random()*(i.top-r.y);break;case 1:n.x=i.x+Math.random()*(r.right-i.x),n.y=i.bottom+Math.random()*(r.bottom-i.bottom);break;case 2:n.x=r.x+Math.random()*(i.x-r.x),n.y=i.y+Math.random()*(r.bottom-i.y);break;case 3:n.x=i.right+Math.random()*(r.right-i.right),n.y=r.y+Math.random()*(i.bottom-r.y);break}return n};f.exports=a},87841:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37303),o=t(20812),a=t(34819),r=t(23777),i=t(23031),n=t(26597),l=new h({initialize:function(u,d,c,v){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),this.type=r.RECTANGLE,this.x=u,this.y=d,this.width=c,this.height=v},contains:function(s,u){return g(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,d){return a(this,s,u,d)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,d,c){return this.x=s,this.y=u,this.width=d,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,u){return u===void 0&&(u=s),this.x=s,this.y=u,this},setSize:function(s,u){return u===void 0&&(u=s),this.width=s,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});f.exports=l},94845:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width===h.width&&t.height===h.height};f.exports=S},31730:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return g===void 0&&(g=h),t.width*=h,t.height*=g,t};f.exports=S},36899:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=function(o,a,r){r===void 0&&(r=new h);var i=Math.min(o.x,a.x),n=Math.min(o.y,a.y),l=Math.max(o.right,a.right)-i,s=Math.max(o.bottom,a.bottom)-n;return r.setTo(i,n,l,s)};f.exports=g},93232:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841);h.Area=t(62224),h.Ceil=t(98615),h.CeilAll=t(31688),h.CenterOn=t(67502),h.Clone=t(65085),h.Contains=t(37303),h.ContainsPoint=t(96553),h.ContainsRect=t(70273),h.CopyFrom=t(43459),h.Decompose=t(77493),h.Equals=t(9219),h.FitInside=t(53751),h.FitOutside=t(16088),h.Floor=t(80774),h.FloorAll=t(83859),h.FromPoints=t(19217),h.FromXY=t(9477),h.GetAspectRatio=t(8249),h.GetCenter=t(27165),h.GetPoint=t(20812),h.GetPoints=t(34819),h.GetSize=t(51313),h.Inflate=t(86091),h.Intersection=t(53951),h.MarchingAnts=t(14649),h.MergePoints=t(33595),h.MergeRect=t(20074),h.MergeXY=t(92171),h.Offset=t(42981),h.OffsetPoint=t(46907),h.Overlaps=t(60170),h.Perimeter=t(13019),h.PerimeterPoint=t(85133),h.Random=t(26597),h.RandomOutside=t(86470),h.SameDimensions=t(94845),h.Scale=t(31730),h.Union=t(36899),f.exports=h},41658:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.x1,g=t.y1,o=t.x2,a=t.y2,r=t.x3,i=t.y3;return Math.abs(((r-h)*(a-g)-(o-h)*(i-g))/2)};f.exports=S},39208:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),g=function(o,a,r){var i=r*(Math.sqrt(3)/2),n=o,l=a,s=o+r/2,u=a+i,d=o-r/2,c=a+i;return new h(n,l,s,u,d,c)};f.exports=g},39545:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94811),g=t(16483),o=function(a,r,i,n,l){r===void 0&&(r=null),i===void 0&&(i=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var s=h(a,r),u,d,c,v,x,y,T,E,A,P=0;P<s.length;P+=3)u=s[P],d=s[P+1],c=s[P+2],v=a[u*2]*i,x=a[u*2+1]*n,y=a[d*2]*i,T=a[d*2+1]*n,E=a[c*2]*i,A=a[c*2+1]*n,l.push(new g(v,x,y,T,E,A));return l};f.exports=o},90301:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),g=function(o,a,r,i){i===void 0&&(i=r);var n=o,l=a,s=o,u=a-i,d=o+r,c=a;return new h(n,l,s,u,d,c)};f.exports=g},23707:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97523),g=t(13584),o=function(a,r,i,n){n===void 0&&(n=h);var l=n(a),s=r-l.x,u=i-l.y;return g(a,s,u)};f.exports=o},97523:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){return a===void 0&&(a=new h),a.x=(o.x1+o.x2+o.x3)/3,a.y=(o.y1+o.y2+o.y3)/3,a};f.exports=g},24951:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099);function g(a,r,i,n){return a*n-r*i}var o=function(a,r){r===void 0&&(r=new h);var i=a.x3,n=a.y3,l=a.x1-i,s=a.y1-n,u=a.x2-i,d=a.y2-n,c=2*g(l,s,u,d),v=g(s,l*l+s*s,d,u*u+d*d),x=g(l,l*l+s*s,u,u*u+d*d);return r.x=i-v/c,r.y=n+x/c,r};f.exports=o},85614:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),g=function(o,a){a===void 0&&(a=new h);var r=o.x1,i=o.y1,n=o.x2,l=o.y2,s=o.x3,u=o.y3,d=n-r,c=l-i,v=s-r,x=u-i,y=d*(r+n)+c*(i+l),T=v*(r+s)+x*(i+u),E=2*(d*(u-l)-c*(s-n)),A,P;if(Math.abs(E)<1e-6){var w=Math.min(r,n,s),I=Math.min(i,l,u);A=(Math.max(r,n,s)-w)*.5,P=(Math.max(i,l,u)-I)*.5,a.x=w+A,a.y=I+P,a.radius=Math.sqrt(A*A+P*P)}else a.x=(x*y-c*T)/E,a.y=(d*T-v*y)/E,A=a.x-r,P=a.y-i,a.radius=Math.sqrt(A*A+P*P);return a};f.exports=g},74422:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),g=function(o){return new h(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};f.exports=g},10690:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=t.x3-t.x1,a=t.y3-t.y1,r=t.x2-t.x1,i=t.y2-t.y1,n=h-t.x1,l=g-t.y1,s=o*o+a*a,u=o*r+a*i,d=o*n+a*l,c=r*r+i*i,v=r*n+i*l,x=s*c-u*u,y=x===0?0:1/x,T=(c*d-u*v)*y,E=(s*v-u*d)*y;return T>=0&&E>=0&&T+E<1};f.exports=S},48653:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g===void 0&&(g=!1),o===void 0&&(o=[]);for(var a=t.x3-t.x1,r=t.y3-t.y1,i=t.x2-t.x1,n=t.y2-t.y1,l=a*a+r*r,s=a*i+r*n,u=i*i+n*n,d=l*u-s*s,c=d===0?0:1/d,v,x,y,T,E,A,P=t.x1,w=t.y1,I=0;I<h.length&&(y=h[I].x-P,T=h[I].y-w,E=a*y+r*T,A=i*y+n*T,v=(u*E-s*A)*c,x=(l*A-s*E)*c,!(v>=0&&x>=0&&v+x<1&&(o.push({x:h[I].x,y:h[I].y}),g)));I++);return o};f.exports=S},96006:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10690),g=function(o,a){return h(o,a.x,a.y)};f.exports=g},71326:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};f.exports=S},71694:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};f.exports=S},33522:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};f.exports=S},20437:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=t(35001),o=function(a,r,i){i===void 0&&(i=new h);var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();if(r<=0||r>=1)return i.x=n.x1,i.y=n.y1,i;var u=g(n),d=g(l),c=g(s),v=u+d+c,x=v*r,y=0;return x<u?(y=x/u,i.x=n.x1+(n.x2-n.x1)*y,i.y=n.y1+(n.y2-n.y1)*y):x>u+d?(x-=u+d,y=x/c,i.x=s.x1+(s.x2-s.x1)*y,i.y=s.y1+(s.y2-s.y1)*y):(x-=u,y=x/d,i.x=l.x1+(l.x2-l.x1)*y,i.y=l.y1+(l.y2-l.y1)*y),i};f.exports=o},80672:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=t(2141),o=function(a,r,i,n){n===void 0&&(n=[]);var l=a.getLineA(),s=a.getLineB(),u=a.getLineC(),d=h(l),c=h(s),v=h(u),x=d+c+v;!r&&i>0&&(r=x/i);for(var y=0;y<r;y++){var T=x*(y/r),E=0,A=new g;T<d?(E=T/d,A.x=l.x1+(l.x2-l.x1)*E,A.y=l.y1+(l.y2-l.y1)*E):T>d+c?(T-=d+c,E=T/v,A.x=u.x1+(u.x2-u.x1)*E,A.y=u.y1+(u.y2-u.y1)*E):(T-=d,E=T/c,A.x=s.x1+(s.x2-s.x1)*E,A.y=s.y1+(s.y2-s.y1)*E),n.push(A)}return n};f.exports=o},39757:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);function g(a,r,i,n){var l=a-i,s=r-n,u=l*l+s*s;return Math.sqrt(u)}var o=function(a,r){r===void 0&&(r=new h);var i=a.x1,n=a.y1,l=a.x2,s=a.y2,u=a.x3,d=a.y3,c=g(u,d,l,s),v=g(i,n,u,d),x=g(l,s,i,n),y=c+v+x;return r.x=(i*c+l*v+u*x)/y,r.y=(n*c+s*v+d*x)/y,r};f.exports=o},13584:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t.x1+=h,t.y1+=g,t.x2+=h,t.y2+=g,t.x3+=h,t.y3+=g,t};f.exports=S},1376:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),g=function(o){var a=o.getLineA(),r=o.getLineB(),i=o.getLineC();return h(a)+h(r)+h(i)};f.exports=g},90260:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),g=function(o,a){a===void 0&&(a=new h);var r=o.x2-o.x1,i=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,s=Math.random(),u=Math.random();return s+u>=1&&(s=1-s,u=1-u),a.x=o.x1+(r*s+n*u),a.y=o.y1+(i*s+l*u),a};f.exports=g},52172:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),g=t(39757),o=function(a,r){var i=g(a);return h(a,i.x,i.y,r)};f.exports=o},49907:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),g=function(o,a,r){return h(o,a.x,a.y,r)};f.exports=g},99614:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=Math.cos(o),r=Math.sin(o),i=t.x1-h,n=t.y1-g;return t.x1=i*a-n*r+h,t.y1=i*r+n*a+g,i=t.x2-h,n=t.y2-g,t.x2=i*a-n*r+h,t.y2=i*r+n*a+g,i=t.x3-h,n=t.y3-g,t.x3=i*a-n*r+h,t.y3=i*r+n*a+g,t};f.exports=S},16483:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(10690),o=t(20437),a=t(80672),r=t(23777),i=t(23031),n=t(90260),l=new h({initialize:function(u,d,c,v,x,y){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),x===void 0&&(x=0),y===void 0&&(y=0),this.type=r.TRIANGLE,this.x1=u,this.y1=d,this.x2=c,this.y2=v,this.x3=x,this.y3=y},contains:function(s,u){return g(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,d){return a(this,s,u,d)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,d,c,v,x){return s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=0),x===void 0&&(x=0),this.x1=s,this.y1=u,this.x2=d,this.y2=c,this.x3=v,this.y3=x,this},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}}});f.exports=l},84435:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483);h.Area=t(41658),h.BuildEquilateral=t(39208),h.BuildFromPolygon=t(39545),h.BuildRight=t(90301),h.CenterOn=t(23707),h.Centroid=t(97523),h.CircumCenter=t(24951),h.CircumCircle=t(85614),h.Clone=t(74422),h.Contains=t(10690),h.ContainsArray=t(48653),h.ContainsPoint=t(96006),h.CopyFrom=t(71326),h.Decompose=t(71694),h.Equals=t(33522),h.GetPoint=t(20437),h.GetPoints=t(80672),h.InCenter=t(39757),h.Perimeter=t(1376),h.Offset=t(13584),h.Random=t(90260),h.Rotate=t(52172),h.RotateAroundPoint=t(49907),h.RotateAroundXY=t(99614),f.exports=h},74457:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:g,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};f.exports=S},84409:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return function(g,o,a,r){var i=t.getPixelAlpha(o,a,r.texture.key,r.frame.name);return i&&i>=h}};f.exports=S},7003:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(93301),o=t(50792),a=t(8214),r=t(8443),i=t(78970),n=t(85098),l=t(42515),s=t(36210),u=t(61340),d=t(85955),c=new h({initialize:function(x,y){this.game=x,this.scaleManager,this.canvas,this.config=y,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=y.inputKeyboard?new i(this):null,this.mouse=y.inputMouse?new n(this):null,this.touch=y.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=y.inputActivePointers;for(var T=0;T<=this.pointersTotal;T++){var E=new l(this,T);E.smoothFactor=y.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=y.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],x.events.once(r.BOOT,this.boot,this)},boot:function(){var v=this.game,x=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(a.MANAGER_BOOT),x.on(r.PRE_RENDER,this.preRender,this),x.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(a.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(a.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,x=this.game.loop.delta,y=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(a.MANAGER_UPDATE);for(var T=0;T<y.length;T++){var E=y[T];if(E.sys.input&&E.sys.input.updatePoll(v,x)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v,x){(x||v&&v.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var x=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var y=0;y<v;y++){var T=this.pointers.length,E=new l(this,T);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,x.push(E)}return x},updateInputPlugins:function(v,x){var y=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var T=0;T<y.length;T++){var E=y[T];if(E.sys.input){var A=E.sys.input.update(v,x);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var x=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<x.length;A++){var P=x[A];if(!P.active){P.touchstart(E,v),this.activePointer=P,y.push(P);break}}this.updateInputPlugins(g.TOUCH_START,y)},onTouchMove:function(v){for(var x=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<x.length;A++){var P=x[A];if(P.active&&P.identifier===E.identifier){var w=document.elementFromPoint(E.clientX,E.clientY),I=w===this.canvas;!this.isOver&&I?this.setCanvasOver(v):this.isOver&&!I&&this.setCanvasOut(v),this.isOver&&(P.touchmove(E,v),this.activePointer=P,y.push(P));break}}this.updateInputPlugins(g.TOUCH_MOVE,y)},onTouchEnd:function(v){for(var x=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<x.length;A++){var P=x[A];if(P.active&&P.identifier===E.identifier){P.touchend(E,v),y.push(P);break}}this.updateInputPlugins(g.TOUCH_END,y)},onTouchCancel:function(v){for(var x=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<x.length;A++){var P=x[A];if(P.active&&P.identifier===E.identifier){P.touchcancel(E,v),y.push(P);break}}this.updateInputPlugins(g.TOUCH_CANCEL,y)},onMouseDown:function(v){var x=this.mousePointer;x.down(v),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(g.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var x=this.mousePointer;x.move(v),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(g.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var x=this.mousePointer;x.up(v),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(g.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var x=this.mousePointer;x.wheel(v),this.activePointer=x,this.updateInputPlugins(g.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var x=this.mouse.locked;this.mousePointer.locked=x,this.events.emit(a.POINTERLOCK_CHANGE,v,x)},inputCandidate:function(v,x){var y=v.input;if(!y||!y.enabled||!v.willRender(x))return!1;var T=!0,E=v.parentContainer;if(E)do{if(!E.willRender(x)){T=!1;break}E=E.parentContainer}while(E);return T},hitTest:function(v,x,y,T){T===void 0&&(T=this._tempHitTest);var E=this._tempPoint,A=y.scrollX,P=y.scrollY;T.length=0;var w=v.x,I=v.y;y.getWorldPoint(w,I,E),v.worldX=E.x,v.worldY=E.y;for(var O={x:0,y:0},F=this._tempMatrix,L=this._tempMatrix2,D=0;D<x.length;D++){var b=x[D];if(this.inputCandidate(b,y)){var U=E.x+A*b.scrollFactorX-A,W=E.y+P*b.scrollFactorY-P;b.parentContainer?(b.getWorldTransformMatrix(F,L),F.applyInverse(U,W,O)):d(U,W,b.x,b.y,b.rotation,b.scaleX,b.scaleY,O),this.pointWithinHitArea(b,O.x,O.y)&&T.push(b)}}return T},pointWithinHitArea:function(v,x,y){x+=v.displayOriginX,y+=v.displayOriginY;var T=v.input;return T&&T.hitAreaCallback(T.hitArea,x,y,v)?(T.localX=x,T.localY=y,!0):!1},pointWithinInteractiveObject:function(v,x,y){return v.hitArea?(x+=v.gameObject.displayOriginX,y+=v.gameObject.displayOriginY,v.localX=x,v.localY=y,v.hitAreaCallback(v.hitArea,x,y,v)):!1},transformPointer:function(v,x,y,T){var E=v.position,A=v.prevPosition;A.x=E.x,A.y=E.y;var P=this.scaleManager.transformX(x),w=this.scaleManager.transformY(y),I=v.smoothFactor;!T||I===0?(E.x=P,E.y=w):(E.x=P*I+A.x*(1-I),E.y=w*I+A.y*(1-I))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});f.exports=c},48205:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),g=t(87902),o=t(83419),a=t(93301),r=t(74457),i=t(84409),n=t(20339),l=t(8497),s=t(81154),u=t(8214),d=t(50792),c=t(95540),v=t(23777),x=t(89639),y=t(41212),T=t(37277),E=t(87841),A=t(37303),P=t(44594),w=t(16483),I=t(10690),O=new o({Extends:d,initialize:function(L){d.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new d,this.enabled=!0,this.displayList,this.cameras,x.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(P.BOOT,this.boot,this),L.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var F=this.systems.events;F.on(P.TRANSITION_START,this.transitionIn,this),F.on(P.TRANSITION_OUT,this.transitionOut,this),F.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(P.PRE_UPDATE,this.preUpdate,this),F.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(F){this.isActive()&&this.emit(u.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(u.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var F=this._pendingRemoval,L=this._pendingInsertion,D=F.length,b=L.length;if(!(D===0&&b===0)){for(var U=this._list,W=0;W<D;W++){var H=F[W],Y=U.indexOf(H);Y>-1&&(U.splice(Y,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=U.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(F){this.manager&&this.manager.setCursor(F)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(F,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,F,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,b=this.manager,U=b.pointers;for(D=0;D<U.length;D++)U[D].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(D=0;D<U.length;D++){var Y=0,G=U[D];this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(G),this.getDragState(G)===2&&this.processDragThresholdEvent(G,F),Y>0&&(H=!0)}return H},update:function(F,L){if(!this.isActive())return!1;for(var D=!1,b=0;b<L.length;b++){var U=0,W=L[b];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case a.MOUSE_DOWN:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverOutEvents(W);break;case a.MOUSE_UP:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOverOutEvents(W);break;case a.TOUCH_START:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverEvents(W);break;case a.TOUCH_END:case a.TOUCH_CANCEL:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOutEvents(W);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:U+=this.processDragMoveEvent(W),U+=this.processMoveEvents(W),U+=this.processOverOutEvents(W);break;case a.MOUSE_WHEEL:U+=this.processWheelEvent(W);break}U>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(F,L){L===void 0&&(L=!1),this.disable(F);var D=F.input;D&&(this.removeDebug(F),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,F.input=null),L||this.queueForRemoval(F);var b=this._draggable.indexOf(F);return b>-1&&this._draggable.splice(b,1),F},disable:function(F,L){L===void 0&&(L=!1);var D=F.input;D&&(D.enabled=!1,D.dragState=0);for(var b=this._drag,U=this._over,W=this.manager,H=0,Y;H<W.pointers.length;H++)Y=b[H].indexOf(F),Y>-1&&b[H].splice(Y,1),Y=U[H].indexOf(F),Y>-1&&U[H].splice(Y,1);return L&&this.resetCursor(),this},enable:function(F,L,D,b){return b===void 0&&(b=!1),F.input?F.input.enabled=!0:this.setHitArea(F,L,D),F.input&&b&&!F.input.dropZone&&(F.input.dropZone=b),this},hitTestPointer:function(F){for(var L=this.cameras.getCamerasBelowPointer(F),D=0;D<L.length;D++){for(var b=L[D],U=this.manager.hitTest(F,this._list,b),W=0;W<U.length;W++){var H=U[W];H.input.dropZone&&this._tempZones.push(H)}if(U.length>0)return F.camera=b,U}return F.camera=L[0],[]},processDownEvents:function(F){var L=0,D=this._temp,b=this._eventData,U=this._eventContainer;b.cancelled=!1;for(var W=0;W<D.length;W++){var H=D[W];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(u.GAMEOBJECT_POINTER_DOWN,F,H.input.localX,H.input.localY,U),b.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_DOWN,F,H,U),b.cancelled||!this.isActive())))break}return!b.cancelled&&this.isActive()&&(F.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,F,D):this.emit(u.POINTER_DOWN_OUTSIDE,F)),L},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,L){this._dragState[F.id]=L},processDragThresholdEvent:function(F,L){var D=!1,b=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&n(F.x,F.y,F.downX,F.downY)>=U||b>0&&L>=F.downTime+b)&&(D=!0),D)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var b=L[D],U=b.input;U.dragState=2,U.dragStartX=b.x,U.dragStartY=b.y,U.dragStartXGlobal=F.worldX,U.dragStartYGlobal=F.worldY,U.dragStartCamera=F.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,b.emit(u.GAMEOBJECT_DRAG_START,F,U.dragX,U.dragY),this.emit(u.DRAG_START,F,b)}return this.setDragState(F,4),L.length},processDragDownEvent:function(F){var L=this._temp;if(this._draggable.length===0||L.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var D=[],b=0;b<L.length;b++){var U=L[b];U.input.draggable&&U.input.dragState===0&&D.push(U)}return D.length===0?(this.setDragState(F,0),0):(D.length>1&&(this.sortGameObjects(D,F),this.topOnly&&D.splice(1)),this._drag[F.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;var L=this._tempZones,D=this._drag[F.id];D.length>1&&(D=D.slice(0));for(var b=0;b<D.length;b++){var U=D[b],W=U.input,H=W.target;if(H){var Y=L.indexOf(H);Y===0?(U.emit(u.GAMEOBJECT_DRAG_OVER,F,H),this.emit(u.DRAG_OVER,F,U,H)):Y>0?(U.emit(u.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(u.DRAG_LEAVE,F,U,H),W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H)):(U.emit(u.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(u.DRAG_LEAVE,F,U,H),L[0]?(W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H)):W.target=null)}else!H&&L[0]&&(W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H));var G,X,V=F.positionToCamera(W.dragStartCamera);if(!U.parentContainer)G=V.x-W.dragX,X=V.y-W.dragY;else{var B=V.x-W.dragStartXGlobal,z=V.y-W.dragStartYGlobal,$=U.getParentRotation(),j=B*Math.cos($)+z*Math.sin($),k=z*Math.cos($)-B*Math.sin($);j*=1/U.parentContainer.scaleX,k*=1/U.parentContainer.scaleY,G=j+W.dragStartX,X=k+W.dragStartY}U.emit(u.GAMEOBJECT_DRAG,F,G,X),this.emit(u.DRAG,F,U,G,X)}return D.length},processDragUpEvent:function(F){var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var b=L[D],U=b.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-b.displayOriginX,U.dragY=U.localY-b.displayOriginY,U.dragStartCamera=null;var W=!1,H=U.target;H&&(b.emit(u.GAMEOBJECT_DROP,F,H),this.emit(u.DROP,F,b,H),U.target=null,W=!0),b.input&&b.input.enabled&&(b.emit(u.GAMEOBJECT_DRAG_END,F,U.dragX,U.dragY,W),this.emit(u.DRAG_END,F,b,W))}}return this.setDragState(F,0),L.splice(0),0},processMoveEvents:function(F){var L=0,D=this._temp,b=this._eventData,U=this._eventContainer;b.cancelled=!1;for(var W=0;W<D.length;W++){var H=D[W];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(u.GAMEOBJECT_POINTER_MOVE,F,H.input.localX,H.input.localY,U),b.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_MOVE,F,H,U),b.cancelled||!this.isActive()||this.topOnly)))break}return!b.cancelled&&this.isActive()&&this.emit(u.POINTER_MOVE,F,D),L},processWheelEvent:function(F){var L=0,D=this._temp,b=this._eventData,U=this._eventContainer;b.cancelled=!1;for(var W=F.deltaX,H=F.deltaY,Y=F.deltaZ,G=0;G<D.length;G++){var X=D[G];if(!(!X.input||!X.input.enabled)&&(L++,X.emit(u.GAMEOBJECT_POINTER_WHEEL,F,W,H,Y,U),b.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_WHEEL,F,X,W,H,Y,U),b.cancelled||!this.isActive())))break}return!b.cancelled&&this.isActive()&&this.emit(u.POINTER_WHEEL,F,D,W,H,Y),L},processOverEvents:function(F){var L=this._temp,D=0,b=L.length,U=[];if(b>0){var W=this.manager,H=this._eventData,Y=this._eventContainer;H.cancelled=!1;for(var G=0;G<b;G++){var X=L[G];if(!(!X.input||!X.input.enabled)&&(U.push(X),W.setCursor(X.input),X.emit(u.GAMEOBJECT_POINTER_OVER,F,X.input.localX,X.input.localY,Y),D++,H.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,X,Y),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,U)}return this._over[F.id]=U,D},processOutEvents:function(F){var L=this._over[F.id],D=0,b=L.length;if(b>0){var U=this.manager,W=this._eventData,H=this._eventContainer;W.cancelled=!1,this.sortGameObjects(L,F);for(var Y=0;Y<b;Y++){var G=L[Y];if(G=L[Y],!(!G.input||!G.input.enabled)&&(U.resetCursor(G.input),G.emit(u.GAMEOBJECT_POINTER_OUT,F,H),D++,W.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,G,H),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(u.POINTER_OUT,F,L),this._over[F.id]=[]}return D},processOverOutEvents:function(F){var L=this._temp,D,b,U=[],W=[],H=[],Y=this._over[F.id],G=this._drag[F.id],X=this.manager;for(D=0;D<Y.length;D++)b=Y[D],L.indexOf(b)===-1&&G.indexOf(b)===-1?U.push(b):H.push(b);for(D=0;D<L.length;D++)b=L[D],Y.indexOf(b)===-1&&W.push(b);var V=U.length,B=0,z=this._eventData,$=this._eventContainer;if(z.cancelled=!1,V>0){for(this.sortGameObjects(U,F),D=0;D<V&&(b=U[D],!(!(!b.input||!b.input.enabled)&&(X.resetCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OUT,F,$),B++,z.cancelled||!this.isActive()||b.input&&b.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,b,$),z.cancelled||!this.isActive()))));D++);(!z.cancelled||this.isActive())&&this.emit(u.POINTER_OUT,F,U)}if(V=W.length,z.cancelled=!1,V>0){for(this.sortGameObjects(W,F),D=0;D<V&&(b=W[D],!(!(!b.input||!b.input.enabled)&&(X.setCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OVER,F,b.input.localX,b.input.localY,$),B++,z.cancelled||!this.isActive()||b.input&&b.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,b,$),z.cancelled||!this.isActive()))));D++);!z.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,W)}return Y=H.concat(W),this._over[F.id]=this.sortGameObjects(Y,F),B},processUpEvents:function(F){var L=this._temp,D=this._eventData,b=this._eventContainer;D.cancelled=!1;for(var U=0;U<L.length;U++){var W=L[U];if(!(!W.input||!W.input.enabled)&&(W.emit(u.GAMEOBJECT_POINTER_UP,F,W.input.localX,W.input.localY,b),D.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(u.GAMEOBJECT_UP,F,W,b),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(F.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,F,L):this.emit(u.POINTER_UP_OUTSIDE,F)),L.length},forceDownState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_DOWN,u.GAMEOBJECT_DOWN,!1)},forceUpState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_UP,u.GAMEOBJECT_UP,!1)},forceOverState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OVER,u.GAMEOBJECT_OVER,!0)},forceOutState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OUT,u.GAMEOBJECT_OUT,!1)},forceState:function(F,L,D,b,U){var W=this._eventData,H=this._eventContainer;W.cancelled=!1,L.input&&L.input.enabled&&(L.emit(D,F,L.input.localX,L.input.localY,H),U&&this.setCursor(L.input),!W.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(b,F,L,H))},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,L){L===void 0&&(L=!0),Array.isArray(F)||(F=[F]);for(var D=0;D<F.length;D++){var b=F[D];b.input.draggable=L;var U=this._draggable.indexOf(b);L&&U===-1?this._draggable.push(b):!L&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var L=this.systems.textures;return i(L,F)},setHitArea:function(F,L,D){if(L===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var b=!1,U=!1,W=!1,H=!1,Y=!1,G=!0;if(y(L)&&Object.keys(L).length){var X=L,V=F.some(function(k){return k.hasOwnProperty("faces")});if(!V){L=c(X,"hitArea",null),D=c(X,"hitAreaCallback",null),Y=c(X,"pixelPerfect",!1);var B=c(X,"alphaTolerance",1);Y&&(L={},D=this.makePixelPerfect(B))}b=c(X,"draggable",!1),U=c(X,"dropZone",!1),W=c(X,"cursor",!1),H=c(X,"useHandCursor",!1),(!L||!D)&&(this.setHitAreaFromTexture(F),G=!1)}else typeof L=="function"&&!D&&(D=L,L={});for(var z=0;z<F.length;z++){var $=F[z];if(Y&&$.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var j=$.input?$.input:r($,L,D);j.customHitArea=G,j.dropZone=U,j.cursor=H?"pointer":W,$.input=j,b&&this.setDraggable($),this.queueForInsertion($)}return this},setHitAreaCircle:function(F,L,D,b,U){U===void 0&&(U=g);var W=new h(L,D,b);return this.setHitArea(F,W,U)},setHitAreaEllipse:function(F,L,D,b,U,W){W===void 0&&(W=s);var H=new l(L,D,b,U);return this.setHitArea(F,H,W)},setHitAreaFromTexture:function(F,L){L===void 0&&(L=A),Array.isArray(F)||(F=[F]);for(var D=0;D<F.length;D++){var b=F[D],U=b.frame,W=0,H=0;if(b.width?(W=b.width,H=b.height):U&&(W=U.realWidth,H=U.realHeight),b.type==="Container"&&(W===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&H!==0&&(b.input=r(b,new E(0,0,W,H),L),this.queueForInsertion(b))}return this},setHitAreaRectangle:function(F,L,D,b,U,W){W===void 0&&(W=A);var H=new E(L,D,b,U);return this.setHitArea(F,H,W)},setHitAreaTriangle:function(F,L,D,b,U,W,H,Y){Y===void 0&&(Y=I);var G=new w(L,D,b,U,W,H);return this.setHitArea(F,G,Y)},enableDebug:function(F,L){L===void 0&&(L=65280);var D=F.input;if(!D||!D.hitArea)return this;var b=D.hitArea,U=b.type,W=D.hitAreaDebug,H=this.systems.add,Y=this.systems.updateList;W&&(Y.remove(W),W.destroy(),W=null);var G=0,X=0;switch(U){case v.CIRCLE:W=H.arc(0,0,b.radius),G=b.x-b.radius,X=b.y-b.radius;break;case v.ELLIPSE:W=H.ellipse(0,0,b.width,b.height),G=b.x-b.width/2,X=b.y-b.height/2;break;case v.LINE:W=H.line(0,0,b.x1,b.y1,b.x2,b.y2);break;case v.POLYGON:W=H.polygon(0,0,b.points);break;case v.RECTANGLE:W=H.rectangle(0,0,b.width,b.height),G=b.x,X=b.y;break;case v.TRIANGLE:W=H.triangle(0,0,b.x1,b.y1,b.x2,b.y2,b.x3,b.y3);break}return W&&(W.isFilled=!1,W.strokeColor=L,W.preUpdate=function(){W.setVisible(F.visible),W.setStrokeStyle(1/F.scale,W.strokeColor),W.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var V=F.x,B=F.y,z=F.rotation,$=F.scaleX,j=F.scaleY;if(F.parentContainer){var k=F.getWorldTransformMatrix();V=k.tx,B=k.ty,z=k.rotation,$=k.scaleX,j=k.scaleY}W.setRotation(z),W.setScale($,j),W.setPosition(V+G*$,B+X*j),W.setScrollFactor(F.scrollFactorX,F.scrollFactorY),W.setDepth(F.depth)},Y.add(W),D.hitAreaDebug=W),this},removeDebug:function(F){var L=F.input;if(L&&L.hitAreaDebug){var D=L.hitAreaDebug;D.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,L){if(F.length<2||!L.camera)return F;var D=L.camera.renderList;return F.sort(function(b,U){var W=Math.max(D.indexOf(b),0),H=Math.max(D.indexOf(U),0);return H-W})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,L){if(!F.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(F);if(F.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-F.parentContainer.getIndex(F);if(F.parentContainer===L)return-1;if(L.parentContainer===F)return 1;for(var D=F.getIndexList(),b=L.getIndexList(),U=Math.min(D.length,b.length),W=0;W<U;W++){var H=D[W],Y=b[W];if(H!==Y)return Y-H}return b.length-D.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var D=this.systems.events;D.off(P.TRANSITION_START,this.transitionIn,this),D.off(P.TRANSITION_OUT,this.transitionOut,this),D.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(P.PRE_UPDATE,this.preUpdate,this),L.events.off(u.GAME_OUT,this.onGameOut,this),L.events.off(u.GAME_OVER,this.onGameOver,this),D.off(P.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,L=0;L<F.length;L++)F[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",O,"input"),f.exports=O},89639:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g={},o={};o.register=function(a,r,i,n,l){g[a]={plugin:r,mapping:i,settingsKey:n,configKey:l}},o.getPlugin=function(a){return g[a]},o.install=function(a){var r=a.scene.sys,i=r.settings.input,n=r.game.config;for(var l in g){var s=g[l].plugin,u=g[l].mapping,d=g[l].settingsKey,c=g[l].configKey;h(i,d,n[c])&&(a[u]=new s(a))}},o.remove=function(a){g.hasOwnProperty(a)&&delete g[a]},f.exports=o},42515:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31040),g=t(83419),o=t(20339),a=t(43855),r=t(47235),i=t(26099),n=t(25892),l=new g({initialize:function(u,d){this.manager=u,this.id=d,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=d===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var u=s.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(s,u){return s.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var s=this.position.x,u=this.position.y,d=this.midPoint.x,c=this.midPoint.y;if(!(s===d&&u===c)){var v=r(this.motionFactor,d,s),x=r(this.motionFactor,c,u);a(v,s,.1)&&(v=s),a(x,u,.1)&&(x=u),this.midPoint.set(v,x);var y=s-v,T=u-x;this.velocity.set(y,T),this.angle=h(v,x,s,u),this.distance=Math.sqrt(y*y+T*T)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,u){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,u){this.event=u,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,u){s===void 0&&(s=10),u===void 0&&(u=[]);for(var d=this.prevPosition.x,c=this.prevPosition.y,v=this.position.x,x=this.position.y,y=0;y<s;y++){var T=1/s*y;u[y]={x:r(T,d,v),y:r(T,c,x)}}return u},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});f.exports=l},93301:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};f.exports=S},7179:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="boot"},85375:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},39843:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragend"},23388:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragenter"},16133:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drag"},27829:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragleave"},53904:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragover"},56058:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragstart"},2642:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drop"},88171:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectdown"},36147:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragend"},71692:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragenter"},96149:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drag"},81285:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragleave"},74048:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragover"},21322:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragstart"},49378:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drop"},86754:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectmove"},86433:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectout"},60709:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectover"},24081:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerdown"},11172:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointermove"},18907:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerout"},95579:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerover"},35368:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerup"},26972:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="wheel"},47078:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectup"},73802:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameobjectwheel"},56718:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameout"},25936:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="gameover"},27503:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="boot"},50852:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="process"},96438:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="update"},59152:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerlockchange"},47777:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerdown"},27957:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerdownoutside"},19444:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointermove"},54251:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerout"},18667:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerover"},27192:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerup"},24652:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pointerupoutside"},45132:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="wheel"},44512:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="preupdate"},15757:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="shutdown"},41637:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},93802:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="update"},8214:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r){this.pad=a,this.events=a.events,this.index=r,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});f.exports=g},28884:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92734),o=new h({initialize:function(r,i){this.pad=r,this.events=r.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var r=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(g.BUTTON_DOWN,r,this,a),this.pad.emit(g.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(g.BUTTON_UP,r,this,a),this.pad.emit(g.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});f.exports=o},99125:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97421),g=t(28884),o=t(83419),a=t(50792),r=t(26099),i=new o({Extends:a,initialize:function(l,s){a.call(this),this.manager=l,this.pad=s,this.id=s.id,this.index=s.index;for(var u=[],d=0;d<s.buttons.length;d++)u.push(new g(this,d));this.buttons=u;var c=[];for(d=0;d<s.axes.length;d++)c.push(new h(this,d));this.axes=c,this.vibration=s.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:v,this._LCRight=u[15]?u[15]:v,this._LCTop=u[12]?u[12]:v,this._LCBottom=u[13]?u[13]:v,this._RCLeft=u[2]?u[2]:v,this._RCRight=u[1]?u[1]:v,this._RCTop=u[3]?u[3]:v,this._RCBottom=u[0]?u[0]:v,this._FBLeftTop=u[4]?u[4]:v,this._FBLeftBottom=u[6]?u[6]:v,this._FBRightTop=u[5]?u[5]:v,this._FBRightBottom=u[7]?u[7]:v;var x={value:0};this._HAxisLeft=c[0]?c[0]:x,this._VAxisLeft=c[1]?c[1]:x,this._HAxisRight=c[2]?c[2]:x,this._VAxisRight=c[3]?c[3]:x,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,s=this.buttons,u=n.buttons,d=s.length;for(l=0;l<d;l++)s[l].update(u[l].value);var c=this.axes,v=n.axes;for(d=c.length,l=0;l<d;l++)c[l].update(v[l]);d>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),d>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});f.exports=i},56654:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(92734),a=t(99125),r=t(35154),i=t(89639),n=t(8214),l=new h({Extends:g,initialize:function(u){g.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(n.BOOT,this.boot,this),u.pluginEvents.on(n.START,this.start,this)},boot:function(){var s=this.scene.sys.game,u=this.settings.input,d=s.config;this.enabled=r(u,"gamepad",d.inputGamepad)&&s.device.input.gamepads,this.target=r(u,"gamepad.target",d.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,u=this.target,d=function(c){c.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(c))};this.onGamepadHandler=d,u.addEventListener("gamepadconnected",d,!1),u.addEventListener("gamepaddisconnected",d,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var u=this.gamepads,d=0;d<s.length;d++){var c=s[d];if(c){var v=c.id,x=c.index,y=u[x];if(y)y.id!==v?(y.destroy(),u[x]=new a(this,c)):y.update(c);else{var T=new a(this,c);u[x]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var s=[],u=this.gamepads,d=0;d<u.length;d++)u[d]&&s.push(u[d]);return s},getPad:function(s){for(var u=this.gamepads,d=0;d<u.length;d++)if(u[d]&&u[d].index===s)return u[d]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var u=this.queue.splice(0,s),d=0;d<s;d++){var c=u[d],v=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(o.CONNECTED,v,c):c.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,v,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),f.exports=l},89651:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="down"},7629:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="up"},42206:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="connected"},86544:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="disconnected"},94784:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="down"},14325:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="up"},92734:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93301),g=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=g(!1,o,h),f.exports=o},78970:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),g=t(83419),o=t(8443),a=t(8214),r=t(46032),i=t(29747),n=new g({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(a.MANAGER_PROCESS);var d=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!d&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(a.MANAGER_PROCESS);var d=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!d&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var d=l[u];typeof d=="string"&&(d=r[d.trim().toUpperCase()]),s.indexOf(d)===-1&&s.push(d)}this.preventDefault=s.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var d=l[u];typeof d=="string"&&(d=r[d.toUpperCase()]),h(s,d)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});f.exports=n},28846:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(95922),a=t(8443),r=t(35154),i=t(8214),n=t(89639),l=t(30472),s=t(46032),u=t(87960),d=t(74600),c=t(44594),v=t(56583),x=new h({Extends:g,initialize:function(T){g.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(i.BOOT,this.boot,this),T.pluginEvents.on(i.START,this.start,this)},boot:function(){var y=this.settings.input;this.enabled=r(y,"keyboard",!0);var T=r(y,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(y){return this.manager.addCapture(y),this},removeCapture:function(y){return this.manager.removeCapture(y),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(y,T,E){T===void 0&&(T=!0),E===void 0&&(E=!1);var A={};if(typeof y=="string"){y=y.split(",");for(var P=0;P<y.length;P++){var w=y[P].trim();w&&(A[w]=this.addKey(w,T,E))}}else for(var I in y)A[I]=this.addKey(y[I],T,E);return A},addKey:function(y,T,E){T===void 0&&(T=!0),E===void 0&&(E=!1);var A=this.keys;if(y instanceof l){var P=A.indexOf(y);return P>-1?A[P]=y:A[y.keyCode]=y,T&&this.addCapture(y.keyCode),y.setEmitOnRepeat(E),y}return typeof y=="string"&&(y=s[y.toUpperCase()]),A[y]||(A[y]=new l(this,y),T&&this.addCapture(y),A[y].setEmitOnRepeat(E)),A[y]},removeKey:function(y,T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);var A=this.keys,P;if(y instanceof l){var w=A.indexOf(y);w>-1&&(P=this.keys[w],this.keys[w]=void 0)}else typeof y=="string"&&(y=s[y.toUpperCase()]);return A[y]&&(P=A[y],A[y]=void 0),P&&(P.plugin=null,E&&this.removeCapture(P.keyCode),T&&P.destroy()),this},removeAllKeys:function(y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);for(var E=this.keys,A=0;A<E.length;A++){var P=E[A];P&&(E[A]=void 0,T&&this.removeCapture(P.keyCode),y&&P.destroy())}return this},createCombo:function(y,T){return new u(this,y,T)},checkDown:function(y,T){if(T===void 0&&(T=0),this.enabled&&y.isDown){var E=v(this.time-y.timeDown,T);if(E>y._tick)return y._tick=E,!0}return!1},update:function(){var y=this.manager.queue,T=y.length;if(!(!this.isActive()||T===0))for(var E=this.keys,A=0;A<T;A++){var P=y[A],w=P.keyCode,I=E[w],O=!1;P.cancelled===void 0&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),P.cancelled!==-1&&(w===this.prevCode&&P.timeStamp===this.prevTime&&P.type===this.prevType||(this.prevCode=w,this.prevTime=P.timeStamp,this.prevType=P.type,P.type==="keydown"?(I&&(O=I.isDown,I.onDown(P)),!P.cancelled&&(!I||!O)&&(d[w]&&this.emit(o.KEY_DOWN+d[w],P),P.cancelled||this.emit(o.ANY_KEY_DOWN,P))):(I&&I.onUp(P),P.cancelled||(d[w]&&this.emit(o.KEY_UP+d[w],P),P.cancelled||this.emit(o.ANY_KEY_UP,P))),P.cancelled===1&&(P.cancelled=0)))}},resetKeys:function(){for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",x,"keyboard","keyboard","inputKeyboard"),f.exports=x},66970:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};f.exports=S},87960:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95922),o=t(95540),a=t(68769),r=t(92803),i=new h({initialize:function(l,s,u){if(u===void 0&&(u={}),s.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var d=0;d<s.length;d++){var c=s[d];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(u,"resetOnWrongKey",!0),this.maxKeyDelay=o(u,"maxKeyDelay",0),this.resetOnMatch=o(u,"resetOnMatch",!1),this.deleteOnMatch=o(u,"deleteOnMatch",!1);var v=this,x=function(y){if(!(v.matched||!v.enabled)){var T=a(y,v);T&&(v.manager.emit(g.COMBO_MATCH,v,y),v.resetOnMatch?r(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=x,this.manager.on(g.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(g.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});f.exports=i},68769:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66970),g=function(o,a){if(a.matched)return!0;var r=!1,i=!1;if(o.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var n=a.timeLastMatched+a.maxKeyDelay;o.timeStamp<=n&&(i=!0,r=h(o,a))}else i=!0,r=h(o,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=o.timeStamp,a.matched=!0,a.timeMatched=o.timeStamp),r};f.exports=g},92803:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};f.exports=S},92612:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keydown"},23345:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keyup"},21957:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keycombomatch"},44743:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="down"},3771:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keydown-"},46358:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="keyup-"},75674:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="up"},95922:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var g=t.plugin.game.loop.time-t.timeDown;return t.isDown&&g<h};f.exports=S},90229:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};f.exports=S},38796:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};f.exports=S},30472:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(95922),a=new h({Extends:g,initialize:function(i,n){g.call(this),this.plugin=i,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});f.exports=a},46032:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};f.exports=S},74600:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46032),g={};for(var o in h)g[h[o]]=o;f.exports=g},41170:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var g=t.plugin.game.loop.time-t.timeUp;return t.isUp&&g<h};f.exports=S},85098:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89357),o=t(8214),a=t(29747),r=new h({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(g.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){g.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var n=this,l=this.manager,s=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(c),n.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){u&&window.focus(),!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(c),n.preventDefaultDown&&c.target===s&&c.preventDefault())},this.onMouseDownWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==s&&l.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(c),n.preventDefaultUp&&c.target===s&&c.preventDefault())},this.onMouseUpWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==s&&l.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(c),n.preventDefaultWheel&&c.target===s&&c.preventDefault()};var d={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,d),i.addEventListener("mouseout",this.onMouseOut,d),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,d),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,d),window.top.addEventListener("mouseup",this.onMouseUpWindow,d)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,d),window.addEventListener("mouseup",this.onMouseUpWindow,d),this.isTop=!1}g.pointerLock&&(this.pointerLockChange=function(c){var v=n.target;n.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,l.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),g.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});f.exports=r},87078:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={MouseManager:t(85098)}},36210:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(8214),o=t(29747),a=new h({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,i.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var i=this,n=this.manager,l=n.canvas,s=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchMove(v),i.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){s&&window.focus(),!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchStart(v),i.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchEnd(v),i.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchCancel(v),i.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&n.onTouchCancel(v)};var u=this.capture,d={passive:!0},c={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,u?c:d),r.addEventListener("touchmove",this.onTouchMove,u?c:d),r.addEventListener("touchend",this.onTouchEnd,u?c:d),r.addEventListener("touchcancel",this.onTouchCancel,u?c:d),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});f.exports=a},95618:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={TouchManager:t(36210)}},41299:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(54899),a=t(95540),r=t(98356),i=t(3374),n=t(84376),l=t(92638),s=new h({initialize:function(d,c){if(this.loader=d,this.cache=a(c,"cache",!1),this.type=a(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(c,"key",!1);var v=this.key;if(d.prefix&&d.prefix!==""&&(this.key=d.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var x=a(c,"url");x===void 0?x=d.path+v+"."+a(c,"extension",""):typeof x=="string"&&!x.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(x=d.path+x),this.url=x,this.src="",this.xhrSettings=l(a(c,"responseType",void 0)),a(c,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?g.FILE_POPULATED:g.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(c,"config",{}),this.multiFile,this.linkFile,this.base64=typeof x=="string"&&x.indexOf("data:")===0,this.retryAttempts=a(c,"maxRetries",d.maxRetries)},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===g.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=g.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(u,d){var c=u.responseURL&&this.loader.localSchemes.some(function(y){return u.responseURL.indexOf(y)===0}),v=c&&d.target.status===0,x=!(d.target&&d.target.status!==200)||v;u.readyState===4&&u.status>=400&&u.status<=599&&(x=!1),this.state=g.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,x)},onBase64Load:function(u){this.xhrLoader=u,this.state=g.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=g.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=g.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=g.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(u){if(this.state!==g.FILE_PENDING_DESTROY){u===void 0&&(u=this.data);var d=this.key,c=this.type;this.loader.emit(o.FILE_COMPLETE,d,c,u),this.loader.emit(o.FILE_KEY_COMPLETE+c+"-"+d,d,c,u),this.loader.flagForRemoval(this),this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(u,d,c){if(typeof URL=="function")u.src=URL.createObjectURL(d);else{var v=new FileReader;v.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(d.type||c)+";base64,"+v.result.split(",")[1]},v.onerror=u.onerror,v.readAsDataURL(d)}},s.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},f.exports=s},74099:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(h){for(var g in S)h[g]=S[g]},register:function(h,g){S[h]=g},destroy:function(){S={}}};f.exports=t},98356:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};f.exports=S},74261:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(35072),a=t(50792),r=t(54899),i=t(74099),n=t(95540),l=t(35154),s=t(41212),u=t(37277),d=t(44594),c=t(92638),v=new h({Extends:a,initialize:function(y){a.call(this);var T=y.sys.game.config,E=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(E,"baseURL",T.loaderBaseURL)),this.setPath(n(E,"path",T.loaderPath)),this.setPrefix(n(E,"prefix",T.loaderPrefix)),this.maxParallelDownloads=n(E,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=c(n(E,"responseType",T.loaderResponseType),n(E,"async",T.loaderAsync),n(E,"user",T.loaderUser),n(E,"password",T.loaderPassword),n(E,"timeout",T.loaderTimeout),n(E,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=n(E,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=n(E,"imageLoadType",T.loaderImageLoadType),this.localSchemes=n(E,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=g.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(E,"maxRetries",T.loaderMaxRetries),y.sys.events.once(d.BOOT,this.boot,this),y.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},setBaseURL:function(x){return x===void 0&&(x=""),x!==""&&x.substr(-1)!=="/"&&(x=x.concat("/")),this.baseURL=x,this},setPath:function(x){return x===void 0&&(x=""),x!==""&&x.substr(-1)!=="/"&&(x=x.concat("/")),this.path=x,this},setPrefix:function(x){return x===void 0&&(x=""),this.prefix=x,this},setCORS:function(x){return this.crossOrigin=x,this},addFile:function(x){Array.isArray(x)||(x=[x]);for(var y=0;y<x.length;y++){var T=x[y];this.keyExists(T)||(this.list.set(T),this.emit(r.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(x){var y=x.hasCacheConflict();return y||this.list.iterate(function(T){if(T.type===x.type&&T.key===x.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===x.type&&T.key===x.key)return y=!0,!1}),this.queue.iterate(function(T){if(T.type===x.type&&T.key===x.key)return y=!0,!1})),y},addPack:function(x,y){if(typeof y=="string"){var T=l(x,y);T&&(x={packKey:T})}var E=0,A=this.baseURL,P=this.path,w=this.prefix;for(var I in x)if(Object.prototype.hasOwnProperty.call(x,I)){var O=x[I],F=n(O,"baseURL",A),L=n(O,"path",P),D=n(O,"prefix",w),b=n(O,"files",null),U=n(O,"defaultType","void");if(Array.isArray(b)){this.setBaseURL(F),this.setPath(L),this.setPrefix(D);for(var W=0;W<b.length;W++){var H=b[W],Y=H.hasOwnProperty("type")?H.type:U;this[Y]&&(this[Y](H),E++)}}}return this.setBaseURL(A),this.setPath(P),this.setPrefix(w),E>0},removePack:function(x,y){var T=this.systems.anims,E=this.cacheManager,A=this.textureManager,P={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},w;if(s(x))w=x;else if(w=E.json.get(x),!w){console.warn("Asset Pack not found in JSON cache:",x);return}y&&(w={_:w[y]});for(var I in w){var O=w[I],F=n(O,"prefix",""),L=n(O,"files"),D=n(O,"defaultType");if(Array.isArray(L))for(var b=0;b<L.length;b++){var U=L[b],W=U.hasOwnProperty("type")?U.type:D;if(!W){console.warn("No type:",U);continue}var H=F+U.key;if(W==="animation"&&T.remove(H),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(A.remove(H),!P[W]))){if(W==="pack"){this.removePack(H,U.dataKey);continue}if(W==="spine"){var Y=E.custom.spine.get(H);if(!Y)continue;var G=Y.prefix===void 0?"":Y.prefix;E.custom.spine.remove(H);var X=E.custom.spineTextures.get(H);if(!X)continue;E.custom.spineTextures.remove(H);for(var V=0;V<X.pages.length;V++){var B=X.pages[V],z=G+B.name,$=H+":"+z;A.exists($)?A.remove($):A.remove(z)}}var j=P[W];if(j!==null){if(!j){console.warn("Unknown type:",W);continue}var k=E[j];k.remove(H)}}}}},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(d.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(x){if((x.state===g.FILE_POPULATED||x.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(x),this.list.delete(x),x.crossOrigin||(x.crossOrigin=this.crossOrigin),x.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(x,y){this.inflight&&(this.inflight.delete(x),this.updateProgress(),y?(this.totalComplete++,this.queue.set(x),this.emit(r.FILE_LOAD,x),x.onProcess()):(this.totalFailed++,this._deleteQueue.set(x),this.emit(r.FILE_LOAD_ERROR,x),this.fileProcessComplete(x)))},fileProcessComplete:function(x){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(x.state===g.FILE_ERRORED?x.multiFile&&x.multiFile.onFileFailed(x):x.state===g.FILE_COMPLETE&&(x.multiFile?x.multiFile.isReadyToProcess()&&(x.multiFile.addToCache(),x.multiFile.pendingDestroy()):(x.addToCache(),x.pendingDestroy())),this.queue.delete(x),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=g.LOADER_COMPLETE,this.systems.events.off(d.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(x){this._deleteQueue.set(x)},saveJSON:function(x,y){return this.save(JSON.stringify(x),y)},save:function(x,y,T){y===void 0&&(y="file.json"),T===void 0&&(T="application/json");var E=new Blob([x],{type:T}),A=URL.createObjectURL(E),P=document.createElement("a");return P.download=y,P.textContent="Download "+y,P.href=A,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var x=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(n(y,"baseURL",x.loaderBaseURL)),this.setPath(n(y,"path",x.loaderPath)),this.setPrefix(n(y,"prefix",x.loaderPrefix)),this.state=g.LOADER_IDLE},shutdown:function(){this.reset(),this.state=g.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=g.LOADER_DESTROYED,this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",v,"load"),f.exports=v},3374:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(92638),o=function(a,r){var i=a===void 0?g():h({},a);if(r)for(var n in r)r[n]!==void 0&&(i[n]=r[n]);return i};f.exports=o},26430:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(54899),a=new h({initialize:function(i,n,l,s){var u=[];s.forEach(function(v){v&&u.push(v)}),this.loader=i,this.type=n,this.key=l;var d=this.key;i.prefix&&i.prefix!==""&&(this.key=i.prefix+d),this.multiKeyIndex=i.multiKeyIndex++,this.files=u,this.state=g.FILE_PENDING,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var c=0;c<u.length;c++)u[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var i=this.files.indexOf(r);i!==-1&&this.pending--},onFileFailed:function(r){var i=this.files.indexOf(r);i!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==g.FILE_PENDING_DESTROY){var r=this.key,i=this.type;this.loader.emit(o.FILE_COMPLETE,r,i),this.loader.emit(o.FILE_KEY_COMPLETE+i+"-"+r,r,i),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});f.exports=a},84376:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3374),g=function(o,a){var r=h(a,o.xhrSettings);if(o.base64){var i=o.url.split(";base64,").pop()||o.url.split(",").pop(),n={responseText:atob(i)};o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,r.async,r.user,r.password),l.responseType=o.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var s in r.headers)l.setRequestHeader(s,r.headers[s]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};f.exports=g},92638:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a,r){return t===void 0&&(t=""),h===void 0&&(h=!0),g===void 0&&(g=""),o===void 0&&(o=""),a===void 0&&(a=0),r===void 0&&(r=!1),{responseType:t,async:h,user:g,password:o,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};f.exports=S},23906:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};f.exports=S},42155:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addfile"},38991:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},27540:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="filecomplete"},87464:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="filecomplete-"},94486:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="loaderror"},13035:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="load"},38144:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="fileprogress"},97520:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postprocess"},85595:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="progress"},55680:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},54899:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(518),a=t(54899),r=new h({Extends:o,initialize:function(n,l,s,u,d){o.call(this,n,l,s,u,d),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});g.register("animation",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,s,l));return this}),f.exports=r},76272:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,d,c,v,x,y){var T,E;if(r(d)){var A=d;d=o(A,"key"),T=new a(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new i(u,{key:d,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,d,c,x),E=new i(u,d,v,y);T.linkFile?n.call(this,u,"atlasjson",d,[T,E,T.linkFile]):n.call(this,u,"atlasjson",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,d),u.addToCache(),this.complete=!0}}});g.register("aseprite",function(s,u,d,c,v){var x;if(Array.isArray(s))for(var y=0;y<s.length;y++)x=new l(this,s[y]),this.addFile(x.files);else x=new l(this,s,u,d,c,v),this.addFile(x.files);return this}),f.exports=l},38734:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,d,c,v,x,y){var T,E;if(r(d)){var A=d;d=o(A,"key"),T=new a(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new i(u,{key:d,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,d,c,x),E=new i(u,d,v,y);T.linkFile?n.call(this,u,"atlasjson",d,[T,E,T.linkFile]):n.call(this,u,"atlasjson",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,d),this.complete=!0}}});g.register("atlas",function(s,u,d,c,v){var x;if(Array.isArray(s))for(var y=0;y<s.length;y++)x=new l(this,s[y]),this.addFile(x.files);else x=new l(this,s,u,d,c,v),this.addFile(x.files);return this}),f.exports=l},74599:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(57318),l=new h({Extends:i,initialize:function(u,d,c,v,x,y){var T,E;if(r(d)){var A=d;d=o(A,"key"),T=new a(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new n(u,{key:d,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","xml"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,d,c,x),E=new n(u,d,v,y);T.linkFile?i.call(this,u,"atlasxml",d,[T,E,T.linkFile]):i.call(this,u,"atlasxml",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,u.data,d),this.complete=!0}}});g.register("atlasXML",function(s,u,d,c,v){var x;if(Array.isArray(s))for(var y=0;y<s.length;y++)x=new l(this,s[y]),this.addFile(x.files);else x=new l(this,s,u,d,c,v),this.addFile(x.files);return this}),f.exports=l},21097:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(89749),n=t(41212),l=new h({Extends:o,initialize:function(u,d,c,v,x){if(n(d)){var y=d;d=r(y,"key"),v=r(y,"xhrSettings"),x=r(y,"context",x)}var T={type:"audio",cache:u.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:d,url:c.url,xhrSettings:v,config:{context:x}};o.call(this,u,T)},onProcess:function(){this.state=g.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){s.data=u,s.onProcessComplete()},function(u){console.error("Error decoding audio: "+s.key+" - ",u?u.message:null),s.onProcessError()}),this.config.context=null}});l.create=function(s,u,d,c,v){var x=s.systems.game,y=x.config.audio,T=x.device.audio;n(u)&&(d=r(u,"url",[]),c=r(u,"config",{}));var E=l.getAudioURL(x,d);return E?T.webAudio&&!y.disableWebAudio?new l(s,u,E,v,x.sound.context):new i(s,u,E,c):(console.warn('No audio URLs for "%s" can play on this device',u),null)},l.getAudioURL=function(s,u){Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var c=r(u[d],"url",u[d]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var v=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=r(u[d],"type",v?v[1]:"").toLowerCase(),s.device.audio[v])return{url:c,type:v}}return null},a.register("audio",function(s,u,d,c){var v=this.systems.game,x=v.config.audio,y=v.device.audio;if(x.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(s))for(var E=0;E<s.length;E++)T=l.create(this,s[E]),T&&this.addFile(T);else T=l.create(this,s,u,d,c),T&&this.addFile(T);return this}),f.exports=l},89524:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21097),g=t(83419),o=t(74099),a=t(95540),r=t(41212),i=t(518),n=t(26430),l=new g({Extends:n,initialize:function(u,d,c,v,x,y,T){if(r(d)){var E=d;d=a(E,"key"),c=a(E,"jsonURL"),v=a(E,"audioURL"),x=a(E,"audioConfig"),y=a(E,"audioXhrSettings"),T=a(E,"jsonXhrSettings")}var A;if(!v)A=new i(u,d,c,T),n.call(this,u,"audiosprite",d,[A]),this.config.resourceLoad=!0,this.config.audioConfig=x,this.config.audioXhrSettings=y;else{var P=h.create(u,d,v,x,y);P&&(A=new i(u,d,c,T),n.call(this,u,"audiosprite",d,[P,A]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var d=s.data.resources,c=a(this.config,"audioConfig"),v=a(this.config,"audioXhrSettings"),x=h.create(this.loader,s.key,d,c,v);x&&(this.addToMultiFile(x),this.loader.addFile(x))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1];s.addToCache(),u.addToCache(),this.complete=!0}}});o.register("audioSprite",function(s,u,d,c,v,x){var y=this.systems.game,T=y.config.audio,E=y.device.audio;if(T&&T.noAudio||!E.webAudio&&!E.audioData)return this;var A;if(Array.isArray(s))for(var P=0;P<s.length;P++)A=new l(this,s[P]),A.files&&this.addFile(A.files);else A=new l(this,s,u,d,c,v,x),A.files&&this.addFile(A.files);return this})},85722:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v){var x="bin";if(i(u)){var y=u;u=r(y,"key"),d=r(y,"url"),c=r(y,"xhrSettings"),x=r(y,"extension",x),v=r(y,"dataType",v)}var T={type:"binary",cache:s.cacheManager.binary,extension:x,responseType:"arraybuffer",key:u,url:d,xhrSettings:c,config:{dataType:v}};o.call(this,s,T)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(l,s,u,d){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,d,u));return this}),f.exports=n},97025:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(21859),l=t(57318),s=new h({Extends:i,initialize:function(d,c,v,x,y,T){var E,A;if(r(c)){var P=c;c=o(P,"key"),E=new a(d,{key:c,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),A=new l(d,{key:c,url:o(P,"fontDataURL"),extension:o(P,"fontDataExtension","xml"),xhrSettings:o(P,"fontDataXhrSettings")})}else E=new a(d,c,v,y),A=new l(d,c,x,T);E.linkFile?i.call(this,d,"bitmapfont",c,[E,A,E.linkFile]):i.call(this,d,"bitmapfont",c,[E,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1];u.addToCache();var c=u.cache.get(u.key),v=n(d.data,u.cache.getFrame(u.key),0,0,c);this.loader.cacheManager.bitmapFont.add(u.key,{data:v,texture:u.key,frame:null}),this.complete=!0}}});g.register("bitmapFont",function(u,d,c,v,x){var y;if(Array.isArray(u))for(var T=0;T<u.length;T++)y=new s(this,u[T]),this.addFile(y.files);else y=new s(this,u,d,c,v,x),this.addFile(y.files);return this}),f.exports=s},16024:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){var v="css";if(i(u)){var x=u;u=r(x,"key"),d=r(x,"url"),c=r(x,"xhrSettings"),v=r(x,"extension",v)}var y={type:"script",cache:!1,extension:v,responseType:"text",key:u,url:d,xhrSettings:c};o.call(this,s,y)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u));return this}),f.exports=n},69559:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38734),g=t(85722),o=t(83419),a=t(74099),r=t(95540),i=t(19550),n=t(41212),l=t(518),s=t(31403),u=t(46975),d=t(59327),c=t(26430),v=t(82038),x=t(55222),y=new o({Extends:c,initialize:function(E,A,P,w){if(P.multiAtlasURL){var I=new l(E,{key:A,url:P.multiAtlasURL,xhrSettings:w,config:P});c.call(this,E,"texture",A,[I])}else{var O=P.textureURL.substr(P.textureURL.length-3);P.type||(P.type=O.toLowerCase()==="ktx"?"KTX":"PVR");var F=new g(E,{key:A,url:P.textureURL,extension:O,xhrSettings:w,config:P});if(P.atlasURL){var L=new l(E,{key:A,url:P.atlasURL,xhrSettings:w,config:P});c.call(this,E,"texture",A,[F,L])}else c.call(this,E,"texture",A,[F])}this.config=P},onFileComplete:function(T){var E=this.files.indexOf(T);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var A=T.data.textures,P=this.config,w=this.loader,I=w.baseURL,O=w.path,F=w.prefix,L=r(P,"multiBaseURL",this.baseURL),D=r(P,"multiPath",this.path),b=r(P,"prefix",this.prefix),U=r(P,"textureXhrSettings");L&&w.setBaseURL(L),D&&w.setPath(D),b&&w.setPrefix(b);for(var W=0;W<A.length;W++){var H=A[W].image,Y="CMA"+this.multiKeyIndex+"_"+H,G=new g(w,Y,H,U);if(this.addToMultiFile(G),w.addFile(G),A[W].normalMap){var X=new g(w,Y,A[W].normalMap,U);X.type="normalMap",G.setLink(X),this.addToMultiFile(X),w.addFile(X)}}w.setBaseURL(I),w.setPath(O),w.setPrefix(F)}}},addToCache:function(){function T(L){console.warn('Compressed Texture Invalid: "'+I.key+'". '+L)}if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,P=this.loader.textureManager,w,I=this.files[0],O=this.files[1];if(E.type==="PVR"?w=v(I.data):E.type==="KTX"&&(w=s(I.data),w||T("KTX file contains unsupported format.")),w&&!x(w)&&(T("Texture dimensions failed verification. Check the texture format specifications for "+E.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!A.supportsCompressedTexture(E.format,w.internalFormat)&&(T("Texture format "+E.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=A.getCompressedTextureName(E.format,w.internalFormat);var F=O&&O.data?O.data:null;P.addCompressedTexture(I.key,w,F)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,E=this.files[0],A=[],P=[],w=[],I=this.loader.systems.renderer,O=this.loader.textureManager,F,L=1;L<this.files.length;L++){var D=this.files[L];if(D.type!=="normalMap")for(var b=D.key.indexOf("_"),U=D.key.substr(b+1),W=D.data,H=0;H<E.data.textures.length;H++){var Y=E.data.textures[H];if(Y.image===U){T.type==="PVR"?F=v(W):T.type==="KTX"&&(F=s(W)),F&&I.supportsCompressedTexture(T.format,F.internalFormat)&&(F.format=I.getCompressedTextureName(T.format,F.internalFormat),P.push(F),A.push(Y),D.linkFile&&w.push(D.linkFile.data));break}}}w.length===0&&(w=void 0),O.addAtlasJSONArray(this.key,P,A,w),this.complete=!0}});a.register("texture",function(T,E,A){var P=this.systems.renderer,w=function(O,F,L,D){var b={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(F)){var U=F;F=r(U,"key"),L=r(U,"url"),D=r(U,"xhrSettings")}var W=!1;for(var H in L)if(P.supportsCompressedTexture(H)){var Y=L[H];typeof Y=="string"?b.textureURL=Y:b=u(Y,b),b.format=H.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",F);else if(b.format==="IMG"){var G,X;b.multiAtlasURL?(X=new d(O,F,b.multiAtlasURL,b.multiPath,b.multiBaseURL,D),G=X.files):b.atlasURL?(X=new h(O,F,b.textureURL,b.atlasURL,D),G=X.files):G=new i(O,F,b.textureURL,D),O.addFile(G)}else{var V=new y(O,F,b,D);O.addFile(V.files)}};if(Array.isArray(T))for(var I=0;I<T.length;I++)w(this,T[I]);else w(this,T,E,A);return this}),f.exports=y},87674:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(98356),n=t(41212),l=new h({Extends:o,initialize:function(u,d,c,v,x,y){var T="ttf";if(n(d)){var E=d;d=r(E,"key"),c=r(E,"url"),v=r(E,"format","truetype"),x=r(E,"descriptors",null),y=r(E,"xhrSettings"),T=r(E,"extension",T)}else v===void 0&&(v="truetype");var A={type:"font",cache:!1,extension:T,responseType:"text",key:d,url:c,xhrSettings:y};o.call(this,u,A),this.data={format:v,descriptors:x},this.state=g.FILE_POPULATED},onProcess:function(){this.state=g.FILE_PROCESSING,this.src=i(this,this.loader.baseURL);var s,u=this.key,d="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?s=new FontFace(u,d,this.data.descriptors):s=new FontFace(u,d);var c=this;s.load().then(function(){document.fonts.add(s),document.body.classList.add("fonts-loaded"),c.onProcessComplete()}).catch(function(){console.warn("Font failed to load",d),c.onProcessComplete()})}});a.register("font",function(s,u,d,c,v){if(Array.isArray(s))for(var x=0;x<s.length;x++)this.addFile(new l(this,s[x]));else this.addFile(new l(this,s,u,d,c,v));return this}),f.exports=l},47931:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(73894),l=new h({Extends:o,initialize:function(u,d,c,v,x){var y="glsl";if(i(d)){var T=d;d=r(T,"key"),c=r(T,"url"),v=r(T,"shaderType","fragment"),x=r(T,"xhrSettings"),y=r(T,"extension",y)}else v===void 0&&(v="fragment");var E={type:"glsl",cache:u.cacheManager.shader,extension:y,responseType:"text",key:d,url:c,config:{shaderType:v},xhrSettings:x};o.call(this,u,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),u=this.extractBlock(s,0);if(u)for(;u;){var d=this.getShaderName(u.header),c=this.getShaderType(u.header),v=this.getShaderUniforms(u.header),x=u.shader;if(this.cache.has(d)){var y=this.cache.get(d);c==="fragment"?y.fragmentSrc=x:y.vertexSrc=x,y.uniforms||(y.uniforms=v)}else c==="fragment"?this.cache.add(d,new n(d,x,"",v)):this.cache.add(d,new n(d,"",x,v));u=this.extractBlock(s,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(s){for(var u=0;u<s.length;u++){var d=s[u].trim();if(d.substring(0,5)==="name:")return d.substring(5).trim()}return this.key},getShaderType:function(s){for(var u=0;u<s.length;u++){var d=s[u].trim();if(d.substring(0,5)==="type:")return d.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var u={},d=0;d<s.length;d++){var c=s[d].trim();if(c.substring(0,8)==="uniform."){var v=c.indexOf(":");if(v){var x=c.substring(8,v);try{u[x]=JSON.parse(c.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+x)}}}}return u},extractBlock:function(s,u){for(var d=-1,c=-1,v=-1,x=!1,y=!1,T=[],E=[],A=u;A<s.length;A++){var P=s[A].trim();if(P==="---")if(d===-1)d=A,x=!0;else if(x)c=A,x=!1,y=!0;else{y=!1;break}else x?T.push(P):y&&(E.push(P),v=A)}return!x&&c!==-1?{header:T,shader:E.join(`
`),offset:v}:null}});a.register("glsl",function(s,u,d,c){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,d,c));return this}),f.exports=l},89749:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(54899),o=t(41299),a=t(95540),r=t(98356),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){if(i(u)){var v=u;u=a(v,"key"),c=a(v,"config",c)}var x={type:"audio",cache:s.cacheManager.audio,extension:d.type,key:u,url:d.url,config:c};o.call(this,s,x),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var s=this.data[l];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var s=l.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<l;s++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+s).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(s=0;s<this.data.length;s++)u=this.data[s],u.src=r(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});f.exports=n},88470:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){var v="html";if(i(u)){var x=u;u=r(x,"key"),d=r(x,"url"),c=r(x,"xhrSettings"),v=r(x,"extension",v)}var y={type:"text",cache:s.cacheManager.html,extension:v,responseType:"text",key:u,url:d,xhrSettings:c};o.call(this,s,y)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u));return this}),f.exports=n},14643:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v,x){c===void 0&&(c=512),v===void 0&&(v=512);var y="html";if(i(u)){var T=u;u=r(T,"key"),d=r(T,"url"),x=r(T,"xhrSettings"),y=r(T,"extension",y),c=r(T,"width",c),v=r(T,"height",v)}var E={type:"html",cache:s.textureManager,extension:y,responseType:"text",key:u,url:d,xhrSettings:x,config:{width:c,height:v}};o.call(this,s,E)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.config.width,s=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+s+'px" viewBox="0 0 '+l+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var d=[u.join(`
`)],c=this;try{var v=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=g.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(c.data),c.onProcessError()},o.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(l,s,u,d,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,d,c));return this}),f.exports=n},19550:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(98356),l=new h({Extends:o,initialize:function s(u,d,c,v,x){var y="png",T;if(i(d)){var E=d;d=r(E,"key"),c=r(E,"url"),T=r(E,"normalMap"),v=r(E,"xhrSettings"),y=r(E,"extension",y),x=r(E,"frameConfig")}Array.isArray(c)&&(T=c[1],c=c[0]);var A={type:"image",cache:u.textureManager,extension:y,responseType:"blob",key:d,url:c,xhrSettings:v,config:x};if(o.call(this,u,A),T){var P=new s(u,this.key,T,v,x);P.type="normalMap",this.setLink(P),u.addFile(P)}this.useImageElementLoad=u.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){o.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(s.data),s.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=g.FILE_PROCESSING,s===g.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=g.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=g.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=g.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(s,u,d){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d));return this}),f.exports=l},518:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(35154),n=t(41212),l=new h({Extends:o,initialize:function(u,d,c,v,x){var y="json";if(n(d)){var T=d;d=r(T,"key"),c=r(T,"url"),v=r(T,"xhrSettings"),y=r(T,"extension",y),x=r(T,"dataKey",x)}var E={type:"json",cache:u.cacheManager.json,extension:y,responseType:"text",key:d,url:c,xhrSettings:v,config:x};o.call(this,u,E),n(c)&&(x?this.data=i(c,x):this.data=c,this.state=g.FILE_POPULATED)},onProcess:function(){if(this.state!==g.FILE_POPULATED){this.state=g.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(d){throw this.onProcessError(),d}var u=this.config;typeof u=="string"?this.data=i(s,u,s):this.data=s}this.onProcessComplete()}});a.register("json",function(s,u,d,c){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,c,d));return this}),f.exports=l},59327:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,d,c,v,x,y,T){if(r(d)){var E=d;d=o(E,"key"),o(E,"url",!1)?c=o(E,"url"):c=o(E,"atlasURL"),y=o(E,"xhrSettings"),v=o(E,"path"),x=o(E,"baseURL"),T=o(E,"textureXhrSettings")}var A=new i(u,d,c,y);n.call(this,u,"multiatlas",d,[A]),this.config.path=v,this.config.baseURL=x,this.config.textureXhrSettings=T},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var d=s.data.textures,c=this.config,v=this.loader,x=v.baseURL,y=v.path,T=v.prefix,E=o(c,"baseURL",this.baseURL),A=o(c,"path",this.path),P=o(c,"prefix",this.prefix),w=o(c,"textureXhrSettings");v.setBaseURL(E),v.setPath(A),v.setPrefix(P);for(var I=0;I<d.length;I++){var O=d[I].image,F="MA"+this.multiKeyIndex+"_"+O,L=new a(v,F,O,w);if(this.addToMultiFile(L),v.addFile(L),d[I].normalMap){var D=new a(v,F,d[I].normalMap,w);D.type="normalMap",L.setLink(D),this.addToMultiFile(D),v.addFile(D)}}v.setBaseURL(x),v.setPath(y),v.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],u=[],d=[],c=[],v=1;v<this.files.length;v++){var x=this.files[v];if(x.type!=="normalMap")for(var y=x.key.indexOf("_"),T=x.key.substr(y+1),E=x.data,A=0;A<s.data.textures.length;A++){var P=s.data.textures[A];if(P.image===T){d.push(E),u.push(P),x.linkFile&&c.push(x.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,d,u,c),this.complete=!0}}});g.register("multiatlas",function(s,u,d,c,v){var x;if(Array.isArray(s))for(var y=0;y<s.length;y++)x=new l(this,s[y]),this.addFile(x.files);else x=new l(this,s,u,d,c,v),this.addFile(x.files);return this}),f.exports=l},99297:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(41212),r=t(26430),i=t(34328),n=new h({Extends:r,initialize:function(s,u,d,c){var v="js",x=[];if(a(u)){var y=u;u=o(y,"key"),d=o(y,"url"),c=o(y,"xhrSettings"),v=o(y,"extension",v)}Array.isArray(d)||(d=[d]);for(var T=0;T<d.length;T++){var E=new i(s,{key:u+"_"+T.toString(),url:d[T],extension:v,xhrSettings:c});E.onProcess=function(){this.onProcessComplete()},x.push(E)}r.call(this,s,"scripts",u,x)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var s=this.files[l];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});g.register("scripts",function(l,s,u){var d;if(Array.isArray(l))for(var c=0;c<l.length;c++)d=new n(this,l[c]),this.addFile(d.files);else d=new n(this,l,s,u),this.addFile(d.files);return this}),f.exports=n},41846:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(41212),r=t(26430),i=t(85048),n=t(61485),l=t(78776),s=new h({Extends:r,initialize:function(d,c,v,x,y,T){var E,A,P=d.cacheManager.obj;if(a(c)){var w=c;c=o(w,"key"),E=new l(d,{key:c,type:"obj",cache:P,url:o(w,"url"),extension:o(w,"extension","obj"),xhrSettings:o(w,"xhrSettings"),config:{flipUV:o(w,"flipUV",y)}}),x=o(w,"matURL"),x&&(A=new l(d,{key:c,type:"mat",cache:P,url:x,extension:o(w,"matExtension","mat"),xhrSettings:o(w,"xhrSettings")}))}else E=new l(d,{key:c,url:v,type:"obj",cache:P,extension:"obj",xhrSettings:T,config:{flipUV:y}}),x&&(A=new l(d,{key:c,url:x,type:"mat",cache:P,extension:"mat",xhrSettings:T}));r.call(this,d,"obj",c,[E,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1],c=i(u.data,u.config.flipUV);d&&(c.materials=n(d.data)),u.cache.add(u.key,c),this.complete=!0}}});g.register("obj",function(u,d,c,v,x){var y;if(Array.isArray(u))for(var T=0;T<u.length;T++)y=new s(this,u[T]),this.addFile(y.files);else y=new s(this,u,d,c,v,x),this.addFile(y.files);return this}),f.exports=s},58610:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(74099),a=t(518),r=new h({Extends:a,initialize:function(n,l,s,u,d){a.call(this,n,l,s,u,d),this.type="packfile"},onProcess:function(){if(this.state!==g.FILE_POPULATED&&(this.state=g.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var i={};i[this.config]=this.data,this.data=i}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,s,l));return this}),f.exports=r},48988:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v,x){var y="js";if(i(u)){var T=u;u=r(T,"key"),d=r(T,"url"),x=r(T,"xhrSettings"),y=r(T,"extension",y),c=r(T,"start"),v=r(T,"mapping")}var E={type:"plugin",cache:!1,extension:y,responseType:"text",key:u,url:d,xhrSettings:x,config:{start:c,mapping:v}};o.call(this,s,E),typeof d=="function"&&(this.data=d,this.state=g.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=r(s,"start",!1),d=r(s,"mapping",null);if(this.state===g.FILE_POPULATED)l.install(this.key,this.data,u,d);else{this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=l.install(this.key,window[this.key],u,d);(u||d)&&(this.loader.systems[d]=c,this.loader.scene[d]=c)}this.onProcessComplete()}});a.register("plugin",function(l,s,u,d,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,d,c));return this}),f.exports=n},67397:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v){var x="svg";if(i(u)){var y=u;u=r(y,"key"),d=r(y,"url"),c=r(y,"svgConfig",{}),v=r(y,"xhrSettings"),x=r(y,"extension",x)}var T={type:"svg",cache:s.textureManager,extension:x,responseType:"text",key:u,url:d,xhrSettings:v,config:{width:r(c,"width"),height:r(c,"height"),scale:r(c,"scale")}};o.call(this,s,T)},onProcess:function(){this.state=g.FILE_PROCESSING;var l=this.xhrLoader.responseText,s=[l],u=this.config.width,d=this.config.height,c=this.config.scale;t:if(u&&d||c){var v=null,x=new DOMParser;v=x.parseFromString(l,"text/xml");var y=v.getElementsByTagName("svg")[0],T=y.hasAttribute("viewBox"),E=parseFloat(y.getAttribute("width")),A=parseFloat(y.getAttribute("height"));if(!T&&E&&A)y.setAttribute("viewBox","0  0 "+E+" "+A);else if(T&&!E&&!A){var P=y.getAttribute("viewBox").split(/\s+|,/);E=P[2],A=P[3]}if(c)if(E&&A)u=E*c,d=A*c;else break t;y.setAttribute("width",u.toString()+"px"),y.setAttribute("height",d.toString()+"px"),s=[new XMLSerializer().serializeToString(y)]}try{var w=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var I=this,O=!1;this.data.onload=function(){O||o.revokeObjectURL(I.data),I.onProcessComplete()},this.data.onerror=function(){O?I.onProcessError():(O=!0,o.revokeObjectURL(I.data),I.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},o.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(l,s,u,d){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,u,d));return this}),f.exports=n},88423:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){var v="js";if(i(u)){var x=u;u=r(x,"key"),d=r(x,"url"),c=r(x,"xhrSettings"),v=r(x,"extension",v)}var y={type:"text",extension:v,responseType:"text",key:u,url:d,xhrSettings:c};o.call(this,s,y)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(l)),this.complete=!0}});a.register("sceneFile",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u));return this}),f.exports=n},56812:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v,x){var y="js";if(i(u)){var T=u;u=r(T,"key"),d=r(T,"url"),x=r(T,"xhrSettings"),y=r(T,"extension",y),c=r(T,"systemKey"),v=r(T,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:y,responseType:"text",key:u,url:d,xhrSettings:x,config:{systemKey:c,sceneKey:v}};o.call(this,s,E),typeof d=="function"&&(this.data=d,this.state=g.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=this.key,d=r(s,"systemKey",u),c=r(s,"sceneKey",u);this.state===g.FILE_POPULATED?l.installScenePlugin(d,this.data,c,this.loader.scene,!0):(this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(d,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(l,s,u,d,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,d,c));return this}),f.exports=n},34328:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c,v){var x="js";if(i(u)){var y=u;u=r(y,"key"),d=r(y,"url"),c=r(y,"type","script"),v=r(y,"xhrSettings"),x=r(y,"extension",x)}else c===void 0&&(c="script");var T={type:c,cache:!1,extension:x,responseType:"text",key:u,url:d,xhrSettings:v};o.call(this,s,T)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(l,s,u,d){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,u,d));return this}),f.exports=n},85035:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(74099),a=t(19550),r=new h({Extends:a,initialize:function(n,l,s,u,d){a.call(this,n,l,s,d,u),this.type="spritesheet"},addToCache:function(){var i=this.linkFile;i?i.state>=g.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,i.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,i.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,l,s));return this}),f.exports=r},78776:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,d,c){var v="text",x="txt",y=s.cacheManager.text;if(i(u)){var T=u;u=r(T,"key"),d=r(T,"url"),c=r(T,"xhrSettings"),x=r(T,"extension",x),v=r(T,"type",v),y=r(T,"cache",y)}var E={type:v,cache:y,extension:x,responseType:"text",key:u,url:d,xhrSettings:c};o.call(this,s,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(l,s,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,s,u));return this}),f.exports=n},49477:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(80341),l=new h({Extends:o,initialize:function(u,d,c,v){var x="csv";if(i(d)){var y=d;d=r(y,"key"),c=r(y,"url"),v=r(y,"xhrSettings"),x=r(y,"extension",x)}var T={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:x,responseType:"text",key:d,url:c,xhrSettings:v};o.call(this,u,T),this.tilemapFormat=n.CSV},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});a.register("tilemapCSV",function(s,u,d){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d));return this}),f.exports=l},40807:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(518),a=t(80341),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i)}});g.register("tilemapImpact",function(i,n,l){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new r(this,i[s]));else this.addFile(new r(this,i,n,l));return this}),f.exports=r},56775:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(518),a=t(80341),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i)}});g.register("tilemapTiledJSON",function(i,n,l){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new r(this,i[s]));else this.addFile(new r(this,i,n,l));return this}),f.exports=r},25771:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(78776),l=new h({Extends:i,initialize:function(u,d,c,v,x,y){var T,E;if(r(d)){var A=d;d=o(A,"key"),T=new a(u,{key:d,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new n(u,{key:d,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","txt"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,d,c,x),E=new n(u,d,v,y);T.linkFile?i.call(this,u,"unityatlas",d,[T,E,T.linkFile]):i.call(this,u,"unityatlas",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,u.data,d),this.complete=!0}}});g.register("unityAtlas",function(s,u,d,c,v){var x;if(Array.isArray(s))for(var y=0;y<s.length;y++)x=new l(this,s[y]),this.addFile(x.files);else x=new l(this,s,u,d,c,v),this.addFile(x.files);return this}),f.exports=l},33720:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(98356),i=t(95540),n=t(41212),l=new h({Extends:o,initialize:function(u,d,c,v){if(v===void 0&&(v=!1),n(d)){var x=d;d=i(x,"key"),c=i(x,"url",[]),v=i(x,"noAudio",!1)}var y=u.systems.game.device.video.getVideoURL(c);y||console.warn("VideoFile: No supported format for "+d);var T={type:"video",cache:u.cacheManager.video,extension:y.type,key:d,url:y.url,config:{noAudio:v}};o.call(this,u,T)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=g.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(s,u,d){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d));return this}),f.exports=l},57318:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(56836),l=new h({Extends:o,initialize:function(u,d,c,v){var x="xml";if(i(d)){var y=d;d=r(y,"key"),c=r(y,"url"),v=r(y,"xhrSettings"),x=r(y,"extension",x)}var T={type:"xml",cache:u.cacheManager.xml,extension:x,responseType:"text",key:d,url:c,xhrSettings:v};o.call(this,u,T)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(s,u,d){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,d));return this}),f.exports=l},64589:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23906),g=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=g(!1,o,h),f.exports=o},53307:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0,g=0;g<t.length;g++)h+=+t[g];return h/t.length};f.exports=S},85710:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6411),g=function(o,a){return h(o)/h(a)/h(o-a)};f.exports=g},30976:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};f.exports=S},87842:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a){var r=(o-h)*.5,i=(a-g)*.5,n=t*t,l=t*n;return(2*g-2*o+r+i)*l+(-3*g+3*o-2*r-i)*n+r*t+g};f.exports=S},26302:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){h===void 0&&(h=0),g===void 0&&(g=10);var o=Math.pow(g,-h);return Math.ceil(t*o)/o};f.exports=S},45319:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return Math.max(h,Math.min(g,t))};f.exports=S},39506:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=function(o){return o*h.DEG_TO_RAD};f.exports=g},61241:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.abs(t-h)};f.exports=S},38857:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(37867),a=t(29747),r=new o,i=new g({initialize:function n(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d=n.DefaultOrder),this._x=l,this._y=s,this._z=u,this._order=d,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,s,u){return u===void 0&&(u=this._order),this._x=n,this._y=l,this._z=s,this._order=u,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,s){return l===void 0&&(l=this._order),s===void 0&&(s=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,s)},setFromRotationMatrix:function(n,l,s){l===void 0&&(l=this._order),s===void 0&&(s=!1);var u=n.val,d=u[0],c=u[4],v=u[8],x=u[1],y=u[5],T=u[9],E=u[2],A=u[6],P=u[10],w=0,I=0,O=0,F=.99999;switch(l){case"XYZ":{I=Math.asin(h(v,-1,1)),Math.abs(v)<F?(w=Math.atan2(-T,P),O=Math.atan2(-c,d)):w=Math.atan2(A,y);break}case"YXZ":{w=Math.asin(-h(T,-1,1)),Math.abs(T)<F?(I=Math.atan2(v,P),O=Math.atan2(x,y)):I=Math.atan2(-E,d);break}case"ZXY":{w=Math.asin(h(A,-1,1)),Math.abs(A)<F?(I=Math.atan2(-E,P),O=Math.atan2(-c,y)):O=Math.atan2(x,d);break}case"ZYX":{I=Math.asin(-h(E,-1,1)),Math.abs(E)<F?(w=Math.atan2(A,P),O=Math.atan2(x,d)):O=Math.atan2(-c,y);break}case"YZX":{O=Math.asin(h(x,-1,1)),Math.abs(x)<F?(w=Math.atan2(-T,y),I=Math.atan2(-E,d)):I=Math.atan2(v,P);break}case"XZY":{O=Math.asin(-h(c,-1,1)),Math.abs(c)<F?(w=Math.atan2(A,y),I=Math.atan2(v,d)):w=Math.atan2(-T,P);break}}return this._x=w,this._y=I,this._z=O,this._order=l,s&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",f.exports=i},6411:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};f.exports=S},99472:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.random()*(h-t)+t};f.exports=S},77623:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){h===void 0&&(h=0),g===void 0&&(g=10);var o=Math.pow(g,-h);return Math.floor(t*o)/o};f.exports=S},62945:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=function(o,a,r){return o=h(o,0,1),(r-a)*o+a};f.exports=g},38265:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t/h/1e3};f.exports=S},78702:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};f.exports=S},94883:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};f.exports=S},28915:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return(h-t)*g+t};f.exports=S},94908:f=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return g===void 0&&(g=0),t.clone().lerp(h,g)};f.exports=S},94434:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new g(this)},set:function(o){return this.copy(o)},copy:function(o){var a=this.val,r=o.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},fromMat4:function(o){var a=o.val,r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[4],r[4]=a[5],r[5]=a[6],r[6]=a[8],r[7]=a[9],r[8]=a[10],this},fromArray:function(o){var a=this.val;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,a=o[1],r=o[2],i=o[5];return o[1]=o[3],o[2]=o[6],o[3]=a,o[5]=o[7],o[6]=r,o[7]=i,this},invert:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],d=o[7],c=o[8],v=c*l-s*d,x=-c*n+s*u,y=d*n-l*u,T=a*v+r*x+i*y;return T?(T=1/T,o[0]=v*T,o[1]=(-c*r+i*d)*T,o[2]=(s*r-i*l)*T,o[3]=x*T,o[4]=(c*a-i*u)*T,o[5]=(-s*a+i*n)*T,o[6]=y*T,o[7]=(-d*a+r*u)*T,o[8]=(l*a-r*n)*T,this):null},adjoint:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],d=o[7],c=o[8];return o[0]=l*c-s*d,o[1]=i*d-r*c,o[2]=r*s-i*l,o[3]=s*u-n*c,o[4]=a*c-i*u,o[5]=i*n-a*s,o[6]=n*d-l*u,o[7]=r*u-a*d,o[8]=a*l-r*n,this},determinant:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],d=o[7],c=o[8];return a*(c*l-s*d)+r*(-c*n+s*u)+i*(d*n-l*u)},multiply:function(o){var a=this.val,r=a[0],i=a[1],n=a[2],l=a[3],s=a[4],u=a[5],d=a[6],c=a[7],v=a[8],x=o.val,y=x[0],T=x[1],E=x[2],A=x[3],P=x[4],w=x[5],I=x[6],O=x[7],F=x[8];return a[0]=y*r+T*l+E*d,a[1]=y*i+T*s+E*c,a[2]=y*n+T*u+E*v,a[3]=A*r+P*l+w*d,a[4]=A*i+P*s+w*c,a[5]=A*n+P*u+w*v,a[6]=I*r+O*l+F*d,a[7]=I*i+O*s+F*c,a[8]=I*n+O*u+F*v,this},translate:function(o){var a=this.val,r=o.x,i=o.y;return a[6]=r*a[0]+i*a[3]+a[6],a[7]=r*a[1]+i*a[4]+a[7],a[8]=r*a[2]+i*a[5]+a[8],this},rotate:function(o){var a=this.val,r=a[0],i=a[1],n=a[2],l=a[3],s=a[4],u=a[5],d=Math.sin(o),c=Math.cos(o);return a[0]=c*r+d*l,a[1]=c*i+d*s,a[2]=c*n+d*u,a[3]=c*l-d*r,a[4]=c*s-d*i,a[5]=c*u-d*n,this},scale:function(o){var a=this.val,r=o.x,i=o.y;return a[0]=r*a[0],a[1]=r*a[1],a[2]=r*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(o){var a=o.x,r=o.y,i=o.z,n=o.w,l=a+a,s=r+r,u=i+i,d=a*l,c=a*s,v=a*u,x=r*s,y=r*u,T=i*u,E=n*l,A=n*s,P=n*u,w=this.val;return w[0]=1-(x+T),w[3]=c+P,w[6]=v-A,w[1]=c-P,w[4]=1-(d+T),w[7]=y+E,w[2]=v+A,w[5]=y-E,w[8]=1-(d+x),this},normalFromMat4:function(o){var a=o.val,r=this.val,i=a[0],n=a[1],l=a[2],s=a[3],u=a[4],d=a[5],c=a[6],v=a[7],x=a[8],y=a[9],T=a[10],E=a[11],A=a[12],P=a[13],w=a[14],I=a[15],O=i*d-n*u,F=i*c-l*u,L=i*v-s*u,D=n*c-l*d,b=n*v-s*d,U=l*v-s*c,W=x*P-y*A,H=x*w-T*A,Y=x*I-E*A,G=y*w-T*P,X=y*I-E*P,V=T*I-E*w,B=O*V-F*X+L*G+D*Y-b*H+U*W;return B?(B=1/B,r[0]=(d*V-c*X+v*G)*B,r[1]=(c*Y-u*V-v*H)*B,r[2]=(u*X-d*Y+v*W)*B,r[3]=(l*X-n*V-s*G)*B,r[4]=(i*V-l*Y+s*H)*B,r[5]=(n*Y-i*X-s*W)*B,r[6]=(P*U-w*b+I*D)*B,r[7]=(w*L-A*U-I*F)*B,r[8]=(A*b-P*L+I*O)*B,this):null}});f.exports=g},37867:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(25836),o=1e-6,a=new h({initialize:function(d){this.val=new Float32Array(16),d?this.copy(d):this.identity()},clone:function(){return new a(this)},set:function(u){return this.copy(u)},setValues:function(u,d,c,v,x,y,T,E,A,P,w,I,O,F,L,D){var b=this.val;return b[0]=u,b[1]=d,b[2]=c,b[3]=v,b[4]=x,b[5]=y,b[6]=T,b[7]=E,b[8]=A,b[9]=P,b[10]=w,b[11]=I,b[12]=O,b[13]=F,b[14]=L,b[15]=D,this},copy:function(u){var d=u.val;return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,d,c){var v=r.fromQuat(c),x=v.val,y=d.x,T=d.y,E=d.z;return this.setValues(x[0]*y,x[1]*y,x[2]*y,0,x[4]*T,x[5]*T,x[6]*T,0,x[8]*E,x[9]*E,x[10]*E,0,u.x,u.y,u.z,1)},xyz:function(u,d,c){this.identity();var v=this.val;return v[12]=u,v[13]=d,v[14]=c,this},scaling:function(u,d,c){this.zero();var v=this.val;return v[0]=u,v[5]=d,v[10]=c,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,d=u[1],c=u[2],v=u[3],x=u[6],y=u[7],T=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=d,u[6]=u[9],u[7]=u[13],u[8]=c,u[9]=x,u[11]=u[14],u[12]=v,u[13]=y,u[14]=T,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,d=u[0],c=u[1],v=u[2],x=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15],U=d*T-c*y,W=d*E-v*y,H=d*A-x*y,Y=c*E-v*T,G=c*A-x*T,X=v*A-x*E,V=P*L-w*F,B=P*D-I*F,z=P*b-O*F,$=w*D-I*L,j=w*b-O*L,k=I*b-O*D,q=U*k-W*j+H*$+Y*z-G*B+X*V;return q?(q=1/q,this.setValues((T*k-E*j+A*$)*q,(v*j-c*k-x*$)*q,(L*X-D*G+b*Y)*q,(I*G-w*X-O*Y)*q,(E*z-y*k-A*B)*q,(d*k-v*z+x*B)*q,(D*H-F*X-b*W)*q,(P*X-I*H+O*W)*q,(y*j-T*z+A*V)*q,(c*z-d*j-x*V)*q,(F*G-L*H+b*U)*q,(w*H-P*G-O*U)*q,(T*B-y*$-E*V)*q,(d*$-c*B+v*V)*q,(L*W-F*Y-D*U)*q,(P*Y-w*W+I*U)*q)):this},adjoint:function(){var u=this.val,d=u[0],c=u[1],v=u[2],x=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15];return this.setValues(T*(I*b-O*D)-w*(E*b-A*D)+L*(E*O-A*I),-(c*(I*b-O*D)-w*(v*b-x*D)+L*(v*O-x*I)),c*(E*b-A*D)-T*(v*b-x*D)+L*(v*A-x*E),-(c*(E*O-A*I)-T*(v*O-x*I)+w*(v*A-x*E)),-(y*(I*b-O*D)-P*(E*b-A*D)+F*(E*O-A*I)),d*(I*b-O*D)-P*(v*b-x*D)+F*(v*O-x*I),-(d*(E*b-A*D)-y*(v*b-x*D)+F*(v*A-x*E)),d*(E*O-A*I)-y*(v*O-x*I)+P*(v*A-x*E),y*(w*b-O*L)-P*(T*b-A*L)+F*(T*O-A*w),-(d*(w*b-O*L)-P*(c*b-x*L)+F*(c*O-x*w)),d*(T*b-A*L)-y*(c*b-x*L)+F*(c*A-x*T),-(d*(T*O-A*w)-y*(c*O-x*w)+P*(c*A-x*T)),-(y*(w*D-I*L)-P*(T*D-E*L)+F*(T*I-E*w)),d*(w*D-I*L)-P*(c*D-v*L)+F*(c*I-v*w),-(d*(T*D-E*L)-y*(c*D-v*L)+F*(c*E-v*T)),d*(T*I-E*w)-y*(c*I-v*w)+P*(c*E-v*T))},determinant:function(){var u=this.val,d=u[0],c=u[1],v=u[2],x=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15],U=d*T-c*y,W=d*E-v*y,H=d*A-x*y,Y=c*E-v*T,G=c*A-x*T,X=v*A-x*E,V=P*L-w*F,B=P*D-I*F,z=P*b-O*F,$=w*D-I*L,j=w*b-O*L,k=I*b-O*D;return U*k-W*j+H*$+Y*z-G*B+X*V},multiply:function(u){var d=this.val,c=d[0],v=d[1],x=d[2],y=d[3],T=d[4],E=d[5],A=d[6],P=d[7],w=d[8],I=d[9],O=d[10],F=d[11],L=d[12],D=d[13],b=d[14],U=d[15],W=u.val,H=W[0],Y=W[1],G=W[2],X=W[3];return d[0]=H*c+Y*T+G*w+X*L,d[1]=H*v+Y*E+G*I+X*D,d[2]=H*x+Y*A+G*O+X*b,d[3]=H*y+Y*P+G*F+X*U,H=W[4],Y=W[5],G=W[6],X=W[7],d[4]=H*c+Y*T+G*w+X*L,d[5]=H*v+Y*E+G*I+X*D,d[6]=H*x+Y*A+G*O+X*b,d[7]=H*y+Y*P+G*F+X*U,H=W[8],Y=W[9],G=W[10],X=W[11],d[8]=H*c+Y*T+G*w+X*L,d[9]=H*v+Y*E+G*I+X*D,d[10]=H*x+Y*A+G*O+X*b,d[11]=H*y+Y*P+G*F+X*U,H=W[12],Y=W[13],G=W[14],X=W[15],d[12]=H*c+Y*T+G*w+X*L,d[13]=H*v+Y*E+G*I+X*D,d[14]=H*x+Y*A+G*O+X*b,d[15]=H*y+Y*P+G*F+X*U,this},multiplyLocal:function(u){var d=this.val,c=u.val;return this.setValues(d[0]*c[0]+d[1]*c[4]+d[2]*c[8]+d[3]*c[12],d[0]*c[1]+d[1]*c[5]+d[2]*c[9]+d[3]*c[13],d[0]*c[2]+d[1]*c[6]+d[2]*c[10]+d[3]*c[14],d[0]*c[3]+d[1]*c[7]+d[2]*c[11]+d[3]*c[15],d[4]*c[0]+d[5]*c[4]+d[6]*c[8]+d[7]*c[12],d[4]*c[1]+d[5]*c[5]+d[6]*c[9]+d[7]*c[13],d[4]*c[2]+d[5]*c[6]+d[6]*c[10]+d[7]*c[14],d[4]*c[3]+d[5]*c[7]+d[6]*c[11]+d[7]*c[15],d[8]*c[0]+d[9]*c[4]+d[10]*c[8]+d[11]*c[12],d[8]*c[1]+d[9]*c[5]+d[10]*c[9]+d[11]*c[13],d[8]*c[2]+d[9]*c[6]+d[10]*c[10]+d[11]*c[14],d[8]*c[3]+d[9]*c[7]+d[10]*c[11]+d[11]*c[15],d[12]*c[0]+d[13]*c[4]+d[14]*c[8]+d[15]*c[12],d[12]*c[1]+d[13]*c[5]+d[14]*c[9]+d[15]*c[13],d[12]*c[2]+d[13]*c[6]+d[14]*c[10]+d[15]*c[14],d[12]*c[3]+d[13]*c[7]+d[14]*c[11]+d[15]*c[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,d){var c=u.val,v=d.val,x=c[0],y=c[4],T=c[8],E=c[12],A=c[1],P=c[5],w=c[9],I=c[13],O=c[2],F=c[6],L=c[10],D=c[14],b=c[3],U=c[7],W=c[11],H=c[15],Y=v[0],G=v[4],X=v[8],V=v[12],B=v[1],z=v[5],$=v[9],j=v[13],k=v[2],q=v[6],Q=v[10],Z=v[14],_=v[3],et=v[7],it=v[11],st=v[15];return this.setValues(x*Y+y*B+T*k+E*_,A*Y+P*B+w*k+I*_,O*Y+F*B+L*k+D*_,b*Y+U*B+W*k+H*_,x*G+y*z+T*q+E*et,A*G+P*z+w*q+I*et,O*G+F*z+L*q+D*et,b*G+U*z+W*q+H*et,x*X+y*$+T*Q+E*it,A*X+P*$+w*Q+I*it,O*X+F*$+L*Q+D*it,b*X+U*$+W*Q+H*it,x*V+y*j+T*Z+E*st,A*V+P*j+w*Z+I*st,O*V+F*j+L*Z+D*st,b*V+U*j+W*Z+H*st)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,d,c){var v=this.val;return v[12]=v[0]*u+v[4]*d+v[8]*c+v[12],v[13]=v[1]*u+v[5]*d+v[9]*c+v[13],v[14]=v[2]*u+v[6]*d+v[10]*c+v[14],v[15]=v[3]*u+v[7]*d+v[11]*c+v[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,d,c){var v=this.val;return v[0]=v[0]*u,v[1]=v[1]*u,v[2]=v[2]*u,v[3]=v[3]*u,v[4]=v[4]*d,v[5]=v[5]*d,v[6]=v[6]*d,v[7]=v[7]*d,v[8]=v[8]*c,v[9]=v[9]*c,v[10]=v[10]*c,v[11]=v[11]*c,this},makeRotationAxis:function(u,d){var c=Math.cos(d),v=Math.sin(d),x=1-c,y=u.x,T=u.y,E=u.z,A=x*y,P=x*T;return this.setValues(A*y+c,A*T-v*E,A*E+v*T,0,A*T+v*E,P*T+c,P*E-v*y,0,A*E-v*T,P*E+v*y,x*E*E+c,0,0,0,0,1)},rotate:function(u,d){var c=this.val,v=d.x,x=d.y,y=d.z,T=Math.sqrt(v*v+x*x+y*y);if(Math.abs(T)<o)return this;T=1/T,v*=T,x*=T,y*=T;var E=Math.sin(u),A=Math.cos(u),P=1-A,w=c[0],I=c[1],O=c[2],F=c[3],L=c[4],D=c[5],b=c[6],U=c[7],W=c[8],H=c[9],Y=c[10],G=c[11],X=c[12],V=c[13],B=c[14],z=c[15],$=v*v*P+A,j=x*v*P+y*E,k=y*v*P-x*E,q=v*x*P-y*E,Q=x*x*P+A,Z=y*x*P+v*E,_=v*y*P+x*E,et=x*y*P-v*E,it=y*y*P+A;return this.setValues(w*$+L*j+W*k,I*$+D*j+H*k,O*$+b*j+Y*k,F*$+U*j+G*k,w*q+L*Q+W*Z,I*q+D*Q+H*Z,O*q+b*Q+Y*Z,F*q+U*Q+G*Z,w*_+L*et+W*it,I*_+D*et+H*it,O*_+b*et+Y*it,F*_+U*et+G*it,X,V,B,z)},rotateX:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),x=d[4],y=d[5],T=d[6],E=d[7],A=d[8],P=d[9],w=d[10],I=d[11];return d[4]=x*v+A*c,d[5]=y*v+P*c,d[6]=T*v+w*c,d[7]=E*v+I*c,d[8]=A*v-x*c,d[9]=P*v-y*c,d[10]=w*v-T*c,d[11]=I*v-E*c,this},rotateY:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),x=d[0],y=d[1],T=d[2],E=d[3],A=d[8],P=d[9],w=d[10],I=d[11];return d[0]=x*v-A*c,d[1]=y*v-P*c,d[2]=T*v-w*c,d[3]=E*v-I*c,d[8]=x*c+A*v,d[9]=y*c+P*v,d[10]=T*c+w*v,d[11]=E*c+I*v,this},rotateZ:function(u){var d=this.val,c=Math.sin(u),v=Math.cos(u),x=d[0],y=d[1],T=d[2],E=d[3],A=d[4],P=d[5],w=d[6],I=d[7];return d[0]=x*v+A*c,d[1]=y*v+P*c,d[2]=T*v+w*c,d[3]=E*v+I*c,d[4]=A*v-x*c,d[5]=P*v-y*c,d[6]=w*v-T*c,d[7]=I*v-E*c,this},fromRotationTranslation:function(u,d){var c=u.x,v=u.y,x=u.z,y=u.w,T=c+c,E=v+v,A=x+x,P=c*T,w=c*E,I=c*A,O=v*E,F=v*A,L=x*A,D=y*T,b=y*E,U=y*A;return this.setValues(1-(O+L),w+U,I-b,0,w-U,1-(P+L),F+D,0,I+b,F-D,1-(P+O),0,d.x,d.y,d.z,1)},fromQuat:function(u){var d=u.x,c=u.y,v=u.z,x=u.w,y=d+d,T=c+c,E=v+v,A=d*y,P=d*T,w=d*E,I=c*T,O=c*E,F=v*E,L=x*y,D=x*T,b=x*E;return this.setValues(1-(I+F),P+b,w-D,0,P-b,1-(A+F),O+L,0,w+D,O-L,1-(A+I),0,0,0,0,1)},frustum:function(u,d,c,v,x,y){var T=1/(d-u),E=1/(v-c),A=1/(x-y);return this.setValues(x*2*T,0,0,0,0,x*2*E,0,0,(d+u)*T,(v+c)*E,(y+x)*A,-1,0,0,y*x*2*A,0)},perspective:function(u,d,c,v){var x=1/Math.tan(u/2),y=1/(c-v);return this.setValues(x/d,0,0,0,0,x,0,0,0,0,(v+c)*y,-1,0,0,2*v*c*y,0)},perspectiveLH:function(u,d,c,v){return this.setValues(2*c/u,0,0,0,0,2*c/d,0,0,0,0,-v/(c-v),1,0,0,c*v/(c-v),0)},ortho:function(u,d,c,v,x,y){var T=u-d,E=c-v,A=x-y;return T=T===0?T:1/T,E=E===0?E:1/E,A=A===0?A:1/A,this.setValues(-2*T,0,0,0,0,-2*E,0,0,0,0,2*A,0,(u+d)*T,(v+c)*E,(y+x)*A,1)},lookAtRH:function(u,d,c){var v=this.val;return s.subVectors(u,d),s.lengthSq()===0&&(s.z=1),s.normalize(),n.crossVectors(c,s),n.lengthSq()===0&&(Math.abs(c.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),n.crossVectors(c,s)),n.normalize(),l.crossVectors(s,n),v[0]=n.x,v[1]=n.y,v[2]=n.z,v[4]=l.x,v[5]=l.y,v[6]=l.z,v[8]=s.x,v[9]=s.y,v[10]=s.z,this},lookAt:function(u,d,c){var v=u.x,x=u.y,y=u.z,T=c.x,E=c.y,A=c.z,P=d.x,w=d.y,I=d.z;if(Math.abs(v-P)<o&&Math.abs(x-w)<o&&Math.abs(y-I)<o)return this.identity();var O=v-P,F=x-w,L=y-I,D=1/Math.sqrt(O*O+F*F+L*L);O*=D,F*=D,L*=D;var b=E*L-A*F,U=A*O-T*L,W=T*F-E*O;D=Math.sqrt(b*b+U*U+W*W),D?(D=1/D,b*=D,U*=D,W*=D):(b=0,U=0,W=0);var H=F*W-L*U,Y=L*b-O*W,G=O*U-F*b;return D=Math.sqrt(H*H+Y*Y+G*G),D?(D=1/D,H*=D,Y*=D,G*=D):(H=0,Y=0,G=0),this.setValues(b,H,O,0,U,Y,F,0,W,G,L,0,-(b*v+U*x+W*y),-(H*v+Y*x+G*y),-(O*v+F*x+L*y),1)},yawPitchRoll:function(u,d,c){this.zero(),r.zero(),i.zero();var v=this.val,x=r.val,y=i.val,T=Math.sin(c),E=Math.cos(c);return v[10]=1,v[15]=1,v[0]=E,v[1]=T,v[4]=-T,v[5]=E,T=Math.sin(d),E=Math.cos(d),x[0]=1,x[15]=1,x[5]=E,x[10]=E,x[9]=-T,x[6]=T,T=Math.sin(u),E=Math.cos(u),y[5]=1,y[15]=1,y[0]=E,y[2]=-T,y[8]=T,y[10]=E,this.multiplyLocal(r),this.multiplyLocal(i),this},setWorldMatrix:function(u,d,c,v,x){return this.yawPitchRoll(u.y,u.x,u.z),r.scaling(c.x,c.y,c.z),i.xyz(d.x,d.y,d.z),this.multiplyLocal(r),this.multiplyLocal(i),v&&this.multiplyLocal(v),x&&this.multiplyLocal(x),this},multiplyToMat4:function(u,d){var c=this.val,v=u.val,x=c[0],y=c[1],T=c[2],E=c[3],A=c[4],P=c[5],w=c[6],I=c[7],O=c[8],F=c[9],L=c[10],D=c[11],b=c[12],U=c[13],W=c[14],H=c[15],Y=v[0],G=v[1],X=v[2],V=v[3],B=v[4],z=v[5],$=v[6],j=v[7],k=v[8],q=v[9],Q=v[10],Z=v[11],_=v[12],et=v[13],it=v[14],st=v[15];return d.setValues(Y*x+G*A+X*O+V*b,G*y+G*P+X*F+V*U,X*T+G*w+X*L+V*W,V*E+G*I+X*D+V*H,B*x+z*A+$*O+j*b,B*y+z*P+$*F+j*U,B*T+z*w+$*L+j*W,B*E+z*I+$*D+j*H,k*x+q*A+Q*O+Z*b,k*y+q*P+Q*F+Z*U,k*T+q*w+Q*L+Z*W,k*E+q*I+Q*D+Z*H,_*x+et*A+it*O+st*b,_*y+et*P+it*F+st*U,_*T+et*w+it*L+st*W,_*E+et*I+it*D+st*H)},fromRotationXYTranslation:function(u,d,c){var v=d.x,x=d.y,y=d.z,T=Math.sin(u.x),E=Math.cos(u.x),A=Math.sin(u.y),P=Math.cos(u.y),w=v,I=x,O=y,F=-T,L=0-F*A,D=0-E*A,b=F*P,U=E*P;return c||(w=P*v+A*y,I=L*v+E*x+b*y,O=D*v+T*x+U*y),this.setValues(P,L,D,0,0,E,T,0,A,b,U,0,w,I,O,1)},getMaxScaleOnAxis:function(){var u=this.val,d=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],c=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],v=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(d,c,v))}}),r=new a,i=new a,n=new g,l=new g,s=new g;f.exports=a},86883:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return Math.min(t+h,g)};f.exports=S},50040:f=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.length;if(h===0)return 0;t.sort(function(o,a){return o-a});var g=Math.floor(h/2);return h%2===0?(t[g]+t[g-1])/2:t[g]};f.exports=S},37204:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return Math.max(t-h,g)};f.exports=S},65201:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){g===void 0&&(g=h+1);var a=(t-h)/(g-h);return a>1?o!==void 0?(a=(o-t)/(o-g),a<0&&(a=0)):a=1:a<0&&(a=0),a};f.exports=S},15746:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(94434),o=t(29747),a=t(25836),r=1e-6,i=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new a(1,0,0),s=new a(0,1,0),u=new a,d=new g,c=new h({initialize:function(x,y,T,E){this.onChangeCallback=o,this.set(x,y,T,E)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,x,y,T,E){return E===void 0&&(E=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=x||0,this._z=y||0,this._w=T||0),E&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,x=this.y,y=this.z,T=this.w;return Math.sqrt(v*v+x*x+y*y+T*T)},lengthSq:function(){var v=this.x,x=this.y,y=this.z,T=this.w;return v*v+x*x+y*y+T*T},normalize:function(){var v=this.x,x=this.y,y=this.z,T=this.w,E=v*v+x*x+y*y+T*T;return E>0&&(E=1/Math.sqrt(E),this._x=v*E,this._y=x*E,this._z=y*E,this._w=T*E),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,x){x===void 0&&(x=0);var y=this.x,T=this.y,E=this.z,A=this.w;return this.set(y+x*(v.x-y),T+x*(v.y-T),E+x*(v.z-E),A+x*(v.w-A))},rotationTo:function(v,x){var y=v.x*x.x+v.y*x.y+v.z*x.z;return y<-.999999?(u.copy(l).cross(v).length()<r&&u.copy(s).cross(v),u.normalize(),this.setAxisAngle(u,Math.PI)):y>.999999?this.set(0,0,0,1):(u.copy(v).cross(x),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+y,this.normalize())},setAxes:function(v,x,y){var T=d.val;return T[0]=x.x,T[3]=x.y,T[6]=x.z,T[1]=y.x,T[4]=y.y,T[7]=y.z,T[2]=-v.x,T[5]=-v.y,T[8]=-v.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,x){x=x*.5;var y=Math.sin(x);return this.set(y*v.x,y*v.y,y*v.z,Math.cos(x))},multiply:function(v){var x=this.x,y=this.y,T=this.z,E=this.w,A=v.x,P=v.y,w=v.z,I=v.w;return this.set(x*I+E*A+y*w-T*P,y*I+E*P+T*A-x*w,T*I+E*w+x*P-y*A,E*I-x*A-y*P-T*w)},slerp:function(v,x){var y=this.x,T=this.y,E=this.z,A=this.w,P=v.x,w=v.y,I=v.z,O=v.w,F=y*P+T*w+E*I+A*O;F<0&&(F=-F,P=-P,w=-w,I=-I,O=-O);var L=1-x,D=x;if(1-F>r){var b=Math.acos(F),U=Math.sin(b);L=Math.sin((1-x)*b)/U,D=Math.sin(x*b)/U}return this.set(L*y+D*P,L*T+D*w,L*E+D*I,L*A+D*O)},invert:function(){var v=this.x,x=this.y,y=this.z,T=this.w,E=v*v+x*x+y*y+T*T,A=E?1/E:0;return this.set(-v*A,-x*A,-y*A,T*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var x=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(x*P+E*A,y*P+T*A,T*P-y*A,E*P-x*A)},rotateY:function(v){v*=.5;var x=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(x*P-T*A,y*P+E*A,T*P+x*A,E*P-y*A)},rotateZ:function(v){v*=.5;var x=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(x*P+y*A,y*P-x*A,T*P+E*A,E*P-T*A)},calculateW:function(){var v=this.x,x=this.y,y=this.z;return this.w=-Math.sqrt(1-v*v-x*x-y*y),this},setFromEuler:function(v,x){var y=v.x/2,T=v.y/2,E=v.z/2,A=Math.cos(y),P=Math.cos(T),w=Math.cos(E),I=Math.sin(y),O=Math.sin(T),F=Math.sin(E);switch(v.order){case"XYZ":{this.set(I*P*w+A*O*F,A*O*w-I*P*F,A*P*F+I*O*w,A*P*w-I*O*F,x);break}case"YXZ":{this.set(I*P*w+A*O*F,A*O*w-I*P*F,A*P*F-I*O*w,A*P*w+I*O*F,x);break}case"ZXY":{this.set(I*P*w-A*O*F,A*O*w+I*P*F,A*P*F+I*O*w,A*P*w-I*O*F,x);break}case"ZYX":{this.set(I*P*w-A*O*F,A*O*w+I*P*F,A*P*F-I*O*w,A*P*w+I*O*F,x);break}case"YZX":{this.set(I*P*w+A*O*F,A*O*w+I*P*F,A*P*F-I*O*w,A*P*w-I*O*F,x);break}case"XZY":{this.set(I*P*w-A*O*F,A*O*w-I*P*F,A*P*F+I*O*w,A*P*w+I*O*F,x);break}}return this},setFromRotationMatrix:function(v){var x=v.val,y=x[0],T=x[4],E=x[8],A=x[1],P=x[5],w=x[9],I=x[2],O=x[6],F=x[10],L=y+P+F,D;return L>0?(D=.5/Math.sqrt(L+1),this.set((O-w)*D,(E-I)*D,(A-T)*D,.25/D)):y>P&&y>F?(D=2*Math.sqrt(1+y-P-F),this.set(.25*D,(T+A)/D,(E+I)/D,(O-w)/D)):P>F?(D=2*Math.sqrt(1+P-y-F),this.set((T+A)/D,.25*D,(w+O)/D,(E-I)/D)):(D=2*Math.sqrt(1+F-y-P),this.set((E+I)/D,(w+O)/D,.25*D,(A-T)/D)),this},fromMat3:function(v){var x=v.val,y=x[0]+x[4]+x[8],T;if(y>0)T=Math.sqrt(y+1),this.w=.5*T,T=.5/T,this._x=(x[7]-x[5])*T,this._y=(x[2]-x[6])*T,this._z=(x[3]-x[1])*T;else{var E=0;x[4]>x[0]&&(E=1),x[8]>x[E*3+E]&&(E=2);var A=i[E],P=i[A];T=Math.sqrt(x[E*3+E]-x[A*3+A]-x[P*3+P]+1),n[E]=.5*T,T=.5/T,n[A]=(x[A*3+E]+x[E*3+A])*T,n[P]=(x[P*3+E]+x[E*3+P])*T,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(x[P*3+A]-x[A*3+P])*T}return this.onChangeCallback(this),this}});f.exports=c},43396:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=function(o){return o*h.RAD_TO_DEG};f.exports=g},74362:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var g=Math.random()*2*Math.PI;return t.x=Math.cos(g)*h,t.y=Math.sin(g)*h,t};f.exports=S},60706:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var g=Math.random()*2*Math.PI,o=Math.random()*2-1,a=Math.sqrt(1-o*o)*h;return t.x=Math.cos(g)*a,t.y=Math.sin(g)*a,t.z=o*h,t};f.exports=S},67421:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};f.exports=S},36305:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.x,o=t.y;return t.x=g*Math.cos(h)-o*Math.sin(h),t.y=g*Math.sin(h)+o*Math.cos(h),t};f.exports=S},11520:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=Math.cos(o),r=Math.sin(o),i=t.x-h,n=t.y-g;return t.x=i*a-n*r+h,t.y=i*r+n*a+g,t};f.exports=S},1163:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a){var r=o+Math.atan2(t.y-g,t.x-h);return t.x=h+a*Math.cos(r),t.y=g+a*Math.sin(r),t};f.exports=S},70336:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a){return t.x=h+a*Math.cos(o),t.y=g+a*Math.sin(o),t};f.exports=S},72678:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),g=t(37867),o=t(15746),a=new g,r=new o,i=new h,n=function(l,s,u){return r.setAxisAngle(s,u),a.fromRotationTranslation(r,i.set(0,0,0)),l.transformMat4(a)};f.exports=n},2284:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};f.exports=S},41013:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){h===void 0&&(h=0),g===void 0&&(g=10);var o=Math.pow(g,-h);return Math.round(t*o)/o};f.exports=S},16922:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){h===void 0&&(h=1),g===void 0&&(g=1),o===void 0&&(o=1),o*=Math.PI/t;for(var a=[],r=[],i=0;i<t;i++)g-=h*o,h+=g*o,a[i]=g,r[i]=h;return{sin:r,cos:a,length:t}};f.exports=S},7602:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t<=h?0:t>=g?1:(t=(t-h)/(g-h),t*t*(3-2*t))};f.exports=S},54261:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t=Math.max(0,Math.min(1,(t-h)/(g-h))),t*t*t*(t*(t*6-15)+10)};f.exports=S},44408:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i){i===void 0&&(i=new h);var n=0,l=0,s=a*r;return o>0&&o<=s&&(o>a-1?(l=Math.floor(o/a),n=o-l*a):n=o),i.set(n,l)};f.exports=g},85955:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l,s,u){u===void 0&&(u=new h);var d=Math.sin(n),c=Math.cos(n),v=c*l,x=d*l,y=-d*s,T=c*s,E=1/(v*T+y*-x);return u.x=T*E*o+-y*E*a+(i*y-r*T)*E,u.y=v*E*a+-x*E*o+(-i*v+r*x)*E,u};f.exports=g},26099:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(43855),o=new h({initialize:function(r,i){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(i===void 0&&(i=r),this.x=r||0,this.y=i||0)},clone:function(){return new o(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,r){return r===void 0&&(r=a),this.x=a,this.y=r,this},setTo:function(a,r){return this.set(a,r)},setToPolar:function(a,r){return r==null&&(r=1),this.x=Math.cos(a)*r,this.y=Math.sin(a)*r,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,r){return g(this.x,a.x,r)&&g(this.y,a.y,r)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var r=a.x-this.x,i=a.y-this.y;return Math.sqrt(r*r+i*i)},distanceSq:function(a){var r=a.x-this.x,i=a.y-this.y;return r*r+i*i},length:function(){var a=this.x,r=this.y;return Math.sqrt(a*a+r*r)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,r=this.y;return a*a+r*r},normalize:function(){var a=this.x,r=this.y,i=a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=r*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,r){r===void 0&&(r=0);var i=this.x,n=this.y;return this.x=i+r*(a.x-i),this.y=n+r*(a.y-n),this},transformMat3:function(a){var r=this.x,i=this.y,n=a.val;return this.x=n[0]*r+n[3]*i+n[6],this.y=n[1]*r+n[4]*i+n[7],this},transformMat4:function(a){var r=this.x,i=this.y,n=a.val;return this.x=n[0]*r+n[4]*i+n[12],this.y=n[1]*r+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var r=this.length();return r&&r>a&&this.scale(a/r),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var r=Math.cos(a),i=Math.sin(a);return this.set(r*this.x-i*this.y,i*this.x+r*this.y)},project:function(a){var r=this.dot(a)/a.dot(a);return this.copy(a).scale(r)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),f.exports=o},25836:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new g(this.x,this.y,this.z)},addVectors:function(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this},subVectors:function(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this.z=o.z-a.z,this},crossVectors:function(o,a){var r=o.x,i=o.y,n=o.z,l=a.x,s=a.y,u=a.z;return this.x=i*u-n*s,this.y=n*l-r*u,this.z=r*s-i*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,a,r){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=a||0,this.z=r||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,a){return this.fromArray(o.val,a*4)},fromArray:function(o,a){return a===void 0&&(a=0),this.x=o[a],this.y=o[a+1],this.z=o[a+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0;return Math.sqrt(a*a+r*r+i*i)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0;return a*a+r*r+i*i},length:function(){var o=this.x,a=this.y,r=this.z;return Math.sqrt(o*o+a*a+r*r)},lengthSq:function(){var o=this.x,a=this.y,r=this.z;return o*o+a*a+r*r},normalize:function(){var o=this.x,a=this.y,r=this.z,i=o*o+a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=o*i,this.y=a*i,this.z=r*i),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z;return this.x=r*s-i*l,this.y=i*n-a*s,this.z=a*l-r*n,this},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,i=this.y,n=this.z;return this.x=r+a*(o.x-r),this.y=i+a*(o.y-i),this.z=n+a*(o.z-n),this},applyMatrix3:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=n[0]*a+n[3]*r+n[6]*i,this.y=n[1]*a+n[4]*r+n[7]*i,this.z=n[2]*a+n[5]*r+n[8]*i,this},applyMatrix4:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=1/(n[3]*a+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*a+n[4]*r+n[8]*i+n[12])*l,this.y=(n[1]*a+n[5]*r+n[9]*i+n[13])*l,this.z=(n[2]*a+n[6]*r+n[10]*i+n[14])*l,this},transformMat3:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=a*n[0]+r*n[3]+i*n[6],this.y=a*n[1]+r*n[4]+i*n[7],this.z=a*n[2]+r*n[5]+i*n[8],this},transformMat4:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=n[0]*a+n[4]*r+n[8]*i+n[12],this.y=n[1]*a+n[5]*r+n[9]*i+n[13],this.z=n[2]*a+n[6]*r+n[10]*i+n[14],this},transformCoordinates:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=a*n[0]+r*n[4]+i*n[8]+n[12],s=a*n[1]+r*n[5]+i*n[9]+n[13],u=a*n[2]+r*n[6]+i*n[10]+n[14],d=a*n[3]+r*n[7]+i*n[11]+n[15];return this.x=l/d,this.y=s/d,this.z=u/d,this},transformQuat:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z,u=o.w,d=u*a+l*i-s*r,c=u*r+s*a-n*i,v=u*i+n*r-l*a,x=-n*a-l*r-s*i;return this.x=d*u+x*-n+c*-s-v*-l,this.y=c*u+x*-l+v*-n-d*-s,this.z=v*u+x*-s+d*-l-c*-n,this},project:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=n[0],s=n[1],u=n[2],d=n[3],c=n[4],v=n[5],x=n[6],y=n[7],T=n[8],E=n[9],A=n[10],P=n[11],w=n[12],I=n[13],O=n[14],F=n[15],L=1/(a*d+r*y+i*P+F);return this.x=(a*l+r*c+i*T+w)*L,this.y=(a*s+r*v+i*E+I)*L,this.z=(a*u+r*x+i*A+O)*L,this},projectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unprojectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unproject:function(o,a){var r=o.x,i=o.y,n=o.z,l=o.w,s=this.x-r,u=l-this.y-1-i,d=this.z;return this.x=2*s/n-1,this.y=2*u/l-1,this.z=2*d-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});g.ZERO=new g,g.RIGHT=new g(1,0,0),g.LEFT=new g(-1,0,0),g.UP=new g(0,-1,0),g.DOWN=new g(0,1,0),g.FORWARD=new g(0,0,1),g.BACK=new g(0,0,-1),g.ONE=new g(1,1,1),f.exports=g},61369:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=i||0,this.w=n||0)},clone:function(){return new g(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,a,r,i){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=a||0,this.z=r||0,this.w=i||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,a=this.y,r=this.z,i=this.w;return Math.sqrt(o*o+a*a+r*r+i*i)},lengthSq:function(){var o=this.x,a=this.y,r=this.z,i=this.w;return o*o+a*a+r*r+i*i},normalize:function(){var o=this.x,a=this.y,r=this.z,i=this.w,n=o*o+a*a+r*r+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=a*n,this.z=r*n,this.w=i*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,i=this.y,n=this.z,l=this.w;return this.x=r+a*(o.x-r),this.y=i+a*(o.y-i),this.z=n+a*(o.z-n),this.w=l+a*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(a*a+r*r+i*i+n*n)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0,n=o.w-this.w||0;return a*a+r*r+i*i+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var a=this.x,r=this.y,i=this.z,n=this.w,l=o.val;return this.x=l[0]*a+l[4]*r+l[8]*i+l[12]*n,this.y=l[1]*a+l[5]*r+l[9]*i+l[13]*n,this.z=l[2]*a+l[6]*r+l[10]*i+l[14]*n,this.w=l[3]*a+l[7]*r+l[11]*i+l[15]*n,this},transformQuat:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z,u=o.w,d=u*a+l*i-s*r,c=u*r+s*a-n*i,v=u*i+n*r-l*a,x=-n*a-l*r-s*i;return this.x=d*u+x*-n+c*-s-v*-l,this.y=c*u+x*-l+v*-n-d*-s,this.z=v*u+x*-s+d*-l-c*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});g.prototype.sub=g.prototype.subtract,g.prototype.mul=g.prototype.multiply,g.prototype.div=g.prototype.divide,g.prototype.dist=g.prototype.distance,g.prototype.distSq=g.prototype.distanceSq,g.prototype.len=g.prototype.length,g.prototype.lenSq=g.prototype.lengthSq,f.exports=g},60417:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return Math.abs(t-h)<=g};f.exports=S},15994:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=g-h;return h+((t-h)%o+o)%o};f.exports=S},31040:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){return Math.atan2(o-h,g-t)};f.exports=S},55495:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};f.exports=S},128:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};f.exports=S},41273:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){return Math.atan2(g-t,o-h)};f.exports=S},1432:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=function(o){return o>Math.PI&&(o-=h.PI2),Math.abs(((o+h.TAU)%h.PI2-h.PI2)%h.PI2)};f.exports=g},12407:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};f.exports=S},53993:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),g=function(){return h(-Math.PI,Math.PI)};f.exports=g},86564:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),g=function(){return h(-180,180)};f.exports=g},90154:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12407),g=function(o){return h(o+Math.PI)};f.exports=g},48736:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=function(o,a,r){return r===void 0&&(r=.05),o===a||(Math.abs(a-o)<=r||Math.abs(a-o)>=h.PI2-r?o=a:(Math.abs(a-o)>Math.PI&&(a<o?a+=h.PI2:a-=h.PI2),a>o?o+=r:a<o&&(o-=r))),o};f.exports=g},61430:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=h-t;if(g===0)return 0;var o=Math.floor((g- -180)/360);return g-o*360};f.exports=S},86554:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),g=function(o){return h(o,-Math.PI,Math.PI)};f.exports=g},30954:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),g=function(o){return h(o,-180,180)};f.exports=g},25588:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};f.exports=S},20339:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=t-g,r=h-o;return Math.sqrt(a*a+r*r)};f.exports=S},52816:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.x-h.x,o=t.y-h.y;return Math.sqrt(g*g+o*o)};f.exports=S},64559:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.x-h.x,o=t.y-h.y;return g*g+o*o};f.exports=S},82340:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){return Math.max(Math.abs(t-g),Math.abs(h-o))};f.exports=S},14390:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(g-t,a)+Math.pow(o-h,a))};f.exports=S},2243:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){return Math.abs(t-g)+Math.abs(h-o)};f.exports=S},89774:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=t-g,r=h-o;return a*a+r*r};f.exports=S},50994:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54178),g=t(41521),o=t(79980),a=t(85433),r=t(99140),i=t(48857),n=t(81596),l=t(59133),s=t(98516),u=t(35248),d=t(82500),c=t(49752);f.exports={Power0:n,Power1:l.Out,Power2:a.Out,Power3:s.Out,Power4:u.Out,Linear:n,Quad:l.Out,Cubic:a.Out,Quart:s.Out,Quint:u.Out,Sine:d.Out,Expo:i.Out,Circ:o.Out,Elastic:r.Out,Back:h.Out,Bounce:g.Out,Stepped:c,"Quad.easeIn":l.In,"Cubic.easeIn":a.In,"Quart.easeIn":s.In,"Quint.easeIn":u.In,"Sine.easeIn":d.In,"Expo.easeIn":i.In,"Circ.easeIn":o.In,"Elastic.easeIn":r.In,"Back.easeIn":h.In,"Bounce.easeIn":g.In,"Quad.easeOut":l.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":s.Out,"Quint.easeOut":u.Out,"Sine.easeOut":d.Out,"Expo.easeOut":i.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":r.Out,"Back.easeOut":h.Out,"Bounce.easeOut":g.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":g.InOut}},1639:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};f.exports=S},50099:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1.70158);var g=h*1.525;return(t*=2)<1?.5*(t*t*((g+1)*t-g)):.5*((t-=2)*t*((g+1)*t+g)+2)};f.exports=S},41286:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};f.exports=S},54178:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};f.exports=S},41788:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};f.exports=S},69905:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};f.exports=S},41521:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};f.exports=S},4177:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};f.exports=S},57512:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};f.exports=S},79980:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};f.exports=S},82820:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};f.exports=S},35033:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};f.exports=S},85433:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(h===void 0&&(h=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return h<1?h=1:o=g*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g))};f.exports=S},50665:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(h===void 0&&(h=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return h<1?h=1:o=g*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/g)*.5+1};f.exports=S},7744:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(h===void 0&&(h=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var o=g/4;return h<1?h=1:o=g*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/g)+1};f.exports=S},99140:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};f.exports=S},87844:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};f.exports=S},89433:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};f.exports=S},48857:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};f.exports=S},81596:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports=t(7147)},34826:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};f.exports=S},20544:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};f.exports=S},92029:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};f.exports=S},59133:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};f.exports=S},78137:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};f.exports=S},45840:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};f.exports=S},98516:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};f.exports=S},16509:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};f.exports=S},17868:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};f.exports=S},35248:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};f.exports=S},34025:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};f.exports=S},52768:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};f.exports=S},82500:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};f.exports=S},49752:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports=t(72251)},75698:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};f.exports=S},43855:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return g===void 0&&(g=1e-4),Math.abs(t-h)<g};f.exports=S},25777:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};f.exports=S},5470:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return g===void 0&&(g=1e-4),t>h-g};f.exports=S},94977:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return g===void 0&&(g=1e-4),t<h+g};f.exports=S},48379:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),g=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=g(!1,o,h),f.exports=o},89318:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85710),g=function(o,a){for(var r=0,i=o.length-1,n=0;n<=i;n++)r+=Math.pow(1-a,i-n)*Math.pow(a,n)*o[n]*h(i,n);return r};f.exports=g},77259:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),g=function(o,a){var r=o.length-1,i=r*a,n=Math.floor(i);return o[0]===o[r]?(a<0&&(n=Math.floor(i=r*(1+a))),h(i-n,o[(n-1+r)%r],o[n],o[(n+1)%r],o[(n+2)%r])):a<0?o[0]-(h(-i,o[0],o[0],o[1],o[1])-o[0]):a>1?o[r]-(h(i-r,o[r],o[r],o[r-1],o[r-1])-o[r]):h(i-n,o[n?n-1:0],o[n],o[r<n+1?r:n+1],o[r<n+2?r:n+2])};f.exports=g},36316:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,r){var i=1-a;return i*i*i*r}function t(a,r){var i=1-a;return 3*i*i*a*r}function h(a,r){return 3*(1-a)*a*a*r}function g(a,r){return a*a*a*r}var o=function(a,r,i,n,l){return S(a,r)+t(a,i)+h(a,n)+g(a,l)};f.exports=o},28392:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),g=function(o,a){var r=o.length-1,i=r*a,n=Math.floor(i);return a<0?h(o[0],o[1],i):a>1?h(o[r],o[r-1],r-i):h(o[n],o[n+1>r?r:n+1],i-n)};f.exports=g},32112:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(o,a){var r=1-o;return r*r*a}function t(o,a){return 2*(1-o)*o*a}function h(o,a){return o*o*a}var g=function(o,a,r,i){return S(o,a)+t(o,r)+h(o,i)};f.exports=g},47235:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),g=function(o,a,r){return a+(r-a)*h(o,0,1)};f.exports=g},50178:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),g=function(o,a,r){return a+(r-a)*h(o,0,1)};f.exports=g},38289:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};f.exports=S},50030:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};f.exports=S},81230:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};f.exports=S},49001:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var a,r=this.n;o=o.toString();for(var i=0;i<o.length;i++)r+=o.charCodeAt(i),a=.02519603282416938*r,r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var a=0;a<o.length&&o[a]!=null;a++){var r=o[a];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},between:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},realInRange:function(o,a){return this.frac()*(a-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",a="";for(a=o="";o++<36;a+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return a},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,a){return this.realInRange(o||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var a=o.length-1,r=a;r>0;r--){var i=Math.floor(this.frac()*(r+1)),n=o[i];o[i]=o[r],o[r]=n}return o}});f.exports=g},63448:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){return g===void 0&&(g=0),h===0?t:(t-=g,t=h*Math.ceil(t/h),o?(g+t)/h:g+t)};f.exports=S},56583:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){return g===void 0&&(g=0),h===0?t:(t-=g,t=h*Math.floor(t/h),o?(g+t)/h:g+t)};f.exports=S},77720:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){return g===void 0&&(g=0),h===0?t:(t-=g,t=h*Math.round(t/h),o?(g+t)/h:g+t)};f.exports=S},73697:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var h=t(8054),g=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=g(!1,o,h),f.exports=o,t.g.Phaser=o},71289:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92209),o=t(88571),a=new h({Extends:o,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(i,n,l,s,u){o.call(this,i,n,l,s,u),this.body=null}});f.exports=a},86689:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(39506),o=t(20339),a=t(89774),r=t(66022),i=t(95540),n=t(46975),l=t(72441),s=t(47956),u=t(37277),d=t(44594),c=t(26099),v=t(82248),x=new h({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,T.sys.events.once(d.BOOT,this.boot,this),T.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new r(this.world));var y=this.systems.events;i(this.config,"customUpdate",!1)||y.on(d.UPDATE,this.world.update,this.world),y.on(d.POST_UPDATE,this.world.postUpdate,this.world),y.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var y=this.systems.game.config.physics,T=this.systems.settings.physics,E=n(i(T,"arcade",{}),i(y,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(y,T,E,A,P){return E===void 0&&(E=null),A===void 0&&(A=null),P===void 0&&(P=E),this.world.collideObjects(y,T,E,A,P,!0)},collide:function(y,T,E,A,P){return E===void 0&&(E=null),A===void 0&&(A=null),P===void 0&&(P=E),this.world.collideObjects(y,T,E,A,P,!1)},collideTiles:function(y,T,E,A,P){return this.world.collideTiles(y,T,E,A,P)},overlapTiles:function(y,T,E,A,P){return this.world.overlapTiles(y,T,E,A,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(y,T,E,A,P,w){A===void 0&&(A=60);var I=Math.atan2(E-y.y,T-y.x);return y.body.acceleration.setToPolar(I,A),P!==void 0&&w!==void 0&&y.body.maxVelocity.set(P,w),I},accelerateToObject:function(y,T,E,A,P){return this.accelerateTo(y,T.x,T.y,E,A,P)},closest:function(y,T){T||(T=this.world.bodies.entries);for(var E=Number.MAX_VALUE,A=null,P=y.x,w=y.y,I=T.length,O=0;O<I;O++){var F=T[O],L=F.body||F;if(!(y===F||y===L||y===L.gameObject||y===L.center)){var D=a(P,w,L.center.x,L.center.y);D<E&&(A=F,E=D)}}return A},furthest:function(y,T){T||(T=this.world.bodies.entries);for(var E=-1,A=null,P=y.x,w=y.y,I=T.length,O=0;O<I;O++){var F=T[O],L=F.body||F;if(!(y===F||y===L||y===L.gameObject||y===L.center)){var D=a(P,w,L.center.x,L.center.y);D>E&&(A=F,E=D)}}return A},moveTo:function(y,T,E,A,P){A===void 0&&(A=60),P===void 0&&(P=0);var w=Math.atan2(E-y.y,T-y.x);return P>0&&(A=o(y.x,y.y,T,E)/(P/1e3)),y.body.velocity.setToPolar(w,A),w},moveToObject:function(y,T,E,A){return this.moveTo(y,T.x,T.y,E,A)},velocityFromAngle:function(y,T,E){return T===void 0&&(T=60),E===void 0&&(E=new c),E.setToPolar(g(y),T)},velocityFromRotation:function(y,T,E){return T===void 0&&(T=60),E===void 0&&(E=new c),E.setToPolar(y,T)},overlapRect:function(y,T,E,A,P,w){return s(this.world,y,T,E,A,P,w)},overlapCirc:function(y,T,E,A,P){return l(this.world,y,T,E,A,P)},shutdown:function(){if(this.world){var y=this.systems.events;y.off(d.UPDATE,this.world.update,this.world),y.off(d.POST_UPDATE,this.world.postUpdate,this.world),y.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",x,"arcadePhysics"),f.exports=x},13759:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92209),o=t(68287),a=new h({Extends:o,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(i,n,l,s,u){o.call(this,i,n,l,s,u),this.body=null}});f.exports=a},37742:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(78389),o=t(37747),a=t(63012),r=t(43396),i=t(87841),n=t(37303),l=t(95829),s=t(26099),u=new h({Mixins:[g],initialize:function(c,v){var x=64,y=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=v!==void 0;E&&v.displayWidth&&(x=v.displayWidth,y=v.displayHeight),E||(v=T),this.world=c,this.gameObject=E?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=x,this.height=y,this.sourceWidth=x,this.sourceHeight=y,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(x/2),this.halfHeight=Math.abs(y/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new i,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var d=this.gameObject,c=this.transform;if(d.parentContainer){var v=d.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=v.tx,c.y=v.ty,c.rotation=r(v.rotation),c.scaleX=v.scaleX,c.scaleY=v.scaleY,c.displayOriginX=d.displayOriginX,c.displayOriginY=d.displayOriginY}else c.x=d.x,c.y=d.y,c.rotation=d.angle,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.displayOriginX=d.displayOriginX,c.displayOriginY=d.displayOriginY;var x=!1;if(this.syncBounds){var y=d.getBounds(this._bounds);this.width=y.width,this.height=y.height,x=!0}else{var T=Math.abs(c.scaleX),E=Math.abs(c.scaleY);(this._sx!==T||this._sy!==E)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*E,this._sx=T,this._sy=E,x=!0)}x&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var d=this.transform;this.position.x=d.x+d.scaleX*(this.offset.x-d.displayOriginX),this.position.y=d.y+d.scaleY*(this.offset.y-d.displayOriginY),this.updateCenter()},resetFlags:function(d){d===void 0&&(d=!1);var c=this.wasTouching,v=this.touching,x=this.blocked;d?l(!0,c):(c.none=v.none,c.up=v.up,c.down=v.down,c.left=v.left,c.right=v.right),l(!0,v),l(!0,x),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(d,c){if(d&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}d&&this.update(c)},update:function(d){var c=this.prev,v=this.position,x=this.velocity;if(c.set(v.x,v.y),!this.moves){this._dx=v.x-c.x,this._dy=v.y-c.y;return}if(this.directControl){var y=this.autoFrame;x.set((v.x-y.x)/d,(v.y-y.y)/d),this.world.updateMotion(this,d),this._dx=v.x-y.x,this._dy=v.y-y.y}else this.world.updateMotion(this,d),this.newVelocity.set(x.x*d,x.y*d),v.add(this.newVelocity),this._dx=v.x-c.x,this._dy=v.y-c.y;var T=x.x,E=x.y;if(this.updateCenter(),this.angle=Math.atan2(E,T),this.speed=Math.sqrt(T*T+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var d=this.position,c=d.x-this.prevFrame.x,v=d.y-this.prevFrame.y,x=this.gameObject;if(this.moves){var y=this.deltaMax.x,T=this.deltaMax.y;y!==0&&c!==0&&(c<0&&c<-y?c=-y:c>0&&c>y&&(c=y)),T!==0&&v!==0&&(v<0&&v<-T?v=-T:v>0&&v>T&&(v=T)),x&&(x.x+=c,x.y+=v)}c<0?this.facing=o.FACING_LEFT:c>0&&(this.facing=o.FACING_RIGHT),v<0?this.facing=o.FACING_UP:v>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&x&&(x.angle+=this.deltaZ()),this._tx=c,this._ty=v,this.autoFrame.set(d.x,d.y)},setBoundsRectangle:function(d){return this.customBoundsRectangle=d||this.world.bounds,this},checkWorldBounds:function(){var d=this.position,c=this.velocity,v=this.blocked,x=this.customBoundsRectangle,y=this.world.checkCollision,T=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return d.x<x.x&&y.left?(d.x=x.x,c.x*=T,v.left=!0,A=!0):this.right>x.right&&y.right&&(d.x=x.right-this.width,c.x*=T,v.right=!0,A=!0),d.y<x.y&&y.up?(d.y=x.y,c.y*=E,v.up=!0,A=!0):this.bottom>x.bottom&&y.down&&(d.y=x.bottom-this.height,c.y*=E,v.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(d,c){return c===void 0&&(c=d),this.offset.set(d,c),this},setGameObject:function(d,c){if(c===void 0&&(c=!0),!d||!d.hasTransformComponent)return this;var v=this.world;return this.gameObject&&this.gameObject.body&&(v.disable(this.gameObject),this.gameObject.body=null),d.body&&v.disable(d),this.gameObject=d,d.body=this,this.setSize(),this.enable=c,this},setSize:function(d,c,v){v===void 0&&(v=!0);var x=this.gameObject;if(x&&(!d&&x.frame&&(d=x.frame.realWidth),!c&&x.frame&&(c=x.frame.realHeight)),this.sourceWidth=d,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&x&&x.getCenter){var y=(x.width-d)/2,T=(x.height-c)/2;this.offset.set(y,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(d,c,v){return c===void 0&&(c=this.offset.x),v===void 0&&(v=this.offset.y),d>0?(this.isCircle=!0,this.radius=d,this.sourceWidth=d*2,this.sourceHeight=d*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,v),this.updateCenter()):this.isCircle=!1,this},reset:function(d,c){this.stop();var v=this.gameObject;v&&(v.setPosition(d,c),this.rotation=v.angle,this.preRotation=v.angle);var x=this.position;v&&v.getTopLeft?v.getTopLeft(x):x.set(d,c),this.prev.copy(x),this.prevFrame.copy(x),this.autoFrame.copy(x),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(d){return d.x=this.x,d.y=this.y,d.right=this.right,d.bottom=this.bottom,d},hitTest:function(d,c){if(!this.isCircle)return n(this,d,c);if(this.radius>0&&d>=this.left&&d<=this.right&&c>=this.top&&c<=this.bottom){var v=(this.center.x-d)*(this.center.x-d),x=(this.center.y-c)*(this.center.y-c);return v+x<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(d){var c=this.position,v=c.x+this.halfWidth,x=c.y+this.halfHeight;this.debugShowBody&&(d.lineStyle(d.defaultStrokeWidth,this.debugBodyColor),this.isCircle?d.strokeCircle(v,x,this.width/2):(this.checkCollision.up&&d.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&d.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&d.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&d.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(d.lineStyle(d.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),d.lineBetween(v,x,v+this.velocity.x/2,x+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(d){return d===void 0&&(d=!0),this.directControl=d,this},setCollideWorldBounds:function(d,c,v,x){d===void 0&&(d=!0),this.collideWorldBounds=d;var y=c!==void 0,T=v!==void 0;return(y||T)&&(this.worldBounce||(this.worldBounce=new s),y&&(this.worldBounce.x=c),T&&(this.worldBounce.y=v)),x!==void 0&&(this.onWorldBounds=x),this},setVelocity:function(d,c){return this.velocity.set(d,c),d=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(d*d+c*c),this},setVelocityX:function(d){return this.setVelocity(d,this.velocity.y)},setVelocityY:function(d){return this.setVelocity(this.velocity.x,d)},setMaxVelocity:function(d,c){return this.maxVelocity.set(d,c),this},setMaxVelocityX:function(d){return this.maxVelocity.x=d,this},setMaxVelocityY:function(d){return this.maxVelocity.y=d,this},setMaxSpeed:function(d){return this.maxSpeed=d,this},setSlideFactor:function(d,c){return this.slideFactor.set(d,c),this},setBounce:function(d,c){return this.bounce.set(d,c),this},setBounceX:function(d){return this.bounce.x=d,this},setBounceY:function(d){return this.bounce.y=d,this},setAcceleration:function(d,c){return this.acceleration.set(d,c),this},setAccelerationX:function(d){return this.acceleration.x=d,this},setAccelerationY:function(d){return this.acceleration.y=d,this},setAllowDrag:function(d){return d===void 0&&(d=!0),this.allowDrag=d,this},setAllowGravity:function(d){return d===void 0&&(d=!0),this.allowGravity=d,this},setAllowRotation:function(d){return d===void 0&&(d=!0),this.allowRotation=d,this},setDrag:function(d,c){return this.drag.set(d,c),this},setDamping:function(d){return this.useDamping=d,this},setDragX:function(d){return this.drag.x=d,this},setDragY:function(d){return this.drag.y=d,this},setGravity:function(d,c){return this.gravity.set(d,c),this},setGravityX:function(d){return this.gravity.x=d,this},setGravityY:function(d){return this.gravity.y=d,this},setFriction:function(d,c){return this.friction.set(d,c),this},setFrictionX:function(d){return this.friction.x=d,this},setFrictionY:function(d){return this.friction.y=d,this},setAngularVelocity:function(d){return this.angularVelocity=d,this},setAngularAcceleration:function(d){return this.angularAcceleration=d,this},setAngularDrag:function(d){return this.angularDrag=d,this},setMass:function(d){return this.mass=d,this},setImmovable:function(d){return d===void 0&&(d=!0),this.immovable=d,this},setEnable:function(d){return d===void 0&&(d=!0),this.enable=d,this},processX:function(d,c,v,x){this.x+=d,this.updateCenter(),c!==null&&(this.velocity.x=c*this.slideFactor.x);var y=this.blocked;v&&(y.left=!0,y.none=!1),x&&(y.right=!0,y.none=!1)},processY:function(d,c,v,x){this.y+=d,this.updateCenter(),c!==null&&(this.velocity.y=c*this.slideFactor.y);var y=this.blocked;v&&(y.up=!0,y.none=!1),x&&(y.down=!0,y.none=!1)},x:{get:function(){return this.position.x},set:function(d){this.position.x=d}},y:{get:function(){return this.position.y},set:function(d){this.position.y=d}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});f.exports=u},79342:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n,l,s,u){this.world=a,this.name="",this.active=!0,this.overlapOnly=r,this.object1=i,this.object2=n,this.collideCallback=l,this.processCallback=s,this.callbackContext=u},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});f.exports=g},66022:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71289),g=t(13759),o=t(37742),a=t(83419),r=t(37747),i=t(60758),n=t(72624),l=t(71464),s=new a({initialize:function(d){this.world=d,this.scene=d.scene,this.sys=d.scene.sys},collider:function(u,d,c,v,x){return this.world.addCollider(u,d,c,v,x)},overlap:function(u,d,c,v,x){return this.world.addOverlap(u,d,c,v,x)},existing:function(u,d){var c=d?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(u,c),u},staticImage:function(u,d,c,v){var x=new h(this.scene,u,d,c,v);return this.sys.displayList.add(x),this.world.enableBody(x,r.STATIC_BODY),x},image:function(u,d,c,v){var x=new h(this.scene,u,d,c,v);return this.sys.displayList.add(x),this.world.enableBody(x,r.DYNAMIC_BODY),x},staticSprite:function(u,d,c,v){var x=new g(this.scene,u,d,c,v);return this.sys.displayList.add(x),this.sys.updateList.add(x),this.world.enableBody(x,r.STATIC_BODY),x},sprite:function(u,d,c,v){var x=new g(this.scene,u,d,c,v);return this.sys.displayList.add(x),this.sys.updateList.add(x),this.world.enableBody(x,r.DYNAMIC_BODY),x},staticGroup:function(u,d){return this.sys.updateList.add(new l(this.world,this.world.scene,u,d))},group:function(u,d){return this.sys.updateList.add(new i(this.world,this.world.scene,u,d))},body:function(u,d,c,v){var x=new o(this.world);return x.position.set(u,d),c&&v&&x.setSize(c,v),this.world.add(x,r.DYNAMIC_BODY),x},staticBody:function(u,d,c,v){var x=new n(this.world);return x.position.set(u,d),c&&v&&x.setSize(c,v),this.world.add(x,r.STATIC_BODY),x},destroy:function(){this.world=null,this.scene=null,this.sys=null}});f.exports=s},79599:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=0;if(!Array.isArray(t))h=t;else for(var g=0;g<t.length;g++)h|=t[g];return h};f.exports=S},64897:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),g=function(o,a,r,i){var n=0,l=o.deltaAbsX()+a.deltaAbsX()+i;return o._dx===0&&a._dx===0?(o.embedded=!0,a.embedded=!0):o._dx>a._dx?(n=o.right-a.x,n>l&&!r||o.checkCollision.right===!1||a.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0))):o._dx<a._dx&&(n=o.x-a.width-a.x,-n>l&&!r||o.checkCollision.left===!1||a.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0))),o.overlapX=n,a.overlapX=n,n};f.exports=g},45170:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),g=function(o,a,r,i){var n=0,l=o.deltaAbsY()+a.deltaAbsY()+i;return o._dy===0&&a._dy===0?(o.embedded=!0,a.embedded=!0):o._dy>a._dy?(n=o.bottom-a.y,n>l&&!r||o.checkCollision.down===!1||a.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0))):o._dy<a._dy&&(n=o.y-a.bottom,-n>l&&!r||o.checkCollision.up===!1||a.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0))),o.overlapY=n,a.overlapY=n,n};f.exports=g},60758:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),g=t(83419),o=t(78389),a=t(37747),r=t(95540),i=t(26479),n=t(41212),l=new g({Extends:i,Mixins:[o],initialize:function(u,d,c,v){if(!c&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(c))v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&n(c[0])){var x=this;c.forEach(function(y){y.internalCreateCallback=x.createCallbackHandler,y.internalRemoveCallback=x.removeCallbackHandler,y.classType=r(y,"classType",h)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,v&&(v.classType=r(v,"classType",h)),this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(v,"collideWorldBounds",!1),setBoundsRectangle:r(v,"customBoundsRectangle",null),setAccelerationX:r(v,"accelerationX",0),setAccelerationY:r(v,"accelerationY",0),setAllowDrag:r(v,"allowDrag",!0),setAllowGravity:r(v,"allowGravity",!0),setAllowRotation:r(v,"allowRotation",!0),setDamping:r(v,"useDamping",!1),setBounceX:r(v,"bounceX",0),setBounceY:r(v,"bounceY",0),setDragX:r(v,"dragX",0),setDragY:r(v,"dragY",0),setEnable:r(v,"enable",!0),setGravityX:r(v,"gravityX",0),setGravityY:r(v,"gravityY",0),setFrictionX:r(v,"frictionX",0),setFrictionY:r(v,"frictionY",0),setMaxSpeed:r(v,"maxSpeed",-1),setMaxVelocityX:r(v,"maxVelocityX",1e4),setMaxVelocityY:r(v,"maxVelocityY",1e4),setVelocityX:r(v,"velocityX",0),setVelocityY:r(v,"velocityY",0),setAngularVelocity:r(v,"angularVelocity",0),setAngularAcceleration:r(v,"angularAcceleration",0),setAngularDrag:r(v,"angularDrag",0),setMass:r(v,"mass",1),setImmovable:r(v,"immovable",!1)},i.call(this,d,c,v),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.DYNAMIC_BODY);var u=s.body;for(var d in this.defaults)u[d](this.defaults[d])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,u,d){d===void 0&&(d=0);for(var c=this.getChildren(),v=0;v<c.length;v++)c[v].body.velocity.set(s+v*d,u+v*d);return this},setVelocityX:function(s,u){u===void 0&&(u=0);for(var d=this.getChildren(),c=0;c<d.length;c++)d[c].body.velocity.x=s+c*u;return this},setVelocityY:function(s,u){u===void 0&&(u=0);for(var d=this.getChildren(),c=0;c<d.length;c++)d[c].body.velocity.y=s+c*u;return this}});f.exports=l},3017:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,g,o,a,r,i,n,l,s,u,d,c,v,x,y,T=function(O,F,L){S=O,t=F;var D=S.velocity.x,b=t.velocity.x;return h=S.pushable,n=S._dx<0,l=S._dx>0,s=S._dx===0,v=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),r=b-D*S.bounce.x,g=t.pushable,u=t._dx<0,d=t._dx>0,c=t._dx===0,x=!v,i=D-b*t.bounce.x,y=Math.abs(L),E()},E=function(){return l&&v&&t.blocked.right?(S.processX(-y,r,!1,!0),1):n&&x&&t.blocked.left?(S.processX(y,r,!0),1):d&&x&&S.blocked.right?(t.processX(-y,i,!1,!0),2):u&&v&&S.blocked.left?(t.processX(y,i,!0),2):0},A=function(){var O=S.velocity.x,F=t.velocity.x,L=Math.sqrt(F*F*t.mass/S.mass)*(F>0?1:-1),D=Math.sqrt(O*O*S.mass/t.mass)*(O>0?1:-1),b=(L+D)*.5;return L-=b,D-=b,o=b+L*S.bounce.x,a=b+D*t.bounce.x,n&&x?P(0):u&&v?P(1):l&&v?P(2):d&&x?P(3):!1},P=function(O){if(h&&g)y*=.5,O===0||O===3?(S.processX(y,o),t.processX(-y,a)):(S.processX(-y,o),t.processX(y,a));else if(h&&!g)O===0||O===3?S.processX(y,r,!0):S.processX(-y,r,!1,!0);else if(!h&&g)O===0||O===3?t.processX(-y,i,!1,!0):t.processX(y,i,!0);else{var F=y*.5;O===0?c?(S.processX(y,0,!0),t.processX(0,null,!1,!0)):d?(S.processX(F,0,!0),t.processX(-F,0,!1,!0)):(S.processX(F,t.velocity.x,!0),t.processX(-F,null,!1,!0)):O===1?s?(S.processX(0,null,!1,!0),t.processX(y,0,!0)):l?(S.processX(-F,0,!1,!0),t.processX(F,0,!0)):(S.processX(-F,null,!1,!0),t.processX(F,S.velocity.x,!0)):O===2?c?(S.processX(-y,0,!1,!0),t.processX(0,null,!0)):u?(S.processX(-F,0,!1,!0),t.processX(F,0,!0)):(S.processX(-F,t.velocity.x,!1,!0),t.processX(F,null,!0)):O===3&&(s?(S.processX(0,null,!0),t.processX(-y,0,!1,!0)):n?(S.processX(F,0,!0),t.processX(-F,0,!1,!0)):(S.processX(F,t.velocity.y,!0),t.processX(-F,null,!1,!0)))}return!0},w=function(O){if(O===1?t.velocity.x=0:v?t.processX(y,i,!0):t.processX(-y,i,!1,!0),S.moves){var F=S.directControl?S.y-S.autoFrame.y:S.y-S.prev.y;t.y+=F*S.friction.y,t._dy=t.y-t.prev.y}},I=function(O){if(O===2?S.velocity.x=0:x?S.processX(y,r,!0):S.processX(-y,r,!1,!0),t.moves){var F=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;S.y+=F*t.friction.y,S._dy=S.y-S.prev.y}};f.exports={BlockCheck:E,Check:A,Set:T,Run:P,RunImmovableBody1:w,RunImmovableBody2:I}},47962:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,g,o,a,r,i,n,l,s,u,d,c,v,x,y,T=function(O,F,L){S=O,t=F;var D=S.velocity.y,b=t.velocity.y;return h=S.pushable,n=S._dy<0,l=S._dy>0,s=S._dy===0,v=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),r=b-D*S.bounce.y,g=t.pushable,u=t._dy<0,d=t._dy>0,c=t._dy===0,x=!v,i=D-b*t.bounce.y,y=Math.abs(L),E()},E=function(){return l&&v&&t.blocked.down?(S.processY(-y,r,!1,!0),1):n&&x&&t.blocked.up?(S.processY(y,r,!0),1):d&&x&&S.blocked.down?(t.processY(-y,i,!1,!0),2):u&&v&&S.blocked.up?(t.processY(y,i,!0),2):0},A=function(){var O=S.velocity.y,F=t.velocity.y,L=Math.sqrt(F*F*t.mass/S.mass)*(F>0?1:-1),D=Math.sqrt(O*O*S.mass/t.mass)*(O>0?1:-1),b=(L+D)*.5;return L-=b,D-=b,o=b+L*S.bounce.y,a=b+D*t.bounce.y,n&&x?P(0):u&&v?P(1):l&&v?P(2):d&&x?P(3):!1},P=function(O){if(h&&g)y*=.5,O===0||O===3?(S.processY(y,o),t.processY(-y,a)):(S.processY(-y,o),t.processY(y,a));else if(h&&!g)O===0||O===3?S.processY(y,r,!0):S.processY(-y,r,!1,!0);else if(!h&&g)O===0||O===3?t.processY(-y,i,!1,!0):t.processY(y,i,!0);else{var F=y*.5;O===0?c?(S.processY(y,0,!0),t.processY(0,null,!1,!0)):d?(S.processY(F,0,!0),t.processY(-F,0,!1,!0)):(S.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)):O===1?s?(S.processY(0,null,!1,!0),t.processY(y,0,!0)):l?(S.processY(-F,0,!1,!0),t.processY(F,0,!0)):(S.processY(-F,null,!1,!0),t.processY(F,S.velocity.y,!0)):O===2?c?(S.processY(-y,0,!1,!0),t.processY(0,null,!0)):u?(S.processY(-F,0,!1,!0),t.processY(F,0,!0)):(S.processY(-F,t.velocity.y,!1,!0),t.processY(F,null,!0)):O===3&&(s?(S.processY(0,null,!0),t.processY(-y,0,!1,!0)):n?(S.processY(F,0,!0),t.processY(-F,0,!1,!0)):(S.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)))}return!0},w=function(O){if(O===1?t.velocity.y=0:v?t.processY(y,i,!0):t.processY(-y,i,!1,!0),S.moves){var F=S.directControl?S.x-S.autoFrame.x:S.x-S.prev.x;t.x+=F*S.friction.x,t._dx=t.x-t.prev.x}},I=function(O){if(O===2?S.velocity.y=0:x?S.processY(y,r,!0):S.processY(-y,r,!1,!0),t.moves){var F=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;S.x+=F*t.friction.x,S._dx=S.x-S.prev.x}};f.exports={BlockCheck:E,Check:A,Set:T,Run:P,RunImmovableBody1:w,RunImmovableBody2:I}},14087:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64897),g=t(3017),o=function(a,r,i,n,l){l===void 0&&(l=h(a,r,i,n));var s=a.immovable,u=r.immovable;if(i||l===0||s&&u||a.customSeparateX||r.customSeparateX)return l!==0||a.embedded&&r.embedded;var d=g.Set(a,r,l);return!s&&!u?d>0?!0:g.Check():(s?g.RunImmovableBody1(d):u&&g.RunImmovableBody2(d),!0)};f.exports=o},89936:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45170),g=t(47962),o=function(a,r,i,n,l){l===void 0&&(l=h(a,r,i,n));var s=a.immovable,u=r.immovable;if(i||l===0||s&&u||a.customSeparateY||r.customSeparateY)return l!==0||a.embedded&&r.embedded;var d=g.Set(a,r,l);return!s&&!u?d>0?!0:g.Check():(s?g.RunImmovableBody1(d):u&&g.RunImmovableBody2(d),!0)};f.exports=o},95829:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h={}),h.none=t,h.up=!1,h.down=!1,h.left=!1,h.right=!1,t||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h};f.exports=S},72624:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),g=t(83419),o=t(78389),a=t(37747),r=t(37303),i=t(95829),n=t(26099),l=new g({Mixins:[o],initialize:function(u,d){var c=64,v=64,x={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=d!==void 0;y&&d.displayWidth&&(c=d.displayWidth,v=d.displayHeight),y||(d=x),this.world=u,this.gameObject=y?d:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(d.x-c*d.originX,d.y-v*d.originY),this.width=c,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=i(!1),this.touching=i(!0),this.wasTouching=i(!0),this.blocked=i(!0),this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,u,d){if(u===void 0&&(u=!0),d===void 0&&(d=!0),!s||!s.hasTransformComponent)return this;var c=this.world;return this.gameObject&&this.gameObject.body&&(c.disable(this.gameObject),this.gameObject.body=null),s.body&&c.disable(s),this.gameObject=s,s.body=this,this.setSize(),u&&this.updateFromGameObject(),this.enable=d,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,u){return u===void 0&&(u=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,u,d){d===void 0&&(d=!0);var c=this.gameObject;if(c&&c.frame&&(s||(s=c.frame.realWidth),u||(u=c.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=u,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(u/2),d&&c&&c.getCenter){var v=c.displayWidth/2,x=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,x-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,u,d){return u===void 0&&(u=this.offset.x),d===void 0&&(d=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,d),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,u){var d=this.gameObject;s===void 0&&(s=d.x),u===void 0&&(u=d.y),this.world.staticTree.remove(this),d.setPosition(s,u),d.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,u){return this.isCircle?h(this,s,u):r(this,s,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var u=this.position,d=u.x+this.halfWidth,c=u.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(d,c,this.width/2):s.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});f.exports=l},71464:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),g=t(83419),o=t(78389),a=t(37747),r=t(95540),i=t(26479),n=t(41212),l=new g({Extends:i,Mixins:[o],initialize:function(u,d,c,v){!c&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:n(c)?(v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",h)):Array.isArray(c)&&n(c[0])?(v=c,c=null,v.forEach(function(x){x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=r(x,"classType",h)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,i.call(this,d,c,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,u=0;u<s.length;u++)s[u].body.reset();return this}});f.exports=l},82248:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55495),g=t(37742),o=t(45319),a=t(83419),r=t(79342),i=t(37747),n=t(20339),l=t(52816),s=t(50792),u=t(63012),d=t(43855),c=t(5470),v=t(94977),x=t(64897),y=t(45170),T=t(96523),E=t(35154),A=t(36383),P=t(25774),w=t(96602),I=t(87841),O=t(59542),F=t(40012),L=t(14087),D=t(89936),b=t(35072),U=t(72624),W=t(2483),H=t(61340),Y=t(26099),G=t(15994),X=new a({Extends:s,initialize:function(B,z){s.call(this),this.scene=B,this.bodies=new b,this.staticBodies=new b,this.pendingDestroy=new b,this.colliders=new P,this.gravity=new Y(E(z,"gravity.x",0),E(z,"gravity.y",0)),this.bounds=new I(E(z,"x",0),E(z,"y",0),E(z,"width",B.sys.scale.width),E(z,"height",B.sys.scale.height)),this.checkCollision={up:E(z,"checkCollision.up",!0),down:E(z,"checkCollision.down",!0),left:E(z,"checkCollision.left",!0),right:E(z,"checkCollision.right",!0)},this.fps=E(z,"fps",60),this.fixedStep=E(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(z,"timeScale",1),this.OVERLAP_BIAS=E(z,"overlapBias",4),this.TILE_BIAS=E(z,"tileBias",16),this.forceX=E(z,"forceX",!1),this.isPaused=E(z,"isPaused",!1),this._total=0,this.drawDebug=E(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(z,"debugShowBody",!0),debugShowStaticBody:E(z,"debugShowStaticBody",!0),debugShowVelocity:E(z,"debugShowVelocity",!0),bodyDebugColor:E(z,"debugBodyColor",16711935),staticBodyDebugColor:E(z,"debugStaticBodyColor",255),velocityDebugColor:E(z,"debugVelocityColor",65280)},this.maxEntries=E(z,"maxEntries",16),this.useTree=E(z,"useTree",!0),this.tree=new O(this.maxEntries),this.staticTree=new O(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(V,B){B===void 0&&(B=i.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var z=0;z<V.length;z++){var $=V[z];if($.isParent)for(var j=$.getChildren(),k=0;k<j.length;k++){var q=j[k];q.isParent?this.enable(q,B):this.enableBody(q,B)}else this.enableBody($,B)}},enableBody:function(V,B){return B===void 0&&(B=i.DYNAMIC_BODY),V.hasTransformComponent&&(V.body||(B===i.DYNAMIC_BODY?V.body=new g(this,V):B===i.STATIC_BODY&&(V.body=new U(this,V))),this.add(V.body)),V},add:function(V){return V.physicsType===i.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===i.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var B=0;B<V.length;B++){var z=V[B];if(z.isParent)for(var $=z.getChildren(),j=0;j<$.length;j++){var k=$[j];k.isParent?this.disable(k):this.disableBody(k.body)}else this.disableBody(z.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===i.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,B,z,$,j,k,q,Q){return this.bounds.setTo(V,B,z,$),j!==void 0&&this.setBoundsCollision(j,k,q,Q),this},setBoundsCollision:function(V,B,z,$){return V===void 0&&(V=!0),B===void 0&&(B=!0),z===void 0&&(z=!0),$===void 0&&($=!0),this.checkCollision.left=V,this.checkCollision.right=B,this.checkCollision.up=z,this.checkCollision.down=$,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(V,B,z,$,j){z===void 0&&(z=null),$===void 0&&($=null),j===void 0&&(j=z);var k=new r(this,!1,V,B,z,$,j);return this.colliders.add(k),k},addOverlap:function(V,B,z,$,j){z===void 0&&(z=null),$===void 0&&($=null),j===void 0&&(j=z);var k=new r(this,!0,V,B,z,$,j);return this.colliders.add(k),k},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,B){if(!(this.isPaused||this.bodies.size===0)){var z,$=this._frameTime,j=this._frameTimeMS*this.timeScale;this._elapsed+=B;var k,q=this.bodies.entries,Q=this._elapsed>=j;for(this.fixedStep||($=B*.001,Q=!0,this._elapsed=0),z=0;z<q.length;z++)k=q[z],k.enable&&k.preUpdate(Q,$);if(Q){this._elapsed-=j,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(q));var Z=this.colliders.update();for(z=0;z<Z.length;z++){var _=Z[z];_.active&&_.update()}this.emit(u.WORLD_STEP,$)}for(;this._elapsed>=j;)this._elapsed-=j,this.step($)}},step:function(V){var B,z,$=this.bodies.entries,j=$.length;for(B=0;B<j;B++)z=$[B],z.enable&&z.update(V);this.useTree&&(this.tree.clear(),this.tree.load($));var k=this.colliders.update();for(B=0;B<k.length;B++){var q=k[B];q.active&&q.update()}this.emit(u.WORLD_STEP,V),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var V,B,z=this.bodies.entries,$=z.length,j=this.bodies,k=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<$;V++)B=z[V],B.enable&&B.postUpdate();if(this.drawDebug){var q=this.debugGraphic;for(q.clear(),V=0;V<$;V++)B=z[V],B.willDrawDebug()&&B.drawDebug(q);for(z=k.entries,$=z.length,V=0;V<$;V++)B=z[V],B.willDrawDebug()&&B.drawDebug(q)}var Q=this.pendingDestroy;if(Q.size>0){var Z=this.tree,_=this.staticTree;for(z=Q.entries,$=z.length,V=0;V<$;V++)B=z[V],B.physicsType===i.DYNAMIC_BODY?(Z.remove(B),j.delete(B)):B.physicsType===i.STATIC_BODY&&(_.remove(B),k.delete(B)),B.world=void 0,B.gameObject=void 0;Q.clear()}},updateMotion:function(V,B){V.allowRotation&&this.computeAngularVelocity(V,B),this.computeVelocity(V,B)},computeAngularVelocity:function(V,B){var z=V.angularVelocity,$=V.angularAcceleration,j=V.angularDrag,k=V.maxAngular;$?z+=$*B:V.allowDrag&&j&&(j*=B,c(z-j,0,.1)?z-=j:v(z+j,0,.1)?z+=j:z=0),z=o(z,-k,k);var q=z-V.angularVelocity;V.angularVelocity+=q,V.rotation+=V.angularVelocity*B},computeVelocity:function(V,B){var z=V.velocity.x,$=V.acceleration.x,j=V.drag.x,k=V.maxVelocity.x,q=V.velocity.y,Q=V.acceleration.y,Z=V.drag.y,_=V.maxVelocity.y,et=V.speed,it=V.maxSpeed,st=V.allowDrag,nt=V.useDamping;V.allowGravity&&(z+=(this.gravity.x+V.gravity.x)*B,q+=(this.gravity.y+V.gravity.y)*B),$?z+=$*B:st&&j&&(nt?(j=Math.pow(j,B),z*=j,et=Math.sqrt(z*z+q*q),d(et,0,.001)&&(z=0)):(j*=B,c(z-j,0,.01)?z-=j:v(z+j,0,.01)?z+=j:z=0)),Q?q+=Q*B:st&&Z&&(nt?(Z=Math.pow(Z,B),q*=Z,et=Math.sqrt(z*z+q*q),d(et,0,.001)&&(q=0)):(Z*=B,c(q-Z,0,.01)?q-=Z:v(q+Z,0,.01)?q+=Z:q=0)),z=o(z,-k,k),q=o(q,-_,_),V.velocity.set(z,q),it>-1&&V.velocity.length()>it&&(V.velocity.normalize().scale(it),et=it),V.speed=et},separate:function(V,B,z,$,j){var k,q,Q=!1,Z=!0;if(!V.enable||!B.enable||V.checkCollision.none||B.checkCollision.none||!this.intersects(V,B)||z&&z.call($,V.gameObject||V,B.gameObject||B)===!1)return Q;if(V.isCircle||B.isCircle){var _=this.separateCircle(V,B,j);_.result?(Q=!0,Z=!1):(k=_.x,q=_.y,Z=!0)}if(Z){var et=!1,it=!1,st=this.OVERLAP_BIAS;j?(et=L(V,B,j,st,k),it=D(V,B,j,st,q)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(et=L(V,B,j,st,k),this.intersects(V,B)&&(it=D(V,B,j,st,q))):(it=D(V,B,j,st,q),this.intersects(V,B)&&(et=L(V,B,j,st,k))),Q=et||it}return Q&&(j?(V.onOverlap||B.onOverlap)&&this.emit(u.OVERLAP,V.gameObject,B.gameObject,V,B):(V.onCollide||B.onCollide)&&this.emit(u.COLLIDE,V.gameObject,B.gameObject,V,B)),Q},separateCircle:function(V,B,z){x(V,B,!1,0),y(V,B,!1,0);var $=V.isCircle,j=B.isCircle,k=V.center,q=B.center,Q=V.immovable,Z=B.immovable,_=V.velocity,et=B.velocity,it=0,st=!0;if($!==j){st=!1;var nt=k.x,lt=k.y,ut=V.halfWidth,ot=B.position.x,rt=B.position.y,ht=B.right,dt=B.bottom;j&&(nt=q.x,lt=q.y,ut=B.halfWidth,ot=V.position.x,rt=V.position.y,ht=V.right,dt=V.bottom),lt<rt?nt<ot?it=n(nt,lt,ot,rt)-ut:nt>ht&&(it=n(nt,lt,ht,rt)-ut):lt>dt&&(nt<ot?it=n(nt,lt,ot,dt)-ut:nt>ht&&(it=n(nt,lt,ht,dt)-ut)),it*=-1}else it=V.halfWidth+B.halfWidth-l(k,q);V.overlapR=it,B.overlapR=it;var xt=h(k,q),yt=(it+A.EPSILON)*Math.cos(xt),Ct=(it+A.EPSILON)*Math.sin(xt),St={overlap:it,result:!1,x:yt,y:Ct};if(z&&(!st||st&&it!==0))return St.result=!0,St;if(!st&&it===0||Q&&Z||V.customSeparateX||B.customSeparateX)return St.x=void 0,St.y=void 0,St;var It=!V.pushable&&!B.pushable;if(st){var zt=k.x-q.x,qt=k.y-q.y,Nt=Math.sqrt(Math.pow(zt,2)+Math.pow(qt,2)),Jt=(q.x-k.x)/Nt||0,oe=(q.y-k.y)/Nt||0,jt=2*(_.x*Jt+_.y*oe-et.x*Jt-et.y*oe)/(V.mass+B.mass);(Q||Z||!V.pushable||!B.pushable)&&(jt*=2),!Q&&V.pushable&&(_.x=_.x-jt/V.mass*Jt,_.y=_.y-jt/V.mass*oe,_.multiply(V.bounce)),!Z&&B.pushable&&(et.x=et.x+jt/B.mass*Jt,et.y=et.y+jt/B.mass*oe,et.multiply(B.bounce)),!Q&&!Z&&(yt*=.5,Ct*=.5),(!Q||V.pushable||It)&&(V.x-=yt,V.y-=Ct,V.updateCenter()),(!Z||B.pushable||It)&&(B.x+=yt,B.y+=Ct,B.updateCenter()),St.result=!0}else(!Q||V.pushable||It)&&(V.x-=yt,V.y-=Ct,V.updateCenter()),(!Z||B.pushable||It)&&(B.x+=yt,B.y+=Ct,B.updateCenter()),St.x=void 0,St.y=void 0;return St},intersects:function(V,B){return V===B?!1:!V.isCircle&&!B.isCircle?!(V.right<=B.left||V.bottom<=B.top||V.left>=B.right||V.top>=B.bottom):V.isCircle?B.isCircle?l(V.center,B.center)<=V.halfWidth+B.halfWidth:this.circleBodyIntersects(V,B):this.circleBodyIntersects(B,V)},circleBodyIntersects:function(V,B){var z=o(V.center.x,B.left,B.right),$=o(V.center.y,B.top,B.bottom),j=(V.center.x-z)*(V.center.x-z),k=(V.center.y-$)*(V.center.y-$);return j+k<=V.halfWidth*V.halfWidth},overlap:function(V,B,z,$,j){return z===void 0&&(z=null),$===void 0&&($=null),j===void 0&&(j=z),this.collideObjects(V,B,z,$,j,!0)},collide:function(V,B,z,$,j){return z===void 0&&(z=null),$===void 0&&($=null),j===void 0&&(j=z),this.collideObjects(V,B,z,$,j,!1)},collideObjects:function(V,B,z,$,j,k){var q,Q;V.isParent&&(V.physicsType===void 0||B===void 0||V===B)&&(V=V.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var Z=Array.isArray(V),_=Array.isArray(B);if(this._total=0,!Z&&!_)this.collideHandler(V,B,z,$,j,k);else if(!Z&&_)for(q=0;q<B.length;q++)this.collideHandler(V,B[q],z,$,j,k);else if(Z&&!_)if(B)for(q=0;q<V.length;q++)this.collideHandler(V[q],B,z,$,j,k);else for(q=0;q<V.length;q++){var et=V[q];for(Q=q+1;Q<V.length;Q++)q!==Q&&this.collideHandler(et,V[Q],z,$,j,k)}else for(q=0;q<V.length;q++)for(Q=0;Q<B.length;Q++)this.collideHandler(V[q],B[Q],z,$,j,k);return this._total>0},collideHandler:function(V,B,z,$,j,k){if(B===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,z,$,j,k);if(!V||!B)return!1;if(V.body||V.isBody){if(B.body||B.isBody)return this.collideSpriteVsSprite(V,B,z,$,j,k);if(B.isParent)return this.collideSpriteVsGroup(V,B,z,$,j,k);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(V,B,z,$,j,k)}else if(V.isParent){if(B.body||B.isBody)return this.collideSpriteVsGroup(B,V,z,$,j,k);if(B.isParent)return this.collideGroupVsGroup(V,B,z,$,j,k);if(B.isTilemap)return this.collideGroupVsTilemapLayer(V,B,z,$,j,k)}else if(V.isTilemap){if(B.body||B.isBody)return this.collideSpriteVsTilemapLayer(B,V,z,$,j,k);if(B.isParent)return this.collideGroupVsTilemapLayer(B,V,z,$,j,k)}},canCollide:function(V,B){return V&&B&&(V.collisionMask&B.collisionCategory)!==0&&(B.collisionMask&V.collisionCategory)!==0},collideSpriteVsSprite:function(V,B,z,$,j,k){var q=V.isBody?V:V.body,Q=B.isBody?B:B.body;return this.canCollide(q,Q)?(this.separate(q,Q,$,j,k)&&(z&&z.call(j,V,B),this._total++),!0):!1},collideSpriteVsGroup:function(V,B,z,$,j,k){var q=V.isBody?V:V.body;if(!(B.getLength()===0||!q||!q.enable||q.checkCollision.none||!this.canCollide(q,B))){var Q,Z,_;if(this.useTree||B.physicsType===i.STATIC_BODY){var et=this.treeMinMax;et.minX=q.left,et.minY=q.top,et.maxX=q.right,et.maxY=q.bottom;var it=B.physicsType===i.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(Z=it.length,Q=0;Q<Z;Q++)_=it[Q],!(q===_||!_.enable||_.checkCollision.none||!B.contains(_.gameObject))&&this.separate(q,_,$,j,k)&&(z&&z.call(j,q.gameObject,_.gameObject),this._total++)}else{var st=B.getChildren(),nt=B.children.entries.indexOf(V);for(Z=st.length,Q=0;Q<Z;Q++)_=st[Q].body,!(!_||Q===nt||!_.enable)&&this.separate(q,_,$,j,k)&&(z&&z.call(j,q.gameObject,_.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,B,z,$,j,k){if(!this.canCollide(V,B))return!1;var q=V.getChildren();if(q.length===0)return!1;for(var Q=!1,Z=0;Z<q.length;Z++)(q[Z].body||q[Z].isBody)&&this.collideSpriteVsTilemapLayer(q[Z],B,z,$,j,k)&&(Q=!0);return Q},collideTiles:function(V,B,z,$,j){return B.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,B,z,$,j,!1,!1)},overlapTiles:function(V,B,z,$,j){return B.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,B,z,$,j,!0,!1)},collideSpriteVsTilemapLayer:function(V,B,z,$,j,k){var q=V.isBody?V:V.body;if(!q.enable||q.checkCollision.none||!this.canCollide(q,B))return!1;var Q=B.layer,Z=q.x-Q.tileWidth*B.scaleX,_=q.y-Q.tileHeight*B.scaleY,et=q.width+Q.tileWidth*B.scaleX,it=q.height+Q.tileHeight*B.scaleY,st=k?null:this.tileFilterOptions,nt=T(Z,_,et,it,st,B.scene.cameras.main,B.layer);return nt.length===0?!1:this.collideSpriteVsTilesHandler(V,nt,z,$,j,k,!0)},collideSpriteVsTilesHandler:function(V,B,z,$,j,k,q){for(var Q=V.isBody?V:V.body,Z,_={left:0,right:0,top:0,bottom:0},et,it=!1,st=0;st<B.length;st++){Z=B[st],et=Z.tilemapLayer;var nt=et.tileToWorldXY(Z.x,Z.y);_.left=nt.x,_.top=nt.y,_.right=_.left+Z.width*et.scaleX,_.bottom=_.top+Z.height*et.scaleY,W(_,Q)&&(!$||$.call(j,V,Z))&&w(Z,V)&&(k||F(st,Q,Z,_,et,this.TILE_BIAS,q))&&(this._total++,it=!0,z&&z.call(j,V,Z),k&&Q.onOverlap?this.emit(u.TILE_OVERLAP,V,Z,Q):Q.onCollide&&this.emit(u.TILE_COLLIDE,V,Z,Q))}return it},collideGroupVsGroup:function(V,B,z,$,j,k){if(!(V.getLength()===0||B.getLength()===0||!this.canCollide(V,B)))for(var q=V.getChildren(),Q=0;Q<q.length;Q++)this.collideSpriteVsGroup(q[Q],B,z,$,j,k)},wrap:function(V,B){V.body?this.wrapObject(V,B):V.getChildren?this.wrapArray(V.getChildren(),B):Array.isArray(V)?this.wrapArray(V,B):this.wrapObject(V,B)},wrapArray:function(V,B){for(var z=0;z<V.length;z++)this.wrapObject(V[z],B)},wrapObject:function(V,B){B===void 0&&(B=0),V.x=G(V.x,this.bounds.left-B,this.bounds.right+B),V.y=G(V.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});f.exports=X},1093:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};f.exports=S},59023:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};f.exports=S},62069:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,g,o){return this.body.setCollideWorldBounds(t,h,g,o),this}};f.exports=S},78389:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79599),g={setCollisionCategory:function(o){var a=this.body?this.body:this;return a.collisionCategory=o,this},willCollideWith:function(o){var a=this.body?this.body:this;return(a.collisionMask&o)!==0},addCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask|o,this},removeCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask&~o,this},setCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=h(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=2147483647,this}};f.exports=g},87118:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,h,g){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=g,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};f.exports=S},52819:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};f.exports=S},4074:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,h,g,o,a){return t&&this.body.reset(h,g),o&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};f.exports=S},40831:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};f.exports=S},26775:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};f.exports=S},9437:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};f.exports=S},30621:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};f.exports=S},72441:(f,S,t)=>{var h=t(47956),g=t(96503),o=t(2044),a=t(81491),r=function(i,n,l,s,u,d){var c=h(i,n-s,l-s,2*s,2*s,u,d);if(c.length===0)return c;for(var v=new g(n,l,s),x=new g,y=[],T=0;T<c.length;T++){var E=c[T];E.isCircle?(x.setTo(E.center.x,E.center.y,E.halfWidth),o(v,x)&&y.push(E)):a(v,E)&&y.push(E)}return y};f.exports=r},47956:f=>{var S=function(t,h,g,o,a,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var n=[],l=[],s=t.treeMinMax;if(s.minX=h,s.minY=g,s.maxX=h+o,s.maxY=g+a,i&&(l=t.staticTree.search(s)),r&&t.useTree)n=t.tree.search(s);else if(r){var u=t.bodies,d={position:{x:h,y:g},left:h,top:g,right:h+o,bottom:g+a,isCircle:!1},c=t.intersects;u.iterate(function(v){c(v,d)&&n.push(v)})}return l.concat(n)};f.exports=S},62121:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};f.exports=S},29384:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,g){return this.body.setSize(t,h,g),this},setBodySize:function(t,h,g){return this.body.setSize(t,h,g),this},setCircle:function(t,h,g){return this.body.setCircle(t,h,g),this}};f.exports=S},15098:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};f.exports=S},92209:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};f.exports=S},20009:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="collide"},36768:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="overlap"},60473:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},89954:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},61804:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="tilecollide"},7161:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="tileoverlap"},34689:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="worldbounds"},16006:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="worldstep"},63012:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),g=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=g(!1,o,h),f.exports=o},96602:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};f.exports=S},36294:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};f.exports=S},67013:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};f.exports=S},40012:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21329),g=t(53442),o=t(2483),a=function(r,i,n,l,s,u,d){var c=l.left,v=l.top,x=l.right,y=l.bottom,T=n.faceLeft||n.faceRight,E=n.faceTop||n.faceBottom;if(d||(T=!0,E=!0),!T&&!E)return!1;var A=0,P=0,w=0,I=1;if(i.deltaAbsX()>i.deltaAbsY()?w=-1:i.deltaAbsX()<i.deltaAbsY()&&(I=-1),i.deltaX()!==0&&i.deltaY()!==0&&T&&E&&(w=Math.min(Math.abs(i.position.x-x),Math.abs(i.right-c)),I=Math.min(Math.abs(i.position.y-y),Math.abs(i.bottom-v))),w<I){if(T&&(A=h(i,n,c,x,u,d),A!==0&&!o(l,i)))return!0;E&&(P=g(i,n,v,y,u,d))}else{if(E&&(P=g(i,n,v,y,u,d),P!==0&&!o(l,i)))return!0;T&&(A=h(i,n,c,x,u,d))}return A!==0||P!==0};f.exports=a},21329:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36294),g=function(o,a,r,i,n,l){var s=0,u=a.faceLeft,d=a.faceRight,c=a.collideLeft,v=a.collideRight;return l||(u=!0,d=!0,c=!0,v=!0),o.deltaX()<0&&v&&o.checkCollision.left?d&&o.x<i&&(s=o.x-i,s<-n&&(s=0)):o.deltaX()>0&&c&&o.checkCollision.right&&u&&o.right>r&&(s=o.right-r,s>n&&(s=0)),s!==0&&(o.customSeparateX?o.overlapX=s:h(o,s)),s};f.exports=g},53442:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67013),g=function(o,a,r,i,n,l){var s=0,u=a.faceTop,d=a.faceBottom,c=a.collideUp,v=a.collideDown;return l||(u=!0,d=!0,c=!0,v=!0),o.deltaY()<0&&v&&o.checkCollision.up?d&&o.y<i&&(s=o.y-i,s<-n&&(s=0)):o.deltaY()>0&&c&&o.checkCollision.down&&u&&o.bottom>r&&(s=o.bottom-r,s>n&&(s=0)),s!==0&&(o.customSeparateY?o.overlapY=s:h(o,s)),s};f.exports=g},2483:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};f.exports=S},55173:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};f.exports=h},44563:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Arcade:t(27064),Matter:t(3875)}},68174:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(26099),o=new h({initialize:function(){this.boundsCenter=new g,this.centerDiff=new g},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,i=this.centerDiff,n=a.bounds.max.x-a.bounds.min.x,l=a.bounds.max.y-a.bounds.min.y,s=n*a.centerOfMass.x,u=l*a.centerOfMass.y;return r.set(n/2,l/2),i.set(s-r.x,u-r.y),!0},getTopLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,i+n.y+l.y)}return!1},getTopCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+l.x,i+n.y+l.y)}return!1},getTopRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),i+n.y+l.y)}return!1},getLeftCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,i+l.y)}return!1},getCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.centerDiff;return new g(r+n.x,i+n.y)}return!1},getRightCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),i+l.y)}return!1},getBottomLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+n.x+l.x,i-(n.y-l.y))}return!1},getBottomCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r+l.x,i-(n.y-l.y))}return!1},getBottomRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new g(r-(n.x-l.x),i-(n.y-l.y))}return!1}});f.exports=o},19933:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6790);h.Body=t(22562),h.Composite=t(69351),h.World=t(4372),h.Collision=t(52284),h.Detector=t(81388),h.Pairs=t(99561),h.Pair=t(4506),h.Query=t(73296),h.Resolver=t(66272),h.Constraint=t(48140),h.Common=t(53402),h.Engine=t(48413),h.Events=t(35810),h.Sleeping=t(53614),h.Plugin=t(73832),h.Bodies=t(66280),h.Composites=t(74116),h.Axes=t(66615),h.Bounds=t(15647),h.Svg=t(74058),h.Vector=t(31725),h.Vertices=t(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,f.exports=h},28137:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(83419),o=t(74116),a=t(48140),r=t(74058),i=t(75803),n=t(23181),l=t(34803),s=t(73834),u=t(19496),d=t(85791),c=t(98713),v=t(41598),x=new g({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(y,T,E,A,P){var w=h.rectangle(y,T,E,A,P);return this.world.add(w),w},trapezoid:function(y,T,E,A,P,w){var I=h.trapezoid(y,T,E,A,P,w);return this.world.add(I),I},circle:function(y,T,E,A,P){var w=h.circle(y,T,E,A,P);return this.world.add(w),w},polygon:function(y,T,E,A,P){var w=h.polygon(y,T,E,A,P);return this.world.add(w),w},fromVertices:function(y,T,E,A,P,w,I){typeof E=="string"&&(E=v.fromPath(E));var O=h.fromVertices(y,T,E,A,P,w,I);return this.world.add(O),O},fromPhysicsEditor:function(y,T,E,A,P){P===void 0&&(P=!0);var w=u.parseBody(y,T,E,A);return P&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(y,T,E,A,P,w){A===void 0&&(A=1),P===void 0&&(P={}),w===void 0&&(w=!0);for(var I=E.getElementsByTagName("path"),O=[],F=0;F<I.length;F++){var L=r.pathToVertices(I[F],30);A!==1&&v.scale(L,A,A),O.push(L)}var D=h.fromVertices(y,T,O,P);return w&&this.world.add(D),D},fromJSON:function(y,T,E,A,P){A===void 0&&(A={}),P===void 0&&(P=!0);var w=d.parseBody(y,T,E,A);return w&&P&&this.world.add(w),w},imageStack:function(y,T,E,A,P,w,I,O,F){I===void 0&&(I=0),O===void 0&&(O=0),F===void 0&&(F={});var L=this.world,D=this.sys.displayList;F.addToWorld=!1;var b=o.stack(E,A,P,w,I,O,function(U,W){var H=new n(L,U,W,y,T,F);return D.add(H),H.body});return L.add(b),b},stack:function(y,T,E,A,P,w,I){var O=o.stack(y,T,E,A,P,w,I);return this.world.add(O),O},pyramid:function(y,T,E,A,P,w,I){var O=o.pyramid(y,T,E,A,P,w,I);return this.world.add(O),O},chain:function(y,T,E,A,P,w){return o.chain(y,T,E,A,P,w)},mesh:function(y,T,E,A,P){return o.mesh(y,T,E,A,P)},newtonsCradle:function(y,T,E,A,P){var w=o.newtonsCradle(y,T,E,A,P);return this.world.add(w),w},car:function(y,T,E,A,P){var w=o.car(y,T,E,A,P);return this.world.add(w),w},softBody:function(y,T,E,A,P,w,I,O,F,L){var D=o.softBody(y,T,E,A,P,w,I,O,F,L);return this.world.add(D),D},joint:function(y,T,E,A,P){return this.constraint(y,T,E,A,P)},spring:function(y,T,E,A,P){return this.constraint(y,T,E,A,P)},constraint:function(y,T,E,A,P){A===void 0&&(A=1),P===void 0&&(P={}),P.bodyA=y.type==="body"?y:y.body,P.bodyB=T.type==="body"?T:T.body,isNaN(E)||(P.length=E),P.stiffness=A;var w=a.create(P);return this.world.add(w),w},worldConstraint:function(y,T,E,A){E===void 0&&(E=1),A===void 0&&(A={}),A.bodyB=y.type==="body"?y:y.body,isNaN(T)||(A.length=T),A.stiffness=E;var P=a.create(A);return this.world.add(P),P},mouseSpring:function(y){return this.pointerConstraint(y)},pointerConstraint:function(y){y===void 0&&(y={}),y.hasOwnProperty("render")||(y.render={visible:!1});var T=new c(this.scene,this.world,y);return this.world.add(T.constraint),T},image:function(y,T,E,A,P){var w=new n(this.world,y,T,E,A,P);return this.sys.displayList.add(w),w},tileBody:function(y,T){return new s(this.world,y,T)},sprite:function(y,T,E,A,P){var w=new l(this.world,y,T,E,A,P);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(y,T,E){return i(this.world,y,T,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});f.exports=x},75803:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31884),g=t(95540),o=t(26099);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var r=function(i,n,l,s){l===void 0&&(l={}),s===void 0&&(s=!0);var u=n.x,d=n.y;n.body={temp:!0,position:{x:u,y:d}};var c=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(c.forEach(function(x){for(var y in x)a(x[y])?Object.defineProperty(n,y,{get:x[y].get,set:x[y].set}):Object.defineProperty(n,y,{value:x[y]})}),n.world=i,n._tempVec2=new o(u,d),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,s);else{var v=g(l,"shape",null);v||(v="rectangle"),l.addToWorld=s,n.setBody(v,l)}return n};f.exports=r},23181:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31884),o=t(95643),a=t(95540),r=t(88571),i=t(72699),n=t(26099),l=new h({Extends:r,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,i],initialize:function(u,d,c,v,x,y){o.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,x),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new n(d,c);var T=a(y,"shape",null);T?this.setBody(T,y):this.setRectangle(this.width,this.height,y),this.setPosition(d,c),this.initPipeline(),this.initPostPipeline(!0)}});f.exports=l},42045:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),g=t(66615),o=t(66280),a=t(22562),r=t(68174),i=t(15647),n=t(83419),l=t(52284),s=t(53402),u=t(69351),d=t(74116),c=t(48140),v=t(81388),x=t(20339),y=t(28137),T=t(95540),E=t(35154),A=t(46975),P=t(4506),w=t(99561),I=t(37277),O=t(73296),F=t(66272),L=t(44594),D=t(74058),b=t(31725),U=t(41598),W=t(68243);s.setDecomp(t(55973));var H=new n({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=u,this.collision=l,this.detector=v,this.pair=P,this.pairs=w,this.query=O,this.resolver=F,this.constraint=c,this.bodies=o,this.composites=d,this.axes=g,this.bounds=i,this.svg=D,this.vector=b,this.vertices=U,this.verts=U,this._tempVec2=b.create(),F._restingThresh=E(this.config,"restingThresh",4),F._restingThreshTangent=E(this.config,"restingThreshTangent",6),F._positionDampen=E(this.config,"positionDampen",.9),F._positionWarming=E(this.config,"positionWarming",.8),F._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),G.sys.events.once(L.BOOT,this.boot,this),G.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new y(this.world),this.bodyBounds=new r,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new y(this.world));var Y=this.systems.events;Y.on(L.UPDATE,this.world.update,this.world),Y.on(L.POST_UPDATE,this.world.postUpdate,this.world),Y.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,G=this.systems.settings.physics,X=A(T(G,"matter",{}),T(Y,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,G){this.world.step(Y,G)},containsPoint:function(Y,G,X){Y=this.getMatterBodies(Y);var V=b.create(G,X),B=O.point(Y,V);return B.length>0},intersectPoint:function(Y,G,X){X=this.getMatterBodies(X);var V=b.create(Y,G),B=[],z=O.point(X,V);return z.forEach(function($){B.indexOf($)===-1&&B.push($)}),B},intersectRect:function(Y,G,X,V,B,z){B===void 0&&(B=!1),z=this.getMatterBodies(z);var $={min:{x:Y,y:G},max:{x:Y+X,y:G+V}},j=[],k=O.region(z,$,B);return k.forEach(function(q){j.indexOf(q)===-1&&j.push(q)}),j},intersectRay:function(Y,G,X,V,B,z){B===void 0&&(B=1),z=this.getMatterBodies(z);for(var $=[],j=O.ray(z,b.create(Y,G),b.create(X,V),B),k=0;k<j.length;k++)$.push(j[k].body);return $},intersectBody:function(Y,G){G=this.getMatterBodies(G);for(var X=[],V=O.collides(Y,G),B=0;B<V.length;B++){var z=V[B];z.bodyA===Y?X.push(z.bodyB):X.push(z.bodyA)}return X},overlap:function(Y,G,X,V,B){X===void 0&&(X=null),V===void 0&&(V=null),B===void 0&&(B=X),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),G=this.getMatterBodies(G);for(var z=!1,$=0;$<Y.length;$++)for(var j=Y[$],k=O.collides(j,G),q=0;q<k.length;q++){var Q=k[q],Z=Q.bodyA.id===j.id?Q.bodyB:Q.bodyA;if(!V||V.call(B,j,Z,Q)){if(z=!0,X)X.call(B,j,Z,Q);else if(!V)return!0}}return z},setCollisionCategory:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.category=G}),this},setCollisionGroup:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.group=G}),this},setCollidesWith:function(Y,G){Y=this.getMatterBodies(Y);var X=0;if(!Array.isArray(G))X=G;else for(var V=0;V<G.length;V++)X|=G[V];return Y.forEach(function(B){B.collisionFilter.mask=X}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var G=[],X=0;X<Y.length;X++){var V=Y[X].hasOwnProperty("body")?Y[X].body:Y[X];G.push(V)}return G},setVelocity:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.x=G,V.y=X,Y.forEach(function(B){a.setVelocity(B,V)}),this},setVelocityX:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.x=G,Y.forEach(function(V){X.y=V.velocity.y,a.setVelocity(V,X)}),this},setVelocityY:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.y=G,Y.forEach(function(V){X.x=V.velocity.x,a.setVelocity(V,X)}),this},setAngularVelocity:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){a.setAngularVelocity(X,G)}),this},applyForce:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return Y.forEach(function(V){X.x=V.position.x,X.y=V.position.y,a.applyForce(V,X,G)}),this},applyForceFromPosition:function(Y,G,X,V){Y=this.getMatterBodies(Y);var B=this._tempVec2;return Y.forEach(function(z){V===void 0&&(V=z.angle),B.x=X*Math.cos(V),B.y=X*Math.sin(V),a.applyForce(z,G,B)}),this},applyForceFromAngle:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return Y.forEach(function(B){X===void 0&&(X=B.angle),V.x=G*Math.cos(X),V.y=G*Math.sin(X),a.applyForce(B,{x:B.position.x,y:B.position.y},V)}),this},getConstraintLength:function(Y){var G=Y.pointA.x,X=Y.pointA.y,V=Y.pointB.x,B=Y.pointB.y;return Y.bodyA&&(G+=Y.bodyA.position.x,X+=Y.bodyA.position.y),Y.bodyB&&(V+=Y.bodyB.position.x,B+=Y.bodyB.position.y),x(G,X,V,B)},alignBody:function(Y,G,X,V){Y=Y.hasOwnProperty("body")?Y.body:Y;var B;switch(V){case h.TOP_LEFT:case h.LEFT_TOP:B=this.bodyBounds.getTopLeft(Y,G,X);break;case h.TOP_CENTER:B=this.bodyBounds.getTopCenter(Y,G,X);break;case h.TOP_RIGHT:case h.RIGHT_TOP:B=this.bodyBounds.getTopRight(Y,G,X);break;case h.LEFT_CENTER:B=this.bodyBounds.getLeftCenter(Y,G,X);break;case h.CENTER:B=this.bodyBounds.getCenter(Y,G,X);break;case h.RIGHT_CENTER:B=this.bodyBounds.getRightCenter(Y,G,X);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:B=this.bodyBounds.getBottomLeft(Y,G,X);break;case h.BOTTOM_CENTER:B=this.bodyBounds.getBottomCenter(Y,G,X);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:B=this.bodyBounds.getBottomRight(Y,G,X);break}return B&&a.setPosition(Y,B),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(L.UPDATE,this.world.update,this.world),Y.off(L.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",H,"matterPhysics"),f.exports=H},34803:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),g=t(83419),o=t(31884),a=t(95643),r=t(95540),i=t(72699),n=t(68287),l=t(26099),s=new g({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,i],initialize:function(d,c,v,x,y,T){a.call(this,d.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(x,y),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new l(c,v);var E=r(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(c,v),this.initPipeline(),this.initPostPipeline(!0)}});f.exports=s},73834:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o=t(83419),a=t(31884),r=t(62644),i=t(50792),n=t(95540),l=t(97022),s=t(41598),u=new o({Extends:i,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(c,v,x){i.call(this),this.tile=v,this.world=c,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var y=n(x,"body",null),T=n(x,"addToWorld",!0);if(y)this.setBody(y,T);else{var E=v.getCollisionGroup(),A=n(E,"objects",[]);A.length>0?this.setFromTileCollision(x):this.setFromTileRectangle(x)}if(v.flipX||v.flipY){var P={x:v.getCenterX(),y:v.getCenterY()},w=v.flipX?-1:1,I=v.flipY?-1:1;g.scale(y,w,I,P)}},setFromTileRectangle:function(d){d===void 0&&(d={}),l(d,"isStatic")||(d.isStatic=!0),l(d,"addToWorld")||(d.addToWorld=!0);var c=this.tile.getBounds(),v=c.x+c.width/2,x=c.y+c.height/2,y=h.rectangle(v,x,c.width,c.height,d);return this.setBody(y,d.addToWorld),this},setFromTileCollision:function(d){d===void 0&&(d={}),l(d,"isStatic")||(d.isStatic=!0),l(d,"addToWorld")||(d.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,x=this.tile.getLeft(),y=this.tile.getTop(),T=this.tile.getCollisionGroup(),E=n(T,"objects",[]),A=[],P=0;P<E.length;P++){var w=E[P],I=x+w.x*c,O=y+w.y*v,F=w.width*c,L=w.height*v,D=null;if(w.rectangle)D=h.rectangle(I+F/2,O+L/2,F,L,d);else if(w.ellipse)D=h.circle(I+F/2,O+L/2,F/2,d);else if(w.polygon||w.polyline){var b=w.polygon?w.polygon:w.polyline,U=b.map(function(G){return{x:G.x*c,y:G.y*v}}),W=s.create(U),H=s.centre(W);I+=H.x,O+=H.y,D=h.fromVertices(I,O,W,d)}D&&A.push(D)}if(A.length===1)this.setBody(A[0],d.addToWorld);else if(A.length>1){var Y=r(d);Y.parts=A,this.setBody(g.create(Y),Y.addToWorld)}return this},setBody:function(d,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=d,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});f.exports=u},19496:(f,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o=t(53402),a=t(95540),r=t(41598),i={parseBody:function(n,l,s,u){u===void 0&&(u={});for(var d=a(s,"fixtures",[]),c=[],v=0;v<d.length;v++)for(var x=this.parseFixture(d[v]),y=0;y<x.length;y++)c.push(x[y]);var T=o.clone(s,!0);o.extend(T,u,!0),delete T.fixtures,delete T.type;var E=g.create(T);return g.setParts(E,c),g.setPosition(E,{x:n,y:l}),E},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var s;if(n.circle){var u=a(n.circle,"x"),d=a(n.circle,"y"),c=a(n.circle,"radius");s=[h.circle(u,d,c,l)]}else n.vertices&&(s=this.parseVertices(n.vertices,l));return s},parseVertices:function(n,l){l===void 0&&(l={});for(var s=[],u=0;u<n.length;u++)r.clockwiseSort(n[u]),s.push(g.create(o.extend({position:r.centre(n[u]),vertices:n[u]},l)));return h.flagCoincidentParts(s)}};f.exports=i},85791:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o={parseBody:function(a,r,i,n){n===void 0&&(n={});var l,s=i.vertices;if(s.length===1)n.vertices=s[0],l=g.create(n),h.flagCoincidentParts(l.parts);else{for(var u=[],d=0;d<s.length;d++){var c=g.create({vertices:s[d]});u.push(c)}h.flagCoincidentParts(u),n.parts=u,l=g.create(n)}return l.label=i.label,g.setPosition(l,{x:a,y:r}),l}};f.exports=o},98713:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15647),g=t(83419),o=t(69351),a=t(48140),r=t(81388),i=t(1121),n=t(8214),l=t(46975),s=t(53614),u=t(26099),d=t(41598),c=new g({initialize:function(x,y,T){T===void 0&&(T={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=x,this.world=y,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=a.create(l(T,E)),this.world.on(i.BEFORE_UPDATE,this.update,this),x.sys.input.on(n.POINTER_DOWN,this.onDown,this),x.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var x=this.position,y=this.constraint;this.camera.getWorldPoint(v.x,v.y,x);for(var T=o.allBodies(this.world.localWorld),E=0;E<T.length;E++){var A=T[E];if(!A.ignorePointer&&h.contains(A.bounds,x)&&r.canCollide(A.collisionFilter,y.collisionFilter)&&this.hitTestBody(A,x))return this.world.emit(i.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(v,x){for(var y=this.constraint,T=v.parts.length,E=T>1?1:0,A=E;A<T;A++){var P=v.parts[A];if(d.contains(P.vertices,x))return y.pointA=x,y.pointB={x:x.x-v.position.x,y:x.y-v.position.y},y.bodyB=v,y.angleB=v.angle,s.set(v,!1),this.part=P,this.body=v,!0}return!1},update:function(){var v=this.pointer,x=this.body;if(!this.active||!v){x&&this.stopDrag();return}if(!v.isDown&&x){this.stopDrag();return}else if(v.isDown){if(!this.camera||!x&&!this.getBody(v))return;x=this.body;var y=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,y),T.pointA.x=y.x,T.pointA.y=y.y,s.set(x,!1),this.world.emit(i.DRAG,x,this)}},stopDrag:function(){var v=this.body,x=this.constraint;x.bodyB=null,x.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(i.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});f.exports=c},68243:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o=t(83419),a=t(53402),r=t(69351),i=t(48413),n=t(50792),l=t(1121),s=t(95540),u=t(35154),d=t(22562),c=t(35810),v=t(73834),x=t(4372),y=t(13037),T=t(31725),E=new o({Extends:n,initialize:function(P,w){n.call(this),this.scene=P,this.engine=i.create(w),this.localWorld=this.engine.world;var I=u(w,"gravity",null);I?this.setGravity(I.x,I.y,I.scale):I===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(w,"enabled",!0),this.getDelta=u(w,"getDelta",this.update60Hz);var O=s(w,"runner",{}),F=s(O,"fps",!1);F&&(O.delta=1e3/s(O,"fps",60)),this.runner=y.create(O),this.autoUpdate=u(w,"autoUpdate",!0);var L=u(w,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:s(L,"showAxes",!1),showAngleIndicator:s(L,"showAngleIndicator",!1),angleColor:s(L,"angleColor",15208787),showBroadphase:s(L,"showBroadphase",!1),broadphaseColor:s(L,"broadphaseColor",16757760),showBounds:s(L,"showBounds",!1),boundsColor:s(L,"boundsColor",16777215),showVelocity:s(L,"showVelocity",!1),velocityColor:s(L,"velocityColor",44783),showCollisions:s(L,"showCollisions",!1),collisionColor:s(L,"collisionColor",16094476),showSeparations:s(L,"showSeparations",!1),separationColor:s(L,"separationColor",16753920),showBody:s(L,"showBody",!0),showStaticBody:s(L,"showStaticBody",!0),showInternalEdges:s(L,"showInternalEdges",!1),renderFill:s(L,"renderFill",!1),renderLine:s(L,"renderLine",!0),fillColor:s(L,"fillColor",1075465),fillOpacity:s(L,"fillOpacity",1),lineColor:s(L,"lineColor",2678297),lineOpacity:s(L,"lineOpacity",1),lineThickness:s(L,"lineThickness",1),staticFillColor:s(L,"staticFillColor",857979),staticLineColor:s(L,"staticLineColor",1255396),showSleeping:s(L,"showSleeping",!1),staticBodySleepOpacity:s(L,"staticBodySleepOpacity",.7),sleepFillColor:s(L,"sleepFillColor",4605510),sleepLineColor:s(L,"sleepLineColor",10066585),showSensors:s(L,"showSensors",!0),sensorFillColor:s(L,"sensorFillColor",857979),sensorLineColor:s(L,"sensorLineColor",1255396),showPositions:s(L,"showPositions",!0),positionSize:s(L,"positionSize",4),positionColor:s(L,"positionColor",14697178),showJoint:s(L,"showJoint",!0),jointColor:s(L,"jointColor",14737474),jointLineOpacity:s(L,"jointLineOpacity",1),jointLineThickness:s(L,"jointLineThickness",2),pinSize:s(L,"pinSize",4),pinColor:s(L,"pinColor",4382944),springColor:s(L,"springColor",14697184),anchorColor:s(L,"anchorColor",15724527),anchorSize:s(L,"anchorSize",4),showConvexHulls:s(L,"showConvexHulls",!1),hullColor:s(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(w,"setBounds",!1)){var D=w.setBounds;if(typeof D=="boolean")this.setBounds();else{var b=s(D,"x",0),U=s(D,"y",0),W=s(D,"width",P.sys.scale.width),H=s(D,"height",P.sys.scale.height),Y=s(D,"thickness",64),G=s(D,"left",!0),X=s(D,"right",!0),V=s(D,"top",!0),B=s(D,"bottom",!0);this.setBounds(b,U,W,H,Y,G,X,V,B)}}},setCompositeRenderStyle:function(A){var P=A.bodies,w=A.constraints,I=A.composites,O,F,L;for(O=0;O<P.length;O++)F=P[O],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(O=0;O<w.length;O++)F=w[O],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(O=0;O<I.length;O++)F=I[O],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(A,P,w,I,O,F){var L=A.render,D=this.debugConfig;return L?(P==null&&(P=A.isStatic?D.staticLineColor:D.lineColor),w==null&&(w=D.lineOpacity),I==null&&(I=D.lineThickness),O==null&&(O=A.isStatic?D.staticFillColor:D.fillColor),F==null&&(F=D.fillOpacity),P!==!1&&(L.lineColor=P),w!==!1&&(L.lineOpacity=w),I!==!1&&(L.lineThickness=I),O!==!1&&(L.fillColor=O),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(A,P,w,I,O,F,L){var D=A.render,b=this.debugConfig;if(!D)return this;if(P==null){var U=D.type;U==="line"?P=b.jointColor:U==="pin"?P=b.pinColor:U==="spring"&&(P=b.springColor)}return w==null&&(w=b.jointLineOpacity),I==null&&(I=b.jointLineThickness),O==null&&(O=b.pinSize),F==null&&(F=b.anchorColor),L==null&&(L=b.anchorSize),P!==!1&&(D.lineColor=P),w!==!1&&(D.lineOpacity=w),I!==!1&&(D.lineThickness=I),O!==!1&&(D.pinSize=O),F!==!1&&(D.anchorColor=F),L!==!1&&(D.anchorSize=L),this},setEventsProxy:function(){var A=this,P=this.engine,w=this.localWorld;this.drawDebug&&(c.on(w,"compositeModified",function(I){A.setCompositeRenderStyle(I)}),c.on(w,"beforeAdd",function(I){for(var O=[].concat(I.object),F=0;F<O.length;F++){var L=O[F],D=L.render;L.type==="body"?A.setBodyRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):L.type==="composite"?A.setCompositeRenderStyle(L):L.type==="constraint"&&A.setConstraintRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),c.on(w,"beforeAdd",function(I){A.emit(l.BEFORE_ADD,I)}),c.on(w,"afterAdd",function(I){A.emit(l.AFTER_ADD,I)}),c.on(w,"beforeRemove",function(I){A.emit(l.BEFORE_REMOVE,I)}),c.on(w,"afterRemove",function(I){A.emit(l.AFTER_REMOVE,I)}),c.on(P,"beforeUpdate",function(I){A.emit(l.BEFORE_UPDATE,I)}),c.on(P,"afterUpdate",function(I){A.emit(l.AFTER_UPDATE,I)}),c.on(P,"collisionStart",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collide",F,L,D),L.gameObject&&L.gameObject.emit("collide",L,F,D),c.trigger(F,"onCollide",{pair:D}),c.trigger(L,"onCollide",{pair:D}),F.onCollideCallback&&F.onCollideCallback(D),L.onCollideCallback&&L.onCollideCallback(D),F.onCollideWith[L.id]&&F.onCollideWith[L.id](L,D),L.onCollideWith[F.id]&&L.onCollideWith[F.id](F,D)}),A.emit(l.COLLISION_START,I,F,L)}),c.on(P,"collisionActive",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collideActive",F,L,D),L.gameObject&&L.gameObject.emit("collideActive",L,F,D),c.trigger(F,"onCollideActive",{pair:D}),c.trigger(L,"onCollideActive",{pair:D}),F.onCollideActiveCallback&&F.onCollideActiveCallback(D),L.onCollideActiveCallback&&L.onCollideActiveCallback(D)}),A.emit(l.COLLISION_ACTIVE,I,F,L)}),c.on(P,"collisionEnd",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collideEnd",F,L,D),L.gameObject&&L.gameObject.emit("collideEnd",L,F,D),c.trigger(F,"onCollideEnd",{pair:D}),c.trigger(L,"onCollideEnd",{pair:D}),F.onCollideEndCallback&&F.onCollideEndCallback(D),L.onCollideEndCallback&&L.onCollideEndCallback(D)}),A.emit(l.COLLISION_END,I,F,L)})},setBounds:function(A,P,w,I,O,F,L,D,b){return A===void 0&&(A=0),P===void 0&&(P=0),w===void 0&&(w=this.scene.sys.scale.width),I===void 0&&(I=this.scene.sys.scale.height),O===void 0&&(O=64),F===void 0&&(F=!0),L===void 0&&(L=!0),D===void 0&&(D=!0),b===void 0&&(b=!0),this.updateWall(F,"left",A-O,P-O,O,I+O*2),this.updateWall(L,"right",A+w,P-O,O,I+O*2),this.updateWall(D,"top",A,P-O,w,O),this.updateWall(b,"bottom",A,P+I,w,O),this},updateWall:function(A,P,w,I,O,F){var L=this.walls[P];A?(L&&x.remove(this.localWorld,L),w+=O/2,I+=F/2,this.walls[P]=this.create(w,I,O,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&x.remove(this.localWorld,L),this.walls[P]=null)},createDebugGraphic:function(){var A=this.scene.sys.add.graphics({x:0,y:0});return A.setDepth(Number.MAX_VALUE),this.debugGraphic=A,this.drawDebug=!0,A},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(A,P,w){return A===void 0&&(A=0),P===void 0&&(P=1),w===void 0&&(w=.001),this.localWorld.gravity.x=A,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=w,this},create:function(A,P,w,I,O){var F=h.rectangle(A,P,w,I,O);return x.add(this.localWorld,F),F},add:function(A){return x.add(this.localWorld,A),this},remove:function(A,P){Array.isArray(A)||(A=[A]);for(var w=0;w<A.length;w++){var I=A[w],O=I.body?I.body:I;r.remove(this.localWorld,O,P)}return this},removeConstraint:function(A,P){return r.remove(this.localWorld,A,P),this},convertTilemapLayer:function(A,P){var w=A.layer,I=A.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(I,P),this},convertTiles:function(A,P){if(A.length===0)return this;for(var w=0;w<A.length;w++)new v(this,A[w],P);return this},nextGroup:function(A){return d.nextGroup(A)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=a.now(),this.emit(l.RESUME),this},update:function(A){if(!(!this.enabled||!this.autoUpdate)){var P=this.engine,w=this.runner,I=a.now(),O=w.delta,F=0,L=A-w.timeLastTick;if((!L||!w.timeLastTick||L>Math.max(y._maxFrameDelta,w.maxFrameTime))&&(L=w.frameDelta||y._frameDeltaFallback),w.frameDeltaSmoothing){w.frameDeltaHistory.push(L),w.frameDeltaHistory=w.frameDeltaHistory.slice(-w.frameDeltaHistorySize);var D=w.frameDeltaHistory.slice(0).sort(),b=w.frameDeltaHistory.slice(D.length*y._smoothingLowerBound,D.length*y._smoothingUpperBound),U=y._mean(b);L=U||L}w.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),w.frameDelta=L,w.timeLastTick=A,w.timeBuffer+=w.frameDelta,w.timeBuffer=a.clamp(w.timeBuffer,0,w.frameDelta+O*y._timeBufferMargin),w.lastUpdatesDeferred=0;for(var W=w.maxUpdates||Math.ceil(w.maxFrameTime/O),H=a.now();O>0&&w.timeBuffer>=O*y._timeBufferMargin;){i.update(P,O),w.timeBuffer-=O,F+=1;var Y=a.now()-I,G=a.now()-H,X=Y+y._elapsedNextEstimate*G/F;if(F>=W||X>w.maxFrameTime){w.lastUpdatesDeferred=Math.round(Math.max(0,w.timeBuffer/O-y._timeBufferMargin));break}}}},step:function(A){i.update(this.engine,A)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(A){var P=A.hasOwnProperty("body")?A.body:A;return r.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var A=this.debugConfig,P=this.engine,w=this.debugGraphic,I=r.allBodies(this.localWorld);this.debugGraphic.clear(),A.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,w,A.broadphaseColor,.5),A.showBounds&&this.renderBodyBounds(I,w,A.boundsColor,.5),(A.showBody||A.showStaticBody)&&this.renderBodies(I),A.showJoint&&this.renderJoints(),(A.showAxes||A.showAngleIndicator)&&this.renderBodyAxes(I,w,A.showAxes,A.angleColor,.5),A.showVelocity&&this.renderBodyVelocity(I,w,A.velocityColor,1,2),A.showSeparations&&this.renderSeparations(P.pairs.list,w,A.separationColor),A.showCollisions&&this.renderCollisions(P.pairs.list,w,A.collisionColor)}},renderGrid:function(A,P,w,I){P.lineStyle(1,w,I);for(var O=a.keys(A.buckets),F=0;F<O.length;F++){var L=O[F];if(!(A.buckets[L].length<2)){var D=L.split(/C|R/);P.strokeRect(parseInt(D[1],10)*A.bucketWidth,parseInt(D[2],10)*A.bucketHeight,A.bucketWidth,A.bucketHeight)}}return this},renderSeparations:function(A,P,w){P.lineStyle(1,w,1);for(var I=0;I<A.length;I++){var O=A[I];if(O.isActive){var F=O.collision,L=F.bodyA,D=F.bodyB,b=L.position,U=D.position,W=F.penetration,H=!L.isStatic&&!D.isStatic?4:1;D.isStatic&&(H=0),P.lineBetween(U.x,U.y,U.x-W.x*H,U.y-W.y*H),H=!L.isStatic&&!D.isStatic?4:1,L.isStatic&&(H=0),P.lineBetween(b.x,b.y,b.x-W.x*H,b.y-W.y*H)}}return this},renderCollisions:function(A,P,w){P.lineStyle(1,w,.5),P.fillStyle(w,1);var I,O;for(I=0;I<A.length;I++)if(O=A[I],!!O.isActive)for(var F=0;F<O.contactCount;F++){var L=O.contacts[F],D=L.vertex;D&&P.fillRect(D.x-2,D.y-2,5,5)}for(I=0;I<A.length;I++)if(O=A[I],!!O.isActive){var b=O.collision,U=O.contacts;if(O.contactCount>0){var W=U[0].vertex.x,H=U[0].vertex.y;O.contactCount===2&&(W=(U[0].vertex.x+U[1].vertex.x)/2,H=(U[0].vertex.y+U[1].vertex.y)/2),b.bodyB===b.supports[0].body||b.bodyA.isStatic?P.lineBetween(W-b.normal.x*8,H-b.normal.y*8,W,H):P.lineBetween(W+b.normal.x*8,H+b.normal.y*8,W,H)}}return this},renderBodyBounds:function(A,P,w,I){P.lineStyle(1,w,I);for(var O=0;O<A.length;O++){var F=A[O];if(F.render.visible){var L=F.bounds;if(L)P.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var D=F.parts,b=D.length>1?1:0;b<D.length;b++){var U=D[b];P.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(A,P,w,I,O){P.lineStyle(1,I,O);for(var F=0;F<A.length;F++){var L=A[F],D=L.parts;if(L.render.visible){var b,U,W;if(w)for(U=D.length>1?1:0;U<D.length;U++)for(b=D[U],W=0;W<b.axes.length;W++){var H=b.axes[W];P.lineBetween(b.position.x,b.position.y,b.position.x+H.x*20,b.position.y+H.y*20)}else for(U=D.length>1?1:0;U<D.length;U++)for(b=D[U],W=0;W<b.axes.length;W++)P.lineBetween(b.position.x,b.position.y,(b.vertices[0].x+b.vertices[b.vertices.length-1].x)/2,(b.vertices[0].y+b.vertices[b.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(A,P,w,I,O){P.lineStyle(O,w,I);for(var F=0;F<A.length;F++){var L=A[F];L.render.visible&&P.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(A){for(var P=this.debugGraphic,w=this.debugConfig,I=w.showBody,O=w.showStaticBody,F=w.showSleeping,L=w.showInternalEdges,D=w.showConvexHulls,b=w.renderFill,U=w.renderLine,W=w.staticBodySleepOpacity,H=w.sleepFillColor,Y=w.sleepLineColor,G=w.hullColor,X=0;X<A.length;X++){var V=A[X];if(V.render.visible&&!(!O&&V.isStatic||!I&&!V.isStatic)){var B=V.render.lineColor,z=V.render.lineOpacity,$=V.render.lineThickness,j=V.render.fillColor,k=V.render.fillOpacity;F&&V.isSleeping&&(V.isStatic?(z*=W,k*=W):(B=Y,j=H)),b||(j=null),U||(B=null),this.renderBody(V,P,L,B,z,$,j,k);var q=V.parts.length;D&&q>1&&this.renderConvexHull(V,P,G,$)}}},renderBody:function(A,P,w,I,O,F,L,D){I===void 0&&(I=null),O===void 0&&(O=null),F===void 0&&(F=1),L===void 0&&(L=null),D===void 0&&(D=null);for(var b=this.debugConfig,U=b.sensorFillColor,W=b.sensorLineColor,H=A.parts,Y=H.length,G=Y>1?1:0;G<Y;G++){var X=H[G],V=X.render,B=V.opacity;if(!(!V.visible||B===0||X.isSensor&&!b.showSensors)){var z=X.circleRadius;if(P.beginPath(),X.isSensor?(L!==null&&P.fillStyle(U,D*B),I!==null&&P.lineStyle(F,W,O*B)):(L!==null&&P.fillStyle(L,D*B),I!==null&&P.lineStyle(F,I,O*B)),z)P.arc(X.position.x,X.position.y,z,0,2*Math.PI);else{var $=X.vertices,j=$.length;P.moveTo($[0].x,$[0].y);for(var k=1;k<j;k++){var q=$[k];if(!$[k-1].isInternal||w?P.lineTo(q.x,q.y):P.moveTo(q.x,q.y),k<j&&q.isInternal&&!w){var Q=(k+1)%j;P.moveTo($[Q].x,$[Q].y)}}P.closePath()}L!==null&&P.fillPath(),I!==null&&P.strokePath()}}if(b.showPositions&&!A.isStatic){var Z=A.position.x,_=A.position.y,et=Math.ceil(b.positionSize/2);P.fillStyle(b.positionColor,1),P.fillRect(Z-et,_-et,b.positionSize,b.positionSize)}return this},renderConvexHull:function(A,P,w,I){I===void 0&&(I=1);var O=A.parts,F=O.length;if(F>1){var L=A.vertices;P.lineStyle(I,w),P.beginPath(),P.moveTo(L[0].x,L[0].y);for(var D=1;D<L.length;D++)P.lineTo(L[D].x,L[D].y);P.lineTo(L[0].x,L[0].y),P.strokePath()}return this},renderJoints:function(){for(var A=this.debugGraphic,P=r.allConstraints(this.localWorld),w=0;w<P.length;w++){var I=P[w].render,O=I.lineColor,F=I.lineOpacity,L=I.lineThickness,D=I.pinSize,b=I.anchorColor,U=I.anchorSize;this.renderConstraint(P[w],A,O,F,L,D,b,U)}},renderConstraint:function(A,P,w,I,O,F,L,D){var b=A.render;if(!b.visible||!A.pointA||!A.pointB)return this;P.lineStyle(O,w,I);var U=A.bodyA,W=A.bodyB,H,Y;if(U?H=T.add(U.position,A.pointA):H=A.pointA,b.type==="pin")P.strokeCircle(H.x,H.y,F);else{if(W?Y=T.add(W.position,A.pointB):Y=A.pointB,P.beginPath(),P.moveTo(H.x,H.y),b.type==="spring")for(var G=T.sub(Y,H),X=T.perp(T.normalise(G)),V=Math.ceil(a.clamp(A.length/5,12,20)),B,z=1;z<V;z+=1)B=z%2===0?1:-1,P.lineTo(H.x+G.x*(z/V)+X.x*B*4,H.y+G.y*(z/V)+X.y*B*4);P.lineTo(Y.x,Y.y)}return P.strokePath(),b.anchors&&D>0&&(P.fillStyle(L),P.fillCircle(H.x,H.y,D),P.fillCircle(Y.x,Y.y,D)),this},resetCollisionIDs:function(){return g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),x.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});f.exports=E},70410:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};f.exports=S},66968:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var g=0;g<t.length;g++)h|=t[g];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var g=0;g<t.length;g++){var o=t[g].hasOwnProperty("body")?t[g].body:t[g];this.body.setOnCollideWith(o,h)}return this}};f.exports=S},51607:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,a){return h.applyForce(this.body,o,a),this},thrust:function(o){var a=this.body.angle;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var a=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};f.exports=g},5436:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h,g){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),g!==void 0&&(this.body.frictionStatic=g),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};f.exports=S},39858:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};f.exports=S},37302:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g=t(26099),o={setMass:function(a){return h.setMass(this.body,a),this},setDensity:function(a){return h.setDensity(this.body,a),this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};f.exports=o},39132:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};f.exports=S},57772:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),g=t(22562),o=t(43855),a=t(95540),r=t(19496),i=t(85791),n=t(41598),l={setRectangle:function(s,u,d){return this.setBody({type:"rectangle",width:s,height:u},d)},setCircle:function(s,u){return this.setBody({type:"circle",radius:s},u)},setPolygon:function(s,u,d){return this.setBody({type:"polygon",sides:u,radius:s},d)},setTrapezoid:function(s,u,d,c){return this.setBody({type:"trapezoid",width:s,height:u,slope:d},c)},setExistingBody:function(s,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var d=0;d<s.parts.length;d++)s.parts[d].gameObject=this;var c=this;if(s.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},u&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var v=s.render.sprite.xOffset,x=s.render.sprite.yOffset,y=s.centerOfMass.x,T=s.centerOfMass.y;if(o(y,.5)&&o(T,.5))this.setOrigin(v+.5,x+.5);else{var E=s.centerOffset.x,A=s.centerOffset.y;this.setOrigin(v+E/this.displayWidth,x+A/this.displayHeight)}}return this},setBody:function(s,u){if(!s)return this;var d;typeof s=="string"&&(s={type:s});var c=a(s,"type","rectangle"),v=a(s,"x",this._tempVec2.x),x=a(s,"y",this._tempVec2.y),y=a(s,"width",this.width),T=a(s,"height",this.height);switch(c){case"rectangle":d=h.rectangle(v,x,y,T,u);break;case"circle":var E=a(s,"radius",Math.max(y,T)/2),A=a(s,"maxSides",25);d=h.circle(v,x,E,u,A);break;case"trapezoid":var P=a(s,"slope",.5);d=h.trapezoid(v,x,y,T,P,u);break;case"polygon":var w=a(s,"sides",5),I=a(s,"radius",Math.max(y,T)/2);d=h.polygon(v,x,w,I,u);break;case"fromVertices":case"fromVerts":var O=a(s,"verts",null);if(O)if(typeof O=="string"&&(O=n.fromPath(O)),this.body&&!this.body.hasOwnProperty("temp"))g.setVertices(this.body,O),d=this.body;else{var F=a(s,"flagInternal",!1),L=a(s,"removeCollinear",.01),D=a(s,"minimumArea",10);d=h.fromVertices(v,x,O,u,F,L,D)}break;case"fromPhysicsEditor":d=r.parseBody(v,x,s,u);break;case"fromPhysicsTracer":d=i.parseBody(v,x,s,u);break}return d&&this.setExistingBody(d,s.addToWorld),this}};f.exports=l},38083:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1121),g=t(53614),o=t(35810),a={setToSleep:function(){return g.set(this.body,!0),this},setAwake:function(){return g.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,i){return this.setSleepStartEvent(r),this.setSleepEndEvent(i),this},setSleepStartEvent:function(r){if(r){var i=this.world;o.on(this.body,"sleepStart",function(n){i.emit(h.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var i=this.world;o.on(this.body,"sleepEnd",function(n){i.emit(h.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};f.exports=a},90556:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g={setStatic:function(o){return h.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};f.exports=g},85436:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g=t(36383),o=t(86554),a=t(30954),r=4,i={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),h.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this.setScale(n,n)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=r,h.scale(this.body,l,s),h.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=r,h.scale(this.body,l,s),h.scale(this.body,this._scaleX,n)}},angle:{get:function(){return a(this.body.angle*g.RAD_TO_DEG)},set:function(n){this.rotation=a(n)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),h.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),h.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),h.setAngle(this.body,n),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,h.setAngle(this.body,this.rotation),this},setScale:function(n,l,s){n===void 0&&(n=1),l===void 0&&(l=n);var u=1/this._scaleX,d=1/this._scaleY;return this._scaleX=n,this._scaleY=l,h.scale(this.body,u,d,s),h.scale(this.body,n,l,s),this}};f.exports=i},42081:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),g={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,a){return this._tempVec2.set(o,a),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(o){return h.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(o){return h.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};f.exports=g},31884:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="afteradd"},1213:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="afterremove"},25968:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="afterupdate"},67205:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="beforeadd"},39438:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="beforeremove"},44823:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="beforeupdate"},92593:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="collisionactive"},60128:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="collisionend"},76861:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="collisionstart"},92362:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragend"},76408:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="drag"},93971:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="dragstart"},5656:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},47861:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},79099:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="sleepend"},35906:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="sleepstart"},1121:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(f,S,t)=>{var h={};f.exports=h;var g=t(41598),o=t(31725),a=t(53614),r=t(53402),i=t(15647),n=t(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(s){var u={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:s.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=g.centre(s.vertices):s.hasOwnProperty("vertices")||(u.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var d=r.extend(u,s);return l(d,s),d.setOnCollideWith=function(c,v){return v?this.onCollideWith[c.id]=v:delete this.onCollideWith[c.id],this},d},h.nextGroup=function(s){return s?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var l=function(s,u){if(u=u||{},h.set(s,{bounds:s.bounds||i.create(s.vertices),positionPrev:s.positionPrev||o.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),g.rotate(s.vertices,s.angle,s.position),n.rotate(s.axes,s.angle),i.update(s.bounds,s.vertices,s.velocity),h.set(s,{axes:u.axes||s.axes,area:u.area||s.area,mass:u.mass||s.mass,inertia:u.inertia||s.inertia}),s.parts.length===1){var d=s.bounds,c=s.centerOfMass,v=s.centerOffset,x=d.max.x-d.min.x,y=d.max.y-d.min.y;c.x=-(d.min.x-s.position.x)/x,c.y=-(d.min.y-s.position.y)/y,v.x=x*c.x,v.y=y*c.y}};h.set=function(s,u,d){var c;typeof u=="string"&&(c=u,u={},u[c]=d);for(c in u)if(Object.prototype.hasOwnProperty.call(u,c))switch(d=u[c],c){case"isStatic":h.setStatic(s,d);break;case"isSleeping":a.set(s,d);break;case"mass":h.setMass(s,d);break;case"density":h.setDensity(s,d);break;case"inertia":h.setInertia(s,d);break;case"vertices":h.setVertices(s,d);break;case"position":h.setPosition(s,d);break;case"angle":h.setAngle(s,d);break;case"velocity":h.setVelocity(s,d);break;case"angularVelocity":h.setAngularVelocity(s,d);break;case"speed":h.setSpeed(s,d);break;case"angularSpeed":h.setAngularSpeed(s,d);break;case"parts":h.setParts(s,d);break;case"centre":h.setCentre(s,d);break;default:s[c]=d}},h.setStatic=function(s,u){for(var d=0;d<s.parts.length;d++){var c=s.parts[d];u?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=u}},h.setMass=function(s,u){var d=s.inertia/(s.mass/6);s.inertia=d*(u/6),s.inverseInertia=1/s.inertia,s.mass=u,s.inverseMass=1/s.mass,s.density=s.mass/s.area},h.setDensity=function(s,u){h.setMass(s,u*s.area),s.density=u},h.setInertia=function(s,u){s.inertia=u,s.inverseInertia=1/s.inertia},h.setVertices=function(s,u){u[0].body===s?s.vertices=u:s.vertices=g.create(u,s),s.axes=n.fromVertices(s.vertices),s.area=g.area(s.vertices),h.setMass(s,s.density*s.area);var d=g.centre(s.vertices);g.translate(s.vertices,d,-1),h.setInertia(s,h._inertiaScale*g.inertia(s.vertices,s.mass)),g.translate(s.vertices,s.position),i.update(s.bounds,s.vertices,s.velocity)},h.setParts=function(s,u,d){var c;for(u=u.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,c=0;c<u.length;c++){var v=u[c];v!==s&&(v.parent=s,s.parts.push(v))}if(s.parts.length!==1){if(d=typeof d<"u"?d:!0,d){var x=[];for(c=0;c<u.length;c++)x=x.concat(u[c].vertices);g.clockwiseSort(x);var y=g.hull(x),T=g.centre(y);h.setVertices(s,y),g.translate(s.vertices,T)}var E=h._totalProperties(s),A=E.centre.x,P=E.centre.y,w=s.bounds,I=s.centerOfMass,O=s.centerOffset;i.update(w,s.vertices,s.velocity),I.x=-(w.min.x-A)/(w.max.x-w.min.x),I.y=-(w.min.y-P)/(w.max.y-w.min.y),O.x=A,O.y=P,s.area=E.area,s.parent=s,s.position.x=A,s.position.y=P,s.positionPrev.x=A,s.positionPrev.y=P,h.setMass(s,E.mass),h.setInertia(s,E.inertia),h.setPosition(s,E.centre)}},h.setCentre=function(s,u,d){d?(s.positionPrev.x+=u.x,s.positionPrev.y+=u.y,s.position.x+=u.x,s.position.y+=u.y):(s.positionPrev.x=u.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=u.y-(s.position.y-s.positionPrev.y),s.position.x=u.x,s.position.y=u.y)},h.setPosition=function(s,u,d){var c=o.sub(u,s.position);d?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=c.x,s.velocity.y=c.y,s.speed=o.magnitude(c)):(s.positionPrev.x+=c.x,s.positionPrev.y+=c.y);for(var v=0;v<s.parts.length;v++){var x=s.parts[v];x.position.x+=c.x,x.position.y+=c.y,g.translate(x.vertices,c),i.update(x.bounds,x.vertices,s.velocity)}},h.setAngle=function(s,u,d){var c=u-s.angle;d?(s.anglePrev=s.angle,s.angularVelocity=c,s.angularSpeed=Math.abs(c)):s.anglePrev+=c;for(var v=0;v<s.parts.length;v++){var x=s.parts[v];x.angle+=c,g.rotate(x.vertices,c,s.position),n.rotate(x.axes,c),i.update(x.bounds,x.vertices,s.velocity),v>0&&o.rotateAbout(x.position,c,s.position,x.position)}},h.setVelocity=function(s,u){var d=s.deltaTime/h._baseDelta;s.positionPrev.x=s.position.x-u.x*d,s.positionPrev.y=s.position.y-u.y*d,s.velocity.x=(s.position.x-s.positionPrev.x)/d,s.velocity.y=(s.position.y-s.positionPrev.y)/d,s.speed=o.magnitude(s.velocity)},h.getVelocity=function(s){var u=h._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*u,y:(s.position.y-s.positionPrev.y)*u}},h.getSpeed=function(s){return o.magnitude(h.getVelocity(s))},h.setSpeed=function(s,u){h.setVelocity(s,o.mult(o.normalise(h.getVelocity(s)),u))},h.setAngularVelocity=function(s,u){var d=s.deltaTime/h._baseDelta;s.anglePrev=s.angle-u*d,s.angularVelocity=(s.angle-s.anglePrev)/d,s.angularSpeed=Math.abs(s.angularVelocity)},h.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*h._baseDelta/s.deltaTime},h.getAngularSpeed=function(s){return Math.abs(h.getAngularVelocity(s))},h.setAngularSpeed=function(s,u){h.setAngularVelocity(s,r.sign(h.getAngularVelocity(s))*u)},h.translate=function(s,u,d){h.setPosition(s,o.add(s.position,u),d)},h.rotate=function(s,u,d,c){if(!d)h.setAngle(s,s.angle+u,c);else{var v=Math.cos(u),x=Math.sin(u),y=s.position.x-d.x,T=s.position.y-d.y;h.setPosition(s,{x:d.x+(y*v-T*x),y:d.y+(y*x+T*v)},c),h.setAngle(s,s.angle+u,c)}},h.scale=function(s,u,d,c){var v=0,x=0;c=c||s.position;for(var y=s.inertia===1/0,T=0;T<s.parts.length;T++){var E=s.parts[T];E.scale.x=u,E.scale.y=d,g.scale(E.vertices,u,d,c),E.axes=n.fromVertices(E.vertices),E.area=g.area(E.vertices),h.setMass(E,s.density*E.area),g.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),h.setInertia(E,h._inertiaScale*g.inertia(E.vertices,E.mass)),g.translate(E.vertices,{x:E.position.x,y:E.position.y}),T>0&&(v+=E.area,x+=E.inertia),E.position.x=c.x+(E.position.x-c.x)*u,E.position.y=c.y+(E.position.y-c.y)*d,i.update(E.bounds,E.vertices,s.velocity)}s.parts.length>1&&(s.area=v,s.isStatic||(h.setMass(s,s.density*v),h.setInertia(s,x))),s.circleRadius&&(u===d?s.circleRadius*=u:s.circleRadius=null),y&&h.setInertia(s,1/0)},h.update=function(s,u){u=(typeof u<"u"?u:16.666666666666668)*s.timeScale;var d=u*u,c=h._timeCorrection?u/(s.deltaTime||u):1,v=1-s.frictionAir*(u/r._baseDelta),x=(s.position.x-s.positionPrev.x)*c,y=(s.position.y-s.positionPrev.y)*c;s.velocity.x=x*v+s.force.x/s.mass*d,s.velocity.y=y*v+s.force.y/s.mass*d,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=u,s.angularVelocity=(s.angle-s.anglePrev)*v*c+s.torque/s.inertia*d,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=o.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var T=0;T<s.parts.length;T++){var E=s.parts[T];g.translate(E.vertices,s.velocity),T>0&&(E.position.x+=s.velocity.x,E.position.y+=s.velocity.y),s.angularVelocity!==0&&(g.rotate(E.vertices,s.angularVelocity,s.position),n.rotate(E.axes,s.angularVelocity),T>0&&o.rotateAbout(E.position,s.angularVelocity,s.position,E.position)),i.update(E.bounds,E.vertices,s.velocity)}},h.updateVelocities=function(s){var u=h._baseDelta/s.deltaTime,d=s.velocity;d.x=(s.position.x-s.positionPrev.x)*u,d.y=(s.position.y-s.positionPrev.y)*u,s.speed=Math.sqrt(d.x*d.x+d.y*d.y),s.angularVelocity=(s.angle-s.anglePrev)*u,s.angularSpeed=Math.abs(s.angularVelocity)},h.applyForce=function(s,u,d){var c={x:u.x-s.position.x,y:u.y-s.position.y};s.force.x+=d.x,s.force.y+=d.y,s.torque+=c.x*d.y-c.y*d.x},h._totalProperties=function(s){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},d=s.parts.length===1?0:1;d<s.parts.length;d++){var c=s.parts[d],v=c.mass!==1/0?c.mass:1;u.mass+=v,u.area+=c.area,u.inertia+=c.inertia,u.centre=o.add(u.centre,o.mult(c.position,v))}return u.centre=o.div(u.centre,u.mass),u},h.wrap=function(s,u){var d=i.wrap(s.bounds,u);return d&&h.translate(s,d),d}})()},69351:(f,S,t)=>{var h={};f.exports=h;var g=t(35810),o=t(53402),a=t(15647),r=t(22562);(function(){h.create=function(i){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},h.setModified=function(i,n,l,s){if(g.trigger(i,"compositeModified",i),i.isModified=n,n&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),l&&i.parent&&h.setModified(i.parent,n,l,s),s)for(var u=0;u<i.composites.length;u++){var d=i.composites[u];h.setModified(d,n,l,s)}},h.add=function(i,n){var l=[].concat(n);g.trigger(i,"beforeAdd",{object:n});for(var s=0;s<l.length;s++){var u=l[s];switch(u.type){case"body":if(u.parent!==u){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(i,u);break;case"constraint":h.addConstraint(i,u);break;case"composite":h.addComposite(i,u);break;case"mouseConstraint":h.addConstraint(i,u.constraint);break}}return g.trigger(i,"afterAdd",{object:n}),i},h.remove=function(i,n,l){var s=[].concat(n);g.trigger(i,"beforeRemove",{object:n});for(var u=0;u<s.length;u++){var d=s[u];switch(d.type){case"body":h.removeBody(i,d,l);break;case"constraint":h.removeConstraint(i,d,l);break;case"composite":h.removeComposite(i,d,l);break;case"mouseConstraint":h.removeConstraint(i,d.constraint);break}}return g.trigger(i,"afterRemove",{object:n}),i},h.addComposite=function(i,n){return i.composites.push(n),n.parent=i,h.setModified(i,!0,!0,!1),i},h.removeComposite=function(i,n,l){var s=o.indexOf(i.composites,n);if(s!==-1){var u=h.allBodies(n);h.removeCompositeAt(i,s);for(var d=0;d<u.length;d++)u[d].sleepCounter=0}if(l)for(var d=0;d<i.composites.length;d++)h.removeComposite(i.composites[d],n,!0);return i},h.removeCompositeAt=function(i,n){return i.composites.splice(n,1),h.setModified(i,!0,!0,!1),i},h.addBody=function(i,n){return i.bodies.push(n),h.setModified(i,!0,!0,!1),i},h.removeBody=function(i,n,l){var s=o.indexOf(i.bodies,n);if(s!==-1&&(h.removeBodyAt(i,s),n.sleepCounter=0),l)for(var u=0;u<i.composites.length;u++)h.removeBody(i.composites[u],n,!0);return i},h.removeBodyAt=function(i,n){return i.bodies.splice(n,1),h.setModified(i,!0,!0,!1),i},h.addConstraint=function(i,n){return i.constraints.push(n),h.setModified(i,!0,!0,!1),i},h.removeConstraint=function(i,n,l){var s=o.indexOf(i.constraints,n);if(s!==-1&&h.removeConstraintAt(i,s),l)for(var u=0;u<i.composites.length;u++)h.removeConstraint(i.composites[u],n,!0);return i},h.removeConstraintAt=function(i,n){return i.constraints.splice(n,1),h.setModified(i,!0,!0,!1),i},h.clear=function(i,n,l){if(l)for(var s=0;s<i.composites.length;s++)h.clear(i.composites[s],n,!0);return n?i.bodies=i.bodies.filter(function(u){return u.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,h.setModified(i,!0,!0,!1),i},h.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var n=[].concat(i.bodies),l=0;l<i.composites.length;l++)n=n.concat(h.allBodies(i.composites[l]));return i.cache&&(i.cache.allBodies=n),n},h.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var n=[].concat(i.constraints),l=0;l<i.composites.length;l++)n=n.concat(h.allConstraints(i.composites[l]));return i.cache&&(i.cache.allConstraints=n),n},h.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var n=[].concat(i.composites),l=0;l<i.composites.length;l++)n=n.concat(h.allComposites(i.composites[l]));return i.cache&&(i.cache.allComposites=n),n},h.get=function(i,n,l){var s,u;switch(l){case"body":s=h.allBodies(i);break;case"constraint":s=h.allConstraints(i);break;case"composite":s=h.allComposites(i).concat(i);break}return s?(u=s.filter(function(d){return d.id.toString()===n.toString()}),u.length===0?null:u[0]):null},h.move=function(i,n,l){return h.remove(i,n),h.add(l,n),i},h.rebase=function(i){for(var n=h.allBodies(i).concat(h.allConstraints(i)).concat(h.allComposites(i)),l=0;l<n.length;l++)n[l].id=o.nextId();return i},h.translate=function(i,n,l){for(var s=l?h.allBodies(i):i.bodies,u=0;u<s.length;u++)r.translate(s[u],n);return i},h.rotate=function(i,n,l,s){for(var u=Math.cos(n),d=Math.sin(n),c=s?h.allBodies(i):i.bodies,v=0;v<c.length;v++){var x=c[v],y=x.position.x-l.x,T=x.position.y-l.y;r.setPosition(x,{x:l.x+(y*u-T*d),y:l.y+(y*d+T*u)}),r.rotate(x,n)}return i},h.scale=function(i,n,l,s,u){for(var d=u?h.allBodies(i):i.bodies,c=0;c<d.length;c++){var v=d[c],x=v.position.x-s.x,y=v.position.y-s.y;r.setPosition(v,{x:s.x+x*n,y:s.y+y*l}),r.scale(v,n,l)}return i},h.bounds=function(i){for(var n=h.allBodies(i),l=[],s=0;s<n.length;s+=1){var u=n[s];l.push(u.bounds.min,u.bounds.max)}return a.create(l)},h.wrap=function(i,n){var l=a.wrap(h.bounds(i),n);return l&&h.translate(i,l),l}})()},4372:(f,S,t)=>{var h={};f.exports=h;var g=t(69351);(function(){h.create=g.create,h.add=g.add,h.remove=g.remove,h.clear=g.clear,h.addComposite=g.addComposite,h.addBody=g.addBody,h.addConstraint=g.addConstraint})()},52284:(f,S,t)=>{var h={};f.exports=h;var g=t(41598),o=t(4506);(function(){var a=[],r={overlap:0,axis:null},i={overlap:0,axis:null};h.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(n,l,s){if(h._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(h._overlapAxes(i,l.vertices,n.vertices,l.axes),i.overlap<=0))return null;var u=s&&s.table[o.id(n,l)],d;u?d=u.collision:(d=h.create(n,l),d.collided=!0,d.bodyA=n.id<l.id?n:l,d.bodyB=n.id<l.id?l:n,d.parentA=d.bodyA.parent,d.parentB=d.bodyB.parent),n=d.bodyA,l=d.bodyB;var c;r.overlap<i.overlap?c=r:c=i;var v=d.normal,x=d.tangent,y=d.penetration,T=d.supports,E=c.overlap,A=c.axis,P=A.x,w=A.y,I=l.position.x-n.position.x,O=l.position.y-n.position.y;P*I+w*O>=0&&(P=-P,w=-w),v.x=P,v.y=w,x.x=-w,x.y=P,y.x=P*E,y.y=w*E,d.depth=E;var F=h._findSupports(n,l,v,1),L=0;if(g.contains(n.vertices,F[0])&&(T[L++]=F[0]),g.contains(n.vertices,F[1])&&(T[L++]=F[1]),L<2){var D=h._findSupports(l,n,v,-1);g.contains(l.vertices,D[0])&&(T[L++]=D[0]),L<2&&g.contains(l.vertices,D[1])&&(T[L++]=D[1])}return L===0&&(T[L++]=F[0]),d.supportCount=L,d},h._overlapAxes=function(n,l,s,u){var d=l.length,c=s.length,v=l[0].x,x=l[0].y,y=s[0].x,T=s[0].y,E=u.length,A=Number.MAX_VALUE,P=0,w,I,O,F,L,D;for(L=0;L<E;L++){var b=u[L],U=b.x,W=b.y,H=v*U+x*W,Y=y*U+T*W,G=H,X=Y;for(D=1;D<d;D+=1)F=l[D].x*U+l[D].y*W,F>G?G=F:F<H&&(H=F);for(D=1;D<c;D+=1)F=s[D].x*U+s[D].y*W,F>X?X=F:F<Y&&(Y=F);if(I=G-Y,O=X-H,w=I<O?I:O,w<A&&(A=w,P=L,w<=0))break}n.axis=u[P],n.overlap=A},h._findSupports=function(n,l,s,u){var d=l.vertices,c=d.length,v=n.position.x,x=n.position.y,y=s.x*u,T=s.y*u,E=d[0],A=E,P=y*(v-A.x)+T*(x-A.y),w,I,O;for(O=1;O<c;O+=1)A=d[O],I=y*(v-A.x)+T*(x-A.y),I<P&&(P=I,E=A);return w=d[(c+E.index-1)%c],P=y*(v-w.x)+T*(x-w.y),A=d[(E.index+1)%c],y*(v-A.x)+T*(x-A.y)<P?(a[0]=E,a[1]=A,a):(a[0]=E,a[1]=w,a)}})()},43424:f=>{var S={};f.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(f,S,t)=>{var h={};f.exports=h;var g=t(53402),o=t(52284);(function(){h.create=function(a){var r={bodies:[],collisions:[],pairs:null};return g.extend(r,a)},h.setBodies=function(a,r){a.bodies=r.slice(0)},h.clear=function(a){a.bodies=[],a.collisions=[]},h.collisions=function(a){var r=a.pairs,i=a.bodies,n=i.length,l=h.canCollide,s=o.collides,u=a.collisions,d=0,c,v;for(i.sort(h._compareBoundsX),c=0;c<n;c++){var x=i[c],y=x.bounds,T=x.bounds.max.x,E=x.bounds.max.y,A=x.bounds.min.y,P=x.isStatic||x.isSleeping,w=x.parts.length,I=w===1;for(v=c+1;v<n;v++){var O=i[v],F=O.bounds;if(F.min.x>T)break;if(!(E<F.min.y||A>F.max.y)&&!(P&&(O.isStatic||O.isSleeping))&&l(x.collisionFilter,O.collisionFilter)){var L=O.parts.length;if(I&&L===1){var D=s(x,O,r);D&&(u[d++]=D)}else for(var b=w>1?1:0,U=L>1?1:0,W=b;W<w;W++)for(var H=x.parts[W],y=H.bounds,Y=U;Y<L;Y++){var G=O.parts[Y],F=G.bounds;if(!(y.min.x>F.max.x||y.max.x<F.min.x||y.max.y<F.min.y||y.min.y>F.max.y)){var D=s(H,G,r);D&&(u[d++]=D)}}}}}return u.length!==d&&(u.length=d),u},h.canCollide=function(a,r){return a.group===r.group&&a.group!==0?a.group>0:(a.mask&r.category)!==0&&(r.mask&a.category)!==0},h._compareBoundsX=function(a,r){return a.bounds.min.x-r.bounds.min.x}})()},4506:(f,S,t)=>{var h={};f.exports=h;var g=t(43424);(function(){h.create=function(o,a){var r=o.bodyA,i=o.bodyB,n={id:h.id(r,i),bodyA:r,bodyB:i,collision:o,contacts:[g.create(),g.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||i.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(n,o,a),n},h.update=function(o,a,r){var i=a.supports,n=a.supportCount,l=o.contacts,s=a.parentA,u=a.parentB;o.isActive=!0,o.timeUpdated=r,o.collision=a,o.separation=a.depth,o.inverseMass=s.inverseMass+u.inverseMass,o.friction=s.friction<u.friction?s.friction:u.friction,o.frictionStatic=s.frictionStatic>u.frictionStatic?s.frictionStatic:u.frictionStatic,o.restitution=s.restitution>u.restitution?s.restitution:u.restitution,o.slop=s.slop>u.slop?s.slop:u.slop,o.contactCount=n,a.pair=o;var d=i[0],c=l[0],v=i[1],x=l[1];(x.vertex===d||c.vertex===v)&&(l[1]=c,l[0]=c=x,x=l[1]),c.vertex=d,x.vertex=v},h.setActive=function(o,a,r){a?(o.isActive=!0,o.timeUpdated=r):(o.isActive=!1,o.contactCount=0)},h.id=function(o,a){return o.id<a.id?o.id.toString(36)+":"+a.id.toString(36):a.id.toString(36)+":"+o.id.toString(36)}})()},99561:(f,S,t)=>{var h={};f.exports=h;var g=t(4506),o=t(53402);(function(){h.create=function(a){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},h.update=function(a,r,i){var n=g.update,l=g.create,s=g.setActive,u=a.table,d=a.list,c=d.length,v=c,x=a.collisionStart,y=a.collisionEnd,T=a.collisionActive,E=r.length,A=0,P=0,w=0,I,O,F;for(F=0;F<E;F++)I=r[F],O=I.pair,O?(O.isActive&&(T[w++]=O),n(O,I,i)):(O=l(I,i),u[O.id]=O,x[A++]=O,d[v++]=O);for(v=0,c=d.length,F=0;F<c;F++)O=d[F],O.timeUpdated>=i?d[v++]=O:(s(O,!1,i),O.collision.bodyA.sleepCounter>0&&O.collision.bodyB.sleepCounter>0?d[v++]=O:(y[P++]=O,delete u[O.id]));d.length!==v&&(d.length=v),x.length!==A&&(x.length=A),y.length!==P&&(y.length=P),T.length!==w&&(T.length=w)},h.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},73296:(f,S,t)=>{var h={};f.exports=h;var g=t(31725),o=t(52284),a=t(15647),r=t(66280),i=t(41598);(function(){h.collides=function(n,l){for(var s=[],u=l.length,d=n.bounds,c=o.collides,v=a.overlaps,x=0;x<u;x++){var y=l[x],T=y.parts.length,E=T===1?0:1;if(n!==y&&v(y.bounds,d))for(var A=E;A<T;A++){var P=y.parts[A];if(v(P.bounds,d)){var w=c(P,n);if(w){s.push(w);break}}}}return s},h.ray=function(n,l,s,u){u=u||1e-100;for(var d=g.angle(l,s),c=g.magnitude(g.sub(l,s)),v=(s.x+l.x)*.5,x=(s.y+l.y)*.5,y=r.rectangle(v,x,c,u,{angle:d}),T=h.collides(y,n),E=0;E<T.length;E+=1){var A=T[E];A.body=A.bodyB=A.bodyA}return T},h.region=function(n,l,s){for(var u=[],d=0;d<n.length;d++){var c=n[d],v=a.overlaps(c.bounds,l);(v&&!s||!v&&s)&&u.push(c)}return u},h.point=function(n,l){for(var s=[],u=0;u<n.length;u++){var d=n[u];if(a.contains(d.bounds,l))for(var c=d.parts.length===1?0:1;c<d.parts.length;c++){var v=d.parts[c];if(a.contains(v.bounds,l)&&i.contains(v.vertices,l)){s.push(d);break}}}return s}})()},66272:(f,S,t)=>{var h={};f.exports=h;var g=t(41598),o=t(53402),a=t(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(r){var i,n,l,s=r.length;for(i=0;i<s;i++)n=r[i],n.isActive&&(l=n.contactCount,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},h.solvePosition=function(r,i,n){var l,s,u,d,c,v,x,y,T=h._positionDampen*(n||1),E=o.clamp(i/o._baseDelta,0,1),A=r.length;for(l=0;l<A;l++)s=r[l],!(!s.isActive||s.isSensor)&&(u=s.collision,d=u.parentA,c=u.parentB,v=u.normal,s.separation=u.depth+v.x*(c.positionImpulse.x-d.positionImpulse.x)+v.y*(c.positionImpulse.y-d.positionImpulse.y));for(l=0;l<A;l++)s=r[l],!(!s.isActive||s.isSensor)&&(u=s.collision,d=u.parentA,c=u.parentB,v=u.normal,y=s.separation-s.slop*E,(d.isStatic||c.isStatic)&&(y*=2),d.isStatic||d.isSleeping||(x=T/d.totalContacts,d.positionImpulse.x+=v.x*y*x,d.positionImpulse.y+=v.y*y*x),c.isStatic||c.isSleeping||(x=T/c.totalContacts,c.positionImpulse.x-=v.x*y*x,c.positionImpulse.y-=v.y*y*x))},h.postSolvePosition=function(r){for(var i=h._positionWarming,n=r.length,l=g.translate,s=a.update,u=0;u<n;u++){var d=r[u],c=d.positionImpulse,v=c.x,x=c.y,y=d.velocity;if(d.totalContacts=0,v!==0||x!==0){for(var T=0;T<d.parts.length;T++){var E=d.parts[T];l(E.vertices,c),s(E.bounds,E.vertices,y),E.position.x+=v,E.position.y+=x}d.positionPrev.x+=v,d.positionPrev.y+=x,v*y.x+x*y.y<0?(c.x=0,c.y=0):(c.x*=i,c.y*=i)}}},h.preSolveVelocity=function(r){var i=r.length,n,l;for(n=0;n<i;n++){var s=r[n];if(!(!s.isActive||s.isSensor)){var u=s.contacts,d=s.contactCount,c=s.collision,v=c.parentA,x=c.parentB,y=c.normal,T=c.tangent;for(l=0;l<d;l++){var E=u[l],A=E.vertex,P=E.normalImpulse,w=E.tangentImpulse;if(P!==0||w!==0){var I=y.x*P+T.x*w,O=y.y*P+T.y*w;v.isStatic||v.isSleeping||(v.positionPrev.x+=I*v.inverseMass,v.positionPrev.y+=O*v.inverseMass,v.anglePrev+=v.inverseInertia*((A.x-v.position.x)*O-(A.y-v.position.y)*I)),x.isStatic||x.isSleeping||(x.positionPrev.x-=I*x.inverseMass,x.positionPrev.y-=O*x.inverseMass,x.anglePrev-=x.inverseInertia*((A.x-x.position.x)*O-(A.y-x.position.y)*I))}}}}},h.solveVelocity=function(r,i){var n=i/o._baseDelta,l=n*n,s=l*n,u=-h._restingThresh*n,d=h._restingThreshTangent,c=h._frictionNormalMultiplier*n,v=h._frictionMaxStatic,x=r.length,y,T,E,A;for(E=0;E<x;E++){var P=r[E];if(!(!P.isActive||P.isSensor)){var w=P.collision,I=w.parentA,O=w.parentB,F=w.normal.x,L=w.normal.y,D=w.tangent.x,b=w.tangent.y,U=P.inverseMass,W=P.friction*P.frictionStatic*c,H=P.contacts,Y=P.contactCount,G=1/Y,X=I.position.x-I.positionPrev.x,V=I.position.y-I.positionPrev.y,B=I.angle-I.anglePrev,z=O.position.x-O.positionPrev.x,$=O.position.y-O.positionPrev.y,j=O.angle-O.anglePrev;for(A=0;A<Y;A++){var k=H[A],q=k.vertex,Q=q.x-I.position.x,Z=q.y-I.position.y,_=q.x-O.position.x,et=q.y-O.position.y,it=X-Z*B,st=V+Q*B,nt=z-et*j,lt=$+_*j,ut=it-nt,ot=st-lt,rt=F*ut+L*ot,ht=D*ut+b*ot,dt=P.separation+rt,xt=Math.min(dt,1);xt=dt<0?0:xt;var yt=xt*W;ht<-yt||ht>yt?(T=ht>0?ht:-ht,y=P.friction*(ht>0?1:-1)*s,y<-T?y=-T:y>T&&(y=T)):(y=ht,T=v);var Ct=Q*L-Z*F,St=_*L-et*F,It=G/(U+I.inverseInertia*Ct*Ct+O.inverseInertia*St*St),zt=(1+P.restitution)*rt*It;if(y*=It,rt<u)k.normalImpulse=0;else{var qt=k.normalImpulse;k.normalImpulse+=zt,k.normalImpulse>0&&(k.normalImpulse=0),zt=k.normalImpulse-qt}if(ht<-d||ht>d)k.tangentImpulse=0;else{var Nt=k.tangentImpulse;k.tangentImpulse+=y,k.tangentImpulse<-T&&(k.tangentImpulse=-T),k.tangentImpulse>T&&(k.tangentImpulse=T),y=k.tangentImpulse-Nt}var Jt=F*zt+D*y,oe=L*zt+b*y;I.isStatic||I.isSleeping||(I.positionPrev.x+=Jt*I.inverseMass,I.positionPrev.y+=oe*I.inverseMass,I.anglePrev+=(Q*oe-Z*Jt)*I.inverseInertia),O.isStatic||O.isSleeping||(O.positionPrev.x-=Jt*O.inverseMass,O.positionPrev.y-=oe*O.inverseMass,O.anglePrev-=(_*oe-et*Jt)*O.inverseInertia)}}}}})()},48140:(f,S,t)=>{var h={};f.exports=h;var g=t(41598),o=t(31725),a=t(53614),r=t(15647),i=t(66615),n=t(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(l){var s=l;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var u=s.bodyA?o.add(s.bodyA.position,s.pointA):s.pointA,d=s.bodyB?o.add(s.bodyB.position,s.pointB):s.pointB,c=o.magnitude(o.sub(u,d));s.length=typeof s.length<"u"?s.length:c,s.id=s.id||n.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(v.type="pin",v.anchors=!1):s.stiffness<.9&&(v.type="spring"),s.render=n.extend(v,s.render),s},h.preSolveAll=function(l){for(var s=0;s<l.length;s+=1){var u=l[s],d=u.constraintImpulse;u.isStatic||d.x===0&&d.y===0&&d.angle===0||(u.position.x+=d.x,u.position.y+=d.y,u.angle+=d.angle)}},h.solveAll=function(l,s){for(var u=n.clamp(s/n._baseDelta,0,1),d=0;d<l.length;d+=1){var c=l[d],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,x=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(v||x)&&h.solve(l[d],u)}for(d=0;d<l.length;d+=1)c=l[d],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,x=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!v&&!x&&h.solve(l[d],u)},h.solve=function(l,s){var u=l.bodyA,d=l.bodyB,c=l.pointA,v=l.pointB;if(!(!u&&!d)){u&&!u.isStatic&&(o.rotate(c,u.angle-l.angleA,c),l.angleA=u.angle),d&&!d.isStatic&&(o.rotate(v,d.angle-l.angleB,v),l.angleB=d.angle);var x=c,y=v;if(u&&(x=o.add(u.position,c)),d&&(y=o.add(d.position,v)),!(!x||!y)){var T=o.sub(x,y),E=o.magnitude(T);E<h._minLength&&(E=h._minLength);var A=(E-l.length)/E,P=l.stiffness>=1||l.length===0,w=P?l.stiffness*s:l.stiffness*s*s,I=l.damping*s,O=o.mult(T,A*w),F=(u?u.inverseMass:0)+(d?d.inverseMass:0),L=(u?u.inverseInertia:0)+(d?d.inverseInertia:0),D=F+L,b,U,W,H,Y;if(I>0){var G=o.create();W=o.div(T,E),Y=o.sub(d&&o.sub(d.position,d.positionPrev)||G,u&&o.sub(u.position,u.positionPrev)||G),H=o.dot(W,Y)}u&&!u.isStatic&&(U=u.inverseMass/F,u.constraintImpulse.x-=O.x*U,u.constraintImpulse.y-=O.y*U,u.position.x-=O.x*U,u.position.y-=O.y*U,I>0&&(u.positionPrev.x-=I*W.x*H*U,u.positionPrev.y-=I*W.y*H*U),b=o.cross(c,O)/D*h._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle-=b,u.angle-=b),d&&!d.isStatic&&(U=d.inverseMass/F,d.constraintImpulse.x+=O.x*U,d.constraintImpulse.y+=O.y*U,d.position.x+=O.x*U,d.position.y+=O.y*U,I>0&&(d.positionPrev.x+=I*W.x*H*U,d.positionPrev.y+=I*W.y*H*U),b=o.cross(v,O)/D*h._torqueDampen*d.inverseInertia*(1-l.angularStiffness),d.constraintImpulse.angle+=b,d.angle+=b)}}},h.postSolveAll=function(l){for(var s=0;s<l.length;s++){var u=l[s],d=u.constraintImpulse;if(!(u.isStatic||d.x===0&&d.y===0&&d.angle===0)){a.set(u,!1);for(var c=0;c<u.parts.length;c++){var v=u.parts[c];g.translate(v.vertices,d),c>0&&(v.position.x+=d.x,v.position.y+=d.y),d.angle!==0&&(g.rotate(v.vertices,d.angle,u.position),i.rotate(v.axes,d.angle),c>0&&o.rotateAbout(v.position,d.angle,u.position,v.position)),r.update(v.bounds,v.vertices,u.velocity)}d.angle*=h._warming,d.x*=h._warming,d.y*=h._warming}}},h.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},h.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},h.currentLength=function(l){var s=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),u=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),d=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),c=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),v=s-d,x=u-c;return Math.sqrt(v*v+x*x)}})()},53402:(f,S,t)=>{var h={};f.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(o,a){var r,i;typeof a=="boolean"?(r=2,i=a):(r=1,i=!0);for(var n=r;n<arguments.length;n++){var l=arguments[n];if(l)for(var s in l)i&&l[s]&&l[s].constructor===Object&&(!o[s]||o[s].constructor===Object)?(o[s]=o[s]||{},h.extend(o[s],i,l[s])):o[s]=l[s]}return o},h.clone=function(o,a){return h.extend({},a,o)},h.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var r in o)a.push(r);return a},h.values=function(o){var a=[];if(Object.keys){for(var r=Object.keys(o),i=0;i<r.length;i++)a.push(o[r[i]]);return a}for(var n in o)a.push(o[n]);return a},h.get=function(o,a,r,i){a=a.split(".").slice(r,i);for(var n=0;n<a.length;n+=1)o=o[a[n]];return o},h.set=function(o,a,r,i,n){var l=a.split(".").slice(i,n);return h.get(o,a,0,-1)[l[l.length-1]]=r,r},h.shuffle=function(o){for(var a=o.length-1;a>0;a--){var r=Math.floor(h.random()*(a+1)),i=o[a];o[a]=o[r],o[r]=i}return o},h.choose=function(o){return o[Math.floor(h.random()*o.length)]},h.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},h.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},h.isFunction=function(o){return typeof o=="function"},h.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},h.isString=function(o){return toString.call(o)==="[object String]"},h.clamp=function(o,a,r){return o<a?a:o>r?r:o},h.sign=function(o){return o<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+g()*(a-o)};var g=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[o]||(h.warn(o),h._warnedOnce[o]=!0)},h.deprecated=function(o,a,r){o[a]=h.chain(function(){h.warnOnce("🔅 deprecated 🔅",r)},o[a])},h.nextId=function(){return h._nextId++},h.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var r=0;r<o.length;r++)if(o[r]===a)return r;return-1},h.map=function(o,a){if(o.map)return o.map(a);for(var r=[],i=0;i<o.length;i+=1)r.push(a(o[i]));return r},h.topologicalSort=function(o){var a=[],r=[],i=[];for(var n in o)!r[n]&&!i[n]&&h._topologicalSort(n,r,i,o,a);return a},h._topologicalSort=function(o,a,r,i,n){var l=i[o]||[];r[o]=!0;for(var s=0;s<l.length;s+=1){var u=l[s];r[u]||a[u]||h._topologicalSort(u,a,r,i,n)}r[o]=!1,a[o]=!0,n.push(o)},h.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var r=arguments[a];r._chained?o.push.apply(o,r._chained):o.push(r)}var i=function(){for(var n,l=new Array(arguments.length),s=0,u=arguments.length;s<u;s++)l[s]=arguments[s];for(s=0;s<o.length;s+=1){var d=o[s].apply(n,l);typeof d<"u"&&(n=d)}return n};return i._chained=o,i},h.chainPathBefore=function(o,a,r){return h.set(o,a,h.chain(r,h.get(o,a)))},h.chainPathAfter=function(o,a,r){return h.set(o,a,h.chain(h.get(o,a),r))},h.setDecomp=function(o){h._decomp=o},h.getDecomp=function(){var o=h._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(f,S,t)=>{var h={};f.exports=h;var g=t(53614),o=t(66272),a=t(81388),r=t(99561),i=t(35810),n=t(69351),l=t(48140),s=t(53402),u=t(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(d){d=d||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=s.extend(c,d);return v.world=d.world||n.create({label:"World"}),v.pairs=d.pairs||r.create(),v.detector=d.detector||a.create(),v.detector.pairs=v.pairs,v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},h.update=function(d,c){var v=s.now(),x=d.world,y=d.detector,T=d.pairs,E=d.timing,A=E.timestamp,P;c>h._deltaMax&&s.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),c=typeof c<"u"?c:s._baseDelta,c*=E.timeScale,E.timestamp+=c,E.lastDelta=c;var w={timestamp:E.timestamp,delta:c};i.trigger(d,"beforeUpdate",w);var I=n.allBodies(x),O=n.allConstraints(x),F=n.allComposites(x);for(x.isModified&&(a.setBodies(y,I),n.setModified(x,!1,!1,!0)),d.enableSleeping&&g.update(I,c),h._bodiesApplyGravity(I,d.gravity),h.wrap(I,F),h.attractors(I),c>0&&h._bodiesUpdate(I,c),i.trigger(d,"beforeSolve",w),l.preSolveAll(I),P=0;P<d.constraintIterations;P++)l.solveAll(O,c);l.postSolveAll(I);var L=a.collisions(y);r.update(T,L,A),d.enableSleeping&&g.afterCollisions(T.list),T.collisionStart.length>0&&i.trigger(d,"collisionStart",{pairs:T.collisionStart,timestamp:E.timestamp,delta:c});var D=s.clamp(20/d.positionIterations,0,1);for(o.preSolvePosition(T.list),P=0;P<d.positionIterations;P++)o.solvePosition(T.list,c,D);for(o.postSolvePosition(I),l.preSolveAll(I),P=0;P<d.constraintIterations;P++)l.solveAll(O,c);for(l.postSolveAll(I),o.preSolveVelocity(T.list),P=0;P<d.velocityIterations;P++)o.solveVelocity(T.list,c);return h._bodiesUpdateVelocities(I),T.collisionActive.length>0&&i.trigger(d,"collisionActive",{pairs:T.collisionActive,timestamp:E.timestamp,delta:c}),T.collisionEnd.length>0&&i.trigger(d,"collisionEnd",{pairs:T.collisionEnd,timestamp:E.timestamp,delta:c}),h._bodiesClearForces(I),i.trigger(d,"afterUpdate",w),d.timing.lastElapsed=s.now()-v,d},h.merge=function(d,c){if(s.extend(d,c),c.world){d.world=c.world,h.clear(d);for(var v=n.allBodies(d.world),x=0;x<v.length;x++){var y=v[x];g.set(y,!1),y.id=s.nextId()}}},h.clear=function(d){r.clear(d.pairs),a.clear(d.detector)},h._bodiesClearForces=function(d){for(var c=d.length,v=0;v<c;v++){var x=d[v];x.force.x=0,x.force.y=0,x.torque=0}},h._bodiesApplyGravity=function(d,c){var v=typeof c.scale<"u"?c.scale:.001,x=d.length;if(!(c.x===0&&c.y===0||v===0))for(var y=0;y<x;y++){var T=d[y];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.y+=T.mass*c.y*v,T.force.x+=T.mass*c.x*v)}},h._bodiesUpdate=function(d,c){for(var v=d.length,x=0;x<v;x++){var y=d[x];y.isStatic||y.isSleeping||u.update(y,c)}},h._bodiesUpdateVelocities=function(d){for(var c=d.length,v=0;v<c;v++)u.updateVelocities(d[v])},h.wrap=function(d,c){for(var v=0;v<d.length;v+=1){var x=d[v];x.wrapBounds!==null&&u.wrap(x,x.wrapBounds)}for(v=0;v<c.length;v+=1){var y=c[v];y.wrapBounds!==null&&n.wrap(y,y.wrapBounds)}},h.attractors=function(d){for(var c=0;c<d.length;c++){var v=d[c],x=v.attractors;if(x&&x.length>0)for(var y=0;y<d.length;y++){var T=d[y];if(c!==y)for(var E=0;E<x.length;E++){var A=x[E],P=A;s.isFunction(A)&&(P=A(v,T)),P&&u.applyForce(T,T.position,P)}}}}})()},35810:(f,S,t)=>{var h={};f.exports=h;var g=t(53402);(function(){h.on=function(o,a,r){for(var i=a.split(" "),n,l=0;l<i.length;l++)n=i[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(r);return r},h.off=function(o,a,r){if(!a){o.events={};return}typeof a=="function"&&(r=a,a=g.keys(o.events).join(" "));for(var i=a.split(" "),n=0;n<i.length;n++){var l=o.events[i[n]],s=[];if(r&&l)for(var u=0;u<l.length;u++)l[u]!==r&&s.push(l[u]);o.events[i[n]]=s}},h.trigger=function(o,a,r){var i,n,l,s,u=o.events;if(u&&g.keys(u).length>0){r||(r={}),i=a.split(" ");for(var d=0;d<i.length;d++)if(n=i[d],l=u[n],l){s=g.clone(r,!1),s.name=n,s.source=o;for(var c=0;c<l.length;c++)l[c].apply(o,[s])}}}})()},6790:(f,S,t)=>{var h={};f.exports=h;var g=t(73832),o=t(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){g.use(h,Array.prototype.slice.call(arguments))},h.before=function(a,r){return a=a.replace(/^Matter./,""),o.chainPathBefore(h,a,r)},h.after=function(a,r){return a=a.replace(/^Matter./,""),o.chainPathAfter(h,a,r)}})()},73832:(f,S,t)=>{var h={};f.exports=h;var g=t(53402);(function(){h._registry={},h.register=function(o){if(h.isPlugin(o)||g.warn("Plugin.register:",h.toString(o),"does not implement all required fields."),o.name in h._registry){var a=h._registry[o.name],r=h.versionParse(o.version).number,i=h.versionParse(a.version).number;r>i?(g.warn("Plugin.register:",h.toString(a),"was upgraded to",h.toString(o)),h._registry[o.name]=o):r<i?g.warn("Plugin.register:",h.toString(a),"can not be downgraded to",h.toString(o)):o!==a&&g.warn("Plugin.register:",h.toString(o),"is already registered to different plugin object")}else h._registry[o.name]=o;return o},h.resolve=function(o){return h._registry[h.dependencyParse(o).name]},h.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},h.isPlugin=function(o){return o&&o.name&&o.version&&o.install},h.isUsed=function(o,a){return o.used.indexOf(a)>-1},h.isFor=function(o,a){var r=o.for&&h.dependencyParse(o.for);return!o.for||a.name===r.name&&h.versionSatisfies(a.version,r.range)},h.use=function(o,a){if(o.uses=(o.uses||[]).concat(a||[]),o.uses.length===0){g.warn("Plugin.use:",h.toString(o),"does not specify any dependencies to install.");return}for(var r=h.dependencies(o),i=g.topologicalSort(r),n=[],l=0;l<i.length;l+=1)if(i[l]!==o.name){var s=h.resolve(i[l]);if(!s){n.push("❌ "+i[l]);continue}h.isUsed(o,s.name)||(h.isFor(s,o)||(g.warn("Plugin.use:",h.toString(s),"is for",s.for,"but installed on",h.toString(o)+"."),s._warned=!0),s.install?s.install(o):(g.warn("Plugin.use:",h.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(n.push("🔶 "+h.toString(s)),delete s._warned):n.push("✅ "+h.toString(s)),o.used.push(s.name))}n.length>0&&!s.silent&&g.info(n.join("  "))},h.dependencies=function(o,a){var r=h.dependencyParse(o),i=r.name;if(a=a||{},!(i in a)){o=h.resolve(o)||o,a[i]=g.map(o.uses||[],function(l){h.isPlugin(l)&&h.register(l);var s=h.dependencyParse(l),u=h.resolve(l);return u&&!h.versionSatisfies(u.version,s.range)?(g.warn("Plugin.dependencies:",h.toString(u),"does not satisfy",h.toString(s),"used by",h.toString(r)+"."),u._warned=!0,o._warned=!0):u||(g.warn("Plugin.dependencies:",h.toString(l),"used by",h.toString(r),"could not be resolved."),o._warned=!0),s.name});for(var n=0;n<a[i].length;n+=1)h.dependencies(a[i][n],a);return a}},h.dependencyParse=function(o){if(g.isString(o)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(o)||g.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},h.versionParse=function(o){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(o)||g.warn("Plugin.versionParse:",o,"is not a valid version or range.");var r=a.exec(o),i=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:o,operator:r[1]||r[2]||"",major:i,minor:n,patch:l,parts:[i,n,l],prerelease:r[7],number:i*1e8+n*1e4+l}},h.versionSatisfies=function(o,a){a=a||"*";var r=h.versionParse(a),i=h.versionParse(o);if(r.isRange){if(r.operator==="*"||o==="*")return!0;if(r.operator===">")return i.number>r.number;if(r.operator===">=")return i.number>=r.number;if(r.operator==="~")return i.major===r.major&&i.minor===r.minor&&i.patch>=r.patch;if(r.operator==="^")return r.major>0?i.major===r.major&&i.number>=r.number:r.minor>0?i.minor===r.minor&&i.patch>=r.patch:i.patch===r.patch}return o===a||o==="*"}})()},13037:(f,S,t)=>{var h={};f.exports=h;var g=t(35810),o=t(48413),a=t(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(i){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=a.extend(n,i);return l.fps=0,l},h.run=function(i,n){return i.timeBuffer=h._frameDeltaFallback,function l(s){i.frameRequestId=h._onNextFrame(i,l),s&&i.enabled&&h.tick(i,n,s)}(),i},h.tick=function(i,n,l){var s=a.now(),u=i.delta,d=0,c=l-i.timeLastTick;if((!c||!i.timeLastTick||c>Math.max(h._maxFrameDelta,i.maxFrameTime))&&(c=i.frameDelta||h._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(c),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var v=i.frameDeltaHistory.slice(0).sort(),x=i.frameDeltaHistory.slice(v.length*h._smoothingLowerBound,v.length*h._smoothingUpperBound),y=r(x);c=y||c}i.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),i.frameDelta=c,i.timeLastTick=l,i.timeBuffer+=i.frameDelta,i.timeBuffer=a.clamp(i.timeBuffer,0,i.frameDelta+u*h._timeBufferMargin),i.lastUpdatesDeferred=0;var T=i.maxUpdates||Math.ceil(i.maxFrameTime/u),E={timestamp:n.timing.timestamp};g.trigger(i,"beforeTick",E),g.trigger(i,"tick",E);for(var A=a.now();u>0&&i.timeBuffer>=u*h._timeBufferMargin;){g.trigger(i,"beforeUpdate",E),o.update(n,u),g.trigger(i,"afterUpdate",E),i.timeBuffer-=u,d+=1;var P=a.now()-s,w=a.now()-A,I=P+h._elapsedNextEstimate*w/d;if(d>=T||I>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/u-h._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=d,g.trigger(i,"afterTick",E),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/u)>T?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(i){h._cancelNextFrame(i)},h._onNextFrame=function(i,n){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},h._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(i){for(var n=0,l=i.length,s=0;s<l;s+=1)n+=i[s];return n/l||0};h._mean=r})()},53614:(f,S,t)=>{var h={};f.exports=h;var g=t(22562),o=t(35810),a=t(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(r,i){for(var n=i/a._baseDelta,l=h._motionSleepThreshold,s=0;s<r.length;s++){var u=r[s],d=g.getSpeed(u),c=g.getAngularSpeed(u),v=d*d+c*c;if(u.force.x!==0||u.force.y!==0){h.set(u,!1);continue}var x=Math.min(u.motion,v),y=Math.max(u.motion,v);u.motion=h._minBias*x+(1-h._minBias)*y,u.sleepThreshold>0&&u.motion<l?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/n&&h.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},h.afterCollisions=function(r){for(var i=h._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var s=l.collision,u=s.bodyA.parent,d=s.bodyB.parent;if(!(u.isSleeping&&d.isSleeping||u.isStatic||d.isStatic)&&(u.isSleeping||d.isSleeping)){var c=u.isSleeping&&!u.isStatic?u:d,v=c===u?d:u;!c.isStatic&&v.motion>i&&h.set(c,!1)}}}},h.set=function(r,i){var n=r.isSleeping;i?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||o.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&o.trigger(r,"sleepEnd"))}})()},66280:(f,S,t)=>{var h={};f.exports=h;var g=t(41598),o=t(53402),a=t(22562),r=t(15647),i=t(31725);(function(){h.rectangle=function(n,l,s,u,d){d=d||{};var c={label:"Rectangle Body",position:{x:n,y:l},vertices:g.fromPath("L 0 0 L "+s+" 0 L "+s+" "+u+" L 0 "+u)};if(d.chamfer){var v=d.chamfer;c.vertices=g.chamfer(c.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete d.chamfer}return a.create(o.extend({},c,d))},h.trapezoid=function(n,l,s,u,d,c){c=c||{},d>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),d*=.5;var v=(1-d*2)*s,x=s*d,y=x+v,T=y+x,E;d<.5?E="L 0 0 L "+x+" "+-u+" L "+y+" "+-u+" L "+T+" 0":E="L 0 0 L "+y+" "+-u+" L "+T+" 0";var A={label:"Trapezoid Body",position:{x:n,y:l},vertices:g.fromPath(E)};if(c.chamfer){var P=c.chamfer;A.vertices=g.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete c.chamfer}return a.create(o.extend({},A,c))},h.circle=function(n,l,s,u,d){u=u||{};var c={label:"Circle Body",circleRadius:s};d=d||25;var v=Math.ceil(Math.max(10,Math.min(d,s)));return v%2===1&&(v+=1),h.polygon(n,l,v,s,o.extend({},c,u))},h.polygon=function(n,l,s,u,d){if(d=d||{},s<3)return h.circle(n,l,u,d);for(var c=2*Math.PI/s,v="",x=c*.5,y=0;y<s;y+=1){var T=x+y*c,E=Math.cos(T)*u,A=Math.sin(T)*u;v+="L "+E.toFixed(3)+" "+A.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:n,y:l},vertices:g.fromPath(v)};if(d.chamfer){var w=d.chamfer;P.vertices=g.chamfer(P.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete d.chamfer}return a.create(o.extend({},P,d))},h.fromVertices=function(n,l,s,u,d,c,v,x){var y=o.getDecomp(),T,E,A,P,w,I,O,F,L,D,b;for(T=!!(y&&y.quickDecomp),u=u||{},A=[],d=typeof d<"u"?d:!1,c=typeof c<"u"?c:.01,v=typeof v<"u"?v:10,x=typeof x<"u"?x:.01,o.isArray(s[0])||(s=[s]),D=0;D<s.length;D+=1)if(I=s[D],P=g.isConvex(I),w=!P,w&&!T&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),P||!T)P?I=g.clockwiseSort(I):I=g.hull(I),A.push({position:{x:n,y:l},vertices:I});else{var U=I.map(function(k){return[k.x,k.y]});y.makeCCW(U),c!==!1&&y.removeCollinearPoints(U,c),x!==!1&&y.removeDuplicatePoints&&y.removeDuplicatePoints(U,x);var W=y.quickDecomp(U);for(O=0;O<W.length;O++){var H=W[O],Y=H.map(function(k){return{x:k[0],y:k[1]}});v>0&&g.area(Y)<v||A.push({position:g.centre(Y),vertices:Y})}}for(O=0;O<A.length;O++)A[O]=a.create(o.extend(A[O],u));if(d){var G=5;for(O=0;O<A.length;O++){var X=A[O];for(F=O+1;F<A.length;F++){var V=A[F];if(r.overlaps(X.bounds,V.bounds)){var B=X.vertices,z=V.vertices;for(L=0;L<X.vertices.length;L++)for(b=0;b<V.vertices.length;b++){var $=i.magnitudeSquared(i.sub(B[(L+1)%B.length],z[b])),j=i.magnitudeSquared(i.sub(B[L],z[(b+1)%z.length]));$<G&&j<G&&(B[L].isInternal=!0,z[b].isInternal=!0)}}}}}return A.length>1?(E=a.create(o.extend({parts:A.slice(0)},u)),a.setPosition(E,{x:n,y:l}),E):A[0]},h.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var s=0;s<n.length;s++)for(var u=n[s],d=s+1;d<n.length;d++){var c=n[d];if(r.overlaps(u.bounds,c.bounds))for(var v=u.vertices,x=c.vertices,y=0;y<u.vertices.length;y++)for(var T=0;T<c.vertices.length;T++){var E=i.magnitudeSquared(i.sub(v[(y+1)%v.length],x[T])),A=i.magnitudeSquared(i.sub(v[y],x[(T+1)%x.length]));E<l&&A<l&&(v[y].isInternal=!0,x[T].isInternal=!0)}}return n}})()},74116:(f,S,t)=>{var h={};f.exports=h;var g=t(69351),o=t(48140),a=t(53402),r=t(22562),i=t(66280);(function(){h.stack=function(n,l,s,u,d,c,v){for(var x=g.create({label:"Stack"}),y=n,T=l,E,A=0,P=0;P<u;P++){for(var w=0,I=0;I<s;I++){var O=v(y,T,I,P,E,A);if(O){var F=O.bounds.max.y-O.bounds.min.y,L=O.bounds.max.x-O.bounds.min.x;F>w&&(w=F),r.translate(O,{x:L*.5,y:F*.5}),y=O.bounds.max.x+d,g.addBody(x,O),E=O,A+=1}else y+=d}T+=w+c,y=n}return x},h.chain=function(n,l,s,u,d,c){for(var v=n.bodies,x=1;x<v.length;x++){var y=v[x-1],T=v[x],E=y.bounds.max.y-y.bounds.min.y,A=y.bounds.max.x-y.bounds.min.x,P=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,I={bodyA:y,pointA:{x:A*l,y:E*s},bodyB:T,pointB:{x:w*u,y:P*d}},O=a.extend(I,c);g.addConstraint(n,o.create(O))}return n.label+=" Chain",n},h.mesh=function(n,l,s,u,d){var c=n.bodies,v,x,y,T,E;for(v=0;v<s;v++){for(x=1;x<l;x++)y=c[x-1+v*l],T=c[x+v*l],g.addConstraint(n,o.create(a.extend({bodyA:y,bodyB:T},d)));if(v>0)for(x=0;x<l;x++)y=c[x+(v-1)*l],T=c[x+v*l],g.addConstraint(n,o.create(a.extend({bodyA:y,bodyB:T},d))),u&&x>0&&(E=c[x-1+(v-1)*l],g.addConstraint(n,o.create(a.extend({bodyA:E,bodyB:T},d)))),u&&x<l-1&&(E=c[x+1+(v-1)*l],g.addConstraint(n,o.create(a.extend({bodyA:E,bodyB:T},d))))}return n.label+=" Mesh",n},h.pyramid=function(n,l,s,u,d,c,v){return h.stack(n,l,s,u,d,c,function(x,y,T,E,A,P){var w=Math.min(u,Math.ceil(s/2)),I=A?A.bounds.max.x-A.bounds.min.x:0;if(!(E>w)){E=w-E;var O=E,F=s-1-E;if(!(T<O||T>F)){P===1&&r.translate(A,{x:(T+(s%2===1?1:-1))*I,y:0});var L=A?T*I:0;return v(n+L+T*d,y,T,E,A,P)}}})},h.newtonsCradle=function(n,l,s,u,d){for(var c=g.create({label:"Newtons Cradle"}),v=0;v<s;v++){var x=1.9,y=i.circle(n+v*(u*x),l+d,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=o.create({pointA:{x:n+v*(u*x),y:l},bodyB:y});g.addBody(c,y),g.addConstraint(c,T)}return c},h.car=function(n,l,s,u,d){var c=r.nextGroup(!0),v=20,x=-s*.5+v,y=s*.5-v,T=0,E=g.create({label:"Car"}),A=i.rectangle(n,l,s,u,{collisionFilter:{group:c},chamfer:{radius:u*.5},density:2e-4}),P=i.circle(n+x,l+T,d,{collisionFilter:{group:c},friction:.8}),w=i.circle(n+y,l+T,d,{collisionFilter:{group:c},friction:.8}),I=o.create({bodyB:A,pointB:{x,y:T},bodyA:P,stiffness:1,length:0}),O=o.create({bodyB:A,pointB:{x:y,y:T},bodyA:w,stiffness:1,length:0});return g.addBody(E,A),g.addBody(E,P),g.addBody(E,w),g.addConstraint(E,I),g.addConstraint(E,O),E},h.softBody=function(n,l,s,u,d,c,v,x,y,T){y=a.extend({inertia:1/0},y),T=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var E=h.stack(n,l,s,u,d,c,function(A,P){return i.circle(A,P,x,y)});return h.mesh(E,s,u,v,T),E.label="Soft Body",E}})()},66615:(f,S,t)=>{var h={};f.exports=h;var g=t(31725),o=t(53402);(function(){h.fromVertices=function(a){for(var r={},i=0;i<a.length;i++){var n=(i+1)%a.length,l=g.normalise({x:a[n].y-a[i].y,y:a[i].x-a[n].x}),s=l.y===0?1/0:l.x/l.y;s=s.toFixed(3).toString(),r[s]=l}return o.values(r)},h.rotate=function(a,r){if(r!==0)for(var i=Math.cos(r),n=Math.sin(r),l=0;l<a.length;l++){var s=a[l],u;u=s.x*i-s.y*n,s.y=s.x*n+s.y*i,s.x=u}}})()},15647:f=>{var S={};f.exports=S,function(){S.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(h,t),h},S.update=function(t,h,g){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<h.length;o++){var a=h[o];a.x>t.max.x&&(t.max.x=a.x),a.x<t.min.x&&(t.min.x=a.x),a.y>t.max.y&&(t.max.y=a.y),a.y<t.min.y&&(t.min.y=a.y)}g&&(g.x>0?t.max.x+=g.x:t.min.x+=g.x,g.y>0?t.max.y+=g.y:t.min.y+=g.y)},S.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},S.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},S.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},S.shift=function(t,h){var g=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+g,t.min.y=h.y,t.max.y=h.y+o},S.wrap=function(t,h,g){var o=null,a=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(t.min.x>h.max.x?o=h.min.x-t.max.x:t.max.x<h.min.x&&(o=h.max.x-t.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(t.min.y>h.max.y?a=h.min.y-t.max.y:t.max.y<h.min.y&&(a=h.max.y-t.min.y)),o!==null||a!==null)return{x:o||0,y:a||0}}}()},74058:(f,S,t)=>{var h={};f.exports=h,t(15647);var g=t(53402);(function(){h.pathToVertices=function(o,a){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,i,n,l,s,u,d,c,v,x,y=[],T,E,A=0,P=0,w=0;a=a||15;var I=function(F,L,D){var b=D%2===1&&D>1;if(!v||F!=v.x||L!=v.y){v&&b?(T=v.x,E=v.y):(T=0,E=0);var U={x:T+F,y:E+L};(b||!v)&&(v=U),y.push(U),P=T+F,w=E+L}},O=function(F){var L=F.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":P=F.x,w=F.y;break;case"H":P=F.x;break;case"V":w=F.y;break}I(P,w,F.pathSegType)}};for(h._svgPathToAbsolute(o),n=o.getTotalLength(),u=[],r=0;r<o.pathSegList.numberOfItems;r+=1)u.push(o.pathSegList.getItem(r));for(d=u.concat();A<n;){if(x=o.getPathSegAtLength(A),s=u[x],s!=c){for(;d.length&&d[0]!=s;)O(d.shift());c=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(A),I(l.x,l.y,0);break}A+=a}for(r=0,i=d.length;r<i;++r)O(d[r]);return y},h._svgPathToAbsolute=function(o){for(var a,r,i,n,l,s,u=o.pathSegList,d=0,c=0,v=u.numberOfItems,x=0;x<v;++x){var y=u.getItem(x),T=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in y&&(d=y.x),"y"in y&&(c=y.y);else switch("x1"in y&&(i=d+y.x1),"x2"in y&&(l=d+y.x2),"y1"in y&&(n=c+y.y1),"y2"in y&&(s=c+y.y2),"x"in y&&(d+=y.x),"y"in y&&(c+=y.y),T){case"m":u.replaceItem(o.createSVGPathSegMovetoAbs(d,c),x);break;case"l":u.replaceItem(o.createSVGPathSegLinetoAbs(d,c),x);break;case"h":u.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(d),x);break;case"v":u.replaceItem(o.createSVGPathSegLinetoVerticalAbs(c),x);break;case"c":u.replaceItem(o.createSVGPathSegCurvetoCubicAbs(d,c,i,n,l,s),x);break;case"s":u.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(d,c,l,s),x);break;case"q":u.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(d,c,i,n),x);break;case"t":u.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(d,c),x);break;case"a":u.replaceItem(o.createSVGPathSegArcAbs(d,c,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),x);break;case"z":case"Z":d=a,c=r;break}(T=="M"||T=="m")&&(a=d,r=c)}}})()},31725:f=>{var S={};f.exports=S,function(){S.create=function(t,h){return{x:t||0,y:h||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,h,g){var o=Math.cos(h),a=Math.sin(h);g||(g={});var r=t.x*o-t.y*a;return g.y=t.x*a+t.y*o,g.x=r,g},S.rotateAbout=function(t,h,g,o){var a=Math.cos(h),r=Math.sin(h);o||(o={});var i=g.x+((t.x-g.x)*a-(t.y-g.y)*r);return o.y=g.y+((t.x-g.x)*r+(t.y-g.y)*a),o.x=i,o},S.normalise=function(t){var h=S.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},S.dot=function(t,h){return t.x*h.x+t.y*h.y},S.cross=function(t,h){return t.x*h.y-t.y*h.x},S.cross3=function(t,h,g){return(h.x-t.x)*(g.y-t.y)-(h.y-t.y)*(g.x-t.x)},S.add=function(t,h,g){return g||(g={}),g.x=t.x+h.x,g.y=t.y+h.y,g},S.sub=function(t,h,g){return g||(g={}),g.x=t.x-h.x,g.y=t.y-h.y,g},S.mult=function(t,h){return{x:t.x*h,y:t.y*h}},S.div=function(t,h){return{x:t.x/h,y:t.y/h}},S.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},41598:(f,S,t)=>{var h={};f.exports=h;var g=t(31725),o=t(53402);(function(){h.create=function(a,r){for(var i=[],n=0;n<a.length;n++){var l=a[n],s={x:l.x,y:l.y,index:n,body:r,isInternal:!1};i.push(s)}return i},h.fromPath=function(a,r){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return a.replace(i,function(l,s,u){n.push({x:parseFloat(s),y:parseFloat(u)})}),h.create(n,r)},h.centre=function(a){for(var r=h.area(a,!0),i={x:0,y:0},n,l,s,u=0;u<a.length;u++)s=(u+1)%a.length,n=g.cross(a[u],a[s]),l=g.mult(g.add(a[u],a[s]),n),i=g.add(i,l);return g.div(i,6*r)},h.mean=function(a){for(var r={x:0,y:0},i=0;i<a.length;i++)r.x+=a[i].x,r.y+=a[i].y;return g.div(r,a.length)},h.area=function(a,r){for(var i=0,n=a.length-1,l=0;l<a.length;l++)i+=(a[n].x-a[l].x)*(a[n].y+a[l].y),n=l;return r?i/2:Math.abs(i)/2},h.inertia=function(a,r){for(var i=0,n=0,l=a,s,u,d=0;d<l.length;d++)u=(d+1)%l.length,s=Math.abs(g.cross(l[u],l[d])),i+=s*(g.dot(l[u],l[u])+g.dot(l[u],l[d])+g.dot(l[d],l[d])),n+=s;return r/6*(i/n)},h.translate=function(a,r,i){i=typeof i<"u"?i:1;var n=a.length,l=r.x*i,s=r.y*i,u;for(u=0;u<n;u++)a[u].x+=l,a[u].y+=s;return a},h.rotate=function(a,r,i){if(r!==0){var n=Math.cos(r),l=Math.sin(r),s=i.x,u=i.y,d=a.length,c,v,x,y;for(y=0;y<d;y++)c=a[y],v=c.x-s,x=c.y-u,c.x=s+(v*n-x*l),c.y=u+(v*l+x*n);return a}},h.contains=function(a,r){for(var i=r.x,n=r.y,l=a.length,s=a[l-1],u,d=0;d<l;d++){if(u=a[d],(i-s.x)*(u.y-s.y)+(n-s.y)*(s.x-u.x)>0)return!1;s=u}return!0},h.scale=function(a,r,i,n){if(r===1&&i===1)return a;n=n||h.centre(a);for(var l,s,u=0;u<a.length;u++)l=a[u],s=g.sub(l,n),a[u].x=n.x+s.x*r,a[u].y=n.y+s.y*i;return a},h.chamfer=function(a,r,i,n,l){typeof r=="number"?r=[r]:r=r||[8],i=typeof i<"u"?i:-1,n=n||2,l=l||14;for(var s=[],u=0;u<a.length;u++){var d=a[u-1>=0?u-1:a.length-1],c=a[u],v=a[(u+1)%a.length],x=r[u<r.length?u:r.length-1];if(x===0){s.push(c);continue}var y=g.normalise({x:c.y-d.y,y:d.x-c.x}),T=g.normalise({x:v.y-c.y,y:c.x-v.x}),E=Math.sqrt(2*Math.pow(x,2)),A=g.mult(o.clone(y),x),P=g.normalise(g.mult(g.add(y,T),.5)),w=g.sub(c,g.mult(P,E)),I=i;i===-1&&(I=Math.pow(x,.32)*1.75),I=o.clamp(I,n,l),I%2===1&&(I+=1);for(var O=Math.acos(g.dot(y,T)),F=O/I,L=0;L<I;L++)s.push(g.add(g.rotate(A,F*L),w))}return s},h.clockwiseSort=function(a){var r=h.mean(a);return a.sort(function(i,n){return g.angle(r,i)-g.angle(r,n)}),a},h.isConvex=function(a){var r=0,i=a.length,n,l,s,u;if(i<3)return null;for(n=0;n<i;n++)if(l=(n+1)%i,s=(n+2)%i,u=(a[l].x-a[n].x)*(a[s].y-a[l].y),u-=(a[l].y-a[n].y)*(a[s].x-a[l].x),u<0?r|=1:u>0&&(r|=2),r===3)return!1;return r!==0?!0:null},h.hull=function(a){var r=[],i=[],n,l;for(a=a.slice(0),a.sort(function(s,u){var d=s.x-u.x;return d!==0?d:s.y-u.y}),l=0;l<a.length;l+=1){for(n=a[l];i.length>=2&&g.cross3(i[i.length-2],i[i.length-1],n)<=0;)i.pop();i.push(n)}for(l=a.length-1;l>=0;l-=1){for(n=a[l];r.length>=2&&g.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),i.pop(),r.concat(i)}})()},55973:f=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={decomp:O,quickDecomp:b,isSimple:L,removeCollinearPoints:U,removeDuplicatePoints:W,makeCCW:v};function S(G,X,V){V=V||0;var B=[0,0],z,$,j,k,q,Q,Z;return z=G[1][1]-G[0][1],$=G[0][0]-G[1][0],j=z*G[0][0]+$*G[0][1],k=X[1][1]-X[0][1],q=X[0][0]-X[1][0],Q=k*X[0][0]+q*X[0][1],Z=z*q-k*$,H(Z,0,V)||(B[0]=(q*j-$*Q)/Z,B[1]=(z*Q-k*j)/Z),B}function t(G,X,V,B){var z=X[0]-G[0],$=X[1]-G[1],j=B[0]-V[0],k=B[1]-V[1];if(j*$-k*z===0)return!1;var q=(z*(V[1]-G[1])+$*(G[0]-V[0]))/(j*$-k*z),Q=(j*(G[1]-V[1])+k*(V[0]-G[0]))/(k*z-j*$);return q>=0&&q<=1&&Q>=0&&Q<=1}function h(G,X,V){return(X[0]-G[0])*(V[1]-G[1])-(V[0]-G[0])*(X[1]-G[1])}function g(G,X,V){return h(G,X,V)>0}function o(G,X,V){return h(G,X,V)>=0}function a(G,X,V){return h(G,X,V)<0}function r(G,X,V){return h(G,X,V)<=0}var i=[],n=[];function l(G,X,V,B){if(B){var z=i,$=n;z[0]=X[0]-G[0],z[1]=X[1]-G[1],$[0]=V[0]-X[0],$[1]=V[1]-X[1];var j=z[0]*$[0]+z[1]*$[1],k=Math.sqrt(z[0]*z[0]+z[1]*z[1]),q=Math.sqrt($[0]*$[0]+$[1]*$[1]),Q=Math.acos(j/(k*q));return Q<B}else return h(G,X,V)===0}function s(G,X){var V=X[0]-G[0],B=X[1]-G[1];return V*V+B*B}function u(G,X){var V=G.length;return G[X<0?X%V+V:X%V]}function d(G){G.length=0}function c(G,X,V,B){for(var z=V;z<B;z++)G.push(X[z])}function v(G){for(var X=0,V=G,B=1;B<G.length;++B)(V[B][1]<V[X][1]||V[B][1]===V[X][1]&&V[B][0]>V[X][0])&&(X=B);return g(u(G,X-1),u(G,X),u(G,X+1))?!1:(x(G),!0)}function x(G){for(var X=[],V=G.length,B=0;B!==V;B++)X.push(G.pop());for(var B=0;B!==V;B++)G[B]=X[B]}function y(G,X){return a(u(G,X-1),u(G,X),u(G,X+1))}var T=[],E=[];function A(G,X,V){var B,z,$=T,j=E;if(o(u(G,X+1),u(G,X),u(G,V))&&r(u(G,X-1),u(G,X),u(G,V)))return!1;z=s(u(G,X),u(G,V));for(var k=0;k!==G.length;++k)if(!((k+1)%G.length===X||k===X)&&o(u(G,X),u(G,V),u(G,k+1))&&r(u(G,X),u(G,V),u(G,k))&&($[0]=u(G,X),$[1]=u(G,V),j[0]=u(G,k),j[1]=u(G,k+1),B=S($,j),s(u(G,X),B)<z))return!1;return!0}function P(G,X,V){for(var B=0;B!==G.length;++B)if(!(B===X||B===V||(B+1)%G.length===X||(B+1)%G.length===V)&&t(u(G,X),u(G,V),u(G,B),u(G,B+1)))return!1;return!0}function w(G,X,V,B){var z=B||[];if(d(z),X<V)for(var $=X;$<=V;$++)z.push(G[$]);else{for(var $=0;$<=V;$++)z.push(G[$]);for(var $=X;$<G.length;$++)z.push(G[$])}return z}function I(G){for(var X=[],V=[],B=[],z=[],$=Number.MAX_VALUE,j=0;j<G.length;++j)if(y(G,j)){for(var k=0;k<G.length;++k)if(A(G,j,k)){V=I(w(G,j,k,z)),B=I(w(G,k,j,z));for(var q=0;q<B.length;q++)V.push(B[q]);V.length<$&&(X=V,$=V.length,X.push([u(G,j),u(G,k)]))}}return X}function O(G){var X=I(G);return X.length>0?F(G,X):[G]}function F(G,X){if(X.length===0)return[G];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var V=[G],B=0;B<X.length;B++)for(var z=X[B],$=0;$<V.length;$++){var j=V[$],k=F(j,z);if(k){V.splice($,1),V.push(k[0],k[1]);break}}return V}else{var z=X,B=G.indexOf(z[0]),$=G.indexOf(z[1]);return B!==-1&&$!==-1?[w(G,B,$),w(G,$,B)]:!1}}function L(G){var X=G,V;for(V=0;V<X.length-1;V++)for(var B=0;B<V-1;B++)if(t(X[V],X[V+1],X[B],X[B+1]))return!1;for(V=1;V<X.length-2;V++)if(t(X[0],X[X.length-1],X[V],X[V+1]))return!1;return!0}function D(G,X,V,B,z){z=z||0;var $=X[1]-G[1],j=G[0]-X[0],k=$*G[0]+j*G[1],q=B[1]-V[1],Q=V[0]-B[0],Z=q*V[0]+Q*V[1],_=$*Q-q*j;return H(_,0,z)?[0,0]:[(Q*k-j*Z)/_,($*Z-q*k)/_]}function b(G,X,V,B,z,$,j){$=$||100,j=j||0,z=z||25,X=typeof X<"u"?X:[],V=V||[],B=B||[];var k=[0,0],q=[0,0],Q=[0,0],Z=0,_=0,et=0,it=0,st=0,nt=0,lt=0,ut=[],ot=[],rt=G,ht=G;if(ht.length<3)return X;if(j++,j>$)return console.warn("quickDecomp: max level ("+$+") reached."),X;for(var dt=0;dt<G.length;++dt)if(y(rt,dt)){V.push(rt[dt]),Z=_=Number.MAX_VALUE;for(var xt=0;xt<G.length;++xt)g(u(rt,dt-1),u(rt,dt),u(rt,xt))&&r(u(rt,dt-1),u(rt,dt),u(rt,xt-1))&&(Q=D(u(rt,dt-1),u(rt,dt),u(rt,xt),u(rt,xt-1)),a(u(rt,dt+1),u(rt,dt),Q)&&(et=s(rt[dt],Q),et<_&&(_=et,q=Q,nt=xt))),g(u(rt,dt+1),u(rt,dt),u(rt,xt+1))&&r(u(rt,dt+1),u(rt,dt),u(rt,xt))&&(Q=D(u(rt,dt+1),u(rt,dt),u(rt,xt),u(rt,xt+1)),g(u(rt,dt-1),u(rt,dt),Q)&&(et=s(rt[dt],Q),et<Z&&(Z=et,k=Q,st=xt)));if(nt===(st+1)%G.length)Q[0]=(q[0]+k[0])/2,Q[1]=(q[1]+k[1])/2,B.push(Q),dt<st?(c(ut,rt,dt,st+1),ut.push(Q),ot.push(Q),nt!==0&&c(ot,rt,nt,rt.length),c(ot,rt,0,dt+1)):(dt!==0&&c(ut,rt,dt,rt.length),c(ut,rt,0,st+1),ut.push(Q),ot.push(Q),c(ot,rt,nt,dt+1));else{if(nt>st&&(st+=G.length),it=Number.MAX_VALUE,st<nt)return X;for(var xt=nt;xt<=st;++xt)o(u(rt,dt-1),u(rt,dt),u(rt,xt))&&r(u(rt,dt+1),u(rt,dt),u(rt,xt))&&(et=s(u(rt,dt),u(rt,xt)),et<it&&P(rt,dt,xt)&&(it=et,lt=xt%G.length));dt<lt?(c(ut,rt,dt,lt+1),lt!==0&&c(ot,rt,lt,ht.length),c(ot,rt,0,dt+1)):(dt!==0&&c(ut,rt,dt,ht.length),c(ut,rt,0,lt+1),c(ot,rt,lt,dt+1))}return ut.length<ot.length?(b(ut,X,V,B,z,$,j),b(ot,X,V,B,z,$,j)):(b(ot,X,V,B,z,$,j),b(ut,X,V,B,z,$,j)),X}return X.push(G),X}function U(G,X){for(var V=0,B=G.length-1;G.length>3&&B>=0;--B)l(u(G,B-1),u(G,B),u(G,B+1),X)&&(G.splice(B%G.length,1),V++);return V}function W(G,X){for(var V=G.length-1;V>=1;--V)for(var B=G[V],z=V-1;z>=0;--z)if(Y(B,G[z],X)){G.splice(V,1);continue}}function H(G,X,V){return V=V||0,Math.abs(G-X)<=V}function Y(G,X,V){return H(G[0],X[0],V)&&H(G[1],X[1],V)}},52018:(f,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(83419),g=new h({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});f.exports=g},42363:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};f.exports=S},37277:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},h={};h.register=function(g,o,a,r){r===void 0&&(r=!1),S[g]={plugin:o,mapping:a,custom:r}},h.registerCustom=function(g,o,a,r){t[g]={plugin:o,mapping:a,data:r}},h.hasCore=function(g){return S.hasOwnProperty(g)},h.hasCustom=function(g){return t.hasOwnProperty(g)},h.getCore=function(g){return S[g]},h.getCustom=function(g){return t[g]},h.getCustomClass=function(g){return t.hasOwnProperty(g)?t[g].plugin:null},h.remove=function(g){S.hasOwnProperty(g)&&delete S[g]},h.removeCustom=function(g){t.hasOwnProperty(g)&&delete t[g]},h.destroyCorePlugins=function(){for(var g in S)S.hasOwnProperty(g)&&delete S[g]},h.destroyCustomPlugins=function(){for(var g in t)t.hasOwnProperty(g)&&delete t[g]},f.exports=h},77332:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(8443),o=t(50792),a=t(74099),r=t(44603),i=t(39429),n=t(95540),l=t(37277),s=t(72905),u=t(8054),d=new h({Extends:o,initialize:function(v){o.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted||v.config.renderType===u.HEADLESS?this.boot():v.events.once(g.BOOT,this.boot,this)},boot:function(){var c,v,x,y,T,E,A,P=this.game.config,w=P.installGlobalPlugins;for(w=w.concat(this._pendingGlobal),c=0;c<w.length;c++)v=w[c],x=n(v,"key",null),y=n(v,"plugin",null),T=n(v,"start",!1),E=n(v,"mapping",null),A=n(v,"data",null),x&&(y?this.install(x,y,T,E,A):console.warn("Missing `plugin` for key: "+x));for(w=P.installScenePlugins,w=w.concat(this._pendingScene),c=0;c<w.length;c++)v=w[c],x=n(v,"key",null),y=n(v,"plugin",null),E=n(v,"mapping",null),x&&(y?this.installScenePlugin(x,y,E):console.warn("Missing `plugin` for key: "+x));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(g.DESTROY,this.destroy,this)},addToScene:function(c,v,x){var y,T,E,A=this.game,P=c.scene,w=c.settings.map,I=c.settings.isBooted;for(y=0;y<v.length;y++)T=v[y],A[T]?(c[T]=A[T],w.hasOwnProperty(T)&&(P[w[T]]=c[T])):T==="game"&&w.hasOwnProperty(T)&&(P[w[T]]=A);for(var O=0;O<x.length;O++)for(E=x[O],y=0;y<E.length;y++)if(T=E[y],!!l.hasCore(T)){var F=l.getCore(T),L=F.mapping,D=new F.plugin(P,this,L);c[L]=D,F.custom?P[L]=D:w.hasOwnProperty(L)&&(P[w[L]]=D),I&&D.boot()}for(E=this.plugins,y=0;y<E.length;y++){var b=E[y];b.mapping&&(P[b.mapping]=b.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,v,x,y,T){if(T===void 0&&(T=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(l.hasCore(c)||l.register(c,v,x,!0),this.scenePlugins.indexOf(c)===-1)this.scenePlugins.push(c);else if(!T&&l.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(y){var E=new v(y,this,c);y.sys[c]=E,x&&x!==""&&(y[x]=E),E.boot()}},install:function(c,v,x,y,T){if(x===void 0&&(x=!1),y===void 0&&(y=null),T===void 0&&(T=null),typeof v!="function")return console.warn("Invalid Plugin: "+c),null;if(l.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(y!==null&&(x=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:v,start:x,mapping:y,data:T});else if(l.registerCustom(c,v,y,T),x)return this.start(c);return null},getIndex:function(c){for(var v=this.plugins,x=0;x<v.length;x++){var y=v[x];if(y.key===c)return x}return-1},getEntry:function(c){var v=this.getIndex(c);if(v!==-1)return this.plugins[v]},isActive:function(c){var v=this.getEntry(c);return v&&v.active},start:function(c,v){v===void 0&&(v=c);var x=this.getEntry(v);return x&&!x.active?(x.active=!0,x.plugin.start()):x||(x=this.createEntry(c,v)),x?x.plugin:null},createEntry:function(c,v){var x=l.getCustom(c);if(x){var y=new x.plugin(this);x={key:v,plugin:y,active:!0,mapping:x.mapping,data:x.data},this.plugins.push(x),y.init(x.data),y.start()}return x},stop:function(c){var v=this.getEntry(c);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(c,v){v===void 0&&(v=!0);var x=this.getEntry(c);if(x)return x.plugin;var y=this.getClass(c);return y&&v?(x=this.createEntry(c,c),x?x.plugin:null):y||null},getClass:function(c){return l.getCustomClass(c)},removeGlobalPlugin:function(c){var v=this.getEntry(c);v&&s(this.plugins,v),l.removeCustom(c)},removeScenePlugin:function(c){s(this.scenePlugins,c),l.remove(c)},registerGameObject:function(c,v,x){return v&&i.register(c,v),x&&r.register(c,x),this},removeGameObject:function(c,v,x){return v===void 0&&(v=!0),x===void 0&&(x=!0),v&&i.remove(c),x&&r.remove(c),this},registerFileType:function(c,v,x){a.register(c,v),x&&x.sys.load&&(x.sys.load[c]=v)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});f.exports=d},45145:(f,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(52018),g=t(83419),o=t(44594),a=new g({Extends:h,initialize:function(i,n,l){h.call(this,n),this.scene=i,this.systems=i.sys,this.pluginKey=l,i.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});f.exports=a},18922:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(f){const S=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,g=(o,a)=>{const r=this.getVideoPlaybackQuality(),i=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(i>h){const n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=a-o;f(a,{presentationTime:a+n*1e3,expectedDisplayTime:a+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:i,processingDuration:n}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(n=>g(a,n))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(o=>g(S,o)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(f){cancelAnimationFrame(this._rvfcpolyfillmap[f]),delete this._rvfcpolyfillmap[f]})},10312:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};f.exports=S},68627:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19715),g=t(32880),o=t(83419),a=t(8054),r=t(50792),i=t(92503),n=t(56373),l=t(97480),s=t(69442),u=t(8443),d=t(61340),c=new o({Extends:r,initialize:function(x){r.call(this);var y=x.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels,transparent:y.transparent},this.game=x,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=x.canvas;var T={alpha:y.transparent,desynchronized:y.desynchronized,willReadFrequently:!1};this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=y.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.isBooted=!1,this.init()},init:function(){var v=this.game;v.events.once(u.BOOT,function(){var x=this.config;if(!x.transparent){var y=this.gameContext,T=this.gameCanvas;y.fillStyle=x.backgroundColor.rgba,y.fillRect(0,0,T.width,T.height)}},this),v.textures.once(s.READY,this.boot,this)},boot:function(){var v=this.game,x=v.scale.baseSize;this.width=x.width,this.height=x.height,this.isBooted=!0,v.scale.on(l.RESIZE,this.onResize,this),this.resize(x.width,x.height)},onResize:function(v,x){(x.width!==this.width||x.height!==this.height)&&this.resize(x.width,x.height)},resize:function(v,x){this.width=v,this.height=x,this.emit(i.RESIZE,v,x)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,x=this.config,y=this.width,T=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),this.emit(i.PRE_RENDER_CLEAR),x.clearBeforeRender&&(v.clearRect(0,0,y,T),x.transparent||(v.fillStyle=x.backgroundColor.rgba,v.fillRect(0,0,y,T))),v.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(v,x,y){var T=x.length;this.emit(i.RENDER,v,y);var E=y.x,A=y.y,P=y.width,w=y.height,I=y.renderToTexture?y.context:v.sys.context;I.save(),this.game.scene.customViewports&&(I.beginPath(),I.rect(E,A,P,w),I.clip()),y.emit(h.PRE_RENDER,y),this.currentContext=I;var O=y.mask;O&&O.preRenderCanvas(this,null,y._maskCamera),y.transparent||(I.fillStyle=y.backgroundColor.rgba,I.fillRect(E,A,P,w)),I.globalAlpha=y.alpha,I.globalCompositeOperation="source-over",this.drawCount+=T,y.renderToTexture&&y.emit(h.PRE_RENDER,y),y.matrix.copyToContext(I);for(var F=0;F<T;F++){var L=x[F];L.mask&&L.mask.preRenderCanvas(this,L,y),L.renderCanvas(this,L,y),L.mask&&L.mask.postRenderCanvas(this,L,y)}I.setTransform(1,0,0,1,0,0),I.globalCompositeOperation="source-over",I.globalAlpha=1,y.flashEffect.postRenderCanvas(I),y.fadeEffect.postRenderCanvas(I),y.dirty=!1,O&&O.postRenderCanvas(this),I.restore(),y.renderToTexture&&(y.emit(h.POST_RENDER,y),y.renderToGame&&v.sys.context.drawImage(y.canvas,E,A)),y.emit(h.POST_RENDER,y)},postRender:function(){var v=this.gameContext;v.restore(),this.emit(i.POST_RENDER);var x=this.snapshotState;x.callback&&(g(this.gameCanvas,x),x.callback=null)},snapshotCanvas:function(v,x,y,T,E,A,P,w,I){y===void 0&&(y=!1),this.snapshotArea(T,E,A,P,x,w,I);var O=this.snapshotState;return O.getPixel=y,g(v,O),O.callback=null,this},snapshot:function(v,x,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,x,y)},snapshotArea:function(v,x,y,T,E,A,P){var w=this.snapshotState;return w.callback=E,w.type=A,w.encoder=P,w.getPixel=!1,w.x=v,w.y=x,w.width=Math.min(y,this.gameCanvas.width),w.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(v,x,y){return this.snapshotArea(v,x,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(v,x,y,T){var E=y.alpha*v.alpha;if(E!==0){var A=this.currentContext,P=this._tempMatrix1,w=this._tempMatrix2,I=x.canvasData,O=I.x,F=I.y,L=x.cutWidth,D=x.cutHeight,b=x.customPivot,U=x.source.resolution,W=v.displayOriginX,H=v.displayOriginY,Y=-W+x.x,G=-H+x.y;if(v.isCropped){var X=v._crop;(X.flipX!==v.flipX||X.flipY!==v.flipY)&&x.updateCropUVs(X,v.flipX,v.flipY),L=X.cw,D=X.ch,O=X.cx,F=X.cy,Y=-W+X.x,G=-H+X.y,v.flipX&&(Y>=0?Y=-(Y+L):Y<0&&(Y=Math.abs(Y)-L)),v.flipY&&(G>=0?G=-(G+D):G<0&&(G=Math.abs(G)-D))}var V=1,B=1;v.flipX&&(b||(Y+=-x.realWidth+W*2),V=-1),v.flipY&&(b||(G+=-x.realHeight+H*2),B=-1);var z=v.x,$=v.y;if(y.roundPixels&&(z=Math.floor(z),$=Math.floor($)),w.applyITRS(z,$,v.rotation,v.scaleX*V,v.scaleY*B),P.copyFrom(y.matrix),T?(P.multiplyWithOffset(T,-y.scrollX*v.scrollFactorX,-y.scrollY*v.scrollFactorY),w.e=z,w.f=$):(w.e-=y.scrollX*v.scrollFactorX,w.f-=y.scrollY*v.scrollFactorY),P.multiply(w),y.renderRoundPixels&&(P.e=Math.floor(P.e+.5),P.f=Math.floor(P.f+.5)),A.save(),P.setToContext(A),A.globalCompositeOperation=this.blendModes[v.blendMode],A.globalAlpha=E,A.imageSmoothingEnabled=!x.source.scaleMode,v.mask&&v.mask.preRenderCanvas(this,v,y),L>0&&D>0){var j=L/U,k=D/U;y.roundPixels&&(Y=Math.floor(Y+.5),G=Math.floor(G+.5),j+=.5,k+=.5),A.drawImage(x.source.image,O,F,L,D,Y,G,j,k)}v.mask&&v.mask.postRenderCanvas(this,v,y),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});f.exports=c},55830:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(89289),o=function(){var a=[],r=g.supportNewBlendModes,i="source-over";return a[h.NORMAL]=i,a[h.ADD]="lighter",a[h.MULTIPLY]=r?"multiply":i,a[h.SCREEN]=r?"screen":i,a[h.OVERLAY]=r?"overlay":i,a[h.DARKEN]=r?"darken":i,a[h.LIGHTEN]=r?"lighten":i,a[h.COLOR_DODGE]=r?"color-dodge":i,a[h.COLOR_BURN]=r?"color-burn":i,a[h.HARD_LIGHT]=r?"hard-light":i,a[h.SOFT_LIGHT]=r?"soft-light":i,a[h.DIFFERENCE]=r?"difference":i,a[h.EXCLUSION]=r?"exclusion":i,a[h.HUE]=r?"hue":i,a[h.SATURATION]=r?"saturation":i,a[h.COLOR]=r?"color":i,a[h.LUMINOSITY]=r?"luminosity":i,a[h.ERASE]="destination-out",a[h.SOURCE_IN]="source-in",a[h.SOURCE_OUT]="source-out",a[h.SOURCE_ATOP]="source-atop",a[h.DESTINATION_OVER]="destination-over",a[h.DESTINATION_IN]="destination-in",a[h.DESTINATION_OUT]="destination-out",a[h.DESTINATION_ATOP]="destination-atop",a[h.LIGHTER]="lighter",a[h.COPY]="copy",a[h.XOR]="xor",a};f.exports=o},20926:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),g=function(o,a,r,i,n){var l=i.alpha*r.alpha;if(l<=0)return!1;var s=h(r,i,n).calc;return a.globalCompositeOperation=o.blendModes[r.blendMode],a.globalAlpha=l,a.save(),s.setToContext(a),a.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:o.antialias,!0};f.exports=g},63899:f=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="losewebgl"},6119:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postrender"},48070:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prerender"},15640:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="render"},8912:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resize"},87124:f=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="restorewebgl"},92503:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Events:t(92503),Snapshot:t(89966)},f.exports.Canvas=t(55830),f.exports.WebGL=t(4159)},32880:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(40987),o=t(95540),a=function(r,i){var n=o(i,"callback"),l=o(i,"type","image/png"),s=o(i,"encoder",.92),u=Math.abs(Math.round(o(i,"x",0))),d=Math.abs(Math.round(o(i,"y",0))),c=Math.floor(o(i,"width",r.width)),v=Math.floor(o(i,"height",r.height)),x=o(i,"getPixel",!1);if(x){var y=r.getContext("2d",{willReadFrequently:!1}),T=y.getImageData(u,d,1,1),E=T.data;n.call(null,new g(E[0],E[1],E[2],E[3]))}else if(u!==0||d!==0||c!==r.width||v!==r.height){var A=h.createWebGL(this,c,v),P=A.getContext("2d",{willReadFrequently:!0});c>0&&v>0&&P.drawImage(r,u,d,c,v,0,0,c,v);var w=new Image;w.onerror=function(){n.call(null),h.remove(A)},w.onload=function(){n.call(null,w),h.remove(A)},w.src=A.toDataURL(l,s)}else{var I=new Image;I.onerror=function(){n.call(null)},I.onload=function(){n.call(null,I)},I.src=r.toDataURL(l,s)}};f.exports=a},88815:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(40987),o=t(95540),a=function(r,i){var n=r,l=o(i,"callback"),s=o(i,"type","image/png"),u=o(i,"encoder",.92),d=Math.abs(Math.round(o(i,"x",0))),c=Math.abs(Math.round(o(i,"y",0))),v=o(i,"getPixel",!1),x=o(i,"isFramebuffer",!1),y=x?o(i,"bufferWidth",1):n.drawingBufferWidth,T=x?o(i,"bufferHeight",1):n.drawingBufferHeight;if(v){var E=new Uint8Array(4),A=x?c:T-c;n.readPixels(d,A,1,1,n.RGBA,n.UNSIGNED_BYTE,E),l.call(null,new g(E[0],E[1],E[2],E[3]))}else{var P=Math.floor(o(i,"width",y)),w=Math.floor(o(i,"height",T)),I=P*w*4,O=new Uint8Array(I);n.readPixels(d,T-c-w,P,w,n.RGBA,n.UNSIGNED_BYTE,O);for(var F=h.createWebGL(this,P,w),L=F.getContext("2d",{willReadFrequently:!0}),D=L.getImageData(0,0,P,w),b=D.data,U=0;U<w;U++)for(var W=0;W<P;W++){var H=((w-U-1)*P+W)*4,Y=x?I-(U*P+(P-W))*4:(U*P+W)*4;b[Y+0]=O[H+0],b[Y+1]=O[H+1],b[Y+2]=O[H+2],b[Y+3]=O[H+3]}L.putImageData(D,0,0);var G=new Image;G.onerror=function(){l.call(null),h.remove(F)},G.onload=function(){l.call(null,G),h.remove(F)},G.src=F.toDataURL(s,u)}};f.exports=a},89966:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(36060),o=t(90330),a=t(82264),r=t(95540),i=t(32302),n=t(63448),l=t(31302),s=t(58918),u=t(14811),d=t(92651),c=t(96569),v=t(56527),x=t(57516),y=t(43439),T=t(81041),E=t(12385),A=t(7589),P=t(95428),w=t(72905),I=new h({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new o([[g.UTILITY_PIPELINE,A],[g.MULTI_PIPELINE,x],[g.BITMAPMASK_PIPELINE,l],[g.SINGLE_PIPELINE,E],[g.ROPE_PIPELINE,T],[g.LIGHT_PIPELINE,c],[g.POINTLIGHT_PIPELINE,y],[g.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(O,F,L){var D=this.renderer,b=this.renderTargets;this.frameInc=Math.floor(r(O,"frameInc",32));var U=D.width,W=D.height,H=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(u.BARREL),s.Barrel],[String(u.BLOOM),s.Bloom],[String(u.BLUR),s.Blur],[String(u.BOKEH),s.Bokeh],[String(u.CIRCLE),s.Circle],[String(u.COLOR_MATRIX),s.ColorMatrix],[String(u.DISPLACEMENT),s.Displacement],[String(u.GLOW),s.Glow],[String(u.GRADIENT),s.Gradient],[String(u.PIXELATE),s.Pixelate],[String(u.SHADOW),s.Shadow],[String(u.SHINE),s.Shine],[String(u.VIGNETTE),s.Vignette],[String(u.WIPE),s.Wipe]]),!H){this.classes.set(g.FX_PIPELINE,d);for(var G=Math.min(U,W),X=Math.ceil(G/this.frameInc),V=1;V<X;V++){var B=V*this.frameInc;b.push(new i(D,B,B)),b.push(new i(D,B,B)),b.push(new i(D,B,B)),this.maxDimension=B}b.push(new i(D,U,W,1,0,!0,!0)),b.push(new i(D,U,W,1,0,!0,!0)),b.push(new i(D,U,W,1,0,!0,!0))}var z,$,j=this,k=this.game;if(this.classes.each(function(Q,Z){z=j.add(Q,new Z({game:k})),Q===g.UTILITY_PIPELINE&&(j.UTILITY_PIPELINE=z,j.fullFrame1=z.fullFrame1,j.fullFrame2=z.fullFrame2,j.halfFrame1=z.halfFrame1,j.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(g.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(g.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(g.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(g.FX_PIPELINE)),O)for($ in O){var q=O[$];z=new q(k),z.name=$,z.isPostFX?this.postPipelineClasses.set($,q):this.has($)||(this.classes.set($,q),this.add($,z))}this.default=this.get(F),L&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(O){var F=this.get(O);return F&&(this.default=F),F},add:function(O,F){if(F.isPostFX){console.warn(O+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,D=this.renderer;return L.has(O)?console.warn("Pipeline exists: "+O):(F.name=O,F.manager=this,L.set(O,F)),F.hasBooted||F.boot(),D.width!==0&&D.height!==0&&!F.isPreFX&&F.resize(D.width,D.height),F},addPostPipeline:function(O,F){this.postPipelineClasses.has(O)||this.postPipelineClasses.set(O,F)},flush:function(){this.current&&this.current.flush()},has:function(O){var F=this.pipelines;return typeof O=="string"?F.has(O):!!F.contains(O)},get:function(O){var F=this.pipelines;if(typeof O=="string")return F.get(O);if(F.contains(O))return O},getPostPipeline:function(O,F,L){var D=this.postPipelineClasses,b,U="",W=typeof O;if(W==="string"||W==="number"?(b=D.get(O),U=O):W==="function"?(D.contains(O)&&(b=O),U=O.name):W==="object"&&(b=D.get(O.name),U=O.name),b){var H=new b(this.game,L);return H.name=U,F&&(H.gameObject=F),this.postPipelineInstances.push(H),H}},removePostPipeline:function(O){w(this.postPipelineInstances,O)},remove:function(O,F,L){F===void 0&&(F=!0),L===void 0&&(L=!0),this.pipelines.delete(O),F&&this.classes.delete(O),L&&this.postPipelineClasses.delete(O)},set:function(O,F,L){if(!O.isPostFX)return this.isCurrent(O,L)||(this.flush(),this.current&&this.current.unbind(),this.current=O,O.bind(L)),O.updateProjectionMatrix(),O.onBind(F),O},preBatch:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=F.length-1;L>=0;L--){var D=F[L];D.active&&D.preBatch(O)}}},postBatch:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=0;L<F.length;L++){var D=F[L];D.active&&D.postBatch(O)}}},preBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=F.length-1;L>=0;L--){var D=F[L];D.active&&D.preBatch(O)}}},postBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=0;L<F.length;L++){var D=F[L];D.active&&D.postBatch(O)}}},isCurrent:function(O,F){var L=this.renderer,D=this.current;return D&&!F&&(F=D.currentShader),!(D!==O||F.program!==L.currentProgram)},copyFrame:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(O,F,L,D,b),this},copyToGame:function(O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(O),this},drawFrame:function(O,F,L,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(O,F,L,D),this},blendFrames:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(O,F,L,D,b),this},blendFramesAdditive:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(O,F,L,D,b),this},clearFrame:function(O,F){return this.UTILITY_PIPELINE.clearFrame(O,F),this},blitFrame:function(O,F,L,D,b,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(O,F,L,D,b,U),this},copyFrameRect:function(O,F,L,D,b,U,W,H){return this.UTILITY_PIPELINE.copyFrameRect(O,F,L,D,b,U,W,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(O){return this.UTILITY_PIPELINE.bind(O)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(O,F){F.restoreContext()}),P(this.postPipelineInstances,function(O){O.restoreContext()})},rebind:function(O){O===void 0&&this.previous&&(O=this.previous);var F=this.renderer,L=F.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),F.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var D=F.vaoExtension;D&&D.bindVertexArrayOES(null);var b=this.pipelines.entries;for(var U in b)b[U].glReset=!0;O&&(this.current=O,O.rebind())},clear:function(){var O=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,O.currentProgram=null,O.setBlendMode(0,!0);var F=O.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(O){var F=this.renderTargets,L=3;if(O>this.maxDimension)return this.targetIndex=F.length-L,F[this.targetIndex];var D=(n(O,this.frameInc,0,!0)-1)*L;return this.targetIndex=D,F[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});f.exports=I},32302:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92503),o=new h({initialize:function(r,i,n,l,s,u,d,c,v){l===void 0&&(l=1),s===void 0&&(s=0),u===void 0&&(u=!0),d===void 0&&(d=!1),c===void 0&&(c=!0),v===void 0&&(v=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=s,this.autoClear=u,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=v,this.init(i,n),d?this.renderer.on(g.RESIZE,this.resize,this):this.autoResize=!1},init:function(a,r){var i=this.renderer;this.texture=i.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(g.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(g.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,r){if(this.autoResize&&this.willResize(a,r)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.texture=i.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r}return this},willResize:function(a,r){return typeof a!="number"||typeof r!="number"?!1:(a=Math.round(a*this.scale),r=Math.round(r*this.scale),a=Math.max(a,1),r=Math.max(r,1),a!==this.width||r!==this.height)},bind:function(a,r,i){a===void 0&&(a=!1);var n=this.renderer;if(a&&n.flush(),r&&i&&this.resize(r,i),n.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(a,r,i,n){var l=this.renderer,s=l.gl;l.pushFramebuffer(this.framebuffer),a!==void 0&&r!==void 0&&i!==void 0&&n!==void 0?(s.enable(s.SCISSOR_TEST),s.scissor(a,r,i,n)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var r=this.renderer;return a&&r.flush(),r.popFramebuffer()},destroy:function(){var a=this.renderer;a.off(g.RESIZE,this.resize,this),a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});f.exports=o},70554:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={getTintFromFloats:function(S,t,h,g){var o=(S*255|0)&255,a=(t*255|0)&255,r=(h*255|0)&255,i=(g*255|0)&255;return(i<<24|o<<16|a<<8|r)>>>0},getTintAppendFloatAlpha:function(S,t){var h=(t*255|0)&255;return(h<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var h=(S>>16|0)&255,g=(S>>8|0)&255,o=(S|0)&255,a=(t*255|0)&255;return(a<<24|o<<16|g<<8|h)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,h=(S>>8|0)&255,g=(S|0)&255;return[t/255,h/255,g/255]},checkShaderMax:function(S,t){var h=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var h="",g=0;g<t;g++)g>0&&(h+=`
	else `),g<t-1&&(h+="if (outTexId < "+g+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+g+"], outTexCoord);",h+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,h)},setGlowQuality:function(S,t,h,g){return h===void 0&&(h=t.config.glowFXQuality),g===void 0&&(g=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/h/g).toFixed(7)),S=S.replace(/__DIST__/gi,g.toFixed(0)+".0"),S}}},29100:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(62644),o=t(50792),a=t(77085),r=t(95540),i=t(37867),n=t(92503),l=t(32302),s=t(70554),u=t(38683),d=new h({Extends:o,initialize:function(v){o.call(this);var x=v.game,y=x.renderer,T=y.gl;this.name=r(v,"name","WebGLPipeline"),this.game=x,this.renderer=y,this.manager,this.gl=T,this.view=x.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(v,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(v,"resizeUniform","")},boot:function(){var c,v=this.gl,x=this.config,y=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var T=this.renderTargets,E=r(x,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var A=y.width,P=y.height;if(typeof E=="number")for(c=0;c<E;c++)T.push(new l(y,A,P,1,0,!0));else if(Array.isArray(E))for(c=0;c<E.length;c++){var w=r(E[c],"scale",1),I=r(E[c],"minFilter",0),O=r(E[c],"autoClear",1),F=r(E[c],"autoResize",!1),L=r(E[c],"width",null),D=r(E[c],"height",L);L?T.push(new l(y,L,D,1,I,O,F)):T.push(new l(y,A,P,w,I,O,F))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(x);var b=this.shaders,U=0;for(c=0;c<b.length;c++)b[c].vertexSize>U&&(U=b[c].vertexSize);var W=r(x,"batchSize",y.config.batchSize);this.vertexCapacity=W*6;var H=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var Y=r(x,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=y.createVertexBuffer(H,v.STATIC_DRAW)):this.vertexBuffer=y.createVertexBuffer(H.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),c=b.length-1;c>=0;c--)b[c].rebind();this.hasBooted=!0,y.on(n.RESIZE,this.resize,this),y.on(n.PRE_RENDER,this.onPreRender,this),y.on(n.RENDER,this.onRender,this),y.on(n.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,v,x){var y=this.renderer;if(c!==this.currentShader||y.currentProgram!==this.currentShader.program){this.flush();var T=this.setVertexBuffer(x);T&&!v&&(v=!0),c.bind(v,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var v=this.shaders,x=0;x<v.length;x++)if(v[x].name===c)return v[x]},setShadersFromConfig:function(c){var v,x=this.shaders,y=this.renderer;for(v=0;v<x.length;v++)x[v].destroy();var T="vertShader",E="fragShader",A="attributes",P=r(c,T,null),w=s.parseFragmentShaderMaxTextures(r(c,E,null),y.maxTextures),I=r(c,A,null),O=r(c,"shaders",[]),F=O.length;if(F===0)P&&w&&(this.shaders=[new u(this,"default",P,w,g(I))]);else{var L=[];for(v=0;v<F;v++){var D=O[v],b,U,W,H;if(typeof D=="string"?(b="default",U=P,W=s.parseFragmentShaderMaxTextures(D,y.maxTextures),H=I):(b=r(D,"name","default"),U=r(D,T,P),W=s.parseFragmentShaderMaxTextures(r(D,E,w),y.maxTextures),H=r(D,A,I)),b==="default"){var Y=W.split(`
`),G=Y[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(b=G.substring(20))}U&&W&&L.push(new u(this,b,U,W,g(H)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var v=this.currentBatch;v&&(v.texture.push(c),v.unit++,v.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var v=this.currentBatch,x=v.texture.indexOf(c);return x===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(c):(v.unit++,v.maxUnit++,v.texture.push(c),this.currentUnit=v.unit,this.currentTexture=c,v.unit):(this.currentUnit=x,this.currentTexture=c,x)},setGameObject:function(c,v){return v===void 0&&(v=c.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,v){(c!==this.width||v!==this.height)&&this.flush(),this.width=c,this.height=v;for(var x=this.renderTargets,y=0;y<x.length;y++)x[y].resize(c,v);return this.setProjectionMatrix(c,v),this.resizeUniform&&this.set2f(this.resizeUniform,c,v),this.emit(a.RESIZE,c,v,this),this.onResize(c,v),this},setProjectionMatrix:function(c,v){var x=this.projectionMatrix;if(!x)return this;this.projectionWidth=c,this.projectionHeight=v,x.ortho(0,c,v,0,-1e3,1e3);for(var y=this.shaders,T="uProjectionMatrix",E=0;E<y.length;E++){var A=y[E];A.hasUniform(T)&&(A.resetUniform(T),A.setMatrix4fv(T,!1,x.val,A))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var v=this.projectionMatrix;if(!v)return this;var x=this.projectionWidth,y=this.projectionHeight;c?v.ortho(0,x,0,y,-1e3,1e3):v.ortho(0,x,y,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==v)&&this.setProjectionMatrix(c,v)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var v=!1,x=this.gl;return x.getParameter(x.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(x.bindBuffer(x.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),c.bind(v),this.currentShader=c,this.activeTextures.length=0,this.emit(a.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,x=v.length-1;x>=0;x--){var y=v[x].rebind();(!c||y===c)&&(this.currentShader=y)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var c=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var x=0;x<c.length;x++){var y=c[x];y.syncUniforms(),v&&y.rebind()}},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,c.webGLBuffer),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var v=this.gl,x=this.vertexCount,y=this.currentShader.vertexSize,T=this.topology;if(this.active){this.setVertexBuffer(),x===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,x*y));var E,A,P,w=this.batch,I=this.activeTextures;if(this.forceZero)for(I[0]||v.activeTexture(v.TEXTURE0),E=0;E<w.length;E++)A=w[E],P=A.texture[0],I[0]!==P&&(v.bindTexture(v.TEXTURE_2D,P.webGLTexture),I[0]=P),v.drawArrays(T,A.start,A.count);else for(E=0;E<w.length;E++){A=w[E];for(var O=0;O<=A.maxUnit;O++)P=A.texture[O],I[O]!==P&&(v.activeTexture(v.TEXTURE0+O),v.bindTexture(v.TEXTURE_2D,P.webGLTexture),I[O]=P);v.drawArrays(T,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,v,x,y,T,E,A){var P=this.vertexViewF32,w=this.vertexViewU32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++I]=c,P[++I]=v,P[++I]=x,P[++I]=y,P[++I]=T,P[++I]=E,w[++I]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,v,x,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G){G===void 0&&(G=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(G=this.setTexture2D(Y));var V=this.vertexViewF32,B=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return V[++z]=v,V[++z]=x,V[++z]=I,V[++z]=O,V[++z]=G,V[++z]=H,B[++z]=D,V[++z]=y,V[++z]=T,V[++z]=I,V[++z]=L,V[++z]=G,V[++z]=H,B[++z]=U,V[++z]=E,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=G,V[++z]=H,B[++z]=W,V[++z]=v,V[++z]=x,V[++z]=I,V[++z]=O,V[++z]=G,V[++z]=H,B[++z]=D,V[++z]=E,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=G,V[++z]=H,B[++z]=W,V[++z]=P,V[++z]=w,V[++z]=F,V[++z]=O,V[++z]=G,V[++z]=H,B[++z]=b,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),X},batchTri:function(c,v,x,y,T,E,A,P,w,I,O,F,L,D,b,U,W){W===void 0&&(W=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(W=this.setTexture2D(U));var Y=this.vertexViewF32,G=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++X]=v,Y[++X]=x,Y[++X]=P,Y[++X]=w,Y[++X]=W,Y[++X]=b,G[++X]=F,Y[++X]=y,Y[++X]=T,Y[++X]=P,Y[++X]=O,Y[++X]=W,Y[++X]=b,G[++X]=L,Y[++X]=E,Y[++X]=A,Y[++X]=I,Y[++X]=O,Y[++X]=W,Y[++X]=b,G[++X]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),H},drawFillRect:function(c,v,x,y,T,E,A,P){A===void 0&&(A=this.renderer.whiteTexture),P===void 0&&(P=!0),c=Math.floor(c),v=Math.floor(v);var w=Math.floor(c+x),I=Math.floor(v+y),O=this.setTexture2D(A),F=s.getTintAppendFloatAlphaAndSwap(T,E),L=0,D=0,b=1,U=1;P&&(D=1,U=0),this.batchQuad(null,c,v,c,I,w,I,w,v,L,D,b,U,F,F,F,F,0,A,O)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,v){v===void 0&&(v=0);var x=this.gl;return x.activeTexture(x.TEXTURE0+v),x.bindTexture(x.TEXTURE_2D,c.webGLTexture),this},bindRenderTarget:function(c,v){return this.bindTexture(c.texture,v)},setTime:function(c,v){return this.set1f(c,this.game.loop.getDuration(),v),this},setBoolean:function(c,v,x){return x===void 0&&(x=this.currentShader),x.setBoolean(c,v),this},set1f:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set1f(c,v),this},set2f:function(c,v,x,y){return y===void 0&&(y=this.currentShader),y.set2f(c,v,x),this},set3f:function(c,v,x,y,T){return T===void 0&&(T=this.currentShader),T.set3f(c,v,x,y),this},set4f:function(c,v,x,y,T,E){return E===void 0&&(E=this.currentShader),E.set4f(c,v,x,y,T),this},set1fv:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set1fv(c,v),this},set2fv:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set2fv(c,v),this},set3fv:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set3fv(c,v),this},set4fv:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set4fv(c,v),this},set1iv:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set1iv(c,v),this},set2iv:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set2iv(c,v),this},set3iv:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set3iv(c,v),this},set4iv:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set4iv(c,v),this},set1i:function(c,v,x){return x===void 0&&(x=this.currentShader),x.set1i(c,v),this},set2i:function(c,v,x,y){return y===void 0&&(y=this.currentShader),y.set2i(c,v,x),this},set3i:function(c,v,x,y,T){return T===void 0&&(T=this.currentShader),T.set3i(c,v,x,y),this},set4i:function(c,v,x,y,T,E){return E===void 0&&(E=this.currentShader),E.set4i(c,v,x,y,T),this},setMatrix2fv:function(c,v,x,y){return y===void 0&&(y=this.currentShader),y.setMatrix2fv(c,v,x),this},setMatrix3fv:function(c,v,x,y){return y===void 0&&(y=this.currentShader),y.setMatrix3fv(c,v,x),this},setMatrix4fv:function(c,v,x,y){return y===void 0&&(y=this.currentShader),y.setMatrix4fv(c,v,x),this},destroy:function(){this.emit(a.DESTROY,this);var c,v=this.shaders;for(c=0;c<v.length;c++)v[c].destroy();var x=this.renderTargets;for(c=0;c<x.length;c++)x[c].destroy();var y=this.renderer;return y.deleteBuffer(this.vertexBuffer),y.off(n.RESIZE,this.resize,this),y.off(n.PRE_RENDER,this.onPreRender,this),y.off(n.RENDER,this.onRender,this),y.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});f.exports=d},74797:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95428),g=t(72905),o=t(19715),a=t(83419),r=t(8054),i=t(50792),n=t(92503),l=t(50030),s=t(37867),u=t(29747),d=t(7530),c=t(32302),v=t(97480),x=t(69442),y=t(70554),T=t(88815),E=t(26128),A=t(1482),P=t(82751),w=t(84387),I=t(93567),O=t(57183),F=new a({Extends:i,initialize:function(D){i.call(this);var b=D.config,U={alpha:b.transparent,desynchronized:b.desynchronized,depth:!0,antialias:b.antialiasGL,premultipliedAlpha:b.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:b.failIfMajorPerformanceCaveat,powerPreference:b.powerPreference,preserveDrawingBuffer:b.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:b.clearBeforeRender,antialias:b.antialias,backgroundColor:b.backgroundColor,contextCreation:U,roundPixels:b.roundPixels,maxTextures:b.maxTextures,maxTextureSize:b.maxTextureSize,batchSize:b.batchSize,maxLights:b.maxLights,mipmapFilter:b.mipmapFilter},this.game=D,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.previousContextLostHandler=u,this.previousContextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(L){var D,b=this.game,U=this.canvas,W=L.backgroundColor;if(b.config.context?D=b.config.context:D=U.getContext("webgl",L.contextCreation)||U.getContext("experimental-webgl",L.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),b.context=D;for(var H=0;H<=27;H++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!L.maxTextures||L.maxTextures===-1)&&(L.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),L.maxTextureSize||(L.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(L.mipmapFilter)!==-1&&(this.mipmapFilter=D[L.mipmapFilter]),this.maxTextures=y.checkShaderMax(D,L.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new d(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),b.textures.once(x.READY,this.boot,this),this},boot:function(){var L=this.game,D=this.pipelines,b=L.scale.baseSize,U=b.width,W=b.height;this.width=U,this.height=W,this.isBooted=!0,this.renderTarget=new c(this,U,W,1,0,!0,!0),this.maskTarget=new c(this,U,W,1,0,!0,!0),this.maskSource=new c(this,U,W,1,0,!0,!0);var H=L.config;D.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=L.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=L.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=L.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),L.scale.on(v.RESIZE,this.onResize,this),this.resize(U,W)},setExtensions:function(){var L=this.gl,D=L.getSupportedExtensions();this.supportedExtensions=D;var b="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(b)>-1?L.getExtension(b):null;var U="OES_vertex_array_object";this.vaoExtension=D.indexOf(U)>-1?L.getExtension(U):null},setContextHandlers:function(L,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof L=="function"?this.contextLostHandler=L.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(L){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),L.preventDefault()},dispatchContextRestored:function(L){var D=this.gl;if(D.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var b=function(U){U.createResource()};h(this.glTextureWrappers,b),h(this.glBufferWrappers,b),h(this.glFramebufferWrappers,b),h(this.glProgramWrappers,b),h(this.glAttribLocationWrappers,b),h(this.glUniformLocationWrappers,b),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),L.preventDefault()},createTemporaryTextures:function(){for(var L=this.gl,D=0;D<this.maxTextures;D++){var b=L.createTexture();L.activeTexture(L.TEXTURE0+D),L.bindTexture(L.TEXTURE_2D,b),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},captureFrame:function(L,D){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(L,D,b){},stopCapture:function(){},onCapture:function(L){},onResize:function(L,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},beginCapture:function(L,D){L===void 0&&(L=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,L,D),this.setProjectionMatrix(L,D)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(L,D){var b=this.gl;return this.width=L,this.height=D,this.setProjectionMatrix(L,D),b.viewport(0,0,L,D),this.drawingBufferHeight=b.drawingBufferHeight,b.scissor(0,b.drawingBufferHeight-D,L,D),this.defaultScissor[2]=L,this.defaultScissor[3]=D,this.emit(n.RESIZE,L,D),this},getCompressedTextures:function(){var L="WEBGL_compressed_texture_",D="WEBKIT_"+L,b="EXT_texture_compression_",U=function(H,Y){var G=H.getExtension(L+Y)||H.getExtension(D+Y)||H.getExtension(b+Y);if(G){var X={};for(var V in G)X[G[V]]=V;return X}},W=this.gl;return{ETC:U(W,"etc"),ETC1:U(W,"etc1"),ATC:U(W,"atc"),ASTC:U(W,"astc"),BPTC:U(W,"bptc"),RGTC:U(W,"rgtc"),PVRTC:U(W,"pvrtc"),S3TC:U(W,"s3tc"),S3TCSRGB:U(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(L,D){var b=this.compression[L.toUpperCase()];if(D in b)return b[D]},supportsCompressedTexture:function(L,D){var b=this.compression[L.toUpperCase()];return b?D?D in b:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(L,D){return(L!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=L,this.projectionHeight=D,this.projectionMatrix.ortho(0,L,D,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(L){return this.supportedExtensions?this.supportedExtensions.indexOf(L):!1},getExtension:function(L){return this.hasExtension(L)?(L in this.extensions||(this.extensions[L]=this.gl.getExtension(L)),this.extensions[L]):null},flush:function(){this.pipelines.flush()},pushScissor:function(L,D,b,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.scissorStack,Y=[L,D,b,U];return H.push(Y),this.setScissor(L,D,b,U,W),this.currentScissor=Y,Y},setScissor:function(L,D,b,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.gl,Y=this.currentScissor,G=b>0&&U>0;if(Y&&G){var X=Y[0],V=Y[1],B=Y[2],z=Y[3];G=X!==L||V!==D||B!==b||z!==U}G&&(this.flush(),H.scissor(L,W-D-U,b,U))},resetScissor:function(){var L=this.gl;L.enable(L.SCISSOR_TEST);var D=this.currentScissor;if(D){var b=D[0],U=D[1],W=D[2],H=D[3];W>0&&H>0&&L.scissor(b,this.drawingBufferHeight-U-H,W,H)}},popScissor:function(){var L=this.scissorStack;L.pop();var D=L[L.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},hasActiveStencilMask:function(){var L=this.currentMask.mask,D=this.currentCameraMask.mask;return L&&L.isStencil||D&&D.isStencil},resetViewport:function(){var L=this.gl;L.viewport(0,0,this.width,this.height),this.drawingBufferHeight=L.drawingBufferHeight},setBlendMode:function(L,D){D===void 0&&(D=!1);var b=this.gl,U=this.blendModes[L];return D||L!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==L?(this.flush(),b.enable(b.BLEND),b.blendEquation(U.equation),U.func.length>2?b.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):b.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=L,!0):!1},addBlendMode:function(L,D){var b=this.blendModes.push({func:L,equation:D});return b-1},updateBlendMode:function(L,D,b){return this.blendModes[L]&&(this.blendModes[L].func=D,b&&(this.blendModes[L].equation=b)),this},removeBlendMode:function(L){return L>17&&this.blendModes[L]&&this.blendModes.splice(L,1),this},pushFramebuffer:function(L,D,b,U,W){return L===this.currentFramebuffer?this:(this.fboStack.push(L),this.setFramebuffer(L,D,b,U,W))},setFramebuffer:function(L,D,b,U,W){if(D===void 0&&(D=!1),b===void 0&&(b=!0),U===void 0&&(U=null),W===void 0&&(W=!1),L===this.currentFramebuffer)return this;var H=this.gl,Y=this.width,G=this.height;return L&&L.renderTexture&&b?(Y=L.renderTexture.width,G=L.renderTexture.height):this.flush(),L?H.bindFramebuffer(H.FRAMEBUFFER,L.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),b&&H.viewport(0,0,Y,G),U&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,U.webGLTexture,0),W&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),D&&(L?(this.drawingBufferHeight=G,this.pushScissor(0,0,Y,G)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=L,this},popFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var b=this.fboStack;b.pop();var U=b[b.length-1];return U||(U=null),this.setFramebuffer(U,L,D),U},restoreFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var b=this.fboStack,U=b[b.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,L,D)},setProgram:function(L){return L!==this.currentProgram?(this.flush(),this.gl.useProgram(L.webGLProgram),this.currentProgram=L,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(L,D,b,U,W){W===void 0&&(W=!1);var H=this.gl,Y=H.NEAREST,G=H.NEAREST,X=H.CLAMP_TO_EDGE,V=null;D=L?L.width:D,b=L?L.height:b;var B=l(D,b);if(B&&!W&&(X=H.REPEAT),U===r.ScaleModes.LINEAR&&this.config.antialias){var z=L&&L.compressed,$=!z&&B||z&&L.mipmaps.length>1;Y=this.mipmapFilter&&$?this.mipmapFilter:H.LINEAR,G=H.LINEAR}return!L&&typeof D=="number"&&typeof b=="number"?V=this.createTexture2D(0,Y,G,X,X,H.RGBA,null,D,b):V=this.createTexture2D(0,Y,G,X,X,H.RGBA,L),V},createTexture2D:function(L,D,b,U,W,H,Y,G,X,V,B,z){typeof G!="number"&&(G=Y?Y.width:1),typeof X!="number"&&(X=Y?Y.height:1);var $=new P(this.gl,L,D,b,U,W,H,Y,G,X,V,B,z);return this.glTextureWrappers.push($),$},createFramebuffer:function(L,D,b,U){this.currentFramebuffer=null;var W=new w(this.gl,L,D,b,U);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(L,D){var b=this.gl;b&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==L&&(this.currentMask.mask=L,this.currentMask.camera=D))},drawBitmapMask:function(L,D,b){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),L.renderWebGL(this,L,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,W=this.getCurrentStencilMask();W?(U.enable(U.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(b),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(L,D){var b=new A(this.gl,L,D);return this.glProgramWrappers.push(b),b},createVertexBuffer:function(L,D){var b=this.gl,U=new E(b,L,b.ARRAY_BUFFER,D);return this.glBufferWrappers.push(U),U},createAttribLocation:function(L,D){var b=new I(this.gl,L,D);return this.glAttribLocationWrappers.push(b),b},createUniformLocation:function(L,D){var b=new O(this.gl,L,D);return this.glUniformLocationWrappers.push(b),b},createIndexBuffer:function(L,D){var b=this.gl,U=new E(b,L,b.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(U),U},deleteTexture:function(L){if(L)return g(this.glTextureWrappers,L),L.destroy(),this},deleteFramebuffer:function(L){return L?(g(this.fboStack,L),g(this.glFramebufferWrappers,L),L.destroy(),this):this},deleteProgram:function(L){return L&&(g(this.glProgramWrappers,L),L.destroy()),this},deleteAttribLocation:function(L){return L&&(g(this.glAttribLocationWrappers,L),L.destroy()),this},deleteUniformLocation:function(L){return L&&(g(this.glUniformLocationWrappers,L),L.destroy()),this},deleteBuffer:function(L){return L?(g(this.glBufferWrappers,L),L.destroy(),this):this},preRenderCamera:function(L){var D=L.x,b=L.y,U=L.width,W=L.height,H=L.backgroundColor;if(L.emit(o.PRE_RENDER,L),this.pipelines.preBatchCamera(L),this.pushScissor(D,b,U,W),L.mask&&(this.currentCameraMask.mask=L.mask,this.currentCameraMask.camera=L._maskCamera,L.mask.preRenderWebGL(this,L,L._maskCamera)),H.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(D,b,U,W,y.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},getCurrentStencilMask:function(){var L=null,D=this.maskStack,b=this.currentCameraMask;return D.length>0?L=D[D.length-1]:b.mask&&b.mask.isStencil&&(L=b),L},postRenderCamera:function(L){var D=L.flashEffect,b=L.fadeEffect;if(D.isRunning||b.isRunning||b.isComplete){var U=this.pipelines.setMulti();D.postRenderWebGL(U,y.getTintFromFloats),b.postRenderWebGL(U,y.getTintFromFloats)}L.dirty=!1,this.popScissor(),L.mask&&(this.currentCameraMask.mask=null,L.mask.postRenderWebGL(this,L._maskCamera)),this.pipelines.postBatchCamera(L),L.emit(o.POST_RENDER,L)},preRender:function(){if(!this.contextLost){var L=this.gl;if(L.bindFramebuffer(L.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;L.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)}L.enable(L.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&L.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(L,D,b){if(!this.contextLost){var U=D.length;if(this.emit(n.RENDER,L,b),this.preRenderCamera(b),U===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(b);return}this.currentType="";for(var W=this.currentMask,H=0;H<U;H++){this.finalType=H===U-1;var Y=D[H],G=Y.mask;W=this.currentMask,W.mask&&W.mask!==G&&W.mask.postRenderWebGL(this,W.camera),G&&W.mask!==G&&G.preRenderWebGL(this,Y,b),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var X=Y.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[H+1].type===this.currentType,Y.renderWebGL(this,Y,b),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(b)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var L=this.snapshotState;L.callback&&(T(this.gl,L),L.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var L=this.gl,D=this.getCurrentStencilMask();if(D){var b=D.mask;L.enable(L.STENCIL_TEST),b.invertAlpha?L.stencilFunc(L.NOTEQUAL,b.level,255):L.stencilFunc(L.EQUAL,b.level,255)}},snapshot:function(L,D,b){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,L,D,b)},snapshotArea:function(L,D,b,U,W,H,Y){var G=this.snapshotState;return G.callback=W,G.type=H,G.encoder=Y,G.getPixel=!1,G.x=L,G.y=D,G.width=b,G.height=U,this},snapshotPixel:function(L,D,b){return this.snapshotArea(L,D,1,1,b),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(L,D,b,U,W,H,Y,G,X,V,B){W===void 0&&(W=!1),H===void 0&&(H=0),Y===void 0&&(Y=0),G===void 0&&(G=D),X===void 0&&(X=b),V==="pixel"&&(W=!0,V="image/png");var z=this.currentFramebuffer;this.snapshotArea(H,Y,G,X,U,V,B);var $=this.snapshotState;return $.getPixel=W,$.isFramebuffer=!0,$.bufferWidth=D,$.bufferHeight=b,$.width=Math.min($.width,D),$.height=Math.min($.height,b),this.setFramebuffer(L),T(this.gl,$),this.setFramebuffer(z),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(L,D,b,U){b===void 0&&(b=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,Y=W.NEAREST,G=L.width,X=L.height,V=W.CLAMP_TO_EDGE,B=l(G,X);return!b&&B&&(V=W.REPEAT),this.config.antialias&&(H=B&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),D?(D.update(L,G,X,U,V,V,H,Y,D.format),D):this.createTexture2D(0,H,Y,V,V,W.RGBA,L,G,X,!0,!1,U)},createCanvasTexture:function(L,D,b){return D===void 0&&(D=!1),b===void 0&&(b=!1),this.canvasToTexture(L,null,D,b)},updateCanvasTexture:function(L,D,b,U){return b===void 0&&(b=!1),U===void 0&&(U=!1),this.canvasToTexture(L,D,U,b)},videoToTexture:function(L,D,b,U){b===void 0&&(b=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,Y=W.NEAREST,G=L.videoWidth,X=L.videoHeight,V=W.CLAMP_TO_EDGE,B=l(G,X);return!b&&B&&(V=W.REPEAT),this.config.antialias&&(H=B&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),D?(D.update(L,G,X,U,V,V,H,Y,D.format),D):this.createTexture2D(0,H,Y,V,V,W.RGBA,L,G,X,!0,!0,U)},createVideoTexture:function(L,D,b){return D===void 0&&(D=!1),b===void 0&&(b=!1),this.videoToTexture(L,null,D,b)},updateVideoTexture:function(L,D,b,U){return b===void 0&&(b=!1),U===void 0&&(U=!1),this.videoToTexture(L,D,U,b)},createUint8ArrayTexture:function(L,D,b){var U=this.gl,W=U.NEAREST,H=U.NEAREST,Y=U.CLAMP_TO_EDGE,G=l(D,b);return G&&(Y=U.REPEAT),this.createTexture2D(0,W,H,Y,Y,U.RGBA,L,D,b)},setTextureFilter:function(L,D){var b=this.gl,U=D===0?b.LINEAR:b.NEAREST;b.activeTexture(b.TEXTURE0);var W=b.getParameter(b.TEXTURE_BINDING_2D);return b.bindTexture(b.TEXTURE_2D,L.webGLTexture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,U),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,U),L.minFilter=U,L.magFilter=U,W&&b.bindTexture(b.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var L=function(D){D.destroy()};h(this.glAttribLocationWrappers,L),h(this.glBufferWrappers,L),h(this.glFramebufferWrappers,L),h(this.glProgramWrappers,L),h(this.glTextureWrappers,L),h(this.glUniformLocationWrappers,L),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});f.exports=F},38683:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95428),o=t(95540),a=t(14500),r=new h({initialize:function(n,l,s,u,d){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=s,this.program=this.renderer.createProgram(s,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(d),this.createUniforms()},createAttributes:function(i){var n=0,l=0,s=[];this.vertexComponentCount=0;for(var u=0;u<i.length;u++){var d=i[u],c=d.name,v=o(d,"size",1),x=o(d,"type",a.FLOAT),y=x.enum,T=x.size,E=!!d.normalized;s.push({name:c,size:v,type:y,normalized:E,offset:l,enabled:!1,location:-1}),T===4?n+=v:n++,l+=v*T}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=s},bind:function(i,n){return i===void 0&&(i=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),i&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(i){i===void 0&&(i=!1);for(var n=this.gl,l=this.renderer,s=this.vertexSize,u=this.attributes,d=this.program,c=0;c<u.length;c++){var v=u[c],x=v.size,y=v.type,T=v.offset,E=v.enabled,A=v.location,P=!!v.normalized;if(i){A!==-1&&l.deleteAttribLocation(A);var w=this.renderer.createAttribLocation(d,v.name);w.webGLAttribLocation>=0?(n.enableVertexAttribArray(w.webGLAttribLocation),n.vertexAttribPointer(w.webGLAttribLocation,x,y,P,s,T),v.enabled=!0,v.location=w):w.webGLAttribLocation!==-1&&n.disableVertexAttribArray(w.webGLAttribLocation)}else E?n.vertexAttribPointer(A.webGLAttribLocation,x,y,P,s,T):!E&&A!==-1&&A.webGLAttribLocation>-1&&(n.disableVertexAttribArray(A.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var i=this.gl,n=this.program,l=this.uniforms,s,u,d,c=i.getProgramParameter(n.webGLProgram,i.ACTIVE_UNIFORMS);for(s=0;s<c;s++){var v=i.getActiveUniform(n.webGLProgram,s);if(v){u=v.name,d=this.renderer.createUniformLocation(n,u),d!==null&&(l[u]={name:u,location:d,setter:null,value1:null,value2:null,value3:null,value4:null});var x=u.indexOf("[");x>0&&(u=u.substr(0,x),l.hasOwnProperty(u)||(d=this.renderer.createUniformLocation(n,u),d!==null&&(l[u]={name:u,location:d,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var i=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(i,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(i){return this.uniforms.hasOwnProperty(i)},resetUniform:function(i){var n=this.uniforms[i];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(i,n,l,s){var u=this.uniforms[n];return u?((s||u.value1!==l)&&(u.setter||(u.setter=i),u.value1=l,this.renderer.setProgram(this.program),i.call(this.gl,u.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(i,n,l,s,u){var d=this.uniforms[n];return d?((u||d.value1!==l||d.value2!==s)&&(d.setter||(d.setter=i),d.value1=l,d.value2=s,this.renderer.setProgram(this.program),i.call(this.gl,d.location.webGLUniformLocation,l,s),this.pipeline.currentShader=this),this):this},setUniform3:function(i,n,l,s,u,d){var c=this.uniforms[n];return c?((d||c.value1!==l||c.value2!==s||c.value3!==u)&&(c.setter||(c.setter=i),c.value1=l,c.value2=s,c.value3=u,this.renderer.setProgram(this.program),i.call(this.gl,c.location.webGLUniformLocation,l,s,u),this.pipeline.currentShader=this),this):this},setUniform4:function(i,n,l,s,u,d,c){var v=this.uniforms[n];return v?((c||v.value1!==l||v.value2!==s||v.value3!==u||v.value4!==d)&&(v.setter||(v.setter=i),v.value1=l,v.value2=s,v.value3=u,v.value4=d,this.renderer.setProgram(this.program),i.call(this.gl,v.location.webGLUniformLocation,l,s,u,d),this.pipeline.currentShader=this),this):this},setBoolean:function(i,n){return this.setUniform1(this.gl.uniform1i,i,Number(n))},set1f:function(i,n){return this.setUniform1(this.gl.uniform1f,i,n)},set2f:function(i,n,l){return this.setUniform2(this.gl.uniform2f,i,n,l)},set3f:function(i,n,l,s){return this.setUniform3(this.gl.uniform3f,i,n,l,s)},set4f:function(i,n,l,s,u){return this.setUniform4(this.gl.uniform4f,i,n,l,s,u)},set1fv:function(i,n){return this.setUniform1(this.gl.uniform1fv,i,n,!0)},set2fv:function(i,n){return this.setUniform1(this.gl.uniform2fv,i,n,!0)},set3fv:function(i,n){return this.setUniform1(this.gl.uniform3fv,i,n,!0)},set4fv:function(i,n){return this.setUniform1(this.gl.uniform4fv,i,n,!0)},set1iv:function(i,n){return this.setUniform1(this.gl.uniform1iv,i,n,!0)},set2iv:function(i,n){return this.setUniform1(this.gl.uniform2iv,i,n,!0)},set3iv:function(i,n){return this.setUniform1(this.gl.uniform3iv,i,n,!0)},set4iv:function(i,n){return this.setUniform1(this.gl.uniform4iv,i,n,!0)},set1i:function(i,n){return this.setUniform1(this.gl.uniform1i,i,n)},set2i:function(i,n,l){return this.setUniform2(this.gl.uniform2i,i,n,l)},set3i:function(i,n,l,s){return this.setUniform3(this.gl.uniform3i,i,n,l,s)},set4i:function(i,n,l,s,u){return this.setUniform4(this.gl.uniform4i,i,n,l,s,u)},setMatrix2fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,i,n,l,!0)},setMatrix3fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,i,n,l,!0)},setMatrix4fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,i,n,l,!0)},createProgram:function(i,n){return i===void 0&&(i=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=i,this.fragSrc=n,this.program=this.renderer.createProgram(i,n),this.createUniforms(),this.rebind()},destroy:function(){var i=this.renderer;g(this.uniforms,function(n){i.deleteUniformLocation(n.location)}),this.uniforms=null,g(this.attributes,function(n){i.deleteAttribLocation(n.location)}),this.attributes=null,i.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});f.exports=r},14500:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};f.exports=S},4159:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14500),g=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=g(!1,o,h),f.exports=o},31302:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(78908),a=t(85191),r=t(14500),i=t(29100),n=new h({Extends:i,initialize:function(s){s.fragShader=g(s,"fragShader",o),s.vertShader=g(s,"vertShader",a),s.batchSize=g(s,"batchSize",1),s.vertices=g(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=g(s,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),i.call(this,s)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,s){i.prototype.resize.call(this,l,s),this.set2f("uResolution",l,s)},beginMask:function(l,s,u){this.renderer.beginBitmapMask(l,u)},endMask:function(l,s,u){var d=this.gl,c=this.renderer,v=l.bitmapMask;v&&d&&(c.drawBitmapMask(v,s,this),u&&this.set2f("uResolution",u.width,u.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),d.drawArrays(this.topology,0,3),u&&this.set2f("uResolution",this.width,this.height),d.bindTexture(d.TEXTURE_2D,null))}});f.exports=n},92651:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(58918),o=t(14811),a=t(95540),r=t(43558),i=t(89350),n=t(70554),l=new h({Extends:r,initialize:function(u){u.shaders=[n.setGlowQuality(i.FXGlowFrag,u.game),i.FXShadowFrag,i.FXPixelateFrag,i.FXVignetteFrag,i.FXShineFrag,i.FXBlurLowFrag,i.FXBlurMedFrag,i.FXBlurHighFrag,i.FXGradientFrag,i.FXBloomFrag,i.ColorMatrixFrag,i.FXCircleFrag,i.FXBarrelFrag,i.FXDisplacementFrag,i.FXWipeFrag,i.FXBokehFrag],r.call(this,u);var d=this.game;this.glow=new g.Glow(d),this.shadow=new g.Shadow(d),this.pixelate=new g.Pixelate(d),this.vignette=new g.Vignette(d),this.shine=new g.Shine(d),this.gradient=new g.Gradient(d),this.circle=new g.Circle(d),this.barrel=new g.Barrel(d),this.wipe=new g.Wipe(d),this.bokeh=new g.Bokeh(d);var c=[];c[o.GLOW]=this.onGlow,c[o.SHADOW]=this.onShadow,c[o.PIXELATE]=this.onPixelate,c[o.VIGNETTE]=this.onVignette,c[o.SHINE]=this.onShine,c[o.BLUR]=this.onBlur,c[o.GRADIENT]=this.onGradient,c[o.BLOOM]=this.onBloom,c[o.COLOR_MATRIX]=this.onColorMatrix,c[o.CIRCLE]=this.onCircle,c[o.BARREL]=this.onBarrel,c[o.DISPLACEMENT]=this.onDisplacement,c[o.WIPE]=this.onWipe,c[o.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(s,u,d){this.source=s,this.target=u,this.swap=d;var c=s.width,v=s.height,x=this.tempSprite,y=this.fxHandlers;if(x&&x.preFX)for(var T=x.preFX.list,E=0;E<T.length;E++){var A=T[E];A.active&&y[A.type].call(this,A,c,v)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,u=this.target;this.copy(s,u),this.source=u,this.target=s},onGlow:function(s,u,d){var c=this.shaders[o.GLOW];this.setShader(c),this.glow.onPreRender(s,c,u,d),this.runDraw()},onShadow:function(s){var u=this.shaders[o.SHADOW];this.setShader(u),this.shadow.onPreRender(s,u),this.runDraw()},onPixelate:function(s,u,d){var c=this.shaders[o.PIXELATE];this.setShader(c),this.pixelate.onPreRender(s,c,u,d),this.runDraw()},onVignette:function(s){var u=this.shaders[o.VIGNETTE];this.setShader(u),this.vignette.onPreRender(s,u),this.runDraw()},onShine:function(s,u,d){var c=this.shaders[o.SHINE];this.setShader(c),this.shine.onPreRender(s,c,u,d),this.runDraw()},onBlur:function(s,u,d){var c=a(s,"quality"),v=this.shaders[o.BLUR+c];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",u,d),this.set1f("strength",a(s,"strength")),this.set3fv("color",a(s,"glcolor"));for(var x=a(s,"x"),y=a(s,"y"),T=a(s,"steps"),E=0;E<T;E++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw()},onGradient:function(s){var u=this.shaders[o.GRADIENT];this.setShader(u),this.gradient.onPreRender(s,u),this.runDraw()},onBloom:function(s,u,d){var c=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",a(s,"blurStrength")),this.set3fv("color",a(s,"glcolor"));for(var v=2/u*a(s,"offsetX"),x=2/d*a(s,"offsetY"),y=a(s,"steps"),T=0;T<y;T++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,x),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,u,d){var c=this.shaders[o.CIRCLE];this.setShader(c),this.circle.onPreRender(s,c,u,d),this.runDraw()},onBarrel:function(s){var u=this.shaders[o.BARREL];this.setShader(u),this.barrel.onPreRender(s,u),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var u=this.shaders[o.WIPE];this.setShader(u),this.wipe.onPreRender(s,u),this.runDraw()},onBokeh:function(s,u,d){var c=this.shaders[o.BOKEH];this.setShader(c),this.bokeh.onPreRender(s,c,u,d),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});f.exports=l},96569:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(31063),a=t(57516),r=t(61340),i=t(26099),n=t(29100),l=new h({Extends:a,initialize:function(u){var d=g(u,"fragShader",o);u.fragShader=d.replace("%LIGHT_COUNT%",u.game.renderer.config.maxLights),a.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new i,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(s,u){var d=s.sys.lights;if(this.lightsActive=!1,!(!d||!d.active)){var c=d.getLights(u),v=c.length;this.lightsActive=!0;var x,y=this.renderer,T=y.height,E=u.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",d.ambientColor.r,d.ambientColor.g,d.ambientColor.b),this.set1i("uLightCount",v),x=0;x<v;x++){var P=c[x].light,w=P.color,I="uLights["+x+"].";E.transformPoint(P.x,P.y,A),this.set2f(I+"position",A.x-u.scrollX*P.scrollFactorX*u.zoom,T-(A.y-u.scrollY*P.scrollFactorY*u.zoom)),this.set3f(I+"color",w.r,w.g,w.b),this.set1f(I+"intensity",P.intensity),this.set1f(I+"radius",P.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(s){var d=-s,c=Math.cos(d),v=Math.sin(d);u[1]=v,u[3]=-v,u[0]=u[4]=c}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=s}},setTexture2D:function(s,u){var d=this.renderer;s===void 0&&(s=d.whiteTexture);var c=this.getNormalMap(u);this.isNewNormalMap(s,c)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(c),this.currentNormalMap=c);var v=0;if(u&&u.parentContainer){var x=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=x.rotationNormalized}else u&&(v=u.rotation);return this.currentBatch===null&&(this.createBatch(s),this.addTextureToBatch(c)),this.setNormalMapRotation(v),0},setGameObject:function(s,u){u===void 0&&(u=s.frame);var d=u.glTexture,c=this.getNormalMap(s);if(this.isNewNormalMap(d,c)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(c),this.currentNormalMap=c),s.parentContainer){var v=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return this.currentBatch===null&&(this.createBatch(d),this.addTextureToBatch(c)),0},isNewNormalMap:function(s,u){return this.currentTexture!==s||this.currentNormalMap!==u},getNormalMap:function(s){var u;if(s)s.displayTexture?u=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?u=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?u=s.tileset[0].image.dataSource[0]:u=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return u?u.glTexture:this.renderer.normalTexture},batchSprite:function(s,u,d){this.lightsActive&&a.prototype.batchSprite.call(this,s,u,d)},batchTexture:function(s,u,d,c,v,x,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G,X,V,B,z,$,j,k,q,Q){this.lightsActive&&a.prototype.batchTexture.call(this,s,u,d,c,v,x,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G,X,V,B,z,$,j,k,q,Q)},batchTextureFrame:function(s,u,d,c,v,x,y){this.lightsActive&&a.prototype.batchTextureFrame.call(this,s,u,d,c,v,x,y)}});f.exports=l},56527:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(57516),a=t(45561),r=t(60722),i=t(14500),n=t(29100),l=new h({Extends:o,initialize:function(u){u.fragShader=g(u,"fragShader",a),u.vertShader=g(u,"vertShader",r),u.attributes=g(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:i.UNSIGNED_BYTE,normalized:!0}]),u.forceZero=!0,u.resizeUniform="uResolution",o.call(this,u)},boot:function(){n.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height)}});f.exports=l},57516:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(94811),o=t(95540),a=t(98840),r=t(44667),i=t(61340),n=t(70554),l=t(14500),s=t(29100),u=new h({Extends:s,initialize:function(c){var v=c.game.renderer,x=o(c,"fragShader",a);c.fragShader=n.parseFragmentShaderMaxTextures(x,v.maxTextures),c.vertShader=o(c,"vertShader",r),c.attributes=o(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),c.resizeUniform="uResolution",s.call(this,c),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var d=this.renderer;this.set1iv("uMainSampler",d.textureIndexes),this.set2f("uResolution",d.width,d.height)},batchSprite:function(d,c,v){this.manager.set(this,d);var x=this._tempMatrix1,y=this._tempMatrix2,T=this._tempMatrix3,E=d.frame,A=E.glTexture,P=E.u0,w=E.v0,I=E.u1,O=E.v1,F=E.x,L=E.y,D=E.cutWidth,b=E.cutHeight,U=E.customPivot,W=d.displayOriginX,H=d.displayOriginY,Y=-W+F,G=-H+L;if(d.isCropped){var X=d._crop;(X.flipX!==d.flipX||X.flipY!==d.flipY)&&E.updateCropUVs(X,d.flipX,d.flipY),P=X.u0,w=X.v0,I=X.u1,O=X.v1,D=X.width,b=X.height,F=X.x,L=X.y,Y=-W+F,G=-H+L}var V=1,B=1;d.flipX&&(U||(Y+=-E.realWidth+W*2),V=-1),d.flipY&&(U||(G+=-E.realHeight+H*2),B=-1);var z=d.x,$=d.y;c.roundPixels&&(z=Math.floor(z),$=Math.floor($)),y.applyITRS(z,$,d.rotation,d.scaleX*V,d.scaleY*B),x.copyFrom(c.matrix),v?(x.multiplyWithOffset(v,-c.scrollX*d.scrollFactorX,-c.scrollY*d.scrollFactorY),y.e=z,y.f=$):(y.e-=c.scrollX*d.scrollFactorX,y.f-=c.scrollY*d.scrollFactorY),x.multiply(y,T);var j=T.setQuad(Y,G,Y+D,G+b,c.renderRoundPixels),k=n.getTintAppendFloatAlpha,q=c.alpha,Q=k(d.tintTopLeft,q*d._alphaTL),Z=k(d.tintTopRight,q*d._alphaTR),_=k(d.tintBottomLeft,q*d._alphaBL),et=k(d.tintBottomRight,q*d._alphaBR);this.shouldFlush(6)&&this.flush();var it=this.setGameObject(d,E);this.manager.preBatch(d),this.batchQuad(d,j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],P,w,I,O,Q,Z,_,et,d.tintFill,A,it),this.manager.postBatch(d)},batchTexture:function(d,c,v,x,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G,X,V,B,z,$,j,k,q,Q,Z,_,et){et===void 0&&(et=!1),this.manager.set(this,d);var it=this._tempMatrix1,st=this._tempMatrix2,nt=this._tempMatrix3,lt=W/v+j,ut=H/x+k,ot=(W+Y)/v+j,rt=(H+G)/x+k,ht=E,dt=A,xt=-b,yt=-U;if(d.isCropped){var Ct=d._crop,St=Ct.width,It=Ct.height;ht=St,dt=It,E=St,A=It,W=Ct.x,H=Ct.y;var zt=W,qt=H;O&&(zt=Y-Ct.x-St),F&&(qt=G-Ct.y-It),lt=zt/v+j,ut=qt/x+k,ot=(zt+St)/v+j,rt=(qt+It)/x+k,xt=-b+W,yt=-U+H}F=F^(!Z&&c.isRenderTexture?1:0),O&&(ht*=-1,xt+=E),F&&(dt*=-1,yt+=A),q.roundPixels&&(y=Math.floor(y),T=Math.floor(T)),st.applyITRS(y,T,I,P,w),it.copyFrom(q.matrix),Q?(it.multiplyWithOffset(Q,-q.scrollX*L,-q.scrollY*D),st.e=y,st.f=T):(st.e-=q.scrollX*L,st.f-=q.scrollY*D),it.multiply(st,nt);var Nt=nt.setQuad(xt,yt,xt+ht,yt+dt,q.renderRoundPixels);_==null&&(_=this.setTexture2D(c)),d&&!et&&this.manager.preBatch(d),this.batchQuad(d,Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6],Nt[7],lt,ut,ot,rt,X,V,B,z,$,c,_),d&&!et&&this.manager.postBatch(d)},batchTextureFrame:function(d,c,v,x,y,T,E){this.manager.set(this);var A=this._tempMatrix1.copyFrom(T),P=this._tempMatrix2;E?A.multiply(E,P):P=A;var w=P.setQuad(c,v,c+d.width,v+d.height),I=this.setTexture2D(d.source.glTexture);x=n.getTintAppendFloatAlpha(x,y),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],d.u0,d.v0,d.u1,d.v1,x,x,x,x,0,d.glTexture,I)},batchFillRect:function(d,c,v,x,y,T){this.renderer.pipelines.set(this);var E=this.calcMatrix;T&&T.multiply(y,E);var A=E.setQuad(d,c,d+v,c+x),P=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,P.TL,P.TR,P.BL,P.BR,2)},batchFillTriangle:function(d,c,v,x,y,T,E,A){this.renderer.pipelines.set(this);var P=this.calcMatrix;A&&A.multiply(E,P);var w=P.getX(d,c),I=P.getY(d,c),O=P.getX(v,x),F=P.getY(v,x),L=P.getX(y,T),D=P.getY(y,T),b=this.fillTint;this.batchTri(null,w,I,O,F,L,D,0,0,1,1,b.TL,b.TR,b.BL,2)},batchStrokeTriangle:function(d,c,v,x,y,T,E,A,P){var w=this.tempTriangle;w[0].x=d,w[0].y=c,w[0].width=E,w[1].x=v,w[1].y=x,w[1].width=E,w[2].x=y,w[2].y=T,w[2].width=E,w[3].x=d,w[3].y=c,w[3].width=E,this.batchStrokePath(w,E,!1,A,P)},batchFillPath:function(d,c,v){this.renderer.pipelines.set(this);var x=this.calcMatrix;v&&v.multiply(c,x);for(var y=d.length,T=this.polygonCache,E,A,P=this.fillTint.TL,w=this.fillTint.TR,I=this.fillTint.BL,O=0;O<y;++O)A=d[O],T.push(A.x,A.y);E=g(T),y=E.length;for(var F=0;F<y;F+=3){var L=E[F+0]*2,D=E[F+1]*2,b=E[F+2]*2,U=T[L+0],W=T[L+1],H=T[D+0],Y=T[D+1],G=T[b+0],X=T[b+1],V=x.getX(U,W),B=x.getY(U,W),z=x.getX(H,Y),$=x.getY(H,Y),j=x.getX(G,X),k=x.getY(G,X);this.batchTri(null,V,B,z,$,j,k,0,0,1,1,P,w,I,2)}T.length=0},batchStrokePath:function(d,c,v,x,y){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=d.length-1,E=0;E<T;E++){var A=d[E],P=d[E+1];this.batchLine(A.x,A.y,P.x,P.y,A.width/2,P.width/2,c,E,!v&&E===T-1,x,y)}},batchLine:function(d,c,v,x,y,T,E,A,P,w,I){this.renderer.pipelines.set(this);var O=this.calcMatrix;I&&I.multiply(w,O);var F=v-d,L=x-c,D=Math.sqrt(F*F+L*L);if(D!==0){var b=y*(x-c)/D,U=y*(d-v)/D,W=T*(x-c)/D,H=T*(d-v)/D,Y=v-W,G=x-H,X=d-b,V=c-U,B=v+W,z=x+H,$=d+b,j=c+U,k=O.getX(Y,G),q=O.getY(Y,G),Q=O.getX(X,V),Z=O.getY(X,V),_=O.getX(B,z),et=O.getY(B,z),it=O.getX($,j),st=O.getY($,j),nt=this.strokeTint,lt=nt.TL,ut=nt.TR,ot=nt.BL,rt=nt.BR;if(this.batchQuad(null,it,st,Q,Z,k,q,_,et,0,0,1,1,lt,ut,ot,rt,2),!(E<=2)){var ht=this.prevQuad,dt=this.firstQuad;A>0&&ht[4]?this.batchQuad(null,it,st,Q,Z,ht[0],ht[1],ht[2],ht[3],0,0,1,1,lt,ut,ot,rt,2):(dt[0]=it,dt[1]=st,dt[2]=Q,dt[3]=Z,dt[4]=1),P&&dt[4]?this.batchQuad(null,k,q,_,et,dt[0],dt[1],dt[2],dt[3],0,0,1,1,lt,ut,ot,rt,2):(ht[0]=k,ht[1]=q,ht[2]=_,ht[3]=et,ht[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});f.exports=u},43439:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(4127),a=t(89924),r=t(29100),i=new h({Extends:r,initialize:function(l){l.vertShader=g(l,"vertShader",a),l.fragShader=g(l,"fragShader",o),l.attributes=g(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,s,u,d,c,v,x,y,T,E,A){var P=n.color,w=n.intensity,I=n.radius,O=n.attenuation,F=P.r*w,L=P.g*w,D=P.b*w,b=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,u,E,A,I,O,F,L,D,b),this.batchLightVert(d,c,E,A,I,O,F,L,D,b),this.batchLightVert(v,x,E,A,I,O,F,L,D,b),this.batchLightVert(s,u,E,A,I,O,F,L,D,b),this.batchLightVert(v,x,E,A,I,O,F,L,D,b),this.batchLightVert(y,T,E,A,I,O,F,L,D,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,s,u,d,c,v,x,y,T){var E=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++A]=n,E[++A]=l,E[++A]=s,E[++A]=u,E[++A]=d,E[++A]=c,E[++A]=v,E[++A]=x,E[++A]=y,E[++A]=T,this.vertexCount++}});f.exports=i},84057:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89422),o=t(95540),a=t(27681),r=t(49627),i=t(29100),n=new h({Extends:i,initialize:function(s){s.renderTarget=o(s,"renderTarget",1),s.fragShader=o(s,"fragShader",a),s.vertShader=o(s,"vertShader",r),s.attributes=o(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new g,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){i.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height);for(var u=this.renderTargets,d=0;d<u.length;d++)u[d].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,s,u){u===void 0&&(u=!1);var d=this.gl;d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture.webGLTexture);var c=d.getParameter(d.FRAMEBUFFER_BINDING);d.bindFramebuffer(d.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s.texture.webGLTexture,0),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),u&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,c))},copyFrame:function(l,s,u,d,c){this.manager.copyFrame(l,s,u,d,c)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,s,u){this.manager.drawFrame(l,s,u,this.colorMatrix)},blendFrames:function(l,s,u,d,c){this.manager.blendFrames(l,s,u,d,c)},blendFramesAdditive:function(l,s,u,d,c){this.manager.blendFramesAdditive(l,s,u,d,c)},clearFrame:function(l,s){this.manager.clearFrame(l,s)},blitFrame:function(l,s,u,d,c,v){this.manager.blitFrame(l,s,u,d,c,v)},copyFrameRect:function(l,s,u,d,c,v,x,y){this.manager.copyFrameRect(l,s,u,d,c,v,x,y)},bindAndDraw:function(l,s,u,d,c){u===void 0&&(u=!0),d===void 0&&(d=!0);var v=this.gl,x=this.renderer;this.bind(c),this.set1i("uMainSampler",0),s?(v.viewport(0,0,s.width,s.height),v.bindFramebuffer(v.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,s.texture.webGLTexture,0),u&&(d?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(x.popFramebuffer(!1,!1),x.currentFramebuffer||v.viewport(0,0,x.width,x.height)),x.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,l.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),s&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,x.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),i.prototype.destroy.call(this),this}});f.exports=n},43558:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(67502),o=t(83419),a=t(96293),r=t(95540),i=t(57516),n=t(27681),l=t(87841),s=t(32302),u=t(45561),d=t(60722),c=t(29100),v=new o({Extends:i,initialize:function(y){var T=r(y,"fragShader",n),E=r(y,"vertShader",d),A=r(y,"drawShader",n),P=[{name:"DrawSprite",fragShader:u,vertShader:d},{name:"CopySprite",fragShader:T,vertShader:E},{name:"DrawGame",fragShader:A,vertShader:d},{name:"ColorMatrix",fragShader:a}],w=r(y,"shaders",[]);y.shaders=P.concat(w),y.vertShader||(y.vertShader=E),y.batchSize=1,i.call(this,y),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var x=this.shaders,y=this.renderer;this.drawSpriteShader=x[0],this.copyShader=x[1],this.gameShader=x[2],this.colorMatrixShader=x[3],this.fsTarget=new s(y,y.width,y.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var T=new ArrayBuffer(168);this.quadVertexData=T,this.quadVertexViewF32=new Float32Array(T),this.quadVertexBuffer=y.createVertexBuffer(T,this.gl.STATIC_DRAW),this.onResize(y.width,y.height),this.currentShader=this.copyShader,this.set2f("uResolution",y.width,y.height)},onResize:function(x,y){var T=this.quadVertexViewF32;T[1]=y,T[22]=y,T[14]=x,T[28]=x,T[35]=x,T[36]=y},batchQuad:function(x,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G,X){var V=Math.min(y,E,P,I),B=Math.min(T,A,w,O),z=Math.max(y,E,P,I),$=Math.max(T,A,w,O),j=z-V,k=$-B,q=this.spriteBounds.setTo(V,B,j,k),Q=x?x.preFX.padding:0,Z=j+Q*2,_=k+Q*2,et=Math.abs(Math.max(Z,_)),it=this.manager.getRenderTarget(et),st=this.targetBounds.setTo(0,0,it.width,it.height);g(st,Math.round(q.centerX),Math.round(q.centerY)),this.tempSprite=x;var nt=this.gl,lt=this.renderer;lt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",lt.width,lt.height),this.flipProjectionMatrix(!0),x&&(this.onDrawSprite(x,it),x.preFX.onFX(this));var ut=this.fsTarget;return this.flush(),nt.viewport(0,0,lt.width,lt.height),nt.bindFramebuffer(nt.FRAMEBUFFER,ut.framebuffer.webGLFramebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,ut.texture.webGLTexture,0),nt.clearColor(0,0,0,0),nt.clear(nt.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(y,T,F,L,0,G,U),this.batchVert(E,A,F,b,0,G,H),this.batchVert(P,w,D,b,0,G,Y),this.batchVert(y,T,F,L,0,G,U),this.batchVert(P,w,D,b,0,G,Y),this.batchVert(I,O,D,L,0,G,W),this.flush(),this.flipProjectionMatrix(!1),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,it.texture.webGLTexture),nt.copyTexSubImage2D(nt.TEXTURE_2D,0,0,0,st.x,st.y,st.width,st.height),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null),this.onBatch(x),this.currentShader=this.copyShader,this.onDraw(it,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(x,y,T,E,A,P,w){T===void 0&&(T=!0),E===void 0&&(E=!0),A===void 0&&(A=!1),w===void 0&&(w=this.copyShader);var I=this.gl,O=this.tempSprite;P&&(w=this.colorMatrixShader),this.currentShader=w;var F=this.setVertexBuffer(this.quadVertexBuffer);w.bind(F,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),O.preFX.onFXCopy(this),this.onCopySprite(x,y,O),P&&(this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha)),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,x.texture.webGLTexture),x.height>y.height)I.viewport(0,0,x.width,x.height),this.setTargetUVs(x,y);else{var D=y.height-x.height;I.viewport(0,D,x.width,x.height),this.resetUVs()}if(I.bindFramebuffer(I.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,y.texture.webGLTexture,0),T&&(I.clearColor(0,0,0,+!E),I.clear(I.COLOR_BUFFER_BIT)),A){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}I.bufferData(I.ARRAY_BUFFER,this.quadVertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),A&&this.renderer.setBlendMode(b),I.bindFramebuffer(I.FRAMEBUFFER,null)},copy:function(x,y){var T=this.gl;this.set1i("uMainSampler",0),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,x.texture.webGLTexture),T.viewport(0,0,x.width,x.height),this.setUVs(0,0,0,1,1,1,1,0),T.bindFramebuffer(T.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,y.texture.webGLTexture,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.quadVertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null)},blendFrames:function(x,y,T,E,A){this.manager.blendFrames(x,y,T,E,A)},blendFramesAdditive:function(x,y,T,E,A){this.manager.blendFramesAdditive(x,y,T,E,A)},drawToGame:function(x){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(x)},copyToGame:function(x){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(x)},bindAndDraw:function(x){var y=this.gl,T=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(x.texture);var E=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,P=this.targetBounds.y,w=A+x.width,I=P+x.height,O=E.getX(A,P),F=E.getX(A,I),L=E.getX(w,I),D=E.getX(w,P),b=E.getY(A,P),U=E.getY(A,I),W=E.getY(w,I),H=E.getY(w,P),Y=16777215;this.batchVert(O,b,0,0,0,0,Y),this.batchVert(F,U,0,1,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(O,b,0,0,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(D,H,1,0,0,0,Y),T.restoreFramebuffer(!1,!0),T.currentFramebuffer||y.viewport(0,0,T.width,T.height),T.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(x){this.drawToGame(x)},setUVs:function(x,y,T,E,A,P,w,I){var O=this.quadVertexViewF32;O[2]=x,O[3]=y,O[9]=T,O[10]=E,O[16]=A,O[17]=P,O[23]=x,O[24]=y,O[30]=A,O[31]=P,O[37]=w,O[38]=I},setTargetUVs:function(x,y){var T=y.height/x.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,i.prototype.destroy.call(this),this}});f.exports=v},81041:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(57516),a=new h({Extends:o,initialize:function(i){i.topology=5,i.batchSize=g(i,"batchSize",256),o.call(this,i)}});f.exports=a},12385:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(57516),a=t(45561),r=t(60722),i=t(29100),n=new h({Extends:o,initialize:function(s){s.fragShader=g(s,"fragShader",a),s.vertShader=g(s,"vertShader",r),s.forceZero=!0,o.call(this,s)},boot:function(){i.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});f.exports=n},7589:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35407),g=t(10312),o=t(83419),a=t(89422),r=t(96293),i=t(36682),n=t(95540),l=t(48247),s=t(49627),u=t(29100),d=new o({Extends:u,initialize:function(v){v.renderTarget=n(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=n(v,"vertShader",s),v.shaders=n(v,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),v.attributes=n(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,u.call(this,v),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var c=this.shaders,v=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(c,v,x,y,T){x===void 0&&(x=1),y===void 0&&(y=!0),T===void 0&&(T=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,c.texture.webGLTexture),v?(E.viewport(0,0,v.width,v.height),E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture.webGLTexture,0)):E.viewport(0,0,c.width,c.height),y&&(T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(c,v,x,y,T,E,A){x===void 0&&(x=1),y===void 0&&(y=!0),T===void 0&&(T=!0),E===void 0&&(E=!1),A===void 0&&(A=!1);var P=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture.webGLTexture),c.height>v.height)P.viewport(0,0,c.width,c.height),this.setTargetUVs(c,v);else{var w=v.height-c.height;P.viewport(0,w,c.width,c.height)}if(P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture.webGLTexture,0),y&&(T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),E){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}A&&this.flipY(),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),E&&this.renderer.setBlendMode(I),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,v,x,y,T,E,A,P){A===void 0&&(A=!0),P===void 0&&(P=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,c.texture.webGLTexture,0),A&&(P?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,v.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,x,y,T,E),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(c){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,c.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(c,v,x,y){x===void 0&&(x=!0),y===void 0&&(y=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",y.getData()),this.set1f("uAlpha",y.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,c.texture.webGLTexture),v?(T.viewport(0,0,v.width,v.height),T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture.webGLTexture,0)):T.viewport(0,0,c.width,c.height),x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(c,v,x,y,T,E){y===void 0&&(y=1),T===void 0&&(T=!0),E===void 0&&(E=this.linearShader);var A=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",y),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,c.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,v.texture.webGLTexture),x?(A.bindFramebuffer(A.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,x.texture.webGLTexture,0),A.viewport(0,0,x.width,x.height)):A.viewport(0,0,c.width,c.height),T?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(c,v,x,y,T){this.blendFrames(c,v,x,y,T,this.addShader)},clearFrame:function(c,v){v===void 0&&(v=!0);var x=this.gl;x.viewport(0,0,c.width,c.height),x.bindFramebuffer(x.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),v?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT);var y=this.renderer.currentFramebuffer;x.bindFramebuffer(x.FRAMEBUFFER,y.webGLFramebuffer)},setUVs:function(c,v,x,y,T,E,A,P){var w=this.vertexViewF32;w[2]=c,w[3]=v,w[6]=x,w[7]=y,w[10]=T,w[11]=E,w[14]=c,w[15]=v,w[18]=T,w[19]=E,w[22]=A,w[23]=P},setTargetUVs:function(c,v){var x=v.height/c.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});f.exports=d},36060:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};f.exports=S},84817:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelineafterflush"},36712:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelinebeforeflush"},40285:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelinebind"},65918:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelineboot"},92852:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelinedestroy"},56072:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelinerebind"},57566:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pipelineresize"},77085:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(99155),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.amount=1},onPreRender:function(r,i){r=this.getController(r),this.set1f("amount",r.amount,i)}});f.exports=a},67329:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(24400),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var i=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var s=2/r.width*i.offsetX,u=2/r.height*i.offsetY,d=0;d<i.steps;d++)this.set2f("offset",s,0),this.copySprite(r,n),this.set2f("offset",0,u),this.copySprite(n,r);this.blendFrames(l,r,n,i.strength),this.copyToGame(n)}});f.exports=a},8861:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(41514),o=t(51078),a=t(94328),r=t(84057),i=new h({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:g},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),s=this.gl,u=this.fullFrame1,d=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var c=0;c<l.steps;c++)this.set2f("offset",l.x,0),this.copySprite(n,u),this.set2f("offset",0,l.y),this.copySprite(u,n);s.bindFramebuffer(s.FRAMEBUFFER,d),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(n)}});f.exports=i},51051:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(90610),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("amount",r.amount,i),this.set1f("contrast",r.contrast,i),this.set1f("strength",r.strength,i),this.set2f("blur",r.blurX,r.blurY,i),this.setBoolean("isTiltShift",r.isTiltShift,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});f.exports=a},89428:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(91899),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("scale",r.scale,i),this.set1f("feather",r.feather,i),this.set1f("thickness",r.thickness,i),this.set3fv("color",r.glcolor,i),this.set4fv("backgroundColor",r.glcolor2,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});f.exports=a},88904:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(84057),o=new h({Extends:g,initialize:function(r){g.call(this,{game:r})},onDraw:function(a){var r=this.fullFrame1;this.controller?this.manager.drawFrame(a,r,!0,this.controller):this.drawFrame(a,r),this.copyToGame(r)}});f.exports=o},63563:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(47838),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var i=this.game.textures.getFrame(r);i&&(this.glTexture=i.glTexture)},onDraw:function(r){var i=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});f.exports=a},94045:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=t(98656),a=t(84057),r=t(70554),i=new h({Extends:a,initialize:function(l,s){var u=g(s,"quality",.1),d=g(s,"distance",10);a.call(this,{game:l,fragShader:r.setGlowQuality(o,l,u,d)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,s,u){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),s&&u&&this.set2f("resolution",s,u,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});f.exports=i},74088:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(70463),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,i){r=this.getController(r),this.set1f("alpha",r.alpha,i),this.set1i("size",r.size,i),this.set3fv("color1",r.glcolor1,i),this.set3fv("color2",r.glcolor2,i),this.set2f("positionFrom",r.fromX,r.fromY,i),this.set2f("positionTo",r.toX,r.toY,i)}});f.exports=a},99636:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50831),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.amount=1},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("amount",r.amount,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});f.exports=a},34700:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(92595),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,i){r=this.getController(r);var n=r.samples;this.set1i("samples",n,i),this.set1f("intensity",r.intensity,i),this.set1f("decay",r.decay,i),this.set1f("power",r.power/n,i),this.set2f("lightPosition",r.x,r.y,i),this.set4fv("color",r.glcolor,i)}});f.exports=a},91157:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(72464),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,i,n,l){r=this.getController(r),this.setTime("time",i),this.set1f("speed",r.speed,i),this.set1f("lineWidth",r.lineWidth,i),this.set1f("gradient",r.gradient,i),this.setBoolean("reveal",r.reveal,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});f.exports=a},27797:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(39249),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,i){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("strength",r.strength,i),this.set2f("position",r.x,r.y,i)}});f.exports=a},67603:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(2878),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:g}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,i){r=this.getController(r);var n=r.progress,l=r.wipeWidth,s=r.direction,u=r.axis;this.set4f("config",n,l,s,u,i),this.setBoolean("reveal",r.reveal,i)}});f.exports=a},58918:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};f.exports=h},96615:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36060),g=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=g(!1,o,h),f.exports=o},35407:f=>{f.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:f=>{f.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:f=>{f.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:f=>{f.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:f=>{f.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:f=>{f.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:f=>{f.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:f=>{f.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:f=>{f.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:f=>{f.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:f=>{f.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:f=>{f.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:f=>{f.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:f=>{f.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:f=>{f.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:f=>{f.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:f=>{f.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:f=>{f.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:f=>{f.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:f=>{f.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:f=>{f.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:f=>{f.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:f=>{f.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:f=>{f.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:f=>{f.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:f=>{f.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:f=>{f.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:f=>{f.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:f=>{f.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:f=>{f.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:f=>{f.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:f=>{f.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:f=>{f.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:f=>{f.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(f,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(f,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){this.webGLAttribLocation=-1,this.gl=a,this.program=r,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});f.exports=g},26128:(f,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n){this.webGLBuffer=null,this.gl=a,this.initialDataOrSize=r,this.bufferType=i,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var a=this.bufferType,r=o.createBuffer();this.webGLBuffer=r,o.bindBuffer(a,this.webGLBuffer),o.bufferData(a,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(a,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});f.exports=g},84387:(f,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new h({initialize:function(r,i,n,l,s){this.webGLFramebuffer=null,this.gl=r,this.width=i,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=this.renderTexture,i=0,n=a.createFramebuffer();if(this.webGLFramebuffer=n,a.bindFramebuffer(a.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,r.webGLTexture,0),i=a.checkFramebufferStatus(a.FRAMEBUFFER),i!==a.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(g[i]||i));if(this.addDepthStencilBuffer){var l=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,l),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,l)}a.bindFramebuffer(a.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var a=this.gl;if(!a.isContextLost()){a.bindFramebuffer(a.FRAMEBUFFER,this.webGLFramebuffer);var r=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.deleteTexture(r));var i=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);i!==null&&a.deleteRenderbuffer(i),a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});f.exports=o},1482:(f,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){this.webGLProgram=null,this.gl=a,this.vertexSource=r,this.fragmentSource=i,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var a=o.createProgram(),r=o.createShader(o.VERTEX_SHADER),i=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(r,this.vertexSource),o.shaderSource(i,this.fragmentSource),o.compileShader(r),o.compileShader(i);var n=`Shader failed:
`;if(!o.getShaderParameter(r,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(r));if(!o.getShaderParameter(i,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(i));if(o.attachShader(a,r),o.attachShader(a,i),o.linkProgram(a),!o.getProgramParameter(a,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(a));o.useProgram(a),this.webGLProgram=a}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});f.exports=g},82751:(f,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50030),o=new h({initialize:function(r,i,n,l,s,u,d,c,v,x,y,T,E){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=i,this.minFilter=n,this.magFilter=l,this.wrapT=s,this.wrapS=u,this.format=d,this.pixels=c,this.width=v,this.height=x,this.pma=y??!0,this.forceSize=!!T,this.flipY=!!E,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var r=a.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(a,r,i,n,l,s,u,d,c){if(!(r===0||i===0)){this.pixels=a,this.width=r,this.height=i,this.flipY=n,this.wrapS=l,this.wrapT=s,this.minFilter=u,this.magFilter=d,this.format=c;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var a=this.gl;a.activeTexture(a.TEXTURE0);var r=a.getParameter(a.TEXTURE_BINDING_2D);a.bindTexture(a.TEXTURE_2D,this.webGLTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.minFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.magFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this.wrapS),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this.wrapT),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels,n=this.mipLevel,l=this.width,s=this.height,u=this.format,d=!1;if(i==null)a.texImage2D(a.TEXTURE_2D,n,u,l,s,0,u,a.UNSIGNED_BYTE,null),d=g(l,s);else if(i.compressed){l=i.width,s=i.height,d=i.generateMipmap;for(var c=0;c<i.mipmaps.length;c++)a.compressedTexImage2D(a.TEXTURE_2D,c,i.internalFormat,i.mipmaps[c].width,i.mipmaps[c].height,0,i.mipmaps[c].data)}else i instanceof Uint8Array?(a.texImage2D(a.TEXTURE_2D,n,u,l,s,0,u,a.UNSIGNED_BYTE,i),d=g(l,s)):(this.forceSize||(l=i.width,s=i.height),a.texImage2D(a.TEXTURE_2D,n,u,u,a.UNSIGNED_BYTE,i),d=g(l,s));d&&a.generateMipmap(a.TEXTURE_2D),r?a.bindTexture(a.TEXTURE_2D,r):a.bindTexture(a.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(a){this.__SPECTOR_Metadata=a,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=a)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});f.exports=o},57183:(f,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i){this.webGLUniformLocation=null,this.gl=a,this.program=r,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});f.exports=g},9503:(f,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};f.exports=h},76531:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),g=t(83419),o=t(50792),a=t(97480),r=t(8443),i=t(57811),n=t(74403),l=t(45818),s=t(29747),u=t(87841),d=t(86555),c=t(56583),v=t(26099),x=t(38058),y=new g({Extends:o,initialize:function(E){o.call(this),this.game=E,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:s,windowResize:s,fullScreenChange:s,fullScreenError:s}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var T=this.game;this.canvas=T.canvas,this.fullscreen=T.device.fullscreen;var E=this.scaleMode;E!==h.SCALE_MODE.RESIZE&&E!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(E),E===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),T.events.on(r.PRE_STEP,this.step,this),T.events.once(r.READY,this.refresh,this),T.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(T){this.getParent(T),this.getParentBounds();var E=T.width,A=T.height,P=T.scaleMode,w=T.zoom,I=T.autoRound;if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var O=this.parentSize.width;O===0&&(O=window.innerWidth);var F=parseInt(E,10)/100;E=Math.floor(O*F)}if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var D=parseInt(A,10)/100;A=Math.floor(L*D)}this.scaleMode=P,this.autoRound=I,this.autoCenter=T.autoCenter,this.resizeInterval=T.resizeInterval,I&&(E=Math.floor(E),A=Math.floor(A)),this.gameSize.setSize(E,A),w===h.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(E,A),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),T.minWidth>0&&this.displaySize.setMin(T.minWidth*w,T.minHeight*w),T.maxWidth>0&&this.displaySize.setMax(T.maxWidth*w,T.maxHeight*w),this.displaySize.setSize(E,A),(T.snapWidth>0||T.snapHeight>0)&&this.displaySize.setSnap(T.snapWidth,T.snapHeight),this.orientation=l(E,A)},getParent:function(T){var E=T.parent;if(E!==null){if(this.parent=n(E),this.parentIsWindow=this.parent===document.body,T.expandParent&&T.scaleMode!==h.SCALE_MODE.NONE){var A=this.parent.getBoundingClientRect();(this.parentIsWindow||A.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",A=this.parent.getBoundingClientRect(),!this.parentIsWindow&&A.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}T.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(T.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var T=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=i(!0));var A=E.width,P=E.height;if(T.width!==A||T.height!==P)return T.setSize(A,P),!0;if(this.canvas){var w=this.canvasBounds,I=this.canvas.getBoundingClientRect();if(I.x!==w.x||I.y!==w.y)return!0}return!1},lockOrientation:function(T){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return E?E.call(screen,T):!1},setParentSize:function(T,E){return this.parentSize.setSize(T,E),this.refresh()},setGameSize:function(T,E){var A=this.autoRound;A&&(T=Math.floor(T),E=Math.floor(E));var P=this.width,w=this.height;return this.gameSize.resize(T,E),this.baseSize.resize(T,E),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(T/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(P,w)},resize:function(T,E){var A=this.zoom,P=this.autoRound;P&&(T=Math.floor(T),E=Math.floor(E));var w=this.width,I=this.height;this.gameSize.resize(T,E),this.baseSize.resize(T,E),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(T*A,E*A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var O=this.canvas.style,F=T*A,L=E*A;return P&&(F=Math.floor(F),L=Math.floor(L)),(F!==T||L!==E)&&(O.width=F+"px",O.height=L+"px"),this.refresh(w,I)},setZoom:function(T){return this.zoom=T,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(T,E){return T===void 0&&(T=0),E===void 0&&(E=T),this.displaySize.setSnap(T,E),this.refresh()},refresh:function(T,E){T===void 0&&(T=this.width),E===void 0&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var A=this.game.domContainer;if(A){this.baseSize.setCSS(A);var P=this.canvas.style,w=A.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=P.marginLeft,w.marginTop=P.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,T,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var T=l(this.width,this.height);T!==this.orientation&&(this.orientation=T,this.emit(a.ORIENTATION_CHANGE,T))}},updateScale:function(){var T=this.canvas.style,E=this.gameSize.width,A=this.gameSize.height,P,w,I=this.zoom,O=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(E*I,A*I),P=this.displaySize.width,w=this.displaySize.height,O&&(P=Math.floor(P),w=Math.floor(w)),this._resetZoom&&(T.width=P+"px",T.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),P=this.displaySize.width,w=this.displaySize.height,O&&(P=Math.floor(P),w=Math.floor(w)),this.canvas.width=P,this.canvas.height=w;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var F=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,w=this.displaySize.height,O&&(P=Math.floor(P),w=Math.floor(w)),T.width=P+"px",T.height=w+"px";var D=this.parentSize.width/F,b=this.parentSize.height/L;D<b&&D!==0?this.baseSize.setSize(F,this.parentSize.height/D):b!==0&&this.baseSize.setSize(this.displaySize.width/b,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),P=this.baseSize.width,w=this.baseSize.height,O&&(P=Math.floor(P),w=Math.floor(w)),this.canvas.width=P,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,w=this.displaySize.height,O&&(P=Math.floor(P),w=Math.floor(w)),T.width=P+"px",T.height=w+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var T=c(this.parentSize.width,this.gameSize.width,0,!0),E=c(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(T,E),1)},updateCenter:function(){var T=this.autoCenter;if(T!==h.CENTER.NO_CENTER){var E=this.canvas,A=E.style,P=E.getBoundingClientRect(),w=P.width,I=P.height,O=Math.floor((this.parentSize.width-w)/2),F=Math.floor((this.parentSize.height-I)/2);T===h.CENTER.CENTER_HORIZONTALLY?F=0:T===h.CENTER.CENTER_VERTICALLY&&(O=0),A.marginLeft=O+"px",A.marginTop=F+"px"}},updateBounds:function(){var T=this.canvasBounds,E=this.canvas.getBoundingClientRect();T.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),T.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),T.width=E.width,T.height=E.height},transformX:function(T){return(T-this.canvasBounds.left)*this.displayScale.x},transformY:function(T){return(T-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(T){T===void 0&&(T={navigationUI:"hide"});var E=this.fullscreen;if(!E.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!E.active){var A=this.getFullscreenTarget();E.keyboard?A[E.request](Element.ALLOW_KEYBOARD_INPUT):A[E.request](T)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(T){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,T)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var T=document.createElement("div");T.style.margin="0",T.style.padding="0",T.style.width="100%",T.style.height="100%",this.fullscreenTarget=T,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var E=this.canvas.parentNode;E.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var T=this.fullscreenTarget;if(T&&T.parentNode){var E=T.parentNode;E.insertBefore(this.canvas,T),E.removeChild(T)}}},stopFullscreen:function(){var T=this.fullscreen;if(!T.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;T.active&&document[T.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(T){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(T)},startListeners:function(){var T=this,E=this.domlisteners;if(E.orientationChange=function(){T.updateBounds(),T._checkOrientation=!0,T.dirty=!0,T.refresh()},E.windowResize=function(){T.updateBounds(),T.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",E.orientationChange,!1):window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available){E.fullScreenChange=function(P){return T.onFullScreenChange(P)},E.fullScreenError=function(P){return T.onFullScreenError(P)};var A=["webkit","moz",""];A.forEach(function(P){document.addEventListener(P+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(P+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(T,E){T instanceof x||(E=T,T=void 0),E===void 0&&(E=new u);var A=this.baseSize,P=this.parentSize,w=this.canvasBounds,I=this.displayScale,O=w.x>=0?0:-(w.x*I.x),F=w.y>=0?0:-(w.y*I.y),L;P.width>=w.width?L=A.width:L=A.width-(w.width-P.width)*I.x;var D;return P.height>=w.height?D=A.height:D=A.height-(w.height-P.height)*I.y,E.setTo(O,F,L,D),T&&(E.width/=T.zoomX,E.height/=T.zoomY,E.centerX=T.centerX+T.scrollX,E.centerY=T.centerY+T.scrollY),E},step:function(T,E){this.parent&&(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var T=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",T.orientationChange,!1):window.removeEventListener("orientationchange",T.orientationChange,!1),window.removeEventListener("resize",T.windowResize,!1);var E=["webkit","moz",""];E.forEach(function(A){document.removeEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.removeEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",T.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});f.exports=y},64743:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};f.exports=h},56139:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="enterfullscreen"},2336:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="fullscreenfailed"},47412:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="fullscreenunsupported"},51452:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="leavefullscreen"},20666:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="orientationchange"},47945:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resize"},97480:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=h(!1,o,g.CENTER),o=h(!1,o,g.ORIENTATION),o=h(!1,o,g.SCALE_MODE),o=h(!1,o,g.ZOOM),f.exports=o},27397:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=t(35355),o=function(a){var r=a.game.config.defaultPhysicsSystem,i=h(a.settings,"physics",!1);if(!(!r&&!i)){var n=[];if(r&&n.push(g(r+"Physics")),i)for(var l in i)l=g(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};f.exports=o},52106:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o){var a=o.plugins.getDefaultScenePlugins(),r=h(o.settings,"plugins",!1);return Array.isArray(r)?r:a||[]};f.exports=g},87033:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};f.exports=S},97482:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(2368),o=new h({initialize:function(r){this.sys=new g(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});f.exports=o},60903:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89993),o=t(44594),a=t(8443),r=t(35154),i=t(54899),n=t(29747),l=t(97482),s=t(2368),u=new h({initialize:function(c,v){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var x=0;x<v.length;x++)this._pending.push({key:"default",scene:v[x],autoStart:x===0,data:{}})}c.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(a.SYSTEM_READY,this.systemScene,this);var d,c,v,x;for(d=0;d<this._pending.length;d++){c=this._pending[d],v=c.key,x=c.scene;var y;x instanceof l?y=this.createSceneFromInstance(v,x):typeof x=="object"?y=this.createSceneFromObject(v,x):typeof x=="function"&&(y=this.createSceneFromFunction(v,x)),v=y.sys.settings.key,this.keys[v]=y,this.scenes.push(y),this._data[v]&&(y.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(c.autoStart=!0)),(c.autoStart||y.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,d=0;d<this._start.length;d++)c=this._start[d],this.start(c);this._start.length=0}},processQueue:function(){var d=this._pending.length,c=this._queue.length;if(!(d===0&&c===0)){var v,x;if(d){for(v=0;v<d;v++)x=this._pending[v],this.add(x.key,x.scene,x.autoStart,x.data);for(v=0;v<this._start.length;v++)x=this._start[v],this.start(x);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)x=this._queue[v],this[x.op](x.keyA,x.keyB,x.data);this._queue.length=0}},add:function(d,c,v,x){if(v===void 0&&(v=!1),x===void 0&&(x={}),this.isProcessing||!this.isBooted)return this._pending.push({key:d,scene:c,autoStart:v,data:x}),this.isBooted||(this._data[d]={data:x}),null;d=this.getKey(d,c);var y;return c instanceof l?y=this.createSceneFromInstance(d,c):typeof c=="object"?(c.key=d,y=this.createSceneFromObject(d,c)):typeof c=="function"&&(y=this.createSceneFromFunction(d,c)),y.sys.settings.data=x,d=y.sys.settings.key,this.keys[d]=y,this.scenes.push(y),(v||y.sys.settings.active)&&(this._pending.length?this._start.push(d):this.start(d)),y},remove:function(d){if(this.isProcessing)return this.queueOp("remove",d);var c=this.getScene(d);if(!c||c.sys.isTransitioning())return this;var v=this.scenes.indexOf(c),x=c.sys.settings.key;return v>-1&&(delete this.keys[x],this.scenes.splice(v,1),this._start.indexOf(x)>-1&&(v=this._start.indexOf(x),this._start.splice(v,1)),c.sys.destroy()),this},bootScene:function(d){var c=d.sys,v=c.settings;c.sceneUpdate=n,d.init&&(d.init.call(d,v.data),v.status=g.INIT,v.isTransition&&c.events.emit(o.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var x;c.load&&(x=c.load,x.reset()),x&&d.preload?(d.preload.call(d),v.status=g.LOADING,x.once(i.COMPLETE,this.loadComplete,this),x.start()):this.create(d)},loadComplete:function(d){this.create(d.scene)},payloadComplete:function(d){this.bootScene(d.scene)},update:function(d,c){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var x=this.scenes[v].sys;x.settings.status>g.START&&x.settings.status<=g.RUNNING&&x.step(d,c),x.scenePlugin&&x.scenePlugin._target&&x.scenePlugin.step(d,c)}},render:function(d){for(var c=0;c<this.scenes.length;c++){var v=this.scenes[c].sys;v.settings.visible&&v.settings.status>=g.LOADING&&v.settings.status<g.SLEEPING&&v.render(d)}this.isProcessing=!1},create:function(d){var c=d.sys,v=c.settings;d.create&&(v.status=g.CREATING,d.create.call(d,v.data),v.status===g.DESTROYED)||(v.isTransition&&c.events.emit(o.TRANSITION_START,v.transitionFrom,v.transitionDuration),d.update&&(c.sceneUpdate=d.update),v.status=g.RUNNING,c.events.emit(o.CREATE,d))},createSceneFromFunction:function(d,c){var v=new c;if(v instanceof l){var x=v.sys.settings.key;if(x!==""&&(d=x),this.keys.hasOwnProperty(d))throw new Error("Cannot add Scene with duplicate key: "+d);return this.createSceneFromInstance(d,v)}else return v.sys=new s(v),v.sys.settings.key=d,v.sys.init(this.game),v},createSceneFromInstance:function(d,c){var v=c.sys.settings.key;return v===""&&(c.sys.settings.key=d),c.sys.init(this.game),c},createSceneFromObject:function(d,c){var v=new l(c),x=v.sys.settings.key;x!==""?d=x:v.sys.settings.key=d,v.sys.init(this.game);for(var y=["init","preload","create","update","render"],T=0;T<y.length;T++){var E=r(c,y[T],null);E&&(v[y[T]]=E)}if(c.hasOwnProperty("extend")){for(var A in c.extend)if(c.extend.hasOwnProperty(A)){var P=c.extend[A];A==="data"&&v.hasOwnProperty("data")&&typeof P=="object"?v.data.merge(P):A!=="sys"&&(v[A]=P)}}return v},getKey:function(d,c){if(d||(d="default"),typeof c=="function")return d;if(c instanceof l?d=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(d=c.key),this.keys.hasOwnProperty(d))throw new Error("Cannot add Scene with duplicate key: "+d);return d},getScenes:function(d,c){d===void 0&&(d=!0),c===void 0&&(c=!1);for(var v=[],x=this.scenes,y=0;y<x.length;y++){var T=x[y];T&&(!d||d&&T.sys.isActive())&&v.push(T)}return c?v.reverse():v},getScene:function(d){if(typeof d=="string"){if(this.keys[d])return this.keys[d]}else for(var c=0;c<this.scenes.length;c++)if(d===this.scenes[c])return d;return null},isActive:function(d){var c=this.getScene(d);return c?c.sys.isActive():null},isPaused:function(d){var c=this.getScene(d);return c?c.sys.isPaused():null},isVisible:function(d){var c=this.getScene(d);return c?c.sys.isVisible():null},isSleeping:function(d){var c=this.getScene(d);return c?c.sys.isSleeping():null},pause:function(d,c){var v=this.getScene(d);return v&&v.sys.pause(c),this},resume:function(d,c){var v=this.getScene(d);return v&&v.sys.resume(c),this},sleep:function(d,c){var v=this.getScene(d);return v&&!v.sys.isTransitioning()&&v.sys.sleep(c),this},wake:function(d,c){var v=this.getScene(d);return v&&v.sys.wake(c),this},run:function(d,c){var v=this.getScene(d);if(!v){for(var x=0;x<this._pending.length;x++)if(this._pending[x].key===d){this.queueOp("start",d,c);break}return this}v.sys.isSleeping()?v.sys.wake(c):v.sys.isPaused()?v.sys.resume(c):this.start(d,c)},start:function(d,c){if(!this.isBooted)return this._data[d]={autoStart:!0,data:c},this;var v=this.getScene(d);if(!v)return console.warn("Scene key not found: "+d),this;var x=v.sys,y=x.settings.status;if(y>=g.START&&y<=g.CREATING)return this;if(y>=g.RUNNING&&y<=g.SLEEPING)x.shutdown(),x.sceneUpdate=n,x.start(c);else{x.sceneUpdate=n,x.start(c);var T;if(x.load&&(T=x.load),T&&x.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:x.settings.pack})))return x.settings.status=g.LOADING,T.once(i.COMPLETE,this.payloadComplete,this),T.start(),this}return this.bootScene(v),this},stop:function(d,c){var v=this.getScene(d);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==g.SHUTDOWN){var x=v.sys.load;x&&(x.off(i.COMPLETE,this.loadComplete,this),x.off(i.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(c)}return this},switch:function(d,c,v){var x=this.getScene(d),y=this.getScene(c);return x&&y&&x!==y&&(this.sleep(d),this.isSleeping(c)?this.wake(c,v):this.start(c,v)),this},getAt:function(d){return this.scenes[d]},getIndex:function(d){var c=this.getScene(d);return this.scenes.indexOf(c)},bringToTop:function(d){if(this.isProcessing)return this.queueOp("bringToTop",d);var c=this.getIndex(d),v=this.scenes;if(c!==-1&&c<v.length){var x=this.getScene(d);v.splice(c,1),v.push(x)}return this},sendToBack:function(d){if(this.isProcessing)return this.queueOp("sendToBack",d);var c=this.getIndex(d);if(c!==-1&&c>0){var v=this.getScene(d);this.scenes.splice(c,1),this.scenes.unshift(v)}return this},moveDown:function(d){if(this.isProcessing)return this.queueOp("moveDown",d);var c=this.getIndex(d);if(c>0){var v=c-1,x=this.getScene(d),y=this.getAt(v);this.scenes[c]=y,this.scenes[v]=x}return this},moveUp:function(d){if(this.isProcessing)return this.queueOp("moveUp",d);var c=this.getIndex(d);if(c<this.scenes.length-1){var v=c+1,x=this.getScene(d),y=this.getAt(v);this.scenes[c]=y,this.scenes[v]=x}return this},moveAbove:function(d,c){if(d===c)return this;if(this.isProcessing)return this.queueOp("moveAbove",d,c);var v=this.getIndex(d),x=this.getIndex(c);if(v!==-1&&x!==-1&&x<v){var y=this.getAt(x);this.scenes.splice(x,1),this.scenes.splice(v+(x>v),0,y)}return this},moveBelow:function(d,c){if(d===c)return this;if(this.isProcessing)return this.queueOp("moveBelow",d,c);var v=this.getIndex(d),x=this.getIndex(c);if(v!==-1&&x!==-1&&x>v){var y=this.getAt(x);this.scenes.splice(x,1),v===0?this.scenes.unshift(y):this.scenes.splice(v-(x<v),0,y)}return this},queueOp:function(d,c,v,x){return this._queue.push({op:d,keyA:c,keyB:v,data:x}),this},swapPosition:function(d,c){if(d===c)return this;if(this.isProcessing)return this.queueOp("swapPosition",d,c);var v=this.getIndex(d),x=this.getIndex(c);if(v!==x&&v!==-1&&x!==-1){var y=this.getAt(v);this.scenes[v]=this.scenes[x],this.scenes[x]=y}return this},dump:function(){for(var d=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var x=this.scenes[v].sys,y=x.settings.visible&&(x.settings.status===g.RUNNING||x.settings.status===g.PAUSED)?"[*] ":"[-] ";y+=x.settings.key+" ("+c[x.settings.status]+")",d.push(y)}console.log(d.join(`
`))},destroy:function(){for(var d=0;d<this.scenes.length;d++){var c=this.scenes[d].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});f.exports=u},52209:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(44594),a=t(95540),r=t(37277),i=new g({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=a(n,"target",!1),s=this.manager.getScene(l);if(!l||!this.checkValidTransition(s))return!1;var u=a(n,"duration",1e3);this._elapsed=0,this._target=s,this._duration=u,this._willSleep=a(n,"sleep",!1),this._willRemove=a(n,"remove",!1);var d=a(n,"onUpdate",null);d&&(this._onUpdate=d,this._onUpdateScope=a(n,"onUpdateScope",this.scene));var c=a(n,"allowInput",!1);this.settings.transitionAllowInput=c;var v=s.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=u,v.transitionAllowInput=c,a(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):a(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),s.sys.isSleeping()?s.sys.wake(a(n,"data")):this.manager.start(l,a(n,"data"));var x=a(n,"onStart",null),y=a(n,"onStartScope",this.scene);return x&&x.call(y,this.scene,s,u),this.systems.events.emit(o.TRANSITION_OUT,s,u),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,s,u){return this.manager.add(n,l,s,u)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n,l){return n!==this.key&&this.manager.queueOp("switch",this.key,n,l),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,s){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(n,s),this},setVisible:function(n,l){l===void 0&&(l=this.key);var s=this.manager.getScene(l);return s&&s.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",i,"scenePlugin"),f.exports=i},55681:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),g=t(35154),o=t(46975),a=t(87033),r={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:h.PENDING,key:g(i,"key",""),active:g(i,"active",!1),visible:g(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(i,"pack",!1),cameras:g(i,"cameras",null),map:g(i,"map",o(a,g(i,"mapAdd",{}))),physics:g(i,"physics",{}),loader:g(i,"loader",{}),plugins:g(i,"plugins",!1),input:g(i,"input",{})}}};f.exports=r},2368:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(89993),o=t(42363),a=t(44594),r=t(27397),i=t(52106),n=t(29747),l=t(55681),s=new h({initialize:function(d,c){this.scene=d,this.game,this.renderer,this.config=c,this.settings=l.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(u){this.settings.status=g.INIT,this.sceneUpdate=n,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var d=u.plugins;this.plugins=d,d.addToScene(this,o.Global,[o.CoreScene,i(this),r(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(u,d){var c=this.events;c.emit(a.PRE_UPDATE,u,d),c.emit(a.UPDATE,u,d),this.sceneUpdate.call(this.scene,u,d),c.emit(a.POST_UPDATE,u,d)},render:function(u){var d=this.displayList;d.depthSort(),this.events.emit(a.PRE_RENDER,u),this.cameras.render(u,d),this.events.emit(a.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var d=this.settings,c=this.getStatus();return c!==g.CREATING&&c!==g.RUNNING?console.warn("Cannot pause non-running Scene",d.key):this.settings.active&&(d.status=g.PAUSED,d.active=!1,this.events.emit(a.PAUSE,this,u)),this},resume:function(u){var d=this.events,c=this.settings;return this.settings.active||(c.status=g.RUNNING,c.active=!0,d.emit(a.RESUME,this,u)),this},sleep:function(u){var d=this.settings,c=this.getStatus();return c!==g.CREATING&&c!==g.RUNNING?console.warn("Cannot sleep non-running Scene",d.key):(d.status=g.SLEEPING,d.active=!1,d.visible=!1,this.events.emit(a.SLEEP,this,u)),this},wake:function(u){var d=this.events,c=this.settings;return c.status=g.RUNNING,c.active=!0,c.visible=!0,d.emit(a.WAKE,this,u),c.isTransition&&d.emit(a.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var u=this.settings.status;return u>g.PENDING&&u<=g.RUNNING},isSleeping:function(){return this.settings.status===g.SLEEPING},isActive:function(){return this.settings.status===g.RUNNING},isPaused:function(){return this.settings.status===g.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,d){return u?this.resume(d):this.pause(d)},start:function(u){var d=this.events,c=this.settings;u&&(c.data=u),c.status=g.START,c.active=!0,c.visible=!0,d.emit(a.START,this),d.emit(a.READY,this,u)},shutdown:function(u){var d=this.events,c=this.settings;d.off(a.TRANSITION_INIT),d.off(a.TRANSITION_START),d.off(a.TRANSITION_COMPLETE),d.off(a.TRANSITION_OUT),c.status=g.SHUTDOWN,c.active=!1,c.visible=!1,d.emit(a.SHUTDOWN,this,u)},destroy:function(){var u=this.events,d=this.settings;d.status=g.DESTROYED,d.active=!1,d.visible=!1,u.emit(a.DESTROY,this),u.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<c.length;v++)this[c[v]]=null}});f.exports=s},89993:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};f.exports=S},69830:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addedtoscene"},7919:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="boot"},46763:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="create"},11763:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},71555:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},36735:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="postupdate"},3809:f=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="prerender"},90716:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="preupdate"},58262:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="ready"},91633:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removedfromscene"},10319:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="render"},87132:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},81961:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="shutdown"},90194:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="sleep"},6265:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},33178:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitioncomplete"},43063:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitioninit"},11259:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitionout"},61611:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitionstart"},45209:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="transitionwake"},22966:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="update"},21747:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="wake"},44594:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),g=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=g(!1,o,h),f.exports=o},30341:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(14463),a=t(79291),r=t(29747),i=new h({Extends:g,initialize:function(l,s,u){g.call(this),this.manager=l,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=a(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=a(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,s=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});f.exports=i},85034:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(41786),o=t(50792),a=t(14463),r=t(8443),i=t(46710),n=t(58731),l=t(29747),s=t(26099),u=new h({Extends:o,initialize:function(c){o.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s;var v=c.events;v.on(r.BLUR,this.onGameBlur,this),v.on(r.FOCUS,this.onGameFocus,this),v.on(r.PRE_STEP,this.update,this),v.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(d,c){c===void 0&&(c={});var v=this.add(d,c);v.spritemap=this.jsonCache.get(d).spritemap;for(var x in v.spritemap)if(v.spritemap.hasOwnProperty(x)){var y=g(c),T=v.spritemap[x];y.loop=T.hasOwnProperty("loop")?T.loop:!1,v.addMarker({name:x,start:T.start,duration:T.end-T.start,config:y})}return v},get:function(d){return n(this.sounds,"key",d)},getAll:function(d){return d?i(this.sounds,"key",d):i(this.sounds)},getAllPlaying:function(){return i(this.sounds,"isPlaying",!0)},play:function(d,c){var v=this.add(d);return v.once(a.COMPLETE,v.destroy,v),c?c.name?(v.addMarker(c),v.play(c.name)):v.play(c):v.play()},playAudioSprite:function(d,c,v){var x=this.addAudioSprite(d);return x.once(a.COMPLETE,x.destroy,x),x.play(c,v)},remove:function(d){var c=this.sounds.indexOf(d);return c!==-1?(d.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(d){d.destroy()}),this.sounds.length=0},removeByKey:function(d){for(var c=0,v=this.sounds.length-1;v>=0;v--){var x=this.sounds[v];x.key===d&&(x.destroy(),this.sounds.splice(v,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(d){d.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(d){d.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(d){d.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(d){var c=0;return this.getAll(d).forEach(function(v){v.stop()&&c++}),c},isPlaying:function(d){var c=this.sounds,v=c.length-1,x;if(d===void 0){for(;v>=0;v--)if(x=this.sounds[v],x.isPlaying)return!0}else for(;v>=0;v--)if(x=this.sounds[v],x.key===d&&x.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(d,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(x){x.update(d,c)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(d,c){var v=this;this.sounds.forEach(function(x,y){x&&!x.pendingRemove&&d.call(c||v,x,y,v.sounds)})},setRate:function(d){return this.rate=d,this},rate:{get:function(){return this._rate},set:function(d){this._rate=d,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_RATE,this,d)}},setDetune:function(d){return this.detune=d,this},detune:{get:function(){return this._detune},set:function(d){this._detune=d,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,d)}}});f.exports=u},14747:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33684),g=t(25960),o=t(57490),a={create:function(r){var i=r.config.audio,n=r.device.audio;return i.noAudio||!n.webAudio&&!n.audioData?new g(r):n.webAudio&&!i.disableWebAudio?new o(r):new h(r)}};f.exports=a},19723:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},98882:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="decodedall"},57506:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="decoded"},73146:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="destroy"},11305:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="detune"},40577:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="detune"},30333:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="mute"},20394:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="rate"},21802:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="volume"},1299:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="looped"},99190:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="loop"},97125:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="mute"},89259:f=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pan"},79986:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pauseall"},17586:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},19618:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="play"},42306:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="rate"},10387:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resumeall"},48959:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},9960:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="seek"},19180:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stopall"},98328:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stop"},50401:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="unlocked"},52498:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="volume"},14463:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),g=t(83419),o=t(14463),a=t(45319),r=new g({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,n,l,s)},play:function(i,n){return this.manager.isLocked(this,"play",[i,n])||!h.prototype.play.call(this,i,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var n=this.tags[i];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,d){return u.loop===d.loop?d.seek/d.duration-u.seek/u.duration:u.loop?1:-1});var s=l[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,s-l),s=this.audio.currentTime):s<n&&(this.audio.currentTime+=n,s=this.audio.currentTime),s<this.previousTime&&this.emit(o.LOOPED,this);else if(s>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=s}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(o.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(o.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,o.RATE,i)&&(this.calculateRate(),this.emit(o.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,o.DETUNE,i)&&(this.calculateRate(),this.emit(o.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(o.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});f.exports=r},33684:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),g=t(83419),o=t(14463),a=t(64895),r=new g({Extends:h,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,n)},add:function(i,n){var l=new a(this,i,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(u,d){for(var c=0;c<d.length;c++)if(d[c].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},s=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",s);var u=[];if(i.game.cache.audio.entries.each(function(c,v){for(var x=0;x<v.length;x++){var y=v[x];y.dataset.locked==="true"&&u.push(y)}return!0}),u.length!==0){var d=u[u.length-1];d.oncanplaythrough=function(){d.oncanplaythrough=null,u.forEach(function(c){c.dataset.locked="false"}),i.unlocked=!0},u.forEach(function(c){c.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(d){d.currentMarker===null&&d.duration===0&&(d.duration=d.tags[0].duration),d.totalDuration=d.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,n,l){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:n,value:l}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,i)}}});f.exports=r},23717:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),g=t(83419),o=t(50792),a=t(79291),r=t(29747),i=function(){return!1},n=function(){return null},l=function(){return this},s=new g({Extends:o,initialize:function(d,c,v){v===void 0&&(v={}),o.call(this),this.manager=d,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:i,updateMarker:i,removeMarker:n,play:i,pause:i,resume:i,stop:i,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){h.prototype.destroy.call(this)}});f.exports=s},25960:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),g=t(83419),o=t(50792),a=t(4603),r=t(29747),i=new g({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var s=new a(this,n,l);return this.sounds.push(s),s},addAudioSprite:function(n,l){var s=this.add(n,l);return s.spritemap={},s},get:function(n){return h.prototype.get.call(this,n)},getAll:function(n){return h.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,s){return!1},remove:function(n){return h.prototype.remove.call(this,n)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(n){return h.prototype.removeByKey.call(this,n)},stopByKey:function(n){return h.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){h.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){h.prototype.destroy.call(this)}});f.exports=i},71741:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),g=t(83419),o=t(14463),a=t(95540),r=new g({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,n,l,s)},play:function(i,n){return h.prototype.play.call(this,i,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var i=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,s=(this.currentMarker?this.currentMarker.start:0)+i,u=this.duration-i;this.playTime=l-i,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,s),Math.max(0,u)),this.resetConfig()},createAndStartLoopBufferSource:function(){var i=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=i,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,i),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var i=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){var s=l.target;(s===i.source||s===i.loopSource)&&(i.currentConfig.loop?i.hasLooped=!0:i.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var i=this.source;this.source=null,i.stop(),i.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var i=this.currentConfig.source;if(i&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=a(i,"panningModel","equalpower"),n.distanceModel=a(i,"distanceModel","inverse"),n.orientationX.value=a(i,"orientationX",0),n.orientationY.value=a(i,"orientationY",0),n.orientationZ.value=a(i,"orientationZ",-1),n.refDistance=a(i,"refDistance",1),n.maxDistance=a(i,"maxDistance",1e4),n.rolloffFactor=a(i,"rolloffFactor",1),n.coneInnerAngle=a(i,"coneInnerAngle",360),n.coneOuterAngle=a(i,"coneOuterAngle",0),n.coneOuterGain=a(i,"coneOuterGain",0),this.spatialSource=a(i,"follow",null),this.spatialSource||(n.positionX.value=a(i,"x",0),n.positionY.value=a(i,"y",0),n.positionZ.value=a(i,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(i){this.spatialNode&&(this.spatialNode.positionX.value=i)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(i){this.spatialNode&&(this.spatialNode.positionY.value=i)}},update:function(){if(this.isPlaying&&this.spatialSource){var i=a(this.spatialSource,"x",null),n=a(this.spatialSource,"y",null);i&&i!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=i),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var i=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,i),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,i)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var i=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,i+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return i},getLoopTime:function(){for(var i=0,n=0;n<this.rateUpdates.length-1;n++)i+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-i)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,this.calculateRate(),this.emit(o.RATE,this,i)}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,this.calculateRate(),this.emit(o.DETUNE,this,i)}},setDetune:function(i){return this.detune=i,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(i){this.currentConfig.mute=i,this.muteNode.gain.setValueAtTime(i?0:1,0),this.emit(o.MUTE,this,i)}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(i){this.currentConfig.volume=i,this.volumeNode.gain.setValueAtTime(i,0),this.emit(o.VOLUME,this,i)}},setVolume:function(i){return this.volume=i,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.currentConfig.seek=i,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),i&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,i)}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(i){this.currentConfig.pan=i,this.pannerNode&&this.pannerNode.pan.setValueAtTime(i,this.manager.context.currentTime),this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});f.exports=r},57490:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53134),g=t(85034),o=t(83419),a=t(14463),r=t(8443),i=t(71741),n=t(95540),l=new o({Extends:g,initialize:function(u){this.context=this.createAudioContext(u),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",g.call(this,u),this.locked&&(u.isBooted?this.unlock():u.events.once(r.BOOT,this.unlock,this)),u.events.on(r.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var s=this.context;window.setTimeout(function(){s&&(s.suspend(),s.resume())},100)},createAudioContext:function(s){var u=s.config.audio;if(u.context)return u.context.resume(),u.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,u){var d=new i(this,s,u);return this.sounds.push(d),d},decodeAudio:function(s,u){var d;Array.isArray(s)?d=s:d=[{key:s,data:u}];for(var c=this.game.cache.audio,v=d.length,x=0;x<d.length;x++){var y=d[x],T=y.key,E=y.data;typeof E=="string"&&(E=h(E));var A=(function(w,I){c.add(w,I),this.emit(a.DECODED,w),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,T),P=(function(w,I){console.error("Error decoding audio: "+w+" - ",I?I.message:""),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,T);this.context.decodeAudioData(E,A,P)}},setListenerPosition:function(s,u){return s===void 0&&(s=this.game.scale.width/2),u===void 0&&(u=this.game.scale.height/2),this.listenerPosition.set(s,u),this},unlock:function(){var s=this,u=document.body,d=function c(){if(s.context&&u){var v=u.removeEventListener.bind(u);s.context.resume().then(function(){v("touchstart",c),v("touchend",c),v("mousedown",c),v("mouseup",c),v("keydown",c),s.unlocked=!0},function(){v("touchstart",c),v("touchend",c),v("mousedown",c),v("mouseup",c),v("keydown",c)})}};u&&(u.addEventListener("touchstart",d,!1),u.addEventListener("touchend",d,!1),u.addEventListener("mousedown",d,!1),u.addEventListener("mouseup",d,!1),u.addEventListener("keydown",d,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,u){var d=this.context.listener;if(d&&d.positionX!==void 0){var c=n(this.listenerPosition,"x",null),v=n(this.listenerPosition,"y",null);c&&c!==this._spatialx&&(this._spatialx=d.positionX.value=c),v&&v!==this._spatialy&&(this._spatialy=d.positionY.value=v)}g.prototype.update.call(this,s,u),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}this.game.events.off(r.VISIBLE,this.onGameVisible,this),g.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(a.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(a.GLOBAL_VOLUME,this,s)}}});f.exports=l},73162:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),g=t(83419),o=t(29747),a=t(19186),r=new g({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(i,n){return n?h.Add(this.list,i):h.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,n,l){return l?h.AddAt(this.list,i,n):h.AddAt(this.list,i,n,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,n){return i?(n===void 0&&(n=function(l,s){return l[i]-s[i]}),a(this.list,n),this):this},getByName:function(i){return h.GetFirst(this.list,"name",i)},getRandom:function(i,n){return h.GetRandom(this.list,i,n)},getFirst:function(i,n,l,s){return h.GetFirst(this.list,i,n,l,s)},getAll:function(i,n,l,s){return h.GetAll(this.list,i,n,l,s)},count:function(i,n){return h.CountAllMatching(this.list,i,n)},swap:function(i,n){h.Swap(this.list,i,n)},moveTo:function(i,n){return h.MoveTo(this.list,i,n)},moveAbove:function(i,n){return h.MoveAbove(this.list,i,n)},moveBelow:function(i,n){return h.MoveBelow(this.list,i,n)},remove:function(i,n){return n?h.Remove(this.list,i):h.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,n){return n?h.RemoveAt(this.list,i):h.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,n,l){return l?h.RemoveBetween(this.list,i,n):h.RemoveBetween(this.list,i,n,this.removeCallback,this)},removeAll:function(i){for(var n=this.list.length;n--;)this.remove(this.list[n],i);return this},bringToTop:function(i){return h.BringToTop(this.list,i)},sendToBack:function(i){return h.SendToBack(this.list,i)},moveUp:function(i){return h.MoveUp(this.list,i),i},moveDown:function(i){return h.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(i,n){return h.Replace(this.list,i,n)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,n,l,s){return h.SetAll(this.list,i,n,l,s),this},each:function(i,n){for(var l=[null],s=2;s<arguments.length;s++)l.push(arguments[s]);for(s=0;s<this.list.length;s++)l[0]=this.list[s],i.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});f.exports=r},90330:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){this.entries={},this.size=0,this.setAll(a)},setAll:function(o){if(Array.isArray(o))for(var a=0;a<o.length;a++)this.set(o[a][0],o[a][1]);return this},set:function(o,a){return this.has(o)||this.size++,this.entries[o]=a,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],a=this.entries;for(var r in a)o.push(a[r]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],a=this.entries;for(var r in a)o.push(a[r]);return o},dump:function(){var o=this.entries;console.group("Map");for(var a in o)console.log(a,o[a]);console.groupEnd()},each:function(o){var a=this.entries;for(var r in a)if(o(r,a[r])===!1)break;return this},contains:function(o){var a=this.entries;for(var r in a)if(a[r]===o)return!0;return!1},merge:function(o,a){a===void 0&&(a=!1);var r=this.entries,i=o.entries;for(var n in i)r.hasOwnProperty(n)&&a?r[n]=i[n]:this.set(n,i[n]);return this}});f.exports=g},25774:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(82348),a=new h({Extends:g,initialize:function(){g.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var i=this._pending,n=i.indexOf(r);n!==-1&&i.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,i=this._destroy,n=r.length;n--;)i.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,i=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var s=i.indexOf(l);s!==-1&&(i.splice(s,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&i.indexOf(l)===-1)&&(i.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});f.exports=a},59542:(f,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43886);function g(E){if(!(this instanceof g))return new g(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}g.prototype={all:function(){return this._all(this.data,[])},search:function(E){var A=this.data,P=[],w=this.toBBox;if(!x(E,A))return P;for(var I=[],O,F,L,D;A;){for(O=0,F=A.children.length;O<F;O++)L=A.children[O],D=A.leaf?w(L):L,x(E,D)&&(A.leaf?P.push(L):v(E,D)?this._all(L,P):I.push(L));A=I.pop()}return P},collides:function(E){var A=this.data,P=this.toBBox;if(!x(E,A))return!1;for(var w=[],I,O,F,L;A;){for(I=0,O=A.children.length;I<O;I++)if(F=A.children[I],L=A.leaf?P(F):F,x(E,L)){if(A.leaf||v(E,L))return!0;w.push(F)}A=w.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var A=0,P=E.length;A<P;A++)this.insert(E[A]);return this}var w=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var I=this.data;this.data=w,w=I}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(E,A){if(!E)return this;for(var P=this.data,w=this.toBBox(E),I=[],O=[],F,L,D,b;P||I.length;){if(P||(P=I.pop(),L=I[I.length-1],F=O.pop(),b=!0),P.leaf&&(D=o(E,P.children,A),D!==-1))return P.children.splice(D,1),I.push(P),this._condense(I),this;!b&&!P.leaf&&v(P,w)?(I.push(P),O.push(F),F=0,L=P,P=P.children[0]):L?(F++,P=L.children[F],b=!1):P=null}return this},toBBox:function(E){return E},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,A){for(var P=[];E;)E.leaf?A.push.apply(A,E.children):P.push.apply(P,E.children),E=P.pop();return A},_build:function(E,A,P,w){var I=P-A+1,O=this._maxEntries,F;if(I<=O)return F=y(E.slice(A,P+1)),a(F,this.toBBox),F;w||(w=Math.ceil(Math.log(I)/Math.log(O)),O=Math.ceil(I/Math.pow(O,w-1))),F=y([]),F.leaf=!1,F.height=w;var L=Math.ceil(I/O),D=L*Math.ceil(Math.sqrt(O)),b,U,W,H;for(T(E,A,P,D,this.compareMinX),b=A;b<=P;b+=D)for(W=Math.min(b+D-1,P),T(E,b,W,L,this.compareMinY),U=b;U<=W;U+=L)H=Math.min(U+L-1,W),F.children.push(this._build(E,U,H,w-1));return a(F,this.toBBox),F},_chooseSubtree:function(E,A,P,w){for(var I,O,F,L,D,b,U,W;w.push(A),!(A.leaf||w.length-1===P);){for(U=W=1/0,I=0,O=A.children.length;I<O;I++)F=A.children[I],D=s(F),b=d(E,F)-D,b<W?(W=b,U=D<U?D:U,L=F):b===W&&D<U&&(U=D,L=F);A=L||A.children[0]}return A},_insert:function(E,A,P){var w=this.toBBox,I=P?E:w(E),O=[],F=this._chooseSubtree(I,this.data,A,O);for(F.children.push(E),i(F,I);A>=0&&O[A].children.length>this._maxEntries;)this._split(O,A),A--;this._adjustParentBBoxes(I,O,A)},_split:function(E,A){var P=E[A],w=P.children.length,I=this._minEntries;this._chooseSplitAxis(P,I,w);var O=this._chooseSplitIndex(P,I,w),F=y(P.children.splice(O,P.children.length-O));F.height=P.height,F.leaf=P.leaf,a(P,this.toBBox),a(F,this.toBBox),A?E[A-1].children.push(F):this._splitRoot(P,F)},_splitRoot:function(E,A){this.data=y([E,A]),this.data.height=E.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(E,A,P){var w,I,O,F,L,D,b,U;for(D=b=1/0,w=A;w<=P-A;w++)I=r(E,0,w,this.toBBox),O=r(E,w,P,this.toBBox),F=c(I,O),L=s(I)+s(O),F<D?(D=F,U=w,b=L<b?L:b):F===D&&L<b&&(b=L,U=w);return U},_chooseSplitAxis:function(E,A,P){var w=E.leaf?this.compareMinX:n,I=E.leaf?this.compareMinY:l,O=this._allDistMargin(E,A,P,w),F=this._allDistMargin(E,A,P,I);O<F&&E.children.sort(w)},_allDistMargin:function(E,A,P,w){E.children.sort(w);var I=this.toBBox,O=r(E,0,A,I),F=r(E,P-A,P,I),L=u(O)+u(F),D,b;for(D=A;D<P-A;D++)b=E.children[D],i(O,E.leaf?I(b):b),L+=u(O);for(D=P-A-1;D>=A;D--)b=E.children[D],i(F,E.leaf?I(b):b),L+=u(F);return L},_adjustParentBBoxes:function(E,A,P){for(var w=P;w>=0;w--)i(A[w],E)},_condense:function(E){for(var A=E.length-1,P;A>=0;A--)E[A].children.length===0?A>0?(P=E[A-1].children,P.splice(P.indexOf(E[A]),1)):this.clear():a(E[A],this.toBBox)},compareMinX:function(E,A){return E.left-A.left},compareMinY:function(E,A){return E.top-A.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function o(E,A,P){if(!P)return A.indexOf(E);for(var w=0;w<A.length;w++)if(P(E,A[w]))return w;return-1}function a(E,A){r(E,0,E.children.length,A,E)}function r(E,A,P,w,I){I||(I=y(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var O=A,F;O<P;O++)F=E.children[O],i(I,E.leaf?w(F):F);return I}function i(E,A){return E.minX=Math.min(E.minX,A.minX),E.minY=Math.min(E.minY,A.minY),E.maxX=Math.max(E.maxX,A.maxX),E.maxY=Math.max(E.maxY,A.maxY),E}function n(E,A){return E.minX-A.minX}function l(E,A){return E.minY-A.minY}function s(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function u(E){return E.maxX-E.minX+(E.maxY-E.minY)}function d(E,A){return(Math.max(A.maxX,E.maxX)-Math.min(A.minX,E.minX))*(Math.max(A.maxY,E.maxY)-Math.min(A.minY,E.minY))}function c(E,A){var P=Math.max(E.minX,A.minX),w=Math.max(E.minY,A.minY),I=Math.min(E.maxX,A.maxX),O=Math.min(E.maxY,A.maxY);return Math.max(0,I-P)*Math.max(0,O-w)}function v(E,A){return E.minX<=A.minX&&E.minY<=A.minY&&A.maxX<=E.maxX&&A.maxY<=E.maxY}function x(E,A){return A.minX<=E.maxX&&A.minY<=E.maxY&&A.maxX>=E.minX&&A.maxY>=E.minY}function y(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(E,A,P,w,I){for(var O=[A,P],F;O.length;)P=O.pop(),A=O.pop(),!(P-A<=w)&&(F=A+Math.ceil((P-A)/w/2)*w,h(E,F,A,P,I),O.push(A,F,F,P))}f.exports=g},35072:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,a){for(var r=0;r<this.entries.length;r++){var i=this.entries[r];if(i[o]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(o){var a=this.entries.indexOf(o);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var a=this.entries[o];console.log(a)}console.groupEnd()},each:function(o,a){var r,i=this.entries.slice(),n=i.length;if(a)for(r=0;r<n&&o.call(a,i[r],r)!==!1;r++);else for(r=0;r<n&&o(i[r],r)!==!1;r++);return this},iterate:function(o,a){var r,i=this.entries.length;if(a)for(r=0;r<i&&o.call(a,this.entries[r],r)!==!1;r++);else for(r=0;r<i&&o(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(o){var a,r=[];for(a=1;a<arguments.length;a++)r.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var n=this.entries[a];n[o].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var a=new g;return o.entries.forEach(function(r){a.set(r)}),this.entries.forEach(function(r){a.set(r)}),a},intersect:function(o){var a=new g;return this.entries.forEach(function(r){o.contains(r)&&a.set(r)}),a},difference:function(o){var a=new g;return this.entries.forEach(function(r){o.contains(r)||a.set(r)}),a},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});f.exports=g},86555:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),g=t(83419),o=t(56583),a=t(26099),r=new g({initialize:function(n,l,s,u){n===void 0&&(n=0),l===void 0&&(l=n),s===void 0&&(s=0),u===void 0&&(u=null),this._width=n,this._height=l,this._parent=u,this.aspectMode=s,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.snapTo.set(i,n),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.minWidth=h(i,0,this.maxWidth),this.minHeight=h(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,n){return i===void 0&&(i=Number.MAX_VALUE),n===void 0&&(n=i),this.maxWidth=h(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,n){switch(i===void 0&&(i=0),n===void 0&&(n=i),this.aspectMode){case r.NONE:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(i,n,!0);break;case r.ENVELOP:this.constrain(i,n,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,n){return this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,n){return n===void 0&&(n=!0),i=h(i,this.minWidth,this.maxWidth),n&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,n){return n===void 0&&(n=!0),i=h(i,this.minHeight,this.maxHeight),n&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,n,l){i===void 0&&(i=0),n===void 0&&(n=i),l===void 0&&(l=!0),i=this.getNewWidth(i),n=this.getNewHeight(n);var s=this.snapTo,u=n===0?1:i/n;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(i=o(i,s.x),n=i/this.aspectRatio,s.y>0&&(n=o(n,s.y),i=n*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(n=o(n,s.y),i=n*this.aspectRatio,s.x>0&&(i=o(i,s.x),n=i*(1/this.aspectRatio))),this._width=i,this._height=n,this},fitTo:function(i,n){return this.constrain(i,n,!0)},envelop:function(i,n){return this.constrain(i,n,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,f.exports=r},15238:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="add"},56187:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="remove"},82348:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(45319),o=t(40987),a=t(8054),r=t(50030),i=t(79237),n=new h({Extends:i,initialize:function(s,u,d,c,v){i.call(this,s,u,d,c,v),this.add("__BASE",0,0,0,c,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=v,this.imageData=this.context.getImageData(0,0,c,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(l,s,u,d){return d===void 0&&(d=!0),this.context.drawImage(u,l,s),d&&this.update(),this},drawFrame:function(l,s,u,d,c){u===void 0&&(u=0),d===void 0&&(d=0),c===void 0&&(c=!0);var v=this.manager.getFrame(l,s);if(v){var x=v.canvasData,y=v.cutWidth,T=v.cutHeight,E=v.source.resolution;this.context.drawImage(v.source.image,x.x,x.y,y,T,u,d,y/E,T/E),c&&this.update()}return this},setPixel:function(l,s,u,d,c,v){v===void 0&&(v=255),l=Math.abs(Math.floor(l)),s=Math.abs(Math.floor(s));var x=this.getIndex(l,s);if(x>-1){var y=this.context.getImageData(l,s,1,1);y.data[0]=u,y.data[1]=d,y.data[2]=c,y.data[3]=v,this.context.putImageData(y,l,s)}return this},putData:function(l,s,u,d,c,v,x){return d===void 0&&(d=0),c===void 0&&(c=0),v===void 0&&(v=l.width),x===void 0&&(x=l.height),this.context.putImageData(l,s,u,d,c,v,x),this},getData:function(l,s,u,d){l=g(Math.floor(l),0,this.width-1),s=g(Math.floor(s),0,this.height-1),u=g(u,1,this.width-l),d=g(d,1,this.height-s);var c=this.context.getImageData(l,s,u,d);return c},getPixel:function(l,s,u){u||(u=new o);var d=this.getIndex(l,s);if(d>-1){var c=this.data,v=c[d+0],x=c[d+1],y=c[d+2],T=c[d+3];u.setTo(v,x,y,T)}return u},getPixels:function(l,s,u,d){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),d===void 0&&(d=u),l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s));for(var c=g(l,0,this.width),v=g(l+u,0,this.width),x=g(s,0,this.height),y=g(s+d,0,this.height),T=new o,E=[],A=x;A<y;A++){for(var P=[],w=c;w<v;w++)T=this.getPixel(w,A,T),P.push({x:w,y:A,color:T.color,alpha:T.alphaGL});E.push(P)}return E},getIndex:function(l,s){return l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s)),l<this.width&&s<this.height?(l+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,s,u,d,c){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),d===void 0&&(d=this.height),c===void 0&&(c=!0),this.context.clearRect(l,s,u,d),c&&this.update(),this},setSize:function(l,s){return s===void 0&&(s=l),(l!==this.width||s!==this.height)&&(this.canvas.width=l,this.canvas.height=s,this._source.width=l,this._source.height=s,this._source.isPowerOf2=r(l,s),this.frames.__BASE.setSize(l,s,0,0),this.width=l,this.height=s,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});f.exports=n},81320:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),g=t(38058),o=t(27919),a=t(83419),r=t(8054),i=t(4327),n=t(95540),l=t(36060),s=t(32302),u=t(79237),d=t(70554),c=new a({Extends:u,initialize:function(x,y,T,E,A){T===void 0&&(T=256),E===void 0&&(E=256),A===void 0&&(A=!0),this.type="DynamicTexture";var P=x.game.renderer,w=P&&P.type===r.CANVAS,I=w?o.create2D(this,T,E):[this];u.call(this,x,y,I,T,E),this.add("__BASE",0,0,0,T,E),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=w?I:null,this.context=w?I.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new g(0,0,T,E).setScene(x.game.scene.systemScene,!1),this.renderTarget=w?null:new s(P,T,E,1,0,!1,!1,!0,!1),this.pipeline=w?null:P.pipelines.get(l.SINGLE_PIPELINE),this.setSize(T,E,A)},setSize:function(v,x,y){x===void 0&&(x=v),y===void 0&&(y=!0),y&&(v=Math.floor(v),x=Math.floor(x),v%2!==0&&v++,x%2!==0&&x++);var T=this.get(),E=T.source;if(v!==this.width||x!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=x);var A=this.renderTarget;A&&(A.willResize(v,x)&&A.resize(v,x),A.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,x),E.width=v,E.height=x,T.setSize(v,x),this.width=v,this.height=x}else{var P=this.getSourceImage();T.cutX+v>P.width&&(v=P.width-T.cutX),T.cutY+x>P.height&&(x=P.height-T.cutY),T.setSize(v,x,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),x=v.source,y=this.renderTarget;return x.isRenderTexture=!0,x.isGLTexture=!0,x.glTexture=y.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,x,y,T,E,A){var P=this.camera,w=this.renderer;x===void 0&&(x=1),y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height);var I=v>>16&255,O=v>>8&255,F=v&255,L=this.renderTarget;if(P.preRender(),L){L.bind(!0);var D=this.pipeline.manager.set(this.pipeline),b=w.width/L.width,U=w.height/L.height,W=L.height-(T+A);D.drawFillRect(y*b,W*U,E*b,A*U,d.getTintFromFloats(F/255,O/255,I/255,1),x),L.unbind(!0)}else{var H=this.context;w.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+I+","+O+","+F+","+x+")",H.fillRect(y,T,E,A),w.setContext()}return this.dirty=!0,this},clear:function(v,x,y,T){if(this.dirty){var E=this.context,A=this.renderTarget;A?A.clear(v,x,y,T):E&&(v!==void 0&&x!==void 0&&y!==void 0&&T!==void 0?E.clearRect(v,x,y,T):(E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,this.width,this.height),E.restore())),this.dirty=!1}return this},stamp:function(v,x,y,T,E){y===void 0&&(y=0),T===void 0&&(T=0);var A=n(E,"alpha",1),P=n(E,"tint",16777215),w=n(E,"angle",0),I=n(E,"rotation",0),O=n(E,"scale",1),F=n(E,"scaleX",O),L=n(E,"scaleY",O),D=n(E,"originX",.5),b=n(E,"originY",.5),U=n(E,"blendMode",0),W=n(E,"erase",!1),H=n(E,"skipBatch",!1),Y=this.manager.resetStamp(A,P);return Y.setAngle(0),w!==0?Y.setAngle(w):I!==0&&Y.setRotation(I),Y.setScale(F,L),Y.setTexture(v,x),Y.setOrigin(D,b),Y.setBlendMode(U),W&&(this._eraseMode=!0),H?this.batchGameObject(Y,y,T):this.draw(Y,y,T),W&&(this._eraseMode=!1),this},erase:function(v,x,y){return this._eraseMode=!0,this.draw(v,x,y),this._eraseMode=!1,this},draw:function(v,x,y,T,E){return this.beginDraw(),this.batchDraw(v,x,y,T,E),this.endDraw(),this},drawFrame:function(v,x,y,T,E,A){return this.beginDraw(),this.batchDrawFrame(v,x,y,T,E,A),this.endDraw(),this},repeat:function(v,x,y,T,E,A,P,w,I){if(y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height),P===void 0&&(P=1),w===void 0&&(w=16777215),I===void 0&&(I=!1),v instanceof i?x=v:x=this.manager.getFrame(v,x),!x)return this;var O=this.manager.resetStamp(P,w);O.setFrame(x),O.setOrigin(0);var F=x.width,L=x.height;E=Math.floor(E),A=Math.floor(A);var D=Math.ceil(E/F),b=Math.ceil(A/L),U=D*F-E,W=b*L-A;U>0&&(U=F-U),W>0&&(W=L-W),y<0&&(D+=Math.ceil(Math.abs(y)/F)),T<0&&(b+=Math.ceil(Math.abs(T)/L));var H=y,Y=T,G=!1,X=this.manager.stampCrop.setTo(0,0,F,L);I||this.beginDraw();for(var V=0;V<b;V++){if(Y+L<0){Y+=L;continue}for(var B=0;B<D;B++){if(G=!1,H+F<0){H+=F;continue}else H<0&&(G=!0,X.width=F+H,X.x=F-X.width);Y<0&&(G=!0,X.height=L+Y,X.y=L-X.height),U>0&&B===D-1&&(G=!0,X.width=U),W>0&&V===b-1&&(G=!0,X.height=W),G&&O.setCrop(X),this.batchGameObject(O,H,Y),O.isCropped=!1,X.setTo(0,0,F,L),H+=F}H=y,Y+=L}return I||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,x=this.renderer,y=this.renderTarget;v.preRender(),y?x.beginCapture(y.width,y.height):x.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,x,y,T,E){return Array.isArray(v)||(v=[v]),this.batchList(v,x,y,T,E),this},batchDrawFrame:function(v,x,y,T,E,A){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=1),A===void 0&&(A=16777215);var P=this.manager.getFrame(v,x);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,y,T,A,E,this.camera.matrix,null):this.batchTextureFrame(P,y,T,E,A)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var x=this.renderer,y=this.renderTarget;if(y){var T=x.endCapture(),E=x.pipelines.setUtility();E.blitFrame(T,y,1,!1,!1,v,this.isSpriteTexture),x.resetScissor(),x.resetViewport()}else x.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,x,y,T,E){var A=v.length;if(A!==0)for(var P=0;P<A;P++){var w=v[P];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,x,y):w.isParent||w.list?this.batchGroup(w.getChildren(),x,y):typeof w=="string"?this.batchTextureFrameKey(w,null,x,y,T,E):w instanceof i?this.batchTextureFrame(w,x,y,T,E):Array.isArray(w)&&this.batchList(w,x,y,T,E))}},batchGroup:function(v,x,y){x===void 0&&(x=0),y===void 0&&(y=0);for(var T=0;T<v.length;T++){var E=v[T];E.willRender(this.camera)&&this.batchGameObject(E,E.x+x,E.y+y)}},batchGameObject:function(v,x,y){x===void 0&&(x=v.x),y===void 0&&(y=v.y);var T=v.x,E=v.y,A=this.camera,P=this.renderer,w=this._eraseMode,I=v.mask;if(v.setPosition(x,y),this.canvas){if(w){var O=v.blendMode;v.blendMode=h.ERASE}I&&I.preRenderCanvas(P,v,A),v.renderCanvas(P,v,A,null),I&&I.postRenderCanvas(P,v,A),w&&(v.blendMode=O)}else P&&(I&&I.preRenderWebGL(P,v,A),w||P.setBlendMode(v.blendMode),v.renderWebGL(P,v,A),I&&I.postRenderWebGL(P,A,this.renderTarget));v.setPosition(T,E)},batchTextureFrameKey:function(v,x,y,T,E,A){var P=this.manager.getFrame(v,x);P&&this.batchTextureFrame(P,y,T,E,A)},batchTextureFrame:function(v,x,y,T,E){x===void 0&&(x=0),y===void 0&&(y=0),T===void 0&&(T=1),E===void 0&&(E=16777215);var A=this.camera.matrix,P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(v,x,y,E,T,A,null);else{var w=this.context,I=v.canvasData,O=v.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=T,A.setToContext(w),I.width>0&&I.height>0&&w.drawImage(O,I.x,I.y,I.width,I.height,x,y,I.width,I.height),w.restore()}},snapshotArea:function(v,x,y,T,E,A,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,v,x,y,T,A,P):this.renderer.snapshotCanvas(this.canvas,E,!1,v,x,y,T,A,P),this},snapshot:function(v,x,y){return this.snapshotArea(0,0,this.width,this.height,v,x,y)},snapshotPixel:function(v,x,y){return this.snapshotArea(v,x,1,1,y,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,x,y,T){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(v,E,y,T)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),u.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});f.exports=c},4327:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(45319),o=t(79291),a=new h({initialize:function(i,n,l,s,u,d,c){this.texture=i,this.name=n,this.source=i.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(d,c,s,u)},setCutPosition:function(r,i){return r===void 0&&(r=0),i===void 0&&(i=0),this.cutX=r,this.cutY=i,this.updateUVs()},setCutSize:function(r,i){return this.cutWidth=r,this.cutHeight=i,this.updateUVs()},setSize:function(r,i,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.setCutPosition(n,l),this.setCutSize(r,i),this.width=r,this.height=i,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(i/2);var s=this.data,u=s.cut;u.x=n,u.y=l,u.w=r,u.h=i,u.r=n+r,u.b=l+i,s.sourceSize.w=r,s.sourceSize.h=i,s.spriteSourceSize.w=r,s.spriteSourceSize.h=i,s.radius=.5*Math.sqrt(r*r+i*i);var d=s.drawImage;return d.x=n,d.y=l,d.width=r,d.height=i,this.updateUVs()},setTrim:function(r,i,n,l,s,u){var d=this.data,c=d.spriteSourceSize;return d.trim=!0,d.sourceSize.w=r,d.sourceSize.h=i,c.x=n,c.y=l,c.w=s,c.h=u,c.r=n+s,c.b=l+u,this.x=n,this.y=l,this.width=s,this.height=u,this.halfWidth=s*.5,this.halfHeight=u*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(u/2),this.updateUVs()},setScale9:function(r,i,n,l){var s=this.data;return s.scale9=!0,s.is3Slice=i===0&&l===this.height,s.scale9Borders.x=r,s.scale9Borders.y=i,s.scale9Borders.w=n,s.scale9Borders.h=l,this},setCropUVs:function(r,i,n,l,s,u,d){var c=this.cutX,v=this.cutY,x=this.cutWidth,y=this.cutHeight,T=this.realWidth,E=this.realHeight;i=g(i,0,T),n=g(n,0,E),l=g(l,0,T-i),s=g(s,0,E-n);var A=c+i,P=v+n,w=l,I=s,O=this.data;if(O.trim){var F=O.spriteSourceSize;l=g(l,0,F.x+x-i),s=g(s,0,F.y+y-n);var L=i+l,D=n+s,b=!(F.r<i||F.b<n||F.x>L||F.y>D);if(b){var U=Math.max(F.x,i),W=Math.max(F.y,n),H=Math.min(F.r,L)-U,Y=Math.min(F.b,D)-W;w=H,I=Y,u?A=c+(x-(U-F.x)-H):A=c+(U-F.x),d?P=v+(y-(W-F.y)-Y):P=v+(W-F.y),i=U,n=W,l=H,s=Y}else A=0,P=0,w=0,I=0}else u&&(A=c+(x-i-l)),d&&(P=v+(y-n-s));var G=this.source.width,X=this.source.height;return r.u0=Math.max(0,A/G),r.v0=Math.max(0,P/X),r.u1=Math.min(1,(A+w)/G),r.v1=Math.min(1,(P+I)/X),r.x=i,r.y=n,r.cx=A,r.cy=P,r.cw=w,r.ch=I,r.width=l,r.height=s,r.flipX=u,r.flipY=d,r},updateCropUVs:function(r,i,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,i,n)},setUVs:function(r,i,n,l,s,u){var d=this.data.drawImage;return d.width=r,d.height=i,this.u0=n,this.v0=l,this.u1=s,this.v1=u,this},updateUVs:function(){var r=this.cutX,i=this.cutY,n=this.cutWidth,l=this.cutHeight,s=this.data.drawImage;s.width=n,s.height=l;var u=this.source.width,d=this.source.height;return this.u0=r/u,this.v0=i/d,this.u1=(r+n)/u,this.v1=(i+l)/d,this},updateUVsInverted:function(){var r=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/i,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var r=new a(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=o(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});f.exports=a},79237:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(4327),o=t(11876),a='Texture "%s" has no frame "%s"',r=new h({initialize:function(n,l,s,u,d){Array.isArray(s)||(s=[s]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<s.length;c++)this.source.push(new o(this,s[c],u,d))},add:function(i,n,l,s,u,d){if(this.has(i))return null;var c=new g(this,i,n,l,s,u,d);return this.frames[i]=c,this.firstFrame==="__BASE"&&(this.firstFrame=i),this.frameTotal++,c},remove:function(i){if(this.has(i)){var n=this.get(i);return n.destroy(),delete this.frames[i],!0}return!1},has:function(i){return this.frames.hasOwnProperty(i)},get:function(i){i||(i=this.firstFrame);var n=this.frames[i];return n||(console.warn(a,this.key,i),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(i){for(var n=0;n<this.source.length;n++)if(this.source[n]===i)return n;return-1},getFramesFromTextureSource:function(i,n){n===void 0&&(n=!1);var l=[];for(var s in this.frames)if(!(s==="__BASE"&&!n)){var u=this.frames[s];u.sourceIndex===i&&l.push(u)}return l},getFrameBounds:function(i){i===void 0&&(i=0);for(var n=this.getFramesFromTextureSource(i,!0),l=n[0],s=l.cutX,u=l.cutY,d=l.cutX+l.cutWidth,c=l.cutY+l.cutHeight,v=1;v<n.length;v++){var x=n[v];x.cutX<s&&(s=x.cutX),x.cutY<u&&(u=x.cutY),x.cutX+x.cutWidth>d&&(d=x.cutX+x.cutWidth),x.cutY+x.cutHeight>c&&(c=x.cutY+x.cutHeight)}return{x:s,y:u,width:d-s,height:c-u}},getFrameNames:function(i){i===void 0&&(i=!1);var n=Object.keys(this.frames);if(!i){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i];return n?n.source.image:(console.warn(a,this.key,i),this.frames.__BASE.source.image)},getDataSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i],l;return n?l=n.sourceIndex:(console.warn(a,this.key,i),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var l=this.source[n];this.dataSource.push(new o(this,i[n],l.width,l.height))}},setFilter:function(i){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(i);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(i)},destroy:function(){var i,n=this.source,l=this.dataSource;for(i=0;i<n.length;i++)n[i]&&n[i].destroy();for(i=0;i<l.length;i++)l[i]&&l[i].destroy();for(var s in this.frames){var u=this.frames[s];u&&u.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});f.exports=r},17130:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(57382),o=t(83419),a=t(40987),r=t(8054),i=t(81320),n=t(50792),l=t(69442),s=t(4327),u=t(8443),d=t(99584),c=t(35154),v=t(88571),x=t(41212),y=t(61309),T=t(87841),E=t(79237),A=new o({Extends:n,initialize:function(w){n.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new T,this.silentWarnings=!1,w.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var P=this.game.config;P.defaultImage!==null&&this.addBase64("__DEFAULT",P.defaultImage),P.missingImage!==null&&this.addBase64("__MISSING",P.missingImage),P.whiteImage!==null&&this.addBase64("__WHITE",P.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(u.DESTROY,this.destroy,this),this.game.events.once(u.SYSTEM_READY,function(w){this.stamp=new v(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(P){return!P||typeof P!="string"||this.exists(P)?(this.silentWarnings||console.error("Texture key already in use: "+P),!1):!0},remove:function(P){if(typeof P=="string")if(this.exists(P))P=this.get(P);else return this.silentWarnings||console.warn("No texture found matching key: "+P),this;var w=P.key;return this.list.hasOwnProperty(w)&&(P.destroy(),this.emit(l.REMOVE,w),this.emit(l.REMOVE_KEY+w)),this},removeKey:function(P){return this.list.hasOwnProperty(P)&&delete this.list[P],this},addBase64:function(P,w){if(this.checkKey(P)){var I=this,O=new Image;O.onerror=function(){I.emit(l.ERROR,P)},O.onload=function(){var F=I.create(P,O);F&&(y.Image(F,0),I.emit(l.ADD,P,F),I.emit(l.ADD_KEY+P,F),I.emit(l.LOAD,P,F))},O.src=w}return this},getBase64:function(P,w,I,O){I===void 0&&(I="image/png"),O===void 0&&(O=.92);var F="",L=this.getFrame(P,w);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var D=L.canvasData,b=h.create2D(this,D.width,D.height),U=b.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&U.drawImage(L.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),F=b.toDataURL(I,O),h.remove(b)}return F},addImage:function(P,w,I){var O=null;return this.checkKey(P)&&(O=this.create(P,w),y.Image(O,0),I&&O.setDataSource(I),this.emit(l.ADD,P,O),this.emit(l.ADD_KEY+P,O)),O},addGLTexture:function(P,w){var I=null;if(this.checkKey(P)){var O=w.width,F=w.height;I=this.create(P,w,O,F),I.add("__BASE",0,0,0,O,F),this.emit(l.ADD,P,I),this.emit(l.ADD_KEY+P,I)}return I},addCompressedTexture:function(P,w,I){var O=null;if(this.checkKey(P)){if(O=this.create(P,w),O.add("__BASE",0,0,0,w.width,w.height),I){var F=function(D,b,U){Array.isArray(U.textures)||Array.isArray(U.frames)?y.JSONArray(D,b,U):y.JSONHash(D,b,U)};if(Array.isArray(I))for(var L=0;L<I.length;L++)F(O,L,I[L]);else F(O,0,I)}this.emit(l.ADD,P,O),this.emit(l.ADD_KEY+P,O)}return O},addRenderTexture:function(P,w){var I=null;return this.checkKey(P)&&(I=this.create(P,w),I.add("__BASE",0,0,0,w.width,w.height),this.emit(l.ADD,P,I),this.emit(l.ADD_KEY+P,I)),I},generate:function(P,w){if(this.checkKey(P)){var I=h.create(this,1,1);return w.canvas=I,d(w),this.addCanvas(P,I)}else return null},createCanvas:function(P,w,I){if(w===void 0&&(w=256),I===void 0&&(I=256),this.checkKey(P)){var O=h.create(this,w,I,r.CANVAS,!0);return this.addCanvas(P,O)}return null},addCanvas:function(P,w,I){I===void 0&&(I=!1);var O=null;return I?O=new g(this,P,w,w.width,w.height):this.checkKey(P)&&(O=new g(this,P,w,w.width,w.height),this.list[P]=O,this.emit(l.ADD,P,O),this.emit(l.ADD_KEY+P,O)),O},addDynamicTexture:function(P,w,I){var O=null;return typeof P=="string"&&!this.exists(P)?O=new i(this,P,w,I):(O=P,P=O.key),this.checkKey(P)?(this.list[P]=O,this.emit(l.ADD,P,O),this.emit(l.ADD_KEY+P,O)):O=null,O},addAtlas:function(P,w,I,O){return Array.isArray(I.textures)||Array.isArray(I.frames)?this.addAtlasJSONArray(P,w,I,O):this.addAtlasJSONHash(P,w,I,O)},addAtlasJSONArray:function(P,w,I,O){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){if(Array.isArray(I))for(var L=I.length===1,D=0;D<F.source.length;D++){var b=L?I[0]:I[D];y.JSONArray(F,D,b)}else y.JSONArray(F,0,I);O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addAtlasJSONHash:function(P,w,I,O){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){if(Array.isArray(I))for(var L=0;L<I.length;L++)y.JSONHash(F,L,I[L]);else y.JSONHash(F,0,I);O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addAtlasXML:function(P,w,I,O){var F=null;return w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F&&(y.AtlasXML(F,0,I),O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},addUnityAtlas:function(P,w,I,O){var F=null;return w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F&&(y.UnityYAML(F,0,I),O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},addSpriteSheet:function(P,w,I,O){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){var L=F.source[0].width,D=F.source[0].height;y.SpriteSheet(F,0,0,0,L,D,I),O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addSpriteSheetFromAtlas:function(P,w){if(!this.checkKey(P))return null;var I=c(w,"atlas",null),O=c(w,"frame",null);if(!(!I||!O)){var F=this.get(I),L=F.get(O);if(L){var D=L.source.image;D||(D=L.source.glTexture);var b=this.create(P,D);return L.trimmed?y.SpriteSheetFromAtlas(b,L,w):y.SpriteSheet(b,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,w),this.emit(l.ADD,P,b),this.emit(l.ADD_KEY+P,b),b}}},addUint8Array:function(P,w,I,O){if(!this.checkKey(P)||w.length/4!==I*O)return null;var F=this.create(P,w,I,O);return F.add("__BASE",0,0,0,I,O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F),F},create:function(P,w,I,O){var F=null;return this.checkKey(P)&&(F=new E(this,P,w,I,O),this.list[P]=F),F},exists:function(P){return this.list.hasOwnProperty(P)},get:function(P){return P===void 0&&(P="__DEFAULT"),this.list[P]?this.list[P]:P instanceof E?P:P instanceof s?P.texture:this.list.__MISSING},cloneFrame:function(P,w){if(this.list[P])return this.list[P].get(w).clone()},getFrame:function(P,w){if(this.list[P])return this.list[P].get(w)},parseFrame:function(P){if(P){if(typeof P=="string")return this.getFrame(P);if(Array.isArray(P)&&P.length===2)return this.getFrame(P[0],P[1]);if(x(P))return this.getFrame(P.key,P.frame);if(P instanceof E)return P.get();if(P instanceof s)return P}else return},getTextureKeys:function(){var P=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&P.push(w);return P},getPixel:function(P,w,I,O){var F=this.getFrame(I,O);if(F){P-=F.x,w-=F.y;var L=F.data.cut;if(P+=L.x,w+=L.y,P>=L.x&&P<L.r&&w>=L.y&&w<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(F.source.image,P,w,1,1,0,0,1,1);var b=D.getImageData(0,0,1,1);return new a(b.data[0],b.data[1],b.data[2],b.data[3])}}return null},getPixelAlpha:function(P,w,I,O){var F=this.getFrame(I,O);if(F){P-=F.x,w-=F.y;var L=F.data.cut;if(P+=L.x,w+=L.y,P>=L.x&&P<L.r&&w>=L.y&&w<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(F.source.image,P,w,1,1,0,0,1,1);var b=D.getImageData(0,0,1,1);return b.data[3]}}return null},setTexture:function(P,w,I){return this.list[w]&&(P.texture=this.list[w],P.frame=P.texture.get(I)),P},renameTexture:function(P,w){var I=this.get(P);return I&&P!==w?(I.key=w,this.list[w]=I,delete this.list[P],!0):!1},each:function(P,w){for(var I=[null],O=1;O<arguments.length;O++)I.push(arguments[O]);for(var F in this.list)I[0]=this.list[F],P.apply(w,I)},resetStamp:function(P,w){P===void 0&&(P=1),w===void 0&&(w=16777215);var I=this.stamp;return I.setCrop(),I.setPosition(0),I.setAngle(0),I.setScale(1),I.setAlpha(P),I.setTint(w),I.setTexture("__WHITE"),I},destroy:function(){for(var P in this.list)this.list[P].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});f.exports=A},11876:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),g=t(83419),o=t(50030),a=t(29795),r=t(82751),i=new g({initialize:function(l,s,u,d,c){c===void 0&&(c=!1);var v=l.manager.game;this.renderer=v.renderer,this.texture=l,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=u||s.naturalWidth||s.videoWidth||s.width||0,this.height=d||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof r,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=c,this.init(v)},init:function(n){var l=this.renderer;if(l){var s=this.source;if(l.gl){var u=this.image,d=this.flipY,c=this.width,v=this.height,x=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,d):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,d):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,c,v,x):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(s,void 0,void 0,x):s instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(s,c,v,x):this.glTexture=l.createTextureFromSource(u,c,v,x)}else this.isRenderTexture&&(this.image=s.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,s=this.flipY,u=n.gl;u&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,s):u&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});f.exports=i},19673:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};f.exports=S},44538:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addtexture"},63486:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="addtexture-"},94851:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="onerror"},29099:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="onload"},8678:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="ready"},86415:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removetexture"},30879:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="removetexture-"},69442:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:g,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=h(!1,o,g),f.exports=o},89905:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(!g.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[h];t.add("__BASE",h,0,0,o.width,o.height);for(var a=g.getElementsByTagName("SubTexture"),r,i=0;i<a.length;i++){var n=a[i].attributes,l=n.name.value,s=parseInt(n.x.value,10),u=parseInt(n.y.value,10),d=parseInt(n.width.value,10),c=parseInt(n.height.value,10);if(r=t.add(l,h,s,u,d,c),n.frameX){var v=Math.abs(parseInt(n.frameX.value,10)),x=Math.abs(parseInt(n.frameY.value,10)),y=parseInt(n.frameWidth.value,10),T=parseInt(n.frameHeight.value,10);r.setTrim(d,c,v,x,y,T)}}return t};f.exports=S},72893:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.source[h];return t.add("__BASE",h,0,0,g.width,g.height),t};f.exports=S},4832:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.source[h];return t.add("__BASE",h,0,0,g.width,g.height),t};f.exports=S},78566:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),g=function(o,a,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height);for(var n=Array.isArray(r.textures)?r.textures[a].frames:r.frames,l,s=0;s<n.length;s++){var u=n[s];if(l=o.add(u.filename,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+u.filename);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var d=u.anchor||u.pivot;d&&(l.customPivot=!0,l.pivotX=d.x,l.pivotY=d.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?o.customData[c]=r[c].slice(0):o.customData[c]=r[c]);return o};f.exports=g},39711:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),g=function(o,a,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height);var n=r.frames,l;for(var s in n)if(n.hasOwnProperty(s)){var u=n[s];if(l=o.add(s,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+s);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var d=u.anchor||u.pivot;d&&(l.customPivot=!0,l.pivotX=d.x,l.pivotY=d.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?o.customData[c]=r[c].slice(0):o.customData[c]=r[c]);return o};f.exports=g},31403:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],g,o=new Uint8Array(t,0,12);for(g=0;g<o.length;g++)if(o[g]!==h[g]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*a),i=r.getUint32(0,!0)===67305985,n=r.getUint32(1*a,i);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*a,i),s=r.getUint32(6*a,i),u=r.getUint32(7*a,i),d=Math.max(1,r.getUint32(11*a,i)),c=r.getUint32(12*a,i),v=new Array(d),x=12+13*4+c,y=s,T=u;for(g=0;g<d;g++){var E=new Int32Array(t,x,1)[0];x+=4,v[g]={data:new Uint8Array(t,x,E),width:y,height:T},y=Math.max(1,y>>1),T=Math.max(1,T>>1),x+=E}return{mipmaps:v,width:s,height:u,internalFormat:l,compressed:!0,generateMipmap:!1}};f.exports=S},82038:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(w,I,O,F,L,D,b){return b===void 0&&(b=16),Math.floor((w+O)/L)*Math.floor((I+F)/D)*b}function t(w,I){return w=Math.max(w,16),I=Math.max(I,8),w*I/4}function h(w,I){return w=Math.max(w,8),I=Math.max(I,8),w*I/2}function g(w,I){return Math.ceil(w/4)*Math.ceil(I/4)*16}function o(w,I){return S(w,I,3,3,4,4,8)}function a(w,I){return S(w,I,3,3,4,4)}function r(w,I){return S(w,I,4,3,5,4)}function i(w,I){return S(w,I,4,4,5,5)}function n(w,I){return S(w,I,5,4,6,5)}function l(w,I){return S(w,I,5,5,6,6)}function s(w,I){return S(w,I,7,4,8,5)}function u(w,I){return S(w,I,7,5,8,6)}function d(w,I){return S(w,I,7,7,8,8)}function c(w,I){return S(w,I,9,4,10,5)}function v(w,I){return S(w,I,9,5,10,6)}function x(w,I){return S(w,I,9,7,10,8)}function y(w,I){return S(w,I,9,9,10,10)}function T(w,I){return S(w,I,11,9,12,10)}function E(w,I){return S(w,I,11,11,12,12)}var A={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:a,glFormat:[33777,35917]},9:{sizeFunc:a,glFormat:[33778,35918]},11:{sizeFunc:a,glFormat:[33779,35919]},14:{sizeFunc:g,glFormat:[36494,36495]},15:{sizeFunc:g,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:a,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:a,glFormat:[37490]},27:{sizeFunc:a,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:i,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:u,glFormat:[37814,37846]},34:{sizeFunc:d,glFormat:[37815,37847]},35:{sizeFunc:c,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:x,glFormat:[37818,37850]},38:{sizeFunc:y,glFormat:[37819,37851]},39:{sizeFunc:T,glFormat:[37820,37852]},40:{sizeFunc:E,glFormat:[37821,37853]}},P=function(w){for(var I=new Uint32Array(w,0,13),O=I[0],F=O===55727696,L=F?I[2]:I[3],D=I[4],b=A[L].glFormat[D],U=A[L].sizeFunc,W=I[11],H=I[7],Y=I[6],G=52+I[12],X=new Uint8Array(w,G),V=new Array(W),B=0,z=H,$=Y,j=0;j<W;j++){var k=U(z,$);V[j]={data:new Uint8Array(X.buffer,X.byteOffset+B,k),width:z,height:$},z=Math.max(1,z>>1),$=Math.max(1,$>>1),B+=k}return{mipmaps:V,width:H,height:Y,internalFormat:b,compressed:!0,generateMipmap:!1}};f.exports=P},75549:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o,a,r,i,n,l,s){var u=h(s,"frameWidth",null),d=h(s,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=o.source[a];o.add("__BASE",a,0,0,c.width,c.height);var v=h(s,"startFrame",0),x=h(s,"endFrame",-1),y=h(s,"margin",0),T=h(s,"spacing",0),E=Math.floor((n-y+T)/(u+T)),A=Math.floor((l-y+T)/(d+T)),P=E*A;P===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(v>P||v<-P)&&(v=0),v<0&&(v=P+v),(x===-1||x>P||x<v)&&(x=P);for(var w=y,I=y,O=0,F=0,L=0,D=0;D<P;D++){O=0,F=0;var b=w+u,U=I+d;b>n&&(O=b-n),U>l&&(F=U-l),D>=v&&D<=x&&(o.add(L,a,r+w,i+I,u-O,d-F),L++),w+=u+T,w+u>n&&(w=y,I+=d+T)}return o};f.exports=g},47534:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o,a,r){var i=h(r,"frameWidth",null),n=h(r,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),h(r,"startFrame",0),h(r,"endFrame",-1);for(var s=h(r,"margin",0),u=h(r,"spacing",0),d=a.cutX,c=a.cutY,v=a.cutWidth,x=a.cutHeight,y=a.realWidth,T=a.realHeight,E=Math.floor((y-s+u)/(i+u)),A=Math.floor((T-s+u)/(n+u)),P=a.x,w=i-P,I=i-(y-v-P),O=a.y,F=n-O,L=n-(T-x-O),D,b=s,U=s,W=0,H=0,Y=0;Y<A;Y++){for(var G=Y===0,X=Y===A-1,V=0;V<E;V++){var B=V===0,z=V===E-1;if(D=o.add(W,H,d+b,c+U,i,n),B||G||z||X){var $=B?P:0,j=G?O:0,k=0,q=0;B&&(k+=i-w),z&&(k+=i-I),G&&(q+=n-F),X&&(q+=n-L);var Q=i-k,Z=n-q;D.cutWidth=Q,D.cutHeight=Z,D.setTrim(i,n,$,j,Q,Z)}b+=u,B?b+=w:z?b+=I:b+=i,W++}b=s,U+=u,G?U+=F:X?U+=L:U+=n}return o};f.exports=g},86147:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(g,o,a,r){var i=S-r.y-r.height;g.add(a,o,r.x,i,r.width,r.height)},h=function(g,o,a){var r=g.source[o];g.add("__BASE",o,0,0,r.width,r.height),S=r.height;for(var i=a.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",s="",u={x:0,y:0,width:0,height:0},d=0;d<i.length;d++){var c=i[d].match(n);if(c){var v=c[1]==="- ",x=c[2],y=c[3];if(v&&(s!==l&&(t(g,o,s,u),l=s),u={x:0,y:0,width:0,height:0}),x==="name"){s=y;continue}switch(x){case"x":case"y":case"width":case"height":u[x]=parseInt(y,10);break}}}return s!==l&&t(g,o,s,u),g};f.exports=h},55222:(f,S,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50030),g=function(l){for(var s=l.mipmaps,u=1;u<s.length;u++){var d=s[u].width,c=s[u].height;if(!h(d,c))return console.warn("Mip level "+u+" is not a power-of-two size: "+d+"x"+c),!1}var v=n[l.internalFormat];return v?v(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var s=l.mipmaps,u=0;u<s.length;u++){var d=s[u].width,c=s[u].height;if((d<<u)%4!==0||(c<<u)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+u+" is "+d+"x"+c),!1}return!0}function a(){return!0}function r(l){var s=l.mipmaps,u=s[0];return h(u.width,u.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+u.width+"x"+u.height),!1)}function i(l){var s=l.mipmaps,u=s[0];return u.width%4!==0||u.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+u.width+"x"+u.height+" pixels"),!1):!0}var n={37488:a,37489:a,37490:a,37491:a,37492:a,37493:a,37494:a,37495:a,37496:a,37497:a,36196:a,37808:a,37809:a,37810:a,37811:a,37812:a,37813:a,37814:a,37815:a,37816:a,37817:a,37818:a,37819:a,37820:a,37821:a,37840:a,37841:a,37842:a,37843:a,37844:a,37845:a,37846:a,37847:a,37848:a,37849:a,37850:a,37851:a,37852:a,37853:a,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:r,35841:r,35842:r,35843:r,33776:o,33777:o,33778:o,33779:o,35916:i,35917:i,35918:i,35919:i};f.exports=g},61309:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a,r,i,n,l,s,u){(i===void 0||i<=0)&&(i=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),s===void 0&&(s=0),this.name=a,this.firstgid=r|0,this.imageWidth=i|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=s|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,a,r,i){return this.images.push({gid:o,image:a,width:r,height:i}),this.total++,this}});f.exports=g},27462:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=new h({initialize:function(a){if(this.gids=[],a!==void 0)for(var r=0;r<a.length;++r)for(var i=a[r],n=0;n<i.total;++n)this.gids[i.firstgid+n]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var a=this.gids[o.gid];if(a){var r=a.getTileData(o.gid);if(r)return r.type}}},setTextureAndFrame:function(o,a,r,i){if(a===null&&this.gids&&i.gid!==void 0){var n=this.gids[i.gid];n&&(a===null&&n.image!==void 0&&(a=n.image.key),r===null&&(r=i.gid-n.firstgid),o.scene.textures.getFrame(a,r)||(a=null,r=null))}o.setTexture(a,r)},setPropertiesFromTiledObject:function(o,a){if(this.gids!==void 0&&a.gid!==void 0){var r=this.gids[a.gid];r!==void 0&&this.setFromJSON(o,r.getTileProperties(a.gid))}this.setFromJSON(o,a.properties)},setFromJSON:function(o,a){if(a){if(Array.isArray(a)){for(var r=0;r<a.length;r++){var i=a[r];o[i.name]!==void 0?o[i.name]=i.value:o.setData(i.name,i.value)}return}for(var n in a)o[n]!==void 0?o[n]=a[n]:o.setData(n,a[n])}}});f.exports=g},31989:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(87010),o=t(46177),a=t(49075),r=function(i,n,l,s,u,d,c,v){l===void 0&&(l=32),s===void 0&&(s=32),u===void 0&&(u=10),d===void 0&&(d=10),v===void 0&&(v=!1);var x=null;if(Array.isArray(c)){var y=n!==void 0?n:"map";x=o(y,h.ARRAY_2D,c,l,s,v)}else if(n!==void 0){var T=i.cache.tilemap.get(n);T?x=o(n,T.format,T.data,l,s,v):console.warn("No map data found for key "+n)}return x===null&&(x=new g({tileWidth:l,tileHeight:s,width:u,height:d})),new a(i,x)};f.exports=r},23029:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(31401),o=t(91907),a=t(62644),r=t(93232),i=new h({Mixins:[g.AlphaSingle,g.Flip,g.Visible],initialize:function(l,s,u,d,c,v,x,y){this.layer=l,this.index=s,this.x=u,this.y=d,this.width=c,this.height=v,this.right,this.bottom,this.baseWidth=x!==void 0?x:c,this.baseHeight=y!==void 0?y:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=a(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,s,u){return!(s<=this.pixelX||u<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,s,u,d){if(l===void 0&&(l=n),s===void 0&&(s=n),u===void 0&&(u=n),d===void 0&&(d=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=s,this.collideDown=u,this.faceLeft=n,this.faceRight=l,this.faceTop=s,this.faceBottom=u,d){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,s,u){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),s!==void 0&&(this.baseWidth=s),u!==void 0&&(this.baseHeight=u),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,s=this.layer.staggerIndex,u=this.layer.hexSideLength,d,c;l==="y"?(c=(this.baseHeight-u)/2+u,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):l==="x"&&(d=(this.baseWidth-u)/2+u,this.pixelX=this.x*d,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});f.exports=i},49075:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84101),g=t(83419),o=t(39506),a=t(80341),r=t(95540),i=t(14977),n=t(27462),l=t(91907),s=t(36305),u=t(19133),d=t(68287),c=t(23029),v=t(81086),x=t(20442),y=t(33629),T=new g({initialize:function(A,P){this.scene=A,this.tileWidth=P.tileWidth,this.tileHeight=P.tileHeight,this.width=P.width,this.height=P.height,this.orientation=P.orientation,this.renderOrder=P.renderOrder,this.format=P.format,this.version=P.version,this.properties=P.properties,this.widthInPixels=P.widthInPixels,this.heightInPixels=P.heightInPixels,this.imageCollections=P.imageCollections,this.images=P.images,this.layers=P.layers,this.tiles=P.tiles,this.tilesets=P.tilesets,this.objects=P.objects,this.currentLayerIndex=0,this.hexSideLength=P.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(w),WorldToTileX:v.GetWorldToTileXFunction(w),WorldToTileY:v.GetWorldToTileYFunction(w),TileToWorldXY:v.GetTileToWorldXYFunction(w),TileToWorldX:v.GetTileToWorldXFunction(w),TileToWorldY:v.GetTileToWorldYFunction(w),GetTileCorners:v.GetTileCornersFunction(w)}},setRenderOrder:function(E){var A=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=A[E]),A.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,A,P,w,I,O,F,L){if(E===void 0)return null;A==null&&(A=E);var D=this.scene.sys.textures;if(!D.exists(A))return console.warn('Texture key "%s" not found',A),null;var b=D.get(A),U=this.getTilesetIndex(E);if(U===null&&this.format===a.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',E,this.tilesets),null;var W=this.tilesets[U];return W?((P||w)&&W.setTileSize(P,w),(I||O)&&W.setSpacing(I,O),W.setImage(b),W):(P===void 0&&(P=this.tileWidth),w===void 0&&(w=this.tileHeight),I===void 0&&(I=0),O===void 0&&(O=0),F===void 0&&(F=0),L===void 0&&(L={x:0,y:0}),W=new y(E,F,P,w,I,O,void 0,void 0,L),W.setImage(b),this.tilesets.push(W),this.tiles=h(this),W)},copy:function(E,A,P,w,I,O,F,L){return L=this.getLayer(L),L!==null?(v.Copy(E,A,P,w,I,O,F,L),this):null},createBlankLayer:function(E,A,P,w,I,O,F,L){P===void 0&&(P=0),w===void 0&&(w=0),I===void 0&&(I=this.width),O===void 0&&(O=this.height),F===void 0&&(F=this.tileWidth),L===void 0&&(L=this.tileHeight);var D=this.getLayerIndex(E);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var b=new i({name:E,tileWidth:F,tileHeight:L,width:I,height:O,orientation:this.orientation,hexSideLength:this.hexSideLength}),U,W=0;W<O;W++){U=[];for(var H=0;H<I;H++)U.push(new c(b,-1,H,W,F,L,this.tileWidth,this.tileHeight));b.data.push(U)}this.layers.push(b),this.currentLayerIndex=this.layers.length-1;var Y=new x(this.scene,this,this.currentLayerIndex,A,P,w);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(E,A,P,w){var I=this.getLayerIndex(E);if(I===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var O=this.layers[I];if(O.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=I,P===void 0&&(P=O.x),w===void 0&&(w=O.y);var F=new x(this.scene,this,I,A,P,w);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(E,A,P){P===void 0&&(P=!0);var w=[],I=this.getObjectLayer(E);if(!I)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),w;var O=new n(P?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var F=I.objects,L=0;L<A.length;L++){var D=A[L],b=r(D,"id",null),U=r(D,"gid",null),W=r(D,"name",null),H=r(D,"type",null);O.enabled=!r(D,"ignoreTileset",null);for(var Y,G=[],X=0;X<F.length;X++)Y=F[X],(b===null&&U===null&&W===null&&H===null||b!==null&&Y.id===b||U!==null&&Y.gid===U||W!==null&&Y.name===W||H!==null&&O.getTypeIncludingTile(Y)===H)&&G.push(Y);for(var V=r(D,"classType",d),B=r(D,"scene",this.scene),z=r(D,"container",null),$=r(D,"key",null),j=r(D,"frame",null),k=0;k<G.length;k++){Y=G[k];var q=new V(B);if(q.setName(Y.name),q.setPosition(Y.x,Y.y),O.setTextureAndFrame(q,$,j,Y),Y.width&&(q.displayWidth=Y.width),Y.height&&(q.displayHeight=Y.height),this.orientation===l.ISOMETRIC){var Q=this.tileWidth/this.tileHeight,Z={x:q.x-q.y,y:(q.x+q.y)/Q};q.x=Z.x,q.y=Z.y}var _={x:q.originX*Y.width,y:(q.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var et=o(Y.rotation);s(_,et),q.rotation=et}q.x+=_.x,q.y+=_.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&q.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(q.visible=!1),O.setPropertiesFromTiledObject(q,Y),z?z.add(q):B.add.existing(q),w.push(q)}}return w},createFromTiles:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:v.CreateFromTiles(E,A,P,w,I,O)},fill:function(E,A,P,w,I,O,F){return O===void 0&&(O=!0),F=this.getLayer(F),F===null?null:(v.Fill(E,A,P,w,I,O,F),this)},filterObjects:function(E,A,P){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.filter(A,P)},filterTiles:function(E,A,P,w,I,O,F,L){return L=this.getLayer(L),L===null?null:v.FilterTiles(E,A,P,w,I,O,F,L)},findByIndex:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.FindByIndex(E,A,P,w)},findObject:function(E,A,P){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.find(A,P)||null},findTile:function(E,A,P,w,I,O,F,L){return L=this.getLayer(L),L===null?null:v.FindTile(E,A,P,w,I,O,F,L)},forEachTile:function(E,A,P,w,I,O,F,L){return L=this.getLayer(L),L===null?null:(v.ForEachTile(E,A,P,w,I,O,F,L),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,A){for(var P=0;P<E.length;P++)if(E[P].name===A)return P;return null},getLayer:function(E){var A=this.getLayerIndex(E);return A!==null?this.layers[A]:null},getObjectLayer:function(E){var A=this.getIndex(this.objects,E);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof x&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.GetTileAt(E,A,P,w)},getTileAtWorldXY:function(E,A,P,w,I){return I=this.getLayer(I),I===null?null:v.GetTileAtWorldXY(E,A,P,w,I)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:v.GetTilesWithin(E,A,P,w,I,O)},getTilesWithinShape:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.GetTilesWithinShape(E,A,P,w)},getTilesWithinWorldXY:function(E,A,P,w,I,O,F){return F=this.getLayer(F),F===null?null:v.GetTilesWithinWorldXY(E,A,P,w,I,O,F)},getTileset:function(E){var A=this.getIndex(this.tilesets,E);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,A,P){return P=this.getLayer(P),P===null?null:v.HasTileAt(E,A,P)},hasTileAtWorldXY:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.HasTileAtWorldXY(E,A,P,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,A,P,w,I){return w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:v.PutTileAt(E,A,P,w,I)},putTileAtWorldXY:function(E,A,P,w,I,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:v.PutTileAtWorldXY(E,A,P,w,I,O)},putTilesAt:function(E,A,P,w,I){return w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:(v.PutTilesAt(E,A,P,w,I),this)},randomize:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:(v.Randomize(E,A,P,w,I,O),this)},calculateFacesAt:function(E,A,P){return P=this.getLayer(P),P===null?null:(v.CalculateFacesAt(E,A,P),this)},calculateFacesWithin:function(E,A,P,w,I){return I=this.getLayer(I),I===null?null:(v.CalculateFacesWithin(E,A,P,w,I),this)},removeLayer:function(E){var A=this.getLayerIndex(E);if(A!==null){u(this.layers,A);for(var P=A;P<this.layers.length;P++)this.layers[P].tilemapLayer&&this.layers[P].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var A=this.getLayerIndex(E);return A!==null?(E=this.layers[A],E.tilemapLayer.destroy(),u(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,A=0;A<E.length;A++)E[A].tilemapLayer&&E[A].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,A,P){A===void 0&&(A=-1),P===void 0&&(P=!0);var w=[];Array.isArray(E)||(E=[E]);for(var I=0;I<E.length;I++){var O=E[I];w.push(this.removeTileAt(O.x,O.y,!0,P,O.tilemapLayer)),A>-1&&this.putTileAt(A,O.x,O.y,P,O.tilemapLayer)}return w},removeTileAt:function(E,A,P,w,I){return P===void 0&&(P=!0),w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:v.RemoveTileAt(E,A,P,w,I)},removeTileAtWorldXY:function(E,A,P,w,I,O){return P===void 0&&(P=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:v.RemoveTileAtWorldXY(E,A,P,w,I,O)},renderDebug:function(E,A,P){return P=this.getLayer(P),P===null?null:(this.orientation===l.ORTHOGONAL&&v.RenderDebug(E,A,P),this)},renderDebugFull:function(E,A){for(var P=this.layers,w=0;w<P.length;w++)v.RenderDebug(E,A,P[w]);return this},replaceByIndex:function(E,A,P,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.ReplaceByIndex(E,A,P,w,I,O,F),this)},setCollision:function(E,A,P,w,I){return A===void 0&&(A=!0),P===void 0&&(P=!0),I===void 0&&(I=!0),w=this.getLayer(w),w===null?null:(v.SetCollision(E,A,P,w,I),this)},setCollisionBetween:function(E,A,P,w,I){return P===void 0&&(P=!0),w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:(v.SetCollisionBetween(E,A,P,w,I),this)},setCollisionByProperty:function(E,A,P,w){return A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByProperty(E,A,P,w),this)},setCollisionByExclusion:function(E,A,P,w){return A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByExclusion(E,A,P,w),this)},setCollisionFromCollisionGroup:function(E,A,P){return E===void 0&&(E=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(v.SetCollisionFromCollisionGroup(E,A,P),this)},setTileIndexCallback:function(E,A,P,w){return w=this.getLayer(w),w===null?null:(v.SetTileIndexCallback(E,A,P,w),this)},setTileLocationCallback:function(E,A,P,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.SetTileLocationCallback(E,A,P,w,I,O,F),this)},setLayer:function(E){var A=this.getLayerIndex(E);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(E,A){this.tileWidth=E,this.tileHeight=A,this.widthInPixels=this.width*E,this.heightInPixels=this.height*A;for(var P=0;P<this.layers.length;P++){this.layers[P].baseTileWidth=E,this.layers[P].baseTileHeight=A;for(var w=this.layers[P].data,I=this.layers[P].width,O=this.layers[P].height,F=0;F<O;F++)for(var L=0;L<I;L++){var D=w[F][L];D!==null&&D.setSize(void 0,void 0,E,A)}}return this},setLayerTileSize:function(E,A,P){if(P=this.getLayer(P),P===null)return this;P.tileWidth=E,P.tileHeight=A;for(var w=P.data,I=P.width,O=P.height,F=0;F<O;F++)for(var L=0;L<I;L++){var D=w[F][L];D!==null&&D.setSize(E,A)}return this},shuffle:function(E,A,P,w,I){return I=this.getLayer(I),I===null?null:(v.Shuffle(E,A,P,w,I),this)},swapByIndex:function(E,A,P,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.SwapByIndex(E,A,P,w,I,O,F),this)},tileToWorldX:function(E,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldX(E,A,P)},tileToWorldY:function(E,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldY(E,A,P)},tileToWorldXY:function(E,A,P,w,I){return I=this.getLayer(I),I===null?null:this._convert.TileToWorldXY(E,A,P,w,I)},getTileCorners:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(E,A,P,w)},weightedRandomize:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:(v.WeightedRandomize(A,P,w,I,E,O),this)},worldToTileX:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(E,A,P,w)},worldToTileY:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(E,A,P,w)},worldToTileXY:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:this._convert.WorldToTileXY(E,A,P,w,I,O)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});f.exports=T},45939:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),g=t(31989);h.register("tilemap",function(o){var a=o!==void 0?o:{};return g(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},46029:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),g=t(31989);h.register("tilemap",function(o,a,r,i,n,l,s){return o===null&&(o=void 0),a===null&&(a=void 0),r===null&&(r=void 0),i===null&&(i=void 0),n===null&&(n=void 0),g(this.scene,o,a,r,i,n,l,s)})},20442:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(78389),o=t(31401),a=t(95643),r=t(81086),i=t(19218),n=t(26099),l=new h({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,g,i],initialize:function(u,d,c,v,x,y){a.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=d,this.layerIndex=c,this.layer=d.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(x,y),this.setOrigin(0,0),this.setSize(d.tileWidth*this.layer.width,d.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var u=[],d=[],c=this.tilemap;Array.isArray(s)||(s=[s]);for(var v=0;v<s.length;v++){var x=s[v];if(typeof x=="string"&&(x=c.getTileset(x)),x){d.push(x);for(var y=x.firstgid,T=0;T<x.total;T++)u[y+T]=x}}this.gidMap=u,this.tileset=d},setRenderOrder:function(s){var u=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=u.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,u){return r.CalculateFacesAt(s,u,this.layer),this},calculateFacesWithin:function(s,u,d,c){return r.CalculateFacesWithin(s,u,d,c,this.layer),this},createFromTiles:function(s,u,d,c,v){return r.CreateFromTiles(s,u,d,c,v,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,u,d,c,v,x,y){return r.Copy(s,u,d,c,v,x,y,this.layer),this},fill:function(s,u,d,c,v,x){return r.Fill(s,u,d,c,v,x,this.layer),this},filterTiles:function(s,u,d,c,v,x,y){return r.FilterTiles(s,u,d,c,v,x,y,this.layer)},findByIndex:function(s,u,d){return r.FindByIndex(s,u,d,this.layer)},findTile:function(s,u,d,c,v,x,y){return r.FindTile(s,u,d,c,v,x,y,this.layer)},forEachTile:function(s,u,d,c,v,x,y){return r.ForEachTile(s,u,d,c,v,x,y,this.layer),this},setTint:function(s,u,d,c,v,x){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!1};return this.forEachTile(y,this,u,d,c,v,x)},setTintFill:function(s,u,d,c,v,x){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!0};return this.forEachTile(y,this,u,d,c,v,x)},getTileAt:function(s,u,d){return r.GetTileAt(s,u,d,this.layer)},getTileAtWorldXY:function(s,u,d,c){return r.GetTileAtWorldXY(s,u,d,c,this.layer)},getIsoTileAtWorldXY:function(s,u,d,c,v){d===void 0&&(d=!0);var x=this.tempVec;return r.IsometricWorldToTileXY(s,u,!0,x,v,this.layer,d),this.getTileAt(x.x,x.y,c)},getTilesWithin:function(s,u,d,c,v){return r.GetTilesWithin(s,u,d,c,v,this.layer)},getTilesWithinShape:function(s,u,d){return r.GetTilesWithinShape(s,u,d,this.layer)},getTilesWithinWorldXY:function(s,u,d,c,v,x){return r.GetTilesWithinWorldXY(s,u,d,c,v,x,this.layer)},hasTileAt:function(s,u){return r.HasTileAt(s,u,this.layer)},hasTileAtWorldXY:function(s,u,d){return r.HasTileAtWorldXY(s,u,d,this.layer)},putTileAt:function(s,u,d,c){return r.PutTileAt(s,u,d,c,this.layer)},putTileAtWorldXY:function(s,u,d,c,v){return r.PutTileAtWorldXY(s,u,d,c,v,this.layer)},putTilesAt:function(s,u,d,c){return r.PutTilesAt(s,u,d,c,this.layer),this},randomize:function(s,u,d,c,v){return r.Randomize(s,u,d,c,v,this.layer),this},removeTileAt:function(s,u,d,c){return r.RemoveTileAt(s,u,d,c,this.layer)},removeTileAtWorldXY:function(s,u,d,c,v){return r.RemoveTileAtWorldXY(s,u,d,c,v,this.layer)},renderDebug:function(s,u){return r.RenderDebug(s,u,this.layer),this},replaceByIndex:function(s,u,d,c,v,x){return r.ReplaceByIndex(s,u,d,c,v,x,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=1),this.cullPaddingX=s,this.cullPaddingY=u,this},setCollision:function(s,u,d,c){return r.SetCollision(s,u,d,this.layer,c),this},setCollisionBetween:function(s,u,d,c){return r.SetCollisionBetween(s,u,d,c,this.layer),this},setCollisionByProperty:function(s,u,d){return r.SetCollisionByProperty(s,u,d,this.layer),this},setCollisionByExclusion:function(s,u,d){return r.SetCollisionByExclusion(s,u,d,this.layer),this},setCollisionFromCollisionGroup:function(s,u){return r.SetCollisionFromCollisionGroup(s,u,this.layer),this},setTileIndexCallback:function(s,u,d){return r.SetTileIndexCallback(s,u,d,this.layer),this},setTileLocationCallback:function(s,u,d,c,v,x){return r.SetTileLocationCallback(s,u,d,c,v,x,this.layer),this},shuffle:function(s,u,d,c){return r.Shuffle(s,u,d,c,this.layer),this},swapByIndex:function(s,u,d,c,v,x){return r.SwapByIndex(s,u,d,c,v,x,this.layer),this},tileToWorldX:function(s,u){return this.tilemap.tileToWorldX(s,u,this)},tileToWorldY:function(s,u){return this.tilemap.tileToWorldY(s,u,this)},tileToWorldXY:function(s,u,d,c){return this.tilemap.tileToWorldXY(s,u,d,c,this)},getTileCorners:function(s,u,d){return this.tilemap.getTileCorners(s,u,d,this)},weightedRandomize:function(s,u,d,c,v){return r.WeightedRandomize(u,d,c,v,s,this.layer),this},worldToTileX:function(s,u,d){return this.tilemap.worldToTileX(s,u,d,this)},worldToTileY:function(s,u,d){return this.tilemap.worldToTileY(s,u,d,this)},worldToTileXY:function(s,u,d,c,v){return this.tilemap.worldToTileXY(s,u,d,c,v,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});f.exports=l},16153:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),g=new h,o=new h,a=new h,r=function(i,n,l,s){var u=n.cull(l),d=u.length,c=l.alpha*n.alpha;if(!(d===0||c<=0)){var v=g,x=o,y=a;x.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),v.copyFrom(l.matrix);var T=i.currentContext,E=n.gidMap;T.save(),s?(v.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),x.e=n.x,x.f=n.y,v.multiply(x,y),y.copyToContext(T)):(x.e-=l.scrollX*n.scrollFactorX,x.f-=l.scrollY*n.scrollFactorY,x.copyToContext(T)),(!i.antialias||n.scaleX>1||n.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var A=0;A<d;A++){var P=u[A],w=E[P.index];if(w){var I=w.image.getSourceImage(),O=w.getTileTextureCoordinates(P.index),F=w.tileWidth,L=w.tileHeight;if(!(O===null||F===0||L===0)){var D=F*.5,b=L*.5;O.x+=w.tileOffset.x,O.y+=w.tileOffset.y,T.save(),T.translate(P.pixelX+D,P.pixelY+b),P.rotation!==0&&T.rotate(P.rotation),(P.flipX||P.flipY)&&T.scale(P.flipX?-1:1,P.flipY?-1:1),T.globalAlpha=c*P.alpha,T.drawImage(I,O.x,O.y,F,L,-D,-b,F,L),T.restore()}}}T.restore()}};f.exports=r},19218:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),g=h,o=h;g=t(99558),o=t(16153),f.exports={renderWebGL:g,renderCanvas:o}},99558:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),g=function(o,a,r){var i=a.cull(r),n=i.length,l=r.alpha*a.alpha;if(!(n===0||l<=0)){var s=a.gidMap,u=o.pipelines.set(a.pipeline,a),d=h.getTintAppendFloatAlpha,c=a.scrollFactorX,v=a.scrollFactorY,x=a.x,y=a.y,T=a.scaleX,E=a.scaleY;o.pipelines.preBatch(a);for(var A=0;A<n;A++){var P=i[A],w=s[P.index];if(w){var I=w.getTileTextureCoordinates(P.index),O=w.tileWidth,F=w.tileHeight;if(!(!I||O===0||F===0)){var L=O*.5,D=F*.5,b=w.glTexture,U=u.setTexture2D(b,a),W=O,H=F,Y=I.x,G=I.y,X=w.tileOffset.x,V=w.tileOffset.y,B=d(P.tint,l*P.alpha);u.batchTexture(a,b,b.width,b.height,x+P.pixelX*T+(L*T-X),y+P.pixelY*E+(D*E-V),O,F,T,E,P.rotation,P.flipX,P.flipY,c,v,L,D,Y,G,W,H,B,B,B,B,P.tintFill,0,0,r,null,!0,U,!0)}}}o.pipelines.postBatch(a)}};f.exports=g},33629:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(26099),o=new h({initialize:function(r,i,n,l,s,u,d,c,v){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),s===void 0&&(s=0),u===void 0&&(u=0),d===void 0&&(d={}),c===void 0&&(c={}),this.name=r,this.firstgid=i,this.tileWidth=n,this.tileHeight=l,this.tileMargin=s,this.tileSpacing=u,this.tileProperties=d,this.tileData=c,this.tileOffset=new g,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var r=this.getTileData(a);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){this.image=a;var r=a.get(),i=a.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>i.width||r.height>i.height?this.updateTileData(r.width,r.height):this.updateTileData(i.width,i.height,i.x,i.y),this},setTileSize:function(a,r){return a!==void 0&&(this.tileWidth=a),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,r){return a!==void 0&&(this.tileMargin=a),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),s=Math.floor(s),this.rows=l,this.columns=s,this.total=l*s,this.texCoordinates.length=0;for(var u=this.tileMargin+i,d=this.tileMargin+n,c=0;c<this.rows;c++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:u,y:d}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin+i,d+=this.tileHeight+this.tileSpacing}return this}});f.exports=o},72023:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),g=function(o,a,r){var i=h(o,a,!0,r),n=h(o,a-1,!0,r),l=h(o,a+1,!0,r),s=h(o-1,a,!0,r),u=h(o+1,a,!0,r),d=i&&i.collides;return d&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),n&&n.collides&&(d&&(i.faceTop=!1),n.faceBottom=!d),l&&l.collides&&(d&&(i.faceBottom=!1),l.faceTop=!d),s&&s.collides&&(d&&(i.faceLeft=!1),s.faceRight=!d),u&&u.collides&&(d&&(i.faceRight=!1),u.faceLeft=!d),i&&!i.collides&&i.resetFaces(),i};f.exports=g},42573:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),g=t(7386),o=function(a,r,i,n,l){for(var s=null,u=null,d=null,c=null,v=g(a,r,i,n,null,l),x=0;x<v.length;x++){var y=v[x];y&&(y.collides?(s=h(y.x,y.y-1,!0,l),u=h(y.x,y.y+1,!0,l),d=h(y.x-1,y.y,!0,l),c=h(y.x+1,y.y,!0,l),y.faceTop=!(s&&s.collides),y.faceBottom=!(u&&u.collides),y.faceLeft=!(d&&d.collides),y.faceRight=!(c&&c.collides)):y.resetFaces())}};f.exports=o},33528:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=new h,o=function(a,r,i,n){var l=i.tilemapLayer,s=l.cullPaddingX,u=l.cullPaddingY,d=l.tilemap.tileToWorldXY(a,r,g,n,l);return d.x>n.worldView.x+l.scaleX*i.tileWidth*(-s-.5)&&d.x<n.worldView.right+l.scaleX*i.tileWidth*(s-.5)&&d.y>n.worldView.y+l.scaleY*i.tileHeight*(-u-1)&&d.y<n.worldView.bottom+l.scaleY*i.tileHeight*(u-.5)};f.exports=o},1785:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),g=t(7386),o=t(62991),a=t(23029),r=function(i,n,l,s,u,d,c,v){c===void 0&&(c=!0);var x=g(i,n,l,s,null,v),y=[];x.forEach(function(O){var F=new a(O.layer,O.index,O.x,O.y,O.width,O.height,O.baseWidth,O.baseHeight);F.copy(O),y.push(F)});for(var T=u-i,E=d-n,A=0;A<y.length;A++){var P=y[A],w=P.x+T,I=P.y+E;o(w,I,v)&&v.data[I][w]&&(P.x=w,P.y=I,P.updatePixelXY(),v.data[I][w]=P)}c&&h(u-1,d-1,l+2,s+2,v),x.length=0,y.length=0};f.exports=r},78419:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),g=t(7386),o=t(27987),a=function(r,i,n,l,s,u){n||(n={}),Array.isArray(r)||(r=[r]);var d=u.tilemapLayer;l||(l=d.scene),s||(s=l.cameras.main);var c=u.width,v=u.height,x=g(0,0,c,v,null,u),y=[],T,E=function(I,O,F){for(var L=0;L<F.length;L++){var D=F[L];I.hasOwnProperty(D)||(I[D]=O[D])}};for(T=0;T<x.length;T++){var A=x[T],P=h(n);if(r.indexOf(A.index)!==-1){var w=d.tileToWorldXY(A.x,A.y,void 0,s,u);P.x=w.x,P.y=w.y,E(P,A,["rotation","flipX","flipY","alpha","visible","tint"]),P.hasOwnProperty("origin")||(P.x+=A.width*.5,P.y+=A.height*.5),P.hasOwnProperty("useSpriteSheet")&&(P.key=A.tileset.image,P.frame=A.index-1),y.push(l.make.sprite(P))}}if(Array.isArray(i))for(T=0;T<r.length;T++)o(r[T],i[T],0,0,c,v,u);else if(i!==null)for(T=0;T<r.length;T++)o(r[T],i,0,0,c,v,u);return y};f.exports=a},19545:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),g=t(63448),o=t(56583),a=new h,r=function(i,n){var l=i.tilemapLayer.tilemap,s=i.tilemapLayer,u=Math.floor(l.tileWidth*s.scaleX),d=Math.floor(l.tileHeight*s.scaleY),c=o(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,v=g(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,x=o(n.worldView.y-s.y,d,0,!0)-s.cullPaddingY,y=g(n.worldView.bottom-s.y,d,0,!0)+s.cullPaddingY;return a.setTo(c,x,v-c,y-x)};f.exports=r},30003:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19545),g=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),g(a,s,n,i),i};f.exports=o},35137:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(42573),o=t(20576),a=function(r,i,n,l,s,u,d){for(var c=d.collideIndexes.indexOf(r)!==-1,v=h(i,n,l,s,null,d),x=0;x<v.length;x++)v[x].index=r,o(v[x],c);u&&g(i-1,n-1,l+2,s+2,d)};f.exports=a},40253:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s,u){var d=h(r,i,n,l,s,u);return d.filter(o,a)};f.exports=g},52692:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){h===void 0&&(h=0),g===void 0&&(g=!1);var a=0,r,i,n;if(g){for(i=o.height-1;i>=0;i--)for(r=o.width-1;r>=0;r--)if(n=o.data[i][r],n&&n.index===t){if(a===h)return n;a+=1}}else for(i=0;i<o.height;i++)for(r=0;r<o.width;r++)if(n=o.data[i][r],n&&n.index===t){if(a===h)return n;a+=1}return null};f.exports=S},66151:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s,u){var d=h(r,i,n,l,s,u);return d.find(o,a)||null};f.exports=g},97560:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s,u){var d=h(r,i,n,l,s,u);d.forEach(o,a)};f.exports=g},43305:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(30003),o=t(9474),a=t(14018),r=t(29747),i=t(54503),n=function(l){return l===h.ORTHOGONAL?g:l===h.HEXAGONAL?o:l===h.STAGGERED?i:l===h.ISOMETRIC?a:r};f.exports=n},7423:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),g=function(o,a,r,i){if(h(o,a,i)){var n=i.data[a][o]||null;return n?n.index===-1?r?n:null:n:null}else return null};f.exports=g},60540:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),g=t(26099),o=new g,a=function(r,i,n,l,s){return s.tilemapLayer.worldToTileXY(r,i,!0,o,l),h(o.x,o.y,n,s)};f.exports=a},55826:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i){var n=i.baseTileWidth,l=i.baseTileHeight,s=i.tilemapLayer,u=0,d=0;s&&(r||(r=s.scene.cameras.main),u=s.x+r.scrollX*(1-s.scrollFactorX),d=s.y+r.scrollY*(1-s.scrollFactorY),n*=s.scaleX,l*=s.scaleY);var c=u+o*n,v=d+a*l;return[new h(c,v),new h(c+n,v),new h(c+n,v+l),new h(c,v+l)]};f.exports=g},11758:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(27229),o=t(29747),a=t(55826),r=function(i){return i===h.ORTHOGONAL?a:i===h.ISOMETRIC?o:i===h.HEXAGONAL?g:(i===h.STAGGERED,o)};f.exports=r},39167:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(29747),o=t(97281),a=function(r){return r===h.ORTHOGONAL?o:g};f.exports=a},62e3:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(19951),o=t(14127),a=t(29747),r=t(97202),i=t(70326),n=function(l){return l===h.ORTHOGONAL?i:l===h.ISOMETRIC?o:l===h.HEXAGONAL?g:l===h.STAGGERED?r:a};f.exports=n},5984:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(29747),o=t(28054),a=t(29650),r=function(i){return i===h.ORTHOGONAL?a:i===h.STAGGERED?o:g};f.exports=r},7386:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o,a,r,i,n,l){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=l.width),i===void 0&&(i=l.height),n||(n={});var s=h(n,"isNotEmpty",!1),u=h(n,"isColliding",!1),d=h(n,"hasInterestingFace",!1);o<0&&(r+=o,o=0),a<0&&(i+=a,a=0),o+r>l.width&&(r=Math.max(l.width-o,0)),a+i>l.height&&(i=Math.max(l.height-a,0));for(var c=[],v=a;v<a+i;v++)for(var x=o;x<o+r;x++){var y=l.data[v][x];if(y!==null){if(s&&y.index===-1||u&&!y.collides||d&&!y.hasInterestingFace)continue;c.push(y)}}return c};f.exports=g},91141:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55738),g=t(7386),o=t(91865),a=t(29747),r=t(26099),i=t(91907),n=function(c,v){return o.RectangleToTriangle(v,c)},l=new r,s=new r,u=new r,d=function(c,v,x,y){if(y.orientation!==i.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(c===void 0)return[];var T=a;c instanceof h.Circle?T=o.CircleToRectangle:c instanceof h.Rectangle?T=o.RectangleToRectangle:c instanceof h.Triangle?T=n:c instanceof h.Line&&(T=o.LineToRectangle),y.tilemapLayer.worldToTileXY(c.left,c.top,!0,s,x);var E=s.x,A=s.y;y.tilemapLayer.worldToTileXY(c.right,c.bottom,!1,u,x);var P=Math.ceil(u.x),w=Math.ceil(u.y),I=Math.max(P-E,1),O=Math.max(w-A,1),F=g(E,A,I,O,v,y),L=y.tileWidth,D=y.tileHeight;y.tilemapLayer&&(L*=y.tilemapLayer.scaleX,D*=y.tilemapLayer.scaleY);for(var b=[],U=new h.Rectangle(0,0,L,D),W=0;W<F.length;W++){var H=F[W];y.tilemapLayer.tileToWorldXY(H.x,H.y,l,x),U.x=l.x,U.y=l.y,T(c,U)&&b.push(H)}return b};f.exports=d},96523:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(26099),o=new g,a=new g,r=function(i,n,l,s,u,d,c){var v=c.tilemapLayer.tilemap._convert.WorldToTileXY;v(i,n,!0,o,d,c);var x=o.x,y=o.y;v(i+l,n+s,!1,a,d,c);var T=Math.ceil(a.x),E=Math.ceil(a.y);return h(x,y,T-x,E-y,u,c)};f.exports=r},96113:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(20242),o=t(10095),a=function(r){return r===h.ORTHOGONAL?o:g};f.exports=a},16926:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(86625),o=t(96897),a=t(29747),r=t(15108),i=t(85896),n=function(l){return l===h.ORTHOGONAL?i:l===h.ISOMETRIC?o:l===h.HEXAGONAL?g:l===h.STAGGERED?r:a};f.exports=n},55762:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=t(20242),o=t(51900),a=t(63288),r=function(i){return i===h.ORTHOGONAL?a:i===h.STAGGERED?o:g};f.exports=r},45091:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),g=function(o,a,r){if(h(o,a,r)){var i=r.data[a][o];return i!==null&&i.index>-1}else return!1};f.exports=g},24152:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45091),g=t(26099),o=new g,a=function(r,i,n,l){l.tilemapLayer.worldToTileXY(r,i,!0,o,n);var s=o.x,u=o.y;return h(s,u,l)};f.exports=a},90454:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),g=t(56583),o=function(a,r){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,l=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),u=a.hexSideLength,d,c,v,x;if(a.staggerAxis==="y"){var y=(s-u)/2+u;d=g(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,c=h(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,v=g(r.worldView.y-n.y,y,0,!0)-n.cullPaddingY,x=h(r.worldView.bottom-n.y,y,0,!0)+n.cullPaddingY}else{var T=(l-u)/2+u;d=g(r.worldView.x-n.x,T,0,!0)-n.cullPaddingX,c=h(r.worldView.right-n.x,T,0,!0)+n.cullPaddingX,v=g(r.worldView.y-n.y,s,0,!0)-n.cullPaddingY,x=h(r.worldView.bottom-n.y,s,0,!0)+n.cullPaddingY}return{left:d,right:c,top:v,bottom:x}};f.exports=o},9474:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90454),g=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),g(a,s,n,i),i};f.exports=o},27229:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19951),g=t(26099),o=new g,a=function(r,i,n,l){var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(s*=d.scaleX,u*=d.scaleY);var c=h(r,i,o,n,l),v=[],x=.5773502691896257,y,T;l.staggerAxis==="y"?(y=x*s,T=u/2):(y=s/2,T=x*u);for(var E=0;E<6;E++){var A=2*Math.PI*(.5-E)/6;v.push(new g(c.x+y*Math.cos(A),c.y+T*Math.sin(A)))}return v};f.exports=a},19951:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),c=u.y+i.scrollY*(1-u.scrollFactorY),l*=u.scaleX,s*=u.scaleY);var v=l/2,x=s/2,y,T,E=n.staggerAxis,A=n.staggerIndex;return E==="y"?(y=d+l*o+l,T=c+1.5*a*x+x,a%2===0&&(A==="odd"?y-=v:y+=v)):E==="x"&&A==="odd"&&(y=d+1.5*o*v+v,T=c+s*o+s,o%2===0&&(A==="odd"?T-=x:T+=x)),r.set(y,T)};f.exports=g},86625:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l){i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),s*=d.scaleX,u*=d.scaleY);var c=.5773502691896257,v=-.3333333333333333,x=0,y=.6666666666666666,T=s/2,E=u/2,A,P,w,I,O;l.staggerAxis==="y"?(A=(o-T)/(c*s),P=(a-E)/E,w=c*A+v*P,I=x*A+y*P):(A=(o-T)/T,P=(a-E)/(c*u),w=v*A+c*P,I=y*A+x*P),O=-w-I;var F=Math.round(w),L=Math.round(I),D=Math.round(O),b=Math.abs(F-w),U=Math.abs(L-I),W=Math.abs(D-O);b>U&&b>W?F=-L-D:U>W&&(L=-F-D);var H,Y=L;return l.staggerIndex==="odd"?H=Y%2===0?L/2+F:L/2+F-.5:H=Y%2===0?L/2+F:L/2+F+.5,i.set(H,Y)};f.exports=g},62991:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t>=0&&t<g.width&&h>=0&&h<g.height};f.exports=S},14018:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33528),g=function(o,a,r,i){r===void 0&&(r=[]),i===void 0&&(i=0),r.length=0;var n=o.tilemapLayer,l=o.data,s=o.width,u=o.height,d=n.skipCull,c=0,v=s,x=0,y=u,T,E,A;if(i===0)for(E=x;E<y;E++)for(T=c;T<v;T++)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!h(T,E,o,a)||r.push(A));else if(i===1)for(E=x;E<y;E++)for(T=v;T>=c;T--)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!h(T,E,o,a)||r.push(A));else if(i===2)for(E=y;E>=x;E--)for(T=c;T<v;T++)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!h(T,E,o,a)||r.push(A));else if(i===3)for(E=y;E>=x;E--)for(T=v;T>=c;T--)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!d&&!h(T,E,o,a)||r.push(A));return n.tilesDrawn=r.length,n.tilesTotal=s*u,r};f.exports=g},14127:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=d+(o-a)*(l/2),x=c+(o+a)*(s/2);return r.set(v,x)};f.exports=g},96897:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l,s){i||(i=new h);var u=l.baseTileWidth,d=l.baseTileHeight,c=l.tilemapLayer;c&&(n||(n=c.scene.cameras.main),a=a-(c.y+n.scrollY*(1-c.scrollFactorY)),d*=c.scaleY,o=o-(c.x+n.scrollX*(1-c.scrollFactorX)),u*=c.scaleX);var v=u/2,x=d/2;o=o-v,s||(a=a-d);var y=.5*(o/v+a/x),T=.5*(-o/v+a/x);return r&&(y=Math.floor(y),T=Math.floor(T)),i.set(y,T)};f.exports=g},71558:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),g=t(62991),o=t(72023),a=t(20576),r=function(i,n,l,s,u){if(s===void 0&&(s=!0),!g(n,l,u))return null;var d,c=u.data[l][n],v=c&&c.collides;i instanceof h?(u.data[l][n]===null&&(u.data[l][n]=new h(u,i.index,n,l,u.tileWidth,u.tileHeight)),u.data[l][n].copy(i)):(d=i,u.data[l][n]===null?u.data[l][n]=new h(u,d,n,l,u.tileWidth,u.tileHeight):u.data[l][n].index=d);var x=u.data[l][n],y=u.collideIndexes.indexOf(x.index)!==-1;if(d=i instanceof h?i.index:i,d===-1)x.width=u.tileWidth,x.height=u.tileHeight;else{var T=u.tilemapLayer.tilemap,E=T.tiles,A=E[d][2],P=T.tilesets[A];x.width=P.tileWidth,x.height=P.tileHeight}return a(x,y),s&&v!==x.collides&&o(n,l,u),x};f.exports=r},26303:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71558),g=t(26099),o=new g,a=function(r,i,n,l,s,u){return u.tilemapLayer.worldToTileXY(i,n,!0,o,s,u),h(r,o.x,o.y,l,u)};f.exports=a},14051:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),g=t(71558),o=function(a,r,i,n,l){if(n===void 0&&(n=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var s=a.length,u=a[0].length,d=0;d<s;d++)for(var c=0;c<u;c++){var v=a[d][c];g(v,r+c,i+d,!1,l)}n&&h(r-1,i-1,u+2,s+2,l)};f.exports=o},77389:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(26546),o=function(a,r,i,n,l,s){var u,d=h(a,r,i,n,{},s);if(!l)for(l=[],u=0;u<d.length;u++)l.indexOf(d[u].index)===-1&&l.push(d[u].index);for(u=0;u<d.length;u++)d[u].index=g(l)};f.exports=o},63557:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),g=t(62991),o=t(72023),a=function(r,i,n,l,s){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!g(r,i,s))return null;var u=s.data[i][r];if(u)s.data[i][r]=n?null:new h(s,-1,r,i,s.tileWidth,s.tileHeight);else return null;return l&&u&&u.collides&&o(r,i,s),u};f.exports=a},94178:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63557),g=t(26099),o=new g,a=function(r,i,n,l,s,u){return u.tilemapLayer.worldToTileXY(r,i,!0,o,s,u),h(o.x,o.y,n,l,u)};f.exports=a},15533:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(3956),o=new g(105,210,231,150),a=new g(243,134,48,200),r=new g(40,39,37,150),i=function(n,l,s){l===void 0&&(l={});var u=l.tileColor!==void 0?l.tileColor:o,d=l.collidingTileColor!==void 0?l.collidingTileColor:a,c=l.faceColor!==void 0?l.faceColor:r,v=h(0,0,s.width,s.height,null,s);n.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),n.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var x=0;x<v.length;x++){var y=v[x],T=y.tileset?y.tileset.tileOffset:{x:0,y:0},E=y.width,A=y.height,P=y.pixelX-T.x,w=y.pixelY-T.y,I=y.collides?d:u;I!==null&&(n.fillStyle(I.color,I.alpha/255),n.fillRect(P,w,E,A)),P+=1,w+=1,E-=2,A-=2,c!==null&&(n.lineStyle(1,c.color,c.alpha/255),y.faceTop&&n.lineBetween(P,w,P+E,w),y.faceRight&&n.lineBetween(P+E,w,P+E,w+A),y.faceBottom&&n.lineBetween(P,w+A,P+E,w+A),y.faceLeft&&n.lineBetween(P,w,P,w+A))}};f.exports=i},27987:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s){for(var u=h(r,i,n,l,null,s),d=0;d<u.length;d++)u[d]&&u[d].index===o&&(u[d].index=a)};f.exports=g},32483:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=t.data,r=t.width,i=t.height,n=t.tilemapLayer,l=Math.max(0,h.left),s=Math.min(r,h.right),u=Math.max(0,h.top),d=Math.min(i,h.bottom),c,v,x;if(g===0)for(v=u;v<d;v++)for(c=l;a[v]&&c<s;c++)x=a[v][c],!(!x||x.index===-1||!x.visible||x.alpha===0)&&o.push(x);else if(g===1)for(v=u;v<d;v++)for(c=s;a[v]&&c>=l;c--)x=a[v][c],!(!x||x.index===-1||!x.visible||x.alpha===0)&&o.push(x);else if(g===2)for(v=d;v>=u;v--)for(c=l;a[v]&&c<s;c++)x=a[v][c],!(!x||x.index===-1||!x.visible||x.alpha===0)&&o.push(x);else if(g===3)for(v=d;v>=u;v--)for(c=s;a[v]&&c>=l;c--)x=a[v][c],!(!x||x.index===-1||!x.visible||x.alpha===0)&&o.push(x);return n.tilesDrawn=o.length,n.tilesTotal=r*i,o};f.exports=S},57068:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=t(9589),a=function(r,i,n,l,s){i===void 0&&(i=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++)o(r[u],i,l);if(s)for(var d=0;d<l.height;d++)for(var c=0;c<l.width;c++){var v=l.data[d][c];v&&r.indexOf(v.index)!==-1&&h(v,i)}n&&g(0,0,l.width,l.height,l)};f.exports=a},37266:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=t(9589),a=function(r,i,n,l,s,u){if(n===void 0&&(n=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),!(r>i)){for(var d=r;d<=i;d++)o(d,n,s);if(u)for(var c=0;c<s.height;c++)for(var v=0;v<s.width;v++){var x=s.data[c][v];x&&x.index>=r&&x.index<=i&&h(x,n)}l&&g(0,0,s.width,s.height,s)}};f.exports=a},75661:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=t(9589),a=function(r,i,n,l){i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var d=l.data[s][u];d&&r.indexOf(d.index)===-1&&(h(d,i),o(d.index,i,l))}n&&g(0,0,l.width,l.height,l)};f.exports=a},64740:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=t(97022),a=function(r,i,n,l){i===void 0&&(i=!0),n===void 0&&(n=!0);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var d=l.data[s][u];if(d){for(var c in r)if(o(d.properties,c)){var v=r[c];Array.isArray(v)||(v=[v]);for(var x=0;x<v.length;x++)d.properties[c]===v[x]&&h(d,i)}}}n&&g(0,0,l.width,l.height,l)};f.exports=a},63307:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),g=t(42573),o=function(a,r,i){a===void 0&&(a=!0),r===void 0&&(r=!0);for(var n=0;n<i.height;n++)for(var l=0;l<i.width;l++){var s=i.data[n][l];if(s){var u=s.getCollisionGroup();u&&u.objects&&u.objects.length>0&&h(s,a)}}r&&g(0,0,i.width,i.height,i)};f.exports=o},9589:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=g.collideIndexes.indexOf(t);h&&o===-1?g.collideIndexes.push(t):!h&&o!==-1&&g.collideIndexes.splice(o,1)};f.exports=S},20576:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};f.exports=S},79583:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){if(typeof t=="number")o.callbacks[t]=h!==null?{callback:h,callbackContext:g}:void 0;else for(var a=0,r=t.length;a<r;a++)o.callbacks[t[a]]=h!==null?{callback:h,callbackContext:g}:void 0};f.exports=S},93254:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s){for(var u=h(o,a,r,i,null,s),d=0;d<u.length;d++)u[d].setCollisionCallback(n,l)};f.exports=g},32903:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(33680),o=function(a,r,i,n,l){var s=h(a,r,i,n,null,l),u=s.map(function(c){return c.index});g(u);for(var d=0;d<s.length;d++)s[d].index=u[d]};f.exports=o},61325:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),g=t(56583),o=function(a,r){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,l=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),u=g(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,d=h(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,c=g(r.worldView.y-n.y,s/2,0,!0)-n.cullPaddingY,v=h(r.worldView.bottom-n.y,s/2,0,!0)+n.cullPaddingY;return{left:u,right:d,top:c,bottom:v}};f.exports=o},54503:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61325),g=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),g(a,s,n,i),i};f.exports=o},97202:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,d=0,c=0;u&&(i||(i=u.scene.cameras.main),d=u.x+i.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=d+o*l+a%2*(l/2),x=c+a*(s/2);return r.set(v,x)};f.exports=g},28054:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=g.baseTileHeight,a=g.tilemapLayer,r=0;return a&&(h===void 0&&(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleY),r+t*(o/2)+o};f.exports=S},15108:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l){i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),s*=d.scaleX);var c=r?Math.floor(a/(u/2)):a/(u/2),v=r?Math.floor((o+c%2*.5*s)/s):(o+c%2*.5*s)/s;return i.set(v,c)};f.exports=g},51900:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=o.baseTileHeight,r=o.tilemapLayer;return r&&(g||(g=r.scene.cameras.main),t=t-(r.y+g.scrollY*(1-r.scrollFactorY)),a*=r.scaleY),h?Math.floor(t/(a/2)):t/(a/2)};f.exports=S},86560:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=function(o,a,r,i,n,l,s){for(var u=h(r,i,n,l,null,s),d=0;d<u.length;d++)u[d]&&(u[d].index===o?u[d].index=a:u[d].index===a&&(u[d].index=o))};f.exports=g},97281:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=g.baseTileWidth,a=g.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.x+h.scrollX*(1-a.scrollFactorX),o*=a.scaleX),r+t*o};f.exports=S},70326:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97281),g=t(29650),o=t(26099),a=function(r,i,n,l,s){return n||(n=new o(0,0)),n.x=h(r,l,s),n.y=g(i,l,s),n};f.exports=a},29650:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=g.baseTileHeight,a=g.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleY),r+t*o};f.exports=S},77366:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),g=t(75508),o=function(a,r,i,n,l,s){if(l){var u,d=h(a,r,i,n,null,s),c=0;for(u=0;u<l.length;u++)c+=l[u].weight;if(!(c<=0))for(u=0;u<d.length;u++){for(var v=g.RND.frac()*c,x=0,y=-1,T=0;T<l.length;T++)if(x+=l[T].weight,v<=x){var E=l[T].index;y=Array.isArray(E)?E[Math.floor(g.RND.frac()*E.length)]:E;break}d[u].index=y}}};f.exports=o},10095:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),g=t(26099),o=new g,a=function(r,i,n,l){return h(r,0,i,o,n,l),o.x};f.exports=a},85896:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),g=function(o,a,r,i,n,l){r===void 0&&(r=!0),i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer;d&&(n||(n=d.scene.cameras.main),o=o-(d.x+n.scrollX*(1-d.scrollFactorX)),a=a-(d.y+n.scrollY*(1-d.scrollFactorY)),s*=d.scaleX,u*=d.scaleY);var c=o/s,v=a/u;return r&&(c=Math.floor(c),v=Math.floor(v)),i.set(c,v)};f.exports=g},63288:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),g=t(26099),o=new g,a=function(r,i,n,l){return h(0,r,i,o,n,l),o.y};f.exports=a},81086:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(91907)};f.exports=h},62501:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=h(!1,o,g.ORIENTATION),f.exports=o},14977:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(91907),o=t(95540),a=new h({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","layer"),this.id=o(i,"id",0),this.x=o(i,"x",0),this.y=o(i,"y",0),this.width=o(i,"width",0),this.height=o(i,"height",0),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.baseTileWidth=o(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(i,"baseTileHeight",this.tileHeight),this.orientation=o(i,"orientation",g.ORTHOGONAL),this.widthInPixels=o(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(i,"alpha",1),this.visible=o(i,"visible",!0),this.properties=o(i,"properties",[]),this.indexes=o(i,"indexes",[]),this.collideIndexes=o(i,"collideIndexes",[]),this.callbacks=o(i,"callbacks",[]),this.bodies=o(i,"bodies",[]),this.data=o(i,"data",[]),this.tilemapLayer=o(i,"tilemapLayer",null),this.hexSideLength=o(i,"hexSideLength",0),this.staggerAxis=o(i,"staggerAxis","y"),this.staggerIndex=o(i,"staggerIndex","odd")}});f.exports=a},87010:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(91907),o=t(95540),a=new h({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","map"),this.width=o(i,"width",0),this.height=o(i,"height",0),this.infinite=o(i,"infinite",!1),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.widthInPixels=o(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.tileHeight),this.format=o(i,"format",null),this.orientation=o(i,"orientation",g.ORTHOGONAL),this.renderOrder=o(i,"renderOrder","right-down"),this.version=o(i,"version","1"),this.properties=o(i,"properties",{}),this.layers=o(i,"layers",[]),this.images=o(i,"images",[]),this.objects=o(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(i,"collision",{}),this.tilesets=o(i,"tilesets",[]),this.imageCollections=o(i,"imageCollections",[]),this.tiles=o(i,"tiles",[]),this.hexSideLength=o(i,"hexSideLength",0),this.staggerAxis=o(i,"staggerAxis","y"),this.staggerIndex=o(i,"staggerIndex","odd")}});f.exports=a},48700:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=new h({initialize:function(r){r===void 0&&(r={}),this.name=g(r,"name","object layer"),this.id=g(r,"id",0),this.opacity=g(r,"opacity",1),this.properties=g(r,"properties",{}),this.propertyTypes=g(r,"propertytypes",{}),this.type=g(r,"type","objectgroup"),this.visible=g(r,"visible",!0),this.objects=g(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});f.exports=o},6641:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),g=function(o){return o=o.toLowerCase(),o==="isometric"?h.ISOMETRIC:o==="staggered"?h.STAGGERED:o==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};f.exports=g},46177:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(2342),o=t(82593),a=t(46594),r=t(87021),i=function(n,l,s,u,d,c){var v;switch(l){case h.ARRAY_2D:v=g(n,s,u,d,c);break;case h.CSV:v=o(n,s,u,d,c);break;case h.TILED_JSON:v=a(n,s,c);break;case h.WELTMEISTER:v=r(n,s,c);break;default:console.warn("Unrecognized tilemap data format: "+l),v=null}return v};f.exports=i},2342:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(14977),o=t(87010),a=t(23029),r=function(i,n,l,s,u){for(var d=new g({tileWidth:l,tileHeight:s}),c=new o({name:i,tileWidth:l,tileHeight:s,format:h.ARRAY_2D,layers:[d]}),v=[],x=n.length,y=0,T=0;T<n.length;T++){v[T]=[];for(var E=n[T],A=0;A<E.length;A++){var P=parseInt(E[A],10);isNaN(P)||P===-1?v[T][A]=u?null:new a(d,-1,A,T,l,s):v[T][A]=new a(d,P,A,T,l,s)}y===0&&(y=E.length)}return c.width=d.width=y,c.height=d.height=x,c.widthInPixels=d.widthInPixels=y*l,c.heightInPixels=d.heightInPixels=x*s,d.data=v,c};f.exports=r},82593:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(2342),o=function(a,r,i,n,l){var s=r.trim().split(`
`).map(function(d){return d.split(",")}),u=g(a,s,i,n,l);return u.format=h.CSV,u};f.exports=o},6656:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14977),g=t(23029),o=function(a,r){for(var i=[],n=0;n<a.layer.length;n++){for(var l=a.layer[n],s=new h({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),u=[],d=[],c=0;c<l.data.length;c++){for(var v=0;v<l.data[c].length;v++){var x=l.data[c][v]-1,y;x>-1?y=new g(s,x,v,c,l.tilesize,l.tilesize):y=r?null:new g(s,-1,v,c,l.tilesize,l.tilesize),u.push(y)}d.push(u),u=[]}s.data=d,i.push(s)}return i};f.exports=o},96483:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),g=function(o){for(var a=[],r=[],i=0;i<o.layer.length;i++){var n=o.layer[i],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),a.push(new h(l,0,n.tilesize,n.tilesize,0,0)))}return a};f.exports=g},87021:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),g=t(87010),o=t(6656),a=t(96483),r=function(i,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var s=0,u=0,d=0;d<n.layer.length;d++)n.layer[d].width>s&&(s=n.layer[d].width),n.layer[d].height>u&&(u=n.layer[d].height);var c=new g({width:s,height:u,name:i,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:h.WELTMEISTER});return c.layers=o(n,l),c.tilesets=a(n),c};f.exports=r},52833:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),g=function(o){for(var a,r,i,n,l,s=0;s<o.layers.length;s++){a=o.layers[s],n=null;for(var u=0;u<a.data.length;u++){l=a.data[u];for(var d=0;d<l.length;d++)r=l[d],!(r===null||r.index<0)&&(i=o.tiles[r.index][2],n=o.tilesets[i],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=h(r.properties,n.tileProperties[r.index-n.firstgid])))}}};f.exports=g},41868:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=window.atob(t),g=h.length,o=new Array(g/4),a=0;a<g;a+=4)o[a/4]=(h.charCodeAt(a)|h.charCodeAt(a+1)<<8|h.charCodeAt(a+2)<<16|h.charCodeAt(a+3)<<24)>>>0;return o};f.exports=S},84101:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),g=function(o){var a,r,i=[];for(a=0;a<o.imageCollections.length;a++)for(var n=o.imageCollections[a],l=n.images,s=0;s<l.length;s++){var u=l[s],d={x:0,y:u.height-o.tileHeight};r=new h(u.image,u.gid,u.width,u.height,0,0,null,null,d),r.updateTileData(u.width,u.height),o.tilesets.push(r)}for(a=0;a<o.tilesets.length;a++){r=o.tilesets[a];for(var c=r.tileMargin,v=r.tileMargin,x=0,y=0,T=0,E=r.firstgid;E<r.firstgid+r.total&&(i[E]=[c,v,a],c+=r.tileWidth+r.tileSpacing,x++,!(x===r.total||(y++,y===r.columns&&(c=r.tileMargin,v+=r.tileHeight+r.tileSpacing,y=0,T++,T===r.rows))));E++);}return i};f.exports=g},79677:(f,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=function(o,a,r){if(!a)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+h(a,"startx",0)*o.tilewidth+h(a,"offsetx",0),n=a.y+h(a,"starty",0)*o.tileheight+h(a,"offsety",0);return{i:0,layers:a.layers,name:r.name+a.name+"/",opacity:r.opacity*a.opacity,visible:r.visible&&a.visible,x:r.x+i,y:r.y+n}};f.exports=g},29920:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,h=536870912,g=function(o){var a=!!(o&S),r=!!(o&t),i=!!(o&h);o=o&536870911;var n=0,l=!1;return a&&r&&i?(n=Math.PI/2,l=!0):a&&r&&!i?(n=Math.PI,l=!1):a&&!r&&i?(n=Math.PI/2,l=!1):a&&!r&&!i?(n=0,l=!0):!a&&r&&i?(n=3*Math.PI/2,l=!1):!a&&r&&!i?(n=Math.PI,l=!0):!a&&!r&&i?(n=3*Math.PI/2,l=!0):!a&&!r&&!i&&(n=0,l=!1),{gid:o,flippedHorizontal:a,flippedVertical:r,flippedAntiDiagonal:i,rotation:n,flipped:l}};f.exports=g},12635:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=t(79677),o=function(a){for(var r=[],i=[],n=g(a);n.i<n.layers.length||i.length>0;){if(n.i>=n.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=i.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var s=g(a,l,n);i.push(n),n=s}continue}var u=h(l,"offsetx",0)+h(l,"startx",0),d=h(l,"offsety",0)+h(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+u+l.x,y:n.y+d+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:h(l,"properties",{})})}return r};f.exports=o},46594:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51233),g=t(84101),o=t(91907),a=t(62644),r=t(80341),i=t(6641),n=t(87010),l=t(12635),s=t(22611),u=t(28200),d=t(24619),c=function(v,x,y){var T=a(x),E=new n({width:T.width,height:T.height,name:v,tileWidth:T.tilewidth,tileHeight:T.tileheight,orientation:i(T.orientation),format:r.TILED_JSON,version:T.version,properties:T.properties,renderOrder:T.renderorder,infinite:T.infinite});if(E.orientation===o.HEXAGONAL)if(E.hexSideLength=T.hexsidelength,E.staggerAxis=T.staggeraxis,E.staggerIndex=T.staggerindex,E.staggerAxis==="y"){var A=(E.tileHeight-E.hexSideLength)/2;E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+A)+A}else{var P=(E.tileWidth-E.hexSideLength)/2;E.widthInPixels=E.width*(E.hexSideLength+P)+P,E.heightInPixels=E.tileHeight*(E.height+.5)}E.layers=u(T,y),E.images=l(T);var w=d(T);return E.tilesets=w.tilesets,E.imageCollections=w.imageCollections,E.objects=s(T),E.tiles=g(E),h(E),E};f.exports=c},52205:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18254),g=t(29920),o=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(i,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var s=h(i,a);if(s.x+=n,s.y+=l,i.gid){var u=g(i.gid);s.gid=u.gid,s.flippedHorizontal=u.flippedHorizontal,s.flippedVertical=u.flippedVertical,s.flippedAntiDiagonal=u.flippedAntiDiagonal}else i.polyline?s.polyline=i.polyline.map(o):i.polygon?s.polygon=i.polygon.map(o):i.ellipse?s.ellipse=i.ellipse:i.text?s.text=i.text:i.point?s.point=!0:s.rectangle=!0;return s};f.exports=r},22611:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),g=t(52205),o=t(48700),a=t(79677),r=function(i){for(var n=[],l=[],s=a(i);s.i<s.layers.length||l.length>0;){if(s.i>=s.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=l.pop();continue}var u=s.layers[s.i];if(s.i++,u.opacity*=s.opacity,u.visible=s.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var d=a(i,u,s);l.push(s),s=d}continue}u.name=s.name+u.name;for(var c=s.x+h(u,"startx",0)+h(u,"offsetx",0),v=s.y+h(u,"starty",0)+h(u,"offsety",0),x=[],y=0;y<u.objects.length;y++){var T=g(u.objects[y],c,v);x.push(T)}var E=new o(u);E.objects=x,n.push(E)}return n};f.exports=r},28200:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41868),g=t(91907),o=t(79677),a=t(6641),r=t(95540),i=t(14977),n=t(29920),l=t(23029),s=function(u,d){for(var c=r(u,"infinite",!1),v=[],x=[],y=o(u);y.i<y.layers.length||x.length>0;){if(y.i>=y.layers.length){if(x.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}y=x.pop();continue}var T=y.layers[y.i];if(y.i++,T.type!=="tilelayer"){if(T.type==="group"){var E=o(u,T,y);x.push(y),y=E}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var A=0;A<T.chunks.length;A++)T.chunks[A].data=h(T.chunks[A].data);T.data&&(T.data=h(T.data)),delete T.encoding}var P,w,I,O,F,L,D=[],b=0;if(c){var U=r(T,"startx",0)+T.x,W=r(T,"starty",0)+T.y;P=new i({name:y.name+T.name,id:T.id,x:y.x+r(T,"offsetx",0)+U*u.tilewidth,y:y.y+r(T,"offsety",0)+W*u.tileheight,width:T.width,height:T.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:r(T,"properties",[]),orientation:a(u.orientation)}),P.orientation===g.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):(L=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var H=0;H<T.height;H++){D[H]=[null];for(var Y=0;Y<T.width;Y++)D[H][Y]=null}for(H=0,Z=T.chunks.length;H<Z;H++)for(var G=T.chunks[H],X=G.x-U,V=G.y-W,B=0,z=0,$=G.data.length;z<$;z++){var j=b+X,k=B+V;w=n(G.data[z]),w.gid>0?(I=new l(P,w.gid,j,k,u.tilewidth,u.tileheight),I.rotation=w.rotation,I.flipX=w.flipped,D[k][j]=I):(O=d?null:new l(P,-1,j,k,u.tilewidth,u.tileheight),D[k][j]=O),b++,b===G.width&&(B++,b=0)}}else{P=new i({name:y.name+T.name,id:T.id,x:y.x+r(T,"offsetx",0)+T.x,y:y.y+r(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:r(T,"properties",[]),orientation:a(u.orientation)}),P.orientation===g.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):(L=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var q=[],Q=0,Z=T.data.length;Q<Z;Q++)w=n(T.data[Q]),w.gid>0?(I=new l(P,w.gid,b,D.length,u.tilewidth,u.tileheight),I.rotation=w.rotation,I.flipX=w.flipped,q.push(I)):(O=d?null:new l(P,-1,b,D.length,u.tilewidth,u.tileheight),q.push(O)),b++,b===T.width&&(D.push(q),b=0,q=[])}P.data=D,v.push(P)}return v};f.exports=s},24619:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),g=t(16536),o=t(52205),a=t(57880),r=function(i){for(var n=[],l=[],s=null,u,d=0;d<i.tilesets.length;d++){var c=i.tilesets[d];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var v=new h(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(i.version>1){var x=void 0,y=void 0;if(Array.isArray(c.tiles)){x=x||{},y=y||{};for(var T=0;T<c.tiles.length;T++){var E=c.tiles[T];if(E.properties){var A={};E.properties.forEach(function(H){A[H.name]=H.value}),y[E.id]=A}if(E.objectgroup&&((x[E.id]||(x[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var P=E.objectgroup.objects.map(function(H){return o(H)});x[E.id].objectgroup.objects=P}E.animation&&((x[E.id]||(x[E.id]={})).animation=E.animation),E.type&&((x[E.id]||(x[E.id]={})).type=E.type)}}Array.isArray(c.wangsets)&&(x=x||{},y=y||{},a(c.wangsets,x)),x&&(v.tileData=x,v.tileProperties=y)}else if(c.tileproperties&&(v.tileProperties=c.tileproperties),c.tiles){v.tileData=c.tiles;for(u in v.tileData){var w=v.tileData[u].objectgroup;if(w&&w.objects){var I=w.objects.map(function(H){return o(H)});v.tileData[u].objectgroup.objects=I}}}v.updateTileData(c.imagewidth,c.imageheight),n.push(v)}else{var O=new g(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),F=0;for(T=0;T<c.tiles.length;T++){E=c.tiles[T];var L=E.image,D=parseInt(E.id,10),b=c.firstgid+D,U=E.imagewidth,W=E.imageheight;O.addImage(b,L,U,W),F=Math.max(D,F)}O.maxId=F,l.push(O)}s&&(s.lastgid=c.firstgid-1),s=c}return{tilesets:n,imageCollections:l}};f.exports=r},57880:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var g=0;g<t.length;g++){var o=t[g],a=g;if(o.name&&o.name!==""&&(a=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var r={},i={},n,l,s;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)s=1+n,l=o.edgecolors[n],l.name!==""&&(r[s]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)s=1+n,l=o.cornercolors[n],l.name!==""&&(i[s]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],s=1+n,l.name!==""&&(r[s]=i[s]=l.name);for(var u=[r,i,r,i,r,i,r,i],d=0;d<o.wangtiles.length;d++){var c=o.wangtiles[d],v=h[c.tileid]||(h[c.tileid]={});v=v.wangid||(v.wangid={});for(var x=[],y=0;y<Math.min(u.length,c.wangid.length);y++){if(l=c.wangid[y],l===0){x.push(void 0);continue}var T=u[y][l];if(T!==void 0){x.push(T);continue}x.push(l)}v[a]=x}}}};f.exports=S},96761:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(37277),o=t(44594),a=t(94880),r=t(72905),i=new h({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;if(n instanceof a){if(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new a(n);return this._pendingInsertion.push(l),l},delayedCall:function(n,l,s,u){return this.addEvent({delay:n,callback:l,args:s,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=n[l];r(this._pendingRemoval,s),r(this._pendingInsertion,s),r(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var s,u;for(s=0;s<n;s++){u=this._pendingRemoval[s];var d=this._active.indexOf(u);d>-1&&this._active.splice(d,1),u.destroy()}for(s=0;s<l;s++)u=this._pendingInsertion[s],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var s=0;s<this._active.length;s++){var u=this._active[s];if(!u.paused&&(u.elapsed+=l*u.timeScale,u.elapsed>=u.delay)){var d=u.elapsed-u.delay;if(u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0){if(u.repeatCount--,d>=u.delay)for(;d>=u.delay&&u.repeatCount>0;)u.callback&&u.callback.apply(u.callbackScope,u.args),d-=u.delay,u.repeatCount--;u.elapsed=d,u.hasDispatched=!1}else u.hasDispatched&&this._pendingRemoval.push(u)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});g.register("Clock",i,"time"),f.exports=i},96120:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(39429),a=t(95540),r=t(44594),i=t(89809),n=new h({Extends:g,initialize:function(s,u){g.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var d=this.systems.events;d.on(r.PRE_UPDATE,this.preUpdate,this),d.on(r.UPDATE,this.update,this),d.once(r.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,s){this.paused||(this.elapsed+=s*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,s=this.events,u=!1,d=this.systems,c;for(l=0;l<s.length;l++){var v=s[l];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,c=v.target?v.target:this,v.if&&!v.if.call(c,v))continue;if(v.once&&(u=!0),v.set&&v.target)for(var x in v.set)v.target[x]=v.set[x];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(c),v.tween&&(v.tweenInstance=d.tweens.add(v.tween)),v.sound&&(typeof v.sound=="string"?d.sound.play(v.sound):d.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,c),v.run&&v.run.call(c),v.stop&&this.stop()}}if(u)for(l=0;l<s.length;l++)s[l].complete&&s[l].once&&(s.splice(l,1),l--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(i.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var s=this.events,u=0;u<s.length;u++){var d=s[u];d.complete=!1,l||(d.repeat=0),d.tweenInstance&&d.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var s=this.events,u=0;s.length>0&&(u=s[s.length-1].time);for(var d=0;d<l.length;d++){var c=l[d],v=a(c,"at",0),x=a(c,"in",null);x!==null&&(v=this.elapsed+x);var y=a(c,"from",null);y!==null&&(v=u+y),s.push({complete:!1,time:v,repeat:0,if:a(c,"if",null),run:a(c,"run",null),loop:a(c,"loop",null),event:a(c,"event",null),target:a(c,"target",null),set:a(c,"set",null),tween:a(c,"tween",null),sound:a(c,"sound",null),once:a(c,"once",!1),stop:a(c,"stop",!1)}),u=v}return this.complete=!1,this},clear:function(){for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&u.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});o.register("timeline",function(l){return new n(this.scene,l)}),f.exports=n},94880:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(95540),o=new h({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(a){if(this.delay=g(a,"delay",0),this.repeat=g(a,"repeat",0),this.loop=g(a,"loop",!1),this.callback=g(a,"callback",void 0),this.callbackScope=g(a,"callbackScope",this),this.args=g(a,"args",[]),this.timeScale=g(a,"timeScale",1),this.startAt=g(a,"startAt",0),this.paused=g(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});f.exports=o},35945:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},89809:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={COMPLETE:t(35945)}},90291:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),g=t(83419),o=t(43491),a=t(88032),r=t(37277),i=t(44594),n=t(93109),l=t(86081),s=t(8357),u=t(43960),d=t(26012),c=new g({initialize:function(x){this.scene=x,this.events=x.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(i.UPDATE,this.update,this),this.events.once(i.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var x=[],y=0;y<v.length;y++){var T=v[y];T instanceof l||T instanceof u?x.push(T):Array.isArray(T.tweens)?x.push(d(this,T)):x.push(s(this,T))}return x.length===1?x[0]:x},add:function(v){var x=v,y=this.tweens;return x instanceof l||x instanceof u||(Array.isArray(x.tweens)?x=d(this,x):x=s(this,x)),y.push(x.reset()),x},addMultiple:function(v){for(var x,y=[],T=this.tweens,E=0;E<v.length;E++)x=v[E],x instanceof l||x instanceof u||(Array.isArray(x.tweens)?x=d(this,x):x=s(this,x)),T.push(x.reset()),y.push(x);return y},chain:function(v){var x=d(this,v);return this.tweens.push(x.init()),x},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var x=a(this,v);return this.tweens.push(x.reset()),x},stagger:function(v,x){return n(v,x)},setLagSmooth:function(v,x){return v===void 0&&(v=1/1e-8),x===void 0&&(x=0),this.maxLag=v,this.lagSkip=Math.min(x,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var x=Date.now()-this.prevTime;x>this.maxLag&&(this.startTime+=x-this.lagSkip),this.prevTime+=x;var y=this.prevTime-this.startTime,T=y-this.nextTime,E=y-this.time*1e3;return T>0||v?(y/=1e3,this.time=y,this.nextTime+=T+(T>=this.gap?4:this.gap-T)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var x=this.getDelta(v);if(!(x<=0)){this.processing=!0;var y,T,E=[],A=this.tweens;for(y=0;y<A.length;y++)T=A[y],T.update(x)&&E.push(T);var P=E.length;if(P&&A.length>0){for(y=0;y<P;y++){T=E[y];var w=A.indexOf(T);w>-1&&(T.isPendingRemove()||T.isDestroyed())&&(A.splice(w,1),T.destroy())}E.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(h(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,x){var y,T=[null];for(y=1;y<arguments.length;y++)T.push(arguments[y]);return this.tweens.forEach(function(E){T[0]=E,v.apply(x,T)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var x=[],y=this.tweens;Array.isArray(v)?v=o(v):v=[v];for(var T=v.length,E=0;E<y.length;E++)for(var A=y[E],P=0;P<T;P++)!A.isDestroyed()&&A.hasTarget(v[P])&&x.push(A);return x},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var x=this.tweens,y,T=0;T<x.length;T++)if(y=x[T],y.isPlaying()&&y.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,x=0;x<v.length;x++)v[x].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var x=this.getTweensOf(v),y=0;y<x.length;y++)x[y].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(i.UPDATE,this.update,this),this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",c,"tweens"),f.exports=c},57355:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){return t&&t.hasOwnProperty(h)?t[h]:g};f.exports=S},6113:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62640),g=t(35355),o=function(a,r){var i=h.Power0;if(typeof a=="string")if(h.hasOwnProperty(a))i=h[a];else{var n="";if(a.indexOf(".")){n=a.substring(a.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}a=g(a.substring(0,a.indexOf(".")+1)+n),h.hasOwnProperty(a)&&(i=h[a])}else typeof a=="function"&&(i=a);if(!r)return i;var s=r.slice(0);return s.unshift(0),function(u){return s[0]=u,i.apply(this,s)}};f.exports=o},91389:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89318),g=t(77259),o=t(28392),a={bezier:h,catmull:g,catmullrom:g,linear:o},r=function(i){if(i===null)return null;var n=a.linear;return typeof i=="string"?a.hasOwnProperty(i)&&(n=a[i]):typeof i=="function"&&(n=i),n};f.exports=r},55292:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o;if(t.hasOwnProperty(h)){var a=typeof t[h];a==="function"?o=function(r,i,n,l,s,u){return t[h](r,i,n,l,s,u)}:o=function(){return t[h]}}else typeof g=="function"?o=g:o=function(){return g};return o};f.exports=S},82985:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81076),g=function(o){var a,r=[];if(o.hasOwnProperty("props"))for(a in o.props)a.substring(0,1)!=="_"&&r.push({key:a,value:o.props[a]});else for(a in o)h.indexOf(a)===-1&&a.substring(0,1)!=="_"&&r.push({key:a,value:o[a]});return r};f.exports=g},62329:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g=function(o){var a=h(o,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};f.exports=g},17777:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),g=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function a(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function i(l){return a(l)||r(l)||o(l)}var n=function(l,s){var u,d=function(H,Y,G){return G},c=function(H,Y,G){return G},v=null,x=typeof s;if(x==="number")d=function(){return s};else if(Array.isArray(s))c=function(){return s[0]},d=function(){return s[s.length-1]};else if(x==="string"){var y=s.toLowerCase(),T=y.substring(0,6)==="random",E=y.substring(0,3)==="int";if(T||E){var A=y.indexOf("("),P=y.indexOf(")"),w=y.indexOf(",");if(A&&P&&w){var I=parseFloat(y.substring(A+1,w)),O=parseFloat(y.substring(w+1,P));T?d=function(){return g(I,O)}:d=function(){return h(I,O)}}else throw new Error("invalid random() format")}else{y=y[0];var F=parseFloat(s.substr(2));switch(y){case"+":d=function(H,Y,G){return G+F};break;case"-":d=function(H,Y,G){return G-F};break;case"*":d=function(H,Y,G){return G*F};break;case"/":d=function(H,Y,G){return G/F};break;default:d=function(){return parseFloat(s)}}}}else if(x==="function")d=s;else if(x==="object")if(i(s))o(s)&&(v=s.getActive),r(s)&&(d=s.getEnd),a(s)&&(c=s.getStart);else if(s.hasOwnProperty("value"))u=n(l,s.value);else{var L=s.hasOwnProperty("to"),D=s.hasOwnProperty("from"),b=s.hasOwnProperty("start");if(L&&(D||b)){if(u=n(l,s.to),b){var U=n(l,s.start);u.getActive=U.getEnd}if(D){var W=n(l,s.from);u.getStart=W.getEnd}}}return u||(u={getActive:v,getEnd:d,getStart:c}),u};f.exports=n},88032:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),g=t(69902),o=t(23568),a=t(57355),r=t(6113),i=t(95540),n=t(55292),l=t(35154),s=t(17777),u=t(269),d=t(86081),c=function(v,x,y){if(x instanceof d)return x.parent=v,x;y===void 0?y=g:y=u(g,y);var T=i(x,"from",0),E=i(x,"to",1),A=[{value:T}],P=i(x,"delay",y.delay),w=i(x,"easeParams",y.easeParams),I=i(x,"ease",y.ease),O=s("value",E),F=new d(v,A),L=F.add(0,"value",O.getEnd,O.getStart,O.getActive,r(i(x,"ease",I),i(x,"easeParams",w)),n(x,"delay",P),i(x,"duration",y.duration),a(x,"yoyo",y.yoyo),i(x,"hold",y.hold),i(x,"repeat",y.repeat),i(x,"repeatDelay",y.repeatDelay),!1,!1);L.start=T,L.current=T,F.completeDelay=o(x,"completeDelay",0),F.loop=Math.round(o(x,"loop",0)),F.loopDelay=Math.round(o(x,"loopDelay",0)),F.paused=a(x,"paused",!1),F.persist=a(x,"persist",!1),F.isNumberTween=!0,F.callbackScope=l(x,"callbackScope",F);for(var D=h.TYPES,b=0;b<D.length;b++){var U=D[b],W=l(x,U,!1);if(W){var H=l(x,U+"Params",[]);F.setCallback(U,W,H)}}return F};f.exports=c},93109:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6113),g=t(35154),o=t(36383),a=function(r,i){i===void 0&&(i={});var n,l=g(i,"start",0),s=g(i,"ease",null),u=g(i,"grid",null),d=g(i,"from",0),c=d==="first",v=d==="center",x=d==="last",y=typeof d=="number",T=Array.isArray(r),E=parseFloat(T?r[0]:r),A=T?parseFloat(r[1]):0,P=Math.max(E,A);if(T&&(l+=E),u){var w=u[0],I=u[1],O=0,F=0,L=0,D=0,b=[];x?(O=w-1,F=I-1):y?(O=d%w,F=Math.floor(d/w)):v&&(O=(w-1)/2,F=(I-1)/2);for(var U=o.MIN_SAFE_INTEGER,W=0;W<I;W++){b[W]=[];for(var H=0;H<w;H++){L=O-H,D=F-W;var Y=Math.sqrt(L*L+D*D);Y>U&&(U=Y),b[W][H]=Y}}}var G=s?h(s):null;return u?n=function(X,V,B,z){var $=0,j=z%w,k=Math.floor(z/w);j>=0&&j<w&&k>=0&&k<I&&($=b[k][j]);var q;if(T){var Q=A-E;G?q=$/U*Q*G($/U):q=$/U*Q}else G?q=$*E*G($/U):q=$*E;return q+l}:n=function(X,V,B,z,$){$--;var j;c?j=z:v?j=Math.abs($/2-z):x?j=$-z:y&&(j=Math.abs(d-z));var k;if(T){var q;v?q=(A-E)/$*(j*2):q=(A-E)/$*j,G?k=q*G(j/$):k=q}else G?k=$*P*G(j/$):k=j*E;return k+l},n};f.exports=a},8357:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),g=t(69902),o=t(23568),a=t(57355),r=t(6113),i=t(95540),n=t(91389),l=t(55292),s=t(82985),u=t(62329),d=t(35154),c=t(17777),v=t(269),x=t(86081),y=function(T,E,A){if(E instanceof x)return E.parent=T,E;A===void 0?A=g:A=v(g,A);var P=u(E);!P&&A.targets&&(P=A.targets);for(var w=s(E),I=i(E,"delay",A.delay),O=i(E,"duration",A.duration),F=i(E,"easeParams",A.easeParams),L=i(E,"ease",A.ease),D=i(E,"hold",A.hold),b=i(E,"repeat",A.repeat),U=i(E,"repeatDelay",A.repeatDelay),W=a(E,"yoyo",A.yoyo),H=a(E,"flipX",A.flipX),Y=a(E,"flipY",A.flipY),G=i(E,"interpolation",A.interpolation),X=function(et,it,st,nt){if(st==="texture"){var lt=nt,ut=void 0;Array.isArray(nt)?(lt=nt[0],ut=nt[1]):nt.hasOwnProperty("value")?(lt=nt.value,Array.isArray(nt.value)?(lt=nt.value[0],ut=nt.value[1]):typeof nt.value=="string"&&(lt=nt.value)):typeof nt=="string"&&(lt=nt),et.addFrame(it,lt,ut,l(nt,"delay",I),i(nt,"duration",O),i(nt,"hold",D),i(nt,"repeat",b),i(nt,"repeatDelay",U),a(nt,"flipX",H),a(nt,"flipY",Y))}else{var ot=c(st,nt),rt=n(i(nt,"interpolation",G));et.add(it,st,ot.getEnd,ot.getStart,ot.getActive,r(i(nt,"ease",L),i(nt,"easeParams",F)),l(nt,"delay",I),i(nt,"duration",O),a(nt,"yoyo",W),i(nt,"hold",D),i(nt,"repeat",b),i(nt,"repeatDelay",U),a(nt,"flipX",H),a(nt,"flipY",Y),rt,rt?nt:null)}},V=new x(T,P),B=0;B<w.length;B++)for(var z=w[B].key,$=w[B].value,j=0;j<P.length;j++)z==="scale"&&!P[j].hasOwnProperty("scale")?(X(V,j,"scaleX",$),X(V,j,"scaleY",$)):X(V,j,z,$);V.completeDelay=o(E,"completeDelay",0),V.loop=Math.round(o(E,"loop",0)),V.loopDelay=Math.round(o(E,"loopDelay",0)),V.paused=a(E,"paused",!1),V.persist=a(E,"persist",!1),V.callbackScope=i(E,"callbackScope",V);for(var k=h.TYPES,q=0;q<k.length;q++){var Q=k[q],Z=d(E,Q,!1);if(Z){var _=d(E,Q+"Params",[]);V.setCallback(Q,Z,_)}}return V};f.exports=y},26012:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),g=t(23568),o=t(57355),a=t(62329),r=t(35154),i=t(8357),n=t(43960),l=function(s,u){if(u instanceof n)return u.parent=s,u;var d=new n(s);d.startDelay=r(u,"delay",0),d.completeDelay=g(u,"completeDelay",0),d.loop=Math.round(g(u,"loop",r(u,"repeat",0))),d.loopDelay=Math.round(g(u,"loopDelay",r(u,"repeatDelay",0))),d.paused=o(u,"paused",!1),d.persist=o(u,"persist",!1),d.callbackScope=r(u,"callbackScope",d);var c,v=h.TYPES;for(c=0;c<v.length;c++){var x=v[c],y=r(u,x,!1);if(y){var T=r(u,x+"Params",[]);d.setCallback(x,y,T)}}var E=r(u,"tweens",null);if(Array.isArray(E)){var A=[],P=a(u),w=void 0;for(P&&(w={targets:P}),c=0;c<E.length;c++)A.push(i(d,E[c],w));d.add(A)}return d};f.exports=l},30231:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="active"},98540:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="complete"},67233:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="loop"},2859:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="pause"},98336:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="repeat"},25764:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="resume"},32193:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="start"},84371:f=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="stop"},70766:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="update"},55659:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports="yoyo"},842:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};f.exports=h},70402:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(50792),o=t(842),a=t(86353),r=new h({Extends:g,initialize:function(n){g.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(i){return this.timeScale=i,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(i){return i===void 0&&(i=0),i?(this.setCompleteDelayState(),this.countdown=i):this.onCompleteHandler(),this},completeAfterLoop:function(i){return i===void 0&&(i=0),this.loopCounter>i&&(this.loopCounter=i),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(i){this.countdown-=i,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(i){return this.countdown-=i,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),i=0),i},updateCompleteDelay:function(i){this.countdown-=i,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(i,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(i)&&(this.callbacks[i]={func:n,params:l}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(i){i.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],f.exports=r},95042:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),g=t(842),o=t(86353),a=new h({initialize:function(i,n,l,s,u,d,c,v,x,y){this.tween=i,this.targetIndex=n,this.duration=s<=0?.01:s,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=u,this.hold=d,this.repeat=c,this.repeatDelay=v,this.repeatCounter=0,this.flipX=x,this.flipY=y,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,i=r.totalTargets,n=this.targetIndex,l=r.targets[n],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,s,0,n,i,r),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var u=this.duration+this.hold;this.yoyo&&(u+=this.duration);var d=u+this.repeatDelay;this.totalDuration=this.delay+u,this.repeat===-1?(this.totalDuration+=d*o.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=d*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,i,n){var l=this.tween,s=l.totalTargets,u=this.targetIndex,d=l.targets[u],c=this.key,v=c!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&d.toggleFlipX(),this.flipY&&d.toggleFlipY(),v&&(i||n)&&(this.start=this.getStartValue(d,c,this.start,u,s,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(g.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(d,c,this.start,u,s,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,v&&(this.current=this.start,d[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(g.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});f.exports=a},69902:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};f.exports=S},81076:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),g=t(83419),o=t(842),a=t(44603),r=t(39429),i=t(36383),n=t(86353),l=t(48177),s=t(42220),u=new g({Extends:h,initialize:function(c,v){h.call(this,c),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(d,c,v,x,y,T,E,A,P,w,I,O,F,L,D,b){var U=new l(this,d,c,v,x,y,T,E,A,P,w,I,O,F,L,D,b);return this.totalData=this.data.push(U),U},addFrame:function(d,c,v,x,y,T,E,A,P,w){var I=new s(this,d,c,v,x,y,T,E,A,P,w);return this.totalData=this.data.push(I),I},getValue:function(d){d===void 0&&(d=0);var c=null;return this.data&&(c=this.data[d].current),c},hasTarget:function(d){return this.targets&&this.targets.indexOf(d)!==-1},updateTo:function(d,c,v){if(v===void 0&&(v=!1),d!=="texture")for(var x=0;x<this.totalData;x++){var y=this.data[x];y.key===d&&(y.isPlayingForward()||y.isPlayingBackward())&&(y.end=c,v&&(y.start=y.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(d,c,v){if(d===void 0&&(d=0),c===void 0&&(c=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var x=this.paused;if(this.paused=!1,d>0){for(var y=Math.floor(d/c),T=d-y*c,E=0;E<y;E++)this.update(c);T>0&&this.update(T)}return this.paused=x,this.isSeeking=!1,this},initTweenData:function(d){d===void 0&&(d=!1),this.duration=0,this.startDelay=i.MAX_SAFE_INTEGER;for(var c=this.data,v=0;v<this.totalData;v++)c[v].reset(d);this.duration=Math.max(this.duration,.01);var x=this.duration,y=this.completeDelay,T=this.loopCounter,E=this.loopDelay;T>0?this.totalDuration=x+y+(x+E)*T:this.totalDuration=x+y},reset:function(d){return d===void 0&&(d=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),d||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(d){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(d*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(d),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(d),!1;this.hasStarted||(this.startDelay-=d,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),d=0));var c=!1;if(this.isActive())for(var v=this.data,x=0;x<this.totalData;x++)v[x].update(d)&&(c=!0);this.elapsed+=d,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=d,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var y=this.isPendingRemove();return y&&this.persist&&(this.setFinishedState(),y=!1),y},forward:function(d){return this.update(d),this},rewind:function(d){return this.update(-d),this},dispatchEvent:function(d,c){if(!this.isSeeking){if(this.emit(d,this,this.targets),!this.callbacks)return;var v=this.callbacks[c];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(d){return this.scene.sys.tweens.add(d)}),a.register("tween",function(d){return this.scene.sys.tweens.create(d)}),f.exports=u},43960:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),g=t(70402),o=t(83419),a=t(842),r=t(44603),i=t(39429),n=t(86353),l=new o({Extends:g,initialize:function(u){g.call(this,u),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(s){var u=this.parent.create(s);Array.isArray(u)||(u=[u]);for(var d=this.data,c=0;c<u.length;c++){var v=u[c];v.parent=this,d.push(v.reset())}return this.totalData=d.length,this},remove:function(s){return h(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var u=this.data,d=0;d<this.totalData;d++)if(u[d].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,u=this.totalData,d=0;d<u;d++)s[d].reset(!1);this.setCurrentTween(0)},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(s*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(s),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(s),!1;this.hasStarted||(this.startDelay-=s,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),s=0));var u=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),u=this.isPendingRemove(),u&&this.persist&&(this.setFinishedState(),u=!1)),u},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState()},dispatchEvent:function(s,u){this.emit(s,this);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this].concat(d.params))},destroy:function(){g.prototype.destroy.call(this),this.currentTween=null}});i.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),r.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),f.exports=l},48177:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),g=t(45319),o=t(83419),a=t(842),r=new o({Extends:h,initialize:function(n,l,s,u,d,c,v,x,y,T,E,A,P,w,I,O,F){h.call(this,n,l,x,y,T,E,A,P,w,I),this.key=s,this.getActiveValue=c,this.getEndValue=u,this.getStartValue=d,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=O,this.interpolationData=F},reset:function(i){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;i&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(i){var n=this.tween,l=n.totalTargets,s=this.targetIndex,u=n.targets[s],d=this.key;if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(u,d,u[d],s,l,n),this.end=this.getEndValue(u,d,this.start,s,l,n),this.current=this.start,u[d]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),v=this.isPlayingBackward();if(c||v){var x=this.elapsed,y=this.duration,T=0,E=!1;x+=i,x>=y?(T=x-y,x=y,E=!0):x<0&&(x=0);var A=g(x/y,0,1);this.elapsed=x,this.progress=A,this.previous=this.current,c||(A=1-A);var P=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,P):this.current=this.start+(this.end-this.start)*P,u[d]=this.current,E&&(c?(n.isNumberTween&&(this.current=this.end,u[d]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(n.isNumberTween&&(this.current=this.start,u[d]=this.current),this.setStateFromStart(T))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key,d=this.current,c=this.previous;l.emit(i,l,u,s,d,c);var v=l.callbacks[n];v&&v.func.apply(l.callbackScope,[l,s,u,d,c].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});f.exports=r},42220:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),g=t(45319),o=t(83419),a=t(842),r=new o({Extends:h,initialize:function(n,l,s,u,d,c,v,x,y,T,E){h.call(this,n,l,d,c,!1,v,x,y,T,E),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=u,this.yoyo=x!==0},reset:function(i){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),i&&n.setTexture(this.startTexture,this.startFrame)},update:function(i){var n=this.tween,l=this.targetIndex,s=n.targets[l];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var c=this.elapsed,v=this.duration,x=0,y=!1;c+=i,c>=v?(x=c-v,c=v,y=!0):c<0&&(c=0);var T=g(c/v,0,1);this.elapsed=c,this.progress=T,y&&(u?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(x))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key;l.emit(i,l,u,s);var d=l.callbacks[n];d&&d.func.apply(l.callbackScope,[l,s,u].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});f.exports=r},86353:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};f.exports=S},83419:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,i,n){var l=n?r[i]:Object.getOwnPropertyDescriptor(r,i);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&S(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function h(r,i){var n=Object.getOwnPropertyDescriptor(r,i);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function g(r,i,n,l){for(var s in i)if(i.hasOwnProperty(s)){var u=t(i,s,n);if(u!==!1){var d=l||r;if(h(d.prototype,s)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,s,u)}else r.prototype[s]=i[s]}}function o(r,i){if(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)g(r,i[n].prototype||i[n])}}function a(r){r||(r={});var i,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");i=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;i=function(){l.apply(this,arguments)}}else i=function(){};r.Extends?(i.prototype=Object.create(r.Extends.prototype),i.prototype.constructor=i,n=r.Extends,delete r.Extends):i.prototype.constructor=i;var s=null;return r.Mixins&&(s=r.Mixins,delete r.Mixins),o(i,s),g(i,r,!0,n),i}a.extend=g,a.mixin=o,a.ignoreFinals=!1,f.exports=a},29747:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};f.exports=S},20242:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};f.exports=S},71146:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a){if(a===void 0&&(a=t),g>0){var r=g-t.length;if(r<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),o&&o.call(a,h),h):null;for(var i=h.length-1;i>=0;)t.indexOf(h[i])!==-1&&h.splice(i,1),i--;if(i=h.length,i===0)return null;g>0&&i>r&&(h.splice(r),i=r);for(var n=0;n<i;n++){var l=h[n];t.push(l),o&&o.call(a,l)}return h};f.exports=S},51067:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o,a,r){if(g===void 0&&(g=0),r===void 0&&(r=t),o>0){var i=o-t.length;if(i<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(g,0,h),a&&a.call(r,h),h):null;for(var n=h.length-1;n>=0;)t.indexOf(h[n])!==-1&&h.pop(),n--;if(n=h.length,n===0)return null;o>0&&n>i&&(h.splice(i),n=i);for(var l=n-1;l>=0;l--){var s=h[l];t.splice(g,0,s),a&&a.call(r,s)}return h};f.exports=S},66905:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.indexOf(h);return g!==-1&&g<t.length&&(t.splice(g,1),t.push(h)),h};f.exports=S},21612:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=o.length);var l=0;if(h(o,i,n))for(var s=i;s<n;s++){var u=o[s];u[a]===r&&l++}return l};f.exports=g},95428:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o,a=[null];for(o=3;o<arguments.length;o++)a.push(arguments[o]);for(o=0;o<t.length;o++)a[0]=t[o],h.apply(g,a);return t};f.exports=S},36914:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),h(o,i,n)){var l,s=[null];for(l=5;l<arguments.length;l++)s.push(arguments[l]);for(l=i;l<n;l++)s[0]=o[l],a.apply(r,s)}return o};f.exports=g},81957:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(h.length){if(h.length===1)return h[0]}else return NaN;var o=1,a,r;if(g){if(t<h[0][g])return h[0];for(;h[o][g]<t;)o++}else for(;h[o]<t;)o++;return o>h.length&&(o=h.length),g?(a=h[o-1][g],r=h[o][g],r-t<=t-a?h[o]:h[o-1]):(a=h[o-1],r=h[o],r-t<=t-a?r:a)};f.exports=S},43491:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var g=0;g<t.length;g++)Array.isArray(t[g])?S(t[g],h):h.push(t[g]);return h};f.exports=S},46710:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=o.length);var l=[];if(h(o,i,n))for(var s=i;s<n;s++){var u=o[s];(!a||a&&r===void 0&&u.hasOwnProperty(a)||a&&r!==void 0&&u[a]===r)&&l.push(u)}return l};f.exports=g},58731:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),i!==-1){if(h(o,i,n))for(var l=i;l<n;l++){var s=o[l];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}}else if(h(o,0,n))for(var l=n;l>=0;l--){var s=o[l];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}return null};f.exports=g},26546:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){h===void 0&&(h=0),g===void 0&&(g=t.length);var o=h+Math.floor(Math.random()*g);return t[o]===void 0?null:t[o]};f.exports=S},85835:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(h===g)return t;var o=t.indexOf(h),a=t.indexOf(g);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return o>a||(t.splice(o,1),a=t.indexOf(g),t.splice(a+1,0,h)),t};f.exports=S},83371:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(h===g)return t;var o=t.indexOf(h),a=t.indexOf(g);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return o<a||(t.splice(o,1),a===0?t.unshift(h):t.splice(a,0,h)),t};f.exports=S},70864:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.indexOf(h);if(g>0){var o=t[g-1],a=t.indexOf(o);t[g]=o,t[a]=h}return t};f.exports=S},69693:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=t.indexOf(h);if(o===-1||g<0||g>=t.length)throw new Error("Supplied index out of bounds");return o!==g&&(t.splice(o,1),t.splice(g,0,h)),h};f.exports=S},40853:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.indexOf(h);if(g!==-1&&g<t.length-1){var o=t[g+1],a=t.indexOf(o);t[g]=o,t[a]=h}return t};f.exports=S},20283:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=[],r,i=!1;if((g||o)&&(i=!0,g||(g=""),o||(o="")),h<t)for(r=t;r>=h;r--)i?a.push(g+r.toString()+o):a.push(r);else for(r=t;r<=h;r++)i?a.push(g+r.toString()+o):a.push(r);return a};f.exports=S},593:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2284),g=function(o,a,r){o===void 0&&(o=0),a===void 0&&(a=null),r===void 0&&(r=1),a===null&&(a=o,o=0);for(var i=[],n=Math.max(h((a-o)/(r||1)),0),l=0;l<n;l++)i.push(o),o+=r;return i};f.exports=g},43886:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(g,o,a){var r=g[o];g[o]=g[a],g[a]=r}function t(g,o){return g<o?-1:g>o?1:0}var h=function(g,o,a,r,i){for(a===void 0&&(a=0),r===void 0&&(r=g.length-1),i===void 0&&(i=t);r>a;){if(r-a>600){var n=r-a+1,l=o-a+1,s=Math.log(n),u=.5*Math.exp(2*s/3),d=.5*Math.sqrt(s*u*(n-u)/n)*(l-n/2<0?-1:1),c=Math.max(a,Math.floor(o-l*u/n+d)),v=Math.min(r,Math.floor(o+(n-l)*u/n+d));h(g,o,c,v,i)}var x=g[o],y=a,T=r;for(S(g,a,o),i(g[r],x)>0&&S(g,a,r);y<T;){for(S(g,y,T),y++,T--;i(g[y],x)<0;)y++;for(;i(g[T],x)>0;)T--}i(g[a],x)===0?S(g,a,T):(T++,S(g,T,r)),T<=o&&(a=T+1),o<=T&&(r=T-1)}};f.exports=h},88492:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g=t(33680),o=function(r,i,n){for(var l=[],s=0;s<r.length;s++)for(var u=0;u<i.length;u++)for(var d=0;d<n;d++)l.push({a:r[s],b:i[u]});return l},a=function(r,i,n){var l=h(n,"max",0),s=h(n,"qty",1),u=h(n,"random",!1),d=h(n,"randomB",!1),c=h(n,"repeat",0),v=h(n,"yoyo",!1),x=[];if(d&&g(i),c===-1)if(l===0)c=0;else{var y=r.length*i.length*s;v&&(y*=2),c=Math.ceil(l/y)}for(var T=0;T<=c;T++){var E=o(r,i,s);u&&g(E),x=x.concat(E),v&&(E.reverse(),x=x.concat(E))}return l&&x.splice(l),x};f.exports=a},72905:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),g=function(o,a,r,i){i===void 0&&(i=o);var n;if(!Array.isArray(a))return n=o.indexOf(a),n!==-1?(h(o,n),r&&r.call(i,a),a):null;for(var l=a.length-1,s=[];l>=0;){var u=a[l];n=o.indexOf(u),n!==-1&&(h(o,n),s.push(u),r&&r.call(i,u)),l--}return s};f.exports=g},60248:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),g=function(o,a,r,i){if(i===void 0&&(i=o),a<0||a>o.length-1)throw new Error("Index out of bounds");var n=h(o,a);return r&&r.call(i,n),n};f.exports=g},81409:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){if(a===void 0&&(a=0),r===void 0&&(r=o.length),n===void 0&&(n=o),h(o,a,r)){var l=r-a,s=o.splice(a,l);if(i)for(var u=0;u<s.length;u++){var d=s[u];i.call(n,d)}return s}else return[]};f.exports=g},31856:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),g=function(o,a,r){a===void 0&&(a=0),r===void 0&&(r=o.length);var i=a+Math.floor(Math.random()*r);return h(o,i)};f.exports=g},42169:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=t.indexOf(h),a=t.indexOf(g);return o!==-1&&a===-1?(t[o]=g,!0):!1};f.exports=S},86003:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var g=null,o=0;o<h;o++)g=t.shift(),t.push(g);return g};f.exports=S},49498:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var g=null,o=0;o<h;o++)g=t.pop(),t.unshift(g);return g};f.exports=S},82011:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){var a=t.length;if(h<0||h>=a||h>=g||g>a){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};f.exports=S},89545:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var g=t.indexOf(h);return g!==-1&&g>0&&(t.splice(g,1),t.unshift(h)),h};f.exports=S},17810:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),g=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),h(o,i,n))for(var l=i;l<n;l++){var s=o[l];s.hasOwnProperty(a)&&(s[a]=r)}return o};f.exports=g},33680:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length-1;h>0;h--){var g=Math.floor(Math.random()*(h+1)),o=t[h];t[h]=t[g],t[g]=o}return t};f.exports=S},90126:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=/\D/g;return t.sort(function(g,o){return parseInt(g.replace(h,""),10)-parseInt(o.replace(h,""),10)}),t};f.exports=S},19133:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){if(!(h>=t.length)){for(var g=t.length-1,o=t[h],a=h;a<g;a++)t[a]=t[a+1];return t.length=g,o}};f.exports=S},19186:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82264);function g(i,n){return String(i).localeCompare(n)}function o(i,n){var l=i.length;if(l<=1)return i;for(var s=new Array(l),u=1;u<l;u*=2){a(i,n,u,s);var d=i;i=s,s=d}return i}function a(i,n,l,s){var u=i.length,d=0,c=l*2,v,x,y,T,E;for(v=0;v<u;v+=c)for(x=v+l,y=x+l,x>u&&(x=u),y>u&&(y=u),T=v,E=x;;)if(T<x&&E<y)n(i[T],i[E])<=0?s[d++]=i[T++]:s[d++]=i[E++];else if(T<x)s[d++]=i[T++];else if(E<y)s[d++]=i[E++];else break}var r=function(i,n){if(n===void 0&&(n=g),!i||i.length<2)return i;if(h.features.stableSort)return i.sort(n);var l=o(i,n);return l!==i&&a(l,null,i.length,i),i};f.exports=r},25630:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(h===g)return t;var o=t.indexOf(h),a=t.indexOf(g);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return t[o]=g,t[a]=h,t};f.exports=S},37105:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,g=1;g<t.length;g++)if(t[g].length!==h)return!1;return!0};f.exports=S},63362:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41836),g=t(86922),o=function(a){var r="";if(!g(a))return r;for(var i=0;i<a.length;i++){for(var n=0;n<a[i].length;n++){var l=a[i][n].toString();l!=="undefined"?r+=h(l,2):r+="?",n<a[i].length-1&&(r+=" |")}if(i<a.length-1){r+=`
`;for(var s=0;s<a[i].length;s++)r+="---",s<a[i].length-1&&(r+="+");r+=`
`}}return r};f.exports=o},92598:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};f.exports=S},21224:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};f.exports=S},98717:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),g=function(o){return h(o,180)};f.exports=g},44657:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),g=function(o,a){a===void 0&&(a=1);for(var r=0;r<a;r++)o=h(o,90);return o};f.exports=g},37829:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86922),g=t(2429),o=function(a,r){if(r===void 0&&(r=90),!h(a))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")a=g(a),a.reverse();else if(r===-90||r===270||r==="rotateRight")a.reverse(),a=g(a);else if(Math.abs(r)===180||r==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};f.exports=o},92632:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),g=function(o,a){a===void 0&&(a=1);for(var r=0;r<a;r++)o=h(o,-90);return o};f.exports=g},69512:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86003),g=t(49498),o=function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),i!==0&&(i<0?h(a,Math.abs(i)):g(a,i)),r!==0)for(var n=0;n<a.length;n++){var l=a[n];r<0?h(l,Math.abs(r)):g(l,r)}return a};f.exports=o},2429:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length,g=t[0].length,o=new Array(g),a=0;a<g;a++){o[a]=new Array(h);for(var r=h-1;r>-1;r--)o[a][r]=t[r][a]}return o};f.exports=S},54915:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:f=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,g){for(var o=new Uint8Array(h),a=o.length,r=g?"data:"+g+";base64,":"",i=0;i<a;i+=3)r+=S[o[i]>>2],r+=S[(o[i]&3)<<4|o[i+1]>>4],r+=S[(o[i+1]&15)<<2|o[i+2]>>6],r+=S[o[i+2]&63];return a%3===2?r=r.substring(0,r.length-1)+"=":a%3===1&&(r=r.substring(0,r.length-2)+"=="),r};f.exports=t},53134:f=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<S.length;h++)t[S.charCodeAt(h)]=h;var g=function(o){o=o.substr(o.indexOf(",")+1);var a=o.length,r=a*.75,i=0,n,l,s,u;o[a-1]==="="&&(r--,o[a-2]==="="&&r--);for(var d=new ArrayBuffer(r),c=new Uint8Array(d),v=0;v<a;v+=4)n=t[o.charCodeAt(v)],l=t[o.charCodeAt(v+1)],s=t[o.charCodeAt(v+2)],u=t[o.charCodeAt(v+3)],c[i++]=n<<2|l>>4,c[i++]=(l&15)<<4|s>>2,c[i++]=(s&3)<<6|u&63;return d};f.exports=g},65839:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={};for(var g in t)Array.isArray(t[g])?h[g]=t[g].slice(0):h[g]=t[g];return h};f.exports=S},62644:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h,g,o;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(o in t)g=t[o],h[o]=S(g);return h};f.exports=S},79291:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41212),g=function(){var o,a,r,i,n,l,s=arguments[0]||{},u=1,d=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},u=2),d===u&&(s=this,--u);u<d;u++)if((o=arguments[u])!=null)for(a in o)r=s[a],i=o[a],s!==i&&(c&&i&&(h(i)||(n=Array.isArray(i)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&h(r)?r:{},s[a]=g(c,l,i)):i!==void 0&&(s[a]=i));return s};f.exports=g},23568:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75508),g=t(35154),o=function(a,r,i){var n=g(a,r,null);if(n===null)return i;if(Array.isArray(n))return h.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return h.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return h.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};f.exports=o},95540:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){var o=typeof t;return!t||o==="number"||o==="string"?g:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:g};f.exports=S},82840:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),g=t(45319),o=function(a,r,i,n,l){l===void 0&&(l=i);var s=h(a,r,l);return g(s,i,n)};f.exports=o},35154:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){if(!t&&!o||typeof t=="number")return g;if(t&&t.hasOwnProperty(h))return t[h];if(o&&o.hasOwnProperty(h))return o[h];if(h.indexOf(".")!==-1){for(var a=h.split("."),r=t,i=o,n=g,l=g,s=!0,u=!0,d=0;d<a.length;d++)r&&r.hasOwnProperty(a[d])?(n=r[a[d]],r=r[a[d]]):s=!1,i&&i.hasOwnProperty(a[d])?(l=i[a[d]],i=i[a[d]]):u=!1;return s?n:u?l:g}else return g};f.exports=S},69036:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var g=0;g<h.length;g++)if(!t.hasOwnProperty(h[g]))return!1;return!0};f.exports=S},1985:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var g=0;g<h.length;g++)if(t.hasOwnProperty(h[g]))return!0;return!1};f.exports=S},97022:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.hasOwnProperty(h)};f.exports=S},41212:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};f.exports=S},46975:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),g=function(o,a){var r=h(o);for(var i in a)r.hasOwnProperty(i)||(r[i]=a[i]);return r};f.exports=g},269:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),g=function(o,a){var r=h(o);for(var i in a)r.hasOwnProperty(i)&&(r[i]=a[i]);return r};f.exports=g},18254:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97022),g=function(o,a){for(var r={},i=0;i<a.length;i++){var n=a[i];h(o,n)&&(r[n]=o[n])}return r};f.exports=g},61622:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=g,!0;if(h.indexOf(".")!==-1){for(var o=h.split("."),a=t,r=t,i=0;i<o.length;i++)if(a.hasOwnProperty(o[i]))r=a,a=a[o[i]];else return!1;return r[o[o.length-1]]=g,!0}return!1};f.exports=S},1183:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.replace(/%([0-9]+)/g,function(g,o){return h[Number(o)-1]})};f.exports=S},41836:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,g,o){h===void 0&&(h=0),g===void 0&&(g=" "),o===void 0&&(o=3),t=t.toString();var a=0;if(h+1>=t.length)switch(o){case 1:t=new Array(h+1-t.length).join(g)+t;break;case 3:var r=Math.ceil((a=h-t.length)/2),i=a-r;t=new Array(i+1).join(g)+t+new Array(r+1).join(g);break;default:t=t+new Array(h+1-t.length).join(g);break}return t};f.exports=S},33628:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===0?t.slice(1):t.slice(0,h)+t.slice(h+1)};f.exports=S},27671:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};f.exports=S},45650:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,g=t==="x"?h:h&3|8;return g.toString(16)})};f.exports=S},35355:f=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};f.exports=S},31749:(f,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */f.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},C={};function R(f){var S=C[f];if(S!==void 0)return S.exports;var t=C[f]={exports:{}};return m[f](t,t.exports,R),t.exports}R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var M=R(85454);return M})())}(xo)),xo.exports}var mr=LE(),us=(p=>(p.Hiscores="hiscores",p.Profiles="profiles",p))(us||{}),ge=(p=>(p.Preload="preload",p.Menu="menu",p.Playing="playing",p.Paused="paused",p.GameOver="gameover",p))(ge||{}),ql=(p=>(p.Normal="normal",p.Story="story",p.TimeTrial="time-trial",p.Battle="battle",p))(ql||{}),we=(p=>(p.HpSmall="powerup/hp-small",p.HpMedium="powerup/hp-medium",p.HpLarge="powerup/hp-large",p.EnergySmall="powerup/energy-small",p.EnergyMedium="powerup/energy-medium",p.EnergyLarge="powerup/energy-large",p))(we||{});class FE extends mr.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}const OE=On("client",()=>{const p=Gt(window.innerWidth),e=Gt(window.innerHeight),m=Lt(()=>({x:p.value/2,y:e.value/2}));return{SCREEN_WIDTH:p,SCREEN_HEIGHT:e,SCREEN_CENTER:m,setScreenSize:()=>{p.value=window.innerWidth,e.value=window.innerHeight}}}),DE=()=>{};var Xc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=function(p){const e=[];let m=0;for(let C=0;C<p.length;C++){let R=p.charCodeAt(C);R<128?e[m++]=R:R<2048?(e[m++]=R>>6|192,e[m++]=R&63|128):(R&64512)===55296&&C+1<p.length&&(p.charCodeAt(C+1)&64512)===56320?(R=65536+((R&1023)<<10)+(p.charCodeAt(++C)&1023),e[m++]=R>>18|240,e[m++]=R>>12&63|128,e[m++]=R>>6&63|128,e[m++]=R&63|128):(e[m++]=R>>12|224,e[m++]=R>>6&63|128,e[m++]=R&63|128)}return e},NE=function(p){const e=[];let m=0,C=0;for(;m<p.length;){const R=p[m++];if(R<128)e[C++]=String.fromCharCode(R);else if(R>191&&R<224){const M=p[m++];e[C++]=String.fromCharCode((R&31)<<6|M&63)}else if(R>239&&R<365){const M=p[m++],f=p[m++],S=p[m++],t=((R&7)<<18|(M&63)<<12|(f&63)<<6|S&63)-65536;e[C++]=String.fromCharCode(55296+(t>>10)),e[C++]=String.fromCharCode(56320+(t&1023))}else{const M=p[m++],f=p[m++];e[C++]=String.fromCharCode((R&15)<<12|(M&63)<<6|f&63)}}return e.join("")},ig={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(p,e){if(!Array.isArray(p))throw Error("encodeByteArray takes an array as a parameter");this.init_();const m=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let R=0;R<p.length;R+=3){const M=p[R],f=R+1<p.length,S=f?p[R+1]:0,t=R+2<p.length,h=t?p[R+2]:0,g=M>>2,o=(M&3)<<4|S>>4;let a=(S&15)<<2|h>>6,r=h&63;t||(r=64,f||(a=64)),C.push(m[g],m[o],m[a],m[r])}return C.join("")},encodeString(p,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(p):this.encodeByteArray(eg(p),e)},decodeString(p,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(p):NE(this.decodeStringToByteArray(p,e))},decodeStringToByteArray(p,e){this.init_();const m=e?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let R=0;R<p.length;){const M=m[p.charAt(R++)],S=R<p.length?m[p.charAt(R)]:0;++R;const h=R<p.length?m[p.charAt(R)]:64;++R;const o=R<p.length?m[p.charAt(R)]:64;if(++R,M==null||S==null||h==null||o==null)throw new bE;const a=M<<2|S>>4;if(C.push(a),h!==64){const r=S<<4&240|h>>2;if(C.push(r),o!==64){const i=h<<6&192|o;C.push(i)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let p=0;p<this.ENCODED_VALS.length;p++)this.byteToCharMap_[p]=this.ENCODED_VALS.charAt(p),this.charToByteMap_[this.byteToCharMap_[p]]=p,this.byteToCharMapWebSafe_[p]=this.ENCODED_VALS_WEBSAFE.charAt(p),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[p]]=p,p>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(p)]=p,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(p)]=p)}}};class bE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BE=function(p){const e=eg(p);return ig.encodeByteArray(e,!0)},Uo=function(p){return BE(p).replace(/\./g,"")},sg=function(p){try{return ig.decodeString(p,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=()=>VE().__FIREBASE_DEFAULTS__,UE=()=>{if(typeof process>"u"||typeof Xc>"u")return;const p=Xc.__FIREBASE_DEFAULTS__;if(p)return JSON.parse(p)},zE=()=>{if(typeof document>"u")return;let p;try{p=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=p&&sg(p[1]);return e&&JSON.parse(e)},Ch=()=>{try{return DE()||GE()||UE()||zE()}catch(p){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${p}`);return}},ng=p=>{var e,m;return(m=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||m===void 0?void 0:m[p]},XE=p=>{const e=ng(p);if(!e)return;const m=e.lastIndexOf(":");if(m<=0||m+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const C=parseInt(e.substring(m+1),10);return e[0]==="["?[e.substring(1,m-1),C]:[e.substring(0,m),C]},rg=()=>{var p;return(p=Ch())===null||p===void 0?void 0:p.config},ag=p=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${p}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,m)=>{this.resolve=e,this.reject=m})}wrapCallback(e){return(m,C)=>{m?this.reject(m):this.resolve(C),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(m):e(m,C))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(p,e){if(p.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const m={alg:"none",type:"JWT"},C=e||"demo-project",R=p.iat||0,M=p.sub||p.user_id;if(!M)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:R,exp:R+3600,auth_time:R,sub:M,user_id:M,firebase:{sign_in_provider:"custom",identities:{}}},p);return[Uo(JSON.stringify(m)),Uo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function KE(){var p;const e=(p=Ch())===null||p===void 0?void 0:p.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $E(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function og(){const p=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof p=="object"&&p.id!==void 0}function jE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QE(){const p=ke();return p.indexOf("MSIE ")>=0||p.indexOf("Trident/")>=0}function JE(){return!KE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hg(){try{return typeof indexedDB=="object"}catch{return!1}}function lg(){return new Promise((p,e)=>{try{let m=!0;const C="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(C);R.onsuccess=()=>{R.result.close(),m||self.indexedDB.deleteDatabase(C),p(!0)},R.onupgradeneeded=()=>{m=!1},R.onerror=()=>{var M;e(((M=R.error)===null||M===void 0?void 0:M.message)||"")}}catch(m){e(m)}})}function kE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="FirebaseError";class Bi extends Error{constructor(e,m,C){super(m),this.code=e,this.customData=C,this.name=ZE,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}}class Dn{constructor(e,m,C){this.service=e,this.serviceName=m,this.errors=C}create(e,...m){const C=m[0]||{},R=`${this.service}/${e}`,M=this.errors[e],f=M?qE(M,C):"Error",S=`${this.serviceName}: ${f} (${R}).`;return new Bi(R,S,C)}}function qE(p,e){return p.replace(_E,(m,C)=>{const R=e[C];return R!=null?String(R):`<${C}?>`})}const _E=/\{\$([^}]+)}/g;function tS(p){for(const e in p)if(Object.prototype.hasOwnProperty.call(p,e))return!1;return!0}function xs(p,e){if(p===e)return!0;const m=Object.keys(p),C=Object.keys(e);for(const R of m){if(!C.includes(R))return!1;const M=p[R],f=e[R];if(Wc(M)&&Wc(f)){if(!xs(M,f))return!1}else if(M!==f)return!1}for(const R of C)if(!m.includes(R))return!1;return!0}function Wc(p){return p!==null&&typeof p=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(p){const e=[];for(const[m,C]of Object.entries(p))Array.isArray(C)?C.forEach(R=>{e.push(encodeURIComponent(m)+"="+encodeURIComponent(R))}):e.push(encodeURIComponent(m)+"="+encodeURIComponent(C));return e.length?"&"+e.join("&"):""}function eS(p,e){const m=new iS(p,e);return m.subscribe.bind(m)}class iS{constructor(e,m){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=m,this.task.then(()=>{e(this)}).catch(C=>{this.error(C)})}next(e){this.forEachObserver(m=>{m.next(e)})}error(e){this.forEachObserver(m=>{m.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,m,C){let R;if(e===void 0&&m===void 0&&C===void 0)throw new Error("Missing Observer.");sS(e,["next","error","complete"])?R=e:R={next:e,error:m,complete:C},R.next===void 0&&(R.next=El),R.error===void 0&&(R.error=El),R.complete===void 0&&(R.complete=El);const M=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),M}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let m=0;m<this.observers.length;m++)this.sendOne(m,e)}sendOne(e,m){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{m(this.observers[e])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sS(p,e){if(typeof p!="object"||p===null)return!1;for(const m of e)if(m in p&&typeof p[m]=="function")return!0;return!1}function El(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=1e3,rS=2,aS=4*60*60*1e3,oS=.5;function Yc(p,e=nS,m=rS){const C=e*Math.pow(m,p),R=Math.round(oS*C*(Math.random()-.5)*2);return Math.min(aS,C+R)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(p){return p&&p._delegate?p._delegate:p}class Di{constructor(e,m,C){this.name=e,this.instanceFactory=m,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,m){this.name=e,this.container=m,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const m=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(m)){const C=new WE;if(this.instancesDeferred.set(m,C),this.isInitialized(m)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:m});R&&C.resolve(R)}catch{}}return this.instancesDeferred.get(m).promise}getImmediate(e){var m;const C=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),R=(m=e==null?void 0:e.optional)!==null&&m!==void 0?m:!1;if(this.isInitialized(C)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:C})}catch(M){if(R)return null;throw M}else{if(R)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uS(e))try{this.getOrInitializeService({instanceIdentifier:cn})}catch{}for(const[m,C]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(m);try{const M=this.getOrInitializeService({instanceIdentifier:R});C.resolve(M)}catch{}}}}clearInstance(e=cn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(m=>"INTERNAL"in m).map(m=>m.INTERNAL.delete()),...e.filter(m=>"_delete"in m).map(m=>m._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cn){return this.instances.has(e)}getOptions(e=cn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:m={}}=e,C=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:C,options:m});for(const[M,f]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(M);C===S&&f.resolve(R)}return R}onInit(e,m){var C;const R=this.normalizeInstanceIdentifier(m),M=(C=this.onInitCallbacks.get(R))!==null&&C!==void 0?C:new Set;M.add(e),this.onInitCallbacks.set(R,M);const f=this.instances.get(R);return f&&e(f,R),()=>{M.delete(e)}}invokeOnInitCallbacks(e,m){const C=this.onInitCallbacks.get(m);if(C)for(const R of C)try{R(e,m)}catch{}}getOrInitializeService({instanceIdentifier:e,options:m={}}){let C=this.instances.get(e);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:lS(e),options:m}),this.instances.set(e,C),this.instancesOptions.set(e,m),this.invokeOnInitCallbacks(C,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,C)}catch{}return C||null}normalizeInstanceIdentifier(e=cn){return this.component?this.component.multipleInstances?e:cn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(p){return p===cn?void 0:p}function uS(p){return p.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const m=this.getProvider(e.name);if(m.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);m.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const m=new hS(e,this);return this.providers.set(e,m),m}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(p){p[p.DEBUG=0]="DEBUG",p[p.VERBOSE=1]="VERBOSE",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT"})(Yt||(Yt={}));const dS={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},cS=Yt.INFO,vS={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},pS=(p,e,...m)=>{if(e<p.logLevel)return;const C=new Date().toISOString(),R=vS[e];if(R)console[R](`[${C}]  ${p.name}:`,...m);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ah{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const mS=(p,e)=>e.some(m=>p instanceof m);let Hc,Kc;function gS(){return Hc||(Hc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xS(){return Kc||(Kc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ug=new WeakMap,_l=new WeakMap,fg=new WeakMap,Sl=new WeakMap,ju=new WeakMap;function yS(p){const e=new Promise((m,C)=>{const R=()=>{p.removeEventListener("success",M),p.removeEventListener("error",f)},M=()=>{m(Us(p.result)),R()},f=()=>{C(p.error),R()};p.addEventListener("success",M),p.addEventListener("error",f)});return e.then(m=>{m instanceof IDBCursor&&ug.set(m,p)}).catch(()=>{}),ju.set(e,p),e}function TS(p){if(_l.has(p))return;const e=new Promise((m,C)=>{const R=()=>{p.removeEventListener("complete",M),p.removeEventListener("error",f),p.removeEventListener("abort",f)},M=()=>{m(),R()},f=()=>{C(p.error||new DOMException("AbortError","AbortError")),R()};p.addEventListener("complete",M),p.addEventListener("error",f),p.addEventListener("abort",f)});_l.set(p,e)}let tu={get(p,e,m){if(p instanceof IDBTransaction){if(e==="done")return _l.get(p);if(e==="objectStoreNames")return p.objectStoreNames||fg.get(p);if(e==="store")return m.objectStoreNames[1]?void 0:m.objectStore(m.objectStoreNames[0])}return Us(p[e])},set(p,e,m){return p[e]=m,!0},has(p,e){return p instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in p}};function ES(p){tu=p(tu)}function SS(p){return p===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...m){const C=p.call(Cl(this),e,...m);return fg.set(C,e.sort?e.sort():[e]),Us(C)}:xS().includes(p)?function(...e){return p.apply(Cl(this),e),Us(ug.get(this))}:function(...e){return Us(p.apply(Cl(this),e))}}function CS(p){return typeof p=="function"?SS(p):(p instanceof IDBTransaction&&TS(p),mS(p,gS())?new Proxy(p,tu):p)}function Us(p){if(p instanceof IDBRequest)return yS(p);if(Sl.has(p))return Sl.get(p);const e=CS(p);return e!==p&&(Sl.set(p,e),ju.set(e,p)),e}const Cl=p=>ju.get(p);function dg(p,e,{blocked:m,upgrade:C,blocking:R,terminated:M}={}){const f=indexedDB.open(p,e),S=Us(f);return C&&f.addEventListener("upgradeneeded",t=>{C(Us(f.result),t.oldVersion,t.newVersion,Us(f.transaction),t)}),m&&f.addEventListener("blocked",t=>m(t.oldVersion,t.newVersion,t)),S.then(t=>{M&&t.addEventListener("close",()=>M()),R&&t.addEventListener("versionchange",h=>R(h.oldVersion,h.newVersion,h))}).catch(()=>{}),S}const AS=["get","getKey","getAll","getAllKeys","count"],PS=["put","add","delete","clear"],Al=new Map;function $c(p,e){if(!(p instanceof IDBDatabase&&!(e in p)&&typeof e=="string"))return;if(Al.get(e))return Al.get(e);const m=e.replace(/FromIndex$/,""),C=e!==m,R=PS.includes(m);if(!(m in(C?IDBIndex:IDBObjectStore).prototype)||!(R||AS.includes(m)))return;const M=async function(f,...S){const t=this.transaction(f,R?"readwrite":"readonly");let h=t.store;return C&&(h=h.index(S.shift())),(await Promise.all([h[m](...S),R&&t.done]))[0]};return Al.set(e,M),M}ES(p=>({...p,get:(e,m,C)=>$c(e,m)||p.get(e,m,C),has:(e,m)=>!!$c(e,m)||p.has(e,m)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(m=>{if(wS(m)){const C=m.getImmediate();return`${C.library}/${C.version}`}else return null}).filter(m=>m).join(" ")}}function wS(p){const e=p.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eu="@firebase/app",jc="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Ah("@firebase/app"),MS="@firebase/app-compat",IS="@firebase/analytics-compat",LS="@firebase/analytics",FS="@firebase/app-check-compat",OS="@firebase/app-check",DS="@firebase/auth",NS="@firebase/auth-compat",bS="@firebase/database",BS="@firebase/data-connect",VS="@firebase/database-compat",GS="@firebase/functions",US="@firebase/functions-compat",zS="@firebase/installations",XS="@firebase/installations-compat",WS="@firebase/messaging",YS="@firebase/messaging-compat",HS="@firebase/performance",KS="@firebase/performance-compat",$S="@firebase/remote-config",jS="@firebase/remote-config-compat",QS="@firebase/storage",JS="@firebase/storage-compat",kS="@firebase/firestore",ZS="@firebase/vertexai",qS="@firebase/firestore-compat",_S="firebase",tC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]",eC={[eu]:"fire-core",[MS]:"fire-core-compat",[LS]:"fire-analytics",[IS]:"fire-analytics-compat",[OS]:"fire-app-check",[FS]:"fire-app-check-compat",[DS]:"fire-auth",[NS]:"fire-auth-compat",[bS]:"fire-rtdb",[BS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[GS]:"fire-fn",[US]:"fire-fn-compat",[zS]:"fire-iid",[XS]:"fire-iid-compat",[WS]:"fire-fcm",[YS]:"fire-fcm-compat",[HS]:"fire-perf",[KS]:"fire-perf-compat",[$S]:"fire-rc",[jS]:"fire-rc-compat",[QS]:"fire-gcs",[JS]:"fire-gcs-compat",[kS]:"fire-fst",[qS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,iC=new Map,su=new Map;function Qc(p,e){try{p.container.addComponent(e)}catch(m){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${p.name}`,m)}}function ki(p){const e=p.name;if(su.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;su.set(e,p);for(const m of zo.values())Qc(m,p);for(const m of iC.values())Qc(m,p);return!0}function _s(p,e){const m=p.container.getProvider("heartbeat").getImmediate({optional:!0});return m&&m.triggerHeartbeat(),p.container.getProvider(e)}function Ri(p){return p==null?!1:p.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Dn("app","Firebase",sC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,m,C){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},m),this._name=m.name,this._automaticDataCollectionEnabled=m.automaticDataCollectionEnabled,this._container=C,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=tC;function cg(p,e={}){let m=p;typeof e!="object"&&(e={name:e});const C=Object.assign({name:iu,automaticDataCollectionEnabled:!1},e),R=C.name;if(typeof R!="string"||!R)throw zs.create("bad-app-name",{appName:String(R)});if(m||(m=rg()),!m)throw zs.create("no-options");const M=zo.get(R);if(M){if(xs(m,M.options)&&xs(C,M.config))return M;throw zs.create("duplicate-app",{appName:R})}const f=new fS(R);for(const t of su.values())f.addComponent(t);const S=new nC(m,C,f);return zo.set(R,S),S}function Qu(p=iu){const e=zo.get(p);if(!e&&p===iu&&rg())return cg();if(!e)throw zs.create("no-app",{appName:p});return e}function Ci(p,e,m){var C;let R=(C=eC[p])!==null&&C!==void 0?C:p;m&&(R+=`-${m}`);const M=R.match(/\s|\//),f=e.match(/\s|\//);if(M||f){const S=[`Unable to register library "${R}" with version "${e}":`];M&&S.push(`library name "${R}" contains illegal characters (whitespace or "/")`),M&&f&&S.push("and"),f&&S.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(S.join(" "));return}ki(new Di(`${R}-version`,()=>({library:R,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-heartbeat-database",aC=1,pa="firebase-heartbeat-store";let Pl=null;function vg(){return Pl||(Pl=dg(rC,aC,{upgrade:(p,e)=>{switch(e){case 0:try{p.createObjectStore(pa)}catch(m){console.warn(m)}}}}).catch(p=>{throw zs.create("idb-open",{originalErrorMessage:p.message})})),Pl}async function oC(p){try{const m=(await vg()).transaction(pa),C=await m.objectStore(pa).get(pg(p));return await m.done,C}catch(e){if(e instanceof Bi)ys.warn(e.message);else{const m=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(m.message)}}}async function Jc(p,e){try{const C=(await vg()).transaction(pa,"readwrite");await C.objectStore(pa).put(e,pg(p)),await C.done}catch(m){if(m instanceof Bi)ys.warn(m.message);else{const C=zs.create("idb-set",{originalErrorMessage:m==null?void 0:m.message});ys.warn(C.message)}}}function pg(p){return`${p.name}!${p.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1024,lC=30;class uC{constructor(e){this.container=e,this._heartbeatsCache=null;const m=this.container.getProvider("app").getImmediate();this._storage=new dC(m),this._heartbeatsCachePromise=this._storage.read().then(C=>(this._heartbeatsCache=C,C))}async triggerHeartbeat(){var e,m;try{const R=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),M=kc();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((m=this._heartbeatsCache)===null||m===void 0?void 0:m.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===M||this._heartbeatsCache.heartbeats.some(f=>f.date===M))return;if(this._heartbeatsCache.heartbeats.push({date:M,agent:R}),this._heartbeatsCache.heartbeats.length>lC){const f=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(C){ys.warn(C)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const m=kc(),{heartbeatsToSend:C,unsentEntries:R}=fC(this._heartbeatsCache.heartbeats),M=Uo(JSON.stringify({version:2,heartbeats:C}));return this._heartbeatsCache.lastSentHeartbeatDate=m,R.length>0?(this._heartbeatsCache.heartbeats=R,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),M}catch(m){return ys.warn(m),""}}}function kc(){return new Date().toISOString().substring(0,10)}function fC(p,e=hC){const m=[];let C=p.slice();for(const R of p){const M=m.find(f=>f.agent===R.agent);if(M){if(M.dates.push(R.date),Zc(m)>e){M.dates.pop();break}}else if(m.push({agent:R.agent,dates:[R.date]}),Zc(m)>e){m.pop();break}C=C.slice(1)}return{heartbeatsToSend:m,unsentEntries:C}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hg()?lg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const m=await oC(this.app);return m!=null&&m.heartbeats?m:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var m;if(await this._canUseIndexedDBPromise){const R=await this.read();return Jc(this.app,{lastSentHeartbeatDate:(m=e.lastSentHeartbeatDate)!==null&&m!==void 0?m:R.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var m;if(await this._canUseIndexedDBPromise){const R=await this.read();return Jc(this.app,{lastSentHeartbeatDate:(m=e.lastSentHeartbeatDate)!==null&&m!==void 0?m:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...e.heartbeats]})}else return}}function Zc(p){return Uo(JSON.stringify({version:2,heartbeats:p})).length}function cC(p){if(p.length===0)return-1;let e=0,m=p[0].date;for(let C=1;C<p.length;C++)p[C].date<m&&(m=p[C].date,e=C);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(p){ki(new Di("platform-logger",e=>new RS(e),"PRIVATE")),ki(new Di("heartbeat",e=>new uC(e),"PRIVATE")),Ci(eu,jc,p),Ci(eu,jc,"esm2017"),Ci("fire-js","")}vC("");var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,mg;(function(){var p;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,T){function E(){}E.prototype=T.prototype,y.D=T.prototype,y.prototype=new E,y.prototype.constructor=y,y.C=function(A,P,w){for(var I=Array(arguments.length-2),O=2;O<arguments.length;O++)I[O-2]=arguments[O];return T.prototype[P].apply(A,I)}}function m(){this.blockSize=-1}function C(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(C,m),C.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function R(y,T,E){E||(E=0);var A=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)A[P]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(P=0;16>P;++P)A[P]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=y.g[0],E=y.g[1],P=y.g[2];var w=y.g[3],I=T+(w^E&(P^w))+A[0]+3614090360&4294967295;T=E+(I<<7&4294967295|I>>>25),I=w+(P^T&(E^P))+A[1]+3905402710&4294967295,w=T+(I<<12&4294967295|I>>>20),I=P+(E^w&(T^E))+A[2]+606105819&4294967295,P=w+(I<<17&4294967295|I>>>15),I=E+(T^P&(w^T))+A[3]+3250441966&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(w^E&(P^w))+A[4]+4118548399&4294967295,T=E+(I<<7&4294967295|I>>>25),I=w+(P^T&(E^P))+A[5]+1200080426&4294967295,w=T+(I<<12&4294967295|I>>>20),I=P+(E^w&(T^E))+A[6]+2821735955&4294967295,P=w+(I<<17&4294967295|I>>>15),I=E+(T^P&(w^T))+A[7]+4249261313&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(w^E&(P^w))+A[8]+1770035416&4294967295,T=E+(I<<7&4294967295|I>>>25),I=w+(P^T&(E^P))+A[9]+2336552879&4294967295,w=T+(I<<12&4294967295|I>>>20),I=P+(E^w&(T^E))+A[10]+4294925233&4294967295,P=w+(I<<17&4294967295|I>>>15),I=E+(T^P&(w^T))+A[11]+2304563134&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(w^E&(P^w))+A[12]+1804603682&4294967295,T=E+(I<<7&4294967295|I>>>25),I=w+(P^T&(E^P))+A[13]+4254626195&4294967295,w=T+(I<<12&4294967295|I>>>20),I=P+(E^w&(T^E))+A[14]+2792965006&4294967295,P=w+(I<<17&4294967295|I>>>15),I=E+(T^P&(w^T))+A[15]+1236535329&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(P^w&(E^P))+A[1]+4129170786&4294967295,T=E+(I<<5&4294967295|I>>>27),I=w+(E^P&(T^E))+A[6]+3225465664&4294967295,w=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(w^T))+A[11]+643717713&4294967295,P=w+(I<<14&4294967295|I>>>18),I=E+(w^T&(P^w))+A[0]+3921069994&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^w&(E^P))+A[5]+3593408605&4294967295,T=E+(I<<5&4294967295|I>>>27),I=w+(E^P&(T^E))+A[10]+38016083&4294967295,w=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(w^T))+A[15]+3634488961&4294967295,P=w+(I<<14&4294967295|I>>>18),I=E+(w^T&(P^w))+A[4]+3889429448&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^w&(E^P))+A[9]+568446438&4294967295,T=E+(I<<5&4294967295|I>>>27),I=w+(E^P&(T^E))+A[14]+3275163606&4294967295,w=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(w^T))+A[3]+4107603335&4294967295,P=w+(I<<14&4294967295|I>>>18),I=E+(w^T&(P^w))+A[8]+1163531501&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^w&(E^P))+A[13]+2850285829&4294967295,T=E+(I<<5&4294967295|I>>>27),I=w+(E^P&(T^E))+A[2]+4243563512&4294967295,w=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(w^T))+A[7]+1735328473&4294967295,P=w+(I<<14&4294967295|I>>>18),I=E+(w^T&(P^w))+A[12]+2368359562&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(E^P^w)+A[5]+4294588738&4294967295,T=E+(I<<4&4294967295|I>>>28),I=w+(T^E^P)+A[8]+2272392833&4294967295,w=T+(I<<11&4294967295|I>>>21),I=P+(w^T^E)+A[11]+1839030562&4294967295,P=w+(I<<16&4294967295|I>>>16),I=E+(P^w^T)+A[14]+4259657740&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^w)+A[1]+2763975236&4294967295,T=E+(I<<4&4294967295|I>>>28),I=w+(T^E^P)+A[4]+1272893353&4294967295,w=T+(I<<11&4294967295|I>>>21),I=P+(w^T^E)+A[7]+4139469664&4294967295,P=w+(I<<16&4294967295|I>>>16),I=E+(P^w^T)+A[10]+3200236656&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^w)+A[13]+681279174&4294967295,T=E+(I<<4&4294967295|I>>>28),I=w+(T^E^P)+A[0]+3936430074&4294967295,w=T+(I<<11&4294967295|I>>>21),I=P+(w^T^E)+A[3]+3572445317&4294967295,P=w+(I<<16&4294967295|I>>>16),I=E+(P^w^T)+A[6]+76029189&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^w)+A[9]+3654602809&4294967295,T=E+(I<<4&4294967295|I>>>28),I=w+(T^E^P)+A[12]+3873151461&4294967295,w=T+(I<<11&4294967295|I>>>21),I=P+(w^T^E)+A[15]+530742520&4294967295,P=w+(I<<16&4294967295|I>>>16),I=E+(P^w^T)+A[2]+3299628645&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(P^(E|~w))+A[0]+4096336452&4294967295,T=E+(I<<6&4294967295|I>>>26),I=w+(E^(T|~P))+A[7]+1126891415&4294967295,w=T+(I<<10&4294967295|I>>>22),I=P+(T^(w|~E))+A[14]+2878612391&4294967295,P=w+(I<<15&4294967295|I>>>17),I=E+(w^(P|~T))+A[5]+4237533241&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~w))+A[12]+1700485571&4294967295,T=E+(I<<6&4294967295|I>>>26),I=w+(E^(T|~P))+A[3]+2399980690&4294967295,w=T+(I<<10&4294967295|I>>>22),I=P+(T^(w|~E))+A[10]+4293915773&4294967295,P=w+(I<<15&4294967295|I>>>17),I=E+(w^(P|~T))+A[1]+2240044497&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~w))+A[8]+1873313359&4294967295,T=E+(I<<6&4294967295|I>>>26),I=w+(E^(T|~P))+A[15]+4264355552&4294967295,w=T+(I<<10&4294967295|I>>>22),I=P+(T^(w|~E))+A[6]+2734768916&4294967295,P=w+(I<<15&4294967295|I>>>17),I=E+(w^(P|~T))+A[13]+1309151649&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~w))+A[4]+4149444226&4294967295,T=E+(I<<6&4294967295|I>>>26),I=w+(E^(T|~P))+A[11]+3174756917&4294967295,w=T+(I<<10&4294967295|I>>>22),I=P+(T^(w|~E))+A[2]+718787259&4294967295,P=w+(I<<15&4294967295|I>>>17),I=E+(w^(P|~T))+A[9]+3951481745&4294967295,y.g[0]=y.g[0]+T&4294967295,y.g[1]=y.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,y.g[2]=y.g[2]+P&4294967295,y.g[3]=y.g[3]+w&4294967295}C.prototype.u=function(y,T){T===void 0&&(T=y.length);for(var E=T-this.blockSize,A=this.B,P=this.h,w=0;w<T;){if(P==0)for(;w<=E;)R(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<T;)if(A[P++]=y.charCodeAt(w++),P==this.blockSize){R(this,A),P=0;break}}else for(;w<T;)if(A[P++]=y[w++],P==this.blockSize){R(this,A),P=0;break}}this.h=P,this.o+=T},C.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var T=1;T<y.length-8;++T)y[T]=0;var E=8*this.o;for(T=y.length-8;T<y.length;++T)y[T]=E&255,E/=256;for(this.u(y),y=Array(16),T=E=0;4>T;++T)for(var A=0;32>A;A+=8)y[E++]=this.g[T]>>>A&255;return y};function M(y,T){var E=S;return Object.prototype.hasOwnProperty.call(E,y)?E[y]:E[y]=T(y)}function f(y,T){this.h=T;for(var E=[],A=!0,P=y.length-1;0<=P;P--){var w=y[P]|0;A&&w==T||(E[P]=w,A=!1)}this.g=E}var S={};function t(y){return-128<=y&&128>y?M(y,function(T){return new f([T|0],0>T?-1:0)}):new f([y|0],0>y?-1:0)}function h(y){if(isNaN(y)||!isFinite(y))return o;if(0>y)return l(h(-y));for(var T=[],E=1,A=0;y>=E;A++)T[A]=y/E|0,E*=4294967296;return new f(T,0)}function g(y,T){if(y.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y.charAt(0)=="-")return l(g(y.substring(1),T));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(T,8)),A=o,P=0;P<y.length;P+=8){var w=Math.min(8,y.length-P),I=parseInt(y.substring(P,P+w),T);8>w?(w=h(Math.pow(T,w)),A=A.j(w).add(h(I))):(A=A.j(E),A=A.add(h(I)))}return A}var o=t(0),a=t(1),r=t(16777216);p=f.prototype,p.m=function(){if(n(this))return-l(this).m();for(var y=0,T=1,E=0;E<this.g.length;E++){var A=this.i(E);y+=(0<=A?A:4294967296+A)*T,T*=4294967296}return y},p.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(i(this))return"0";if(n(this))return"-"+l(this).toString(y);for(var T=h(Math.pow(y,6)),E=this,A="";;){var P=c(E,T).g;E=s(E,P.j(T));var w=((0<E.g.length?E.g[0]:E.h)>>>0).toString(y);if(E=P,i(E))return w+A;for(;6>w.length;)w="0"+w;A=w+A}},p.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function i(y){if(y.h!=0)return!1;for(var T=0;T<y.g.length;T++)if(y.g[T]!=0)return!1;return!0}function n(y){return y.h==-1}p.l=function(y){return y=s(this,y),n(y)?-1:i(y)?0:1};function l(y){for(var T=y.g.length,E=[],A=0;A<T;A++)E[A]=~y.g[A];return new f(E,~y.h).add(a)}p.abs=function(){return n(this)?l(this):this},p.add=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0,P=0;P<=T;P++){var w=A+(this.i(P)&65535)+(y.i(P)&65535),I=(w>>>16)+(this.i(P)>>>16)+(y.i(P)>>>16);A=I>>>16,w&=65535,I&=65535,E[P]=I<<16|w}return new f(E,E[E.length-1]&-2147483648?-1:0)};function s(y,T){return y.add(l(T))}p.j=function(y){if(i(this)||i(y))return o;if(n(this))return n(y)?l(this).j(l(y)):l(l(this).j(y));if(n(y))return l(this.j(l(y)));if(0>this.l(r)&&0>y.l(r))return h(this.m()*y.m());for(var T=this.g.length+y.g.length,E=[],A=0;A<2*T;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<y.g.length;P++){var w=this.i(A)>>>16,I=this.i(A)&65535,O=y.i(P)>>>16,F=y.i(P)&65535;E[2*A+2*P]+=I*F,u(E,2*A+2*P),E[2*A+2*P+1]+=w*F,u(E,2*A+2*P+1),E[2*A+2*P+1]+=I*O,u(E,2*A+2*P+1),E[2*A+2*P+2]+=w*O,u(E,2*A+2*P+2)}for(A=0;A<T;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=T;A<2*T;A++)E[A]=0;return new f(E,0)};function u(y,T){for(;(y[T]&65535)!=y[T];)y[T+1]+=y[T]>>>16,y[T]&=65535,T++}function d(y,T){this.g=y,this.h=T}function c(y,T){if(i(T))throw Error("division by zero");if(i(y))return new d(o,o);if(n(y))return T=c(l(y),T),new d(l(T.g),l(T.h));if(n(T))return T=c(y,l(T)),new d(l(T.g),T.h);if(30<y.g.length){if(n(y)||n(T))throw Error("slowDivide_ only works with positive integers.");for(var E=a,A=T;0>=A.l(y);)E=v(E),A=v(A);var P=x(E,1),w=x(A,1);for(A=x(A,2),E=x(E,2);!i(A);){var I=w.add(A);0>=I.l(y)&&(P=P.add(E),w=I),A=x(A,1),E=x(E,1)}return T=s(y,P.j(T)),new d(P,T)}for(P=o;0<=y.l(T);){for(E=Math.max(1,Math.floor(y.m()/T.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),w=h(E),I=w.j(T);n(I)||0<I.l(y);)E-=A,w=h(E),I=w.j(T);i(w)&&(w=a),P=P.add(w),y=s(y,I)}return new d(P,y)}p.A=function(y){return c(this,y).h},p.and=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)&y.i(A);return new f(E,this.h&y.h)},p.or=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)|y.i(A);return new f(E,this.h|y.h)},p.xor=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)^y.i(A);return new f(E,this.h^y.h)};function v(y){for(var T=y.g.length+1,E=[],A=0;A<T;A++)E[A]=y.i(A)<<1|y.i(A-1)>>>31;return new f(E,y.h)}function x(y,T){var E=T>>5;T%=32;for(var A=y.g.length-E,P=[],w=0;w<A;w++)P[w]=0<T?y.i(w+E)>>>T|y.i(w+E+1)<<32-T:y.i(w+E);return new f(P,y.h)}C.prototype.digest=C.prototype.v,C.prototype.reset=C.prototype.s,C.prototype.update=C.prototype.u,mg=C,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=h,f.fromString=g,Xs=f}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gg,zr,xg,yo,nu,yg,Tg,Eg;(function(){var p,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,K,J){return N==Array.prototype||N==Object.prototype||(N[K]=J.value),N};function m(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof ao=="object"&&ao];for(var K=0;K<N.length;++K){var J=N[K];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var C=m(this);function R(N,K){if(K)t:{var J=C;N=N.split(".");for(var tt=0;tt<N.length-1;tt++){var at=N[tt];if(!(at in J))break t;J=J[at]}N=N[N.length-1],tt=J[N],K=K(tt),K!=tt&&K!=null&&e(J,N,{configurable:!0,writable:!0,value:K})}}function M(N,K){N instanceof String&&(N+="");var J=0,tt=!1,at={next:function(){if(!tt&&J<N.length){var ct=J++;return{value:K(ct,N[ct]),done:!1}}return tt=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}R("Array.prototype.values",function(N){return N||function(){return M(this,function(K,J){return J})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},S=this||self;function t(N){var K=typeof N;return K=K!="object"?K:N?Array.isArray(N)?"array":K:"null",K=="array"||K=="object"&&typeof N.length=="number"}function h(N){var K=typeof N;return K=="object"&&N!=null||K=="function"}function g(N,K,J){return N.call.apply(N.bind,arguments)}function o(N,K,J){if(!N)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,tt),N.apply(K,at)}}return function(){return N.apply(K,arguments)}}function a(N,K,J){return a=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:o,a.apply(null,arguments)}function r(N,K){var J=Array.prototype.slice.call(arguments,1);return function(){var tt=J.slice();return tt.push.apply(tt,arguments),N.apply(this,tt)}}function i(N,K){function J(){}J.prototype=K.prototype,N.aa=K.prototype,N.prototype=new J,N.prototype.constructor=N,N.Qb=function(tt,at,ct){for(var Tt=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)Tt[ue-2]=arguments[ue];return K.prototype[at].apply(tt,Tt)}}function n(N){const K=N.length;if(0<K){const J=Array(K);for(let tt=0;tt<K;tt++)J[tt]=N[tt];return J}return[]}function l(N,K){for(let J=1;J<arguments.length;J++){const tt=arguments[J];if(t(tt)){const at=N.length||0,ct=tt.length||0;N.length=at+ct;for(let Tt=0;Tt<ct;Tt++)N[at+Tt]=tt[Tt]}else N.push(tt)}}class s{constructor(K,J){this.i=K,this.j=J,this.h=0,this.g=null}get(){let K;return 0<this.h?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function u(N){return/^[\s\xa0]*$/.test(N)}function d(){var N=S.navigator;return N&&(N=N.userAgent)?N:""}function c(N){return c[" "](N),N}c[" "]=function(){};var v=d().indexOf("Gecko")!=-1&&!(d().toLowerCase().indexOf("webkit")!=-1&&d().indexOf("Edge")==-1)&&!(d().indexOf("Trident")!=-1||d().indexOf("MSIE")!=-1)&&d().indexOf("Edge")==-1;function x(N,K,J){for(const tt in N)K.call(J,N[tt],tt,N)}function y(N,K){for(const J in N)K.call(void 0,N[J],J,N)}function T(N){const K={};for(const J in N)K[J]=N[J];return K}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(N,K){let J,tt;for(let at=1;at<arguments.length;at++){tt=arguments[at];for(J in tt)N[J]=tt[J];for(let ct=0;ct<E.length;ct++)J=E[ct],Object.prototype.hasOwnProperty.call(tt,J)&&(N[J]=tt[J])}}function P(N){var K=1;N=N.split(":");const J=[];for(;0<K&&N.length;)J.push(N.shift()),K--;return N.length&&J.push(N.join(":")),J}function w(N){S.setTimeout(()=>{throw N},0)}function I(){var N=U;let K=null;return N.g&&(K=N.g,N.g=N.g.next,N.g||(N.h=null),K.next=null),K}class O{constructor(){this.h=this.g=null}add(K,J){const tt=F.get();tt.set(K,J),this.h?this.h.next=tt:this.g=tt,this.h=tt}}var F=new s(()=>new L,N=>N.reset());class L{constructor(){this.next=this.g=this.h=null}set(K,J){this.h=K,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let D,b=!1,U=new O,W=()=>{const N=S.Promise.resolve(void 0);D=()=>{N.then(H)}};var H=()=>{for(var N;N=I();){try{N.h.call(N.g)}catch(J){w(J)}var K=F;K.j(N),100>K.h&&(K.h++,N.next=K.g,K.g=N)}b=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(N,K){this.type=N,this.g=this.target=K,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var N=!1,K=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const J=()=>{};S.addEventListener("test",J,K),S.removeEventListener("test",J,K)}catch{}return N}();function V(N,K){if(G.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N){var J=this.type=N.type,tt=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;if(this.target=N.target||N.srcElement,this.g=K,K=N.relatedTarget){if(v){t:{try{c(K.nodeName);var at=!0;break t}catch{}at=!1}at||(K=null)}}else J=="mouseover"?K=N.fromElement:J=="mouseout"&&(K=N.toElement);this.relatedTarget=K,tt?(this.clientX=tt.clientX!==void 0?tt.clientX:tt.pageX,this.clientY=tt.clientY!==void 0?tt.clientY:tt.pageY,this.screenX=tt.screenX||0,this.screenY=tt.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=typeof N.pointerType=="string"?N.pointerType:B[N.pointerType]||"",this.state=N.state,this.i=N,N.defaultPrevented&&V.aa.h.call(this)}}i(V,G);var B={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),$=0;function j(N,K,J,tt,at){this.listener=N,this.proxy=null,this.src=K,this.type=J,this.capture=!!tt,this.ha=at,this.key=++$,this.da=this.fa=!1}function k(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function q(N){this.src=N,this.g={},this.h=0}q.prototype.add=function(N,K,J,tt,at){var ct=N.toString();N=this.g[ct],N||(N=this.g[ct]=[],this.h++);var Tt=Z(N,K,tt,at);return-1<Tt?(K=N[Tt],J||(K.fa=!1)):(K=new j(K,this.src,ct,!!tt,at),K.fa=J,N.push(K)),K};function Q(N,K){var J=K.type;if(J in N.g){var tt=N.g[J],at=Array.prototype.indexOf.call(tt,K,void 0),ct;(ct=0<=at)&&Array.prototype.splice.call(tt,at,1),ct&&(k(K),N.g[J].length==0&&(delete N.g[J],N.h--))}}function Z(N,K,J,tt){for(var at=0;at<N.length;++at){var ct=N[at];if(!ct.da&&ct.listener==K&&ct.capture==!!J&&ct.ha==tt)return at}return-1}var _="closure_lm_"+(1e6*Math.random()|0),et={};function it(N,K,J,tt,at){if(Array.isArray(K)){for(var ct=0;ct<K.length;ct++)it(N,K[ct],J,tt,at);return null}return J=xt(J),N&&N[z]?N.K(K,J,h(tt)?!!tt.capture:!1,at):st(N,K,J,!1,tt,at)}function st(N,K,J,tt,at,ct){if(!K)throw Error("Invalid event type");var Tt=h(at)?!!at.capture:!!at,ue=ht(N);if(ue||(N[_]=ue=new q(N)),J=ue.add(K,J,tt,Tt,ct),J.proxy)return J;if(tt=nt(),J.proxy=tt,tt.src=N,tt.listener=J,N.addEventListener)X||(at=Tt),at===void 0&&(at=!1),N.addEventListener(K.toString(),tt,at);else if(N.attachEvent)N.attachEvent(ot(K.toString()),tt);else if(N.addListener&&N.removeListener)N.addListener(tt);else throw Error("addEventListener and attachEvent are unavailable.");return J}function nt(){function N(J){return K.call(N.src,N.listener,J)}const K=rt;return N}function lt(N,K,J,tt,at){if(Array.isArray(K))for(var ct=0;ct<K.length;ct++)lt(N,K[ct],J,tt,at);else tt=h(tt)?!!tt.capture:!!tt,J=xt(J),N&&N[z]?(N=N.i,K=String(K).toString(),K in N.g&&(ct=N.g[K],J=Z(ct,J,tt,at),-1<J&&(k(ct[J]),Array.prototype.splice.call(ct,J,1),ct.length==0&&(delete N.g[K],N.h--)))):N&&(N=ht(N))&&(K=N.g[K.toString()],N=-1,K&&(N=Z(K,J,tt,at)),(J=-1<N?K[N]:null)&&ut(J))}function ut(N){if(typeof N!="number"&&N&&!N.da){var K=N.src;if(K&&K[z])Q(K.i,N);else{var J=N.type,tt=N.proxy;K.removeEventListener?K.removeEventListener(J,tt,N.capture):K.detachEvent?K.detachEvent(ot(J),tt):K.addListener&&K.removeListener&&K.removeListener(tt),(J=ht(K))?(Q(J,N),J.h==0&&(J.src=null,K[_]=null)):k(N)}}}function ot(N){return N in et?et[N]:et[N]="on"+N}function rt(N,K){if(N.da)N=!0;else{K=new V(K,this);var J=N.listener,tt=N.ha||N.src;N.fa&&ut(N),N=J.call(tt,K)}return N}function ht(N){return N=N[_],N instanceof q?N:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(N){return typeof N=="function"?N:(N[dt]||(N[dt]=function(K){return N.handleEvent(K)}),N[dt])}function yt(){Y.call(this),this.i=new q(this),this.M=this,this.F=null}i(yt,Y),yt.prototype[z]=!0,yt.prototype.removeEventListener=function(N,K,J,tt){lt(this,N,K,J,tt)};function Ct(N,K){var J,tt=N.F;if(tt)for(J=[];tt;tt=tt.F)J.push(tt);if(N=N.M,tt=K.type||K,typeof K=="string")K=new G(K,N);else if(K instanceof G)K.target=K.target||N;else{var at=K;K=new G(tt,N),A(K,at)}if(at=!0,J)for(var ct=J.length-1;0<=ct;ct--){var Tt=K.g=J[ct];at=St(Tt,tt,!0,K)&&at}if(Tt=K.g=N,at=St(Tt,tt,!0,K)&&at,at=St(Tt,tt,!1,K)&&at,J)for(ct=0;ct<J.length;ct++)Tt=K.g=J[ct],at=St(Tt,tt,!1,K)&&at}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var N=this.i,K;for(K in N.g){for(var J=N.g[K],tt=0;tt<J.length;tt++)k(J[tt]);delete N.g[K],N.h--}}this.F=null},yt.prototype.K=function(N,K,J,tt){return this.i.add(String(N),K,!1,J,tt)},yt.prototype.L=function(N,K,J,tt){return this.i.add(String(N),K,!0,J,tt)};function St(N,K,J,tt){if(K=N.i.g[String(K)],!K)return!0;K=K.concat();for(var at=!0,ct=0;ct<K.length;++ct){var Tt=K[ct];if(Tt&&!Tt.da&&Tt.capture==J){var ue=Tt.listener,Ne=Tt.ha||Tt.src;Tt.fa&&Q(N.i,Tt),at=ue.call(Ne,tt)!==!1&&at}}return at&&!tt.defaultPrevented}function It(N,K,J){if(typeof N=="function")J&&(N=a(N,J));else if(N&&typeof N.handleEvent=="function")N=a(N.handleEvent,N);else throw Error("Invalid listener argument");return 2147483647<Number(K)?-1:S.setTimeout(N,K||0)}function zt(N){N.g=It(()=>{N.g=null,N.i&&(N.i=!1,zt(N))},N.l);const K=N.h;N.h=null,N.m.apply(null,K)}class qt extends Y{constructor(K,J){super(),this.m=K,this.l=J,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(N){Y.call(this),this.h=N,this.g={}}i(Nt,Y);var Jt=[];function oe(N){x(N.g,function(K,J){this.g.hasOwnProperty(J)&&ut(K)},N),N.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),oe(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=S.JSON.stringify,Se=S.JSON.parse,gi=class{stringify(N){return S.JSON.stringify(N,void 0)}parse(N){return S.JSON.parse(N,void 0)}};function Ai(){}Ai.prototype.h=null;function Vi(N){return N.h||(N.h=N.i())}function Gi(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jh(){G.call(this,"d")}i(jh,G);function Qh(){G.call(this,"c")}i(Qh,G);var nn={},ad=null;function Ua(){return ad=ad||new yt}nn.La="serverreachability";function od(N){G.call(this,nn.La,N)}i(od,G);function Rr(N){const K=Ua();Ct(K,new od(K))}nn.STAT_EVENT="statevent";function hd(N,K){G.call(this,nn.STAT_EVENT,N),this.stat=K}i(hd,G);function qe(N){const K=Ua();Ct(K,new hd(K,N))}nn.Ma="timingevent";function ld(N,K){G.call(this,nn.Ma,N),this.size=K}i(ld,G);function wr(N,K){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){N()},K)}function Mr(){this.g=!0}Mr.prototype.xa=function(){this.g=!1};function iy(N,K,J,tt,at,ct){N.info(function(){if(N.g)if(ct)for(var Tt="",ue=ct.split("&"),Ne=0;Ne<ue.length;Ne++){var _t=ue[Ne].split("=");if(1<_t.length){var Xe=_t[0];_t=_t[1];var We=Xe.split("_");Tt=2<=We.length&&We[1]=="type"?Tt+(Xe+"="+_t+"&"):Tt+(Xe+"=redacted&")}}else Tt=null;else Tt=ct;return"XMLHTTP REQ ("+tt+") [attempt "+at+"]: "+K+`
`+J+`
`+Tt})}function sy(N,K,J,tt,at,ct,Tt){N.info(function(){return"XMLHTTP RESP ("+tt+") [ attempt "+at+"]: "+K+`
`+J+`
`+ct+" "+Tt})}function Gn(N,K,J,tt){N.info(function(){return"XMLHTTP TEXT ("+K+"): "+ry(N,J)+(tt?" "+tt:"")})}function ny(N,K){N.info(function(){return"TIMEOUT: "+K})}Mr.prototype.info=function(){};function ry(N,K){if(!N.g)return K;if(!K)return null;try{var J=JSON.parse(K);if(J){for(N=0;N<J.length;N++)if(Array.isArray(J[N])){var tt=J[N];if(!(2>tt.length)){var at=tt[1];if(Array.isArray(at)&&!(1>at.length)){var ct=at[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var Tt=1;Tt<at.length;Tt++)at[Tt]=""}}}}return jt(J)}catch{return K}}var za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ud={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jh;function Xa(){}i(Xa,Ai),Xa.prototype.g=function(){return new XMLHttpRequest},Xa.prototype.i=function(){return{}},Jh=new Xa;function Rs(N,K,J,tt){this.j=N,this.i=K,this.l=J,this.R=tt||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fd}function fd(){this.i=null,this.g="",this.h=!1}var dd={},kh={};function Zh(N,K,J){N.L=1,N.v=Ka(ts(K)),N.m=J,N.P=!0,cd(N,null)}function cd(N,K){N.F=Date.now(),Wa(N),N.A=ts(N.v);var J=N.A,tt=N.R;Array.isArray(tt)||(tt=[String(tt)]),wd(J.i,"t",tt),N.C=0,J=N.j.J,N.h=new fd,N.g=Kd(N.j,J?K:null,!N.m),0<N.O&&(N.M=new qt(a(N.Y,N,N.g),N.O)),K=N.U,J=N.g,tt=N.ca;var at="readystatechange";Array.isArray(at)||(at&&(Jt[0]=at.toString()),at=Jt);for(var ct=0;ct<at.length;ct++){var Tt=it(J,at[ct],tt||K.handleEvent,!1,K.h||K);if(!Tt)break;K.g[Tt.key]=Tt}K=N.H?T(N.H):{},N.m?(N.u||(N.u="POST"),K["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.A,N.u,N.m,K)):(N.u="GET",N.g.ea(N.A,N.u,null,K)),Rr(),iy(N.i,N.u,N.A,N.l,N.R,N.m)}Rs.prototype.ca=function(N){N=N.target;const K=this.M;K&&es(N)==3?K.j():this.Y(N)},Rs.prototype.Y=function(N){try{if(N==this.g)t:{const We=es(this.g);var K=this.g.Ba();const Xn=this.g.Z();if(!(3>We)&&(We!=3||this.g&&(this.h.h||this.g.oa()||Nd(this.g)))){this.J||We!=4||K==7||(K==8||0>=Xn?Rr(3):Rr(2)),qh(this);var J=this.g.Z();this.X=J;e:if(vd(this)){var tt=Nd(this.g);N="";var at=tt.length,ct=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Ir(this);var Tt="";break e}this.h.i=new S.TextDecoder}for(K=0;K<at;K++)this.h.h=!0,N+=this.h.i.decode(tt[K],{stream:!(ct&&K==at-1)});tt.length=0,this.h.g+=N,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=J==200,sy(this.i,this.u,this.A,this.l,this.R,We,J),this.o){if(this.T&&!this.K){e:{if(this.g){var ue,Ne=this.g;if((ue=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u(ue)){var _t=ue;break e}}_t=null}if(J=_t)Gn(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_h(this,J);else{this.o=!1,this.s=3,qe(12),rn(this),Ir(this);break t}}if(this.P){J=!0;let Pi;for(;!this.J&&this.C<Tt.length;)if(Pi=ay(this,Tt),Pi==kh){We==4&&(this.s=4,qe(14),J=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Pi==dd){this.s=4,qe(15),Gn(this.i,this.l,Tt,"[Invalid Chunk]"),J=!1;break}else Gn(this.i,this.l,Pi,null),_h(this,Pi);if(vd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||Tt.length!=0||this.h.h||(this.s=1,qe(16),J=!1),this.o=this.o&&J,!J)Gn(this.i,this.l,Tt,"[Invalid Chunked Response]"),rn(this),Ir(this);else if(0<Tt.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),rl(Xe),Xe.M=!0,qe(11))}}else Gn(this.i,this.l,Tt,null),_h(this,Tt);We==4&&rn(this),this.o&&!this.J&&(We==4?Xd(this.j,this):(this.o=!1,Wa(this)))}else Cy(this.g),J==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),rn(this),Ir(this)}}}catch{}finally{}};function vd(N){return N.g?N.u=="GET"&&N.L!=2&&N.j.Ca:!1}function ay(N,K){var J=N.C,tt=K.indexOf(`
`,J);return tt==-1?kh:(J=Number(K.substring(J,tt)),isNaN(J)?dd:(tt+=1,tt+J>K.length?kh:(K=K.slice(tt,tt+J),N.C=tt+J,K)))}Rs.prototype.cancel=function(){this.J=!0,rn(this)};function Wa(N){N.S=Date.now()+N.I,pd(N,N.I)}function pd(N,K){if(N.B!=null)throw Error("WatchDog timer not null");N.B=wr(a(N.ba,N),K)}function qh(N){N.B&&(S.clearTimeout(N.B),N.B=null)}Rs.prototype.ba=function(){this.B=null;const N=Date.now();0<=N-this.S?(ny(this.i,this.A),this.L!=2&&(Rr(),qe(17)),rn(this),this.s=2,Ir(this)):pd(this,this.S-N)};function Ir(N){N.j.G==0||N.J||Xd(N.j,N)}function rn(N){qh(N);var K=N.M;K&&typeof K.ma=="function"&&K.ma(),N.M=null,oe(N.U),N.g&&(K=N.g,N.g=null,K.abort(),K.ma())}function _h(N,K){try{var J=N.j;if(J.G!=0&&(J.g==N||tl(J.h,N))){if(!N.K&&tl(J.h,N)&&J.G==3){try{var tt=J.Da.g.parse(K)}catch{tt=null}if(Array.isArray(tt)&&tt.length==3){var at=tt;if(at[0]==0){t:if(!J.u){if(J.g)if(J.g.F+3e3<N.F)Za(J),Ja(J);else break t;nl(J),qe(18)}}else J.za=at[1],0<J.za-J.T&&37500>at[2]&&J.F&&J.v==0&&!J.C&&(J.C=wr(a(J.Za,J),6e3));if(1>=xd(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else on(J,11)}else if((N.K||J.g==N)&&Za(J),!u(K))for(at=J.Da.g.parse(K),K=0;K<at.length;K++){let _t=at[K];if(J.T=_t[0],_t=_t[1],J.G==2)if(_t[0]=="c"){J.K=_t[1],J.ia=_t[2];const Xe=_t[3];Xe!=null&&(J.la=Xe,J.j.info("VER="+J.la));const We=_t[4];We!=null&&(J.Aa=We,J.j.info("SVER="+J.Aa));const Xn=_t[5];Xn!=null&&typeof Xn=="number"&&0<Xn&&(tt=1.5*Xn,J.L=tt,J.j.info("backChannelRequestTimeoutMs_="+tt)),tt=J;const Pi=N.g;if(Pi){const _a=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var ct=tt.h;ct.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(el(ct,ct.h),ct.h=null))}if(tt.D){const al=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(tt.ya=al,ve(tt.I,tt.D,al))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-N.F,J.j.info("Handshake RTT: "+J.R+"ms")),tt=J;var Tt=N;if(tt.qa=Hd(tt,tt.J?tt.ia:null,tt.W),Tt.K){yd(tt.h,Tt);var ue=Tt,Ne=tt.L;Ne&&(ue.I=Ne),ue.B&&(qh(ue),Wa(ue)),tt.g=Tt}else Ud(tt);0<J.i.length&&ka(J)}else _t[0]!="stop"&&_t[0]!="close"||on(J,7);else J.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?on(J,7):sl(J):_t[0]!="noop"&&J.l&&J.l.ta(_t),J.v=0)}}Rr(4)}catch{}}var oy=class{constructor(N,K){this.g=N,this.map=K}};function md(N){this.l=N||10,S.PerformanceNavigationTiming?(N=S.performance.getEntriesByType("navigation"),N=0<N.length&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gd(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function xd(N){return N.h?1:N.g?N.g.size:0}function tl(N,K){return N.h?N.h==K:N.g?N.g.has(K):!1}function el(N,K){N.g?N.g.add(K):N.h=K}function yd(N,K){N.h&&N.h==K?N.h=null:N.g&&N.g.has(K)&&N.g.delete(K)}md.prototype.cancel=function(){if(this.i=Td(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function Td(N){if(N.h!=null)return N.i.concat(N.h.D);if(N.g!=null&&N.g.size!==0){let K=N.i;for(const J of N.g.values())K=K.concat(J.D);return K}return n(N.i)}function hy(N){if(N.V&&typeof N.V=="function")return N.V();if(typeof Map<"u"&&N instanceof Map||typeof Set<"u"&&N instanceof Set)return Array.from(N.values());if(typeof N=="string")return N.split("");if(t(N)){for(var K=[],J=N.length,tt=0;tt<J;tt++)K.push(N[tt]);return K}K=[],J=0;for(tt in N)K[J++]=N[tt];return K}function ly(N){if(N.na&&typeof N.na=="function")return N.na();if(!N.V||typeof N.V!="function"){if(typeof Map<"u"&&N instanceof Map)return Array.from(N.keys());if(!(typeof Set<"u"&&N instanceof Set)){if(t(N)||typeof N=="string"){var K=[];N=N.length;for(var J=0;J<N;J++)K.push(J);return K}K=[],J=0;for(const tt in N)K[J++]=tt;return K}}}function Ed(N,K){if(N.forEach&&typeof N.forEach=="function")N.forEach(K,void 0);else if(t(N)||typeof N=="string")Array.prototype.forEach.call(N,K,void 0);else for(var J=ly(N),tt=hy(N),at=tt.length,ct=0;ct<at;ct++)K.call(void 0,tt[ct],J&&J[ct],N)}var Sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uy(N,K){if(N){N=N.split("&");for(var J=0;J<N.length;J++){var tt=N[J].indexOf("="),at=null;if(0<=tt){var ct=N[J].substring(0,tt);at=N[J].substring(tt+1)}else ct=N[J];K(ct,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}function an(N){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,N instanceof an){this.h=N.h,Ya(this,N.j),this.o=N.o,this.g=N.g,Ha(this,N.s),this.l=N.l;var K=N.i,J=new Or;J.i=K.i,K.g&&(J.g=new Map(K.g),J.h=K.h),Cd(this,J),this.m=N.m}else N&&(K=String(N).match(Sd))?(this.h=!1,Ya(this,K[1]||"",!0),this.o=Lr(K[2]||""),this.g=Lr(K[3]||"",!0),Ha(this,K[4]),this.l=Lr(K[5]||"",!0),Cd(this,K[6]||"",!0),this.m=Lr(K[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}an.prototype.toString=function(){var N=[],K=this.j;K&&N.push(Fr(K,Ad,!0),":");var J=this.g;return(J||K=="file")&&(N.push("//"),(K=this.o)&&N.push(Fr(K,Ad,!0),"@"),N.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J=this.s,J!=null&&N.push(":",String(J))),(J=this.l)&&(this.g&&J.charAt(0)!="/"&&N.push("/"),N.push(Fr(J,J.charAt(0)=="/"?cy:dy,!0))),(J=this.i.toString())&&N.push("?",J),(J=this.m)&&N.push("#",Fr(J,py)),N.join("")};function ts(N){return new an(N)}function Ya(N,K,J){N.j=J?Lr(K,!0):K,N.j&&(N.j=N.j.replace(/:$/,""))}function Ha(N,K){if(K){if(K=Number(K),isNaN(K)||0>K)throw Error("Bad port number "+K);N.s=K}else N.s=null}function Cd(N,K,J){K instanceof Or?(N.i=K,my(N.i,N.h)):(J||(K=Fr(K,vy)),N.i=new Or(K,N.h))}function ve(N,K,J){N.i.set(K,J)}function Ka(N){return ve(N,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),N}function Lr(N,K){return N?K?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function Fr(N,K,J){return typeof N=="string"?(N=encodeURI(N).replace(K,fy),J&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function fy(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var Ad=/[#\/\?@]/g,dy=/[#\?:]/g,cy=/[#\?]/g,vy=/[#\?@]/g,py=/#/g;function Or(N,K){this.h=this.g=null,this.i=N||null,this.j=!!K}function ws(N){N.g||(N.g=new Map,N.h=0,N.i&&uy(N.i,function(K,J){N.add(decodeURIComponent(K.replace(/\+/g," ")),J)}))}p=Or.prototype,p.add=function(N,K){ws(this),this.i=null,N=Un(this,N);var J=this.g.get(N);return J||this.g.set(N,J=[]),J.push(K),this.h+=1,this};function Pd(N,K){ws(N),K=Un(N,K),N.g.has(K)&&(N.i=null,N.h-=N.g.get(K).length,N.g.delete(K))}function Rd(N,K){return ws(N),K=Un(N,K),N.g.has(K)}p.forEach=function(N,K){ws(this),this.g.forEach(function(J,tt){J.forEach(function(at){N.call(K,at,tt,this)},this)},this)},p.na=function(){ws(this);const N=Array.from(this.g.values()),K=Array.from(this.g.keys()),J=[];for(let tt=0;tt<K.length;tt++){const at=N[tt];for(let ct=0;ct<at.length;ct++)J.push(K[tt])}return J},p.V=function(N){ws(this);let K=[];if(typeof N=="string")Rd(this,N)&&(K=K.concat(this.g.get(Un(this,N))));else{N=Array.from(this.g.values());for(let J=0;J<N.length;J++)K=K.concat(N[J])}return K},p.set=function(N,K){return ws(this),this.i=null,N=Un(this,N),Rd(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[K]),this.h+=1,this},p.get=function(N,K){return N?(N=this.V(N),0<N.length?String(N[0]):K):K};function wd(N,K,J){Pd(N,K),0<J.length&&(N.i=null,N.g.set(Un(N,K),n(J)),N.h+=J.length)}p.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],K=Array.from(this.g.keys());for(var J=0;J<K.length;J++){var tt=K[J];const ct=encodeURIComponent(String(tt)),Tt=this.V(tt);for(tt=0;tt<Tt.length;tt++){var at=ct;Tt[tt]!==""&&(at+="="+encodeURIComponent(String(Tt[tt]))),N.push(at)}}return this.i=N.join("&")};function Un(N,K){return K=String(K),N.j&&(K=K.toLowerCase()),K}function my(N,K){K&&!N.j&&(ws(N),N.i=null,N.g.forEach(function(J,tt){var at=tt.toLowerCase();tt!=at&&(Pd(this,tt),wd(this,at,J))},N)),N.j=K}function gy(N,K){const J=new Mr;if(S.Image){const tt=new Image;tt.onload=r(Ms,J,"TestLoadImage: loaded",!0,K,tt),tt.onerror=r(Ms,J,"TestLoadImage: error",!1,K,tt),tt.onabort=r(Ms,J,"TestLoadImage: abort",!1,K,tt),tt.ontimeout=r(Ms,J,"TestLoadImage: timeout",!1,K,tt),S.setTimeout(function(){tt.ontimeout&&tt.ontimeout()},1e4),tt.src=N}else K(!1)}function xy(N,K){const J=new Mr,tt=new AbortController,at=setTimeout(()=>{tt.abort(),Ms(J,"TestPingServer: timeout",!1,K)},1e4);fetch(N,{signal:tt.signal}).then(ct=>{clearTimeout(at),ct.ok?Ms(J,"TestPingServer: ok",!0,K):Ms(J,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout(at),Ms(J,"TestPingServer: error",!1,K)})}function Ms(N,K,J,tt,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),tt(J)}catch{}}function yy(){this.g=new gi}function Ty(N,K,J){const tt=J||"";try{Ed(N,function(at,ct){let Tt=at;h(at)&&(Tt=jt(at)),K.push(tt+ct+"="+encodeURIComponent(Tt))})}catch(at){throw K.push(tt+"type="+encodeURIComponent("_badmap")),at}}function $a(N){this.l=N.Ub||null,this.j=N.eb||!1}i($a,Ai),$a.prototype.g=function(){return new ja(this.l,this.j)},$a.prototype.i=function(N){return function(){return N}}({});function ja(N,K){yt.call(this),this.D=N,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}i(ja,yt),p=ja.prototype,p.open=function(N,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=N,this.A=K,this.readyState=1,Nr(this)},p.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const K={headers:this.u,method:this.B,credentials:this.m,cache:void 0};N&&(K.body=N),(this.D||S).fetch(new Request(this.A,K)).then(this.Sa.bind(this),this.ga.bind(this))},p.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},p.Sa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Md(this)}else N.text().then(this.Ra.bind(this),this.ga.bind(this))};function Md(N){N.j.read().then(N.Pa.bind(N)).catch(N.ga.bind(N))}p.Pa=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var K=N.value?N.value:new Uint8Array(0);(K=this.v.decode(K,{stream:!N.done}))&&(this.response=this.responseText+=K)}N.done?Dr(this):Nr(this),this.readyState==3&&Md(this)}},p.Ra=function(N){this.g&&(this.response=this.responseText=N,Dr(this))},p.Qa=function(N){this.g&&(this.response=N,Dr(this))},p.ga=function(){this.g&&Dr(this)};function Dr(N){N.readyState=4,N.l=null,N.j=null,N.v=null,Nr(N)}p.setRequestHeader=function(N,K){this.u.append(N,K)},p.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},p.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],K=this.h.entries();for(var J=K.next();!J.done;)J=J.value,N.push(J[0]+": "+J[1]),J=K.next();return N.join(`\r
`)};function Nr(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function Id(N){let K="";return x(N,function(J,tt){K+=tt,K+=":",K+=J,K+=`\r
`}),K}function il(N,K,J){t:{for(tt in J){var tt=!1;break t}tt=!0}tt||(J=Id(J),typeof N=="string"?J!=null&&encodeURIComponent(String(J)):ve(N,K,J))}function ye(N){yt.call(this),this.headers=new Map,this.o=N||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}i(ye,yt);var Ey=/^https?$/i,Sy=["POST","PUT"];p=ye.prototype,p.Ha=function(N){this.J=N},p.ea=function(N,K,J,tt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);K=K?K.toUpperCase():"GET",this.D=N,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jh.g(),this.v=this.o?Vi(this.o):Vi(Jh),this.g.onreadystatechange=a(this.Ea,this);try{this.B=!0,this.g.open(K,String(N),!0),this.B=!1}catch(ct){Ld(this,ct);return}if(N=J||"",J=new Map(this.headers),tt)if(Object.getPrototypeOf(tt)===Object.prototype)for(var at in tt)J.set(at,tt[at]);else if(typeof tt.keys=="function"&&typeof tt.get=="function")for(const ct of tt.keys())J.set(ct,tt.get(ct));else throw Error("Unknown input type for opt_headers: "+String(tt));tt=Array.from(J.keys()).find(ct=>ct.toLowerCase()=="content-type"),at=S.FormData&&N instanceof S.FormData,!(0<=Array.prototype.indexOf.call(Sy,K,void 0))||tt||at||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,Tt]of J)this.g.setRequestHeader(ct,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dd(this),this.u=!0,this.g.send(N),this.u=!1}catch(ct){Ld(this,ct)}};function Ld(N,K){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=K,N.m=5,Fd(N),Qa(N)}function Fd(N){N.A||(N.A=!0,Ct(N,"complete"),Ct(N,"error"))}p.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=N||7,Ct(this,"complete"),Ct(this,"abort"),Qa(this))},p.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qa(this,!0)),ye.aa.N.call(this)},p.Ea=function(){this.s||(this.B||this.u||this.j?Od(this):this.bb())},p.bb=function(){Od(this)};function Od(N){if(N.h&&typeof f<"u"&&(!N.v[1]||es(N)!=4||N.Z()!=2)){if(N.u&&es(N)==4)It(N.Ea,0,N);else if(Ct(N,"readystatechange"),es(N)==4){N.h=!1;try{const Tt=N.Z();t:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break t;default:K=!1}var J;if(!(J=K)){var tt;if(tt=Tt===0){var at=String(N.D).match(Sd)[1]||null;!at&&S.self&&S.self.location&&(at=S.self.location.protocol.slice(0,-1)),tt=!Ey.test(at?at.toLowerCase():"")}J=tt}if(J)Ct(N,"complete"),Ct(N,"success");else{N.m=6;try{var ct=2<es(N)?N.g.statusText:""}catch{ct=""}N.l=ct+" ["+N.Z()+"]",Fd(N)}}finally{Qa(N)}}}}function Qa(N,K){if(N.g){Dd(N);const J=N.g,tt=N.v[0]?()=>{}:null;N.g=null,N.v=null,K||Ct(N,"ready");try{J.onreadystatechange=tt}catch{}}}function Dd(N){N.I&&(S.clearTimeout(N.I),N.I=null)}p.isActive=function(){return!!this.g};function es(N){return N.g?N.g.readyState:0}p.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},p.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},p.Oa=function(N){if(this.g){var K=this.g.responseText;return N&&K.indexOf(N)==0&&(K=K.substring(N.length)),Se(K)}};function Nd(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.H){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function Cy(N){const K={};N=(N.g&&2<=es(N)&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let tt=0;tt<N.length;tt++){if(u(N[tt]))continue;var J=P(N[tt]);const at=J[0];if(J=J[1],typeof J!="string")continue;J=J.trim();const ct=K[at]||[];K[at]=ct,ct.push(J)}y(K,function(tt){return tt.join(", ")})}p.Ba=function(){return this.m},p.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(N,K,J){return J&&J.internalChannelParams&&J.internalChannelParams[N]||K}function bd(N){this.Aa=0,this.i=[],this.j=new Mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,N),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,N),this.cb=br("retryDelaySeedMs",1e4,N),this.Wa=br("forwardChannelMaxRetries",2,N),this.wa=br("forwardChannelRequestTimeoutMs",2e4,N),this.pa=N&&N.xmlHttpFactory||void 0,this.Xa=N&&N.Tb||void 0,this.Ca=N&&N.useFetchStreams||!1,this.L=void 0,this.J=N&&N.supportsCrossDomainXhr||!1,this.K="",this.h=new md(N&&N.concurrentRequestLimit),this.Da=new yy,this.P=N&&N.fastHandshake||!1,this.O=N&&N.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=N&&N.Rb||!1,N&&N.xa&&this.j.xa(),N&&N.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&N&&N.detectBufferingProxy||!1,this.ja=void 0,N&&N.longPollingTimeout&&0<N.longPollingTimeout&&(this.ja=N.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}p=bd.prototype,p.la=8,p.G=1,p.connect=function(N,K,J,tt){qe(0),this.W=N,this.H=K||{},J&&tt!==void 0&&(this.H.OSID=J,this.H.OAID=tt),this.F=this.X,this.I=Hd(this,null,this.W),ka(this)};function sl(N){if(Bd(N),N.G==3){var K=N.U++,J=ts(N.I);if(ve(J,"SID",N.K),ve(J,"RID",K),ve(J,"TYPE","terminate"),Br(N,J),K=new Rs(N,N.j,K),K.L=2,K.v=Ka(ts(J)),J=!1,S.navigator&&S.navigator.sendBeacon)try{J=S.navigator.sendBeacon(K.v.toString(),"")}catch{}!J&&S.Image&&(new Image().src=K.v,J=!0),J||(K.g=Kd(K.j,null),K.g.ea(K.v)),K.F=Date.now(),Wa(K)}Yd(N)}function Ja(N){N.g&&(rl(N),N.g.cancel(),N.g=null)}function Bd(N){Ja(N),N.u&&(S.clearTimeout(N.u),N.u=null),Za(N),N.h.cancel(),N.s&&(typeof N.s=="number"&&S.clearTimeout(N.s),N.s=null)}function ka(N){if(!gd(N.h)&&!N.s){N.s=!0;var K=N.Ga;D||W(),b||(D(),b=!0),U.add(K,N),N.B=0}}function Ay(N,K){return xd(N.h)>=N.h.j-(N.s?1:0)?!1:N.s?(N.i=K.D.concat(N.i),!0):N.G==1||N.G==2||N.B>=(N.Va?0:N.Wa)?!1:(N.s=wr(a(N.Ga,N,K),Wd(N,N.B)),N.B++,!0)}p.Ga=function(N){if(this.s)if(this.s=null,this.G==1){if(!N){this.U=Math.floor(1e5*Math.random()),N=this.U++;const at=new Rs(this,this.j,N);let ct=this.o;if(this.S&&(ct?(ct=T(ct),A(ct,this.S)):ct=this.S),this.m!==null||this.O||(at.H=ct,ct=null),this.P)t:{for(var K=0,J=0;J<this.i.length;J++){e:{var tt=this.i[J];if("__data__"in tt.map&&(tt=tt.map.__data__,typeof tt=="string")){tt=tt.length;break e}tt=void 0}if(tt===void 0)break;if(K+=tt,4096<K){K=J;break t}if(K===4096||J===this.i.length-1){K=J+1;break t}}K=1e3}else K=1e3;K=Gd(this,at,K),J=ts(this.I),ve(J,"RID",N),ve(J,"CVER",22),this.D&&ve(J,"X-HTTP-Session-Id",this.D),Br(this,J),ct&&(this.O?K="headers="+encodeURIComponent(String(Id(ct)))+"&"+K:this.m&&il(J,this.m,ct)),el(this.h,at),this.Ua&&ve(J,"TYPE","init"),this.P?(ve(J,"$req",K),ve(J,"SID","null"),at.T=!0,Zh(at,J,null)):Zh(at,J,K),this.G=2}}else this.G==3&&(N?Vd(this,N):this.i.length==0||gd(this.h)||Vd(this))};function Vd(N,K){var J;K?J=K.l:J=N.U++;const tt=ts(N.I);ve(tt,"SID",N.K),ve(tt,"RID",J),ve(tt,"AID",N.T),Br(N,tt),N.m&&N.o&&il(tt,N.m,N.o),J=new Rs(N,N.j,J,N.B+1),N.m===null&&(J.H=N.o),K&&(N.i=K.D.concat(N.i)),K=Gd(N,J,1e3),J.I=Math.round(.5*N.wa)+Math.round(.5*N.wa*Math.random()),el(N.h,J),Zh(J,tt,K)}function Br(N,K){N.H&&x(N.H,function(J,tt){ve(K,tt,J)}),N.l&&Ed({},function(J,tt){ve(K,tt,J)})}function Gd(N,K,J){J=Math.min(N.i.length,J);var tt=N.l?a(N.l.Na,N.l,N):null;t:{var at=N.i;let ct=-1;for(;;){const Tt=["count="+J];ct==-1?0<J?(ct=at[0].g,Tt.push("ofs="+ct)):ct=0:Tt.push("ofs="+ct);let ue=!0;for(let Ne=0;Ne<J;Ne++){let _t=at[Ne].g;const Xe=at[Ne].map;if(_t-=ct,0>_t)ct=Math.max(0,at[Ne].g-100),ue=!1;else try{Ty(Xe,Tt,"req"+_t+"_")}catch{tt&&tt(Xe)}}if(ue){tt=Tt.join("&");break t}}}return N=N.i.splice(0,J),K.D=N,tt}function Ud(N){if(!N.g&&!N.u){N.Y=1;var K=N.Fa;D||W(),b||(D(),b=!0),U.add(K,N),N.v=0}}function nl(N){return N.g||N.u||3<=N.v?!1:(N.Y++,N.u=wr(a(N.Fa,N),Wd(N,N.v)),N.v++,!0)}p.Fa=function(){if(this.u=null,zd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var N=2*this.R;this.j.info("BP detection timer enabled: "+N),this.A=wr(a(this.ab,this),N)}},p.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),Ja(this),zd(this))};function rl(N){N.A!=null&&(S.clearTimeout(N.A),N.A=null)}function zd(N){N.g=new Rs(N,N.j,"rpc",N.Y),N.m===null&&(N.g.H=N.o),N.g.O=0;var K=ts(N.qa);ve(K,"RID","rpc"),ve(K,"SID",N.K),ve(K,"AID",N.T),ve(K,"CI",N.F?"0":"1"),!N.F&&N.ja&&ve(K,"TO",N.ja),ve(K,"TYPE","xmlhttp"),Br(N,K),N.m&&N.o&&il(K,N.m,N.o),N.L&&(N.g.I=N.L);var J=N.g;N=N.ia,J.L=1,J.v=Ka(ts(K)),J.m=null,J.P=!0,cd(J,N)}p.Za=function(){this.C!=null&&(this.C=null,Ja(this),nl(this),qe(19))};function Za(N){N.C!=null&&(S.clearTimeout(N.C),N.C=null)}function Xd(N,K){var J=null;if(N.g==K){Za(N),rl(N),N.g=null;var tt=2}else if(tl(N.h,K))J=K.D,yd(N.h,K),tt=1;else return;if(N.G!=0){if(K.o)if(tt==1){J=K.m?K.m.length:0,K=Date.now()-K.F;var at=N.B;tt=Ua(),Ct(tt,new ld(tt,J)),ka(N)}else Ud(N);else if(at=K.s,at==3||at==0&&0<K.X||!(tt==1&&Ay(N,K)||tt==2&&nl(N)))switch(J&&0<J.length&&(K=N.h,K.i=K.i.concat(J)),at){case 1:on(N,5);break;case 4:on(N,10);break;case 3:on(N,6);break;default:on(N,2)}}}function Wd(N,K){let J=N.Ta+Math.floor(Math.random()*N.cb);return N.isActive()||(J*=2),J*K}function on(N,K){if(N.j.info("Error code "+K),K==2){var J=a(N.fb,N),tt=N.Xa;const at=!tt;tt=new an(tt||"//www.google.com/images/cleardot.gif"),S.location&&S.location.protocol=="http"||Ya(tt,"https"),Ka(tt),at?gy(tt.toString(),J):xy(tt.toString(),J)}else qe(2);N.G=0,N.l&&N.l.sa(K),Yd(N),Bd(N)}p.fb=function(N){N?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function Yd(N){if(N.G=0,N.ka=[],N.l){const K=Td(N.h);(K.length!=0||N.i.length!=0)&&(l(N.ka,K),l(N.ka,N.i),N.h.i.length=0,n(N.i),N.i.length=0),N.l.ra()}}function Hd(N,K,J){var tt=J instanceof an?ts(J):new an(J);if(tt.g!="")K&&(tt.g=K+"."+tt.g),Ha(tt,tt.s);else{var at=S.location;tt=at.protocol,K=K?K+"."+at.hostname:at.hostname,at=+at.port;var ct=new an(null);tt&&Ya(ct,tt),K&&(ct.g=K),at&&Ha(ct,at),J&&(ct.l=J),tt=ct}return J=N.D,K=N.ya,J&&K&&ve(tt,J,K),ve(tt,"VER",N.la),Br(N,tt),tt}function Kd(N,K,J){if(K&&!N.J)throw Error("Can't create secondary domain capable XhrIo object.");return K=N.Ca&&!N.pa?new ye(new $a({eb:J})):new ye(N.pa),K.Ha(N.J),K}p.isActive=function(){return!!this.l&&this.l.isActive(this)};function $d(){}p=$d.prototype,p.ua=function(){},p.ta=function(){},p.sa=function(){},p.ra=function(){},p.isActive=function(){return!0},p.Na=function(){};function qa(){}qa.prototype.g=function(N,K){return new ci(N,K)};function ci(N,K){yt.call(this),this.g=new bd(K),this.l=N,this.h=K&&K.messageUrlParams||null,N=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(N?N["X-WebChannel-Content-Type"]=K.messageContentType:N={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.va&&(N?N["X-WebChannel-Client-Profile"]=K.va:N={"X-WebChannel-Client-Profile":K.va}),this.g.S=N,(N=K&&K.Sb)&&!u(N)&&(this.g.m=N),this.v=K&&K.supportsCrossDomainXhr||!1,this.u=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!u(K)&&(this.g.D=K,N=this.h,N!==null&&K in N&&(N=this.h,K in N&&delete N[K])),this.j=new zn(this)}i(ci,yt),ci.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ci.prototype.close=function(){sl(this.g)},ci.prototype.o=function(N){var K=this.g;if(typeof N=="string"){var J={};J.__data__=N,N=J}else this.u&&(J={},J.__data__=jt(N),N=J);K.i.push(new oy(K.Ya++,N)),K.G==3&&ka(K)},ci.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,ci.aa.N.call(this)};function jd(N){jh.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var K=N.__sm__;if(K){t:{for(const J in K){N=J;break t}N=void 0}(this.i=N)&&(N=this.i,K=K!==null&&N in K?K[N]:void 0),this.data=K}else this.data=N}i(jd,jh);function Qd(){Qh.call(this),this.status=1}i(Qd,Qh);function zn(N){this.g=N}i(zn,$d),zn.prototype.ua=function(){Ct(this.g,"a")},zn.prototype.ta=function(N){Ct(this.g,new jd(N))},zn.prototype.sa=function(N){Ct(this.g,new Qd)},zn.prototype.ra=function(){Ct(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,ci.prototype.send=ci.prototype.o,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,Eg=function(){return new qa},Tg=function(){return Ua()},yg=nn,nu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,yo=za,ud.COMPLETE="complete",xg=ud,Gi.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,zr=Gi,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,gg=ye}).apply(typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{});const _c="@firebase/firestore",tv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xr="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Ah("@firebase/firestore");function Kn(){return An.logLevel}function Pt(p,...e){if(An.logLevel<=Yt.DEBUG){const m=e.map(Ju);An.debug(`Firestore (${xr}): ${p}`,...m)}}function Ts(p,...e){if(An.logLevel<=Yt.ERROR){const m=e.map(Ju);An.error(`Firestore (${xr}): ${p}`,...m)}}function or(p,...e){if(An.logLevel<=Yt.WARN){const m=e.map(Ju);An.warn(`Firestore (${xr}): ${p}`,...m)}}function Ju(p){if(typeof p=="string")return p;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(m){return JSON.stringify(m)}(p)}catch{return p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(p="Unexpected state"){const e=`FIRESTORE (${xr}) INTERNAL ASSERTION FAILED: `+p;throw Ts(e),new Error(e)}function se(p,e){p||Dt()}function Bt(p,e){return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Bi{constructor(e,m){super(e,m),this.code=e,this.message=m,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,m)=>{this.resolve=e,this.reject=m})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,m){this.user=m,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,m){e.enqueueRetryable(()=>m(He.UNAUTHENTICATED))}shutdown(){}}class mC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,m){this.changeListener=m,e.enqueueRetryable(()=>m(this.token.user))}shutdown(){this.changeListener=null}}class gC{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,m){se(this.o===void 0);let C=this.i;const R=t=>this.i!==C?(C=this.i,m(t)):Promise.resolve();let M=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new gs,e.enqueueRetryable(()=>R(this.currentUser))};const f=()=>{const t=M;e.enqueueRetryable(async()=>{await t.promise,await R(this.currentUser)})},S=t=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(t=>S(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?S(t):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),M.resolve(),M=new gs)}},0),f()}getToken(){const e=this.i,m=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(m).then(C=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):C?(se(typeof C.accessToken=="string"),new Sg(C.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new He(e)}}class xC{constructor(e,m,C){this.l=e,this.h=m,this.P=C,this.type="FirstParty",this.user=He.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yC{constructor(e,m,C){this.l=e,this.h=m,this.P=C}getToken(){return Promise.resolve(new xC(this.l,this.h,this.P))}start(e,m){e.enqueueRetryable(()=>m(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(e,m){this.A=m,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ri(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,m){se(this.o===void 0);const C=M=>{M.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${M.error.message}`);const f=M.token!==this.R;return this.R=M.token,Pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?m(M.token):Promise.resolve()};this.o=M=>{e.enqueueRetryable(()=>C(M))};const R=M=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=M,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(M=>R(M)),setTimeout(()=>{if(!this.appCheck){const M=this.A.getImmediate({optional:!0});M?R(M):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ev(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(m=>m?(se(typeof m.token=="string"),this.R=m.token,new ev(m.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(p){const e=typeof self<"u"&&(self.crypto||self.msCrypto),m=new Uint8Array(p);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(m);else for(let C=0;C<p;C++)m[C]=Math.floor(256*Math.random());return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m=62*Math.floor(4.129032258064516);let C="";for(;C.length<20;){const R=EC(40);for(let M=0;M<R.length;++M)C.length<20&&R[M]<m&&(C+=e.charAt(R[M]%62))}return C}}function $t(p,e){return p<e?-1:p>e?1:0}function hr(p,e,m){return p.length===e.length&&p.every((C,R)=>m(C,e[R]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-62135596800,sv=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const m=Math.floor(e/1e3),C=Math.floor((e-1e3*m)*sv);return new Ie(m,C)}constructor(e,m){if(this.seconds=e,this.nanoseconds=m,m<0)throw new At(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+m);if(m>=1e9)throw new At(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+m);if(e<iv)throw new At(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Ie(0,0))}static max(){return new Vt(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="__name__";class Wi{constructor(e,m,C){m===void 0?m=0:m>e.length&&Dt(),C===void 0?C=e.length-m:C>e.length-m&&Dt(),this.segments=e,this.offset=m,this.len=C}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const m=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach(C=>{m.push(C)}):m.push(e),this.construct(m)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let m=0;m<this.length;m++)if(this.get(m)!==e.get(m))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let m=0;m<this.length;m++)if(this.get(m)!==e.get(m))return!1;return!0}forEach(e){for(let m=this.offset,C=this.limit();m<C;m++)e(this.segments[m])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,m){const C=Math.min(e.length,m.length);for(let R=0;R<C;R++){const M=Wi.compareSegments(e.get(R),m.get(R));if(M!==0)return M}return Math.sign(e.length-m.length)}static compareSegments(e,m){const C=Wi.isNumericId(e),R=Wi.isNumericId(m);return C&&!R?-1:!C&&R?1:C&&R?Wi.extractNumericId(e).compare(Wi.extractNumericId(m)):e<m?-1:e>m?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class pe extends Wi{construct(e,m,C){return new pe(e,m,C)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const m=[];for(const C of e){if(C.indexOf("//")>=0)throw new At(vt.INVALID_ARGUMENT,`Invalid segment (${C}). Paths must not contain // in them.`);m.push(...C.split("/").filter(R=>R.length>0))}return new pe(m)}static emptyPath(){return new pe([])}}const SC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ve extends Wi{construct(e,m,C){return new Ve(e,m,C)}static isValidIdentifier(e){return SC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ve.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Ve([nv])}static fromServerFormat(e){const m=[];let C="",R=0;const M=()=>{if(C.length===0)throw new At(vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);m.push(C),C=""};let f=!1;for(;R<e.length;){const S=e[R];if(S==="\\"){if(R+1===e.length)throw new At(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[R+1];if(t!=="\\"&&t!=="."&&t!=="`")throw new At(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);C+=t,R+=2}else S==="`"?(f=!f,R++):S!=="."||f?(C+=S,R++):(M(),R++)}if(M(),f)throw new At(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ve(m)}static emptyPath(){return new Ve([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(pe.fromString(e))}static fromName(e){return new Ft(pe.fromString(e).popFirst(5))}static empty(){return new Ft(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,m){return pe.comparator(e.path,m.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new pe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=-1;function CC(p,e){const m=p.toTimestamp().seconds,C=p.toTimestamp().nanoseconds+1,R=Vt.fromTimestamp(C===1e9?new Ie(m+1,0):new Ie(m,C));return new Ks(R,Ft.empty(),e)}function AC(p){return new Ks(p.readTime,p.key,ma)}class Ks{constructor(e,m,C){this.readTime=e,this.documentKey=m,this.largestBatchId=C}static min(){return new Ks(Vt.min(),Ft.empty(),ma)}static max(){return new Ks(Vt.max(),Ft.empty(),ma)}}function PC(p,e){let m=p.readTime.compareTo(e.readTime);return m!==0?m:(m=Ft.comparator(p.documentKey,e.documentKey),m!==0?m:$t(p.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yr(p){if(p.code!==vt.FAILED_PRECONDITION||p.message!==RC)throw p;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(m=>{this.isDone=!0,this.result=m,this.nextCallback&&this.nextCallback(m)},m=>{this.isDone=!0,this.error=m,this.catchCallback&&this.catchCallback(m)})}catch(e){return this.next(void 0,e)}next(e,m){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(m,this.error):this.wrapSuccess(e,this.result):new pt((C,R)=>{this.nextCallback=M=>{this.wrapSuccess(e,M).next(C,R)},this.catchCallback=M=>{this.wrapFailure(m,M).next(C,R)}})}toPromise(){return new Promise((e,m)=>{this.next(e,m)})}wrapUserFunction(e){try{const m=e();return m instanceof pt?m:pt.resolve(m)}catch(m){return pt.reject(m)}}wrapSuccess(e,m){return e?this.wrapUserFunction(()=>e(m)):pt.resolve(m)}wrapFailure(e,m){return e?this.wrapUserFunction(()=>e(m)):pt.reject(m)}static resolve(e){return new pt((m,C)=>{m(e)})}static reject(e){return new pt((m,C)=>{C(e)})}static waitFor(e){return new pt((m,C)=>{let R=0,M=0,f=!1;e.forEach(S=>{++R,S.next(()=>{++M,f&&M===R&&m()},t=>C(t))}),f=!0,M===R&&m()})}static or(e){let m=pt.resolve(!1);for(const C of e)m=m.next(R=>R?pt.resolve(R):C());return m}static forEach(e,m){const C=[];return e.forEach((R,M)=>{C.push(m.call(this,R,M))}),this.waitFor(C)}static mapArray(e,m){return new pt((C,R)=>{const M=e.length,f=new Array(M);let S=0;for(let t=0;t<M;t++){const h=t;m(e[h]).next(g=>{f[h]=g,++S,S===M&&C(f)},g=>R(g))}})}static doWhile(e,m){return new pt((C,R)=>{const M=()=>{e()===!0?m().next(()=>{M()},R):C()};M()})}}function MC(p){const e=p.match(/Android ([\d.]+)/i),m=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(m)}function Tr(p){return p.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,m){this.previousValue=e,m&&(m.sequenceNumberHandler=C=>this.oe(C),this._e=C=>m.writeSequenceNumber(C))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function Rh(p){return p==null}function Xo(p){return p===0&&1/p==-1/0}function IC(p){return typeof p=="number"&&Number.isInteger(p)&&!Xo(p)&&p<=Number.MAX_SAFE_INTEGER&&p>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="";function LC(p){let e="";for(let m=0;m<p.length;m++)e.length>0&&(e=rv(e)),e=FC(p.get(m),e);return rv(e)}function FC(p,e){let m=e;const C=p.length;for(let R=0;R<C;R++){const M=p.charAt(R);switch(M){case"\0":m+="";break;case Ag:m+="";break;default:m+=M}}return m}function rv(p){return p+Ag+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(p){let e=0;for(const m in p)Object.prototype.hasOwnProperty.call(p,m)&&e++;return e}function tn(p,e){for(const m in p)Object.prototype.hasOwnProperty.call(p,m)&&e(m,p[m])}function Pg(p){for(const e in p)if(Object.prototype.hasOwnProperty.call(p,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,m){this.comparator=e,this.root=m||Be.EMPTY}insert(e,m){return new xe(this.comparator,this.root.insert(e,m,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let m=this.root;for(;!m.isEmpty();){const C=this.comparator(e,m.key);if(C===0)return m.value;C<0?m=m.left:C>0&&(m=m.right)}return null}indexOf(e){let m=0,C=this.root;for(;!C.isEmpty();){const R=this.comparator(e,C.key);if(R===0)return m+C.left.size;R<0?C=C.left:(m+=C.left.size+1,C=C.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((m,C)=>(e(m,C),!1))}toString(){const e=[];return this.inorderTraversal((m,C)=>(e.push(`${m}:${C}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oo(this.root,e,this.comparator,!0)}}class oo{constructor(e,m,C,R){this.isReverse=R,this.nodeStack=[];let M=1;for(;!e.isEmpty();)if(M=m?C(e.key,m):1,m&&R&&(M*=-1),M<0)e=this.isReverse?e.left:e.right;else{if(M===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const m={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return m}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,m,C,R,M){this.key=e,this.value=m,this.color=C??Be.RED,this.left=R??Be.EMPTY,this.right=M??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,m,C,R,M){return new Be(e??this.key,m??this.value,C??this.color,R??this.left,M??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,m,C){let R=this;const M=C(e,R.key);return R=M<0?R.copy(null,null,null,R.left.insert(e,m,C),null):M===0?R.copy(null,m,null,null,null):R.copy(null,null,null,null,R.right.insert(e,m,C)),R.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,m){let C,R=this;if(m(e,R.key)<0)R.left.isEmpty()||R.left.isRed()||R.left.left.isRed()||(R=R.moveRedLeft()),R=R.copy(null,null,null,R.left.remove(e,m),null);else{if(R.left.isRed()&&(R=R.rotateRight()),R.right.isEmpty()||R.right.isRed()||R.right.left.isRed()||(R=R.moveRedRight()),m(e,R.key)===0){if(R.right.isEmpty())return Be.EMPTY;C=R.right.min(),R=R.copy(C.key,C.value,null,null,R.right.removeMin())}R=R.copy(null,null,null,null,R.right.remove(e,m))}return R.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),m=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,m)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,m,C,R,M){return this}insert(e,m,C){return new Be(e,m)}remove(e,m){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((m,C)=>(e(m),!1))}forEachInRange(e,m){const C=this.data.getIteratorFrom(e[0]);for(;C.hasNext();){const R=C.getNext();if(this.comparator(R.key,e[1])>=0)return;m(R.key)}}forEachWhile(e,m){let C;for(C=m!==void 0?this.data.getIteratorFrom(m):this.data.getIterator();C.hasNext();)if(!e(C.getNext().key))return}firstAfterOrEqual(e){const m=this.data.getIteratorFrom(e);return m.hasNext()?m.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(e){return new ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let m=this;return m.size<e.size&&(m=e,e=this),e.forEach(C=>{m=m.add(C)}),m}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const m=this.data.getIterator(),C=e.data.getIterator();for(;m.hasNext();){const R=m.getNext().key,M=C.getNext().key;if(this.comparator(R,M)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(m=>{e.push(m)}),e}toString(){const e=[];return this.forEach(m=>e.push(m)),"SortedSet("+e.toString()+")"}copy(e){const m=new Le(this.comparator);return m.data=e,m}}class ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(Ve.comparator)}static empty(){return new pi([])}unionWith(e){let m=new Le(Ve.comparator);for(const C of this.fields)m=m.add(C);for(const C of e)m=m.add(C);return new pi(m.toArray())}covers(e){for(const m of this.fields)if(m.isPrefixOf(e))return!0;return!1}isEqual(e){return hr(this.fields,e.fields,(m,C)=>m.isEqual(C))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.binaryString=e}static fromBase64String(e){const m=function(R){try{return atob(R)}catch(M){throw typeof DOMException<"u"&&M instanceof DOMException?new Rg("Invalid base64 string: "+M):M}}(e);return new ze(m)}static fromUint8Array(e){const m=function(R){let M="";for(let f=0;f<R.length;++f)M+=String.fromCharCode(R[f]);return M}(e);return new ze(m)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(m){return btoa(m)}(this.binaryString)}toUint8Array(){return function(m){const C=new Uint8Array(m.length);for(let R=0;R<m.length;R++)C[R]=m.charCodeAt(R);return C}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const OC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(p){if(se(!!p),typeof p=="string"){let e=0;const m=OC.exec(p);if(se(!!m),m[1]){let R=m[1];R=(R+"000000000").substr(0,9),e=Number(R)}const C=new Date(p);return{seconds:Math.floor(C.getTime()/1e3),nanos:e}}return{seconds:Ee(p.seconds),nanos:Ee(p.nanos)}}function Ee(p){return typeof p=="number"?p:typeof p=="string"?Number(p):0}function js(p){return typeof p=="string"?ze.fromBase64String(p):ze.fromUint8Array(p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="server_timestamp",Mg="__type__",Ig="__previous_value__",Lg="__local_write_time__";function Zu(p){var e,m;return((m=(((e=p==null?void 0:p.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mg])===null||m===void 0?void 0:m.stringValue)===wg}function wh(p){const e=p.mapValue.fields[Ig];return Zu(e)?wh(e):e}function ga(p){const e=$s(p.mapValue.fields[Lg].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,m,C,R,M,f,S,t,h){this.databaseId=e,this.appId=m,this.persistenceKey=C,this.host=R,this.ssl=M,this.forceLongPolling=f,this.autoDetectLongPolling=S,this.longPollingOptions=t,this.useFetchStreams=h}}const xa="(default)";class ya{constructor(e,m){this.projectId=e,this.database=m||xa}static empty(){return new ya("","")}get isDefaultDatabase(){return this.database===xa}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="__type__",NC="__max__",ho={mapValue:{}},Og="__vector__",Wo="value";function Qs(p){return"nullValue"in p?0:"booleanValue"in p?1:"integerValue"in p||"doubleValue"in p?2:"timestampValue"in p?3:"stringValue"in p?5:"bytesValue"in p?6:"referenceValue"in p?7:"geoPointValue"in p?8:"arrayValue"in p?9:"mapValue"in p?Zu(p)?4:BC(p)?9007199254740991:bC(p)?10:11:Dt()}function Zi(p,e){if(p===e)return!0;const m=Qs(p);if(m!==Qs(e))return!1;switch(m){case 0:case 9007199254740991:return!0;case 1:return p.booleanValue===e.booleanValue;case 4:return ga(p).isEqual(ga(e));case 3:return function(R,M){if(typeof R.timestampValue=="string"&&typeof M.timestampValue=="string"&&R.timestampValue.length===M.timestampValue.length)return R.timestampValue===M.timestampValue;const f=$s(R.timestampValue),S=$s(M.timestampValue);return f.seconds===S.seconds&&f.nanos===S.nanos}(p,e);case 5:return p.stringValue===e.stringValue;case 6:return function(R,M){return js(R.bytesValue).isEqual(js(M.bytesValue))}(p,e);case 7:return p.referenceValue===e.referenceValue;case 8:return function(R,M){return Ee(R.geoPointValue.latitude)===Ee(M.geoPointValue.latitude)&&Ee(R.geoPointValue.longitude)===Ee(M.geoPointValue.longitude)}(p,e);case 2:return function(R,M){if("integerValue"in R&&"integerValue"in M)return Ee(R.integerValue)===Ee(M.integerValue);if("doubleValue"in R&&"doubleValue"in M){const f=Ee(R.doubleValue),S=Ee(M.doubleValue);return f===S?Xo(f)===Xo(S):isNaN(f)&&isNaN(S)}return!1}(p,e);case 9:return hr(p.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return function(R,M){const f=R.mapValue.fields||{},S=M.mapValue.fields||{};if(av(f)!==av(S))return!1;for(const t in f)if(f.hasOwnProperty(t)&&(S[t]===void 0||!Zi(f[t],S[t])))return!1;return!0}(p,e);default:return Dt()}}function Ta(p,e){return(p.values||[]).find(m=>Zi(m,e))!==void 0}function lr(p,e){if(p===e)return 0;const m=Qs(p),C=Qs(e);if(m!==C)return $t(m,C);switch(m){case 0:case 9007199254740991:return 0;case 1:return $t(p.booleanValue,e.booleanValue);case 2:return function(M,f){const S=Ee(M.integerValue||M.doubleValue),t=Ee(f.integerValue||f.doubleValue);return S<t?-1:S>t?1:S===t?0:isNaN(S)?isNaN(t)?0:-1:1}(p,e);case 3:return hv(p.timestampValue,e.timestampValue);case 4:return hv(ga(p),ga(e));case 5:return $t(p.stringValue,e.stringValue);case 6:return function(M,f){const S=js(M),t=js(f);return S.compareTo(t)}(p.bytesValue,e.bytesValue);case 7:return function(M,f){const S=M.split("/"),t=f.split("/");for(let h=0;h<S.length&&h<t.length;h++){const g=$t(S[h],t[h]);if(g!==0)return g}return $t(S.length,t.length)}(p.referenceValue,e.referenceValue);case 8:return function(M,f){const S=$t(Ee(M.latitude),Ee(f.latitude));return S!==0?S:$t(Ee(M.longitude),Ee(f.longitude))}(p.geoPointValue,e.geoPointValue);case 9:return lv(p.arrayValue,e.arrayValue);case 10:return function(M,f){var S,t,h,g;const o=M.fields||{},a=f.fields||{},r=(S=o[Wo])===null||S===void 0?void 0:S.arrayValue,i=(t=a[Wo])===null||t===void 0?void 0:t.arrayValue,n=$t(((h=r==null?void 0:r.values)===null||h===void 0?void 0:h.length)||0,((g=i==null?void 0:i.values)===null||g===void 0?void 0:g.length)||0);return n!==0?n:lv(r,i)}(p.mapValue,e.mapValue);case 11:return function(M,f){if(M===ho.mapValue&&f===ho.mapValue)return 0;if(M===ho.mapValue)return 1;if(f===ho.mapValue)return-1;const S=M.fields||{},t=Object.keys(S),h=f.fields||{},g=Object.keys(h);t.sort(),g.sort();for(let o=0;o<t.length&&o<g.length;++o){const a=$t(t[o],g[o]);if(a!==0)return a;const r=lr(S[t[o]],h[g[o]]);if(r!==0)return r}return $t(t.length,g.length)}(p.mapValue,e.mapValue);default:throw Dt()}}function hv(p,e){if(typeof p=="string"&&typeof e=="string"&&p.length===e.length)return $t(p,e);const m=$s(p),C=$s(e),R=$t(m.seconds,C.seconds);return R!==0?R:$t(m.nanos,C.nanos)}function lv(p,e){const m=p.values||[],C=e.values||[];for(let R=0;R<m.length&&R<C.length;++R){const M=lr(m[R],C[R]);if(M)return M}return $t(m.length,C.length)}function ur(p){return ru(p)}function ru(p){return"nullValue"in p?"null":"booleanValue"in p?""+p.booleanValue:"integerValue"in p?""+p.integerValue:"doubleValue"in p?""+p.doubleValue:"timestampValue"in p?function(m){const C=$s(m);return`time(${C.seconds},${C.nanos})`}(p.timestampValue):"stringValue"in p?p.stringValue:"bytesValue"in p?function(m){return js(m).toBase64()}(p.bytesValue):"referenceValue"in p?function(m){return Ft.fromName(m).toString()}(p.referenceValue):"geoPointValue"in p?function(m){return`geo(${m.latitude},${m.longitude})`}(p.geoPointValue):"arrayValue"in p?function(m){let C="[",R=!0;for(const M of m.values||[])R?R=!1:C+=",",C+=ru(M);return C+"]"}(p.arrayValue):"mapValue"in p?function(m){const C=Object.keys(m.fields||{}).sort();let R="{",M=!0;for(const f of C)M?M=!1:R+=",",R+=`${f}:${ru(m.fields[f])}`;return R+"}"}(p.mapValue):Dt()}function To(p){switch(Qs(p)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(p);return e?16+To(e):16;case 5:return 2*p.stringValue.length;case 6:return js(p.bytesValue).approximateByteSize();case 7:return p.referenceValue.length;case 9:return function(C){return(C.values||[]).reduce((R,M)=>R+To(M),0)}(p.arrayValue);case 10:case 11:return function(C){let R=0;return tn(C.fields,(M,f)=>{R+=M.length+To(f)}),R}(p.mapValue);default:throw Dt()}}function uv(p,e){return{referenceValue:`projects/${p.projectId}/databases/${p.database}/documents/${e.path.canonicalString()}`}}function au(p){return!!p&&"integerValue"in p}function qu(p){return!!p&&"arrayValue"in p}function fv(p){return!!p&&"nullValue"in p}function dv(p){return!!p&&"doubleValue"in p&&isNaN(Number(p.doubleValue))}function Eo(p){return!!p&&"mapValue"in p}function bC(p){var e,m;return((m=(((e=p==null?void 0:p.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fg])===null||m===void 0?void 0:m.stringValue)===Og}function _r(p){if(p.geoPointValue)return{geoPointValue:Object.assign({},p.geoPointValue)};if(p.timestampValue&&typeof p.timestampValue=="object")return{timestampValue:Object.assign({},p.timestampValue)};if(p.mapValue){const e={mapValue:{fields:{}}};return tn(p.mapValue.fields,(m,C)=>e.mapValue.fields[m]=_r(C)),e}if(p.arrayValue){const e={arrayValue:{values:[]}};for(let m=0;m<(p.arrayValue.values||[]).length;++m)e.arrayValue.values[m]=_r(p.arrayValue.values[m]);return e}return Object.assign({},p)}function BC(p){return(((p.mapValue||{}).fields||{}).__type__||{}).stringValue===NC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let m=this.value;for(let C=0;C<e.length-1;++C)if(m=(m.mapValue.fields||{})[e.get(C)],!Eo(m))return null;return m=(m.mapValue.fields||{})[e.lastSegment()],m||null}}set(e,m){this.getFieldsMap(e.popLast())[e.lastSegment()]=_r(m)}setAll(e){let m=Ve.emptyPath(),C={},R=[];e.forEach((f,S)=>{if(!m.isImmediateParentOf(S)){const t=this.getFieldsMap(m);this.applyChanges(t,C,R),C={},R=[],m=S.popLast()}f?C[S.lastSegment()]=_r(f):R.push(S.lastSegment())});const M=this.getFieldsMap(m);this.applyChanges(M,C,R)}delete(e){const m=this.field(e.popLast());Eo(m)&&m.mapValue.fields&&delete m.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let m=this.value;m.mapValue.fields||(m.mapValue={fields:{}});for(let C=0;C<e.length;++C){let R=m.mapValue.fields[e.get(C)];Eo(R)&&R.mapValue.fields||(R={mapValue:{fields:{}}},m.mapValue.fields[e.get(C)]=R),m=R}return m.mapValue.fields}applyChanges(e,m,C){tn(m,(R,M)=>e[R]=M);for(const R of C)delete e[R]}clone(){return new li(_r(this.value))}}function Dg(p){const e=[];return tn(p.fields,(m,C)=>{const R=new Ve([m]);if(Eo(C)){const M=Dg(C.mapValue).fields;if(M.length===0)e.push(R);else for(const f of M)e.push(R.child(f))}else e.push(R)}),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,m,C,R,M,f,S){this.key=e,this.documentType=m,this.version=C,this.readTime=R,this.createTime=M,this.data=f,this.documentState=S}static newInvalidDocument(e){return new je(e,0,Vt.min(),Vt.min(),Vt.min(),li.empty(),0)}static newFoundDocument(e,m,C,R){return new je(e,1,m,Vt.min(),C,R,0)}static newNoDocument(e,m){return new je(e,2,m,Vt.min(),Vt.min(),li.empty(),0)}static newUnknownDocument(e,m){return new je(e,3,m,Vt.min(),Vt.min(),li.empty(),2)}convertToFoundDocument(e,m){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=m,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,m){this.position=e,this.inclusive=m}}function cv(p,e,m){let C=0;for(let R=0;R<p.position.length;R++){const M=e[R],f=p.position[R];if(M.field.isKeyField()?C=Ft.comparator(Ft.fromName(f.referenceValue),m.key):C=lr(f,m.data.field(M.field)),M.dir==="desc"&&(C*=-1),C!==0)break}return C}function vv(p,e){if(p===null)return e===null;if(e===null||p.inclusive!==e.inclusive||p.position.length!==e.position.length)return!1;for(let m=0;m<p.position.length;m++)if(!Zi(p.position[m],e.position[m]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,m="asc"){this.field=e,this.dir=m}}function VC(p,e){return p.dir===e.dir&&p.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{}class Ae extends Ng{constructor(e,m,C){super(),this.field=e,this.op=m,this.value=C}static create(e,m,C){return e.isKeyField()?m==="in"||m==="not-in"?this.createKeyFieldInFilter(e,m,C):new UC(e,m,C):m==="array-contains"?new WC(e,C):m==="in"?new YC(e,C):m==="not-in"?new HC(e,C):m==="array-contains-any"?new KC(e,C):new Ae(e,m,C)}static createKeyFieldInFilter(e,m,C){return m==="in"?new zC(e,C):new XC(e,C)}matches(e){const m=e.data.field(this.field);return this.op==="!="?m!==null&&this.matchesComparison(lr(m,this.value)):m!==null&&Qs(this.value)===Qs(m)&&this.matchesComparison(lr(m,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends Ng{constructor(e,m){super(),this.filters=e,this.op=m,this.ce=null}static create(e,m){return new Ni(e,m)}matches(e){return bg(this)?this.filters.find(m=>!m.matches(e))===void 0:this.filters.find(m=>m.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,m)=>e.concat(m.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bg(p){return p.op==="and"}function Bg(p){return GC(p)&&bg(p)}function GC(p){for(const e of p.filters)if(e instanceof Ni)return!1;return!0}function ou(p){if(p instanceof Ae)return p.field.canonicalString()+p.op.toString()+ur(p.value);if(Bg(p))return p.filters.map(e=>ou(e)).join(",");{const e=p.filters.map(m=>ou(m)).join(",");return`${p.op}(${e})`}}function Vg(p,e){return p instanceof Ae?function(C,R){return R instanceof Ae&&C.op===R.op&&C.field.isEqual(R.field)&&Zi(C.value,R.value)}(p,e):p instanceof Ni?function(C,R){return R instanceof Ni&&C.op===R.op&&C.filters.length===R.filters.length?C.filters.reduce((M,f,S)=>M&&Vg(f,R.filters[S]),!0):!1}(p,e):void Dt()}function Gg(p){return p instanceof Ae?function(m){return`${m.field.canonicalString()} ${m.op} ${ur(m.value)}`}(p):p instanceof Ni?function(m){return m.op.toString()+" {"+m.getFilters().map(Gg).join(" ,")+"}"}(p):"Filter"}class UC extends Ae{constructor(e,m,C){super(e,m,C),this.key=Ft.fromName(C.referenceValue)}matches(e){const m=Ft.comparator(e.key,this.key);return this.matchesComparison(m)}}class zC extends Ae{constructor(e,m){super(e,"in",m),this.keys=Ug("in",m)}matches(e){return this.keys.some(m=>m.isEqual(e.key))}}class XC extends Ae{constructor(e,m){super(e,"not-in",m),this.keys=Ug("not-in",m)}matches(e){return!this.keys.some(m=>m.isEqual(e.key))}}function Ug(p,e){var m;return(((m=e.arrayValue)===null||m===void 0?void 0:m.values)||[]).map(C=>Ft.fromName(C.referenceValue))}class WC extends Ae{constructor(e,m){super(e,"array-contains",m)}matches(e){const m=e.data.field(this.field);return qu(m)&&Ta(m.arrayValue,this.value)}}class YC extends Ae{constructor(e,m){super(e,"in",m)}matches(e){const m=e.data.field(this.field);return m!==null&&Ta(this.value.arrayValue,m)}}class HC extends Ae{constructor(e,m){super(e,"not-in",m)}matches(e){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const m=e.data.field(this.field);return m!==null&&!Ta(this.value.arrayValue,m)}}class KC extends Ae{constructor(e,m){super(e,"array-contains-any",m)}matches(e){const m=e.data.field(this.field);return!(!qu(m)||!m.arrayValue.values)&&m.arrayValue.values.some(C=>Ta(this.value.arrayValue,C))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,m=null,C=[],R=[],M=null,f=null,S=null){this.path=e,this.collectionGroup=m,this.orderBy=C,this.filters=R,this.limit=M,this.startAt=f,this.endAt=S,this.le=null}}function pv(p,e=null,m=[],C=[],R=null,M=null,f=null){return new $C(p,e,m,C,R,M,f)}function _u(p){const e=Bt(p);if(e.le===null){let m=e.path.canonicalString();e.collectionGroup!==null&&(m+="|cg:"+e.collectionGroup),m+="|f:",m+=e.filters.map(C=>ou(C)).join(","),m+="|ob:",m+=e.orderBy.map(C=>function(M){return M.field.canonicalString()+M.dir}(C)).join(","),Rh(e.limit)||(m+="|l:",m+=e.limit),e.startAt&&(m+="|lb:",m+=e.startAt.inclusive?"b:":"a:",m+=e.startAt.position.map(C=>ur(C)).join(",")),e.endAt&&(m+="|ub:",m+=e.endAt.inclusive?"a:":"b:",m+=e.endAt.position.map(C=>ur(C)).join(",")),e.le=m}return e.le}function tf(p,e){if(p.limit!==e.limit||p.orderBy.length!==e.orderBy.length)return!1;for(let m=0;m<p.orderBy.length;m++)if(!VC(p.orderBy[m],e.orderBy[m]))return!1;if(p.filters.length!==e.filters.length)return!1;for(let m=0;m<p.filters.length;m++)if(!Vg(p.filters[m],e.filters[m]))return!1;return p.collectionGroup===e.collectionGroup&&!!p.path.isEqual(e.path)&&!!vv(p.startAt,e.startAt)&&vv(p.endAt,e.endAt)}function hu(p){return Ft.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,m=null,C=[],R=[],M=null,f="F",S=null,t=null){this.path=e,this.collectionGroup=m,this.explicitOrderBy=C,this.filters=R,this.limit=M,this.limitType=f,this.startAt=S,this.endAt=t,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jC(p,e,m,C,R,M,f,S){return new Ia(p,e,m,C,R,M,f,S)}function Mh(p){return new Ia(p)}function mv(p){return p.filters.length===0&&p.limit===null&&p.startAt==null&&p.endAt==null&&(p.explicitOrderBy.length===0||p.explicitOrderBy.length===1&&p.explicitOrderBy[0].field.isKeyField())}function zg(p){return p.collectionGroup!==null}function ta(p){const e=Bt(p);if(e.he===null){e.he=[];const m=new Set;for(const M of e.explicitOrderBy)e.he.push(M),m.add(M.field.canonicalString());const C=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let S=new Le(Ve.comparator);return f.filters.forEach(t=>{t.getFlattenedFilters().forEach(h=>{h.isInequality()&&(S=S.add(h.field))})}),S})(e).forEach(M=>{m.has(M.canonicalString())||M.isKeyField()||e.he.push(new Ho(M,C))}),m.has(Ve.keyField().canonicalString())||e.he.push(new Ho(Ve.keyField(),C))}return e.he}function ji(p){const e=Bt(p);return e.Pe||(e.Pe=QC(e,ta(p))),e.Pe}function QC(p,e){if(p.limitType==="F")return pv(p.path,p.collectionGroup,e,p.filters,p.limit,p.startAt,p.endAt);{e=e.map(R=>{const M=R.dir==="desc"?"asc":"desc";return new Ho(R.field,M)});const m=p.endAt?new Yo(p.endAt.position,p.endAt.inclusive):null,C=p.startAt?new Yo(p.startAt.position,p.startAt.inclusive):null;return pv(p.path,p.collectionGroup,e,p.filters,p.limit,m,C)}}function lu(p,e){const m=p.filters.concat([e]);return new Ia(p.path,p.collectionGroup,p.explicitOrderBy.slice(),m,p.limit,p.limitType,p.startAt,p.endAt)}function uu(p,e,m){return new Ia(p.path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),e,m,p.startAt,p.endAt)}function Ih(p,e){return tf(ji(p),ji(e))&&p.limitType===e.limitType}function Xg(p){return`${_u(ji(p))}|lt:${p.limitType}`}function $n(p){return`Query(target=${function(m){let C=m.path.canonicalString();return m.collectionGroup!==null&&(C+=" collectionGroup="+m.collectionGroup),m.filters.length>0&&(C+=`, filters: [${m.filters.map(R=>Gg(R)).join(", ")}]`),Rh(m.limit)||(C+=", limit: "+m.limit),m.orderBy.length>0&&(C+=`, orderBy: [${m.orderBy.map(R=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(R)).join(", ")}]`),m.startAt&&(C+=", startAt: ",C+=m.startAt.inclusive?"b:":"a:",C+=m.startAt.position.map(R=>ur(R)).join(",")),m.endAt&&(C+=", endAt: ",C+=m.endAt.inclusive?"a:":"b:",C+=m.endAt.position.map(R=>ur(R)).join(",")),`Target(${C})`}(ji(p))}; limitType=${p.limitType})`}function Lh(p,e){return e.isFoundDocument()&&function(C,R){const M=R.key.path;return C.collectionGroup!==null?R.key.hasCollectionId(C.collectionGroup)&&C.path.isPrefixOf(M):Ft.isDocumentKey(C.path)?C.path.isEqual(M):C.path.isImmediateParentOf(M)}(p,e)&&function(C,R){for(const M of ta(C))if(!M.field.isKeyField()&&R.data.field(M.field)===null)return!1;return!0}(p,e)&&function(C,R){for(const M of C.filters)if(!M.matches(R))return!1;return!0}(p,e)&&function(C,R){return!(C.startAt&&!function(f,S,t){const h=cv(f,S,t);return f.inclusive?h<=0:h<0}(C.startAt,ta(C),R)||C.endAt&&!function(f,S,t){const h=cv(f,S,t);return f.inclusive?h>=0:h>0}(C.endAt,ta(C),R))}(p,e)}function JC(p){return p.collectionGroup||(p.path.length%2==1?p.path.lastSegment():p.path.get(p.path.length-2))}function Wg(p){return(e,m)=>{let C=!1;for(const R of ta(p)){const M=kC(R,e,m);if(M!==0)return M;C=C||R.field.isKeyField()}return 0}}function kC(p,e,m){const C=p.field.isKeyField()?Ft.comparator(e.key,m.key):function(M,f,S){const t=f.data.field(M),h=S.data.field(M);return t!==null&&h!==null?lr(t,h):Dt()}(p.field,e,m);switch(p.dir){case"asc":return C;case"desc":return-1*C;default:return Dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,m){this.mapKeyFn=e,this.equalsFn=m,this.inner={},this.innerSize=0}get(e){const m=this.mapKeyFn(e),C=this.inner[m];if(C!==void 0){for(const[R,M]of C)if(this.equalsFn(R,e))return M}}has(e){return this.get(e)!==void 0}set(e,m){const C=this.mapKeyFn(e),R=this.inner[C];if(R===void 0)return this.inner[C]=[[e,m]],void this.innerSize++;for(let M=0;M<R.length;M++)if(this.equalsFn(R[M][0],e))return void(R[M]=[e,m]);R.push([e,m]),this.innerSize++}delete(e){const m=this.mapKeyFn(e),C=this.inner[m];if(C===void 0)return!1;for(let R=0;R<C.length;R++)if(this.equalsFn(C[R][0],e))return C.length===1?delete this.inner[m]:C.splice(R,1),this.innerSize--,!0;return!1}forEach(e){tn(this.inner,(m,C)=>{for(const[R,M]of C)e(R,M)})}isEmpty(){return Pg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new xe(Ft.comparator);function Es(){return ZC}const Yg=new xe(Ft.comparator);function Xr(...p){let e=Yg;for(const m of p)e=e.insert(m.key,m);return e}function Hg(p){let e=Yg;return p.forEach((m,C)=>e=e.insert(m,C.overlayedDocument)),e}function pn(){return ea()}function Kg(){return ea()}function ea(){return new Nn(p=>p.toString(),(p,e)=>p.isEqual(e))}const qC=new xe(Ft.comparator),_C=new Le(Ft.comparator);function Ht(...p){let e=_C;for(const m of p)e=e.add(m);return e}const t2=new Le($t);function e2(){return t2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(p,e){if(p.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xo(e)?"-0":e}}function $g(p){return{integerValue:""+p}}function i2(p,e){return IC(e)?$g(e):ef(p,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function s2(p,e,m){return p instanceof Ko?function(R,M){const f={fields:{[Mg]:{stringValue:wg},[Lg]:{timestampValue:{seconds:R.seconds,nanos:R.nanoseconds}}}};return M&&Zu(M)&&(M=wh(M)),M&&(f.fields[Ig]=M),{mapValue:f}}(m,e):p instanceof Ea?Qg(p,e):p instanceof Sa?Jg(p,e):function(R,M){const f=jg(R,M),S=gv(f)+gv(R.Ie);return au(f)&&au(R.Ie)?$g(S):ef(R.serializer,S)}(p,e)}function n2(p,e,m){return p instanceof Ea?Qg(p,e):p instanceof Sa?Jg(p,e):m}function jg(p,e){return p instanceof $o?function(C){return au(C)||function(M){return!!M&&"doubleValue"in M}(C)}(e)?e:{integerValue:0}:null}class Ko extends Fh{}class Ea extends Fh{constructor(e){super(),this.elements=e}}function Qg(p,e){const m=kg(e);for(const C of p.elements)m.some(R=>Zi(R,C))||m.push(C);return{arrayValue:{values:m}}}class Sa extends Fh{constructor(e){super(),this.elements=e}}function Jg(p,e){let m=kg(e);for(const C of p.elements)m=m.filter(R=>!Zi(R,C));return{arrayValue:{values:m}}}class $o extends Fh{constructor(e,m){super(),this.serializer=e,this.Ie=m}}function gv(p){return Ee(p.integerValue||p.doubleValue)}function kg(p){return qu(p)&&p.arrayValue.values?p.arrayValue.values.slice():[]}function r2(p,e){return p.field.isEqual(e.field)&&function(C,R){return C instanceof Ea&&R instanceof Ea||C instanceof Sa&&R instanceof Sa?hr(C.elements,R.elements,Zi):C instanceof $o&&R instanceof $o?Zi(C.Ie,R.Ie):C instanceof Ko&&R instanceof Ko}(p.transform,e.transform)}class a2{constructor(e,m){this.version=e,this.transformResults=m}}class Mi{constructor(e,m){this.updateTime=e,this.exists=m}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function So(p,e){return p.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(p.updateTime):p.exists===void 0||p.exists===e.isFoundDocument()}class Oh{}function Zg(p,e){if(!p.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return p.isNoDocument()?new _g(p.key,Mi.none()):new La(p.key,p.data,Mi.none());{const m=p.data,C=li.empty();let R=new Le(Ve.comparator);for(let M of e.fields)if(!R.has(M)){let f=m.field(M);f===null&&M.length>1&&(M=M.popLast(),f=m.field(M)),f===null?C.delete(M):C.set(M,f),R=R.add(M)}return new en(p.key,C,new pi(R.toArray()),Mi.none())}}function o2(p,e,m){p instanceof La?function(R,M,f){const S=R.value.clone(),t=yv(R.fieldTransforms,M,f.transformResults);S.setAll(t),M.convertToFoundDocument(f.version,S).setHasCommittedMutations()}(p,e,m):p instanceof en?function(R,M,f){if(!So(R.precondition,M))return void M.convertToUnknownDocument(f.version);const S=yv(R.fieldTransforms,M,f.transformResults),t=M.data;t.setAll(qg(R)),t.setAll(S),M.convertToFoundDocument(f.version,t).setHasCommittedMutations()}(p,e,m):function(R,M,f){M.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,m)}function ia(p,e,m,C){return p instanceof La?function(M,f,S,t){if(!So(M.precondition,f))return S;const h=M.value.clone(),g=Tv(M.fieldTransforms,t,f);return h.setAll(g),f.convertToFoundDocument(f.version,h).setHasLocalMutations(),null}(p,e,m,C):p instanceof en?function(M,f,S,t){if(!So(M.precondition,f))return S;const h=Tv(M.fieldTransforms,t,f),g=f.data;return g.setAll(qg(M)),g.setAll(h),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),S===null?null:S.unionWith(M.fieldMask.fields).unionWith(M.fieldTransforms.map(o=>o.field))}(p,e,m,C):function(M,f,S){return So(M.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):S}(p,e,m)}function h2(p,e){let m=null;for(const C of p.fieldTransforms){const R=e.data.field(C.field),M=jg(C.transform,R||null);M!=null&&(m===null&&(m=li.empty()),m.set(C.field,M))}return m||null}function xv(p,e){return p.type===e.type&&!!p.key.isEqual(e.key)&&!!p.precondition.isEqual(e.precondition)&&!!function(C,R){return C===void 0&&R===void 0||!(!C||!R)&&hr(C,R,(M,f)=>r2(M,f))}(p.fieldTransforms,e.fieldTransforms)&&(p.type===0?p.value.isEqual(e.value):p.type!==1||p.data.isEqual(e.data)&&p.fieldMask.isEqual(e.fieldMask))}class La extends Oh{constructor(e,m,C,R=[]){super(),this.key=e,this.value=m,this.precondition=C,this.fieldTransforms=R,this.type=0}getFieldMask(){return null}}class en extends Oh{constructor(e,m,C,R,M=[]){super(),this.key=e,this.data=m,this.fieldMask=C,this.precondition=R,this.fieldTransforms=M,this.type=1}getFieldMask(){return this.fieldMask}}function qg(p){const e=new Map;return p.fieldMask.fields.forEach(m=>{if(!m.isEmpty()){const C=p.data.field(m);e.set(m,C)}}),e}function yv(p,e,m){const C=new Map;se(p.length===m.length);for(let R=0;R<m.length;R++){const M=p[R],f=M.transform,S=e.data.field(M.field);C.set(M.field,n2(f,S,m[R]))}return C}function Tv(p,e,m){const C=new Map;for(const R of p){const M=R.transform,f=m.data.field(R.field);C.set(R.field,s2(M,f,e))}return C}class _g extends Oh{constructor(e,m){super(),this.key=e,this.precondition=m,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends Oh{constructor(e,m){super(),this.key=e,this.precondition=m,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,m,C,R){this.batchId=e,this.localWriteTime=m,this.baseMutations=C,this.mutations=R}applyToRemoteDocument(e,m){const C=m.mutationResults;for(let R=0;R<this.mutations.length;R++){const M=this.mutations[R];M.key.isEqual(e.key)&&o2(M,e,C[R])}}applyToLocalView(e,m){for(const C of this.baseMutations)C.key.isEqual(e.key)&&(m=ia(C,e,m,this.localWriteTime));for(const C of this.mutations)C.key.isEqual(e.key)&&(m=ia(C,e,m,this.localWriteTime));return m}applyToLocalDocumentSet(e,m){const C=Kg();return this.mutations.forEach(R=>{const M=e.get(R.key),f=M.overlayedDocument;let S=this.applyToLocalView(f,M.mutatedFields);S=m.has(R.key)?null:S;const t=Zg(f,S);t!==null&&C.set(R.key,t),f.isValidDocument()||f.convertToNoDocument(Vt.min())}),C}keys(){return this.mutations.reduce((e,m)=>e.add(m.key),Ht())}isEqual(e){return this.batchId===e.batchId&&hr(this.mutations,e.mutations,(m,C)=>xv(m,C))&&hr(this.baseMutations,e.baseMutations,(m,C)=>xv(m,C))}}class sf{constructor(e,m,C,R){this.batch=e,this.commitVersion=m,this.mutationResults=C,this.docVersions=R}static from(e,m,C){se(e.mutations.length===C.length);let R=function(){return qC}();const M=e.mutations;for(let f=0;f<M.length;f++)R=R.insert(M[f].key,C[f].version);return new sf(e,m,C,R)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,m){this.largestBatchId=e,this.mutation=m}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,m){this.count=e,this.unchangedNames=m}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Qt;function c2(p){switch(p){case vt.OK:return Dt();case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0;default:return Dt()}}function t0(p){if(p===void 0)return Ts("GRPC error has no .code"),vt.UNKNOWN;switch(p){case Ce.OK:return vt.OK;case Ce.CANCELLED:return vt.CANCELLED;case Ce.UNKNOWN:return vt.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return vt.INTERNAL;case Ce.UNAVAILABLE:return vt.UNAVAILABLE;case Ce.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case Ce.NOT_FOUND:return vt.NOT_FOUND;case Ce.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case Ce.ABORTED:return vt.ABORTED;case Ce.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case Ce.DATA_LOSS:return vt.DATA_LOSS;default:return Dt()}}(Qt=Ce||(Ce={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Xs([4294967295,4294967295],0);function Ev(p){const e=v2().encode(p),m=new mg;return m.update(e),new Uint8Array(m.digest())}function Sv(p){const e=new DataView(p.buffer),m=e.getUint32(0,!0),C=e.getUint32(4,!0),R=e.getUint32(8,!0),M=e.getUint32(12,!0);return[new Xs([m,C],0),new Xs([R,M],0)]}class nf{constructor(e,m,C){if(this.bitmap=e,this.padding=m,this.hashCount=C,m<0||m>=8)throw new Wr(`Invalid padding: ${m}`);if(C<0)throw new Wr(`Invalid hash count: ${C}`);if(e.length>0&&this.hashCount===0)throw new Wr(`Invalid hash count: ${C}`);if(e.length===0&&m!==0)throw new Wr(`Invalid padding when bitmap length is 0: ${m}`);this.Ee=8*e.length-m,this.de=Xs.fromNumber(this.Ee)}Ae(e,m,C){let R=e.add(m.multiply(Xs.fromNumber(C)));return R.compare(p2)===1&&(R=new Xs([R.getBits(0),R.getBits(1)],0)),R.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const m=Ev(e),[C,R]=Sv(m);for(let M=0;M<this.hashCount;M++){const f=this.Ae(C,R,M);if(!this.Re(f))return!1}return!0}static create(e,m,C){const R=e%8==0?0:8-e%8,M=new Uint8Array(Math.ceil(e/8)),f=new nf(M,R,m);return C.forEach(S=>f.insert(S)),f}insert(e){if(this.Ee===0)return;const m=Ev(e),[C,R]=Sv(m);for(let M=0;M<this.hashCount;M++){const f=this.Ae(C,R,M);this.Ve(f)}}Ve(e){const m=Math.floor(e/8),C=e%8;this.bitmap[m]|=1<<C}}class Wr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,m,C,R,M){this.snapshotVersion=e,this.targetChanges=m,this.targetMismatches=C,this.documentUpdates=R,this.resolvedLimboDocuments=M}static createSynthesizedRemoteEventForCurrentChange(e,m,C){const R=new Map;return R.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,m,C)),new Dh(Vt.min(),R,new xe($t),Es(),Ht())}}class Fa{constructor(e,m,C,R,M){this.resumeToken=e,this.current=m,this.addedDocuments=C,this.modifiedDocuments=R,this.removedDocuments=M}static createSynthesizedTargetChangeForCurrentChange(e,m,C){return new Fa(C,m,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,m,C,R){this.me=e,this.removedTargetIds=m,this.key=C,this.fe=R}}class e0{constructor(e,m){this.targetId=e,this.ge=m}}class i0{constructor(e,m,C=ze.EMPTY_BYTE_STRING,R=null){this.state=e,this.targetIds=m,this.resumeToken=C,this.cause=R}}class Cv{constructor(){this.pe=0,this.ye=Av(),this.we=ze.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ht(),m=Ht(),C=Ht();return this.ye.forEach((R,M)=>{switch(M){case 0:e=e.add(R);break;case 2:m=m.add(R);break;case 1:C=C.add(R);break;default:Dt()}}),new Fa(this.we,this.be,e,m,C)}Me(){this.Se=!1,this.ye=Av()}xe(e,m){this.Se=!0,this.ye=this.ye.insert(e,m)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,se(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class m2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Es(),this.$e=lo(),this.Ke=lo(),this.Ue=new xe($t)}We(e){for(const m of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(m,e.fe):this.ze(m,e.key,e.fe);for(const m of e.removedTargetIds)this.ze(m,e.key,e.fe)}je(e){this.forEachTarget(e,m=>{const C=this.He(m);switch(e.state){case 0:this.Je(m)&&C.Ce(e.resumeToken);break;case 1:C.Be(),C.De||C.Me(),C.Ce(e.resumeToken);break;case 2:C.Be(),C.De||this.removeTarget(m);break;case 3:this.Je(m)&&(C.Le(),C.Ce(e.resumeToken));break;case 4:this.Je(m)&&(this.Ye(m),C.Ce(e.resumeToken));break;default:Dt()}})}forEachTarget(e,m){e.targetIds.length>0?e.targetIds.forEach(m):this.qe.forEach((C,R)=>{this.Je(R)&&m(R)})}Ze(e){const m=e.targetId,C=e.ge.count,R=this.Xe(m);if(R){const M=R.target;if(hu(M))if(C===0){const f=new Ft(M.path);this.ze(m,f,je.newNoDocument(f,Vt.min()))}else se(C===1);else{const f=this.et(m);if(f!==C){const S=this.tt(e),t=S?this.nt(S,e,f):1;if(t!==0){this.Ye(m);const h=t===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(m,h)}}}}}tt(e){const m=e.ge.unchangedNames;if(!m||!m.bits)return null;const{bits:{bitmap:C="",padding:R=0},hashCount:M=0}=m;let f,S;try{f=js(C).toUint8Array()}catch(t){if(t instanceof Rg)return or("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{S=new nf(f,R,M)}catch(t){return or(t instanceof Wr?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return S.Ee===0?null:S}nt(e,m,C){return m.ge.count===C-this.st(e,m.targetId)?0:2}st(e,m){const C=this.ke.getRemoteKeysForTarget(m);let R=0;return C.forEach(M=>{const f=this.ke.it(),S=`projects/${f.projectId}/databases/${f.database}/documents/${M.path.canonicalString()}`;e.mightContain(S)||(this.ze(m,M,null),R++)}),R}ot(e){const m=new Map;this.qe.forEach((M,f)=>{const S=this.Xe(f);if(S){if(M.current&&hu(S.target)){const t=new Ft(S.target.path);this._t(t).has(f)||this.ut(f,t)||this.ze(f,t,je.newNoDocument(t,e))}M.ve&&(m.set(f,M.Fe()),M.Me())}});let C=Ht();this.Ke.forEach((M,f)=>{let S=!0;f.forEachWhile(t=>{const h=this.Xe(t);return!h||h.purpose==="TargetPurposeLimboResolution"||(S=!1,!1)}),S&&(C=C.add(M))}),this.Qe.forEach((M,f)=>f.setReadTime(e));const R=new Dh(e,m,this.Ue,this.Qe,C);return this.Qe=Es(),this.$e=lo(),this.Ke=lo(),this.Ue=new xe($t),R}Ge(e,m){if(!this.Je(e))return;const C=this.ut(e,m.key)?2:0;this.He(e).xe(m.key,C),this.Qe=this.Qe.insert(m.key,m),this.$e=this.$e.insert(m.key,this._t(m.key).add(e)),this.Ke=this.Ke.insert(m.key,this.ct(m.key).add(e))}ze(e,m,C){if(!this.Je(e))return;const R=this.He(e);this.ut(e,m)?R.xe(m,1):R.Oe(m),this.Ke=this.Ke.insert(m,this.ct(m).delete(e)),this.Ke=this.Ke.insert(m,this.ct(m).add(e)),C&&(this.Qe=this.Qe.insert(m,C))}removeTarget(e){this.qe.delete(e)}et(e){const m=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+m.addedDocuments.size-m.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let m=this.qe.get(e);return m||(m=new Cv,this.qe.set(e,m)),m}ct(e){let m=this.Ke.get(e);return m||(m=new Le($t),this.Ke=this.Ke.insert(e,m)),m}_t(e){let m=this.$e.get(e);return m||(m=new Le($t),this.$e=this.$e.insert(e,m)),m}Je(e){const m=this.Xe(e)!==null;return m||Pt("WatchChangeAggregator","Detected inactive target",e),m}Xe(e){const m=this.qe.get(e);return m&&m.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Cv),this.ke.getRemoteKeysForTarget(e).forEach(m=>{this.ze(e,m,null)})}ut(e,m){return this.ke.getRemoteKeysForTarget(e).has(m)}}function lo(){return new xe(Ft.comparator)}function Av(){return new xe(Ft.comparator)}const g2={asc:"ASCENDING",desc:"DESCENDING"},x2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y2={and:"AND",or:"OR"};class T2{constructor(e,m){this.databaseId=e,this.useProto3Json=m}}function fu(p,e){return p.useProto3Json||Rh(e)?e:{value:e}}function jo(p,e){return p.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s0(p,e){return p.useProto3Json?e.toBase64():e.toUint8Array()}function E2(p,e){return jo(p,e.toTimestamp())}function Qi(p){return se(!!p),Vt.fromTimestamp(function(m){const C=$s(m);return new Ie(C.seconds,C.nanos)}(p))}function rf(p,e){return du(p,e).canonicalString()}function du(p,e){const m=function(R){return new pe(["projects",R.projectId,"databases",R.database])}(p).child("documents");return e===void 0?m:m.child(e)}function n0(p){const e=pe.fromString(p);return se(l0(e)),e}function cu(p,e){return rf(p.databaseId,e.path)}function Rl(p,e){const m=n0(e);if(m.get(1)!==p.databaseId.projectId)throw new At(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+m.get(1)+" vs "+p.databaseId.projectId);if(m.get(3)!==p.databaseId.database)throw new At(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+m.get(3)+" vs "+p.databaseId.database);return new Ft(a0(m))}function r0(p,e){return rf(p.databaseId,e)}function S2(p){const e=n0(p);return e.length===4?pe.emptyPath():a0(e)}function vu(p){return new pe(["projects",p.databaseId.projectId,"databases",p.databaseId.database]).canonicalString()}function a0(p){return se(p.length>4&&p.get(4)==="documents"),p.popFirst(5)}function Pv(p,e,m){return{name:cu(p,e),fields:m.value.mapValue.fields}}function C2(p,e){let m;if("targetChange"in e){e.targetChange;const C=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),R=e.targetChange.targetIds||[],M=function(h,g){return h.useProto3Json?(se(g===void 0||typeof g=="string"),ze.fromBase64String(g||"")):(se(g===void 0||g instanceof Buffer||g instanceof Uint8Array),ze.fromUint8Array(g||new Uint8Array))}(p,e.targetChange.resumeToken),f=e.targetChange.cause,S=f&&function(h){const g=h.code===void 0?vt.UNKNOWN:t0(h.code);return new At(g,h.message||"")}(f);m=new i0(C,R,M,S||null)}else if("documentChange"in e){e.documentChange;const C=e.documentChange;C.document,C.document.name,C.document.updateTime;const R=Rl(p,C.document.name),M=Qi(C.document.updateTime),f=C.document.createTime?Qi(C.document.createTime):Vt.min(),S=new li({mapValue:{fields:C.document.fields}}),t=je.newFoundDocument(R,M,f,S),h=C.targetIds||[],g=C.removedTargetIds||[];m=new Co(h,g,t.key,t)}else if("documentDelete"in e){e.documentDelete;const C=e.documentDelete;C.document;const R=Rl(p,C.document),M=C.readTime?Qi(C.readTime):Vt.min(),f=je.newNoDocument(R,M),S=C.removedTargetIds||[];m=new Co([],S,f.key,f)}else if("documentRemove"in e){e.documentRemove;const C=e.documentRemove;C.document;const R=Rl(p,C.document),M=C.removedTargetIds||[];m=new Co([],M,R,null)}else{if(!("filter"in e))return Dt();{e.filter;const C=e.filter;C.targetId;const{count:R=0,unchangedNames:M}=C,f=new d2(R,M),S=C.targetId;m=new e0(S,f)}}return m}function A2(p,e){let m;if(e instanceof La)m={update:Pv(p,e.key,e.value)};else if(e instanceof _g)m={delete:cu(p,e.key)};else if(e instanceof en)m={update:Pv(p,e.key,e.data),updateMask:D2(e.fieldMask)};else{if(!(e instanceof l2))return Dt();m={verify:cu(p,e.key)}}return e.fieldTransforms.length>0&&(m.updateTransforms=e.fieldTransforms.map(C=>function(M,f){const S=f.transform;if(S instanceof Ko)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Ea)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Sa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof $o)return{fieldPath:f.field.canonicalString(),increment:S.Ie};throw Dt()}(0,C))),e.precondition.isNone||(m.currentDocument=function(R,M){return M.updateTime!==void 0?{updateTime:E2(R,M.updateTime)}:M.exists!==void 0?{exists:M.exists}:Dt()}(p,e.precondition)),m}function P2(p,e){return p&&p.length>0?(se(e!==void 0),p.map(m=>function(R,M){let f=R.updateTime?Qi(R.updateTime):Qi(M);return f.isEqual(Vt.min())&&(f=Qi(M)),new a2(f,R.transformResults||[])}(m,e))):[]}function R2(p,e){return{documents:[r0(p,e.path)]}}function w2(p,e){const m={structuredQuery:{}},C=e.path;let R;e.collectionGroup!==null?(R=C,m.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(R=C.popLast(),m.structuredQuery.from=[{collectionId:C.lastSegment()}]),m.parent=r0(p,R);const M=function(h){if(h.length!==0)return h0(Ni.create(h,"and"))}(e.filters);M&&(m.structuredQuery.where=M);const f=function(h){if(h.length!==0)return h.map(g=>function(a){return{field:jn(a.field),direction:L2(a.dir)}}(g))}(e.orderBy);f&&(m.structuredQuery.orderBy=f);const S=fu(p,e.limit);return S!==null&&(m.structuredQuery.limit=S),e.startAt&&(m.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(m.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:m,parent:R}}function M2(p){let e=S2(p.parent);const m=p.structuredQuery,C=m.from?m.from.length:0;let R=null;if(C>0){se(C===1);const g=m.from[0];g.allDescendants?R=g.collectionId:e=e.child(g.collectionId)}let M=[];m.where&&(M=function(o){const a=o0(o);return a instanceof Ni&&Bg(a)?a.getFilters():[a]}(m.where));let f=[];m.orderBy&&(f=function(o){return o.map(a=>function(i){return new Ho(Qn(i.field),function(l){switch(l){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(i.direction))}(a))}(m.orderBy));let S=null;m.limit&&(S=function(o){let a;return a=typeof o=="object"?o.value:o,Rh(a)?null:a}(m.limit));let t=null;m.startAt&&(t=function(o){const a=!!o.before,r=o.values||[];return new Yo(r,a)}(m.startAt));let h=null;return m.endAt&&(h=function(o){const a=!o.before,r=o.values||[];return new Yo(r,a)}(m.endAt)),jC(e,R,f,M,S,"F",t,h)}function I2(p,e){const m=function(R){switch(R){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return m==null?null:{"goog-listen-tags":m}}function o0(p){return p.unaryFilter!==void 0?function(m){switch(m.unaryFilter.op){case"IS_NAN":const C=Qn(m.unaryFilter.field);return Ae.create(C,"==",{doubleValue:NaN});case"IS_NULL":const R=Qn(m.unaryFilter.field);return Ae.create(R,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const M=Qn(m.unaryFilter.field);return Ae.create(M,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qn(m.unaryFilter.field);return Ae.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(p):p.fieldFilter!==void 0?function(m){return Ae.create(Qn(m.fieldFilter.field),function(R){switch(R){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(m.fieldFilter.op),m.fieldFilter.value)}(p):p.compositeFilter!==void 0?function(m){return Ni.create(m.compositeFilter.filters.map(C=>o0(C)),function(R){switch(R){case"AND":return"and";case"OR":return"or";default:return Dt()}}(m.compositeFilter.op))}(p):Dt()}function L2(p){return g2[p]}function F2(p){return x2[p]}function O2(p){return y2[p]}function jn(p){return{fieldPath:p.canonicalString()}}function Qn(p){return Ve.fromServerFormat(p.fieldPath)}function h0(p){return p instanceof Ae?function(m){if(m.op==="=="){if(dv(m.value))return{unaryFilter:{field:jn(m.field),op:"IS_NAN"}};if(fv(m.value))return{unaryFilter:{field:jn(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(dv(m.value))return{unaryFilter:{field:jn(m.field),op:"IS_NOT_NAN"}};if(fv(m.value))return{unaryFilter:{field:jn(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jn(m.field),op:F2(m.op),value:m.value}}}(p):p instanceof Ni?function(m){const C=m.getFilters().map(R=>h0(R));return C.length===1?C[0]:{compositeFilter:{op:O2(m.op),filters:C}}}(p):Dt()}function D2(p){const e=[];return p.fields.forEach(m=>e.push(m.canonicalString())),{fieldPaths:e}}function l0(p){return p.length>=4&&p.get(0)==="projects"&&p.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,m,C,R,M=Vt.min(),f=Vt.min(),S=ze.EMPTY_BYTE_STRING,t=null){this.target=e,this.targetId=m,this.purpose=C,this.sequenceNumber=R,this.snapshotVersion=M,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=S,this.expectedCount=t}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,m){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,m,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.Tt=e}}function b2(p){const e=M2({parent:p.parent,structuredQuery:p.structuredQuery});return p.limitType==="LAST"?uu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.Tn=new V2}addToCollectionParentIndex(e,m){return this.Tn.add(m),pt.resolve()}getCollectionParents(e,m){return pt.resolve(this.Tn.getEntries(m))}addFieldIndex(e,m){return pt.resolve()}deleteFieldIndex(e,m){return pt.resolve()}deleteAllFieldIndexes(e){return pt.resolve()}createTargetIndexes(e,m){return pt.resolve()}getDocumentsMatchingTarget(e,m){return pt.resolve(null)}getIndexType(e,m){return pt.resolve(0)}getFieldIndexes(e,m){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,m){return pt.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,m){return pt.resolve(Ks.min())}updateCollectionGroup(e,m,C){return pt.resolve()}updateIndexEntries(e,m){return pt.resolve()}}class V2{constructor(){this.index={}}add(e){const m=e.lastSegment(),C=e.popLast(),R=this.index[m]||new Le(pe.comparator),M=!R.has(C);return this.index[m]=R.add(C),M}has(e){const m=e.lastSegment(),C=e.popLast(),R=this.index[m];return R&&R.has(C)}getEntries(e){return(this.index[e]||new Le(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u0=41943040;class ai{static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,m,C){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=m,this.maximumSequenceNumbersToCollect=C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(u0,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new fr(0)}static Un(){return new fr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="LruGarbageCollector",f0=1048576;function Mv([p,e],[m,C]){const R=$t(p,m);return R===0?$t(e,C):R}class G2{constructor(e){this.Hn=e,this.buffer=new Le(Mv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const m=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(m);else{const C=this.buffer.last();Mv(m,C)<0&&(this.buffer=this.buffer.delete(C).add(m))}}get maxValue(){return this.buffer.last()[0]}}class U2{constructor(e,m,C){this.garbageCollector=e,this.asyncQueue=m,this.localStore=C,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Pt(wv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(m){Tr(m)?Pt(wv,"Ignoring IndexedDB error during garbage collection: ",m):await yr(m)}await this.er(3e5)})}}class z2{constructor(e,m){this.tr=e,this.params=m}calculateTargetCount(e,m){return this.tr.nr(e).next(C=>Math.floor(m/100*C))}nthSequenceNumber(e,m){if(m===0)return pt.resolve(Ph.ae);const C=new G2(m);return this.tr.forEachTarget(e,R=>C.Zn(R.sequenceNumber)).next(()=>this.tr.rr(e,R=>C.Zn(R))).next(()=>C.maxValue)}removeTargets(e,m,C){return this.tr.removeTargets(e,m,C)}removeOrphanedDocuments(e,m){return this.tr.removeOrphanedDocuments(e,m)}collect(e,m){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(Rv)):this.getCacheSize(e).next(C=>C<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${C} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.ir(e,m))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,m){let C,R,M,f,S,t,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(o=>(o>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${o}`),R=this.params.maximumSequenceNumbersToCollect):R=o,f=Date.now(),this.nthSequenceNumber(e,R))).next(o=>(C=o,S=Date.now(),this.removeTargets(e,C,m))).next(o=>(M=o,t=Date.now(),this.removeOrphanedDocuments(e,C))).next(o=>(h=Date.now(),Kn()<=Yt.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-g}ms
	Determined least recently used ${R} in `+(S-f)+`ms
	Removed ${M} targets in `+(t-S)+`ms
	Removed ${o} documents in `+(h-t)+`ms
Total Duration: ${h-g}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:R,targetsRemoved:M,documentsRemoved:o})))}}function X2(p,e){return new z2(p,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.changes=new Nn(e=>e.toString(),(e,m)=>e.isEqual(m)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,m){this.assertNotApplied(),this.changes.set(e,je.newInvalidDocument(e).setReadTime(m))}getEntry(e,m){this.assertNotApplied();const C=this.changes.get(m);return C!==void 0?pt.resolve(C):this.getFromCache(e,m)}getEntries(e,m){return this.getAllFromCache(e,m)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,m){this.overlayedDocument=e,this.mutatedFields=m}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,m,C,R){this.remoteDocumentCache=e,this.mutationQueue=m,this.documentOverlayCache=C,this.indexManager=R}getDocument(e,m){let C=null;return this.documentOverlayCache.getOverlay(e,m).next(R=>(C=R,this.remoteDocumentCache.getEntry(e,m))).next(R=>(C!==null&&ia(C.mutation,R,pi.empty(),Ie.now()),R))}getDocuments(e,m){return this.remoteDocumentCache.getEntries(e,m).next(C=>this.getLocalViewOfDocuments(e,C,Ht()).next(()=>C))}getLocalViewOfDocuments(e,m,C=Ht()){const R=pn();return this.populateOverlays(e,R,m).next(()=>this.computeViews(e,m,R,C).next(M=>{let f=Xr();return M.forEach((S,t)=>{f=f.insert(S,t.overlayedDocument)}),f}))}getOverlayedDocuments(e,m){const C=pn();return this.populateOverlays(e,C,m).next(()=>this.computeViews(e,m,C,Ht()))}populateOverlays(e,m,C){const R=[];return C.forEach(M=>{m.has(M)||R.push(M)}),this.documentOverlayCache.getOverlays(e,R).next(M=>{M.forEach((f,S)=>{m.set(f,S)})})}computeViews(e,m,C,R){let M=Es();const f=ea(),S=function(){return ea()}();return m.forEach((t,h)=>{const g=C.get(h.key);R.has(h.key)&&(g===void 0||g.mutation instanceof en)?M=M.insert(h.key,h):g!==void 0?(f.set(h.key,g.mutation.getFieldMask()),ia(g.mutation,h,g.mutation.getFieldMask(),Ie.now())):f.set(h.key,pi.empty())}),this.recalculateAndSaveOverlays(e,M).next(t=>(t.forEach((h,g)=>f.set(h,g)),m.forEach((h,g)=>{var o;return S.set(h,new Y2(g,(o=f.get(h))!==null&&o!==void 0?o:null))}),S))}recalculateAndSaveOverlays(e,m){const C=ea();let R=new xe((f,S)=>f-S),M=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,m).next(f=>{for(const S of f)S.keys().forEach(t=>{const h=m.get(t);if(h===null)return;let g=C.get(t)||pi.empty();g=S.applyToLocalView(h,g),C.set(t,g);const o=(R.get(S.batchId)||Ht()).add(t);R=R.insert(S.batchId,o)})}).next(()=>{const f=[],S=R.getReverseIterator();for(;S.hasNext();){const t=S.getNext(),h=t.key,g=t.value,o=Kg();g.forEach(a=>{if(!M.has(a)){const r=Zg(m.get(a),C.get(a));r!==null&&o.set(a,r),M=M.add(a)}}),f.push(this.documentOverlayCache.saveOverlays(e,h,o))}return pt.waitFor(f)}).next(()=>C)}recalculateAndSaveOverlaysForDocumentKeys(e,m){return this.remoteDocumentCache.getEntries(e,m).next(C=>this.recalculateAndSaveOverlays(e,C))}getDocumentsMatchingQuery(e,m,C,R){return function(f){return Ft.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(m)?this.getDocumentsMatchingDocumentQuery(e,m.path):zg(m)?this.getDocumentsMatchingCollectionGroupQuery(e,m,C,R):this.getDocumentsMatchingCollectionQuery(e,m,C,R)}getNextDocuments(e,m,C,R){return this.remoteDocumentCache.getAllFromCollectionGroup(e,m,C,R).next(M=>{const f=R-M.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,m,C.largestBatchId,R-M.size):pt.resolve(pn());let S=ma,t=M;return f.next(h=>pt.forEach(h,(g,o)=>(S<o.largestBatchId&&(S=o.largestBatchId),M.get(g)?pt.resolve():this.remoteDocumentCache.getEntry(e,g).next(a=>{t=t.insert(g,a)}))).next(()=>this.populateOverlays(e,h,M)).next(()=>this.computeViews(e,t,h,Ht())).next(g=>({batchId:S,changes:Hg(g)})))})}getDocumentsMatchingDocumentQuery(e,m){return this.getDocument(e,new Ft(m)).next(C=>{let R=Xr();return C.isFoundDocument()&&(R=R.insert(C.key,C)),R})}getDocumentsMatchingCollectionGroupQuery(e,m,C,R){const M=m.collectionGroup;let f=Xr();return this.indexManager.getCollectionParents(e,M).next(S=>pt.forEach(S,t=>{const h=function(o,a){return new Ia(a,null,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(m,t.child(M));return this.getDocumentsMatchingCollectionQuery(e,h,C,R).next(g=>{g.forEach((o,a)=>{f=f.insert(o,a)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,m,C,R){let M;return this.documentOverlayCache.getOverlaysForCollection(e,m.path,C.largestBatchId).next(f=>(M=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,m,C,M,R))).next(f=>{M.forEach((t,h)=>{const g=h.getKey();f.get(g)===null&&(f=f.insert(g,je.newInvalidDocument(g)))});let S=Xr();return f.forEach((t,h)=>{const g=M.get(t);g!==void 0&&ia(g.mutation,h,pi.empty(),Ie.now()),Lh(m,h)&&(S=S.insert(t,h))}),S})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,m){return pt.resolve(this.dr.get(m))}saveBundleMetadata(e,m){return this.dr.set(m.id,function(R){return{id:R.id,version:R.version,createTime:Qi(R.createTime)}}(m)),pt.resolve()}getNamedQuery(e,m){return pt.resolve(this.Ar.get(m))}saveNamedQuery(e,m){return this.Ar.set(m.name,function(R){return{name:R.name,query:b2(R.bundledQuery),readTime:Qi(R.readTime)}}(m)),pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.overlays=new xe(Ft.comparator),this.Rr=new Map}getOverlay(e,m){return pt.resolve(this.overlays.get(m))}getOverlays(e,m){const C=pn();return pt.forEach(m,R=>this.getOverlay(e,R).next(M=>{M!==null&&C.set(R,M)})).next(()=>C)}saveOverlays(e,m,C){return C.forEach((R,M)=>{this.Et(e,m,M)}),pt.resolve()}removeOverlaysForBatchId(e,m,C){const R=this.Rr.get(C);return R!==void 0&&(R.forEach(M=>this.overlays=this.overlays.remove(M)),this.Rr.delete(C)),pt.resolve()}getOverlaysForCollection(e,m,C){const R=pn(),M=m.length+1,f=new Ft(m.child("")),S=this.overlays.getIteratorFrom(f);for(;S.hasNext();){const t=S.getNext().value,h=t.getKey();if(!m.isPrefixOf(h.path))break;h.path.length===M&&t.largestBatchId>C&&R.set(t.getKey(),t)}return pt.resolve(R)}getOverlaysForCollectionGroup(e,m,C,R){let M=new xe((h,g)=>h-g);const f=this.overlays.getIterator();for(;f.hasNext();){const h=f.getNext().value;if(h.getKey().getCollectionGroup()===m&&h.largestBatchId>C){let g=M.get(h.largestBatchId);g===null&&(g=pn(),M=M.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const S=pn(),t=M.getIterator();for(;t.hasNext()&&(t.getNext().value.forEach((h,g)=>S.set(h,g)),!(S.size()>=R)););return pt.resolve(S)}Et(e,m,C){const R=this.overlays.get(C.key);if(R!==null){const f=this.Rr.get(R.largestBatchId).delete(C.key);this.Rr.set(R.largestBatchId,f)}this.overlays=this.overlays.insert(C.key,new f2(m,C));let M=this.Rr.get(m);M===void 0&&(M=Ht(),this.Rr.set(m,M)),this.Rr.set(m,M.add(C.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(e){return pt.resolve(this.sessionToken)}setSessionToken(e,m){return this.sessionToken=m,pt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.Vr=new Le(Oe.mr),this.gr=new Le(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,m){const C=new Oe(e,m);this.Vr=this.Vr.add(C),this.gr=this.gr.add(C)}yr(e,m){e.forEach(C=>this.addReference(C,m))}removeReference(e,m){this.wr(new Oe(e,m))}br(e,m){e.forEach(C=>this.removeReference(C,m))}Sr(e){const m=new Ft(new pe([])),C=new Oe(m,e),R=new Oe(m,e+1),M=[];return this.gr.forEachInRange([C,R],f=>{this.wr(f),M.push(f.key)}),M}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const m=new Ft(new pe([])),C=new Oe(m,e),R=new Oe(m,e+1);let M=Ht();return this.gr.forEachInRange([C,R],f=>{M=M.add(f.key)}),M}containsKey(e){const m=new Oe(e,0),C=this.Vr.firstAfterOrEqual(m);return C!==null&&e.isEqual(C.key)}}class Oe{constructor(e,m){this.key=e,this.Cr=m}static mr(e,m){return Ft.comparator(e.key,m.key)||$t(e.Cr,m.Cr)}static pr(e,m){return $t(e.Cr,m.Cr)||Ft.comparator(e.key,m.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,m){this.indexManager=e,this.referenceDelegate=m,this.mutationQueue=[],this.Fr=1,this.Mr=new Le(Oe.mr)}checkEmpty(e){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,m,C,R){const M=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new u2(M,m,C,R);this.mutationQueue.push(f);for(const S of R)this.Mr=this.Mr.add(new Oe(S.key,M)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return pt.resolve(f)}lookupMutationBatch(e,m){return pt.resolve(this.Or(m))}getNextMutationBatchAfterBatchId(e,m){const C=m+1,R=this.Nr(C),M=R<0?0:R;return pt.resolve(this.mutationQueue.length>M?this.mutationQueue[M]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?ku:this.Fr-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,m){const C=new Oe(m,0),R=new Oe(m,Number.POSITIVE_INFINITY),M=[];return this.Mr.forEachInRange([C,R],f=>{const S=this.Or(f.Cr);M.push(S)}),pt.resolve(M)}getAllMutationBatchesAffectingDocumentKeys(e,m){let C=new Le($t);return m.forEach(R=>{const M=new Oe(R,0),f=new Oe(R,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([M,f],S=>{C=C.add(S.Cr)})}),pt.resolve(this.Br(C))}getAllMutationBatchesAffectingQuery(e,m){const C=m.path,R=C.length+1;let M=C;Ft.isDocumentKey(M)||(M=M.child(""));const f=new Oe(new Ft(M),0);let S=new Le($t);return this.Mr.forEachWhile(t=>{const h=t.key.path;return!!C.isPrefixOf(h)&&(h.length===R&&(S=S.add(t.Cr)),!0)},f),pt.resolve(this.Br(S))}Br(e){const m=[];return e.forEach(C=>{const R=this.Or(C);R!==null&&m.push(R)}),m}removeMutationBatch(e,m){se(this.Lr(m.batchId,"removed")===0),this.mutationQueue.shift();let C=this.Mr;return pt.forEach(m.mutations,R=>{const M=new Oe(R.key,m.batchId);return C=C.delete(M),this.referenceDelegate.markPotentiallyOrphaned(e,R.key)}).next(()=>{this.Mr=C})}qn(e){}containsKey(e,m){const C=new Oe(m,0),R=this.Mr.firstAfterOrEqual(C);return pt.resolve(m.isEqual(R&&R.key))}performConsistencyCheck(e){return this.mutationQueue.length,pt.resolve()}Lr(e,m){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const m=this.Nr(e);return m<0||m>=this.mutationQueue.length?null:this.mutationQueue[m]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.kr=e,this.docs=function(){return new xe(Ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,m){const C=m.key,R=this.docs.get(C),M=R?R.size:0,f=this.kr(m);return this.docs=this.docs.insert(C,{document:m.mutableCopy(),size:f}),this.size+=f-M,this.indexManager.addToCollectionParentIndex(e,C.path.popLast())}removeEntry(e){const m=this.docs.get(e);m&&(this.docs=this.docs.remove(e),this.size-=m.size)}getEntry(e,m){const C=this.docs.get(m);return pt.resolve(C?C.document.mutableCopy():je.newInvalidDocument(m))}getEntries(e,m){let C=Es();return m.forEach(R=>{const M=this.docs.get(R);C=C.insert(R,M?M.document.mutableCopy():je.newInvalidDocument(R))}),pt.resolve(C)}getDocumentsMatchingQuery(e,m,C,R){let M=Es();const f=m.path,S=new Ft(f.child("__id-9223372036854775808__")),t=this.docs.getIteratorFrom(S);for(;t.hasNext();){const{key:h,value:{document:g}}=t.getNext();if(!f.isPrefixOf(h.path))break;h.path.length>f.length+1||PC(AC(g),C)<=0||(R.has(g.key)||Lh(m,g))&&(M=M.insert(g.key,g.mutableCopy()))}return pt.resolve(M)}getAllFromCollectionGroup(e,m,C,R){Dt()}qr(e,m){return pt.forEach(this.docs,C=>m(C))}newChangeBuffer(e){return new k2(this)}getSize(e){return pt.resolve(this.size)}}class k2 extends W2{constructor(e){super(),this.Ir=e}applyChanges(e){const m=[];return this.changes.forEach((C,R)=>{R.isValidDocument()?m.push(this.Ir.addEntry(e,R)):this.Ir.removeEntry(C)}),pt.waitFor(m)}getFromCache(e,m){return this.Ir.getEntry(e,m)}getAllFromCache(e,m){return this.Ir.getEntries(e,m)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.persistence=e,this.Qr=new Nn(m=>_u(m),tf),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new af,this.targetCount=0,this.Ur=fr.Kn()}forEachTarget(e,m){return this.Qr.forEach((C,R)=>m(R)),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,m,C){return C&&(this.lastRemoteSnapshotVersion=C),m>this.$r&&(this.$r=m),pt.resolve()}zn(e){this.Qr.set(e.target,e);const m=e.targetId;m>this.highestTargetId&&(this.Ur=new fr(m),this.highestTargetId=m),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,m){return this.zn(m),this.targetCount+=1,pt.resolve()}updateTargetData(e,m){return this.zn(m),pt.resolve()}removeTargetData(e,m){return this.Qr.delete(m.target),this.Kr.Sr(m.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,m,C){let R=0;const M=[];return this.Qr.forEach((f,S)=>{S.sequenceNumber<=m&&C.get(S.targetId)===null&&(this.Qr.delete(f),M.push(this.removeMatchingKeysForTargetId(e,S.targetId)),R++)}),pt.waitFor(M).next(()=>R)}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,m){const C=this.Qr.get(m)||null;return pt.resolve(C)}addMatchingKeys(e,m,C){return this.Kr.yr(m,C),pt.resolve()}removeMatchingKeys(e,m,C){this.Kr.br(m,C);const R=this.persistence.referenceDelegate,M=[];return R&&m.forEach(f=>{M.push(R.markPotentiallyOrphaned(e,f))}),pt.waitFor(M)}removeMatchingKeysForTargetId(e,m){return this.Kr.Sr(m),pt.resolve()}getMatchingKeysForTargetId(e,m){const C=this.Kr.vr(m);return pt.resolve(C)}containsKey(e,m){return pt.resolve(this.Kr.containsKey(m))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,m){this.Wr={},this.overlays={},this.Gr=new Ph(0),this.zr=!1,this.zr=!0,this.jr=new j2,this.referenceDelegate=e(this),this.Hr=new Z2(this),this.indexManager=new B2,this.remoteDocumentCache=function(R){return new J2(R)}(C=>this.referenceDelegate.Jr(C)),this.serializer=new N2(m),this.Yr=new K2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let m=this.overlays[e.toKey()];return m||(m=new $2,this.overlays[e.toKey()]=m),m}getMutationQueue(e,m){let C=this.Wr[e.toKey()];return C||(C=new Q2(m,this.referenceDelegate),this.Wr[e.toKey()]=C),C}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,m,C){Pt("MemoryPersistence","Starting transaction:",e);const R=new q2(this.Gr.next());return this.referenceDelegate.Zr(),C(R).next(M=>this.referenceDelegate.Xr(R).next(()=>M)).toPromise().then(M=>(R.raiseOnCommittedEvent(),M))}ei(e,m){return pt.or(Object.values(this.Wr).map(C=>()=>C.containsKey(e,m)))}}class q2 extends wC{constructor(e){super(),this.currentSequenceNumber=e}}class of{constructor(e){this.persistence=e,this.ti=new af,this.ni=null}static ri(e){return new of(e)}get ii(){if(this.ni)return this.ni;throw Dt()}addReference(e,m,C){return this.ti.addReference(C,m),this.ii.delete(C.toString()),pt.resolve()}removeReference(e,m,C){return this.ti.removeReference(C,m),this.ii.add(C.toString()),pt.resolve()}markPotentiallyOrphaned(e,m){return this.ii.add(m.toString()),pt.resolve()}removeTarget(e,m){this.ti.Sr(m.targetId).forEach(R=>this.ii.add(R.toString()));const C=this.persistence.getTargetCache();return C.getMatchingKeysForTargetId(e,m.targetId).next(R=>{R.forEach(M=>this.ii.add(M.toString()))}).next(()=>C.removeTargetData(e,m))}Zr(){this.ni=new Set}Xr(e){const m=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.ii,C=>{const R=Ft.fromPath(C);return this.si(e,R).next(M=>{M||m.removeEntry(R,Vt.min())})}).next(()=>(this.ni=null,m.apply(e)))}updateLimboDocument(e,m){return this.si(e,m).next(C=>{C?this.ii.delete(m.toString()):this.ii.add(m.toString())})}Jr(e){return 0}si(e,m){return pt.or([()=>pt.resolve(this.ti.containsKey(m)),()=>this.persistence.getTargetCache().containsKey(e,m),()=>this.persistence.ei(e,m)])}}class Qo{constructor(e,m){this.persistence=e,this.oi=new Nn(C=>LC(C.path),(C,R)=>C.isEqual(R)),this.garbageCollector=X2(this,m)}static ri(e,m){return new Qo(e,m)}Zr(){}Xr(e){return pt.resolve()}forEachTarget(e,m){return this.persistence.getTargetCache().forEachTarget(e,m)}nr(e){const m=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(C=>m.next(R=>C+R))}sr(e){let m=0;return this.rr(e,C=>{m++}).next(()=>m)}rr(e,m){return pt.forEach(this.oi,(C,R)=>this.ar(e,C,R).next(M=>M?pt.resolve():m(R)))}removeTargets(e,m,C){return this.persistence.getTargetCache().removeTargets(e,m,C)}removeOrphanedDocuments(e,m){let C=0;const R=this.persistence.getRemoteDocumentCache(),M=R.newChangeBuffer();return R.qr(e,f=>this.ar(e,f,m).next(S=>{S||(C++,M.removeEntry(f,Vt.min()))})).next(()=>M.apply(e)).next(()=>C)}markPotentiallyOrphaned(e,m){return this.oi.set(m,e.currentSequenceNumber),pt.resolve()}removeTarget(e,m){const C=m.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,C)}addReference(e,m,C){return this.oi.set(C,e.currentSequenceNumber),pt.resolve()}removeReference(e,m,C){return this.oi.set(C,e.currentSequenceNumber),pt.resolve()}updateLimboDocument(e,m){return this.oi.set(m,e.currentSequenceNumber),pt.resolve()}Jr(e){let m=e.key.toString().length;return e.isFoundDocument()&&(m+=To(e.data.value)),m}ar(e,m,C){return pt.or([()=>this.persistence.ei(e,m),()=>this.persistence.getTargetCache().containsKey(e,m),()=>{const R=this.oi.get(m);return pt.resolve(R!==void 0&&R>C)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,m,C,R){this.targetId=e,this.fromCache=m,this.Hi=C,this.Ji=R}static Yi(e,m){let C=Ht(),R=Ht();for(const M of m.docChanges)switch(M.type){case 0:C=C.add(M.doc.key);break;case 1:R=R.add(M.doc.key)}return new hf(e,m.fromCache,C,R)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JE()?8:MC(ke())>0?6:4}()}initialize(e,m){this.ns=e,this.indexManager=m,this.Zi=!0}getDocumentsMatchingQuery(e,m,C,R){const M={result:null};return this.rs(e,m).next(f=>{M.result=f}).next(()=>{if(!M.result)return this.ss(e,m,R,C).next(f=>{M.result=f})}).next(()=>{if(M.result)return;const f=new _2;return this._s(e,m,f).next(S=>{if(M.result=S,this.Xi)return this.us(e,m,f,S.size)})}).next(()=>M.result)}us(e,m,C,R){return C.documentReadCount<this.es?(Kn()<=Yt.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",$n(m),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pt.resolve()):(Kn()<=Yt.DEBUG&&Pt("QueryEngine","Query:",$n(m),"scans",C.documentReadCount,"local documents and returns",R,"documents as results."),C.documentReadCount>this.ts*R?(Kn()<=Yt.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",$n(m),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(m))):pt.resolve())}rs(e,m){if(mv(m))return pt.resolve(null);let C=ji(m);return this.indexManager.getIndexType(e,C).next(R=>R===0?null:(m.limit!==null&&R===1&&(m=uu(m,null,"F"),C=ji(m)),this.indexManager.getDocumentsMatchingTarget(e,C).next(M=>{const f=Ht(...M);return this.ns.getDocuments(e,f).next(S=>this.indexManager.getMinOffset(e,C).next(t=>{const h=this.cs(m,S);return this.ls(m,h,f,t.readTime)?this.rs(e,uu(m,null,"F")):this.hs(e,h,m,t)}))})))}ss(e,m,C,R){return mv(m)||R.isEqual(Vt.min())?pt.resolve(null):this.ns.getDocuments(e,C).next(M=>{const f=this.cs(m,M);return this.ls(m,f,C,R)?pt.resolve(null):(Kn()<=Yt.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",R.toString(),$n(m)),this.hs(e,f,m,CC(R,ma)).next(S=>S))})}cs(e,m){let C=new Le(Wg(e));return m.forEach((R,M)=>{Lh(e,M)&&(C=C.add(M))}),C}ls(e,m,C,R){if(e.limit===null)return!1;if(C.size!==m.size)return!0;const M=e.limitType==="F"?m.last():m.first();return!!M&&(M.hasPendingWrites||M.version.compareTo(R)>0)}_s(e,m,C){return Kn()<=Yt.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",$n(m)),this.ns.getDocumentsMatchingQuery(e,m,Ks.min(),C)}hs(e,m,C,R){return this.ns.getDocumentsMatchingQuery(e,C,R).next(M=>(m.forEach(f=>{M=M.insert(f.key,f)}),M))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="LocalStore",eA=3e8;class iA{constructor(e,m,C,R){this.persistence=e,this.Ps=m,this.serializer=R,this.Ts=new xe($t),this.Is=new Nn(M=>_u(M),tf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(C)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",m=>e.collect(m,this.Ts))}}function sA(p,e,m,C){return new iA(p,e,m,C)}async function c0(p,e){const m=Bt(p);return await m.persistence.runTransaction("Handle user change","readonly",C=>{let R;return m.mutationQueue.getAllMutationBatches(C).next(M=>(R=M,m.As(e),m.mutationQueue.getAllMutationBatches(C))).next(M=>{const f=[],S=[];let t=Ht();for(const h of R){f.push(h.batchId);for(const g of h.mutations)t=t.add(g.key)}for(const h of M){S.push(h.batchId);for(const g of h.mutations)t=t.add(g.key)}return m.localDocuments.getDocuments(C,t).next(h=>({Rs:h,removedBatchIds:f,addedBatchIds:S}))})})}function nA(p,e){const m=Bt(p);return m.persistence.runTransaction("Acknowledge batch","readwrite-primary",C=>{const R=e.batch.keys(),M=m.ds.newChangeBuffer({trackRemovals:!0});return function(S,t,h,g){const o=h.batch,a=o.keys();let r=pt.resolve();return a.forEach(i=>{r=r.next(()=>g.getEntry(t,i)).next(n=>{const l=h.docVersions.get(i);se(l!==null),n.version.compareTo(l)<0&&(o.applyToRemoteDocument(n,h),n.isValidDocument()&&(n.setReadTime(h.commitVersion),g.addEntry(n)))})}),r.next(()=>S.mutationQueue.removeMutationBatch(t,o))}(m,C,e,M).next(()=>M.apply(C)).next(()=>m.mutationQueue.performConsistencyCheck(C)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(C,R,e.batch.batchId)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,function(S){let t=Ht();for(let h=0;h<S.mutationResults.length;++h)S.mutationResults[h].transformResults.length>0&&(t=t.add(S.batch.mutations[h].key));return t}(e))).next(()=>m.localDocuments.getDocuments(C,R))})}function v0(p){const e=Bt(p);return e.persistence.runTransaction("Get last remote snapshot version","readonly",m=>e.Hr.getLastRemoteSnapshotVersion(m))}function rA(p,e){const m=Bt(p),C=e.snapshotVersion;let R=m.Ts;return m.persistence.runTransaction("Apply remote event","readwrite-primary",M=>{const f=m.ds.newChangeBuffer({trackRemovals:!0});R=m.Ts;const S=[];e.targetChanges.forEach((g,o)=>{const a=R.get(o);if(!a)return;S.push(m.Hr.removeMatchingKeys(M,g.removedDocuments,o).next(()=>m.Hr.addMatchingKeys(M,g.addedDocuments,o)));let r=a.withSequenceNumber(M.currentSequenceNumber);e.targetMismatches.get(o)!==null?r=r.withResumeToken(ze.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):g.resumeToken.approximateByteSize()>0&&(r=r.withResumeToken(g.resumeToken,C)),R=R.insert(o,r),function(n,l,s){return n.resumeToken.approximateByteSize()===0||l.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=eA?!0:s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0}(a,r,g)&&S.push(m.Hr.updateTargetData(M,r))});let t=Es(),h=Ht();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&S.push(m.persistence.referenceDelegate.updateLimboDocument(M,g))}),S.push(aA(M,f,e.documentUpdates).next(g=>{t=g.Vs,h=g.fs})),!C.isEqual(Vt.min())){const g=m.Hr.getLastRemoteSnapshotVersion(M).next(o=>m.Hr.setTargetsMetadata(M,M.currentSequenceNumber,C));S.push(g)}return pt.waitFor(S).next(()=>f.apply(M)).next(()=>m.localDocuments.getLocalViewOfDocuments(M,t,h)).next(()=>t)}).then(M=>(m.Ts=R,M))}function aA(p,e,m){let C=Ht(),R=Ht();return m.forEach(M=>C=C.add(M)),e.getEntries(p,C).next(M=>{let f=Es();return m.forEach((S,t)=>{const h=M.get(S);t.isFoundDocument()!==h.isFoundDocument()&&(R=R.add(S)),t.isNoDocument()&&t.version.isEqual(Vt.min())?(e.removeEntry(S,t.readTime),f=f.insert(S,t)):!h.isValidDocument()||t.version.compareTo(h.version)>0||t.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(t),f=f.insert(S,t)):Pt(lf,"Ignoring outdated watch update for ",S,". Current version:",h.version," Watch version:",t.version)}),{Vs:f,fs:R}})}function oA(p,e){const m=Bt(p);return m.persistence.runTransaction("Get next mutation batch","readonly",C=>(e===void 0&&(e=ku),m.mutationQueue.getNextMutationBatchAfterBatchId(C,e)))}function hA(p,e){const m=Bt(p);return m.persistence.runTransaction("Allocate target","readwrite",C=>{let R;return m.Hr.getTargetData(C,e).next(M=>M?(R=M,pt.resolve(R)):m.Hr.allocateTargetId(C).next(f=>(R=new Gs(e,f,"TargetPurposeListen",C.currentSequenceNumber),m.Hr.addTargetData(C,R).next(()=>R))))}).then(C=>{const R=m.Ts.get(C.targetId);return(R===null||C.snapshotVersion.compareTo(R.snapshotVersion)>0)&&(m.Ts=m.Ts.insert(C.targetId,C),m.Is.set(e,C.targetId)),C})}async function pu(p,e,m){const C=Bt(p),R=C.Ts.get(e),M=m?"readwrite":"readwrite-primary";try{m||await C.persistence.runTransaction("Release target",M,f=>C.persistence.referenceDelegate.removeTarget(f,R))}catch(f){if(!Tr(f))throw f;Pt(lf,`Failed to update sequence numbers for target ${e}: ${f}`)}C.Ts=C.Ts.remove(e),C.Is.delete(R.target)}function Iv(p,e,m){const C=Bt(p);let R=Vt.min(),M=Ht();return C.persistence.runTransaction("Execute query","readwrite",f=>function(t,h,g){const o=Bt(t),a=o.Is.get(g);return a!==void 0?pt.resolve(o.Ts.get(a)):o.Hr.getTargetData(h,g)}(C,f,ji(e)).next(S=>{if(S)return R=S.lastLimboFreeSnapshotVersion,C.Hr.getMatchingKeysForTargetId(f,S.targetId).next(t=>{M=t})}).next(()=>C.Ps.getDocumentsMatchingQuery(f,e,m?R:Vt.min(),m?M:Ht())).next(S=>(lA(C,JC(e),S),{documents:S,gs:M})))}function lA(p,e,m){let C=p.Es.get(e)||Vt.min();m.forEach((R,M)=>{M.readTime.compareTo(C)>0&&(C=M.readTime)}),p.Es.set(e,C)}class Lv{constructor(){this.activeTargetIds=e2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uA{constructor(){this.ho=new Lv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,m,C){}addLocalQueryTarget(e,m=!0){return m&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,m,C){this.Po[e]=m}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lv,Promise.resolve()}handleUserChange(e,m,C){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Ov{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Pt(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Pt(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo=null;function mu(){return uo===null?uo=function(){return 268435456+Math.round(2147483648*Math.random())}():uo++,"0x"+uo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="RestConnection",dA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cA{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const m=e.ssl?"https":"http",C=encodeURIComponent(this.databaseId.projectId),R=encodeURIComponent(this.databaseId.database);this.po=m+"://"+e.host,this.yo=`projects/${C}/databases/${R}`,this.wo=this.databaseId.database===xa?`project_id=${C}`:`project_id=${C}&database_id=${R}`}bo(e,m,C,R,M){const f=mu(),S=this.So(e,m.toUriEncodedString());Pt(wl,`Sending RPC '${e}' ${f}:`,S,C);const t={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(t,R,M),this.vo(e,S,t,C).then(h=>(Pt(wl,`Received RPC '${e}' ${f}: `,h),h),h=>{throw or(wl,`RPC '${e}' ${f} failed with error: `,h,"url: ",S,"request:",C),h})}Co(e,m,C,R,M,f){return this.bo(e,m,C,R,M)}Do(e,m,C){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),m&&m.headers.forEach((R,M)=>e[M]=R),C&&C.headers.forEach((R,M)=>e[M]=R)}So(e,m){const C=dA[e];return`${this.po}/v1/${m}:${C}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class pA extends cA{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,m,C,R){const M=mu();return new Promise((f,S)=>{const t=new gg;t.setWithCredentials(!0),t.listenOnce(xg.COMPLETE,()=>{try{switch(t.getLastErrorCode()){case yo.NO_ERROR:const g=t.getResponseJson();Pt(Ye,`XHR for RPC '${e}' ${M} received:`,JSON.stringify(g)),f(g);break;case yo.TIMEOUT:Pt(Ye,`RPC '${e}' ${M} timed out`),S(new At(vt.DEADLINE_EXCEEDED,"Request time out"));break;case yo.HTTP_ERROR:const o=t.getStatus();if(Pt(Ye,`RPC '${e}' ${M} failed with status:`,o,"response text:",t.getResponseText()),o>0){let a=t.getResponseJson();Array.isArray(a)&&(a=a[0]);const r=a==null?void 0:a.error;if(r&&r.status&&r.message){const i=function(l){const s=l.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(s)>=0?s:vt.UNKNOWN}(r.status);S(new At(i,r.message))}else S(new At(vt.UNKNOWN,"Server responded with status "+t.getStatus()))}else S(new At(vt.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Pt(Ye,`RPC '${e}' ${M} completed.`)}});const h=JSON.stringify(R);Pt(Ye,`RPC '${e}' ${M} sending request:`,R),t.send(m,"POST",h,C,15)})}Wo(e,m,C){const R=mu(),M=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Eg(),S=Tg(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(t.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(t.useFetchStreams=!0),this.Do(t.initMessageHeaders,m,C),t.encodeInitMessageHeaders=!0;const g=M.join("");Pt(Ye,`Creating RPC '${e}' stream ${R}: ${g}`,t);const o=f.createWebChannel(g,t);let a=!1,r=!1;const i=new vA({Fo:l=>{r?Pt(Ye,`Not sending because RPC '${e}' stream ${R} is closed:`,l):(a||(Pt(Ye,`Opening RPC '${e}' stream ${R} transport.`),o.open(),a=!0),Pt(Ye,`RPC '${e}' stream ${R} sending:`,l),o.send(l))},Mo:()=>o.close()}),n=(l,s,u)=>{l.listen(s,d=>{try{u(d)}catch(c){setTimeout(()=>{throw c},0)}})};return n(o,zr.EventType.OPEN,()=>{r||(Pt(Ye,`RPC '${e}' stream ${R} transport opened.`),i.Qo())}),n(o,zr.EventType.CLOSE,()=>{r||(r=!0,Pt(Ye,`RPC '${e}' stream ${R} transport closed`),i.Ko())}),n(o,zr.EventType.ERROR,l=>{r||(r=!0,or(Ye,`RPC '${e}' stream ${R} transport errored:`,l),i.Ko(new At(vt.UNAVAILABLE,"The operation could not be completed")))}),n(o,zr.EventType.MESSAGE,l=>{var s;if(!r){const u=l.data[0];se(!!u);const d=u,c=(d==null?void 0:d.error)||((s=d[0])===null||s===void 0?void 0:s.error);if(c){Pt(Ye,`RPC '${e}' stream ${R} received error:`,c);const v=c.status;let x=function(E){const A=Ce[E];if(A!==void 0)return t0(A)}(v),y=c.message;x===void 0&&(x=vt.INTERNAL,y="Unknown error status: "+v+" with message "+c.message),r=!0,i.Ko(new At(x,y)),o.close()}else Pt(Ye,`RPC '${e}' stream ${R} received:`,u),i.Uo(u)}}),n(S,yg.STAT_EVENT,l=>{l.stat===nu.PROXY?Pt(Ye,`RPC '${e}' stream ${R} detected buffering proxy`):l.stat===nu.NOPROXY&&Pt(Ye,`RPC '${e}' stream ${R} detected no buffering proxy`)}),setTimeout(()=>{i.$o()},0),i}}function Ml(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(p){return new T2(p,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,m,C=1e3,R=1.5,M=6e4){this.Ti=e,this.timerId=m,this.Go=C,this.zo=R,this.jo=M,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const m=Math.floor(this.Ho+this.e_()),C=Math.max(0,Date.now()-this.Yo),R=Math.max(0,m-C);R>0&&Pt("ExponentialBackoff",`Backing off for ${R} ms (base delay: ${this.Ho} ms, delay with jitter: ${m} ms, last attempt: ${C} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,R,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="PersistentStream";class m0{constructor(e,m,C,R,M,f,S,t){this.Ti=e,this.n_=C,this.r_=R,this.connection=M,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=S,this.listener=t,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new p0(e,m)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,m){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():m&&m.code===vt.RESOURCE_EXHAUSTED?(Ts(m.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):m&&m.code===vt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(m)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),m=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([C,R])=>{this.i_===m&&this.V_(C,R)},C=>{e(()=>{const R=new At(vt.UNKNOWN,"Fetching auth token failed: "+C.message);return this.m_(R)})})}V_(e,m){const C=this.R_(this.i_);this.stream=this.f_(e,m),this.stream.xo(()=>{C(()=>this.listener.xo())}),this.stream.No(()=>{C(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(R=>{C(()=>this.m_(R))}),this.stream.onMessage(R=>{C(()=>++this.__==1?this.g_(R):this.onNext(R))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Pt(Dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return m=>{this.Ti.enqueueAndForget(()=>this.i_===e?m():(Pt(Dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mA extends m0{constructor(e,m,C,R,M,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",m,C,R,f),this.serializer=M}f_(e,m){return this.connection.Wo("Listen",e,m)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const m=C2(this.serializer,e),C=function(M){if(!("targetChange"in M))return Vt.min();const f=M.targetChange;return f.targetIds&&f.targetIds.length?Vt.min():f.readTime?Qi(f.readTime):Vt.min()}(e);return this.listener.p_(m,C)}y_(e){const m={};m.database=vu(this.serializer),m.addTarget=function(M,f){let S;const t=f.target;if(S=hu(t)?{documents:R2(M,t)}:{query:w2(M,t).ht},S.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){S.resumeToken=s0(M,f.resumeToken);const h=fu(M,f.expectedCount);h!==null&&(S.expectedCount=h)}else if(f.snapshotVersion.compareTo(Vt.min())>0){S.readTime=jo(M,f.snapshotVersion.toTimestamp());const h=fu(M,f.expectedCount);h!==null&&(S.expectedCount=h)}return S}(this.serializer,e);const C=I2(this.serializer,e);C&&(m.labels=C),this.I_(m)}w_(e){const m={};m.database=vu(this.serializer),m.removeTarget=e,this.I_(m)}}class gA extends m0{constructor(e,m,C,R,M,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",m,C,R,f),this.serializer=M}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,m){return this.connection.Wo("Write",e,m)}g_(e){return se(!!e.streamToken),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const m=P2(e.writeResults,e.commitTime),C=Qi(e.commitTime);return this.listener.v_(C,m)}C_(){const e={};e.database=vu(this.serializer),this.I_(e)}S_(e){const m={streamToken:this.lastStreamToken,writes:e.map(C=>A2(this.serializer,C))};this.I_(m)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{}class yA extends xA{constructor(e,m,C,R){super(),this.authCredentials=e,this.appCheckCredentials=m,this.connection=C,this.serializer=R,this.F_=!1}M_(){if(this.F_)throw new At(vt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,m,C,R){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([M,f])=>this.connection.bo(e,du(m,C),R,M,f)).catch(M=>{throw M.name==="FirebaseError"?(M.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),M):new At(vt.UNKNOWN,M.toString())})}Co(e,m,C,R,M){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,S])=>this.connection.Co(e,du(m,C),R,f,S,M)).catch(f=>{throw f.name==="FirebaseError"?(f.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new At(vt.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class TA{constructor(e,m){this.asyncQueue=e,this.onlineStateHandler=m,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const m=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ts(m),this.N_=!1):Pt("OnlineStateTracker",m)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="RemoteStore";class EA{constructor(e,m,C,R,M){this.localStore=e,this.datastore=m,this.asyncQueue=C,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=M,this.z_.To(f=>{C.enqueueAndForget(async()=>{bn(this)&&(Pt(Pn,"Restarting streams for network reachability change."),await async function(t){const h=Bt(t);h.W_.add(4),await Er(h),h.j_.set("Unknown"),h.W_.delete(4),await Oa(h)}(this))})}),this.j_=new TA(C,R)}}async function Oa(p){if(bn(p))for(const e of p.G_)await e(!0)}async function Er(p){for(const e of p.G_)await e(!1)}function g0(p,e){const m=Bt(p);m.U_.has(e.targetId)||(m.U_.set(e.targetId,e),cf(m)?df(m):Sr(m).c_()&&ff(m,e))}function uf(p,e){const m=Bt(p),C=Sr(m);m.U_.delete(e),C.c_()&&x0(m,e),m.U_.size===0&&(C.c_()?C.P_():bn(m)&&m.j_.set("Unknown"))}function ff(p,e){if(p.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const m=p.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(m)}Sr(p).y_(e)}function x0(p,e){p.H_.Ne(e),Sr(p).w_(e)}function df(p){p.H_=new m2({getRemoteKeysForTarget:e=>p.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>p.U_.get(e)||null,it:()=>p.datastore.serializer.databaseId}),Sr(p).start(),p.j_.B_()}function cf(p){return bn(p)&&!Sr(p).u_()&&p.U_.size>0}function bn(p){return Bt(p).W_.size===0}function y0(p){p.H_=void 0}async function SA(p){p.j_.set("Online")}async function CA(p){p.U_.forEach((e,m)=>{ff(p,e)})}async function AA(p,e){y0(p),cf(p)?(p.j_.q_(e),df(p)):p.j_.set("Unknown")}async function PA(p,e,m){if(p.j_.set("Online"),e instanceof i0&&e.state===2&&e.cause)try{await async function(R,M){const f=M.cause;for(const S of M.targetIds)R.U_.has(S)&&(await R.remoteSyncer.rejectListen(S,f),R.U_.delete(S),R.H_.removeTarget(S))}(p,e)}catch(C){Pt(Pn,"Failed to remove targets %s: %s ",e.targetIds.join(","),C),await Jo(p,C)}else if(e instanceof Co?p.H_.We(e):e instanceof e0?p.H_.Ze(e):p.H_.je(e),!m.isEqual(Vt.min()))try{const C=await v0(p.localStore);m.compareTo(C)>=0&&await function(M,f){const S=M.H_.ot(f);return S.targetChanges.forEach((t,h)=>{if(t.resumeToken.approximateByteSize()>0){const g=M.U_.get(h);g&&M.U_.set(h,g.withResumeToken(t.resumeToken,f))}}),S.targetMismatches.forEach((t,h)=>{const g=M.U_.get(t);if(!g)return;M.U_.set(t,g.withResumeToken(ze.EMPTY_BYTE_STRING,g.snapshotVersion)),x0(M,t);const o=new Gs(g.target,t,h,g.sequenceNumber);ff(M,o)}),M.remoteSyncer.applyRemoteEvent(S)}(p,m)}catch(C){Pt(Pn,"Failed to raise snapshot:",C),await Jo(p,C)}}async function Jo(p,e,m){if(!Tr(e))throw e;p.W_.add(1),await Er(p),p.j_.set("Offline"),m||(m=()=>v0(p.localStore)),p.asyncQueue.enqueueRetryable(async()=>{Pt(Pn,"Retrying IndexedDB access"),await m(),p.W_.delete(1),await Oa(p)})}function T0(p,e){return e().catch(m=>Jo(p,m,e))}async function bh(p){const e=Bt(p),m=Js(e);let C=e.K_.length>0?e.K_[e.K_.length-1].batchId:ku;for(;RA(e);)try{const R=await oA(e.localStore,C);if(R===null){e.K_.length===0&&m.P_();break}C=R.batchId,wA(e,R)}catch(R){await Jo(e,R)}E0(e)&&S0(e)}function RA(p){return bn(p)&&p.K_.length<10}function wA(p,e){p.K_.push(e);const m=Js(p);m.c_()&&m.b_&&m.S_(e.mutations)}function E0(p){return bn(p)&&!Js(p).u_()&&p.K_.length>0}function S0(p){Js(p).start()}async function MA(p){Js(p).C_()}async function IA(p){const e=Js(p);for(const m of p.K_)e.S_(m.mutations)}async function LA(p,e,m){const C=p.K_.shift(),R=sf.from(C,e,m);await T0(p,()=>p.remoteSyncer.applySuccessfulWrite(R)),await bh(p)}async function FA(p,e){e&&Js(p).b_&&await async function(C,R){if(function(f){return c2(f)&&f!==vt.ABORTED}(R.code)){const M=C.K_.shift();Js(C).h_(),await T0(C,()=>C.remoteSyncer.rejectFailedWrite(M.batchId,R)),await bh(C)}}(p,e),E0(p)&&S0(p)}async function Nv(p,e){const m=Bt(p);m.asyncQueue.verifyOperationInProgress(),Pt(Pn,"RemoteStore received new credentials");const C=bn(m);m.W_.add(3),await Er(m),C&&m.j_.set("Unknown"),await m.remoteSyncer.handleCredentialChange(e),m.W_.delete(3),await Oa(m)}async function OA(p,e){const m=Bt(p);e?(m.W_.delete(2),await Oa(m)):e||(m.W_.add(2),await Er(m),m.j_.set("Unknown"))}function Sr(p){return p.J_||(p.J_=function(m,C,R){const M=Bt(m);return M.M_(),new mA(C,M.connection,M.authCredentials,M.appCheckCredentials,M.serializer,R)}(p.datastore,p.asyncQueue,{xo:SA.bind(null,p),No:CA.bind(null,p),Lo:AA.bind(null,p),p_:PA.bind(null,p)}),p.G_.push(async e=>{e?(p.J_.h_(),cf(p)?df(p):p.j_.set("Unknown")):(await p.J_.stop(),y0(p))})),p.J_}function Js(p){return p.Y_||(p.Y_=function(m,C,R){const M=Bt(m);return M.M_(),new gA(C,M.connection,M.authCredentials,M.appCheckCredentials,M.serializer,R)}(p.datastore,p.asyncQueue,{xo:()=>Promise.resolve(),No:MA.bind(null,p),Lo:FA.bind(null,p),D_:IA.bind(null,p),v_:LA.bind(null,p)}),p.G_.push(async e=>{e?(p.Y_.h_(),await bh(p)):(await p.Y_.stop(),p.K_.length>0&&(Pt(Pn,`Stopping write stream with ${p.K_.length} pending writes`),p.K_=[]))})),p.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,m,C,R,M){this.asyncQueue=e,this.timerId=m,this.targetTimeMs=C,this.op=R,this.removalCallback=M,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,m,C,R,M){const f=Date.now()+C,S=new vf(e,m,f,R,M);return S.start(C),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pf(p,e){if(Ts("AsyncQueue",`${e}: ${p}`),Tr(p))return new At(vt.UNAVAILABLE,`${e}: ${p}`);throw p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{static emptySet(e){return new er(e.comparator)}constructor(e){this.comparator=e?(m,C)=>e(m,C)||Ft.comparator(m.key,C.key):(m,C)=>Ft.comparator(m.key,C.key),this.keyedMap=Xr(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const m=this.keyedMap.get(e);return m?this.sortedSet.indexOf(m):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((m,C)=>(e(m),!1))}add(e){const m=this.delete(e.key);return m.copy(m.keyedMap.insert(e.key,e),m.sortedSet.insert(e,null))}delete(e){const m=this.get(e);return m?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(m)):this}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const m=this.sortedSet.getIterator(),C=e.sortedSet.getIterator();for(;m.hasNext();){const R=m.getNext().key,M=C.getNext().key;if(!R.isEqual(M))return!1}return!0}toString(){const e=[];return this.forEach(m=>{e.push(m.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,m){const C=new er;return C.comparator=this.comparator,C.keyedMap=e,C.sortedSet=m,C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Z_=new xe(Ft.comparator)}track(e){const m=e.doc.key,C=this.Z_.get(m);C?e.type!==0&&C.type===3?this.Z_=this.Z_.insert(m,e):e.type===3&&C.type!==1?this.Z_=this.Z_.insert(m,{type:C.type,doc:e.doc}):e.type===2&&C.type===2?this.Z_=this.Z_.insert(m,{type:2,doc:e.doc}):e.type===2&&C.type===0?this.Z_=this.Z_.insert(m,{type:0,doc:e.doc}):e.type===1&&C.type===0?this.Z_=this.Z_.remove(m):e.type===1&&C.type===2?this.Z_=this.Z_.insert(m,{type:1,doc:C.doc}):e.type===0&&C.type===1?this.Z_=this.Z_.insert(m,{type:2,doc:e.doc}):Dt():this.Z_=this.Z_.insert(m,e)}X_(){const e=[];return this.Z_.inorderTraversal((m,C)=>{e.push(C)}),e}}class dr{constructor(e,m,C,R,M,f,S,t,h){this.query=e,this.docs=m,this.oldDocs=C,this.docChanges=R,this.mutatedKeys=M,this.fromCache=f,this.syncStateChanged=S,this.excludesMetadataChanges=t,this.hasCachedResults=h}static fromInitialDocuments(e,m,C,R,M){const f=[];return m.forEach(S=>{f.push({type:0,doc:S})}),new dr(e,m,er.emptySet(m),f,C,R,!0,!1,M)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const m=this.docChanges,C=e.docChanges;if(m.length!==C.length)return!1;for(let R=0;R<m.length;R++)if(m[R].type!==C[R].type||!m[R].doc.isEqual(C[R].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class NA{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(m,C){const R=Bt(m),M=R.queries;R.queries=Bv(),M.forEach((f,S)=>{for(const t of S.ta)t.onError(C)})})(this,new At(vt.ABORTED,"Firestore shutting down"))}}function Bv(){return new Nn(p=>Xg(p),Ih)}async function mf(p,e){const m=Bt(p);let C=3;const R=e.query;let M=m.queries.get(R);M?!M.na()&&e.ra()&&(C=2):(M=new DA,C=e.ra()?0:1);try{switch(C){case 0:M.ea=await m.onListen(R,!0);break;case 1:M.ea=await m.onListen(R,!1);break;case 2:await m.onFirstRemoteStoreListen(R)}}catch(f){const S=pf(f,`Initialization of query '${$n(e.query)}' failed`);return void e.onError(S)}m.queries.set(R,M),M.ta.push(e),e.sa(m.onlineState),M.ea&&e.oa(M.ea)&&xf(m)}async function gf(p,e){const m=Bt(p),C=e.query;let R=3;const M=m.queries.get(C);if(M){const f=M.ta.indexOf(e);f>=0&&(M.ta.splice(f,1),M.ta.length===0?R=e.ra()?0:1:!M.na()&&e.ra()&&(R=2))}switch(R){case 0:return m.queries.delete(C),m.onUnlisten(C,!0);case 1:return m.queries.delete(C),m.onUnlisten(C,!1);case 2:return m.onLastRemoteStoreUnlisten(C);default:return}}function bA(p,e){const m=Bt(p);let C=!1;for(const R of e){const M=R.query,f=m.queries.get(M);if(f){for(const S of f.ta)S.oa(R)&&(C=!0);f.ea=R}}C&&xf(m)}function BA(p,e,m){const C=Bt(p),R=C.queries.get(e);if(R)for(const M of R.ta)M.onError(m);C.queries.delete(e)}function xf(p){p.ia.forEach(e=>{e.next()})}var gu,Vv;(Vv=gu||(gu={}))._a="default",Vv.Cache="cache";class yf{constructor(e,m,C){this.query=e,this.aa=m,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=C||{}}oa(e){if(!this.options.includeMetadataChanges){const C=[];for(const R of e.docChanges)R.type!==3&&C.push(R);e=new dr(e.query,e.docs,e.oldDocs,C,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let m=!1;return this.ua?this.la(e)&&(this.aa.next(e),m=!0):this.ha(e,this.onlineState)&&(this.Pa(e),m=!0),this.ca=e,m}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let m=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),m=!0),m}ha(e,m){if(!e.fromCache||!this.ra())return!0;const C=m!=="Offline";return(!this.options.Ta||!C)&&(!e.docs.isEmpty()||e.hasCachedResults||m==="Offline")}la(e){if(e.docChanges.length>0)return!0;const m=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!m)&&this.options.includeMetadataChanges===!0}Pa(e){e=dr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.key=e}}class A0{constructor(e){this.key=e}}class VA{constructor(e,m){this.query=e,this.fa=m,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ht(),this.mutatedKeys=Ht(),this.ya=Wg(e),this.wa=new er(this.ya)}get ba(){return this.fa}Sa(e,m){const C=m?m.Da:new bv,R=m?m.wa:this.wa;let M=m?m.mutatedKeys:this.mutatedKeys,f=R,S=!1;const t=this.query.limitType==="F"&&R.size===this.query.limit?R.last():null,h=this.query.limitType==="L"&&R.size===this.query.limit?R.first():null;if(e.inorderTraversal((g,o)=>{const a=R.get(g),r=Lh(this.query,o)?o:null,i=!!a&&this.mutatedKeys.has(a.key),n=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let l=!1;a&&r?a.data.isEqual(r.data)?i!==n&&(C.track({type:3,doc:r}),l=!0):this.va(a,r)||(C.track({type:2,doc:r}),l=!0,(t&&this.ya(r,t)>0||h&&this.ya(r,h)<0)&&(S=!0)):!a&&r?(C.track({type:0,doc:r}),l=!0):a&&!r&&(C.track({type:1,doc:a}),l=!0,(t||h)&&(S=!0)),l&&(r?(f=f.add(r),M=n?M.add(g):M.delete(g)):(f=f.delete(g),M=M.delete(g)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const g=this.query.limitType==="F"?f.last():f.first();f=f.delete(g.key),M=M.delete(g.key),C.track({type:1,doc:g})}return{wa:f,Da:C,ls:S,mutatedKeys:M}}va(e,m){return e.hasLocalMutations&&m.hasCommittedMutations&&!m.hasLocalMutations}applyChanges(e,m,C,R){const M=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((g,o)=>function(r,i){const n=l=>{switch(l){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return n(r)-n(i)}(g.type,o.type)||this.ya(g.doc,o.doc)),this.Ca(C),R=R!=null&&R;const S=m&&!R?this.Fa():[],t=this.pa.size===0&&this.current&&!R?1:0,h=t!==this.ga;return this.ga=t,f.length!==0||h?{snapshot:new dr(this.query,e.wa,M,f,e.mutatedKeys,t===0,h,!1,!!C&&C.resumeToken.approximateByteSize()>0),Ma:S}:{Ma:S}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(m=>this.fa=this.fa.add(m)),e.modifiedDocuments.forEach(m=>{}),e.removedDocuments.forEach(m=>this.fa=this.fa.delete(m)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ht(),this.wa.forEach(C=>{this.xa(C.key)&&(this.pa=this.pa.add(C.key))});const m=[];return e.forEach(C=>{this.pa.has(C)||m.push(new A0(C))}),this.pa.forEach(C=>{e.has(C)||m.push(new C0(C))}),m}Oa(e){this.fa=e.gs,this.pa=Ht();const m=this.Sa(e.documents);return this.applyChanges(m,!0)}Na(){return dr.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Tf="SyncEngine";class GA{constructor(e,m,C){this.query=e,this.targetId=m,this.view=C}}class UA{constructor(e){this.key=e,this.Ba=!1}}class zA{constructor(e,m,C,R,M,f){this.localStore=e,this.remoteStore=m,this.eventManager=C,this.sharedClientState=R,this.currentUser=M,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Nn(S=>Xg(S),Ih),this.qa=new Map,this.Qa=new Set,this.$a=new xe(Ft.comparator),this.Ka=new Map,this.Ua=new af,this.Wa={},this.Ga=new Map,this.za=fr.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function XA(p,e,m=!0){const C=L0(p);let R;const M=C.ka.get(e);return M?(C.sharedClientState.addLocalQueryTarget(M.targetId),R=M.view.Na()):R=await P0(C,e,m,!0),R}async function WA(p,e){const m=L0(p);await P0(m,e,!0,!1)}async function P0(p,e,m,C){const R=await hA(p.localStore,ji(e)),M=R.targetId,f=p.sharedClientState.addLocalQueryTarget(M,m);let S;return C&&(S=await YA(p,e,M,f==="current",R.resumeToken)),p.isPrimaryClient&&m&&g0(p.remoteStore,R),S}async function YA(p,e,m,C,R){p.Ha=(o,a,r)=>async function(n,l,s,u){let d=l.view.Sa(s);d.ls&&(d=await Iv(n.localStore,l.query,!1).then(({documents:y})=>l.view.Sa(y,d)));const c=u&&u.targetChanges.get(l.targetId),v=u&&u.targetMismatches.get(l.targetId)!=null,x=l.view.applyChanges(d,n.isPrimaryClient,c,v);return Uv(n,l.targetId,x.Ma),x.snapshot}(p,o,a,r);const M=await Iv(p.localStore,e,!0),f=new VA(e,M.gs),S=f.Sa(M.documents),t=Fa.createSynthesizedTargetChangeForCurrentChange(m,C&&p.onlineState!=="Offline",R),h=f.applyChanges(S,p.isPrimaryClient,t);Uv(p,m,h.Ma);const g=new GA(e,m,f);return p.ka.set(e,g),p.qa.has(m)?p.qa.get(m).push(e):p.qa.set(m,[e]),h.snapshot}async function HA(p,e,m){const C=Bt(p),R=C.ka.get(e),M=C.qa.get(R.targetId);if(M.length>1)return C.qa.set(R.targetId,M.filter(f=>!Ih(f,e))),void C.ka.delete(e);C.isPrimaryClient?(C.sharedClientState.removeLocalQueryTarget(R.targetId),C.sharedClientState.isActiveQueryTarget(R.targetId)||await pu(C.localStore,R.targetId,!1).then(()=>{C.sharedClientState.clearQueryState(R.targetId),m&&uf(C.remoteStore,R.targetId),xu(C,R.targetId)}).catch(yr)):(xu(C,R.targetId),await pu(C.localStore,R.targetId,!0))}async function KA(p,e){const m=Bt(p),C=m.ka.get(e),R=m.qa.get(C.targetId);m.isPrimaryClient&&R.length===1&&(m.sharedClientState.removeLocalQueryTarget(C.targetId),uf(m.remoteStore,C.targetId))}async function $A(p,e,m){const C=_A(p);try{const R=await function(f,S){const t=Bt(f),h=Ie.now(),g=S.reduce((r,i)=>r.add(i.key),Ht());let o,a;return t.persistence.runTransaction("Locally write mutations","readwrite",r=>{let i=Es(),n=Ht();return t.ds.getEntries(r,g).next(l=>{i=l,i.forEach((s,u)=>{u.isValidDocument()||(n=n.add(s))})}).next(()=>t.localDocuments.getOverlayedDocuments(r,i)).next(l=>{o=l;const s=[];for(const u of S){const d=h2(u,o.get(u.key).overlayedDocument);d!=null&&s.push(new en(u.key,d,Dg(d.value.mapValue),Mi.exists(!0)))}return t.mutationQueue.addMutationBatch(r,h,s,S)}).next(l=>{a=l;const s=l.applyToLocalDocumentSet(o,n);return t.documentOverlayCache.saveOverlays(r,l.batchId,s)})}).then(()=>({batchId:a.batchId,changes:Hg(o)}))}(C.localStore,e);C.sharedClientState.addPendingMutation(R.batchId),function(f,S,t){let h=f.Wa[f.currentUser.toKey()];h||(h=new xe($t)),h=h.insert(S,t),f.Wa[f.currentUser.toKey()]=h}(C,R.batchId,m),await Da(C,R.changes),await bh(C.remoteStore)}catch(R){const M=pf(R,"Failed to persist write");m.reject(M)}}async function R0(p,e){const m=Bt(p);try{const C=await rA(m.localStore,e);e.targetChanges.forEach((R,M)=>{const f=m.Ka.get(M);f&&(se(R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size<=1),R.addedDocuments.size>0?f.Ba=!0:R.modifiedDocuments.size>0?se(f.Ba):R.removedDocuments.size>0&&(se(f.Ba),f.Ba=!1))}),await Da(m,C,e)}catch(C){await yr(C)}}function Gv(p,e,m){const C=Bt(p);if(C.isPrimaryClient&&m===0||!C.isPrimaryClient&&m===1){const R=[];C.ka.forEach((M,f)=>{const S=f.view.sa(e);S.snapshot&&R.push(S.snapshot)}),function(f,S){const t=Bt(f);t.onlineState=S;let h=!1;t.queries.forEach((g,o)=>{for(const a of o.ta)a.sa(S)&&(h=!0)}),h&&xf(t)}(C.eventManager,e),R.length&&C.La.p_(R),C.onlineState=e,C.isPrimaryClient&&C.sharedClientState.setOnlineState(e)}}async function jA(p,e,m){const C=Bt(p);C.sharedClientState.updateQueryState(e,"rejected",m);const R=C.Ka.get(e),M=R&&R.key;if(M){let f=new xe(Ft.comparator);f=f.insert(M,je.newNoDocument(M,Vt.min()));const S=Ht().add(M),t=new Dh(Vt.min(),new Map,new xe($t),f,S);await R0(C,t),C.$a=C.$a.remove(M),C.Ka.delete(e),Ef(C)}else await pu(C.localStore,e,!1).then(()=>xu(C,e,m)).catch(yr)}async function QA(p,e){const m=Bt(p),C=e.batch.batchId;try{const R=await nA(m.localStore,e);M0(m,C,null),w0(m,C),m.sharedClientState.updateMutationState(C,"acknowledged"),await Da(m,R)}catch(R){await yr(R)}}async function JA(p,e,m){const C=Bt(p);try{const R=await function(f,S){const t=Bt(f);return t.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return t.mutationQueue.lookupMutationBatch(h,S).next(o=>(se(o!==null),g=o.keys(),t.mutationQueue.removeMutationBatch(h,o))).next(()=>t.mutationQueue.performConsistencyCheck(h)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(h,g,S)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>t.localDocuments.getDocuments(h,g))})}(C.localStore,e);M0(C,e,m),w0(C,e),C.sharedClientState.updateMutationState(e,"rejected",m),await Da(C,R)}catch(R){await yr(R)}}function w0(p,e){(p.Ga.get(e)||[]).forEach(m=>{m.resolve()}),p.Ga.delete(e)}function M0(p,e,m){const C=Bt(p);let R=C.Wa[C.currentUser.toKey()];if(R){const M=R.get(e);M&&(m?M.reject(m):M.resolve(),R=R.remove(e)),C.Wa[C.currentUser.toKey()]=R}}function xu(p,e,m=null){p.sharedClientState.removeLocalQueryTarget(e);for(const C of p.qa.get(e))p.ka.delete(C),m&&p.La.Ja(C,m);p.qa.delete(e),p.isPrimaryClient&&p.Ua.Sr(e).forEach(C=>{p.Ua.containsKey(C)||I0(p,C)})}function I0(p,e){p.Qa.delete(e.path.canonicalString());const m=p.$a.get(e);m!==null&&(uf(p.remoteStore,m),p.$a=p.$a.remove(e),p.Ka.delete(m),Ef(p))}function Uv(p,e,m){for(const C of m)C instanceof C0?(p.Ua.addReference(C.key,e),kA(p,C)):C instanceof A0?(Pt(Tf,"Document no longer in limbo: "+C.key),p.Ua.removeReference(C.key,e),p.Ua.containsKey(C.key)||I0(p,C.key)):Dt()}function kA(p,e){const m=e.key,C=m.path.canonicalString();p.$a.get(m)||p.Qa.has(C)||(Pt(Tf,"New document in limbo: "+m),p.Qa.add(C),Ef(p))}function Ef(p){for(;p.Qa.size>0&&p.$a.size<p.maxConcurrentLimboResolutions;){const e=p.Qa.values().next().value;p.Qa.delete(e);const m=new Ft(pe.fromString(e)),C=p.za.next();p.Ka.set(C,new UA(m)),p.$a=p.$a.insert(m,C),g0(p.remoteStore,new Gs(ji(Mh(m.path)),C,"TargetPurposeLimboResolution",Ph.ae))}}async function Da(p,e,m){const C=Bt(p),R=[],M=[],f=[];C.ka.isEmpty()||(C.ka.forEach((S,t)=>{f.push(C.Ha(t,e,m).then(h=>{var g;if((h||m)&&C.isPrimaryClient){const o=h?!h.fromCache:(g=m==null?void 0:m.targetChanges.get(t.targetId))===null||g===void 0?void 0:g.current;C.sharedClientState.updateQueryState(t.targetId,o?"current":"not-current")}if(h){R.push(h);const o=hf.Yi(t.targetId,h);M.push(o)}}))}),await Promise.all(f),C.La.p_(R),await async function(t,h){const g=Bt(t);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",o=>pt.forEach(h,a=>pt.forEach(a.Hi,r=>g.persistence.referenceDelegate.addReference(o,a.targetId,r)).next(()=>pt.forEach(a.Ji,r=>g.persistence.referenceDelegate.removeReference(o,a.targetId,r)))))}catch(o){if(!Tr(o))throw o;Pt(lf,"Failed to update sequence numbers: "+o)}for(const o of h){const a=o.targetId;if(!o.fromCache){const r=g.Ts.get(a),i=r.snapshotVersion,n=r.withLastLimboFreeSnapshotVersion(i);g.Ts=g.Ts.insert(a,n)}}}(C.localStore,M))}async function ZA(p,e){const m=Bt(p);if(!m.currentUser.isEqual(e)){Pt(Tf,"User change. New user:",e.toKey());const C=await c0(m.localStore,e);m.currentUser=e,function(M,f){M.Ga.forEach(S=>{S.forEach(t=>{t.reject(new At(vt.CANCELLED,f))})}),M.Ga.clear()}(m,"'waitForPendingWrites' promise is rejected due to a user change."),m.sharedClientState.handleUserChange(e,C.removedBatchIds,C.addedBatchIds),await Da(m,C.Rs)}}function qA(p,e){const m=Bt(p),C=m.Ka.get(e);if(C&&C.Ba)return Ht().add(C.key);{let R=Ht();const M=m.qa.get(e);if(!M)return R;for(const f of M){const S=m.ka.get(f);R=R.unionWith(S.view.ba)}return R}}function L0(p){const e=Bt(p);return e.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jA.bind(null,e),e.La.p_=bA.bind(null,e.eventManager),e.La.Ja=BA.bind(null,e.eventManager),e}function _A(p){const e=Bt(p);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JA.bind(null,e),e}class ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,m){return null}nu(e,m){return null}eu(e){return sA(this.persistence,new tA,e.initialUser,this.serializer)}Xa(e){return new d0(of.ri,this.serializer)}Za(e){return new uA}async terminate(){var e,m;(e=this.gcScheduler)===null||e===void 0||e.stop(),(m=this.indexBackfillerScheduler)===null||m===void 0||m.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ko.provider={build:()=>new ko};class tP extends ko{constructor(e){super(),this.cacheSizeBytes=e}tu(e,m){se(this.persistence.referenceDelegate instanceof Qo);const C=this.persistence.referenceDelegate.garbageCollector;return new U2(C,e.asyncQueue,m)}Xa(e){const m=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new d0(C=>Qo.ri(C,m),this.serializer)}}class yu{async initialize(e,m){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(m),this.remoteStore=this.createRemoteStore(m),this.eventManager=this.createEventManager(m),this.syncEngine=this.createSyncEngine(m,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=C=>Gv(this.syncEngine,C,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZA.bind(null,this.syncEngine),await OA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NA}()}createDatastore(e){const m=Nh(e.databaseInfo.databaseId),C=function(M){return new pA(M)}(e.databaseInfo);return function(M,f,S,t){return new yA(M,f,S,t)}(e.authCredentials,e.appCheckCredentials,C,m)}createRemoteStore(e){return function(C,R,M,f,S){return new EA(C,R,M,f,S)}(this.localStore,this.datastore,e.asyncQueue,m=>Gv(this.syncEngine,m,0),function(){return Ov.D()?new Ov:new fA}())}createSyncEngine(e,m){return function(R,M,f,S,t,h,g){const o=new zA(R,M,f,S,t,h);return g&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,m)}async terminate(){var e,m;await async function(R){const M=Bt(R);Pt(Pn,"RemoteStore shutting down."),M.W_.add(5),await Er(M),M.z_.shutdown(),M.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(m=this.eventManager)===null||m===void 0||m.terminate()}}yu.provider={build:()=>new yu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,m){setTimeout(()=>{this.muted||e(m)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class eP{constructor(e,m,C,R,M){this.authCredentials=e,this.appCheckCredentials=m,this.asyncQueue=C,this.databaseInfo=R,this.user=He.UNAUTHENTICATED,this.clientId=Cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=M,this.authCredentials.start(C,async f=>{Pt(ks,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(C,f=>(Pt(ks,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(m){const C=pf(m,"Failed to shutdown persistence");e.reject(C)}}),e.promise}}async function Il(p,e){p.asyncQueue.verifyOperationInProgress(),Pt(ks,"Initializing OfflineComponentProvider");const m=p.configuration;await e.initialize(m);let C=m.initialUser;p.setCredentialChangeListener(async R=>{C.isEqual(R)||(await c0(e.localStore,R),C=R)}),e.persistence.setDatabaseDeletedListener(()=>p.terminate()),p._offlineComponents=e}async function zv(p,e){p.asyncQueue.verifyOperationInProgress();const m=await F0(p);Pt(ks,"Initializing OnlineComponentProvider"),await e.initialize(m,p.configuration),p.setCredentialChangeListener(C=>Nv(e.remoteStore,C)),p.setAppCheckTokenChangeListener((C,R)=>Nv(e.remoteStore,R)),p._onlineComponents=e}async function F0(p){if(!p._offlineComponents)if(p._uninitializedComponentsProvider){Pt(ks,"Using user provided OfflineComponentProvider");try{await Il(p,p._uninitializedComponentsProvider._offline)}catch(e){const m=e;if(!function(R){return R.name==="FirebaseError"?R.code===vt.FAILED_PRECONDITION||R.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&R instanceof DOMException)||R.code===22||R.code===20||R.code===11}(m))throw m;or("Error using user provided cache. Falling back to memory cache: "+m),await Il(p,new ko)}}else Pt(ks,"Using default OfflineComponentProvider"),await Il(p,new tP(void 0));return p._offlineComponents}async function Cf(p){return p._onlineComponents||(p._uninitializedComponentsProvider?(Pt(ks,"Using user provided OnlineComponentProvider"),await zv(p,p._uninitializedComponentsProvider._online)):(Pt(ks,"Using default OnlineComponentProvider"),await zv(p,new yu))),p._onlineComponents}function O0(p){return F0(p).then(e=>e.persistence)}function D0(p){return Cf(p).then(e=>e.remoteStore)}function iP(p){return Cf(p).then(e=>e.syncEngine)}async function Zo(p){const e=await Cf(p),m=e.eventManager;return m.onListen=XA.bind(null,e.syncEngine),m.onUnlisten=HA.bind(null,e.syncEngine),m.onFirstRemoteStoreListen=WA.bind(null,e.syncEngine),m.onLastRemoteStoreUnlisten=KA.bind(null,e.syncEngine),m}function sP(p){return p.asyncQueue.enqueue(async()=>{const e=await O0(p),m=await D0(p);return e.setNetworkEnabled(!0),function(R){const M=Bt(R);return M.W_.delete(0),Oa(M)}(m)})}function nP(p){return p.asyncQueue.enqueue(async()=>{const e=await O0(p),m=await D0(p);return e.setNetworkEnabled(!1),async function(R){const M=Bt(R);M.W_.add(0),await Er(M),M.j_.set("Offline")}(m)})}function rP(p,e,m={}){const C=new gs;return p.asyncQueue.enqueueAndForget(async()=>function(M,f,S,t,h){const g=new Sf({next:a=>{g.su(),f.enqueueAndForget(()=>gf(M,o));const r=a.docs.has(S);!r&&a.fromCache?h.reject(new At(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):r&&a.fromCache&&t&&t.source==="server"?h.reject(new At(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(a)},error:a=>h.reject(a)}),o=new yf(Mh(S.path),g,{includeMetadataChanges:!0,Ta:!0});return mf(M,o)}(await Zo(p),p.asyncQueue,e,m,C)),C.promise}function aP(p,e,m={}){const C=new gs;return p.asyncQueue.enqueueAndForget(async()=>function(M,f,S,t,h){const g=new Sf({next:a=>{g.su(),f.enqueueAndForget(()=>gf(M,o)),a.fromCache&&t.source==="server"?h.reject(new At(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(a)},error:a=>h.reject(a)}),o=new yf(S,g,{includeMetadataChanges:!0,Ta:!0});return mf(M,o)}(await Zo(p),p.asyncQueue,e,m,C)),C.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(p){const e={};return p.timeoutSeconds!==void 0&&(e.timeoutSeconds=p.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(p,e,m){if(!m)throw new At(vt.INVALID_ARGUMENT,`Function ${p}() cannot be called with an empty ${e}.`)}function oP(p,e,m,C){if(e===!0&&C===!0)throw new At(vt.INVALID_ARGUMENT,`${p} and ${m} cannot be used together.`)}function Wv(p){if(!Ft.isDocumentKey(p))throw new At(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${p} has ${p.length}.`)}function Yv(p){if(Ft.isDocumentKey(p))throw new At(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${p} has ${p.length}.`)}function Bh(p){if(p===void 0)return"undefined";if(p===null)return"null";if(typeof p=="string")return p.length>20&&(p=`${p.substring(0,20)}...`),JSON.stringify(p);if(typeof p=="number"||typeof p=="boolean")return""+p;if(typeof p=="object"){if(p instanceof Array)return"an array";{const e=function(C){return C.constructor?C.constructor.name:null}(p);return e?`a custom ${e} object`:"an object"}}return typeof p=="function"?"a function":Dt()}function ri(p,e){if("_delegate"in p&&(p=p._delegate),!(p instanceof e)){if(e.name===p.constructor.name)throw new At(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const m=Bh(p);throw new At(vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${m}`)}}return p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firestore.googleapis.com",Hv=!0;class Kv{constructor(e){var m,C;if(e.host===void 0){if(e.ssl!==void 0)throw new At(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B0,this.ssl=Hv}else this.host=e.host,this.ssl=(m=e.ssl)!==null&&m!==void 0?m:Hv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f0)throw new At(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0((C=e.experimentalLongPollingOptions)!==null&&C!==void 0?C:{}),function(M){if(M.timeoutSeconds!==void 0){if(isNaN(M.timeoutSeconds))throw new At(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (must not be NaN)`);if(M.timeoutSeconds<5)throw new At(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (minimum allowed value is 5)`);if(M.timeoutSeconds>30)throw new At(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(C,R){return C.timeoutSeconds===R.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,m,C,R){this._authCredentials=e,this._appCheckCredentials=m,this._databaseId=C,this._app=R,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(C){if(!C)return new pC;switch(C.type){case"firstParty":return new yC(C.sessionIndex||"0",C.iamToken||null,C.authTokenFactory||null);case"provider":return C.client;default:throw new At(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(m){const C=Xv.get(m);C&&(Pt("ComponentProvider","Removing Datastore"),Xv.delete(m),C.terminate())}(this),Promise.resolve()}}function hP(p,e,m,C={}){var R;const M=(p=ri(p,Vh))._getSettings(),f=Object.assign(Object.assign({},M),{emulatorOptions:p._getEmulatorOptions()}),S=`${e}:${m}`;M.host!==B0&&M.host!==S&&or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const t=Object.assign(Object.assign({},M),{host:S,ssl:!1,emulatorOptions:C});if(!xs(t,f)&&(p._setSettings(t),C.mockUserToken)){let h,g;if(typeof C.mockUserToken=="string")h=C.mockUserToken,g=He.MOCK_USER;else{h=YE(C.mockUserToken,(R=p._app)===null||R===void 0?void 0:R.options.projectId);const o=C.mockUserToken.sub||C.mockUserToken.user_id;if(!o)throw new At(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new He(o)}p._authCredentials=new mC(new Sg(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,m,C){this.converter=m,this._query=C,this.type="query",this.firestore=e}withConverter(e){return new Bn(this.firestore,e,this._query)}}class Je{constructor(e,m,C){this.converter=m,this._key=C,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Ws extends Bn{constructor(e,m,C){super(e,m,Mh(C)),this._path=C,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new Ft(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function $v(p,e,...m){if(p=Re(p),b0("collection","path",e),p instanceof Vh){const C=pe.fromString(e,...m);return Yv(C),new Ws(p,null,C)}{if(!(p instanceof Je||p instanceof Ws))throw new At(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=p._path.child(pe.fromString(e,...m));return Yv(C),new Ws(p.firestore,null,C)}}function Yr(p,e,...m){if(p=Re(p),arguments.length===1&&(e=Cg.newId()),b0("doc","path",e),p instanceof Vh){const C=pe.fromString(e,...m);return Wv(C),new Je(p,null,new Ft(C))}{if(!(p instanceof Je||p instanceof Ws))throw new At(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=p._path.child(pe.fromString(e,...m));return Wv(C),new Je(p.firestore,p instanceof Ws?p.converter:null,new Ft(C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class Qv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new p0(this,"async_queue_retry"),this.bu=()=>{const C=Ml();C&&Pt(jv,"Visibility state changed to "+C.visibilityState),this.a_.t_()},this.Su=e;const m=Ml();m&&typeof m.addEventListener=="function"&&m.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const m=Ml();m&&typeof m.removeEventListener=="function"&&m.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const m=new gs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(m.resolve,m.reject),m.promise)).then(()=>m.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Tr(e))throw e;Pt(jv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const m=this.Su.then(()=>(this.pu=!0,e().catch(C=>{this.gu=C,this.pu=!1;const R=function(f){let S=f.message||"";return f.stack&&(S=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),S}(C);throw Ts("INTERNAL UNHANDLED ERROR: ",R),C}).then(C=>(this.pu=!1,C))));return this.Su=m,m}enqueueAfterDelay(e,m,C){this.Du(),this.wu.indexOf(e)>-1&&(m=0);const R=vf.createAndSchedule(this,e,m,C,M=>this.Fu(M));return this.fu.push(R),R}Du(){this.gu&&Dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const m of this.fu)if(m.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((m,C)=>m.targetTimeMs-C.targetTimeMs);for(const m of this.fu)if(m.skipDelay(),e!=="all"&&m.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const m=this.fu.indexOf(e);this.fu.splice(m,1)}}function Jv(p){return function(m,C){if(typeof m!="object"||m===null)return!1;const R=m;for(const M of C)if(M in R&&typeof R[M]=="function")return!0;return!1}(p,["next","error","complete"])}class qi extends Vh{constructor(e,m,C,R){super(e,m,C,R),this.type="firestore",this._queue=new Qv,this._persistenceKey=(R==null?void 0:R.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qv(e),this._firestoreClient=void 0,await e}}}function lP(p,e,m){m||(m=xa);const C=_s(p,"firestore");if(C.isInitialized(m)){const R=C.getImmediate({identifier:m}),M=C.getOptions(m);if(xs(M,e))return R;throw new At(vt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new At(vt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f0)throw new At(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return C.initialize({options:e,instanceIdentifier:m})}function uP(p,e){const m=Qu(),C=xa,R=_s(m,"firestore").getImmediate({identifier:C});if(!R._initialized){const M=XE("firestore");M&&hP(R,...M)}return R}function Cr(p){if(p._terminated)throw new At(vt.FAILED_PRECONDITION,"The client has already been terminated.");return p._firestoreClient||fP(p),p._firestoreClient}function fP(p){var e,m,C;const R=p._freezeSettings(),M=function(S,t,h,g){return new DC(S,t,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,N0(g.experimentalLongPollingOptions),g.useFetchStreams)}(p._databaseId,((e=p._app)===null||e===void 0?void 0:e.options.appId)||"",p._persistenceKey,R);p._componentsProvider||!((m=R.localCache)===null||m===void 0)&&m._offlineComponentProvider&&(!((C=R.localCache)===null||C===void 0)&&C._onlineComponentProvider)&&(p._componentsProvider={_offline:R.localCache._offlineComponentProvider,_online:R.localCache._onlineComponentProvider}),p._firestoreClient=new eP(p._authCredentials,p._appCheckCredentials,p._queue,M,p._componentsProvider&&function(S){const t=S==null?void 0:S._online.build();return{_offline:S==null?void 0:S._offline.build(t),_online:t}}(p._componentsProvider))}function dP(p){return sP(Cr(p=ri(p,qi)))}function cP(p){return nP(Cr(p=ri(p,qi)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cr(ze.fromBase64String(e))}catch(m){throw new At(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+m)}}static fromUint8Array(e){return new cr(ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let m=0;m<e.length;++m)if(e[m].length===0)throw new At(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ve(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,m){if(!isFinite(e)||e<-90||e>90)throw new At(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(m)||m<-180||m>180)throw new At(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+m);this._lat=e,this._long=m}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this._values=(e||[]).map(m=>m)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(C,R){if(C.length!==R.length)return!1;for(let M=0;M<C.length;++M)if(C[M]!==R[M])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=/^__.*__$/;class pP{constructor(e,m,C){this.data=e,this.fieldMask=m,this.fieldTransforms=C}toMutation(e,m){return this.fieldMask!==null?new en(e,this.data,this.fieldMask,m,this.fieldTransforms):new La(e,this.data,m,this.fieldTransforms)}}class V0{constructor(e,m,C){this.data=e,this.fieldMask=m,this.fieldTransforms=C}toMutation(e,m){return new en(e,this.data,this.fieldMask,m,this.fieldTransforms)}}function G0(p){switch(p){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class wf{constructor(e,m,C,R,M,f){this.settings=e,this.databaseId=m,this.serializer=C,this.ignoreUndefinedProperties=R,M===void 0&&this.Bu(),this.fieldTransforms=M||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var m;const C=(m=this.path)===null||m===void 0?void 0:m.child(e),R=this.ku({path:C,Qu:!1});return R.$u(e),R}Ku(e){var m;const C=(m=this.path)===null||m===void 0?void 0:m.child(e),R=this.ku({path:C,Qu:!1});return R.Bu(),R}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return qo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(m=>e.isPrefixOf(m))!==void 0||this.fieldTransforms.find(m=>e.isPrefixOf(m.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(G0(this.Lu)&&vP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mP{constructor(e,m,C){this.databaseId=e,this.ignoreUndefinedProperties=m,this.serializer=C||Nh(e)}ju(e,m,C,R=!1){return new wf({Lu:e,methodName:m,zu:C,path:Ve.emptyPath(),Qu:!1,Gu:R},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(p){const e=p._freezeSettings(),m=Nh(p._databaseId);return new mP(p._databaseId,!!e.ignoreUndefinedProperties,m)}function U0(p,e,m,C,R,M={}){const f=p.ju(M.merge||M.mergeFields?2:0,e,m,R);Mf("Data must be an object, but it was:",f,C);const S=z0(C,f);let t,h;if(M.merge)t=new pi(f.fieldMask),h=f.fieldTransforms;else if(M.mergeFields){const g=[];for(const o of M.mergeFields){const a=Tu(e,o,m);if(!f.contains(a))throw new At(vt.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);W0(g,a)||g.push(a)}t=new pi(g),h=f.fieldTransforms.filter(o=>t.covers(o.field))}else t=null,h=f.fieldTransforms;return new pP(new li(S),t,h)}class zh extends Af{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function gP(p,e,m,C){const R=p.ju(1,e,m);Mf("Data must be an object, but it was:",R,C);const M=[],f=li.empty();tn(C,(t,h)=>{const g=If(e,t,m);h=Re(h);const o=R.Ku(g);if(h instanceof zh)M.push(g);else{const a=Na(h,o);a!=null&&(M.push(g),f.set(g,a))}});const S=new pi(M);return new V0(f,S,R.fieldTransforms)}function xP(p,e,m,C,R,M){const f=p.ju(1,e,m),S=[Tu(e,C,m)],t=[R];if(M.length%2!=0)throw new At(vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<M.length;a+=2)S.push(Tu(e,M[a])),t.push(M[a+1]);const h=[],g=li.empty();for(let a=S.length-1;a>=0;--a)if(!W0(h,S[a])){const r=S[a];let i=t[a];i=Re(i);const n=f.Ku(r);if(i instanceof zh)h.push(r);else{const l=Na(i,n);l!=null&&(h.push(r),g.set(r,l))}}const o=new pi(h);return new V0(g,o,f.fieldTransforms)}function yP(p,e,m,C=!1){return Na(m,p.ju(C?4:3,e))}function Na(p,e){if(X0(p=Re(p)))return Mf("Unsupported field value:",e,p),z0(p,e);if(p instanceof Af)return function(C,R){if(!G0(R.Lu))throw R.Wu(`${C._methodName}() can only be used with update() and set()`);if(!R.path)throw R.Wu(`${C._methodName}() is not currently supported inside arrays`);const M=C._toFieldTransform(R);M&&R.fieldTransforms.push(M)}(p,e),null;if(p===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),p instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(C,R){const M=[];let f=0;for(const S of C){let t=Na(S,R.Uu(f));t==null&&(t={nullValue:"NULL_VALUE"}),M.push(t),f++}return{arrayValue:{values:M}}}(p,e)}return function(C,R){if((C=Re(C))===null)return{nullValue:"NULL_VALUE"};if(typeof C=="number")return i2(R.serializer,C);if(typeof C=="boolean")return{booleanValue:C};if(typeof C=="string")return{stringValue:C};if(C instanceof Date){const M=Ie.fromDate(C);return{timestampValue:jo(R.serializer,M)}}if(C instanceof Ie){const M=new Ie(C.seconds,1e3*Math.floor(C.nanoseconds/1e3));return{timestampValue:jo(R.serializer,M)}}if(C instanceof Pf)return{geoPointValue:{latitude:C.latitude,longitude:C.longitude}};if(C instanceof cr)return{bytesValue:s0(R.serializer,C._byteString)};if(C instanceof Je){const M=R.databaseId,f=C.firestore._databaseId;if(!f.isEqual(M))throw R.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${M.projectId}/${M.database}`);return{referenceValue:rf(C.firestore._databaseId||R.databaseId,C._key.path)}}if(C instanceof Rf)return function(f,S){return{mapValue:{fields:{[Fg]:{stringValue:Og},[Wo]:{arrayValue:{values:f.toArray().map(h=>{if(typeof h!="number")throw S.Wu("VectorValues must only contain numeric values.");return ef(S.serializer,h)})}}}}}}(C,R);throw R.Wu(`Unsupported field value: ${Bh(C)}`)}(p,e)}function z0(p,e){const m={};return Pg(p)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tn(p,(C,R)=>{const M=Na(R,e.qu(C));M!=null&&(m[C]=M)}),{mapValue:{fields:m}}}function X0(p){return!(typeof p!="object"||p===null||p instanceof Array||p instanceof Date||p instanceof Ie||p instanceof Pf||p instanceof cr||p instanceof Je||p instanceof Af||p instanceof Rf)}function Mf(p,e,m){if(!X0(m)||!function(R){return typeof R=="object"&&R!==null&&(Object.getPrototypeOf(R)===Object.prototype||Object.getPrototypeOf(R)===null)}(m)){const C=Bh(m);throw C==="an object"?e.Wu(p+" a custom object"):e.Wu(p+" "+C)}}function Tu(p,e,m){if((e=Re(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return If(p,e);throw qo("Field path arguments must be of type string or ",p,!1,void 0,m)}const TP=new RegExp("[~\\*/\\[\\]]");function If(p,e,m){if(e.search(TP)>=0)throw qo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,p,!1,void 0,m);try{return new Gh(...e.split("."))._internalPath}catch{throw qo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,p,!1,void 0,m)}}function qo(p,e,m,C,R){const M=C&&!C.isEmpty(),f=R!==void 0;let S=`Function ${e}() called with invalid data`;m&&(S+=" (via `toFirestore()`)"),S+=". ";let t="";return(M||f)&&(t+=" (found",M&&(t+=` in field ${C}`),f&&(t+=` in document ${R}`),t+=")"),new At(vt.INVALID_ARGUMENT,S+p+t)}function W0(p,e){return p.some(m=>m.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,m,C,R,M){this._firestore=e,this._userDataWriter=m,this._key=C,this._document=R,this._converter=M}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const m=this._document.data.field(Lf("DocumentSnapshot.get",e));if(m!==null)return this._userDataWriter.convertValue(m)}}}class EP extends Y0{data(){return super.data()}}function Lf(p,e){return typeof e=="string"?If(p,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(p){if(p.limitType==="L"&&p.explicitOrderBy.length===0)throw new At(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ff{}class SP extends Ff{}function K0(p,e,...m){let C=[];e instanceof Ff&&C.push(e),C=C.concat(m),function(M){const f=M.filter(t=>t instanceof Of).length,S=M.filter(t=>t instanceof Xh).length;if(f>1||f>0&&S>0)throw new At(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(C);for(const R of C)p=R._apply(p);return p}class Xh extends SP{constructor(e,m,C){super(),this._field=e,this._op=m,this._value=C,this.type="where"}static _create(e,m,C){return new Xh(e,m,C)}_apply(e){const m=this._parse(e);return $0(e._query,m),new Bn(e.firestore,e.converter,lu(e._query,m))}_parse(e){const m=Uh(e.firestore);return function(M,f,S,t,h,g,o){let a;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new At(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Zv(o,g);const i=[];for(const n of o)i.push(kv(t,M,n));a={arrayValue:{values:i}}}else a=kv(t,M,o)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Zv(o,g),a=yP(S,f,o,g==="in"||g==="not-in");return Ae.create(h,g,a)}(e._query,"where",m,e.firestore._databaseId,this._field,this._op,this._value)}}function CP(p,e,m){const C=e,R=Lf("where",p);return Xh._create(R,C,m)}class Of extends Ff{constructor(e,m){super(),this.type=e,this._queryConstraints=m}static _create(e,m){return new Of(e,m)}_parse(e){const m=this._queryConstraints.map(C=>C._parse(e)).filter(C=>C.getFilters().length>0);return m.length===1?m[0]:Ni.create(m,this._getOperator())}_apply(e){const m=this._parse(e);return m.getFilters().length===0?e:(function(R,M){let f=R;const S=M.getFlattenedFilters();for(const t of S)$0(f,t),f=lu(f,t)}(e._query,m),new Bn(e.firestore,e.converter,lu(e._query,m)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kv(p,e,m){if(typeof(m=Re(m))=="string"){if(m==="")throw new At(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zg(e)&&m.indexOf("/")!==-1)throw new At(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${m}' contains a '/' character.`);const C=e.path.child(pe.fromString(m));if(!Ft.isDocumentKey(C))throw new At(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${C}' is not because it has an odd number of segments (${C.length}).`);return uv(p,new Ft(C))}if(m instanceof Je)return uv(p,m._key);throw new At(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(m)}.`)}function Zv(p,e){if(!Array.isArray(p)||p.length===0)throw new At(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $0(p,e){const m=function(R,M){for(const f of R)for(const S of f.getFlattenedFilters())if(M.indexOf(S.op)>=0)return S.op;return null}(p.filters,function(R){switch(R){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(m!==null)throw m===e.op?new At(vt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new At(vt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${m.toString()}' filters.`)}class AP{convertValue(e,m="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,m);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,m);case 11:return this.convertObject(e.mapValue,m);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt()}}convertObject(e,m){return this.convertObjectMap(e.fields,m)}convertObjectMap(e,m="none"){const C={};return tn(e,(R,M)=>{C[R]=this.convertValue(M,m)}),C}convertVectorValue(e){var m,C,R;const M=(R=(C=(m=e.fields)===null||m===void 0?void 0:m[Wo].arrayValue)===null||C===void 0?void 0:C.values)===null||R===void 0?void 0:R.map(f=>Ee(f.doubleValue));return new Rf(M)}convertGeoPoint(e){return new Pf(Ee(e.latitude),Ee(e.longitude))}convertArray(e,m){return(e.values||[]).map(C=>this.convertValue(C,m))}convertServerTimestamp(e,m){switch(m){case"previous":const C=wh(e);return C==null?null:this.convertValue(C,m);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const m=$s(e);return new Ie(m.seconds,m.nanos)}convertDocumentKey(e,m){const C=pe.fromString(e);se(l0(C));const R=new ya(C.get(1),C.get(3)),M=new Ft(C.popFirst(5));return R.isEqual(m)||Ts(`Document ${M} contains a document reference within a different database (${R.projectId}/${R.database}) which is not supported. It will be treated as a reference in the current database (${m.projectId}/${m.database}) instead.`),M}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(p,e,m){let C;return C=p?p.toFirestore(e):e,C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,m){this.hasPendingWrites=e,this.fromCache=m}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q0 extends Y0{constructor(e,m,C,R,M,f){super(e,m,C,R,f),this._firestore=e,this._firestoreImpl=e,this.metadata=M}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const m=new Ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(m,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,m={}){if(this._document){const C=this._document.data.field(Lf("DocumentSnapshot.get",e));if(C!==null)return this._userDataWriter.convertValue(C,m.serverTimestamps)}}}class Ao extends Q0{data(e={}){return super.data(e)}}class J0{constructor(e,m,C,R){this._firestore=e,this._userDataWriter=m,this._snapshot=R,this.metadata=new Hr(R.hasPendingWrites,R.fromCache),this.query=C}get docs(){const e=[];return this.forEach(m=>e.push(m)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,m){this._snapshot.docs.forEach(C=>{e.call(m,new Ao(this._firestore,this._userDataWriter,C.key,C,new Hr(this._snapshot.mutatedKeys.has(C.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const m=!!e.includeMetadataChanges;if(m&&this._snapshot.excludesMetadataChanges)throw new At(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===m||(this._cachedChanges=function(R,M){if(R._snapshot.oldDocs.isEmpty()){let f=0;return R._snapshot.docChanges.map(S=>{const t=new Ao(R._firestore,R._userDataWriter,S.doc.key,S.doc,new Hr(R._snapshot.mutatedKeys.has(S.doc.key),R._snapshot.fromCache),R.query.converter);return S.doc,{type:"added",doc:t,oldIndex:-1,newIndex:f++}})}{let f=R._snapshot.oldDocs;return R._snapshot.docChanges.filter(S=>M||S.type!==3).map(S=>{const t=new Ao(R._firestore,R._userDataWriter,S.doc.key,S.doc,new Hr(R._snapshot.mutatedKeys.has(S.doc.key),R._snapshot.fromCache),R.query.converter);let h=-1,g=-1;return S.type!==0&&(h=f.indexOf(S.doc.key),f=f.delete(S.doc.key)),S.type!==1&&(f=f.add(S.doc),g=f.indexOf(S.doc.key)),{type:PP(S.type),doc:t,oldIndex:h,newIndex:g}})}}(this,m),this._cachedChangesIncludeMetadataChanges=m),this._cachedChanges}}function PP(p){switch(p){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(p){p=ri(p,Je);const e=ri(p.firestore,qi);return rP(Cr(e),p._key).then(m=>k0(e,p,m))}class Df extends AP{constructor(e){super(),this.firestore=e}convertBytes(e){return new cr(e)}convertReference(e){const m=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,m)}}function qv(p){p=ri(p,Bn);const e=ri(p.firestore,qi),m=Cr(e),C=new Df(e);return H0(p._query),aP(m,p._query).then(R=>new J0(e,C,p,R))}function RP(p,e,m){p=ri(p,Je);const C=ri(p.firestore,qi),R=j0(p.converter,e);return Nf(C,[U0(Uh(C),"setDoc",p._key,R,p.converter!==null,m).toMutation(p._key,Mi.none())])}function wP(p,e,m,...C){p=ri(p,Je);const R=ri(p.firestore,qi),M=Uh(R);let f;return f=typeof(e=Re(e))=="string"||e instanceof Gh?xP(M,"updateDoc",p._key,e,m,C):gP(M,"updateDoc",p._key,e),Nf(R,[f.toMutation(p._key,Mi.exists(!0))])}function MP(p,e){const m=ri(p.firestore,qi),C=Yr(p),R=j0(p.converter,e);return Nf(m,[U0(Uh(p.firestore),"addDoc",C._key,R,p.converter!==null,{}).toMutation(C._key,Mi.exists(!1))]).then(()=>C)}function _v(p,...e){var m,C,R;p=Re(p);let M={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||Jv(e[f])||(M=e[f],f++);const S={includeMetadataChanges:M.includeMetadataChanges,source:M.source};if(Jv(e[f])){const o=e[f];e[f]=(m=o.next)===null||m===void 0?void 0:m.bind(o),e[f+1]=(C=o.error)===null||C===void 0?void 0:C.bind(o),e[f+2]=(R=o.complete)===null||R===void 0?void 0:R.bind(o)}let t,h,g;if(p instanceof Je)h=ri(p.firestore,qi),g=Mh(p._key.path),t={next:o=>{e[f]&&e[f](k0(h,p,o))},error:e[f+1],complete:e[f+2]};else{const o=ri(p,Bn);h=ri(o.firestore,qi),g=o._query;const a=new Df(h);t={next:r=>{e[f]&&e[f](new J0(h,a,o,r))},error:e[f+1],complete:e[f+2]},H0(p._query)}return function(a,r,i,n){const l=new Sf(n),s=new yf(r,l,i);return a.asyncQueue.enqueueAndForget(async()=>mf(await Zo(a),s)),()=>{l.su(),a.asyncQueue.enqueueAndForget(async()=>gf(await Zo(a),s))}}(Cr(h),g,S,t)}function Nf(p,e){return function(C,R){const M=new gs;return C.asyncQueue.enqueueAndForget(async()=>$A(await iP(C),R,M)),M.promise}(Cr(p),e)}function k0(p,e,m){const C=m.docs.get(e._key),R=new Df(p);return new Q0(p,R,e._key,C,new Hr(m.hasPendingWrites,m.fromCache),e.converter)}(function(e,m=!0){(function(R){xr=R})(gr),ki(new Di("firestore",(C,{instanceIdentifier:R,options:M})=>{const f=C.getProvider("app").getImmediate(),S=new qi(new gC(C.getProvider("auth-internal")),new TC(f,C.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new At(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(h.options.projectId,g)}(f,R),f);return M=Object.assign({useFetchStreams:m},M),S._setSettings(M),S},"PUBLIC").setMultipleInstances(!0)),Ci(_c,tv,e),Ci(_c,tv,"esm2017")})();class IP{static getFormattedMessage(e,m){let C=e,R=m;return(typeof e!="string"||!e.toLowerCase().startsWith("nyx"))&&(C="NYX",R=[e,...m]),`%c${C}%c ${R.join(" ")}`}static getPrefixStyle(){return"background: #9F50F0; color: white; padding: 4px 8px; border-radius: 2px; font-weight: bold; line-height: 1.5; margin-bottom: 4px; display: inline-flex;"}static getMessageStyle(e){switch(e){case"info":return"color: #4CAF50; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"warn":return"color: #FF9800; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"error":return"color: #F44336; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";default:return""}}static getArgsStrings(e){return e.filter(m=>typeof m=="string")}static getArgsOther(e){return e.filter(m=>typeof m!="string")}static getCaller(){const e=new Error().stack;return e?e.split(`
`)[3]??"unknown":"unknown"}static info(e,...m){console.log.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(m)),this.getPrefixStyle(),this.getMessageStyle("info"),...this.getArgsOther(m)])}static warn(e,...m){console.warn.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(m)),this.getPrefixStyle(),this.getMessageStyle("warn"),...this.getArgsOther(m)])}static error(e,...m){console.error.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(m)),this.getPrefixStyle(),this.getMessageStyle("error"),...this.getArgsOther(m)])}}class yi{static handleDefaultValue(e,m,C){if(e!==void 0)return e;throw new Error(`Could not load data, expected ${m} to be of type ${C}`)}static handleData(e,m,C){return!e||typeof e!="object"?this.handleDefaultValue(void 0,m,C):e[m]}static loadString(e,m,C){const R=this.handleData(e,m,"string");return typeof R=="string"?R:this.handleDefaultValue(C,m,"string")}static loadStringOrNull(e,m,C){const R=this.handleData(e,m,"string");return typeof R=="string"?R:this.handleDefaultValue(C,m,"string")}static loadBoolean(e,m,C){const R=this.handleData(e,m,"boolean");return typeof R=="boolean"?R:this.handleDefaultValue(C,m,"boolean")}static loadBooleanOrNull(e,m,C){const R=this.handleData(e,m,"boolean");return typeof R=="boolean"?R:this.handleDefaultValue(C,m,"boolean")}static loadNumber(e,m,C){const R=this.handleData(e,m,"number");return typeof R=="number"?R:this.handleDefaultValue(C,m,"number")}static loadNumberOrNull(e,m,C){const R=this.handleData(e,m,"number");return typeof R=="number"?R:this.handleDefaultValue(C,m,"number")}static loadEnum(e,m,C,R){const M=this.handleData(e,m,"string");return R.includes(M)?M:this.handleDefaultValue(C,m,"enum")}static loadEnumOrNull(e,m,C,R){const M=this.handleData(e,m,"string");return R.includes(M)?M:this.handleDefaultValue(C,m,"enum")}static loadArray(e,m,C){const R=this.handleData(e,m,"array");return Array.isArray(R)?R:this.handleDefaultValue(C,m,"array")}static loadArrayOrNull(e,m,C){const R=this.handleData(e,m,"array");return Array.isArray(R)?R:this.handleDefaultValue(C,m,"array")}static loadObject(e,m,C){const R=this.handleData(e,m,"object");return typeof R=="object"&&R!==null?R:this.handleDefaultValue(C,m,"object")}static loadObjectOrNull(e,m,C){const R=this.handleData(e,m,"object");return typeof R=="object"&&R!==null?R:this.handleDefaultValue(C,m,"object")}}const ah=class ah{constructor(e){mt(this,"id","");mt(this,"score",0);mt(this,"createdAt",new Date);mt(this,"userId","");mt(this,"version","0.0.30");mt(this,"gameMode",ql.Normal);mt(this,"hasDebugged",!1);e&&(this.id=yi.loadString(e,"id",this.id),this.score=yi.loadNumber(e,"score",this.score),this.userId=yi.loadString(e,"userId",this.userId),this.version=yi.loadString(e,"version",this.version),this.gameMode=yi.loadEnum(e,"gameMode",this.gameMode,Object.values(ql)),this.hasDebugged=yi.loadBoolean(e,"hasDebugged",this.hasDebugged))}getRawData(){return{score:this.score,createdAt:this.createdAt,userId:this.userId,version:this.version,gameMode:this.gameMode,hasDebugged:this.hasDebugged}}};mt(ah,"Converter",{toFirestore:e=>e.getRawData(),fromFirestore:e=>{const m=e.data();return new ah({...m,id:e.id})}});let sa=ah;const bf=On("hiscores",()=>{const p=Gt([]),e=Gt(!1),m=f=>{p.value=Array.isArray(f)?f:[f]};return{hiscores:p,hasDebugged:e,addNewHiscore:async(f,S)=>{const t=new sa({score:S,userId:f,hasDebugged:e.value});if(t.score>Ot.hiscores.threshold){const h=await oi.addDocument(us.Hiscores,t,sa.Converter);t.id=h}return e.value=!1,t},subscribeHiscores:async()=>{const f=oi.getCollectionRef(us.Hiscores),S=CP("hasDebugged","==",!1);oi.subscribe({key:"hiscores",queryRef:K0(f,S).withConverter(sa.Converter),callback:m,error:t=>{console.error("Error in subscription to hiscores.",t)}})},unsubscribeHiscores:async()=>{oi.unsubscribe("hiscores")}}}),Bf=On("interface",()=>{const{isPlaying:p}=Ue(di()),e=Gt(!1),m=Gt(!1),C=Gt(!1);return{isGameMenuVisible:C,isHiscoresVisible:e,isSettingsVisible:m,toggleGameMenu:()=>{p.value||(C.value=!C.value)},toggleHiscores:()=>e.value=!e.value,toggleSettings:()=>m.value=!m.value}}),Vf=On("settings",()=>{const p=Gt(!1),e=Gt(1),m=Gt(1),C=Gt(1),R=Lt({get(){return e.value},set(t){e.value=t,localStorage.setItem("settings",JSON.stringify({currentVolume:t})),fs.emit("setVolume",t)}});return{currentVolume:R,isFullscreen:p,musicVolume:m,sfxVolume:C,setVolume:t=>{R.value=t,fs.emit("setVolume",t)},setMusicVolume:t=>{m.value=t,fs.emit("setMusicVolume",t)},setSfxVolume:t=>{C.value=t,fs.emit("setSfxVolume",t)}}});class LP{constructor(e,m){mt(this,"scene");mt(this,"store",di());mt(this,"position");mt(this,"onDestroy");mt(this,"id",$u());mt(this,"type",we.EnergySmall);mt(this,"sprite");mt(this,"speed");mt(this,"isLarge",!1);this.scene=e,this.type=(m==null?void 0:m.type)??this.getRandomType((m==null?void 0:m.isLarge)??!1),this.position=(m==null?void 0:m.position)??{x:0,y:0},this.sprite=this.create(),this.speed=(m==null?void 0:m.speed)??5,this.onDestroy=(m==null?void 0:m.onDestroy)??(()=>{})}get key(){return this.type}getRandomType(e){if(!e)return we.EnergySmall;const m=[we.EnergyMedium,we.EnergyMedium,we.EnergyMedium,we.EnergyLarge],C=[we.HpMedium,we.HpMedium,we.HpMedium,we.HpLarge],R=this.store.energy/100;return Math.random()>R?Gc(m):Gc(C)}create(){let e=2;return[we.EnergyMedium,we.HpMedium].includes(this.type)&&(e=1.5),this.scene.add.image(this.position.x,this.position.y,this.key).setOrigin(.5,.5).setRotation(zi(0,Math.PI*2)).setScale(e).setDepth(100)}update(e){const m=e.x-this.sprite.x,C=e.y-this.sprite.y,R=Math.sqrt(m*m+C*C);if(R<300){const S=m/R*this.speed*3,t=C/R*this.speed*3;this.sprite.x+=S,this.sprite.y+=t}else this.sprite.x-=this.speed*3;this.sprite.rotation+=Ot.powerUp.rotationSpeed,(this.sprite.x<-this.sprite.width||this.sprite.y>this.scene.scale.height+this.sprite.height)&&this.destroy()}destroy(e=!1){this.onDestroy(this.id,{isDestroyedByPlayer:e,type:this.type,position:this.position}),this.sprite.destroy()}}let FP=class{constructor(e){mt(this,"scene");mt(this,"store",Vf());mt(this,"soundtrack",null);mt(this,"sfx",{playerBeam:null,playerDamage:null,playerDash:null,playerDeath:null});var C;this.scene=e;const m=this.store.currentVolume;this.soundtrack=this.scene.sound.add("soundtrack",{loop:!0,volume:m*.8}),this.sfx={playerBeam:this.scene.sound.add("playerBeam",{volume:0,loop:!0}),playerDamage:this.scene.sound.add("playerDamage",{volume:m}),playerDash:this.scene.sound.add("playerDash",{volume:m}),playerDeath:this.scene.sound.add("playerDeath",{volume:m})};for(const R in this.sfx)(C=this.sfx[R])!=null&&C.loop&&this.sfx[R].play();fs.on("setVolume",R=>{this.updateVolume(R)})}updateVolume(e){this.scene.sound.setVolume(e)}playSfx(e){const m=this.sfx[e];m.loop?(this.scene.tweens.killTweensOf(m),this.scene.tweens.add({targets:m,volume:this.store.currentVolume,duration:200,ease:"Linear"})):m.play()}stopSfx(e){const m=this.sfx[e];m.loop?(this.scene.tweens.killTweensOf(m),this.scene.tweens.add({targets:m,volume:0,duration:200,ease:"Linear"})):m.stop()}stopAll(){this.scene.sound.stopAll()}};class Z0 extends mr.Scene{constructor(){super("Game");mt(this,"controls",null);mt(this,"background",null);mt(this,"player",null);mt(this,"velocity",1);mt(this,"spawnRate",0);mt(this,"asteroidSpeed",0);mt(this,"store",di());mt(this,"asteroids",[]);mt(this,"lastSpawnTime",0);mt(this,"powerUps",[]);mt(this,"audio",null)}reset(){var m,C;this.asteroids.forEach(R=>R.destroy()),this.asteroids=[],this.powerUps.forEach(R=>R.destroy()),this.powerUps=[],(m=this.player)==null||m.setPosition(200,this.scale.height/2),(C=this.player)==null||C.stopBeam(),this.lastSpawnTime=0}togglePaused(){this.store.togglePaused(),this.store.isPaused?this.scene.pause():this.scene.resume()}create(){var m;if(!this.input.keyboard)throw new Error("No keyboard input found");this.audio=new FP(this),(m=this.audio.soundtrack)==null||m.play(),this.controls=new VP(this.input.keyboard),this.background=new BP(this,this.controls),this.player=new bP(this,this.controls),this.player.setDepth(1e3),this.player.setPosition(200,this.scale.height/2),Po(this.anims,"explosion/md","explosion/md",[0,1,2,3],0),fs.emit("current-scene-ready",this)}update(m,C){var t,h,g;if(!this.player||!this.background||this.store.isPaused)return;if(this.velocity=1+Math.log1p(Math.max(1,this.store.score/500))*2+Math.pow(this.store.score/1e3,1.025),this.velocity=Ti(this.velocity,1,20),!this.store.isInGame){this.background.update(this.velocity);return}if(!this.store.isPlaying)return;const R=this.player.currentPosition;this.asteroids.forEach(o=>o.update()),this.powerUps.forEach(o=>o.update(R)),this.background.update(this.velocity),this.player.update(this.velocity,m,C),this.trySpawnAsteroid();const M=this.player.bounds,f=this.isCollisionAsteroidDetected(M),S=this.isCollisionPowerUpDetected(M);if(f&&((t=this.player)!=null&&t.isDashing?(this.player.hp-=f.damage*Ot.player.dashDamageReduction,f.destroy(!0)):(this.player.hp-=f.damage,f.destroy(!1))),S&&S.destroy(!0),(g=(h=this.player)==null?void 0:h.beam)!=null&&g.isActive){const o=this.player.beam.sprite,a=new Phaser.Geom.Line(this.player.x+this.player.sprite.width/2-50,this.player.y,this.player.x+Math.cos(o.rotation)*o.displayWidth,this.player.y+Math.sin(o.rotation)*o.displayWidth);this.asteroids.forEach(r=>{var n;const i=r.sprite.getBounds();Phaser.Geom.Intersects.LineToRectangle(a,i)&&(r.hp-=((n=this.player)==null?void 0:n.damage)??1)})}}trySpawnAsteroid(){this.spawnRate=Ot.asteroid.baseSpawnRate/this.velocity,this.time.now-this.lastSpawnTime>=this.spawnRate&&(this.lastSpawnTime=this.time.now,this.spawnAsteroid())}isCollisionAsteroidDetected(m){if(this.store.debug.isCollisionDisabled)return!1;for(const C of this.asteroids){const R=C.sprite.getBounds();if(Phaser.Geom.Rectangle.Overlaps(m,R))return C}return!1}isCollisionPowerUpDetected(m){for(const C of this.powerUps){const R=C.sprite.getBounds();if(Phaser.Geom.Intersects.RectangleToRectangle(m,R))return C}return!1}spawnAsteroid(){this.asteroidSpeed=this.velocity*.5;const m=new ME(this,{maxSpeed:this.asteroidSpeed,isLarge:Math.random()>.75,onDestroy:this.onDestroyAsteroid.bind(this)});this.asteroids.push(m)}spawnPowerUp(m,C){const R=new LP(this,{position:m,isLarge:C,speed:this.asteroidSpeed,onDestroy:this.onDestroyPowerUp.bind(this)});this.powerUps.push(R)}onDestroyAsteroid(m,C){this.asteroids=this.asteroids.filter(R=>R.id!==m),C!=null&&C.isDestroyedByPlayer&&(this.store.increaseScore(Math.round(C.size*2)),this.spawnPowerUp(C.position,C.isLarge))}onDestroyPowerUp(m,C){if(this.powerUps=this.powerUps.filter(R=>R.id!==m),!(!(C!=null&&C.isDestroyedByPlayer)||!this.player))switch(C.type){case we.HpLarge:this.player.hp+=Ot.powerUp.hpLarge;break;case we.HpMedium:this.player.hp+=Ot.powerUp.hpMedium;break;case we.HpSmall:this.player.hp+=Ot.powerUp.hpSmall;break;case we.EnergyLarge:this.player.energy+=Ot.powerUp.energyLarge;break;case we.EnergyMedium:this.player.energy+=Ot.powerUp.energyMedium;break;case we.EnergySmall:default:this.player.energy+=Ot.powerUp.energySmall;break}}}class OP extends mr.Scene{constructor(){super("Preloader")}init(){const{setPreloadProgress:e}=di();this.load.on("progress",m=>{e(m)})}preload(){this.load.setPath("assets"),this.load.image("player","whale.png"),this.load.image("blackhole","blackhole.png"),this.load.image("background/stars","background/stars.png"),this.load.image("background/dust","background/dust.png"),this.load.image("background/nebulae","background/nebulae.png"),this.load.image("background/planets","background/planets.png"),this.load.image("asteroid/1","asteroid/1.png"),this.load.image("asteroid/2","asteroid/2.png"),this.load.image("asteroid/3","asteroid/3.png"),this.load.image("asteroid/4","asteroid/4.png"),this.load.image("asteroid/5","asteroid/5.png"),this.load.image("asteroid/6","asteroid/6.png"),this.load.image("powerup/hp-small","powerup/pink0.png"),this.load.image("powerup/hp-medium","powerup/pink1.png"),this.load.image("powerup/hp-large","powerup/pink2.png"),this.load.image("powerup/energy-small","powerup/blue0.png"),this.load.image("powerup/energy-medium","powerup/blue1.png"),this.load.image("powerup/energy-large","powerup/blue2.png"),this.load.spritesheet("beam","beam.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("explosion/md","explosion/md.png",{frameWidth:32,frameHeight:32}),this.load.audio("soundtrack","soundtracks/OutOfTheOrbit.mp3"),this.load.audio("playerDamage","sfx/playerDamage.mp3"),this.load.audio("playerBeam","sfx/playerBeam.mp3"),this.load.audio("playerDash","sfx/playerDash.mp3"),this.load.audio("playerDeath","sfx/playerDeath.mp3")}create(){fs.emit("preload-complete",this),this.scene.start("Game")}}const fo=(p,e,m)=>{const C=p.textures.get(e).getSourceImage().height;return p.add.tileSprite(0,0,p.scale.width,p.scale.height,e).setOrigin(0,0).setScrollFactor(0).setScale(p.scale.height/C).setDepth((m==null?void 0:m.depth)??0).setAlpha((m==null?void 0:m.alpha)??1)},Po=(p,e,m,C,R=-1)=>p.create({key:e,frames:p.generateFrameNames(m,{frames:C}),frameRate:10,repeat:R}),DP=p=>p instanceof Z0;class NP{constructor(e,m){mt(this,"scene");mt(this,"key","beam");mt(this,"origin",{x:0,y:0});mt(this,"id",$u());mt(this,"sprite");mt(this,"isActive",!1);mt(this,"beamStartTime",0);mt(this,"scaleX",Ot.beam.scaleX);this.scene=e,this.origin=m,this.sprite=this.scene.add.sprite(this.origin.x-50,this.origin.y,this.key).setAlpha(0).setOrigin(0,.5),Po(this.scene.anims,"beam-start","beam",[0,1,2,3,4,5,6,7],0),Po(this.scene.anims,"beam-active","beam",[8,9,10,11,12,13,14,15]),Po(this.scene.anims,"beam-end","beam",[16,17,18,19,20,21,22,23],0)}get bounds(){const e=this.sprite.getBounds().getPoints(4),m=Math.min(...e.map(f=>f.x)),C=Math.max(...e.map(f=>f.x)),R=Math.min(...e.map(f=>f.y)),M=Math.max(...e.map(f=>f.y));return new Phaser.Geom.Rectangle(m,R,C-m,M-R)}get scaleY(){var e;return Ti(((e=this.scene.player)==null?void 0:e.damage)??1,1,4)}start(e){this.isActive=!0,this.sprite.setAlpha(1).setScale(this.scaleX,this.scaleY),this.sprite.anims&&(this.sprite.anims.play("beam-start").once("animationcomplete",()=>this.isActive&&this.sprite.anims.play("beam-active")),this.update(e),this.beamStartTime=this.scene.time.now)}update(e){if(!this.isActive)return;const m=this.scene.input.activePointer,C=Phaser.Math.Angle.Between(e.x,e.y,m.worldX,m.worldY),R=Ot.beam.minAngle,M=Ot.beam.maxAngle,f=Ti(C,R,M);this.sprite.setRotation(f)}end(){this.isActive=!1,this.sprite.anims.stop(),this.sprite.anims.play("beam-end").once("animationcomplete",()=>this.sprite.setScale(this.scaleX,this.scaleY)),this.beamStartTime=0}destroy(){this.sprite.destroy()}handleScaling(){if(!this.isActive)return;const e=Ot.beam.maxScale,m=Ot.beam.scaleDuration,C=Math.min(1,(this.scene.time.now-this.beamStartTime)/m),R=this.scaleX+(e-this.scaleX)*C;this.sprite.setScale(R,this.scaleY)}}class bP extends Phaser.GameObjects.Container{constructor(m,C){super(m,0,0);mt(this,"sprite");mt(this,"scene");mt(this,"controls");mt(this,"store",di());mt(this,"velocity",{x:Ot.player.velocity,y:Ot.player.velocity});mt(this,"maxVelocity",{x:Ot.player.maxVelocity,y:Ot.player.maxVelocity});mt(this,"acceleration",{x:Ot.player.acceleration,y:Ot.player.acceleration});mt(this,"deceleration",{x:Ot.player.deceleration,y:Ot.player.deceleration});mt(this,"beam",null);mt(this,"energyDrainRate",Ot.player.energyDrainRate);mt(this,"_isDashing",!1);mt(this,"dashDistance",Ot.player.dashDistance);mt(this,"dashCooldown",Ot.player.dashCooldown);mt(this,"lastDashTime",0);mt(this,"dashDestinationPos",{x:0,y:0});mt(this,"audio",null);this.scene=m,this.controls=C,this.audio=m.audio;const R=this.scene.textures.get("player").getSourceImage();this.beam=new NP(this.scene,{x:R.width/2,y:0}),this.add(this.beam.sprite),this.sprite=m.add.image(0,0,"player"),this.add(this.sprite),m.add.existing(this),m.input.on("pointerdown",this.startBeam,this),m.input.on("pointerup",this.stopBeam,this),m.input.on("pointermove",this.updateBeam,this)}get hp(){return this.store.hp}set hp(m){var M,f,S,t;if(this.store.debug.isImmortal)return;const C=m<this.hp,R=Ti(m,0,Ot.player.hpMax);this.store.setPlayerHp(R),C&&(R<=0?(f=(M=this.audio)==null?void 0:M.sfx.playerDeath)==null||f.play():(t=(S=this.audio)==null?void 0:S.sfx.playerDamage)==null||t.play(),this.sprite.setTint(Ot.player.colorDamage),this.sprite.setPipeline("glow"),window.setTimeout(()=>{this.sprite.clearTint(),this.sprite.resetPipeline()},200))}get energy(){return this.store.energy}set energy(m){if(this.store.debug.hasInfiniteEnergy)return;const C=Ti(m,0,Ot.player.energyMax);this.store.setPlayerEnergy(C)}get isDashing(){return this._isDashing}set isDashing(m){var C,R;this._isDashing=m,m&&((R=(C=this.audio)==null?void 0:C.sfx.playerDash)==null||R.play())}get hasEnergy(){return this.energy>=this.energyDrainRate||this.store.debug.hasInfiniteEnergy}get currentPosition(){return{x:this.x,y:this.y}}get damage(){const m=this.store.score;return m<1e3?1:1+(m-1e3)/500}get bounds(){const m=Ot.player.boundsPadding,C=this.sprite.getBounds();return new Phaser.Geom.Rectangle(C.x+m,C.y+m,C.width-m*2,C.height-m*2)}update(m,C,R){var f,S,t,h;const M=this.scene.time.now;if(this.controls.space&&M-this.lastDashTime>=this.dashCooldown&&(this.isDashing=!0,this.lastDashTime=M,this.dashDestinationPos={x:this.x+(this.controls.left?-this.dashDistance:this.controls.right?this.dashDistance:0),y:this.y+(this.controls.up?-this.dashDistance:this.controls.down?this.dashDistance:0)},this.dashDestinationPos=this.getClampedPosition(this.dashDestinationPos.x,this.dashDestinationPos.y),this.controls.space=!1),this.isDashing?this.handleDash():(this.updateVelocity(),this.updatePosition()),this.store.setPlayerPosition(this.x,this.y),this.hasEnergy&&((f=this.beam)!=null&&f.isActive)){if(this.beam.handleScaling(),this.energy-=this.energyDrainRate,(t=(S=this.audio)==null?void 0:S.sfx.playerBeam)!=null&&t.isPlaying)return}else(h=this.beam)!=null&&h.isActive?this.stopBeam():this.energy+=Ot.player.energyRegen}destroy(){this.beam&&(this.scene.input.off("pointerdown",this.startBeam,this),this.scene.input.off("pointerup",this.stopBeam,this),this.scene.input.off("pointermove",this.updateBeam,this),this.beam.destroy()),super.destroy()}getClampedPosition(m,C){return{x:Ti(m,0,this.scene.scale.width-this.sprite.width),y:Ti(C,0,this.scene.scale.height-this.sprite.height)}}updatePosition(){this.x+=this.velocity.x,this.y+=this.velocity.y;const m=this.getClampedPosition(this.x,this.y);this.x=m.x,this.y=m.y}updateVelocity(){this.controls.left?this.velocity.x=Math.max(this.velocity.x-this.acceleration.x,-this.maxVelocity.x):this.controls.right?this.velocity.x=Math.min(this.velocity.x+this.acceleration.x,this.maxVelocity.x):this.velocity.x>0?this.velocity.x=Math.max(0,this.velocity.x-this.deceleration.x):this.velocity.x<0&&(this.velocity.x=Math.min(0,this.velocity.x+this.deceleration.x)),this.controls.up?this.velocity.y=Math.max(this.velocity.y-this.acceleration.y,-this.maxVelocity.y):this.controls.down?this.velocity.y=Math.min(this.velocity.y+this.acceleration.y,this.maxVelocity.y):this.velocity.y>0?this.velocity.y=Math.max(0,this.velocity.y-this.deceleration.y):this.velocity.y<0&&(this.velocity.y=Math.min(0,this.velocity.y+this.deceleration.y))}handleDash(){const m=this.dashDestinationPos.x-this.x,C=this.dashDestinationPos.y-this.y,R=Math.sqrt(m*m+C*C);if(R>20){const M=Ot.player.dashSpeed;this.velocity.x=m/R*M,this.velocity.y=C/R*M,this.sprite.setTint(Ot.player.colorDash),this.sprite.setPipeline("glow")}else this.velocity.x=this.controls.right?this.maxVelocity.x:this.controls.left?-this.maxVelocity.x:0,this.velocity.y=this.controls.down?this.maxVelocity.y:this.controls.up?-this.maxVelocity.y:0,this.isDashing=!1,this.sprite.clearTint(),this.sprite.resetPipeline();this.updatePosition()}startBeam(){var m,C;this.hasEnergy&&((m=this.audio)==null||m.playSfx("playerBeam"),(C=this.beam)==null||C.start(this.currentPosition))}stopBeam(){var m,C;(m=this.audio)==null||m.stopSfx("playerBeam"),(C=this.beam)==null||C.end()}updateBeam(){var m;this.hasEnergy&&((m=this.beam)==null||m.update(this.currentPosition))}}class BP{constructor(e,m){mt(this,"scene");mt(this,"controls");mt(this,"store",di());mt(this,"bgDust");mt(this,"bgStars");mt(this,"bgNebulae");mt(this,"bgPlanets");mt(this,"velocity",1);this.scene=e,this.controls=m,this.bgDust=fo(e,"background/dust",{depth:10,alpha:.5}),this.bgNebulae=fo(e,"background/nebulae",{depth:20,alpha:.5}),this.bgStars=fo(e,"background/stars",{depth:30,alpha:1}),this.bgPlanets=fo(e,"background/planets",{depth:40,alpha:1})}update(e){this.velocity=e,this.bgDust.tilePositionX+=this.velocity*.25,this.bgNebulae.tilePositionX+=this.velocity*.25,this.bgStars.tilePositionX+=this.velocity*.275,this.bgPlanets.tilePositionX+=this.velocity*.3}}class VP{constructor(e){mt(this,"store",di());mt(this,"left",!1);mt(this,"right",!1);mt(this,"up",!1);mt(this,"down",!1);mt(this,"space",!1);mt(this,"esc",!1);mt(this,"special1",!1);mt(this,"special2",!1);e.on("keydown",m=>{if(this.store.isPlaying)switch(m.code){case"ArrowLeft":case"KeyA":this.left=!0;break;case"ArrowRight":case"KeyD":this.right=!0;break;case"ArrowUp":case"KeyW":this.up=!0;break;case"ArrowDown":case"KeyS":this.down=!0;break;case"Space":this.space=!0;break;case"Escape":this.esc=!0;break;case"KeyE":this.special1=!0;break;case"KeyQ":this.special2=!0;break}}),e.on("keyup",m=>{switch(m.code){case"ArrowLeft":case"KeyA":this.left=!1;break;case"ArrowRight":case"KeyD":this.right=!1;break;case"ArrowUp":case"KeyW":this.up=!1;break;case"ArrowDown":case"KeyS":this.down=!1;break;case"Space":this.space=!1;break;case"Escape":this.esc=!1;break;case"KeyE":this.special1=!1;break;case"KeyQ":this.special2=!1;break}})}}const fs=new mr.Events.EventEmitter,di=On("game",()=>{const p=Gt(ge.Preload),e=Gt(new EE),m=Gt(0),C=Gt(),R=Gt({x:0,y:0}),M=Gt(0),f=Gt(Ot.player.hpStart),S=Gt(Ot.player.energyStart),t=y=>p.value=y,h=(y=1)=>M.value+=y,g=y=>f.value=Ti(y,0,Ot.player.hpMax),o=y=>S.value=Ti(y,0,Ot.player.energyMax),a=y=>m.value=y,r=y=>C.value=y,i=y=>{[ge.Playing,ge.Paused].includes(p.value)&&(y===void 0?p.value=p.value===ge.Playing?ge.Paused:ge.Playing:p.value=y?ge.Paused:ge.Playing)},n=(y,T)=>R.value={x:y,y:T},l=Lt(()=>p.value===ge.Paused),s=Lt(()=>p.value===ge.Playing),u=Lt(()=>p.value===ge.Preload),d=Lt(()=>p.value===ge.Menu),c=Lt(()=>p.value===ge.GameOver),v=Lt(()=>s.value||l.value),x=()=>{f.value=Ot.player.hpStart,S.value=Ot.player.energyStart,M.value=0,C.value&&DP(C.value)&&C.value.reset()};return ni(f,y=>{p.value===ge.Playing&&(y>0||t(ge.GameOver))}),ni(p,(y,T)=>{T!==ge.Paused&&y===ge.Playing&&x()}),{currentScene:C,debug:e,energy:S,hp:f,increaseScore:h,isGameOver:c,isInGame:v,isInMenu:d,isPaused:l,isPlaying:s,isPreloading:u,playerPosition:R,preloadProgress:m,reset:x,score:M,setCurrentScene:r,setGameState:t,setPlayerEnergy:o,setPlayerHp:g,setPreloadProgress:a,setPlayerPosition:n,state:p,togglePaused:i}});var re=(p=>(p.Top="top",p.TopLeft="top-left",p.TopRight="top-right",p.Bottom="bottom",p.BottomLeft="bottom-left",p.BottomRight="bottom-right",p.Left="left",p.Right="right",p))(re||{}),ce=(p=>(p.Default="default",p.Primary="primary",p.Secondary="secondary",p.Success="success",p.Warning="warning",p.Danger="danger",p.Info="info",p))(ce||{}),kt=(p=>(p.XSmall="xs",p.Small="sm",p.Medium="md",p.Large="lg",p.XLarge="xl",p))(kt||{}),Ze=(p=>(p.Solid="solid",p.Outline="outline",p.Ghost="ghost",p.Text="text",p))(Ze||{}),Vn=(p=>(p.Rectangle="rectangle",p.Square="square",p.Circle="circle",p))(Vn||{}),Jn=(p=>(p.Image="image",p.Video="video",p.Audio="audio",p))(Jn||{}),q0=(p=>(p.Classic="classic",p.Modern="modern",p))(q0||{}),na=(p=>(p.Text="text",p.Password="password",p.Email="email",p.Number="number",p.Tel="tel",p.Url="url",p.Search="search",p.Date="date",p.Time="time",p.DateTimeLocal="datetime-local",p.Month="month",p.Week="week",p.Color="color",p))(na||{}),_0=(p=>(p.Single="single",p.Multiple="multiple",p))(_0||{}),tx=(p=>(p.Esc="Escape",p))(tx||{});const tp=p=>p===" "?"SPACE":p.toUpperCase(),ep=["ALT","SHIFT","CTRL","META"],GP=(p,e)=>{const m=ep.includes(p),C=ep.includes(e);return m&&!C?-1:!m&&C?1:0},UP=p=>{const e=new Set,m=R=>{const M=tp(R.key);e.add(M);const f=Array.from(e).sort(GP).join("+");p[f]&&(R.preventDefault(),p[f](R))},C=R=>{e.delete(tp(R.key))};Ps(()=>{window.addEventListener("keydown",m),window.addEventListener("keyup",C)}),Ln(()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",C)})},zP=(p,e)=>{const m=C=>{C.key===p&&e(C)};Ps(()=>{window.addEventListener("keydown",m)}),Ln(()=>{window.removeEventListener("keydown",m)})},Gf=(p,e,m)=>{const C=(m==null?void 0:m.position)??Gt(re.Bottom),R=!!(m!=null&&m.isEqualWidth),M=Lt(()=>{var a;return((a=m==null?void 0:m.isUpdateAllowed)==null?void 0:a.value)!==!1}),f=(m==null?void 0:m.offsetX)??0,S=(m==null?void 0:m.offsetY)??0,t=Lt(()=>{var r;if(!((r=m==null?void 0:m.gap)!=null&&r.value))return 0;const a=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${m.gap.value}`)??"0";return a.endsWith("rem")?parseFloat(a)*16:parseFloat(a)}),h=Gt({"--top":"0px","--left":"0px","--width":"auto"}),g=Gt(C.value),o=()=>{if(!p.value||!e.value||!M.value)return;const a="getBoundingClientRect"in p.value?p.value.getBoundingClientRect():p.value.$el.getBoundingClientRect(),r="getBoundingClientRect"in e.value?e.value.getBoundingClientRect():e.value.$el.getBoundingClientRect(),{top:i,bottom:n,left:l,right:s,width:u,height:d}=a,{width:c,height:v}=r,x=R?u:c;let y=n,T=l;const E=n+v<=window.innerHeight,A=i-v>=0,P=l-c>=0,w=s+c<=window.innerWidth,I=O=>{switch(O){case re.BottomLeft:return E?O:re.TopLeft;case re.BottomRight:return E?O:re.TopRight;case re.Bottom:return E?O:re.Top;case re.TopLeft:return A?O:re.BottomLeft;case re.TopRight:return A?O:re.BottomRight;case re.Top:return A?O:re.Bottom;case re.Left:return P?O:re.Right;case re.Right:return w?O:re.Left;default:return O}};switch(g.value=I(C.value),g.value){case re.BottomLeft:y=n+t.value+S,T=l+f;break;case re.BottomRight:y=n+t.value+S,T=s-x+f;break;case re.Bottom:y=n+t.value+S,T=l+(u-x)/2+f;break;case re.TopLeft:y=i-v-t.value+S,T=l+f;break;case re.TopRight:y=i-v-t.value+S,T=s-x+f;break;case re.Top:y=i-v-t.value+S,T=l+(u-x)/2+f;break;case re.Left:y=i+(d-v)/2+S,T=l-c-t.value+f;break;case re.Right:y=i+(d-v)/2+S,T=s+t.value+f;break}y=Ti(y,0,window.innerHeight-v),T=Ti(T,0,window.innerWidth-x),h.value={...h.value,"--top":`${y}px`,"--left":`${T}px`,"--width":R?`${u}px`:"auto"}};return ni([M,p,e,C],o,{immediate:!0}),Ps(()=>{window.addEventListener("resize",o),window.addEventListener("scroll",o,!0)}),In(()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",o,!0)}),{cssVariables:h,updateCssVariables:o,computedPosition:g}},XP=["src","alt","title","loading"],WP=["src","title","loading"],YP=["src"],HP=["src","title","loading"],KP=["src"],$P={key:3},Uf=ne({__name:"NyxMedia",props:{src:{},type:{default:Jn.Image},shape:{default:Vn.Rectangle},alt:{},title:{},caption:{},track:{},loading:{default:"lazy"}},setup(p){const e=p;return(m,C)=>(gt(),Et("figure",{class:Zt(["nyx-media",`shape-${e.shape}`])},[e.type===ft(Jn).Image?(gt(),Et("img",{key:0,src:e.src,alt:e.alt,title:e.title,loading:m.loading},null,8,XP)):e.type===ft(Jn).Video?(gt(),Et("video",{key:1,src:e.src,title:e.title,controls:"",loading:e.loading},[e.track?(gt(),Et("track",{key:0,kind:"subtitles",src:e.track},null,8,YP)):Wt("",!0)],8,WP)):e.type===ft(Jn).Audio?(gt(),Et("audio",{key:2,src:e.src,title:e.title,controls:"",loading:e.loading},[e.track?(gt(),Et("track",{key:0,kind:"subtitles",src:e.track},null,8,KP)):Wt("",!0)],8,HP)):Wt("",!0),e.caption?(gt(),Et("figcaption",$P,ie(e.caption),1)):Wt("",!0)],2))}}),jP={key:1,class:"nyx-avatar__image"},QP={key:2,class:"nyx-avatar__name"};kt.Medium;const JP=["theme","size","shape","variant","gradient","backlight","position"],sn=(p,e="Nyx")=>{const m=tr("libEnv")??{},C=Lt(()=>p.gradient!==!1&&p.variant!==Ze.Solid?(IP.error(e,"Gradients are only supported by NyxVariant.Solid"),p.theme):p.gradient===!0?p.theme:p.gradient),R=Lt(()=>p.backlight===!0?p.theme:p.backlight);return{classList:Lt(()=>{const M=[];for(const f of JP)p[f]===void 0||p[f]===!1||(p[f]===!0&&p.theme!==void 0?M.push(`${f}-${p.theme}`):M.push(`${f}-${p[f]}`));return(p.pixel||m.pixel)&&M.push("pixel"),M}),gradient:C,backlight:R}},kP=["type","disabled"],ZP=["href","target","disabled"],Ge=ne({__name:"NyxButton",props:{type:{default:"button"},theme:{default:ce.Default},variant:{default:Ze.Solid},size:{default:kt.Medium},shape:{default:Vn.Rectangle},disabled:{type:Boolean,default:!1},href:{},gradient:{type:[Boolean,String],default:!1},backlight:{type:[Boolean,String],default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(p,{emit:e}){const m=p,C=e,{classList:R}=sn(m),M=Lt(()=>m.href&&CE(m.href)?"_self":"_blank");return(f,S)=>m.href?(gt(),Et("a",{key:1,class:Zt(["nyx-button",ft(R)]),href:m.href,target:M.value,disabled:m.disabled,onClick:S[1]||(S[1]=t=>C("click"))},[me(f.$slots,"default",{},()=>[S[3]||(S[3]=he("Click me"))])],10,ZP)):(gt(),Et("button",{key:0,class:Zt(["nyx-button",ft(R)]),type:m.type,disabled:m.disabled,onClick:S[0]||(S[0]=t=>C("click"))},[me(f.$slots,"default",{},()=>[S[2]||(S[2]=he("Click me"))])],10,kP))}});ce.Default,Ze.Solid,kt.Medium;const qP=["href","size","variant","onClick"],_P={key:0,class:"nyx-breadcrumbs__separator"};ce.Default,kt.Medium,Ze.Text;const tR={key:0,class:"nyx-card__header"},eR={class:"nyx-card__body"},iR={key:1,class:"nyx-card__footer"},sR=ne({__name:"NyxCard",props:{theme:{default:ce.Default},size:{default:kt.Medium},variant:{default:Ze.Solid},gradient:{type:[Boolean,String]},backlight:{type:[Boolean,String]},title:{},src:{},textAlign:{default:"left"},layout:{default:"media-first"},blendMedia:{type:Boolean,default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(p,{emit:e}){const m=p,C=e,R=Fn(),{classList:M}=sn(m),f=Lt(()=>({"--nyx-card-text-align":m.textAlign})),S=()=>C("click");return(t,h)=>(gt(),Et("article",{class:Zt(["nyx-card",[...ft(M),m.layout,m.blendMedia&&"blend-media"]]),style:Qe(f.value),onClick:wa(S,["self"])},[me(t.$slots,"media",{},()=>[m.src?(gt(),Pe(Uf,{key:0,src:m.src,alt:m.title,title:m.title},null,8,["src","alt","title"])):Wt("",!0)]),ft(R).header||m.title?(gt(),Et("header",tR,[me(t.$slots,"header",{},()=>[wt("h1",null,ie(m.title),1)])])):Wt("",!0),wt("section",eR,[me(t.$slots,"default")]),ft(R).footer?(gt(),Et("footer",iR,[me(t.$slots,"footer")])):Wt("",!0)],6))}}),nR={key:1},rR={key:2,class:"nyx-carousel__dots"},aR=["onClick"];ce.Default;const oR=["disabled","aria-label","id"],hR=["for"],Kr=ne({__name:"NyxCheckbox",props:fi({label:{default:""},disabled:{type:Boolean,default:!1},size:{default:kt.Medium},theme:{default:ce.Default},id:{},checkmark:{default:"✔"},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=p,m=bi(p,"modelValue"),{classList:C}=sn(e),R=Lt(()=>e.id??`nyx-checkbox-${_m(16)}`);return(M,f)=>(gt(),Et("div",{class:Zt(["nyx-checkbox",ft(C)])},[Ki(wt("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=S=>m.value=S),disabled:e.disabled,"aria-label":e.label,id:R.value},null,8,oR),[[Ku,m.value]]),wt("span",{class:"nyx-checkbox__checkbox",onClick:f[1]||(f[1]=S=>m.value=!m.value)}),e.label?(gt(),Et("label",{key:0,for:R.value,class:"nyx-checkbox__label"},ie(e.label),9,hR)):Wt("",!0)],2))}}),ex=ne({__name:"NyxForm",props:{size:{default:kt.Medium}},emits:["submit"],setup(p,{emit:e}){const m=p,C=e,R=M=>C("submit",M);return(M,f)=>(gt(),Et("form",{class:Zt(["nyx-form",[`size-${m.size}`]]),onSubmit:wa(R,["prevent"])},[me(M.$slots,"default",{},()=>[f[0]||(f[0]=he("NyxForm"))])],34))}}),lR={class:"nyx-form-field"},rs=ne({__name:"NyxFormField",props:{label:{}},setup(p){const e=p,m=`nyx-form-field-${_m(16)}`;return(C,R)=>(gt(),Et("div",lR,[e.label?(gt(),Et("label",{key:0,for:m,class:"nyx-form-field__label"},ie(C.label),1)):Wt("",!0),me(C.$slots,"default",{id:m},()=>[R[0]||(R[0]=he("NyxFormField"))])]))}}),uR=["type","placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","tabindex","id"],Fl=ne({__name:"NyxInput",props:fi({type:{default:na.Text},theme:{default:ce.Default},variant:{default:Ze.Outline},size:{default:kt.Medium},pixel:{type:Boolean},id:{},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},autofocus:{type:Boolean},placeholder:{},autocomplete:{},minlength:{},maxlength:{},pattern:{},tabindex:{}},{modelValue:{},modelModifiers:{}}),emits:fi(["click","focus","blur"],["update:modelValue"]),setup(p,{emit:e}){const m=p,C=e,R=bi(p,"modelValue"),{classList:M}=sn(m);return(f,S)=>(gt(),Et("div",{class:Zt(["nyx-input",ft(M)])},[Ki(wt("input",{type:m.type,placeholder:m.placeholder,disabled:m.disabled,readonly:m.readonly,maxlength:m.maxlength,minlength:m.minlength,pattern:m.pattern,required:m.required,autocomplete:m.autocomplete,autofocus:m.autofocus,tabindex:m.tabindex,id:f.id,"onUpdate:modelValue":S[0]||(S[0]=t=>R.value=t),onClick:S[1]||(S[1]=t=>C("click")),onFocus:S[2]||(S[2]=t=>C("focus")),onBlur:S[3]||(S[3]=t=>C("blur"))},null,40,uR),[[iE,R.value]])],2))}}),fR={class:"nyx-modal__content"},dR={key:0,class:"nyx-modal__header"},cR={class:"nyx-modal__body"},vR={key:1,class:"nyx-modal__footer"},ba=ne({__name:"NyxModal",props:fi({title:{},confirmText:{},cancelText:{default:"Close"},size:{default:kt.Medium},static:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!0},customClass:{},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:fi(["close","cancel","confirm","open"],["update:modelValue"]),setup(p,{emit:e}){const m=p,C=e,R=bi(p,"modelValue"),M=Fn(),f=()=>{m.static||(R.value=!1,C("close"))};zP(tx.Esc,f);const S=Lt(()=>!!M.header||!!m.title),t=Lt(()=>!!M.footer||!!m.confirmText),h=()=>{C("cancel"),f()},g=()=>{C("confirm"),f()},{classList:o}=sn(m);return(a,r)=>(gt(),Pe(ph,{to:"body"},[wt("div",{class:Zt(["nyx-modal",[...ft(o),!!a.customClass&&`${a.customClass}`,{"nyx-modal--open":R.value||m.static},{"nyx-modal--no-backdrop":!m.backdrop}]]),onClick:wa(f,["self"])},[wt("article",fR,[S.value?(gt(),Et("header",dR,[me(a.$slots,"header",{},()=>[wt("h1",null,ie(a.title),1)]),m.static?Wt("",!0):(gt(),Et("button",{key:0,class:"nyx-modal__close",onClick:f},"×"))])):Wt("",!0),wt("section",cR,[me(a.$slots,"default",{},()=>[r[0]||(r[0]=he("NyxModal body"))])]),t.value?(gt(),Et("footer",vR,[me(a.$slots,"footer",{},()=>[m.static?Wt("",!0):(gt(),Pe(Ge,{key:0,theme:ft(ce).Default,variant:ft(Ze).Outline,onClick:h},{default:Xt(()=>[he(ie(m.cancelText),1)]),_:1},8,["theme","variant"])),m.confirmText?(gt(),Pe(Ge,{key:1,theme:ft(ce).Primary,onClick:g},{default:Xt(()=>[he(ie(a.confirmText),1)]),_:1},8,["theme"])):Wt("",!0)])])):Wt("",!0)])],2)]))}}),Eu=ne({__name:"NyxProgress",props:fi({max:{default:100},theme:{},variant:{default:Ze.Solid},shape:{default:Vn.Rectangle},gradient:{type:[String,Boolean],default:!1},size:{},showValue:{}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=p,m=bi(p,"modelValue"),{classList:C}=sn(e),R=Lt(()=>m.value===null?"100%":`${Math.min(100,m.value/e.max*100)}%`),M=Lt(()=>({"--progress":R.value}));return(f,S)=>(gt(),Et("div",{class:Zt(["nyx-progress",ft(C)]),style:Qe(M.value)},[wt("div",{class:Zt(["nyx-progress__bar",{indeterminate:m.value===null}])},null,2),f.showValue&&m.value!==null?(gt(),Et("span",{key:0,class:Zt(["nyx-progress__label",`nyx-progress__label--${f.showValue}`])},ie(Math.round(m.value)),3)):Wt("",!0)],6))}}),pR=["placeholder"],mR=["onClick"],gR=["id","multiple"],xR=["value"],G4=ne({__name:"NyxSelect",props:fi({type:{default:_0.Single},theme:{default:ce.Default},variant:{default:Ze.Outline},size:{default:kt.Medium},disabled:{type:Boolean},placeholder:{},options:{},id:{},multiple:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=p,m=bi(p,"modelValue"),C=Lt({get:()=>m.value??(e.multiple?[]:""),set:d=>{m.value=d}}),R=yn("nyx-select-input"),M=Gt(""),f=yn("elControl"),S=yn("elDropdown"),t=Gt(!1),{cssVariables:h,computedPosition:g}=Gf(f,S,{isEqualWidth:!0,isUpdateAllowed:t}),o=Lt(()=>{var d;return e.multiple?C.value.map(c=>{var v;return((v=e.options.find(x=>x.value===c))==null?void 0:v.label)??""}).join(", "):((d=e.options.find(c=>c.value===C.value))==null?void 0:d.label)??""}),a=Lt(()=>M.value?e.options.filter(d=>d.label.toLowerCase().includes(M.value.toLowerCase())):e.options),r=()=>{t.value=!t.value},i=()=>{t.value=!1},n=({value:d,label:c})=>{if(e.multiple){const v=C.value;v.indexOf(d)===-1?C.value=[...v,d]:C.value=v.filter(x=>x!==d),M.value=""}else C.value=d,M.value=c,t.value=!1},l=d=>{M.value=d===void 0?o.value:d},s=()=>{var d;t.value=!0,(d=R.value)==null||d.focus()},u=d=>e.multiple?C.value.includes(d):d===C.value;return ni(t,d=>{d?l(""):l()}),(d,c)=>{const v=Em("click-outside");return gt(),Et("div",{class:Zt(["nyx-select",[`theme-${e.theme}`,`variant-${e.variant}`,`size-${e.size}`]])},[Ki((gt(),Et("div",{class:Zt(["nyx-select__control",[`nyx-select__control--${ft(g)}`,{"nyx-select__control--open":t.value}]]),ref_key:"elControl",ref:f,onClick:s,onKeyup:oE(i,["esc"])},[Ki(wt("input",{type:"search","onUpdate:modelValue":c[0]||(c[0]=x=>M.value=x),class:"nyx-select__input",placeholder:e.multiple?"Select multiple...":"Select...",ref:"nyx-select-input"},null,8,pR),[[rr,M.value]]),wt("span",{class:"nyx-select__arrow",onClick:r},"▼")],34)),[[v,i]]),(gt(),Pe(ph,{to:"body"},[wt("div",{class:Zt(["nyx-select__dropdown",[`theme-${e.theme}`,`variant-${e.variant}`,`size-${e.size}`,`nyx-select__dropdown--${ft(g)}`,{"nyx-select__dropdown--open":t.value}]]),ref_key:"elDropdown",ref:S,role:"listbox",style:Qe(ft(h))},[wt("ul",null,[(gt(!0),Et(de,null,$i(a.value,x=>(gt(),Et("li",{key:x.value,class:Zt(["nyx-select__option",{"nyx-select__option--selected":u(x.value),"nyx-select__option--disabled":!!x.disabled}]),onClick:y=>n(x)},[wt("span",null,ie(x.label),1)],10,mR))),128)),a.value.length===0?(gt(),Et("li",{key:0,class:"nyx-select__option nyx-select__option--empty",onClick:c[1]||(c[1]=wa(x=>{var y;return(y=ft(R))==null?void 0:y.focus()},["prevent","stop"]))},[me(d.$slots,"empty",{},()=>[c[3]||(c[3]=wt("span",null,"No results found",-1))])])):Wt("",!0)])],6)])),Ki(wt("select",{"onUpdate:modelValue":c[2]||(c[2]=x=>C.value=x),class:"sr-only",id:e.id,multiple:e.multiple},[(gt(!0),Et(de,null,$i(e.options,x=>(gt(),Et("option",{value:x.value,key:x.value},ie(x.label),9,xR))),128))],8,gR),[[jm,C.value]])],2)}}}),yR=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],TR=["aria-valuenow","aria-valuemin","aria-valuemax"],ER=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],SR=["aria-valuenow","aria-valuemin","aria-valuemax"],CR=ne({__name:"NyxSlider",props:fi({min:{default:0},max:{default:100},step:{},tooltip:{default:"interact"},theme:{default:ce.Default},shape:{default:Vn.Circle},direction:{default:"row"},pixel:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=p,m=bi(p,"modelValue"),C=Gt(null),R=Gt(null),M=Lt(()=>Array.isArray(m.value)),f=Lt(()=>M.value?m.value[0]:m.value),S=Lt(()=>M.value?m.value[1]:null),t=Lt(()=>(f.value-e.min)/(e.max-e.min)*100),h=Lt(()=>M.value?(S.value-e.min)/(e.max-e.min)*100:0),g=u=>e.step?tg(u,e.step,e.min):u,o=(u,d)=>{if(d=g(d),M.value){let c=[...m.value];c[u]=d,c[0]>c[1]&&(c=[c[1],c[0]],R.value=R.value===0?1:0),m.value=c}else m.value=d},a=(u,d)=>{d.preventDefault(),R.value=u,document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)},r=u=>{if(R.value===null||!C.value)return;const d=C.value.getBoundingClientRect();let c=(u.clientX-d.left)/d.width;c=Math.min(Math.max(c,0),1);const v=e.min+c*(e.max-e.min);o(R.value,v)},i=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),R.value=null},n=u=>{if(!C.value)return;const d=C.value.getBoundingClientRect();let c=(u.clientX-d.left)/d.width;c=Math.min(Math.max(c,0),1);const v=e.min+c*(e.max-e.min);if(M.value){const x=Math.abs(v-f.value),y=Math.abs(v-S.value);let T=x<y?0:1;o(T,v),R.value=T}else m.value=v},l=(u,d)=>{let c=M.value?m.value[d]:m.value;const v=e.step??1;switch(u.key){case"ArrowLeft":case"ArrowDown":c=Math.max(e.min,c-v);break;case"ArrowRight":case"ArrowUp":c=Math.min(e.max,c+v);break;case"Home":c=e.min;break;case"End":c=e.max;break;default:return}u.preventDefault(),o(d,c)},{classList:s}=sn(e);return In(()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)}),(u,d)=>(gt(),Et("div",{class:Zt(["nyx-slider",ft(s)]),ref_key:"track",ref:C,onMousedown:n},[M.value?(gt(),Et("div",{key:0,class:"nyx-slider__track-highlight",style:Qe({left:Math.min(t.value,h.value)+"%",width:Math.abs(h.value-t.value)+"%"})},null,4)):Wt("",!0),Ki(wt("input",{type:"range",min:e.min,max:e.max,step:e.step||"any","onUpdate:modelValue":d[0]||(d[0]=c=>m.value=c),onKeydown:d[1]||(d[1]=c=>l(c,0)),"aria-label":"Slider value","aria-valuenow":f.value,"aria-valuemin":e.min,"aria-valuemax":e.max,class:"sr-only"},null,40,yR),[[rr,m.value]]),wt("div",{class:"nyx-slider__thumb",style:Qe({left:t.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":f.value,"aria-valuemin":e.min,"aria-valuemax":e.max,onMousedown:d[2]||(d[2]=c=>a(0,c)),onKeydown:d[3]||(d[3]=c=>l(c,0))},null,44,TR),M.value&&Array.isArray(m.value)&&m.value[1]?(gt(),Et(de,{key:1},[Ki(wt("input",{type:"range",min:e.min,max:e.max,step:e.step||"any","onUpdate:modelValue":d[4]||(d[4]=c=>m.value[1]=c),onKeydown:d[5]||(d[5]=c=>l(c,1)),"aria-label":"Slider second value","aria-valuenow":S.value??void 0,"aria-valuemin":e.min,"aria-valuemax":e.max,class:"sr-only"},null,40,ER),[[rr,m.value[1]]]),wt("div",{class:"nyx-slider__thumb",style:Qe({left:h.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":S.value??void 0,"aria-valuemin":e.min,"aria-valuemax":e.max,onMousedown:d[6]||(d[6]=c=>a(1,c)),onKeydown:d[7]||(d[7]=c=>l(c,1))},null,44,SR)],64)):Wt("",!0)],34))}});ce.Default;const AR=["id"];ce.Success,kt.Medium,Ze.Solid;const PR=(p,e)=>{const m=p.__vccOpts||p;for(const[C,R]of e)m[C]=R;return m},RR={};function wR(p,e){return gt(),Et("td",null,[wt("span",null,[me(p.$slots,"default")])])}const ip=PR(RR,[["render",wR]]),MR={key:0},IR={key:0},LR=ne({__name:"NyxTable",props:fi({theme:{default:ce.Default},size:{default:kt.Medium},variant:{default:Ze.Outline},itemKey:{},disabled:{type:Boolean,default:!1},columns:{},columnTitles:{},gridTemplateColumns:{},header:{type:[String,Boolean],default:!0},striped:{type:Boolean,default:!1},colWhitelist:{default:()=>[]},colBlacklist:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=Fn(),m=p,C=bi(p,"modelValue"),R=Lt(()=>{if(m.columnTitles)return m.columnTitles;if(C.value.length===0)return[];const t=C.value[0];return SE(t)?(m.colWhitelist.length>0?m.colWhitelist:Object.keys(t)).filter(h=>!m.colBlacklist.includes(h)):[]}),M=Lt(()=>{const t=e.actions?1:0;return m.columns!==void 0?m.columns+t:C.value.length===0?1+t:R.value.length+t}),f=Lt(()=>{const t=(m.colWhitelist.length>0?m.colWhitelist:Object.keys(C.value[0]??{})).filter(h=>!m.colBlacklist.includes(h));return C.value.map(h=>{const g={};for(const o of t)g[o]=h[o];return g})}),S=Lt(()=>{const t=e.actions?"auto":"";return{"--grid-template-columns":m.gridTemplateColumns?`${m.gridTemplateColumns} ${t}`:`repeat(${M.value}, 1fr)`}});return(t,h)=>(gt(),Et("table",{class:Zt(["nyx-table",[`size-${m.size}`,`theme-${m.theme}`,`variant-${m.variant}`,{striped:t.striped},{sticky:m.header==="sticky"}]]),style:Qe(S.value)},[m.header?(gt(),Et("thead",MR,[wt("tr",null,[(gt(!0),Et(de,null,$i(R.value,g=>(gt(),Et("th",{key:g},ie(g),1))),128)),ft(e).actions?(gt(),Et("th",IR," ")):Wt("",!0)])])):Wt("",!0),wt("tbody",null,[(gt(!0),Et(de,null,$i(f.value,g=>(gt(),Et("tr",{key:typeof g=="object"&&m.itemKey?g[m.itemKey]:g},[me(t.$slots,"default",{item:g},()=>[(gt(!0),Et(de,null,$i(Object.values(g??{}),o=>(gt(),Pe(ip,{key:o},{default:Xt(()=>[he(ie(o),1)]),_:2},1024))),128))]),ft(e).actions?(gt(),Pe(ip,{key:0,class:"nyx-table__actions"},{default:Xt(()=>[me(t.$slots,"actions",{item:g})]),_:2},1024)):Wt("",!0)]))),128))])],6))}}),FR=["onClick"],OR={class:"nyx-tabs__container"},DR={key:0};ce.Default,kt.Medium,q0.Modern,re.TopLeft;const NR=["placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","id"];ce.Default,Ze.Outline,kt.Medium;const bR=["data-position"],BR={class:"nyx-tooltip__content-wrapper"};ce.Default,Ze.Solid,kt.Medium,re.Top;const ix="@firebase/installations",zf="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=1e4,nx=`w:${zf}`,rx="FIS_v2",VR="https://firebaseinstallations.googleapis.com/v1",GR=60*60*1e3,UR="installations",zR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rn=new Dn(UR,zR,XR);function ax(p){return p instanceof Bi&&p.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox({projectId:p}){return`${VR}/projects/${p}/installations`}function hx(p){return{token:p.token,requestStatus:2,expiresIn:YR(p.expiresIn),creationTime:Date.now()}}async function lx(p,e){const C=(await e.json()).error;return Rn.create("request-failed",{requestName:p,serverCode:C.code,serverMessage:C.message,serverStatus:C.status})}function ux({apiKey:p}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":p})}function WR(p,{refreshToken:e}){const m=ux(p);return m.append("Authorization",HR(e)),m}async function fx(p){const e=await p();return e.status>=500&&e.status<600?p():e}function YR(p){return Number(p.replace("s","000"))}function HR(p){return`${rx} ${p}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR({appConfig:p,heartbeatServiceProvider:e},{fid:m}){const C=ox(p),R=ux(p),M=e.getImmediate({optional:!0});if(M){const h=await M.getHeartbeatsHeader();h&&R.append("x-firebase-client",h)}const f={fid:m,authVersion:rx,appId:p.appId,sdkVersion:nx},S={method:"POST",headers:R,body:JSON.stringify(f)},t=await fx(()=>fetch(C,S));if(t.ok){const h=await t.json();return{fid:h.fid||m,registrationStatus:2,refreshToken:h.refreshToken,authToken:hx(h.authToken)}}else throw await lx("Create Installation",t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(p){return new Promise(e=>{setTimeout(e,p)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(p){return btoa(String.fromCharCode(...p)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=/^[cdef][\w-]{21}$/,Su="";function QR(){try{const p=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(p),p[0]=112+p[0]%16;const m=JR(p);return jR.test(m)?m:Su}catch{return Su}}function JR(p){return $R(p).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(p){return`${p.appName}!${p.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Map;function vx(p,e){const m=Wh(p);px(m,e),kR(m,e)}function px(p,e){const m=cx.get(p);if(m)for(const C of m)C(e)}function kR(p,e){const m=ZR();m&&m.postMessage({key:p,fid:e}),qR()}let mn=null;function ZR(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=p=>{px(p.data.key,p.data.fid)}),mn}function qR(){cx.size===0&&mn&&(mn.close(),mn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-installations-database",tw=1,wn="firebase-installations-store";let Ol=null;function Xf(){return Ol||(Ol=dg(_R,tw,{upgrade:(p,e)=>{switch(e){case 0:p.createObjectStore(wn)}}})),Ol}async function _o(p,e){const m=Wh(p),R=(await Xf()).transaction(wn,"readwrite"),M=R.objectStore(wn),f=await M.get(m);return await M.put(e,m),await R.done,(!f||f.fid!==e.fid)&&vx(p,e.fid),e}async function mx(p){const e=Wh(p),C=(await Xf()).transaction(wn,"readwrite");await C.objectStore(wn).delete(e),await C.done}async function Yh(p,e){const m=Wh(p),R=(await Xf()).transaction(wn,"readwrite"),M=R.objectStore(wn),f=await M.get(m),S=e(f);return S===void 0?await M.delete(m):await M.put(S,m),await R.done,S&&(!f||f.fid!==S.fid)&&vx(p,S.fid),S}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(p){let e;const m=await Yh(p.appConfig,C=>{const R=ew(C),M=iw(p,R);return e=M.registrationPromise,M.installationEntry});return m.fid===Su?{installationEntry:await e}:{installationEntry:m,registrationPromise:e}}function ew(p){const e=p||{fid:QR(),registrationStatus:0};return gx(e)}function iw(p,e){if(e.registrationStatus===0){if(!navigator.onLine){const R=Promise.reject(Rn.create("app-offline"));return{installationEntry:e,registrationPromise:R}}const m={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},C=sw(p,m);return{installationEntry:m,registrationPromise:C}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nw(p)}:{installationEntry:e}}async function sw(p,e){try{const m=await KR(p,e);return _o(p.appConfig,m)}catch(m){throw ax(m)&&m.customData.serverCode===409?await mx(p.appConfig):await _o(p.appConfig,{fid:e.fid,registrationStatus:0}),m}}async function nw(p){let e=await sp(p.appConfig);for(;e.registrationStatus===1;)await dx(100),e=await sp(p.appConfig);if(e.registrationStatus===0){const{installationEntry:m,registrationPromise:C}=await Wf(p);return C||m}return e}function sp(p){return Yh(p,e=>{if(!e)throw Rn.create("installation-not-found");return gx(e)})}function gx(p){return rw(p)?{fid:p.fid,registrationStatus:0}:p}function rw(p){return p.registrationStatus===1&&p.registrationTime+sx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw({appConfig:p,heartbeatServiceProvider:e},m){const C=ow(p,m),R=WR(p,m),M=e.getImmediate({optional:!0});if(M){const h=await M.getHeartbeatsHeader();h&&R.append("x-firebase-client",h)}const f={installation:{sdkVersion:nx,appId:p.appId}},S={method:"POST",headers:R,body:JSON.stringify(f)},t=await fx(()=>fetch(C,S));if(t.ok){const h=await t.json();return hx(h)}else throw await lx("Generate Auth Token",t)}function ow(p,{fid:e}){return`${ox(p)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(p,e=!1){let m;const C=await Yh(p.appConfig,M=>{if(!xx(M))throw Rn.create("not-registered");const f=M.authToken;if(!e&&uw(f))return M;if(f.requestStatus===1)return m=hw(p,e),M;{if(!navigator.onLine)throw Rn.create("app-offline");const S=dw(M);return m=lw(p,S),S}});return m?await m:C.authToken}async function hw(p,e){let m=await np(p.appConfig);for(;m.authToken.requestStatus===1;)await dx(100),m=await np(p.appConfig);const C=m.authToken;return C.requestStatus===0?Yf(p,e):C}function np(p){return Yh(p,e=>{if(!xx(e))throw Rn.create("not-registered");const m=e.authToken;return cw(m)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lw(p,e){try{const m=await aw(p,e),C=Object.assign(Object.assign({},e),{authToken:m});return await _o(p.appConfig,C),m}catch(m){if(ax(m)&&(m.customData.serverCode===401||m.customData.serverCode===404))await mx(p.appConfig);else{const C=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _o(p.appConfig,C)}throw m}}function xx(p){return p!==void 0&&p.registrationStatus===2}function uw(p){return p.requestStatus===2&&!fw(p)}function fw(p){const e=Date.now();return e<p.creationTime||p.creationTime+p.expiresIn<e+GR}function dw(p){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},p),{authToken:e})}function cw(p){return p.requestStatus===1&&p.requestTime+sx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(p){const e=p,{installationEntry:m,registrationPromise:C}=await Wf(e);return C?C.catch(console.error):Yf(e).catch(console.error),m.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(p,e=!1){const m=p;return await mw(m),(await Yf(m,e)).token}async function mw(p){const{registrationPromise:e}=await Wf(p);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(p){if(!p||!p.options)throw Dl("App Configuration");if(!p.name)throw Dl("App Name");const e=["projectId","apiKey","appId"];for(const m of e)if(!p.options[m])throw Dl(m);return{appName:p.name,projectId:p.options.projectId,apiKey:p.options.apiKey,appId:p.options.appId}}function Dl(p){return Rn.create("missing-app-config-values",{valueName:p})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="installations",xw="installations-internal",yw=p=>{const e=p.getProvider("app").getImmediate(),m=gw(e),C=_s(e,"heartbeat");return{app:e,appConfig:m,heartbeatServiceProvider:C,_delete:()=>Promise.resolve()}},Tw=p=>{const e=p.getProvider("app").getImmediate(),m=_s(e,yx).getImmediate();return{getId:()=>vw(m),getToken:R=>pw(m,R)}};function Ew(){ki(new Di(yx,yw,"PUBLIC")),ki(new Di(xw,Tw,"PRIVATE"))}Ew();Ci(ix,zf);Ci(ix,zf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="analytics",Sw="firebase_id",Cw="origin",Aw=60*1e3,Pw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Ah("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mi=new Dn("analytics","Analytics",Rw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(p){if(!p.startsWith(Hf)){const e=mi.create("invalid-gtag-resource",{gtagURL:p});return ui.warn(e.message),""}return p}function Tx(p){return Promise.all(p.map(e=>e.catch(m=>m)))}function Mw(p,e){let m;return window.trustedTypes&&(m=window.trustedTypes.createPolicy(p,e)),m}function Iw(p,e){const m=Mw("firebase-js-sdk-policy",{createScriptURL:ww}),C=document.createElement("script"),R=`${Hf}?l=${p}&id=${e}`;C.src=m?m==null?void 0:m.createScriptURL(R):R,C.async=!0,document.head.appendChild(C)}function Lw(p){let e=[];return Array.isArray(window[p])?e=window[p]:window[p]=e,e}async function Fw(p,e,m,C,R,M){const f=C[R];try{if(f)await e[f];else{const t=(await Tx(m)).find(h=>h.measurementId===R);t&&await e[t.appId]}}catch(S){ui.error(S)}p("config",R,M)}async function Ow(p,e,m,C,R){try{let M=[];if(R&&R.send_to){let f=R.send_to;Array.isArray(f)||(f=[f]);const S=await Tx(m);for(const t of f){const h=S.find(o=>o.measurementId===t),g=h&&e[h.appId];if(g)M.push(g);else{M=[];break}}}M.length===0&&(M=Object.values(e)),await Promise.all(M),p("event",C,R||{})}catch(M){ui.error(M)}}function Dw(p,e,m,C){async function R(M,...f){try{if(M==="event"){const[S,t]=f;await Ow(p,e,m,S,t)}else if(M==="config"){const[S,t]=f;await Fw(p,e,m,C,S,t)}else if(M==="consent"){const[S,t]=f;p("consent",S,t)}else if(M==="get"){const[S,t,h]=f;p("get",S,t,h)}else if(M==="set"){const[S]=f;p("set",S)}else p(M,...f)}catch(S){ui.error(S)}}return R}function Nw(p,e,m,C,R){let M=function(...f){window[C].push(arguments)};return window[R]&&typeof window[R]=="function"&&(M=window[R]),window[R]=Dw(M,p,e,m),{gtagCore:M,wrappedGtag:window[R]}}function bw(p){const e=window.document.getElementsByTagName("script");for(const m of Object.values(e))if(m.src&&m.src.includes(Hf)&&m.src.includes(p))return m;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=30,Vw=1e3;class Gw{constructor(e={},m=Vw){this.throttleMetadata=e,this.intervalMillis=m}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,m){this.throttleMetadata[e]=m}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ex=new Gw;function Uw(p){return new Headers({Accept:"application/json","x-goog-api-key":p})}async function zw(p){var e;const{appId:m,apiKey:C}=p,R={method:"GET",headers:Uw(C)},M=Pw.replace("{app-id}",m),f=await fetch(M,R);if(f.status!==200&&f.status!==304){let S="";try{const t=await f.json();!((e=t.error)===null||e===void 0)&&e.message&&(S=t.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:f.status,responseMessage:S})}return f.json()}async function Xw(p,e=Ex,m){const{appId:C,apiKey:R,measurementId:M}=p.options;if(!C)throw mi.create("no-app-id");if(!R){if(M)return{measurementId:M,appId:C};throw mi.create("no-api-key")}const f=e.getThrottleMetadata(C)||{backoffCount:0,throttleEndTimeMillis:Date.now()},S=new Hw;return setTimeout(async()=>{S.abort()},Aw),Sx({appId:C,apiKey:R,measurementId:M},f,S,e)}async function Sx(p,{throttleEndTimeMillis:e,backoffCount:m},C,R=Ex){var M;const{appId:f,measurementId:S}=p;try{await Ww(C,e)}catch(t){if(S)return ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${t==null?void 0:t.message}]`),{appId:f,measurementId:S};throw t}try{const t=await zw(p);return R.deleteThrottleMetadata(f),t}catch(t){const h=t;if(!Yw(h)){if(R.deleteThrottleMetadata(f),S)return ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:f,measurementId:S};throw t}const g=Number((M=h==null?void 0:h.customData)===null||M===void 0?void 0:M.httpStatus)===503?Yc(m,R.intervalMillis,Bw):Yc(m,R.intervalMillis),o={throttleEndTimeMillis:Date.now()+g,backoffCount:m+1};return R.setThrottleMetadata(f,o),ui.debug(`Calling attemptFetch again in ${g} millis`),Sx(p,o,C,R)}}function Ww(p,e){return new Promise((m,C)=>{const R=Math.max(e-Date.now(),0),M=setTimeout(m,R);p.addEventListener(()=>{clearTimeout(M),C(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Yw(p){if(!(p instanceof Bi)||!p.customData)return!1;const e=Number(p.customData.httpStatus);return e===429||e===500||e===503||e===504}class Hw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Kw(p,e,m,C,R){if(R&&R.global){p("event",m,C);return}else{const M=await e,f=Object.assign(Object.assign({},C),{send_to:M});p("event",m,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(){if(hg())try{await lg()}catch(p){return ui.warn(mi.create("indexeddb-unavailable",{errorInfo:p==null?void 0:p.toString()}).message),!1}else return ui.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jw(p,e,m,C,R,M,f){var S;const t=Xw(p);t.then(r=>{m[r.measurementId]=r.appId,p.options.measurementId&&r.measurementId!==p.options.measurementId&&ui.warn(`The measurement ID in the local Firebase config (${p.options.measurementId}) does not match the measurement ID fetched from the server (${r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(r=>ui.error(r)),e.push(t);const h=$w().then(r=>{if(r)return C.getId()}),[g,o]=await Promise.all([t,h]);bw(M)||Iw(M,g.measurementId),R("js",new Date);const a=(S=f==null?void 0:f.config)!==null&&S!==void 0?S:{};return a[Cw]="firebase",a.update=!0,o!=null&&(a[Sw]=o),R("config",g.measurementId,a),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.app=e}_delete(){return delete ra[this.app.options.appId],Promise.resolve()}}let ra={},rp=[];const ap={};let Nl="dataLayer",Jw="gtag",op,Cx,hp=!1;function kw(){const p=[];if(og()&&p.push("This is a browser extension environment."),kE()||p.push("Cookies are not available."),p.length>0){const e=p.map((C,R)=>`(${R+1}) ${C}`).join(" "),m=mi.create("invalid-analytics-context",{errorInfo:e});ui.warn(m.message)}}function Zw(p,e,m){kw();const C=p.options.appId;if(!C)throw mi.create("no-app-id");if(!p.options.apiKey)if(p.options.measurementId)ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${p.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mi.create("no-api-key");if(ra[C]!=null)throw mi.create("already-exists",{id:C});if(!hp){Lw(Nl);const{wrappedGtag:M,gtagCore:f}=Nw(ra,rp,ap,Nl,Jw);Cx=M,op=f,hp=!0}return ra[C]=jw(p,rp,ap,e,op,Nl,m),new Qw(p)}function qw(p=Qu()){p=Re(p);const e=_s(p,th);return e.isInitialized()?e.getImmediate():_w(p)}function _w(p,e={}){const m=_s(p,th);if(m.isInitialized()){const R=m.getImmediate();if(xs(e,m.getOptions()))return R;throw mi.create("already-initialized")}return m.initialize({options:e})}function tM(p,e,m,C){p=Re(p),Kw(Cx,ra[p.app.options.appId],e,m,C).catch(R=>ui.error(R))}const lp="@firebase/analytics",up="0.10.12";function eM(){ki(new Di(th,(e,{options:m})=>{const C=e.getProvider("app").getImmediate(),R=e.getProvider("installations-internal").getImmediate();return Zw(C,R,m)},"PUBLIC")),ki(new Di("analytics-internal",p,"PRIVATE")),Ci(lp,up),Ci(lp,up,"esm2017");function p(e){try{const m=e.getProvider(th).getImmediate();return{logEvent:(C,R,M)=>tM(m,C,R,M)}}catch(m){throw mi.create("interop-component-reg-failed",{reason:m})}}}eM();var iM="firebase",sM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(iM,sM,"app");function Kf(p,e){var m={};for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&e.indexOf(C)<0&&(m[C]=p[C]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,C=Object.getOwnPropertySymbols(p);R<C.length;R++)e.indexOf(C[R])<0&&Object.prototype.propertyIsEnumerable.call(p,C[R])&&(m[C[R]]=p[C[R]]);return m}function Ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nM=Ax,Px=new Dn("auth","Firebase",Ax());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Ah("@firebase/auth");function rM(p,...e){eh.logLevel<=Yt.WARN&&eh.warn(`Auth (${gr}): ${p}`,...e)}function Ro(p,...e){eh.logLevel<=Yt.ERROR&&eh.error(`Auth (${gr}): ${p}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(p,...e){throw jf(p,...e)}function Ii(p,...e){return jf(p,...e)}function $f(p,e,m){const C=Object.assign(Object.assign({},nM()),{[e]:m});return new Dn("auth","Firebase",C).create(e,{appName:p.name})}function En(p){return $f(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aM(p,e,m){const C=m;if(!(e instanceof C))throw C.name!==e.constructor.name&&_i(p,"argument-error"),$f(p,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jf(p,...e){if(typeof p!="string"){const m=e[0],C=[...e.slice(1)];return C[0]&&(C[0].appName=p.name),p._errorFactory.create(m,...C)}return Px.create(p,...e)}function bt(p,e,...m){if(!p)throw jf(e,...m)}function ds(p){const e="INTERNAL ASSERTION FAILED: "+p;throw Ro(e),new Error(e)}function Ss(p,e){p||ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(){var p;return typeof self<"u"&&((p=self.location)===null||p===void 0?void 0:p.href)||""}function oM(){return fp()==="http:"||fp()==="https:"}function fp(){var p;return typeof self<"u"&&((p=self.location)===null||p===void 0?void 0:p.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oM()||og()||"connection"in navigator)?navigator.onLine:!0}function lM(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,m){this.shortDelay=e,this.longDelay=m,Ss(m>e,"Short delay should be less than long delay!"),this.isMobile=HE()||jE()}get(){return hM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(p,e){Ss(p.emulator,"Emulator should always be set here");const{url:m}=p.emulator;return e?`${m}${e.startsWith("/")?e.slice(1):e}`:m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(e,m,C){this.fetchImpl=e,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new Ba(3e4,6e4);function Jf(p,e){return p.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:p.tenantId}):e}async function Ar(p,e,m,C,R={}){return wx(p,R,async()=>{let M={},f={};C&&(e==="GET"?f=C:M={body:JSON.stringify(C)});const S=Ma(Object.assign({key:p.config.apiKey},f)).slice(1),t=await p._getAdditionalHeaders();t["Content-Type"]="application/json",p.languageCode&&(t["X-Firebase-Locale"]=p.languageCode);const h=Object.assign({method:e,headers:t},M);return $E()||(h.referrerPolicy="no-referrer"),Rx.fetch()(Mx(p,p.config.apiHost,m,S),h)})}async function wx(p,e,m){p._canInitEmulator=!1;const C=Object.assign(Object.assign({},uM),e);try{const R=new cM(p),M=await Promise.race([m(),R.promise]);R.clearNetworkTimeout();const f=await M.json();if("needConfirmation"in f)throw co(p,"account-exists-with-different-credential",f);if(M.ok&&!("errorMessage"in f))return f;{const S=M.ok?f.errorMessage:f.error.message,[t,h]=S.split(" : ");if(t==="FEDERATED_USER_ID_ALREADY_LINKED")throw co(p,"credential-already-in-use",f);if(t==="EMAIL_EXISTS")throw co(p,"email-already-in-use",f);if(t==="USER_DISABLED")throw co(p,"user-disabled",f);const g=C[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw $f(p,g,h);_i(p,g)}}catch(R){if(R instanceof Bi)throw R;_i(p,"network-request-failed",{message:String(R)})}}async function dM(p,e,m,C,R={}){const M=await Ar(p,e,m,C,R);return"mfaPendingCredential"in M&&_i(p,"multi-factor-auth-required",{_serverResponse:M}),M}function Mx(p,e,m,C){const R=`${e}${m}?${C}`;return p.config.emulator?Qf(p.config,R):`${p.config.apiScheme}://${R}`}class cM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Ii(this.auth,"network-request-failed")),fM.get())})}}function co(p,e,m){const C={appName:p.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const R=Ii(p,e,C);return R.customData._tokenResponse=m,R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(p,e){return Ar(p,"POST","/v1/accounts:delete",e)}async function Ix(p,e){return Ar(p,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(p){if(p)try{const e=new Date(Number(p));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pM(p,e=!1){const m=Re(p),C=await m.getIdToken(e),R=kf(C);bt(R&&R.exp&&R.auth_time&&R.iat,m.auth,"internal-error");const M=typeof R.firebase=="object"?R.firebase:void 0,f=M==null?void 0:M.sign_in_provider;return{claims:R,token:C,authTime:aa(bl(R.auth_time)),issuedAtTime:aa(bl(R.iat)),expirationTime:aa(bl(R.exp)),signInProvider:f||null,signInSecondFactor:(M==null?void 0:M.sign_in_second_factor)||null}}function bl(p){return Number(p)*1e3}function kf(p){const[e,m,C]=p.split(".");if(e===void 0||m===void 0||C===void 0)return Ro("JWT malformed, contained fewer than 3 sections"),null;try{const R=sg(m);return R?JSON.parse(R):(Ro("Failed to decode base64 JWT payload"),null)}catch(R){return Ro("Caught error parsing JWT payload as JSON",R==null?void 0:R.toString()),null}}function dp(p){const e=kf(p);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(p,e,m=!1){if(m)return e;try{return await e}catch(C){throw C instanceof Bi&&mM(C)&&p.auth.currentUser===p&&await p.auth.signOut(),C}}function mM({code:p}){return p==="auth/user-disabled"||p==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var m;if(e){const C=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),C}else{this.errorBackoff=3e4;const R=((m=this.user.stsTokenManager.expirationTime)!==null&&m!==void 0?m:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(e=!1){if(!this.isRunning)return;const m=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},m)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,m){this.createdAt=e,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=aa(this.lastLoginAt),this.creationTime=aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(p){var e;const m=p.auth,C=await p.getIdToken(),R=await Ca(p,Ix(m,{idToken:C}));bt(R==null?void 0:R.users.length,m,"internal-error");const M=R.users[0];p._notifyReloadListener(M);const f=!((e=M.providerUserInfo)===null||e===void 0)&&e.length?Lx(M.providerUserInfo):[],S=yM(p.providerData,f),t=p.isAnonymous,h=!(p.email&&M.passwordHash)&&!(S!=null&&S.length),g=t?h:!1,o={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:S,metadata:new Au(M.createdAt,M.lastLoginAt),isAnonymous:g};Object.assign(p,o)}async function xM(p){const e=Re(p);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yM(p,e){return[...p.filter(C=>!e.some(R=>R.providerId===C.providerId)),...e]}function Lx(p){return p.map(e=>{var{providerId:m}=e,C=Kf(e,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(p,e){const m=await wx(p,{},async()=>{const C=Ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:R,apiKey:M}=p.config,f=Mx(p,R,"/v1/token",`key=${M}`),S=await p._getAdditionalHeaders();return S["Content-Type"]="application/x-www-form-urlencoded",Rx.fetch()(f,{method:"POST",headers:S,body:C})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}}async function EM(p,e){return Ar(p,"POST","/v2/accounts:revokeToken",Jf(p,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const m="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,m)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const m=dp(e);this.updateTokensAndExpiration(e,null,m)}async getToken(e,m=!1){return!m&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,m){const{accessToken:C,refreshToken:R,expiresIn:M}=await TM(e,m);this.updateTokensAndExpiration(C,R,Number(M))}updateTokensAndExpiration(e,m,C){this.refreshToken=m||null,this.accessToken=e||null,this.expirationTime=Date.now()+C*1e3}static fromJSON(e,m){const{refreshToken:C,accessToken:R,expirationTime:M}=m,f=new ir;return C&&(bt(typeof C=="string","internal-error",{appName:e}),f.refreshToken=C),R&&(bt(typeof R=="string","internal-error",{appName:e}),f.accessToken=R),M&&(bt(typeof M=="number","internal-error",{appName:e}),f.expirationTime=M),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ir,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(p,e){bt(typeof p=="string"||typeof p>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:m,auth:C,stsTokenManager:R}=e,M=Kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Au(M.createdAt||void 0,M.lastLoginAt||void 0)}async getIdToken(e){const m=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return bt(m,this.auth,"internal-error"),this.accessToken!==m&&(this.accessToken=m,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),m}getIdTokenResult(e){return pM(this,e)}reload(){return xM(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(m=>Object.assign({},m)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const m=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,m=!1){let C=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),C=!0),m&&await ih(this),await this.auth._persistUserIfCurrent(this),C&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(En(this.auth));const e=await this.getIdToken();return await Ca(this,vM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,m){var C,R,M,f,S,t,h,g;const o=(C=m.displayName)!==null&&C!==void 0?C:void 0,a=(R=m.email)!==null&&R!==void 0?R:void 0,r=(M=m.phoneNumber)!==null&&M!==void 0?M:void 0,i=(f=m.photoURL)!==null&&f!==void 0?f:void 0,n=(S=m.tenantId)!==null&&S!==void 0?S:void 0,l=(t=m._redirectEventId)!==null&&t!==void 0?t:void 0,s=(h=m.createdAt)!==null&&h!==void 0?h:void 0,u=(g=m.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:d,emailVerified:c,isAnonymous:v,providerData:x,stsTokenManager:y}=m;bt(d&&y,e,"internal-error");const T=ir.fromJSON(this.name,y);bt(typeof d=="string",e,"internal-error"),Ls(o,e.name),Ls(a,e.name),bt(typeof c=="boolean",e,"internal-error"),bt(typeof v=="boolean",e,"internal-error"),Ls(r,e.name),Ls(i,e.name),Ls(n,e.name),Ls(l,e.name),Ls(s,e.name),Ls(u,e.name);const E=new cs({uid:d,auth:e,email:a,emailVerified:c,displayName:o,isAnonymous:v,photoURL:i,phoneNumber:r,tenantId:n,stsTokenManager:T,createdAt:s,lastLoginAt:u});return x&&Array.isArray(x)&&(E.providerData=x.map(A=>Object.assign({},A))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,m,C=!1){const R=new ir;R.updateFromServerResponse(m);const M=new cs({uid:m.localId,auth:e,stsTokenManager:R,isAnonymous:C});return await ih(M),M}static async _fromGetAccountInfoResponse(e,m,C){const R=m.users[0];bt(R.localId!==void 0,"internal-error");const M=R.providerUserInfo!==void 0?Lx(R.providerUserInfo):[],f=!(R.email&&R.passwordHash)&&!(M!=null&&M.length),S=new ir;S.updateFromIdToken(C);const t=new cs({uid:R.localId,auth:e,stsTokenManager:S,isAnonymous:f}),h={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:M,metadata:new Au(R.createdAt,R.lastLoginAt),isAnonymous:!(R.email&&R.passwordHash)&&!(M!=null&&M.length)};return Object.assign(t,h),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map;function vs(p){Ss(p instanceof Function,"Expected a class definition");let e=cp.get(p);return e?(Ss(e instanceof p,"Instance stored in cache mismatched with class"),e):(e=new p,cp.set(p,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,m){this.storage[e]=m}async _get(e){const m=this.storage[e];return m===void 0?null:m}async _remove(e){delete this.storage[e]}_addListener(e,m){}_removeListener(e,m){}}Fx.type="NONE";const vp=Fx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(p,e,m){return`firebase:${p}:${e}:${m}`}class sr{constructor(e,m,C){this.persistence=e,this.auth=m,this.userKey=C;const{config:R,name:M}=this.auth;this.fullUserKey=wo(this.userKey,R.apiKey,M),this.fullPersistenceKey=wo("persistence",R.apiKey,M),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const m=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,m)return this.setCurrentUser(m)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,m,C="authUser"){if(!m.length)return new sr(vs(vp),e,C);const R=(await Promise.all(m.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let M=R[0]||vs(vp);const f=wo(C,e.config.apiKey,e.name);let S=null;for(const h of m)try{const g=await h._get(f);if(g){const o=cs._fromJSON(e,g);h!==M&&(S=o),M=h;break}}catch{}const t=R.filter(h=>h._shouldAllowMigration);return!M._shouldAllowMigration||!t.length?new sr(M,e,C):(M=t[0],S&&await M._set(f,S.toJSON()),await Promise.all(m.map(async h=>{if(h!==M)try{await h._remove(f)}catch{}})),new sr(M,e,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(p){const e=p.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vx(e))return"Blackberry";if(Gx(e))return"Webos";if(Dx(e))return"Safari";if((e.includes("chrome/")||Nx(e))&&!e.includes("edge/"))return"Chrome";if(Bx(e))return"Android";{const m=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,C=p.match(m);if((C==null?void 0:C.length)===2)return C[1]}return"Other"}function Ox(p=ke()){return/firefox\//i.test(p)}function Dx(p=ke()){const e=p.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nx(p=ke()){return/crios\//i.test(p)}function bx(p=ke()){return/iemobile/i.test(p)}function Bx(p=ke()){return/android/i.test(p)}function Vx(p=ke()){return/blackberry/i.test(p)}function Gx(p=ke()){return/webos/i.test(p)}function Zf(p=ke()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function SM(p=ke()){var e;return Zf(p)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CM(){return QE()&&document.documentMode===10}function Ux(p=ke()){return Zf(p)||Bx(p)||Gx(p)||Vx(p)||/windows phone/i.test(p)||bx(p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(p,e=[]){let m;switch(p){case"Browser":m=pp(ke());break;case"Worker":m=`${pp(ke())}-${p}`;break;default:m=p}const C=e.length?e.join(","):"FirebaseCore-web";return`${m}/JsCore/${gr}/${C}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,m){const C=M=>new Promise((f,S)=>{try{const t=e(M);f(t)}catch(t){S(t)}});C.onAbort=m,this.queue.push(C);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const m=[];try{for(const C of this.queue)await C(e),C.onAbort&&m.push(C.onAbort)}catch(C){m.reverse();for(const R of m)try{R()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:C==null?void 0:C.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(p,e={}){return Ar(p,"GET","/v2/passwordPolicy",Jf(p,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=6;class wM{constructor(e){var m,C,R,M;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(m=f.minPasswordLength)!==null&&m!==void 0?m:RM,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(R=(C=e.allowedNonAlphanumericCharacters)===null||C===void 0?void 0:C.join(""))!==null&&R!==void 0?R:"",this.forceUpgradeOnSignin=(M=e.forceUpgradeOnSignin)!==null&&M!==void 0?M:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var m,C,R,M,f,S;const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=(m=t.meetsMinPasswordLength)!==null&&m!==void 0?m:!0),t.isValid&&(t.isValid=(C=t.meetsMaxPasswordLength)!==null&&C!==void 0?C:!0),t.isValid&&(t.isValid=(R=t.containsLowercaseLetter)!==null&&R!==void 0?R:!0),t.isValid&&(t.isValid=(M=t.containsUppercaseLetter)!==null&&M!==void 0?M:!0),t.isValid&&(t.isValid=(f=t.containsNumericCharacter)!==null&&f!==void 0?f:!0),t.isValid&&(t.isValid=(S=t.containsNonAlphanumericCharacter)!==null&&S!==void 0?S:!0),t}validatePasswordLengthOptions(e,m){const C=this.customStrengthOptions.minPasswordLength,R=this.customStrengthOptions.maxPasswordLength;C&&(m.meetsMinPasswordLength=e.length>=C),R&&(m.meetsMaxPasswordLength=e.length<=R)}validatePasswordCharacterOptions(e,m){this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);let C;for(let R=0;R<e.length;R++)C=e.charAt(R),this.updatePasswordCharacterOptionsStatuses(m,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(e,m,C,R,M){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=R)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=M))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,m,C,R){this.app=e,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mp(this),this.idTokenSubscription=new mp(this),this.beforeStateQueue=new AM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(e,m){return m&&(this._popupRedirectResolver=vs(m)),this._initializationPromise=this.queue(async()=>{var C,R;if(!this._deleted&&(this.persistenceManager=await sr.create(this,e),!this._deleted)){if(!((C=this._popupRedirectResolver)===null||C===void 0)&&C._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(m),this.lastNotifiedUid=((R=this.currentUser)===null||R===void 0?void 0:R.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const m=await Ix(this,{idToken:e}),C=await cs._fromGetAccountInfoResponse(this,m,e);await this.directlySetCurrentUser(C)}catch(m){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",m),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var m;if(Ri(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(S=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(S,S))}):this.directlySetCurrentUser(null)}const C=await this.assertedPersistence.getCurrentUser();let R=C,M=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(m=this.redirectUser)===null||m===void 0?void 0:m._redirectEventId,S=R==null?void 0:R._redirectEventId,t=await this.tryRedirectSignIn(e);(!f||f===S)&&(t!=null&&t.user)&&(R=t.user,M=!0)}if(!R)return this.directlySetCurrentUser(null);if(!R._redirectEventId){if(M)try{await this.beforeStateQueue.runMiddleware(R)}catch(f){R=C,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return R?this.reloadAndSetCurrentUserOrClear(R):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===R._redirectEventId?this.directlySetCurrentUser(R):this.reloadAndSetCurrentUserOrClear(R)}async tryRedirectSignIn(e){let m=null;try{m=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return m}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(m){if((m==null?void 0:m.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(En(this));const m=e?Re(e):null;return m&&bt(m.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(m&&m._clone(this))}async _updateCurrentUser(e,m=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),m||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(En(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(En(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const m=this._getPasswordPolicyInternal();return m.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PM(this),m=new wM(e);this.tenantId===null?this._projectPasswordPolicy=m:this._tenantPasswordPolicies[this.tenantId]=m}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dn("auth","Firebase",e())}onAuthStateChanged(e,m,C){return this.registerStateListener(this.authStateSubscription,e,m,C)}beforeAuthStateChanged(e,m){return this.beforeStateQueue.pushCallback(e,m)}onIdTokenChanged(e,m,C){return this.registerStateListener(this.idTokenSubscription,e,m,C)}authStateReady(){return new Promise((e,m)=>{if(this.currentUser)e();else{const C=this.onAuthStateChanged(()=>{C(),e()},m)}})}async revokeAccessToken(e){if(this.currentUser){const m=await this.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:m};this.tenantId!=null&&(C.tenantId=this.tenantId),await EM(this,C)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,m){const C=await this.getOrInitRedirectPersistenceManager(m);return e===null?C.removeCurrentUser():C.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const m=e&&vs(e)||this._popupRedirectResolver;bt(m,this,"argument-error"),this.redirectPersistenceManager=await sr.create(this,[vs(m._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var m,C;return this._isInitialized&&await this.queue(async()=>{}),((m=this._currentUser)===null||m===void 0?void 0:m._redirectEventId)===e?this._currentUser:((C=this.redirectUser)===null||C===void 0?void 0:C._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=(m=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&m!==void 0?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,m,C,R){if(this._deleted)return()=>{};const M=typeof m=="function"?m:m.next.bind(m);let f=!1;const S=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(S,this,"internal-error"),S.then(()=>{f||M(this.currentUser)}),typeof m=="function"){const t=e.addObserver(m,C,R);return()=>{f=!0,t()}}else{const t=e.addObserver(m);return()=>{f=!0,t()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const m={"X-Client-Version":this.clientVersion};this.app.options.appId&&(m["X-Firebase-gmpid"]=this.app.options.appId);const C=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());C&&(m["X-Firebase-Client"]=C);const R=await this._getAppCheckToken();return R&&(m["X-Firebase-AppCheck"]=R),m}async _getAppCheckToken(){var e;if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const m=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return m!=null&&m.error&&rM(`Error while retrieving App Check token: ${m.error}`),m==null?void 0:m.token}}function Hh(p){return Re(p)}class mp{constructor(e){this.auth=e,this.observer=null,this.addObserver=eS(m=>this.observer=m)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IM(p){qf=p}function LM(p){return qf.loadJS(p)}function FM(){return qf.gapiScript}function OM(p){return`__${p}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(p,e){const m=_s(p,"auth");if(m.isInitialized()){const R=m.getImmediate(),M=m.getOptions();if(xs(M,e??{}))return R;_i(R,"already-initialized")}return m.initialize({options:e})}function NM(p,e){const m=(e==null?void 0:e.persistence)||[],C=(Array.isArray(m)?m:[m]).map(vs);e!=null&&e.errorMap&&p._updateErrorMap(e.errorMap),p._initializeWithPersistence(C,e==null?void 0:e.popupRedirectResolver)}function bM(p,e,m){const C=Hh(p);bt(/^https?:\/\//.test(e),C,"invalid-emulator-scheme");const R=!1,M=Xx(e),{host:f,port:S}=BM(e),t=S===null?"":`:${S}`,h={url:`${M}//${f}${t}/`},g=Object.freeze({host:f,port:S,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:R})});if(!C._canInitEmulator){bt(C.config.emulator&&C.emulatorConfig,C,"emulator-config-failed"),bt(xs(h,C.config.emulator)&&xs(g,C.emulatorConfig),C,"emulator-config-failed");return}C.config.emulator=h,C.emulatorConfig=g,C.settings.appVerificationDisabledForTesting=!0,VM()}function Xx(p){const e=p.indexOf(":");return e<0?"":p.substr(0,e+1)}function BM(p){const e=Xx(p),m=/(\/\/)?([^?#/]+)/.exec(p.substr(e.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(C);if(R){const M=R[1];return{host:M,port:gp(C.substr(M.length+1))}}else{const[M,f]=C.split(":");return{host:M,port:gp(f)}}}function gp(p){if(!p)return null;const e=Number(p);return isNaN(e)?null:e}function VM(){function p(){const e=document.createElement("p"),m=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,m){this.providerId=e,this.signInMethod=m}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,m){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nr(p,e){return dM(p,"POST","/v1/accounts:signInWithIdp",Jf(p,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="http://localhost";class Mn extends Wx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const m=new Mn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(m.idToken=e.idToken),e.accessToken&&(m.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(m.nonce=e.nonce),e.pendingToken&&(m.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(m.accessToken=e.oauthToken,m.secret=e.oauthTokenSecret):_i("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const m=typeof e=="string"?JSON.parse(e):e,{providerId:C,signInMethod:R}=m,M=Kf(m,["providerId","signInMethod"]);if(!C||!R)return null;const f=new Mn(C,R);return f.idToken=M.idToken||void 0,f.accessToken=M.accessToken||void 0,f.secret=M.secret,f.nonce=M.nonce,f.pendingToken=M.pendingToken||null,f}_getIdTokenResponse(e){const m=this.buildRequest();return nr(e,m)}_linkToIdToken(e,m){const C=this.buildRequest();return C.idToken=m,nr(e,C)}_getReauthenticationResolver(e){const m=this.buildRequest();return m.autoCreate=!1,nr(e,m)}buildRequest(){const e={requestUri:GM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),e.postBody=Ma(m)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends _f{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Va{constructor(){super("facebook.com")}static credential(e){return Mn._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(e,m){return Mn._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:m})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:m,oauthAccessToken:C}=e;if(!m&&!C)return null;try{return ls.credential(m,C)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Va{constructor(){super("github.com")}static credential(e){return Mn._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Va{constructor(){super("twitter.com")}static credential(e,m){return Mn._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:m})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:m,oauthTokenSecret:C}=e;if(!m||!C)return null;try{return Vs.credential(m,C)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,m,C,R=!1){const M=await cs._fromIdTokenResponse(e,C,R),f=xp(C);return new vr({user:M,providerId:f,_tokenResponse:C,operationType:m})}static async _forOperation(e,m,C){await e._updateTokensIfNecessary(C,!0);const R=xp(C);return new vr({user:e,providerId:R,_tokenResponse:C,operationType:m})}}function xp(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Bi{constructor(e,m,C,R){var M;super(m.code,m.message),this.operationType=C,this.user=R,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(M=e.tenantId)!==null&&M!==void 0?M:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(e,m,C,R){return new sh(e,m,C,R)}}function Yx(p,e,m,C){return(e==="reauthenticate"?m._getReauthenticationResolver(p):m._getIdTokenResponse(p)).catch(M=>{throw M.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(p,M,e,C):M})}async function UM(p,e,m=!1){const C=await Ca(p,e._linkToIdToken(p.auth,await p.getIdToken()),m);return vr._forOperation(p,"link",C)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(p,e,m=!1){const{auth:C}=p;if(Ri(C.app))return Promise.reject(En(C));const R="reauthenticate";try{const M=await Ca(p,Yx(C,R,e,p),m);bt(M.idToken,C,"internal-error");const f=kf(M.idToken);bt(f,C,"internal-error");const{sub:S}=f;return bt(p.uid===S,C,"user-mismatch"),vr._forOperation(p,R,M)}catch(M){throw(M==null?void 0:M.code)==="auth/user-not-found"&&_i(C,"user-mismatch"),M}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(p,e,m=!1){if(Ri(p.app))return Promise.reject(En(p));const C="signIn",R=await Yx(p,C,e),M=await vr._fromIdTokenResponse(p,C,R);return m||await p._updateCurrentUser(M.user),M}function WM(p,e,m,C){return Re(p).onIdTokenChanged(e,m,C)}function YM(p,e,m){return Re(p).beforeAuthStateChanged(e,m)}function HM(p,e,m,C){return Re(p).onAuthStateChanged(e,m,C)}function KM(p){return Re(p).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,m){this.storageRetriever=e,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,m){return this.storage.setItem(e,JSON.stringify(m)),Promise.resolve()}_get(e){const m=this.storage.getItem(e);return Promise.resolve(m?JSON.parse(m):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=1e3,jM=10;class Kx extends Hx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,m)=>this.onStorageEvent(e,m),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ux(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const m of Object.keys(this.listeners)){const C=this.storage.getItem(m),R=this.localCache[m];C!==R&&e(m,R,C)}}onStorageEvent(e,m=!1){if(!e.key){this.forAllChangedKeys((f,S,t)=>{this.notifyListeners(f,t)});return}const C=e.key;m?this.detachListener():this.stopPolling();const R=()=>{const f=this.storage.getItem(C);!m&&this.localCache[C]===f||this.notifyListeners(C,f)},M=this.storage.getItem(C);CM()&&M!==e.newValue&&e.newValue!==e.oldValue?setTimeout(R,jM):R()}notifyListeners(e,m){this.localCache[e]=m;const C=this.listeners[e];if(C)for(const R of Array.from(C))R(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,m,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:m,newValue:C}),!0)})},$M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,m){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(m)}_removeListener(e,m){this.listeners[e]&&(this.listeners[e].delete(m),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,m){await super._set(e,m),this.localCache[e]=JSON.stringify(m)}async _get(e){const m=await super._get(e);return this.localCache[e]=JSON.stringify(m),m}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kx.type="LOCAL";const QM=Kx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends Hx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,m){}_removeListener(e,m){}}$x.type="SESSION";const jx=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(p){return Promise.all(p.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(m){return{fulfilled:!1,reason:m}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const m=this.receivers.find(R=>R.isListeningto(e));if(m)return m;const C=new Kh(e);return this.receivers.push(C),C}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const m=e,{eventId:C,eventType:R,data:M}=m.data,f=this.handlersMap[R];if(!(f!=null&&f.size))return;m.ports[0].postMessage({status:"ack",eventId:C,eventType:R});const S=Array.from(f).map(async h=>h(m.origin,M)),t=await JM(S);m.ports[0].postMessage({status:"done",eventId:C,eventType:R,response:t})}_subscribe(e,m){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(m)}_unsubscribe(e,m){this.handlersMap[e]&&m&&this.handlersMap[e].delete(m),(!m||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(p="",e=10){let m="";for(let C=0;C<e;C++)m+=Math.floor(Math.random()*10);return p+m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,m,C=50){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let M,f;return new Promise((S,t)=>{const h=td("",20);R.port1.start();const g=setTimeout(()=>{t(new Error("unsupported_event"))},C);f={messageChannel:R,onMessage(o){const a=o;if(a.data.eventId===h)switch(a.data.status){case"ack":clearTimeout(g),M=setTimeout(()=>{t(new Error("timeout"))},3e3);break;case"done":clearTimeout(M),S(a.data.response);break;default:clearTimeout(g),clearTimeout(M),t(new Error("invalid_response"));break}}},this.handlers.add(f),R.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:h,data:m},[R.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function ZM(p){Ji().location.href=p}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function qM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _M(){var p;return((p=navigator==null?void 0:navigator.serviceWorker)===null||p===void 0?void 0:p.controller)||null}function t3(){return Qx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firebaseLocalStorageDb",e3=1,rh="firebaseLocalStorage",kx="fbase_key";class Ga{constructor(e){this.request=e}toPromise(){return new Promise((e,m)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function $h(p,e){return p.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function i3(){const p=indexedDB.deleteDatabase(Jx);return new Ga(p).toPromise()}function Pu(){const p=indexedDB.open(Jx,e3);return new Promise((e,m)=>{p.addEventListener("error",()=>{m(p.error)}),p.addEventListener("upgradeneeded",()=>{const C=p.result;try{C.createObjectStore(rh,{keyPath:kx})}catch(R){m(R)}}),p.addEventListener("success",async()=>{const C=p.result;C.objectStoreNames.contains(rh)?e(C):(C.close(),await i3(),e(await Pu()))})})}async function yp(p,e,m){const C=$h(p,!0).put({[kx]:e,value:m});return new Ga(C).toPromise()}async function s3(p,e){const m=$h(p,!1).get(e),C=await new Ga(m).toPromise();return C===void 0?null:C.value}function Tp(p,e){const m=$h(p,!0).delete(e);return new Ga(m).toPromise()}const n3=800,r3=3;class Zx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pu(),this.db)}async _withRetries(e){let m=0;for(;;)try{const C=await this._openDb();return await e(C)}catch(C){if(m++>r3)throw C;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(t3()),this.receiver._subscribe("keyChanged",async(e,m)=>({keyProcessed:(await this._poll()).includes(m.key)})),this.receiver._subscribe("ping",async(e,m)=>["keyChanged"])}async initializeSender(){var e,m;if(this.activeServiceWorker=await qM(),!this.activeServiceWorker)return;this.sender=new kM(this.activeServiceWorker);const C=await this.sender._send("ping",{},800);C&&!((e=C[0])===null||e===void 0)&&e.fulfilled&&!((m=C[0])===null||m===void 0)&&m.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_M()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pu();return await yp(e,nh,"1"),await Tp(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,m){return this._withPendingWrite(async()=>(await this._withRetries(C=>yp(C,e,m)),this.localCache[e]=m,this.notifyServiceWorker(e)))}async _get(e){const m=await this._withRetries(C=>s3(C,e));return this.localCache[e]=m,m}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(m=>Tp(m,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(R=>{const M=$h(R,!1).getAll();return new Ga(M).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const m=[],C=new Set;if(e.length!==0)for(const{fbase_key:R,value:M}of e)C.add(R),JSON.stringify(this.localCache[R])!==JSON.stringify(M)&&(this.notifyListeners(R,M),m.push(R));for(const R of Object.keys(this.localCache))this.localCache[R]&&!C.has(R)&&(this.notifyListeners(R,null),m.push(R));return m}notifyListeners(e,m){this.localCache[e]=m;const C=this.listeners[e];if(C)for(const R of Array.from(C))R(m)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,m){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(m)}_removeListener(e,m){this.listeners[e]&&(this.listeners[e].delete(m),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zx.type="LOCAL";const a3=Zx;new Ba(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(p,e){return e?vs(e):(bt(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Wx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nr(e,this._buildIdpRequest())}_linkToIdToken(e,m){return nr(e,this._buildIdpRequest(m))}_getReauthenticationResolver(e){return nr(e,this._buildIdpRequest())}_buildIdpRequest(e){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(m.idToken=e),m}}function o3(p){return XM(p.auth,new ed(p),p.bypassAuthState)}function h3(p){const{auth:e,user:m}=p;return bt(m,e,"internal-error"),zM(m,new ed(p),p.bypassAuthState)}async function l3(p){const{auth:e,user:m}=p;return bt(m,e,"internal-error"),UM(m,new ed(p),p.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,m,C,R,M=!1){this.auth=e,this.resolver=C,this.user=R,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){return new Promise(async(e,m)=>{this.pendingPromise={resolve:e,reject:m};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(C){this.reject(C)}})}async onAuthEvent(e){const{urlResponse:m,sessionId:C,postBody:R,tenantId:M,error:f,type:S}=e;if(f){this.reject(f);return}const t={auth:this.auth,requestUri:m,sessionId:C,tenantId:M||void 0,postBody:R||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(S)(t))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o3;case"linkViaPopup":case"linkViaRedirect":return l3;case"reauthViaPopup":case"reauthViaRedirect":return h3;default:_i(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new Ba(2e3,1e4);async function f3(p,e,m){if(Ri(p.app))return Promise.reject(Ii(p,"operation-not-supported-in-this-environment"));const C=Hh(p);aM(p,e,_f);const R=qx(C,m);return new gn(C,"signInViaPopup",e,R).executeNotNull()}class gn extends _x{constructor(e,m,C,R,M){super(e,m,R,M),this.provider=C,this.authWindow=null,this.pollId=null,gn.currentPopupAction&&gn.currentPopupAction.cancel(),gn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=td();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(m=>{this.reject(m)}),this.resolver._isIframeWebStorageSupported(this.auth,m=>{m||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var m,C;if(!((C=(m=this.authWindow)===null||m===void 0?void 0:m.window)===null||C===void 0)&&C.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u3.get())};e()}}gn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="pendingRedirect",Mo=new Map;class c3 extends _x{constructor(e,m,C=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}async execute(){let e=Mo.get(this.auth._key());if(!e){try{const C=await v3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(C)}catch(m){e=()=>Promise.reject(m)}Mo.set(this.auth._key(),e)}return this.bypassAuthState||Mo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const m=await this.auth._redirectUserForId(e.eventId);if(m)return this.user=m,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v3(p,e){const m=g3(e),C=m3(p);if(!await C._isAvailable())return!1;const R=await C._get(m)==="true";return await C._remove(m),R}function p3(p,e){Mo.set(p._key(),e)}function m3(p){return vs(p._redirectPersistence)}function g3(p){return wo(d3,p.config.apiKey,p.name)}async function x3(p,e,m=!1){if(Ri(p.app))return Promise.reject(En(p));const C=Hh(p),R=qx(C,e),f=await new c3(C,R,m).execute();return f&&!m&&(delete f.user._redirectEventId,await C._persistUserIfCurrent(f.user),await C._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=10*60*1e3;class T3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(e,C)&&(m=!0,this.sendToConsumer(e,C),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E3(e)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=e,m=!0)),m}sendToConsumer(e,m){var C;if(e.error&&!ty(e)){const R=((C=e.error.code)===null||C===void 0?void 0:C.split("auth/")[1])||"internal-error";m.onError(Ii(this.auth,R))}else m.onAuthEvent(e)}isEventForConsumer(e,m){const C=m.eventId===null||!!e.eventId&&e.eventId===m.eventId;return m.filter.includes(e.type)&&C}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ep(e))}saveEventToCache(e){this.cachedEventUids.add(Ep(e)),this.lastProcessedEventTime=Date.now()}}function Ep(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(e=>e).join("-")}function ty({type:p,error:e}){return p==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E3(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ty(p);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(p,e={}){return Ar(p,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A3=/^https?/;async function P3(p){if(p.config.emulator)return;const{authorizedDomains:e}=await S3(p);for(const m of e)try{if(R3(m))return}catch{}_i(p,"unauthorized-domain")}function R3(p){const e=Cu(),{protocol:m,hostname:C}=new URL(e);if(p.startsWith("chrome-extension://")){const f=new URL(p);return f.hostname===""&&C===""?m==="chrome-extension:"&&p.replace("chrome-extension://","")===e.replace("chrome-extension://",""):m==="chrome-extension:"&&f.hostname===C}if(!A3.test(m))return!1;if(C3.test(p))return C===p;const R=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(C)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new Ba(3e4,6e4);function Sp(){const p=Ji().___jsl;if(p!=null&&p.H){for(const e of Object.keys(p.H))if(p.H[e].r=p.H[e].r||[],p.H[e].L=p.H[e].L||[],p.H[e].r=[...p.H[e].L],p.CP)for(let m=0;m<p.CP.length;m++)p.CP[m]=null}}function M3(p){return new Promise((e,m)=>{var C,R,M;function f(){Sp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sp(),m(Ii(p,"network-request-failed"))},timeout:w3.get()})}if(!((R=(C=Ji().gapi)===null||C===void 0?void 0:C.iframes)===null||R===void 0)&&R.Iframe)e(gapi.iframes.getContext());else if(!((M=Ji().gapi)===null||M===void 0)&&M.load)f();else{const S=OM("iframefcb");return Ji()[S]=()=>{gapi.load?f():m(Ii(p,"network-request-failed"))},LM(`${FM()}?onload=${S}`).catch(t=>m(t))}}).catch(e=>{throw Io=null,e})}let Io=null;function I3(p){return Io=Io||M3(p),Io}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Ba(5e3,15e3),F3="__/auth/iframe",O3="emulator/auth/iframe",D3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b3(p){const e=p.config;bt(e.authDomain,p,"auth-domain-config-required");const m=e.emulator?Qf(e,O3):`https://${p.config.authDomain}/${F3}`,C={apiKey:e.apiKey,appName:p.name,v:gr},R=N3.get(p.config.apiHost);R&&(C.eid=R);const M=p._getFrameworks();return M.length&&(C.fw=M.join(",")),`${m}?${Ma(C).slice(1)}`}async function B3(p){const e=await I3(p),m=Ji().gapi;return bt(m,p,"internal-error"),e.open({where:document.body,url:b3(p),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D3,dontclear:!0},C=>new Promise(async(R,M)=>{await C.restyle({setHideOnLeave:!1});const f=Ii(p,"network-request-failed"),S=Ji().setTimeout(()=>{M(f)},L3.get());function t(){Ji().clearTimeout(S),R(C)}C.ping(t).then(t,()=>{M(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G3=500,U3=600,z3="_blank",X3="http://localhost";class Cp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W3(p,e,m,C=G3,R=U3){const M=Math.max((window.screen.availHeight-R)/2,0).toString(),f=Math.max((window.screen.availWidth-C)/2,0).toString();let S="";const t=Object.assign(Object.assign({},V3),{width:C.toString(),height:R.toString(),top:M,left:f}),h=ke().toLowerCase();m&&(S=Nx(h)?z3:m),Ox(h)&&(e=e||X3,t.scrollbars="yes");const g=Object.entries(t).reduce((a,[r,i])=>`${a}${r}=${i},`,"");if(SM(h)&&S!=="_self")return Y3(e||"",S),new Cp(null);const o=window.open(e||"",S,g);bt(o,p,"popup-blocked");try{o.focus()}catch{}return new Cp(o)}function Y3(p,e){const m=document.createElement("a");m.href=p,m.target=e;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="__/auth/handler",K3="emulator/auth/handler",$3=encodeURIComponent("fac");async function Ap(p,e,m,C,R,M){bt(p.config.authDomain,p,"auth-domain-config-required"),bt(p.config.apiKey,p,"invalid-api-key");const f={apiKey:p.config.apiKey,appName:p.name,authType:m,redirectUrl:C,v:gr,eventId:R};if(e instanceof _f){e.setDefaultLanguage(p.languageCode),f.providerId=e.providerId||"",tS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,o]of Object.entries({}))f[g]=o}if(e instanceof Va){const g=e.getScopes().filter(o=>o!=="");g.length>0&&(f.scopes=g.join(","))}p.tenantId&&(f.tid=p.tenantId);const S=f;for(const g of Object.keys(S))S[g]===void 0&&delete S[g];const t=await p._getAppCheckToken(),h=t?`#${$3}=${encodeURIComponent(t)}`:"";return`${j3(p)}?${Ma(S).slice(1)}${h}`}function j3({config:p}){return p.emulator?Qf(p,K3):`https://${p.authDomain}/${H3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="webStorageSupport";class Q3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jx,this._completeRedirectFn=x3,this._overrideRedirectResult=p3}async _openPopup(e,m,C,R){var M;Ss((M=this.eventManagers[e._key()])===null||M===void 0?void 0:M.manager,"_initialize() not called before _openPopup()");const f=await Ap(e,m,C,Cu(),R);return W3(e,f,td())}async _openRedirect(e,m,C,R){await this._originValidation(e);const M=await Ap(e,m,C,Cu(),R);return ZM(M),new Promise(()=>{})}_initialize(e){const m=e._key();if(this.eventManagers[m]){const{manager:R,promise:M}=this.eventManagers[m];return R?Promise.resolve(R):(Ss(M,"If manager is not set, promise should be"),M)}const C=this.initAndGetManager(e);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}async initAndGetManager(e){const m=await B3(e),C=new T3(e);return m.register("authEvent",R=>(bt(R==null?void 0:R.authEvent,e,"invalid-auth-event"),{status:C.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:C},this.iframes[e._key()]=m,C}_isIframeWebStorageSupported(e,m){this.iframes[e._key()].send(Bl,{type:Bl},R=>{var M;const f=(M=R==null?void 0:R[0])===null||M===void 0?void 0:M[Bl];f!==void 0&&m(!!f),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const m=e._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=P3(e)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ux()||Dx()||Zf()}}const J3=Q3;var Pp="@firebase/auth",Rp="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const m=this.auth.onIdTokenChanged(C=>{e((C==null?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,m),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const m=this.internalListeners.get(e);m&&(this.internalListeners.delete(e),m(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q3(p){ki(new Di("auth",(e,{options:m})=>{const C=e.getProvider("app").getImmediate(),R=e.getProvider("heartbeat"),M=e.getProvider("app-check-internal"),{apiKey:f,authDomain:S}=C.options;bt(f&&!f.includes(":"),"invalid-api-key",{appName:C.name});const t={apiKey:f,authDomain:S,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zx(p)},h=new MM(C,R,M,t);return NM(h,m),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,m,C)=>{e.getProvider("auth-internal").initialize()})),ki(new Di("auth-internal",e=>{const m=Hh(e.getProvider("auth").getImmediate());return(C=>new k3(C))(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(Pp,Rp,Z3(p)),Ci(Pp,Rp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=5*60,t4=ag("authIdTokenMaxAge")||_3;let wp=null;const e4=p=>async e=>{const m=e&&await e.getIdTokenResult(),C=m&&(new Date().getTime()-Date.parse(m.issuedAtTime))/1e3;if(C&&C>t4)return;const R=m==null?void 0:m.token;wp!==R&&(wp=R,await fetch(p,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))};function i4(p=Qu()){const e=_s(p,"auth");if(e.isInitialized())return e.getImmediate();const m=DM(p,{popupRedirectResolver:J3,persistence:[a3,QM,jx]}),C=ag("authTokenSyncURL");if(C&&typeof isSecureContext=="boolean"&&isSecureContext){const M=new URL(C,location.origin);if(location.origin===M.origin){const f=e4(M.toString());YM(m,f,()=>f(m.currentUser)),WM(m,S=>f(S))}}const R=ng("auth");return R&&bM(m,`http://${R}`),m}function s4(){var p,e;return(e=(p=document.getElementsByTagName("head"))===null||p===void 0?void 0:p[0])!==null&&e!==void 0?e:document}IM({loadJS(p){return new Promise((e,m)=>{const C=document.createElement("script");C.setAttribute("src",p),C.onload=e,C.onerror=R=>{const M=Ii("internal-error");M.customData=R,m(M)},C.type="text/javascript",C.charset="UTF-8",s4().appendChild(C)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q3("Browser");class n4{constructor(){mt(this,"db",uP());mt(this,"subscriptions",{});mt(this,"unsubscribe",(e,m)=>{if(!this.subscriptions[e]){console.warn(`You should not unsubscribe if you have not yet subscribed to key "${e}".`);return}if(this.subscriptions[e].count-=1,this.subscriptions[e].count!==0)return;const C=this.subscriptions[e].destroy;C?(delete this.subscriptions[e],C(),m==null||m()):console.warn(`Unsubscribe called with key "${e}" while subscribe is waiting to complete.`)});mt(this,"getCollectionRef",(e,m)=>m?$v(this.db,e).withConverter(m):$v(this.db,e));mt(this,"getDocRef",(e,m,C)=>{const R=this.getCollectionRef(e);return m!==null?C?Yr(R,m).withConverter(C):Yr(R,m):C?Yr(R).withConverter(C):Yr(R)});mt(this,"getSnapshot",async(e,m,C)=>{const R=this.getDocRef(e,m,C);return await Ll(R)});mt(this,"getDocData",async(e,m,C)=>{const R=await this.getSnapshot(e,m,C);return R.exists()?R.data():(console.error(`There is no document with id "${m}" in collection "${e}".`),null)});mt(this,"getDocDataByRef",async e=>{const m=await Ll(e);if(m.exists())return m.data();console.error(`No document found with reference id "${e.id}".`)});mt(this,"getDocDataByQuery",async e=>{const m=await qv(e);return m.empty?(console.error(`No document(s) found using query "${e}".`),[]):m.docs.map(C=>C.data())});mt(this,"getCollectionData",async(e,m)=>{const C=this.getCollectionRef(e,m),R=await qv(C);return R.empty?(console.error(`Collection "${e}" is empty.`),[]):R.docs.map(M=>M.data())})}getRunningKeys(e=""){return Object.keys(this.subscriptions).filter(m=>m.startsWith(e))}async getDocument(e,m,C,R=!1){const M=this.getDocRef(e,m,C),f=await Ll(M);return f.exists()?f.data():(R||console.error(`No document found with id "${m}" in collection "${e}".`),null)}async addDocument(e,m,C){const R=this.getCollectionRef(e),M=C?C.toFirestore(m):m;return(await MP(R,M)).id}async setDocument(e,m,C,R){const M=this.getDocRef(e,m,R);await RP(M,C)}async updateDocument(e,m,C,R){const M=this.getDocRef(e,m,R);await wP(M,C)}async subscribe({key:e,docRef:m,queryRef:C,callback:R,error:M,converter:f}){if(this.subscriptions[e]===void 0&&(this.subscriptions[e]={key:e,count:0}),this.subscriptions[e].count+=1,this.subscriptions[e].count===1)try{if(m){const S=_v(m,t=>this.handleDocSnapshot(t,R,f),M);this.subscriptions[e].destroy=S}else if(C){const S=_v(C,t=>this.handleQuerySnapshot(t,R,f),M);this.subscriptions[e].destroy=S}}catch(S){console.error(`Error subscribing to key "${e}":`,S)}}getData(e,m){return m?m.fromFirestore(e):e.data()}handleDocSnapshot(e,m,C){if(!e.exists())return;const R=this.getData(e,C);R&&m(R)}handleQuerySnapshot(e,m,C){const R=e.docs.map(M=>this.getData(M,C));m(R)}}const r4={apiKey:"AIzaSyB8U-G13jDAjURH-PWBDmMp0l8XJFIeCOM",authDomain:"nyxbase-2f10e.firebaseapp.com",projectId:"nyxbase-2f10e",storageBucket:"nyxbase-2f10e.firebasestorage.app",messagingSenderId:"782425608263",appId:"1:782425608263:web:8a75ca84179aeb25ef2162"},id=cg(r4),Mp=lP(id,{ignoreUndefinedProperties:!0});qw(id);const Vl=i4(id),a4=new ls,o4={class:"debug"},h4={class:"debug__card-position"},l4=ne({__name:"Debug",setup(p){const e=di(),{debug:m,playerPosition:C,hp:R,score:M,state:f,energy:S,currentScene:t}=Ue(e),{setPlayerHp:h,setPlayerEnergy:g}=e,o=yn("nyxButton"),a=yn("nyxCard"),r=Gt(!1),i=Gt(!1),n=Gt(!0),l=Lt({get(){return n.value},async set(A){A?await dP(Mp):await cP(Mp),n.value=A}}),{cssVariables:s}=Gf(o,a,{gap:Gt(kt.XLarge),position:Gt(re.TopLeft),offsetX:-5,offsetY:-10}),u=A=>{var P,w;r.value=!1,i.value=A===void 0?!i.value:A,(w=(P=o.value)==null?void 0:P.$el)==null||w.blur()},d=Lt({get:()=>M.value.toString(),set:A=>M.value=parseInt(A)}),c=Lt({get:()=>R.value.toString(),set:A=>h(parseInt(A))}),v=Lt({get:()=>S.value.toString(),set:A=>g(parseInt(A))}),x=Lt(()=>({x:parseFloat(C.value.x.toFixed(2)),y:parseFloat(C.value.y.toFixed(2))})),y=Lt(()=>Object.values(ge).map(A=>({label:A,value:A}))),T=()=>{const A=Kt(t.value);A&&A.spawnAsteroid()},E=()=>{m.value.isEnabled=!1};return ni(f,()=>r.value=!1),(A,P)=>(gt(),Et("div",o4,[Rt(ft(Ge),{ref_key:"nyxButton",ref:o,class:"debug__button",theme:ft(ce).Danger,size:ft(kt).Small,tabindex:"-1",onClick:u},{default:Xt(()=>P[10]||(P[10]=[he("Debog")])),_:1},8,["theme","size"]),Rt(ft(ba),{modelValue:r.value,"onUpdate:modelValue":P[0]||(P[0]=w=>r.value=w),title:"Config"},{default:Xt(()=>[wt("pre",null,ie(ft(Ot)),1)]),_:1},8,["modelValue"]),(gt(),Pe(ph,{to:"body"},[Rt(ft(sR),{class:Zt(["debug__card",{"debug__card--visible":i.value}]),size:ft(kt).Large,style:Qe(ft(s)),ref_key:"nyxCard",ref:a},{default:Xt(()=>[Rt(ft(ex),{class:"debug__card-content"},{default:Xt(()=>[wt("span",h4,[wt("pre",null,"x: "+ie(x.value.x),1),wt("pre",null,"y: "+ie(x.value.y),1)]),Rt(ft(rs),{label:"HP"},{default:Xt(({id:w})=>[Rt(ft(Fl),{class:"debug__card-input",id:w,modelValue:c.value,"onUpdate:modelValue":P[1]||(P[1]=I=>c.value=I),type:ft(na).Number,max:100},null,8,["id","modelValue","type"])]),_:1}),Rt(ft(rs),{label:"Energy"},{default:Xt(({id:w})=>[Rt(ft(Fl),{class:"debug__card-input",id:w,modelValue:v.value,"onUpdate:modelValue":P[2]||(P[2]=I=>v.value=I),type:ft(na).Number},null,8,["id","modelValue","type"])]),_:1}),Rt(ft(rs),{label:"Score"},{default:Xt(({id:w})=>[Rt(ft(Fl),{class:"debug__card-input",id:w,modelValue:d.value,"onUpdate:modelValue":P[3]||(P[3]=I=>d.value=I),type:ft(na).Number},null,8,["id","modelValue","type"])]),_:1}),Wt("",!0),Rt(ft(rs),null,{default:Xt(({id:w})=>[Rt(ft(Kr),{id:w,modelValue:ft(m).isImmortal,"onUpdate:modelValue":P[5]||(P[5]=I=>ft(m).isImmortal=I),label:"Immortality"},null,8,["id","modelValue"])]),_:1}),Rt(ft(rs),null,{default:Xt(({id:w})=>[Rt(ft(Kr),{id:w,modelValue:ft(m).hasInfiniteEnergy,"onUpdate:modelValue":P[6]||(P[6]=I=>ft(m).hasInfiniteEnergy=I),label:"Infinite Energy"},null,8,["id","modelValue"])]),_:1}),Rt(ft(rs),null,{default:Xt(({id:w})=>[Rt(ft(Kr),{id:w,modelValue:ft(m).isCollisionDisabled,"onUpdate:modelValue":P[7]||(P[7]=I=>ft(m).isCollisionDisabled=I),label:"Disable Collision"},null,8,["id","modelValue"])]),_:1}),Rt(ft(rs),null,{default:Xt(({id:w})=>[Rt(ft(Kr),{id:w,modelValue:l.value,"onUpdate:modelValue":P[8]||(P[8]=I=>l.value=I),label:"Firestore Online"},null,8,["id","modelValue"])]),_:1}),Rt(ft(Ge),{class:"debug__card-button",onClick:T},{default:Xt(()=>P[11]||(P[11]=[he("Spawn Asteroid")])),_:1}),Rt(ft(Ge),{class:"debug__card-button",onClick:P[9]||(P[9]=w=>r.value=!0)},{default:Xt(()=>P[12]||(P[12]=[he("View config")])),_:1}),Rt(ft(Ge),{class:"debug__card-button",onClick:E},{default:Xt(()=>P[13]||(P[13]=[he("Disable debug")])),_:1})]),_:1})]),_:1},8,["class","size","style"])]))]))}}),sd=(p,e)=>{const m=p.__vccOpts||p;for(const[C,R]of e)m[C]=R;return m},u4=sd(l4,[["__scopeId","data-v-428ca8f0"]]),f4={type:mr.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"game",backgroundColor:"#000000",pixelArt:!0,scene:[FE,OP,Z0]},d4=p=>new mr.Game({...f4,parent:p}),c4={id:"game",class:"game"},v4=ne({__name:"Game",setup(p){const{setCurrentScene:e,setGameState:m}=di(),C=Gt();return Ps(()=>{C.value=d4("game"),fs.on("current-scene-ready",M=>e(M)),fs.on("preload-complete",()=>m(ge.Menu))}),Ln(()=>{C.value&&(C.value.destroy(!0),C.value=null)}),(M,f)=>(gt(),Et("main",c4))}}),p4=sd(v4,[["__scopeId","data-v-2c9577f2"]]),m4={key:0,class:"game-interface"},g4=ne({__name:"GameInterface",setup(p){const{hp:e,energy:m,score:C,isPlaying:R,isPaused:M,debug:f,isInGame:S}=Ue(di()),t=Gt(null),h=Gt(0);Ps(()=>{t.value=window.setInterval(()=>{!R.value||M.value||(C.value+=1)},500)}),In(()=>{t.value&&window.clearInterval(t.value)});const g=()=>{f.value.isEnabled||(h.value+=1,!(h.value<10)&&(f.value.isEnabled=!0,h.value=0))};return(o,a)=>ft(S)?(gt(),Et("header",m4,[Rt(ft(Eu),{class:"game-interface__progress",modelValue:ft(e),max:100,size:ft(kt).XLarge,theme:ft(ce).Danger,showValue:"start"},null,8,["modelValue","size","theme"]),wt("span",{class:"game-interface__score",onClick:g},ie(ft(C)),1),Rt(ft(Eu),{class:"game-interface__progress",modelValue:ft(m),max:100,size:ft(kt).XLarge,theme:ft(ce).Secondary,showValue:"start"},null,8,["modelValue","size","theme"])])):Wt("",!0)}}),ey=ne({__name:"Settings",setup(p){const{isFullscreen:e,currentVolume:m}=Ue(Vf());return ni(e,C=>{C?document.documentElement.requestFullscreen():document.exitFullscreen()}),(C,R)=>(gt(),Pe(ft(ex),null,{default:Xt(()=>[Rt(ft(rs),{label:"Volume"},{default:Xt(({id:M})=>[Rt(ft(CR),{for:M,modelValue:ft(m),"onUpdate:modelValue":R[0]||(R[0]=f=>ae(m)?m.value=f:null),max:1,min:0,step:.05,shape:ft(Vn).Rectangle},null,8,["for","modelValue","shape"])]),_:1}),Rt(ft(rs),{label:"Fullscreen"},{default:Xt(({id:M})=>[Rt(ft(Kr),{for:M,modelValue:ft(e),"onUpdate:modelValue":R[1]||(R[1]=f=>ae(e)?e.value=f:null)},null,8,["for","modelValue"])]),_:1})]),_:1}))}}),x4={class:"game-menu__buttons"},Ip=ne({__name:"GameMenu",setup(p){const e=di(),{isPlaying:m,isPaused:C}=Ue(e),R=h=>{h.key==="Escape"&&e.togglePaused()},M=Lt(()=>{let h="game-menu";return C.value&&(h+=" game-menu--visible"),h}),f=()=>{e.reset(),e.togglePaused()},S=()=>{e.reset(),e.setGameState(ge.Menu)},t=()=>{e.togglePaused()};return Ps(()=>{window.addEventListener("keydown",R)}),Ln(()=>{window.removeEventListener("keydown",R)}),(h,g)=>ft(C)?(gt(),Pe(ft(ba),{key:0,customClass:M.value,size:ft(kt).Small,static:""},{footer:Xt(()=>[wt("div",x4,[Rt(ft(Ge),{onClick:f,theme:ft(ce).Warning},{default:Xt(()=>g[0]||(g[0]=[he("Restart")])),_:1},8,["theme"]),Rt(ft(Ge),{onClick:S,theme:ft(ce).Danger},{default:Xt(()=>g[1]||(g[1]=[he("Quit")])),_:1},8,["theme"]),Rt(ft(Ge),{onClick:t,theme:ft(ce).Primary},{default:Xt(()=>g[2]||(g[2]=[he("Resume")])),_:1},8,["theme"])])]),default:Xt(()=>[Rt(ey)]),_:1},8,["customClass","size"])):Wt("",!0)}}),oh=class oh{constructor(e){mt(this,"id","");mt(this,"displayName",null);mt(this,"firstName",null);mt(this,"lastName",null);mt(this,"email",null);mt(this,"country",null);mt(this,"createdAt",new Date);mt(this,"updatedAt",new Date);e&&(this.id=yi.loadString(e,"id"),this.displayName=yi.loadStringOrNull(e,"displayName",null),this.firstName=yi.loadStringOrNull(e,"firstName",null),this.lastName=yi.loadStringOrNull(e,"lastName",null),this.email=yi.loadStringOrNull(e,"email",null),this.country=yi.loadStringOrNull(e,"country",null))}get fullName(){return this.displayName?this.displayName:`${this.firstName} ${this.lastName}`}get initials(){var e,m;return this.displayName?this.displayName.split(" ").map(C=>C[0]).join(""):`${(e=this.firstName)==null?void 0:e.charAt(0)}${(m=this.lastName)==null?void 0:m.charAt(0)}`}getRawData(){return{displayName:this.displayName,firstName:this.firstName,lastName:this.lastName,email:this.email,country:this.country,createdAt:this.createdAt,updatedAt:this.updatedAt}}};mt(oh,"Converter",{toFirestore:e=>e.getRawData(),fromFirestore:e=>{const m=e.data();return new oh({...m,id:e.id})}});let ps=oh;const nd=On("auth",()=>{const p=Gt(null),e=Lt(()=>p.value!==null),m=async()=>{if(!p.value)throw new Error("User not logged in.");if(await oi.getDocument(us.Profiles,p.value.uid,ps.Converter,!0))return;const S=new ps({id:p.value.uid,displayName:p.value.displayName,email:p.value.email,createdAt:new Date,updatedAt:new Date});await oi.setDocument(us.Profiles,p.value.uid,S,ps.Converter)};return{user:p,isLoggedIn:e,loginWithGoogle:async()=>{try{const f=await f3(Vl,a4);p.value=f.user,await m()}catch(f){console.error(f)}},logout:async()=>{await KM(Vl),p.value=null},watchAuthState:()=>{HM(Vl,f=>{p.value=f??null})}}}),rd=On("profiles",()=>{const{user:p}=Ue(nd()),e=Gt([]),m=Gt(null),C=o=>{e.value=Array.isArray(o)?o:[o]},R=o=>{m.value=Array.isArray(o)?o[0]:o},M=async o=>{await oi.subscribe({key:"profile",docRef:oi.getDocRef(us.Profiles,o,ps.Converter),callback:R,error:a=>{console.error("Error in subscription to profile.",a)}})},f=async()=>{oi.unsubscribe("profile")},S=async()=>{const o=oi.getCollectionRef(us.Profiles);await oi.subscribe({key:"profiles",queryRef:K0(o).withConverter(ps.Converter),callback:C,error:a=>{console.error("Error in subscription to profiles.",a)}})},t=async()=>{oi.unsubscribe("profiles")},h=async o=>{await oi.addDocument(us.Profiles,o,ps.Converter)},g=async o=>{await oi.setDocument(us.Profiles,o.id,o,ps.Converter)};return ni(p,async o=>{o&&await M(o.uid)},{immediate:!0}),{profile:m,profiles:e,addNewProfile:h,updateProfile:g,subscribeProfile:M,unsubscribeProfile:f,subscribeProfiles:S,unsubscribeProfiles:t}}),y4={key:0},T4={key:1},E4=ne({__name:"GameOver",setup(p){const e=di(),{isGameOver:m,score:C,debug:R}=Ue(e),{addNewHiscore:M}=bf(),{profile:f}=Ue(rd()),S=Gt(null),t=()=>{e.reset(),e.setGameState(ge.Playing)},h=()=>{e.reset(),e.setGameState(ge.Menu)};return ni(m,async g=>{var o;S.value=null,!(!g||!((o=f.value)!=null&&o.id))&&(R.value.isEnabled=!1,S.value=await M(f.value.id,C.value))}),(g,o)=>ft(m)?(gt(),Pe(ft(ba),{key:0,size:ft(kt).Small,static:""},{footer:Xt(()=>[Rt(ft(Ge),{onClick:t},{default:Xt(()=>o[0]||(o[0]=[he("Restart")])),_:1}),Rt(ft(Ge),{onClick:h},{default:Xt(()=>o[1]||(o[1]=[he("Main Menu")])),_:1})]),default:Xt(()=>{var a,r;return[o[2]||(o[2]=wt("h1",null,"Game Over",-1)),wt("p",null,"Score: "+ie(ft(C)),1),(a=S.value)!=null&&a.hasDebugged?(gt(),Et("p",y4," You played with debug mode enabled. Hiscore will not be visible in the leaderboard. ")):Wt("",!0),(r=S.value)!=null&&r.score&&S.value.score<ft(Ot).hiscores.threshold?(gt(),Et("p",T4," You need a minimum score of "+ie(ft(Ot).hiscores.threshold)+" to make it into the leaderboard. ",1)):Wt("",!0)]}),_:1},8,["size"])):Wt("",!0)}}),S4=()=>{const p=bf(),e=rd(),{hiscores:m}=Ue(p),{profiles:C}=Ue(e),R=Lt(()=>m.value.map(M=>{const f=C.value.find(S=>S.id===M.userId);return{name:f==null?void 0:f.fullName,score:M.score,version:M.version}}).sort((M,f)=>f.score-M.score));return Tm(()=>{e.subscribeProfiles(),p.subscribeHiscores()}),In(()=>{p.unsubscribeHiscores(),e.unsubscribeProfiles()}),{hiscoresData:R}},C4=ne({__name:"Hiscores",setup(p){const{isHiscoresVisible:e}=Ue(Bf()),{hiscoresData:m}=S4();return(C,R)=>(gt(),Pe(ft(ba),{modelValue:ft(e),"onUpdate:modelValue":R[1]||(R[1]=M=>ae(e)?e.value=M:null),size:ft(kt).Large,customClass:"view-hiscores"},{default:Xt(()=>[Rt(ft(LR),{modelValue:ft(m),"onUpdate:modelValue":R[0]||(R[0]=M=>ae(m)?m.value=M:null),size:ft(kt).Small,gridTemplateColumns:"1fr 10rem 10rem",header:"sticky"},null,8,["modelValue","size"])]),_:1},8,["modelValue","size"]))}}),A4="/nyx-game/assets/logo-Bof7pWK0.png",P4={class:"main-menu"},R4={key:0},w4={key:1},M4=ne({__name:"MainMenu",setup(p){const e=nd(),{profile:m}=Ue(rd()),{toggleHiscores:C,toggleSettings:R}=Bf(),{setGameState:M}=di(),{loginWithGoogle:f,logout:S}=e,{isLoggedIn:t}=Ue(e);return(h,g)=>{var o;return gt(),Et("div",P4,[wt("header",null,ie((o=ft(m))==null?void 0:o.fullName),1),wt("section",null,[g[6]||(g[6]=wt("img",{src:A4},null,-1)),ft(t)?(gt(),Et("nav",R4,[Rt(ft(Ge),{class:"button-play",theme:ft(ce).Primary,size:ft(kt).XLarge,onClick:g[0]||(g[0]=a=>ft(M)(ft(ge).Playing))},{default:Xt(()=>g[1]||(g[1]=[he("Play")])),_:1},8,["theme","size"]),Rt(ft(Ge),{size:ft(kt).Small,onClick:ft(C)},{default:Xt(()=>g[2]||(g[2]=[he("Hiscores")])),_:1},8,["size","onClick"]),Rt(ft(Ge),{size:ft(kt).Small,onClick:ft(R)},{default:Xt(()=>g[3]||(g[3]=[he("Settings")])),_:1},8,["size","onClick"]),Rt(ft(Ge),{size:ft(kt).Small,onClick:ft(S)},{default:Xt(()=>g[4]||(g[4]=[he("Logout")])),_:1},8,["size","onClick"])])):(gt(),Et("nav",w4,[Rt(ft(Ge),{size:ft(kt).XLarge,onClick:ft(f)},{default:Xt(()=>g[5]||(g[5]=[he("Login")])),_:1},8,["size","onClick"])]))]),g[7]||(g[7]=wt("footer",null,null,-1))])}}}),I4=sd(M4,[["__scopeId","data-v-aa82df1a"]]),L4={key:0,class:"preloader"},F4={key:0,class:"interface"},O4={class:"version"},D4=ne({__name:"App",setup(p){const{currentVolume:e}=Ue(Vf()),{debug:m,isInMenu:C,isPreloading:R,preloadProgress:M}=Ue(di()),{setScreenSize:f}=OE(),{isSettingsVisible:S}=Ue(Bf()),{watchAuthState:t}=nd(),{hasDebugged:h}=Ue(bf()),g="0.0.30";return ni(m,o=>{o.isEnabled&&(h.value=!0)},{immediate:!0,deep:1}),Ps(async()=>{t();const o=JSON.parse(localStorage.getItem("settings")??"{}");e.value=o.currentVolume!==void 0?o.currentVolume:1,window.addEventListener("resize",f)}),In(async()=>{window.removeEventListener("resize",f)}),(o,a)=>(gt(),Et(de,null,[ft(R)?(gt(),Et("div",L4,[Rt(ft(Eu),{class:"preloader__progress",modelValue:ft(M),"onUpdate:modelValue":a[0]||(a[0]=r=>ae(M)?M.value=r:null),min:0,max:1,theme:ft(ce).Primary,size:ft(kt).XLarge},null,8,["modelValue","theme","size"])])):Wt("",!0),Rt(NT,{name:"fade"},{default:Xt(()=>[ft(C)?(gt(),Et("div",F4,[Rt(ft(I4),{class:"view"}),Rt(ft(ba),{modelValue:ft(S),"onUpdate:modelValue":a[1]||(a[1]=r=>ae(S)?S.value=r:null)},{default:Xt(()=>[Rt(ft(ey))]),_:1},8,["modelValue"]),Rt(ft(C4)),Rt(ft(Ip))])):Wt("",!0)]),_:1}),ft(m).isEnabled?(gt(),Pe(ft(u4),{key:1})):Wt("",!0),Rt(ft(Ip)),Rt(ft(p4)),Rt(ft(g4)),Rt(ft(E4)),wt("span",O4,ie(ft(g)),1)],64))}});uE(D4).use(cE()).use(TE,{pixel:!0}).mount("#app");const oi=new n4;
