var Py=Object.defineProperty;var Ry=(p,e,m)=>e in p?Py(p,e,{enumerable:!0,configurable:!0,writable:!0,value:m}):p[e]=m;var mt=(p,e,m)=>Ry(p,typeof e!="symbol"?e+"":e,m);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))C(R);new MutationObserver(R=>{for(const M of R)if(M.type==="childList")for(const d of M.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&C(d)}).observe(document,{childList:!0,subtree:!0});function m(R){const M={};return R.integrity&&(M.integrity=R.integrity),R.referrerPolicy&&(M.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?M.credentials="include":R.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function C(R){if(R.ep)return;R.ep=!0;const M=m(R);fetch(R.href,M)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Au(p){const e=Object.create(null);for(const m of p.split(","))e[m]=1;return m=>m in e}const te={},Jn=[],Hi=()=>{},wy=()=>!1,hh=p=>p.charCodeAt(0)===111&&p.charCodeAt(1)===110&&(p.charCodeAt(2)>122||p.charCodeAt(2)<97),Pu=p=>p.startsWith("onUpdate:"),Ie=Object.assign,Ru=(p,e)=>{const m=p.indexOf(e);m>-1&&p.splice(m,1)},My=Object.prototype.hasOwnProperty,ee=(p,e)=>My.call(p,e),wt=Array.isArray,kn=p=>Ca(p)==="[object Map]",vr=p=>Ca(p)==="[object Set]",Hd=p=>Ca(p)==="[object Date]",Gt=p=>typeof p=="function",Te=p=>typeof p=="string",Li=p=>typeof p=="symbol",le=p=>p!==null&&typeof p=="object",wp=p=>(le(p)||Gt(p))&&Gt(p.then)&&Gt(p.catch),Mp=Object.prototype.toString,Ca=p=>Mp.call(p),Iy=p=>Ca(p).slice(8,-1),Ip=p=>Ca(p)==="[object Object]",wu=p=>Te(p)&&p!=="NaN"&&p[0]!=="-"&&""+parseInt(p,10)===p,Kr=Au(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lh=p=>{const e=Object.create(null);return m=>e[m]||(e[m]=p(m))},Ly=/-(\w)/g,Fi=lh(p=>p.replace(Ly,(e,m)=>m?m.toUpperCase():"")),Fy=/\B([A-Z])/g,Es=lh(p=>p.replace(Fy,"-$1").toLowerCase()),Mu=lh(p=>p.charAt(0).toUpperCase()+p.slice(1)),al=lh(p=>p?`on${Mu(p)}`:""),oi=(p,e)=>!Object.is(p,e),co=(p,...e)=>{for(let m=0;m<p.length;m++)p[m](...e)},Lp=(p,e,m,C=!1)=>{Object.defineProperty(p,e,{configurable:!0,enumerable:!1,writable:C,value:m})},Io=p=>{const e=parseFloat(p);return isNaN(e)?p:e},Oy=p=>{const e=Te(p)?Number(p):NaN;return isNaN(e)?p:e};let Kd;const uh=()=>Kd||(Kd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $e(p){if(wt(p)){const e={};for(let m=0;m<p.length;m++){const C=p[m],R=Te(C)?By(C):$e(C);if(R)for(const M in R)e[M]=R[M]}return e}else if(Te(p)||le(p))return p}const Dy=/;(?![^(]*\))/g,Ny=/:([^]+)/,by=/\/\*[^]*?\*\//g;function By(p){const e={};return p.replace(by,"").split(Dy).forEach(m=>{if(m){const C=m.split(Ny);C.length>1&&(e[C[0].trim()]=C[1].trim())}}),e}function Zt(p){let e="";if(Te(p))e=p;else if(wt(p))for(let m=0;m<p.length;m++){const C=Zt(p[m]);C&&(e+=C+" ")}else if(le(p))for(const m in p)p[m]&&(e+=m+" ");return e.trim()}const Vy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gy=Au(Vy);function Fp(p){return!!p||p===""}function Uy(p,e){if(p.length!==e.length)return!1;let m=!0;for(let C=0;m&&C<p.length;C++)m=Sn(p[C],e[C]);return m}function Sn(p,e){if(p===e)return!0;let m=Hd(p),C=Hd(e);if(m||C)return m&&C?p.getTime()===e.getTime():!1;if(m=Li(p),C=Li(e),m||C)return p===e;if(m=wt(p),C=wt(e),m||C)return m&&C?Uy(p,e):!1;if(m=le(p),C=le(e),m||C){if(!m||!C)return!1;const R=Object.keys(p).length,M=Object.keys(e).length;if(R!==M)return!1;for(const d in p){const S=p.hasOwnProperty(d),t=e.hasOwnProperty(d);if(S&&!t||!S&&t||!Sn(p[d],e[d]))return!1}}return String(p)===String(e)}function Iu(p,e){return p.findIndex(m=>Sn(m,e))}const Op=p=>!!(p&&p.__v_isRef===!0),he=p=>Te(p)?p:p==null?"":wt(p)||le(p)&&(p.toString===Mp||!Gt(p.toString))?Op(p)?he(p.value):JSON.stringify(p,Dp,2):String(p),Dp=(p,e)=>Op(e)?Dp(p,e.value):kn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((m,[C,R],M)=>(m[ol(C,M)+" =>"]=R,m),{})}:vr(e)?{[`Set(${e.size})`]:[...e.values()].map(m=>ol(m))}:Li(e)?ol(e):le(e)&&!wt(e)&&!Ip(e)?String(e):e,ol=(p,e="")=>{var m;return Li(p)?`Symbol(${(m=p.description)!=null?m:e})`:p};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _e;class Np{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_e,!e&&_e&&(this.index=(_e.scopes||(_e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,m;if(this.scopes)for(e=0,m=this.scopes.length;e<m;e++)this.scopes[e].pause();for(e=0,m=this.effects.length;e<m;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,m;if(this.scopes)for(e=0,m=this.scopes.length;e<m;e++)this.scopes[e].resume();for(e=0,m=this.effects.length;e<m;e++)this.effects[e].resume()}}run(e){if(this._active){const m=_e;try{return _e=this,e()}finally{_e=m}}}on(){_e=this}off(){_e=this.parent}stop(e){if(this._active){this._active=!1;let m,C;for(m=0,C=this.effects.length;m<C;m++)this.effects[m].stop();for(this.effects.length=0,m=0,C=this.cleanups.length;m<C;m++)this.cleanups[m]();if(this.cleanups.length=0,this.scopes){for(m=0,C=this.scopes.length;m<C;m++)this.scopes[m].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const R=this.parent.scopes.pop();R&&R!==this&&(this.parent.scopes[this.index]=R,R.index=this.index)}this.parent=void 0}}}function bp(p){return new Np(p)}function Bp(){return _e}function zy(p,e=!1){_e&&_e.cleanups.push(p)}let fe;const hl=new WeakSet;class Vp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_e&&_e.active&&_e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hl.has(this)&&(hl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Up(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$d(this),zp(this);const e=fe,m=wi;fe=this,wi=!0;try{return this.fn()}finally{Xp(this),fe=e,wi=m,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ou(e);this.deps=this.depsTail=void 0,$d(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Bl(this)&&this.run()}get dirty(){return Bl(this)}}let Gp=0,$r,jr;function Up(p,e=!1){if(p.flags|=8,e){p.next=jr,jr=p;return}p.next=$r,$r=p}function Lu(){Gp++}function Fu(){if(--Gp>0)return;if(jr){let e=jr;for(jr=void 0;e;){const m=e.next;e.next=void 0,e.flags&=-9,e=m}}let p;for(;$r;){let e=$r;for($r=void 0;e;){const m=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(C){p||(p=C)}e=m}}if(p)throw p}function zp(p){for(let e=p.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Xp(p){let e,m=p.depsTail,C=m;for(;C;){const R=C.prevDep;C.version===-1?(C===m&&(m=R),Ou(C),Xy(C)):e=C,C.dep.activeLink=C.prevActiveLink,C.prevActiveLink=void 0,C=R}p.deps=e,p.depsTail=m}function Bl(p){for(let e=p.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Wp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!p._dirty}function Wp(p){if(p.flags&4&&!(p.flags&16)||(p.flags&=-17,p.globalVersion===aa))return;p.globalVersion=aa;const e=p.dep;if(p.flags|=2,e.version>0&&!p.isSSR&&p.deps&&!Bl(p)){p.flags&=-3;return}const m=fe,C=wi;fe=p,wi=!0;try{zp(p);const R=p.fn(p._value);(e.version===0||oi(R,p._value))&&(p._value=R,e.version++)}catch(R){throw e.version++,R}finally{fe=m,wi=C,Xp(p),p.flags&=-3}}function Ou(p,e=!1){const{dep:m,prevSub:C,nextSub:R}=p;if(C&&(C.nextSub=R,p.prevSub=void 0),R&&(R.prevSub=C,p.nextSub=void 0),m.subs===p&&(m.subs=C,!C&&m.computed)){m.computed.flags&=-5;for(let M=m.computed.deps;M;M=M.nextDep)Ou(M,!0)}!e&&!--m.sc&&m.map&&m.map.delete(m.key)}function Xy(p){const{prevDep:e,nextDep:m}=p;e&&(e.nextDep=m,p.prevDep=void 0),m&&(m.prevDep=e,p.nextDep=void 0)}let wi=!0;const Yp=[];function Zs(){Yp.push(wi),wi=!1}function qs(){const p=Yp.pop();wi=p===void 0?!0:p}function $d(p){const{cleanup:e}=p;if(p.cleanup=void 0,e){const m=fe;fe=void 0;try{e()}finally{fe=m}}}let aa=0;class Wy{constructor(e,m){this.sub=e,this.dep=m,this.version=m.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!fe||!wi||fe===this.computed)return;let m=this.activeLink;if(m===void 0||m.sub!==fe)m=this.activeLink=new Wy(fe,this),fe.deps?(m.prevDep=fe.depsTail,fe.depsTail.nextDep=m,fe.depsTail=m):fe.deps=fe.depsTail=m,Hp(m);else if(m.version===-1&&(m.version=this.version,m.nextDep)){const C=m.nextDep;C.prevDep=m.prevDep,m.prevDep&&(m.prevDep.nextDep=C),m.prevDep=fe.depsTail,m.nextDep=void 0,fe.depsTail.nextDep=m,fe.depsTail=m,fe.deps===m&&(fe.deps=C)}return m}trigger(e){this.version++,aa++,this.notify(e)}notify(e){Lu();try{for(let m=this.subs;m;m=m.prevSub)m.sub.notify()&&m.sub.dep.notify()}finally{Fu()}}}function Hp(p){if(p.dep.sc++,p.sub.flags&4){const e=p.dep.computed;if(e&&!p.dep.subs){e.flags|=20;for(let C=e.deps;C;C=C.nextDep)Hp(C)}const m=p.dep.subs;m!==p&&(p.prevSub=m,m&&(m.nextSub=p)),p.dep.subs=p}}const Lo=new WeakMap,xn=Symbol(""),Vl=Symbol(""),oa=Symbol("");function Ye(p,e,m){if(wi&&fe){let C=Lo.get(p);C||Lo.set(p,C=new Map);let R=C.get(m);R||(C.set(m,R=new fh),R.map=C,R.key=m),R.track()}}function rs(p,e,m,C,R,M){const d=Lo.get(p);if(!d){aa++;return}const S=t=>{t&&t.trigger()};if(Lu(),e==="clear")d.forEach(S);else{const t=wt(p),h=t&&wu(m);if(t&&m==="length"){const x=Number(C);d.forEach((o,a)=>{(a==="length"||a===oa||!Li(a)&&a>=x)&&S(o)})}else switch((m!==void 0||d.has(void 0))&&S(d.get(m)),h&&S(d.get(oa)),e){case"add":t?h&&S(d.get("length")):(S(d.get(xn)),kn(p)&&S(d.get(Vl)));break;case"delete":t||(S(d.get(xn)),kn(p)&&S(d.get(Vl)));break;case"set":kn(p)&&S(d.get(xn));break}}Fu()}function Yy(p,e){const m=Lo.get(p);return m&&m.get(e)}function Xn(p){const e=Ht(p);return e===p?e:(Ye(e,"iterate",oa),Ti(p)?e:e.map(He))}function dh(p){return Ye(p=Ht(p),"iterate",oa),p}const Hy={__proto__:null,[Symbol.iterator](){return ll(this,Symbol.iterator,He)},concat(...p){return Xn(this).concat(...p.map(e=>wt(e)?Xn(e):e))},entries(){return ll(this,"entries",p=>(p[1]=He(p[1]),p))},every(p,e){return is(this,"every",p,e,void 0,arguments)},filter(p,e){return is(this,"filter",p,e,m=>m.map(He),arguments)},find(p,e){return is(this,"find",p,e,He,arguments)},findIndex(p,e){return is(this,"findIndex",p,e,void 0,arguments)},findLast(p,e){return is(this,"findLast",p,e,He,arguments)},findLastIndex(p,e){return is(this,"findLastIndex",p,e,void 0,arguments)},forEach(p,e){return is(this,"forEach",p,e,void 0,arguments)},includes(...p){return ul(this,"includes",p)},indexOf(...p){return ul(this,"indexOf",p)},join(p){return Xn(this).join(p)},lastIndexOf(...p){return ul(this,"lastIndexOf",p)},map(p,e){return is(this,"map",p,e,void 0,arguments)},pop(){return Br(this,"pop")},push(...p){return Br(this,"push",p)},reduce(p,...e){return jd(this,"reduce",p,e)},reduceRight(p,...e){return jd(this,"reduceRight",p,e)},shift(){return Br(this,"shift")},some(p,e){return is(this,"some",p,e,void 0,arguments)},splice(...p){return Br(this,"splice",p)},toReversed(){return Xn(this).toReversed()},toSorted(p){return Xn(this).toSorted(p)},toSpliced(...p){return Xn(this).toSpliced(...p)},unshift(...p){return Br(this,"unshift",p)},values(){return ll(this,"values",He)}};function ll(p,e,m){const C=dh(p),R=C[e]();return C!==p&&!Ti(p)&&(R._next=R.next,R.next=()=>{const M=R._next();return M.value&&(M.value=m(M.value)),M}),R}const Ky=Array.prototype;function is(p,e,m,C,R,M){const d=dh(p),S=d!==p&&!Ti(p),t=d[e];if(t!==Ky[e]){const o=t.apply(p,M);return S?He(o):o}let h=m;d!==p&&(S?h=function(o,a){return m.call(this,He(o),a,p)}:m.length>2&&(h=function(o,a){return m.call(this,o,a,p)}));const x=t.call(d,h,C);return S&&R?R(x):x}function jd(p,e,m,C){const R=dh(p);let M=m;return R!==p&&(Ti(p)?m.length>3&&(M=function(d,S,t){return m.call(this,d,S,t,p)}):M=function(d,S,t){return m.call(this,d,He(S),t,p)}),R[e](M,...C)}function ul(p,e,m){const C=Ht(p);Ye(C,"iterate",oa);const R=C[e](...m);return(R===-1||R===!1)&&bu(m[0])?(m[0]=Ht(m[0]),C[e](...m)):R}function Br(p,e,m=[]){Zs(),Lu();const C=Ht(p)[e].apply(p,m);return Fu(),qs(),C}const $y=Au("__proto__,__v_isRef,__isVue"),Kp=new Set(Object.getOwnPropertyNames(Symbol).filter(p=>p!=="arguments"&&p!=="caller").map(p=>Symbol[p]).filter(Li));function jy(p){Li(p)||(p=String(p));const e=Ht(this);return Ye(e,"has",p),e.hasOwnProperty(p)}class $p{constructor(e=!1,m=!1){this._isReadonly=e,this._isShallow=m}get(e,m,C){if(m==="__v_skip")return e.__v_skip;const R=this._isReadonly,M=this._isShallow;if(m==="__v_isReactive")return!R;if(m==="__v_isReadonly")return R;if(m==="__v_isShallow")return M;if(m==="__v_raw")return C===(R?M?s1:kp:M?Jp:Qp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(C)?e:void 0;const d=wt(e);if(!R){let t;if(d&&(t=Hy[m]))return t;if(m==="hasOwnProperty")return jy}const S=Reflect.get(e,m,ie(e)?e:C);return(Li(m)?Kp.has(m):$y(m))||(R||Ye(e,"get",m),M)?S:ie(S)?d&&wu(m)?S:S.value:le(S)?R?Zp(S):ch(S):S}}class jp extends $p{constructor(e=!1){super(!1,e)}set(e,m,C,R){let M=e[m];if(!this._isShallow){const t=Cn(M);if(!Ti(C)&&!Cn(C)&&(M=Ht(M),C=Ht(C)),!wt(e)&&ie(M)&&!ie(C))return t?!1:(M.value=C,!0)}const d=wt(e)&&wu(m)?Number(m)<e.length:ee(e,m),S=Reflect.set(e,m,C,ie(e)?e:R);return e===Ht(R)&&(d?oi(C,M)&&rs(e,"set",m,C):rs(e,"add",m,C)),S}deleteProperty(e,m){const C=ee(e,m);e[m];const R=Reflect.deleteProperty(e,m);return R&&C&&rs(e,"delete",m,void 0),R}has(e,m){const C=Reflect.has(e,m);return(!Li(m)||!Kp.has(m))&&Ye(e,"has",m),C}ownKeys(e){return Ye(e,"iterate",wt(e)?"length":xn),Reflect.ownKeys(e)}}class Qy extends $p{constructor(e=!1){super(!0,e)}set(e,m){return!0}deleteProperty(e,m){return!0}}const Jy=new jp,ky=new Qy,Zy=new jp(!0);const Gl=p=>p,_a=p=>Reflect.getPrototypeOf(p);function qy(p,e,m){return function(...C){const R=this.__v_raw,M=Ht(R),d=kn(M),S=p==="entries"||p===Symbol.iterator&&d,t=p==="keys"&&d,h=R[p](...C),x=m?Gl:e?Ul:He;return!e&&Ye(M,"iterate",t?Vl:xn),{next(){const{value:o,done:a}=h.next();return a?{value:o,done:a}:{value:S?[x(o[0]),x(o[1])]:x(o),done:a}},[Symbol.iterator](){return this}}}}function to(p){return function(...e){return p==="delete"?!1:p==="clear"?void 0:this}}function _y(p,e){const m={get(R){const M=this.__v_raw,d=Ht(M),S=Ht(R);p||(oi(R,S)&&Ye(d,"get",R),Ye(d,"get",S));const{has:t}=_a(d),h=e?Gl:p?Ul:He;if(t.call(d,R))return h(M.get(R));if(t.call(d,S))return h(M.get(S));M!==d&&M.get(R)},get size(){const R=this.__v_raw;return!p&&Ye(Ht(R),"iterate",xn),Reflect.get(R,"size",R)},has(R){const M=this.__v_raw,d=Ht(M),S=Ht(R);return p||(oi(R,S)&&Ye(d,"has",R),Ye(d,"has",S)),R===S?M.has(R):M.has(R)||M.has(S)},forEach(R,M){const d=this,S=d.__v_raw,t=Ht(S),h=e?Gl:p?Ul:He;return!p&&Ye(t,"iterate",xn),S.forEach((x,o)=>R.call(M,h(x),h(o),d))}};return Ie(m,p?{add:to("add"),set:to("set"),delete:to("delete"),clear:to("clear")}:{add(R){!e&&!Ti(R)&&!Cn(R)&&(R=Ht(R));const M=Ht(this);return _a(M).has.call(M,R)||(M.add(R),rs(M,"add",R,R)),this},set(R,M){!e&&!Ti(M)&&!Cn(M)&&(M=Ht(M));const d=Ht(this),{has:S,get:t}=_a(d);let h=S.call(d,R);h||(R=Ht(R),h=S.call(d,R));const x=t.call(d,R);return d.set(R,M),h?oi(M,x)&&rs(d,"set",R,M):rs(d,"add",R,M),this},delete(R){const M=Ht(this),{has:d,get:S}=_a(M);let t=d.call(M,R);t||(R=Ht(R),t=d.call(M,R)),S&&S.call(M,R);const h=M.delete(R);return t&&rs(M,"delete",R,void 0),h},clear(){const R=Ht(this),M=R.size!==0,d=R.clear();return M&&rs(R,"clear",void 0,void 0),d}}),["keys","values","entries",Symbol.iterator].forEach(R=>{m[R]=qy(R,p,e)}),m}function Du(p,e){const m=_y(p,e);return(C,R,M)=>R==="__v_isReactive"?!p:R==="__v_isReadonly"?p:R==="__v_raw"?C:Reflect.get(ee(m,R)&&R in C?m:C,R,M)}const t1={get:Du(!1,!1)},e1={get:Du(!1,!0)},i1={get:Du(!0,!1)};const Qp=new WeakMap,Jp=new WeakMap,kp=new WeakMap,s1=new WeakMap;function n1(p){switch(p){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function r1(p){return p.__v_skip||!Object.isExtensible(p)?0:n1(Iy(p))}function ch(p){return Cn(p)?p:Nu(p,!1,Jy,t1,Qp)}function a1(p){return Nu(p,!1,Zy,e1,Jp)}function Zp(p){return Nu(p,!0,ky,i1,kp)}function Nu(p,e,m,C,R){if(!le(p)||p.__v_raw&&!(e&&p.__v_isReactive))return p;const M=R.get(p);if(M)return M;const d=r1(p);if(d===0)return p;const S=new Proxy(p,d===2?C:m);return R.set(p,S),S}function vs(p){return Cn(p)?vs(p.__v_raw):!!(p&&p.__v_isReactive)}function Cn(p){return!!(p&&p.__v_isReadonly)}function Ti(p){return!!(p&&p.__v_isShallow)}function bu(p){return p?!!p.__v_raw:!1}function Ht(p){const e=p&&p.__v_raw;return e?Ht(e):p}function Bu(p){return!ee(p,"__v_skip")&&Object.isExtensible(p)&&Lp(p,"__v_skip",!0),p}const He=p=>le(p)?ch(p):p,Ul=p=>le(p)?Zp(p):p;function ie(p){return p?p.__v_isRef===!0:!1}function zt(p){return qp(p,!1)}function o1(p){return qp(p,!0)}function qp(p,e){return ie(p)?p:new h1(p,e)}class h1{constructor(e,m){this.dep=new fh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=m?e:Ht(e),this._value=m?e:He(e),this.__v_isShallow=m}get value(){return this.dep.track(),this._value}set value(e){const m=this._rawValue,C=this.__v_isShallow||Ti(e)||Cn(e);e=C?e:Ht(e),oi(e,m)&&(this._rawValue=e,this._value=C?e:He(e),this.dep.trigger())}}function ft(p){return ie(p)?p.value:p}const l1={get:(p,e,m)=>e==="__v_raw"?p:ft(Reflect.get(p,e,m)),set:(p,e,m,C)=>{const R=p[e];return ie(R)&&!ie(m)?(R.value=m,!0):Reflect.set(p,e,m,C)}};function _p(p){return vs(p)?p:new Proxy(p,l1)}class u1{constructor(e){this.__v_isRef=!0,this._value=void 0;const m=this.dep=new fh,{get:C,set:R}=e(m.track.bind(m),m.trigger.bind(m));this._get=C,this._set=R}get value(){return this._value=this._get()}set value(e){this._set(e)}}function f1(p){return new u1(p)}function d1(p){const e=wt(p)?new Array(p.length):{};for(const m in p)e[m]=tm(p,m);return e}class c1{constructor(e,m,C){this._object=e,this._key=m,this._defaultValue=C,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Yy(Ht(this._object),this._key)}}class v1{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function p1(p,e,m){return ie(p)?p:Gt(p)?new v1(p):le(p)&&arguments.length>1?tm(p,e,m):zt(p)}function tm(p,e,m){const C=p[e];return ie(C)?C:new c1(p,e,m)}class m1{constructor(e,m,C){this.fn=e,this.setter=m,this._value=void 0,this.dep=new fh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=aa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!m,this.isSSR=C}notify(){if(this.flags|=16,!(this.flags&8)&&fe!==this)return Up(this,!0),!0}get value(){const e=this.dep.track();return Wp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function g1(p,e,m=!1){let C,R;return Gt(p)?C=p:(C=p.get,R=p.set),new m1(C,R,m)}const eo={},Fo=new WeakMap;let dn;function x1(p,e=!1,m=dn){if(m){let C=Fo.get(m);C||Fo.set(m,C=[]),C.push(p)}}function y1(p,e,m=te){const{immediate:C,deep:R,once:M,scheduler:d,augmentJob:S,call:t}=m,h=c=>R?c:Ti(c)||R===!1||R===0?as(c,1):as(c);let x,o,a,r,i=!1,n=!1;if(ie(p)?(o=()=>p.value,i=Ti(p)):vs(p)?(o=()=>h(p),i=!0):wt(p)?(n=!0,i=p.some(c=>vs(c)||Ti(c)),o=()=>p.map(c=>{if(ie(c))return c.value;if(vs(c))return h(c);if(Gt(c))return t?t(c,2):c()})):Gt(p)?e?o=t?()=>t(p,2):p:o=()=>{if(a){Zs();try{a()}finally{qs()}}const c=dn;dn=x;try{return t?t(p,3,[r]):p(r)}finally{dn=c}}:o=Hi,e&&R){const c=o,v=R===!0?1/0:R;o=()=>as(c(),v)}const l=Bp(),s=()=>{x.stop(),l&&l.active&&Ru(l.effects,x)};if(M&&e){const c=e;e=(...v)=>{c(...v),s()}}let u=n?new Array(p.length).fill(eo):eo;const f=c=>{if(!(!(x.flags&1)||!x.dirty&&!c))if(e){const v=x.run();if(R||i||(n?v.some((g,y)=>oi(g,u[y])):oi(v,u))){a&&a();const g=dn;dn=x;try{const y=[v,u===eo?void 0:n&&u[0]===eo?[]:u,r];t?t(e,3,y):e(...y),u=v}finally{dn=g}}}else x.run()};return S&&S(f),x=new Vp(o),x.scheduler=d?()=>d(f,!1):f,r=c=>x1(c,!1,x),a=x.onStop=()=>{const c=Fo.get(x);if(c){if(t)t(c,4);else for(const v of c)v();Fo.delete(x)}},e?C?f(!0):u=x.run():d?d(f.bind(null,!0),!0):x.run(),s.pause=x.pause.bind(x),s.resume=x.resume.bind(x),s.stop=s,s}function as(p,e=1/0,m){if(e<=0||!le(p)||p.__v_skip||(m=m||new Set,m.has(p)))return p;if(m.add(p),e--,ie(p))as(p.value,e,m);else if(wt(p))for(let C=0;C<p.length;C++)as(p[C],e,m);else if(vr(p)||kn(p))p.forEach(C=>{as(C,e,m)});else if(Ip(p)){for(const C in p)as(p[C],e,m);for(const C of Object.getOwnPropertySymbols(p))Object.prototype.propertyIsEnumerable.call(p,C)&&as(p[C],e,m)}return p}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Aa(p,e,m,C){try{return C?p(...C):p()}catch(R){vh(R,e,m)}}function Oi(p,e,m,C){if(Gt(p)){const R=Aa(p,e,m,C);return R&&wp(R)&&R.catch(M=>{vh(M,e,m)}),R}if(wt(p)){const R=[];for(let M=0;M<p.length;M++)R.push(Oi(p[M],e,m,C));return R}}function vh(p,e,m,C=!0){const R=e?e.vnode:null,{errorHandler:M,throwUnhandledErrorInProduction:d}=e&&e.appContext.config||te;if(e){let S=e.parent;const t=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${m}`;for(;S;){const x=S.ec;if(x){for(let o=0;o<x.length;o++)if(x[o](p,t,h)===!1)return}S=S.parent}if(M){Zs(),Aa(M,null,10,[p,t,h]),qs();return}}T1(p,m,R,C,d)}function T1(p,e,m,C=!0,R=!1){if(R)throw p;console.error(p)}const ei=[];let zi=-1;const Zn=[];let Fs=null,Yn=0;const em=Promise.resolve();let Oo=null;function Vu(p){const e=Oo||em;return p?e.then(this?p.bind(this):p):e}function E1(p){let e=zi+1,m=ei.length;for(;e<m;){const C=e+m>>>1,R=ei[C],M=ha(R);M<p||M===p&&R.flags&2?e=C+1:m=C}return e}function Gu(p){if(!(p.flags&1)){const e=ha(p),m=ei[ei.length-1];!m||!(p.flags&2)&&e>=ha(m)?ei.push(p):ei.splice(E1(e),0,p),p.flags|=1,im()}}function im(){Oo||(Oo=em.then(nm))}function S1(p){wt(p)?Zn.push(...p):Fs&&p.id===-1?Fs.splice(Yn+1,0,p):p.flags&1||(Zn.push(p),p.flags|=1),im()}function Qd(p,e,m=zi+1){for(;m<ei.length;m++){const C=ei[m];if(C&&C.flags&2){if(p&&C.id!==p.uid)continue;ei.splice(m,1),m--,C.flags&4&&(C.flags&=-2),C(),C.flags&4||(C.flags&=-2)}}}function sm(p){if(Zn.length){const e=[...new Set(Zn)].sort((m,C)=>ha(m)-ha(C));if(Zn.length=0,Fs){Fs.push(...e);return}for(Fs=e,Yn=0;Yn<Fs.length;Yn++){const m=Fs[Yn];m.flags&4&&(m.flags&=-2),m.flags&8||m(),m.flags&=-2}Fs=null,Yn=0}}const ha=p=>p.id==null?p.flags&2?-1:1/0:p.id;function nm(p){try{for(zi=0;zi<ei.length;zi++){const e=ei[zi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Aa(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;zi<ei.length;zi++){const e=ei[zi];e&&(e.flags&=-2)}zi=-1,ei.length=0,sm(),Oo=null,(ei.length||Zn.length)&&nm()}}let Re=null,rm=null;function Do(p){const e=Re;return Re=p,rm=p&&p.type.__scopeId||null,e}function Xt(p,e=Re,m){if(!e||p._n)return p;const C=(...R)=>{C._d&&oc(-1);const M=Do(e);let d;try{d=p(...R)}finally{Do(M),C._d&&oc(1)}return d};return C._n=!0,C._c=!0,C._d=!0,C}function Ki(p,e){if(Re===null)return p;const m=Eh(Re),C=p.dirs||(p.dirs=[]);for(let R=0;R<e.length;R++){let[M,d,S,t=te]=e[R];M&&(Gt(M)&&(M={mounted:M,updated:M}),M.deep&&as(d),C.push({dir:M,instance:m,value:d,oldValue:void 0,arg:S,modifiers:t}))}return p}function hn(p,e,m,C){const R=p.dirs,M=e&&e.dirs;for(let d=0;d<R.length;d++){const S=R[d];M&&(S.oldValue=M[d].value);let t=S.dir[C];t&&(Zs(),Oi(t,m,8,[p.el,S,p,e]),qs())}}const am=Symbol("_vte"),om=p=>p.__isTeleport,Qr=p=>p&&(p.disabled||p.disabled===""),Jd=p=>p&&(p.defer||p.defer===""),kd=p=>typeof SVGElement<"u"&&p instanceof SVGElement,Zd=p=>typeof MathMLElement=="function"&&p instanceof MathMLElement,zl=(p,e)=>{const m=p&&p.to;return Te(m)?e?e(m):null:m},hm={name:"Teleport",__isTeleport:!0,process(p,e,m,C,R,M,d,S,t,h){const{mc:x,pc:o,pbc:a,o:{insert:r,querySelector:i,createText:n,createComment:l}}=h,s=Qr(e.props);let{shapeFlag:u,children:f,dynamicChildren:c}=e;if(p==null){const v=e.el=n(""),g=e.anchor=n("");r(v,m,C),r(g,m,C);const y=(E,A)=>{u&16&&(R&&R.isCE&&(R.ce._teleportTarget=E),x(f,E,A,R,M,d,S,t))},T=()=>{const E=e.target=zl(e.props,i),A=lm(E,e,n,r);E&&(d!=="svg"&&kd(E)?d="svg":d!=="mathml"&&Zd(E)&&(d="mathml"),s||(y(E,A),vo(e,!1)))};s&&(y(m,g),vo(e,!0)),Jd(e.props)?qe(()=>{T(),e.el.__isMounted=!0},M):T()}else{if(Jd(e.props)&&!p.el.__isMounted){qe(()=>{hm.process(p,e,m,C,R,M,d,S,t,h),delete p.el.__isMounted},M);return}e.el=p.el,e.targetStart=p.targetStart;const v=e.anchor=p.anchor,g=e.target=p.target,y=e.targetAnchor=p.targetAnchor,T=Qr(p.props),E=T?m:g,A=T?v:y;if(d==="svg"||kd(g)?d="svg":(d==="mathml"||Zd(g))&&(d="mathml"),c?(a(p.dynamicChildren,c,E,R,M,d,S),zu(p,e,!0)):t||o(p,e,E,A,R,M,d,S,!1),s)T?e.props&&p.props&&e.props.to!==p.props.to&&(e.props.to=p.props.to):io(e,m,v,h,1);else if((e.props&&e.props.to)!==(p.props&&p.props.to)){const P=e.target=zl(e.props,i);P&&io(e,P,null,h,0)}else T&&io(e,g,y,h,1);vo(e,s)}},remove(p,e,m,{um:C,o:{remove:R}},M){const{shapeFlag:d,children:S,anchor:t,targetStart:h,targetAnchor:x,target:o,props:a}=p;if(o&&(R(h),R(x)),M&&R(t),d&16){const r=M||!Qr(a);for(let i=0;i<S.length;i++){const n=S[i];C(n,e,m,r,!!n.dynamicChildren)}}},move:io,hydrate:C1};function io(p,e,m,{o:{insert:C},m:R},M=2){M===0&&C(p.targetAnchor,e,m);const{el:d,anchor:S,shapeFlag:t,children:h,props:x}=p,o=M===2;if(o&&C(d,e,m),(!o||Qr(x))&&t&16)for(let a=0;a<h.length;a++)R(h[a],e,m,2);o&&C(S,e,m)}function C1(p,e,m,C,R,M,{o:{nextSibling:d,parentNode:S,querySelector:t,insert:h,createText:x}},o){const a=e.target=zl(e.props,t);if(a){const r=Qr(e.props),i=a._lpa||a.firstChild;if(e.shapeFlag&16)if(r)e.anchor=o(d(p),e,S(p),m,C,R,M),e.targetStart=i,e.targetAnchor=i&&d(i);else{e.anchor=d(p);let n=i;for(;n;){if(n&&n.nodeType===8){if(n.data==="teleport start anchor")e.targetStart=n;else if(n.data==="teleport anchor"){e.targetAnchor=n,a._lpa=e.targetAnchor&&d(e.targetAnchor);break}}n=d(n)}e.targetAnchor||lm(a,e,x,h),o(i&&d(i),e,a,m,C,R,M)}vo(e,r)}return e.anchor&&d(e.anchor)}const ph=hm;function vo(p,e){const m=p.ctx;if(m&&m.ut){let C,R;for(e?(C=p.el,R=p.anchor):(C=p.targetStart,R=p.targetAnchor);C&&C!==R;)C.nodeType===1&&C.setAttribute("data-v-owner",m.uid),C=C.nextSibling;m.ut()}}function lm(p,e,m,C){const R=e.targetStart=m(""),M=e.targetAnchor=m("");return R[am]=M,p&&(C(R,p),C(M,p)),M}const Os=Symbol("_leaveCb"),so=Symbol("_enterCb");function A1(){const p={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cs(()=>{p.isMounted=!0}),In(()=>{p.isUnmounting=!0}),p}const xi=[Function,Array],um={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xi,onEnter:xi,onAfterEnter:xi,onEnterCancelled:xi,onBeforeLeave:xi,onLeave:xi,onAfterLeave:xi,onLeaveCancelled:xi,onBeforeAppear:xi,onAppear:xi,onAfterAppear:xi,onAppearCancelled:xi},fm=p=>{const e=p.subTree;return e.component?fm(e.component):e},P1={name:"BaseTransition",props:um,setup(p,{slots:e}){const m=Th(),C=A1();return()=>{const R=e.default&&vm(e.default(),!0);if(!R||!R.length)return;const M=dm(R),d=Ht(p),{mode:S}=d;if(C.isLeaving)return fl(M);const t=qd(M);if(!t)return fl(M);let h=Xl(t,d,C,m,o=>h=o);t.type!==ii&&la(t,h);let x=m.subTree&&qd(m.subTree);if(x&&x.type!==ii&&!vn(t,x)&&fm(m).type!==ii){let o=Xl(x,d,C,m);if(la(x,o),S==="out-in"&&t.type!==ii)return C.isLeaving=!0,o.afterLeave=()=>{C.isLeaving=!1,m.job.flags&8||m.update(),delete o.afterLeave,x=void 0},fl(M);S==="in-out"&&t.type!==ii?o.delayLeave=(a,r,i)=>{const n=cm(C,x);n[String(x.key)]=x,a[Os]=()=>{r(),a[Os]=void 0,delete h.delayedLeave,x=void 0},h.delayedLeave=()=>{i(),delete h.delayedLeave,x=void 0}}:x=void 0}else x&&(x=void 0);return M}}};function dm(p){let e=p[0];if(p.length>1){for(const m of p)if(m.type!==ii){e=m;break}}return e}const R1=P1;function cm(p,e){const{leavingVNodes:m}=p;let C=m.get(e.type);return C||(C=Object.create(null),m.set(e.type,C)),C}function Xl(p,e,m,C,R){const{appear:M,mode:d,persisted:S=!1,onBeforeEnter:t,onEnter:h,onAfterEnter:x,onEnterCancelled:o,onBeforeLeave:a,onLeave:r,onAfterLeave:i,onLeaveCancelled:n,onBeforeAppear:l,onAppear:s,onAfterAppear:u,onAppearCancelled:f}=e,c=String(p.key),v=cm(m,p),g=(E,A)=>{E&&Oi(E,C,9,A)},y=(E,A)=>{const P=A[1];g(E,A),wt(E)?E.every(w=>w.length<=1)&&P():E.length<=1&&P()},T={mode:d,persisted:S,beforeEnter(E){let A=t;if(!m.isMounted)if(M)A=l||t;else return;E[Os]&&E[Os](!0);const P=v[c];P&&vn(p,P)&&P.el[Os]&&P.el[Os](),g(A,[E])},enter(E){let A=h,P=x,w=o;if(!m.isMounted)if(M)A=s||h,P=u||x,w=f||o;else return;let I=!1;const O=E[so]=F=>{I||(I=!0,F?g(w,[E]):g(P,[E]),T.delayedLeave&&T.delayedLeave(),E[so]=void 0)};A?y(A,[E,O]):O()},leave(E,A){const P=String(p.key);if(E[so]&&E[so](!0),m.isUnmounting)return A();g(a,[E]);let w=!1;const I=E[Os]=O=>{w||(w=!0,A(),O?g(n,[E]):g(i,[E]),E[Os]=void 0,v[P]===p&&delete v[P])};v[P]=p,r?y(r,[E,I]):I()},clone(E){const A=Xl(E,e,m,C,R);return R&&R(A),A}};return T}function fl(p){if(mh(p))return p=Ws(p),p.children=null,p}function qd(p){if(!mh(p))return om(p.type)&&p.children?dm(p.children):p;const{shapeFlag:e,children:m}=p;if(m){if(e&16)return m[0];if(e&32&&Gt(m.default))return m.default()}}function la(p,e){p.shapeFlag&6&&p.component?(p.transition=e,la(p.component.subTree,e)):p.shapeFlag&128?(p.ssContent.transition=e.clone(p.ssContent),p.ssFallback.transition=e.clone(p.ssFallback)):p.transition=e}function vm(p,e=!1,m){let C=[],R=0;for(let M=0;M<p.length;M++){let d=p[M];const S=m==null?d.key:String(m)+String(d.key!=null?d.key:M);d.type===de?(d.patchFlag&128&&R++,C=C.concat(vm(d.children,e,S))):(e||d.type!==ii)&&C.push(S!=null?Ws(d,{key:S}):d)}if(R>1)for(let M=0;M<C.length;M++)C[M].patchFlag=-2;return C}/*! #__NO_SIDE_EFFECTS__ */function ne(p,e){return Gt(p)?Ie({name:p.name},e,{setup:p}):p}function pm(p){p.ids=[p.ids[0]+p.ids[2]+++"-",0,0]}function yn(p){const e=Th(),m=o1(null);if(e){const R=e.refs===te?e.refs={}:e.refs;Object.defineProperty(R,p,{enumerable:!0,get:()=>m.value,set:M=>m.value=M})}return m}function No(p,e,m,C,R=!1){if(wt(p)){p.forEach((i,n)=>No(i,e&&(wt(e)?e[n]:e),m,C,R));return}if(qn(C)&&!R){C.shapeFlag&512&&C.type.__asyncResolved&&C.component.subTree.component&&No(p,e,m,C.component.subTree);return}const M=C.shapeFlag&4?Eh(C.component):C.el,d=R?null:M,{i:S,r:t}=p,h=e&&e.r,x=S.refs===te?S.refs={}:S.refs,o=S.setupState,a=Ht(o),r=o===te?()=>!1:i=>ee(a,i);if(h!=null&&h!==t&&(Te(h)?(x[h]=null,r(h)&&(o[h]=null)):ie(h)&&(h.value=null)),Gt(t))Aa(t,S,12,[d,x]);else{const i=Te(t),n=ie(t);if(i||n){const l=()=>{if(p.f){const s=i?r(t)?o[t]:x[t]:t.value;R?wt(s)&&Ru(s,M):wt(s)?s.includes(M)||s.push(M):i?(x[t]=[M],r(t)&&(o[t]=x[t])):(t.value=[M],p.k&&(x[p.k]=t.value))}else i?(x[t]=d,r(t)&&(o[t]=d)):n&&(t.value=d,p.k&&(x[p.k]=d))};d?(l.id=-1,qe(l,m)):l()}}}uh().requestIdleCallback;uh().cancelIdleCallback;const qn=p=>!!p.type.__asyncLoader,mh=p=>p.type.__isKeepAlive;function w1(p,e){mm(p,"a",e)}function M1(p,e){mm(p,"da",e)}function mm(p,e,m=Oe){const C=p.__wdc||(p.__wdc=()=>{let R=m;for(;R;){if(R.isDeactivated)return;R=R.parent}return p()});if(gh(e,C,m),m){let R=m.parent;for(;R&&R.parent;)mh(R.parent.vnode)&&I1(C,e,m,R),R=R.parent}}function I1(p,e,m,C){const R=gh(e,p,C,!0);Ln(()=>{Ru(C[e],R)},m)}function gh(p,e,m=Oe,C=!1){if(m){const R=m[p]||(m[p]=[]),M=e.__weh||(e.__weh=(...d)=>{Zs();const S=Pa(m),t=Oi(e,m,p,d);return S(),qs(),t});return C?R.unshift(M):R.push(M),M}}const Ss=p=>(e,m=Oe)=>{(!da||p==="sp")&&gh(p,(...C)=>e(...C),m)},gm=Ss("bm"),Cs=Ss("m"),L1=Ss("bu"),F1=Ss("u"),In=Ss("bum"),Ln=Ss("um"),O1=Ss("sp"),D1=Ss("rtg"),N1=Ss("rtc");function b1(p,e=Oe){gh("ec",p,e)}const B1="directives",V1=Symbol.for("v-ndc");function xm(p){return G1(B1,p)}function G1(p,e,m=!0,C=!1){const R=Re||Oe;if(R){const M=R.type,d=_d(R[p]||M[p],e)||_d(R.appContext[p],e);return!d&&C?M:d}}function _d(p,e){return p&&(p[e]||p[Fi(e)]||p[Mu(Fi(e))])}function $i(p,e,m,C){let R;const M=m,d=wt(p);if(d||Te(p)){const S=d&&vs(p);let t=!1;S&&(t=!Ti(p),p=dh(p)),R=new Array(p.length);for(let h=0,x=p.length;h<x;h++)R[h]=e(t?He(p[h]):p[h],h,void 0,M)}else if(typeof p=="number"){R=new Array(p);for(let S=0;S<p;S++)R[S]=e(S+1,S,void 0,M)}else if(le(p))if(p[Symbol.iterator])R=Array.from(p,(S,t)=>e(S,t,void 0,M));else{const S=Object.keys(p);R=new Array(S.length);for(let t=0,h=S.length;t<h;t++){const x=S[t];R[t]=e(p[x],x,t,M)}}else R=[];return R}function me(p,e,m={},C,R){if(Re.ce||Re.parent&&qn(Re.parent)&&Re.parent.ce)return e!=="default"&&(m.name=e),gt(),Pe(de,null,[Rt("slot",m,C&&C())],64);let M=p[e];M&&M._c&&(M._d=!1),gt();const d=M&&ym(M(m)),S=m.key||d&&d.key,t=Pe(de,{key:(S&&!Li(S)?S:`_${e}`)+(!d&&C?"_fb":"")},d||(C?C():[]),d&&p._===1?64:-2);return t.scopeId&&(t.slotScopeIds=[t.scopeId+"-s"]),M&&M._c&&(M._d=!0),t}function ym(p){return p.some(e=>fa(e)?!(e.type===ii||e.type===de&&!ym(e.children)):!0)?p:null}const Wl=p=>p?Um(p)?Eh(p):Wl(p.parent):null,Jr=Ie(Object.create(null),{$:p=>p,$el:p=>p.vnode.el,$data:p=>p.data,$props:p=>p.props,$attrs:p=>p.attrs,$slots:p=>p.slots,$refs:p=>p.refs,$parent:p=>Wl(p.parent),$root:p=>Wl(p.root),$host:p=>p.ce,$emit:p=>p.emit,$options:p=>Em(p),$forceUpdate:p=>p.f||(p.f=()=>{Gu(p.update)}),$nextTick:p=>p.n||(p.n=Vu.bind(p.proxy)),$watch:p=>lT.bind(p)}),dl=(p,e)=>p!==te&&!p.__isScriptSetup&&ee(p,e),U1={get({_:p},e){if(e==="__v_skip")return!0;const{ctx:m,setupState:C,data:R,props:M,accessCache:d,type:S,appContext:t}=p;let h;if(e[0]!=="$"){const r=d[e];if(r!==void 0)switch(r){case 1:return C[e];case 2:return R[e];case 4:return m[e];case 3:return M[e]}else{if(dl(C,e))return d[e]=1,C[e];if(R!==te&&ee(R,e))return d[e]=2,R[e];if((h=p.propsOptions[0])&&ee(h,e))return d[e]=3,M[e];if(m!==te&&ee(m,e))return d[e]=4,m[e];Yl&&(d[e]=0)}}const x=Jr[e];let o,a;if(x)return e==="$attrs"&&Ye(p.attrs,"get",""),x(p);if((o=S.__cssModules)&&(o=o[e]))return o;if(m!==te&&ee(m,e))return d[e]=4,m[e];if(a=t.config.globalProperties,ee(a,e))return a[e]},set({_:p},e,m){const{data:C,setupState:R,ctx:M}=p;return dl(R,e)?(R[e]=m,!0):C!==te&&ee(C,e)?(C[e]=m,!0):ee(p.props,e)||e[0]==="$"&&e.slice(1)in p?!1:(M[e]=m,!0)},has({_:{data:p,setupState:e,accessCache:m,ctx:C,appContext:R,propsOptions:M}},d){let S;return!!m[d]||p!==te&&ee(p,d)||dl(e,d)||(S=M[0])&&ee(S,d)||ee(C,d)||ee(Jr,d)||ee(R.config.globalProperties,d)},defineProperty(p,e,m){return m.get!=null?p._.accessCache[e]=0:ee(m,"value")&&this.set(p,e,m.value,null),Reflect.defineProperty(p,e,m)}};function Fn(){return z1().slots}function z1(){const p=Th();return p.setupContext||(p.setupContext=Xm(p))}function bo(p){return wt(p)?p.reduce((e,m)=>(e[m]=null,e),{}):p}function fi(p,e){return!p||!e?p||e:wt(p)&&wt(e)?p.concat(e):Ie({},bo(p),bo(e))}let Yl=!0;function X1(p){const e=Em(p),m=p.proxy,C=p.ctx;Yl=!1,e.beforeCreate&&tc(e.beforeCreate,p,"bc");const{data:R,computed:M,methods:d,watch:S,provide:t,inject:h,created:x,beforeMount:o,mounted:a,beforeUpdate:r,updated:i,activated:n,deactivated:l,beforeDestroy:s,beforeUnmount:u,destroyed:f,unmounted:c,render:v,renderTracked:g,renderTriggered:y,errorCaptured:T,serverPrefetch:E,expose:A,inheritAttrs:P,components:w,directives:I,filters:O}=e;if(h&&W1(h,C,null),d)for(const D in d){const b=d[D];Gt(b)&&(C[D]=b.bind(m))}if(R){const D=R.call(m,m);le(D)&&(p.data=ch(D))}if(Yl=!0,M)for(const D in M){const b=M[D],U=Gt(b)?b.bind(m,m):Gt(b.get)?b.get.bind(m,m):Hi,W=!Gt(b)&&Gt(b.set)?b.set.bind(m):Hi,H=Ft({get:U,set:W});Object.defineProperty(C,D,{enumerable:!0,configurable:!0,get:()=>H.value,set:Y=>H.value=Y})}if(S)for(const D in S)Tm(S[D],C,m,D);if(t){const D=Gt(t)?t.call(m):t;Reflect.ownKeys(D).forEach(b=>{Q1(b,D[b])})}x&&tc(x,p,"c");function L(D,b){wt(b)?b.forEach(U=>D(U.bind(m))):b&&D(b.bind(m))}if(L(gm,o),L(Cs,a),L(L1,r),L(F1,i),L(w1,n),L(M1,l),L(b1,T),L(N1,g),L(D1,y),L(In,u),L(Ln,c),L(O1,E),wt(A))if(A.length){const D=p.exposed||(p.exposed={});A.forEach(b=>{Object.defineProperty(D,b,{get:()=>m[b],set:U=>m[b]=U})})}else p.exposed||(p.exposed={});v&&p.render===Hi&&(p.render=v),P!=null&&(p.inheritAttrs=P),w&&(p.components=w),I&&(p.directives=I),E&&pm(p)}function W1(p,e,m=Hi){wt(p)&&(p=Hl(p));for(const C in p){const R=p[C];let M;le(R)?"default"in R?M=_n(R.from||C,R.default,!0):M=_n(R.from||C):M=_n(R),ie(M)?Object.defineProperty(e,C,{enumerable:!0,configurable:!0,get:()=>M.value,set:d=>M.value=d}):e[C]=M}}function tc(p,e,m){Oi(wt(p)?p.map(C=>C.bind(e.proxy)):p.bind(e.proxy),e,m)}function Tm(p,e,m,C){let R=C.includes(".")?Dm(m,C):()=>m[C];if(Te(p)){const M=e[p];Gt(M)&&li(R,M)}else if(Gt(p))li(R,p.bind(m));else if(le(p))if(wt(p))p.forEach(M=>Tm(M,e,m,C));else{const M=Gt(p.handler)?p.handler.bind(m):e[p.handler];Gt(M)&&li(R,M,p)}}function Em(p){const e=p.type,{mixins:m,extends:C}=e,{mixins:R,optionsCache:M,config:{optionMergeStrategies:d}}=p.appContext,S=M.get(e);let t;return S?t=S:!R.length&&!m&&!C?t=e:(t={},R.length&&R.forEach(h=>Bo(t,h,d,!0)),Bo(t,e,d)),le(e)&&M.set(e,t),t}function Bo(p,e,m,C=!1){const{mixins:R,extends:M}=e;M&&Bo(p,M,m,!0),R&&R.forEach(d=>Bo(p,d,m,!0));for(const d in e)if(!(C&&d==="expose")){const S=Y1[d]||m&&m[d];p[d]=S?S(p[d],e[d]):e[d]}return p}const Y1={data:ec,props:ic,emits:ic,methods:Gr,computed:Gr,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:Gr,directives:Gr,watch:K1,provide:ec,inject:H1};function ec(p,e){return e?p?function(){return Ie(Gt(p)?p.call(this,this):p,Gt(e)?e.call(this,this):e)}:e:p}function H1(p,e){return Gr(Hl(p),Hl(e))}function Hl(p){if(wt(p)){const e={};for(let m=0;m<p.length;m++)e[p[m]]=p[m];return e}return p}function Ze(p,e){return p?[...new Set([].concat(p,e))]:e}function Gr(p,e){return p?Ie(Object.create(null),p,e):e}function ic(p,e){return p?wt(p)&&wt(e)?[...new Set([...p,...e])]:Ie(Object.create(null),bo(p),bo(e??{})):e}function K1(p,e){if(!p)return e;if(!e)return p;const m=Ie(Object.create(null),p);for(const C in e)m[C]=Ze(p[C],e[C]);return m}function Sm(){return{app:null,config:{isNativeTag:wy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $1=0;function j1(p,e){return function(C,R=null){Gt(C)||(C=Ie({},C)),R!=null&&!le(R)&&(R=null);const M=Sm(),d=new WeakSet,S=[];let t=!1;const h=M.app={_uid:$1++,_component:C,_props:R,_container:null,_context:M,_instance:null,version:MT,get config(){return M.config},set config(x){},use(x,...o){return d.has(x)||(x&&Gt(x.install)?(d.add(x),x.install(h,...o)):Gt(x)&&(d.add(x),x(h,...o))),h},mixin(x){return M.mixins.includes(x)||M.mixins.push(x),h},component(x,o){return o?(M.components[x]=o,h):M.components[x]},directive(x,o){return o?(M.directives[x]=o,h):M.directives[x]},mount(x,o,a){if(!t){const r=h._ceVNode||Rt(C,R);return r.appContext=M,a===!0?a="svg":a===!1&&(a=void 0),p(r,x,a),t=!0,h._container=x,x.__vue_app__=h,Eh(r.component)}},onUnmount(x){S.push(x)},unmount(){t&&(Oi(S,h._instance,16),p(null,h._container),delete h._container.__vue_app__)},provide(x,o){return M.provides[x]=o,h},runWithContext(x){const o=Tn;Tn=h;try{return x()}finally{Tn=o}}};return h}}let Tn=null;function Q1(p,e){if(Oe){let m=Oe.provides;const C=Oe.parent&&Oe.parent.provides;C===m&&(m=Oe.provides=Object.create(C)),m[p]=e}}function _n(p,e,m=!1){const C=Oe||Re;if(C||Tn){const R=Tn?Tn._context.provides:C?C.parent==null?C.vnode.appContext&&C.vnode.appContext.provides:C.parent.provides:void 0;if(R&&p in R)return R[p];if(arguments.length>1)return m&&Gt(e)?e.call(C&&C.proxy):e}}function J1(){return!!(Oe||Re||Tn)}const Cm={},Am=()=>Object.create(Cm),Pm=p=>Object.getPrototypeOf(p)===Cm;function k1(p,e,m,C=!1){const R={},M=Am();p.propsDefaults=Object.create(null),Rm(p,e,R,M);for(const d in p.propsOptions[0])d in R||(R[d]=void 0);m?p.props=C?R:a1(R):p.type.props?p.props=R:p.props=M,p.attrs=M}function Z1(p,e,m,C){const{props:R,attrs:M,vnode:{patchFlag:d}}=p,S=Ht(R),[t]=p.propsOptions;let h=!1;if((C||d>0)&&!(d&16)){if(d&8){const x=p.vnode.dynamicProps;for(let o=0;o<x.length;o++){let a=x[o];if(xh(p.emitsOptions,a))continue;const r=e[a];if(t)if(ee(M,a))r!==M[a]&&(M[a]=r,h=!0);else{const i=Fi(a);R[i]=Kl(t,S,i,r,p,!1)}else r!==M[a]&&(M[a]=r,h=!0)}}}else{Rm(p,e,R,M)&&(h=!0);let x;for(const o in S)(!e||!ee(e,o)&&((x=Es(o))===o||!ee(e,x)))&&(t?m&&(m[o]!==void 0||m[x]!==void 0)&&(R[o]=Kl(t,S,o,void 0,p,!0)):delete R[o]);if(M!==S)for(const o in M)(!e||!ee(e,o))&&(delete M[o],h=!0)}h&&rs(p.attrs,"set","")}function Rm(p,e,m,C){const[R,M]=p.propsOptions;let d=!1,S;if(e)for(let t in e){if(Kr(t))continue;const h=e[t];let x;R&&ee(R,x=Fi(t))?!M||!M.includes(x)?m[x]=h:(S||(S={}))[x]=h:xh(p.emitsOptions,t)||(!(t in C)||h!==C[t])&&(C[t]=h,d=!0)}if(M){const t=Ht(m),h=S||te;for(let x=0;x<M.length;x++){const o=M[x];m[o]=Kl(R,t,o,h[o],p,!ee(h,o))}}return d}function Kl(p,e,m,C,R,M){const d=p[m];if(d!=null){const S=ee(d,"default");if(S&&C===void 0){const t=d.default;if(d.type!==Function&&!d.skipFactory&&Gt(t)){const{propsDefaults:h}=R;if(m in h)C=h[m];else{const x=Pa(R);C=h[m]=t.call(null,e),x()}}else C=t;R.ce&&R.ce._setProp(m,C)}d[0]&&(M&&!S?C=!1:d[1]&&(C===""||C===Es(m))&&(C=!0))}return C}const q1=new WeakMap;function wm(p,e,m=!1){const C=m?q1:e.propsCache,R=C.get(p);if(R)return R;const M=p.props,d={},S=[];let t=!1;if(!Gt(p)){const x=o=>{t=!0;const[a,r]=wm(o,e,!0);Ie(d,a),r&&S.push(...r)};!m&&e.mixins.length&&e.mixins.forEach(x),p.extends&&x(p.extends),p.mixins&&p.mixins.forEach(x)}if(!M&&!t)return le(p)&&C.set(p,Jn),Jn;if(wt(M))for(let x=0;x<M.length;x++){const o=Fi(M[x]);sc(o)&&(d[o]=te)}else if(M)for(const x in M){const o=Fi(x);if(sc(o)){const a=M[x],r=d[o]=wt(a)||Gt(a)?{type:a}:Ie({},a),i=r.type;let n=!1,l=!0;if(wt(i))for(let s=0;s<i.length;++s){const u=i[s],f=Gt(u)&&u.name;if(f==="Boolean"){n=!0;break}else f==="String"&&(l=!1)}else n=Gt(i)&&i.name==="Boolean";r[0]=n,r[1]=l,(n||ee(r,"default"))&&S.push(o)}}const h=[d,S];return le(p)&&C.set(p,h),h}function sc(p){return p[0]!=="$"&&!Kr(p)}const Mm=p=>p[0]==="_"||p==="$stable",Uu=p=>wt(p)?p.map(Yi):[Yi(p)],_1=(p,e,m)=>{if(e._n)return e;const C=Xt((...R)=>Uu(e(...R)),m);return C._c=!1,C},Im=(p,e,m)=>{const C=p._ctx;for(const R in p){if(Mm(R))continue;const M=p[R];if(Gt(M))e[R]=_1(R,M,C);else if(M!=null){const d=Uu(M);e[R]=()=>d}}},Lm=(p,e)=>{const m=Uu(e);p.slots.default=()=>m},Fm=(p,e,m)=>{for(const C in e)(m||C!=="_")&&(p[C]=e[C])},tT=(p,e,m)=>{const C=p.slots=Am();if(p.vnode.shapeFlag&32){const R=e._;R?(Fm(C,e,m),m&&Lp(C,"_",R,!0)):Im(e,C)}else e&&Lm(p,e)},eT=(p,e,m)=>{const{vnode:C,slots:R}=p;let M=!0,d=te;if(C.shapeFlag&32){const S=e._;S?m&&S===1?M=!1:Fm(R,e,m):(M=!e.$stable,Im(e,R)),d=e}else e&&(Lm(p,e),d={default:1});if(M)for(const S in R)!Mm(S)&&d[S]==null&&delete R[S]},qe=pT;function iT(p){return sT(p)}function sT(p,e){const m=uh();m.__VUE__=!0;const{insert:C,remove:R,patchProp:M,createElement:d,createText:S,createComment:t,setText:h,setElementText:x,parentNode:o,nextSibling:a,setScopeId:r=Hi,insertStaticContent:i}=p,n=(Q,Z,_,et=null,it=null,st=null,nt=void 0,lt=null,ut=!!Z.dynamicChildren)=>{if(Q===Z)return;Q&&!vn(Q,Z)&&(et=z(Q),Y(Q,it,st,!0),Q=null),Z.patchFlag===-2&&(ut=!1,Z.dynamicChildren=null);const{type:ot,ref:rt,shapeFlag:ht}=Z;switch(ot){case yh:l(Q,Z,_,et);break;case ii:s(Q,Z,_,et);break;case vl:Q==null&&u(Z,_,et,nt);break;case de:w(Q,Z,_,et,it,st,nt,lt,ut);break;default:ht&1?v(Q,Z,_,et,it,st,nt,lt,ut):ht&6?I(Q,Z,_,et,it,st,nt,lt,ut):(ht&64||ht&128)&&ot.process(Q,Z,_,et,it,st,nt,lt,ut,k)}rt!=null&&it&&No(rt,Q&&Q.ref,st,Z||Q,!Z)},l=(Q,Z,_,et)=>{if(Q==null)C(Z.el=S(Z.children),_,et);else{const it=Z.el=Q.el;Z.children!==Q.children&&h(it,Z.children)}},s=(Q,Z,_,et)=>{Q==null?C(Z.el=t(Z.children||""),_,et):Z.el=Q.el},u=(Q,Z,_,et)=>{[Q.el,Q.anchor]=i(Q.children,Z,_,et,Q.el,Q.anchor)},f=({el:Q,anchor:Z},_,et)=>{let it;for(;Q&&Q!==Z;)it=a(Q),C(Q,_,et),Q=it;C(Z,_,et)},c=({el:Q,anchor:Z})=>{let _;for(;Q&&Q!==Z;)_=a(Q),R(Q),Q=_;R(Z)},v=(Q,Z,_,et,it,st,nt,lt,ut)=>{Z.type==="svg"?nt="svg":Z.type==="math"&&(nt="mathml"),Q==null?g(Z,_,et,it,st,nt,lt,ut):E(Q,Z,it,st,nt,lt,ut)},g=(Q,Z,_,et,it,st,nt,lt)=>{let ut,ot;const{props:rt,shapeFlag:ht,transition:dt,dirs:xt}=Q;if(ut=Q.el=d(Q.type,st,rt&&rt.is,rt),ht&8?x(ut,Q.children):ht&16&&T(Q.children,ut,null,et,it,cl(Q,st),nt,lt),xt&&hn(Q,null,et,"created"),y(ut,Q,Q.scopeId,nt,et),rt){for(const Ct in rt)Ct!=="value"&&!Kr(Ct)&&M(ut,Ct,null,rt[Ct],st,et);"value"in rt&&M(ut,"value",null,rt.value,st),(ot=rt.onVnodeBeforeMount)&&Ui(ot,et,Q)}xt&&hn(Q,null,et,"beforeMount");const yt=nT(it,dt);yt&&dt.beforeEnter(ut),C(ut,Z,_),((ot=rt&&rt.onVnodeMounted)||yt||xt)&&qe(()=>{ot&&Ui(ot,et,Q),yt&&dt.enter(ut),xt&&hn(Q,null,et,"mounted")},it)},y=(Q,Z,_,et,it)=>{if(_&&r(Q,_),et)for(let st=0;st<et.length;st++)r(Q,et[st]);if(it){let st=it.subTree;if(Z===st||Bm(st.type)&&(st.ssContent===Z||st.ssFallback===Z)){const nt=it.vnode;y(Q,nt,nt.scopeId,nt.slotScopeIds,it.parent)}}},T=(Q,Z,_,et,it,st,nt,lt,ut=0)=>{for(let ot=ut;ot<Q.length;ot++){const rt=Q[ot]=lt?Ds(Q[ot]):Yi(Q[ot]);n(null,rt,Z,_,et,it,st,nt,lt)}},E=(Q,Z,_,et,it,st,nt)=>{const lt=Z.el=Q.el;let{patchFlag:ut,dynamicChildren:ot,dirs:rt}=Z;ut|=Q.patchFlag&16;const ht=Q.props||te,dt=Z.props||te;let xt;if(_&&ln(_,!1),(xt=dt.onVnodeBeforeUpdate)&&Ui(xt,_,Z,Q),rt&&hn(Z,Q,_,"beforeUpdate"),_&&ln(_,!0),(ht.innerHTML&&dt.innerHTML==null||ht.textContent&&dt.textContent==null)&&x(lt,""),ot?A(Q.dynamicChildren,ot,lt,_,et,cl(Z,it),st):nt||b(Q,Z,lt,null,_,et,cl(Z,it),st,!1),ut>0){if(ut&16)P(lt,ht,dt,_,it);else if(ut&2&&ht.class!==dt.class&&M(lt,"class",null,dt.class,it),ut&4&&M(lt,"style",ht.style,dt.style,it),ut&8){const yt=Z.dynamicProps;for(let Ct=0;Ct<yt.length;Ct++){const St=yt[Ct],Mt=ht[St],Ut=dt[St];(Ut!==Mt||St==="value")&&M(lt,St,Mt,Ut,it,_)}}ut&1&&Q.children!==Z.children&&x(lt,Z.children)}else!nt&&ot==null&&P(lt,ht,dt,_,it);((xt=dt.onVnodeUpdated)||rt)&&qe(()=>{xt&&Ui(xt,_,Z,Q),rt&&hn(Z,Q,_,"updated")},et)},A=(Q,Z,_,et,it,st,nt)=>{for(let lt=0;lt<Z.length;lt++){const ut=Q[lt],ot=Z[lt],rt=ut.el&&(ut.type===de||!vn(ut,ot)||ut.shapeFlag&70)?o(ut.el):_;n(ut,ot,rt,null,et,it,st,nt,!0)}},P=(Q,Z,_,et,it)=>{if(Z!==_){if(Z!==te)for(const st in Z)!Kr(st)&&!(st in _)&&M(Q,st,Z[st],null,it,et);for(const st in _){if(Kr(st))continue;const nt=_[st],lt=Z[st];nt!==lt&&st!=="value"&&M(Q,st,lt,nt,it,et)}"value"in _&&M(Q,"value",Z.value,_.value,it)}},w=(Q,Z,_,et,it,st,nt,lt,ut)=>{const ot=Z.el=Q?Q.el:S(""),rt=Z.anchor=Q?Q.anchor:S("");let{patchFlag:ht,dynamicChildren:dt,slotScopeIds:xt}=Z;xt&&(lt=lt?lt.concat(xt):xt),Q==null?(C(ot,_,et),C(rt,_,et),T(Z.children||[],_,rt,it,st,nt,lt,ut)):ht>0&&ht&64&&dt&&Q.dynamicChildren?(A(Q.dynamicChildren,dt,_,it,st,nt,lt),(Z.key!=null||it&&Z===it.subTree)&&zu(Q,Z,!0)):b(Q,Z,_,rt,it,st,nt,lt,ut)},I=(Q,Z,_,et,it,st,nt,lt,ut)=>{Z.slotScopeIds=lt,Q==null?Z.shapeFlag&512?it.ctx.activate(Z,_,et,nt,ut):O(Z,_,et,it,st,nt,ut):F(Q,Z,ut)},O=(Q,Z,_,et,it,st,nt)=>{const lt=Q.component=ST(Q,et,it);if(mh(Q)&&(lt.ctx.renderer=k),CT(lt,!1,nt),lt.asyncDep){if(it&&it.registerDep(lt,L,nt),!Q.el){const ut=lt.subTree=Rt(ii);s(null,ut,Z,_)}}else L(lt,Q,Z,_,it,st,nt)},F=(Q,Z,_)=>{const et=Z.component=Q.component;if(cT(Q,Z,_))if(et.asyncDep&&!et.asyncResolved){D(et,Z,_);return}else et.next=Z,et.update();else Z.el=Q.el,et.vnode=Z},L=(Q,Z,_,et,it,st,nt)=>{const lt=()=>{if(Q.isMounted){let{next:ht,bu:dt,u:xt,parent:yt,vnode:Ct}=Q;{const Nt=Om(Q);if(Nt){ht&&(ht.el=Ct.el,D(Q,ht,nt)),Nt.asyncDep.then(()=>{Q.isUnmounted||lt()});return}}let St=ht,Mt;ln(Q,!1),ht?(ht.el=Ct.el,D(Q,ht,nt)):ht=Ct,dt&&co(dt),(Mt=ht.props&&ht.props.onVnodeBeforeUpdate)&&Ui(Mt,yt,ht,Ct),ln(Q,!0);const Ut=rc(Q),qt=Q.subTree;Q.subTree=Ut,n(qt,Ut,o(qt.el),z(qt),Q,it,st),ht.el=Ut.el,St===null&&vT(Q,Ut.el),xt&&qe(xt,it),(Mt=ht.props&&ht.props.onVnodeUpdated)&&qe(()=>Ui(Mt,yt,ht,Ct),it)}else{let ht;const{el:dt,props:xt}=Z,{bm:yt,m:Ct,parent:St,root:Mt,type:Ut}=Q,qt=qn(Z);ln(Q,!1),yt&&co(yt),!qt&&(ht=xt&&xt.onVnodeBeforeMount)&&Ui(ht,St,Z),ln(Q,!0);{Mt.ce&&Mt.ce._injectChildStyle(Ut);const Nt=Q.subTree=rc(Q);n(null,Nt,_,et,Q,it,st),Z.el=Nt.el}if(Ct&&qe(Ct,it),!qt&&(ht=xt&&xt.onVnodeMounted)){const Nt=Z;qe(()=>Ui(ht,St,Nt),it)}(Z.shapeFlag&256||St&&qn(St.vnode)&&St.vnode.shapeFlag&256)&&Q.a&&qe(Q.a,it),Q.isMounted=!0,Z=_=et=null}};Q.scope.on();const ut=Q.effect=new Vp(lt);Q.scope.off();const ot=Q.update=ut.run.bind(ut),rt=Q.job=ut.runIfDirty.bind(ut);rt.i=Q,rt.id=Q.uid,ut.scheduler=()=>Gu(rt),ln(Q,!0),ot()},D=(Q,Z,_)=>{Z.component=Q;const et=Q.vnode.props;Q.vnode=Z,Q.next=null,Z1(Q,Z.props,et,_),eT(Q,Z.children,_),Zs(),Qd(Q),qs()},b=(Q,Z,_,et,it,st,nt,lt,ut=!1)=>{const ot=Q&&Q.children,rt=Q?Q.shapeFlag:0,ht=Z.children,{patchFlag:dt,shapeFlag:xt}=Z;if(dt>0){if(dt&128){W(ot,ht,_,et,it,st,nt,lt,ut);return}else if(dt&256){U(ot,ht,_,et,it,st,nt,lt,ut);return}}xt&8?(rt&16&&B(ot,it,st),ht!==ot&&x(_,ht)):rt&16?xt&16?W(ot,ht,_,et,it,st,nt,lt,ut):B(ot,it,st,!0):(rt&8&&x(_,""),xt&16&&T(ht,_,et,it,st,nt,lt,ut))},U=(Q,Z,_,et,it,st,nt,lt,ut)=>{Q=Q||Jn,Z=Z||Jn;const ot=Q.length,rt=Z.length,ht=Math.min(ot,rt);let dt;for(dt=0;dt<ht;dt++){const xt=Z[dt]=ut?Ds(Z[dt]):Yi(Z[dt]);n(Q[dt],xt,_,null,it,st,nt,lt,ut)}ot>rt?B(Q,it,st,!0,!1,ht):T(Z,_,et,it,st,nt,lt,ut,ht)},W=(Q,Z,_,et,it,st,nt,lt,ut)=>{let ot=0;const rt=Z.length;let ht=Q.length-1,dt=rt-1;for(;ot<=ht&&ot<=dt;){const xt=Q[ot],yt=Z[ot]=ut?Ds(Z[ot]):Yi(Z[ot]);if(vn(xt,yt))n(xt,yt,_,null,it,st,nt,lt,ut);else break;ot++}for(;ot<=ht&&ot<=dt;){const xt=Q[ht],yt=Z[dt]=ut?Ds(Z[dt]):Yi(Z[dt]);if(vn(xt,yt))n(xt,yt,_,null,it,st,nt,lt,ut);else break;ht--,dt--}if(ot>ht){if(ot<=dt){const xt=dt+1,yt=xt<rt?Z[xt].el:et;for(;ot<=dt;)n(null,Z[ot]=ut?Ds(Z[ot]):Yi(Z[ot]),_,yt,it,st,nt,lt,ut),ot++}}else if(ot>dt)for(;ot<=ht;)Y(Q[ot],it,st,!0),ot++;else{const xt=ot,yt=ot,Ct=new Map;for(ot=yt;ot<=dt;ot++){const jt=Z[ot]=ut?Ds(Z[ot]):Yi(Z[ot]);jt.key!=null&&Ct.set(jt.key,ot)}let St,Mt=0;const Ut=dt-yt+1;let qt=!1,Nt=0;const Jt=new Array(Ut);for(ot=0;ot<Ut;ot++)Jt[ot]=0;for(ot=xt;ot<=ht;ot++){const jt=Q[ot];if(Mt>=Ut){Y(jt,it,st,!0);continue}let Se;if(jt.key!=null)Se=Ct.get(jt.key);else for(St=yt;St<=dt;St++)if(Jt[St-yt]===0&&vn(jt,Z[St])){Se=St;break}Se===void 0?Y(jt,it,st,!0):(Jt[Se-yt]=ot+1,Se>=Nt?Nt=Se:qt=!0,n(jt,Z[Se],_,null,it,st,nt,lt,ut),Mt++)}const ae=qt?rT(Jt):Jn;for(St=ae.length-1,ot=Ut-1;ot>=0;ot--){const jt=yt+ot,Se=Z[jt],gi=jt+1<rt?Z[jt+1].el:et;Jt[ot]===0?n(null,Se,_,gi,it,st,nt,lt,ut):qt&&(St<0||ot!==ae[St]?H(Se,_,gi,2):St--)}}},H=(Q,Z,_,et,it=null)=>{const{el:st,type:nt,transition:lt,children:ut,shapeFlag:ot}=Q;if(ot&6){H(Q.component.subTree,Z,_,et);return}if(ot&128){Q.suspense.move(Z,_,et);return}if(ot&64){nt.move(Q,Z,_,k);return}if(nt===de){C(st,Z,_);for(let ht=0;ht<ut.length;ht++)H(ut[ht],Z,_,et);C(Q.anchor,Z,_);return}if(nt===vl){f(Q,Z,_);return}if(et!==2&&ot&1&&lt)if(et===0)lt.beforeEnter(st),C(st,Z,_),qe(()=>lt.enter(st),it);else{const{leave:ht,delayLeave:dt,afterLeave:xt}=lt,yt=()=>C(st,Z,_),Ct=()=>{ht(st,()=>{yt(),xt&&xt()})};dt?dt(st,yt,Ct):Ct()}else C(st,Z,_)},Y=(Q,Z,_,et=!1,it=!1)=>{const{type:st,props:nt,ref:lt,children:ut,dynamicChildren:ot,shapeFlag:rt,patchFlag:ht,dirs:dt,cacheIndex:xt}=Q;if(ht===-2&&(it=!1),lt!=null&&No(lt,null,_,Q,!0),xt!=null&&(Z.renderCache[xt]=void 0),rt&256){Z.ctx.deactivate(Q);return}const yt=rt&1&&dt,Ct=!qn(Q);let St;if(Ct&&(St=nt&&nt.onVnodeBeforeUnmount)&&Ui(St,Z,Q),rt&6)V(Q.component,_,et);else{if(rt&128){Q.suspense.unmount(_,et);return}yt&&hn(Q,null,Z,"beforeUnmount"),rt&64?Q.type.remove(Q,Z,_,k,et):ot&&!ot.hasOnce&&(st!==de||ht>0&&ht&64)?B(ot,Z,_,!1,!0):(st===de&&ht&384||!it&&rt&16)&&B(ut,Z,_),et&&G(Q)}(Ct&&(St=nt&&nt.onVnodeUnmounted)||yt)&&qe(()=>{St&&Ui(St,Z,Q),yt&&hn(Q,null,Z,"unmounted")},_)},G=Q=>{const{type:Z,el:_,anchor:et,transition:it}=Q;if(Z===de){X(_,et);return}if(Z===vl){c(Q);return}const st=()=>{R(_),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(Q.shapeFlag&1&&it&&!it.persisted){const{leave:nt,delayLeave:lt}=it,ut=()=>nt(_,st);lt?lt(Q.el,st,ut):ut()}else st()},X=(Q,Z)=>{let _;for(;Q!==Z;)_=a(Q),R(Q),Q=_;R(Z)},V=(Q,Z,_)=>{const{bum:et,scope:it,job:st,subTree:nt,um:lt,m:ut,a:ot}=Q;nc(ut),nc(ot),et&&co(et),it.stop(),st&&(st.flags|=8,Y(nt,Q,Z,_)),lt&&qe(lt,Z),qe(()=>{Q.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},B=(Q,Z,_,et=!1,it=!1,st=0)=>{for(let nt=st;nt<Q.length;nt++)Y(Q[nt],Z,_,et,it)},z=Q=>{if(Q.shapeFlag&6)return z(Q.component.subTree);if(Q.shapeFlag&128)return Q.suspense.next();const Z=a(Q.anchor||Q.el),_=Z&&Z[am];return _?a(_):Z};let $=!1;const j=(Q,Z,_)=>{Q==null?Z._vnode&&Y(Z._vnode,null,null,!0):n(Z._vnode||null,Q,Z,null,null,null,_),Z._vnode=Q,$||($=!0,Qd(),sm(),$=!1)},k={p:n,um:Y,m:H,r:G,mt:O,mc:T,pc:b,pbc:A,n:z,o:p};return{render:j,hydrate:void 0,createApp:j1(j)}}function cl({type:p,props:e},m){return m==="svg"&&p==="foreignObject"||m==="mathml"&&p==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:m}function ln({effect:p,job:e},m){m?(p.flags|=32,e.flags|=4):(p.flags&=-33,e.flags&=-5)}function nT(p,e){return(!p||p&&!p.pendingBranch)&&e&&!e.persisted}function zu(p,e,m=!1){const C=p.children,R=e.children;if(wt(C)&&wt(R))for(let M=0;M<C.length;M++){const d=C[M];let S=R[M];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=R[M]=Ds(R[M]),S.el=d.el),!m&&S.patchFlag!==-2&&zu(d,S)),S.type===yh&&(S.el=d.el)}}function rT(p){const e=p.slice(),m=[0];let C,R,M,d,S;const t=p.length;for(C=0;C<t;C++){const h=p[C];if(h!==0){if(R=m[m.length-1],p[R]<h){e[C]=R,m.push(C);continue}for(M=0,d=m.length-1;M<d;)S=M+d>>1,p[m[S]]<h?M=S+1:d=S;h<p[m[M]]&&(M>0&&(e[C]=m[M-1]),m[M]=C)}}for(M=m.length,d=m[M-1];M-- >0;)m[M]=d,d=e[d];return m}function Om(p){const e=p.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Om(e)}function nc(p){if(p)for(let e=0;e<p.length;e++)p[e].flags|=8}const aT=Symbol.for("v-scx"),oT=()=>_n(aT);function hT(p,e){return Xu(p,null,{flush:"sync"})}function li(p,e,m){return Xu(p,e,m)}function Xu(p,e,m=te){const{immediate:C,deep:R,flush:M,once:d}=m,S=Ie({},m),t=e&&C||!e&&M!=="post";let h;if(da){if(M==="sync"){const r=oT();h=r.__watcherHandles||(r.__watcherHandles=[])}else if(!t){const r=()=>{};return r.stop=Hi,r.resume=Hi,r.pause=Hi,r}}const x=Oe;S.call=(r,i,n)=>Oi(r,x,i,n);let o=!1;M==="post"?S.scheduler=r=>{qe(r,x&&x.suspense)}:M!=="sync"&&(o=!0,S.scheduler=(r,i)=>{i?r():Gu(r)}),S.augmentJob=r=>{e&&(r.flags|=4),o&&(r.flags|=2,x&&(r.id=x.uid,r.i=x))};const a=y1(p,e,S);return da&&(h?h.push(a):t&&a()),a}function lT(p,e,m){const C=this.proxy,R=Te(p)?p.includes(".")?Dm(C,p):()=>C[p]:p.bind(C,C);let M;Gt(e)?M=e:(M=e.handler,m=e);const d=Pa(this),S=Xu(R,M.bind(C),m);return d(),S}function Dm(p,e){const m=e.split(".");return()=>{let C=p;for(let R=0;R<m.length&&C;R++)C=C[m[R]];return C}}function bi(p,e,m=te){const C=Th(),R=Fi(e),M=Es(e),d=Nm(p,R),S=f1((t,h)=>{let x,o=te,a;return hT(()=>{const r=p[R];oi(x,r)&&(x=r,h())}),{get(){return t(),m.get?m.get(x):x},set(r){const i=m.set?m.set(r):r;if(!oi(i,x)&&!(o!==te&&oi(r,o)))return;const n=C.vnode.props;n&&(e in n||R in n||M in n)&&(`onUpdate:${e}`in n||`onUpdate:${R}`in n||`onUpdate:${M}`in n)||(x=r,h()),C.emit(`update:${e}`,i),oi(r,i)&&oi(r,o)&&!oi(i,a)&&h(),o=r,a=i}}});return S[Symbol.iterator]=()=>{let t=0;return{next(){return t<2?{value:t++?d||te:S,done:!1}:{done:!0}}}},S}const Nm=(p,e)=>e==="modelValue"||e==="model-value"?p.modelModifiers:p[`${e}Modifiers`]||p[`${Fi(e)}Modifiers`]||p[`${Es(e)}Modifiers`];function uT(p,e,...m){if(p.isUnmounted)return;const C=p.vnode.props||te;let R=m;const M=e.startsWith("update:"),d=M&&Nm(C,e.slice(7));d&&(d.trim&&(R=m.map(x=>Te(x)?x.trim():x)),d.number&&(R=m.map(Io)));let S,t=C[S=al(e)]||C[S=al(Fi(e))];!t&&M&&(t=C[S=al(Es(e))]),t&&Oi(t,p,6,R);const h=C[S+"Once"];if(h){if(!p.emitted)p.emitted={};else if(p.emitted[S])return;p.emitted[S]=!0,Oi(h,p,6,R)}}function bm(p,e,m=!1){const C=e.emitsCache,R=C.get(p);if(R!==void 0)return R;const M=p.emits;let d={},S=!1;if(!Gt(p)){const t=h=>{const x=bm(h,e,!0);x&&(S=!0,Ie(d,x))};!m&&e.mixins.length&&e.mixins.forEach(t),p.extends&&t(p.extends),p.mixins&&p.mixins.forEach(t)}return!M&&!S?(le(p)&&C.set(p,null),null):(wt(M)?M.forEach(t=>d[t]=null):Ie(d,M),le(p)&&C.set(p,d),d)}function xh(p,e){return!p||!hh(e)?!1:(e=e.slice(2).replace(/Once$/,""),ee(p,e[0].toLowerCase()+e.slice(1))||ee(p,Es(e))||ee(p,e))}function rc(p){const{type:e,vnode:m,proxy:C,withProxy:R,propsOptions:[M],slots:d,attrs:S,emit:t,render:h,renderCache:x,props:o,data:a,setupState:r,ctx:i,inheritAttrs:n}=p,l=Do(p);let s,u;try{if(m.shapeFlag&4){const c=R||C,v=c;s=Yi(h.call(v,c,x,o,r,a,i)),u=S}else{const c=e;s=Yi(c.length>1?c(o,{attrs:S,slots:d,emit:t}):c(o,null)),u=e.props?S:fT(S)}}catch(c){kr.length=0,vh(c,p,1),s=Rt(ii)}let f=s;if(u&&n!==!1){const c=Object.keys(u),{shapeFlag:v}=f;c.length&&v&7&&(M&&c.some(Pu)&&(u=dT(u,M)),f=Ws(f,u,!1,!0))}return m.dirs&&(f=Ws(f,null,!1,!0),f.dirs=f.dirs?f.dirs.concat(m.dirs):m.dirs),m.transition&&la(f,m.transition),s=f,Do(l),s}const fT=p=>{let e;for(const m in p)(m==="class"||m==="style"||hh(m))&&((e||(e={}))[m]=p[m]);return e},dT=(p,e)=>{const m={};for(const C in p)(!Pu(C)||!(C.slice(9)in e))&&(m[C]=p[C]);return m};function cT(p,e,m){const{props:C,children:R,component:M}=p,{props:d,children:S,patchFlag:t}=e,h=M.emitsOptions;if(e.dirs||e.transition)return!0;if(m&&t>=0){if(t&1024)return!0;if(t&16)return C?ac(C,d,h):!!d;if(t&8){const x=e.dynamicProps;for(let o=0;o<x.length;o++){const a=x[o];if(d[a]!==C[a]&&!xh(h,a))return!0}}}else return(R||S)&&(!S||!S.$stable)?!0:C===d?!1:C?d?ac(C,d,h):!0:!!d;return!1}function ac(p,e,m){const C=Object.keys(e);if(C.length!==Object.keys(p).length)return!0;for(let R=0;R<C.length;R++){const M=C[R];if(e[M]!==p[M]&&!xh(m,M))return!0}return!1}function vT({vnode:p,parent:e},m){for(;e;){const C=e.subTree;if(C.suspense&&C.suspense.activeBranch===p&&(C.el=p.el),C===p)(p=e.vnode).el=m,e=e.parent;else break}}const Bm=p=>p.__isSuspense;function pT(p,e){e&&e.pendingBranch?wt(p)?e.effects.push(...p):e.effects.push(p):S1(p)}const de=Symbol.for("v-fgt"),yh=Symbol.for("v-txt"),ii=Symbol.for("v-cmt"),vl=Symbol.for("v-stc"),kr=[];let vi=null;function gt(p=!1){kr.push(vi=p?null:[])}function mT(){kr.pop(),vi=kr[kr.length-1]||null}let ua=1;function oc(p,e=!1){ua+=p,p<0&&vi&&e&&(vi.hasOnce=!0)}function Vm(p){return p.dynamicChildren=ua>0?vi||Jn:null,mT(),ua>0&&vi&&vi.push(p),p}function Et(p,e,m,C,R,M){return Vm(It(p,e,m,C,R,M,!0))}function Pe(p,e,m,C,R){return Vm(Rt(p,e,m,C,R,!0))}function fa(p){return p?p.__v_isVNode===!0:!1}function vn(p,e){return p.type===e.type&&p.key===e.key}const Gm=({key:p})=>p??null,po=({ref:p,ref_key:e,ref_for:m})=>(typeof p=="number"&&(p=""+p),p!=null?Te(p)||ie(p)||Gt(p)?{i:Re,r:p,k:e,f:!!m}:p:null);function It(p,e=null,m=null,C=0,R=null,M=p===de?0:1,d=!1,S=!1){const t={__v_isVNode:!0,__v_skip:!0,type:p,props:e,key:e&&Gm(e),ref:e&&po(e),scopeId:rm,slotScopeIds:null,children:m,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:M,patchFlag:C,dynamicProps:R,dynamicChildren:null,appContext:null,ctx:Re};return S?(Wu(t,m),M&128&&p.normalize(t)):m&&(t.shapeFlag|=Te(m)?8:16),ua>0&&!d&&vi&&(t.patchFlag>0||M&6)&&t.patchFlag!==32&&vi.push(t),t}const Rt=gT;function gT(p,e=null,m=null,C=0,R=null,M=!1){if((!p||p===V1)&&(p=ii),fa(p)){const S=Ws(p,e,!0);return m&&Wu(S,m),ua>0&&!M&&vi&&(S.shapeFlag&6?vi[vi.indexOf(p)]=S:vi.push(S)),S.patchFlag=-2,S}if(RT(p)&&(p=p.__vccOpts),e){e=xT(e);let{class:S,style:t}=e;S&&!Te(S)&&(e.class=Zt(S)),le(t)&&(bu(t)&&!wt(t)&&(t=Ie({},t)),e.style=$e(t))}const d=Te(p)?1:Bm(p)?128:om(p)?64:le(p)?4:Gt(p)?2:0;return It(p,e,m,C,R,d,M,!0)}function xT(p){return p?bu(p)||Pm(p)?Ie({},p):p:null}function Ws(p,e,m=!1,C=!1){const{props:R,ref:M,patchFlag:d,children:S,transition:t}=p,h=e?yT(R||{},e):R,x={__v_isVNode:!0,__v_skip:!0,type:p.type,props:h,key:h&&Gm(h),ref:e&&e.ref?m&&M?wt(M)?M.concat(po(e)):[M,po(e)]:po(e):M,scopeId:p.scopeId,slotScopeIds:p.slotScopeIds,children:S,target:p.target,targetStart:p.targetStart,targetAnchor:p.targetAnchor,staticCount:p.staticCount,shapeFlag:p.shapeFlag,patchFlag:e&&p.type!==de?d===-1?16:d|16:d,dynamicProps:p.dynamicProps,dynamicChildren:p.dynamicChildren,appContext:p.appContext,dirs:p.dirs,transition:t,component:p.component,suspense:p.suspense,ssContent:p.ssContent&&Ws(p.ssContent),ssFallback:p.ssFallback&&Ws(p.ssFallback),el:p.el,anchor:p.anchor,ctx:p.ctx,ce:p.ce};return t&&C&&la(x,t.clone(x)),x}function oe(p=" ",e=0){return Rt(yh,null,p,e)}function $t(p="",e=!1){return e?(gt(),Pe(ii,null,p)):Rt(ii,null,p)}function Yi(p){return p==null||typeof p=="boolean"?Rt(ii):wt(p)?Rt(de,null,p.slice()):fa(p)?Ds(p):Rt(yh,null,String(p))}function Ds(p){return p.el===null&&p.patchFlag!==-1||p.memo?p:Ws(p)}function Wu(p,e){let m=0;const{shapeFlag:C}=p;if(e==null)e=null;else if(wt(e))m=16;else if(typeof e=="object")if(C&65){const R=e.default;R&&(R._c&&(R._d=!1),Wu(p,R()),R._c&&(R._d=!0));return}else{m=32;const R=e._;!R&&!Pm(e)?e._ctx=Re:R===3&&Re&&(Re.slots._===1?e._=1:(e._=2,p.patchFlag|=1024))}else Gt(e)?(e={default:e,_ctx:Re},m=32):(e=String(e),C&64?(m=16,e=[oe(e)]):m=8);p.children=e,p.shapeFlag|=m}function yT(...p){const e={};for(let m=0;m<p.length;m++){const C=p[m];for(const R in C)if(R==="class")e.class!==C.class&&(e.class=Zt([e.class,C.class]));else if(R==="style")e.style=$e([e.style,C.style]);else if(hh(R)){const M=e[R],d=C[R];d&&M!==d&&!(wt(M)&&M.includes(d))&&(e[R]=M?[].concat(M,d):d)}else R!==""&&(e[R]=C[R])}return e}function Ui(p,e,m,C=null){Oi(p,e,7,[m,C])}const TT=Sm();let ET=0;function ST(p,e,m){const C=p.type,R=(e?e.appContext:p.appContext)||TT,M={uid:ET++,vnode:p,type:C,parent:e,appContext:R,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Np(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(R.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wm(C,R),emitsOptions:bm(C,R),emit:null,emitted:null,propsDefaults:te,inheritAttrs:C.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:m,suspenseId:m?m.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return M.ctx={_:M},M.root=e?e.root:M,M.emit=uT.bind(null,M),p.ce&&p.ce(M),M}let Oe=null;const Th=()=>Oe||Re;let Vo,$l;{const p=uh(),e=(m,C)=>{let R;return(R=p[m])||(R=p[m]=[]),R.push(C),M=>{R.length>1?R.forEach(d=>d(M)):R[0](M)}};Vo=e("__VUE_INSTANCE_SETTERS__",m=>Oe=m),$l=e("__VUE_SSR_SETTERS__",m=>da=m)}const Pa=p=>{const e=Oe;return Vo(p),p.scope.on(),()=>{p.scope.off(),Vo(e)}},hc=()=>{Oe&&Oe.scope.off(),Vo(null)};function Um(p){return p.vnode.shapeFlag&4}let da=!1;function CT(p,e=!1,m=!1){e&&$l(e);const{props:C,children:R}=p.vnode,M=Um(p);k1(p,C,M,e),tT(p,R,m);const d=M?AT(p,e):void 0;return e&&$l(!1),d}function AT(p,e){const m=p.type;p.accessCache=Object.create(null),p.proxy=new Proxy(p.ctx,U1);const{setup:C}=m;if(C){Zs();const R=p.setupContext=C.length>1?Xm(p):null,M=Pa(p),d=Aa(C,p,0,[p.props,R]),S=wp(d);if(qs(),M(),(S||p.sp)&&!qn(p)&&pm(p),S){if(d.then(hc,hc),e)return d.then(t=>{lc(p,t)}).catch(t=>{vh(t,p,0)});p.asyncDep=d}else lc(p,d)}else zm(p)}function lc(p,e,m){Gt(e)?p.type.__ssrInlineRender?p.ssrRender=e:p.render=e:le(e)&&(p.setupState=_p(e)),zm(p)}function zm(p,e,m){const C=p.type;p.render||(p.render=C.render||Hi);{const R=Pa(p);Zs();try{X1(p)}finally{qs(),R()}}}const PT={get(p,e){return Ye(p,"get",""),p[e]}};function Xm(p){const e=m=>{p.exposed=m||{}};return{attrs:new Proxy(p.attrs,PT),slots:p.slots,emit:p.emit,expose:e}}function Eh(p){return p.exposed?p.exposeProxy||(p.exposeProxy=new Proxy(_p(Bu(p.exposed)),{get(e,m){if(m in e)return e[m];if(m in Jr)return Jr[m](p)},has(e,m){return m in e||m in Jr}})):p.proxy}function RT(p){return Gt(p)&&"__vccOpts"in p}const Ft=(p,e)=>g1(p,e,da);function wT(p,e,m){const C=arguments.length;return C===2?le(e)&&!wt(e)?fa(e)?Rt(p,null,[e]):Rt(p,e):Rt(p,null,e):(C>3?m=Array.prototype.slice.call(arguments,2):C===3&&fa(m)&&(m=[m]),Rt(p,e,m))}const MT="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jl;const uc=typeof window<"u"&&window.trustedTypes;if(uc)try{jl=uc.createPolicy("vue",{createHTML:p=>p})}catch{}const Wm=jl?p=>jl.createHTML(p):p=>p,IT="http://www.w3.org/2000/svg",LT="http://www.w3.org/1998/Math/MathML",ns=typeof document<"u"?document:null,fc=ns&&ns.createElement("template"),FT={insert:(p,e,m)=>{e.insertBefore(p,m||null)},remove:p=>{const e=p.parentNode;e&&e.removeChild(p)},createElement:(p,e,m,C)=>{const R=e==="svg"?ns.createElementNS(IT,p):e==="mathml"?ns.createElementNS(LT,p):m?ns.createElement(p,{is:m}):ns.createElement(p);return p==="select"&&C&&C.multiple!=null&&R.setAttribute("multiple",C.multiple),R},createText:p=>ns.createTextNode(p),createComment:p=>ns.createComment(p),setText:(p,e)=>{p.nodeValue=e},setElementText:(p,e)=>{p.textContent=e},parentNode:p=>p.parentNode,nextSibling:p=>p.nextSibling,querySelector:p=>ns.querySelector(p),setScopeId(p,e){p.setAttribute(e,"")},insertStaticContent(p,e,m,C,R,M){const d=m?m.previousSibling:e.lastChild;if(R&&(R===M||R.nextSibling))for(;e.insertBefore(R.cloneNode(!0),m),!(R===M||!(R=R.nextSibling)););else{fc.innerHTML=Wm(C==="svg"?`<svg>${p}</svg>`:C==="mathml"?`<math>${p}</math>`:p);const S=fc.content;if(C==="svg"||C==="mathml"){const t=S.firstChild;for(;t.firstChild;)S.appendChild(t.firstChild);S.removeChild(t)}e.insertBefore(S,m)}return[d?d.nextSibling:e.firstChild,m?m.previousSibling:e.lastChild]}},ws="transition",Vr="animation",ca=Symbol("_vtc"),Ym={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},OT=Ie({},um,Ym),DT=p=>(p.displayName="Transition",p.props=OT,p),NT=DT((p,{slots:e})=>wT(R1,bT(p),e)),un=(p,e=[])=>{wt(p)?p.forEach(m=>m(...e)):p&&p(...e)},dc=p=>p?wt(p)?p.some(e=>e.length>1):p.length>1:!1;function bT(p){const e={};for(const w in p)w in Ym||(e[w]=p[w]);if(p.css===!1)return e;const{name:m="v",type:C,duration:R,enterFromClass:M=`${m}-enter-from`,enterActiveClass:d=`${m}-enter-active`,enterToClass:S=`${m}-enter-to`,appearFromClass:t=M,appearActiveClass:h=d,appearToClass:x=S,leaveFromClass:o=`${m}-leave-from`,leaveActiveClass:a=`${m}-leave-active`,leaveToClass:r=`${m}-leave-to`}=p,i=BT(R),n=i&&i[0],l=i&&i[1],{onBeforeEnter:s,onEnter:u,onEnterCancelled:f,onLeave:c,onLeaveCancelled:v,onBeforeAppear:g=s,onAppear:y=u,onAppearCancelled:T=f}=e,E=(w,I,O,F)=>{w._enterCancelled=F,fn(w,I?x:S),fn(w,I?h:d),O&&O()},A=(w,I)=>{w._isLeaving=!1,fn(w,o),fn(w,r),fn(w,a),I&&I()},P=w=>(I,O)=>{const F=w?y:u,L=()=>E(I,w,O);un(F,[I,L]),cc(()=>{fn(I,w?t:M),ss(I,w?x:S),dc(F)||vc(I,C,n,L)})};return Ie(e,{onBeforeEnter(w){un(s,[w]),ss(w,M),ss(w,d)},onBeforeAppear(w){un(g,[w]),ss(w,t),ss(w,h)},onEnter:P(!1),onAppear:P(!0),onLeave(w,I){w._isLeaving=!0;const O=()=>A(w,I);ss(w,o),w._enterCancelled?(ss(w,a),gc()):(gc(),ss(w,a)),cc(()=>{w._isLeaving&&(fn(w,o),ss(w,r),dc(c)||vc(w,C,l,O))}),un(c,[w,O])},onEnterCancelled(w){E(w,!1,void 0,!0),un(f,[w])},onAppearCancelled(w){E(w,!0,void 0,!0),un(T,[w])},onLeaveCancelled(w){A(w),un(v,[w])}})}function BT(p){if(p==null)return null;if(le(p))return[pl(p.enter),pl(p.leave)];{const e=pl(p);return[e,e]}}function pl(p){return Oy(p)}function ss(p,e){e.split(/\s+/).forEach(m=>m&&p.classList.add(m)),(p[ca]||(p[ca]=new Set)).add(e)}function fn(p,e){e.split(/\s+/).forEach(C=>C&&p.classList.remove(C));const m=p[ca];m&&(m.delete(e),m.size||(p[ca]=void 0))}function cc(p){requestAnimationFrame(()=>{requestAnimationFrame(p)})}let VT=0;function vc(p,e,m,C){const R=p._endId=++VT,M=()=>{R===p._endId&&C()};if(m!=null)return setTimeout(M,m);const{type:d,timeout:S,propCount:t}=GT(p,e);if(!d)return C();const h=d+"end";let x=0;const o=()=>{p.removeEventListener(h,a),M()},a=r=>{r.target===p&&++x>=t&&o()};setTimeout(()=>{x<t&&o()},S+1),p.addEventListener(h,a)}function GT(p,e){const m=window.getComputedStyle(p),C=i=>(m[i]||"").split(", "),R=C(`${ws}Delay`),M=C(`${ws}Duration`),d=pc(R,M),S=C(`${Vr}Delay`),t=C(`${Vr}Duration`),h=pc(S,t);let x=null,o=0,a=0;e===ws?d>0&&(x=ws,o=d,a=M.length):e===Vr?h>0&&(x=Vr,o=h,a=t.length):(o=Math.max(d,h),x=o>0?d>h?ws:Vr:null,a=x?x===ws?M.length:t.length:0);const r=x===ws&&/\b(transform|all)(,|$)/.test(C(`${ws}Property`).toString());return{type:x,timeout:o,propCount:a,hasTransform:r}}function pc(p,e){for(;p.length<e.length;)p=p.concat(p);return Math.max(...e.map((m,C)=>mc(m)+mc(p[C])))}function mc(p){return p==="auto"?0:Number(p.slice(0,-1).replace(",","."))*1e3}function gc(){return document.body.offsetHeight}function UT(p,e,m){const C=p[ca];C&&(e=(e?[e,...C]:[...C]).join(" ")),e==null?p.removeAttribute("class"):m?p.setAttribute("class",e):p.className=e}const xc=Symbol("_vod"),zT=Symbol("_vsh"),XT=Symbol(""),WT=/(^|;)\s*display\s*:/;function YT(p,e,m){const C=p.style,R=Te(m);let M=!1;if(m&&!R){if(e)if(Te(e))for(const d of e.split(";")){const S=d.slice(0,d.indexOf(":")).trim();m[S]==null&&mo(C,S,"")}else for(const d in e)m[d]==null&&mo(C,d,"");for(const d in m)d==="display"&&(M=!0),mo(C,d,m[d])}else if(R){if(e!==m){const d=C[XT];d&&(m+=";"+d),C.cssText=m,M=WT.test(m)}}else e&&p.removeAttribute("style");xc in p&&(p[xc]=M?C.display:"",p[zT]&&(C.display="none"))}const yc=/\s*!important$/;function mo(p,e,m){if(wt(m))m.forEach(C=>mo(p,e,C));else if(m==null&&(m=""),e.startsWith("--"))p.setProperty(e,m);else{const C=HT(p,e);yc.test(m)?p.setProperty(Es(C),m.replace(yc,""),"important"):p[C]=m}}const Tc=["Webkit","Moz","ms"],ml={};function HT(p,e){const m=ml[e];if(m)return m;let C=Fi(e);if(C!=="filter"&&C in p)return ml[e]=C;C=Mu(C);for(let R=0;R<Tc.length;R++){const M=Tc[R]+C;if(M in p)return ml[e]=M}return e}const Ec="http://www.w3.org/1999/xlink";function Sc(p,e,m,C,R,M=Gy(e)){C&&e.startsWith("xlink:")?m==null?p.removeAttributeNS(Ec,e.slice(6,e.length)):p.setAttributeNS(Ec,e,m):m==null||M&&!Fp(m)?p.removeAttribute(e):p.setAttribute(e,M?"":Li(m)?String(m):m)}function Cc(p,e,m,C,R){if(e==="innerHTML"||e==="textContent"){m!=null&&(p[e]=e==="innerHTML"?Wm(m):m);return}const M=p.tagName;if(e==="value"&&M!=="PROGRESS"&&!M.includes("-")){const S=M==="OPTION"?p.getAttribute("value")||"":p.value,t=m==null?p.type==="checkbox"?"on":"":String(m);(S!==t||!("_value"in p))&&(p.value=t),m==null&&p.removeAttribute(e),p._value=m;return}let d=!1;if(m===""||m==null){const S=typeof p[e];S==="boolean"?m=Fp(m):m==null&&S==="string"?(m="",d=!0):S==="number"&&(m=0,d=!0)}try{p[e]=m}catch{}d&&p.removeAttribute(R||e)}function os(p,e,m,C){p.addEventListener(e,m,C)}function KT(p,e,m,C){p.removeEventListener(e,m,C)}const Ac=Symbol("_vei");function $T(p,e,m,C,R=null){const M=p[Ac]||(p[Ac]={}),d=M[e];if(C&&d)d.value=C;else{const[S,t]=jT(e);if(C){const h=M[e]=kT(C,R);os(p,S,h,t)}else d&&(KT(p,S,d,t),M[e]=void 0)}}const Pc=/(?:Once|Passive|Capture)$/;function jT(p){let e;if(Pc.test(p)){e={};let C;for(;C=p.match(Pc);)p=p.slice(0,p.length-C[0].length),e[C[0].toLowerCase()]=!0}return[p[2]===":"?p.slice(3):Es(p.slice(2)),e]}let gl=0;const QT=Promise.resolve(),JT=()=>gl||(QT.then(()=>gl=0),gl=Date.now());function kT(p,e){const m=C=>{if(!C._vts)C._vts=Date.now();else if(C._vts<=m.attached)return;Oi(ZT(C,m.value),e,5,[C])};return m.value=p,m.attached=JT(),m}function ZT(p,e){if(wt(e)){const m=p.stopImmediatePropagation;return p.stopImmediatePropagation=()=>{m.call(p),p._stopped=!0},e.map(C=>R=>!R._stopped&&C&&C(R))}else return e}const Rc=p=>p.charCodeAt(0)===111&&p.charCodeAt(1)===110&&p.charCodeAt(2)>96&&p.charCodeAt(2)<123,qT=(p,e,m,C,R,M)=>{const d=R==="svg";e==="class"?UT(p,C,d):e==="style"?YT(p,m,C):hh(e)?Pu(e)||$T(p,e,m,C,M):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_T(p,e,C,d))?(Cc(p,e,C),!p.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Sc(p,e,C,d,M,e!=="value")):p._isVueCE&&(/[A-Z]/.test(e)||!Te(C))?Cc(p,Fi(e),C,M,e):(e==="true-value"?p._trueValue=C:e==="false-value"&&(p._falseValue=C),Sc(p,e,C,d))};function _T(p,e,m,C){if(C)return!!(e==="innerHTML"||e==="textContent"||e in p&&Rc(e)&&Gt(m));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&p.tagName==="INPUT"||e==="type"&&p.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const R=p.tagName;if(R==="IMG"||R==="VIDEO"||R==="CANVAS"||R==="SOURCE")return!1}return Rc(e)&&Te(m)?!1:e in p}const Ys=p=>{const e=p.props["onUpdate:modelValue"]||!1;return wt(e)?m=>co(e,m):e};function tE(p){p.target.composing=!0}function wc(p){const e=p.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ei=Symbol("_assign"),nr={created(p,{modifiers:{lazy:e,trim:m,number:C}},R){p[Ei]=Ys(R);const M=C||R.props&&R.props.type==="number";os(p,e?"change":"input",d=>{if(d.target.composing)return;let S=p.value;m&&(S=S.trim()),M&&(S=Io(S)),p[Ei](S)}),m&&os(p,"change",()=>{p.value=p.value.trim()}),e||(os(p,"compositionstart",tE),os(p,"compositionend",wc),os(p,"change",wc))},mounted(p,{value:e}){p.value=e??""},beforeUpdate(p,{value:e,oldValue:m,modifiers:{lazy:C,trim:R,number:M}},d){if(p[Ei]=Ys(d),p.composing)return;const S=(M||p.type==="number")&&!/^0\d/.test(p.value)?Io(p.value):p.value,t=e??"";S!==t&&(document.activeElement===p&&p.type!=="range"&&(C&&e===m||R&&p.value.trim()===t)||(p.value=t))}},Yu={deep:!0,created(p,e,m){p[Ei]=Ys(m),os(p,"change",()=>{const C=p._modelValue,R=rr(p),M=p.checked,d=p[Ei];if(wt(C)){const S=Iu(C,R),t=S!==-1;if(M&&!t)d(C.concat(R));else if(!M&&t){const h=[...C];h.splice(S,1),d(h)}}else if(vr(C)){const S=new Set(C);M?S.add(R):S.delete(R),d(S)}else d(Km(p,M))})},mounted:Mc,beforeUpdate(p,e,m){p[Ei]=Ys(m),Mc(p,e,m)}};function Mc(p,{value:e,oldValue:m},C){p._modelValue=e;let R;if(wt(e))R=Iu(e,C.props.value)>-1;else if(vr(e))R=e.has(C.props.value);else{if(e===m)return;R=Sn(e,Km(p,!0))}p.checked!==R&&(p.checked=R)}const eE={created(p,{value:e},m){p.checked=Sn(e,m.props.value),p[Ei]=Ys(m),os(p,"change",()=>{p[Ei](rr(p))})},beforeUpdate(p,{value:e,oldValue:m},C){p[Ei]=Ys(C),e!==m&&(p.checked=Sn(e,C.props.value))}},Hm={deep:!0,created(p,{value:e,modifiers:{number:m}},C){const R=vr(e);os(p,"change",()=>{const M=Array.prototype.filter.call(p.options,d=>d.selected).map(d=>m?Io(rr(d)):rr(d));p[Ei](p.multiple?R?new Set(M):M:M[0]),p._assigning=!0,Vu(()=>{p._assigning=!1})}),p[Ei]=Ys(C)},mounted(p,{value:e}){Ic(p,e)},beforeUpdate(p,e,m){p[Ei]=Ys(m)},updated(p,{value:e}){p._assigning||Ic(p,e)}};function Ic(p,e){const m=p.multiple,C=wt(e);if(!(m&&!C&&!vr(e))){for(let R=0,M=p.options.length;R<M;R++){const d=p.options[R],S=rr(d);if(m)if(C){const t=typeof S;t==="string"||t==="number"?d.selected=e.some(h=>String(h)===String(S)):d.selected=Iu(e,S)>-1}else d.selected=e.has(S);else if(Sn(rr(d),e)){p.selectedIndex!==R&&(p.selectedIndex=R);return}}!m&&p.selectedIndex!==-1&&(p.selectedIndex=-1)}}function rr(p){return"_value"in p?p._value:p.value}function Km(p,e){const m=e?"_trueValue":"_falseValue";return m in p?p[m]:e}const iE={created(p,e,m){no(p,e,m,null,"created")},mounted(p,e,m){no(p,e,m,null,"mounted")},beforeUpdate(p,e,m,C){no(p,e,m,C,"beforeUpdate")},updated(p,e,m,C){no(p,e,m,C,"updated")}};function sE(p,e){switch(p){case"SELECT":return Hm;case"TEXTAREA":return nr;default:switch(e){case"checkbox":return Yu;case"radio":return eE;default:return nr}}}function no(p,e,m,C,R){const d=sE(p.tagName,m.props&&m.props.type)[R];d&&d(p,e,m,C)}const nE=["ctrl","shift","alt","meta"],rE={stop:p=>p.stopPropagation(),prevent:p=>p.preventDefault(),self:p=>p.target!==p.currentTarget,ctrl:p=>!p.ctrlKey,shift:p=>!p.shiftKey,alt:p=>!p.altKey,meta:p=>!p.metaKey,left:p=>"button"in p&&p.button!==0,middle:p=>"button"in p&&p.button!==1,right:p=>"button"in p&&p.button!==2,exact:(p,e)=>nE.some(m=>p[`${m}Key`]&&!e.includes(m))},Ra=(p,e)=>{const m=p._withMods||(p._withMods={}),C=e.join(".");return m[C]||(m[C]=(R,...M)=>{for(let d=0;d<e.length;d++){const S=rE[e[d]];if(S&&S(R,e))return}return p(R,...M)})},aE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},oE=(p,e)=>{const m=p._withKeys||(p._withKeys={}),C=e.join(".");return m[C]||(m[C]=R=>{if(!("key"in R))return;const M=Es(R.key);if(e.some(d=>d===M||aE[d]===M))return p(R)})},hE=Ie({patchProp:qT},FT);let Lc;function lE(){return Lc||(Lc=iT(hE))}const uE=(...p)=>{const e=lE().createApp(...p),{mount:m}=e;return e.mount=C=>{const R=dE(C);if(!R)return;const M=e._component;!Gt(M)&&!M.render&&!M.template&&(M.template=R.innerHTML),R.nodeType===1&&(R.textContent="");const d=m(R,!1,fE(R));return R instanceof Element&&(R.removeAttribute("v-cloak"),R.setAttribute("data-v-app","")),d},e};function fE(p){if(p instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&p instanceof MathMLElement)return"mathml"}function dE(p){return Te(p)?document.querySelector(p):p}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let $m;const Sh=p=>$m=p,jm=Symbol();function Ql(p){return p&&typeof p=="object"&&Object.prototype.toString.call(p)==="[object Object]"&&typeof p.toJSON!="function"}var Zr;(function(p){p.direct="direct",p.patchObject="patch object",p.patchFunction="patch function"})(Zr||(Zr={}));function cE(){const p=bp(!0),e=p.run(()=>zt({}));let m=[],C=[];const R=Bu({install(M){Sh(R),R._a=M,M.provide(jm,R),M.config.globalProperties.$pinia=R,C.forEach(d=>m.push(d)),C=[]},use(M){return this._a?m.push(M):C.push(M),this},_p:m,_a:null,_e:p,_s:new Map,state:e});return R}const Qm=()=>{};function Fc(p,e,m,C=Qm){p.push(e);const R=()=>{const M=p.indexOf(e);M>-1&&(p.splice(M,1),C())};return!m&&Bp()&&zy(R),R}function Wn(p,...e){p.slice().forEach(m=>{m(...e)})}const vE=p=>p(),Oc=Symbol(),xl=Symbol();function Jl(p,e){p instanceof Map&&e instanceof Map?e.forEach((m,C)=>p.set(C,m)):p instanceof Set&&e instanceof Set&&e.forEach(p.add,p);for(const m in e){if(!e.hasOwnProperty(m))continue;const C=e[m],R=p[m];Ql(R)&&Ql(C)&&p.hasOwnProperty(m)&&!ie(C)&&!vs(C)?p[m]=Jl(R,C):p[m]=C}return p}const pE=Symbol();function mE(p){return!Ql(p)||!p.hasOwnProperty(pE)}const{assign:Is}=Object;function gE(p){return!!(ie(p)&&p.effect)}function xE(p,e,m,C){const{state:R,actions:M,getters:d}=e,S=m.state.value[p];let t;function h(){S||(m.state.value[p]=R?R():{});const x=d1(m.state.value[p]);return Is(x,M,Object.keys(d||{}).reduce((o,a)=>(o[a]=Bu(Ft(()=>{Sh(m);const r=m._s.get(p);return d[a].call(r,r)})),o),{}))}return t=Jm(p,h,e,m,C,!0),t}function Jm(p,e,m={},C,R,M){let d;const S=Is({actions:{}},m),t={deep:!0};let h,x,o=[],a=[],r;const i=C.state.value[p];!M&&!i&&(C.state.value[p]={}),zt({});let n;function l(T){let E;h=x=!1,typeof T=="function"?(T(C.state.value[p]),E={type:Zr.patchFunction,storeId:p,events:r}):(Jl(C.state.value[p],T),E={type:Zr.patchObject,payload:T,storeId:p,events:r});const A=n=Symbol();Vu().then(()=>{n===A&&(h=!0)}),x=!0,Wn(o,E,C.state.value[p])}const s=M?function(){const{state:E}=m,A=E?E():{};this.$patch(P=>{Is(P,A)})}:Qm;function u(){d.stop(),o=[],a=[],C._s.delete(p)}const f=(T,E="")=>{if(Oc in T)return T[xl]=E,T;const A=function(){Sh(C);const P=Array.from(arguments),w=[],I=[];function O(D){w.push(D)}function F(D){I.push(D)}Wn(a,{args:P,name:A[xl],store:v,after:O,onError:F});let L;try{L=T.apply(this&&this.$id===p?this:v,P)}catch(D){throw Wn(I,D),D}return L instanceof Promise?L.then(D=>(Wn(w,D),D)).catch(D=>(Wn(I,D),Promise.reject(D))):(Wn(w,L),L)};return A[Oc]=!0,A[xl]=E,A},c={_p:C,$id:p,$onAction:Fc.bind(null,a),$patch:l,$reset:s,$subscribe(T,E={}){const A=Fc(o,T,E.detached,()=>P()),P=d.run(()=>li(()=>C.state.value[p],w=>{(E.flush==="sync"?x:h)&&T({storeId:p,type:Zr.direct,events:r},w)},Is({},t,E)));return A},$dispose:u},v=ch(c);C._s.set(p,v);const y=(C._a&&C._a.runWithContext||vE)(()=>C._e.run(()=>(d=bp()).run(()=>e({action:f}))));for(const T in y){const E=y[T];if(ie(E)&&!gE(E)||vs(E))M||(i&&mE(E)&&(ie(E)?E.value=i[T]:Jl(E,i[T])),C.state.value[p][T]=E);else if(typeof E=="function"){const A=f(E,T);y[T]=A,S.actions[T]=E}}return Is(v,y),Is(Ht(v),y),Object.defineProperty(v,"$state",{get:()=>C.state.value[p],set:T=>{l(E=>{Is(E,T)})}}),C._p.forEach(T=>{Is(v,d.run(()=>T({store:v,app:C._a,pinia:C,options:S})))}),i&&M&&m.hydrate&&m.hydrate(v.$state,i),h=!0,x=!0,v}/*! #__NO_SIDE_EFFECTS__ */function On(p,e,m){let C;const R=typeof e=="function";C=R?m:e;function M(d,S){const t=J1();return d=d||(t?_n(jm,null):null),d&&Sh(d),d=$m,d._s.has(p)||(R?Jm(p,e,C,d):xE(p,C,d)),d._s.get(p)}return M.$id=p,M}function si(p){const e=Ht(p),m={};for(const C in e){const R=e[C];R.effect?m[C]=Ft({get:()=>p[C],set(M){p[C]=M}}):(ie(R)||vs(R))&&(m[C]=p1(p,C))}return m}const yE={beforeMount(p,e){const m=R=>{!p.contains(R.target)&&typeof e.value=="function"&&e.value(R)},C=p.ownerDocument||document;p.__clickOutsideHandler__=m,C.addEventListener("click",m,e.modifiers.capture)},beforeUnmount(p,e){p.__clickOutsideHandler__&&((p.ownerDocument||document).removeEventListener("click",p.__clickOutsideHandler__,e.modifiers.capture),delete p.__clickOutsideHandler__)}},TE={install:(p,e={})=>{p.directive("click-outside",yE),p.provide("libEnv",e)}};let EE=class{constructor(){mt(this,"_isEnabled",!1);mt(this,"_isCollisionDisabled",!1);mt(this,"_hasInfiniteEnergy",!0);mt(this,"_isImmortal",!0);const e=JSON.parse(localStorage.getItem("debug")??"{}");this._isEnabled=this.load(e,"_isEnabled"),this._isCollisionDisabled=this.load(e,"_isCollisionDisabled"),this._hasInfiniteEnergy=this.load(e,"_hasInfiniteEnergy"),this._isImmortal=this.load(e,"_isImmortal")}load(e,m){return e[m]===void 0?!!this[m]:e[m]}get isEnabled(){return this._isEnabled}set isEnabled(e){this._isEnabled=e,this.save()}get isCollisionDisabled(){return this.isEnabled&&this._isCollisionDisabled}set isCollisionDisabled(e){this._isCollisionDisabled=e,this.save()}get hasInfiniteEnergy(){return this.isEnabled&&this._hasInfiniteEnergy}set hasInfiniteEnergy(e){this._hasInfiniteEnergy=e,this.save()}get isImmortal(){return this.isEnabled&&this._isImmortal}set isImmortal(e){this._isImmortal=e,this.save()}save(){localStorage.setItem("debug",JSON.stringify(this))}};const Ot={player:{hpStart:100,hpMax:100,hpRegen:0,energyStart:25,energyMax:100,energyRegen:.015,energyDrainRate:.1,dashDistance:250,dashSpeed:30,dashCooldown:500,dashDamageReduction:.5,teleportDistance:250,teleportCooldown:1e3,velocity:2,maxVelocity:4,acceleration:.2,deceleration:.1,boundsPadding:50,colorDash:43775,colorDamage:16755370},asteroid:{baseSpawnRate:2e3,minSpeed:2,maxSpeedMultiplier:3,rotationSpeed:.01,damageMultiplier:.5,small:{hp:20,speed:1,size:[2,3]},large:{hp:50,speed:1,size:[4,5]}},powerUp:{rotationSpeed:.01,hpSmall:1,hpMedium:3,hpLarge:5,energySmall:2,energyMedium:20,energyLarge:30},beam:{damage:1,speed:10,maxScale:40,scaleDuration:500,minAngle:-Math.PI/3,maxAngle:Math.PI/3,scaleX:3}},SE=p=>typeof p=="object"&&!Array.isArray(p)&&p!==null,km=(p=16)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let m="";const C=e.length;for(let R=0;R<p;R++)m+=e.charAt(Math.floor(Math.random()*C));return m},CE=p=>{try{return new URL(p,window.location.origin).origin===window.location.origin}catch{return!1}},yi=(p,e,m)=>Math.max(e,Math.min(p,m)),Zm=(p,e,m=0)=>{const C=(p-m)%e;return C<e/2?p-C:p+(e-C)},Ls=(p,e,m=1)=>{const C=Math.random()*(e-p)+p;return Zm(C,m)},Dc=p=>p[Math.floor(Math.random()*p.length)],Ne=[];for(let p=0;p<256;++p)Ne.push((p+256).toString(16).slice(1));function AE(p,e=0){return(Ne[p[e+0]]+Ne[p[e+1]]+Ne[p[e+2]]+Ne[p[e+3]]+"-"+Ne[p[e+4]]+Ne[p[e+5]]+"-"+Ne[p[e+6]]+Ne[p[e+7]]+"-"+Ne[p[e+8]]+Ne[p[e+9]]+"-"+Ne[p[e+10]]+Ne[p[e+11]]+Ne[p[e+12]]+Ne[p[e+13]]+Ne[p[e+14]]+Ne[p[e+15]]).toLowerCase()}let yl;const PE=new Uint8Array(16);function RE(){if(!yl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yl=crypto.getRandomValues.bind(crypto)}return yl(PE)}const wE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Nc={randomUUID:wE};function Hu(p,e,m){var R;if(Nc.randomUUID&&!p)return Nc.randomUUID();p=p||{};const C=p.random??((R=p.rng)==null?void 0:R.call(p))??RE();if(C.length<16)throw new Error("Random bytes length must be >= 16");return C[6]=C[6]&15|64,C[8]=C[8]&63|128,AE(C)}class ME{constructor(e,m){mt(this,"id");mt(this,"sprite");mt(this,"_hp",1);mt(this,"maxHp",1);mt(this,"maxSpeed",3);mt(this,"minSpeed",Ot.asteroid.minSpeed);mt(this,"isLarge",!1);mt(this,"onDestroy");mt(this,"scene");mt(this,"key");mt(this,"size",1);mt(this,"angle",0);this.id=Hu(),this.key=`asteroid/${Ls(1,6)}`,this.scene=e,this.maxSpeed=(m.maxSpeed??1)*Ot.asteroid.maxSpeedMultiplier,this.isLarge=m.isLarge??!1,this.size=this.isLarge?Ls(Ot.asteroid.large.size[0],Ot.asteroid.large.size[1],.5):Ls(Ot.asteroid.small.size[0],Ot.asteroid.small.size[1],.5),this.hp=this.isLarge?Ot.asteroid.large.hp:Ot.asteroid.small.hp,this.maxHp=this.hp,this.sprite=this.create(),this.onDestroy=m.onDestroy}get hp(){return this._hp}set hp(e){if(this._hp=e,e<=0){this.destroy(!0);return}if(!this.sprite)return;const m=this._hp/this.maxHp,M=Phaser.Display.Color.Interpolate.ColorWithColor(Phaser.Display.Color.ValueToColor(16766336),Phaser.Display.Color.ValueToColor(16777215),100,m*100);this.sprite.setTint(Phaser.Display.Color.GetColor(M.r,M.g,M.b))}get damage(){return this.hp*Ot.asteroid.damageMultiplier}get speed(){const e=this.hp/this.maxHp,m=this.minSpeed+(this.maxSpeed-this.minSpeed)*e;return yi(m,this.minSpeed,this.maxSpeed)}get velocity(){return{x:-this.speed*Math.cos(this.angle),y:this.speed*Math.sin(this.angle)}}create(){const e=this.scene.textures.get(this.key).getSourceImage(),m=Math.random()<.75;let C,R;return m?(C=this.scene.scale.width+e.width,R=Ls(0,this.scene.scale.height-e.height),this.angle=Ls(-15,15)*Math.PI/180):(C=Ls(this.scene.scale.width/2,this.scene.scale.width)+e.width,R=-e.height,this.angle=Ls(15,45)*Math.PI/180),this.scene.add.image(C,R,this.key).setScale(this.size).setDepth(100)}update(){this.sprite.x+=this.velocity.x,this.sprite.y+=this.velocity.y,this.sprite.rotation+=Ot.asteroid.rotationSpeed;const e=50;(this.sprite.x<-this.sprite.width-e||this.sprite.y>this.scene.scale.height+this.sprite.height+e)&&this.destroy()}destroy(e=!1){const m={x:this.sprite.x,y:this.sprite.y};this.onDestroy(this.id,{isDestroyedByPlayer:e,position:m,size:this.size,isLarge:this.isLarge});const{x:C,y:R}={x:this.sprite.x,y:this.sprite.y};this.sprite.destroy();const M=this.scene.add.sprite(C,R,"explosion/md").setScale(this.size*.5).setDepth(100);M.anims.play("explosion/md").once("animationcomplete",()=>M.destroy())}}var go={exports:{}},IE=go.exports,bc;function LE(){return bc||(bc=1,function(p,e){(function(C,R){p.exports=R()})(IE,()=>(()=>{var m={50792:d=>{var S=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function x(i,n,l){this.fn=i,this.context=n,this.once=l||!1}function o(i,n,l,s,u){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new x(l,s||i,u),c=t?t+n:n;return i._events[c]?i._events[c].fn?i._events[c]=[i._events[c],f]:i._events[c].push(f):(i._events[c]=f,i._eventsCount++),i}function a(i,n){--i._eventsCount===0?i._events=new h:delete i._events[n]}function r(){this._events=new h,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,s;if(this._eventsCount===0)return n;for(s in l=this._events)S.call(l,s)&&n.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,s=this._events[l];if(!s)return[];if(s.fn)return[s.fn];for(var u=0,f=s.length,c=new Array(f);u<f;u++)c[u]=s[u].fn;return c},r.prototype.listenerCount=function(n){var l=t?t+n:n,s=this._events[l];return s?s.fn?1:s.length:0},r.prototype.emit=function(n,l,s,u,f,c){var v=t?t+n:n;if(!this._events[v])return!1;var g=this._events[v],y=arguments.length,T,E;if(g.fn){switch(g.once&&this.removeListener(n,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,l),!0;case 3:return g.fn.call(g.context,l,s),!0;case 4:return g.fn.call(g.context,l,s,u),!0;case 5:return g.fn.call(g.context,l,s,u,f),!0;case 6:return g.fn.call(g.context,l,s,u,f,c),!0}for(E=1,T=new Array(y-1);E<y;E++)T[E-1]=arguments[E];g.fn.apply(g.context,T)}else{var A=g.length,P;for(E=0;E<A;E++)switch(g[E].once&&this.removeListener(n,g[E].fn,void 0,!0),y){case 1:g[E].fn.call(g[E].context);break;case 2:g[E].fn.call(g[E].context,l);break;case 3:g[E].fn.call(g[E].context,l,s);break;case 4:g[E].fn.call(g[E].context,l,s,u);break;default:if(!T)for(P=1,T=new Array(y-1);P<y;P++)T[P-1]=arguments[P];g[E].fn.apply(g[E].context,T)}}return!0},r.prototype.on=function(n,l,s){return o(this,n,l,s,!1)},r.prototype.once=function(n,l,s){return o(this,n,l,s,!0)},r.prototype.removeListener=function(n,l,s,u){var f=t?t+n:n;if(!this._events[f])return this;if(!l)return a(this,f),this;var c=this._events[f];if(c.fn)c.fn===l&&(!u||c.once)&&(!s||c.context===s)&&a(this,f);else{for(var v=0,g=[],y=c.length;v<y;v++)(c[v].fn!==l||u&&!c[v].once||s&&c[v].context!==s)&&g.push(c[v]);g.length?this._events[f]=g.length===1?g[0]:g:a(this,f)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&a(this,l)):(this._events=new h,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,d.exports=r},11517:(d,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38829),x=function(o,a,r,i){for(var n=o[0],l=1;l<o.length;l++){var s=o[l];h(s,n,a,r,i),n=s}return o};d.exports=x},80318:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n){return h(o,"angle",a,r,i,n)};d.exports=x},60757:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){for(var o=0;o<t.length;o++){var a=t[o];h.call(x,a)}return t};d.exports=S},69927:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){x===void 0&&(x=0);for(var o=x;o<t.length;o++){var a=t[o],r=!0;for(var i in h)a[i]!==h[i]&&(r=!1);if(r)return a}return null};d.exports=S},32265:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){x===void 0&&(x=0);for(var o=t.length-1;o>=x;o--){var a=t[o],r=!0;for(var i in h)a[i]!==h[i]&&(r=!1);if(r)return a}return null};d.exports=S},94420:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11879),x=t(60461),o=t(95540),a=t(29747),r=t(41481),i=new r({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),n=function(l,s){s===void 0&&(s={});var u=s.hasOwnProperty("width"),f=s.hasOwnProperty("height"),c=o(s,"width",-1),v=o(s,"height",-1),g=o(s,"cellWidth",1),y=o(s,"cellHeight",g),T=o(s,"position",x.TOP_LEFT),E=o(s,"x",0),A=o(s,"y",0),P=0,w=0,I=c*g,O=v*y;i.setPosition(E,A),i.setSize(g,y);for(var F=0;F<l.length;F++)if(h(l[F],i,T),u&&c===-1)i.x+=g;else if(f&&v===-1)i.y+=y;else if(f&&!u){if(w+=y,i.y+=y,w===O&&(w=0,P+=g,i.y=A,i.x+=g,P===I))break}else if(P+=g,i.x+=g,P===I&&(P=0,w+=y,i.x=E,i.y+=y,w===O))break;return l};d.exports=n},41721:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n){return h(o,"alpha",a,r,i,n)};d.exports=x},67285:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n){return h(o,"x",a,r,i,n)};d.exports=x},9074:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"x",a,i,l,s),h(o,"y",r,n,l,s)};d.exports=x},75222:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n){return h(o,"y",a,r,i,n)};d.exports=x},22983:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x===void 0&&(x=0),o===void 0&&(o=6.28);for(var a=x,r=(o-x)/t.length,i=h.x,n=h.y,l=h.radius,s=0;s<t.length;s++)t[s].x=i+l*Math.cos(a),t[s].y=n+l*Math.sin(a),a+=r;return t};d.exports=S},95253:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x===void 0&&(x=0),o===void 0&&(o=6.28);for(var a=x,r=(o-x)/t.length,i=h.width/2,n=h.height/2,l=0;l<t.length;l++)t[l].x=h.x+i*Math.cos(a),t[l].y=h.y+n*Math.sin(a),a+=r;return t};d.exports=S},88505:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15258),x=t(26708),o=function(a,r,i){var n;i?n=x(r,i,a.length):n=h(r,a.length);for(var l=0;l<a.length;l++){var s=a[l],u=n[l];s.x=u.x,s.y=u.y}return a};d.exports=o},41346:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14649),x=t(86003),o=t(49498),a=function(r,i,n){n===void 0&&(n=0);var l=h(i,!1,r.length);n>0?x(l,n):n<0&&o(l,Math.abs(n));for(var s=0;s<r.length;s++)r[s].x=l[s].x,r[s].y=l[s].y;return r};d.exports=a},11575:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84993),x=function(o,a,r){var i=h({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r),n=h({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},r),l=h({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},r);i.pop(),n.pop(),l.pop(),i=i.concat(n,l);for(var s=i.length/o.length,u=0,f=0;f<o.length;f++){var c=o[f],v=i[Math.floor(u)];c.x=v.x,c.y=v.y,u+=s}return o};d.exports=x},29953:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){for(var o=0;o<t.length;o++){var a=t[o];a.anims&&a.anims.play(h,x)}return t};d.exports=S},66979:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,n=0,l=t.length;if(r===1)for(i=a;i<l;i++)t[i][h]+=x+n*o,n++;else for(i=a;i>=0;i--)t[i][h]+=x+n*o,n++;return t};d.exports=S},43967:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,n=0,l=t.length;if(r===1)for(i=a;i<l;i++)t[i][h]=x+n*o,n++;else for(i=a;i>=0;i--)t[i][h]=x+n*o,n++;return t};d.exports=S},88926:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28176),x=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};d.exports=x},33286:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24820),x=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};d.exports=x},96e3:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65822),x=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};d.exports=x},28789:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26597),x=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};d.exports=x},97154:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90260),x=function(o,a){for(var r=0;r<o.length;r++)h(a,o[r]);return o};d.exports=x},20510:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n){return h(o,"rotation",a,r,i,n)};d.exports=x},91051:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),x=t(20339),o=function(a,r,i){for(var n=r.x,l=r.y,s=0;s<a.length;s++){var u=a[s];h(u,n,l,i,Math.max(1,x(u.x,u.y,n,l)))}return a};d.exports=o},76332:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),x=function(o,a,r,i){var n=a.x,l=a.y;if(i===0)return o;for(var s=0;s<o.length;s++)h(o[s],n,l,r,i);return o};d.exports=x},61619:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n){return h(o,"scaleX",a,r,i,n)};d.exports=x},94868:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scaleX",a,i,l,s),h(o,"scaleY",r,n,l,s)};d.exports=x},95532:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),x=function(o,a,r,i,n){return h(o,"scaleY",a,r,i,n)};d.exports=x},8689:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"alpha",a,r,i,n)};d.exports=x},2645:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i){return h(o,"blendMode",a,0,r,i)};d.exports=x},32372:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"depth",a,r,i,n)};d.exports=x},85373:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){for(var o=0;o<t.length;o++)t[o].setInteractive(h,x);return t};d.exports=S},81583:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"originX",a,i,l,s),h(o,"originY",r,n,l,s),o.forEach(function(u){u.updateDisplayOrigin()}),o};d.exports=x},79939:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"rotation",a,r,i,n)};d.exports=x},2699:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scaleX",a,i,l,s),h(o,"scaleY",r,n,l,s)};d.exports=x},98739:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"scaleX",a,r,i,n)};d.exports=x},98476:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"scaleY",a,r,i,n)};d.exports=x},6207:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"scrollFactorX",a,i,l,s),h(o,"scrollFactorY",r,n,l,s)};d.exports=x},6607:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"scrollFactorX",a,r,i,n)};d.exports=x},72248:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"scrollFactorY",a,r,i,n)};d.exports=x},14036:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a){for(var r=0;r<t.length;r++)t[r].setTint(h,x,o,a);return t};d.exports=S},50159:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i){return h(o,"visible",a,0,r,i)};d.exports=x},77597:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"x",a,r,i,n)};d.exports=x},83194:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n,l,s){return r==null&&(r=a),h(o,"x",a,i,l,s),h(o,"y",r,n,l,s)};d.exports=x},67678:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),x=function(o,a,r,i,n){return h(o,"y",a,r,i,n)};d.exports=x},35850:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=new h);var l,s,u=o.length;if(u===1)l=o[0].x,s=o[0].y,o[0].x=a,o[0].y=r;else{var f=1,c=0;i===0&&(c=u-1,f=u-2),l=o[c].x,s=o[c].y,o[c].x=a,o[c].y=r;for(var v=0;v<u;v++)if(!(f>=u||f===-1)){var g=o[f],y=g.x,T=g.y;g.x=l,g.y=s,l=y,s=T,i===0?f--:f++}}return n.x=l,n.y=s,n};d.exports=x},8628:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33680),x=function(o){return h(o)};d.exports=x},21837:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),x=function(o,a,r,i,n){n===void 0&&(n=!1);var l=Math.abs(i-r)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][a]+=h(s*l,r,i);else for(s=0;s<o.length;s++)o[s][a]=h(s*l,r,i);return o};d.exports=x},21910:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),x=function(o,a,r,i,n){n===void 0&&(n=!1);var l=Math.abs(i-r)/o.length,s;if(n)for(s=0;s<o.length;s++)o[s][a]+=h(s*l,r,i);else for(s=0;s<o.length;s++)o[s][a]=h(s*l,r,i);return o};d.exports=x},62054:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a){if(a===void 0&&(a=!1),t.length===0)return t;if(t.length===1)return a?t[0][h]+=(o+x)/2:t[0][h]=(o+x)/2,t;var r=Math.abs(o-x)/(t.length-1),i;if(a)for(i=0;i<t.length;i++)t[i][h]+=i*r+x;else for(i=0;i<t.length;i++)t[i][h]=i*r+x;return t};d.exports=S},79815:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};d.exports=S},39665:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),x=function(o,a,r){r===void 0&&(r=0);for(var i=0;i<o.length;i++){var n=o[i];n.x=h(n.x,a.left-r,a.right+r),n.y=h(n.y,a.top-r,a.bottom+r)}return o};d.exports=x},61061:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(74943),a=t(81957),r=t(41138),i=t(35154),n=t(90126),l=new x({initialize:function(u,f,c){this.manager=u,this.key=f,this.type="frame",this.frames=this.getFrames(u.textureManager,i(c,"frames",[]),i(c,"defaultTextureKey",null),i(c,"sortFrames",!0)),this.frameRate=i(c,"frameRate",null),this.duration=i(c,"duration",null),this.msPerFrame,this.skipMissedFrames=i(c,"skipMissedFrames",!0),this.delay=i(c,"delay",0),this.repeat=i(c,"repeat",0),this.repeatDelay=i(c,"repeatDelay",0),this.yoyo=i(c,"yoyo",!1),this.showBeforeDelay=i(c,"showBeforeDelay",!1),this.showOnStart=i(c,"showOnStart",!1),this.hideOnComplete=i(c,"hideOnComplete",!1),this.randomFrame=i(c,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,u,f,c){f===null&&c===null?(s.frameRate=24,s.duration=24/u*1e3):f&&c===null?(s.duration=f,s.frameRate=u/(f/1e3)):(s.frameRate=c,s.duration=u/c*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,u){var f=this.getFrames(this.manager.textureManager,u);if(f.length>0){if(s===0)this.frames=f.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(f);else{var c=this.frames.slice(0,s),v=this.frames.slice(s);this.frames=c.concat(f,v)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,u,f,c){c===void 0&&(c=!0);var v=[],g,y,T=1,E,A;if(typeof u=="string"){if(A=u,!s.exists(A))return console.warn('Texture "%s" not found',A),v;var P=s.get(A),w=P.getFrameNames();c&&n(w),u=[],w.forEach(function(b){u.push({key:A,frame:b})})}if(!Array.isArray(u)||u.length===0)return v;for(E=0;E<u.length;E++){var I=u[E],O=i(I,"key",f);if(O){var F=i(I,"frame",0),L=s.getFrame(O,F);if(!L){console.warn('Texture "%s" not found',O);continue}y=new r(O,F,T,L),y.duration=i(I,"duration",0),y.isFirst=!g,g&&(g.nextFrame=y,y.prevFrame=g),v.push(y),g=y,T++}}if(v.length>0){y.isLast=!0,y.nextFrame=v[0],v[0].prevFrame=y;var D=1/(v.length-1);for(E=0;E<v.length;E++)v[E].progress=E*D}return v},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.msPerFrame||s.currentFrame.duration},getFrameByProgress:function(s){return s=h(s,0,1),a(s,this.frames,"progress")},nextFrame:function(s){var u=s.currentFrame;u.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,u.nextFrame)},handleYoyoFrame:function(s,u){if(u||(u=!1),s.inReverse===!u&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=u),this.repeatAnimation(s);return}if(s.inReverse!==u&&s.repeatCounter===0){s.complete();return}s.forward=u;var f=u?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var u=s.currentFrame;u.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,u.prevFrame)},updateAndGetNextTick:function(s,u){s.setCurrentFrame(u),this.getNextTick(s)},removeFrame:function(s){var u=this.frames.indexOf(s);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){s.frames.push(u.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,u=1/(s-1),f,c=0;c<s;c++)f=this.frames[c],f.index=c+1,f.isFirst=!1,f.isLast=!1,f.progress=c*u,c===0?(f.isFirst=!0,s===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[s-1],f.nextFrame=this.frames[c+1])):c===s-1&&s>1?(f.isLast=!0,f.prevFrame=this.frames[s-2],f.nextFrame=this.frames[0]):s>1&&(f.prevFrame=this.frames[c-1],f.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});d.exports=l},41138:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i,n,l){l===void 0&&(l=!1),this.textureKey=a,this.textureFrame=r,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});d.exports=x},60848:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),x=t(83419),o=t(90330),a=t(50792),r=t(74943),i=t(8443),n=t(95540),l=t(35154),s=t(36383),u=t(20283),f=t(41836),c=new x({Extends:a,initialize:function(g){a.call(this),this.game=g,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",g.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(v,g,y){var T=this.anims,E=this.mixes,A=typeof v=="string"?v:v.key,P=typeof g=="string"?g:g.key;if(T.has(A)&&T.has(P)){var w=E.get(A);w||(w={}),w[P]=y,E.set(A,w)}return this},removeMix:function(v,g){var y=this.mixes,T=typeof v=="string"?v:v.key,E=y.get(T);if(E)if(g){var A=typeof g=="string"?g:g.key;E.hasOwnProperty(A)&&delete E[A]}else g||y.delete(T);return this},getMix:function(v,g){var y=this.mixes,T=typeof v=="string"?v:v.key,E=typeof g=="string"?g:g.key,A=y.get(T);return A&&A.hasOwnProperty(E)?A[E]:0},add:function(v,g){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(g.key=v,this.anims.set(v,g),this.emit(r.ADD_ANIMATION,v,g),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,g,y){var T=[],E=this.game.cache.json.get(v);if(!E)return console.warn("No Aseprite data found for: "+v),T;var A=this,P=l(E,"meta",null),w=l(E,"frames",null);if(P&&w){var I=l(P,"frameTags",[]);I.forEach(function(O){var F=[],L=n(O,"name",null),D=n(O,"from",0),b=n(O,"to",0),U=n(O,"direction","forward");if(L&&(!g||g&&g.indexOf(L)>-1)){for(var W=0,H=D;H<=b;H++){var Y=H.toString(),G=w[Y];if(G){var X=n(G,"duration",s.MAX_SAFE_INTEGER);F.push({key:v,frame:Y,duration:X}),W+=X}}U==="reverse"&&(F=F.reverse());var V={key:L,frames:F,duration:W,yoyo:U==="pingpong"},B;y?y.anims&&(B=y.anims.create(V)):B=A.create(V),B&&T.push(B)}})}return T},create:function(v){var g=v.key,y=!1;return g&&(y=this.get(g),y?console.warn("AnimationManager key already exists: "+g):(y=new h(this,g,v),this.anims.set(g,y),this.emit(r.ADD_ANIMATION,g,y))),y},fromJSON:function(v,g){g===void 0&&(g=!1),g&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var y=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var T=0;T<v.anims.length;T++)y.push(this.create(v.anims[T]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&y.push(this.create(v));return y},generateFrameNames:function(v,g){var y=l(g,"prefix",""),T=l(g,"start",0),E=l(g,"end",0),A=l(g,"suffix",""),P=l(g,"zeroPad",0),w=l(g,"outputArray",[]),I=l(g,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),w;var O=this.textureManager.get(v);if(!O)return w;var F;if(g)for(I||(I=u(T,E)),F=0;F<I.length;F++){var L=y+f(I[F],P,"0",1)+A;O.has(L)?w.push({key:v,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,v)}else for(I=O.getFrameNames(),F=0;F<I.length;F++)w.push({key:v,frame:I[F]});return w},generateFrameNumbers:function(v,g){var y=l(g,"start",0),T=l(g,"end",-1),E=l(g,"first",!1),A=l(g,"outputArray",[]),P=l(g,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),A;var w=this.textureManager.get(v);if(!w)return A;E&&w.has(E)&&A.push({key:v,frame:E}),P||(T===-1&&(T=w.frameTotal-2),P=u(y,T));for(var I=0;I<P.length;I++){var O=P[I];w.has(O)?A.push({key:v,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,v)}return A},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var g=this.textureManager.get(v),y=g.key,T=this.anims.getArray(),E=[],A=0;A<T.length;A++)for(var P=T[A],w=P.frames,I=0;I<w.length;I++)if(w[I].textureKey===y){E.push(P.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(v,g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)g[y].anims.play(v);return this},staggerPlay:function(v,g,y,T){y===void 0&&(y=0),T===void 0&&(T=!0),Array.isArray(g)||(g=[g]);var E=g.length;T||E--;for(var A=0;A<g.length;A++){var P=y<0?Math.abs(y)*(E-A):y*A;g[A].anims.playAfterDelay(v,P)}return this},remove:function(v){var g=this.get(v);return g&&(this.emit(r.REMOVE_ANIMATION,v,g),this.anims.delete(v),this.removeMix(v)),g},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(v){var g={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?g.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(y,T){g.anims.push(T.toJSON())}),g},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});d.exports=c},9674:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),x=t(30976),o=t(83419),a=t(90330),r=t(74943),i=t(95540),n=new o({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var s=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var f=l[u];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var s=this.animationManager,u=typeof l=="string"?l:i(l,"key",null),f=this.exists(u)?this.get(u):s.get(u);if(!f)console.warn("Missing animation: "+u);else{this.currentAnim=f;var c=f.getTotalFrames(),v=i(l,"frameRate",f.frameRate),g=i(l,"duration",f.duration);f.calculateDuration(this,c,g,v),this.delay=i(l,"delay",f.delay),this.repeat=i(l,"repeat",f.repeat),this.repeatDelay=i(l,"repeatDelay",f.repeatDelay),this.yoyo=i(l,"yoyo",f.yoyo),this.showBeforeDelay=i(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=i(l,"showOnStart",f.showOnStart),this.hideOnComplete=i(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=i(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=i(l,"randomFrame",f.randomFrame),this.timeScale=i(l,"timeScale",this.timeScale);var y=i(l,"startFrame",0);y>c&&(y=0),this.randomFrame&&(y=x(0,c-1));var T=f.frames[y];y===0&&!this.forward&&(T=f.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,s){if(!this.isPlaying)this.delayCounter=s,this.play(l,!0);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(l,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(l,s){s===void 0&&(s=!1);var u=this.currentAnim,f=this.parent,c=typeof l=="string"?l:l.key;if(s&&this.isPlaying&&u.key===c)return f;if(u&&this.isPlaying){var v=this.animationManager.getMix(u.key,l);if(v>0)return this.playAfterDelay(l,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,s){s===void 0&&(s=!1);var u=typeof l=="string"?l:l.key;return s&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var s=this.currentAnim,u=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,s){var u=this.currentAnim;if(u){var f=this.currentFrame,c=this.parent,v=f.textureFrame;c.emit(l,u,f,c,v),s&&c.emit(s+u.key,u,f,c,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var s=l.progress;return this.inReverse&&(s*=-1),s},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,s){l===void 0&&(l=!1),s===void 0&&(s=!1);var u=this.currentAnim,f=this.parent;return u?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,s){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?u.nextFrame(this):u.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var s=this.parent;return this.currentFrame=l,s.texture=l.frame.texture,s.frame=l.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),l.setAlpha&&(s.alpha=l.alpha),s.setSizeToFrame(),s._originComponent&&(l.frame.customPivot?s.setOrigin(l.frame.pivotX,l.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var s=l.key,u=!1;return s&&(u=this.get(s),u?console.warn("Animation key already exists: "+s):(u=new h(this,s,l),this.anims||(this.anims=new a),this.anims.set(s,u))),u},createFromAseprite:function(l,s){return this.animationManager.createFromAseprite(l,s,this.parent)},generateFrameNames:function(l,s){return this.animationManager.generateFrameNames(l,s)},generateFrameNumbers:function(l,s){return this.animationManager.generateFrameNumbers(l,s)},remove:function(l){var s=this.get(l);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(l)),s},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});d.exports=n},57090:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="add"},25312:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="animationcomplete"},89580:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="animationcomplete-"},52860:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="animationrepeat"},63850:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="animationrestart"},99085:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="animationstart"},28087:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="animationstop"},1794:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="animationupdate"},52562:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pauseall"},57953:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="remove"},68339:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resumeall"},74943:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(90330),o=t(50792),a=t(24736),r=new h({initialize:function(){this.entries=new x,this.events=new o},add:function(i,n){return this.entries.set(i,n),this.events.emit(a.ADD,this,i,n),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var n=this.get(i);return n&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});d.exports=r},24047:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2161),x=t(83419),o=t(8443),a=new x({initialize:function(i){this.game=i,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new h),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<r.length;i++)this[r[i]].destroy(),this[r[i]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});d.exports=a},51464:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="add"},59261:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="remove"},24736:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(39506),a=t(50792),r=t(19715),i=t(87841),n=t(61340),l=t(80333),s=t(26099),u=new h({Extends:a,Mixins:[x.AlphaSingle,x.Visible],initialize:function(c,v,g,y){c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=c,this._y=v,this._width=g,this._height=y,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(g/2,y/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this.originX=f,this.originY=c,this},getScroll:function(f,c,v){v===void 0&&(v=new s);var g=this.width*.5,y=this.height*.5;return v.x=f-g,v.y=c-y,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(f){var c=this.width*.5;return this.midPoint.x=f,this.scrollX=f-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var c=this.height*.5;return this.midPoint.y=f,this.scrollY=f-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,c){return this.centerOnX(f),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,c=this.width*.5,v=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-c,this.scrollY=f.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var c=this.matrix.matrix,v=c[0],g=c[1],y=c[2],T=c[3],E=v*T-g*y;if(!E)return f;var A=c[4],P=c[5],w=this.scrollX,I=this.scrollY,O=this.width,F=this.height,L=this.y,D=L+F,b=this.x,U=b+O,W=this.culledObjects,H=f.length;E=1/E,W.length=0;for(var Y=0;Y<H;++Y){var G=f[Y];if(!G.hasOwnProperty("width")||G.parentContainer){W.push(G);continue}var X=G.width,V=G.height,B=G.x-w*G.scrollFactorX-X*G.originX,z=G.y-I*G.scrollFactorY-V*G.originY,$=B*v+z*y+A,j=B*g+z*T+P,k=(B+X)*v+(z+V)*y+A,q=(B+X)*g+(z+V)*T+P;k>b&&$<U&&q>L&&j<D&&W.push(G)}return W},getWorldPoint:function(f,c,v){v===void 0&&(v=new s);var g=this.matrix.matrix,y=g[0],T=g[1],E=g[2],A=g[3],P=g[4],w=g[5],I=y*A-T*E;if(!I)return v.x=f,v.y=c,v;I=1/I;var O=A*I,F=-T*I,L=-E*I,D=y*I,b=(E*w-A*P)*I,U=(T*P-y*w)*I,W=Math.cos(this.rotation),H=Math.sin(this.rotation),Y=this.zoomX,G=this.zoomY,X=this.scrollX,V=this.scrollY,B=f+(X*W-V*H)*Y,z=c+(X*H+V*W)*G;return v.x=B*O+z*L+b,v.y=B*F+z*D+U,v},ignore:function(f){var c=this.id;Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var g=f[v];Array.isArray(g)?this.ignore(g):g.isParent?this.ignore(g.getChildren()):g.cameraFilter|=c}return this},clampX:function(f){var c=this._bounds,v=this.displayWidth,g=c.x+(v-this.width)/2,y=Math.max(g,g+c.width-v);return f<g?f=g:f>y&&(f=y),f},clampY:function(f){var c=this._bounds,v=this.displayHeight,g=c.y+(v-this.height)/2,y=Math.max(g,g+c.height-v);return f<g?f=g:f>y&&(f=y),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=o(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,c,v,g,y){return y===void 0&&(y=!1),this._bounds.setTo(f,c,v,g),this.dirty=!0,this.useBounds=!0,y?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new i);var c=this._bounds;return f.setTo(c.x,c.y,c.width,c.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,c){return c===void 0&&(c=f),this.x=f,this.y=c,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=c;var v=f.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(f,c){return c===void 0&&(c=f),this.scrollX=f,this.scrollY=c,this},setSize:function(f,c){return c===void 0&&(c=f),this.width=f,this.height=c,this},setViewport:function(f,c,v,g){return this.x=f,this.y=c,this.width=v,this.height=g,this},setZoom:function(f,c){return f===void 0&&(f=1),c===void 0&&(c=f),f===0&&(f=.001),c===0&&(c=.001),this.zoomX=f,this.zoomY=c,this},setMask:function(f,c){return c===void 0&&(c=!0),this.mask=f,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;f&&!this._customViewport?c.customViewports++:!f&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});d.exports=u},38058:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),x=t(67502),o=t(45319),a=t(83419),r=t(31401),i=t(20052),n=t(19715),l=t(28915),s=t(87841),u=t(26099),f=new a({Extends:h,Mixins:[r.PostPipeline],initialize:function(v,g,y,T){h.call(this,v,g,y,T),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(c,v){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=v):this.deadzone=new s(0,0,c,v),this._follow){var g=this.width/2,y=this.height/2,T=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(T,E),this.scrollX=T-g,this.scrollY=E-y}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,v,g,y,T,E){return this.fadeEffect.start(!1,c,v,g,y,!0,T,E)},fadeOut:function(c,v,g,y,T,E){return this.fadeEffect.start(!0,c,v,g,y,!0,T,E)},fadeFrom:function(c,v,g,y,T,E,A){return this.fadeEffect.start(!1,c,v,g,y,T,E,A)},fade:function(c,v,g,y,T,E,A){return this.fadeEffect.start(!0,c,v,g,y,T,E,A)},flash:function(c,v,g,y,T,E,A){return this.flashEffect.start(c,v,g,y,T,E,A)},shake:function(c,v,g,y,T){return this.shakeEffect.start(c,v,g,y,T)},pan:function(c,v,g,y,T,E,A){return this.panEffect.start(c,v,g,y,T,E,A)},rotateTo:function(c,v,g,y,T,E,A){return this.rotateToEffect.start(c,v,g,y,T,E,A)},zoomTo:function(c,v,g,y,T,E){return this.zoomEffect.start(c,v,g,y,T,E)},preRender:function(){this.renderList.length=0;var c=this.width,v=this.height,g=c*.5,y=v*.5,T=this.zoomX,E=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(T)&&Number.isInteger(E);var P=c*this.originX,w=v*this.originY,I=this._follow,O=this.deadzone,F=this.scrollX,L=this.scrollY;O&&x(O,this.midPoint.x,this.midPoint.y);var D=!1;if(I&&!this.panEffect.isRunning){var b=this.lerp,U=I.x-this.followOffset.x,W=I.y-this.followOffset.y;O?(U<O.x?F=l(F,F-(O.x-U),b.x):U>O.right&&(F=l(F,F+(U-O.right),b.x)),W<O.y?L=l(L,L-(O.y-W),b.y):W>O.bottom&&(L=l(L,L+(W-O.bottom),b.y))):(F=l(F,U-P,b.x),L=l(L,W-w,b.y)),D=!0}this.roundPixels&&(F=Math.floor(F),L=Math.floor(L)),this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.scrollX=F,this.scrollY=L;var H=F+g,Y=L+y;this.midPoint.set(H,Y);var G=Math.floor(c/T+.5),X=Math.floor(v/E+.5),V=Math.floor(H-G/2+.5),B=Math.floor(Y-X/2+.5);this.worldView.setTo(V,B,G,X),A.applyITRS(Math.floor(this.x+P+.5),Math.floor(this.y+w+.5),this.rotation,T,E),A.translate(-P,-w),this.shakeEffect.preRender(),D&&this.emit(n.FOLLOW_UPDATE,this,I)},setLerp:function(c,v){return c===void 0&&(c=1),v===void 0&&(v=c),this.lerp.set(c,v),this},setFollowOffset:function(c,v){return c===void 0&&(c=0),v===void 0&&(v=0),this.followOffset.set(c,v),this},startFollow:function(c,v,g,y,T,E){v===void 0&&(v=!1),g===void 0&&(g=1),y===void 0&&(y=g),T===void 0&&(T=0),E===void 0&&(E=T),this._follow=c,this.roundPixels=v,g=o(g,0,1),y=o(y,0,1),this.lerp.set(g,y),this.followOffset.set(T,E);var A=this.width/2,P=this.height/2,w=c.x-T,I=c.y-E;return this.midPoint.set(w,I),this.scrollX=w-A,this.scrollY=I-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,v){this.visible&&(this.rotateToEffect.update(c,v),this.panEffect.update(c,v),this.zoomEffect.update(c,v),this.shakeEffect.update(c,v),this.flashEffect.update(c,v),this.fadeEffect.update(c,v))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});d.exports=f},32743:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38058),x=t(83419),o=t(95540),a=t(37277),r=t(37303),i=t(97480),n=t(44594),l=new x({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(n.BOOT,this.boot,this),u.sys.events.on(n.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.shutdown,this)},add:function(s,u,f,c,v,g){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),v===void 0&&(v=!1),g===void 0&&(g="");var y=new h(s,u,f,c);return y.setName(g),y.setScene(this.scene),y.setRoundPixels(this.roundPixels),y.id=this.getNextID(),this.cameras.push(y),v&&(this.main=y),y},addExisting:function(s,u){u===void 0&&(u=!1);var f=this.cameras.indexOf(s);return f===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),u&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,u=1,f=0;f<32;f++){for(var c=!1,v=0;v<s.length;v++){var g=s[v];if(g&&g.id===u){c=!0;continue}}if(c)u=u<<1;else return u}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var u=0,f=this.cameras,c=0;c<f.length;c++){var v=f[c];(!s||s&&v.visible)&&u++}return u},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var u=this.scene.sys.scale.width,f=this.scene.sys.scale.height,c=0;c<s.length;c++){var v=s[c],g=o(v,"x",0),y=o(v,"y",0),T=o(v,"width",u),E=o(v,"height",f),A=this.add(g,y,T,E);A.name=o(v,"name",""),A.zoom=o(v,"zoom",1),A.rotation=o(v,"rotation",0),A.scrollX=o(v,"scrollX",0),A.scrollY=o(v,"scrollY",0),A.roundPixels=o(v,"roundPixels",!1),A.visible=o(v,"visible",!0);var P=o(v,"backgroundColor",!1);P&&A.setBackgroundColor(P);var w=o(v,"bounds",null);if(w){var I=o(w,"x",0),O=o(w,"y",0),F=o(w,"width",u),L=o(w,"height",f);A.setBounds(I,O,F,L)}}return this},getCamera:function(s){for(var u=this.cameras,f=0;f<u.length;f++)if(u[f].name===s)return u[f];return null},getCamerasBelowPointer:function(s){for(var u=this.cameras,f=s.x,c=s.y,v=[],g=0;g<u.length;g++){var y=u[g];y.visible&&y.inputEnabled&&r(y,f,c)&&v.unshift(y)}return v},remove:function(s,u){u===void 0&&(u=!0),Array.isArray(s)||(s=[s]);for(var f=0,c=this.cameras,v=0;v<s.length;v++){var g=c.indexOf(s[v]);g!==-1&&(u?c[g].destroy():c[g].renderList=[],c.splice(g,1),f++)}return!this.main&&c[0]&&(this.main=c[0]),f},render:function(s,u){for(var f=this.scene,c=this.cameras,v=0;v<c.length;v++){var g=c[v];if(g.visible&&g.alpha>0){g.preRender();var y=this.getVisibleChildren(u.getChildren(),g);s.render(f,y,g)}}},getVisibleChildren:function(s,u){return s.filter(function(f){return f.willRender(u)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(s,u)},onResize:function(s,u,f,c,v){for(var g=0;g<this.cameras.length;g++){var y=this.cameras[g];y._x===0&&y._y===0&&y._width===c&&y._height===v&&y.setSize(u.width,u.height)}},resize:function(s,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(s,u)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var u=this.systems.events;u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(i.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",l,"cameras"),d.exports=l},5020:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(19715),a=new x({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,i,n,l,s,u,f,c){if(r===void 0&&(r=!0),i===void 0&&(i=1e3),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=s,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c;var v=r?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(v,this.camera,this,i,n,l,s),this.camera},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,i(u,s,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});d.exports=a},10662:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(19715),a=new x({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,i,n,l,s,u,f){return r===void 0&&(r=250),i===void 0&&(i=255),n===void 0&&(n=255),l===void 0&&(l=255),s===void 0&&(s=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=i,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(o.FLASH_START,this.camera,this,r,i,n,l),this.camera)},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,i(u,s,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});d.exports=a},20359:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(62640),a=t(19715),r=t(26099),i=new x({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,s,u,f,c,v){s===void 0&&(s=1e3),u===void 0&&(u=o.Linear),f===void 0&&(f=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene);var g=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(g.scrollX,g.scrollY),this.destination.set(n,l),g.getScroll(n,l,this.current),typeof u=="string"&&o.hasOwnProperty(u)?this.ease=o[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v,this.camera.emit(a.PAN_START,this.camera,this,s,n,l)),g},update:function(n,l){if(this.isRunning){this._elapsed+=l;var s=h(this._elapsed/this.duration,0,1);this.progress=s;var u=this.camera;if(this._elapsed<this.duration){var f=this.ease(s);u.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*f,v=this.source.y+(this.current.y-this.source.y)*f;u.setScroll(c,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,c,v)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});d.exports=i},34208:(d,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(45319),x=t(83419),o=t(19715),a=t(62640),r=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,n,l,s,u,f,c){l===void 0&&(l=1e3),s===void 0&&(s=a.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var v=i;i<0?(v=-1*i,this.clockwise=!1):this.clockwise=!0;var g=360*Math.PI/180;v=v-Math.floor(v/g)*g;var y=this.camera;if(!u&&this.isRunning)return y;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=y.rotation,this.destination=v,typeof s=="string"&&a.hasOwnProperty(s)?this.ease=a[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c,this.shortestPath){var T=0,E=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+g)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+g)-this.destination,T<E?this.clockwise=!0:T>E&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,v),y},update:function(i,n){if(this.isRunning){this._elapsed+=n;var l=h(this._elapsed/this.duration,0,1);this.progress=l;var s=this.camera;if(this._elapsed<this.duration){var u=this.ease(l);this.current=s.rotation;var f=0,c=360*Math.PI/180,v=this.destination,g=this.current;this.clockwise===!1&&(v=this.current,g=this.destination),v>=g?f=Math.abs(v-g):f=Math.abs(v+c)-g;var y=0;this.clockwise?y=s.rotation+f*u:y=s.rotation-f*u,s.rotation=y,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,y)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});d.exports=r},30330:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(19715),a=t(26099),r=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,n,l,s,u){return i===void 0&&(i=100),n===void 0&&(n=.05),l===void 0&&(l=!1),s===void 0&&(s=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=u,this.camera.emit(o.SHAKE_START,this.camera,this,i,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,n){if(this.isRunning)if(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,s=this.camera.width,u=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*s*2-l.x*s)*f,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});d.exports=r},45641:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(62640),a=t(19715),r=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,n,l,s,u,f){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),s===void 0&&(s=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=c.zoom,this.destination=i,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(a.ZOOM_START,this.camera,this,n,i)),c},update:function(i,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});d.exports=r},20052:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="cameradestroy"},32726:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerafadeincomplete"},87807:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerafadeinstart"},45917:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerafadeoutcomplete"},95666:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerafadeoutstart"},47056:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="cameraflashcomplete"},91261:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="cameraflashstart"},45047:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="followupdate"},81927:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerapancomplete"},74264:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerapanstart"},54419:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="postrender"},79330:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="prerender"},93183:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerarotatecomplete"},80112:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerarotatestart"},62252:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerashakecomplete"},86017:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerashakestart"},539:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerazoomcomplete"},51892:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="camerazoomstart"},19715:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(35154),o=new h({initialize:function(r){this.camera=x(r,"camera",null),this.left=x(r,"left",null),this.right=x(r,"right",null),this.up=x(r,"up",null),this.down=x(r,"down",null),this.zoomIn=x(r,"zoomIn",null),this.zoomOut=x(r,"zoomOut",null),this.zoomSpeed=x(r,"zoomSpeed",.01),this.minZoom=x(r,"minZoom",.001),this.maxZoom=x(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=x(r,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=x(r,"speed.x",0),this.speedY=x(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});d.exports=o},58818:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(35154),o=new h({initialize:function(r){this.camera=x(r,"camera",null),this.left=x(r,"left",null),this.right=x(r,"right",null),this.up=x(r,"up",null),this.down=x(r,"down",null),this.zoomIn=x(r,"zoomIn",null),this.zoomOut=x(r,"zoomOut",null),this.zoomSpeed=x(r,"zoomSpeed",.01),this.minZoom=x(r,"minZoom",.001),this.maxZoom=x(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=x(r,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=x(r,"acceleration.x",0),this.accelY=x(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=x(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=x(r,"drag.x",0),this.dragY=x(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=x(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=x(r,"maxSpeed.x",0),this.maxSpeedY=x(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*a|0),this._speedY!==0&&(r.scrollY-=this._speedY*a|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});d.exports=o},38865:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};d.exports=h},69547:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(8054),o=t(42363),a=t(82264),r=t(95540),i=t(35154),n=t(41212),l=t(29747),s=t(75508),u=t(36060),f=t(80333),c=new h({initialize:function(g){g===void 0&&(g={});var y=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],T="#ffffff",E=i(g,"scale",null);this.width=i(E,"width",1024,g),this.height=i(E,"height",768,g),this.zoom=i(E,"zoom",1,g),this.parent=i(E,"parent",void 0,g),this.scaleMode=i(E,E?"mode":"scaleMode",0,g),this.expandParent=i(E,"expandParent",!0,g),this.autoRound=i(E,"autoRound",!1,g),this.autoCenter=i(E,"autoCenter",0,g),this.resizeInterval=i(E,"resizeInterval",500,g),this.fullscreenTarget=i(E,"fullscreenTarget",null,g),this.minWidth=i(E,"min.width",0,g),this.maxWidth=i(E,"max.width",0,g),this.minHeight=i(E,"min.height",0,g),this.maxHeight=i(E,"max.height",0,g),this.snapWidth=i(E,"snap.width",0,g),this.snapHeight=i(E,"snap.height",0,g),this.renderType=i(g,"type",x.AUTO),this.canvas=i(g,"canvas",null),this.context=i(g,"context",null),this.canvasStyle=i(g,"canvasStyle",null),this.customEnvironment=i(g,"customEnvironment",!1),this.sceneConfig=i(g,"scene",null),this.seed=i(g,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=i(g,"title",""),this.gameURL=i(g,"url","https://phaser.io/"+x.LOG_VERSION),this.gameVersion=i(g,"version",""),this.autoFocus=i(g,"autoFocus",!0),this.stableSort=i(g,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=i(g,"dom.createContainer",!1),this.domPointerEvents=i(g,"dom.pointerEvents","none"),this.inputKeyboard=i(g,"input.keyboard",!0),this.inputKeyboardEventTarget=i(g,"input.keyboard.target",window),this.inputKeyboardCapture=i(g,"input.keyboard.capture",[]),this.inputMouse=i(g,"input.mouse",!0),this.inputMouseEventTarget=i(g,"input.mouse.target",null),this.inputMousePreventDefaultDown=i(g,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=i(g,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=i(g,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=i(g,"input.mouse.preventDefaultWheel",!0),this.inputTouch=i(g,"input.touch",a.input.touch),this.inputTouchEventTarget=i(g,"input.touch.target",null),this.inputTouchCapture=i(g,"input.touch.capture",!0),this.inputActivePointers=i(g,"input.activePointers",1),this.inputSmoothFactor=i(g,"input.smoothFactor",0),this.inputWindowEvents=i(g,"input.windowEvents",!0),this.inputGamepad=i(g,"input.gamepad",!1),this.inputGamepadEventTarget=i(g,"input.gamepad.target",window),this.disableContextMenu=i(g,"disableContextMenu",!1),this.audio=i(g,"audio",{}),this.hideBanner=i(g,"banner",null)===!1,this.hidePhaser=i(g,"banner.hidePhaser",!1),this.bannerTextColor=i(g,"banner.text",T),this.bannerBackgroundColor=i(g,"banner.background",y),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=i(g,"fps",null),this.disablePreFX=i(g,"disablePreFX",!1),this.disablePostFX=i(g,"disablePostFX",!1);var A=i(g,"render",null);this.pipeline=i(A,"pipeline",null,g),this.autoMobilePipeline=i(A,"autoMobilePipeline",!0,g),this.defaultPipeline=i(A,"defaultPipeline",u.MULTI_PIPELINE,g),this.antialias=i(A,"antialias",!0,g),this.antialiasGL=i(A,"antialiasGL",!0,g),this.mipmapFilter=i(A,"mipmapFilter","",g),this.desynchronized=i(A,"desynchronized",!1,g),this.roundPixels=i(A,"roundPixels",!1,g),this.pixelArt=i(A,"pixelArt",this.zoom!==1,g),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=i(A,"transparent",!1,g),this.clearBeforeRender=i(A,"clearBeforeRender",!0,g),this.preserveDrawingBuffer=i(A,"preserveDrawingBuffer",!1,g),this.premultipliedAlpha=i(A,"premultipliedAlpha",!0,g),this.failIfMajorPerformanceCaveat=i(A,"failIfMajorPerformanceCaveat",!1,g),this.powerPreference=i(A,"powerPreference","default",g),this.batchSize=i(A,"batchSize",4096,g),this.maxTextures=i(A,"maxTextures",-1,g),this.maxLights=i(A,"maxLights",10,g);var P=i(g,"backgroundColor",0);this.backgroundColor=f(P),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=i(g,"callbacks.preBoot",l),this.postBoot=i(g,"callbacks.postBoot",l),this.physics=i(g,"physics",{}),this.defaultPhysicsSystem=i(this.physics,"default",!1),this.loaderBaseURL=i(g,"loader.baseURL",""),this.loaderPath=i(g,"loader.path",""),this.loaderMaxParallelDownloads=i(g,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=i(g,"loader.crossOrigin",void 0),this.loaderResponseType=i(g,"loader.responseType",""),this.loaderAsync=i(g,"loader.async",!0),this.loaderUser=i(g,"loader.user",""),this.loaderPassword=i(g,"loader.password",""),this.loaderTimeout=i(g,"loader.timeout",0),this.loaderMaxRetries=i(g,"loader.maxRetries",2),this.loaderWithCredentials=i(g,"loader.withCredentials",!1),this.loaderImageLoadType=i(g,"loader.imageLoadType","XHR"),this.loaderLocalScheme=i(g,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=i(g,"fx.glow.quality",.1),this.glowFXDistance=i(g,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=i(g,"plugins",null),I=o.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:n(w)&&(this.installGlobalPlugins=r(w,"global",[]),this.installScenePlugins=r(w,"scene",[]),Array.isArray(w.default)?I=w.default:Array.isArray(w.defaultMerge)&&(I=I.concat(w.defaultMerge)))),this.defaultPlugins=I;var O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=i(g,"images.default",O+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=i(g,"images.missing",O+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=i(g,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});d.exports=c},86054:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20623),x=t(27919),o=t(8054),a=t(89357),r=function(i){var n=i.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=a.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||x.disableSmoothing();var l=i.scale.baseSize,s=l.width,u=l.height;if(n.canvas?(i.canvas=n.canvas,i.canvas.width=s,i.canvas.height=u):i.canvas=x.create(i,s,u,n.renderType),n.canvasStyle&&(i.canvas.style=n.canvasStyle),n.antialias||h.setCrisp(i.canvas),n.renderType!==o.HEADLESS){var f,c;f=t(68627),c=t(74797),n.renderType===o.WEBGL?i.renderer=new c(i):(i.renderer=new f(i),i.context=i.renderer.gameContext)}};d.exports=r},96391:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),x=function(o){var a=o.config;if(!a.hideBanner){var r="WebGL";a.renderType===h.CANVAS?r="Canvas":a.renderType===h.HEADLESS&&(r="Headless");var i=a.audio,n=o.device.audio,l;if(n.webAudio&&!i.disableWebAudio?l="Web Audio":i.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var s="",u=[s];if(Array.isArray(a.bannerBackgroundColor)){var f;a.bannerBackgroundColor.forEach(function(v){s=s.concat("%c "),u.push("background: "+v),f=v}),u[u.length-1]="color: "+a.bannerTextColor+"; background: "+f}else s=s.concat("%c "),u.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);u.push("background: transparent"),a.gameTitle&&(s=s.concat(a.gameTitle),a.gameVersion&&(s=s.concat(" v"+a.gameVersion)),a.hidePhaser||(s=s.concat(" / ")));var c="";a.hidePhaser||(s=s.concat("Phaser v"+h.VERSION+c+" ("+r+" | "+l+")")),s=s.concat(" %c "+a.gameURL),u[0]=s,console.log.apply(console,u)}}};d.exports=x},50127:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),x=t(60848),o=t(24047),a=t(27919),r=t(83419),i=t(69547),n=t(83719),l=t(86054),s=t(45893),u=t(96391),f=t(82264),c=t(57264),v=t(50792),g=t(8443),y=t(7003),T=t(37277),E=t(77332),A=t(76531),P=t(60903),w=t(69442),I=t(17130),O=t(65898),F=t(51085),L=t(14747),D=new r({initialize:function(U){this.config=new i(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new x(this),this.textures=new I(this),this.cache=new o(this),this.registry=new s(this,new v),this.input=new y(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=f,this.scale=new A(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new O(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),u(this),h(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(g.BOOT)},texturesReady:function(){this.events.emit(g.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var b=this.events;b.on(g.HIDDEN,this.onHidden,this),b.on(g.VISIBLE,this.onVisible,this),b.on(g.BLUR,this.onBlur,this),b.on(g.FOCUS,this.onFocus,this)},step:function(b,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(g.PRE_STEP,b,U),W.emit(g.STEP,b,U),this.scene.update(b,U),W.emit(g.POST_STEP,b,U);var H=this.renderer;H.preRender(),W.emit(g.PRE_RENDER,H,b,U),this.scene.render(H),H.postRender(),W.emit(g.POST_RENDER,H,b,U)}},headlessStep:function(b,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(g.PRE_STEP,b,U),W.emit(g.STEP,b,U),this.scene.update(b,U),W.emit(g.POST_STEP,b,U),this.scene.isProcessing=!1,W.emit(g.PRE_RENDER,null,b,U),W.emit(g.POST_RENDER,null,b,U)}},onHidden:function(){this.loop.pause(),this.events.emit(g.PAUSE)},pause:function(){var b=this.isPaused;this.isPaused=!0,b||this.events.emit(g.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(g.RESUME,this.loop.pauseDuration)},resume:function(){var b=this.isPaused;this.isPaused=!1,b&&this.events.emit(g.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(b,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=b,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(g.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});d.exports=D},65898:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(35154),o=t(29747),a=t(43092),r=new h({initialize:function(n,l){this.game=n,this.raf=new a,this.started=!1,this.running=!1,this.minFps=x(l,"min",5),this.targetFps=x(l,"target",60),this.fpsLimit=x(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=x(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(l,"deltaHistory",10),this.panicMax=x(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(i){var n=this.deltaIndex,l=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,i=Math.min(i,this._target)),i>this._min&&(i=l[n],i=Math.min(i,this._min)),l[n]=i,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var u=0,f=0;f<s;f++)u+=l[f];return u/=s,u},updateFPS:function(i){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0},stepLimitFPS:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(i,this.delta),this.delta=0),this.lastTime=i,this.frame++},step:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.callback(i,n),this.lastTime=i,this.frame++},tick:function(){var i=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(i):this.step(i)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){i===void 0&&(i=!1);var n=window.performance.now();if(!this.running){i&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});d.exports=r},51085:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8443),x=function(o){var a,r=o.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},a=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(h.HIDDEN):r.emit(h.VISIBLE)};a&&document.addEventListener(a,n,!1),window.onblur=function(){r.emit(h.BLUR)},window.onfocus=function(){r.emit(h.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};d.exports=x},97217:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="blur"},47548:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="boot"},19814:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="contextlost"},68446:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="destroy"},41700:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="focus"},25432:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="hidden"},65942:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pause"},59211:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="postrender"},47789:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="poststep"},39066:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="prerender"},460:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="prestep"},16175:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="ready"},42331:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resume"},11966:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="step"},32969:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="systemready"},94830:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="visible"},8443:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5290),x=t(27919),o=t(35154),a=function(r){var i=o(r,"data",[]),n=o(r,"canvas",null),l=o(r,"palette",h),s=o(r,"pixelWidth",1),u=o(r,"pixelHeight",s),f=o(r,"resizeCanvas",!0),c=o(r,"clearCanvas",!0),v=o(r,"preRender",null),g=o(r,"postRender",null),y=Math.floor(Math.abs(i[0].length*s)),T=Math.floor(Math.abs(i.length*u));n||(n=x.create2D(this,y,T),f=!1,c=!1),f&&(n.width=y,n.height=T);var E=n.getContext("2d",{willReadFrequently:!0});c&&E.clearRect(0,0,y,T),v&&v(n,E);for(var A=0;A<i.length;A++)for(var P=i[A],w=0;w<P.length;w++){var I=P[w];I!=="."&&I!==" "&&(E.fillStyle=l[I],E.fillRect(w*s,A*u,s,u))}return g&&g(n,E),n};d.exports=a},15822:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(36316),o=t(80021),a=t(26099),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(u=new a(n[6],n[7]),s=new a(n[4],n[5]),l=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s,this.p3=u},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.p0,s=this.p1,u=this.p2,f=this.p3;return n.set(x(i,l.x,s.x,u.x,f.x),x(i,l.y,s.y,u.y,f.y))},draw:function(i,n){n===void 0&&(n=32);var l=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)i.lineTo(l[s].x,l[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(i){var n=i.points,l=new a(n[0],n[1]),s=new a(n[2],n[3]),u=new a(n[4],n[5]),f=new a(n[6],n[7]);return new r(l,s,u,f)},d.exports=r},80021:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(19217),o=t(87841),a=t(26099),r=new h({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,n){return n===void 0&&(n=32),i.strokePoints(this.getPoints(n))},getBounds:function(i,n){i||(i=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var s=Math.max(1,Math.round(l/n));return x(this.getSpacedPoints(s),i)},getDistancePoints:function(i){var n=this.getLength(),l=Math.max(1,n/i);return this.getSpacedPoints(l)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,s=this.getPoint(0,this._tmpVec2A),u=0;n.push(0);for(var f=1;f<=i;f++)l=this.getPoint(f/i,this._tmpVec2B),u+=l.distance(s),n.push(u),s.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(i,n){var l=this.getUtoTmapping(i);return this.getPoint(l,n)},getPoints:function(i,n,l){l===void 0&&(l=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++)l.push(this.getPoint(s/i));return l},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,n,l){l===void 0&&(l=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++){var u=this.getUtoTmapping(s/i,null,i);l.push(this.getPoint(u))}return l},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,n){n===void 0&&(n=new a);var l=1e-4,s=i-l,u=i+l;return s<0&&(s=0),u>1&&(u=1),this.getPoint(s,this._tmpVec2A),this.getPoint(u,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,n){var l=this.getUtoTmapping(i);return this.getTangent(l,n)},getTFromDistance:function(i,n){return i<=0?0:this.getUtoTmapping(0,i,n)},getUtoTmapping:function(i,n,l){var s=this.getLengths(l),u=0,f=s.length,c;n?c=Math.min(n,s[f-1]):c=i*s[f-1];for(var v=0,g=f-1,y;v<=g;)if(u=Math.floor(v+(g-v)/2),y=s[u]-c,y<0)v=u+1;else if(y>0)g=u-1;else{g=u;break}if(u=g,s[u]===c)return u/(f-1);var T=s[u],E=s[u+1],A=E-T,P=(c-T)/A;return(u+P)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});d.exports=r},73825:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(80021),o=t(39506),a=t(35154),r=t(43396),i=t(26099),n=new h({Extends:x,initialize:function(s,u,f,c,v,g,y,T){if(typeof s=="object"){var E=s;s=a(E,"x",0),u=a(E,"y",0),f=a(E,"xRadius",0),c=a(E,"yRadius",f),v=a(E,"startAngle",0),g=a(E,"endAngle",360),y=a(E,"clockwise",!1),T=a(E,"rotation",0)}else c===void 0&&(c=f),v===void 0&&(v=0),g===void 0&&(g=360),y===void 0&&(y=!1),T===void 0&&(T=0);x.call(this,"EllipseCurve"),this.p0=new i(s,u),this._xRadius=f,this._yRadius=c,this._startAngle=o(v),this._endAngle=o(g),this._clockwise=y,this._rotation=o(T)},getStartPoint:function(l){return l===void 0&&(l=new i),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,s){s===void 0&&(s=new i);for(var u=Math.PI*2,f=this._endAngle-this._startAngle,c=Math.abs(f)<Number.EPSILON;f<0;)f+=u;for(;f>u;)f-=u;f<Number.EPSILON&&(c?f=0:f=u),this._clockwise&&!c&&(f===u?f=-u:f=f-u);var v=this._startAngle+l*f,g=this.p0.x+this._xRadius*Math.cos(v),y=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var T=Math.cos(this._rotation),E=Math.sin(this._rotation),A=g-this.p0.x,P=y-this.p0.y;g=A*T-P*E+this.p0.x,y=A*E+P*T+this.p0.y}return s.set(g,y)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},d.exports=n},33951:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(80021),o=t(19217),a=t(87841),r=t(26099),i=new h({Extends:x,initialize:function(l,s){x.call(this,"LineCurve"),Array.isArray(l)&&(s=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=s,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new a),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,s){var u;if(l){var f=this.getLengths(s),c=f[f.length-1],v=Math.min(l,c);u=v/c}else u=n;return u},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(n){var l=n.points,s=new r(l[0],l[1]),u=new r(l[2],l[3]);return new i(s,u)},d.exports=i},14744:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(80021),o=t(32112),a=t(26099),r=new h({Extends:x,initialize:function(n,l,s){x.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(s=new a(n[4],n[5]),l=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=l,this.p2=s},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.p0,s=this.p1,u=this.p2;return n.set(o(i,l.x,s.x,u.x),o(i,l.y,s.y,u.y))},draw:function(i,n){n===void 0&&(n=32);var l=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)i.lineTo(l[s].x,l[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(i){var n=i.points,l=new a(n[0],n[1]),s=new a(n[2],n[3]),u=new a(n[4],n[5]);return new r(l,s,u)},d.exports=r},42534:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),x=t(83419),o=t(80021),a=t(26099),r=new x({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(i){for(var n=0;n<i.length;n++){var l=new a;typeof i[n]=="number"?(l.x=i[n],l.y=i[n+1],n++):Array.isArray(i[n])?(l.x=i[n][0],l.y=i[n][1]):(l.x=i[n].x,l.y=i[n].y),this.points.push(l)}return this},addPoint:function(i,n){var l=new a(i,n);return this.points.push(l),l},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,n){n===void 0&&(n=new a);var l=this.points,s=(l.length-1)*i,u=Math.floor(s),f=s-u,c=l[u===0?u:u-1],v=l[u],g=l[u>l.length-2?l.length-1:u+1],y=l[u>l.length-3?l.length-1:u+2];return n.set(h(f,c.x,v.x,g.x,y.x),h(f,c.y,v.y,g.y,y.y))},toJSON:function(){for(var i=[],n=0;n<this.points.length;n++)i.push(this.points[n].x),i.push(this.points[n].y);return{type:this.type,points:i}}});r.fromJSON=function(i){return new r(i.points)},d.exports=r},25410:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(26099),o=new h({initialize:function(r,i){this.active=!1,this.p0=new x(r,i)},getPoint:function(a,r){return r===void 0&&(r=new x),r.copy(this.p0)},getPointAt:function(a,r){return this.getPoint(a,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});d.exports=o},46669:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(46728),o=t(73825),a=t(39429),r=t(33951),i=t(68618),n=t(14744),l=t(87841),s=t(42534),u=t(26099),f=t(36383),c=new h({initialize:function(g,y){g===void 0&&(g=0),y===void 0&&(y=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof g=="object"?this.fromJSON(g):this.startPoint.set(g,y)},add:function(v){return this.curves.push(v),this},circleTo:function(v,g,y){return g===void 0&&(g=!1),this.ellipseTo(v,v,0,360,g,y)},closePath:function(){var v=this.curves[0].getPoint(0),g=this.curves[this.curves.length-1].getPoint(1);return v.equals(g)||this.curves.push(new r(g,v)),this},cubicBezierTo:function(v,g,y,T,E,A){var P=this.getEndPoint(),w,I,O;return v instanceof u?(w=v,I=g,O=y):(w=new u(y,T),I=new u(E,A),O=new u(v,g)),this.add(new x(P,w,I,O))},quadraticBezierTo:function(v,g,y,T){var E=this.getEndPoint(),A,P;return v instanceof u?(A=v,P=g):(A=new u(y,T),P=new u(v,g)),this.add(new n(E,A,P))},draw:function(v,g){for(var y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&T.draw(v,g)}return v},ellipseTo:function(v,g,y,T,E,A){var P=new o(0,0,v,g,y,T,E,A),w=this.getEndPoint(this._tmpVec2A),I=P.getStartPoint(this._tmpVec2B);return w.subtract(I),P.x=w.x,P.y=w.y,this.add(P)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var g=0;g<v.curves.length;g++){var y=v.curves[g];switch(y.type){case"LineCurve":this.add(r.fromJSON(y));break;case"EllipseCurve":this.add(o.fromJSON(y));break;case"SplineCurve":this.add(s.fromJSON(y));break;case"CubicBezierCurve":this.add(x.fromJSON(y));break;case"QuadraticBezierCurve":this.add(n.fromJSON(y));break}}return this},getBounds:function(v,g){v===void 0&&(v=new l),g===void 0&&(g=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var y=new l,T=f.MIN_SAFE_INTEGER,E=f.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var P=this.curves[A];P.active&&(P.getBounds(y,g),v.x=Math.min(v.x,y.x),v.y=Math.min(v.y,y.y),T=Math.max(T,y.right),E=Math.max(E,y.bottom))}return v.right=T,v.bottom=E,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],g=0,y=0;y<this.curves.length;y++)g+=this.curves[y].getLength(),v.push(g);return this.cacheLengths=v,v},getCurveAt:function(v){for(var g=v*this.getLength(),y=this.getCurveLengths(),T=0;T<y.length;){if(y[T]>=g)return this.curves[T];T++}return null},getEndPoint:function(v){return v===void 0&&(v=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,g){g===void 0&&(g=new u);for(var y=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=y){var A=T[E]-y,P=this.curves[E],w=P.getLength(),I=w===0?0:1-A/w;return P.getPointAt(I,g)}E++}return null},getPoints:function(v,g){!v&&!g&&(v=this.defaultDivisions);for(var y=[],T,E=0;E<this.curves.length;E++){var A=this.curves[E];if(A.active)for(var P=A.getResolution(v),w=A.getPoints(P,g),I=0;I<w.length;I++){var O=w[I];T&&T.equals(O)||(y.push(O),T=O)}}return this.autoClose&&y.length>1&&!y[y.length-1].equals(y[0])&&y.push(y[0]),y},getRandomPoint:function(v){return v===void 0&&(v=new u),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var g=[],y=0;y<=v;y++)g.push(this.getPoint(y/v));return this.autoClose&&g.push(g[0]),g},getStartPoint:function(v){return v===void 0&&(v=new u),v.copy(this.startPoint)},getTangent:function(v,g){g===void 0&&(g=new u);for(var y=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=y){var A=T[E]-y,P=this.curves[E],w=P.getLength(),I=w===0?0:1-A/w;return P.getTangentAt(I,g)}E++}return null},lineTo:function(v,g){v instanceof u?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,g);var y=this.getEndPoint(this._tmpVec2A);return this.add(new r([y.x,y.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new s(v))},moveTo:function(v,g){return v instanceof u?this.add(new i(v.x,v.y)):this.add(new i(v,g))},toJSON:function(){for(var v=[],g=0;g<this.curves.length;g++)v.push(this.curves[g].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(v,g){return new c(v,g)}),d.exports=c},45893:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(24882),o=new h({initialize:function(r,i){this.parent=r,this.events=i,i||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(a){var r=this.list;if(Array.isArray(a)){for(var i=[],n=0;n<a.length;n++)i.push(r[a[n]]);return i}else return r[a]},getAll:function(){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&(a[r]=this.list[r]);return a},query:function(a){var r={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(r[i]=this.list[i]);return r},set:function(a,r){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,r);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,r){if(this._frozen)return this;r===void 0&&(r=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+r),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,r){if(this._frozen)return this;if(this.has(a))this.values[a]=r;else{var i=this,n=this.list,l=this.events,s=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return n[a]},set:function(u){if(!i._frozen){var f=n[a];n[a]=u,l.emit(x.CHANGE_DATA,s,a,u,f),l.emit(x.CHANGE_DATA_KEY+a,s,u,f)}}}),n[a]=r,l.emit(x.SET_DATA,s,a,r)}return this},each:function(a,r){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var l in this.list)i[1]=l,i[2]=this.list[l],a.apply(r,i);return this},merge:function(a,r){r===void 0&&(r=!0);for(var i in a)a.hasOwnProperty(i)&&(r||!r&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var r=0;r<a.length;r++)this.removeValue(a[r]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var r=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(x.REMOVE_DATA,this.parent,a,r)}return this},pop:function(a){var r=void 0;return!this._frozen&&this.has(a)&&(r=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(x.REMOVE_DATA,this.parent,a,r)),r},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var r in this.list)this.list[r]!==void 0&&a++;return a}}});d.exports=o},63646:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(45893),o=t(37277),a=t(44594),r=new h({Extends:x,initialize:function(n){x.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",r,"data"),d.exports=r},10700:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="changedata"},93608:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="changedata-"},60883:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="destroy"},69780:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="removedata"},22166:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="setdata"},24882:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),r=!!a.canPlayType;try{if(r){var i=function(s,u){var f=a.canPlayType("audio/"+s).replace(/^no$/,"");return u?!!(f||a.canPlayType("audio/"+u).replace(/^no$/,"")):!!f};if(x.ogg=i('ogg; codecs="vorbis"'),x.opus=i('ogg; codecs="opus"',"opus"),x.mp3=i("mpeg"),x.wav=i("wav"),x.m4a=i("x-m4a"),x.aac=i("aac"),x.flac=i("flac","x-flac"),x.webm=i('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)x.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(x.dolby=!0)}}}}catch{}return x}d.exports=o()},84148:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(x.edge=!0,x.es2019=!0):/OPR/.test(a)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(a)&&!h.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(a)&&h.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(a)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(a)&&!h.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(x.silk=!0),x}d.exports=o()},89289:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var s=new Image;s.onload=function(){var u=h.create2D(s,6),f=u.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(s,2,0),!f.getImageData(2,0,1,1))return!1;var c=f.getImageData(2,0,1,1).data;h.remove(s),x.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},s.src=i+"/wCKxvRF"+n},l.src=i+"AP804Oa6"+n,!1}function a(){var i=h.create2D(this,2),n=i.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var s=n.getImageData(1,0,1,1),u=s.data[0]===l.data[0]&&s.data[1]===l.data[1]&&s.data[2]===l.data[2]&&s.data[3]===l.data[3];return h.remove(this),u}function r(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=o(),x.supportInverseAlpha=a()),x}d.exports=r()},89357:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),x=t(84148),o=t(27919),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),s=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var s=o.createWebGL(this),u=s.getContext("webgl")||s.getContext("experimental-webgl"),f=o.create2D(this),c=f.getContext("2d",{willReadFrequently:!0}),v=c.createImageData(1,1);return n=v.data instanceof Uint8ClampedArray,o.remove(s),o.remove(f),!!u}catch{return!1}return!1};return a.webGL=l(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(a.getUserMedia=!1),!h.iOS&&(x.ie||x.firefox||x.chrome)&&(a.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=r()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&n,a}d.exports=i()},91639:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var h,x="Fullscreen",o="FullScreen",a=["request"+x,"request"+o,"webkitRequest"+x,"webkitRequest"+o,"msRequest"+x,"msRequest"+o,"mozRequest"+o,"mozRequest"+x];for(h=0;h<a.length;h++)if(document.documentElement[a[h]]){S.available=!0,S.request=a[h];break}var r=["cancel"+o,"exit"+x,"webkitCancel"+o,"webkitExit"+x,"msCancel"+o,"msExit"+x,"mozCancel"+o,"mozExit"+x];if(S.available){for(h=0;h<r.length;h++)if(document[r[h]]){S.cancel=r[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}d.exports=t()},31784:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}d.exports=o()},25892:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var h=navigator.userAgent;/Windows/.test(h)?S.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(h)?S.android=!0:/Linux/.test(h)?S.linux=!0:/iP[ao]d|iPhone/i.test(h)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=h.toLowerCase().indexOf("iphone")!==-1,S.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?S.kindle=!0:/CrOS/.test(h)&&(S.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var x=/Silk/.test(h);return(S.windows||S.macOS||S.linux&&!x||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}d.exports=t()},43267:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return x;var a=document.createElement("video"),r=!!a.canPlayType,i=/^no$/;try{r&&(a.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(x.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(x.h264=!0,x.mp4=!0),a.canPlayType("video/x-m4v").replace(i,"")&&(x.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(x.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(x.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(x.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),x.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=h(n[l],"url",n[l]);if(s.indexOf("blob:")===0)return{url:s,type:""};var u;if(s.indexOf("data:")===0?u=s.split(",")[0].match(/\/(.*?);/):u=s.match(/\.([a-zA-Z0-9]+)($|\?)/),u=h(n[l],"type",u?u[1]:"").toLowerCase(),x[u])return{url:s,type:u}}return null},x}d.exports=o()},82264:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new Float32Array(20),o=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],r)},saturate:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a*2/3+1,n=(i-1)*-.5;return this.multiply([i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0],r)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1),a=a/180*Math.PI;var i=Math.cos(a),n=Math.sin(a),l=.213,s=.715,u=.072;return this.multiply([l+i*(1-l)+n*-.213,s+i*-.715+n*-.715,u+i*-.072+n*(1-u),0,0,l+i*-.213+n*.143,s+i*(1-s)+n*.14,u+i*-.072+n*-.283,0,0,l+i*-.213+n*-.787,s+i*-.715+n*s,u+i*(1-u)+n*u,0,0,0,0,0,1,0],r)},grayscale:function(a,r){return a===void 0&&(a=1),r===void 0&&(r=!1),this.saturate(-a,r)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(o.BLACK_WHITE,a)},contrast:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a+1,n=-.5*(i-1);return this.multiply([i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0],r)},negative:function(a){return a===void 0&&(a=!1),this.multiply(o.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(o.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(o.SEPIA,a)},night:function(a,r){return a===void 0&&(a=.1),r===void 0&&(r=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],r)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(o.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(o.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(o.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(o.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(o.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(o.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(o.SHIFT_BGR,a)},multiply:function(a,r){r===void 0&&(r=!1),r||this.reset();var i=this._matrix,n=x;return n.set(i),i.set([n[0]*a[0]+n[1]*a[5]+n[2]*a[10]+n[3]*a[15],n[0]*a[1]+n[1]*a[6]+n[2]*a[11]+n[3]*a[16],n[0]*a[2]+n[1]*a[7]+n[2]*a[12]+n[3]*a[17],n[0]*a[3]+n[1]*a[8]+n[2]*a[13]+n[3]*a[18],n[0]*a[4]+n[1]*a[9]+n[2]*a[14]+n[3]*a[19]+n[4],n[5]*a[0]+n[6]*a[5]+n[7]*a[10]+n[8]*a[15],n[5]*a[1]+n[6]*a[6]+n[7]*a[11]+n[8]*a[16],n[5]*a[2]+n[6]*a[7]+n[7]*a[12]+n[8]*a[17],n[5]*a[3]+n[6]*a[8]+n[7]*a[13]+n[8]*a[18],n[5]*a[4]+n[6]*a[9]+n[7]*a[14]+n[8]*a[19]+n[9],n[10]*a[0]+n[11]*a[5]+n[12]*a[10]+n[13]*a[15],n[10]*a[1]+n[11]*a[6]+n[12]*a[11]+n[13]*a[16],n[10]*a[2]+n[11]*a[7]+n[12]*a[12]+n[13]*a[17],n[10]*a[3]+n[11]*a[8]+n[12]*a[13]+n[13]*a[18],n[10]*a[4]+n[11]*a[9]+n[12]*a[14]+n[13]*a[19]+n[14],n[15]*a[0]+n[16]*a[5]+n[17]*a[10]+n[18]*a[15],n[15]*a[1]+n[16]*a[6]+n[17]*a[11]+n[18]*a[16],n[15]*a[2]+n[16]*a[7]+n[17]*a[12]+n[18]*a[17],n[15]*a[3]+n[16]*a[8]+n[17]*a[13]+n[18]*a[18],n[15]*a[4]+n[16]*a[9]+n[17]*a[14]+n[18]*a[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],d.exports=o},51767:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(29747),o=new h({initialize:function(r,i,n){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(r,i,n)},set:function(a,r,i){return a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=0),this._rgb=[a,r,i],this.onChange(),this},equals:function(a,r,i){var n=this._rgb;return n[0]===a&&n[1]===r&&n[2]===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});d.exports=o},60461:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};d.exports=S},54312:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(35893),o=t(86327),a=t(88417),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)+l),o(i,h(n)+s),i};d.exports=r},46768:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(26541),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)-l),o(i,h(n)+s),i};d.exports=r},35827:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(54380),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)+l),o(i,h(n)+s),i};d.exports=r},46871:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66786),x=t(35893),o=t(7702),a=function(r,i,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),h(r,x(i)+n,o(i)+l),r};d.exports=a},5198:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),x=t(26541),o=t(20786),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)-l),o(i,h(n)+s),i};d.exports=r},11879:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),x=[];x[h.BOTTOM_CENTER]=t(54312),x[h.BOTTOM_LEFT]=t(46768),x[h.BOTTOM_RIGHT]=t(35827),x[h.CENTER]=t(46871),x[h.LEFT_CENTER]=t(5198),x[h.RIGHT_CENTER]=t(80503),x[h.TOP_CENTER]=t(89698),x[h.TOP_LEFT]=t(922),x[h.TOP_RIGHT]=t(21373),x[h.LEFT_BOTTOM]=x[h.BOTTOM_LEFT],x[h.LEFT_TOP]=x[h.TOP_LEFT],x[h.RIGHT_BOTTOM]=x[h.BOTTOM_RIGHT],x[h.RIGHT_TOP]=x[h.TOP_RIGHT];var o=function(a,r,i,n,l){return x[i](a,r,n,l)};d.exports=o},80503:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),x=t(54380),o=t(20786),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)+l),o(i,h(n)+s),i};d.exports=r},89698:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),x=t(17717),o=t(88417),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,x(n)-s),i};d.exports=r},922:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),x=t(17717),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)-l),a(i,x(n)-s),i};d.exports=r},21373:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),x=t(17717),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,x(n)-s),i};d.exports=r},91660:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),x=t(79291),o={In:t(91660),To:t(16694)};o=x(!1,o,h),d.exports=o},21578:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(35893),o=t(88417),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,x(n)+l),a(i,h(n)+s),i};d.exports=r},10210:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(26541),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,x(n)-l),a(i,h(n)+s),i};d.exports=r},82341:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(54380),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,x(n)+l),a(i,h(n)+s),i};d.exports=r},87958:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(26541),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)-l),o(i,h(n)+s),i};d.exports=r},40080:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),x=t(26541),o=t(20786),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)-l),o(i,h(n)+s),i};d.exports=r},88466:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),x=t(17717),o=t(40136),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)-l),a(i,x(n)-s),i};d.exports=r},38829:(d,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),x=[];x[h.BOTTOM_CENTER]=t(21578),x[h.BOTTOM_LEFT]=t(10210),x[h.BOTTOM_RIGHT]=t(82341),x[h.LEFT_BOTTOM]=t(87958),x[h.LEFT_CENTER]=t(40080),x[h.LEFT_TOP]=t(88466),x[h.RIGHT_BOTTOM]=t(19211),x[h.RIGHT_CENTER]=t(34609),x[h.RIGHT_TOP]=t(48741),x[h.TOP_CENTER]=t(49440),x[h.TOP_LEFT]=t(81288),x[h.TOP_RIGHT]=t(61323);var o=function(a,r,i,n,l){return x[i](a,r,n,l)};d.exports=o},19211:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(54380),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)+l),o(i,h(n)+s),i};d.exports=r},34609:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),x=t(54380),o=t(20786),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,x(n)+l),o(i,h(n)+s),i};d.exports=r},48741:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),x=t(17717),o=t(385),a=t(66737),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),o(i,h(n)+l),a(i,x(n)-s),i};d.exports=r},49440:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),x=t(17717),o=t(86327),a=t(88417),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)+l),o(i,x(n)-s),i};d.exports=r},81288:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),x=t(17717),o=t(86327),a=t(385),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)-l),o(i,x(n)-s),i};d.exports=r},61323:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),x=t(17717),o=t(86327),a=t(40136),r=function(i,n,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),a(i,h(n)+l),o(i,x(n)-s),i};d.exports=r},16694:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88417),x=t(20786),o=function(a,r,i){return h(a,r),x(a,i)};d.exports=o},62235:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};d.exports=S},72873:(d,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),x=t(26541),o=t(54380),a=t(17717),r=t(87841),i=function(n,l){l===void 0&&(l=new r);var s=x(n),u=a(n);return l.x=s,l.y=u,l.width=o(n)-s,l.height=h(n)-u,l};d.exports=i},35893:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};d.exports=S},7702:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};d.exports=S},26541:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};d.exports=S},87431:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};d.exports=S},46928:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};d.exports=S},54380:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};d.exports=S},17717:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};d.exports=S},86327:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h-t.height+t.height*t.originY,t};d.exports=S},88417:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.width*t.originX;return t.x=h+x-t.width*.5,t};d.exports=S},20786:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.height*t.originY;return t.y=h+x-t.height*.5,t};d.exports=S},385:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h+t.width*t.originX,t};d.exports=S},40136:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h-t.width+t.width*t.originX,t};d.exports=S},66737:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h+t.height*t.originY,t};d.exports=S},58724:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(x){t.style["image-rendering"]=x}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};d.exports=S},27919:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),x=t(68703),o=[],a=!1,r=function(){var i=function(y,T,E,A,P){T===void 0&&(T=1),E===void 0&&(E=1),A===void 0&&(A=h.CANVAS),P===void 0&&(P=!1);var w,I=s(A);return I===null?(I={parent:y,canvas:document.createElement("canvas"),type:A},A===h.CANVAS&&o.push(I),w=I.canvas):(I.parent=y,w=I.canvas),P&&(I.parent=w),w.width=T,w.height=E,a&&A===h.CANVAS&&x.disable(w.getContext("2d",{willReadFrequently:!1})),w},n=function(y,T,E){return i(y,T,E,h.CANVAS)},l=function(y,T,E){return i(y,T,E,h.WEBGL)},s=function(y){if(y===void 0&&(y=h.CANVAS),y===h.WEBGL)return null;for(var T=0;T<o.length;T++){var E=o[T];if(!E.parent&&E.type===y)return E}return null},u=function(y){var T=y instanceof HTMLCanvasElement;o.forEach(function(E){(T&&E.canvas===y||!T&&E.parent===y)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},f=function(){var y=0;return o.forEach(function(T){T.parent&&y++}),y},c=function(){return o.length-f()},v=function(){a=!0},g=function(){a=!1};return{create2D:n,create:i,createWebGL:l,disableSmoothing:v,enableSmoothing:g,first:s,free:c,pool:o,remove:u,total:f}};d.exports=r()},68703:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var h=function(r){for(var i=["i","webkitI","msI","mozI","oI"],n=0;n<i.length;n++){var l=i[n]+"mageSmoothingEnabled";if(l in r)return l}return null},x=function(r){return S===""&&(S=h(r)),S&&(r[S]=!0),r},o=function(r){return S===""&&(S=h(r)),S&&(r[S]=!1),r},a=function(r){return S!==null?r[S]:null};return{disable:o,enable:x,getPrefix:h,isEnabled:a}};d.exports=t()},65208:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};d.exports=S},91610:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(o){t.style[o+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};d.exports=S},26253:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37589),o=t(1e3),a=t(7537),r=t(87837),i=new h({initialize:function(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,s,u,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,s,u,f){return u===void 0&&(u=255),f===void 0&&(f=!0),this._locked=!0,this.red=n,this.green=l,this.blue=s,this.alpha=u,this._locked=!1,this.update(f)},setGLTo:function(n,l,s,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=s,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,s){return a(n,l,s,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,s=this.g,u=this.b,f=this.a;return this._color=x(l,s,u),this._color32=o(l,s,u,f),this._rgba="rgba("+l+","+s+","+u+","+f/255+")",n&&r(l,s,u,this),this},updateHSV:function(){var n=this.r,l=this.g,s=this.b;return r(n,l,s,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n)),u=Math.floor(n+Math.random()*(l-n)),f=Math.floor(n+Math.random()*(l-n));return this.setTo(s,u,f)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var s=Math.floor(n+Math.random()*(l-n));return this.setTo(s,s,s)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,s=this.g,u=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(n/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(n/100)))),this.setTo(l,s,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,a(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,a(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,a(this._h,this._s,n,this)}}});d.exports=i},92728:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),x=function(o){o===void 0&&(o=1024);var a=[],r=255,i,n=255,l=0,s=0;for(i=0;i<=r;i++)a.push({r:n,g:i,b:s,color:h(n,i,s)});for(l=255,i=r;i>=0;i--)a.push({r:i,g:l,b:s,color:h(i,l,s)});for(n=0,i=0;i<=r;i++,l--)a.push({r:n,g:l,b:i,color:h(n,l,i)});for(l=0,s=255,i=0;i<=r;i++,s--,n++)a.push({r:n,g:l,b:s,color:h(n,l,s)});if(o===1024)return a;var u=[],f=0,c=1024/o;for(i=0;i<o;i++)u.push(a[Math.floor(f)]),f+=c;return u};d.exports=x},91588:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};d.exports=S},62957:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};d.exports=S},37589:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t<<16|h<<8|x};d.exports=S},1e3:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){return o<<24|t<<16|h<<8|x};d.exports=S},62183:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=t(89528),o=function(a,r,i){var n=i,l=i,s=i;if(r!==0){var u=i<.5?i*(1+r):i+r-i*r,f=2*i-u;n=x(f,u,a+1/3),l=x(f,u,a),s=x(f,u,a-1/3)}var c=new h;return c.setGLTo(n,l,s,1)};d.exports=o},27939:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7537),x=function(o,a){o===void 0&&(o=1),a===void 0&&(a=1);for(var r=[],i=0;i<=359;i++)r.push(h(i/359,o,a));return r};d.exports=x},7537:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589);function x(a,r,i,n){var l=(a+r*6)%6,s=Math.min(l,4-l,1);return Math.round(255*(n-n*i*Math.max(0,s)))}var o=function(a,r,i,n){r===void 0&&(r=1),i===void 0&&(i=1);var l=x(5,a,r,i),s=x(3,a,r,i),u=x(1,a,r,i);return n?n.setTo?n.setTo(l,s,u,n.alpha,!0):(n.r=l,n.g=s,n.b=u,n.color=h(l,s,u),n):{r:l,g:s,b:u,color:h(l,s,u)}};d.exports=o},70238:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=function(o){var a=new h;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,u,f,c){return u+u+f+f+c+c});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(r){var i=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);a.setTo(i,n,l)}return a};d.exports=x},89528:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?t+(h-t)*6*x:x<.5?h:x<.6666666666666666?t+(h-t)*(.6666666666666666-x)*6:t};d.exports=S},30100:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=t(90664),o=function(a){var r=x(a);return new h(r.r,r.g,r.b,r.a)};d.exports=o},90664:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};d.exports=S},13699:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),x=t(37589),o=function(i,n,l,s,u,f,c,v){c===void 0&&(c=100),v===void 0&&(v=0);var g=v/c,y=h(i,s,g),T=h(n,u,g),E=h(l,f,g);return{r:y,g:T,b:E,a:255,color:x(y,T,E)}},a=function(i,n,l,s){return l===void 0&&(l=100),s===void 0&&(s=0),o(i.r,i.g,i.b,n.r,n.g,n.b,l,s)},r=function(i,n,l,s,u,f){return u===void 0&&(u=100),f===void 0&&(f=0),o(i.r,i.g,i.b,n,l,s,u,f)};d.exports={RGBWithRGB:o,ColorWithRGB:r,ColorWithColor:a}},68957:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=function(o){return new h(o.r,o.g,o.b,o.a)};d.exports=x},87388:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),x=function(o){var a=new h,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(r){var i=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),s=r[4]!==void 0?parseFloat(r[4]):1;a.setTo(i,n,l,s*255)}return a};d.exports=x},87837:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,h/=255,x/=255;var a=Math.min(t,h,x),r=Math.max(t,h,x),i=r-a,n=0,l=r===0?0:i/r,s=r;return r!==a&&(r===t?n=(h-x)/i+(h<x?6:0):r===h?n=(x-t)/i+2:r===x&&(n=(t-h)/i+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=s):(o.h=n,o.s=l,o.v=s),o};d.exports=S},75723:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62957),x=function(o,a,r,i,n){return i===void 0&&(i=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(a<<8)+r).toString(16).slice(1,7):"0x"+h(i)+h(o)+h(a)+h(r)};d.exports=x},85386:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),x=t(40987),o=function(a,r){return a===void 0&&(a=0),r===void 0&&(r=255),new x(h(a,r),h(a,r),h(a,r))};d.exports=o},80333:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70238),x=t(30100),o=t(68957),a=t(87388),r=function(i){var n=typeof i;switch(n){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):h(i);case"number":return x(i);case"object":return o(i)}};d.exports=r},3956:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987);h.ColorSpectrum=t(92728),h.ColorToRGBA=t(91588),h.ComponentToHex=t(62957),h.GetColor=t(37589),h.GetColor32=t(1e3),h.HexStringToColor=t(70238),h.HSLToColor=t(62183),h.HSVColorWheel=t(27939),h.HSVToRGB=t(7537),h.HueToComponent=t(89528),h.IntegerToColor=t(30100),h.IntegerToRGB=t(90664),h.Interpolate=t(13699),h.ObjectToColor=t(68957),h.RandomRGB=t(85386),h.RGBStringToColor=t(87388),h.RGBToHSV=t(87837),h.RGBToString=t(75723),h.ValueToColor=t(80333),d.exports=h},27460:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(39429),o=new h({initialize:function(r,i,n,l,s,u){i||(i=r.sys.make.image({x:n,y:l,key:s,frame:u,add:!1})),this.bitmapMask=i,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,i)},postRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(a,r,i,n,l){return new o(this.scene,a,r,i,n,l)}),d.exports=o},80661:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,a,r){var i=o.gl;o.flush(),o.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:r}),this.applyStencil(o,r,!0),o.maskCount++},applyStencil:function(o,a,r){var i=o.gl,n=this.geometryMask,l=o.maskCount,s=255;i.colorMask(!1,!1,!1,!1),r?(i.stencilFunc(i.EQUAL,l,s),i.stencilOp(i.KEEP,i.KEEP,i.INCR),l++):(i.stencilFunc(i.EQUAL,l+1,s),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),this.level=l,n.renderWebGL(o,n,a),o.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.invertAlpha?i.stencilFunc(i.NOTEQUAL,l,s):i.stencilFunc(i.EQUAL,l,s)},postRenderWebGL:function(o){var a=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var r=o.currentMask;if(o.maskStack.length===0)r.mask=null,a.disable(a.STENCIL_TEST);else{var i=o.maskStack[o.maskStack.length-1];i.mask.applyStencil(o,i.camera,!1),o.currentCameraMask.mask!==i.mask?(r.mask=i.mask,r.camera=i.camera):r.mask=null}},preRenderCanvas:function(o,a,r){var i=this.geometryMask;o.currentContext.save(),i.renderCanvas(o,i,r,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});d.exports=x},69781:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=a,this.fragmentSrc=r,this.vertexSrc=i,this.uniforms=n}});d.exports=x},40366:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x;if(h)typeof h=="string"?x=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(x=h);else if(t.parentElement||h===null)return t;return x||(x=document.body),x.appendChild(t),t};d.exports=S},83719:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),x=function(o){var a=o.config;if(!(!a.parent||!a.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=r,h(r,a.parent)}};d.exports=x},57264:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),x=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),o()};document.body?h.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};d.exports=x},57811:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),x={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),x.w=h===90?o.offsetHeight:window.innerWidth,x.h=h===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?x.h:x.w};d.exports=S},45818:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),x=function(o,a){var r=window.screen,i=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return a>o?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};d.exports=x},74403:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};d.exports=S},56836:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h="";try{if(window.DOMParser){var x=new DOMParser;h=x.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};d.exports=S},35846:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};d.exports=S},43092:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(29747),o=new h({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function i(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(i))},this.stepTimeout=function i(){r.isRunning&&(r.timeOutID=window.setTimeout(i,r.delay)),r.callback(window.performance.now())}},start:function(a,r,i){this.isRunning||(this.callback=a,this.isSetTimeOut=r,this.delay=i,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});d.exports=o},84902:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};d.exports=h},47565:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(37277),a=new h({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",a,"events"),d.exports=a},93055:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={EventEmitter:t(47565)}},20122:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n){n===void 0&&(n=1),x.call(this,o.BARREL,i),this.amount=n}});d.exports=a},32251:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u,f,c){l===void 0&&(l=1),s===void 0&&(s=1),u===void 0&&(u=1),f===void 0&&(f=1),c===void 0&&(c=4),x.call(this,o.BLOOM,i),this.steps=c,this.offsetX=l,this.offsetY=s,this.blurStrength=u,this.strength=f,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});d.exports=a},9047:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u,f,c){n===void 0&&(n=0),l===void 0&&(l=2),s===void 0&&(s=2),u===void 0&&(u=1),c===void 0&&(c=4),x.call(this,o.BLUR,i),this.quality=n,this.x=l,this.y=s,this.steps=c,this.strength=u,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});d.exports=a},27885:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u,f,c,v){n===void 0&&(n=.5),l===void 0&&(l=1),s===void 0&&(s=.2),u===void 0&&(u=!1),f===void 0&&(f=1),c===void 0&&(c=1),v===void 0&&(v=1),x.call(this,o.BOKEH,i),this.radius=n,this.amount=l,this.contrast=s,this.isTiltShift=u,this.strength=v,this.blurX=f,this.blurY=c}});d.exports=a},12578:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u,f){n===void 0&&(n=8),u===void 0&&(u=1),f===void 0&&(f=.005),x.call(this,o.CIRCLE,i),this.scale=u,this.feather=f,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),s!=null&&(this.backgroundColor=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor2;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});d.exports=a},15802:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89422),o=t(14811),a=new h({Extends:x,initialize:function(i){x.call(this),this.type=o.COLOR_MATRIX,this.gameObject=i,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});d.exports=a},72898:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r){this.type=a,this.gameObject=r,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});d.exports=x},44553:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),s===void 0&&(s=.005),x.call(this,o.DISPLACEMENT,i),this.x=l,this.y=s,this.glTexture,this.setTexture(n)},setTexture:function(r){var i=this.gameObject.scene.sys.textures.getFrame(r);return i&&(this.glTexture=i.glTexture),this}});d.exports=a},68531:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u){l===void 0&&(l=4),s===void 0&&(s=0),u===void 0&&(u=!1),x.call(this,o.GLOW,i),this.outerStrength=l,this.innerStrength=s,this.knockout=u,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});d.exports=a},37102:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u,f,c,v,g){s===void 0&&(s=.2),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=1),g===void 0&&(g=0),x.call(this,o.GRADIENT,i),this.alpha=s,this.size=g,this.fromX=u,this.fromY=f,this.toX=c,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor1;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor2;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}}});d.exports=a},86886:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n){n===void 0&&(n=1),x.call(this,o.PIXELATE,i),this.amount=n}});d.exports=a},92322:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u,f,c,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=.1),u===void 0&&(u=1),c===void 0&&(c=6),v===void 0&&(v=1),x.call(this,o.SHADOW,i),this.x=n,this.y=l,this.decay=s,this.power=u,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=v,f!==void 0&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});d.exports=a},39563:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=3),u===void 0&&(u=!1),x.call(this,o.SHINE,i),this.speed=n,this.lineWidth=l,this.gradient=s,this.reveal=u}});d.exports=a},56448:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u){n===void 0&&(n=.5),l===void 0&&(l=.5),s===void 0&&(s=.5),u===void 0&&(u=.5),x.call(this,o.VIGNETTE,i),this.x=n,this.y=l,this.radius=s,this.strength=u}});d.exports=a},38433:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72898),o=t(14811),a=new h({Extends:x,initialize:function(i,n,l,s,u){n===void 0&&(n=.1),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),x.call(this,o.WIPE,i),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=s,this.reveal=u}});d.exports=a},14811:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};d.exports=S},66064:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=h(!1,o,x),d.exports=o},25305:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(23568),o=function(a,r,i){r.x=x(i,"x",0),r.y=x(i,"y",0),r.depth=x(i,"depth",0),r.flipX=x(i,"flipX",!1),r.flipY=x(i,"flipY",!1);var n=x(i,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=x(n,"x",1),r.scaleY=x(n,"y",1));var l=x(i,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=x(l,"x",1),r.scrollFactorY=x(l,"y",1)),r.rotation=x(i,"rotation",0);var s=x(i,"angle",null);s!==null&&(r.angle=s),r.alpha=x(i,"alpha",1);var u=x(i,"origin",null);if(typeof u=="number")r.setOrigin(u);else if(u!==null){var f=x(u,"x",.5),c=x(u,"y",.5);r.setOrigin(f,c)}r.blendMode=x(i,"blendMode",h.NORMAL),r.visible=x(i,"visible",!0);var v=x(i,"add",!0);return v&&a.sys.displayList.add(r),r.preUpdate&&a.sys.updateList.add(r),r};d.exports=o},13059:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23568),x=function(o,a){var r=h(a,"anims",null);if(r===null)return o;if(typeof r=="string")o.anims.play(r);else if(typeof r=="object"){var i=o.anims,n=h(r,"key",void 0);if(n){var l=h(r,"startFrame",void 0),s=h(r,"delay",0),u=h(r,"repeat",0),f=h(r,"repeatDelay",0),c=h(r,"yoyo",!1),v=h(r,"play",!1),g=h(r,"delayedPlay",0),y={key:n,delay:s,repeat:u,repeatDelay:f,yoyo:c,startFrame:l};v?i.play(y):g>0?i.playAfterDelay(y,g):i.load(y)}}return o};d.exports=x},8050:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(73162),o=t(37277),a=t(51708),r=t(44594),i=t(19186),n=new h({Extends:x,initialize:function(s){x.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(a.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(a.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,s){return l._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,s=l.length;s--;)l[s].destroy(!0);l.length=0,this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),d.exports=n},95643:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(53774),o=t(45893),a=t(50792),r=t(51708),i=t(44594),n=new h({Extends:a,initialize:function(s,u){a.call(this),this.scene=s,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,s){return this.data||(this.data=new o(this)),this.data.set(l,s),this},incData:function(l,s){return this.data||(this.data=new o(this)),this.data.inc(l,s),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,s,u){return this.scene.sys.input.enable(this,l,s,u),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(l){var s=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!s||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,s=this.parentContainer,u=[];s&&(u.unshift(s.getIndex(l)),l=s,s.parentContainer);)s=s.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,d.exports=n},44603:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37277),o=t(44594),a=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},x.register("GameObjectCreator",a,"make"),d.exports=a},39429:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37277),o=t(44594),a=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},x.register("GameObjectFactory",a,"add"),d.exports=a},91296:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),x=new h,o=new h,a=new h,r={camera:x,sprite:o,calc:a},i=function(n,l,s){var u=x,f=o,c=a;return f.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),u.copyFrom(l.matrix),s?(u.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),f.e=n.x,f.f=n.y):(f.e-=l.scrollX*n.scrollFactorX,f.f-=l.scrollY*n.scrollFactorY),u.multiply(f,c),r};d.exports=i},45027:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(25774),o=t(37277),a=t(44594),r=new h({Extends:x,initialize:function(n){x.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,n){for(var l=this._active,s=l.length,u=0;u<s;u++){var f=l[u];f.active&&f.preUpdate.call(f,i,n)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(a.PRE_UPDATE,this.update,this),n.off(a.UPDATE,this.sceneUpdate,this),n.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",r,"updateList"),d.exports=r},3217:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a,r,i,n,l,s,u,f,c,v,g){var y=x.x-h.displayOriginX+a,T=x.y-h.displayOriginY+r,E=y+x.w,A=T+x.h,P=i.a,w=i.b,I=i.c,O=i.d,F=i.e,L=i.f,D=y*P+T*I+F,b=y*w+T*O+L,U=y*P+A*I+F,W=y*w+A*O+L,H=E*P+A*I+F,Y=E*w+A*O+L,G=E*P+T*I+F,X=E*w+T*O+L;n&&(D=Math.round(D),b=Math.round(b),U=Math.round(U),W=Math.round(W),H=Math.round(H),Y=Math.round(Y),G=Math.round(G),X=Math.round(X)),t.batchQuad(h,D,b,U,W,H,Y,G,X,o.u0,o.v0,o.u1,o.v1,l,s,u,f,c,v,g)};d.exports=S},53048:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){if(x===void 0&&(x=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var a=t.text,r=a.length,i=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,s=Number.MAX_VALUE,u=0,f=0,c=t.fontData.chars,v=t.fontData.lineHeight,g=t.letterSpacing,y=t.lineSpacing,T=0,E=0,A=0,P=null,w=t._align,I=0,O=0,F=t.fontSize/t.fontData.size,L=F*t.scaleX,D=F*t.scaleY,b=null,U=0,W=[],H=Number.MAX_VALUE,Y=0,G=0,X=0,V,B,z,$=[],j=[],k=null,q=function(Ut,qt){for(var Nt=0,Jt=0;Jt<Ut.length;Jt++){var ae=Ut.charCodeAt(Jt),jt=qt.chars[ae];jt&&(Nt+=jt.xAdvance)}return Nt*L};if(i>0){z=a.split(`
`);var Q=[];for(V=0;V<z.length;V++){var Z=z[V],_="",et="",it="",st="";for(B=0;B<Z.length;B++)if(A=Z.charCodeAt(B),_+=Z[B],A===n||B===Z.length-1){st=it+_;var nt=q(st,t.fontData);nt<=i?it=st:(et=et.slice(0,-1),et+=(et?`
`:"")+it,it=_),_=""}et=et.slice(0,-1),et+=(et?`
`:"")+it,Q.push(et)}a=Q.join(`
`),o.wrappedText=a,r=a.length}var lt=0;for(V=0;V<r;V++){if(A=a.charCodeAt(V),A===10){k!==null&&($.push({word:k.word,i:k.i,x:k.x*L,y:k.y*D,w:k.w*L,h:k.h*D}),k=null),b=null,W[G]=X,X>Y&&(Y=X),X<H&&(H=X),G++,X=0,T=0,E=(v+y)*G;continue}if(P=c[A],!!P){if(I=T,O=E,b!==null){var ut=P.kerning[U];I+=ut!==void 0?ut:0}l>I&&(l=I),s>O&&(s=O);var ot=I+P.xAdvance,rt=O+v;u<ot&&(u=ot),f<rt&&(f=rt);var ht=P.xOffset+P.xAdvance+(ut!==void 0?ut:0);A===n?k!==null&&($.push({word:k.word,i:k.i,x:k.x*L,y:k.y*D,w:k.w*L,h:k.h*D}),k=null):(k===null&&(k={word:"",i:lt,x:T,y:E,w:0,h:v}),k.word=k.word.concat(a[V]),k.w+=ht),j.push({i:lt,idx:V,char:a[V],code:A,x:(P.xOffset+I)*F,y:(P.yOffset+E)*F,w:P.width*F,h:P.height*F,t:E*F,r:ot*F,b:v*F,line:G,glyph:P}),T+=P.xAdvance+g+(ut!==void 0?ut:0),b=P,U=A,X=ot*F,lt++}}if(k!==null&&$.push({word:k.word,i:k.i,x:k.x*L,y:k.y*D,w:k.w*L,h:k.h*D}),W[G]=X,X>Y&&(Y=X),X<H&&(H=X),w>0)for(var dt=0;dt<j.length;dt++){var xt=j[dt];if(w===1){var yt=(Y-W[xt.line])/2;xt.x+=yt,xt.r+=yt}else if(w===2){var Ct=Y-W[xt.line];xt.x+=Ct,xt.r+=Ct}}var St=o.local,Mt=o.global;return z=o.lines,St.x=l*F,St.y=s*F,St.width=u*F,St.height=f*F,Mt.x=t.x-t._displayOriginX+l*L,Mt.y=t.y-t._displayOriginY+s*D,Mt.width=u*L,Mt.height=f*D,z.shortest=H,z.longest=Y,z.lengths=W,h&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),Mt.x=Math.ceil(Mt.x),Mt.y=Math.ceil(Mt.y),Mt.width=Math.ceil(Mt.width),Mt.height=Math.ceil(Mt.height),z.shortest=Math.ceil(H),z.longest=Math.ceil(Y)),x&&(t._displayOriginX=t.originX*St.width,t._displayOriginY=t.originY*St.height,Mt.x=t.x-t._displayOriginX*t.scaleX,Mt.y=t.y-t._displayOriginY*t.scaleY,h&&(Mt.x=Math.ceil(Mt.x),Mt.y=Math.ceil(Mt.y))),o.words=$,o.characters=j,o.lines.height=v,o.scale=F,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};d.exports=S},61327:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21859),x=function(o,a,r,i,n,l,s){var u=o.sys.textures.get(r),f=u.get(i),c=o.sys.cache.xml.get(n);if(f&&c){var v=h(c,f,l,s,u);return o.sys.cache.bitmapFont.add(a,{data:v,texture:r,frame:i,fromAtlas:!0}),!0}else return!1};d.exports=x},6925:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x=function(o,a){var r=a.width,i=a.height,n=Math.floor(r/2),l=Math.floor(i/2),s=h(a,"chars","");if(s!==""){var u=h(a,"image",""),f=o.sys.textures.getFrame(u),c=f.cutX,v=f.cutY,g=f.source.width,y=f.source.height,T=h(a,"offset.x",0),E=h(a,"offset.y",0),A=h(a,"spacing.x",0),P=h(a,"spacing.y",0),w=h(a,"lineSpacing",0),I=h(a,"charsPerRow",null);I===null&&(I=g/r,I>s.length&&(I=s.length));for(var O=T,F=E,L={retroFont:!0,font:u,size:r,lineHeight:i+w,chars:{}},D=0,b=0;b<s.length;b++){var U=s.charCodeAt(b),W=(c+O)/g,H=(v+F)/y,Y=(c+O+r)/g,G=(v+F+i)/y;L.chars[U]={x:O,y:F,width:r,height:i,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:W,v0:H,u1:Y,v1:G},D++,D===I?(D=0,O=T,F+=i+P):O+=r+A}var X={data:L,frame:null,texture:u};return X}};d.exports=x},21859:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(h,x){return parseInt(h.getAttribute(x),10)}var t=function(h,x,o,a,r){o===void 0&&(o=0),a===void 0&&(a=0);var i=x.cutX,n=x.cutY,l=x.source.width,s=x.source.height,u=x.sourceIndex,f={},c=h.getElementsByTagName("info")[0],v=h.getElementsByTagName("common")[0];f.font=c.getAttribute("face"),f.size=S(c,"size"),f.lineHeight=S(v,"lineHeight")+a,f.chars={};var g=h.getElementsByTagName("char"),y=x!==void 0&&x.trimmed;if(y)var T=x.height,E=x.width;for(var A=0;A<g.length;A++){var P=g[A],w=S(P,"id"),I=String.fromCharCode(w),O=S(P,"x"),F=S(P,"y"),L=S(P,"width"),D=S(P,"height");y&&(O<E&&(E=O),F<T&&(T=F)),y&&T!==0&&E!==0&&(O-=x.x,F-=x.y);var b=(i+O)/l,U=(n+F)/s,W=(i+O+L)/l,H=(n+F+D)/s;if(f.chars[w]={x:O,y:F,width:L,height:D,centerX:Math.floor(L/2),centerY:Math.floor(D/2),xOffset:S(P,"xoffset"),yOffset:S(P,"yoffset"),xAdvance:S(P,"xadvance")+o,data:{},kerning:{},u0:b,v0:U,u1:W,v1:H},r&&L!==0&&D!==0){var Y=r.add(I,u,O,F,L,D);Y&&Y.setUVs(L,D,b,U,W,H)}}var G=h.getElementsByTagName("kerning");for(A=0;A<G.length;A++){var X=G[A],V=S(X,"first"),B=S(X,"second"),z=S(X,"amount");f.chars[B].kerning[V]=z}return f};d.exports=t},196:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87662),x=t(79291),o={Parse:t(6925)};o=x(!1,o,h),d.exports=o},87662:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};d.exports=S},2638:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),x=t(83419),o=t(12310),a=new x({Extends:h,Mixins:[o],initialize:function(i,n,l,s,u,f,c){h.call(this,i,n,l,s,u,f,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,i){return this.cropWidth=r,this.cropHeight=i,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});d.exports=a},86741:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),x=function(o,a,r,i){var n=a._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,a,r,i))){r.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,f=a.displayCallback,c=a.callbackData,v=a.fontData.chars,g=a.fontData.lineHeight,y=a._letterSpacing,T=0,E=0,A=0,P=null,w=0,I=0,O=0,F=0,L=0,D=0,b=null,U=0,W=a.frame.source.image,H=u.cutX,Y=u.cutY,G=0,X=0,V=a._fontSize/a.fontData.size,B=a._align,z=0,$=0;a.getTextBounds(!1);var j=a._bounds.lines;B===1?$=(j.longest-j.lengths[0])/2:B===2&&($=j.longest-j.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);var k=r.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(s.beginPath(),s.rect(0,0,a.cropWidth,a.cropHeight),s.clip());for(var q=0;q<l;q++){if(X=V,G=0,A=n.charCodeAt(q),A===10){z++,B===1?$=(j.longest-j.lengths[z])/2:B===2&&($=j.longest-j.lengths[z]),T=0,E+=g,b=null;continue}if(P=v[A],!!P){if(w=H+P.x,I=Y+P.y,O=P.width,F=P.height,L=P.xOffset+T-a.scrollX,D=P.yOffset+E-a.scrollY,b!==null){var Q=P.kerning[U];L+=Q!==void 0?Q:0}if(f){c.index=q,c.charCode=A,c.x=L,c.y=D,c.scale=X,c.rotation=G,c.data=P.data;var Z=f(c);L=Z.x,D=Z.y,X=Z.scale,G=Z.rotation}L*=X,D*=X,L+=$,T+=P.xAdvance+y+(Q!==void 0?Q:0),b=P,U=A,!(O===0||F===0||A===32)&&(k&&(L=Math.round(L),D=Math.round(D)),s.save(),s.translate(L,D),s.rotate(G),s.scale(X,X),s.drawImage(W,w,I,O,F,0,0,O,F),s.restore())}}s.restore()}};d.exports=x},11164:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),x=t(25305),o=t(44603),a=t(23568);o.register("dynamicBitmapText",function(r,i){r===void 0&&(r={});var n=a(r,"font",""),l=a(r,"text",""),s=a(r,"size",!1),u=new h(this.scene,0,0,n,l,s);return i!==void 0&&(r.add=i),x(this.scene,u,r),u})},72566:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),x=t(39429);x.register("dynamicBitmapText",function(o,a,r,i,n){return this.displayList.add(new h(this.scene,o,a,r,i,n))})},12310:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(73482),o=t(86741),d.exports={renderWebGL:x,renderCanvas:o}},73482:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(61340),o=t(70554),a=new x,r=function(i,n,l,s){var u=n.text,f=u.length;if(f!==0){l.addToRenderList(n);var c=i.pipelines.set(n.pipeline,n),v=h(n,l,s);i.pipelines.preBatch(n);var g=v.sprite,y=v.calc,T=a,E=n.cropWidth>0||n.cropHeight>0;E&&(c.flush(),i.pushScissor(y.tx,y.ty,n.cropWidth*y.scaleX,n.cropHeight*y.scaleY));var A=n.frame,P=A.glTexture,w=n.tintFill,I=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),O=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),D=c.setGameObject(n),b=0,U=0,W=0,H=0,Y=n.letterSpacing,G,X=0,V=0,B,z=n.scrollX,$=n.scrollY,j=n.fontData,k=j.chars,q=j.lineHeight,Q=n.fontSize/j.size,Z=0,_=n._align,et=0,it=0,st=n.getTextBounds(!1);n.maxWidth>0&&(u=st.wrappedText,f=u.length);var nt=n._bounds.lines;_===1?it=(nt.longest-nt.lengths[0])/2:_===2&&(it=nt.longest-nt.lengths[0]);for(var lt=l.roundPixels,ut=n.displayCallback,ot=n.callbackData,rt=0;rt<f;rt++){if(W=u.charCodeAt(rt),W===10){et++,_===1?it=(nt.longest-nt.lengths[et])/2:_===2&&(it=nt.longest-nt.lengths[et]),b=0,U+=q,B=null;continue}if(G=k[W],!!G){X=G.width,V=G.height;var ht=G.xOffset+b-z,dt=G.yOffset+U-$;if(B!==null){var xt=G.kerning[H]||0;ht+=xt,b+=xt}if(b+=G.xAdvance+Y,B=G,H=W,!(X===0||V===0||W===32)){if(Q=n.fontSize/n.fontData.size,Z=0,ut){ot.color=0,ot.tint.topLeft=I,ot.tint.topRight=O,ot.tint.bottomLeft=F,ot.tint.bottomRight=L,ot.index=rt,ot.charCode=W,ot.x=ht,ot.y=dt,ot.scale=Q,ot.rotation=Z,ot.data=G.data;var yt=ut(ot);ht=yt.x,dt=yt.y,Q=yt.scale,Z=yt.rotation,yt.color?(I=yt.color,O=yt.color,F=yt.color,L=yt.color):(I=yt.tint.topLeft,O=yt.tint.topRight,F=yt.tint.bottomLeft,L=yt.tint.bottomRight),I=o.getTintAppendFloatAlpha(I,l.alpha*n._alphaTL),O=o.getTintAppendFloatAlpha(O,l.alpha*n._alphaTR),F=o.getTintAppendFloatAlpha(F,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(L,l.alpha*n._alphaBR)}ht*=Q,dt*=Q,ht-=n.displayOriginX,dt-=n.displayOriginY,ht+=it,T.applyITRS(ht,dt,Z,Q,Q),y.multiply(T,g);var Ct=G.u0,St=G.v0,Mt=G.u1,Ut=G.v1,qt=X,Nt=V,Jt=g.e,ae=g.f,jt=Nt*g.c+g.e,Se=Nt*g.d+g.f,gi=qt*g.a+Nt*g.c+g.e,Ci=qt*g.b+Nt*g.d+g.f,Vi=qt*g.a+g.e,Gi=qt*g.b+g.f;lt&&(Jt=Math.round(Jt),ae=Math.round(ae),jt=Math.round(jt),Se=Math.round(Se),gi=Math.round(gi),Ci=Math.round(Ci),Vi=Math.round(Vi),Gi=Math.round(Gi)),c.shouldFlush(6)&&(c.flush(),D=c.setGameObject(n)),c.batchQuad(n,Jt,ae,jt,Se,gi,Ci,Vi,Gi,Ct,St,Mt,Ut,I,O,F,L,w,P,D)}}}E&&(c.flush(),i.popScissor()),i.pipelines.postBatch(n)}};d.exports=r},22186:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(45319),o=t(31401),a=t(95643),r=t(53048),i=t(61327),n=t(21859),l=t(87841),s=t(18658),u=new h({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,s],initialize:function(c,v,g,y,T,E,A){T===void 0&&(T=""),A===void 0&&(A=0),a.call(this,c,"BitmapText"),this.font=y;var P=this.scene.sys.cache.bitmapFont.get(y);if(!P)throw new Error("Invalid BitmapText key: "+y);this.fontData=P.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=P.fromAtlas,this.setTexture(P.texture,P.frame),this.setPosition(v,g),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,c,v,g){return f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=.5),this.dropShadowX=f,this.dropShadowY=c,this.dropShadowColor=v,this.dropShadowAlpha=g,this},setCharacterTint:function(f,c,v,g,y,T,E){f===void 0&&(f=0),c===void 0&&(c=1),v===void 0&&(v=!1),g===void 0&&(g=-1),y===void 0&&(y=g,T=g,E=g);var A=this.text.length;c===-1&&(c=A),f<0&&(f=A+f),f=x(f,0,A-1);for(var P=x(f+c,f,A),w=this.charColors,I=f;I<P;I++){var O=w[I];if(g===-1)w[I]=null;else{var F=v?1:0;O?(O.tintEffect=F,O.tintTL=g,O.tintTR=y,O.tintBL=T,O.tintBR=E):w[I]={tintEffect:F,tintTL:g,tintTR:y,tintBL:T,tintBR:E}}}return this},setWordTint:function(f,c,v,g,y,T,E){c===void 0&&(c=1);for(var A=this.getTextBounds(),P=A.words,w=typeof f=="number",I=0,O=0;O<P.length;O++){var F=P[O];if((w&&O===f||!w&&F.word===f)&&(this.setCharacterTint(F.i,F.word.length,v,g,y,T,E),I++,I===c))return this}return this},getTextBounds:function(f){var c=this._bounds;return(this._dirty||f||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(r(this,f,!0,c),this._dirty=!1),c},getCharacterAt:function(f,c,v){for(var g=this.getLocalPoint(f,c,null,v),y=this.getTextBounds(),T=y.characters,E=new l,A=0;A<T.length;A++){var P=T[A];if(E.setTo(P.x,P.t,P.r-P.x,P.b),E.contains(g.x,g.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,c,v){c===void 0&&(c=this._fontSize),v===void 0&&(v=this._align);var g=this.scene.sys.cache.bitmapFont.get(f);return g&&(this.font=f,this.fontData=g.data,this._fontSize=c,this._align=v,this.fromAtlas=g.fromAtlas===!0,this.setTexture(g.texture,g.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,c){return this._maxWidth=f,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=o.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=c,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=i,u.ParseXMLBitmapFont=n,d.exports=u},37289:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),x=function(o,a,r,i){var n=a._text,l=n.length,s=o.currentContext;if(!(l===0||!h(o,s,a,r,i))){r.addToRenderList(a);var u=a.fromAtlas?a.frame:a.texture.frames.__BASE,f=a.fontData.chars,c=a.fontData.lineHeight,v=a._letterSpacing,g=a._lineSpacing,y=0,T=0,E=0,A=null,P=0,w=0,I=0,O=0,F=0,L=0,D=null,b=0,U=u.source.image,W=u.cutX,H=u.cutY,Y=a._fontSize/a.fontData.size,G=a._align,X=0,V=0,B=a.getTextBounds(!1);a.maxWidth>0&&(n=B.wrappedText,l=n.length);var z=a._bounds.lines;G===1?V=(z.longest-z.lengths[0])/2:G===2&&(V=z.longest-z.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);for(var $=r.roundPixels,j=0;j<l;j++){if(E=n.charCodeAt(j),E===10){X++,G===1?V=(z.longest-z.lengths[X])/2:G===2&&(V=z.longest-z.lengths[X]),y=0,T+=c+g,D=null;continue}if(A=f[E],!!A){if(P=W+A.x,w=H+A.y,I=A.width,O=A.height,F=A.xOffset+y,L=A.yOffset+T,D!==null){var k=A.kerning[b];F+=k!==void 0?k:0}F*=Y,L*=Y,F+=V,y+=A.xAdvance+v+(k!==void 0?k:0),D=A,b=E,!(I===0||O===0||E===32)&&($&&(F=Math.round(F),L=Math.round(L)),s.save(),s.translate(F,L),s.scale(Y,Y),s.drawImage(U,P,w,I,O,0,0,I,O),s.restore())}}s.restore()}};d.exports=x},57336:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),x=t(25305),o=t(44603),a=t(23568),r=t(35154);o.register("bitmapText",function(i,n){i===void 0&&(i={});var l=r(i,"font",""),s=a(i,"text",""),u=a(i,"size",!1),f=r(i,"align",0),c=new h(this.scene,0,0,l,s,u,f);return n!==void 0&&(i.add=n),x(this.scene,c,i),c})},34914:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),x=t(39429);x.register("bitmapText",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},18658:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(33590),o=t(37289),d.exports={renderWebGL:x,renderCanvas:o}},33590:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3217),x=t(91296),o=t(70554),a=function(r,i,n,l){var s=i._text,u=s.length;if(u!==0){n.addToRenderList(i);var f=r.pipelines.set(i.pipeline,i),c=x(i,n,l).calc;r.pipelines.preBatch(i);var v=n.roundPixels,g=n.alpha,y=i.charColors,T=i.tintFill,E=o.getTintAppendFloatAlpha,A=E(i.tintTopLeft,g*i._alphaTL),P=E(i.tintTopRight,g*i._alphaTR),w=E(i.tintBottomLeft,g*i._alphaBL),I=E(i.tintBottomRight,g*i._alphaBR),O=i.frame.glTexture,F=f.setGameObject(i),L=i.getTextBounds(!1),D,b,U,W=L.characters,H=i.dropShadowX,Y=i.dropShadowY,G=H!==0||Y!==0;if(G){var X=i.dropShadowColor,V=i.dropShadowAlpha,B=E(X,g*V*i._alphaTL),z=E(X,g*V*i._alphaTR),$=E(X,g*V*i._alphaBL),j=E(X,g*V*i._alphaBR);for(D=0;D<W.length;D++)b=W[D],U=b.glyph,!(b.code===32||U.width===0||U.height===0)&&h(f,i,b,U,H,Y,c,v,B,z,$,j,1,O,F)}for(D=0;D<W.length;D++)if(b=W[D],U=b.glyph,!(b.code===32||U.width===0||U.height===0))if(f.shouldFlush(6)&&(f.flush(),F=f.setGameObject(i)),y[b.i]){var k=y[b.i],q=k.tintEffect,Q=E(k.tintTL,g*i._alphaTL),Z=E(k.tintTR,g*i._alphaTR),_=E(k.tintBL,g*i._alphaBL),et=E(k.tintBR,g*i._alphaBR);h(f,i,b,U,0,0,c,v,Q,Z,_,et,q,O,F)}else h(f,i,b,U,0,0,c,v,A,P,w,I,T,O,F);r.pipelines.postBatch(i)}};d.exports=a},6107:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48011),x=t(46590),o=t(83419),a=t(31401),r=t(4327),i=t(95643),n=t(73162),l=new o({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,h],initialize:function(u,f,c,v,g){i.call(this,u,"Blitter"),this.setTexture(v,g),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(s,u,f,c,v){c===void 0&&(c=!0),v===void 0&&(v=this.children.length),f===void 0?f=this.frame:f instanceof r||(f=this.texture.get(f));var g=new x(this,s,u,f,c);return this.children.addAt(g,v,!1),this.dirty=!0,g},createFromCallback:function(s,u,f,c){for(var v=this.createMultiple(u,f,c),g=0;g<v.length;g++){var y=v[g];s.call(this,y,g)}return v},createMultiple:function(s,u,f){u===void 0&&(u=this.frame.name),f===void 0&&(f=!0),Array.isArray(u)||(u=[u]);var c=[],v=this;return u.forEach(function(g){for(var y=0;y<s;y++)c.push(v.create(0,0,g,f))}),c},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});d.exports=l},72396:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=h.getRenderList();if(a.length!==0){var r=t.currentContext,i=x.alpha*h.alpha;if(i!==0){x.addToRenderList(h),r.globalCompositeOperation=t.blendModes[h.blendMode],r.imageSmoothingEnabled=!h.frame.source.scaleMode;var n=h.x-x.scrollX*h.scrollFactorX,l=h.y-x.scrollY*h.scrollFactorY;r.save(),o&&o.copyToContext(r);for(var s=x.roundPixels,u=0;u<a.length;u++){var f=a[u],c=f.flipX||f.flipY,v=f.frame,g=v.canvasData,y=v.x,T=v.y,E=1,A=1,P=f.alpha*i;P!==0&&(r.globalAlpha=P,c?(f.flipX&&(E=-1,y-=g.width),f.flipY&&(A=-1,T-=g.height),g.width>0&&g.height>0&&(r.save(),r.translate(f.x+n,f.y+l),r.scale(E,A),r.drawImage(v.source.image,g.x,g.y,g.width,g.height,y,T,g.width,g.height),r.restore())):(s&&(y=Math.round(y),T=Math.round(T)),g.width>0&&g.height>0&&r.drawImage(v.source.image,g.x,g.y,g.width,g.height,y+f.x+n,T+f.y+l,g.width,g.height)))}r.restore()}}};d.exports=S},9403:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),x=t(25305),o=t(44603),a=t(23568);o.register("blitter",function(r,i){r===void 0&&(r={});var n=a(r,"key",null),l=a(r,"frame",null),s=new h(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),x(this.scene,s,r),s})},12709:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),x=t(39429);x.register("blitter",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},48011:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(99485),o=t(72396),d.exports={renderWebGL:x,renderCanvas:o}},99485:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),x=t(70554),o=new h,a=function(r,i,n,l){var s=i.getRenderList(),u=n.alpha*i.alpha;if(!(s.length===0||u===0)){n.addToRenderList(i);var f=r.pipelines.set(this.pipeline,i),c=n.scrollX*i.scrollFactorX,v=n.scrollY*i.scrollFactorY,g=o.copyFrom(n.matrix);l&&(g.multiplyWithOffset(l,-c,-v),c=0,v=0);var y=i.x-c,T=i.y-v,E=-1,A=!1,P=n.roundPixels;r.pipelines.preBatch(i);for(var w=0;w<s.length;w++){var I=s[w],O=I.frame,F=I.alpha*u;if(F!==0){var L=O.width,D=O.height,b=y+I.x+O.x,U=T+I.y+O.y;I.flipX&&(L*=-1,b+=O.width),I.flipY&&(D*=-1,U+=O.height);var W=g.setQuad(b,U,b+L,U+D,P),H=x.getTintAppendFloatAlpha(I.tint,F);if(O.sourceIndex!==E){var Y=f.setGameObject(i,O);E=O.sourceIndex}f.batchQuad(i,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],O.u0,O.v0,O.u1,O.v1,H,H,H,H,A,O.glTexture,Y)&&(E=-1)}}r.pipelines.postBatch(i)}};d.exports=a},46590:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(4327),o=new h({initialize:function(r,i,n,l,s){this.parent=r,this.x=i,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof x&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,r,i){return this.x=a,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,r){return this.x=a,this.y=r,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,r){return this.flipX=a,this.flipY=r,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});d.exports=o},16005:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,r,i,n){return a===void 0&&(a=1),r===void 0?this.alpha=a:(this._alphaTL=h(a,0,1),this._alphaTR=h(r,0,1),this._alphaBL=h(i,0,1),this._alphaBR=h(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=-3:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var r=h(a,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var r=h(a,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var r=h(a,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var r=h(a,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=x)}}};d.exports=o},88509:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,r===0?this.renderFlags&=-3:this.renderFlags|=x}}};d.exports=o},90065:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=h[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};d.exports=x},94215:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};d.exports=S},61683:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,x,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,x,o,this.flipX,this.flipY);else{var a=t;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};d.exports=S},89272:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),x={_depth:0,depth:{get:function(){return this._depth},set:function(o){this.displayList&&this.displayList.queueDepthSort(),this._depth=o}},setDepth:function(o){return o===void 0&&(o=0),this.depth=o,this},setToTop:function(){var o=this.getDisplayList();return o&&h.BringToTop(o,this),this},setToBack:function(){var o=this.getDisplayList();return o&&h.SendToBack(o,this),this},setAbove:function(o){var a=this.getDisplayList();return a&&o&&h.MoveAbove(a,this,o),this},setBelow:function(o){var a=this.getDisplayList();return a&&o&&h.MoveBelow(a,this,o),this}};d.exports=x},47059:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(66064),o=t(19133),a=new h({initialize:function(i,n){this.gameObject=i,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var i=this.gameObject.scene.sys.renderer;i&&i.pipelines?(this.gameObject.pipeline=i.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,i=0;i<r.length;i++)r[i].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var i;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),i=0;i<n.length;i++){var l=n[i];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var s=this.list;for(i=0;i<s.length;i++)s[i]===r&&(o(s,i),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,i){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,i);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,i,n,l,s,u){return this.add(new x.Glow(this.gameObject,r,i,n,l),{quality:s,distance:u})},addShadow:function(r,i,n,l,s,u,f){return this.add(new x.Shadow(this.gameObject,r,i,n,l,s,u,f))},addPixelate:function(r){return this.add(new x.Pixelate(this.gameObject,r))},addVignette:function(r,i,n,l){return this.add(new x.Vignette(this.gameObject,r,i,n,l))},addShine:function(r,i,n,l){return this.add(new x.Shine(this.gameObject,r,i,n,l))},addBlur:function(r,i,n,l,s,u){return this.add(new x.Blur(this.gameObject,r,i,n,l,s,u))},addGradient:function(r,i,n,l,s,u,f,c){return this.add(new x.Gradient(this.gameObject,r,i,n,l,s,u,f,c))},addBloom:function(r,i,n,l,s,u){return this.add(new x.Bloom(this.gameObject,r,i,n,l,s,u))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(r,i,n,l,s){return this.add(new x.Circle(this.gameObject,r,i,n,l,s))},addBarrel:function(r){return this.add(new x.Barrel(this.gameObject,r))},addDisplacement:function(r,i,n){return this.add(new x.Displacement(this.gameObject,r,i,n))},addWipe:function(r,i,n){return this.add(new x.Wipe(this.gameObject,r,i,n))},addReveal:function(r,i,n){return this.add(new x.Wipe(this.gameObject,r,i,n,!0))},addBokeh:function(r,i,n){return this.add(new x.Bokeh(this.gameObject,r,i,n))},addTiltShift:function(r,i,n,l,s,u){return this.add(new x.Bokeh(this.gameObject,r,i,n,!0,l,s,u))},destroy:function(){this.clear(),this.gameObject=null}});d.exports=a},54434:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};d.exports=S},8004:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(11520),o=t(26099),a={prepareBoundsOutput:function(r,i){if(i===void 0&&(i=!1),this.rotation!==0&&x(r,this.x,this.y,this.rotation),i&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,i){return r===void 0&&(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getTopLeft:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopRight:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getLeftCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getRightCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getBottomLeft:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomCenter:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomRight:function(r,i){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBounds:function(r){r===void 0&&(r=new h);var i,n,l,s,u,f,c,v;if(this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),g.transformPoint(r.x,r.y,r),i=r.x,n=r.y,this.getTopRight(r),g.transformPoint(r.x,r.y,r),l=r.x,s=r.y,this.getBottomLeft(r),g.transformPoint(r.x,r.y,r),u=r.x,f=r.y,this.getBottomRight(r),g.transformPoint(r.x,r.y,r),c=r.x,v=r.y}else this.getTopLeft(r),i=r.x,n=r.y,this.getTopRight(r),l=r.x,s=r.y,this.getBottomLeft(r),u=r.x,f=r.y,this.getBottomRight(r),c=r.x,v=r.y;return r.x=Math.min(i,l,u,c),r.y=Math.min(n,s,f,v),r.width=Math.max(i,l,u,c)-r.x,r.height=Math.max(n,s,f,v)-r.y,r}};d.exports=a},8573:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6858),x=t(80661),o={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,r,i,n,l){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new h(this.scene,a,r,i,n,l)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new x(this.scene,a)}};d.exports=o},27387:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};d.exports=S},37640:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),x=t(57355),o=t(35154),a=t(86353),r=t(26099),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var u=x(n,"positionOnPath",!1);this.rotateToPath=x(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var f=o(n,"startAt",l);if(f&&(n.onStart=function(v){var g=v.data[0];g.progress=f,g.elapsed=g.duration*f;var y=g.ease(g.progress);g.current=g.start+(g.end-g.start)*y,g.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],s=this.pathDelta,u=this.pathVector;if(s.copy(u).negate(),l.state===a.COMPLETE){this.path.getPoint(l.end,u),s.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(l.state!==a.PLAYING_FORWARD&&l.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),u),s.add(u),u.add(this.pathOffset);var f=this.x,c=this.y;this.setPosition(u.x,u.y);var v=this.x-f,g=this.y-c;if(v===0&&g===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(g,v)+h(this.pathRotationOffset))}}};d.exports=i},72699:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var r=a.pipelines;if(r){o===void 0&&(o=r.default);var i=r.get(o);if(i)return this.defaultPipeline=i,this.pipeline=i,!0}return!1},setPipeline:function(o,a,r){var i=this.scene.sys.renderer;if(!i)return this;var n=i.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),a&&(this.pipelineData=r?h(a):a)}return this},setPipelineData:function(o,a){var r=this.pipelineData;return a===void 0?delete r[o]:r[o]=a,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};d.exports=x},17581:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),x=t(47059),o=t(19133),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),r&&(this.preFX=new x(this,!1))},setPostPipeline:function(r,i,n){var l=this.scene.sys.renderer;if(!l)return this;var s=l.pipelines;if(s){Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var f=s.getPostPipeline(r[u],this,i);f&&this.postPipelines.push(f)}i&&(this.postPipelineData=n?h(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,i){var n=this.postPipelineData;return i===void 0?delete n[r]:n[r]=i,this},getPostPipeline:function(r){for(var i=typeof r=="string",n=this.postPipelines,l=[],s=0;s<n.length;s++){var u=n[s];(i&&u.name===r||!i&&u instanceof r)&&l.push(u)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var i=this.postPipelines,n=0;n<i.length;n++)i[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var i=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var s=n[l];(i&&s.name===r||!i&&s===r)&&(s.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};d.exports=a},80227:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};d.exports=S},16736:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};d.exports=S},37726:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),x=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(a,r,i,n){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r,i,n)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=x,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};d.exports=o},79812:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),x=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(a,r,i,n){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,r,i,n,this.flipX,this.flipY);else{var l=a;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=x,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};d.exports=o},27472:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,x,o){return t===void 0&&(t=16777215),h===void 0&&(h=t,x=t,o=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=x,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,h,x,o){return this.setTint(t,h,x,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};d.exports=S},53774:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};d.exports=S},16901:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(61340),o=t(85955),a=t(86554),r=t(30954),i=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=-5:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*h.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=a(s)}},setPosition:function(s,u,f,c){return s===void 0&&(s=0),u===void 0&&(u=s),f===void 0&&(f=0),c===void 0&&(c=0),this.x=s,this.y=u,this.z=f,this.w=c,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,u,f,c){return s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=s+Math.random()*f,this.y=u+Math.random()*c,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=s),this.scaleX=s,this.scaleY=u,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new x),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,u){s===void 0&&(s=new x);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(s);var c=!1;for(u||(u=new x,c=!0),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)u.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),u.multiply(s,s),f=f.parentContainer;return c&&u.destroy(),s},getLocalPoint:function(s,u,f,c){f||(f=new i),c||(c=this.scene.sys.cameras.main);var v=c.scrollX,g=c.scrollY,y=s+v*this.scrollFactorX-v,T=u+g*this.scrollFactorY-g;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(y,T,f):o(y,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getWorldPoint:function(s,u,f){s===void 0&&(s=new i);var c=this.parentContainer;if(!c)return s.x=this.x,s.y=this.y,s;var v=this.getWorldTransformMatrix(u,f);return s.x=v.tx,s.y=v.ty,s},getParentRotation:function(){for(var s=0,u=this.parentContainer;u;)s+=u.rotation,u=u.parentContainer;return s}};d.exports=l},61340:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(36383),o=t(26099),a=new h({initialize:function(i,n,l,s,u,f){i===void 0&&(i=1),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=1),u===void 0&&(u=0),f===void 0&&(f=0),this.matrix=new Float32Array([i,n,l,s,u,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,i=r[0],n=r[1],l=r[2],s=r[3];return i||n?n>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):l||s?x.TAU-(s>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,i){var n=this.matrix;return n[4]=n[0]*r+n[2]*i+n[4],n[5]=n[1]*r+n[3]*i+n[5],this},scale:function(r,i){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=i,n[3]*=i,this},rotate:function(r){var i=Math.sin(r),n=Math.cos(r),l=this.matrix,s=l[0],u=l[1],f=l[2],c=l[3];return l[0]=s*n+f*i,l[1]=u*n+c*i,l[2]=s*-i+f*n,l[3]=u*-i+c*n,this},multiply:function(r,i){var n=this.matrix,l=r.matrix,s=n[0],u=n[1],f=n[2],c=n[3],v=n[4],g=n[5],y=l[0],T=l[1],E=l[2],A=l[3],P=l[4],w=l[5],I=i===void 0?n:i.matrix;return I[0]=y*s+T*f,I[1]=y*u+T*c,I[2]=E*s+A*f,I[3]=E*u+A*c,I[4]=P*s+w*f+v,I[5]=P*u+w*c+g,I},multiplyWithOffset:function(r,i,n){var l=this.matrix,s=r.matrix,u=l[0],f=l[1],c=l[2],v=l[3],g=l[4],y=l[5],T=i*u+n*c+g,E=i*f+n*v+y,A=s[0],P=s[1],w=s[2],I=s[3],O=s[4],F=s[5];return l[0]=A*u+P*c,l[1]=A*f+P*v,l[2]=w*u+I*c,l[3]=w*f+I*v,l[4]=O*u+F*c+T,l[5]=O*f+F*v+E,this},transform:function(r,i,n,l,s,u){var f=this.matrix,c=f[0],v=f[1],g=f[2],y=f[3],T=f[4],E=f[5];return f[0]=r*c+i*g,f[1]=r*v+i*y,f[2]=n*c+l*g,f[3]=n*v+l*y,f[4]=s*c+u*g+T,f[5]=s*v+u*y+E,this},transformPoint:function(r,i,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,s=l[0],u=l[1],f=l[2],c=l[3],v=l[4],g=l[5];return n.x=r*s+i*f+v,n.y=r*u+i*c+g,n},invert:function(){var r=this.matrix,i=r[0],n=r[1],l=r[2],s=r[3],u=r[4],f=r[5],c=i*s-n*l;return r[0]=s/c,r[1]=-n/c,r[2]=-l/c,r[3]=i/c,r[4]=(l*f-s*u)/c,r[5]=-(i*f-n*u)/c,this},copyFrom:function(r){var i=this.matrix;return i[0]=r.a,i[1]=r.b,i[2]=r.c,i[3]=r.d,i[4]=r.e,i[5]=r.f,this},copyFromArray:function(r){var i=this.matrix;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],this},copyToContext:function(r){var i=this.matrix;return r.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r},setToContext:function(r){return r.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),r},copyToArray:function(r){var i=this.matrix;return r===void 0?r=[i[0],i[1],i[2],i[3],i[4],i[5]]:(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5]),r},setTransform:function(r,i,n,l,s,u){var f=this.matrix;return f[0]=r,f[1]=i,f[2]=n,f[3]=l,f[4]=s,f[5]=u,this},decomposeMatrix:function(){var r=this.decomposedMatrix,i=this.matrix,n=i[0],l=i[1],s=i[2],u=i[3],f=n*u-l*s;if(r.translateX=i[4],r.translateY=i[5],n||l){var c=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/c):-Math.acos(n/c),r.scaleX=c,r.scaleY=f/c}else if(s||u){var v=Math.sqrt(s*s+u*u);r.rotation=Math.PI*.5-(u>0?Math.acos(-s/v):-Math.acos(s/v)),r.scaleX=f/v,r.scaleY=v}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,i,n,l,s){var u=this.matrix,f=Math.sin(n),c=Math.cos(n);return u[4]=r,u[5]=i,u[0]=c*l,u[1]=f*l,u[2]=-f*s,u[3]=c*s,this},applyInverse:function(r,i,n){n===void 0&&(n=new o);var l=this.matrix,s=l[0],u=l[1],f=l[2],c=l[3],v=l[4],g=l[5],y=1/(s*c+f*-u);return n.x=c*y*r+-f*y*i+(g*f-v*c)*y,n.y=s*y*i+-u*y*r+(-g*s+v*u)*y,n},setQuad:function(r,i,n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=this.quad);var f=this.matrix,c=f[0],v=f[1],g=f[2],y=f[3],T=f[4],E=f[5],A=r*c+i*g+T,P=r*v+i*y+E,w=r*c+l*g+T,I=r*v+l*y+E,O=n*c+l*g+T,F=n*v+l*y+E,L=n*c+i*g+T,D=n*v+i*y+E;if(s){var b=Math.floor(A+.5),U=Math.floor(P+.5),W=b-A,H=U-P;u[0]=b,u[1]=U,u[2]=w+W,u[3]=I+H,u[4]=O+W,u[5]=F+H,u[6]=L+W,u[7]=D+H}else u[0]=A,u[1]=P,u[2]=w,u[3]=I,u[4]=O,u[5]=F,u[6]=L,u[7]=D;return u},getX:function(r,i){return r*this.a+i*this.c+this.e},getY:function(r,i){return r*this.b+i*this.d+this.f},getXRound:function(r,i,n){var l=this.getX(r,i);return n&&(l=Math.floor(l+.5)),l},getYRound:function(r,i,n){var l=this.getY(r,i);return n&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});d.exports=a},59715:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(h){return this.visible=h,this}};d.exports=t},31401:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),x=t(10312),o=t(83419),a=t(31401),r=t(51708),i=t(95643),n=t(87841),l=t(29959),s=t(36899),u=t(26099),f=new a.TransformMatrix,c=new o({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,l],initialize:function(g,y,T,E){i.call(this,g,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this._sortKey="",this._sysEvents=g.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,T),this.setBlendMode(x.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new n),v.setTo(this.x,this.y,0,0),this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix(),y=g.transformPoint(this.x,this.y);v.setTo(y.x,y.y,0,0)}if(this.list.length>0){var T=this.list,E=new n,A=!1;v.setEmpty();for(var P=0;P<T.length;P++){var w=T[P];w.getBounds&&(w.getBounds(E),A?s(E,v,v):(v.setTo(E.x,E.y,E.width,E.height),A=!0))}}return v},addHandler:function(v){v.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this,v.removeFromDisplayList(),v.addedToScene())},removeHandler:function(v){v.off(r.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer=null,v.removedFromScene(),v.addToDisplayList())},pointToContainer:function(v,g){g===void 0&&(g=new u),this.parentContainer?this.parentContainer.pointToContainer(v,g):(g.x=v.x,g.y=v.y);var y=f;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(v.x,v.y,g),g},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(v){return h.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,g){return h.AddAt(this.list,v,g,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,g){return v?(g===void 0&&(g=function(y,T){return y[v]-T[v]}),h.StableSort(this.list,g),this):this},getByName:function(v){return h.GetFirst(this.list,"name",v)},getRandom:function(v,g){return h.GetRandom(this.list,v,g)},getFirst:function(v,g,y,T){return h.GetFirst(this.list,v,g,y,T)},getAll:function(v,g,y,T){return h.GetAll(this.list,v,g,y,T)},count:function(v,g,y,T){return h.CountAllMatching(this.list,v,g,y,T)},swap:function(v,g){return h.Swap(this.list,v,g),this},moveTo:function(v,g){return h.MoveTo(this.list,v,g),this},moveAbove:function(v,g){return h.MoveAbove(this.list,v,g),this},moveBelow:function(v,g){return h.MoveBelow(this.list,v,g),this},remove:function(v,g){var y=h.Remove(this.list,v,this.removeHandler,this);if(g&&y){Array.isArray(y)||(y=[y]);for(var T=0;T<y.length;T++)y[T].destroy()}return this},removeAt:function(v,g){var y=h.RemoveAt(this.list,v,this.removeHandler,this);return g&&y&&y.destroy(),this},removeBetween:function(v,g,y){var T=h.RemoveBetween(this.list,v,g,this.removeHandler,this);if(y)for(var E=0;E<T.length;E++)T[E].destroy();return this},removeAll:function(v){var g=this.list;if(v){for(var y=0;y<g.length;y++)g[y]&&g[y].scene&&(g[y].off(r.DESTROY,this.onChildDestroyed,this),g[y].destroy());this.list=[]}else h.RemoveBetween(g,0,g.length,this.removeHandler,this);return this},bringToTop:function(v){return h.BringToTop(this.list,v),this},sendToBack:function(v){return h.SendToBack(this.list,v),this},moveUp:function(v){return h.MoveUp(this.list,v),this},moveDown:function(v){return h.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(v,g,y){var T=h.Replace(this.list,v,g);return T&&(this.addHandler(g),this.removeHandler(v),y&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,g,y,T){return h.SetAll(this.list,v,g,y,T),this},each:function(v,g){var y=[null],T,E=this.list.slice(),A=E.length;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<A;T++)y[0]=E[T],v.apply(g,y);return this},iterate:function(v,g){var y=[null],T;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<this.list.length;T++)y[0]=this.list[T],v.apply(g,y);return this},setScrollFactor:function(v,g,y){return g===void 0&&(g=v),y===void 0&&(y=!1),this.scrollFactorX=v,this.scrollFactorY=g,y&&(h.SetAll(this.list,"scrollFactorX",v),h.SetAll(this.list,"scrollFactorY",g)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(v){h.Remove(this.list,v),this.exclusive&&(v.parentContainer=null,v.removedFromScene())}});d.exports=c},53584:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x.addToRenderList(h);var a=h.list;if(a.length!==0){var r=h.localTransform;o?(r.loadIdentity(),r.multiply(o),r.translate(h.x,h.y),r.rotate(h.rotation),r.scale(h.scaleX,h.scaleY)):r.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var i=h.blendMode!==-1;i||t.setBlendMode(0);var n=h._alpha,l=h.scrollFactorX,s=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,x);for(var u=0;u<a.length;u++){var f=a[u];if(f.willRender(x)){var c=f.alpha,v=f.scrollFactorX,g=f.scrollFactorY;!i&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(v*l,g*s),f.setAlpha(c*n),f.renderCanvas(t,f,x,r),f.setAlpha(c),f.setScrollFactor(v,g)}}h.mask&&h.mask.postRenderCanvas(t)}};d.exports=S},77143:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(31559),o=t(44603),a=t(23568),r=t(95540);o.register("container",function(i,n){i===void 0&&(i={});var l=a(i,"x",0),s=a(i,"y",0),u=r(i,"children",null),f=new x(this.scene,l,s,u);return n!==void 0&&(i.add=n),h(this.scene,f,i),f})},24961:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31559),x=t(39429);x.register("container",function(o,a,r){return this.displayList.add(new h(this.scene,o,a,r))})},29959:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(72249),o=t(53584),d.exports={renderWebGL:x,renderCanvas:o}},72249:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x.addToRenderList(h);var a=h.list,r=a.length;if(r!==0){var i=h.localTransform;o?(i.loadIdentity(),i.multiply(o),i.translate(h.x,h.y),i.rotate(h.rotation),i.scale(h.scaleX,h.scaleY)):i.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var n=h.blendMode!==-1;n||t.setBlendMode(0);for(var l=h.alpha,s=h.scrollFactorX,u=h.scrollFactorY,f=0;f<r;f++){var c=a[f];if(c.willRender(x)){var v,g,y,T;if(c.alphaTopLeft!==void 0)v=c.alphaTopLeft,g=c.alphaTopRight,y=c.alphaBottomLeft,T=c.alphaBottomRight;else{var E=c.alpha;v=E,g=E,y=E,T=E}var A=c.scrollFactorX,P=c.scrollFactorY;!n&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode);var w=c.mask;w&&w.preRenderWebGL(t,c,x);var I=c.type;I!==t.currentType&&(t.newType=!0,t.currentType=I),t.nextTypeMatch=f<r-1?a[f+1].type===t.currentType:!1,c.setScrollFactor(A*s,P*u),c.setAlpha(v*l,g*l,y*l,T*l),c.renderWebGL(t,c,x,i,h),c.setAlpha(v,g,y,T),c.setScrollFactor(A,P),w&&w.postRenderWebGL(t,x),t.newType=!1}}t.pipelines.postBatch(h)}};d.exports=S},47407:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(441),a=t(95643),r=t(41212),i=t(35846),n=t(44594),l=t(61369),s=new h({Extends:a,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,o],initialize:function(f,c,v,g,y,T){a.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,v),typeof g=="string"?g[0]==="#"?this.setElement(g.substr(1),y,T):this.createElement(g,y,T):g&&this.setElement(g,y,T),f.sys.events.on(n.SLEEP,this.handleSceneEvent,this),f.sys.events.on(n.WAKE,this.handleSceneEvent,this),f.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(u){var f=this.node,c=f.style;f&&(c.display=u.settings.visible?"block":"none")},setSkew:function(u,f){return u===void 0&&(u=0),f===void 0&&(f=u),this.skewX=u,this.skewY=f,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.addEventListener(u[f],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.removeEventListener(u[f],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,f,c){return this.setElement(document.createElement(u),f,c)},setElement:function(u,f,c){this.removeElement();var v;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),v=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(v=u),!v)return this;if(this.node=v,f&&r(f))for(var g in f)v.style[g]=f[g];else typeof f=="string"&&(v.style=f);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),c&&(v.innerText=c),this.updateSize()},createFromCache:function(u,f){var c=this.cache.get(u);return c&&this.createFromHTML(c,f),this},createFromHTML:function(u,f){f===void 0&&(f="div"),this.removeElement();var c=document.createElement(f);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),c.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var u=this.node;return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(u,f){if(this.node){for(var c=this.node.querySelectorAll("*"),v=0;v<c.length;v++)if(c[v][u]===f)return c[v]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preRender:function(){var u=this.parentContainer,f=this.node;f&&u&&!u.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});d.exports=s},49381:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47407),x=t(95643),o=t(61340),a=new o,r=new o,i=new o,n=function(l,s,u,f){if(s.node){var c=s.node.style,v=s.scene.sys.settings;if(!c||!v.visible||x.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&u.id||s.parentContainer&&!s.parentContainer.willRender()){c.display="none";return}var g=s.parentContainer,y=u.alpha*s.alpha;g&&(y*=g.alpha);var T=a,E=r,A=i,P=0,w=0,I="0%",O="0%";f?(P=s.width*s.scaleX*s.originX,w=s.height*s.scaleY*s.originY,E.applyITRS(s.x-P,s.y-w,s.rotation,s.scaleX,s.scaleY),T.copyFrom(u.matrix),T.multiplyWithOffset(f,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),E.e=s.x-P,E.f=s.y-w,T.multiply(E,A)):(P=s.width*s.originX,w=s.height*s.originY,E.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),T.copyFrom(u.matrix),I=100*s.originX+"%",O=100*s.originY+"%",E.e-=u.scrollX*s.scrollFactorX,E.f-=u.scrollY*s.scrollFactorY,T.multiply(E,A),A.e-=P,A.f-=w),s.transformOnly||(c.display="block",c.opacity=y,c.zIndex=s._depth,c.pointerEvents=s.pointerEvents,c.mixBlendMode=h[s._blendMode]),c.transform=A.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",c.transformOrigin=I+" "+O}};d.exports=n},2611:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3069),x=t(39429);x.register("dom",function(o,a,r,i,n){var l=new h(this.scene,o,a,r,i,n);return this.displayList.add(l),l})},441:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(49381),o=t(49381),d.exports={renderWebGL:x,renderCanvas:o}},62980:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="addedtoscene"},41337:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="destroy"},44947:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="removedfromscene"},49358:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="complete"},35163:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="created"},97249:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="error"},19483:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="locked"},56059:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="loop"},26772:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="metadata"},64437:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="playing"},83411:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="play"},75780:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="seeked"},67799:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="seeking"},63500:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="stalled"},55541:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="stop"},53208:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="textureready"},4992:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="unlocked"},12:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="unsupported"},51708:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),a=t(64993),r=new h({Extends:o,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,a],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});d.exports=r},70217:()=>{},56315:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42421),x=t(39429);x.register("extern",function(){var o=new h(this.scene);return this.displayList.add(o),o})},64993:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(80287),o=t(70217),d.exports={renderWebGL:x,renderCanvas:o}},80287:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,a,r,i){o.pipelines.clear();var n=h(a,r,i).calc;a.render.call(a,o,r,n),o.pipelines.rebind()};d.exports=x},85592:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),x=t(83419),o=t(85592),a=t(31401),r=t(8497),i=t(95643),n=t(95540),l=t(35154),s=t(36383),u=t(84503),f=new x({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,u],initialize:function(v,g){var y=l(g,"x",0),T=l(g,"y",0);i.call(this,v,"Graphics"),this.setPosition(y,T),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(g)},setDefaultStyles:function(c){return l(c,"lineStyle",null)&&(this.defaultStrokeWidth=l(c,"lineStyle.width",1),this.defaultStrokeColor=l(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(c,"fillStyle",null)&&(this.defaultFillColor=l(c,"fillStyle.color",16777215),this.defaultFillAlpha=l(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,v,g){return g===void 0&&(g=1),this.commandBuffer.push(o.LINE_STYLE,c,v,g),this._lineWidth=c,this},fillStyle:function(c,v){return v===void 0&&(v=1),this.commandBuffer.push(o.FILL_STYLE,c,v),this},fillGradientStyle:function(c,v,g,y,T,E,A,P){return T===void 0&&(T=1),E===void 0&&(E=T),A===void 0&&(A=T),P===void 0&&(P=T),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,T,E,A,P,c,v,g,y),this},lineGradientStyle:function(c,v,g,y,T,E){return E===void 0&&(E=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,c,E,v,g,y,T),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,v,g){return this.beginPath(),this.arc(c,v,g,0,s.PI2),this.fillPath(),this},strokeCircle:function(c,v,g){return this.beginPath(),this.arc(c,v,g,0,s.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,v,g,y){return this.commandBuffer.push(o.FILL_RECT,c,v,g,y),this},strokeRect:function(c,v,g,y){var T=this._lineWidth/2,E=c-T,A=c+T;return this.beginPath(),this.moveTo(c,v),this.lineTo(c,v+y),this.strokePath(),this.beginPath(),this.moveTo(c+g,v),this.lineTo(c+g,v+y),this.strokePath(),this.beginPath(),this.moveTo(E,v),this.lineTo(A+g,v),this.strokePath(),this.beginPath(),this.moveTo(E,v+y),this.lineTo(A+g,v+y),this.strokePath(),this},fillRoundedRect:function(c,v,g,y,T){T===void 0&&(T=20);var E=T,A=T,P=T,w=T;typeof T!="number"&&(E=n(T,"tl",20),A=n(T,"tr",20),P=n(T,"bl",20),w=n(T,"br",20));var I=E>=0,O=A>=0,F=P>=0,L=w>=0;return E=Math.abs(E),A=Math.abs(A),P=Math.abs(P),w=Math.abs(w),this.beginPath(),this.moveTo(c+E,v),this.lineTo(c+g-A,v),O?this.arc(c+g-A,v+A,A,-s.TAU,0):this.arc(c+g,v,A,Math.PI,s.TAU,!0),this.lineTo(c+g,v+y-w),L?this.arc(c+g-w,v+y-w,w,0,s.TAU):this.arc(c+g,v+y,w,-s.TAU,Math.PI,!0),this.lineTo(c+P,v+y),F?this.arc(c+P,v+y-P,P,s.TAU,Math.PI):this.arc(c,v+y,P,0,-s.TAU,!0),this.lineTo(c,v+E),I?this.arc(c+E,v+E,E,-Math.PI,-s.TAU):this.arc(c,v,E,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,v,g,y,T){T===void 0&&(T=20);var E=T,A=T,P=T,w=T,I=Math.min(g,y)/2;typeof T!="number"&&(E=n(T,"tl",20),A=n(T,"tr",20),P=n(T,"bl",20),w=n(T,"br",20));var O=E>=0,F=A>=0,L=P>=0,D=w>=0;return E=Math.min(Math.abs(E),I),A=Math.min(Math.abs(A),I),P=Math.min(Math.abs(P),I),w=Math.min(Math.abs(w),I),this.beginPath(),this.moveTo(c+E,v),this.lineTo(c+g-A,v),this.moveTo(c+g-A,v),F?this.arc(c+g-A,v+A,A,-s.TAU,0):this.arc(c+g,v,A,Math.PI,s.TAU,!0),this.lineTo(c+g,v+y-w),this.moveTo(c+g,v+y-w),D?this.arc(c+g-w,v+y-w,w,0,s.TAU):this.arc(c+g,v+y,w,-s.TAU,Math.PI,!0),this.lineTo(c+P,v+y),this.moveTo(c+P,v+y),L?this.arc(c+P,v+y-P,P,s.TAU,Math.PI):this.arc(c,v+y,P,0,-s.TAU,!0),this.lineTo(c,v+E),this.moveTo(c,v+E),O?this.arc(c+E,v+E,E,-Math.PI,-s.TAU):this.arc(c,v,E,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,v){return this.fillPoint(c.x,c.y,v)},fillPoint:function(c,v,g){return!g||g<1?g=1:(c-=g/2,v-=g/2),this.commandBuffer.push(o.FILL_RECT,c,v,g,g),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,v,g,y,T,E){return this.commandBuffer.push(o.FILL_TRIANGLE,c,v,g,y,T,E),this},strokeTriangle:function(c,v,g,y,T,E){return this.commandBuffer.push(o.STROKE_TRIANGLE,c,v,g,y,T,E),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,v,g,y){return this.beginPath(),this.moveTo(c,v),this.lineTo(g,y),this.strokePath(),this},lineTo:function(c,v){return this.commandBuffer.push(o.LINE_TO,c,v),this},moveTo:function(c,v){return this.commandBuffer.push(o.MOVE_TO,c,v),this},strokePoints:function(c,v,g,y){v===void 0&&(v=!1),g===void 0&&(g=!1),y===void 0&&(y=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var T=1;T<y;T++)this.lineTo(c[T].x,c[T].y);return v&&this.lineTo(c[0].x,c[0].y),g&&this.closePath(),this.strokePath(),this},fillPoints:function(c,v,g,y){v===void 0&&(v=!1),g===void 0&&(g=!1),y===void 0&&(y=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var T=1;T<y;T++)this.lineTo(c[T].x,c[T].y);return v&&this.lineTo(c[0].x,c[0].y),g&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,v){v===void 0&&(v=32);var g=c.getPoints(v);return this.strokePoints(g,!0)},strokeEllipse:function(c,v,g,y,T){T===void 0&&(T=32);var E=new r(c,v,g,y),A=E.getPoints(T);return this.strokePoints(A,!0)},fillEllipseShape:function(c,v){v===void 0&&(v=32);var g=c.getPoints(v);return this.fillPoints(g,!0)},fillEllipse:function(c,v,g,y,T){T===void 0&&(T=32);var E=new r(c,v,g,y),A=E.getPoints(T);return this.fillPoints(A,!0)},arc:function(c,v,g,y,T,E,A){return E===void 0&&(E=!1),A===void 0&&(A=0),this.commandBuffer.push(o.ARC,c,v,g,y,T,E,A),this},slice:function(c,v,g,y,T,E,A){return E===void 0&&(E=!1),A===void 0&&(A=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,c,v),this.commandBuffer.push(o.ARC,c,v,g,y,T,E,A),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(c,v){return this.commandBuffer.push(o.TRANSLATE,c,v),this},scaleCanvas:function(c,v){return this.commandBuffer.push(o.SCALE,c,v),this},rotateCanvas:function(c){return this.commandBuffer.push(o.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,v,g){var y=this.scene.sys,T=y.game.renderer;v===void 0&&(v=y.scale.width),g===void 0&&(g=y.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,v,g),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var E,A,P={willReadFrequently:!0};if(typeof c=="string")if(y.textures.exists(c)){E=y.textures.get(c);var w=E.getSourceImage();w instanceof HTMLCanvasElement&&(A=w.getContext("2d",P))}else E=y.textures.createCanvas(c,v,g),A=E.getSourceImage().getContext("2d",P);else c instanceof HTMLCanvasElement&&(A=c.getContext("2d",P));return A&&(this.renderCanvas(T,this,f.TargetCamera,null,A,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new h,d.exports=f},32768:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),x=t(20926),o=function(a,r,i,n,l,s){var u=r.commandBuffer,f=u.length,c=l||a.currentContext;if(!(f===0||!x(a,c,r,i,n))){i.addToRenderList(r);var v=1,g=1,y=0,T=0,E=1,A=0,P=0,w=0;c.beginPath();for(var I=0;I<f;++I){var O=u[I];switch(O){case h.ARC:c.arc(u[I+1],u[I+2],u[I+3],u[I+4],u[I+5],u[I+6]),I+=7;break;case h.LINE_STYLE:E=u[I+1],y=u[I+2],v=u[I+3],A=(y&16711680)>>>16,P=(y&65280)>>>8,w=y&255,c.strokeStyle="rgba("+A+","+P+","+w+","+v+")",c.lineWidth=E,I+=3;break;case h.FILL_STYLE:T=u[I+1],g=u[I+2],A=(T&16711680)>>>16,P=(T&65280)>>>8,w=T&255,c.fillStyle="rgba("+A+","+P+","+w+","+g+")",I+=2;break;case h.BEGIN_PATH:c.beginPath();break;case h.CLOSE_PATH:c.closePath();break;case h.FILL_PATH:s||c.fill();break;case h.STROKE_PATH:s||c.stroke();break;case h.FILL_RECT:s?c.rect(u[I+1],u[I+2],u[I+3],u[I+4]):c.fillRect(u[I+1],u[I+2],u[I+3],u[I+4]),I+=4;break;case h.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[I+1],u[I+2]),c.lineTo(u[I+3],u[I+4]),c.lineTo(u[I+5],u[I+6]),c.closePath(),s||c.fill(),I+=6;break;case h.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[I+1],u[I+2]),c.lineTo(u[I+3],u[I+4]),c.lineTo(u[I+5],u[I+6]),c.closePath(),s||c.stroke(),I+=6;break;case h.LINE_TO:c.lineTo(u[I+1],u[I+2]),I+=2;break;case h.MOVE_TO:c.moveTo(u[I+1],u[I+2]),I+=2;break;case h.LINE_FX_TO:c.lineTo(u[I+1],u[I+2]),I+=5;break;case h.MOVE_FX_TO:c.moveTo(u[I+1],u[I+2]),I+=5;break;case h.SAVE:c.save();break;case h.RESTORE:c.restore();break;case h.TRANSLATE:c.translate(u[I+1],u[I+2]),I+=2;break;case h.SCALE:c.scale(u[I+1],u[I+2]),I+=2;break;case h.ROTATE:c.rotate(u[I+1]),I+=1;break;case h.GRADIENT_FILL_STYLE:I+=5;break;case h.GRADIENT_LINE_STYLE:I+=6;break}}c.restore()}};d.exports=o},87079:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),x=t(43831);h.register("graphics",function(o,a){o===void 0&&(o={}),a!==void 0&&(o.add=a);var r=new x(this.scene,o);return o.add&&this.scene.sys.displayList.add(r),r})},1201:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43831),x=t(39429);x.register("graphics",function(o){return this.displayList.add(new h(this.scene,o))})},84503:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(77545),o=t(32768),o=t(32768),d.exports={renderWebGL:x,renderCanvas:o}},77545:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),x=t(91296),o=t(61340),a=t(70554),r=function(u,f,c){this.x=u,this.y=f,this.width=c},i=function(u,f,c){this.points=[],this.pointsLength=1,this.points[0]=new r(u,f,c)},n=[],l=new o,s=function(u,f,c,v){if(f.commandBuffer.length!==0){c.addToRenderList(f);var g=u.pipelines.set(f.pipeline,f);u.pipelines.preBatch(f);for(var y=x(f,c,v).calc,T=l.loadIdentity(),E=f.commandBuffer,A=c.alpha*f.alpha,P=1,w=g.fillTint,I=g.strokeTint,O=0,F=0,L=0,D=.01,b=Math.PI*2,U,W=[],H=0,Y=!0,G=null,X=a.getTintAppendFloatAlpha,V=0;V<E.length;V++)switch(U=E[V],U){case h.BEGIN_PATH:{W.length=0,G=null,Y=!0;break}case h.CLOSE_PATH:{Y=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case h.FILL_PATH:{for(H=0;H<W.length;H++)g.batchFillPath(W[H].points,T,y);break}case h.STROKE_PATH:{for(H=0;H<W.length;H++)g.batchStrokePath(W[H].points,P,Y,T,y);break}case h.LINE_STYLE:{P=E[++V];var B=E[++V],z=E[++V]*A,$=X(B,z);I.TL=$,I.TR=$,I.BL=$,I.BR=$;break}case h.FILL_STYLE:{var j=E[++V],k=E[++V]*A,q=X(j,k);w.TL=q,w.TR=q,w.BL=q,w.BR=q;break}case h.GRADIENT_FILL_STYLE:{var Q=E[++V]*A,Z=E[++V]*A,_=E[++V]*A,et=E[++V]*A;w.TL=X(E[++V],Q),w.TR=X(E[++V],Z),w.BL=X(E[++V],_),w.BR=X(E[++V],et);break}case h.GRADIENT_LINE_STYLE:{P=E[++V];var it=E[++V]*A;I.TL=X(E[++V],it),I.TR=X(E[++V],it),I.BL=X(E[++V],it),I.BR=X(E[++V],it);break}case h.ARC:{var st=0,nt=E[++V],lt=E[++V],ut=E[++V],ot=E[++V],rt=E[++V],ht=E[++V],dt=E[++V];for(rt-=ot,ht?rt<-b?rt=-b:rt>0&&(rt=-b+rt%b):rt>b?rt=b:rt<0&&(rt=b+rt%b),G===null&&(G=new i(nt+Math.cos(ot)*ut,lt+Math.sin(ot)*ut,P),W.push(G),st+=D);st<1+dt;)L=rt*st+ot,O=nt+Math.cos(L)*ut,F=lt+Math.sin(L)*ut,G.points.push(new r(O,F,P)),st+=D;L=rt+ot,O=nt+Math.cos(L)*ut,F=lt+Math.sin(L)*ut,G.points.push(new r(O,F,P));break}case h.FILL_RECT:{g.batchFillRect(E[++V],E[++V],E[++V],E[++V],T,y);break}case h.FILL_TRIANGLE:{g.batchFillTriangle(E[++V],E[++V],E[++V],E[++V],E[++V],E[++V],T,y);break}case h.STROKE_TRIANGLE:{g.batchStrokeTriangle(E[++V],E[++V],E[++V],E[++V],E[++V],E[++V],P,T,y);break}case h.LINE_TO:{G!==null?G.points.push(new r(E[++V],E[++V],P)):(G=new i(E[++V],E[++V],P),W.push(G));break}case h.MOVE_TO:{G=new i(E[++V],E[++V],P),W.push(G);break}case h.SAVE:{n.push(T.copyToArray());break}case h.RESTORE:{T.copyFromArray(n.pop());break}case h.TRANSLATE:{nt=E[++V],lt=E[++V],T.translate(nt,lt);break}case h.SCALE:{nt=E[++V],lt=E[++V],T.scale(nt,lt);break}case h.ROTATE:{T.rotate(E[++V]);break}}u.pipelines.postBatch(f)}};d.exports=s},26479:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61061),x=t(83419),o=t(51708),a=t(50792),r=t(46710),i=t(95540),n=t(35154),l=t(97022),s=t(41212),u=t(88492),f=t(35072),c=t(68287),v=new x({Extends:a,initialize:function(y,T,E){a.call(this),E?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?s(T[0])&&(E=T,T=null):s(T)&&(E=T,T=null),this.scene=y,this.children=new f,this.isParent=!0,this.type="Group",this.classType=i(E,"classType",c),this.name=i(E,"name",""),this.active=i(E,"active",!0),this.maxSize=i(E,"maxSize",-1),this.defaultKey=i(E,"defaultKey",null),this.defaultFrame=i(E,"defaultFrame",null),this.runChildUpdate=i(E,"runChildUpdate",!1),this.createCallback=i(E,"createCallback",null),this.removeCallback=i(E,"removeCallback",null),this.createMultipleCallback=i(E,"createMultipleCallback",null),this.internalCreateCallback=i(E,"internalCreateCallback",null),this.internalRemoveCallback=i(E,"internalRemoveCallback",null),T&&this.addMultiple(T),E&&this.createMultiple(E),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(g,y,T,E,A,P){if(g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=this.defaultKey),E===void 0&&(E=this.defaultFrame),A===void 0&&(A=!0),P===void 0&&(P=!0),this.isFull())return null;var w=new this.classType(this.scene,g,y,T,E);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=A,w.setActive(P),this.add(w),w},createMultiple:function(g){if(this.isFull())return[];Array.isArray(g)||(g=[g]);var y=[];if(g[0].key)for(var T=0;T<g.length;T++){var E=this.createFromConfig(g[T]);y=y.concat(E)}return y},createFromConfig:function(g){if(this.isFull())return[];this.classType=i(g,"classType",this.classType);var y=i(g,"key",void 0),T=i(g,"frame",null),E=i(g,"visible",!0),A=i(g,"active",!0),P=[];if(y===void 0)return P;Array.isArray(y)||(y=[y]),Array.isArray(T)||(T=[T]);var w=i(g,"repeat",0),I=i(g,"randomKey",!1),O=i(g,"randomFrame",!1),F=i(g,"yoyo",!1),L=i(g,"quantity",!1),D=i(g,"frameQuantity",1),b=i(g,"max",0),U=u(y,T,{max:b,qty:L||D,random:I,randomB:O,repeat:w,yoyo:F});g.createCallback&&(this.createCallback=g.createCallback),g.removeCallback&&(this.removeCallback=g.removeCallback),g.internalCreateCallback&&(this.internalCreateCallback=g.internalCreateCallback),g.internalRemoveCallback&&(this.internalRemoveCallback=g.internalRemoveCallback);for(var W=0;W<U.length;W++){var H=this.create(0,0,U[W].a,U[W].b,E,A);if(!H)break;P.push(H)}if(l(g,"setXY")){var Y=n(g,"setXY.x",0),G=n(g,"setXY.y",0),X=n(g,"setXY.stepX",0),V=n(g,"setXY.stepY",0);h.SetXY(P,Y,G,X,V)}if(l(g,"setRotation")){var B=n(g,"setRotation.value",0),z=n(g,"setRotation.step",0);h.SetRotation(P,B,z)}if(l(g,"setScale")){var $=n(g,"setScale.x",1),j=n(g,"setScale.y",$),k=n(g,"setScale.stepX",0),q=n(g,"setScale.stepY",0);h.SetScale(P,$,j,k,q)}if(l(g,"setOrigin")){var Q=n(g,"setOrigin.x",.5),Z=n(g,"setOrigin.y",Q),_=n(g,"setOrigin.stepX",0),et=n(g,"setOrigin.stepY",0);h.SetOrigin(P,Q,Z,_,et)}if(l(g,"setAlpha")){var it=n(g,"setAlpha.value",1),st=n(g,"setAlpha.step",0);h.SetAlpha(P,it,st)}if(l(g,"setDepth")){var nt=n(g,"setDepth.value",0),lt=n(g,"setDepth.step",0);h.SetDepth(P,nt,lt)}if(l(g,"setScrollFactor")){var ut=n(g,"setScrollFactor.x",1),ot=n(g,"setScrollFactor.y",ut),rt=n(g,"setScrollFactor.stepX",0),ht=n(g,"setScrollFactor.stepY",0);h.SetScrollFactor(P,ut,ot,rt,ht)}var dt=i(g,"hitArea",null),xt=i(g,"hitAreaCallback",null);dt&&h.SetHitArea(P,dt,xt);var yt=i(g,"gridAlign",!1);return yt&&h.GridAlign(P,yt),this.createMultipleCallback&&this.createMultipleCallback.call(this,P),P},preUpdate:function(g,y){if(!(!this.runChildUpdate||this.children.size===0))for(var T=this.children.entries.slice(),E=0;E<T.length;E++){var A=T[E];A.active&&A.update(g,y)}},add:function(g,y){return y===void 0&&(y=!1),this.isFull()?this:(this.children.set(g),this.internalCreateCallback&&this.internalCreateCallback.call(this,g),this.createCallback&&this.createCallback.call(this,g),y&&(g.addToDisplayList(this.scene.sys.displayList),g.addToUpdateList()),g.on(o.DESTROY,this.remove,this),this)},addMultiple:function(g,y){if(y===void 0&&(y=!1),Array.isArray(g))for(var T=0;T<g.length;T++)this.add(g[T],y);return this},remove:function(g,y,T){return y===void 0&&(y=!1),T===void 0&&(T=!1),this.children.contains(g)?(this.children.delete(g),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,g),this.removeCallback&&this.removeCallback.call(this,g),g.off(o.DESTROY,this.remove,this),T?g.destroy():y&&(g.removeFromDisplayList(),g.removeFromUpdateList()),this):this},clear:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!1);for(var T=this.children,E=0;E<T.size;E++){var A=T.entries[E];A.off(o.DESTROY,this.remove,this),y?A.destroy():g&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(g){return this.children.contains(g)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(g,y,T,E){return r(this.children.entries,g,y,T,E)},getFirst:function(g,y,T,E,A,P,w){return this.getHandler(!0,1,g,y,T,E,A,P,w)},getFirstNth:function(g,y,T,E,A,P,w,I){return this.getHandler(!0,g,y,T,E,A,P,w,I)},getLast:function(g,y,T,E,A,P,w){return this.getHandler(!1,1,g,y,T,E,A,P,w)},getLastNth:function(g,y,T,E,A,P,w,I){return this.getHandler(!1,g,y,T,E,A,P,w,I)},getHandler:function(g,y,T,E,A,P,w,I,O){T===void 0&&(T=!1),E===void 0&&(E=!1);var F,L,D=0,b=this.children.entries;if(g)for(L=0;L<b.length;L++)if(F=b[L],F.active===T){if(D++,D===y)break}else F=null;else for(L=b.length-1;L>=0;L--)if(F=b[L],F.active===T){if(D++,D===y)break}else F=null;return F?(typeof A=="number"&&(F.x=A),typeof P=="number"&&(F.y=P),F):E?this.create(A,P,w,I,O):null},get:function(g,y,T,E,A){return this.getFirst(!1,!0,g,y,T,E,A)},getFirstAlive:function(g,y,T,E,A,P){return this.getFirst(!0,g,y,T,E,A,P)},getFirstDead:function(g,y,T,E,A,P){return this.getFirst(!1,g,y,T,E,A,P)},playAnimation:function(g,y){return h.PlayAnimation(this.children.entries,g,y),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(g){g===void 0&&(g=!0);for(var y=0,T=0;T<this.children.size;T++)this.children.entries[T].active===g&&y++;return y},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var g=this.getTotalUsed(),y=this.maxSize===-1?999999999999:this.maxSize;return y-g},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},propertyValueSet:function(g,y,T,E,A){return h.PropertyValueSet(this.children.entries,g,y,T,E,A),this},propertyValueInc:function(g,y,T,E,A){return h.PropertyValueInc(this.children.entries,g,y,T,E,A),this},setX:function(g,y){return h.SetX(this.children.entries,g,y),this},setY:function(g,y){return h.SetY(this.children.entries,g,y),this},setXY:function(g,y,T,E){return h.SetXY(this.children.entries,g,y,T,E),this},incX:function(g,y){return h.IncX(this.children.entries,g,y),this},incY:function(g,y){return h.IncY(this.children.entries,g,y),this},incXY:function(g,y,T,E){return h.IncXY(this.children.entries,g,y,T,E),this},shiftPosition:function(g,y,T){return h.ShiftPosition(this.children.entries,g,y,T),this},angle:function(g,y){return h.Angle(this.children.entries,g,y),this},rotate:function(g,y){return h.Rotate(this.children.entries,g,y),this},rotateAround:function(g,y){return h.RotateAround(this.children.entries,g,y),this},rotateAroundDistance:function(g,y,T){return h.RotateAroundDistance(this.children.entries,g,y,T),this},setAlpha:function(g,y){return h.SetAlpha(this.children.entries,g,y),this},setTint:function(g,y,T,E){return h.SetTint(this.children.entries,g,y,T,E),this},setOrigin:function(g,y,T,E){return h.SetOrigin(this.children.entries,g,y,T,E),this},scaleX:function(g,y){return h.ScaleX(this.children.entries,g,y),this},scaleY:function(g,y){return h.ScaleY(this.children.entries,g,y),this},scaleXY:function(g,y,T,E){return h.ScaleXY(this.children.entries,g,y,T,E),this},setDepth:function(g,y){return h.SetDepth(this.children.entries,g,y),this},setBlendMode:function(g){return h.SetBlendMode(this.children.entries,g),this},setHitArea:function(g,y){return h.SetHitArea(this.children.entries,g,y),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(g){this.children.contains(g)&&g.setActive(!1)},killAndHide:function(g){this.children.contains(g)&&(g.setActive(!1),g.setVisible(!1))},setVisible:function(g,y,T){return h.SetVisible(this.children.entries,g,y,T),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(y,g),this.scene=void 0,this.children=void 0)}});d.exports=v},94975:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),x=t(26479);h.register("group",function(o){return new x(this.scene,null,o)})},3385:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26479),x=t(39429);x.register("group",function(o,a){return this.updateList.add(new h(this.scene,o,a))})},88571:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),a=t(59819),r=new h({Extends:o,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,a],initialize:function(n,l,s,u,f){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,f),this.setPosition(l,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});d.exports=r},40652:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x.addToRenderList(h),t.batchSprite(h,h.frame,x,o)};d.exports=S},82459:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(88571);x.register("image",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"frame",null),s=new a(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),h(this.scene,s,r),s})},2117:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88571),x=t(39429);x.register("image",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},59819:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(99517),o=t(40652),d.exports={renderWebGL:x,renderCanvas:o}},99517:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x.addToRenderList(h),this.pipeline.batchSprite(h,x,o)};d.exports=S},77856:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};h.Shader=t(20071),h.Mesh=t(4703),h.NineSlice=t(28103),h.PointLight=t(80321),h.Plane=t(33663),h.Factories.Shader=t(74177),h.Factories.Mesh=t(9225),h.Factories.NineSlice=t(47521),h.Factories.PointLight=t(71255),h.Factories.Plane=t(30985),h.Creators.Shader=t(54935),h.Creators.Mesh=t(20527),h.Creators.NineSlice=t(28279),h.Creators.PointLight=t(39829),h.Creators.Plane=t(56015),h.Light=t(41432),h.LightsManager=t(61356),h.LightsPlugin=t(88992),d.exports=h},93595:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(83419),o=t(31401),a=t(53774),r=t(45893),i=t(50792),n=t(51708),l=t(73162),s=t(33963),u=t(44594),f=t(19186),c=new x({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,i,s],initialize:function(g,y){l.call(this,g),i.call(this),this.scene=g,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=g.sys,this.events=g.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),y&&this.add(y),g.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(v,g){return this.data||(this.data=new r(this)),this.data.set(v,g),this},incData:function(v,g){return this.data||(this.data=new r(this)),this.data.inc(v,g),this},toggleData:function(v){return this.data||(this.data=new r(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new r(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,g=this.parentContainer,y=[];g&&(y.unshift(g.getIndex(v)),v=g,g.parentContainer);)g=g.parentContainer;return y.unshift(this.displayList.getIndex(v)),y},addChildCallback:function(v){var g=v.displayList;g&&g!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(n.ADDED_TO_SCENE,v,this.scene),this.events.emit(u.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(n.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,g){return v._depth-g._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),v.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var g=this.list;g.length;)g[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});d.exports=c},2956:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=h.list;if(o.length!==0){h.depthSort();var a=h.blendMode!==-1;a||t.setBlendMode(0);var r=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,x);for(var i=0;i<o.length;i++){var n=o[i];if(n.willRender(x)){var l=n.alpha;!a&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,x),n.setAlpha(l)}}h.mask&&h.mask.postRenderCanvas(t)}};d.exports=S},25179:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(93595),o=t(44603),a=t(23568);o.register("layer",function(r,i){r===void 0&&(r={});var n=a(r,"children",null),l=new x(this.scene,n);return i!==void 0&&(r.add=i),h(this.scene,l,r),l})},20005:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93595),x=t(39429);x.register("layer",function(o){return this.displayList.add(new h(this.scene,o))})},33963:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(15869),o=t(2956),d.exports={renderWebGL:x,renderCanvas:o}},15869:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=h.list,a=o.length;if(a!==0){h.depthSort(),t.pipelines.preBatch(h);var r=h.blendMode!==-1;r||t.setBlendMode(0);for(var i=h.alpha,n=0;n<a;n++){var l=o[n];if(l.willRender(x)){var s,u,f,c;if(l.alphaTopLeft!==void 0)s=l.alphaTopLeft,u=l.alphaTopRight,f=l.alphaBottomLeft,c=l.alphaBottomRight;else{var v=l.alpha;s=v,u=v,f=v,c=v}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var g=l.mask;g&&g.preRenderWebGL(t,l,x);var y=l.type;y!==t.currentType&&(t.newType=!0,t.currentType=y),t.nextTypeMatch=n<a-1?o[n+1].type===t.currentType:!1,l.setAlpha(s*i,u*i,f*i,c*i),l.renderWebGL(t,l,x),l.setAlpha(s,u,f,c),g&&g.postRenderWebGL(t,x),t.newType=!1}}t.pipelines.postBatch(h)}};d.exports=S},41432:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),x=t(83419),o=t(31401),a=t(51767),r=t(70554),i=new x({Extends:h,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,s,u,f,c,v,g){h.call(this,l,s,u),this.color=new a(f,c,v),this.intensity=g,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(u)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});i.RENDER_MASK=15,d.exports=i},61356:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81491),x=t(83419),o=t(20339),a=t(41432),r=t(80321),i=t(51767),n=t(19133),l=t(19186),s=t(70554),u=new x({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,c,v,g,y,T){return this.systems.displayList.add(new r(this.scene,f,c,v,g,y,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var c=this.lights,v=f.worldView,g=[],y=0;y<c.length;y++){var T=c[y];T.willRender(f)&&h(T,v)&&g.push({light:T,distance:o(T.x,T.y,v.centerX,v.centerY)})}return g.length>this.maxLights&&(l(g,this.sortByDistance),g=g.slice(0,this.maxLights)),this.visibleLights=g.length,g},sortByDistance:function(f,c){return f.distance>=c.distance},setAmbientColor:function(f){var c=s.getFloatsFromUintRGB(f);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,c,v,g,y){f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=128),g===void 0&&(g=16777215),y===void 0&&(y=1);var T=s.getFloatsFromUintRGB(g),E=new a(f,c,v,T[0],T[1],T[2],y);return this.lights.push(E),E},removeLight:function(f){var c=this.lights.indexOf(f);return c>=0&&n(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});d.exports=u},88992:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(61356),o=t(37277),a=t(44594),r=new h({Extends:x,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(a.BOOT,this.boot,this),x.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",r,"lights"),d.exports=r},4703:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(39506),a=t(83997),r=t(95643),i=t(34684),n=t(92515),l=t(91296),s=t(37867),u=t(29807),f=t(43396),c=t(19186),v=t(25836),g=t(39318),y=new h({Extends:r,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,u],initialize:function(E,A,P,w,I,O,F,L,D,b,U,W){A===void 0&&(A=0),P===void 0&&(P=0),w===void 0&&(w="__WHITE"),r.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new v,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=E.sys.renderer;this.setPosition(A,P),this.setTexture(w,I),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),O&&this.addVertices(O,F,L,D,b,U,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(v.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=v.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,E,A,P,w){return A===void 0&&(A=45),P===void 0&&(P=.01),w===void 0&&(w=1e3),this.fov=A,this.projectionMatrix.perspective(o(A),T/E,P,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,E,A,P){return T===void 0&&(T=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),A===void 0&&(A=-1e3),P===void 0&&(P=1e3),this.fov=0,this.projectionMatrix.ortho(-T,T,-E,E,A,P),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,E,A,P,w,I,O,F,L){var D=this.scene.sys.cache.obj.get(T),b;return D&&(b=i(D,this,E,A,P,w,I,O,F,L)),(!b||b.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",T),this},sortByDepth:function(T,E){return T.depth-E.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(T,E,A,P,w,I,O){var F=new g(T,E,A,P,w,I,O);return this.vertices.push(F),F},addFace:function(T,E,A){var P=new a(T,E,A);return this.faces.push(P),this.dirtyCache[9]=-1,P},addVertices:function(T,E,A,P,w,I,O){var F=n(T,E,A,P,w,I,O);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},hasFaceAt:function(T,E,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,w=this.faces,I=0;I<w.length;I++){var O=w[I];if(O.contains(T,E,P))return!0}return!1},getFaceAt:function(T,E,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=l(this,A).calc,w=this.faces,I=[],O=0;O<w.length;O++){var F=w[O];F.contains(T,E,P)&&I.push(F)}return c(I,this.sortByDepth)},setDebug:function(T,E){return this.debugGraphic=T,!T&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var T=this.modelPosition,E=this.modelRotation,A=this.modelScale,P=this.dirtyCache,w=T.x,I=T.y,O=T.z,F=E.x,L=E.y,D=E.z,b=A.x,U=A.y,W=A.z,H=this.getFaceCount(),Y=P[0],G=P[1],X=P[2],V=P[3],B=P[4],z=P[5],$=P[6],j=P[7],k=P[8],q=P[9];return P[0]=w,P[1]=I,P[2]=O,P[3]=F,P[4]=L,P[5]=D,P[6]=b,P[7]=U,P[8]=W,P[9]=H,Y!==w||G!==I||X!==O||V!==F||B!==L||z!==D||$!==b||j!==U||k!==W||q!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!T[10]&&!this.isDirty())){var E=this.width,A=this.height,P=this.viewMatrix,w=this.viewPosition;T[10]&&(P.identity(),P.translate(w),P.invert(),T[10]=0);var I=this.transformMatrix;I.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var O=w.z,F=this.faces,L=0;L<F.length;L++)F[L].transformCoordinatesLocal(I,E,A,O);this.depthSort()}},renderDebug:function(T,E){for(var A=T.debugGraphic,P=0;P<E.length;P++){var w=E[P],I=w.vertex1.tx,O=w.vertex1.ty,F=w.vertex2.tx,L=w.vertex2.ty,D=w.vertex3.tx,b=w.vertex3.ty;A.strokeTriangle(I,O,F,L,D,b)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(T){T===void 0&&(T={});var E=(function(A,P,w){for(var I=this.faces,O=0;O<I.length;O++){var F=I[O];if(F.contains(P,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,T,E),this},setTint:function(T){T===void 0&&(T=16777215);for(var E=this.vertices,A=0;A<E.length;A++)E[A].color=T;return this},uvScroll:function(T,E){for(var A=this.faces,P=0;P<A.length;P++)A[P].scrollUV(T,E);return this},uvScale:function(T,E){for(var A=this.faces,P=0;P<A.length;P++)A[P].scaleUV(T,E);return this},tint:{set:function(T){this.setTint(T)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(T){this.modelRotation.x=o(T)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(T){this.modelRotation.y=o(T)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(T){this.modelRotation.z=o(T)}}});d.exports=y},36488:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};d.exports=S},20527:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(35154),r=t(4703);x.register("mesh",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=a(i,"vertices",[]),f=a(i,"uvs",[]),c=a(i,"indicies",[]),v=a(i,"containsZ",!1),g=a(i,"normals",[]),y=a(i,"colors",16777215),T=a(i,"alphas",1),E=new r(this.scene,0,0,l,s,u,f,c,v,g,y,T);return n!==void 0&&(i.add=n),h(this.scene,E,i),E})},9225:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4703),x=t(39429);x.register("mesh",function(o,a,r,i,n,l,s,u,f,c,v){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u,f,c,v))})},29807:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(48833),o=t(36488),d.exports={renderWebGL:x,renderCanvas:o}},48833:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,a,r,i){var n=a.faces,l=n.length;if(l!==0){r.addToRenderList(a);var s=o.pipelines.set(a.pipeline,a),u=h(a,r,i).calc;o.pipelines.preBatch(a);for(var f=s.setGameObject(a),c=s.vertexViewF32,v=s.vertexViewU32,g=s.vertexCount*s.currentShader.vertexComponentCount-1,y=a.tintFill,T=[],E=a.debugCallback,A=u.a,P=u.b,w=u.c,I=u.d,O=u.e,F=u.f,L=a.viewPosition.z,D=a.hideCCW,b=r.roundPixels,U=r.alpha*a.alpha,W=0,H=0;H<l;H++){var Y=n[H];Y.isInView(r,D,L,U,A,P,w,I,O,F,b)&&(s.shouldFlush(3)&&(s.flush(),f=s.setGameObject(a),g=s.vertexCount*s.currentShader.vertexComponentCount-1),g=Y.load(c,v,g,f,y),W++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,E&&T.push(Y))}a.totalFrame+=W,E&&E.call(a,a,T),o.pipelines.postBatch(a)}};d.exports=x},28103:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),a=t(78023),r=t(39318),i=new h({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,a],initialize:function(l,s,u,f,c,v,g,y,T,E,A){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var P=l.textures.getFrame(f,c);this.is3Slice=!E&&!A,P&&P.scale9&&(this.is3Slice=P.is3Slice);for(var w=this.is3Slice?18:54,I=0;I<w;I++)this.vertices.push(new r);this.setPosition(s,u),this.setTexture(f,c),this.setSlices(v,g,y,T,E,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,s,u,f,c,v){s===void 0&&(s=10),u===void 0&&(u=10),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=!1);var g=this.frame,y=!1;if(this.is3Slice&&v&&f!==0&&c!==0&&(y=!0),y)console.warn("Cannot change 9 slice to 3 slice");else{if(g&&g.scale9&&!v){var T=g.data.scale9Borders,E=T.x,A=T.y;s=E,u=g.width-T.w-E,f=A,c=g.height-T.h-A,n===void 0&&(n=g.width),l===void 0&&(l=g.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=s,this.rightWidth=u,this.topHeight=f,this.bottomHeight=c,this.is3Slice&&(l=g.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,f=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,n/f,s/c),this.updateQuadUVs(6,n/f,0,1-l/f,s/c),this.updateQuadUVs(12,1-l/f,0,1,s/c),this.is3Slice||(this.updateQuadUVs(18,0,s/c,n/f,1-u/c),this.updateQuadUVs(24,n/f,s/c,1-l/f,1-u/c),this.updateQuadUVs(30,1-l/f,s/c,1,1-u/c),this.updateQuadUVs(36,0,1-u/c,n/f,1),this.updateQuadUVs(42,n/f,1-u/c,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-u/c,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,f=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+n/f,.5-s/c),this.updateQuad(6,-.5+n/f,.5,.5-l/f,.5-s/c),this.updateQuad(12,.5-l/f,.5,.5,.5-s/c),this.is3Slice||(this.updateQuad(18,-.5,.5-s/c,-.5+n/f,-.5+u/c),this.updateQuad(24,-.5+n/f,.5-s/c,.5-l/f,-.5+u/c),this.updateQuad(30,.5-l/f,.5-s/c,.5,-.5+u/c),this.updateQuad(36,-.5,-.5+u/c,-.5+n/f,-.5),this.updateQuad(42,-.5+n/f,-.5+u/c,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+u/c,.5,-.5))},updateQuad:function(n,l,s,u,f){var c=this.width,v=this.height,g=this.originX,y=this.originY,T=this.vertices;T[n+0].resize(l,s,c,v,g,y),T[n+1].resize(l,f,c,v,g,y),T[n+2].resize(u,s,c,v,g,y),T[n+3].resize(l,f,c,v,g,y),T[n+4].resize(u,f,c,v,g,y),T[n+5].resize(u,s,c,v,g,y)},updateQuadUVs:function(n,l,s,u,f){var c=this.vertices,v=this.frame,g=v.u0,y=v.v0,T=v.u1,E=v.v1;if(g!==0||T!==1){var A=T-g;l=g+l*A,u=g+u*A}if(y!==0||E!==1){var P=E-y;s=y+s*P,f=y+f*P}c[n+0].setUVs(l,s),c[n+1].setUVs(l,f),c[n+2].setUVs(u,s),c[n+3].setUVs(l,f),c[n+4].setUVs(u,f),c[n+5].setUVs(u,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});d.exports=i},28279:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(35154),r=t(28103);x.register("nineslice",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=a(i,"width",256),f=a(i,"height",256),c=a(i,"leftWidth",10),v=a(i,"rightWidth",10),g=a(i,"topHeight",0),y=a(i,"bottomHeight",0),T=new r(this.scene,0,0,l,s,u,f,c,v,g,y);return n!==void 0&&(i.add=n),h(this.scene,T,i),T})},47521:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28103),x=t(39429);x.register("nineslice",function(o,a,r,i,n,l,s,u,f,c){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u,f,c))})},78023:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(52230),d.exports={renderWebGL:x,renderCanvas:o}},52230:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(a,r,i,n){var l=r.vertices,s=l.length;if(s!==0){i.addToRenderList(r);var u=a.pipelines.set(r.pipeline,r),f=h(r,i,n,!1).calc;a.pipelines.preBatch(r);var c=u.setGameObject(r),v=u.vertexViewF32,g=u.vertexViewU32,y=u.vertexCount*u.currentShader.vertexComponentCount-1,T=i.roundPixels,E=r.tintFill,A=i.alpha*r.alpha,P=x.getTintAppendFloatAlpha(r.tint,A),w=u.vertexAvailable(),I=-1;w<s&&(I=w);for(var O=0;O<s;O++){var F=l[O];O===I&&(u.flush(),c=u.setGameObject(r),y=0),v[++y]=f.getXRound(F.vx,F.vy,T),v[++y]=f.getYRound(F.vx,F.vy,T),v[++y]=F.u,v[++y]=F.v,v[++y]=c,v[++y]=E,g[++y]=P,u.vertexCount++,u.currentBatch.count=u.vertexCount-u.currentBatch.start}a.pipelines.postBatch(r)}};d.exports=o},76472:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(44777),o=t(37589),a=t(6113),r=t(91389),i=t(90664),n=new h({Extends:x,initialize:function(s){x.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,s=l,u=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=a("Linear"),this.interpolation=r("linear"),u=this.easedValueEmit,f=this.easeValueUpdate,s=l[0],this.active=!0;for(var c=0;c<l.length;c++){var v=i(l[c]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=u,this.onUpdate=f,this.current=s,this},setEase:function(l){this.easeName=l,this.ease=a(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,s,u){var f=this.ease(u),c=this.interpolation(this.r,f),v=this.interpolation(this.g,f),g=this.interpolation(this.b,f),y=o(c,v,g);return this.current=y,y}});d.exports=n},44777:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),x=t(45319),o=t(83419),a=t(99472),r=t(6113),i=t(95540),n=t(91389),l=t(77720),s=t(15994),u=new o({initialize:function(c,v,g){g===void 0&&(g=!1),this.propertyKey=c,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=g,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,c){f===void 0&&(f={}),c&&(this.propertyKey=c),this.propertyValue=i(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var c;switch(this.method){case 1:case 3:case 8:c=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(c=f);break;case 4:var v=(this.end-this.start)/this.steps;c=l(f,v),this.counter=c;break;case 5:case 6:case 7:c=x(f,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var c=typeof f;if(c==="number")return 1;if(Array.isArray(f))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,c=f,v=this.defaultEmit,g=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,c=f[0];break;case 3:this._onEmit=f,v=this.proxyEmit,c=this.defaultValue;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,v=this.steppedEmit,c=this.start;break;case 5:this.start=f.start,this.end=f.end;var y=this.has(f,"ease")?f.ease:"Linear";this.ease=r(y,f.easeParams),v=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,g=this.easeValueUpdate,c=this.start;break;case 6:this.start=f.min,this.end=f.max,v=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var T=f.random;Array.isArray(T)&&(this.start=T[0],this.end=T[1]),v=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,v=this.proxyEmit,g=this.proxyUpdate,c=this.defaultValue;break;case 9:this.start=f.values;var E=this.has(f,"ease")?f.ease:"Linear";this.ease=r(E,f.easeParams),this.interpolation=n(f.interpolation),v=this.easedValueEmit,g=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=v,this.onUpdate=g,this.current=c,this},has:function(f,c){return f.hasOwnProperty(c)},hasBoth:function(f,c,v){return f.hasOwnProperty(c)&&f.hasOwnProperty(v)},hasEither:function(f,c,v){return f.hasOwnProperty(c)||f.hasOwnProperty(v)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(f,c,v,g){return g},proxyEmit:function(f,c,v){var g=this._onEmit(f,c,v);return this.current=g,g},proxyUpdate:function(f,c,v,g){var y=this._onUpdate(f,c,v,g);return this.current=y,y},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,c){var v=a(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=v,f.data[c].max=this.end),this.current=v,v},randomRangedIntEmit:function(f,c){var v=h(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=v,f.data[c].max=this.end),this.current=v,v},steppedEmit:function(){var f=this.counter,c=f,v=(this.end-this.start)/this.steps;if(this.yoyo){var g;this.direction===0?(c+=v,c>=this.end&&(g=c-this.end,c=this.end-g,this.direction=1)):(c-=v,c<=this.start&&(g=this.start-c,c=this.start+g,this.direction=0)),this.counter=c}else this.counter=s(c+v,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,c){if(f&&f.data[c]){var v=f.data[c];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,c,v){var g=f.data[c],y,T=this.ease(v);return this.interpolation?y=this.interpolation(this.start,T):y=(g.max-g.min)*T+g.min,this.current=y,y},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});d.exports=u},24502:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(20286),a=new h({Extends:o,initialize:function(i,n,l,s,u){if(typeof i=="object"){var f=i;i=x(f,"x",0),n=x(f,"y",0),l=x(f,"power",0),s=x(f,"epsilon",100),u=x(f,"gravity",50)}else i===void 0&&(i=0),n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=100),u===void 0&&(u=50);o.call(this,i,n,!0),this._gravity=u,this._power=l*u,this._epsilon=s*s},update:function(r,i){var n=this.x-r.x,l=this.y-r.y,s=n*n+l*l;if(s!==0){var u=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var f=this._power*i/(s*u)*100;r.velocityX+=n*f,r.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var i=this.power;this._gravity=r,this.power=i}}});d.exports=a},56480:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(45319),o=t(83419),a=t(39506),r=t(87841),i=t(11520),n=t(26099),l=new o({initialize:function(u){this.emitter=u,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=u.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new h(this)),this.bounds=new r},emit:function(s,u,f,c,v,g){return this.emitter.emit(s,u,f,c,v,g)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.x=s,this.y=u},fire:function(s,u){var f=this.emitter,c=f.ops,v=f.getAnim();if(v?this.anims.play(v):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),s===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=s+c.x.onEmit(this,"x"):this.x+=s,u===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=u+c.y.onEmit(this,"y"):this.y+=u,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var g=c.speedX.onEmit(this,"speedX"),y=c.speedY.active?c.speedY.onEmit(this,"speedY"):g;if(f.radial){var T=a(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(T)*Math.abs(g),this.velocityY=Math.sin(T)*Math.abs(y)}else if(f.moveTo){var E=c.moveToX.onEmit(this,"moveToX"),A=c.moveToY.onEmit(this,"moveToY"),P=this.life/1e3;this.velocityX=(E-this.x)/P,this.velocityY=(A-this.y)/P}else this.velocityX=g,this.velocityY=y;return f.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(s,u,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims&&this.anims.update(0,s);var c=this.emitter,v=c.ops,g=1-this.lifeCurrent/this.life;if(this.lifeT=g,this.x=v.x.onUpdate(this,"x",g,this.x),this.y=v.y.onUpdate(this,"y",g,this.y),c.moveTo){var y=v.moveToX.onUpdate(this,"moveToX",g,c.moveToX),T=v.moveToY.onUpdate(this,"moveToY",g,c.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(y-this.x)/E,this.velocityY=(T-this.y)/E}return this.computeVelocity(c,s,u,f,g),this.scaleX=v.scaleX.onUpdate(this,"scaleX",g,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",g,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",g,this.angle),this.rotation=a(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(v.alpha.onUpdate(this,"alpha",g,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",g,this.tint):this.tint=v.tint.onUpdate(this,"tint",g,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,u,f,c,v){var g=s.ops,y=this.velocityX,T=this.velocityY,E=g.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),A=g.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),P=g.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),w=g.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=g.bounce.onUpdate(this,"bounce",v,this.bounce),y+=s.gravityX*f+E*f,T+=s.gravityY*f+A*f,y=x(y,-P,P),T=x(T,-w,w),this.velocityX=y,this.velocityY=T,this.x+=y*f,this.y+=T*f,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var I=0;I<c.length;I++){var O=c[I];O.active&&O.update(this,u,f,v)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var u=Math.abs(s.scaleX)*this.scaleX,f=Math.abs(s.scaleY)*this.scaleY,c=this.x,v=this.y,g=this.rotation,y=this.frame.width*u/2,T=this.frame.height*f/2,E=this.bounds,A=new n(c-y,v-T),P=new n(c+y,v-T),w=new n(c-y,v+T),I=new n(c+y,v+T);return g!==0&&(i(A,c,v,g),i(P,c,v,g),i(w,c,v,g),i(I,c,v,g)),s.transformPoint(A.x,A.y,A),s.transformPoint(P.x,P.y,P),s.transformPoint(w.x,w.y,w),s.transformPoint(I.x,I.y,I),E.x=Math.min(A.x,P.x,w.x,I.x),E.y=Math.min(A.y,P.y,w.y,I.y),E.width=Math.max(A.x,P.x,w.x,I.x)-E.x,E.height=Math.max(A.y,P.y,w.y,I.y)-E.y,E},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});d.exports=l},69601:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(20286),o=t(87841),a=new h({Extends:x,initialize:function(i,n,l,s,u,f,c,v){u===void 0&&(u=!0),f===void 0&&(f=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),x.call(this,i,n,!0),this.bounds=new o(i,n,l,s),this.collideLeft=u,this.collideRight=f,this.collideTop=c,this.collideBottom=v},update:function(r){var i=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<i.x&&this.collideLeft?(r.x+=i.x-l.x,r.velocityX*=n):l.x>i.right&&this.collideRight&&(r.x-=l.x-i.right,r.velocityX*=n),l.y<i.y&&this.collideTop?(r.y+=i.y-l.y,r.velocityY*=n):l.y>i.bottom&&this.collideBottom&&(r.y-=l.y-i.bottom,r.velocityY*=n)}});d.exports=a},31600:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(53774),a=t(43459),r=t(26388),i=t(19909),n=t(76472),l=t(44777),s=t(20696),u=t(95643),f=t(95540),c=t(26546),v=t(24502),g=t(1985),y=t(97022),T=t(86091),E=t(73162),A=t(20074),P=t(269),w=t(56480),I=t(69601),O=t(68875),F=t(87841),L=t(59996),D=t(72905),b=t(90668),U=t(19186),W=t(61340),H=t(26099),Y=t(15994),G=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new h({Extends:u,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,b],initialize:function(z,$,j,k,q){u.call(this,z,"ParticleEmitter"),this.particleClass=w,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new H,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new E(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,j),this.setTexture(k),q&&this.setConfig(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(B){if(!B)return this;this.config=B;var z=0,$="",j=this.ops;for(z=0;z<X.length;z++)$=X[z],j[$].loadConfig(B);for(z=0;z<G.length;z++)$=G[z],y(B,$)&&(this[$]=f(B,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,y(B,"speed")&&(j.speedX.loadConfig(B,"speed"),j.speedY.active=!1),(g(B,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(B,"scale")&&(j.scaleX.loadConfig(B,"scale"),j.scaleY.active=!1),y(B,"callbackScope")){var k=f(B,"callbackScope",null);this.emitCallbackScope=k,this.deathCallbackScope=k}if(y(B,"emitZone")&&this.addEmitZone(B.emitZone),y(B,"deathZone")&&this.addDeathZone(B.deathZone),y(B,"bounds")){var q=this.addParticleBounds(B.bounds);q.collideLeft=f(B,"collideLeft",!0),q.collideRight=f(B,"collideRight",!0),q.collideTop=f(B,"collideTop",!0),q.collideBottom=f(B,"collideBottom",!0)}return y(B,"followOffset")&&this.followOffset.setFromObject(f(B,"followOffset",0)),y(B,"texture")&&this.setTexture(B.texture),y(B,"frame")?this.setEmitterFrame(B.frame):y(B,"anim")&&this.setAnim(B.anim),y(B,"reserve")&&this.reserve(B.reserve),y(B,"advance")&&this.fastForward(B.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},updateConfig:function(B){return B&&(this.config?this.setConfig(P(this.config,B)):this.setConfig(B)),this},toJSON:function(){var B=o(this),z=0,$="";for(z=0;z<G.length;z++)$=G[z],B[$]=this[$];var j=this.ops;for(z=0;z<X.length;z++)$=X[z],j[$]&&(B[$]=j[$].toJSON());return j.speedY.active||(delete B.speedX,B.speed=j.speedX.toJSON()),this.scaleX===this.scaleY&&(delete B.scaleX,delete B.scaleY,B.scale=j.scaleX.toJSON()),B},resetCounters:function(B,z){var $=this.counters;$.fill(0),$[0]=B,z&&($[5]=1)},startFollow:function(B,z,$,j){return z===void 0&&(z=0),$===void 0&&($=0),j===void 0&&(j=!1),this.follow=B,this.followOffset.set(z,$),this.trackVisible=j,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var B=this.frames,z=B.length,$;return z===1?$=B[0]:this.randomFrame?$=c(B):($=B[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get($)},setEmitterFrame:function(B,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomFrame=z,this.frameQuantity=$,this.currentFrame=0;var j=typeof B;if(this.frames.length=0,Array.isArray(B))this.frames=this.frames.concat(B);else if(j==="string"||j==="number")this.frames.push(B);else if(j==="object"){var k=B;B=f(k,"frames",null),B&&(this.frames=this.frames.concat(B));var q=f(k,"cycle",!1);this.randomFrame=!q,this.frameQuantity=f(k,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var B=this.anims,z=B.length;if(z===0)return null;if(z===1)return B[0];if(this.randomAnim)return c(B);var $=B[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,z)),$},setAnim:function(B,z,$){z===void 0&&(z=!0),$===void 0&&($=1),this.randomAnim=z,this.animQuantity=$,this.currentAnim=0;var j=typeof B;if(this.anims.length=0,Array.isArray(B))this.anims=this.anims.concat(B);else if(j==="string")this.anims.push(B);else if(j==="object"){var k=B;B=f(k,"anims",null),B&&(this.anims=this.anims.concat(B));var q=f(k,"cycle",!1);this.randomAnim=!q,this.animQuantity=f(k,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(B){return B===void 0&&(B=!0),this.radial=B,this},addParticleBounds:function(B,z,$,j,k,q,Q,Z){if(typeof B=="object"){var _=B;B=_.x,z=_.y,$=y(_,"w")?_.w:_.width,j=y(_,"h")?_.h:_.height}return this.addParticleProcessor(new I(B,z,$,j,k,q,Q,Z))},setParticleSpeed:function(B,z){return z===void 0&&(z=B),this.ops.speedX.onChange(B),B===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(B,z){return B===void 0&&(B=1),z===void 0&&(z=B),this.ops.scaleX.onChange(B),this.ops.scaleY.onChange(z),this},setParticleGravity:function(B,z){return this.gravityX=B,this.gravityY=z,this},setParticleAlpha:function(B){return this.ops.alpha.onChange(B),this},setParticleTint:function(B){return this.ops.tint.onChange(B),this},setEmitterAngle:function(B){return this.ops.angle.onChange(B),this},setParticleLifespan:function(B){return this.ops.lifespan.onChange(B),this},setQuantity:function(B){return this.quantity=B,this},setFrequency:function(B,z){return this.frequency=B,this.flowCounter=B>0?B:0,z&&(this.quantity=z),this},addDeathZone:function(B){Array.isArray(B)||(B=[B]);for(var z,$=[],j=0;j<B.length;j++)if(z=B[j],z instanceof r)$.push(z);else if(typeof z.contains=="function")z=new r(z,!0),$.push(z);else{var k=f(z,"type","onEnter"),q=f(z,"source",null);if(q&&typeof q.contains=="function"){var Q=k==="onEnter";z=new r(q,Q),$.push(z)}}return this.deathZones=this.deathZones.concat($),$},removeDeathZone:function(B){return D(this.deathZones,B),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(B){Array.isArray(B)||(B=[B]);for(var z,$=[],j=0;j<B.length;j++)if(z=B[j],z instanceof O||z instanceof i)$.push(z);else{var k=f(z,"source",null);if(k){var q=f(z,"type","random");if(q==="random"&&typeof k.getRandomPoint=="function")z=new O(k),$.push(z);else if(q==="edge"&&typeof k.getPoints=="function"){var Q=f(z,"quantity",1),Z=f(z,"stepRate",0),_=f(z,"yoyo",!1),et=f(z,"seamless",!0),it=f(z,"total",-1);z=new i(k,Q,Z,_,et,it),$.push(z)}}}return this.emitZones=this.emitZones.concat($),$},removeEmitZone:function(B){return D(this.emitZones,B),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(B){var z=this.emitZones,$=z.length;if($!==0){var j=z[this.zoneIndex];j.getPoint(B),j.total>-1&&(this.zoneTotal++,this.zoneTotal===j.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},getDeathZone:function(B){for(var z=this.deathZones,$=0;$<z.length;$++){var j=z[$];if(j.willKill(B))return this.emit(s.DEATH_ZONE,this,B,j),!0}return!1},setEmitZone:function(B){var z;return isFinite(B)?z=B:z=this.emitZones.indexOf(B),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(B){return this.processors.exists(B)||(B.emitter&&B.emitter.removeParticleProcessor(B),this.processors.add(B),B.emitter=this),B},removeParticleProcessor:function(B){return this.processors.exists(B)&&(this.processors.remove(B,!0),B.emitter=null),B},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(B){return this.addParticleProcessor(new v(B))},reserve:function(B){var z=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+B>this.maxParticles&&(B=this.maxParticles-($+B))}for(var j=0;j<B;j++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(B,z){return B===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof B=="function"&&(this.emitCallback=B,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(B,z){return B===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof B=="function"&&(this.deathCallback=B,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var B=this.dead,z=this.alive;z.length>0;)B.push(z.pop());return this},forEachAlive:function(B,z){for(var $=this.alive,j=$.length,k=0;k<j;k++)B.call(z,$[k],this);return this},forEachDead:function(B,z){for(var $=this.dead,j=$.length,k=0;k<j;k++)B.call(z,$[k],this);return this},start:function(B,z){return B===void 0&&(B=0),this.emitting||(B>0&&this.fastForward(B),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(s.START,this)),this},stop:function(B){return B===void 0&&(B=!1),this.emitting&&(this.emitting=!1,B&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(B,z){return B===void 0&&(B=""),z===void 0&&(z=this.true),this.sortProperty=B,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(B){return this.sortProperty!==""?B=this.depthSortCallback:B=null,this.sortCallback=B,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(B,z){var $=this.sortProperty;return this.sortOrderAsc?B[$]-z[$]:z[$]-B[$]},flow:function(B,z,$){return z===void 0&&(z=1),this.emitting=!1,this.frequency=B,this.quantity=z,$!==void 0&&(this.stopAfter=$),this.start()},explode:function(B,z,$){this.frequency=-1,this.resetCounters(-1,!0);var j=this.emitParticle(B,z,$);return this.emit(s.EXPLODE,this,j),j},emitParticleAt:function(B,z,$){return this.emitParticle($,B,z)},emitParticle:function(B,z,$){if(!this.atLimit()){B===void 0&&(B=this.ops.quantity.onEmit());for(var j=this.dead,k=this.stopAfter,q=this.follow?this.follow.x+this.followOffset.x:z,Q=this.follow?this.follow.y+this.followOffset.y:$,Z=0;Z<B;Z++){var _=j.pop();if(_||(_=new this.particleClass(this)),_.fire(q,Q)?(this.particleBringToTop?this.alive.push(_):this.alive.unshift(_),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,_,this)):this.dead.push(_),k>0&&(this.stopCounter++,this.stopCounter>=k)||this.atLimit())break}return _}},fastForward:function(B,z){z===void 0&&(z=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(B);)this.preUpdate(0,z),$+=z;return this.skipping=!1,this},preUpdate:function(B,z){z*=this.timeScale;var $=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var j=this.getProcessors(),k=this.alive,q=this.dead,Q=0,Z=[],_=k.length;for(Q=0;Q<_;Q++){var et=k[Q];et.update(z,$,j)&&Z.push({index:Q,particle:et})}if(_=Z.length,_>0){var it=this.deathCallback,st=this.deathCallbackScope;for(Q=_-1;Q>=0;Q--){var nt=Z[Q];k.splice(nt.index,1),q.push(nt.particle),it&&it.call(st,nt.particle),nt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&k.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(B){for(var z=this.getWorldTransformMatrix(),$=this.alive,j=$.length,k=[],q=0;q<j;q++){var Q=$[q];L(B,Q.getBounds(z))&&k.push(Q)}return k},getBounds:function(B,z,$,j){B===void 0&&(B=0),z===void 0&&(z=0),$===void 0&&($=1e3/60),j===void 0&&(j=new F);var k=this.getWorldTransformMatrix(),q,Q,Z=this.alive,_=!1;if(j.setTo(0,0,0,0),z>0){var et=0;for(this.skipping=!0;et<Math.abs(z);){for(this.preUpdate(0,$),q=0;q<Z.length;q++)Q=Z[q].getBounds(k),_?A(j,Q):(_=!0,a(Q,j));et+=$}this.skipping=!1}else for(q=0;q<Z.length;q++)Q=Z[q].getBounds(k),_?A(j,Q):(_=!0,a(Q,j));return B>0&&T(j,B,B),j},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(B){this.ops.x.onChange(B)}},particleY:{get:function(){return this.ops.y.current},set:function(B){this.ops.y.onChange(B)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(B){this.ops.accelerationX.onChange(B)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(B){this.ops.accelerationY.onChange(B)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(B){this.ops.maxVelocityX.onChange(B)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(B){this.ops.maxVelocityY.onChange(B)}},speed:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B),this.ops.speedY.onChange(B)}},speedX:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B)}},speedY:{get:function(){return this.ops.speedY.current},set:function(B){this.ops.speedY.onChange(B)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(B){this.ops.moveToX.onChange(B)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(B){this.ops.moveToY.onChange(B)}},bounce:{get:function(){return this.ops.bounce.current},set:function(B){this.ops.bounce.onChange(B)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(B){this.ops.scaleX.onChange(B)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(B){this.ops.scaleY.onChange(B)}},particleColor:{get:function(){return this.ops.color.current},set:function(B){this.ops.color.onChange(B)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(B){this.ops.color.setEase(B)}},particleTint:{get:function(){return this.ops.tint.current},set:function(B){this.ops.tint.onChange(B)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(B){this.ops.alpha.onChange(B)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(B){this.ops.lifespan.onChange(B)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(B){this.ops.angle.onChange(B)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(B){this.ops.rotate.onChange(B)}},quantity:{get:function(){return this.ops.quantity.current},set:function(B){this.ops.quantity.onChange(B)}},delay:{get:function(){return this.ops.delay.current},set:function(B){this.ops.delay.onChange(B)}},hold:{get:function(){return this.ops.hold.current},set:function(B){this.ops.hold.onChange(B)}},flowCounter:{get:function(){return this.counters[0]},set:function(B){this.counters[0]=B}},frameCounter:{get:function(){return this.counters[1]},set:function(B){this.counters[1]=B}},animCounter:{get:function(){return this.counters[2]},set:function(B){this.counters[2]=B}},elapsed:{get:function(){return this.counters[3]},set:function(B){this.counters[3]=B}},stopCounter:{get:function(){return this.counters[4]},set:function(B){this.counters[4]=B}},completeFlag:{get:function(){return this.counters[5]},set:function(B){this.counters[5]=B}},zoneIndex:{get:function(){return this.counters[6]},set:function(B){this.counters[6]=B}},zoneTotal:{get:function(){return this.counters[7]},set:function(B){this.counters[7]=B}},currentFrame:{get:function(){return this.counters[8]},set:function(B){this.counters[8]=B}},currentAnim:{get:function(){return this.counters[9]},set:function(B){this.counters[9]=B}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var B,z=this.ops;for(B=0;B<X.length;B++){var $=X[B];z[$].destroy()}for(B=0;B<this.alive.length;B++)this.alive[B].destroy();for(B=0;B<this.dead.length;B++)this.dead[B].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});d.exports=V},9871:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),x=t(61340),o=new x,a=new x,r=new x,i=new x,n=function(l,s,u,f){var c=o,v=a,g=r,y=i;f?(y.loadIdentity(),y.multiply(f),y.translate(s.x,s.y),y.rotate(s.rotation),y.scale(s.scaleX,s.scaleY)):y.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var T=l.currentContext,E=u.roundPixels,A=u.alpha,P=s.alpha,w=s.alive,I=w.length,O=s.viewBounds;if(!(!s.visible||I===0||O&&!h(O,u.worldView))){s.sortCallback&&s.depthSort(),u.addToRenderList(s);var F=s.scrollFactorX,L=s.scrollFactorY;T.save(),T.globalCompositeOperation=l.blendModes[s.blendMode];for(var D=0;D<I;D++){var b=w[D],U=b.alpha*P*A;if(!(U<=0||b.scaleX===0||b.scaleY===0)){g.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),c.copyFrom(u.matrix),c.multiplyWithOffset(y,-u.scrollX*F,-u.scrollY*L),g.e=b.x,g.f=b.y,c.multiply(g,v);var W=b.frame,H=W.canvasData;if(H.width>0&&H.height>0){var Y=-W.halfWidth,G=-W.halfHeight;T.globalAlpha=U,T.save(),v.setToContext(T),E&&(Y=Math.round(Y),G=Math.round(G)),T.imageSmoothingEnabled=!W.source.scaleMode,T.drawImage(W.source.image,H.x,H.y,H.width,H.height,Y,G,H.width,H.height),T.restore()}}}T.restore()}};d.exports=n},92730:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(95540),r=t(31600);x.register("particles",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=a(i,"config",null),u=new r(this.scene,0,0,l);return n!==void 0&&(i.add=n),h(this.scene,u,i),s&&u.setConfig(s),u})},676:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(31600);h.register("particles",function(o,a,r,i){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,o,a,r,i))})},90668:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(21188),o=t(9871),d.exports={renderWebGL:x,renderCanvas:o}},21188:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),x=t(61340),o=t(70554),a=new x,r=new x,i=new x,n=new x,l=function(s,u,f,c){var v=s.pipelines.set(u.pipeline),g=a,y=r,T=i,E=n;c?(E.loadIdentity(),E.multiply(c),E.translate(u.x,u.y),E.rotate(u.rotation),E.scale(u.scaleX,u.scaleY)):E.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var A=o.getTintAppendFloatAlpha,P=f.alpha,w=u.alpha;s.pipelines.preBatch(u);var I=u.alive,O=I.length,F=u.viewBounds;if(!(O===0||F&&!h(F,f.worldView))){u.sortCallback&&u.depthSort(),f.addToRenderList(u),g.copyFrom(f.matrix),g.multiplyWithOffset(E,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),s.setBlendMode(u.blendMode),u.mask&&(u.mask.preRenderWebGL(s,u,f),s.pipelines.set(u.pipeline));for(var L=u.tintFill,D,b,U=0;U<O;U++){var W=I[U],H=W.alpha*w*P;if(!(H<=0||W.scaleX===0||W.scaleY===0)){T.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),T.e=W.x,T.f=W.y,g.multiply(T,y);var Y=W.frame;Y.glTexture!==b&&(b=Y.glTexture,D=v.setGameObject(u,Y));var G=-Y.halfWidth,X=-Y.halfHeight,V=y.setQuad(G,X,G+Y.width,X+Y.height),B=A(W.tint,H);v.shouldFlush(6)&&(v.flush(),D=v.setGameObject(u,Y)),v.batchQuad(u,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],Y.u0,Y.v0,Y.u1,Y.v1,B,B,B,B,L,b,D)}}u.mask&&u.mask.postRenderWebGL(s,f),s.pipelines.postBatch(u)}};d.exports=l},20286:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i){a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=!0),this.emitter,this.x=a,this.y=r,this.active=i},update:function(){},destroy:function(){this.emitter=null}});d.exports=x},9774:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="complete"},812:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="deathzone"},30522:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="explode"},96695:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="start"},18677:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="stop"},20696:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r){this.source=a,this.killOnEnter=r},willKill:function(o){var a=o.worldPosition,r=this.source.contains(a.x,a.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});d.exports=x},19909:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i,n,l,s){n===void 0&&(n=!1),l===void 0&&(l=!0),s===void 0&&(s=-1),this.source=a,this.points=[],this.quantity=r,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],a=this.points[this.points.length-1];o.x===a.x&&o.y===a.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(o.x=a.x,o.y=a.y)}});d.exports=x},68875:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(26099),o=new h({initialize:function(r){this.source=r,this._tempVec=new x,this.total=-1},getPoint:function(a){var r=this._tempVec;this.source.getRandomPoint(r),a.x=r.x,a.y=r.y}});d.exports=o},21024:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(68287),a=new h({Extends:o,Mixins:[x.PathFollower],initialize:function(i,n,l,s,u,f){o.call(this,i,l,s,u,f),this.path=n},preUpdate:function(r,i){this.anims.update(r,i),this.pathUpdate(r)}});d.exports=a},90145:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(1159);h.register("follower",function(o,a,r,i,n){var l=new x(this.scene,o,a,r,i,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(83419),o=t(48803),a=t(90664),r=t(4703),i=t(45650),n=new x({Extends:r,initialize:function(s,u,f,c,v,g,y,T){c||(c="__DEFAULT"),r.call(this,s,u,f,c,v),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(g,y,T),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,s,u){l===void 0&&(l=8),s===void 0&&(s=8),u===void 0&&(u=!1);var f=!1;return u&&(f=!0),this.gridWidth=l,this.gridHeight=s,this.isTiled=u,this.clear(),o({mesh:this,widthSegments:l,heightSegments:s,isOrtho:!1,tile:u,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var u=this.gridWidth,f=this.gridHeight,c=this.vertices,v=s.u0,g=s.u1,y=s.v0,T=s.v1,E,A,P=0;if(this.isTiled)for(y=s.v1,T=s.v0,A=0;A<f;A++)for(E=0;E<u;E++)c[P++].setUVs(v,T),c[P++].setUVs(v,y),c[P++].setUVs(g,T),c[P++].setUVs(v,y),c[P++].setUVs(g,y),c[P++].setUVs(g,T);else{var w=u+1,I=f+1,O=g-v,F=T-y,L=[];for(A=0;A<I;A++)for(E=0;E<w;E++){var D=v+O*(E/u),b=y+F*(A/f);L.push(D,b)}for(A=0;A<f;A++)for(E=0;E<u;E++){var U=(E+w*A)*2,W=(E+w*(A+1))*2,H=(E+1+w*(A+1))*2,Y=(E+1+w*A)*2;c[P++].setUVs(L[U],L[U+1]),c[P++].setUVs(L[W],L[W+1]),c[P++].setUVs(L[Y],L[Y+1]),c[P++].setUVs(L[W],L[W+1]),c[P++].setUVs(L[H],L[H+1]),c[P++].setUVs(L[Y],L[Y+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(l,s,u,f,c){l===void 0&&(l=16777215),s===void 0&&(s=255),u===void 0&&(u=255),f===void 0&&(f=255),c===void 0&&(c=128);for(var v=a(l),g=a(s),y=[],T=0;T<16;T++)for(var E=0;E<16;E++)T<8&&E<8||T>7&&E>7?y.push(v.r,v.g,v.b,u):y.push(g.r,g.g,g.b,f);var A=this.scene.sys.textures.addUint8Array(i(),new Uint8Array(y),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,s){return this.anims.play(l,s)},playReverse:function(l,s){return this.anims.playReverse(l,s)},playAfterDelay:function(l,s){return this.anims.playAfterDelay(l,s)},playAfterRepeat:function(l,s){return this.anims.playAfterRepeat(l,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,s){r.prototype.preUpdate.call(this,l,s),this.anims.update(l,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});d.exports=n},56015:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(13059),o=t(44603),a=t(23568),r=t(35154),i=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var s=a(n,"key",null),u=a(n,"frame",null),f=r(n,"width",8),c=r(n,"height",8),v=r(n,"tile",!1),g=new i(this.scene,0,0,s,u,f,c,v);l!==void 0&&(n.add=l);var y=r(n,"checkerboard",null);if(y){var T=r(y,"color1",16777215),E=r(y,"color2",255),A=r(y,"alpha1",255),P=r(y,"alpha2",255),w=r(y,"height",128);g.createCheckerboard(T,E,A,P,w)}return h(this.scene,g,n),x(g,n),g})},30985:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33663),x=t(39429);x.register("plane",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},80321:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),a=t(30100),r=t(36060),i=t(67277),n=new h({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,i],initialize:function(s,u,f,c,v,g,y){c===void 0&&(c=16777215),v===void 0&&(v=128),g===void 0&&(g=1),y===void 0&&(y=.1),o.call(this,s,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(u,f),this.color=a(c),this.intensity=g,this.attenuation=y,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});d.exports=n},39829:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(80321);x.register("pointlight",function(r,i){r===void 0&&(r={});var n=o(r,"color",16777215),l=o(r,"radius",128),s=o(r,"intensity",1),u=o(r,"attenuation",.1),f=new a(this.scene,0,0,n,l,s,u);return i!==void 0&&(r.add=i),h(this.scene,f,r),f})},71255:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(80321);h.register("pointlight",function(o,a,r,i,n,l){return this.displayList.add(new x(this.scene,o,a,r,i,n,l))})},67277:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(57787),d.exports={renderWebGL:x,renderCanvas:o}},57787:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,a,r,i){r.addToRenderList(a);var n=o.pipelines.set(a.pipeline),l=h(a,r,i).calc,s=a.width,u=a.height,f=-a._radius,c=-a._radius,v=f+s,g=c+u,y=l.getX(0,0),T=l.getY(0,0),E=l.getX(f,c),A=l.getY(f,c),P=l.getX(f,g),w=l.getY(f,g),I=l.getX(v,g),O=l.getY(v,g),F=l.getX(v,c),L=l.getY(v,c);o.pipelines.preBatch(a),n.batchPointLight(a,r,E,A,P,w,I,O,F,L,y,T),o.pipelines.postBatch(a)};d.exports=x},591:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(81320),o=t(88571),a=new h({Extends:o,initialize:function(i,n,l,s,u,f){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=32),u===void 0&&(u=32),f===void 0&&(f=!0);var c=new x(i.sys.textures,"",s,u,f);o.call(this,i,n,l,c),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,i){this.width=r,this.height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=i),this},resize:function(r,i,n){return this.texture.setSize(r,i,n),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(r){var i=this.texture;return i.key=r,i.manager.addDynamicTexture(i)&&(this._saved=!0),i},fill:function(r,i,n,l,s,u){return this.texture.fill(r,i,n,l,s,u),this},clear:function(){return this.texture.clear(),this},stamp:function(r,i,n,l,s){return this.texture.stamp(r,i,n,l,s),this},erase:function(r,i,n){return this.texture.erase(r,i,n),this},draw:function(r,i,n,l,s){return this.texture.draw(r,i,n,l,s),this},drawFrame:function(r,i,n,l,s,u){return this.texture.drawFrame(r,i,n,l,s,u),this},repeat:function(r,i,n,l,s,u,f,c,v){return this.texture.repeat(r,i,n,l,s,u,f,c,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,i,n,l,s){return this.texture.batchDraw(r,i,n,l,s),this},batchDrawFrame:function(r,i,n,l,s,u){return this.texture.batchDrawFrame(r,i,n,l,s,u),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,i,n,l,s,u,f){return this.texture.snapshotArea(r,i,n,l,s,u,f),this},snapshot:function(r,i,n){return this.snapshotArea(0,0,this.width,this.height,r,i,n)},snapshotPixel:function(r,i,n){return this.snapshotArea(r,i,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});d.exports=a},34495:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(591);x.register("renderTexture",function(r,i){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),s=o(r,"width",32),u=o(r,"height",32),f=new a(this.scene,n,l,s,u);return i!==void 0&&(r.add=i),h(this.scene,f,r),f})},60505:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(591);h.register("renderTexture",function(o,a,r,i){return this.displayList.add(new x(this.scene,o,a,r,i))})},77757:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(83419),o=t(31401),a=t(95643),r=t(36060),i=t(38745),n=t(26099),l=new x({Extends:a,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,i],initialize:function(u,f,c,v,g,y,T,E,A){v===void 0&&(v="__DEFAULT"),y===void 0&&(y=2),T===void 0&&(T=!0),a.call(this,u,"Rope"),this.anims=new h(this),this.points=y,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,g),this.setPosition(f,c),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(y)&&this.resizeArrays(y.length),this.setPoints(y,E,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){var f=this.anims.currentFrame;this.anims.update(s,u),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(s,u,f){return this.anims.play(s,u,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,u,f){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,u,f))},setVertical:function(s,u,f){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,u,f)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,u){var f=this.points.length;if(f<1)return this;var c=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&u===void 0&&(s=[s]);var v,g=0;if(u!==void 0)for(v=0;v<f;v++)g=v*2,c[g]=s,c[g+1]=u;else if(s.length===f)for(v=0;v<f;v++)g=v*2,c[g]=s[v],c[g+1]=s[v];else{var y=s[0];for(v=0;v<f;v++)g=v*2,s.length>g&&(y=s[g]),c[g]=y,s.length>g+1&&(y=s[g+1]),c[g+1]=y}return this},setColors:function(s){var u=this.points.length;if(u<1)return this;var f=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var c,v=0;if(s.length===u)for(c=0;c<u;c++)v=c*2,f[v]=s[c],f[v+1]=s[c];else{var g=s[0];for(c=0;c<u;c++)v=c*2,s.length>v&&(g=s[v]),f[v]=g,s.length>v+1&&(g=s[v+1]),f[v+1]=g}return this},setPoints:function(s,u,f){if(s===void 0&&(s=2),typeof s=="number"){var c=s;c<2&&(c=2),s=[];var v,g,y;if(this.horizontal)for(y=-this.frame.halfWidth,g=this.frame.width/(c-1),v=0;v<c;v++)s.push({x:y+v*g,y:0});else for(y=-this.frame.halfHeight,g=this.frame.height/(c-1),v=0;v<c;v++)s.push({x:0,y:y+v*g})}var T=s.length,E=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(s.unshift({x:0,y:0}),T++),E!==T&&this.resizeArrays(T),this.dirty=!0,this.points=s,this.updateUVs(),u!=null&&this.setColors(u),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var s=this.uv,u=this.points.length,f=this.frame.u0,c=this.frame.v0,v=this.frame.u1,g=this.frame.v1,y=(v-f)/(u-1),T=(g-c)/(u-1),E=0;E<u;E++){var A=E*4,P,w,I,O;this.horizontal?(this._flipX?(P=v-E*y,I=v-E*y):(P=f+E*y,I=f+E*y),this._flipY?(w=g,O=c):(w=c,O=g)):(this._flipX?(P=f,I=v):(P=v,I=f),this._flipY?(w=g-E*T,O=g-E*T):(w=c+E*T,O=c+E*T)),s[A+0]=P,s[A+1]=w,s[A+2]=I,s[A+3]=O}return this},resizeArrays:function(s){var u=this.colors,f=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),u=new Uint32Array(s*2),f=new Float32Array(s*2);for(var c=0;c<s*2;c++)u[c]=16777215,f[c]=1;return this.colors=u,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var s=this._perp,u=this.points,f=this.vertices,c=u.length;if(this.dirty=!1,!(c<1)){for(var v,g=u[0],y=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<c;T++){var E=u[T],A=T*4;T<c-1?v=u[T+1]:v=E,s.x=v.y-g.y,s.y=-(v.x-g.x);var P=s.length();s.x/=P,s.y/=P,s.x*=y,s.y*=y,f[A]=E.x+s.x,f[A+1]=E.y+s.y,f[A+2]=E.x-s.x,f[A+3]=E.y-s.y,g=E}return this}},setDebug:function(s,u){return this.debugGraphic=s,!s&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,u,f){var c=s.debugGraphic,v=f[0],g=f[1],y=f[2],T=f[3];c.lineBetween(v,g,y,T);for(var E=4;E<u;E+=4){var A=f[E+0],P=f[E+1],w=f[E+2],I=f[E+3];c.lineBetween(v,g,A,P),c.lineBetween(y,T,w,I),c.lineBetween(y,T,A,P),c.lineBetween(A,P,w,I),v=A,g=P,y=w,T=I}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});d.exports=l},95262:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};d.exports=S},26209:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(35154),r=t(77757);x.register("rope",function(i,n){i===void 0&&(i={});var l=o(i,"key",null),s=o(i,"frame",null),u=o(i,"horizontal",!0),f=a(i,"points",void 0),c=a(i,"colors",void 0),v=a(i,"alphas",void 0),g=new r(this.scene,0,0,l,s,f,u,c,v);return n!==void 0&&(i.add=n),h(this.scene,g,i),g})},96819:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77757),x=t(39429);x.register("rope",function(o,a,r,i,n,l,s,u){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u))})},38745:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(20439),o=t(95262),d.exports={renderWebGL:x,renderCanvas:o}},20439:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline,r),s=h(r,i,n).calc,u=r.vertices,f=r.uv,c=r.colors,v=r.alphas,g=r.alpha,y=x.getTintAppendFloatAlpha,T=i.roundPixels,E=u.length,A=Math.floor(E*.5);l.flush(),a.pipelines.preBatch(r);var P=l.setGameObject(r),w=l.vertexViewF32,I=l.vertexViewU32,O=l.vertexCount*l.currentShader.vertexComponentCount-1,F=0,L=r.tintFill;r.dirty&&r.updateVertices();for(var D=r.debugCallback,b=[],U=0;U<E;U+=2){var W=u[U+0],H=u[U+1],Y=W*s.a+H*s.c+s.e,G=W*s.b+H*s.d+s.f;T&&(Y=Math.round(Y),G=Math.round(G)),w[++O]=Y,w[++O]=G,w[++O]=f[U+0],w[++O]=f[U+1],w[++O]=P,w[++O]=L,I[++O]=y(c[F],i.alpha*(v[F]*g)),F++,D&&(b[U+0]=Y,b[U+1]=G)}D&&D.call(r,r,E,b),l.vertexCount+=A,l.currentBatch.count=l.vertexCount-l.currentBatch.start,a.pipelines.postBatch(r)};d.exports=o},20071:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),a=t(95540),r=t(79291),i=t(61622),n=t(25479),l=t(61340),s=t(95428),u=t(92503),f=new h({Extends:o,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,n],initialize:function(v,g,y,T,E,A,P,w){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=128),A===void 0&&(A=128),o.call(this,v,"Shader"),this.blendMode=-1,this.shader;var I=v.sys.renderer;this.renderer=I,this.gl=I.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=I.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=I.width,this._rendererHeight=I.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(y,T),this.setSize(E,A),this.setOrigin(.5,.5),this.setShader(g,P,w),this.renderer.on(u.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(c){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,v){if(!this.renderToTexture){var g=this.width,y=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,g,y,0),this.framebuffer=T.createFramebuffer(g,y,this.glTexture,!1),this._rendererWidth=g,this._rendererHeight=y,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(c,v,g){if(this.renderer.contextLost)return this._deferSetShader={key:c,textures:v,textureData:g},this;if(v===void 0&&(v=[]),typeof c=="string"){var y=this.scene.sys.cache.shader;if(!y.has(c))return console.warn("Shader missing: "+c),this;this.shader=y.get(c)}else this.shader=c;var T=this.gl,E=this.renderer;this.program&&E.deleteProgram(this.program);var A=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var P=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()*60*60+P.getMinutes()*60+P.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var I=0;I<4;I++)v[I]&&this.setSampler2D("iChannel"+I,v[I],I,g);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,v,g,y){if(this.renderer.contextLost){this._deferProjOrtho={left:c,right:v,bottom:g,top:y};return}var T=-1e3,E=1e3,A=1/(c-v),P=1/(g-y),w=1/(T-E),I=this.projectionMatrix;I[0]=-2*A,I[5]=-2*P,I[10]=2*w,I[12]=(c+v)*A,I[13]=(y+g)*P,I[14]=(E+T)*w;var O=this.program,F=this.gl,L=this.renderer;L.setProgram(O),F.uniformMatrix4fv(F.getUniformLocation(O.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=g},initUniforms:function(){var c=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var g in this.uniforms){var y=this.uniforms[g],T=y.type,E=c[T];y.uniformLocation=this.renderer.createUniformLocation(v,g),T!=="sampler2D"&&(y.glMatrix=E.matrix,y.glValueLength=E.length,y.glFunc=E.func)}},setSampler2DBuffer:function(c,v,g,y,T,E){T===void 0&&(T=0),E===void 0&&(E={});var A=this.uniforms[c];return A.value=v,E.width=g,E.height=y,A.textureData=E,this._textureCount=T,this.initSampler2D(A),this},setSampler2D:function(c,v,g,y){g===void 0&&(g=0);var T=this.scene.sys.textures;if(T.exists(v)){var E=T.getFrame(v);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,E.glTexture,E.width,E.height,g,y);var A=this.uniforms[c],P=E.source;A.textureKey=v,A.source=P.image,A.value=E.glTexture,P.isGLTexture&&(y||(y={}),y.width=P.width,y.height=P.height),y&&(A.textureData=y),this._textureCount=g,this.initSampler2D(A)}return this},setUniform:function(c,v){return i(this.uniforms,c,v),this},getUniform:function(c){return a(this.uniforms,c,null)},setChannel0:function(c,v){return this.setSampler2D("iChannel0",c,0,v)},setChannel1:function(c,v){return this.setSampler2D("iChannel1",c,1,v)},setChannel2:function(c,v){return this.setSampler2D("iChannel2",c,2,v)},setChannel3:function(c,v){return this.setSampler2D("iChannel3",c,3,v)},initSampler2D:function(c){if(c.value){var v=c.textureData;if(v&&!c.value.isRenderTexture){var g=this.gl,y=c.value,T=g[a(v,"magFilter","linear").toUpperCase()],E=g[a(v,"minFilter","linear").toUpperCase()],A=g[a(v,"wrapS","repeat").toUpperCase()],P=g[a(v,"wrapT","repeat").toUpperCase()],w=g[a(v,"format","rgba").toUpperCase()],I=a(v,"flipY",!1),O=a(v,"width",y.width),F=a(v,"height",y.height),L=a(v,"source",y.pixels);v.repeat&&(A=g.REPEAT,P=g.REPEAT),v.width&&(L=null),y.update(L,O,F,I,A,P,E,T,w)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var c=this.gl,v=this.uniforms,g,y,T,E,A,P=0;for(var w in v)g=v[w],T=g.glFunc,y=g.glValueLength,E=g.uniformLocation,A=g.value,A!==null&&(y===1?g.glMatrix?T.call(c,E.webGLUniformLocation,g.transpose,A):T.call(c,E.webGLUniformLocation,A):y===2?T.call(c,E.webGLUniformLocation,A.x,A.y):y===3?T.call(c,E.webGLUniformLocation,A.x,A.y,A.z):y===4?T.call(c,E.webGLUniformLocation,A.x,A.y,A.z,A.w):g.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+P),c.bindTexture(c.TEXTURE_2D,A.webGLTexture),c.uniform1i(E.webGLUniformLocation,P),P++))},load:function(c){var v=this.gl,g=this.width,y=this.height,T=this.renderer,E=this.program,A=this.viewMatrix;if(!this.renderToTexture){var P=-this._displayOriginX,w=-this._displayOriginY;A[0]=c[0],A[1]=c[1],A[4]=c[2],A[5]=c[3],A[8]=c[4],A[9]=c[5],A[12]=A[0]*P+A[4]*w,A[13]=A[1]*P+A[5]*w}v.useProgram(E.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,A),v.uniformMatrix4fv(v.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height);var I=this.uniforms,O=I.resolution;O.value.x=g,O.value.y=y,I.time.value=T.game.loop.getDuration();var F=this.pointer;if(F){var L=I.mouse,D=F.x/g,b=1-F.y/y;L.value.x=D.toFixed(2),L.value.y=b.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,v=this.height,g=this.program,y=this.gl,T=this.vertexBuffer,E=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT)),y.bindBuffer(y.ARRAY_BUFFER,T.webGLBuffer);var P=y.getAttribLocation(g.webGLProgram,"inPosition");P!==-1&&(y.enableVertexAttribArray(P),y.vertexAttribPointer(P,2,y.FLOAT,!1,A,0));var w=this.vertexViewF32;w[3]=v,w[4]=c,w[5]=v,w[8]=c,w[9]=v,w[10]=c;var I=6;y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,I*A)),y.drawArrays(y.TRIANGLES,0,I),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var c=this._deferSetShader.key,v=this._deferSetShader.textures,g=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(c,v,g)}if(this._deferProjOrtho!==null){var y=this._deferProjOrtho.left,T=this._deferProjOrtho.right,E=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(y,T,E,A)}},preDestroy:function(){var c=this.renderer;c.off(u.RESTORE_WEBGL,this.onContextRestored,this),c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(c.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(v){c.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});d.exports=f},80464:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};d.exports=S},54935:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(20071);x.register("shader",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"x",0),s=o(r,"y",0),u=o(r,"width",128),f=o(r,"height",128),c=new a(this.scene,n,l,s,u,f);return i!==void 0&&(r.add=i),h(this.scene,c,r),c})},74177:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20071),x=t(39429);x.register("shader",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},25479:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(19257),o=t(80464),d.exports={renderWebGL:x,renderCanvas:o}},19257:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,a,r,i){if(a.shader){if(r.addToRenderList(a),o.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var n=h(a,r,i).calc;(o.width!==a._rendererWidth||o.height!==a._rendererHeight)&&a.projOrtho(0,o.width,o.height,0),a.load(n.matrix),a.flush()}o.pipelines.rebind()}};d.exports=x},10441:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,a,r,i,n,l){for(var s=h.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*i),u=r.pathData,f=r.pathIndexes,c=0;c<f.length;c+=3){var v=f[c]*2,g=f[c+1]*2,y=f[c+2]*2,T=u[v+0]-n,E=u[v+1]-l,A=u[g+0]-n,P=u[g+1]-l,w=u[y+0]-n,I=u[y+1]-l,O=a.getX(T,E),F=a.getY(T,E),L=a.getX(A,P),D=a.getY(A,P),b=a.getX(w,I),U=a.getY(w,I);o.batchTri(r,O,F,L,D,b,U,0,0,1,1,s,s,s,2)}};d.exports=x},65960:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=x||h.fillColor,r=o||h.fillAlpha,i=(a&16711680)>>>16,n=(a&65280)>>>8,l=a&255;t.fillStyle="rgba("+i+","+n+","+l+","+r+")"};d.exports=S},75177:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=x||h.strokeColor,r=o||h.strokeAlpha,i=(a&16711680)>>>16,n=(a&65280)>>>8,l=a&255;t.strokeStyle="rgba("+i+","+n+","+l+","+r+")",t.lineWidth=h.lineWidth};d.exports=S},17803:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(95643),a=t(23031),r=new h({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(n,l,s){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(i,n){return n===void 0&&(n=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(i,n,l){return l===void 0&&(l=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,n){return this.width=i,this.height=n,this},setDisplaySize:function(i,n){return this.displayWidth=i,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});d.exports=r},34682:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,a,r,i,n){var l=o.strokeTint,s=h.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*r);l.TL=s,l.TR=s,l.BL=s,l.BR=s;var u=a.pathData,f=u.length-1,c=a.lineWidth,v=c/2,g=u[0]-i,y=u[1]-n;a.closePath||(f-=2);for(var T=2;T<f;T+=2){var E=u[T]-i,A=u[T+1]-n;o.batchLine(g,y,E,A,v,v,c,T-2,a.closePath?T===f-1:!1),g=E,y=A}};d.exports=x},23629:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13609),x=t(83419),o=t(39506),a=t(94811),r=t(96503),i=t(36383),n=t(17803),l=new x({Extends:n,Mixins:[h],initialize:function(u,f,c,v,g,y,T,E,A){f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=128),g===void 0&&(g=0),y===void 0&&(y=360),T===void 0&&(T=!1),n.call(this,u,"Arc",new r(0,0,v)),this._startAngle=g,this._endAngle=y,this._anticlockwise=T,this._iterations=.01,this.setPosition(f,c);var P=this.geom.radius*2;this.setSize(P,P),E!==void 0&&this.setFillStyle(E,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var u=s*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,u){return this._startAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(s,u){return this._endAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var s=this._iterations,u=s,f=this.geom.radius,c=o(this._startAngle),v=o(this._endAngle),g=this._anticlockwise,y=f,T=f;v-=c,g?v<-i.PI2?v=-i.PI2:v>0&&(v=-i.PI2+v%i.PI2):v>i.PI2?v=i.PI2:v<0&&(v=i.PI2+v%i.PI2);for(var E=[y+Math.cos(c)*f,T+Math.sin(c)*f],A;u<1;)A=v*u+c,E.push(y+Math.cos(A)*f,T+Math.sin(A)*f),u+=s;return A=v+c,E.push(y+Math.cos(A)*f,T+Math.sin(A)*f),E.push(y+Math.cos(c)*f,T+Math.sin(c)*f),this.pathIndexes=a(E),this.pathData=E,this}});d.exports=l},42542:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),x=t(65960),o=t(75177),a=t(20926),r=function(i,n,l,s){l.addToRenderList(n);var u=i.currentContext;if(a(i,u,n,l,s)){var f=n.radius;u.beginPath(),u.arc(f-n.originX*(f*2),f-n.originY*(f*2),f,h(n._startAngle),h(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(x(u,n),u.fill()),n.isStroked&&(o(u,n),u.stroke()),u.restore()}};d.exports=r},42563:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23629),x=t(39429);x.register("arc",function(o,a,r,i,n,l,s,u){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s,u))}),x.register("circle",function(o,a,r,i,n){return this.displayList.add(new h(this.scene,o,a,r,0,360,!1,i,n))})},13609:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(41447),o=t(42542),d.exports={renderWebGL:x,renderCanvas:o}},41447:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(10441),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l),f=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,g=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&x(s,f,i,g,c,v),i.isStroked&&o(s,i,g,c,v),r.pipelines.postBatch(i)};d.exports=a},89:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(33141),o=t(94811),a=t(87841),r=t(17803),i=new h({Extends:r,Mixins:[x],initialize:function(l,s,u,f,c,v){s===void 0&&(s=0),u===void 0&&(u=0),r.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(s,u),c!==void 0&&this.setFillStyle(c,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var s=[],u=this.geom.getPoints(l),f=0;f<u.length;f++)s.push(u[f].x,u[f].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});d.exports=i},3170:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX+i._curveBounds.x,f=i._displayOriginY+i._curveBounds.y,c=i.pathData,v=c.length-1,g=c[0]-u,y=c[1]-f;s.beginPath(),s.moveTo(g,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=c[T]-u,A=c[T+1]-f;s.lineTo(E,A)}i.closePath&&s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};d.exports=a},40511:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(89);h.register("curve",function(o,a,r,i,n){return this.displayList.add(new x(this.scene,o,a,r,i,n))})},33141:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(53987),o=t(3170),d.exports={renderWebGL:x,renderCanvas:o}},53987:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),x=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=x(i,n,l),f=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX+i._curveBounds.x,v=i._displayOriginY+i._curveBounds.y,g=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,f,i,g,c,v),i.isStroked&&o(s,i,g,c,v),r.pipelines.postBatch(i)};d.exports=a},19921:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(94811),o=t(54205),a=t(8497),r=t(17803),i=new h({Extends:r,Mixins:[o],initialize:function(l,s,u,f,c,v,g){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),c===void 0&&(c=128),r.call(this,l,"Ellipse",new a(f/2,c/2,f,c)),this._smoothness=64,this.setPosition(s,u),this.width=f,this.height=c,v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),s=0;s<l.length;s++)n.push(l[s].x,l[s].y);return n.push(l[0].x,l[0].y),this.pathIndexes=x(n),this.pathData=n,this}});d.exports=i},7930:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY,c=i.pathData,v=c.length-1,g=c[0]-u,y=c[1]-f;s.beginPath(),s.moveTo(g,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=c[T]-u,A=c[T+1]-f;s.lineTo(E,A)}s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};d.exports=a},1543:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19921),x=t(39429);x.register("ellipse",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},54205:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(19467),o=t(7930),d.exports={renderWebGL:x,renderCanvas:o}},19467:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),x=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=x(i,n,l),f=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,g=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,f,i,g,c,v),i.isStroked&&o(s,i,g,c,v),r.pipelines.postBatch(i)};d.exports=a},30479:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(17803),o=t(26015),a=new h({Extends:x,Mixins:[o],initialize:function(i,n,l,s,u,f,c,v,g,y,T){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=128),u===void 0&&(u=128),f===void 0&&(f=32),c===void 0&&(c=32),x.call(this,i,"Grid",null),this.cellWidth=f,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(s,u),this.setFillStyle(v,g),y!==void 0&&this.setOutlineStyle(y,T),this.updateDisplayOrigin()},setFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=i,this.showOutline=!0),this}});d.exports=a},49912:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=-i._displayOriginX,f=-i._displayOriginY,c=n.alpha*i.alpha,v=i.width,g=i.height,y=i.cellWidth,T=i.cellHeight,E=Math.ceil(v/y),A=Math.ceil(g/T),P=y,w=T,I=y-(E*y-v),O=T-(A*T-g),F=i.showCells,L=i.showAltCells,D=i.showOutline,b=0,U=0,W=0,H=0,Y=0;if(D&&(P--,w--,I===y&&I--,O===T&&O--),F&&i.fillAlpha>0)for(h(s,i),U=0;U<A;U++)for(L&&(W=U%2),b=0;b<E;b++){if(L&&W){W=0;continue}W++,H=b<E-1?P:I,Y=U<A-1?w:O,s.fillRect(u+b*y,f+U*T,H,Y)}if(L&&i.altFillAlpha>0)for(h(s,i,i.altFillColor,i.altFillAlpha*c),U=0;U<A;U++)for(L&&(W=U%2),b=0;b<E;b++){if(L&&!W){W=1;continue}W=0,H=b<E-1?P:I,Y=U<A-1?w:O,s.fillRect(u+b*y,f+U*T,H,Y)}if(D&&i.outlineFillAlpha>0){for(x(s,i,i.outlineFillColor,i.outlineFillAlpha*c),b=1;b<E;b++){var G=b*y;s.beginPath(),s.moveTo(G+u,f),s.lineTo(G+u,g+f),s.stroke()}for(U=1;U<A;U++){var X=U*T;s.beginPath(),s.moveTo(u,X+f),s.lineTo(u+v,X+f),s.stroke()}}s.restore()}};d.exports=a},34137:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(30479);h.register("grid",function(o,a,r,i,n,l,s,u,f,c){return this.displayList.add(new x(this.scene,o,a,r,i,n,l,s,u,f,c))})},26015:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(46161),o=t(49912),d.exports={renderWebGL:x,renderCanvas:o}},46161:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc);u.translate(-r._displayOriginX,-r._displayOriginY);var f=i.alpha*r.alpha,c=r.width,v=r.height,g=r.cellWidth,y=r.cellHeight,T=Math.ceil(c/g),E=Math.ceil(v/y),A=g,P=y,w=g-(T*g-c),I=y-(E*y-v),O,F,L=r.showCells,D=r.showAltCells,b=r.showOutline,U=0,W=0,H=0,Y=0,G=0;if(b&&(A--,P--,w===g&&w--,I===y&&I--),a.pipelines.preBatch(r),L&&r.fillAlpha>0)for(O=l.fillTint,F=x.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*f),O.TL=F,O.TR=F,O.BL=F,O.BR=F,W=0;W<E;W++)for(D&&(H=W%2),U=0;U<T;U++){if(D&&H){H=0;continue}H++,Y=U<T-1?A:w,G=W<E-1?P:I,l.batchFillRect(U*g,W*y,Y,G)}if(D&&r.altFillAlpha>0)for(O=l.fillTint,F=x.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*f),O.TL=F,O.TR=F,O.BL=F,O.BR=F,W=0;W<E;W++)for(D&&(H=W%2),U=0;U<T;U++){if(D&&!H){H=1;continue}H=0,Y=U<T-1?A:w,G=W<E-1?P:I,l.batchFillRect(U*g,W*y,Y,G)}if(b&&r.outlineFillAlpha>0){var X=l.strokeTint,V=x.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*f);for(X.TL=V,X.TR=V,X.BL=V,X.BR=V,U=1;U<T;U++){var B=U*g;l.batchLine(B,0,B,v,1,1,1,0,!1)}for(W=1;W<E;W++){var z=W*y;l.batchLine(0,z,c,z,1,1,1,0,!1)}}a.pipelines.postBatch(r)};d.exports=o},61475:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99651),x=t(83419),o=t(17803),a=new x({Extends:o,Mixins:[h],initialize:function(i,n,l,s,u,f,c,v){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),f===void 0&&(f=15658734),c===void 0&&(c=10066329),v===void 0&&(v=13421772),o.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=c,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,i,n){return r===void 0&&(r=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=i,this.showRight=n,this},setFillStyle:function(r,i,n){return this.fillTop=r,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});d.exports=a},11508:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(x(a,l,r,i,n)&&r.isFilled){var s=r.width,u=r.height,f=s/2,c=s/r.projection;r.showTop&&(h(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-c-u),l.lineTo(f,-u),l.lineTo(f,-1),l.lineTo(0,c-1),l.lineTo(-f,-1),l.lineTo(-f,-u),l.fill()),r.showLeft&&(h(l,r,r.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(-f,-u),l.lineTo(-f,0),l.fill()),r.showRight&&(h(l,r,r.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(f,-u),l.lineTo(f,0),l.fill()),l.restore()}};d.exports=o},3933:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(61475);h.register("isobox",function(o,a,r,i,n,l,s){return this.displayList.add(new x(this.scene,o,a,r,i,n,l,s))})},99651:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(68149),o=t(11508),d.exports={renderWebGL:x,renderCanvas:o}},68149:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc),f=r.width,c=r.height,v=f/2,g=f/r.projection,y=i.alpha*r.alpha;if(r.isFilled){var T,E,A,P,w,I,O,F,L;a.pipelines.preBatch(r),r.showTop&&(T=x.getTintAppendFloatAlpha(r.fillTop,y),E=u.getX(-v,-c),A=u.getY(-v,-c),P=u.getX(0,-g-c),w=u.getY(0,-g-c),I=u.getX(v,-c),O=u.getY(v,-c),F=u.getX(0,g-c),L=u.getY(0,g-c),l.batchQuad(r,E,A,P,w,I,O,F,L,0,0,1,1,T,T,T,T,2)),r.showLeft&&(T=x.getTintAppendFloatAlpha(r.fillLeft,y),E=u.getX(-v,0),A=u.getY(-v,0),P=u.getX(0,g),w=u.getY(0,g),I=u.getX(0,g-c),O=u.getY(0,g-c),F=u.getX(-v,-c),L=u.getY(-v,-c),l.batchQuad(r,E,A,P,w,I,O,F,L,0,0,1,1,T,T,T,T,2)),r.showRight&&(T=x.getTintAppendFloatAlpha(r.fillRight,y),E=u.getX(v,0),A=u.getY(v,0),P=u.getX(0,g),w=u.getY(0,g),I=u.getX(0,g-c),O=u.getY(0,g-c),F=u.getX(v,-c),L=u.getY(v,-c),l.batchQuad(r,E,A,P,w,I,O,F,L,0,0,1,1,T,T,T,T,2)),a.pipelines.postBatch(r)}};d.exports=o},16933:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(60561),o=t(17803),a=new h({Extends:o,Mixins:[x],initialize:function(i,n,l,s,u,f,c,v,g){n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),f===void 0&&(f=!1),c===void 0&&(c=15658734),v===void 0&&(v=10066329),g===void 0&&(g=13421772),o.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=v,this.fillRight=g,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(n,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,i,n){return r===void 0&&(r=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=i,this.showRight=n,this},setFillStyle:function(r,i,n){return this.fillTop=r,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});d.exports=a},79590:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(x(a,l,r,i,n)&&r.isFilled){var s=r.width,u=r.height,f=s/2,c=s/r.projection,v=r.isReversed;r.showTop&&v&&(h(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-c-u),l.lineTo(f,-u),l.lineTo(0,c-u),l.fill()),r.showLeft&&(h(l,r,r.fillLeft),l.beginPath(),v?(l.moveTo(-f,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),r.showRight&&(h(l,r,r.fillRight),l.beginPath(),v?(l.moveTo(f,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),l.restore()}};d.exports=o},49803:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(16933);h.register("isotriangle",function(o,a,r,i,n,l,s,u){return this.displayList.add(new x(this.scene,o,a,r,i,n,l,s,u))})},60561:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(51503),o=t(79590),d.exports={renderWebGL:x,renderCanvas:o}},51503:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n),u=l.calcMatrix.copyFrom(s.calc),f=r.width,c=r.height,v=f/2,g=f/r.projection,y=r.isReversed,T=i.alpha*r.alpha;if(r.isFilled){a.pipelines.preBatch(r);var E,A,P,w,I,O,F;if(r.showTop&&y){E=x.getTintAppendFloatAlpha(r.fillTop,T),A=u.getX(-v,-c),P=u.getY(-v,-c),w=u.getX(0,-g-c),I=u.getY(0,-g-c),O=u.getX(v,-c),F=u.getY(v,-c);var L=u.getX(0,g-c),D=u.getY(0,g-c);l.batchQuad(r,A,P,w,I,O,F,L,D,0,0,1,1,E,E,E,E,2)}r.showLeft&&(E=x.getTintAppendFloatAlpha(r.fillLeft,T),y?(A=u.getX(-v,-c),P=u.getY(-v,-c),w=u.getX(0,g),I=u.getY(0,g),O=u.getX(0,g-c),F=u.getY(0,g-c)):(A=u.getX(-v,0),P=u.getY(-v,0),w=u.getX(0,g),I=u.getY(0,g),O=u.getX(0,g-c),F=u.getY(0,g-c)),l.batchTri(r,A,P,w,I,O,F,0,0,1,1,E,E,E,2)),r.showRight&&(E=x.getTintAppendFloatAlpha(r.fillRight,T),y?(A=u.getX(v,-c),P=u.getY(v,-c),w=u.getX(0,g),I=u.getY(0,g),O=u.getX(0,g-c),F=u.getY(0,g-c)):(A=u.getX(v,0),P=u.getY(v,0),w=u.getX(0,g),I=u.getY(0,g),O=u.getX(0,g-c),F=u.getY(0,g-c)),l.batchTri(r,A,P,w,I,O,F,0,0,1,1,E,E,E,2)),a.pipelines.postBatch(r)}};d.exports=o},57847:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(17803),o=t(23031),a=t(36823),r=new h({Extends:x,Mixins:[a],initialize:function(n,l,s,u,f,c,v,g,y){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=128),v===void 0&&(v=0),x.call(this,n,"Line",new o(u,f,c,v));var T=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,s),this.setSize(T,E),g!==void 0&&this.setStrokeStyle(1,g,y),this.updateDisplayOrigin()},setLineWidth:function(i,n){return n===void 0&&(n=i),this._startWidth=i,this._endWidth=n,this.lineWidth=i,this},setTo:function(i,n,l,s){return this.geom.setTo(i,n,l,s),this}});d.exports=r},17440:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75177),x=t(20926),o=function(a,r,i,n){i.addToRenderList(r);var l=a.currentContext;if(x(a,l,r,i,n)){var s=r._displayOriginX,u=r._displayOriginY;r.isStroked&&(h(l,r),l.beginPath(),l.moveTo(r.geom.x1-s,r.geom.y1-u),l.lineTo(r.geom.x2-s,r.geom.y2-u),l.stroke()),l.restore()}};d.exports=o},2481:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(57847);h.register("line",function(o,a,r,i,n,l,s,u){return this.displayList.add(new x(this.scene,o,a,r,i,n,l,s,u))})},36823:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(77385),o=t(17440),d.exports={renderWebGL:x,renderCanvas:o}},77385:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(70554),o=function(a,r,i,n){i.addToRenderList(r);var l=a.pipelines.set(r.pipeline),s=h(r,i,n);l.calcMatrix.copyFrom(s.calc);var u=r._displayOriginX,f=r._displayOriginY,c=i.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isStroked){var v=l.strokeTint,g=x.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*c);v.TL=g,v.TR=g,v.BL=g,v.BR=g,l.batchLine(r.geom.x1-u,r.geom.y1-f,r.geom.x2-u,r.geom.y2-f,r._startWidth/2,r._endWidth/2,1,0,!1,s.sprite,s.camera)}a.pipelines.postBatch(r)};d.exports=o},24949:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90273),x=t(83419),o=t(94811),a=t(13829),r=t(25717),i=t(17803),n=t(5469),l=new x({Extends:i,Mixins:[h],initialize:function(u,f,c,v,g,y){f===void 0&&(f=0),c===void 0&&(c=0),i.call(this,u,"Polygon",new r(v));var T=a(this.geom);this.setPosition(f,c),this.setSize(T.width,T.height),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var u=0;u<s;u++)n(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var u=a(this.geom);return this.setSize(u.width,u.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],u=this.geom.points,f=0;f<u.length;f++)s.push(u[f].x,u[f].y);return s.push(u[0].x,u[0].y),this.pathIndexes=o(s),this.pathData=s,this}});d.exports=l},38710:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY,c=i.pathData,v=c.length-1,g=c[0]-u,y=c[1]-f;s.beginPath(),s.moveTo(g,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=c[T]-u,A=c[T+1]-f;s.lineTo(E,A)}i.closePath&&s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};d.exports=a},64827:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(24949);h.register("polygon",function(o,a,r,i,n){return this.displayList.add(new x(this.scene,o,a,r,i,n))})},90273:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(73695),o=t(38710),d.exports={renderWebGL:x,renderCanvas:o}},73695:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),x=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=x(i,n,l),f=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,g=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,f,i,g,c,v),i.isStroked&&o(s,i,g,c,v),r.pipelines.postBatch(i)};d.exports=a},74561:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(87841),o=t(17803),a=t(95597),r=new h({Extends:o,Mixins:[a],initialize:function(n,l,s,u,f,c,v){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=128),f===void 0&&(f=128),o.call(this,n,"Rectangle",new x(0,0,u,f)),this.setPosition(l,s),this.setSize(u,f),c!==void 0&&this.setFillStyle(c,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,n){this.width=i,this.height=n,this.geom.setSize(i,n),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=i,l.hitArea.height=n),this},updateData:function(){var i=[],n=this.geom,l=this._tempLine;return n.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),i.push(l.x2,l.y2),n.getLineC(l),i.push(l.x2,l.y2),n.getLineD(l),i.push(l.x2,l.y2),this.pathData=i,this}});d.exports=r},48682:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY;i.isFilled&&(h(s,i),s.fillRect(-u,-f,i.width,i.height)),i.isStroked&&(x(s,i),s.beginPath(),s.rect(-u,-f,i.width,i.height),s.stroke()),s.restore()}};d.exports=a},87959:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(74561);h.register("rectangle",function(o,a,r,i,n,l){return this.displayList.add(new x(this.scene,o,a,r,i,n,l))})},95597:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(52059),o=t(48682),d.exports={renderWebGL:x,renderCanvas:o}},52059:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(34682),o=t(70554),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l);s.calcMatrix.copyFrom(u.calc);var f=i._displayOriginX,c=i._displayOriginY,v=n.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var g=s.fillTint,y=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);g.TL=y,g.TR=y,g.BL=y,g.BR=y,s.batchFillRect(-f,-c,i.width,i.height)}i.isStroked&&x(s,i,v,f,c),r.pipelines.postBatch(i)};d.exports=a},55911:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81991),x=t(83419),o=t(94811),a=t(17803),r=new x({Extends:a,Mixins:[h],initialize:function(n,l,s,u,f,c,v,g){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=5),f===void 0&&(f=32),c===void 0&&(c=64),a.call(this,n,"Star",null),this._points=u,this._innerRadius=f,this._outerRadius=c,this.setPosition(l,s),this.setSize(c*2,c*2),v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],n=this._points,l=this._innerRadius,s=this._outerRadius,u=Math.PI/2*3,f=Math.PI/n,c=s,v=s;i.push(c,v+-s);for(var g=0;g<n;g++)i.push(c+Math.cos(u)*s,v+Math.sin(u)*s),u+=f,i.push(c+Math.cos(u)*l,v+Math.sin(u)*l),u+=f;return i.push(c,v+-s),this.pathIndexes=o(i),this.pathData=i,this}});d.exports=r},64272:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY,c=i.pathData,v=c.length-1,g=c[0]-u,y=c[1]-f;s.beginPath(),s.moveTo(g,y),i.closePath||(v-=2);for(var T=2;T<v;T+=2){var E=c[T]-u,A=c[T+1]-f;s.lineTo(E,A)}s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};d.exports=a},93697:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55911),x=t(39429);x.register("star",function(o,a,r,i,n,l,s){return this.displayList.add(new h(this.scene,o,a,r,i,n,l,s))})},81991:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(57017),o=t(64272),d.exports={renderWebGL:x,renderCanvas:o}},57017:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),x=t(91296),o=t(34682),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=x(i,n,l),f=s.calcMatrix.copyFrom(u.calc),c=i._displayOriginX,v=i._displayOriginY,g=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(s,f,i,g,c,v),i.isStroked&&o(s,i,g,c,v),r.pipelines.postBatch(i)};d.exports=a},36931:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(17803),o=t(16483),a=t(96195),r=new h({Extends:x,Mixins:[a],initialize:function(n,l,s,u,f,c,v,g,y,T,E){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),c===void 0&&(c=64),v===void 0&&(v=0),g===void 0&&(g=128),y===void 0&&(y=128),x.call(this,n,"Triangle",new o(u,f,c,v,g,y));var A=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(l,s),this.setSize(A,P),T!==void 0&&this.setFillStyle(T,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,n,l,s,u,f){return this.geom.setTo(i,n,l,s,u,f),this.updateData()},updateData:function(){var i=[],n=this.geom,l=this._tempLine;return n.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),i.push(l.x2,l.y2),n.getLineC(l),i.push(l.x2,l.y2),this.pathData=i,this}});d.exports=r},85172:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),x=t(75177),o=t(20926),a=function(r,i,n,l){n.addToRenderList(i);var s=r.currentContext;if(o(r,s,i,n,l)){var u=i._displayOriginX,f=i._displayOriginY,c=i.geom.x1-u,v=i.geom.y1-f,g=i.geom.x2-u,y=i.geom.y2-f,T=i.geom.x3-u,E=i.geom.y3-f;s.beginPath(),s.moveTo(c,v),s.lineTo(g,y),s.lineTo(T,E),s.closePath(),i.isFilled&&(h(s,i),s.fill()),i.isStroked&&(x(s,i),s.stroke()),s.restore()}};d.exports=a},45245:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(36931);h.register("triangle",function(o,a,r,i,n,l,s,u,f,c){return this.displayList.add(new x(this.scene,o,a,r,i,n,l,s,u,f,c))})},96195:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(83253),o=t(85172),d.exports={renderWebGL:x,renderCanvas:o}},83253:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=t(34682),o=t(70554),a=function(r,i,n,l){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),u=h(i,n,l);s.calcMatrix.copyFrom(u.calc);var f=i._displayOriginX,c=i._displayOriginY,v=n.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var g=s.fillTint,y=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);g.TL=y,g.TR=y,g.BL=y,g.BR=y;var T=i.geom.x1-f,E=i.geom.y1-c,A=i.geom.x2-f,P=i.geom.y2-c,w=i.geom.x3-f,I=i.geom.y3-c;s.batchFillTriangle(T,E,A,P,w,I,u.sprite,u.camera)}i.isStroked&&x(s,i,v,f,c),r.pipelines.postBatch(i)};d.exports=a},68287:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(83419),o=t(31401),a=t(95643),r=t(92751),i=new x({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,r],initialize:function(l,s,u,f,c){a.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(f,c),this.setPosition(s,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});d.exports=i},76552:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x.addToRenderList(h),t.batchSprite(h,h.frame,x,o)};d.exports=S},15567:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(13059),o=t(44603),a=t(23568),r=t(68287);o.register("sprite",function(i,n){i===void 0&&(i={});var l=a(i,"key",null),s=a(i,"frame",null),u=new r(this.scene,0,0,l,s);return n!==void 0&&(i.add=n),h(this.scene,u,i),x(u,i),u})},46409:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(68287);h.register("sprite",function(o,a,r,i){return this.displayList.add(new x(this.scene,o,a,r,i))})},92751:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(9409),o=t(76552),d.exports={renderWebGL:x,renderCanvas:o}},9409:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x.addToRenderList(h),h.pipeline.batchSprite(h,x,o)};d.exports=S},14220:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=t.canvas,a=t.context,r=t.style,i=[],n=0,l=x.length;r.maxLines>0&&r.maxLines<x.length&&(l=r.maxLines),r.syncFont(o,a);for(var s=t.letterSpacing,u=0;u<l;u++){var f=r.strokeThickness;if(s===0)f+=a.measureText(x[u]).width;else{for(var c=x[u],v=0;v<c.length;v++)f+=a.measureText(c[v]).width;c.length>1&&(f+=s*(c.length-1))}r.wordWrap&&(f-=a.measureText(" ").width),i[u]=Math.ceil(f),n=Math.max(n,i[u])}var g=h.fontSize+r.strokeThickness,y=g*l,T=t.lineSpacing;return l>1&&(y+=T*(l-1)),{width:n,height:y,lines:l,lineWidths:i,lineSpacing:T,lineHeight:g}};d.exports=S},79557:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=function(o){var a=h.create(this),r=a.getContext("2d",{willReadFrequently:!0});o.syncFont(a,r);var i=r.measureText(o.testString);if("actualBoundingBoxAscent"in i){var n=i.actualBoundingBoxAscent,l=i.actualBoundingBoxDescent;return h.remove(a),{ascent:n,descent:l,fontSize:n+l}}var s=Math.ceil(i.width*o.baselineX),u=s,f=2*u;u=u*o.baselineY|0,a.width=s,a.height=f,r.fillStyle="#f00",r.fillRect(0,0,s,f),r.font=o._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o.testString,0,u);var c={ascent:0,descent:0,fontSize:0},v=r.getImageData(0,0,s,f);if(!v)return c.ascent=u,c.descent=u+6,c.fontSize=c.ascent+c.descent,h.remove(a),c;var g=v.data,y=g.length,T=s*4,E,A,P=0,w=!1;for(E=0;E<u;E++){for(A=0;A<T;A+=4)if(g[P+A]!==255){w=!0;break}if(!w)P+=T;else break}for(c.ascent=u-E,P=y-T,w=!1,E=f;E>u;E--){for(A=0;A<T;A+=4)if(g[P+A]!==255){w=!0;break}if(!w)P-=T;else break}return c.descent=E-u,c.fontSize=c.ascent+c.descent,h.remove(a),c};d.exports=x},50171:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),x=t(27919),o=t(83419),a=t(31401),r=t(95643),i=t(14220),n=t(35154),l=t(35846),s=t(61771),u=t(35762),f=t(45650),c=new o({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(g,y,T,E,A){y===void 0&&(y=0),T===void 0&&(T=0),r.call(this,g,"Text"),this.renderer=g.sys.renderer,this.setPosition(y,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new u(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=g.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing),A&&A.letterSpacing&&this.setLetterSpacing(A.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var g=this.style;if(g.wordWrapCallback){var y=g.wordWrapCallback.call(g.wordWrapCallbackScope,v,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return g.wordWrapWidth?g.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,g,y){for(var T="",E=v.replace(/ +/gi," ").split(this.splitRegExp),A=E.length,P=0;P<A;P++){var w=E[P],I="";w=w.replace(/^ *|\s*$/gi,"");var O=w.length*this.letterSpacing,F=g.measureText(w).width+O;if(F<y){T+=w+`
`;continue}for(var L=y,D=w.split(" "),b=0;b<D.length;b++){var U=D[b],W=U+" ",H=W.length*this.letterSpacing,Y=g.measureText(W).width+H;if(console.log(D.length,U),Y>L){if(b===0){for(var G=W;G.length;){G=G.slice(0,-1);var X=G.length*this.letterSpacing;if(Y=g.measureText(G).width+X,Y<=L)break}if(!G.length)throw new Error("wordWrapWidth < a single character");var V=U.substr(G.length);D[b]=V,I+=G}var B=D[b].length?b:b+1,z=D.slice(B).join(" ").replace(/[ \n]*$/gi,"");E.splice(P+1,0,z),A=E.length;break}else I+=W,L-=Y}T+=I.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(v,g,y){for(var T="",E=v.split(this.splitRegExp),A=E.length-1,P=g.measureText(" ").width,w=0;w<=A;w++){for(var I=y,O=E[w].split(" "),F=O.length-1,L=0;L<=F;L++){var D=O[L],b=D.length*this.letterSpacing,U=g.measureText(D).width+b,W=U;L<F&&(W+=P),W>I&&L>0&&(T+=`
`,I=y),T+=D,L<F?(T+=" ",I-=W):I-=U}w<A&&(T+=`
`)}return T},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var g=this.runWordWrap(v);return g.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,g){g===void 0&&(g=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var y=this._text.concat(g?`
`+v:v);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,g){return this.style.setFixedSize(v,g)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,g){return this.style.setStroke(v,g)},setShadow:function(v,g,y,T,E,A){return this.style.setShadow(v,g,y,T,E,A)},setShadowOffset:function(v,g){return this.style.setShadowOffset(v,g)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,g){return this.style.setWordWrapWidth(v,g)},setWordWrapCallback:function(v,g){return this.style.setWordWrapCallback(v,g)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,g,y,T){if(typeof v=="object"){var E=v,A=n(E,"x",null);A!==null?(v=A,y=A):(v=n(E,"left",0),y=n(E,"right",v));var P=n(E,"y",null);P!==null?(g=P,T=P):(g=n(E,"top",0),T=n(E,"bottom",g))}else v===void 0&&(v=0),g===void 0&&(g=v),y===void 0&&(y=v),T===void 0&&(T=g);return this.padding.left=v,this.padding.top=g,this.padding.right=y,this.padding.bottom=T,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var g=this.style;return g.rtl===v?this:(g.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),g.align==="left"?g.align="right":g.align==="right"&&(g.align="left"),this)},updateText:function(){var v=this.canvas,g=this.context,y=this.style,T=y.resolution,E=y.metrics;y.syncFont(v,g);var A=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(A=this.runWordWrap(this._text));var P=A.split(this.splitRegExp),w=i(this,E,P),I=this.padding,O;y.fixedWidth===0?(this.width=w.width+I.left+I.right,O=w.width):(this.width=y.fixedWidth,O=this.width-I.left-I.right,O<w.width&&(O=w.width)),y.fixedHeight===0?this.height=w.height+I.top+I.bottom:this.height=y.fixedHeight;var F=this.width,L=this.height;this.updateDisplayOrigin(),F*=T,L*=T,F=Math.max(F,1),L=Math.max(L,1),v.width!==F||v.height!==L?(v.width=F,v.height=L,this.frame.setSize(F,L),y.syncFont(v,g),y.rtl&&(g.direction="rtl")):g.clearRect(0,0,F,L),g.save(),g.scale(T,T),y.backgroundColor&&(g.fillStyle=y.backgroundColor,g.fillRect(0,0,F,L)),y.syncStyle(v,g),g.translate(I.left,I.top);for(var D,b,U=0;U<w.lines;U++){if(D=y.strokeThickness/2,b=y.strokeThickness/2+U*w.lineHeight+E.ascent,U>0&&(b+=w.lineSpacing*U),y.rtl)D=F-D-I.left-I.right;else if(y.align==="right")D+=O-w.lineWidths[U];else if(y.align==="center")D+=(O-w.lineWidths[U])/2;else if(y.align==="justify"){var W=.85;if(w.lineWidths[U]/w.width>=W){var H=w.width-w.lineWidths[U],Y=g.measureText(" ").width,G=P[U].trim(),X=G.split(" ");H+=(P[U].length-G.length)*Y;for(var V=Math.floor(H/Y),B=0;V>0;)X[B]+=" ",B=(B+1)%(X.length-1||1),--V;P[U]=X.join(" ")}}this.autoRound&&(D=Math.round(D),b=Math.round(b));var z=this.letterSpacing;if(y.strokeThickness&&z===0&&(y.syncShadow(g,y.shadowStroke),g.strokeText(P[U],D,b)),y.color)if(y.syncShadow(g,y.shadowFill),z!==0)for(var $=0,j=P[U].split(""),k=0;k<j.length;k++)y.strokeThickness&&(y.syncShadow(g,y.shadowStroke),g.strokeText(j[k],D+$,b),y.syncShadow(g,y.shadowFill)),g.fillText(j[k],D+$,b),$+=g.measureText(j[k]).width+z;else g.fillText(P[U],D,b)}g.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var q=this.input;return q&&!q.customHitArea&&(q.hitArea.width=this.width,q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=a.ToJSON(this),g={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=g,v},preDestroy:function(){l(this.canvas),x.remove(this.canvas);var v=this.texture;v&&v.destroy()}});d.exports=c},79724:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){h.width===0||h.height===0||(x.addToRenderList(h),t.batchSprite(h,h.frame,x,o))};d.exports=S},71259:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(50171);x.register("text",function(r,i){r===void 0&&(r={});var n=o(r,"text",""),l=o(r,"style",null),s=o(r,"padding",null);s!==null&&(l.padding=s);var u=new a(this.scene,0,0,n,l);return i!==void 0&&(r.add=i),h(this.scene,u,r),u.autoRound=o(r,"autoRound",!0),u.resolution=o(r,"resolution",1),u})},68005:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50171),x=t(39429);x.register("text",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},61771:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(34397),o=t(79724),d.exports={renderWebGL:x,renderCanvas:o}},35762:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23568),o=t(35154),a=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new h({initialize:function(l,s){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(n,l,s){l===void 0&&(l=!0),s===void 0&&(s=!1);for(var u in r){var f=s?r[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=o(n,r[u][0],f):n&&u==="fontSize"&&typeof n.fontSize=="number"?this[u]=n.fontSize.toString()+"px":this[u]=x(n,r[u][0],f)}var c=o(n,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=o(n,"fill",null);v!==null&&(this.color=v);var g=o(n,"metrics",!1);return g?this.metrics={ascent:o(g,"ascent",0),descent:o(g,"descent",0),fontSize:o(g,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=a(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var s=n,u="",f="";if(typeof n!="string")s=o(n,"fontFamily","Courier"),u=o(n,"fontSize","16px"),f=o(n,"fontStyle","");else{var c=n.split(" "),v=0;f=c.length>2?c[v++]:"",u=c[v++]||"16px",s=c[v++]||"Courier"}return(s!==this.fontFamily||u!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=u,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,s,u,f,c){return n===void 0&&(n=0),l===void 0&&(l=0),s===void 0&&(s="#000"),u===void 0&&(u=0),f===void 0&&(f=!1),c===void 0&&(c=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=s,this.shadowBlur=u,this.shadowStroke=f,this.shadowFill=c,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});d.exports=i},34397:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,a,r,i){if(!(a.width===0||a.height===0)){r.addToRenderList(a);var n=a.frame,l=n.width,s=n.height,u=h.getTintAppendFloatAlpha,f=o.pipelines.set(a.pipeline,a),c=f.setTexture2D(n.glTexture,a);f.batchTexture(a,n.glTexture,l,s,a.x,a.y,l/a.style.resolution,s/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,l,s,u(a.tintTopLeft,r.alpha*a._alphaTL),u(a.tintTopRight,r.alpha*a._alphaTR),u(a.tintBottomLeft,r.alpha*a._alphaBL),u(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,0,0,r,i,!1,c)}};d.exports=x},20839:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(83419),o=t(31401),a=t(95643),r=t(98439),i=t(68703),n=t(56295),l=t(45650),s=t(26099),u=8,f=new x({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(v,g,y,T,E,A,P){var w=v.sys.renderer;a.call(this,v,"TileSprite");var I=v.sys.textures.get(A),O=I.get(P);O.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),I=v.sys.textures.get("__MISSING"),O=I.get()),I.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),I=v.sys.textures.get("__MISSING"),O=I.get()),!T||!E?(T=T||O.width,E=E||O.height):(T=Math.floor(T),E=Math.floor(E)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=w,this.canvas=h.create(this,T,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=I,this.displayFrame=O,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(O.width),this.potHeight=r(O.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(g,y),this.setSize(T,E),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(c,v){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(v)},setFrame:function(c){var v=this.displayTexture.get(c);return this.potWidth=r(v.width),this.potHeight=r(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=-9:this.renderFlags|=u,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,v){return c!==void 0&&(this.tilePositionX=c),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(c,v){return c===void 0&&(c=this.tileScaleX),v===void 0&&(v=c),this.tileScaleX=c,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,g=this.fillCanvas,y=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=c.cutWidth,T=c.cutHeight),v.clearRect(0,0,y,T),g.width=y,g.height=T,v.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,y,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(g,this.fillPattern):this.fillPattern=v.createPattern(g,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||i.disable(v);var g=this._tileScale.x,y=this._tileScale.y,T=this._tilePosition.x,E=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(g,y),v.translate(-T,-E),v.fillStyle=this.fillPattern,v.fillRect(T,E,this.width/g,this.height/y),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var c=this.texture;c&&c.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});d.exports=f},46992:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){h.updateCanvas(),x.addToRenderList(h),t.batchSprite(h,h.frame,x,o)};d.exports=S},14167:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(20839);x.register("tileSprite",function(r,i){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),s=o(r,"width",512),u=o(r,"height",512),f=o(r,"key",""),c=o(r,"frame",""),v=new a(this.scene,n,l,s,u,f,c);return i!==void 0&&(r.add=i),h(this.scene,v,r),v})},91681:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20839),x=t(39429);x.register("tileSprite",function(o,a,r,i,n,l){return this.displayList.add(new h(this.scene,o,a,r,i,n,l))})},56295:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(18553),o=t(46992),d.exports={renderWebGL:x,renderCanvas:o}},18553:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,a,r,i){a.updateCanvas();var n=a.width,l=a.height;if(!(n===0||l===0)){r.addToRenderList(a);var s=h.getTintAppendFloatAlpha,u=o.pipelines.set(a.pipeline,a),f=u.setTexture2D(a.fillPattern,a);u.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,n,l,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*n,a.originY*l,0,0,n,l,s(a.tintTopLeft,r.alpha*a._alphaTL),s(a.tintTopRight,r.alpha*a._alphaTR),s(a.tintBottomLeft,r.alpha*a._alphaBL),s(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,r,i,!1,f)}};d.exports=x},18471:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(31401),a=t(51708),r=t(8443),i=t(95643),n=t(36383),l=t(14463),s=t(45650),u=t(10247),f=new x({Extends:i,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,u],initialize:function(v,g,y,T){i.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var E=v.sys.game;this._device=E.device.video,this.setPosition(g,y),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(r.PAUSE,this.globalPause,this),E.events.on(r.RESUME,this.globalResume,this);var A=v.sys.sound;A&&A.on(l.GLOBAL_MUTE,this.globalMute,this),T&&this.load(T)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var v=this.scene.sys.cache.video.get(c);return v?(this.cacheKey=c,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,v,g,y,T){v===void 0&&(v=!0),g===void 0&&(g=!1),this.cacheKey!==c&&(this.load(c),v&&this.play(g,y,T))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,v,g){v===void 0&&(v=!1);var y=this._device.getVideoURL(c);return y?(this.cacheKey="",this.loadHandler(y.url,v,g)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,v,g){return this.loadHandler(null,v,g,c)},loadHandler:function(c,v,g,y){v||(v=!1);var T=this.video;if(T?(this.removeLoadEventHandlers(),this.stop()):(T=document.createElement("video"),T.controls=!1,T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.setAttribute("disablePictureInPicture","true")),v?(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")):(T.muted=!1,T.defaultMuted=!1,T.removeAttribute("autoplay")),g?T.setAttribute("crossorigin",g):T.removeAttribute("crossorigin"),y)if("srcObject"in T)try{T.srcObject=y}catch(A){if(A.name!=="TypeError")throw A;T.src=URL.createObjectURL(y)}else T.src=URL.createObjectURL(y);else T.src=c;this.retry=0,this.video=T,this._playCalled=!1,T.load(),this.addLoadEventHandlers();var E=this.scene.sys.textures.get(this._key);return this.setTexture(E),this},requestVideoFrame:function(c,v){var g=this.video;if(g){var y=v.width,T=v.height,E=this.videoTexture,A=this.videoTextureSource,P=!E||A.source!==g;P?(this._codePaused=g.paused,this._codeMuted=g.muted,E?(A.source=g,A.width=y,A.height=T,E.get().setSize(y,T)):(E=this.scene.sys.textures.create(this._key,g,y,T),E.add("__BASE",0,0,0,y,T),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=v;var w=v.mediaTime;P&&(this._lastUpdate=w,this.emit(a.VIDEO_CREATED,this,y,T),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(g.loop?(g.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=w,this._getFrame?(this.removeEventHandlers(),g.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,v,g){v===void 0&&(v=-1),g===void 0&&(g=n.MAX_SAFE_INTEGER);var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(c===void 0&&(c=y.loop),y.loop=c,this._markerIn=v,this._markerOut=g,this._playingMarker=v>-1&&g>v&&g<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var c=this.video;return!c||this.isPlaying()?(c||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=c.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler),c.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var v=this._callbacks;for(var g in v)c.addEventListener(g,v[g])}},removeEventHandlers:function(){var c=this.video;if(c){var v=this._callbacks;for(var g in v)c.removeEventListener(g,v[g])}},createPlayPromise:function(c){c===void 0&&(c=!0);var v=this.video,g=v.play();if(g!==void 0){var y=this.playSuccess.bind(this),T=this.playError.bind(this);if(!c){var E=this;T=function(){E.failedPlayAttempts++}}g.then(y).catch(T)}else v.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,v,g){return!isNaN(v)&&v>=0&&!isNaN(g)&&g>v&&(this.markers[c]=[v,g]),this},playMarker:function(c,v){var g=this.markers[c];return g&&this.play(v,g[0],g[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,v){return c===void 0&&(c=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,c,v)},snapshotArea:function(c,v,g,y,T,E){c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height),T===void 0&&(T=g),E===void 0&&(E=y);var A=this.video,P=this.snapshotTexture;return P?(P.setSize(T,E),A&&P.context.drawImage(A,c,v,g,y,0,0,T,E)):(P=this.scene.sys.textures.createCanvas(s(),T,E),this.snapshotTexture=P,A&&P.context.drawImage(A,c,v,g,y,0,0,T,E)),P.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var v=c.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(a.VIDEO_ERROR,this,c)},metadataHandler:function(c){this.emit(a.VIDEO_METADATA,this,c)},setSizeToFrame:function(c){c||(c=this.frame),this.width=c.realWidth,this.height=c.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(c){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(c,v){var g=this.video;!g||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var v=this.video;if(v){var g=v.duration;if(g!==1/0&&!isNaN(g)){var y=g*c;this.setCurrentTime(y)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var v=this.video;if(v){if(typeof c=="string"){var g=c[0],y=parseFloat(c.substr(1));g==="+"?c=v.currentTime+y:g==="-"&&(c=v.currentTime-y)}v.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var v=c.duration;if(v!==1/0&&!isNaN(v))return c.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var v=this.video;return v&&(v.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,v){this._systemMuted=v;var g=this.video;g&&(g.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var v=this.video;return this._codePaused=c,v&&!v.ended&&(c?v.paused||(this.removeEventHandlers(),v.pause()):c||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=h(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(v)),this._key=c,this.flipY=v,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(r.PAUSE,this.globalPause,this),c.off(r.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(l.GLOBAL_MUTE,this.globalMute,this)}});d.exports=f},58352:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){h.videoTexture&&(x.addToRenderList(h),t.batchSprite(h,h.frame,x,o))};d.exports=S},11511:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),x=t(44603),o=t(23568),a=t(18471);x.register("video",function(r,i){r===void 0&&(r={});var n=o(r,"key",null),l=new a(this.scene,0,0,n);return i!==void 0&&(r.add=i),h(this.scene,l,r),l})},89025:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18471),x=t(39429);x.register("video",function(o,a,r){return this.displayList.add(new h(this.scene,o,a,r))})},10247:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(29849),o=t(58352),d.exports={renderWebGL:x,renderCanvas:o}},29849:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){h.videoTexture&&(x.addToRenderList(h),h.pipeline.batchSprite(h,x,o))};d.exports=S},41481:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(96503),o=t(87902),a=t(83419),r=t(31401),i=t(95643),n=t(87841),l=t(37303),s=new a({Extends:i,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(f,c,v,g,y){g===void 0&&(g=1),y===void 0&&(y=g),i.call(this,f,"Zone"),this.setPosition(c,v),this.width=g,this.height=y,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,f,c){c===void 0&&(c=!0),this.width=u,this.height=f,this.updateDisplayOrigin();var v=this.input;return c&&v&&!v.customHitArea&&(v.hitArea.width=u,v.hitArea.height=f),this},setDisplaySize:function(u,f){return this.displayWidth=u,this.displayHeight=f,this},setCircleDropZone:function(u){return this.setDropZone(new x(0,0,u),o)},setRectangleDropZone:function(u,f){return this.setDropZone(new n(0,0,u,f),l)},setDropZone:function(u,f){return this.input||this.setInteractive(u,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,f,c){c.addToRenderList(f)},renderWebGL:function(u,f,c){c.addToRenderList(f)}});d.exports=s},95261:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),x=t(23568),o=t(41481);h.register("zone",function(a){var r=x(a,"x",0),i=x(a,"y",0),n=x(a,"width",1),l=x(a,"height",n);return new o(this.scene,r,i,n,l)})},84175:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41481),x=t(39429);x.register("zone",function(o,a,r,i){return this.displayList.add(new h(this.scene,o,a,r,i))})},95166:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};d.exports=S},96503:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(87902),o=t(26241),a=t(79124),r=t(23777),i=t(28176),n=new h({initialize:function(s,u,f){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=r.CIRCLE,this.x=s,this.y=u,this._radius=f,this._diameter=f*2},contains:function(l,s){return x(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u){return this.x=l,this.y=s,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});d.exports=n},71562:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};d.exports=S},92110:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a,r){return r===void 0&&(r=new h),r.x=o.x+o.radius*Math.cos(a),r.y=o.y+o.radius*Math.sin(a),r};d.exports=x},42250:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),x=function(o){return new h(o.x,o.y,o.radius)};d.exports=x},87902:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(t.radius>0&&h>=t.left&&h<=t.right&&x>=t.top&&x<=t.bottom){var o=(t.x-h)*(t.x-h),a=(t.y-x)*(t.y-x);return o+a<=t.radius*t.radius}else return!1};d.exports=S},5698:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),x=function(o,a){return h(o,a.x,a.y)};d.exports=x},70588:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),x=function(o,a){return h(o,a.x,a.y)&&h(o,a.right,a.y)&&h(o,a.x,a.bottom)&&h(o,a.right,a.bottom)};d.exports=x},26394:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.radius)};d.exports=S},76278:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};d.exports=S},2074:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,a){return a===void 0&&(a=new h),a.x=o.left,a.y=o.top,a.width=o.diameter,a.height=o.diameter,a};d.exports=x},26241:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92110),x=t(62945),o=t(36383),a=t(2141),r=function(i,n,l){l===void 0&&(l=new a);var s=x(n,0,o.PI2);return h(i,s,l)};d.exports=r},79124:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71562),x=t(92110),o=t(62945),a=t(36383),r=function(i,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(i)/l);for(var u=0;u<n;u++){var f=o(u/n,0,a.PI2);s.push(x(i,f))}return s};d.exports=r},50884:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t.x+=h,t.y+=x,t};d.exports=S},39212:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};d.exports=S},28176:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){a===void 0&&(a=new h);var r=2*Math.PI*Math.random(),i=Math.random()+Math.random(),n=i>1?2-i:i,l=n*Math.cos(r),s=n*Math.sin(r);return a.x=o.x+l*o.radius,a.y=o.y+s*o.radius,a};d.exports=x},88911:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503);h.Area=t(95166),h.Circumference=t(71562),h.CircumferencePoint=t(92110),h.Clone=t(42250),h.Contains=t(87902),h.ContainsPoint=t(5698),h.ContainsRect=t(70588),h.CopyFrom=t(26394),h.Equals=t(76278),h.GetBounds=t(2074),h.GetPoint=t(26241),h.GetPoints=t(79124),h.Offset=t(50884),h.OffsetPoint=t(39212),h.Random=t(28176),d.exports=h},23777:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};d.exports=S},78874:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};d.exports=S},92990:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.width/2,x=t.height/2,o=Math.pow(h-x,2)/Math.pow(h+x,2);return Math.PI*(h+x)*(1+3*o/(10+Math.sqrt(4-3*o)))};d.exports=S},79522:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a,r){r===void 0&&(r=new h);var i=o.width/2,n=o.height/2;return r.x=o.x+i*Math.cos(a),r.y=o.y+n*Math.sin(a),r};d.exports=x},58102:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497),x=function(o){return new h(o.x,o.y,o.width,o.height)};d.exports=x},81154:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(t.width<=0||t.height<=0)return!1;var o=(h-t.x)/t.width,a=(x-t.y)/t.height;return o*=o,a*=a,o+a<.25};d.exports=S},46662:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),x=function(o,a){return h(o,a.x,a.y)};d.exports=x},1632:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),x=function(o,a){return h(o,a.x,a.y)&&h(o,a.right,a.y)&&h(o,a.x,a.bottom)&&h(o,a.right,a.bottom)};d.exports=x},65534:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};d.exports=S},8497:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(81154),o=t(90549),a=t(48320),r=t(23777),i=t(24820),n=new h({initialize:function(s,u,f,c){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=r.ELLIPSE,this.x=s,this.y=u,this.width=f,this.height=c},contains:function(l,s){return x(this,l,s)},getPoint:function(l,s){return o(this,l,s)},getPoints:function(l,s,u){return a(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u,f){return this.x=l,this.y=s,this.width=u,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},setSize:function(l,s){return s===void 0&&(s=l),this.width=l,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});d.exports=n},36146:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};d.exports=S},23694:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,a){return a===void 0&&(a=new h),a.x=o.left,a.y=o.top,a.width=o.width,a.height=o.height,a};d.exports=x},90549:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79522),x=t(62945),o=t(36383),a=t(2141),r=function(i,n,l){l===void 0&&(l=new a);var s=x(n,0,o.PI2);return h(i,s,l)};d.exports=r},48320:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92990),x=t(79522),o=t(62945),a=t(36383),r=function(i,n,l,s){s===void 0&&(s=[]),!n&&l>0&&(n=h(i)/l);for(var u=0;u<n;u++){var f=o(u/n,0,a.PI2);s.push(x(i,f))}return s};d.exports=r},73424:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t.x+=h,t.y+=x,t};d.exports=S},44808:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};d.exports=S},24820:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){a===void 0&&(a=new h);var r=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=o.x+i*Math.cos(r)*o.width/2,a.y=o.y+i*Math.sin(r)*o.height/2,a};d.exports=x},49203:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497);h.Area=t(78874),h.Circumference=t(92990),h.CircumferencePoint=t(79522),h.Clone=t(58102),h.Contains=t(81154),h.ContainsPoint=t(46662),h.ContainsRect=t(1632),h.CopyFrom=t(65534),h.Equals=t(36146),h.GetBounds=t(23694),h.GetPoint=t(90549),h.GetPoints=t(48320),h.Offset=t(73424),h.OffsetPoint=t(44808),h.Random=t(24820),d.exports=h},55738:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23777),x=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=x(!1,o,h),d.exports=o},2044:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20339),x=function(o,a){return h(o.x,o.y,a.x,a.y)<=o.radius+a.radius};d.exports=x},81491:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=h.width/2,o=h.height/2,a=Math.abs(t.x-h.x-x),r=Math.abs(t.y-h.y-o),i=x+t.radius,n=o+t.radius;if(a>i||r>n)return!1;if(a<=x||r<=o)return!0;var l=a-x,s=r-o,u=l*l,f=s*s,c=t.radius*t.radius;return u+f<=c};d.exports=S},63376:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(2044),o=function(a,r,i){if(i===void 0&&(i=[]),x(a,r)){var n=a.x,l=a.y,s=a.radius,u=r.x,f=r.y,c=r.radius,v,g,y,T,E;if(l===f)E=(c*c-s*s-u*u+n*n)/(2*(n-u)),v=1,g=-2*f,y=u*u+E*E-2*u*E+f*f-c*c,T=g*g-4*v*y,T===0?i.push(new h(E,-g/(2*v))):T>0&&(i.push(new h(E,(-g+Math.sqrt(T))/(2*v))),i.push(new h(E,(-g-Math.sqrt(T))/(2*v))));else{var A=(n-u)/(l-f),P=(c*c-s*s-u*u+n*n-f*f+l*l)/(2*(l-f));v=A*A+1,g=2*l*A-2*P*A-2*n,y=n*n+l*l+P*P-s*s-2*l*P,T=g*g-4*v*y,T===0?(E=-g/(2*v),i.push(new h(E,P-E*A))):T>0&&(E=(-g+Math.sqrt(T))/(2*v),i.push(new h(E,P-E*A)),E=(-g-Math.sqrt(T))/(2*v),i.push(new h(E,P-E*A)))}}return i};d.exports=o},97439:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),x=t(81491),o=function(a,r,i){if(i===void 0&&(i=[]),x(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=r.getLineD();h(n,a,i),h(l,a,i),h(s,a,i),h(u,a,i)}return i};d.exports=o},4042:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(80462),o=function(a,r,i){if(i===void 0&&(i=[]),x(a,r)){var n=a.x1,l=a.y1,s=a.x2,u=a.y2,f=r.x,c=r.y,v=r.radius,g=s-n,y=u-l,T=n-f,E=l-c,A=g*g+y*y,P=2*(g*T+y*E),w=T*T+E*E-v*v,I=P*P-4*A*w,O,F;if(I===0){var L=-P/(2*A);O=n+L*g,F=l+L*y,L>=0&&L<=1&&i.push(new h(O,F))}else if(I>0){var D=(-P-Math.sqrt(I))/(2*A);O=n+D*g,F=l+D*y,D>=0&&D<=1&&i.push(new h(O,F));var b=(-P+Math.sqrt(I))/(2*A);O=n+b*g,F=l+b*y,b>=0&&b<=1&&i.push(new h(O,F))}}return i};d.exports=o},36100:(d,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),x=function(o,a,r,i){r===void 0&&(r=!1);var n=o.x1,l=o.y1,s=o.x2,u=o.y2,f=a.x1,c=a.y1,v=a.x2,g=a.y2,y=s-n,T=u-l,E=v-f,A=g-c,P=y*A-T*E;if(P===0)return null;var w,I,O;if(r){if(w=(y*(c-l)+T*(n-f))/(E*T-A*y),y!==0)I=(f+E*w-n)/y;else if(T!==0)I=(c+A*w-l)/T;else return null;if(I<0||w<0||w>1)return null;O=I}else{if(w=((f-n)*A-(c-l)*E)/P,I=((l-c)*y-(n-f)*T)/P,w<0||w>1||I<0||I>1)return null;O=w}return i===void 0&&(i=new h),i.set(n+y*O,l+T*O,O)};d.exports=x},3073:(d,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36100),x=t(23031),o=t(25836),a=new x,r=new o,i=function(n,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=new o);var f=!1;u.set(),r.set();for(var c=l[l.length-1],v=0;v<l.length;v++){var g=l[v];a.setTo(c.x,c.y,g.x,g.y),c=g,h(n,a,s,r)&&(!f||r.z<u.z)&&(u.copy(r),f=!0)}return f?u:null};d.exports=i},56362:(d,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),x=t(61369),o=t(3073),a=new h,r=function(i,n,l,s){s===void 0&&(s=new x),Array.isArray(n)||(n=[n]);var u=!1;s.set(),a.set();for(var f=0;f<n.length;f++)o(i,n[f].points,l,a)&&(!u||a.z<s.z)&&(s.set(a.x,a.y,a.z,f),u=!0);return u?s:null};d.exports=r},60646:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(76112),o=t(92773),a=function(r,i,n){if(n===void 0&&(n=[]),o(r,i))for(var l=i.getLineA(),s=i.getLineB(),u=i.getLineC(),f=i.getLineD(),c=[new h,new h,new h,new h],v=[x(l,r,c[0]),x(s,r,c[1]),x(u,r,c[2]),x(f,r,c[3])],g=0;g<4;g++)v[g]&&n.push(c[g]);return n};d.exports=a},71147:(d,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61369),x=t(56362),o=t(23031),a=new o;function r(l,s,u,f,c){var v=Math.cos(l),g=Math.sin(l);a.setTo(s,u,s+v,u+g);var y=x(a,f,!0);y&&c.push(new h(y.x,y.y,l,y.w))}function i(l,s){return l.z-s.z}var n=function(l,s,u){Array.isArray(u)||(u=[u]);for(var f=[],c=[],v=0;v<u.length;v++)for(var g=u[v].points,y=0;y<g.length;y++){var T=Math.atan2(g[y].y-s,g[y].x-l);c.indexOf(T)===-1&&(r(T,l,s,u,f),r(T-1e-5,l,s,u,f),r(T+1e-5,l,s,u,f),c.push(T))}return f.sort(i)};d.exports=n},68389:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(59996),o=function(a,r,i){return i===void 0&&(i=new h),x(a,r)&&(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y),i};d.exports=o},52784:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60646),x=t(59996),o=function(a,r,i){if(i===void 0&&(i=[]),x(a,r)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC(),u=a.getLineD();h(n,r,i),h(l,r,i),h(s,r,i),h(u,r,i)}return i};d.exports=o},26341:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89265),x=t(60646),o=function(a,r,i){if(i===void 0&&(i=[]),h(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();x(n,a,i),x(l,a,i),x(s,a,i)}return i};d.exports=o},38720:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),x=t(67636),o=function(a,r,i){if(i===void 0&&(i=[]),x(a,r)){var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();h(n,r,i),h(l,r,i),h(s,r,i)}return i};d.exports=o},13882:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(2822),o=t(76112),a=function(r,i,n){if(n===void 0&&(n=[]),x(r,i))for(var l=r.getLineA(),s=r.getLineB(),u=r.getLineC(),f=[new h,new h,new h],c=[o(l,i,f[0]),o(s,i,f[1]),o(u,i,f[2])],v=0;v<3;v++)c[v]&&n.push(f[v]);return n};d.exports=a},75636:(d,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82944),x=t(13882),o=function(a,r,i){if(i===void 0&&(i=[]),h(a,r)){var n=r.getLineA(),l=r.getLineB(),s=r.getLineC();x(a,n,i),x(a,l,i),x(a,s,i)}return i};d.exports=o},80462:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),x=t(2141),o=new x,a=function(r,i,n){if(n===void 0&&(n=o),h(i,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(h(i,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,s=r.y2-r.y1,u=i.x-r.x1,f=i.y-r.y1,c=l*l+s*s,v=l,g=s;if(c>0){var y=(u*l+f*s)/c;v*=y,g*=y}n.x=r.x1+v,n.y=r.y1+g;var T=v*v+g*g;return T<=c&&v*l+g*s>=0&&h(i,n.x,n.y)};d.exports=a},76112:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=t.x1,a=t.y1,r=t.x2,i=t.y2,n=h.x1,l=h.y1,s=h.x2,u=h.y2;if(o===r&&a===i||n===s&&l===u)return!1;var f=(u-l)*(r-o)-(s-n)*(i-a);if(f===0)return!1;var c=((s-n)*(a-l)-(u-l)*(o-n))/f,v=((r-o)*(a-l)-(i-a)*(o-n))/f;return c<0||c>1||v<0||v>1?!1:(x&&(x.x=o+c*(r-o),x.y=a+c*(i-a)),!0)};d.exports=S},92773:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.x1,o=t.y1,a=t.x2,r=t.y2,i=h.x,n=h.y,l=h.right,s=h.bottom,u=0;if(x>=i&&x<=l&&o>=n&&o<=s||a>=i&&a<=l&&r>=n&&r<=s)return!0;if(x<i&&a>=i){if(u=o+(r-o)*(i-x)/(a-x),u>n&&u<=s)return!0}else if(x>l&&a<=l&&(u=o+(r-o)*(l-x)/(a-x),u>=n&&u<=s))return!0;if(o<n&&r>=n){if(u=x+(a-x)*(n-o)/(r-o),u>=i&&u<=l)return!0}else if(o>s&&r<=s&&(u=x+(a-x)*(s-o)/(r-o),u>=i&&u<=l))return!0;return!1};d.exports=S},16204:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){x===void 0&&(x=1);var o=h.x1,a=h.y1,r=h.x2,i=h.y2,n=t.x,l=t.y,s=(r-o)*(r-o)+(i-a)*(i-a);if(s===0)return!1;var u=((n-o)*(r-o)+(l-a)*(i-a))/s;if(u<0)return Math.sqrt((o-n)*(o-n)+(a-l)*(a-l))<=x;if(u>=0&&u<=1){var f=((a-l)*(r-o)-(o-n)*(i-a))/s;return Math.abs(f)*Math.sqrt(s)<=x}else return Math.sqrt((r-n)*(r-n)+(i-l)*(i-l))<=x};d.exports=S},14199:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16204),x=function(o,a){if(!h(o,a))return!1;var r=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),n=Math.min(a.y1,a.y2),l=Math.max(a.y1,a.y2);return o.x>=r&&o.x<=i&&o.y>=n&&o.y<=l};d.exports=x},59996:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};d.exports=S},89265:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),x=t(37303),o=t(48653),a=t(77493),r=function(i,n){if(n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top)return!1;var l=n.getLineA(),s=n.getLineB(),u=n.getLineC();if(x(i,l.x1,l.y1)||x(i,l.x2,l.y2)||x(i,s.x1,s.y1)||x(i,s.x2,s.y2)||x(i,u.x1,u.y1)||x(i,u.x2,u.y2))return!0;var f=i.getLineA(),c=i.getLineB(),v=i.getLineC(),g=i.getLineD();if(h(l,f)||h(l,c)||h(l,v)||h(l,g)||h(s,f)||h(s,c)||h(s,v)||h(s,g)||h(u,f)||h(u,c)||h(u,v)||h(u,g))return!0;var y=a(i),T=o(n,y,!0);return T.length>0};d.exports=r},84411:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a,r){return r===void 0&&(r=0),!(h>t.right+r||x<t.left-r||o>t.bottom+r||a<t.top-r)};d.exports=S},67636:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80462),x=t(10690),o=function(a,r){return a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top?!1:!!(x(a,r.x,r.y)||h(a.getLineA(),r)||h(a.getLineB(),r)||h(a.getLineC(),r))};d.exports=o},2822:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),x=function(o,a){return!!(o.contains(a.x1,a.y1)||o.contains(a.x2,a.y2)||h(o.getLineA(),a)||h(o.getLineB(),a)||h(o.getLineC(),a))};d.exports=x},82944:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48653),x=t(71694),o=t(76112),a=function(r,i){if(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)return!1;var n=r.getLineA(),l=r.getLineB(),s=r.getLineC(),u=i.getLineA(),f=i.getLineB(),c=i.getLineC();if(o(n,u)||o(n,f)||o(n,c)||o(l,u)||o(l,f)||o(l,c)||o(s,u)||o(s,f)||o(s,c))return!0;var v=x(r),g=h(i,v,!0);return g.length>0||(v=x(i),g=h(r,v,!0),g.length>0)};d.exports=a},91865:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};d.exports=S},84993:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){h===void 0&&(h=1),x===void 0&&(x=[]);var o=Math.round(t.x1),a=Math.round(t.y1),r=Math.round(t.x2),i=Math.round(t.y2),n=Math.abs(r-o),l=Math.abs(i-a),s=o<r?1:-1,u=a<i?1:-1,f=n-l;x.push({x:o,y:a});for(var c=1;!(o===r&&a===i);){var v=f<<1;v>-l&&(f-=l,o+=s),v<n&&(f+=n,a+=u),c%h===0&&x.push({x:o,y:a}),c++}return x};d.exports=S},36469:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=h-(t.x1+t.x2)/2,a=x-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=a,t.x2+=o,t.y2+=a,t};d.exports=S},31116:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031),x=function(o){return new h(o.x1,o.y1,o.x2,o.y2)};d.exports=x},59944:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};d.exports=S},59220:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};d.exports=S},78177:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=function(o,a,r){r===void 0&&(r=a);var i=h(o),n=o.x2-o.x1,l=o.y2-o.y1;return a&&(o.x1=o.x1-n/i*a,o.y1=o.y1-l/i*a),r&&(o.x2=o.x2+n/i*r,o.y2=o.y2+l/i*r),o};d.exports=x},26708:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),x=t(6113),o=t(2141),a=function(r,i,n,l,s){l===void 0&&(l=0),s===void 0&&(s=[]);var u=[],f=r.x1,c=r.y1,v=r.x2-f,g=r.y2-c,y=x(i,s),T,E,A=n-1;for(T=0;T<A;T++)E=y(T/A),u.push(new o(f+v*E,c+g*E));if(E=y(1),u.push(new o(f+v*E,c+g*E)),l>0){var P=u[0],w=[P];for(T=1;T<u.length-1;T++){var I=u[T];h(P,I)>=l&&(w.push(I),P=I)}var O=u[u.length-1];return h(P,O)<l&&w.pop(),w.push(O),w}else return u};d.exports=a},32125:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){return a===void 0&&(a=new h),a.x=(o.x1+o.x2)/2,a.y=(o.y1+o.y2)/2,a};d.exports=x},99569:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a,r){r===void 0&&(r=new h);var i=o.x1,n=o.y1,l=o.x2,s=o.y2,u=(l-i)*(l-i)+(s-n)*(s-n);if(u===0)return r;var f=((a.x-i)*(l-i)+(a.y-n)*(s-n))/u;return r.x=i+f*(l-i),r.y=n+f*(s-n),r};d.exports=x},34638:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(91938),o=t(2141),a=function(r,i){i===void 0&&(i=new o);var n=x(r)-h.TAU;return i.x=Math.cos(n),i.y=Math.sin(n),i};d.exports=a},13151:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a,r){return r===void 0&&(r=new h),r.x=o.x1+(o.x2-o.x1)*a,r.y=o.y1+(o.y2-o.y1)*a,r};d.exports=x},15258:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=t(2141),o=function(a,r,i,n){n===void 0&&(n=[]),!r&&i>0&&(r=h(a)/i);for(var l=a.x1,s=a.y1,u=a.x2,f=a.y2,c=0;c<r;c++){var v=c/r,g=l+(u-l)*v,y=s+(f-s)*v;n.push(new x(g,y))}return n};d.exports=o},26408:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.x1,o=t.y1,a=t.x2,r=t.y2,i=(a-x)*(a-x)+(r-o)*(r-o);if(i===0)return!1;var n=((o-h.y)*(a-x)-(x-h.x)*(r-o))/i;return Math.abs(n)*Math.sqrt(i)};d.exports=S},98770:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};d.exports=S},35001:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};d.exports=S},23031:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(13151),o=t(15258),a=t(23777),r=t(65822),i=t(26099),n=new h({initialize:function(s,u,f,c){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=a.LINE,this.x1=s,this.y1=u,this.x2=f,this.y2=c},getPoint:function(l,s){return x(this,l,s)},getPoints:function(l,s,u){return o(this,l,s,u)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,s,u,f){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),this.x1=l,this.y1=s,this.x2=u,this.y2=f,this},setFromObjects:function(l,s){return this.x1=l.x,this.y1=l.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(l){return l===void 0&&(l=new i),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new i),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});d.exports=n},64795:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(15994),o=t(91938),a=function(r){var i=o(r)-h.TAU;return x(i,-Math.PI,Math.PI)};d.exports=a},52616:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(91938),o=function(a){return Math.cos(x(a)-h.TAU)};d.exports=o},87231:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(91938),o=function(a){return Math.sin(x(a)-h.TAU)};d.exports=o},89662:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t.x1+=h,t.y1+=x,t.x2+=h,t.y2+=x,t};d.exports=S},71165:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};d.exports=S},65822:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){a===void 0&&(a=new h);var r=Math.random();return a.x=o.x1+r*(o.x2-o.x1),a.y=o.y1+r*(o.y2-o.y1),a};d.exports=x},69777:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91938),x=t(64795),o=function(a,r){return 2*x(r)-Math.PI-h(a)};d.exports=o},39706:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),x=function(o,a){var r=(o.x1+o.x2)/2,i=(o.y1+o.y2)/2;return h(o,r,i,a)};d.exports=x},82585:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),x=function(o,a,r){return h(o,a.x,a.y,r)};d.exports=x},64400:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=Math.cos(o),r=Math.sin(o),i=t.x1-h,n=t.y1-x;return t.x1=i*a-n*r+h,t.y1=i*r+n*a+x,i=t.x2-h,n=t.y2-x,t.x2=i*a-n*r+h,t.y2=i*r+n*a+x,t};d.exports=S},62377:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a){return t.x1=h,t.y1=x,t.x2=h+Math.cos(o)*a,t.y2=x+Math.sin(o)*a,t};d.exports=S},71366:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};d.exports=S},10809:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};d.exports=S},2529:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031);h.Angle=t(91938),h.BresenhamPoints=t(84993),h.CenterOn=t(36469),h.Clone=t(31116),h.CopyFrom=t(59944),h.Equals=t(59220),h.Extend=t(78177),h.GetEasedPoints=t(26708),h.GetMidPoint=t(32125),h.GetNearestPoint=t(99569),h.GetNormal=t(34638),h.GetPoint=t(13151),h.GetPoints=t(15258),h.GetShortestDistance=t(26408),h.Height=t(98770),h.Length=t(35001),h.NormalAngle=t(64795),h.NormalX=t(52616),h.NormalY=t(87231),h.Offset=t(89662),h.PerpSlope=t(71165),h.Random=t(65822),h.ReflectAngle=t(69777),h.Rotate=t(39706),h.RotateAroundPoint=t(82585),h.RotateAroundXY=t(64400),h.SetToAngle=t(62377),h.Slope=t(71366),h.Width=t(10809),d.exports=h},83997:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(87841),o=t(26099);function a(i,n,l,s){var u=i-l,f=n-s,c=u*u+f*f;return Math.sqrt(c)}var r=new h({initialize:function(n,l,s){this.vertex1=n,this.vertex2=l,this.vertex3=s,this.bounds=new x,this._inCenter=new o},getInCenter:function(i){i===void 0&&(i=!0);var n=this.vertex1,l=this.vertex2,s=this.vertex3,u,f,c,v,g,y;i?(u=n.x,f=n.y,c=l.x,v=l.y,g=s.x,y=s.y):(u=n.vx,f=n.vy,c=l.vx,v=l.vy,g=s.vx,y=s.vy);var T=a(g,y,c,v),E=a(u,f,g,y),A=a(c,v,u,f),P=T+E+A;return this._inCenter.set((u*T+c*E+g*A)/P,(f*T+v*E+y*A)/P)},contains:function(i,n,l){var s=this.vertex1,u=this.vertex2,f=this.vertex3,c=s.vx,v=s.vy,g=u.vx,y=u.vy,T=f.vx,E=f.vy;if(l){var A=l.a,P=l.b,w=l.c,I=l.d,O=l.e,F=l.f;c=s.vx*A+s.vy*w+O,v=s.vx*P+s.vy*I+F,g=u.vx*A+u.vy*w+O,y=u.vx*P+u.vy*I+F,T=f.vx*A+f.vy*w+O,E=f.vx*P+f.vy*I+F}var L=T-c,D=E-v,b=g-c,U=y-v,W=i-c,H=n-v,Y=L*L+D*D,G=L*b+D*U,X=L*W+D*H,V=b*b+U*U,B=b*W+U*H,z=Y*V-G*G,$=z===0?0:1/z,j=(V*X-G*B)*$,k=(Y*B-G*X)*$;return j>=0&&k>=0&&j+k<1},isCounterClockwise:function(i){var n=this.vertex1,l=this.vertex2,s=this.vertex3,u=(l.vx-n.vx)*(s.vy-n.vy)-(l.vy-n.vy)*(s.vx-n.vx);return i<=0?u>=0:u<0},load:function(i,n,l,s,u){return l=this.vertex1.load(i,n,l,s,u),l=this.vertex2.load(i,n,l,s,u),l=this.vertex3.load(i,n,l,s,u),l},transformCoordinatesLocal:function(i,n,l,s){return this.vertex1.transformCoordinatesLocal(i,n,l,s),this.vertex2.transformCoordinatesLocal(i,n,l,s),this.vertex3.transformCoordinatesLocal(i,n,l,s),this},updateBounds:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3,s=this.bounds;return s.x=Math.min(i.vx,n.vx,l.vx),s.y=Math.min(i.vy,n.vy,l.vy),s.width=Math.max(i.vx,n.vx,l.vx)-s.x,s.height=Math.max(i.vy,n.vy,l.vy)-s.y,this},isInView:function(i,n,l,s,u,f,c,v,g,y,T){this.update(s,u,f,c,v,g,y,T);var E=this.vertex1,A=this.vertex2,P=this.vertex3;if(E.ta<=0&&A.ta<=0&&P.ta<=0||n&&!this.isCounterClockwise(l))return!1;var w=this.bounds;w.x=Math.min(E.tx,A.tx,P.tx),w.y=Math.min(E.ty,A.ty,P.ty),w.width=Math.max(E.tx,A.tx,P.tx)-w.x,w.height=Math.max(E.ty,A.ty,P.ty)-w.y;var I=i.x+i.width,O=i.y+i.height;return w.width<=0||w.height<=0||i.width<=0||i.height<=0?!1:!(w.right<i.x||w.bottom<i.y||w.x>I||w.y>O)},scrollUV:function(i,n){return this.vertex1.scrollUV(i,n),this.vertex2.scrollUV(i,n),this.vertex3.scrollUV(i,n),this},scaleUV:function(i,n){return this.vertex1.scaleUV(i,n),this.vertex2.scaleUV(i,n),this.vertex3.scaleUV(i,n),this},setColor:function(i){return this.vertex1.color=i,this.vertex2.color=i,this.vertex3.color=i,this},update:function(i,n,l,s,u,f,c,v){return this.vertex1.update(n,l,s,u,f,c,v,i),this.vertex2.update(n,l,s,u,f,c,v,i),this.vertex3.update(n,l,s,u,f,c,v,i),this},translate:function(i,n){n===void 0&&(n=0);var l=this.vertex1,s=this.vertex2,u=this.vertex3;return l.x+=i,l.y+=n,s.x+=i,s.y+=n,u.x+=i,u.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(i){var n=this.getInCenter();this.translate(i-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var n=this.getInCenter();this.translate(0,i-n.y)}},alpha:{get:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3;return(i.alpha+n.alpha+l.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,n=this.vertex2,l=this.vertex3;return(i.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});d.exports=r},48803:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),x=t(95540),o=t(37867),a=t(25836),r=t(39318),i=new a,n=new a,l=new o,s=function(u){var f=x(u,"mesh"),c=x(u,"texture",null),v=x(u,"frame"),g=x(u,"width",1),y=x(u,"height",g),T=x(u,"widthSegments",1),E=x(u,"heightSegments",T),A=x(u,"x",0),P=x(u,"y",0),w=x(u,"z",0),I=x(u,"rotateX",0),O=x(u,"rotateY",0),F=x(u,"rotateZ",0),L=x(u,"zIsUp",!0),D=x(u,"isOrtho",f?f.dirtyCache[11]:!1),b=x(u,"colors",[16777215]),U=x(u,"alphas",[1]),W=x(u,"tile",!1),H=x(u,"flipY",!1),Y=x(u,"width",null),G={faces:[],verts:[]};i.set(A,P,w),n.set(I,O,F),l.fromRotationXYTranslation(n,i,L);var X;if(!c&&f)c=f.texture,v||(X=f.frame);else if(f&&typeof c=="string")c=f.scene.sys.textures.get(c);else if(!c)return G;X||(X=c.get(v)),!Y&&D&&c&&f&&(g=X.width/f.height,y=X.height/f.height);var V=g/2,B=y/2,z=Math.floor(T),$=Math.floor(E),j=z+1,k=$+1,q=g/z,Q=y/$,Z=[],_=[],et,it,st=0,nt=1,lt=0,ut=1;X&&(st=X.u0,nt=X.u1,H?(lt=X.v1,ut=X.v0):(lt=X.v0,ut=X.v1));var ot=nt-st,rt=ut-lt;for(it=0;it<k;it++){var ht=it*Q-B;for(et=0;et<j;et++){var dt=et*q-V;_.push(dt,-ht);var xt=st+ot*(et/z),yt=lt+rt*(it/$);Z.push(xt,yt)}}Array.isArray(b)||(b=[b]),Array.isArray(U)||(U=[U]);var Ct=0,St=0;for(it=0;it<$;it++)for(et=0;et<z;et++){var Mt=(et+j*it)*2,Ut=(et+j*(it+1))*2,qt=(et+1+j*(it+1))*2,Nt=(et+1+j*it)*2,Jt=b[St],ae=U[Ct],jt=new r(_[Mt],_[Mt+1],0,Z[Mt],Z[Mt+1],Jt,ae).transformMat4(l),Se=new r(_[Ut],_[Ut+1],0,Z[Ut],Z[Ut+1],Jt,ae).transformMat4(l),gi=new r(_[Nt],_[Nt+1],0,Z[Nt],Z[Nt+1],Jt,ae).transformMat4(l),Ci=new r(_[Ut],_[Ut+1],0,Z[Ut],Z[Ut+1],Jt,ae).transformMat4(l),Vi=new r(_[qt],_[qt+1],0,Z[qt],Z[qt+1],Jt,ae).transformMat4(l),Gi=new r(_[Nt],_[Nt+1],0,Z[Nt],Z[Nt+1],Jt,ae).transformMat4(l);W&&(jt.setUVs(st,ut),Se.setUVs(st,lt),gi.setUVs(nt,ut),Ci.setUVs(st,lt),Vi.setUVs(nt,lt),Gi.setUVs(nt,ut)),St++,St===b.length&&(St=0),Ct++,Ct===U.length&&(Ct=0),G.verts.push(jt,Se,gi,Ci,Vi,Gi),G.faces.push(new h(jt,Se,gi),new h(Ci,Vi,Gi))}return f&&(f.faces=f.faces.concat(G.faces),f.vertices=f.vertices.concat(G.verts)),G};d.exports=s},34684:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),x=t(37867),o=t(25836),a=t(39318),r=new o,i=new o,n=new x,l=function(s,u,f,c,v,g,y,T,E,A){f===void 0&&(f=1),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=0),A===void 0&&(A=!0);var P={faces:[],verts:[]},w=s.materials;r.set(c,v,g),i.set(y,T,E),n.fromRotationXYTranslation(i,r,A);for(var I=0;I<s.models.length;I++)for(var O=s.models[I],F=O.vertices,L=O.textureCoords,D=O.faces,b=0;b<D.length;b++){var U=D[b],W=U.vertices[0],H=U.vertices[1],Y=U.vertices[2],G=F[W.vertexIndex],X=F[H.vertexIndex],V=F[Y.vertexIndex],B=W.textureCoordsIndex,z=H.textureCoordsIndex,$=Y.textureCoordsIndex,j=B===-1?{u:0,v:1}:L[B],k=z===-1?{u:0,v:0}:L[z],q=$===-1?{u:1,v:1}:L[$],Q=16777215;U.material!==""&&w[U.material]&&(Q=w[U.material]);var Z=new a(G.x*f,G.y*f,G.z*f,j.u,j.v,Q).transformMat4(n),_=new a(X.x*f,X.y*f,X.z*f,k.u,k.v,Q).transformMat4(n),et=new a(V.x*f,V.y*f,V.z*f,q.u,q.v,Q).transformMat4(n);P.verts.push(Z,_,et),P.faces.push(new h(Z,_,et))}return u&&(u.faces=u.faces.concat(P.faces),u.vertices=u.vertices.concat(P.verts)),P};d.exports=l},92515:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),x=t(39318),o=function(a,r,i,n,l,s,u,f){if(n===void 0&&(n=!1),s===void 0&&(s=16777215),u===void 0&&(u=1),f===void 0&&(f=!1),a.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},v,g,y,T,E,A,P,w,I,O,F,L=n?3:2,D=Array.isArray(s),b=Array.isArray(u);if(Array.isArray(i)&&i.length>0)for(v=0;v<i.length;v++){var U=i[v],W=i[v]*2,H=i[v]*L;g=a[H],y=a[H+1],T=n?a[H+2]:0,E=r[W],A=r[W+1],f&&(A=1-A),P=D?s[U]:s,w=b?u[U]:u,I=0,O=0,F=0,l&&(I=l[H],O=l[H+1],F=n?l[H+2]:0),c.vertices.push(new x(g,y,T,E,A,P,w,I,O,F))}else{var Y=0,G=0;for(v=0;v<a.length;v+=L)g=a[v],y=a[v+1],T=n?a[v+2]:0,E=r[Y],A=r[Y+1],P=D?s[G]:s,w=b?u[G]:u,I=0,O=0,F=0,l&&(I=l[v],O=l[v+1],F=n?l[v+2]:0),c.vertices.push(new x(g,y,T,E,A,P,w,I,O,F)),Y+=2,G++}for(v=0;v<c.vertices.length;v+=3){var X=c.vertices[v],V=c.vertices[v+1],B=c.vertices[v+2];c.faces.push(new h(X,V,B))}return c};d.exports=o},85048:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",h="",x="";function o(g){var y=g.indexOf("#");return y>-1?g.substring(0,y):g}function a(g){return g.models.length===0&&g.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",g.models[g.models.length-1]}function r(g,y){var T=g.length>=2?g[1]:t;y.models.push({faces:[],name:T,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function i(g){g.length===2&&(h=g[1])}function n(g,y){var T=g.length,E=T>=2?parseFloat(g[1]):0,A=T>=3?parseFloat(g[2]):0,P=T>=4?parseFloat(g[3]):0;a(y).vertices.push({x:E,y:A,z:P})}function l(g,y){var T=g.length,E=T>=2?parseFloat(g[1]):0,A=T>=3?parseFloat(g[2]):0,P=T>=4?parseFloat(g[3]):0;isNaN(E)&&(E=0),isNaN(A)&&(A=0),isNaN(P)&&(P=0),S&&(A=1-A),a(y).textureCoords.push({u:E,v:A,w:P})}function s(g,y){var T=g.length,E=T>=2?parseFloat(g[1]):0,A=T>=3?parseFloat(g[2]):0,P=T>=4?parseFloat(g[3]):0;a(y).vertexNormals.push({x:E,y:A,z:P})}function u(g,y){var T=g.length-1;if(!(T<3)){for(var E={group:h,material:x,vertices:[]},A=0;A<T;A++){var P=g[A+1],w=P.split("/"),I=w.length;if(!(I<1||I>3)){var O=0,F=0,L=0;O=parseInt(w[0],10),I>1&&w[1]!==""&&(F=parseInt(w[1],10)),I>2&&(L=parseInt(w[2],10)),O!==0&&(O<0&&(O=a(y).vertices.length+1+O),F-=1,O-=1,L-=1,E.vertices.push({textureCoordsIndex:F,vertexIndex:O,vertexNormalIndex:L}))}}a(y).faces.push(E)}}function f(g,y){g.length>=2&&y.materialLibraries.push(g[1])}function c(g){g.length>=2&&(x=g[1])}var v=function(g,y){y===void 0&&(y=!0),S=y;var T={materials:{},materialLibraries:[],models:[]};h="",x="";for(var E=g.split(`
`),A=0;A<E.length;A++){var P=o(E[A]),w=P.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":r(w,T);break;case"g":i(w);break;case"v":n(w,T);break;case"vt":l(w,T);break;case"vn":s(w,T);break;case"f":u(w,T);break;case"mtllib":f(w,T);break;case"usemtl":c(w);break}}return T};d.exports=v},61485:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),x=function(o){for(var a={},r=o.split(`
`),i="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var s=l.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{i=s[1];break}case"kd":{var u=Math.floor(s[1]*255),f=s.length>=2?Math.floor(s[2]*255):u,c=s.length>=3?Math.floor(s[3]*255):u;a[i]=h(u,f,c);break}}}}return a};d.exports=x},92570:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a,r;if(x===void 0&&o===void 0){var i=t.getInCenter();a=i.x,r=i.y}var n=Math.cos(h),l=Math.sin(h),s=t.vertex1,u=t.vertex2,f=t.vertex3,c=s.x-a,v=s.y-r;s.set(c*n-v*l+a,c*l+v*n+r),c=u.x-a,v=u.y-r,u.set(c*n-v*l+a,c*l+v*n+r),c=f.x-a,v=f.y-r,f.set(c*n-v*l+a,c*l+v*n+r)};d.exports=S},39318:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(70554),o=t(25836),a=new h({Extends:o,initialize:function(i,n,l,s,u,f,c,v,g,y){f===void 0&&(f=16777215),c===void 0&&(c=1),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),o.call(this,i,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=g,this.nz=y,this.u=s,this.v=u,this.color=f,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=u},setUVs:function(r,i){return this.u=r,this.v=i,this.tu=r,this.tv=i,this},scrollUV:function(r,i){return this.tu+=r,this.tv+=i,this},scaleUV:function(r,i){return this.tu=this.u*r,this.tv=this.v*i,this},transformCoordinatesLocal:function(r,i,n,l){var s=this.x,u=this.y,f=this.z,c=r.val,v=s*c[0]+u*c[4]+f*c[8]+c[12],g=s*c[1]+u*c[5]+f*c[9]+c[13],y=s*c[2]+u*c[6]+f*c[10]+c[14],T=s*c[3]+u*c[7]+f*c[11]+c[15];this.vx=v/T*i,this.vy=-(g/T)*n,l<=0?this.vz=y/T:this.vz=-(y/T)},resize:function(r,i,n,l,s,u){return this.x=r,this.y=i,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,s<.5?this.vx+=n*(.5-s):s>.5&&(this.vx-=n*(s-.5)),u<.5?this.vy+=l*(.5-u):u>.5&&(this.vy-=l*(u-.5)),this},update:function(r,i,n,l,s,u,f,c){var v=this.vx*r+this.vy*n+s,g=this.vx*i+this.vy*l+u;return f&&(v=Math.round(v),g=Math.round(g)),this.tx=v,this.ty=g,this.ta=this.alpha*c,this},load:function(r,i,n,l,s){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=s,i[++n]=x.getTintAppendFloatAlpha(this.color,this.ta),n}});d.exports=a},73090:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};d.exports=h},96550:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};d.exports=S},99706:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o){return new h(o.x,o.y)};d.exports=x},68010:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y)};d.exports=S},27814:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y};d.exports=S},73565:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};d.exports=S},87555:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){if(a===void 0&&(a=new h),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var r=o.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)a.x=o[0].x,a.y=o[0].y;else{for(var i=0;i<r;i++)a.x+=o[i].x,a.y+=o[i].y;a.x/=r,a.y/=r}return a};d.exports=x},28793:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};d.exports=S},44405:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};d.exports=S},20873:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,a){a===void 0&&(a=new h);for(var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,s=0;s<o.length;s++){var u=o[s];u.x>r&&(r=u.x),u.x<i&&(i=u.x),u.y>n&&(n=u.y),u.y<l&&(l=u.y)}return a.x=i,a.y=l,a.width=r-i,a.height=n-l,a};d.exports=x},26152:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a,r,i){return r===void 0&&(r=0),i===void 0&&(i=new h),i.x=o.x+(a.x-o.x)*r,i.y=o.y+(a.y-o.y)*r,i};d.exports=x},55767:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};d.exports=S},79432:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){return a===void 0&&(a=new h),a.setTo(-o.x,-o.y)};d.exports=x},2141:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23777),o=new h({initialize:function(r,i){r===void 0&&(r=0),i===void 0&&(i=r),this.type=x.POINT,this.x=r,this.y=i},setTo:function(a,r){return a===void 0&&(a=0),r===void 0&&(r=a),this.x=a,this.y=r,this}});d.exports=o},72930:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(44405),o=function(a,r,i){i===void 0&&(i=new h);var n=a.x*r.x+a.y*r.y,l=n/x(r);return l!==0&&(i.x=l*r.x,i.y=l*r.y),i};d.exports=o},62880:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a,r){r===void 0&&(r=new h);var i=o.x*a.x+o.y*a.y;return i!==0&&(r.x=i*a.x,r.y=i*a.y),r};d.exports=x},15093:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28793),x=function(o,a){if(o.x!==0||o.y!==0){var r=h(o);o.x/=r,o.y/=r}return o.x*=a,o.y*=a,o};d.exports=x},43711:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);h.Ceil=t(96550),h.Clone=t(99706),h.CopyFrom=t(68010),h.Equals=t(27814),h.Floor=t(73565),h.GetCentroid=t(87555),h.GetMagnitude=t(28793),h.GetMagnitudeSq=t(44405),h.GetRectangleFromPoints=t(20873),h.Interpolate=t(26152),h.Invert=t(55767),h.Negative=t(79432),h.Project=t(72930),h.ProjectUnit=t(62880),h.SetMagnitude=t(15093),d.exports=h},12306:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717),x=function(o){return new h(o.points)};d.exports=x},63814:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){for(var o=!1,a=-1,r=t.points.length-1;++a<t.points.length;r=a){var i=t.points[a].x,n=t.points[a].y,l=t.points[r].x,s=t.points[r].y;(n<=x&&x<s||s<=x&&x<n)&&h<(l-i)*(x-n)/(s-n)+i&&(o=!o)}return o};d.exports=S},99338:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63814),x=function(o,a){return h(o,a.x,a.y)};d.exports=x},94811:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(G,X,V){V=V||2;var B=X&&X.length,z=B?X[0]*V:G.length,$=t(G,0,z,V,!0),j=[];if(!$||$.next===$.prev)return j;var k,q,Q,Z,_,et,it;if(B&&($=n(G,X,$,V)),G.length>80*V){k=Q=G[0],q=Z=G[1];for(var st=V;st<z;st+=V)_=G[st],et=G[st+1],_<k&&(k=_),et<q&&(q=et),_>Q&&(Q=_),et>Z&&(Z=et);it=Math.max(Q-k,Z-q),it=it!==0?32767/it:0}return x($,j,V,k,q,it,0),j}function t(G,X,V,B,z){var $,j;if(z===Y(G,X,V,B)>0)for($=X;$<V;$+=B)j=U($,G[$],G[$+1],j);else for($=V-B;$>=X;$-=B)j=U($,G[$],G[$+1],j);return j&&P(j,j.next)&&(W(j),j=j.next),j}function h(G,X){if(!G)return G;X||(X=G);var V=G,B;do if(B=!1,!V.steiner&&(P(V,V.next)||A(V.prev,V,V.next)===0)){if(W(V),V=X=V.prev,V===V.next)break;B=!0}else V=V.next;while(B||V!==X);return X}function x(G,X,V,B,z,$,j){if(G){!j&&$&&c(G,B,z,$);for(var k=G,q,Q;G.prev!==G.next;){if(q=G.prev,Q=G.next,$?a(G,B,z,$):o(G)){X.push(q.i/V|0),X.push(G.i/V|0),X.push(Q.i/V|0),W(G),G=Q.next,k=Q.next;continue}if(G=Q,G===k){j?j===1?(G=r(h(G),X,V),x(G,X,V,B,z,$,2)):j===2&&i(G,X,V,B,z,$):x(h(G),X,V,B,z,$,1);break}}}}function o(G){var X=G.prev,V=G,B=G.next;if(A(X,V,B)>=0)return!1;for(var z=X.x,$=V.x,j=B.x,k=X.y,q=V.y,Q=B.y,Z=z<$?z<j?z:j:$<j?$:j,_=k<q?k<Q?k:Q:q<Q?q:Q,et=z>$?z>j?z:j:$>j?$:j,it=k>q?k>Q?k:Q:q>Q?q:Q,st=B.next;st!==X;){if(st.x>=Z&&st.x<=et&&st.y>=_&&st.y<=it&&T(z,k,$,q,j,Q,st.x,st.y)&&A(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}function a(G,X,V,B){var z=G.prev,$=G,j=G.next;if(A(z,$,j)>=0)return!1;for(var k=z.x,q=$.x,Q=j.x,Z=z.y,_=$.y,et=j.y,it=k<q?k<Q?k:Q:q<Q?q:Q,st=Z<_?Z<et?Z:et:_<et?_:et,nt=k>q?k>Q?k:Q:q>Q?q:Q,lt=Z>_?Z>et?Z:et:_>et?_:et,ut=g(it,st,X,V,B),ot=g(nt,lt,X,V,B),rt=G.prevZ,ht=G.nextZ;rt&&rt.z>=ut&&ht&&ht.z<=ot;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=lt&&rt!==z&&rt!==j&&T(k,Z,q,_,Q,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0||(rt=rt.prevZ,ht.x>=it&&ht.x<=nt&&ht.y>=st&&ht.y<=lt&&ht!==z&&ht!==j&&T(k,Z,q,_,Q,et,ht.x,ht.y)&&A(ht.prev,ht,ht.next)>=0))return!1;ht=ht.nextZ}for(;rt&&rt.z>=ut;){if(rt.x>=it&&rt.x<=nt&&rt.y>=st&&rt.y<=lt&&rt!==z&&rt!==j&&T(k,Z,q,_,Q,et,rt.x,rt.y)&&A(rt.prev,rt,rt.next)>=0)return!1;rt=rt.prevZ}for(;ht&&ht.z<=ot;){if(ht.x>=it&&ht.x<=nt&&ht.y>=st&&ht.y<=lt&&ht!==z&&ht!==j&&T(k,Z,q,_,Q,et,ht.x,ht.y)&&A(ht.prev,ht,ht.next)>=0)return!1;ht=ht.nextZ}return!0}function r(G,X,V){var B=G;do{var z=B.prev,$=B.next.next;!P(z,$)&&w(z,B,B.next,$)&&L(z,$)&&L($,z)&&(X.push(z.i/V|0),X.push(B.i/V|0),X.push($.i/V|0),W(B),W(B.next),B=G=$),B=B.next}while(B!==G);return h(B)}function i(G,X,V,B,z,$){var j=G;do{for(var k=j.next.next;k!==j.prev;){if(j.i!==k.i&&E(j,k)){var q=b(j,k);j=h(j,j.next),q=h(q,q.next),x(j,X,V,B,z,$,0),x(q,X,V,B,z,$,0);return}k=k.next}j=j.next}while(j!==G)}function n(G,X,V,B){var z=[],$,j,k,q,Q;for($=0,j=X.length;$<j;$++)k=X[$]*B,q=$<j-1?X[$+1]*B:G.length,Q=t(G,k,q,B,!1),Q===Q.next&&(Q.steiner=!0),z.push(y(Q));for(z.sort(l),$=0;$<z.length;$++)V=s(z[$],V);return V}function l(G,X){return G.x-X.x}function s(G,X){var V=u(G,X);if(!V)return X;var B=b(V,G);return h(B,B.next),h(V,V.next)}function u(G,X){var V=X,B=G.x,z=G.y,$=-1/0,j;do{if(z<=V.y&&z>=V.next.y&&V.next.y!==V.y){var k=V.x+(z-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(k<=B&&k>$&&($=k,j=V.x<V.next.x?V:V.next,k===B))return j}V=V.next}while(V!==X);if(!j)return null;var q=j,Q=j.x,Z=j.y,_=1/0,et;V=j;do B>=V.x&&V.x>=Q&&B!==V.x&&T(z<Z?B:$,z,Q,Z,z<Z?$:B,z,V.x,V.y)&&(et=Math.abs(z-V.y)/(B-V.x),L(V,G)&&(et<_||et===_&&(V.x>j.x||V.x===j.x&&f(j,V)))&&(j=V,_=et)),V=V.next;while(V!==q);return j}function f(G,X){return A(G.prev,G,X.prev)<0&&A(X.next,G,G.next)<0}function c(G,X,V,B){var z=G;do z.z===0&&(z.z=g(z.x,z.y,X,V,B)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==G);z.prevZ.nextZ=null,z.prevZ=null,v(z)}function v(G){var X,V,B,z,$,j,k,q,Q=1;do{for(V=G,G=null,$=null,j=0;V;){for(j++,B=V,k=0,X=0;X<Q&&(k++,B=B.nextZ,!!B);X++);for(q=Q;k>0||q>0&&B;)k!==0&&(q===0||!B||V.z<=B.z)?(z=V,V=V.nextZ,k--):(z=B,B=B.nextZ,q--),$?$.nextZ=z:G=z,z.prevZ=$,$=z;V=B}$.nextZ=null,Q*=2}while(j>1);return G}function g(G,X,V,B,z){return G=(G-V)*z|0,X=(X-B)*z|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,G|X<<1}function y(G){var X=G,V=G;do(X.x<V.x||X.x===V.x&&X.y<V.y)&&(V=X),X=X.next;while(X!==G);return V}function T(G,X,V,B,z,$,j,k){return(z-j)*(X-k)>=(G-j)*($-k)&&(G-j)*(B-k)>=(V-j)*(X-k)&&(V-j)*($-k)>=(z-j)*(B-k)}function E(G,X){return G.next.i!==X.i&&G.prev.i!==X.i&&!F(G,X)&&(L(G,X)&&L(X,G)&&D(G,X)&&(A(G.prev,G,X.prev)||A(G,X.prev,X))||P(G,X)&&A(G.prev,G,G.next)>0&&A(X.prev,X,X.next)>0)}function A(G,X,V){return(X.y-G.y)*(V.x-X.x)-(X.x-G.x)*(V.y-X.y)}function P(G,X){return G.x===X.x&&G.y===X.y}function w(G,X,V,B){var z=O(A(G,X,V)),$=O(A(G,X,B)),j=O(A(V,B,G)),k=O(A(V,B,X));return!!(z!==$&&j!==k||z===0&&I(G,V,X)||$===0&&I(G,B,X)||j===0&&I(V,G,B)||k===0&&I(V,X,B))}function I(G,X,V){return X.x<=Math.max(G.x,V.x)&&X.x>=Math.min(G.x,V.x)&&X.y<=Math.max(G.y,V.y)&&X.y>=Math.min(G.y,V.y)}function O(G){return G>0?1:G<0?-1:0}function F(G,X){var V=G;do{if(V.i!==G.i&&V.next.i!==G.i&&V.i!==X.i&&V.next.i!==X.i&&w(V,V.next,G,X))return!0;V=V.next}while(V!==G);return!1}function L(G,X){return A(G.prev,G,G.next)<0?A(G,X,G.next)>=0&&A(G,G.prev,X)>=0:A(G,X,G.prev)<0||A(G,G.next,X)<0}function D(G,X){var V=G,B=!1,z=(G.x+X.x)/2,$=(G.y+X.y)/2;do V.y>$!=V.next.y>$&&V.next.y!==V.y&&z<(V.next.x-V.x)*($-V.y)/(V.next.y-V.y)+V.x&&(B=!B),V=V.next;while(V!==G);return B}function b(G,X){var V=new H(G.i,G.x,G.y),B=new H(X.i,X.x,X.y),z=G.next,$=X.prev;return G.next=X,X.prev=G,V.next=z,z.prev=V,B.next=V,V.prev=B,$.next=B,B.prev=$,B}function U(G,X,V,B){var z=new H(G,X,V);return B?(z.next=B.next,z.prev=B,B.next.prev=z,B.next=z):(z.prev=z,z.next=z),z}function W(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function H(G,X,V){this.i=G,this.x=X,this.y=V,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(G,X,V,B){var z=X&&X.length,$=z?X[0]*V:G.length,j=Math.abs(Y(G,0,$,V));if(z)for(var k=0,q=X.length;k<q;k++){var Q=X[k]*V,Z=k<q-1?X[k+1]*V:G.length;j-=Math.abs(Y(G,Q,Z,V))}var _=0;for(k=0;k<B.length;k+=3){var et=B[k]*V,it=B[k+1]*V,st=B[k+2]*V;_+=Math.abs((G[et]-G[st])*(G[it+1]-G[et+1])-(G[et]-G[it])*(G[st+1]-G[et+1]))}return j===0&&_===0?0:Math.abs((_-j)/j)};function Y(G,X,V,B){for(var z=0,$=X,j=V-B;$<V;$+=B)z+=(G[j]-G[$])*(G[$+1]+G[j+1]),j=$;return z}S.flatten=function(G){for(var X=G[0][0].length,V={vertices:[],holes:[],dimensions:X},B=0,z=0;z<G.length;z++){for(var $=0;$<G[z].length;$++)for(var j=0;j<X;j++)V.vertices.push(G[z][$][j]);z>0&&(B+=G[z-1].length,V.holes.push(B))}return V},d.exports=S},13829:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,a){a===void 0&&(a=new h);for(var r=1/0,i=1/0,n=-r,l=-i,s,u=0;u<o.points.length;u++)s=o.points[u],r=Math.min(r,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x),l=Math.max(l,s.y);return a.x=r,a.y=i,a.width=n-r,a.height=l-i,a};d.exports=x},26173:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var x=0;x<t.points.length;x++)h.push(t.points[x].x),h.push(t.points[x].y);return h};d.exports=S},9564:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=t(23031),o=t(30052),a=function(r,i,n,l){l===void 0&&(l=[]);var s=r.points,u=o(r);!i&&n>0&&(i=u/n);for(var f=0;f<i;f++)for(var c=u*(f/i),v=0,g=0;g<s.length;g++){var y=s[g],T=s[(g+1)%s.length],E=new x(y.x,y.y,T.x,T.y),A=h(E);if(c<v||c>v+A){v+=A;continue}var P=E.getPoint((c-v)/A);l.push(P);break}return l};d.exports=a},30052:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=t(23031),o=function(a){for(var r=a.points,i=0,n=0;n<r.length;n++){var l=r[n],s=r[(n+1)%r.length],u=new x(l.x,l.y,s.x,s.y);i+=h(u)}return i};d.exports=o},25717:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(63814),o=t(9564),a=t(23777),r=new h({initialize:function(n){this.type=a.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(i,n){return x(this,i,n)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var n,l=0;l<i.length;l++)n={x:0,y:0},typeof i[l]=="number"||typeof i[l]=="string"?(n.x=parseFloat(i[l]),n.y=parseFloat(i[l+1]),l++):Array.isArray(i[l])?(n.x=i[l][0],n.y=i[l][1]):(n.x=i[l].x,n.y=i[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,n,l,s=0;s<this.points.length-1;s++)n=this.points[s],l=this.points[s+1],i+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],i+=(n.x-l.x)*(l.y+n.y),this.area=-i*.5,this.area},getPoints:function(i,n,l){return o(this,i,n,l)}});d.exports=r},8133:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};d.exports=S},29524:d=>{function S(r,i){var n=r.x-i.x,l=r.y-i.y;return n*n+l*l}function t(r,i,n){var l=i.x,s=i.y,u=n.x-l,f=n.y-s;if(u!==0||f!==0){var c=((r.x-l)*u+(r.y-s)*f)/(u*u+f*f);c>1?(l=n.x,s=n.y):c>0&&(l+=u*c,s+=f*c)}return u=r.x-l,f=r.y-s,u*u+f*f}function h(r,i){for(var n=r[0],l=[n],s,u=1,f=r.length;u<f;u++)s=r[u],S(s,n)>i&&(l.push(s),n=s);return n!==s&&l.push(s),l}function x(r,i,n,l,s){for(var u=l,f,c=i+1;c<n;c++){var v=t(r[c],r[i],r[n]);v>u&&(f=c,u=v)}u>l&&(f-i>1&&x(r,i,f,l,s),s.push(r[f]),n-f>1&&x(r,f,n,l,s))}function o(r,i){var n=r.length-1,l=[r[0]];return x(r,0,n,i,l),l.push(r[n]),l}var a=function(r,i,n){i===void 0&&(i=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var s=i*i;n||(l=h(l,s)),r.setTo(o(l,s))}return r};d.exports=a},5469:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(h,x){return h[0]=x[0],h[1]=x[1],h},t=function(h){var x,o=[],a=h.points;for(x=0;x<a.length;x++)o.push([a[x].x,a[x].y]);var r=[];for(o.length>0&&r.push(S([0,0],o[0])),x=0;x<o.length-1;x++){var i=o[x],n=o[x+1],l=i[0],s=i[1],u=n[0],f=n[1];r.push([.85*l+.15*u,.85*s+.15*f]),r.push([.15*l+.85*u,.15*s+.85*f])}return o.length>1&&r.push(S([0,0],o[o.length-1])),h.setTo(r)};d.exports=t},24709:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){for(var o=t.points,a=0;a<o.length;a++)o[a].x+=h,o[a].y+=x;return t};d.exports=S},58423:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717);h.Clone=t(12306),h.Contains=t(63814),h.ContainsPoint=t(99338),h.Earcut=t(94811),h.GetAABB=t(13829),h.GetNumberArray=t(26173),h.GetPoints=t(9564),h.Perimeter=t(30052),h.Reverse=t(8133),h.Simplify=t(29524),h.Smooth=t(5469),h.Translate=t(24709),d.exports=h},62224:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};d.exports=S},98615:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};d.exports=S},31688:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};d.exports=S},67502:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t.x=h-t.width/2,t.y=x-t.height/2,t};d.exports=S},65085:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o){return new h(o.x,o.y,o.width,o.height)};d.exports=x},37303:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=x&&t.y+t.height>=x};d.exports=S},96553:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37303),x=function(o,a){return h(o,a.x,a.y)};d.exports=x},70273:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};d.exports=S},43459:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};d.exports=S},77493:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};d.exports=S},9219:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};d.exports=S},53751:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),x=function(o,a){var r=h(o);return r<h(a)?o.setSize(a.height*r,a.height):o.setSize(a.width,a.width/r),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};d.exports=x},16088:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),x=function(o,a){var r=h(o);return r>h(a)?o.setSize(a.height*r,a.height):o.setSize(a.width,a.width/r),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};d.exports=x},80774:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};d.exports=S},83859:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};d.exports=S},19217:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(36383),o=function(a,r){if(r===void 0&&(r=new h),a.length===0)return r;for(var i=Number.MAX_VALUE,n=Number.MAX_VALUE,l=x.MIN_SAFE_INTEGER,s=x.MIN_SAFE_INTEGER,u,f,c,v=0;v<a.length;v++)u=a[v],Array.isArray(u)?(f=u[0],c=u[1]):(f=u.x,c=u.y),i=Math.min(i,f),n=Math.min(n,c),l=Math.max(l,f),s=Math.max(s,c);return r.x=i,r.y=n,r.width=l-i,r.height=s-n,r};d.exports=o},9477:(d,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,a,r,i,n){return n===void 0&&(n=new h),n.setTo(Math.min(o,r),Math.min(a,i),Math.abs(o-r),Math.abs(a-i))};d.exports=x},8249:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};d.exports=S},27165:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){return a===void 0&&(a=new h),a.x=o.centerX,a.y=o.centerY,a};d.exports=x},20812:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),x=t(2141),o=function(a,r,i){if(i===void 0&&(i=new x),r<=0||r>=1)return i.x=a.x,i.y=a.y,i;var n=h(a)*r;return r>.5?(n-=a.width+a.height,n<=a.width?(i.x=a.right-n,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(n-a.width))):n<=a.width?(i.x=a.x+n,i.y=a.y):(i.x=a.right,i.y=a.y+(n-a.width)),i};d.exports=o},34819:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20812),x=t(13019),o=function(a,r,i,n){n===void 0&&(n=[]),!r&&i>0&&(r=x(a)/i);for(var l=0;l<r;l++){var s=l/r;n.push(h(a,s))}return n};d.exports=o},51313:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){return a===void 0&&(a=new h),a.x=o.width,a.y=o.height,a};d.exports=x},86091:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67502),x=function(o,a,r){var i=o.centerX,n=o.centerY;return o.setSize(o.width+a*2,o.height+r*2),h(o,i,n)};d.exports=x},53951:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(59996),o=function(a,r,i){return i===void 0&&(i=new h),x(a,r)?(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y):i.setEmpty(),i};d.exports=o},14649:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),x=t(2141),o=function(a,r,i,n){if(n===void 0&&(n=[]),!r&&!i)return n;r?i=Math.round(h(a)/r):r=h(a)/i;for(var l=a.x,s=a.y,u=0,f=0;f<i;f++)switch(n.push(new x(l,s)),u){case 0:l+=r,l>=a.right&&(u=1,s+=l-a.right,l=a.right);break;case 1:s+=r,s>=a.bottom&&(u=2,l-=s-a.bottom,s=a.bottom);break;case 2:l-=r,l<=a.left&&(u=3,s-=a.left-l,l=a.left);break;case 3:s-=r,s<=a.top&&(u=0,s=a.top);break}return n};d.exports=o},33595:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var x=t.x,o=t.right,a=t.y,r=t.bottom,i=0;i<h.length;i++)x=Math.min(x,h[i].x),o=Math.max(o,h[i].x),a=Math.min(a,h[i].y),r=Math.max(r,h[i].y);return t.x=x,t.y=a,t.width=o-x,t.height=r-a,t};d.exports=S},20074:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=Math.min(t.x,h.x),o=Math.max(t.right,h.right);t.x=x,t.width=o-x;var a=Math.min(t.y,h.y),r=Math.max(t.bottom,h.bottom);return t.y=a,t.height=r-a,t};d.exports=S},92171:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=Math.min(t.x,h),a=Math.max(t.right,h);t.x=o,t.width=a-o;var r=Math.min(t.y,x),i=Math.max(t.bottom,x);return t.y=r,t.height=i-r,t};d.exports=S},42981:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t.x+=h,t.y+=x,t};d.exports=S},46907:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};d.exports=S},60170:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};d.exports=S},13019:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};d.exports=S},85133:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(39506),o=function(a,r,i){i===void 0&&(i=new h),r=x(r);var n=Math.sin(r),l=Math.cos(r),s=l>0?a.width/2:a.width/-2,u=n>0?a.height/2:a.height/-2;return Math.abs(s*n)<Math.abs(u*l)?u=s*n/l:s=u*l/n,i.x=s+a.centerX,i.y=u+a.centerY,i};d.exports=o},26597:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){return a===void 0&&(a=new h),a.x=o.x+Math.random()*o.width,a.y=o.y+Math.random()*o.height,a};d.exports=x},86470:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),x=t(70273),o=t(2141),a=function(r,i,n){if(n===void 0&&(n=new o),x(r,i))switch(h(0,3)){case 0:n.x=r.x+Math.random()*(i.right-r.x),n.y=r.y+Math.random()*(i.top-r.y);break;case 1:n.x=i.x+Math.random()*(r.right-i.x),n.y=i.bottom+Math.random()*(r.bottom-i.bottom);break;case 2:n.x=r.x+Math.random()*(i.x-r.x),n.y=i.y+Math.random()*(r.bottom-i.y);break;case 3:n.x=i.right+Math.random()*(r.right-i.right),n.y=r.y+Math.random()*(i.bottom-r.y);break}return n};d.exports=a},87841:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37303),o=t(20812),a=t(34819),r=t(23777),i=t(23031),n=t(26597),l=new h({initialize:function(u,f,c,v){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=0),this.type=r.RECTANGLE,this.x=u,this.y=f,this.width=c,this.height=v},contains:function(s,u){return x(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,f){return a(this,s,u,f)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,f,c){return this.x=s,this.y=u,this.width=f,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,u){return u===void 0&&(u=s),this.x=s,this.y=u,this},setSize:function(s,u){return u===void 0&&(u=s),this.width=s,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});d.exports=l},94845:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width===h.width&&t.height===h.height};d.exports=S},31730:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return x===void 0&&(x=h),t.width*=h,t.height*=x,t};d.exports=S},36899:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=function(o,a,r){r===void 0&&(r=new h);var i=Math.min(o.x,a.x),n=Math.min(o.y,a.y),l=Math.max(o.right,a.right)-i,s=Math.max(o.bottom,a.bottom)-n;return r.setTo(i,n,l,s)};d.exports=x},93232:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841);h.Area=t(62224),h.Ceil=t(98615),h.CeilAll=t(31688),h.CenterOn=t(67502),h.Clone=t(65085),h.Contains=t(37303),h.ContainsPoint=t(96553),h.ContainsRect=t(70273),h.CopyFrom=t(43459),h.Decompose=t(77493),h.Equals=t(9219),h.FitInside=t(53751),h.FitOutside=t(16088),h.Floor=t(80774),h.FloorAll=t(83859),h.FromPoints=t(19217),h.FromXY=t(9477),h.GetAspectRatio=t(8249),h.GetCenter=t(27165),h.GetPoint=t(20812),h.GetPoints=t(34819),h.GetSize=t(51313),h.Inflate=t(86091),h.Intersection=t(53951),h.MarchingAnts=t(14649),h.MergePoints=t(33595),h.MergeRect=t(20074),h.MergeXY=t(92171),h.Offset=t(42981),h.OffsetPoint=t(46907),h.Overlaps=t(60170),h.Perimeter=t(13019),h.PerimeterPoint=t(85133),h.Random=t(26597),h.RandomOutside=t(86470),h.SameDimensions=t(94845),h.Scale=t(31730),h.Union=t(36899),d.exports=h},41658:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.x1,x=t.y1,o=t.x2,a=t.y2,r=t.x3,i=t.y3;return Math.abs(((r-h)*(a-x)-(o-h)*(i-x))/2)};d.exports=S},39208:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),x=function(o,a,r){var i=r*(Math.sqrt(3)/2),n=o,l=a,s=o+r/2,u=a+i,f=o-r/2,c=a+i;return new h(n,l,s,u,f,c)};d.exports=x},39545:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94811),x=t(16483),o=function(a,r,i,n,l){r===void 0&&(r=null),i===void 0&&(i=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var s=h(a,r),u,f,c,v,g,y,T,E,A,P=0;P<s.length;P+=3)u=s[P],f=s[P+1],c=s[P+2],v=a[u*2]*i,g=a[u*2+1]*n,y=a[f*2]*i,T=a[f*2+1]*n,E=a[c*2]*i,A=a[c*2+1]*n,l.push(new x(v,g,y,T,E,A));return l};d.exports=o},90301:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),x=function(o,a,r,i){i===void 0&&(i=r);var n=o,l=a,s=o,u=a-i,f=o+r,c=a;return new h(n,l,s,u,f,c)};d.exports=x},23707:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97523),x=t(13584),o=function(a,r,i,n){n===void 0&&(n=h);var l=n(a),s=r-l.x,u=i-l.y;return x(a,s,u)};d.exports=o},97523:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){return a===void 0&&(a=new h),a.x=(o.x1+o.x2+o.x3)/3,a.y=(o.y1+o.y2+o.y3)/3,a};d.exports=x},24951:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099);function x(a,r,i,n){return a*n-r*i}var o=function(a,r){r===void 0&&(r=new h);var i=a.x3,n=a.y3,l=a.x1-i,s=a.y1-n,u=a.x2-i,f=a.y2-n,c=2*x(l,s,u,f),v=x(s,l*l+s*s,f,u*u+f*f),g=x(l,l*l+s*s,u,u*u+f*f);return r.x=i-v/c,r.y=n+g/c,r};d.exports=o},85614:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),x=function(o,a){a===void 0&&(a=new h);var r=o.x1,i=o.y1,n=o.x2,l=o.y2,s=o.x3,u=o.y3,f=n-r,c=l-i,v=s-r,g=u-i,y=f*(r+n)+c*(i+l),T=v*(r+s)+g*(i+u),E=2*(f*(u-l)-c*(s-n)),A,P;if(Math.abs(E)<1e-6){var w=Math.min(r,n,s),I=Math.min(i,l,u);A=(Math.max(r,n,s)-w)*.5,P=(Math.max(i,l,u)-I)*.5,a.x=w+A,a.y=I+P,a.radius=Math.sqrt(A*A+P*P)}else a.x=(g*y-c*T)/E,a.y=(f*T-v*y)/E,A=a.x-r,P=a.y-i,a.radius=Math.sqrt(A*A+P*P);return a};d.exports=x},74422:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),x=function(o){return new h(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};d.exports=x},10690:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=t.x3-t.x1,a=t.y3-t.y1,r=t.x2-t.x1,i=t.y2-t.y1,n=h-t.x1,l=x-t.y1,s=o*o+a*a,u=o*r+a*i,f=o*n+a*l,c=r*r+i*i,v=r*n+i*l,g=s*c-u*u,y=g===0?0:1/g,T=(c*f-u*v)*y,E=(s*v-u*f)*y;return T>=0&&E>=0&&T+E<1};d.exports=S},48653:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x===void 0&&(x=!1),o===void 0&&(o=[]);for(var a=t.x3-t.x1,r=t.y3-t.y1,i=t.x2-t.x1,n=t.y2-t.y1,l=a*a+r*r,s=a*i+r*n,u=i*i+n*n,f=l*u-s*s,c=f===0?0:1/f,v,g,y,T,E,A,P=t.x1,w=t.y1,I=0;I<h.length&&(y=h[I].x-P,T=h[I].y-w,E=a*y+r*T,A=i*y+n*T,v=(u*E-s*A)*c,g=(l*A-s*E)*c,!(v>=0&&g>=0&&v+g<1&&(o.push({x:h[I].x,y:h[I].y}),x)));I++);return o};d.exports=S},96006:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10690),x=function(o,a){return h(o,a.x,a.y)};d.exports=x},71326:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};d.exports=S},71694:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};d.exports=S},33522:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};d.exports=S},20437:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=t(35001),o=function(a,r,i){i===void 0&&(i=new h);var n=a.getLineA(),l=a.getLineB(),s=a.getLineC();if(r<=0||r>=1)return i.x=n.x1,i.y=n.y1,i;var u=x(n),f=x(l),c=x(s),v=u+f+c,g=v*r,y=0;return g<u?(y=g/u,i.x=n.x1+(n.x2-n.x1)*y,i.y=n.y1+(n.y2-n.y1)*y):g>u+f?(g-=u+f,y=g/c,i.x=s.x1+(s.x2-s.x1)*y,i.y=s.y1+(s.y2-s.y1)*y):(g-=u,y=g/f,i.x=l.x1+(l.x2-l.x1)*y,i.y=l.y1+(l.y2-l.y1)*y),i};d.exports=o},80672:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=t(2141),o=function(a,r,i,n){n===void 0&&(n=[]);var l=a.getLineA(),s=a.getLineB(),u=a.getLineC(),f=h(l),c=h(s),v=h(u),g=f+c+v;!r&&i>0&&(r=g/i);for(var y=0;y<r;y++){var T=g*(y/r),E=0,A=new x;T<f?(E=T/f,A.x=l.x1+(l.x2-l.x1)*E,A.y=l.y1+(l.y2-l.y1)*E):T>f+c?(T-=f+c,E=T/v,A.x=u.x1+(u.x2-u.x1)*E,A.y=u.y1+(u.y2-u.y1)*E):(T-=f,E=T/c,A.x=s.x1+(s.x2-s.x1)*E,A.y=s.y1+(s.y2-s.y1)*E),n.push(A)}return n};d.exports=o},39757:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);function x(a,r,i,n){var l=a-i,s=r-n,u=l*l+s*s;return Math.sqrt(u)}var o=function(a,r){r===void 0&&(r=new h);var i=a.x1,n=a.y1,l=a.x2,s=a.y2,u=a.x3,f=a.y3,c=x(u,f,l,s),v=x(i,n,u,f),g=x(l,s,i,n),y=c+v+g;return r.x=(i*c+l*v+u*g)/y,r.y=(n*c+s*v+f*g)/y,r};d.exports=o},13584:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t.x1+=h,t.y1+=x,t.x2+=h,t.y2+=x,t.x3+=h,t.y3+=x,t};d.exports=S},1376:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),x=function(o){var a=o.getLineA(),r=o.getLineB(),i=o.getLineC();return h(a)+h(r)+h(i)};d.exports=x},90260:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),x=function(o,a){a===void 0&&(a=new h);var r=o.x2-o.x1,i=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,s=Math.random(),u=Math.random();return s+u>=1&&(s=1-s,u=1-u),a.x=o.x1+(r*s+n*u),a.y=o.y1+(i*s+l*u),a};d.exports=x},52172:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),x=t(39757),o=function(a,r){var i=x(a);return h(a,i.x,i.y,r)};d.exports=o},49907:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),x=function(o,a,r){return h(o,a.x,a.y,r)};d.exports=x},99614:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=Math.cos(o),r=Math.sin(o),i=t.x1-h,n=t.y1-x;return t.x1=i*a-n*r+h,t.y1=i*r+n*a+x,i=t.x2-h,n=t.y2-x,t.x2=i*a-n*r+h,t.y2=i*r+n*a+x,i=t.x3-h,n=t.y3-x,t.x3=i*a-n*r+h,t.y3=i*r+n*a+x,t};d.exports=S},16483:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(10690),o=t(20437),a=t(80672),r=t(23777),i=t(23031),n=t(90260),l=new h({initialize:function(u,f,c,v,g,y){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),this.type=r.TRIANGLE,this.x1=u,this.y1=f,this.x2=c,this.y2=v,this.x3=g,this.y3=y},contains:function(s,u){return x(this,s,u)},getPoint:function(s,u){return o(this,s,u)},getPoints:function(s,u,f){return a(this,s,u,f)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,u,f,c,v,g){return s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),this.x1=s,this.y1=u,this.x2=f,this.y2=c,this.x3=v,this.y3=g,this},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}}});d.exports=l},84435:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483);h.Area=t(41658),h.BuildEquilateral=t(39208),h.BuildFromPolygon=t(39545),h.BuildRight=t(90301),h.CenterOn=t(23707),h.Centroid=t(97523),h.CircumCenter=t(24951),h.CircumCircle=t(85614),h.Clone=t(74422),h.Contains=t(10690),h.ContainsArray=t(48653),h.ContainsPoint=t(96006),h.CopyFrom=t(71326),h.Decompose=t(71694),h.Equals=t(33522),h.GetPoint=t(20437),h.GetPoints=t(80672),h.InCenter=t(39757),h.Perimeter=t(1376),h.Offset=t(13584),h.Random=t(90260),h.Rotate=t(52172),h.RotateAroundPoint=t(49907),h.RotateAroundXY=t(99614),d.exports=h},74457:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};d.exports=S},84409:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return function(x,o,a,r){var i=t.getPixelAlpha(o,a,r.texture.key,r.frame.name);return i&&i>=h}};d.exports=S},7003:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(93301),o=t(50792),a=t(8214),r=t(8443),i=t(78970),n=t(85098),l=t(42515),s=t(36210),u=t(61340),f=t(85955),c=new h({initialize:function(g,y){this.game=g,this.scaleManager,this.canvas,this.config=y,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=y.inputKeyboard?new i(this):null,this.mouse=y.inputMouse?new n(this):null,this.touch=y.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=y.inputActivePointers;for(var T=0;T<=this.pointersTotal;T++){var E=new l(this,T);E.smoothFactor=y.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=y.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],g.events.once(r.BOOT,this.boot,this)},boot:function(){var v=this.game,g=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(a.MANAGER_BOOT),g.on(r.PRE_RENDER,this.preRender,this),g.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(a.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(a.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,g=this.game.loop.delta,y=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(a.MANAGER_UPDATE);for(var T=0;T<y.length;T++){var E=y[T];if(E.sys.input&&E.sys.input.updatePoll(v,g)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v,g){(g||v&&v.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var g=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var y=0;y<v;y++){var T=this.pointers.length,E=new l(this,T);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,g.push(E)}return g},updateInputPlugins:function(v,g){var y=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var T=0;T<y.length;T++){var E=y[T];if(E.sys.input){var A=E.sys.input.update(v,g);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var g=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<g.length;A++){var P=g[A];if(!P.active){P.touchstart(E,v),this.activePointer=P,y.push(P);break}}this.updateInputPlugins(x.TOUCH_START,y)},onTouchMove:function(v){for(var g=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<g.length;A++){var P=g[A];if(P.active&&P.identifier===E.identifier){var w=document.elementFromPoint(E.clientX,E.clientY),I=w===this.canvas;!this.isOver&&I?this.setCanvasOver(v):this.isOver&&!I&&this.setCanvasOut(v),this.isOver&&(P.touchmove(E,v),this.activePointer=P,y.push(P));break}}this.updateInputPlugins(x.TOUCH_MOVE,y)},onTouchEnd:function(v){for(var g=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<g.length;A++){var P=g[A];if(P.active&&P.identifier===E.identifier){P.touchend(E,v),y.push(P);break}}this.updateInputPlugins(x.TOUCH_END,y)},onTouchCancel:function(v){for(var g=this.pointers,y=[],T=0;T<v.changedTouches.length;T++)for(var E=v.changedTouches[T],A=1;A<g.length;A++){var P=g[A];if(P.active&&P.identifier===E.identifier){P.touchcancel(E,v),y.push(P);break}}this.updateInputPlugins(x.TOUCH_CANCEL,y)},onMouseDown:function(v){var g=this.mousePointer;g.down(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var g=this.mousePointer;g.move(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var g=this.mousePointer;g.up(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var g=this.mousePointer;g.wheel(v),this.activePointer=g,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var g=this.mouse.locked;this.mousePointer.locked=g,this.events.emit(a.POINTERLOCK_CHANGE,v,g)},inputCandidate:function(v,g){var y=v.input;if(!y||!y.enabled||!v.willRender(g))return!1;var T=!0,E=v.parentContainer;if(E)do{if(!E.willRender(g)){T=!1;break}E=E.parentContainer}while(E);return T},hitTest:function(v,g,y,T){T===void 0&&(T=this._tempHitTest);var E=this._tempPoint,A=y.scrollX,P=y.scrollY;T.length=0;var w=v.x,I=v.y;y.getWorldPoint(w,I,E),v.worldX=E.x,v.worldY=E.y;for(var O={x:0,y:0},F=this._tempMatrix,L=this._tempMatrix2,D=0;D<g.length;D++){var b=g[D];if(this.inputCandidate(b,y)){var U=E.x+A*b.scrollFactorX-A,W=E.y+P*b.scrollFactorY-P;b.parentContainer?(b.getWorldTransformMatrix(F,L),F.applyInverse(U,W,O)):f(U,W,b.x,b.y,b.rotation,b.scaleX,b.scaleY,O),this.pointWithinHitArea(b,O.x,O.y)&&T.push(b)}}return T},pointWithinHitArea:function(v,g,y){g+=v.displayOriginX,y+=v.displayOriginY;var T=v.input;return T&&T.hitAreaCallback(T.hitArea,g,y,v)?(T.localX=g,T.localY=y,!0):!1},pointWithinInteractiveObject:function(v,g,y){return v.hitArea?(g+=v.gameObject.displayOriginX,y+=v.gameObject.displayOriginY,v.localX=g,v.localY=y,v.hitAreaCallback(v.hitArea,g,y,v)):!1},transformPointer:function(v,g,y,T){var E=v.position,A=v.prevPosition;A.x=E.x,A.y=E.y;var P=this.scaleManager.transformX(g),w=this.scaleManager.transformY(y),I=v.smoothFactor;!T||I===0?(E.x=P,E.y=w):(E.x=P*I+A.x*(1-I),E.y=w*I+A.y*(1-I))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});d.exports=c},48205:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),x=t(87902),o=t(83419),a=t(93301),r=t(74457),i=t(84409),n=t(20339),l=t(8497),s=t(81154),u=t(8214),f=t(50792),c=t(95540),v=t(23777),g=t(89639),y=t(41212),T=t(37277),E=t(87841),A=t(37303),P=t(44594),w=t(16483),I=t(10690),O=new o({Extends:f,initialize:function(L){f.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(P.BOOT,this.boot,this),L.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var F=this.systems.events;F.on(P.TRANSITION_START,this.transitionIn,this),F.on(P.TRANSITION_OUT,this.transitionOut,this),F.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(P.PRE_UPDATE,this.preUpdate,this),F.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(F){this.isActive()&&this.emit(u.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(u.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var F=this._pendingRemoval,L=this._pendingInsertion,D=F.length,b=L.length;if(!(D===0&&b===0)){for(var U=this._list,W=0;W<D;W++){var H=F[W],Y=U.indexOf(H);Y>-1&&(U.splice(Y,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=U.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(F){this.manager&&this.manager.setCursor(F)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(F,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,F,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,b=this.manager,U=b.pointers;for(D=0;D<U.length;D++)U[D].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(D=0;D<U.length;D++){var Y=0,G=U[D];this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(G),this.getDragState(G)===2&&this.processDragThresholdEvent(G,F),Y>0&&(H=!0)}return H},update:function(F,L){if(!this.isActive())return!1;for(var D=!1,b=0;b<L.length;b++){var U=0,W=L[b];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case a.MOUSE_DOWN:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverOutEvents(W);break;case a.MOUSE_UP:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOverOutEvents(W);break;case a.TOUCH_START:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverEvents(W);break;case a.TOUCH_END:case a.TOUCH_CANCEL:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOutEvents(W);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:U+=this.processDragMoveEvent(W),U+=this.processMoveEvents(W),U+=this.processOverOutEvents(W);break;case a.MOUSE_WHEEL:U+=this.processWheelEvent(W);break}U>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(F,L){L===void 0&&(L=!1),this.disable(F);var D=F.input;D&&(this.removeDebug(F),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,F.input=null),L||this.queueForRemoval(F);var b=this._draggable.indexOf(F);return b>-1&&this._draggable.splice(b,1),F},disable:function(F,L){L===void 0&&(L=!1);var D=F.input;D&&(D.enabled=!1,D.dragState=0);for(var b=this._drag,U=this._over,W=this.manager,H=0,Y;H<W.pointers.length;H++)Y=b[H].indexOf(F),Y>-1&&b[H].splice(Y,1),Y=U[H].indexOf(F),Y>-1&&U[H].splice(Y,1);return L&&this.resetCursor(),this},enable:function(F,L,D,b){return b===void 0&&(b=!1),F.input?F.input.enabled=!0:this.setHitArea(F,L,D),F.input&&b&&!F.input.dropZone&&(F.input.dropZone=b),this},hitTestPointer:function(F){for(var L=this.cameras.getCamerasBelowPointer(F),D=0;D<L.length;D++){for(var b=L[D],U=this.manager.hitTest(F,this._list,b),W=0;W<U.length;W++){var H=U[W];H.input.dropZone&&this._tempZones.push(H)}if(U.length>0)return F.camera=b,U}return F.camera=L[0],[]},processDownEvents:function(F){var L=0,D=this._temp,b=this._eventData,U=this._eventContainer;b.cancelled=!1;for(var W=0;W<D.length;W++){var H=D[W];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(u.GAMEOBJECT_POINTER_DOWN,F,H.input.localX,H.input.localY,U),b.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_DOWN,F,H,U),b.cancelled||!this.isActive())))break}return!b.cancelled&&this.isActive()&&(F.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,F,D):this.emit(u.POINTER_DOWN_OUTSIDE,F)),L},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,L){this._dragState[F.id]=L},processDragThresholdEvent:function(F,L){var D=!1,b=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&n(F.x,F.y,F.downX,F.downY)>=U||b>0&&L>=F.downTime+b)&&(D=!0),D)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var b=L[D],U=b.input;U.dragState=2,U.dragStartX=b.x,U.dragStartY=b.y,U.dragStartXGlobal=F.worldX,U.dragStartYGlobal=F.worldY,U.dragStartCamera=F.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,b.emit(u.GAMEOBJECT_DRAG_START,F,U.dragX,U.dragY),this.emit(u.DRAG_START,F,b)}return this.setDragState(F,4),L.length},processDragDownEvent:function(F){var L=this._temp;if(this._draggable.length===0||L.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var D=[],b=0;b<L.length;b++){var U=L[b];U.input.draggable&&U.input.dragState===0&&D.push(U)}return D.length===0?(this.setDragState(F,0),0):(D.length>1&&(this.sortGameObjects(D,F),this.topOnly&&D.splice(1)),this._drag[F.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;var L=this._tempZones,D=this._drag[F.id];D.length>1&&(D=D.slice(0));for(var b=0;b<D.length;b++){var U=D[b],W=U.input,H=W.target;if(H){var Y=L.indexOf(H);Y===0?(U.emit(u.GAMEOBJECT_DRAG_OVER,F,H),this.emit(u.DRAG_OVER,F,U,H)):Y>0?(U.emit(u.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(u.DRAG_LEAVE,F,U,H),W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H)):(U.emit(u.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(u.DRAG_LEAVE,F,U,H),L[0]?(W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H)):W.target=null)}else!H&&L[0]&&(W.target=L[0],H=W.target,U.emit(u.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(u.DRAG_ENTER,F,U,H));var G,X,V=F.positionToCamera(W.dragStartCamera);if(!U.parentContainer)G=V.x-W.dragX,X=V.y-W.dragY;else{var B=V.x-W.dragStartXGlobal,z=V.y-W.dragStartYGlobal,$=U.getParentRotation(),j=B*Math.cos($)+z*Math.sin($),k=z*Math.cos($)-B*Math.sin($);j*=1/U.parentContainer.scaleX,k*=1/U.parentContainer.scaleY,G=j+W.dragStartX,X=k+W.dragStartY}U.emit(u.GAMEOBJECT_DRAG,F,G,X),this.emit(u.DRAG,F,U,G,X)}return D.length},processDragUpEvent:function(F){var L=this._drag[F.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var b=L[D],U=b.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-b.displayOriginX,U.dragY=U.localY-b.displayOriginY,U.dragStartCamera=null;var W=!1,H=U.target;H&&(b.emit(u.GAMEOBJECT_DROP,F,H),this.emit(u.DROP,F,b,H),U.target=null,W=!0),b.input&&b.input.enabled&&(b.emit(u.GAMEOBJECT_DRAG_END,F,U.dragX,U.dragY,W),this.emit(u.DRAG_END,F,b,W))}}return this.setDragState(F,0),L.splice(0),0},processMoveEvents:function(F){var L=0,D=this._temp,b=this._eventData,U=this._eventContainer;b.cancelled=!1;for(var W=0;W<D.length;W++){var H=D[W];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(u.GAMEOBJECT_POINTER_MOVE,F,H.input.localX,H.input.localY,U),b.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_MOVE,F,H,U),b.cancelled||!this.isActive()||this.topOnly)))break}return!b.cancelled&&this.isActive()&&this.emit(u.POINTER_MOVE,F,D),L},processWheelEvent:function(F){var L=0,D=this._temp,b=this._eventData,U=this._eventContainer;b.cancelled=!1;for(var W=F.deltaX,H=F.deltaY,Y=F.deltaZ,G=0;G<D.length;G++){var X=D[G];if(!(!X.input||!X.input.enabled)&&(L++,X.emit(u.GAMEOBJECT_POINTER_WHEEL,F,W,H,Y,U),b.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_WHEEL,F,X,W,H,Y,U),b.cancelled||!this.isActive())))break}return!b.cancelled&&this.isActive()&&this.emit(u.POINTER_WHEEL,F,D,W,H,Y),L},processOverEvents:function(F){var L=this._temp,D=0,b=L.length,U=[];if(b>0){var W=this.manager,H=this._eventData,Y=this._eventContainer;H.cancelled=!1;for(var G=0;G<b;G++){var X=L[G];if(!(!X.input||!X.input.enabled)&&(U.push(X),W.setCursor(X.input),X.emit(u.GAMEOBJECT_POINTER_OVER,F,X.input.localX,X.input.localY,Y),D++,H.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,X,Y),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,U)}return this._over[F.id]=U,D},processOutEvents:function(F){var L=this._over[F.id],D=0,b=L.length;if(b>0){var U=this.manager,W=this._eventData,H=this._eventContainer;W.cancelled=!1,this.sortGameObjects(L,F);for(var Y=0;Y<b;Y++){var G=L[Y];if(G=L[Y],!(!G.input||!G.input.enabled)&&(U.resetCursor(G.input),G.emit(u.GAMEOBJECT_POINTER_OUT,F,H),D++,W.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,G,H),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(u.POINTER_OUT,F,L),this._over[F.id]=[]}return D},processOverOutEvents:function(F){var L=this._temp,D,b,U=[],W=[],H=[],Y=this._over[F.id],G=this._drag[F.id],X=this.manager;for(D=0;D<Y.length;D++)b=Y[D],L.indexOf(b)===-1&&G.indexOf(b)===-1?U.push(b):H.push(b);for(D=0;D<L.length;D++)b=L[D],Y.indexOf(b)===-1&&W.push(b);var V=U.length,B=0,z=this._eventData,$=this._eventContainer;if(z.cancelled=!1,V>0){for(this.sortGameObjects(U,F),D=0;D<V&&(b=U[D],!(!(!b.input||!b.input.enabled)&&(X.resetCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OUT,F,$),B++,z.cancelled||!this.isActive()||b.input&&b.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,F,b,$),z.cancelled||!this.isActive()))));D++);(!z.cancelled||this.isActive())&&this.emit(u.POINTER_OUT,F,U)}if(V=W.length,z.cancelled=!1,V>0){for(this.sortGameObjects(W,F),D=0;D<V&&(b=W[D],!(!(!b.input||!b.input.enabled)&&(X.setCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OVER,F,b.input.localX,b.input.localY,$),B++,z.cancelled||!this.isActive()||b.input&&b.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,F,b,$),z.cancelled||!this.isActive()))));D++);!z.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,F,W)}return Y=H.concat(W),this._over[F.id]=this.sortGameObjects(Y,F),B},processUpEvents:function(F){var L=this._temp,D=this._eventData,b=this._eventContainer;D.cancelled=!1;for(var U=0;U<L.length;U++){var W=L[U];if(!(!W.input||!W.input.enabled)&&(W.emit(u.GAMEOBJECT_POINTER_UP,F,W.input.localX,W.input.localY,b),D.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(u.GAMEOBJECT_UP,F,W,b),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(F.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,F,L):this.emit(u.POINTER_UP_OUTSIDE,F)),L.length},forceDownState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_DOWN,u.GAMEOBJECT_DOWN,!1)},forceUpState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_UP,u.GAMEOBJECT_UP,!1)},forceOverState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OVER,u.GAMEOBJECT_OVER,!0)},forceOutState:function(F,L){this.forceState(F,L,u.GAMEOBJECT_POINTER_OUT,u.GAMEOBJECT_OUT,!1)},forceState:function(F,L,D,b,U){var W=this._eventData,H=this._eventContainer;W.cancelled=!1,L.input&&L.input.enabled&&(L.emit(D,F,L.input.localX,L.input.localY,H),U&&this.setCursor(L.input),!W.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(b,F,L,H))},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,L){L===void 0&&(L=!0),Array.isArray(F)||(F=[F]);for(var D=0;D<F.length;D++){var b=F[D];b.input.draggable=L;var U=this._draggable.indexOf(b);L&&U===-1?this._draggable.push(b):!L&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var L=this.systems.textures;return i(L,F)},setHitArea:function(F,L,D){if(L===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var b=!1,U=!1,W=!1,H=!1,Y=!1,G=!0;if(y(L)&&Object.keys(L).length){var X=L,V=F.some(function(k){return k.hasOwnProperty("faces")});if(!V){L=c(X,"hitArea",null),D=c(X,"hitAreaCallback",null),Y=c(X,"pixelPerfect",!1);var B=c(X,"alphaTolerance",1);Y&&(L={},D=this.makePixelPerfect(B))}b=c(X,"draggable",!1),U=c(X,"dropZone",!1),W=c(X,"cursor",!1),H=c(X,"useHandCursor",!1),(!L||!D)&&(this.setHitAreaFromTexture(F),G=!1)}else typeof L=="function"&&!D&&(D=L,L={});for(var z=0;z<F.length;z++){var $=F[z];if(Y&&$.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var j=$.input?$.input:r($,L,D);j.customHitArea=G,j.dropZone=U,j.cursor=H?"pointer":W,$.input=j,b&&this.setDraggable($),this.queueForInsertion($)}return this},setHitAreaCircle:function(F,L,D,b,U){U===void 0&&(U=x);var W=new h(L,D,b);return this.setHitArea(F,W,U)},setHitAreaEllipse:function(F,L,D,b,U,W){W===void 0&&(W=s);var H=new l(L,D,b,U);return this.setHitArea(F,H,W)},setHitAreaFromTexture:function(F,L){L===void 0&&(L=A),Array.isArray(F)||(F=[F]);for(var D=0;D<F.length;D++){var b=F[D],U=b.frame,W=0,H=0;if(b.width?(W=b.width,H=b.height):U&&(W=U.realWidth,H=U.realHeight),b.type==="Container"&&(W===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&H!==0&&(b.input=r(b,new E(0,0,W,H),L),this.queueForInsertion(b))}return this},setHitAreaRectangle:function(F,L,D,b,U,W){W===void 0&&(W=A);var H=new E(L,D,b,U);return this.setHitArea(F,H,W)},setHitAreaTriangle:function(F,L,D,b,U,W,H,Y){Y===void 0&&(Y=I);var G=new w(L,D,b,U,W,H);return this.setHitArea(F,G,Y)},enableDebug:function(F,L){L===void 0&&(L=65280);var D=F.input;if(!D||!D.hitArea)return this;var b=D.hitArea,U=b.type,W=D.hitAreaDebug,H=this.systems.add,Y=this.systems.updateList;W&&(Y.remove(W),W.destroy(),W=null);var G=0,X=0;switch(U){case v.CIRCLE:W=H.arc(0,0,b.radius),G=b.x-b.radius,X=b.y-b.radius;break;case v.ELLIPSE:W=H.ellipse(0,0,b.width,b.height),G=b.x-b.width/2,X=b.y-b.height/2;break;case v.LINE:W=H.line(0,0,b.x1,b.y1,b.x2,b.y2);break;case v.POLYGON:W=H.polygon(0,0,b.points);break;case v.RECTANGLE:W=H.rectangle(0,0,b.width,b.height),G=b.x,X=b.y;break;case v.TRIANGLE:W=H.triangle(0,0,b.x1,b.y1,b.x2,b.y2,b.x3,b.y3);break}return W&&(W.isFilled=!1,W.strokeColor=L,W.preUpdate=function(){W.setVisible(F.visible),W.setStrokeStyle(1/F.scale,W.strokeColor),W.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var V=F.x,B=F.y,z=F.rotation,$=F.scaleX,j=F.scaleY;if(F.parentContainer){var k=F.getWorldTransformMatrix();V=k.tx,B=k.ty,z=k.rotation,$=k.scaleX,j=k.scaleY}W.setRotation(z),W.setScale($,j),W.setPosition(V+G*$,B+X*j),W.setScrollFactor(F.scrollFactorX,F.scrollFactorY),W.setDepth(F.depth)},Y.add(W),D.hitAreaDebug=W),this},removeDebug:function(F){var L=F.input;if(L&&L.hitAreaDebug){var D=L.hitAreaDebug;D.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,L){if(F.length<2||!L.camera)return F;var D=L.camera.renderList;return F.sort(function(b,U){var W=Math.max(D.indexOf(b),0),H=Math.max(D.indexOf(U),0);return H-W})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,L){if(!F.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(F);if(F.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-F.parentContainer.getIndex(F);if(F.parentContainer===L)return-1;if(L.parentContainer===F)return 1;for(var D=F.getIndexList(),b=L.getIndexList(),U=Math.min(D.length,b.length),W=0;W<U;W++){var H=D[W],Y=b[W];if(H!==Y)return Y-H}return b.length-D.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var D=this.systems.events;D.off(P.TRANSITION_START,this.transitionIn,this),D.off(P.TRANSITION_OUT,this.transitionOut,this),D.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(P.PRE_UPDATE,this.preUpdate,this),L.events.off(u.GAME_OUT,this.onGameOut,this),L.events.off(u.GAME_OVER,this.onGameOver,this),D.off(P.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,L=0;L<F.length;L++)F[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",O,"input"),d.exports=O},89639:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x={},o={};o.register=function(a,r,i,n,l){x[a]={plugin:r,mapping:i,settingsKey:n,configKey:l}},o.getPlugin=function(a){return x[a]},o.install=function(a){var r=a.scene.sys,i=r.settings.input,n=r.game.config;for(var l in x){var s=x[l].plugin,u=x[l].mapping,f=x[l].settingsKey,c=x[l].configKey;h(i,f,n[c])&&(a[u]=new s(a))}},o.remove=function(a){x.hasOwnProperty(a)&&delete x[a]},d.exports=o},42515:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31040),x=t(83419),o=t(20339),a=t(43855),r=t(47235),i=t(26099),n=t(25892),l=new x({initialize:function(u,f){this.manager=u,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var u=s.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(s,u){return s.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var s=this.position.x,u=this.position.y,f=this.midPoint.x,c=this.midPoint.y;if(!(s===f&&u===c)){var v=r(this.motionFactor,f,s),g=r(this.motionFactor,c,u);a(v,s,.1)&&(v=s),a(g,u,.1)&&(g=u),this.midPoint.set(v,g);var y=s-v,T=u-g;this.velocity.set(y,T),this.angle=h(v,g,s,u),this.distance=Math.sqrt(y*y+T*T)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,u){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,u){this.event=u,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,u){s===void 0&&(s=10),u===void 0&&(u=[]);for(var f=this.prevPosition.x,c=this.prevPosition.y,v=this.position.x,g=this.position.y,y=0;y<s;y++){var T=1/s*y;u[y]={x:r(T,f,v),y:r(T,c,g)}}return u},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});d.exports=l},93301:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};d.exports=S},7179:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="boot"},85375:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="destroy"},39843:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragend"},23388:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragenter"},16133:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="drag"},27829:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragleave"},53904:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragover"},56058:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragstart"},2642:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="drop"},88171:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="gameobjectdown"},36147:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragend"},71692:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragenter"},96149:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="drag"},81285:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragleave"},74048:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragover"},21322:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragstart"},49378:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="drop"},86754:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="gameobjectmove"},86433:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="gameobjectout"},60709:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="gameobjectover"},24081:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerdown"},11172:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointermove"},18907:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerout"},95579:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerover"},35368:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerup"},26972:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="wheel"},47078:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="gameobjectup"},73802:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="gameobjectwheel"},56718:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="gameout"},25936:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="gameover"},27503:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="boot"},50852:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="process"},96438:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="update"},59152:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerlockchange"},47777:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerdown"},27957:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerdownoutside"},19444:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointermove"},54251:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerout"},18667:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerover"},27192:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerup"},24652:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pointerupoutside"},45132:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="wheel"},44512:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="preupdate"},15757:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="shutdown"},41637:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="start"},93802:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="update"},8214:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r){this.pad=a,this.events=a.events,this.index=r,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});d.exports=x},28884:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92734),o=new h({initialize:function(r,i){this.pad=r,this.events=r.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var r=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,r,this,a),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,r,this,a),this.pad.emit(x.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});d.exports=o},99125:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97421),x=t(28884),o=t(83419),a=t(50792),r=t(26099),i=new o({Extends:a,initialize:function(l,s){a.call(this),this.manager=l,this.pad=s,this.id=s.id,this.index=s.index;for(var u=[],f=0;f<s.buttons.length;f++)u.push(new x(this,f));this.buttons=u;var c=[];for(f=0;f<s.axes.length;f++)c.push(new h(this,f));this.axes=c,this.vibration=s.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:v,this._LCRight=u[15]?u[15]:v,this._LCTop=u[12]?u[12]:v,this._LCBottom=u[13]?u[13]:v,this._RCLeft=u[2]?u[2]:v,this._RCRight=u[1]?u[1]:v,this._RCTop=u[3]?u[3]:v,this._RCBottom=u[0]?u[0]:v,this._FBLeftTop=u[4]?u[4]:v,this._FBLeftBottom=u[6]?u[6]:v,this._FBRightTop=u[5]?u[5]:v,this._FBRightBottom=u[7]?u[7]:v;var g={value:0};this._HAxisLeft=c[0]?c[0]:g,this._VAxisLeft=c[1]?c[1]:g,this._HAxisRight=c[2]?c[2]:g,this._VAxisRight=c[3]?c[3]:g,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,s=this.buttons,u=n.buttons,f=s.length;for(l=0;l<f;l++)s[l].update(u[l].value);var c=this.axes,v=n.axes;for(f=c.length,l=0;l<f;l++)c[l].update(v[l]);f>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),f>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});d.exports=i},56654:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(92734),a=t(99125),r=t(35154),i=t(89639),n=t(8214),l=new h({Extends:x,initialize:function(u){x.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(n.BOOT,this.boot,this),u.pluginEvents.on(n.START,this.start,this)},boot:function(){var s=this.scene.sys.game,u=this.settings.input,f=s.config;this.enabled=r(u,"gamepad",f.inputGamepad)&&s.device.input.gamepads,this.target=r(u,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,u=this.target,f=function(c){c.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(c))};this.onGamepadHandler=f,u.addEventListener("gamepadconnected",f,!1),u.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var u=this.gamepads,f=0;f<s.length;f++){var c=s[f];if(c){var v=c.id,g=c.index,y=u[g];if(y)y.id!==v?(y.destroy(),u[g]=new a(this,c)):y.update(c);else{var T=new a(this,c);u[g]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var s=[],u=this.gamepads,f=0;f<u.length;f++)u[f]&&s.push(u[f]);return s},getPad:function(s){for(var u=this.gamepads,f=0;f<u.length;f++)if(u[f]&&u[f].index===s)return u[f]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var u=this.queue.splice(0,s),f=0;f<s;f++){var c=u[f],v=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(o.CONNECTED,v,c):c.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,v,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),d.exports=l},89651:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="down"},7629:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="up"},42206:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="connected"},86544:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="disconnected"},94784:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="down"},14325:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="up"},92734:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93301),x=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=x(!1,o,h),d.exports=o},78970:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),x=t(83419),o=t(8443),a=t(8214),r=t(46032),i=t(29747),n=new x({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(a.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(a.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=r[f.trim().toUpperCase()]),s.indexOf(f)===-1&&s.push(f)}this.preventDefault=s.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=r[f.toUpperCase()]),h(s,f)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});d.exports=n},28846:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(95922),a=t(8443),r=t(35154),i=t(8214),n=t(89639),l=t(30472),s=t(46032),u=t(87960),f=t(74600),c=t(44594),v=t(56583),g=new h({Extends:x,initialize:function(T){x.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(i.BOOT,this.boot,this),T.pluginEvents.on(i.START,this.start,this)},boot:function(){var y=this.settings.input;this.enabled=r(y,"keyboard",!0);var T=r(y,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(y){return this.manager.addCapture(y),this},removeCapture:function(y){return this.manager.removeCapture(y),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(y,T,E){T===void 0&&(T=!0),E===void 0&&(E=!1);var A={};if(typeof y=="string"){y=y.split(",");for(var P=0;P<y.length;P++){var w=y[P].trim();w&&(A[w]=this.addKey(w,T,E))}}else for(var I in y)A[I]=this.addKey(y[I],T,E);return A},addKey:function(y,T,E){T===void 0&&(T=!0),E===void 0&&(E=!1);var A=this.keys;if(y instanceof l){var P=A.indexOf(y);return P>-1?A[P]=y:A[y.keyCode]=y,T&&this.addCapture(y.keyCode),y.setEmitOnRepeat(E),y}return typeof y=="string"&&(y=s[y.toUpperCase()]),A[y]||(A[y]=new l(this,y),T&&this.addCapture(y),A[y].setEmitOnRepeat(E)),A[y]},removeKey:function(y,T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);var A=this.keys,P;if(y instanceof l){var w=A.indexOf(y);w>-1&&(P=this.keys[w],this.keys[w]=void 0)}else typeof y=="string"&&(y=s[y.toUpperCase()]);return A[y]&&(P=A[y],A[y]=void 0),P&&(P.plugin=null,E&&this.removeCapture(P.keyCode),T&&P.destroy()),this},removeAllKeys:function(y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);for(var E=this.keys,A=0;A<E.length;A++){var P=E[A];P&&(E[A]=void 0,T&&this.removeCapture(P.keyCode),y&&P.destroy())}return this},createCombo:function(y,T){return new u(this,y,T)},checkDown:function(y,T){if(T===void 0&&(T=0),this.enabled&&y.isDown){var E=v(this.time-y.timeDown,T);if(E>y._tick)return y._tick=E,!0}return!1},update:function(){var y=this.manager.queue,T=y.length;if(!(!this.isActive()||T===0))for(var E=this.keys,A=0;A<T;A++){var P=y[A],w=P.keyCode,I=E[w],O=!1;P.cancelled===void 0&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),P.cancelled!==-1&&(w===this.prevCode&&P.timeStamp===this.prevTime&&P.type===this.prevType||(this.prevCode=w,this.prevTime=P.timeStamp,this.prevType=P.type,P.type==="keydown"?(I&&(O=I.isDown,I.onDown(P)),!P.cancelled&&(!I||!O)&&(f[w]&&this.emit(o.KEY_DOWN+f[w],P),P.cancelled||this.emit(o.ANY_KEY_DOWN,P))):(I&&I.onUp(P),P.cancelled||(f[w]&&this.emit(o.KEY_UP+f[w],P),P.cancelled||this.emit(o.ANY_KEY_UP,P))),P.cancelled===1&&(P.cancelled=0)))}},resetKeys:function(){for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",g,"keyboard","keyboard","inputKeyboard"),d.exports=g},66970:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};d.exports=S},87960:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95922),o=t(95540),a=t(68769),r=t(92803),i=new h({initialize:function(l,s,u){if(u===void 0&&(u={}),s.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<s.length;f++){var c=s[f];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(u,"resetOnWrongKey",!0),this.maxKeyDelay=o(u,"maxKeyDelay",0),this.resetOnMatch=o(u,"resetOnMatch",!1),this.deleteOnMatch=o(u,"deleteOnMatch",!1);var v=this,g=function(y){if(!(v.matched||!v.enabled)){var T=a(y,v);T&&(v.manager.emit(x.COMBO_MATCH,v,y),v.resetOnMatch?r(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=g,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});d.exports=i},68769:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66970),x=function(o,a){if(a.matched)return!0;var r=!1,i=!1;if(o.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var n=a.timeLastMatched+a.maxKeyDelay;o.timeStamp<=n&&(i=!0,r=h(o,a))}else i=!0,r=h(o,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=o.timeStamp,a.matched=!0,a.timeMatched=o.timeStamp),r};d.exports=x},92803:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};d.exports=S},92612:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="keydown"},23345:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="keyup"},21957:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="keycombomatch"},44743:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="down"},3771:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="keydown-"},46358:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="keyup-"},75674:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="up"},95922:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var x=t.plugin.game.loop.time-t.timeDown;return t.isDown&&x<h};d.exports=S},90229:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};d.exports=S},38796:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};d.exports=S},30472:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(95922),a=new h({Extends:x,initialize:function(i,n){x.call(this),this.plugin=i,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});d.exports=a},46032:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};d.exports=S},74600:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46032),x={};for(var o in h)x[h[o]]=o;d.exports=x},41170:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var x=t.plugin.game.loop.time-t.timeUp;return t.isUp&&x<h};d.exports=S},85098:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89357),o=t(8214),a=t(29747),r=new h({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var n=this,l=this.manager,s=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(c),n.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){u&&window.focus(),!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(c),n.preventDefaultDown&&c.target===s&&c.preventDefault())},this.onMouseDownWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==s&&l.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(c),n.preventDefaultUp&&c.target===s&&c.preventDefault())},this.onMouseUpWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==s&&l.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(c),n.preventDefaultWheel&&c.target===s&&c.preventDefault()};var f={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,f),i.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(c){var v=n.target;n.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,l.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});d.exports=r},87078:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={MouseManager:t(85098)}},36210:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(8214),o=t(29747),a=new h({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,i.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var i=this,n=this.manager,l=n.canvas,s=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchMove(v),i.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){s&&window.focus(),!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchStart(v),i.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchEnd(v),i.capture&&v.cancelable&&v.target===l&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&v.target!==l&&n.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchCancel(v),i.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&i.enabled&&n&&n.enabled&&n.onTouchCancel(v)};var u=this.capture,f={passive:!0},c={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,u?c:f),r.addEventListener("touchmove",this.onTouchMove,u?c:f),r.addEventListener("touchend",this.onTouchEnd,u?c:f),r.addEventListener("touchcancel",this.onTouchCancel,u?c:f),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});d.exports=a},95618:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={TouchManager:t(36210)}},41299:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(54899),a=t(95540),r=t(98356),i=t(3374),n=t(84376),l=t(92638),s=new h({initialize:function(f,c){if(this.loader=f,this.cache=a(c,"cache",!1),this.type=a(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(c,"key",!1);var v=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var g=a(c,"url");g===void 0?g=f.path+v+"."+a(c,"extension",""):typeof g=="string"&&!g.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(g=f.path+g),this.url=g,this.src="",this.xhrSettings=l(a(c,"responseType",void 0)),a(c,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(c,"config",{}),this.multiFile,this.linkFile,this.base64=typeof g=="string"&&g.indexOf("data:")===0,this.retryAttempts=a(c,"maxRetries",f.maxRetries)},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===x.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=x.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(u,f){var c=u.responseURL&&this.loader.localSchemes.some(function(y){return u.responseURL.indexOf(y)===0}),v=c&&f.target.status===0,g=!(f.target&&f.target.status!==200)||v;u.readyState===4&&u.status>=400&&u.status<=599&&(g=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,g)},onBase64Load:function(u){this.xhrLoader=u,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(u){if(this.state!==x.FILE_PENDING_DESTROY){u===void 0&&(u=this.data);var f=this.key,c=this.type;this.loader.emit(o.FILE_COMPLETE,f,c,u),this.loader.emit(o.FILE_KEY_COMPLETE+c+"-"+f,f,c,u),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(u,f,c){if(typeof URL=="function")u.src=URL.createObjectURL(f);else{var v=new FileReader;v.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(f.type||c)+";base64,"+v.result.split(",")[1]},v.onerror=u.onerror,v.readAsDataURL(f)}},s.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},d.exports=s},74099:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(h){for(var x in S)h[x]=S[x]},register:function(h,x){S[h]=x},destroy:function(){S={}}};d.exports=t},98356:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};d.exports=S},74261:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(35072),a=t(50792),r=t(54899),i=t(74099),n=t(95540),l=t(35154),s=t(41212),u=t(37277),f=t(44594),c=t(92638),v=new h({Extends:a,initialize:function(y){a.call(this);var T=y.sys.game.config,E=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(E,"baseURL",T.loaderBaseURL)),this.setPath(n(E,"path",T.loaderPath)),this.setPrefix(n(E,"prefix",T.loaderPrefix)),this.maxParallelDownloads=n(E,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=c(n(E,"responseType",T.loaderResponseType),n(E,"async",T.loaderAsync),n(E,"user",T.loaderUser),n(E,"password",T.loaderPassword),n(E,"timeout",T.loaderTimeout),n(E,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=n(E,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=n(E,"imageLoadType",T.loaderImageLoadType),this.localSchemes=n(E,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(E,"maxRetries",T.loaderMaxRetries),y.sys.events.once(f.BOOT,this.boot,this),y.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(g){return g===void 0&&(g=""),g!==""&&g.substr(-1)!=="/"&&(g=g.concat("/")),this.baseURL=g,this},setPath:function(g){return g===void 0&&(g=""),g!==""&&g.substr(-1)!=="/"&&(g=g.concat("/")),this.path=g,this},setPrefix:function(g){return g===void 0&&(g=""),this.prefix=g,this},setCORS:function(g){return this.crossOrigin=g,this},addFile:function(g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++){var T=g[y];this.keyExists(T)||(this.list.set(T),this.emit(r.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(g){var y=g.hasCacheConflict();return y||this.list.iterate(function(T){if(T.type===g.type&&T.key===g.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===g.type&&T.key===g.key)return y=!0,!1}),this.queue.iterate(function(T){if(T.type===g.type&&T.key===g.key)return y=!0,!1})),y},addPack:function(g,y){if(typeof y=="string"){var T=l(g,y);T&&(g={packKey:T})}var E=0,A=this.baseURL,P=this.path,w=this.prefix;for(var I in g)if(Object.prototype.hasOwnProperty.call(g,I)){var O=g[I],F=n(O,"baseURL",A),L=n(O,"path",P),D=n(O,"prefix",w),b=n(O,"files",null),U=n(O,"defaultType","void");if(Array.isArray(b)){this.setBaseURL(F),this.setPath(L),this.setPrefix(D);for(var W=0;W<b.length;W++){var H=b[W],Y=H.hasOwnProperty("type")?H.type:U;this[Y]&&(this[Y](H),E++)}}}return this.setBaseURL(A),this.setPath(P),this.setPrefix(w),E>0},removePack:function(g,y){var T=this.systems.anims,E=this.cacheManager,A=this.textureManager,P={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},w;if(s(g))w=g;else if(w=E.json.get(g),!w){console.warn("Asset Pack not found in JSON cache:",g);return}y&&(w={_:w[y]});for(var I in w){var O=w[I],F=n(O,"prefix",""),L=n(O,"files"),D=n(O,"defaultType");if(Array.isArray(L))for(var b=0;b<L.length;b++){var U=L[b],W=U.hasOwnProperty("type")?U.type:D;if(!W){console.warn("No type:",U);continue}var H=F+U.key;if(W==="animation"&&T.remove(H),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(A.remove(H),!P[W]))){if(W==="pack"){this.removePack(H,U.dataKey);continue}if(W==="spine"){var Y=E.custom.spine.get(H);if(!Y)continue;var G=Y.prefix===void 0?"":Y.prefix;E.custom.spine.remove(H);var X=E.custom.spineTextures.get(H);if(!X)continue;E.custom.spineTextures.remove(H);for(var V=0;V<X.pages.length;V++){var B=X.pages[V],z=G+B.name,$=H+":"+z;A.exists($)?A.remove($):A.remove(z)}}var j=P[W];if(j!==null){if(!j){console.warn("Unknown type:",W);continue}var k=E[j];k.remove(H)}}}}},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(g){if((g.state===x.FILE_POPULATED||g.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(g),this.list.delete(g),g.crossOrigin||(g.crossOrigin=this.crossOrigin),g.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(g,y){this.inflight&&(this.inflight.delete(g),this.updateProgress(),y?(this.totalComplete++,this.queue.set(g),this.emit(r.FILE_LOAD,g),g.onProcess()):(this.totalFailed++,this._deleteQueue.set(g),this.emit(r.FILE_LOAD_ERROR,g),this.fileProcessComplete(g)))},fileProcessComplete:function(g){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(g.state===x.FILE_ERRORED?g.multiFile&&g.multiFile.onFileFailed(g):g.state===x.FILE_COMPLETE&&(g.multiFile?g.multiFile.isReadyToProcess()&&(g.multiFile.addToCache(),g.multiFile.pendingDestroy()):(g.addToCache(),g.pendingDestroy())),this.queue.delete(g),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(g){this._deleteQueue.set(g)},saveJSON:function(g,y){return this.save(JSON.stringify(g),y)},save:function(g,y,T){y===void 0&&(y="file.json"),T===void 0&&(T="application/json");var E=new Blob([g],{type:T}),A=URL.createObjectURL(E),P=document.createElement("a");return P.download=y,P.textContent="Download "+y,P.href=A,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var g=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(n(y,"baseURL",g.loaderBaseURL)),this.setPath(n(y,"path",g.loaderPath)),this.setPrefix(n(y,"prefix",g.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",v,"load"),d.exports=v},3374:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(92638),o=function(a,r){var i=a===void 0?x():h({},a);if(r)for(var n in r)r[n]!==void 0&&(i[n]=r[n]);return i};d.exports=o},26430:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(54899),a=new h({initialize:function(i,n,l,s){var u=[];s.forEach(function(v){v&&u.push(v)}),this.loader=i,this.type=n,this.key=l;var f=this.key;i.prefix&&i.prefix!==""&&(this.key=i.prefix+f),this.multiKeyIndex=i.multiKeyIndex++,this.files=u,this.state=x.FILE_PENDING,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var c=0;c<u.length;c++)u[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var i=this.files.indexOf(r);i!==-1&&this.pending--},onFileFailed:function(r){var i=this.files.indexOf(r);i!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var r=this.key,i=this.type;this.loader.emit(o.FILE_COMPLETE,r,i),this.loader.emit(o.FILE_KEY_COMPLETE+i+"-"+r,r,i),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});d.exports=a},84376:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3374),x=function(o,a){var r=h(a,o.xhrSettings);if(o.base64){var i=o.url.split(";base64,").pop()||o.url.split(",").pop(),n={responseText:atob(i)};o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,r.async,r.user,r.password),l.responseType=o.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var s in r.headers)l.setRequestHeader(s,r.headers[s]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};d.exports=x},92638:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a,r){return t===void 0&&(t=""),h===void 0&&(h=!0),x===void 0&&(x=""),o===void 0&&(o=""),a===void 0&&(a=0),r===void 0&&(r=!1),{responseType:t,async:h,user:x,password:o,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};d.exports=S},23906:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};d.exports=S},42155:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="addfile"},38991:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="complete"},27540:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="filecomplete"},87464:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="filecomplete-"},94486:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="loaderror"},13035:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="load"},38144:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="fileprogress"},97520:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="postprocess"},85595:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="progress"},55680:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="start"},54899:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(518),a=t(54899),r=new h({Extends:o,initialize:function(n,l,s,u,f){o.call(this,n,l,s,u,f),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,s,l));return this}),d.exports=r},76272:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,c,v,g,y){var T,E;if(r(f)){var A=f;f=o(A,"key"),T=new a(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new i(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,f,c,g),E=new i(u,f,v,y);T.linkFile?n.call(this,u,"atlasjson",f,[T,E,T.linkFile]):n.call(this,u,"atlasjson",f,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,f),u.addToCache(),this.complete=!0}}});x.register("aseprite",function(s,u,f,c,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,c,v),this.addFile(g.files);return this}),d.exports=l},38734:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,c,v,g,y){var T,E;if(r(f)){var A=f;f=o(A,"key"),T=new a(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new i(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","json"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,f,c,g),E=new i(u,f,v,y);T.linkFile?n.call(this,u,"atlasjson",f,[T,E,T.linkFile]):n.call(this,u,"atlasjson",f,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,f),this.complete=!0}}});x.register("atlas",function(s,u,f,c,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,c,v),this.addFile(g.files);return this}),d.exports=l},74599:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(57318),l=new h({Extends:i,initialize:function(u,f,c,v,g,y){var T,E;if(r(f)){var A=f;f=o(A,"key"),T=new a(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new n(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","xml"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,f,c,g),E=new n(u,f,v,y);T.linkFile?i.call(this,u,"atlasxml",f,[T,E,T.linkFile]):i.call(this,u,"atlasxml",f,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,u.data,f),this.complete=!0}}});x.register("atlasXML",function(s,u,f,c,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,c,v),this.addFile(g.files);return this}),d.exports=l},21097:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(89749),n=t(41212),l=new h({Extends:o,initialize:function(u,f,c,v,g){if(n(f)){var y=f;f=r(y,"key"),v=r(y,"xhrSettings"),g=r(y,"context",g)}var T={type:"audio",cache:u.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:f,url:c.url,xhrSettings:v,config:{context:g}};o.call(this,u,T)},onProcess:function(){this.state=x.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){s.data=u,s.onProcessComplete()},function(u){console.error("Error decoding audio: "+s.key+" - ",u?u.message:null),s.onProcessError()}),this.config.context=null}});l.create=function(s,u,f,c,v){var g=s.systems.game,y=g.config.audio,T=g.device.audio;n(u)&&(f=r(u,"url",[]),c=r(u,"config",{}));var E=l.getAudioURL(g,f);return E?T.webAudio&&!y.disableWebAudio?new l(s,u,E,v,g.sound.context):new i(s,u,E,c):(console.warn('No audio URLs for "%s" can play on this device',u),null)},l.getAudioURL=function(s,u){Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var c=r(u[f],"url",u[f]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var v=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=r(u[f],"type",v?v[1]:"").toLowerCase(),s.device.audio[v])return{url:c,type:v}}return null},a.register("audio",function(s,u,f,c){var v=this.systems.game,g=v.config.audio,y=v.device.audio;if(g.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(s))for(var E=0;E<s.length;E++)T=l.create(this,s[E]),T&&this.addFile(T);else T=l.create(this,s,u,f,c),T&&this.addFile(T);return this}),d.exports=l},89524:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21097),x=t(83419),o=t(74099),a=t(95540),r=t(41212),i=t(518),n=t(26430),l=new x({Extends:n,initialize:function(u,f,c,v,g,y,T){if(r(f)){var E=f;f=a(E,"key"),c=a(E,"jsonURL"),v=a(E,"audioURL"),g=a(E,"audioConfig"),y=a(E,"audioXhrSettings"),T=a(E,"jsonXhrSettings")}var A;if(!v)A=new i(u,f,c,T),n.call(this,u,"audiosprite",f,[A]),this.config.resourceLoad=!0,this.config.audioConfig=g,this.config.audioXhrSettings=y;else{var P=h.create(u,f,v,g,y);P&&(A=new i(u,f,c,T),n.call(this,u,"audiosprite",f,[P,A]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var f=s.data.resources,c=a(this.config,"audioConfig"),v=a(this.config,"audioXhrSettings"),g=h.create(this.loader,s.key,f,c,v);g&&(this.addToMultiFile(g),this.loader.addFile(g))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1];s.addToCache(),u.addToCache(),this.complete=!0}}});o.register("audioSprite",function(s,u,f,c,v,g){var y=this.systems.game,T=y.config.audio,E=y.device.audio;if(T&&T.noAudio||!E.webAudio&&!E.audioData)return this;var A;if(Array.isArray(s))for(var P=0;P<s.length;P++)A=new l(this,s[P]),A.files&&this.addFile(A.files);else A=new l(this,s,u,f,c,v,g),A.files&&this.addFile(A.files);return this})},85722:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c,v){var g="bin";if(i(u)){var y=u;u=r(y,"key"),f=r(y,"url"),c=r(y,"xhrSettings"),g=r(y,"extension",g),v=r(y,"dataType",v)}var T={type:"binary",cache:s.cacheManager.binary,extension:g,responseType:"arraybuffer",key:u,url:f,xhrSettings:c,config:{dataType:v}};o.call(this,s,T)},onProcess:function(){this.state=x.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(l,s,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,f,u));return this}),d.exports=n},97025:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(21859),l=t(57318),s=new h({Extends:i,initialize:function(f,c,v,g,y,T){var E,A;if(r(c)){var P=c;c=o(P,"key"),E=new a(f,{key:c,url:o(P,"textureURL"),extension:o(P,"textureExtension","png"),normalMap:o(P,"normalMap"),xhrSettings:o(P,"textureXhrSettings")}),A=new l(f,{key:c,url:o(P,"fontDataURL"),extension:o(P,"fontDataExtension","xml"),xhrSettings:o(P,"fontDataXhrSettings")})}else E=new a(f,c,v,y),A=new l(f,c,g,T);E.linkFile?i.call(this,f,"bitmapfont",c,[E,A,E.linkFile]):i.call(this,f,"bitmapfont",c,[E,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1];u.addToCache();var c=u.cache.get(u.key),v=n(f.data,u.cache.getFrame(u.key),0,0,c);this.loader.cacheManager.bitmapFont.add(u.key,{data:v,texture:u.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(u,f,c,v,g){var y;if(Array.isArray(u))for(var T=0;T<u.length;T++)y=new s(this,u[T]),this.addFile(y.files);else y=new s(this,u,f,c,v,g),this.addFile(y.files);return this}),d.exports=s},16024:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c){var v="css";if(i(u)){var g=u;u=r(g,"key"),f=r(g,"url"),c=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"script",cache:!1,extension:v,responseType:"text",key:u,url:f,xhrSettings:c};o.call(this,s,y)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),d.exports=n},69559:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38734),x=t(85722),o=t(83419),a=t(74099),r=t(95540),i=t(19550),n=t(41212),l=t(518),s=t(31403),u=t(46975),f=t(59327),c=t(26430),v=t(82038),g=t(55222),y=new o({Extends:c,initialize:function(E,A,P,w){if(P.multiAtlasURL){var I=new l(E,{key:A,url:P.multiAtlasURL,xhrSettings:w,config:P});c.call(this,E,"texture",A,[I])}else{var O=P.textureURL.substr(P.textureURL.length-3);P.type||(P.type=O.toLowerCase()==="ktx"?"KTX":"PVR");var F=new x(E,{key:A,url:P.textureURL,extension:O,xhrSettings:w,config:P});if(P.atlasURL){var L=new l(E,{key:A,url:P.atlasURL,xhrSettings:w,config:P});c.call(this,E,"texture",A,[F,L])}else c.call(this,E,"texture",A,[F])}this.config=P},onFileComplete:function(T){var E=this.files.indexOf(T);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var A=T.data.textures,P=this.config,w=this.loader,I=w.baseURL,O=w.path,F=w.prefix,L=r(P,"multiBaseURL",this.baseURL),D=r(P,"multiPath",this.path),b=r(P,"prefix",this.prefix),U=r(P,"textureXhrSettings");L&&w.setBaseURL(L),D&&w.setPath(D),b&&w.setPrefix(b);for(var W=0;W<A.length;W++){var H=A[W].image,Y="CMA"+this.multiKeyIndex+"_"+H,G=new x(w,Y,H,U);if(this.addToMultiFile(G),w.addFile(G),A[W].normalMap){var X=new x(w,Y,A[W].normalMap,U);X.type="normalMap",G.setLink(X),this.addToMultiFile(X),w.addFile(X)}}w.setBaseURL(I),w.setPath(O),w.setPrefix(F)}}},addToCache:function(){function T(L){console.warn('Compressed Texture Invalid: "'+I.key+'". '+L)}if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,P=this.loader.textureManager,w,I=this.files[0],O=this.files[1];if(E.type==="PVR"?w=v(I.data):E.type==="KTX"&&(w=s(I.data),w||T("KTX file contains unsupported format.")),w&&!g(w)&&(T("Texture dimensions failed verification. Check the texture format specifications for "+E.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!A.supportsCompressedTexture(E.format,w.internalFormat)&&(T("Texture format "+E.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=A.getCompressedTextureName(E.format,w.internalFormat);var F=O&&O.data?O.data:null;P.addCompressedTexture(I.key,w,F)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,E=this.files[0],A=[],P=[],w=[],I=this.loader.systems.renderer,O=this.loader.textureManager,F,L=1;L<this.files.length;L++){var D=this.files[L];if(D.type!=="normalMap")for(var b=D.key.indexOf("_"),U=D.key.substr(b+1),W=D.data,H=0;H<E.data.textures.length;H++){var Y=E.data.textures[H];if(Y.image===U){T.type==="PVR"?F=v(W):T.type==="KTX"&&(F=s(W)),F&&I.supportsCompressedTexture(T.format,F.internalFormat)&&(F.format=I.getCompressedTextureName(T.format,F.internalFormat),P.push(F),A.push(Y),D.linkFile&&w.push(D.linkFile.data));break}}}w.length===0&&(w=void 0),O.addAtlasJSONArray(this.key,P,A,w),this.complete=!0}});a.register("texture",function(T,E,A){var P=this.systems.renderer,w=function(O,F,L,D){var b={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(F)){var U=F;F=r(U,"key"),L=r(U,"url"),D=r(U,"xhrSettings")}var W=!1;for(var H in L)if(P.supportsCompressedTexture(H)){var Y=L[H];typeof Y=="string"?b.textureURL=Y:b=u(Y,b),b.format=H.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",F);else if(b.format==="IMG"){var G,X;b.multiAtlasURL?(X=new f(O,F,b.multiAtlasURL,b.multiPath,b.multiBaseURL,D),G=X.files):b.atlasURL?(X=new h(O,F,b.textureURL,b.atlasURL,D),G=X.files):G=new i(O,F,b.textureURL,D),O.addFile(G)}else{var V=new y(O,F,b,D);O.addFile(V.files)}};if(Array.isArray(T))for(var I=0;I<T.length;I++)w(this,T[I]);else w(this,T,E,A);return this}),d.exports=y},87674:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(98356),n=t(41212),l=new h({Extends:o,initialize:function(u,f,c,v,g,y){var T="ttf";if(n(f)){var E=f;f=r(E,"key"),c=r(E,"url"),v=r(E,"format","truetype"),g=r(E,"descriptors",null),y=r(E,"xhrSettings"),T=r(E,"extension",T)}else v===void 0&&(v="truetype");var A={type:"font",cache:!1,extension:T,responseType:"text",key:f,url:c,xhrSettings:y};o.call(this,u,A),this.data={format:v,descriptors:g},this.state=x.FILE_POPULATED},onProcess:function(){this.state=x.FILE_PROCESSING,this.src=i(this,this.loader.baseURL);var s,u=this.key,f="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?s=new FontFace(u,f,this.data.descriptors):s=new FontFace(u,f);var c=this;s.load().then(function(){document.fonts.add(s),document.body.classList.add("fonts-loaded"),c.onProcessComplete()}).catch(function(){console.warn("Font failed to load",f),c.onProcessComplete()})}});a.register("font",function(s,u,f,c,v){if(Array.isArray(s))for(var g=0;g<s.length;g++)this.addFile(new l(this,s[g]));else this.addFile(new l(this,s,u,f,c,v));return this}),d.exports=l},47931:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(73894),l=new h({Extends:o,initialize:function(u,f,c,v,g){var y="glsl";if(i(f)){var T=f;f=r(T,"key"),c=r(T,"url"),v=r(T,"shaderType","fragment"),g=r(T,"xhrSettings"),y=r(T,"extension",y)}else v===void 0&&(v="fragment");var E={type:"glsl",cache:u.cacheManager.shader,extension:y,responseType:"text",key:f,url:c,config:{shaderType:v},xhrSettings:g};o.call(this,u,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),u=this.extractBlock(s,0);if(u)for(;u;){var f=this.getShaderName(u.header),c=this.getShaderType(u.header),v=this.getShaderUniforms(u.header),g=u.shader;if(this.cache.has(f)){var y=this.cache.get(f);c==="fragment"?y.fragmentSrc=g:y.vertexSrc=g,y.uniforms||(y.uniforms=v)}else c==="fragment"?this.cache.add(f,new n(f,g,"",v)):this.cache.add(f,new n(f,"",g,v));u=this.extractBlock(s,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(s){for(var u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(s){for(var u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var u={},f=0;f<s.length;f++){var c=s[f].trim();if(c.substring(0,8)==="uniform."){var v=c.indexOf(":");if(v){var g=c.substring(8,v);try{u[g]=JSON.parse(c.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+g)}}}}return u},extractBlock:function(s,u){for(var f=-1,c=-1,v=-1,g=!1,y=!1,T=[],E=[],A=u;A<s.length;A++){var P=s[A].trim();if(P==="---")if(f===-1)f=A,g=!0;else if(g)c=A,g=!1,y=!0;else{y=!1;break}else g?T.push(P):y&&(E.push(P),v=A)}return!g&&c!==-1?{header:T,shader:E.join(`
`),offset:v}:null}});a.register("glsl",function(s,u,f,c){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,f,c));return this}),d.exports=l},89749:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(54899),o=t(41299),a=t(95540),r=t(98356),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c){if(i(u)){var v=u;u=a(v,"key"),c=a(v,"config",c)}var g={type:"audio",cache:s.cacheManager.audio,extension:f.type,key:u,url:f.url,config:c};o.call(this,s,g),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var s=this.data[l];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var s=l.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<l;s++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+s).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(s=0;s<this.data.length;s++)u=this.data[s],u.src=r(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});d.exports=n},88470:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c){var v="html";if(i(u)){var g=u;u=r(g,"key"),f=r(g,"url"),c=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"text",cache:s.cacheManager.html,extension:v,responseType:"text",key:u,url:f,xhrSettings:c};o.call(this,s,y)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),d.exports=n},14643:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c,v,g){c===void 0&&(c=512),v===void 0&&(v=512);var y="html";if(i(u)){var T=u;u=r(T,"key"),f=r(T,"url"),g=r(T,"xhrSettings"),y=r(T,"extension",y),c=r(T,"width",c),v=r(T,"height",v)}var E={type:"html",cache:s.textureManager,extension:y,responseType:"text",key:u,url:f,xhrSettings:g,config:{width:c,height:v}};o.call(this,s,E)},onProcess:function(){this.state=x.FILE_PROCESSING;var l=this.config.width,s=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+s+'px" viewBox="0 0 '+l+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var f=[u.join(`
`)],c=this;try{var v=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=x.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(c.data),c.onProcessError()},o.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(l,s,u,f,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,c));return this}),d.exports=n},19550:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(98356),l=new h({Extends:o,initialize:function s(u,f,c,v,g){var y="png",T;if(i(f)){var E=f;f=r(E,"key"),c=r(E,"url"),T=r(E,"normalMap"),v=r(E,"xhrSettings"),y=r(E,"extension",y),g=r(E,"frameConfig")}Array.isArray(c)&&(T=c[1],c=c[0]);var A={type:"image",cache:u.textureManager,extension:y,responseType:"blob",key:f,url:c,xhrSettings:v,config:g};if(o.call(this,u,A),T){var P=new s(u,this.key,T,v,g);P.type="normalMap",this.setLink(P),u.addFile(P)}this.useImageElementLoad=u.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){o.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(s.data),s.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=x.FILE_PROCESSING,s===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=x.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=x.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(s,u,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f));return this}),d.exports=l},518:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(35154),n=t(41212),l=new h({Extends:o,initialize:function(u,f,c,v,g){var y="json";if(n(f)){var T=f;f=r(T,"key"),c=r(T,"url"),v=r(T,"xhrSettings"),y=r(T,"extension",y),g=r(T,"dataKey",g)}var E={type:"json",cache:u.cacheManager.json,extension:y,responseType:"text",key:f,url:c,xhrSettings:v,config:g};o.call(this,u,E),n(c)&&(g?this.data=i(c,g):this.data=c,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var u=this.config;typeof u=="string"?this.data=i(s,u,s):this.data=s}this.onProcessComplete()}});a.register("json",function(s,u,f,c){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new l(this,s[v]));else this.addFile(new l(this,s,u,c,f));return this}),d.exports=l},59327:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),l=new h({Extends:n,initialize:function(u,f,c,v,g,y,T){if(r(f)){var E=f;f=o(E,"key"),o(E,"url",!1)?c=o(E,"url"):c=o(E,"atlasURL"),y=o(E,"xhrSettings"),v=o(E,"path"),g=o(E,"baseURL"),T=o(E,"textureXhrSettings")}var A=new i(u,f,c,y);n.call(this,u,"multiatlas",f,[A]),this.config.path=v,this.config.baseURL=g,this.config.textureXhrSettings=T},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var f=s.data.textures,c=this.config,v=this.loader,g=v.baseURL,y=v.path,T=v.prefix,E=o(c,"baseURL",this.baseURL),A=o(c,"path",this.path),P=o(c,"prefix",this.prefix),w=o(c,"textureXhrSettings");v.setBaseURL(E),v.setPath(A),v.setPrefix(P);for(var I=0;I<f.length;I++){var O=f[I].image,F="MA"+this.multiKeyIndex+"_"+O,L=new a(v,F,O,w);if(this.addToMultiFile(L),v.addFile(L),f[I].normalMap){var D=new a(v,F,f[I].normalMap,w);D.type="normalMap",L.setLink(D),this.addToMultiFile(D),v.addFile(D)}}v.setBaseURL(g),v.setPath(y),v.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],u=[],f=[],c=[],v=1;v<this.files.length;v++){var g=this.files[v];if(g.type!=="normalMap")for(var y=g.key.indexOf("_"),T=g.key.substr(y+1),E=g.data,A=0;A<s.data.textures.length;A++){var P=s.data.textures[A];if(P.image===T){f.push(E),u.push(P),g.linkFile&&c.push(g.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,u,c),this.complete=!0}}});x.register("multiatlas",function(s,u,f,c,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,c,v),this.addFile(g.files);return this}),d.exports=l},99297:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),a=t(41212),r=t(26430),i=t(34328),n=new h({Extends:r,initialize:function(s,u,f,c){var v="js",g=[];if(a(u)){var y=u;u=o(y,"key"),f=o(y,"url"),c=o(y,"xhrSettings"),v=o(y,"extension",v)}Array.isArray(f)||(f=[f]);for(var T=0;T<f.length;T++){var E=new i(s,{key:u+"_"+T.toString(),url:f[T],extension:v,xhrSettings:c});E.onProcess=function(){this.onProcessComplete()},g.push(E)}r.call(this,s,"scripts",u,g)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var s=this.files[l];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});x.register("scripts",function(l,s,u){var f;if(Array.isArray(l))for(var c=0;c<l.length;c++)f=new n(this,l[c]),this.addFile(f.files);else f=new n(this,l,s,u),this.addFile(f.files);return this}),d.exports=n},41846:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),a=t(41212),r=t(26430),i=t(85048),n=t(61485),l=t(78776),s=new h({Extends:r,initialize:function(f,c,v,g,y,T){var E,A,P=f.cacheManager.obj;if(a(c)){var w=c;c=o(w,"key"),E=new l(f,{key:c,type:"obj",cache:P,url:o(w,"url"),extension:o(w,"extension","obj"),xhrSettings:o(w,"xhrSettings"),config:{flipUV:o(w,"flipUV",y)}}),g=o(w,"matURL"),g&&(A=new l(f,{key:c,type:"mat",cache:P,url:g,extension:o(w,"matExtension","mat"),xhrSettings:o(w,"xhrSettings")}))}else E=new l(f,{key:c,url:v,type:"obj",cache:P,extension:"obj",xhrSettings:T,config:{flipUV:y}}),g&&(A=new l(f,{key:c,url:g,type:"mat",cache:P,extension:"mat",xhrSettings:T}));r.call(this,f,"obj",c,[E,A])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1],c=i(u.data,u.config.flipUV);f&&(c.materials=n(f.data)),u.cache.add(u.key,c),this.complete=!0}}});x.register("obj",function(u,f,c,v,g){var y;if(Array.isArray(u))for(var T=0;T<u.length;T++)y=new s(this,u[T]),this.addFile(y.files);else y=new s(this,u,f,c,v,g),this.addFile(y.files);return this}),d.exports=s},58610:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(74099),a=t(518),r=new h({Extends:a,initialize:function(n,l,s,u,f){a.call(this,n,l,s,u,f),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var i={};i[this.config]=this.data,this.data=i}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,s,l));return this}),d.exports=r},48988:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c,v,g){var y="js";if(i(u)){var T=u;u=r(T,"key"),f=r(T,"url"),g=r(T,"xhrSettings"),y=r(T,"extension",y),c=r(T,"start"),v=r(T,"mapping")}var E={type:"plugin",cache:!1,extension:y,responseType:"text",key:u,url:f,xhrSettings:g,config:{start:c,mapping:v}};o.call(this,s,E),typeof f=="function"&&(this.data=f,this.state=x.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=r(s,"start",!1),f=r(s,"mapping",null);if(this.state===x.FILE_POPULATED)l.install(this.key,this.data,u,f);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=l.install(this.key,window[this.key],u,f);(u||f)&&(this.loader.systems[f]=c,this.loader.scene[f]=c)}this.onProcessComplete()}});a.register("plugin",function(l,s,u,f,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,c));return this}),d.exports=n},67397:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c,v){var g="svg";if(i(u)){var y=u;u=r(y,"key"),f=r(y,"url"),c=r(y,"svgConfig",{}),v=r(y,"xhrSettings"),g=r(y,"extension",g)}var T={type:"svg",cache:s.textureManager,extension:g,responseType:"text",key:u,url:f,xhrSettings:v,config:{width:r(c,"width"),height:r(c,"height"),scale:r(c,"scale")}};o.call(this,s,T)},onProcess:function(){this.state=x.FILE_PROCESSING;var l=this.xhrLoader.responseText,s=[l],u=this.config.width,f=this.config.height,c=this.config.scale;t:if(u&&f||c){var v=null,g=new DOMParser;v=g.parseFromString(l,"text/xml");var y=v.getElementsByTagName("svg")[0],T=y.hasAttribute("viewBox"),E=parseFloat(y.getAttribute("width")),A=parseFloat(y.getAttribute("height"));if(!T&&E&&A)y.setAttribute("viewBox","0  0 "+E+" "+A);else if(T&&!E&&!A){var P=y.getAttribute("viewBox").split(/\s+|,/);E=P[2],A=P[3]}if(c)if(E&&A)u=E*c,f=A*c;else break t;y.setAttribute("width",u.toString()+"px"),y.setAttribute("height",f.toString()+"px"),s=[new XMLSerializer().serializeToString(y)]}try{var w=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var I=this,O=!1;this.data.onload=function(){O||o.revokeObjectURL(I.data),I.onProcessComplete()},this.data.onerror=function(){O?I.onProcessError():(O=!0,o.revokeObjectURL(I.data),I.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},o.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(l,s,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,u,f));return this}),d.exports=n},88423:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c){var v="js";if(i(u)){var g=u;u=r(g,"key"),f=r(g,"url"),c=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"text",extension:v,responseType:"text",key:u,url:f,xhrSettings:c};o.call(this,s,y)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(l)),this.complete=!0}});a.register("sceneFile",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),d.exports=n},56812:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c,v,g){var y="js";if(i(u)){var T=u;u=r(T,"key"),f=r(T,"url"),g=r(T,"xhrSettings"),y=r(T,"extension",y),c=r(T,"systemKey"),v=r(T,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:y,responseType:"text",key:u,url:f,xhrSettings:g,config:{systemKey:c,sceneKey:v}};o.call(this,s,E),typeof f=="function"&&(this.data=f,this.state=x.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=this.key,f=r(s,"systemKey",u),c=r(s,"sceneKey",u);this.state===x.FILE_POPULATED?l.installScenePlugin(f,this.data,c,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(l,s,u,f,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new n(this,l[v]));else this.addFile(new n(this,l,s,u,f,c));return this}),d.exports=n},34328:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c,v){var g="js";if(i(u)){var y=u;u=r(y,"key"),f=r(y,"url"),c=r(y,"type","script"),v=r(y,"xhrSettings"),g=r(y,"extension",g)}else c===void 0&&(c="script");var T={type:c,cache:!1,extension:g,responseType:"text",key:u,url:f,xhrSettings:v};o.call(this,s,T)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(l,s,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,s,u,f));return this}),d.exports=n},85035:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(74099),a=t(19550),r=new h({Extends:a,initialize:function(n,l,s,u,f){a.call(this,n,l,s,f,u),this.type="spritesheet"},addToCache:function(){var i=this.linkFile;i?i.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,i.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,i.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(i,n,l,s){if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addFile(new r(this,i[u]));else this.addFile(new r(this,i,n,l,s));return this}),d.exports=r},78776:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new h({Extends:o,initialize:function(s,u,f,c){var v="text",g="txt",y=s.cacheManager.text;if(i(u)){var T=u;u=r(T,"key"),f=r(T,"url"),c=r(T,"xhrSettings"),g=r(T,"extension",g),v=r(T,"type",v),y=r(T,"cache",y)}var E={type:v,cache:y,extension:g,responseType:"text",key:u,url:f,xhrSettings:c};o.call(this,s,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,s,u));return this}),d.exports=n},49477:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(80341),l=new h({Extends:o,initialize:function(u,f,c,v){var g="csv";if(i(f)){var y=f;f=r(y,"key"),c=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g)}var T={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:g,responseType:"text",key:f,url:c,xhrSettings:v};o.call(this,u,T),this.tilemapFormat=n.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});a.register("tilemapCSV",function(s,u,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f));return this}),d.exports=l},40807:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(518),a=t(80341),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i)}});x.register("tilemapImpact",function(i,n,l){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new r(this,i[s]));else this.addFile(new r(this,i,n,l));return this}),d.exports=r},56775:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(518),a=t(80341),r=new h({Extends:o,initialize:function(n,l,s,u){o.call(this,n,l,s,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i)}});x.register("tilemapTiledJSON",function(i,n,l){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new r(this,i[s]));else this.addFile(new r(this,i,n,l));return this}),d.exports=r},25771:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(74099),o=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(78776),l=new h({Extends:i,initialize:function(u,f,c,v,g,y){var T,E;if(r(f)){var A=f;f=o(A,"key"),T=new a(u,{key:f,url:o(A,"textureURL"),extension:o(A,"textureExtension","png"),normalMap:o(A,"normalMap"),xhrSettings:o(A,"textureXhrSettings")}),E=new n(u,{key:f,url:o(A,"atlasURL"),extension:o(A,"atlasExtension","txt"),xhrSettings:o(A,"atlasXhrSettings")})}else T=new a(u,f,c,g),E=new n(u,f,v,y);T.linkFile?i.call(this,u,"unityatlas",f,[T,E,T.linkFile]):i.call(this,u,"unityatlas",f,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,u.data,f),this.complete=!0}}});x.register("unityAtlas",function(s,u,f,c,v){var g;if(Array.isArray(s))for(var y=0;y<s.length;y++)g=new l(this,s[y]),this.addFile(g.files);else g=new l(this,s,u,f,c,v),this.addFile(g.files);return this}),d.exports=l},33720:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(98356),i=t(95540),n=t(41212),l=new h({Extends:o,initialize:function(u,f,c,v){if(v===void 0&&(v=!1),n(f)){var g=f;f=i(g,"key"),c=i(g,"url",[]),v=i(g,"noAudio",!1)}var y=u.systems.game.device.video.getVideoURL(c);y||console.warn("VideoFile: No supported format for "+f);var T={type:"video",cache:u.cacheManager.video,extension:y.type,key:f,url:y.url,config:{noAudio:v}};o.call(this,u,T)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(s,u,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f));return this}),d.exports=l},57318:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(23906),o=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(56836),l=new h({Extends:o,initialize:function(u,f,c,v){var g="xml";if(i(f)){var y=f;f=r(y,"key"),c=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g)}var T={type:"xml",cache:u.cacheManager.xml,extension:g,responseType:"text",key:f,url:c,xhrSettings:v};o.call(this,u,T)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(s,u,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f));return this}),d.exports=l},64589:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23906),x=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=x(!1,o,h),d.exports=o},53307:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0,x=0;x<t.length;x++)h+=+t[x];return h/t.length};d.exports=S},85710:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6411),x=function(o,a){return h(o)/h(a)/h(o-a)};d.exports=x},30976:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};d.exports=S},87842:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a){var r=(o-h)*.5,i=(a-x)*.5,n=t*t,l=t*n;return(2*x-2*o+r+i)*l+(-3*x+3*o-2*r-i)*n+r*t+x};d.exports=S},26302:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var o=Math.pow(x,-h);return Math.ceil(t*o)/o};d.exports=S},45319:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return Math.max(h,Math.min(x,t))};d.exports=S},39506:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=function(o){return o*h.DEG_TO_RAD};d.exports=x},61241:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.abs(t-h)};d.exports=S},38857:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(37867),a=t(29747),r=new o,i=new x({initialize:function n(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=n.DefaultOrder),this._x=l,this._y=s,this._z=u,this._order=f,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,s,u){return u===void 0&&(u=this._order),this._x=n,this._y=l,this._z=s,this._order=u,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,s){return l===void 0&&(l=this._order),s===void 0&&(s=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,s)},setFromRotationMatrix:function(n,l,s){l===void 0&&(l=this._order),s===void 0&&(s=!1);var u=n.val,f=u[0],c=u[4],v=u[8],g=u[1],y=u[5],T=u[9],E=u[2],A=u[6],P=u[10],w=0,I=0,O=0,F=.99999;switch(l){case"XYZ":{I=Math.asin(h(v,-1,1)),Math.abs(v)<F?(w=Math.atan2(-T,P),O=Math.atan2(-c,f)):w=Math.atan2(A,y);break}case"YXZ":{w=Math.asin(-h(T,-1,1)),Math.abs(T)<F?(I=Math.atan2(v,P),O=Math.atan2(g,y)):I=Math.atan2(-E,f);break}case"ZXY":{w=Math.asin(h(A,-1,1)),Math.abs(A)<F?(I=Math.atan2(-E,P),O=Math.atan2(-c,y)):O=Math.atan2(g,f);break}case"ZYX":{I=Math.asin(-h(E,-1,1)),Math.abs(E)<F?(w=Math.atan2(A,P),O=Math.atan2(g,f)):O=Math.atan2(-c,y);break}case"YZX":{O=Math.asin(h(g,-1,1)),Math.abs(g)<F?(w=Math.atan2(-T,y),I=Math.atan2(-E,f)):I=Math.atan2(v,P);break}case"XZY":{O=Math.asin(-h(c,-1,1)),Math.abs(c)<F?(w=Math.atan2(A,y),I=Math.atan2(v,f)):w=Math.atan2(-T,P);break}}return this._x=w,this._y=I,this._z=O,this._order=l,s&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",d.exports=i},6411:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};d.exports=S},99472:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.random()*(h-t)+t};d.exports=S},77623:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var o=Math.pow(x,-h);return Math.floor(t*o)/o};d.exports=S},62945:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=function(o,a,r){return o=h(o,0,1),(r-a)*o+a};d.exports=x},38265:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t/h/1e3};d.exports=S},78702:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};d.exports=S},94883:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};d.exports=S},28915:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return(h-t)*x+t};d.exports=S},94908:d=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return x===void 0&&(x=0),t.clone().lerp(h,x)};d.exports=S},94434:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new x(this)},set:function(o){return this.copy(o)},copy:function(o){var a=this.val,r=o.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},fromMat4:function(o){var a=o.val,r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[4],r[4]=a[5],r[5]=a[6],r[6]=a[8],r[7]=a[9],r[8]=a[10],this},fromArray:function(o){var a=this.val;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,a=o[1],r=o[2],i=o[5];return o[1]=o[3],o[2]=o[6],o[3]=a,o[5]=o[7],o[6]=r,o[7]=i,this},invert:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],c=o[8],v=c*l-s*f,g=-c*n+s*u,y=f*n-l*u,T=a*v+r*g+i*y;return T?(T=1/T,o[0]=v*T,o[1]=(-c*r+i*f)*T,o[2]=(s*r-i*l)*T,o[3]=g*T,o[4]=(c*a-i*u)*T,o[5]=(-s*a+i*n)*T,o[6]=y*T,o[7]=(-f*a+r*u)*T,o[8]=(l*a-r*n)*T,this):null},adjoint:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],c=o[8];return o[0]=l*c-s*f,o[1]=i*f-r*c,o[2]=r*s-i*l,o[3]=s*u-n*c,o[4]=a*c-i*u,o[5]=i*n-a*s,o[6]=n*f-l*u,o[7]=r*u-a*f,o[8]=a*l-r*n,this},determinant:function(){var o=this.val,a=o[0],r=o[1],i=o[2],n=o[3],l=o[4],s=o[5],u=o[6],f=o[7],c=o[8];return a*(c*l-s*f)+r*(-c*n+s*u)+i*(f*n-l*u)},multiply:function(o){var a=this.val,r=a[0],i=a[1],n=a[2],l=a[3],s=a[4],u=a[5],f=a[6],c=a[7],v=a[8],g=o.val,y=g[0],T=g[1],E=g[2],A=g[3],P=g[4],w=g[5],I=g[6],O=g[7],F=g[8];return a[0]=y*r+T*l+E*f,a[1]=y*i+T*s+E*c,a[2]=y*n+T*u+E*v,a[3]=A*r+P*l+w*f,a[4]=A*i+P*s+w*c,a[5]=A*n+P*u+w*v,a[6]=I*r+O*l+F*f,a[7]=I*i+O*s+F*c,a[8]=I*n+O*u+F*v,this},translate:function(o){var a=this.val,r=o.x,i=o.y;return a[6]=r*a[0]+i*a[3]+a[6],a[7]=r*a[1]+i*a[4]+a[7],a[8]=r*a[2]+i*a[5]+a[8],this},rotate:function(o){var a=this.val,r=a[0],i=a[1],n=a[2],l=a[3],s=a[4],u=a[5],f=Math.sin(o),c=Math.cos(o);return a[0]=c*r+f*l,a[1]=c*i+f*s,a[2]=c*n+f*u,a[3]=c*l-f*r,a[4]=c*s-f*i,a[5]=c*u-f*n,this},scale:function(o){var a=this.val,r=o.x,i=o.y;return a[0]=r*a[0],a[1]=r*a[1],a[2]=r*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(o){var a=o.x,r=o.y,i=o.z,n=o.w,l=a+a,s=r+r,u=i+i,f=a*l,c=a*s,v=a*u,g=r*s,y=r*u,T=i*u,E=n*l,A=n*s,P=n*u,w=this.val;return w[0]=1-(g+T),w[3]=c+P,w[6]=v-A,w[1]=c-P,w[4]=1-(f+T),w[7]=y+E,w[2]=v+A,w[5]=y-E,w[8]=1-(f+g),this},normalFromMat4:function(o){var a=o.val,r=this.val,i=a[0],n=a[1],l=a[2],s=a[3],u=a[4],f=a[5],c=a[6],v=a[7],g=a[8],y=a[9],T=a[10],E=a[11],A=a[12],P=a[13],w=a[14],I=a[15],O=i*f-n*u,F=i*c-l*u,L=i*v-s*u,D=n*c-l*f,b=n*v-s*f,U=l*v-s*c,W=g*P-y*A,H=g*w-T*A,Y=g*I-E*A,G=y*w-T*P,X=y*I-E*P,V=T*I-E*w,B=O*V-F*X+L*G+D*Y-b*H+U*W;return B?(B=1/B,r[0]=(f*V-c*X+v*G)*B,r[1]=(c*Y-u*V-v*H)*B,r[2]=(u*X-f*Y+v*W)*B,r[3]=(l*X-n*V-s*G)*B,r[4]=(i*V-l*Y+s*H)*B,r[5]=(n*Y-i*X-s*W)*B,r[6]=(P*U-w*b+I*D)*B,r[7]=(w*L-A*U-I*F)*B,r[8]=(A*b-P*L+I*O)*B,this):null}});d.exports=x},37867:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(25836),o=1e-6,a=new h({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new a(this)},set:function(u){return this.copy(u)},setValues:function(u,f,c,v,g,y,T,E,A,P,w,I,O,F,L,D){var b=this.val;return b[0]=u,b[1]=f,b[2]=c,b[3]=v,b[4]=g,b[5]=y,b[6]=T,b[7]=E,b[8]=A,b[9]=P,b[10]=w,b[11]=I,b[12]=O,b[13]=F,b[14]=L,b[15]=D,this},copy:function(u){var f=u.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,f,c){var v=r.fromQuat(c),g=v.val,y=f.x,T=f.y,E=f.z;return this.setValues(g[0]*y,g[1]*y,g[2]*y,0,g[4]*T,g[5]*T,g[6]*T,0,g[8]*E,g[9]*E,g[10]*E,0,u.x,u.y,u.z,1)},xyz:function(u,f,c){this.identity();var v=this.val;return v[12]=u,v[13]=f,v[14]=c,this},scaling:function(u,f,c){this.zero();var v=this.val;return v[0]=u,v[5]=f,v[10]=c,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,f=u[1],c=u[2],v=u[3],g=u[6],y=u[7],T=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=f,u[6]=u[9],u[7]=u[13],u[8]=c,u[9]=g,u[11]=u[14],u[12]=v,u[13]=y,u[14]=T,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,f=u[0],c=u[1],v=u[2],g=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15],U=f*T-c*y,W=f*E-v*y,H=f*A-g*y,Y=c*E-v*T,G=c*A-g*T,X=v*A-g*E,V=P*L-w*F,B=P*D-I*F,z=P*b-O*F,$=w*D-I*L,j=w*b-O*L,k=I*b-O*D,q=U*k-W*j+H*$+Y*z-G*B+X*V;return q?(q=1/q,this.setValues((T*k-E*j+A*$)*q,(v*j-c*k-g*$)*q,(L*X-D*G+b*Y)*q,(I*G-w*X-O*Y)*q,(E*z-y*k-A*B)*q,(f*k-v*z+g*B)*q,(D*H-F*X-b*W)*q,(P*X-I*H+O*W)*q,(y*j-T*z+A*V)*q,(c*z-f*j-g*V)*q,(F*G-L*H+b*U)*q,(w*H-P*G-O*U)*q,(T*B-y*$-E*V)*q,(f*$-c*B+v*V)*q,(L*W-F*Y-D*U)*q,(P*Y-w*W+I*U)*q)):this},adjoint:function(){var u=this.val,f=u[0],c=u[1],v=u[2],g=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15];return this.setValues(T*(I*b-O*D)-w*(E*b-A*D)+L*(E*O-A*I),-(c*(I*b-O*D)-w*(v*b-g*D)+L*(v*O-g*I)),c*(E*b-A*D)-T*(v*b-g*D)+L*(v*A-g*E),-(c*(E*O-A*I)-T*(v*O-g*I)+w*(v*A-g*E)),-(y*(I*b-O*D)-P*(E*b-A*D)+F*(E*O-A*I)),f*(I*b-O*D)-P*(v*b-g*D)+F*(v*O-g*I),-(f*(E*b-A*D)-y*(v*b-g*D)+F*(v*A-g*E)),f*(E*O-A*I)-y*(v*O-g*I)+P*(v*A-g*E),y*(w*b-O*L)-P*(T*b-A*L)+F*(T*O-A*w),-(f*(w*b-O*L)-P*(c*b-g*L)+F*(c*O-g*w)),f*(T*b-A*L)-y*(c*b-g*L)+F*(c*A-g*T),-(f*(T*O-A*w)-y*(c*O-g*w)+P*(c*A-g*T)),-(y*(w*D-I*L)-P*(T*D-E*L)+F*(T*I-E*w)),f*(w*D-I*L)-P*(c*D-v*L)+F*(c*I-v*w),-(f*(T*D-E*L)-y*(c*D-v*L)+F*(c*E-v*T)),f*(T*I-E*w)-y*(c*I-v*w)+P*(c*E-v*T))},determinant:function(){var u=this.val,f=u[0],c=u[1],v=u[2],g=u[3],y=u[4],T=u[5],E=u[6],A=u[7],P=u[8],w=u[9],I=u[10],O=u[11],F=u[12],L=u[13],D=u[14],b=u[15],U=f*T-c*y,W=f*E-v*y,H=f*A-g*y,Y=c*E-v*T,G=c*A-g*T,X=v*A-g*E,V=P*L-w*F,B=P*D-I*F,z=P*b-O*F,$=w*D-I*L,j=w*b-O*L,k=I*b-O*D;return U*k-W*j+H*$+Y*z-G*B+X*V},multiply:function(u){var f=this.val,c=f[0],v=f[1],g=f[2],y=f[3],T=f[4],E=f[5],A=f[6],P=f[7],w=f[8],I=f[9],O=f[10],F=f[11],L=f[12],D=f[13],b=f[14],U=f[15],W=u.val,H=W[0],Y=W[1],G=W[2],X=W[3];return f[0]=H*c+Y*T+G*w+X*L,f[1]=H*v+Y*E+G*I+X*D,f[2]=H*g+Y*A+G*O+X*b,f[3]=H*y+Y*P+G*F+X*U,H=W[4],Y=W[5],G=W[6],X=W[7],f[4]=H*c+Y*T+G*w+X*L,f[5]=H*v+Y*E+G*I+X*D,f[6]=H*g+Y*A+G*O+X*b,f[7]=H*y+Y*P+G*F+X*U,H=W[8],Y=W[9],G=W[10],X=W[11],f[8]=H*c+Y*T+G*w+X*L,f[9]=H*v+Y*E+G*I+X*D,f[10]=H*g+Y*A+G*O+X*b,f[11]=H*y+Y*P+G*F+X*U,H=W[12],Y=W[13],G=W[14],X=W[15],f[12]=H*c+Y*T+G*w+X*L,f[13]=H*v+Y*E+G*I+X*D,f[14]=H*g+Y*A+G*O+X*b,f[15]=H*y+Y*P+G*F+X*U,this},multiplyLocal:function(u){var f=this.val,c=u.val;return this.setValues(f[0]*c[0]+f[1]*c[4]+f[2]*c[8]+f[3]*c[12],f[0]*c[1]+f[1]*c[5]+f[2]*c[9]+f[3]*c[13],f[0]*c[2]+f[1]*c[6]+f[2]*c[10]+f[3]*c[14],f[0]*c[3]+f[1]*c[7]+f[2]*c[11]+f[3]*c[15],f[4]*c[0]+f[5]*c[4]+f[6]*c[8]+f[7]*c[12],f[4]*c[1]+f[5]*c[5]+f[6]*c[9]+f[7]*c[13],f[4]*c[2]+f[5]*c[6]+f[6]*c[10]+f[7]*c[14],f[4]*c[3]+f[5]*c[7]+f[6]*c[11]+f[7]*c[15],f[8]*c[0]+f[9]*c[4]+f[10]*c[8]+f[11]*c[12],f[8]*c[1]+f[9]*c[5]+f[10]*c[9]+f[11]*c[13],f[8]*c[2]+f[9]*c[6]+f[10]*c[10]+f[11]*c[14],f[8]*c[3]+f[9]*c[7]+f[10]*c[11]+f[11]*c[15],f[12]*c[0]+f[13]*c[4]+f[14]*c[8]+f[15]*c[12],f[12]*c[1]+f[13]*c[5]+f[14]*c[9]+f[15]*c[13],f[12]*c[2]+f[13]*c[6]+f[14]*c[10]+f[15]*c[14],f[12]*c[3]+f[13]*c[7]+f[14]*c[11]+f[15]*c[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,f){var c=u.val,v=f.val,g=c[0],y=c[4],T=c[8],E=c[12],A=c[1],P=c[5],w=c[9],I=c[13],O=c[2],F=c[6],L=c[10],D=c[14],b=c[3],U=c[7],W=c[11],H=c[15],Y=v[0],G=v[4],X=v[8],V=v[12],B=v[1],z=v[5],$=v[9],j=v[13],k=v[2],q=v[6],Q=v[10],Z=v[14],_=v[3],et=v[7],it=v[11],st=v[15];return this.setValues(g*Y+y*B+T*k+E*_,A*Y+P*B+w*k+I*_,O*Y+F*B+L*k+D*_,b*Y+U*B+W*k+H*_,g*G+y*z+T*q+E*et,A*G+P*z+w*q+I*et,O*G+F*z+L*q+D*et,b*G+U*z+W*q+H*et,g*X+y*$+T*Q+E*it,A*X+P*$+w*Q+I*it,O*X+F*$+L*Q+D*it,b*X+U*$+W*Q+H*it,g*V+y*j+T*Z+E*st,A*V+P*j+w*Z+I*st,O*V+F*j+L*Z+D*st,b*V+U*j+W*Z+H*st)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,f,c){var v=this.val;return v[12]=v[0]*u+v[4]*f+v[8]*c+v[12],v[13]=v[1]*u+v[5]*f+v[9]*c+v[13],v[14]=v[2]*u+v[6]*f+v[10]*c+v[14],v[15]=v[3]*u+v[7]*f+v[11]*c+v[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,f,c){var v=this.val;return v[0]=v[0]*u,v[1]=v[1]*u,v[2]=v[2]*u,v[3]=v[3]*u,v[4]=v[4]*f,v[5]=v[5]*f,v[6]=v[6]*f,v[7]=v[7]*f,v[8]=v[8]*c,v[9]=v[9]*c,v[10]=v[10]*c,v[11]=v[11]*c,this},makeRotationAxis:function(u,f){var c=Math.cos(f),v=Math.sin(f),g=1-c,y=u.x,T=u.y,E=u.z,A=g*y,P=g*T;return this.setValues(A*y+c,A*T-v*E,A*E+v*T,0,A*T+v*E,P*T+c,P*E-v*y,0,A*E-v*T,P*E+v*y,g*E*E+c,0,0,0,0,1)},rotate:function(u,f){var c=this.val,v=f.x,g=f.y,y=f.z,T=Math.sqrt(v*v+g*g+y*y);if(Math.abs(T)<o)return this;T=1/T,v*=T,g*=T,y*=T;var E=Math.sin(u),A=Math.cos(u),P=1-A,w=c[0],I=c[1],O=c[2],F=c[3],L=c[4],D=c[5],b=c[6],U=c[7],W=c[8],H=c[9],Y=c[10],G=c[11],X=c[12],V=c[13],B=c[14],z=c[15],$=v*v*P+A,j=g*v*P+y*E,k=y*v*P-g*E,q=v*g*P-y*E,Q=g*g*P+A,Z=y*g*P+v*E,_=v*y*P+g*E,et=g*y*P-v*E,it=y*y*P+A;return this.setValues(w*$+L*j+W*k,I*$+D*j+H*k,O*$+b*j+Y*k,F*$+U*j+G*k,w*q+L*Q+W*Z,I*q+D*Q+H*Z,O*q+b*Q+Y*Z,F*q+U*Q+G*Z,w*_+L*et+W*it,I*_+D*et+H*it,O*_+b*et+Y*it,F*_+U*et+G*it,X,V,B,z)},rotateX:function(u){var f=this.val,c=Math.sin(u),v=Math.cos(u),g=f[4],y=f[5],T=f[6],E=f[7],A=f[8],P=f[9],w=f[10],I=f[11];return f[4]=g*v+A*c,f[5]=y*v+P*c,f[6]=T*v+w*c,f[7]=E*v+I*c,f[8]=A*v-g*c,f[9]=P*v-y*c,f[10]=w*v-T*c,f[11]=I*v-E*c,this},rotateY:function(u){var f=this.val,c=Math.sin(u),v=Math.cos(u),g=f[0],y=f[1],T=f[2],E=f[3],A=f[8],P=f[9],w=f[10],I=f[11];return f[0]=g*v-A*c,f[1]=y*v-P*c,f[2]=T*v-w*c,f[3]=E*v-I*c,f[8]=g*c+A*v,f[9]=y*c+P*v,f[10]=T*c+w*v,f[11]=E*c+I*v,this},rotateZ:function(u){var f=this.val,c=Math.sin(u),v=Math.cos(u),g=f[0],y=f[1],T=f[2],E=f[3],A=f[4],P=f[5],w=f[6],I=f[7];return f[0]=g*v+A*c,f[1]=y*v+P*c,f[2]=T*v+w*c,f[3]=E*v+I*c,f[4]=A*v-g*c,f[5]=P*v-y*c,f[6]=w*v-T*c,f[7]=I*v-E*c,this},fromRotationTranslation:function(u,f){var c=u.x,v=u.y,g=u.z,y=u.w,T=c+c,E=v+v,A=g+g,P=c*T,w=c*E,I=c*A,O=v*E,F=v*A,L=g*A,D=y*T,b=y*E,U=y*A;return this.setValues(1-(O+L),w+U,I-b,0,w-U,1-(P+L),F+D,0,I+b,F-D,1-(P+O),0,f.x,f.y,f.z,1)},fromQuat:function(u){var f=u.x,c=u.y,v=u.z,g=u.w,y=f+f,T=c+c,E=v+v,A=f*y,P=f*T,w=f*E,I=c*T,O=c*E,F=v*E,L=g*y,D=g*T,b=g*E;return this.setValues(1-(I+F),P+b,w-D,0,P-b,1-(A+F),O+L,0,w+D,O-L,1-(A+I),0,0,0,0,1)},frustum:function(u,f,c,v,g,y){var T=1/(f-u),E=1/(v-c),A=1/(g-y);return this.setValues(g*2*T,0,0,0,0,g*2*E,0,0,(f+u)*T,(v+c)*E,(y+g)*A,-1,0,0,y*g*2*A,0)},perspective:function(u,f,c,v){var g=1/Math.tan(u/2),y=1/(c-v);return this.setValues(g/f,0,0,0,0,g,0,0,0,0,(v+c)*y,-1,0,0,2*v*c*y,0)},perspectiveLH:function(u,f,c,v){return this.setValues(2*c/u,0,0,0,0,2*c/f,0,0,0,0,-v/(c-v),1,0,0,c*v/(c-v),0)},ortho:function(u,f,c,v,g,y){var T=u-f,E=c-v,A=g-y;return T=T===0?T:1/T,E=E===0?E:1/E,A=A===0?A:1/A,this.setValues(-2*T,0,0,0,0,-2*E,0,0,0,0,2*A,0,(u+f)*T,(v+c)*E,(y+g)*A,1)},lookAtRH:function(u,f,c){var v=this.val;return s.subVectors(u,f),s.lengthSq()===0&&(s.z=1),s.normalize(),n.crossVectors(c,s),n.lengthSq()===0&&(Math.abs(c.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),n.crossVectors(c,s)),n.normalize(),l.crossVectors(s,n),v[0]=n.x,v[1]=n.y,v[2]=n.z,v[4]=l.x,v[5]=l.y,v[6]=l.z,v[8]=s.x,v[9]=s.y,v[10]=s.z,this},lookAt:function(u,f,c){var v=u.x,g=u.y,y=u.z,T=c.x,E=c.y,A=c.z,P=f.x,w=f.y,I=f.z;if(Math.abs(v-P)<o&&Math.abs(g-w)<o&&Math.abs(y-I)<o)return this.identity();var O=v-P,F=g-w,L=y-I,D=1/Math.sqrt(O*O+F*F+L*L);O*=D,F*=D,L*=D;var b=E*L-A*F,U=A*O-T*L,W=T*F-E*O;D=Math.sqrt(b*b+U*U+W*W),D?(D=1/D,b*=D,U*=D,W*=D):(b=0,U=0,W=0);var H=F*W-L*U,Y=L*b-O*W,G=O*U-F*b;return D=Math.sqrt(H*H+Y*Y+G*G),D?(D=1/D,H*=D,Y*=D,G*=D):(H=0,Y=0,G=0),this.setValues(b,H,O,0,U,Y,F,0,W,G,L,0,-(b*v+U*g+W*y),-(H*v+Y*g+G*y),-(O*v+F*g+L*y),1)},yawPitchRoll:function(u,f,c){this.zero(),r.zero(),i.zero();var v=this.val,g=r.val,y=i.val,T=Math.sin(c),E=Math.cos(c);return v[10]=1,v[15]=1,v[0]=E,v[1]=T,v[4]=-T,v[5]=E,T=Math.sin(f),E=Math.cos(f),g[0]=1,g[15]=1,g[5]=E,g[10]=E,g[9]=-T,g[6]=T,T=Math.sin(u),E=Math.cos(u),y[5]=1,y[15]=1,y[0]=E,y[2]=-T,y[8]=T,y[10]=E,this.multiplyLocal(r),this.multiplyLocal(i),this},setWorldMatrix:function(u,f,c,v,g){return this.yawPitchRoll(u.y,u.x,u.z),r.scaling(c.x,c.y,c.z),i.xyz(f.x,f.y,f.z),this.multiplyLocal(r),this.multiplyLocal(i),v&&this.multiplyLocal(v),g&&this.multiplyLocal(g),this},multiplyToMat4:function(u,f){var c=this.val,v=u.val,g=c[0],y=c[1],T=c[2],E=c[3],A=c[4],P=c[5],w=c[6],I=c[7],O=c[8],F=c[9],L=c[10],D=c[11],b=c[12],U=c[13],W=c[14],H=c[15],Y=v[0],G=v[1],X=v[2],V=v[3],B=v[4],z=v[5],$=v[6],j=v[7],k=v[8],q=v[9],Q=v[10],Z=v[11],_=v[12],et=v[13],it=v[14],st=v[15];return f.setValues(Y*g+G*A+X*O+V*b,G*y+G*P+X*F+V*U,X*T+G*w+X*L+V*W,V*E+G*I+X*D+V*H,B*g+z*A+$*O+j*b,B*y+z*P+$*F+j*U,B*T+z*w+$*L+j*W,B*E+z*I+$*D+j*H,k*g+q*A+Q*O+Z*b,k*y+q*P+Q*F+Z*U,k*T+q*w+Q*L+Z*W,k*E+q*I+Q*D+Z*H,_*g+et*A+it*O+st*b,_*y+et*P+it*F+st*U,_*T+et*w+it*L+st*W,_*E+et*I+it*D+st*H)},fromRotationXYTranslation:function(u,f,c){var v=f.x,g=f.y,y=f.z,T=Math.sin(u.x),E=Math.cos(u.x),A=Math.sin(u.y),P=Math.cos(u.y),w=v,I=g,O=y,F=-T,L=0-F*A,D=0-E*A,b=F*P,U=E*P;return c||(w=P*v+A*y,I=L*v+E*g+b*y,O=D*v+T*g+U*y),this.setValues(P,L,D,0,0,E,T,0,A,b,U,0,w,I,O,1)},getMaxScaleOnAxis:function(){var u=this.val,f=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],c=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],v=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(f,c,v))}}),r=new a,i=new a,n=new x,l=new x,s=new x;d.exports=a},86883:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return Math.min(t+h,x)};d.exports=S},50040:d=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.length;if(h===0)return 0;t.sort(function(o,a){return o-a});var x=Math.floor(h/2);return h%2===0?(t[x]+t[x-1])/2:t[x]};d.exports=S},37204:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return Math.max(t-h,x)};d.exports=S},65201:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){x===void 0&&(x=h+1);var a=(t-h)/(x-h);return a>1?o!==void 0?(a=(o-t)/(o-x),a<0&&(a=0)):a=1:a<0&&(a=0),a};d.exports=S},15746:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(94434),o=t(29747),a=t(25836),r=1e-6,i=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new a(1,0,0),s=new a(0,1,0),u=new a,f=new x,c=new h({initialize:function(g,y,T,E){this.onChangeCallback=o,this.set(g,y,T,E)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,g,y,T,E){return E===void 0&&(E=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=g||0,this._z=y||0,this._w=T||0),E&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,g=this.y,y=this.z,T=this.w;return Math.sqrt(v*v+g*g+y*y+T*T)},lengthSq:function(){var v=this.x,g=this.y,y=this.z,T=this.w;return v*v+g*g+y*y+T*T},normalize:function(){var v=this.x,g=this.y,y=this.z,T=this.w,E=v*v+g*g+y*y+T*T;return E>0&&(E=1/Math.sqrt(E),this._x=v*E,this._y=g*E,this._z=y*E,this._w=T*E),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,g){g===void 0&&(g=0);var y=this.x,T=this.y,E=this.z,A=this.w;return this.set(y+g*(v.x-y),T+g*(v.y-T),E+g*(v.z-E),A+g*(v.w-A))},rotationTo:function(v,g){var y=v.x*g.x+v.y*g.y+v.z*g.z;return y<-.999999?(u.copy(l).cross(v).length()<r&&u.copy(s).cross(v),u.normalize(),this.setAxisAngle(u,Math.PI)):y>.999999?this.set(0,0,0,1):(u.copy(v).cross(g),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+y,this.normalize())},setAxes:function(v,g,y){var T=f.val;return T[0]=g.x,T[3]=g.y,T[6]=g.z,T[1]=y.x,T[4]=y.y,T[7]=y.z,T[2]=-v.x,T[5]=-v.y,T[8]=-v.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,g){g=g*.5;var y=Math.sin(g);return this.set(y*v.x,y*v.y,y*v.z,Math.cos(g))},multiply:function(v){var g=this.x,y=this.y,T=this.z,E=this.w,A=v.x,P=v.y,w=v.z,I=v.w;return this.set(g*I+E*A+y*w-T*P,y*I+E*P+T*A-g*w,T*I+E*w+g*P-y*A,E*I-g*A-y*P-T*w)},slerp:function(v,g){var y=this.x,T=this.y,E=this.z,A=this.w,P=v.x,w=v.y,I=v.z,O=v.w,F=y*P+T*w+E*I+A*O;F<0&&(F=-F,P=-P,w=-w,I=-I,O=-O);var L=1-g,D=g;if(1-F>r){var b=Math.acos(F),U=Math.sin(b);L=Math.sin((1-g)*b)/U,D=Math.sin(g*b)/U}return this.set(L*y+D*P,L*T+D*w,L*E+D*I,L*A+D*O)},invert:function(){var v=this.x,g=this.y,y=this.z,T=this.w,E=v*v+g*g+y*y+T*T,A=E?1/E:0;return this.set(-v*A,-g*A,-y*A,T*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var g=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(g*P+E*A,y*P+T*A,T*P-y*A,E*P-g*A)},rotateY:function(v){v*=.5;var g=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(g*P-T*A,y*P+E*A,T*P+g*A,E*P-y*A)},rotateZ:function(v){v*=.5;var g=this.x,y=this.y,T=this.z,E=this.w,A=Math.sin(v),P=Math.cos(v);return this.set(g*P+y*A,y*P-g*A,T*P+E*A,E*P-T*A)},calculateW:function(){var v=this.x,g=this.y,y=this.z;return this.w=-Math.sqrt(1-v*v-g*g-y*y),this},setFromEuler:function(v,g){var y=v.x/2,T=v.y/2,E=v.z/2,A=Math.cos(y),P=Math.cos(T),w=Math.cos(E),I=Math.sin(y),O=Math.sin(T),F=Math.sin(E);switch(v.order){case"XYZ":{this.set(I*P*w+A*O*F,A*O*w-I*P*F,A*P*F+I*O*w,A*P*w-I*O*F,g);break}case"YXZ":{this.set(I*P*w+A*O*F,A*O*w-I*P*F,A*P*F-I*O*w,A*P*w+I*O*F,g);break}case"ZXY":{this.set(I*P*w-A*O*F,A*O*w+I*P*F,A*P*F+I*O*w,A*P*w-I*O*F,g);break}case"ZYX":{this.set(I*P*w-A*O*F,A*O*w+I*P*F,A*P*F-I*O*w,A*P*w+I*O*F,g);break}case"YZX":{this.set(I*P*w+A*O*F,A*O*w+I*P*F,A*P*F-I*O*w,A*P*w-I*O*F,g);break}case"XZY":{this.set(I*P*w-A*O*F,A*O*w-I*P*F,A*P*F+I*O*w,A*P*w+I*O*F,g);break}}return this},setFromRotationMatrix:function(v){var g=v.val,y=g[0],T=g[4],E=g[8],A=g[1],P=g[5],w=g[9],I=g[2],O=g[6],F=g[10],L=y+P+F,D;return L>0?(D=.5/Math.sqrt(L+1),this.set((O-w)*D,(E-I)*D,(A-T)*D,.25/D)):y>P&&y>F?(D=2*Math.sqrt(1+y-P-F),this.set(.25*D,(T+A)/D,(E+I)/D,(O-w)/D)):P>F?(D=2*Math.sqrt(1+P-y-F),this.set((T+A)/D,.25*D,(w+O)/D,(E-I)/D)):(D=2*Math.sqrt(1+F-y-P),this.set((E+I)/D,(w+O)/D,.25*D,(A-T)/D)),this},fromMat3:function(v){var g=v.val,y=g[0]+g[4]+g[8],T;if(y>0)T=Math.sqrt(y+1),this.w=.5*T,T=.5/T,this._x=(g[7]-g[5])*T,this._y=(g[2]-g[6])*T,this._z=(g[3]-g[1])*T;else{var E=0;g[4]>g[0]&&(E=1),g[8]>g[E*3+E]&&(E=2);var A=i[E],P=i[A];T=Math.sqrt(g[E*3+E]-g[A*3+A]-g[P*3+P]+1),n[E]=.5*T,T=.5/T,n[A]=(g[A*3+E]+g[E*3+A])*T,n[P]=(g[P*3+E]+g[E*3+P])*T,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(g[P*3+A]-g[A*3+P])*T}return this.onChangeCallback(this),this}});d.exports=c},43396:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=function(o){return o*h.RAD_TO_DEG};d.exports=x},74362:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var x=Math.random()*2*Math.PI;return t.x=Math.cos(x)*h,t.y=Math.sin(x)*h,t};d.exports=S},60706:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var x=Math.random()*2*Math.PI,o=Math.random()*2-1,a=Math.sqrt(1-o*o)*h;return t.x=Math.cos(x)*a,t.y=Math.sin(x)*a,t.z=o*h,t};d.exports=S},67421:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};d.exports=S},36305:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.x,o=t.y;return t.x=x*Math.cos(h)-o*Math.sin(h),t.y=x*Math.sin(h)+o*Math.cos(h),t};d.exports=S},11520:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=Math.cos(o),r=Math.sin(o),i=t.x-h,n=t.y-x;return t.x=i*a-n*r+h,t.y=i*r+n*a+x,t};d.exports=S},1163:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a){var r=o+Math.atan2(t.y-x,t.x-h);return t.x=h+a*Math.cos(r),t.y=x+a*Math.sin(r),t};d.exports=S},70336:d=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a){return t.x=h+a*Math.cos(o),t.y=x+a*Math.sin(o),t};d.exports=S},72678:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),x=t(37867),o=t(15746),a=new x,r=new o,i=new h,n=function(l,s,u){return r.setAxisAngle(s,u),a.fromRotationTranslation(r,i.set(0,0,0)),l.transformMat4(a)};d.exports=n},2284:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};d.exports=S},41013:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var o=Math.pow(x,-h);return Math.round(t*o)/o};d.exports=S},16922:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){h===void 0&&(h=1),x===void 0&&(x=1),o===void 0&&(o=1),o*=Math.PI/t;for(var a=[],r=[],i=0;i<t;i++)x-=h*o,h+=x*o,a[i]=x,r[i]=h;return{sin:r,cos:a,length:t}};d.exports=S},7602:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t<=h?0:t>=x?1:(t=(t-h)/(x-h),t*t*(3-2*t))};d.exports=S},54261:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t=Math.max(0,Math.min(1,(t-h)/(x-h))),t*t*t*(t*(t*6-15)+10)};d.exports=S},44408:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i){i===void 0&&(i=new h);var n=0,l=0,s=a*r;return o>0&&o<=s&&(o>a-1?(l=Math.floor(o/a),n=o-l*a):n=o),i.set(n,l)};d.exports=x},85955:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n,l,s,u){u===void 0&&(u=new h);var f=Math.sin(n),c=Math.cos(n),v=c*l,g=f*l,y=-f*s,T=c*s,E=1/(v*T+y*-g);return u.x=T*E*o+-y*E*a+(i*y-r*T)*E,u.y=v*E*a+-g*E*o+(-i*v+r*g)*E,u};d.exports=x},26099:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(43855),o=new h({initialize:function(r,i){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(i===void 0&&(i=r),this.x=r||0,this.y=i||0)},clone:function(){return new o(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,r){return r===void 0&&(r=a),this.x=a,this.y=r,this},setTo:function(a,r){return this.set(a,r)},setToPolar:function(a,r){return r==null&&(r=1),this.x=Math.cos(a)*r,this.y=Math.sin(a)*r,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,r){return x(this.x,a.x,r)&&x(this.y,a.y,r)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var r=a.x-this.x,i=a.y-this.y;return Math.sqrt(r*r+i*i)},distanceSq:function(a){var r=a.x-this.x,i=a.y-this.y;return r*r+i*i},length:function(){var a=this.x,r=this.y;return Math.sqrt(a*a+r*r)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,r=this.y;return a*a+r*r},normalize:function(){var a=this.x,r=this.y,i=a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=r*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,r){r===void 0&&(r=0);var i=this.x,n=this.y;return this.x=i+r*(a.x-i),this.y=n+r*(a.y-n),this},transformMat3:function(a){var r=this.x,i=this.y,n=a.val;return this.x=n[0]*r+n[3]*i+n[6],this.y=n[1]*r+n[4]*i+n[7],this},transformMat4:function(a){var r=this.x,i=this.y,n=a.val;return this.x=n[0]*r+n[4]*i+n[12],this.y=n[1]*r+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var r=this.length();return r&&r>a&&this.scale(a/r),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var r=Math.cos(a),i=Math.sin(a);return this.set(r*this.x-i*this.y,i*this.x+r*this.y)},project:function(a){var r=this.dot(a)/a.dot(a);return this.copy(a).scale(r)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),d.exports=o},25836:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this},subVectors:function(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this.z=o.z-a.z,this},crossVectors:function(o,a){var r=o.x,i=o.y,n=o.z,l=a.x,s=a.y,u=a.z;return this.x=i*u-n*s,this.y=n*l-r*u,this.z=r*s-i*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,a,r){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=a||0,this.z=r||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,a){return this.fromArray(o.val,a*4)},fromArray:function(o,a){return a===void 0&&(a=0),this.x=o[a],this.y=o[a+1],this.z=o[a+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0;return Math.sqrt(a*a+r*r+i*i)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0;return a*a+r*r+i*i},length:function(){var o=this.x,a=this.y,r=this.z;return Math.sqrt(o*o+a*a+r*r)},lengthSq:function(){var o=this.x,a=this.y,r=this.z;return o*o+a*a+r*r},normalize:function(){var o=this.x,a=this.y,r=this.z,i=o*o+a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=o*i,this.y=a*i,this.z=r*i),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z;return this.x=r*s-i*l,this.y=i*n-a*s,this.z=a*l-r*n,this},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,i=this.y,n=this.z;return this.x=r+a*(o.x-r),this.y=i+a*(o.y-i),this.z=n+a*(o.z-n),this},applyMatrix3:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=n[0]*a+n[3]*r+n[6]*i,this.y=n[1]*a+n[4]*r+n[7]*i,this.z=n[2]*a+n[5]*r+n[8]*i,this},applyMatrix4:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=1/(n[3]*a+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*a+n[4]*r+n[8]*i+n[12])*l,this.y=(n[1]*a+n[5]*r+n[9]*i+n[13])*l,this.z=(n[2]*a+n[6]*r+n[10]*i+n[14])*l,this},transformMat3:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=a*n[0]+r*n[3]+i*n[6],this.y=a*n[1]+r*n[4]+i*n[7],this.z=a*n[2]+r*n[5]+i*n[8],this},transformMat4:function(o){var a=this.x,r=this.y,i=this.z,n=o.val;return this.x=n[0]*a+n[4]*r+n[8]*i+n[12],this.y=n[1]*a+n[5]*r+n[9]*i+n[13],this.z=n[2]*a+n[6]*r+n[10]*i+n[14],this},transformCoordinates:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=a*n[0]+r*n[4]+i*n[8]+n[12],s=a*n[1]+r*n[5]+i*n[9]+n[13],u=a*n[2]+r*n[6]+i*n[10]+n[14],f=a*n[3]+r*n[7]+i*n[11]+n[15];return this.x=l/f,this.y=s/f,this.z=u/f,this},transformQuat:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z,u=o.w,f=u*a+l*i-s*r,c=u*r+s*a-n*i,v=u*i+n*r-l*a,g=-n*a-l*r-s*i;return this.x=f*u+g*-n+c*-s-v*-l,this.y=c*u+g*-l+v*-n-f*-s,this.z=v*u+g*-s+f*-l-c*-n,this},project:function(o){var a=this.x,r=this.y,i=this.z,n=o.val,l=n[0],s=n[1],u=n[2],f=n[3],c=n[4],v=n[5],g=n[6],y=n[7],T=n[8],E=n[9],A=n[10],P=n[11],w=n[12],I=n[13],O=n[14],F=n[15],L=1/(a*f+r*y+i*P+F);return this.x=(a*l+r*c+i*T+w)*L,this.y=(a*s+r*v+i*E+I)*L,this.z=(a*u+r*g+i*A+O)*L,this},projectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unprojectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unproject:function(o,a){var r=o.x,i=o.y,n=o.z,l=o.w,s=this.x-r,u=l-this.y-1-i,f=this.z;return this.x=2*s/n-1,this.y=2*u/l-1,this.z=2*f-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),d.exports=x},61369:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=i||0,this.w=n||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,a,r,i){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=a||0,this.z=r||0,this.w=i||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,a=this.y,r=this.z,i=this.w;return Math.sqrt(o*o+a*a+r*r+i*i)},lengthSq:function(){var o=this.x,a=this.y,r=this.z,i=this.w;return o*o+a*a+r*r+i*i},normalize:function(){var o=this.x,a=this.y,r=this.z,i=this.w,n=o*o+a*a+r*r+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=a*n,this.z=r*n,this.w=i*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,a){a===void 0&&(a=0);var r=this.x,i=this.y,n=this.z,l=this.w;return this.x=r+a*(o.x-r),this.y=i+a*(o.y-i),this.z=n+a*(o.z-n),this.w=l+a*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(a*a+r*r+i*i+n*n)},distanceSq:function(o){var a=o.x-this.x,r=o.y-this.y,i=o.z-this.z||0,n=o.w-this.w||0;return a*a+r*r+i*i+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var a=this.x,r=this.y,i=this.z,n=this.w,l=o.val;return this.x=l[0]*a+l[4]*r+l[8]*i+l[12]*n,this.y=l[1]*a+l[5]*r+l[9]*i+l[13]*n,this.z=l[2]*a+l[6]*r+l[10]*i+l[14]*n,this.w=l[3]*a+l[7]*r+l[11]*i+l[15]*n,this},transformQuat:function(o){var a=this.x,r=this.y,i=this.z,n=o.x,l=o.y,s=o.z,u=o.w,f=u*a+l*i-s*r,c=u*r+s*a-n*i,v=u*i+n*r-l*a,g=-n*a-l*r-s*i;return this.x=f*u+g*-n+c*-s-v*-l,this.y=c*u+g*-l+v*-n-f*-s,this.z=v*u+g*-s+f*-l-c*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,d.exports=x},60417:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return Math.abs(t-h)<=x};d.exports=S},15994:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=x-h;return h+((t-h)%o+o)%o};d.exports=S},31040:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){return Math.atan2(o-h,x-t)};d.exports=S},55495:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};d.exports=S},128:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};d.exports=S},41273:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){return Math.atan2(x-t,o-h)};d.exports=S},1432:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=function(o){return o>Math.PI&&(o-=h.PI2),Math.abs(((o+h.TAU)%h.PI2-h.PI2)%h.PI2)};d.exports=x},12407:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};d.exports=S},53993:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),x=function(){return h(-Math.PI,Math.PI)};d.exports=x},86564:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),x=function(){return h(-180,180)};d.exports=x},90154:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12407),x=function(o){return h(o+Math.PI)};d.exports=x},48736:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=function(o,a,r){return r===void 0&&(r=.05),o===a||(Math.abs(a-o)<=r||Math.abs(a-o)>=h.PI2-r?o=a:(Math.abs(a-o)>Math.PI&&(a<o?a+=h.PI2:a-=h.PI2),a>o?o+=r:a<o&&(o-=r))),o};d.exports=x},61430:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=h-t;if(x===0)return 0;var o=Math.floor((x- -180)/360);return x-o*360};d.exports=S},86554:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),x=function(o){return h(o,-Math.PI,Math.PI)};d.exports=x},30954:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),x=function(o){return h(o,-180,180)};d.exports=x},25588:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};d.exports=S},20339:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=t-x,r=h-o;return Math.sqrt(a*a+r*r)};d.exports=S},52816:d=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.x-h.x,o=t.y-h.y;return Math.sqrt(x*x+o*o)};d.exports=S},64559:d=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.x-h.x,o=t.y-h.y;return x*x+o*o};d.exports=S},82340:d=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){return Math.max(Math.abs(t-x),Math.abs(h-o))};d.exports=S},14390:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(x-t,a)+Math.pow(o-h,a))};d.exports=S},2243:d=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){return Math.abs(t-x)+Math.abs(h-o)};d.exports=S},89774:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=t-x,r=h-o;return a*a+r*r};d.exports=S},50994:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54178),x=t(41521),o=t(79980),a=t(85433),r=t(99140),i=t(48857),n=t(81596),l=t(59133),s=t(98516),u=t(35248),f=t(82500),c=t(49752);d.exports={Power0:n,Power1:l.Out,Power2:a.Out,Power3:s.Out,Power4:u.Out,Linear:n,Quad:l.Out,Cubic:a.Out,Quart:s.Out,Quint:u.Out,Sine:f.Out,Expo:i.Out,Circ:o.Out,Elastic:r.Out,Back:h.Out,Bounce:x.Out,Stepped:c,"Quad.easeIn":l.In,"Cubic.easeIn":a.In,"Quart.easeIn":s.In,"Quint.easeIn":u.In,"Sine.easeIn":f.In,"Expo.easeIn":i.In,"Circ.easeIn":o.In,"Elastic.easeIn":r.In,"Back.easeIn":h.In,"Bounce.easeIn":x.In,"Quad.easeOut":l.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":s.Out,"Quint.easeOut":u.Out,"Sine.easeOut":f.Out,"Expo.easeOut":i.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":r.Out,"Back.easeOut":h.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":x.InOut}},1639:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};d.exports=S},50099:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1.70158);var x=h*1.525;return(t*=2)<1?.5*(t*t*((x+1)*t-x)):.5*((t-=2)*t*((x+1)*t+x)+2)};d.exports=S},41286:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};d.exports=S},54178:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};d.exports=S},41788:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};d.exports=S},69905:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};d.exports=S},41521:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};d.exports=S},4177:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};d.exports=S},57512:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};d.exports=S},79980:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};d.exports=S},82820:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};d.exports=S},35033:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};d.exports=S},85433:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),t===0)return 0;if(t===1)return 1;var o=x/4;return h<1?h=1:o=x*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/x))};d.exports=S},50665:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),t===0)return 0;if(t===1)return 1;var o=x/4;return h<1?h=1:o=x*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/x)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/x)*.5+1};d.exports=S},7744:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),t===0)return 0;if(t===1)return 1;var o=x/4;return h<1?h=1:o=x*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/x)+1};d.exports=S},99140:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};d.exports=S},87844:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};d.exports=S},89433:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};d.exports=S},48857:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};d.exports=S},81596:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports=t(7147)},34826:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};d.exports=S},20544:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};d.exports=S},92029:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};d.exports=S},59133:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};d.exports=S},78137:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};d.exports=S},45840:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};d.exports=S},98516:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};d.exports=S},16509:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};d.exports=S},17868:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};d.exports=S},35248:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};d.exports=S},34025:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};d.exports=S},52768:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};d.exports=S},82500:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};d.exports=S},49752:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports=t(72251)},75698:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};d.exports=S},43855:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return x===void 0&&(x=1e-4),Math.abs(t-h)<x};d.exports=S},25777:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};d.exports=S},5470:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return x===void 0&&(x=1e-4),t>h-x};d.exports=S},94977:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return x===void 0&&(x=1e-4),t<h+x};d.exports=S},48379:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),x=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=x(!1,o,h),d.exports=o},89318:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85710),x=function(o,a){for(var r=0,i=o.length-1,n=0;n<=i;n++)r+=Math.pow(1-a,i-n)*Math.pow(a,n)*o[n]*h(i,n);return r};d.exports=x},77259:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),x=function(o,a){var r=o.length-1,i=r*a,n=Math.floor(i);return o[0]===o[r]?(a<0&&(n=Math.floor(i=r*(1+a))),h(i-n,o[(n-1+r)%r],o[n],o[(n+1)%r],o[(n+2)%r])):a<0?o[0]-(h(-i,o[0],o[0],o[1],o[1])-o[0]):a>1?o[r]-(h(i-r,o[r],o[r],o[r-1],o[r-1])-o[r]):h(i-n,o[n?n-1:0],o[n],o[r<n+1?r:n+1],o[r<n+2?r:n+2])};d.exports=x},36316:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,r){var i=1-a;return i*i*i*r}function t(a,r){var i=1-a;return 3*i*i*a*r}function h(a,r){return 3*(1-a)*a*a*r}function x(a,r){return a*a*a*r}var o=function(a,r,i,n,l){return S(a,r)+t(a,i)+h(a,n)+x(a,l)};d.exports=o},28392:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),x=function(o,a){var r=o.length-1,i=r*a,n=Math.floor(i);return a<0?h(o[0],o[1],i):a>1?h(o[r],o[r-1],r-i):h(o[n],o[n+1>r?r:n+1],i-n)};d.exports=x},32112:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(o,a){var r=1-o;return r*r*a}function t(o,a){return 2*(1-o)*o*a}function h(o,a){return o*o*a}var x=function(o,a,r,i){return S(o,a)+t(o,r)+h(o,i)};d.exports=x},47235:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),x=function(o,a,r){return a+(r-a)*h(o,0,1)};d.exports=x},50178:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),x=function(o,a,r){return a+(r-a)*h(o,0,1)};d.exports=x},38289:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};d.exports=S},50030:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};d.exports=S},81230:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};d.exports=S},49001:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var a,r=this.n;o=o.toString();for(var i=0;i<o.length;i++)r+=o.charCodeAt(i),a=.02519603282416938*r,r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var a=0;a<o.length&&o[a]!=null;a++){var r=o[a];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},between:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},realInRange:function(o,a){return this.frac()*(a-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",a="";for(a=o="";o++<36;a+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return a},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,a){return this.realInRange(o||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var a=o.length-1,r=a;r>0;r--){var i=Math.floor(this.frac()*(r+1)),n=o[i];o[i]=o[r],o[r]=n}return o}});d.exports=x},63448:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){return x===void 0&&(x=0),h===0?t:(t-=x,t=h*Math.ceil(t/h),o?(x+t)/h:x+t)};d.exports=S},56583:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){return x===void 0&&(x=0),h===0?t:(t-=x,t=h*Math.floor(t/h),o?(x+t)/h:x+t)};d.exports=S},77720:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){return x===void 0&&(x=0),h===0?t:(t-=x,t=h*Math.round(t/h),o?(x+t)/h:x+t)};d.exports=S},73697:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var h=t(8054),x=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=x(!1,o,h),d.exports=o,t.g.Phaser=o},71289:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92209),o=t(88571),a=new h({Extends:o,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(i,n,l,s,u){o.call(this,i,n,l,s,u),this.body=null}});d.exports=a},86689:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(39506),o=t(20339),a=t(89774),r=t(66022),i=t(95540),n=t(46975),l=t(72441),s=t(47956),u=t(37277),f=t(44594),c=t(26099),v=t(82248),g=new h({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,T.sys.events.once(f.BOOT,this.boot,this),T.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new r(this.world));var y=this.systems.events;i(this.config,"customUpdate",!1)||y.on(f.UPDATE,this.world.update,this.world),y.on(f.POST_UPDATE,this.world.postUpdate,this.world),y.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var y=this.systems.game.config.physics,T=this.systems.settings.physics,E=n(i(T,"arcade",{}),i(y,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(y,T,E,A,P){return E===void 0&&(E=null),A===void 0&&(A=null),P===void 0&&(P=E),this.world.collideObjects(y,T,E,A,P,!0)},collide:function(y,T,E,A,P){return E===void 0&&(E=null),A===void 0&&(A=null),P===void 0&&(P=E),this.world.collideObjects(y,T,E,A,P,!1)},collideTiles:function(y,T,E,A,P){return this.world.collideTiles(y,T,E,A,P)},overlapTiles:function(y,T,E,A,P){return this.world.overlapTiles(y,T,E,A,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(y,T,E,A,P,w){A===void 0&&(A=60);var I=Math.atan2(E-y.y,T-y.x);return y.body.acceleration.setToPolar(I,A),P!==void 0&&w!==void 0&&y.body.maxVelocity.set(P,w),I},accelerateToObject:function(y,T,E,A,P){return this.accelerateTo(y,T.x,T.y,E,A,P)},closest:function(y,T){T||(T=this.world.bodies.entries);for(var E=Number.MAX_VALUE,A=null,P=y.x,w=y.y,I=T.length,O=0;O<I;O++){var F=T[O],L=F.body||F;if(!(y===F||y===L||y===L.gameObject||y===L.center)){var D=a(P,w,L.center.x,L.center.y);D<E&&(A=F,E=D)}}return A},furthest:function(y,T){T||(T=this.world.bodies.entries);for(var E=-1,A=null,P=y.x,w=y.y,I=T.length,O=0;O<I;O++){var F=T[O],L=F.body||F;if(!(y===F||y===L||y===L.gameObject||y===L.center)){var D=a(P,w,L.center.x,L.center.y);D>E&&(A=F,E=D)}}return A},moveTo:function(y,T,E,A,P){A===void 0&&(A=60),P===void 0&&(P=0);var w=Math.atan2(E-y.y,T-y.x);return P>0&&(A=o(y.x,y.y,T,E)/(P/1e3)),y.body.velocity.setToPolar(w,A),w},moveToObject:function(y,T,E,A){return this.moveTo(y,T.x,T.y,E,A)},velocityFromAngle:function(y,T,E){return T===void 0&&(T=60),E===void 0&&(E=new c),E.setToPolar(x(y),T)},velocityFromRotation:function(y,T,E){return T===void 0&&(T=60),E===void 0&&(E=new c),E.setToPolar(y,T)},overlapRect:function(y,T,E,A,P,w){return s(this.world,y,T,E,A,P,w)},overlapCirc:function(y,T,E,A,P){return l(this.world,y,T,E,A,P)},shutdown:function(){if(this.world){var y=this.systems.events;y.off(f.UPDATE,this.world.update,this.world),y.off(f.POST_UPDATE,this.world.postUpdate,this.world),y.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",g,"arcadePhysics"),d.exports=g},13759:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92209),o=t(68287),a=new h({Extends:o,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(i,n,l,s,u){o.call(this,i,n,l,s,u),this.body=null}});d.exports=a},37742:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(78389),o=t(37747),a=t(63012),r=t(43396),i=t(87841),n=t(37303),l=t(95829),s=t(26099),u=new h({Mixins:[x],initialize:function(c,v){var g=64,y=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=v!==void 0;E&&v.displayWidth&&(g=v.displayWidth,y=v.displayHeight),E||(v=T),this.world=c,this.gameObject=E?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=g,this.height=y,this.sourceWidth=g,this.sourceHeight=y,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(g/2),this.halfHeight=Math.abs(y/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new i,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,c=this.transform;if(f.parentContainer){var v=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=v.tx,c.y=v.ty,c.rotation=r(v.rotation),c.scaleX=v.scaleX,c.scaleY=v.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY}else c.x=f.x,c.y=f.y,c.rotation=f.angle,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY;var g=!1;if(this.syncBounds){var y=f.getBounds(this._bounds);this.width=y.width,this.height=y.height,g=!0}else{var T=Math.abs(c.scaleX),E=Math.abs(c.scaleY);(this._sx!==T||this._sy!==E)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*E,this._sx=T,this._sy=E,g=!0)}g&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var c=this.wasTouching,v=this.touching,g=this.blocked;f?l(!0,c):(c.none=v.none,c.up=v.up,c.down=v.down,c.left=v.left,c.right=v.right),l(!0,v),l(!0,g),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,c){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}f&&this.update(c)},update:function(f){var c=this.prev,v=this.position,g=this.velocity;if(c.set(v.x,v.y),!this.moves){this._dx=v.x-c.x,this._dy=v.y-c.y;return}if(this.directControl){var y=this.autoFrame;g.set((v.x-y.x)/f,(v.y-y.y)/f),this.world.updateMotion(this,f),this._dx=v.x-y.x,this._dy=v.y-y.y}else this.world.updateMotion(this,f),this.newVelocity.set(g.x*f,g.y*f),v.add(this.newVelocity),this._dx=v.x-c.x,this._dy=v.y-c.y;var T=g.x,E=g.y;if(this.updateCenter(),this.angle=Math.atan2(E,T),this.speed=Math.sqrt(T*T+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var f=this.position,c=f.x-this.prevFrame.x,v=f.y-this.prevFrame.y,g=this.gameObject;if(this.moves){var y=this.deltaMax.x,T=this.deltaMax.y;y!==0&&c!==0&&(c<0&&c<-y?c=-y:c>0&&c>y&&(c=y)),T!==0&&v!==0&&(v<0&&v<-T?v=-T:v>0&&v>T&&(v=T)),g&&(g.x+=c,g.y+=v)}c<0?this.facing=o.FACING_LEFT:c>0&&(this.facing=o.FACING_RIGHT),v<0?this.facing=o.FACING_UP:v>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&g&&(g.angle+=this.deltaZ()),this._tx=c,this._ty=v,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,c=this.velocity,v=this.blocked,g=this.customBoundsRectangle,y=this.world.checkCollision,T=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return f.x<g.x&&y.left?(f.x=g.x,c.x*=T,v.left=!0,A=!0):this.right>g.right&&y.right&&(f.x=g.right-this.width,c.x*=T,v.right=!0,A=!0),f.y<g.y&&y.up?(f.y=g.y,c.y*=E,v.up=!0,A=!0):this.bottom>g.bottom&&y.down&&(f.y=g.bottom-this.height,c.y*=E,v.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(f,c){return c===void 0&&(c=f),this.offset.set(f,c),this},setGameObject:function(f,c){if(c===void 0&&(c=!0),!f||!f.hasTransformComponent)return this;var v=this.world;return this.gameObject&&this.gameObject.body&&(v.disable(this.gameObject),this.gameObject.body=null),f.body&&v.disable(f),this.gameObject=f,f.body=this,this.setSize(),this.enable=c,this},setSize:function(f,c,v){v===void 0&&(v=!0);var g=this.gameObject;if(g&&(!f&&g.frame&&(f=g.frame.realWidth),!c&&g.frame&&(c=g.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&g&&g.getCenter){var y=(g.width-f)/2,T=(g.height-c)/2;this.offset.set(y,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,c,v){return c===void 0&&(c=this.offset.x),v===void 0&&(v=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,v),this.updateCenter()):this.isCircle=!1,this},reset:function(f,c){this.stop();var v=this.gameObject;v&&(v.setPosition(f,c),this.rotation=v.angle,this.preRotation=v.angle);var g=this.position;v&&v.getTopLeft?v.getTopLeft(g):g.set(f,c),this.prev.copy(g),this.prevFrame.copy(g),this.autoFrame.copy(g),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,c){if(!this.isCircle)return n(this,f,c);if(this.radius>0&&f>=this.left&&f<=this.right&&c>=this.top&&c<=this.bottom){var v=(this.center.x-f)*(this.center.x-f),g=(this.center.y-c)*(this.center.y-c);return v+g<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var c=this.position,v=c.x+this.halfWidth,g=c.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(v,g,this.width/2):(this.checkCollision.up&&f.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&f.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&f.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&f.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(v,g,v+this.velocity.x/2,g+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,c,v,g){f===void 0&&(f=!0),this.collideWorldBounds=f;var y=c!==void 0,T=v!==void 0;return(y||T)&&(this.worldBounce||(this.worldBounce=new s),y&&(this.worldBounce.x=c),T&&(this.worldBounce.y=v)),g!==void 0&&(this.onWorldBounds=g),this},setVelocity:function(f,c){return this.velocity.set(f,c),f=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(f*f+c*c),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,c){return this.maxVelocity.set(f,c),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,c){return this.slideFactor.set(f,c),this},setBounce:function(f,c){return this.bounce.set(f,c),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,c){return this.acceleration.set(f,c),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,c){return this.drag.set(f,c),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,c){return this.gravity.set(f,c),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,c){return this.friction.set(f,c),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,c,v,g){this.x+=f,this.updateCenter(),c!==null&&(this.velocity.x=c*this.slideFactor.x);var y=this.blocked;v&&(y.left=!0,y.none=!1),g&&(y.right=!0,y.none=!1)},processY:function(f,c,v,g){this.y+=f,this.updateCenter(),c!==null&&(this.velocity.y=c*this.slideFactor.y);var y=this.blocked;v&&(y.up=!0,y.none=!1),g&&(y.down=!0,y.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});d.exports=u},79342:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i,n,l,s,u){this.world=a,this.name="",this.active=!0,this.overlapOnly=r,this.object1=i,this.object2=n,this.collideCallback=l,this.processCallback=s,this.callbackContext=u},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});d.exports=x},66022:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71289),x=t(13759),o=t(37742),a=t(83419),r=t(37747),i=t(60758),n=t(72624),l=t(71464),s=new a({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(u,f,c,v,g){return this.world.addCollider(u,f,c,v,g)},overlap:function(u,f,c,v,g){return this.world.addOverlap(u,f,c,v,g)},existing:function(u,f){var c=f?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(u,c),u},staticImage:function(u,f,c,v){var g=new h(this.scene,u,f,c,v);return this.sys.displayList.add(g),this.world.enableBody(g,r.STATIC_BODY),g},image:function(u,f,c,v){var g=new h(this.scene,u,f,c,v);return this.sys.displayList.add(g),this.world.enableBody(g,r.DYNAMIC_BODY),g},staticSprite:function(u,f,c,v){var g=new x(this.scene,u,f,c,v);return this.sys.displayList.add(g),this.sys.updateList.add(g),this.world.enableBody(g,r.STATIC_BODY),g},sprite:function(u,f,c,v){var g=new x(this.scene,u,f,c,v);return this.sys.displayList.add(g),this.sys.updateList.add(g),this.world.enableBody(g,r.DYNAMIC_BODY),g},staticGroup:function(u,f){return this.sys.updateList.add(new l(this.world,this.world.scene,u,f))},group:function(u,f){return this.sys.updateList.add(new i(this.world,this.world.scene,u,f))},body:function(u,f,c,v){var g=new o(this.world);return g.position.set(u,f),c&&v&&g.setSize(c,v),this.world.add(g,r.DYNAMIC_BODY),g},staticBody:function(u,f,c,v){var g=new n(this.world);return g.position.set(u,f),c&&v&&g.setSize(c,v),this.world.add(g,r.STATIC_BODY),g},destroy:function(){this.world=null,this.scene=null,this.sys=null}});d.exports=s},79599:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=0;if(!Array.isArray(t))h=t;else for(var x=0;x<t.length;x++)h|=t[x];return h};d.exports=S},64897:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),x=function(o,a,r,i){var n=0,l=o.deltaAbsX()+a.deltaAbsX()+i;return o._dx===0&&a._dx===0?(o.embedded=!0,a.embedded=!0):o._dx>a._dx?(n=o.right-a.x,n>l&&!r||o.checkCollision.right===!1||a.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0))):o._dx<a._dx&&(n=o.x-a.width-a.x,-n>l&&!r||o.checkCollision.left===!1||a.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0))),o.overlapX=n,a.overlapX=n,n};d.exports=x},45170:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),x=function(o,a,r,i){var n=0,l=o.deltaAbsY()+a.deltaAbsY()+i;return o._dy===0&&a._dy===0?(o.embedded=!0,a.embedded=!0):o._dy>a._dy?(n=o.bottom-a.y,n>l&&!r||o.checkCollision.down===!1||a.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0))):o._dy<a._dy&&(n=o.y-a.bottom,-n>l&&!r||o.checkCollision.up===!1||a.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===h.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0))),o.overlapY=n,a.overlapY=n,n};d.exports=x},60758:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),x=t(83419),o=t(78389),a=t(37747),r=t(95540),i=t(26479),n=t(41212),l=new x({Extends:i,Mixins:[o],initialize:function(u,f,c,v){if(!c&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(c))v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&n(c[0])){var g=this;c.forEach(function(y){y.internalCreateCallback=g.createCallbackHandler,y.internalRemoveCallback=g.removeCallbackHandler,y.classType=r(y,"classType",h)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,v&&(v.classType=r(v,"classType",h)),this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(v,"collideWorldBounds",!1),setBoundsRectangle:r(v,"customBoundsRectangle",null),setAccelerationX:r(v,"accelerationX",0),setAccelerationY:r(v,"accelerationY",0),setAllowDrag:r(v,"allowDrag",!0),setAllowGravity:r(v,"allowGravity",!0),setAllowRotation:r(v,"allowRotation",!0),setDamping:r(v,"useDamping",!1),setBounceX:r(v,"bounceX",0),setBounceY:r(v,"bounceY",0),setDragX:r(v,"dragX",0),setDragY:r(v,"dragY",0),setEnable:r(v,"enable",!0),setGravityX:r(v,"gravityX",0),setGravityY:r(v,"gravityY",0),setFrictionX:r(v,"frictionX",0),setFrictionY:r(v,"frictionY",0),setMaxSpeed:r(v,"maxSpeed",-1),setMaxVelocityX:r(v,"maxVelocityX",1e4),setMaxVelocityY:r(v,"maxVelocityY",1e4),setVelocityX:r(v,"velocityX",0),setVelocityY:r(v,"velocityY",0),setAngularVelocity:r(v,"angularVelocity",0),setAngularAcceleration:r(v,"angularAcceleration",0),setAngularDrag:r(v,"angularDrag",0),setMass:r(v,"mass",1),setImmovable:r(v,"immovable",!1)},i.call(this,f,c,v),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.DYNAMIC_BODY);var u=s.body;for(var f in this.defaults)u[f](this.defaults[f])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,u,f){f===void 0&&(f=0);for(var c=this.getChildren(),v=0;v<c.length;v++)c[v].body.velocity.set(s+v*f,u+v*f);return this},setVelocityX:function(s,u){u===void 0&&(u=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.x=s+c*u;return this},setVelocityY:function(s,u){u===void 0&&(u=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.y=s+c*u;return this}});d.exports=l},3017:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,x,o,a,r,i,n,l,s,u,f,c,v,g,y,T=function(O,F,L){S=O,t=F;var D=S.velocity.x,b=t.velocity.x;return h=S.pushable,n=S._dx<0,l=S._dx>0,s=S._dx===0,v=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),r=b-D*S.bounce.x,x=t.pushable,u=t._dx<0,f=t._dx>0,c=t._dx===0,g=!v,i=D-b*t.bounce.x,y=Math.abs(L),E()},E=function(){return l&&v&&t.blocked.right?(S.processX(-y,r,!1,!0),1):n&&g&&t.blocked.left?(S.processX(y,r,!0),1):f&&g&&S.blocked.right?(t.processX(-y,i,!1,!0),2):u&&v&&S.blocked.left?(t.processX(y,i,!0),2):0},A=function(){var O=S.velocity.x,F=t.velocity.x,L=Math.sqrt(F*F*t.mass/S.mass)*(F>0?1:-1),D=Math.sqrt(O*O*S.mass/t.mass)*(O>0?1:-1),b=(L+D)*.5;return L-=b,D-=b,o=b+L*S.bounce.x,a=b+D*t.bounce.x,n&&g?P(0):u&&v?P(1):l&&v?P(2):f&&g?P(3):!1},P=function(O){if(h&&x)y*=.5,O===0||O===3?(S.processX(y,o),t.processX(-y,a)):(S.processX(-y,o),t.processX(y,a));else if(h&&!x)O===0||O===3?S.processX(y,r,!0):S.processX(-y,r,!1,!0);else if(!h&&x)O===0||O===3?t.processX(-y,i,!1,!0):t.processX(y,i,!0);else{var F=y*.5;O===0?c?(S.processX(y,0,!0),t.processX(0,null,!1,!0)):f?(S.processX(F,0,!0),t.processX(-F,0,!1,!0)):(S.processX(F,t.velocity.x,!0),t.processX(-F,null,!1,!0)):O===1?s?(S.processX(0,null,!1,!0),t.processX(y,0,!0)):l?(S.processX(-F,0,!1,!0),t.processX(F,0,!0)):(S.processX(-F,null,!1,!0),t.processX(F,S.velocity.x,!0)):O===2?c?(S.processX(-y,0,!1,!0),t.processX(0,null,!0)):u?(S.processX(-F,0,!1,!0),t.processX(F,0,!0)):(S.processX(-F,t.velocity.x,!1,!0),t.processX(F,null,!0)):O===3&&(s?(S.processX(0,null,!0),t.processX(-y,0,!1,!0)):n?(S.processX(F,0,!0),t.processX(-F,0,!1,!0)):(S.processX(F,t.velocity.y,!0),t.processX(-F,null,!1,!0)))}return!0},w=function(O){if(O===1?t.velocity.x=0:v?t.processX(y,i,!0):t.processX(-y,i,!1,!0),S.moves){var F=S.directControl?S.y-S.autoFrame.y:S.y-S.prev.y;t.y+=F*S.friction.y,t._dy=t.y-t.prev.y}},I=function(O){if(O===2?S.velocity.x=0:g?S.processX(y,r,!0):S.processX(-y,r,!1,!0),t.moves){var F=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;S.y+=F*t.friction.y,S._dy=S.y-S.prev.y}};d.exports={BlockCheck:E,Check:A,Set:T,Run:P,RunImmovableBody1:w,RunImmovableBody2:I}},47962:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,x,o,a,r,i,n,l,s,u,f,c,v,g,y,T=function(O,F,L){S=O,t=F;var D=S.velocity.y,b=t.velocity.y;return h=S.pushable,n=S._dy<0,l=S._dy>0,s=S._dy===0,v=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),r=b-D*S.bounce.y,x=t.pushable,u=t._dy<0,f=t._dy>0,c=t._dy===0,g=!v,i=D-b*t.bounce.y,y=Math.abs(L),E()},E=function(){return l&&v&&t.blocked.down?(S.processY(-y,r,!1,!0),1):n&&g&&t.blocked.up?(S.processY(y,r,!0),1):f&&g&&S.blocked.down?(t.processY(-y,i,!1,!0),2):u&&v&&S.blocked.up?(t.processY(y,i,!0),2):0},A=function(){var O=S.velocity.y,F=t.velocity.y,L=Math.sqrt(F*F*t.mass/S.mass)*(F>0?1:-1),D=Math.sqrt(O*O*S.mass/t.mass)*(O>0?1:-1),b=(L+D)*.5;return L-=b,D-=b,o=b+L*S.bounce.y,a=b+D*t.bounce.y,n&&g?P(0):u&&v?P(1):l&&v?P(2):f&&g?P(3):!1},P=function(O){if(h&&x)y*=.5,O===0||O===3?(S.processY(y,o),t.processY(-y,a)):(S.processY(-y,o),t.processY(y,a));else if(h&&!x)O===0||O===3?S.processY(y,r,!0):S.processY(-y,r,!1,!0);else if(!h&&x)O===0||O===3?t.processY(-y,i,!1,!0):t.processY(y,i,!0);else{var F=y*.5;O===0?c?(S.processY(y,0,!0),t.processY(0,null,!1,!0)):f?(S.processY(F,0,!0),t.processY(-F,0,!1,!0)):(S.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)):O===1?s?(S.processY(0,null,!1,!0),t.processY(y,0,!0)):l?(S.processY(-F,0,!1,!0),t.processY(F,0,!0)):(S.processY(-F,null,!1,!0),t.processY(F,S.velocity.y,!0)):O===2?c?(S.processY(-y,0,!1,!0),t.processY(0,null,!0)):u?(S.processY(-F,0,!1,!0),t.processY(F,0,!0)):(S.processY(-F,t.velocity.y,!1,!0),t.processY(F,null,!0)):O===3&&(s?(S.processY(0,null,!0),t.processY(-y,0,!1,!0)):n?(S.processY(F,0,!0),t.processY(-F,0,!1,!0)):(S.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)))}return!0},w=function(O){if(O===1?t.velocity.y=0:v?t.processY(y,i,!0):t.processY(-y,i,!1,!0),S.moves){var F=S.directControl?S.x-S.autoFrame.x:S.x-S.prev.x;t.x+=F*S.friction.x,t._dx=t.x-t.prev.x}},I=function(O){if(O===2?S.velocity.y=0:g?S.processY(y,r,!0):S.processY(-y,r,!1,!0),t.moves){var F=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;S.x+=F*t.friction.x,S._dx=S.x-S.prev.x}};d.exports={BlockCheck:E,Check:A,Set:T,Run:P,RunImmovableBody1:w,RunImmovableBody2:I}},14087:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64897),x=t(3017),o=function(a,r,i,n,l){l===void 0&&(l=h(a,r,i,n));var s=a.immovable,u=r.immovable;if(i||l===0||s&&u||a.customSeparateX||r.customSeparateX)return l!==0||a.embedded&&r.embedded;var f=x.Set(a,r,l);return!s&&!u?f>0?!0:x.Check():(s?x.RunImmovableBody1(f):u&&x.RunImmovableBody2(f),!0)};d.exports=o},89936:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45170),x=t(47962),o=function(a,r,i,n,l){l===void 0&&(l=h(a,r,i,n));var s=a.immovable,u=r.immovable;if(i||l===0||s&&u||a.customSeparateY||r.customSeparateY)return l!==0||a.embedded&&r.embedded;var f=x.Set(a,r,l);return!s&&!u?f>0?!0:x.Check():(s?x.RunImmovableBody1(f):u&&x.RunImmovableBody2(f),!0)};d.exports=o},95829:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h={}),h.none=t,h.up=!1,h.down=!1,h.left=!1,h.right=!1,t||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h};d.exports=S},72624:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),x=t(83419),o=t(78389),a=t(37747),r=t(37303),i=t(95829),n=t(26099),l=new x({Mixins:[o],initialize:function(u,f){var c=64,v=64,g={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=f!==void 0;y&&f.displayWidth&&(c=f.displayWidth,v=f.displayHeight),y||(f=g),this.world=u,this.gameObject=y?f:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(f.x-c*f.originX,f.y-v*f.originY),this.width=c,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=i(!1),this.touching=i(!0),this.wasTouching=i(!0),this.blocked=i(!0),this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,u,f){if(u===void 0&&(u=!0),f===void 0&&(f=!0),!s||!s.hasTransformComponent)return this;var c=this.world;return this.gameObject&&this.gameObject.body&&(c.disable(this.gameObject),this.gameObject.body=null),s.body&&c.disable(s),this.gameObject=s,s.body=this,this.setSize(),u&&this.updateFromGameObject(),this.enable=f,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,u){return u===void 0&&(u=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,u,f){f===void 0&&(f=!0);var c=this.gameObject;if(c&&c.frame&&(s||(s=c.frame.realWidth),u||(u=c.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=u,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(u/2),f&&c&&c.getCenter){var v=c.displayWidth/2,g=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,g-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,u,f){return u===void 0&&(u=this.offset.x),f===void 0&&(f=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,u){var f=this.gameObject;s===void 0&&(s=f.x),u===void 0&&(u=f.y),this.world.staticTree.remove(this),f.setPosition(s,u),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,u){return this.isCircle?h(this,s,u):r(this,s,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var u=this.position,f=u.x+this.halfWidth,c=u.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(f,c,this.width/2):s.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});d.exports=l},71464:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),x=t(83419),o=t(78389),a=t(37747),r=t(95540),i=t(26479),n=t(41212),l=new x({Extends:i,Mixins:[o],initialize:function(u,f,c,v){!c&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:n(c)?(v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",h)):Array.isArray(c)&&n(c[0])?(v=c,c=null,v.forEach(function(g){g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=r(g,"classType",h)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,i.call(this,f,c,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,u=0;u<s.length;u++)s[u].body.reset();return this}});d.exports=l},82248:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55495),x=t(37742),o=t(45319),a=t(83419),r=t(79342),i=t(37747),n=t(20339),l=t(52816),s=t(50792),u=t(63012),f=t(43855),c=t(5470),v=t(94977),g=t(64897),y=t(45170),T=t(96523),E=t(35154),A=t(36383),P=t(25774),w=t(96602),I=t(87841),O=t(59542),F=t(40012),L=t(14087),D=t(89936),b=t(35072),U=t(72624),W=t(2483),H=t(61340),Y=t(26099),G=t(15994),X=new a({Extends:s,initialize:function(B,z){s.call(this),this.scene=B,this.bodies=new b,this.staticBodies=new b,this.pendingDestroy=new b,this.colliders=new P,this.gravity=new Y(E(z,"gravity.x",0),E(z,"gravity.y",0)),this.bounds=new I(E(z,"x",0),E(z,"y",0),E(z,"width",B.sys.scale.width),E(z,"height",B.sys.scale.height)),this.checkCollision={up:E(z,"checkCollision.up",!0),down:E(z,"checkCollision.down",!0),left:E(z,"checkCollision.left",!0),right:E(z,"checkCollision.right",!0)},this.fps=E(z,"fps",60),this.fixedStep=E(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(z,"timeScale",1),this.OVERLAP_BIAS=E(z,"overlapBias",4),this.TILE_BIAS=E(z,"tileBias",16),this.forceX=E(z,"forceX",!1),this.isPaused=E(z,"isPaused",!1),this._total=0,this.drawDebug=E(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(z,"debugShowBody",!0),debugShowStaticBody:E(z,"debugShowStaticBody",!0),debugShowVelocity:E(z,"debugShowVelocity",!0),bodyDebugColor:E(z,"debugBodyColor",16711935),staticBodyDebugColor:E(z,"debugStaticBodyColor",255),velocityDebugColor:E(z,"debugVelocityColor",65280)},this.maxEntries=E(z,"maxEntries",16),this.useTree=E(z,"useTree",!0),this.tree=new O(this.maxEntries),this.staticTree=new O(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(V,B){B===void 0&&(B=i.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var z=0;z<V.length;z++){var $=V[z];if($.isParent)for(var j=$.getChildren(),k=0;k<j.length;k++){var q=j[k];q.isParent?this.enable(q,B):this.enableBody(q,B)}else this.enableBody($,B)}},enableBody:function(V,B){return B===void 0&&(B=i.DYNAMIC_BODY),V.hasTransformComponent&&(V.body||(B===i.DYNAMIC_BODY?V.body=new x(this,V):B===i.STATIC_BODY&&(V.body=new U(this,V))),this.add(V.body)),V},add:function(V){return V.physicsType===i.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===i.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var B=0;B<V.length;B++){var z=V[B];if(z.isParent)for(var $=z.getChildren(),j=0;j<$.length;j++){var k=$[j];k.isParent?this.disable(k):this.disableBody(k.body)}else this.disableBody(z.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===i.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,B,z,$,j,k,q,Q){return this.bounds.setTo(V,B,z,$),j!==void 0&&this.setBoundsCollision(j,k,q,Q),this},setBoundsCollision:function(V,B,z,$){return V===void 0&&(V=!0),B===void 0&&(B=!0),z===void 0&&(z=!0),$===void 0&&($=!0),this.checkCollision.left=V,this.checkCollision.right=B,this.checkCollision.up=z,this.checkCollision.down=$,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(V,B,z,$,j){z===void 0&&(z=null),$===void 0&&($=null),j===void 0&&(j=z);var k=new r(this,!1,V,B,z,$,j);return this.colliders.add(k),k},addOverlap:function(V,B,z,$,j){z===void 0&&(z=null),$===void 0&&($=null),j===void 0&&(j=z);var k=new r(this,!0,V,B,z,$,j);return this.colliders.add(k),k},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,B){if(!(this.isPaused||this.bodies.size===0)){var z,$=this._frameTime,j=this._frameTimeMS*this.timeScale;this._elapsed+=B;var k,q=this.bodies.entries,Q=this._elapsed>=j;for(this.fixedStep||($=B*.001,Q=!0,this._elapsed=0),z=0;z<q.length;z++)k=q[z],k.enable&&k.preUpdate(Q,$);if(Q){this._elapsed-=j,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(q));var Z=this.colliders.update();for(z=0;z<Z.length;z++){var _=Z[z];_.active&&_.update()}this.emit(u.WORLD_STEP,$)}for(;this._elapsed>=j;)this._elapsed-=j,this.step($)}},step:function(V){var B,z,$=this.bodies.entries,j=$.length;for(B=0;B<j;B++)z=$[B],z.enable&&z.update(V);this.useTree&&(this.tree.clear(),this.tree.load($));var k=this.colliders.update();for(B=0;B<k.length;B++){var q=k[B];q.active&&q.update()}this.emit(u.WORLD_STEP,V),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var V,B,z=this.bodies.entries,$=z.length,j=this.bodies,k=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<$;V++)B=z[V],B.enable&&B.postUpdate();if(this.drawDebug){var q=this.debugGraphic;for(q.clear(),V=0;V<$;V++)B=z[V],B.willDrawDebug()&&B.drawDebug(q);for(z=k.entries,$=z.length,V=0;V<$;V++)B=z[V],B.willDrawDebug()&&B.drawDebug(q)}var Q=this.pendingDestroy;if(Q.size>0){var Z=this.tree,_=this.staticTree;for(z=Q.entries,$=z.length,V=0;V<$;V++)B=z[V],B.physicsType===i.DYNAMIC_BODY?(Z.remove(B),j.delete(B)):B.physicsType===i.STATIC_BODY&&(_.remove(B),k.delete(B)),B.world=void 0,B.gameObject=void 0;Q.clear()}},updateMotion:function(V,B){V.allowRotation&&this.computeAngularVelocity(V,B),this.computeVelocity(V,B)},computeAngularVelocity:function(V,B){var z=V.angularVelocity,$=V.angularAcceleration,j=V.angularDrag,k=V.maxAngular;$?z+=$*B:V.allowDrag&&j&&(j*=B,c(z-j,0,.1)?z-=j:v(z+j,0,.1)?z+=j:z=0),z=o(z,-k,k);var q=z-V.angularVelocity;V.angularVelocity+=q,V.rotation+=V.angularVelocity*B},computeVelocity:function(V,B){var z=V.velocity.x,$=V.acceleration.x,j=V.drag.x,k=V.maxVelocity.x,q=V.velocity.y,Q=V.acceleration.y,Z=V.drag.y,_=V.maxVelocity.y,et=V.speed,it=V.maxSpeed,st=V.allowDrag,nt=V.useDamping;V.allowGravity&&(z+=(this.gravity.x+V.gravity.x)*B,q+=(this.gravity.y+V.gravity.y)*B),$?z+=$*B:st&&j&&(nt?(j=Math.pow(j,B),z*=j,et=Math.sqrt(z*z+q*q),f(et,0,.001)&&(z=0)):(j*=B,c(z-j,0,.01)?z-=j:v(z+j,0,.01)?z+=j:z=0)),Q?q+=Q*B:st&&Z&&(nt?(Z=Math.pow(Z,B),q*=Z,et=Math.sqrt(z*z+q*q),f(et,0,.001)&&(q=0)):(Z*=B,c(q-Z,0,.01)?q-=Z:v(q+Z,0,.01)?q+=Z:q=0)),z=o(z,-k,k),q=o(q,-_,_),V.velocity.set(z,q),it>-1&&V.velocity.length()>it&&(V.velocity.normalize().scale(it),et=it),V.speed=et},separate:function(V,B,z,$,j){var k,q,Q=!1,Z=!0;if(!V.enable||!B.enable||V.checkCollision.none||B.checkCollision.none||!this.intersects(V,B)||z&&z.call($,V.gameObject||V,B.gameObject||B)===!1)return Q;if(V.isCircle||B.isCircle){var _=this.separateCircle(V,B,j);_.result?(Q=!0,Z=!1):(k=_.x,q=_.y,Z=!0)}if(Z){var et=!1,it=!1,st=this.OVERLAP_BIAS;j?(et=L(V,B,j,st,k),it=D(V,B,j,st,q)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(et=L(V,B,j,st,k),this.intersects(V,B)&&(it=D(V,B,j,st,q))):(it=D(V,B,j,st,q),this.intersects(V,B)&&(et=L(V,B,j,st,k))),Q=et||it}return Q&&(j?(V.onOverlap||B.onOverlap)&&this.emit(u.OVERLAP,V.gameObject,B.gameObject,V,B):(V.onCollide||B.onCollide)&&this.emit(u.COLLIDE,V.gameObject,B.gameObject,V,B)),Q},separateCircle:function(V,B,z){g(V,B,!1,0),y(V,B,!1,0);var $=V.isCircle,j=B.isCircle,k=V.center,q=B.center,Q=V.immovable,Z=B.immovable,_=V.velocity,et=B.velocity,it=0,st=!0;if($!==j){st=!1;var nt=k.x,lt=k.y,ut=V.halfWidth,ot=B.position.x,rt=B.position.y,ht=B.right,dt=B.bottom;j&&(nt=q.x,lt=q.y,ut=B.halfWidth,ot=V.position.x,rt=V.position.y,ht=V.right,dt=V.bottom),lt<rt?nt<ot?it=n(nt,lt,ot,rt)-ut:nt>ht&&(it=n(nt,lt,ht,rt)-ut):lt>dt&&(nt<ot?it=n(nt,lt,ot,dt)-ut:nt>ht&&(it=n(nt,lt,ht,dt)-ut)),it*=-1}else it=V.halfWidth+B.halfWidth-l(k,q);V.overlapR=it,B.overlapR=it;var xt=h(k,q),yt=(it+A.EPSILON)*Math.cos(xt),Ct=(it+A.EPSILON)*Math.sin(xt),St={overlap:it,result:!1,x:yt,y:Ct};if(z&&(!st||st&&it!==0))return St.result=!0,St;if(!st&&it===0||Q&&Z||V.customSeparateX||B.customSeparateX)return St.x=void 0,St.y=void 0,St;var Mt=!V.pushable&&!B.pushable;if(st){var Ut=k.x-q.x,qt=k.y-q.y,Nt=Math.sqrt(Math.pow(Ut,2)+Math.pow(qt,2)),Jt=(q.x-k.x)/Nt||0,ae=(q.y-k.y)/Nt||0,jt=2*(_.x*Jt+_.y*ae-et.x*Jt-et.y*ae)/(V.mass+B.mass);(Q||Z||!V.pushable||!B.pushable)&&(jt*=2),!Q&&V.pushable&&(_.x=_.x-jt/V.mass*Jt,_.y=_.y-jt/V.mass*ae,_.multiply(V.bounce)),!Z&&B.pushable&&(et.x=et.x+jt/B.mass*Jt,et.y=et.y+jt/B.mass*ae,et.multiply(B.bounce)),!Q&&!Z&&(yt*=.5,Ct*=.5),(!Q||V.pushable||Mt)&&(V.x-=yt,V.y-=Ct,V.updateCenter()),(!Z||B.pushable||Mt)&&(B.x+=yt,B.y+=Ct,B.updateCenter()),St.result=!0}else(!Q||V.pushable||Mt)&&(V.x-=yt,V.y-=Ct,V.updateCenter()),(!Z||B.pushable||Mt)&&(B.x+=yt,B.y+=Ct,B.updateCenter()),St.x=void 0,St.y=void 0;return St},intersects:function(V,B){return V===B?!1:!V.isCircle&&!B.isCircle?!(V.right<=B.left||V.bottom<=B.top||V.left>=B.right||V.top>=B.bottom):V.isCircle?B.isCircle?l(V.center,B.center)<=V.halfWidth+B.halfWidth:this.circleBodyIntersects(V,B):this.circleBodyIntersects(B,V)},circleBodyIntersects:function(V,B){var z=o(V.center.x,B.left,B.right),$=o(V.center.y,B.top,B.bottom),j=(V.center.x-z)*(V.center.x-z),k=(V.center.y-$)*(V.center.y-$);return j+k<=V.halfWidth*V.halfWidth},overlap:function(V,B,z,$,j){return z===void 0&&(z=null),$===void 0&&($=null),j===void 0&&(j=z),this.collideObjects(V,B,z,$,j,!0)},collide:function(V,B,z,$,j){return z===void 0&&(z=null),$===void 0&&($=null),j===void 0&&(j=z),this.collideObjects(V,B,z,$,j,!1)},collideObjects:function(V,B,z,$,j,k){var q,Q;V.isParent&&(V.physicsType===void 0||B===void 0||V===B)&&(V=V.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var Z=Array.isArray(V),_=Array.isArray(B);if(this._total=0,!Z&&!_)this.collideHandler(V,B,z,$,j,k);else if(!Z&&_)for(q=0;q<B.length;q++)this.collideHandler(V,B[q],z,$,j,k);else if(Z&&!_)if(B)for(q=0;q<V.length;q++)this.collideHandler(V[q],B,z,$,j,k);else for(q=0;q<V.length;q++){var et=V[q];for(Q=q+1;Q<V.length;Q++)q!==Q&&this.collideHandler(et,V[Q],z,$,j,k)}else for(q=0;q<V.length;q++)for(Q=0;Q<B.length;Q++)this.collideHandler(V[q],B[Q],z,$,j,k);return this._total>0},collideHandler:function(V,B,z,$,j,k){if(B===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,z,$,j,k);if(!V||!B)return!1;if(V.body||V.isBody){if(B.body||B.isBody)return this.collideSpriteVsSprite(V,B,z,$,j,k);if(B.isParent)return this.collideSpriteVsGroup(V,B,z,$,j,k);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(V,B,z,$,j,k)}else if(V.isParent){if(B.body||B.isBody)return this.collideSpriteVsGroup(B,V,z,$,j,k);if(B.isParent)return this.collideGroupVsGroup(V,B,z,$,j,k);if(B.isTilemap)return this.collideGroupVsTilemapLayer(V,B,z,$,j,k)}else if(V.isTilemap){if(B.body||B.isBody)return this.collideSpriteVsTilemapLayer(B,V,z,$,j,k);if(B.isParent)return this.collideGroupVsTilemapLayer(B,V,z,$,j,k)}},canCollide:function(V,B){return V&&B&&(V.collisionMask&B.collisionCategory)!==0&&(B.collisionMask&V.collisionCategory)!==0},collideSpriteVsSprite:function(V,B,z,$,j,k){var q=V.isBody?V:V.body,Q=B.isBody?B:B.body;return this.canCollide(q,Q)?(this.separate(q,Q,$,j,k)&&(z&&z.call(j,V,B),this._total++),!0):!1},collideSpriteVsGroup:function(V,B,z,$,j,k){var q=V.isBody?V:V.body;if(!(B.getLength()===0||!q||!q.enable||q.checkCollision.none||!this.canCollide(q,B))){var Q,Z,_;if(this.useTree||B.physicsType===i.STATIC_BODY){var et=this.treeMinMax;et.minX=q.left,et.minY=q.top,et.maxX=q.right,et.maxY=q.bottom;var it=B.physicsType===i.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(Z=it.length,Q=0;Q<Z;Q++)_=it[Q],!(q===_||!_.enable||_.checkCollision.none||!B.contains(_.gameObject))&&this.separate(q,_,$,j,k)&&(z&&z.call(j,q.gameObject,_.gameObject),this._total++)}else{var st=B.getChildren(),nt=B.children.entries.indexOf(V);for(Z=st.length,Q=0;Q<Z;Q++)_=st[Q].body,!(!_||Q===nt||!_.enable)&&this.separate(q,_,$,j,k)&&(z&&z.call(j,q.gameObject,_.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,B,z,$,j,k){if(!this.canCollide(V,B))return!1;var q=V.getChildren();if(q.length===0)return!1;for(var Q=!1,Z=0;Z<q.length;Z++)(q[Z].body||q[Z].isBody)&&this.collideSpriteVsTilemapLayer(q[Z],B,z,$,j,k)&&(Q=!0);return Q},collideTiles:function(V,B,z,$,j){return B.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,B,z,$,j,!1,!1)},overlapTiles:function(V,B,z,$,j){return B.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,B,z,$,j,!0,!1)},collideSpriteVsTilemapLayer:function(V,B,z,$,j,k){var q=V.isBody?V:V.body;if(!q.enable||q.checkCollision.none||!this.canCollide(q,B))return!1;var Q=B.layer,Z=q.x-Q.tileWidth*B.scaleX,_=q.y-Q.tileHeight*B.scaleY,et=q.width+Q.tileWidth*B.scaleX,it=q.height+Q.tileHeight*B.scaleY,st=k?null:this.tileFilterOptions,nt=T(Z,_,et,it,st,B.scene.cameras.main,B.layer);return nt.length===0?!1:this.collideSpriteVsTilesHandler(V,nt,z,$,j,k,!0)},collideSpriteVsTilesHandler:function(V,B,z,$,j,k,q){for(var Q=V.isBody?V:V.body,Z,_={left:0,right:0,top:0,bottom:0},et,it=!1,st=0;st<B.length;st++){Z=B[st],et=Z.tilemapLayer;var nt=et.tileToWorldXY(Z.x,Z.y);_.left=nt.x,_.top=nt.y,_.right=_.left+Z.width*et.scaleX,_.bottom=_.top+Z.height*et.scaleY,W(_,Q)&&(!$||$.call(j,V,Z))&&w(Z,V)&&(k||F(st,Q,Z,_,et,this.TILE_BIAS,q))&&(this._total++,it=!0,z&&z.call(j,V,Z),k&&Q.onOverlap?this.emit(u.TILE_OVERLAP,V,Z,Q):Q.onCollide&&this.emit(u.TILE_COLLIDE,V,Z,Q))}return it},collideGroupVsGroup:function(V,B,z,$,j,k){if(!(V.getLength()===0||B.getLength()===0||!this.canCollide(V,B)))for(var q=V.getChildren(),Q=0;Q<q.length;Q++)this.collideSpriteVsGroup(q[Q],B,z,$,j,k)},wrap:function(V,B){V.body?this.wrapObject(V,B):V.getChildren?this.wrapArray(V.getChildren(),B):Array.isArray(V)?this.wrapArray(V,B):this.wrapObject(V,B)},wrapArray:function(V,B){for(var z=0;z<V.length;z++)this.wrapObject(V[z],B)},wrapObject:function(V,B){B===void 0&&(B=0),V.x=G(V.x,this.bounds.left-B,this.bounds.right+B),V.y=G(V.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});d.exports=X},1093:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};d.exports=S},59023:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};d.exports=S},62069:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,x,o){return this.body.setCollideWorldBounds(t,h,x,o),this}};d.exports=S},78389:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79599),x={setCollisionCategory:function(o){var a=this.body?this.body:this;return a.collisionCategory=o,this},willCollideWith:function(o){var a=this.body?this.body:this;return(a.collisionMask&o)!==0},addCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask|o,this},removeCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask&~o,this},setCollidesWith:function(o){var a=this.body?this.body:this;return a.collisionMask=h(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=2147483647,this}};d.exports=x},87118:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,h,x){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=x,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};d.exports=S},52819:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};d.exports=S},4074:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,h,x,o,a){return t&&this.body.reset(h,x),o&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};d.exports=S},40831:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};d.exports=S},26775:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};d.exports=S},9437:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};d.exports=S},30621:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};d.exports=S},72441:(d,S,t)=>{var h=t(47956),x=t(96503),o=t(2044),a=t(81491),r=function(i,n,l,s,u,f){var c=h(i,n-s,l-s,2*s,2*s,u,f);if(c.length===0)return c;for(var v=new x(n,l,s),g=new x,y=[],T=0;T<c.length;T++){var E=c[T];E.isCircle?(g.setTo(E.center.x,E.center.y,E.halfWidth),o(v,g)&&y.push(E)):a(v,E)&&y.push(E)}return y};d.exports=r},47956:d=>{var S=function(t,h,x,o,a,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var n=[],l=[],s=t.treeMinMax;if(s.minX=h,s.minY=x,s.maxX=h+o,s.maxY=x+a,i&&(l=t.staticTree.search(s)),r&&t.useTree)n=t.tree.search(s);else if(r){var u=t.bodies,f={position:{x:h,y:x},left:h,top:x,right:h+o,bottom:x+a,isCircle:!1},c=t.intersects;u.iterate(function(v){c(v,f)&&n.push(v)})}return l.concat(n)};d.exports=S},62121:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};d.exports=S},29384:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,x){return this.body.setSize(t,h,x),this},setBodySize:function(t,h,x){return this.body.setSize(t,h,x),this},setCircle:function(t,h,x){return this.body.setCircle(t,h,x),this}};d.exports=S},15098:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};d.exports=S},92209:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};d.exports=S},20009:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="collide"},36768:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="overlap"},60473:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pause"},89954:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resume"},61804:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="tilecollide"},7161:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="tileoverlap"},34689:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="worldbounds"},16006:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="worldstep"},63012:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),x=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=x(!1,o,h),d.exports=o},96602:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};d.exports=S},36294:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};d.exports=S},67013:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};d.exports=S},40012:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21329),x=t(53442),o=t(2483),a=function(r,i,n,l,s,u,f){var c=l.left,v=l.top,g=l.right,y=l.bottom,T=n.faceLeft||n.faceRight,E=n.faceTop||n.faceBottom;if(f||(T=!0,E=!0),!T&&!E)return!1;var A=0,P=0,w=0,I=1;if(i.deltaAbsX()>i.deltaAbsY()?w=-1:i.deltaAbsX()<i.deltaAbsY()&&(I=-1),i.deltaX()!==0&&i.deltaY()!==0&&T&&E&&(w=Math.min(Math.abs(i.position.x-g),Math.abs(i.right-c)),I=Math.min(Math.abs(i.position.y-y),Math.abs(i.bottom-v))),w<I){if(T&&(A=h(i,n,c,g,u,f),A!==0&&!o(l,i)))return!0;E&&(P=x(i,n,v,y,u,f))}else{if(E&&(P=x(i,n,v,y,u,f),P!==0&&!o(l,i)))return!0;T&&(A=h(i,n,c,g,u,f))}return A!==0||P!==0};d.exports=a},21329:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36294),x=function(o,a,r,i,n,l){var s=0,u=a.faceLeft,f=a.faceRight,c=a.collideLeft,v=a.collideRight;return l||(u=!0,f=!0,c=!0,v=!0),o.deltaX()<0&&v&&o.checkCollision.left?f&&o.x<i&&(s=o.x-i,s<-n&&(s=0)):o.deltaX()>0&&c&&o.checkCollision.right&&u&&o.right>r&&(s=o.right-r,s>n&&(s=0)),s!==0&&(o.customSeparateX?o.overlapX=s:h(o,s)),s};d.exports=x},53442:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67013),x=function(o,a,r,i,n,l){var s=0,u=a.faceTop,f=a.faceBottom,c=a.collideUp,v=a.collideDown;return l||(u=!0,f=!0,c=!0,v=!0),o.deltaY()<0&&v&&o.checkCollision.up?f&&o.y<i&&(s=o.y-i,s<-n&&(s=0)):o.deltaY()>0&&c&&o.checkCollision.down&&u&&o.bottom>r&&(s=o.bottom-r,s>n&&(s=0)),s!==0&&(o.customSeparateY?o.overlapY=s:h(o,s)),s};d.exports=x},2483:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};d.exports=S},55173:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};d.exports=h},44563:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Arcade:t(27064),Matter:t(3875)}},68174:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(26099),o=new h({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,i=this.centerDiff,n=a.bounds.max.x-a.bounds.min.x,l=a.bounds.max.y-a.bounds.min.y,s=n*a.centerOfMass.x,u=l*a.centerOfMass.y;return r.set(n/2,l/2),i.set(s-r.x,u-r.y),!0},getTopLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new x(r+n.x+l.x,i+n.y+l.y)}return!1},getTopCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new x(r+l.x,i+n.y+l.y)}return!1},getTopRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new x(r-(n.x-l.x),i+n.y+l.y)}return!1},getLeftCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new x(r+n.x+l.x,i+l.y)}return!1},getCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.centerDiff;return new x(r+n.x,i+n.y)}return!1},getRightCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new x(r-(n.x-l.x),i+l.y)}return!1},getBottomLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new x(r+n.x+l.x,i-(n.y-l.y))}return!1},getBottomCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new x(r+l.x,i-(n.y-l.y))}return!1},getBottomRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,l=this.centerDiff;return new x(r-(n.x-l.x),i-(n.y-l.y))}return!1}});d.exports=o},19933:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6790);h.Body=t(22562),h.Composite=t(69351),h.World=t(4372),h.Collision=t(52284),h.Detector=t(81388),h.Pairs=t(99561),h.Pair=t(4506),h.Query=t(73296),h.Resolver=t(66272),h.Constraint=t(48140),h.Common=t(53402),h.Engine=t(48413),h.Events=t(35810),h.Sleeping=t(53614),h.Plugin=t(73832),h.Bodies=t(66280),h.Composites=t(74116),h.Axes=t(66615),h.Bounds=t(15647),h.Svg=t(74058),h.Vector=t(31725),h.Vertices=t(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,d.exports=h},28137:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(83419),o=t(74116),a=t(48140),r=t(74058),i=t(75803),n=t(23181),l=t(34803),s=t(73834),u=t(19496),f=t(85791),c=t(98713),v=t(41598),g=new x({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(y,T,E,A,P){var w=h.rectangle(y,T,E,A,P);return this.world.add(w),w},trapezoid:function(y,T,E,A,P,w){var I=h.trapezoid(y,T,E,A,P,w);return this.world.add(I),I},circle:function(y,T,E,A,P){var w=h.circle(y,T,E,A,P);return this.world.add(w),w},polygon:function(y,T,E,A,P){var w=h.polygon(y,T,E,A,P);return this.world.add(w),w},fromVertices:function(y,T,E,A,P,w,I){typeof E=="string"&&(E=v.fromPath(E));var O=h.fromVertices(y,T,E,A,P,w,I);return this.world.add(O),O},fromPhysicsEditor:function(y,T,E,A,P){P===void 0&&(P=!0);var w=u.parseBody(y,T,E,A);return P&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(y,T,E,A,P,w){A===void 0&&(A=1),P===void 0&&(P={}),w===void 0&&(w=!0);for(var I=E.getElementsByTagName("path"),O=[],F=0;F<I.length;F++){var L=r.pathToVertices(I[F],30);A!==1&&v.scale(L,A,A),O.push(L)}var D=h.fromVertices(y,T,O,P);return w&&this.world.add(D),D},fromJSON:function(y,T,E,A,P){A===void 0&&(A={}),P===void 0&&(P=!0);var w=f.parseBody(y,T,E,A);return w&&P&&this.world.add(w),w},imageStack:function(y,T,E,A,P,w,I,O,F){I===void 0&&(I=0),O===void 0&&(O=0),F===void 0&&(F={});var L=this.world,D=this.sys.displayList;F.addToWorld=!1;var b=o.stack(E,A,P,w,I,O,function(U,W){var H=new n(L,U,W,y,T,F);return D.add(H),H.body});return L.add(b),b},stack:function(y,T,E,A,P,w,I){var O=o.stack(y,T,E,A,P,w,I);return this.world.add(O),O},pyramid:function(y,T,E,A,P,w,I){var O=o.pyramid(y,T,E,A,P,w,I);return this.world.add(O),O},chain:function(y,T,E,A,P,w){return o.chain(y,T,E,A,P,w)},mesh:function(y,T,E,A,P){return o.mesh(y,T,E,A,P)},newtonsCradle:function(y,T,E,A,P){var w=o.newtonsCradle(y,T,E,A,P);return this.world.add(w),w},car:function(y,T,E,A,P){var w=o.car(y,T,E,A,P);return this.world.add(w),w},softBody:function(y,T,E,A,P,w,I,O,F,L){var D=o.softBody(y,T,E,A,P,w,I,O,F,L);return this.world.add(D),D},joint:function(y,T,E,A,P){return this.constraint(y,T,E,A,P)},spring:function(y,T,E,A,P){return this.constraint(y,T,E,A,P)},constraint:function(y,T,E,A,P){A===void 0&&(A=1),P===void 0&&(P={}),P.bodyA=y.type==="body"?y:y.body,P.bodyB=T.type==="body"?T:T.body,isNaN(E)||(P.length=E),P.stiffness=A;var w=a.create(P);return this.world.add(w),w},worldConstraint:function(y,T,E,A){E===void 0&&(E=1),A===void 0&&(A={}),A.bodyB=y.type==="body"?y:y.body,isNaN(T)||(A.length=T),A.stiffness=E;var P=a.create(A);return this.world.add(P),P},mouseSpring:function(y){return this.pointerConstraint(y)},pointerConstraint:function(y){y===void 0&&(y={}),y.hasOwnProperty("render")||(y.render={visible:!1});var T=new c(this.scene,this.world,y);return this.world.add(T.constraint),T},image:function(y,T,E,A,P){var w=new n(this.world,y,T,E,A,P);return this.sys.displayList.add(w),w},tileBody:function(y,T){return new s(this.world,y,T)},sprite:function(y,T,E,A,P){var w=new l(this.world,y,T,E,A,P);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(y,T,E){return i(this.world,y,T,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});d.exports=g},75803:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31884),x=t(95540),o=t(26099);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var r=function(i,n,l,s){l===void 0&&(l={}),s===void 0&&(s=!0);var u=n.x,f=n.y;n.body={temp:!0,position:{x:u,y:f}};var c=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(c.forEach(function(g){for(var y in g)a(g[y])?Object.defineProperty(n,y,{get:g[y].get,set:g[y].set}):Object.defineProperty(n,y,{value:g[y]})}),n.world=i,n._tempVec2=new o(u,f),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,s);else{var v=x(l,"shape",null);v||(v="rectangle"),l.addToWorld=s,n.setBody(v,l)}return n};d.exports=r},23181:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31884),o=t(95643),a=t(95540),r=t(88571),i=t(72699),n=t(26099),l=new h({Extends:r,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,i],initialize:function(u,f,c,v,g,y){o.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,g),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new n(f,c);var T=a(y,"shape",null);T?this.setBody(T,y):this.setRectangle(this.width,this.height,y),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(!0)}});d.exports=l},42045:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),x=t(66615),o=t(66280),a=t(22562),r=t(68174),i=t(15647),n=t(83419),l=t(52284),s=t(53402),u=t(69351),f=t(74116),c=t(48140),v=t(81388),g=t(20339),y=t(28137),T=t(95540),E=t(35154),A=t(46975),P=t(4506),w=t(99561),I=t(37277),O=t(73296),F=t(66272),L=t(44594),D=t(74058),b=t(31725),U=t(41598),W=t(68243);s.setDecomp(t(55973));var H=new n({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=u,this.collision=l,this.detector=v,this.pair=P,this.pairs=w,this.query=O,this.resolver=F,this.constraint=c,this.bodies=o,this.composites=f,this.axes=x,this.bounds=i,this.svg=D,this.vector=b,this.vertices=U,this.verts=U,this._tempVec2=b.create(),F._restingThresh=E(this.config,"restingThresh",4),F._restingThreshTangent=E(this.config,"restingThreshTangent",6),F._positionDampen=E(this.config,"positionDampen",.9),F._positionWarming=E(this.config,"positionWarming",.8),F._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),G.sys.events.once(L.BOOT,this.boot,this),G.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new y(this.world),this.bodyBounds=new r,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new y(this.world));var Y=this.systems.events;Y.on(L.UPDATE,this.world.update,this.world),Y.on(L.POST_UPDATE,this.world.postUpdate,this.world),Y.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,G=this.systems.settings.physics,X=A(T(G,"matter",{}),T(Y,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,G){this.world.step(Y,G)},containsPoint:function(Y,G,X){Y=this.getMatterBodies(Y);var V=b.create(G,X),B=O.point(Y,V);return B.length>0},intersectPoint:function(Y,G,X){X=this.getMatterBodies(X);var V=b.create(Y,G),B=[],z=O.point(X,V);return z.forEach(function($){B.indexOf($)===-1&&B.push($)}),B},intersectRect:function(Y,G,X,V,B,z){B===void 0&&(B=!1),z=this.getMatterBodies(z);var $={min:{x:Y,y:G},max:{x:Y+X,y:G+V}},j=[],k=O.region(z,$,B);return k.forEach(function(q){j.indexOf(q)===-1&&j.push(q)}),j},intersectRay:function(Y,G,X,V,B,z){B===void 0&&(B=1),z=this.getMatterBodies(z);for(var $=[],j=O.ray(z,b.create(Y,G),b.create(X,V),B),k=0;k<j.length;k++)$.push(j[k].body);return $},intersectBody:function(Y,G){G=this.getMatterBodies(G);for(var X=[],V=O.collides(Y,G),B=0;B<V.length;B++){var z=V[B];z.bodyA===Y?X.push(z.bodyB):X.push(z.bodyA)}return X},overlap:function(Y,G,X,V,B){X===void 0&&(X=null),V===void 0&&(V=null),B===void 0&&(B=X),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),G=this.getMatterBodies(G);for(var z=!1,$=0;$<Y.length;$++)for(var j=Y[$],k=O.collides(j,G),q=0;q<k.length;q++){var Q=k[q],Z=Q.bodyA.id===j.id?Q.bodyB:Q.bodyA;if(!V||V.call(B,j,Z,Q)){if(z=!0,X)X.call(B,j,Z,Q);else if(!V)return!0}}return z},setCollisionCategory:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.category=G}),this},setCollisionGroup:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.group=G}),this},setCollidesWith:function(Y,G){Y=this.getMatterBodies(Y);var X=0;if(!Array.isArray(G))X=G;else for(var V=0;V<G.length;V++)X|=G[V];return Y.forEach(function(B){B.collisionFilter.mask=X}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var G=[],X=0;X<Y.length;X++){var V=Y[X].hasOwnProperty("body")?Y[X].body:Y[X];G.push(V)}return G},setVelocity:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.x=G,V.y=X,Y.forEach(function(B){a.setVelocity(B,V)}),this},setVelocityX:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.x=G,Y.forEach(function(V){X.y=V.velocity.y,a.setVelocity(V,X)}),this},setVelocityY:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.y=G,Y.forEach(function(V){X.x=V.velocity.x,a.setVelocity(V,X)}),this},setAngularVelocity:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){a.setAngularVelocity(X,G)}),this},applyForce:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return Y.forEach(function(V){X.x=V.position.x,X.y=V.position.y,a.applyForce(V,X,G)}),this},applyForceFromPosition:function(Y,G,X,V){Y=this.getMatterBodies(Y);var B=this._tempVec2;return Y.forEach(function(z){V===void 0&&(V=z.angle),B.x=X*Math.cos(V),B.y=X*Math.sin(V),a.applyForce(z,G,B)}),this},applyForceFromAngle:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return Y.forEach(function(B){X===void 0&&(X=B.angle),V.x=G*Math.cos(X),V.y=G*Math.sin(X),a.applyForce(B,{x:B.position.x,y:B.position.y},V)}),this},getConstraintLength:function(Y){var G=Y.pointA.x,X=Y.pointA.y,V=Y.pointB.x,B=Y.pointB.y;return Y.bodyA&&(G+=Y.bodyA.position.x,X+=Y.bodyA.position.y),Y.bodyB&&(V+=Y.bodyB.position.x,B+=Y.bodyB.position.y),g(G,X,V,B)},alignBody:function(Y,G,X,V){Y=Y.hasOwnProperty("body")?Y.body:Y;var B;switch(V){case h.TOP_LEFT:case h.LEFT_TOP:B=this.bodyBounds.getTopLeft(Y,G,X);break;case h.TOP_CENTER:B=this.bodyBounds.getTopCenter(Y,G,X);break;case h.TOP_RIGHT:case h.RIGHT_TOP:B=this.bodyBounds.getTopRight(Y,G,X);break;case h.LEFT_CENTER:B=this.bodyBounds.getLeftCenter(Y,G,X);break;case h.CENTER:B=this.bodyBounds.getCenter(Y,G,X);break;case h.RIGHT_CENTER:B=this.bodyBounds.getRightCenter(Y,G,X);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:B=this.bodyBounds.getBottomLeft(Y,G,X);break;case h.BOTTOM_CENTER:B=this.bodyBounds.getBottomCenter(Y,G,X);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:B=this.bodyBounds.getBottomRight(Y,G,X);break}return B&&a.setPosition(Y,B),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(L.UPDATE,this.world.update,this.world),Y.off(L.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",H,"matterPhysics"),d.exports=H},34803:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),x=t(83419),o=t(31884),a=t(95643),r=t(95540),i=t(72699),n=t(68287),l=t(26099),s=new x({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,i],initialize:function(f,c,v,g,y,T){a.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(g,y),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(c,v);var E=r(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(c,v),this.initPipeline(),this.initPostPipeline(!0)}});d.exports=s},73834:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o=t(83419),a=t(31884),r=t(62644),i=t(50792),n=t(95540),l=t(97022),s=t(41598),u=new o({Extends:i,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(c,v,g){i.call(this),this.tile=v,this.world=c,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var y=n(g,"body",null),T=n(g,"addToWorld",!0);if(y)this.setBody(y,T);else{var E=v.getCollisionGroup(),A=n(E,"objects",[]);A.length>0?this.setFromTileCollision(g):this.setFromTileRectangle(g)}if(v.flipX||v.flipY){var P={x:v.getCenterX(),y:v.getCenterY()},w=v.flipX?-1:1,I=v.flipY?-1:1;x.scale(y,w,I,P)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var c=this.tile.getBounds(),v=c.x+c.width/2,g=c.y+c.height/2,y=h.rectangle(v,g,c.width,c.height,f);return this.setBody(y,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,g=this.tile.getLeft(),y=this.tile.getTop(),T=this.tile.getCollisionGroup(),E=n(T,"objects",[]),A=[],P=0;P<E.length;P++){var w=E[P],I=g+w.x*c,O=y+w.y*v,F=w.width*c,L=w.height*v,D=null;if(w.rectangle)D=h.rectangle(I+F/2,O+L/2,F,L,f);else if(w.ellipse)D=h.circle(I+F/2,O+L/2,F/2,f);else if(w.polygon||w.polyline){var b=w.polygon?w.polygon:w.polyline,U=b.map(function(G){return{x:G.x*c,y:G.y*v}}),W=s.create(U),H=s.centre(W);I+=H.x,O+=H.y,D=h.fromVertices(I,O,W,f)}D&&A.push(D)}if(A.length===1)this.setBody(A[0],f.addToWorld);else if(A.length>1){var Y=r(f);Y.parts=A,this.setBody(x.create(Y),Y.addToWorld)}return this},setBody:function(f,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});d.exports=u},19496:(d,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o=t(53402),a=t(95540),r=t(41598),i={parseBody:function(n,l,s,u){u===void 0&&(u={});for(var f=a(s,"fixtures",[]),c=[],v=0;v<f.length;v++)for(var g=this.parseFixture(f[v]),y=0;y<g.length;y++)c.push(g[y]);var T=o.clone(s,!0);o.extend(T,u,!0),delete T.fixtures,delete T.type;var E=x.create(T);return x.setParts(E,c),x.setPosition(E,{x:n,y:l}),E},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var s;if(n.circle){var u=a(n.circle,"x"),f=a(n.circle,"y"),c=a(n.circle,"radius");s=[h.circle(u,f,c,l)]}else n.vertices&&(s=this.parseVertices(n.vertices,l));return s},parseVertices:function(n,l){l===void 0&&(l={});for(var s=[],u=0;u<n.length;u++)r.clockwiseSort(n[u]),s.push(x.create(o.extend({position:r.centre(n[u]),vertices:n[u]},l)));return h.flagCoincidentParts(s)}};d.exports=i},85791:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o={parseBody:function(a,r,i,n){n===void 0&&(n={});var l,s=i.vertices;if(s.length===1)n.vertices=s[0],l=x.create(n),h.flagCoincidentParts(l.parts);else{for(var u=[],f=0;f<s.length;f++){var c=x.create({vertices:s[f]});u.push(c)}h.flagCoincidentParts(u),n.parts=u,l=x.create(n)}return l.label=i.label,x.setPosition(l,{x:a,y:r}),l}};d.exports=o},98713:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15647),x=t(83419),o=t(69351),a=t(48140),r=t(81388),i=t(1121),n=t(8214),l=t(46975),s=t(53614),u=t(26099),f=t(41598),c=new x({initialize:function(g,y,T){T===void 0&&(T={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=g,this.world=y,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=a.create(l(T,E)),this.world.on(i.BEFORE_UPDATE,this.update,this),g.sys.input.on(n.POINTER_DOWN,this.onDown,this),g.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var g=this.position,y=this.constraint;this.camera.getWorldPoint(v.x,v.y,g);for(var T=o.allBodies(this.world.localWorld),E=0;E<T.length;E++){var A=T[E];if(!A.ignorePointer&&h.contains(A.bounds,g)&&r.canCollide(A.collisionFilter,y.collisionFilter)&&this.hitTestBody(A,g))return this.world.emit(i.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(v,g){for(var y=this.constraint,T=v.parts.length,E=T>1?1:0,A=E;A<T;A++){var P=v.parts[A];if(f.contains(P.vertices,g))return y.pointA=g,y.pointB={x:g.x-v.position.x,y:g.y-v.position.y},y.bodyB=v,y.angleB=v.angle,s.set(v,!1),this.part=P,this.body=v,!0}return!1},update:function(){var v=this.pointer,g=this.body;if(!this.active||!v){g&&this.stopDrag();return}if(!v.isDown&&g){this.stopDrag();return}else if(v.isDown){if(!this.camera||!g&&!this.getBody(v))return;g=this.body;var y=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,y),T.pointA.x=y.x,T.pointA.y=y.y,s.set(g,!1),this.world.emit(i.DRAG,g,this)}},stopDrag:function(){var v=this.body,g=this.constraint;g.bodyB=null,g.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(i.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});d.exports=c},68243:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o=t(83419),a=t(53402),r=t(69351),i=t(48413),n=t(50792),l=t(1121),s=t(95540),u=t(35154),f=t(22562),c=t(35810),v=t(73834),g=t(4372),y=t(13037),T=t(31725),E=new o({Extends:n,initialize:function(P,w){n.call(this),this.scene=P,this.engine=i.create(w),this.localWorld=this.engine.world;var I=u(w,"gravity",null);I?this.setGravity(I.x,I.y,I.scale):I===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(w,"enabled",!0),this.getDelta=u(w,"getDelta",this.update60Hz);var O=s(w,"runner",{}),F=s(O,"fps",!1);F&&(O.delta=1e3/s(O,"fps",60)),this.runner=y.create(O),this.autoUpdate=u(w,"autoUpdate",!0);var L=u(w,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:s(L,"showAxes",!1),showAngleIndicator:s(L,"showAngleIndicator",!1),angleColor:s(L,"angleColor",15208787),showBroadphase:s(L,"showBroadphase",!1),broadphaseColor:s(L,"broadphaseColor",16757760),showBounds:s(L,"showBounds",!1),boundsColor:s(L,"boundsColor",16777215),showVelocity:s(L,"showVelocity",!1),velocityColor:s(L,"velocityColor",44783),showCollisions:s(L,"showCollisions",!1),collisionColor:s(L,"collisionColor",16094476),showSeparations:s(L,"showSeparations",!1),separationColor:s(L,"separationColor",16753920),showBody:s(L,"showBody",!0),showStaticBody:s(L,"showStaticBody",!0),showInternalEdges:s(L,"showInternalEdges",!1),renderFill:s(L,"renderFill",!1),renderLine:s(L,"renderLine",!0),fillColor:s(L,"fillColor",1075465),fillOpacity:s(L,"fillOpacity",1),lineColor:s(L,"lineColor",2678297),lineOpacity:s(L,"lineOpacity",1),lineThickness:s(L,"lineThickness",1),staticFillColor:s(L,"staticFillColor",857979),staticLineColor:s(L,"staticLineColor",1255396),showSleeping:s(L,"showSleeping",!1),staticBodySleepOpacity:s(L,"staticBodySleepOpacity",.7),sleepFillColor:s(L,"sleepFillColor",4605510),sleepLineColor:s(L,"sleepLineColor",10066585),showSensors:s(L,"showSensors",!0),sensorFillColor:s(L,"sensorFillColor",857979),sensorLineColor:s(L,"sensorLineColor",1255396),showPositions:s(L,"showPositions",!0),positionSize:s(L,"positionSize",4),positionColor:s(L,"positionColor",14697178),showJoint:s(L,"showJoint",!0),jointColor:s(L,"jointColor",14737474),jointLineOpacity:s(L,"jointLineOpacity",1),jointLineThickness:s(L,"jointLineThickness",2),pinSize:s(L,"pinSize",4),pinColor:s(L,"pinColor",4382944),springColor:s(L,"springColor",14697184),anchorColor:s(L,"anchorColor",15724527),anchorSize:s(L,"anchorSize",4),showConvexHulls:s(L,"showConvexHulls",!1),hullColor:s(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(w,"setBounds",!1)){var D=w.setBounds;if(typeof D=="boolean")this.setBounds();else{var b=s(D,"x",0),U=s(D,"y",0),W=s(D,"width",P.sys.scale.width),H=s(D,"height",P.sys.scale.height),Y=s(D,"thickness",64),G=s(D,"left",!0),X=s(D,"right",!0),V=s(D,"top",!0),B=s(D,"bottom",!0);this.setBounds(b,U,W,H,Y,G,X,V,B)}}},setCompositeRenderStyle:function(A){var P=A.bodies,w=A.constraints,I=A.composites,O,F,L;for(O=0;O<P.length;O++)F=P[O],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(O=0;O<w.length;O++)F=w[O],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(O=0;O<I.length;O++)F=I[O],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(A,P,w,I,O,F){var L=A.render,D=this.debugConfig;return L?(P==null&&(P=A.isStatic?D.staticLineColor:D.lineColor),w==null&&(w=D.lineOpacity),I==null&&(I=D.lineThickness),O==null&&(O=A.isStatic?D.staticFillColor:D.fillColor),F==null&&(F=D.fillOpacity),P!==!1&&(L.lineColor=P),w!==!1&&(L.lineOpacity=w),I!==!1&&(L.lineThickness=I),O!==!1&&(L.fillColor=O),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(A,P,w,I,O,F,L){var D=A.render,b=this.debugConfig;if(!D)return this;if(P==null){var U=D.type;U==="line"?P=b.jointColor:U==="pin"?P=b.pinColor:U==="spring"&&(P=b.springColor)}return w==null&&(w=b.jointLineOpacity),I==null&&(I=b.jointLineThickness),O==null&&(O=b.pinSize),F==null&&(F=b.anchorColor),L==null&&(L=b.anchorSize),P!==!1&&(D.lineColor=P),w!==!1&&(D.lineOpacity=w),I!==!1&&(D.lineThickness=I),O!==!1&&(D.pinSize=O),F!==!1&&(D.anchorColor=F),L!==!1&&(D.anchorSize=L),this},setEventsProxy:function(){var A=this,P=this.engine,w=this.localWorld;this.drawDebug&&(c.on(w,"compositeModified",function(I){A.setCompositeRenderStyle(I)}),c.on(w,"beforeAdd",function(I){for(var O=[].concat(I.object),F=0;F<O.length;F++){var L=O[F],D=L.render;L.type==="body"?A.setBodyRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):L.type==="composite"?A.setCompositeRenderStyle(L):L.type==="constraint"&&A.setConstraintRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),c.on(w,"beforeAdd",function(I){A.emit(l.BEFORE_ADD,I)}),c.on(w,"afterAdd",function(I){A.emit(l.AFTER_ADD,I)}),c.on(w,"beforeRemove",function(I){A.emit(l.BEFORE_REMOVE,I)}),c.on(w,"afterRemove",function(I){A.emit(l.AFTER_REMOVE,I)}),c.on(P,"beforeUpdate",function(I){A.emit(l.BEFORE_UPDATE,I)}),c.on(P,"afterUpdate",function(I){A.emit(l.AFTER_UPDATE,I)}),c.on(P,"collisionStart",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collide",F,L,D),L.gameObject&&L.gameObject.emit("collide",L,F,D),c.trigger(F,"onCollide",{pair:D}),c.trigger(L,"onCollide",{pair:D}),F.onCollideCallback&&F.onCollideCallback(D),L.onCollideCallback&&L.onCollideCallback(D),F.onCollideWith[L.id]&&F.onCollideWith[L.id](L,D),L.onCollideWith[F.id]&&L.onCollideWith[F.id](F,D)}),A.emit(l.COLLISION_START,I,F,L)}),c.on(P,"collisionActive",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collideActive",F,L,D),L.gameObject&&L.gameObject.emit("collideActive",L,F,D),c.trigger(F,"onCollideActive",{pair:D}),c.trigger(L,"onCollideActive",{pair:D}),F.onCollideActiveCallback&&F.onCollideActiveCallback(D),L.onCollideActiveCallback&&L.onCollideActiveCallback(D)}),A.emit(l.COLLISION_ACTIVE,I,F,L)}),c.on(P,"collisionEnd",function(I){var O=I.pairs,F,L;O.length>0&&O.map(function(D){F=D.bodyA,L=D.bodyB,F.gameObject&&F.gameObject.emit("collideEnd",F,L,D),L.gameObject&&L.gameObject.emit("collideEnd",L,F,D),c.trigger(F,"onCollideEnd",{pair:D}),c.trigger(L,"onCollideEnd",{pair:D}),F.onCollideEndCallback&&F.onCollideEndCallback(D),L.onCollideEndCallback&&L.onCollideEndCallback(D)}),A.emit(l.COLLISION_END,I,F,L)})},setBounds:function(A,P,w,I,O,F,L,D,b){return A===void 0&&(A=0),P===void 0&&(P=0),w===void 0&&(w=this.scene.sys.scale.width),I===void 0&&(I=this.scene.sys.scale.height),O===void 0&&(O=64),F===void 0&&(F=!0),L===void 0&&(L=!0),D===void 0&&(D=!0),b===void 0&&(b=!0),this.updateWall(F,"left",A-O,P-O,O,I+O*2),this.updateWall(L,"right",A+w,P-O,O,I+O*2),this.updateWall(D,"top",A,P-O,w,O),this.updateWall(b,"bottom",A,P+I,w,O),this},updateWall:function(A,P,w,I,O,F){var L=this.walls[P];A?(L&&g.remove(this.localWorld,L),w+=O/2,I+=F/2,this.walls[P]=this.create(w,I,O,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&g.remove(this.localWorld,L),this.walls[P]=null)},createDebugGraphic:function(){var A=this.scene.sys.add.graphics({x:0,y:0});return A.setDepth(Number.MAX_VALUE),this.debugGraphic=A,this.drawDebug=!0,A},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(A,P,w){return A===void 0&&(A=0),P===void 0&&(P=1),w===void 0&&(w=.001),this.localWorld.gravity.x=A,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=w,this},create:function(A,P,w,I,O){var F=h.rectangle(A,P,w,I,O);return g.add(this.localWorld,F),F},add:function(A){return g.add(this.localWorld,A),this},remove:function(A,P){Array.isArray(A)||(A=[A]);for(var w=0;w<A.length;w++){var I=A[w],O=I.body?I.body:I;r.remove(this.localWorld,O,P)}return this},removeConstraint:function(A,P){return r.remove(this.localWorld,A,P),this},convertTilemapLayer:function(A,P){var w=A.layer,I=A.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(I,P),this},convertTiles:function(A,P){if(A.length===0)return this;for(var w=0;w<A.length;w++)new v(this,A[w],P);return this},nextGroup:function(A){return f.nextGroup(A)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=a.now(),this.emit(l.RESUME),this},update:function(A){if(!(!this.enabled||!this.autoUpdate)){var P=this.engine,w=this.runner,I=a.now(),O=w.delta,F=0,L=A-w.timeLastTick;if((!L||!w.timeLastTick||L>Math.max(y._maxFrameDelta,w.maxFrameTime))&&(L=w.frameDelta||y._frameDeltaFallback),w.frameDeltaSmoothing){w.frameDeltaHistory.push(L),w.frameDeltaHistory=w.frameDeltaHistory.slice(-w.frameDeltaHistorySize);var D=w.frameDeltaHistory.slice(0).sort(),b=w.frameDeltaHistory.slice(D.length*y._smoothingLowerBound,D.length*y._smoothingUpperBound),U=y._mean(b);L=U||L}w.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),w.frameDelta=L,w.timeLastTick=A,w.timeBuffer+=w.frameDelta,w.timeBuffer=a.clamp(w.timeBuffer,0,w.frameDelta+O*y._timeBufferMargin),w.lastUpdatesDeferred=0;for(var W=w.maxUpdates||Math.ceil(w.maxFrameTime/O),H=a.now();O>0&&w.timeBuffer>=O*y._timeBufferMargin;){i.update(P,O),w.timeBuffer-=O,F+=1;var Y=a.now()-I,G=a.now()-H,X=Y+y._elapsedNextEstimate*G/F;if(F>=W||X>w.maxFrameTime){w.lastUpdatesDeferred=Math.round(Math.max(0,w.timeBuffer/O-y._timeBufferMargin));break}}}},step:function(A){i.update(this.engine,A)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(A){var P=A.hasOwnProperty("body")?A.body:A;return r.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var A=this.debugConfig,P=this.engine,w=this.debugGraphic,I=r.allBodies(this.localWorld);this.debugGraphic.clear(),A.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,w,A.broadphaseColor,.5),A.showBounds&&this.renderBodyBounds(I,w,A.boundsColor,.5),(A.showBody||A.showStaticBody)&&this.renderBodies(I),A.showJoint&&this.renderJoints(),(A.showAxes||A.showAngleIndicator)&&this.renderBodyAxes(I,w,A.showAxes,A.angleColor,.5),A.showVelocity&&this.renderBodyVelocity(I,w,A.velocityColor,1,2),A.showSeparations&&this.renderSeparations(P.pairs.list,w,A.separationColor),A.showCollisions&&this.renderCollisions(P.pairs.list,w,A.collisionColor)}},renderGrid:function(A,P,w,I){P.lineStyle(1,w,I);for(var O=a.keys(A.buckets),F=0;F<O.length;F++){var L=O[F];if(!(A.buckets[L].length<2)){var D=L.split(/C|R/);P.strokeRect(parseInt(D[1],10)*A.bucketWidth,parseInt(D[2],10)*A.bucketHeight,A.bucketWidth,A.bucketHeight)}}return this},renderSeparations:function(A,P,w){P.lineStyle(1,w,1);for(var I=0;I<A.length;I++){var O=A[I];if(O.isActive){var F=O.collision,L=F.bodyA,D=F.bodyB,b=L.position,U=D.position,W=F.penetration,H=!L.isStatic&&!D.isStatic?4:1;D.isStatic&&(H=0),P.lineBetween(U.x,U.y,U.x-W.x*H,U.y-W.y*H),H=!L.isStatic&&!D.isStatic?4:1,L.isStatic&&(H=0),P.lineBetween(b.x,b.y,b.x-W.x*H,b.y-W.y*H)}}return this},renderCollisions:function(A,P,w){P.lineStyle(1,w,.5),P.fillStyle(w,1);var I,O;for(I=0;I<A.length;I++)if(O=A[I],!!O.isActive)for(var F=0;F<O.contactCount;F++){var L=O.contacts[F],D=L.vertex;D&&P.fillRect(D.x-2,D.y-2,5,5)}for(I=0;I<A.length;I++)if(O=A[I],!!O.isActive){var b=O.collision,U=O.contacts;if(O.contactCount>0){var W=U[0].vertex.x,H=U[0].vertex.y;O.contactCount===2&&(W=(U[0].vertex.x+U[1].vertex.x)/2,H=(U[0].vertex.y+U[1].vertex.y)/2),b.bodyB===b.supports[0].body||b.bodyA.isStatic?P.lineBetween(W-b.normal.x*8,H-b.normal.y*8,W,H):P.lineBetween(W+b.normal.x*8,H+b.normal.y*8,W,H)}}return this},renderBodyBounds:function(A,P,w,I){P.lineStyle(1,w,I);for(var O=0;O<A.length;O++){var F=A[O];if(F.render.visible){var L=F.bounds;if(L)P.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var D=F.parts,b=D.length>1?1:0;b<D.length;b++){var U=D[b];P.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(A,P,w,I,O){P.lineStyle(1,I,O);for(var F=0;F<A.length;F++){var L=A[F],D=L.parts;if(L.render.visible){var b,U,W;if(w)for(U=D.length>1?1:0;U<D.length;U++)for(b=D[U],W=0;W<b.axes.length;W++){var H=b.axes[W];P.lineBetween(b.position.x,b.position.y,b.position.x+H.x*20,b.position.y+H.y*20)}else for(U=D.length>1?1:0;U<D.length;U++)for(b=D[U],W=0;W<b.axes.length;W++)P.lineBetween(b.position.x,b.position.y,(b.vertices[0].x+b.vertices[b.vertices.length-1].x)/2,(b.vertices[0].y+b.vertices[b.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(A,P,w,I,O){P.lineStyle(O,w,I);for(var F=0;F<A.length;F++){var L=A[F];L.render.visible&&P.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(A){for(var P=this.debugGraphic,w=this.debugConfig,I=w.showBody,O=w.showStaticBody,F=w.showSleeping,L=w.showInternalEdges,D=w.showConvexHulls,b=w.renderFill,U=w.renderLine,W=w.staticBodySleepOpacity,H=w.sleepFillColor,Y=w.sleepLineColor,G=w.hullColor,X=0;X<A.length;X++){var V=A[X];if(V.render.visible&&!(!O&&V.isStatic||!I&&!V.isStatic)){var B=V.render.lineColor,z=V.render.lineOpacity,$=V.render.lineThickness,j=V.render.fillColor,k=V.render.fillOpacity;F&&V.isSleeping&&(V.isStatic?(z*=W,k*=W):(B=Y,j=H)),b||(j=null),U||(B=null),this.renderBody(V,P,L,B,z,$,j,k);var q=V.parts.length;D&&q>1&&this.renderConvexHull(V,P,G,$)}}},renderBody:function(A,P,w,I,O,F,L,D){I===void 0&&(I=null),O===void 0&&(O=null),F===void 0&&(F=1),L===void 0&&(L=null),D===void 0&&(D=null);for(var b=this.debugConfig,U=b.sensorFillColor,W=b.sensorLineColor,H=A.parts,Y=H.length,G=Y>1?1:0;G<Y;G++){var X=H[G],V=X.render,B=V.opacity;if(!(!V.visible||B===0||X.isSensor&&!b.showSensors)){var z=X.circleRadius;if(P.beginPath(),X.isSensor?(L!==null&&P.fillStyle(U,D*B),I!==null&&P.lineStyle(F,W,O*B)):(L!==null&&P.fillStyle(L,D*B),I!==null&&P.lineStyle(F,I,O*B)),z)P.arc(X.position.x,X.position.y,z,0,2*Math.PI);else{var $=X.vertices,j=$.length;P.moveTo($[0].x,$[0].y);for(var k=1;k<j;k++){var q=$[k];if(!$[k-1].isInternal||w?P.lineTo(q.x,q.y):P.moveTo(q.x,q.y),k<j&&q.isInternal&&!w){var Q=(k+1)%j;P.moveTo($[Q].x,$[Q].y)}}P.closePath()}L!==null&&P.fillPath(),I!==null&&P.strokePath()}}if(b.showPositions&&!A.isStatic){var Z=A.position.x,_=A.position.y,et=Math.ceil(b.positionSize/2);P.fillStyle(b.positionColor,1),P.fillRect(Z-et,_-et,b.positionSize,b.positionSize)}return this},renderConvexHull:function(A,P,w,I){I===void 0&&(I=1);var O=A.parts,F=O.length;if(F>1){var L=A.vertices;P.lineStyle(I,w),P.beginPath(),P.moveTo(L[0].x,L[0].y);for(var D=1;D<L.length;D++)P.lineTo(L[D].x,L[D].y);P.lineTo(L[0].x,L[0].y),P.strokePath()}return this},renderJoints:function(){for(var A=this.debugGraphic,P=r.allConstraints(this.localWorld),w=0;w<P.length;w++){var I=P[w].render,O=I.lineColor,F=I.lineOpacity,L=I.lineThickness,D=I.pinSize,b=I.anchorColor,U=I.anchorSize;this.renderConstraint(P[w],A,O,F,L,D,b,U)}},renderConstraint:function(A,P,w,I,O,F,L,D){var b=A.render;if(!b.visible||!A.pointA||!A.pointB)return this;P.lineStyle(O,w,I);var U=A.bodyA,W=A.bodyB,H,Y;if(U?H=T.add(U.position,A.pointA):H=A.pointA,b.type==="pin")P.strokeCircle(H.x,H.y,F);else{if(W?Y=T.add(W.position,A.pointB):Y=A.pointB,P.beginPath(),P.moveTo(H.x,H.y),b.type==="spring")for(var G=T.sub(Y,H),X=T.perp(T.normalise(G)),V=Math.ceil(a.clamp(A.length/5,12,20)),B,z=1;z<V;z+=1)B=z%2===0?1:-1,P.lineTo(H.x+G.x*(z/V)+X.x*B*4,H.y+G.y*(z/V)+X.y*B*4);P.lineTo(Y.x,Y.y)}return P.strokePath(),b.anchors&&D>0&&(P.fillStyle(L),P.fillCircle(H.x,H.y,D),P.fillCircle(Y.x,Y.y,D)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});d.exports=E},70410:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};d.exports=S},66968:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var x=0;x<t.length;x++)h|=t[x];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var x=0;x<t.length;x++){var o=t[x].hasOwnProperty("body")?t[x].body:t[x];this.body.setOnCollideWith(o,h)}return this}};d.exports=S},51607:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,a){return h.applyForce(this.body,o,a),this},thrust:function(o){var a=this.body.angle;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var a=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};d.exports=x},5436:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h,x){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};d.exports=S},39858:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};d.exports=S},37302:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x=t(26099),o={setMass:function(a){return h.setMass(this.body,a),this},setDensity:function(a){return h.setDensity(this.body,a),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};d.exports=o},39132:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};d.exports=S},57772:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),x=t(22562),o=t(43855),a=t(95540),r=t(19496),i=t(85791),n=t(41598),l={setRectangle:function(s,u,f){return this.setBody({type:"rectangle",width:s,height:u},f)},setCircle:function(s,u){return this.setBody({type:"circle",radius:s},u)},setPolygon:function(s,u,f){return this.setBody({type:"polygon",sides:u,radius:s},f)},setTrapezoid:function(s,u,f,c){return this.setBody({type:"trapezoid",width:s,height:u,slope:f},c)},setExistingBody:function(s,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var f=0;f<s.parts.length;f++)s.parts[f].gameObject=this;var c=this;if(s.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},u&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var v=s.render.sprite.xOffset,g=s.render.sprite.yOffset,y=s.centerOfMass.x,T=s.centerOfMass.y;if(o(y,.5)&&o(T,.5))this.setOrigin(v+.5,g+.5);else{var E=s.centerOffset.x,A=s.centerOffset.y;this.setOrigin(v+E/this.displayWidth,g+A/this.displayHeight)}}return this},setBody:function(s,u){if(!s)return this;var f;typeof s=="string"&&(s={type:s});var c=a(s,"type","rectangle"),v=a(s,"x",this._tempVec2.x),g=a(s,"y",this._tempVec2.y),y=a(s,"width",this.width),T=a(s,"height",this.height);switch(c){case"rectangle":f=h.rectangle(v,g,y,T,u);break;case"circle":var E=a(s,"radius",Math.max(y,T)/2),A=a(s,"maxSides",25);f=h.circle(v,g,E,u,A);break;case"trapezoid":var P=a(s,"slope",.5);f=h.trapezoid(v,g,y,T,P,u);break;case"polygon":var w=a(s,"sides",5),I=a(s,"radius",Math.max(y,T)/2);f=h.polygon(v,g,w,I,u);break;case"fromVertices":case"fromVerts":var O=a(s,"verts",null);if(O)if(typeof O=="string"&&(O=n.fromPath(O)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,O),f=this.body;else{var F=a(s,"flagInternal",!1),L=a(s,"removeCollinear",.01),D=a(s,"minimumArea",10);f=h.fromVertices(v,g,O,u,F,L,D)}break;case"fromPhysicsEditor":f=r.parseBody(v,g,s,u);break;case"fromPhysicsTracer":f=i.parseBody(v,g,s,u);break}return f&&this.setExistingBody(f,s.addToWorld),this}};d.exports=l},38083:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1121),x=t(53614),o=t(35810),a={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,i){return this.setSleepStartEvent(r),this.setSleepEndEvent(i),this},setSleepStartEvent:function(r){if(r){var i=this.world;o.on(this.body,"sleepStart",function(n){i.emit(h.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var i=this.world;o.on(this.body,"sleepEnd",function(n){i.emit(h.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};d.exports=a},90556:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x={setStatic:function(o){return h.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};d.exports=x},85436:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x=t(36383),o=t(86554),a=t(30954),r=4,i={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),h.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this.setScale(n,n)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=r,h.scale(this.body,l,s),h.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,s=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=r,h.scale(this.body,l,s),h.scale(this.body,this._scaleX,n)}},angle:{get:function(){return a(this.body.angle*x.RAD_TO_DEG)},set:function(n){this.rotation=a(n)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),h.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),h.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),h.setAngle(this.body,n),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,h.setAngle(this.body,this.rotation),this},setScale:function(n,l,s){n===void 0&&(n=1),l===void 0&&(l=n);var u=1/this._scaleX,f=1/this._scaleY;return this._scaleX=n,this._scaleY=l,h.scale(this.body,u,f,s),h.scale(this.body,n,l,s),this}};d.exports=i},42081:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),x={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,a){return this._tempVec2.set(o,a),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(o){return h.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(o){return h.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};d.exports=x},31884:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="afteradd"},1213:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="afterremove"},25968:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="afterupdate"},67205:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="beforeadd"},39438:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="beforeremove"},44823:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="beforeupdate"},92593:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="collisionactive"},60128:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="collisionend"},76861:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="collisionstart"},92362:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragend"},76408:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="drag"},93971:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="dragstart"},5656:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pause"},47861:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resume"},79099:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="sleepend"},35906:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="sleepstart"},1121:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(d,S,t)=>{var h={};d.exports=h;var x=t(41598),o=t(31725),a=t(53614),r=t(53402),i=t(15647),n=t(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(s){var u={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:s.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=x.centre(s.vertices):s.hasOwnProperty("vertices")||(u.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=r.extend(u,s);return l(f,s),f.setOnCollideWith=function(c,v){return v?this.onCollideWith[c.id]=v:delete this.onCollideWith[c.id],this},f},h.nextGroup=function(s){return s?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var l=function(s,u){if(u=u||{},h.set(s,{bounds:s.bounds||i.create(s.vertices),positionPrev:s.positionPrev||o.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),x.rotate(s.vertices,s.angle,s.position),n.rotate(s.axes,s.angle),i.update(s.bounds,s.vertices,s.velocity),h.set(s,{axes:u.axes||s.axes,area:u.area||s.area,mass:u.mass||s.mass,inertia:u.inertia||s.inertia}),s.parts.length===1){var f=s.bounds,c=s.centerOfMass,v=s.centerOffset,g=f.max.x-f.min.x,y=f.max.y-f.min.y;c.x=-(f.min.x-s.position.x)/g,c.y=-(f.min.y-s.position.y)/y,v.x=g*c.x,v.y=y*c.y}};h.set=function(s,u,f){var c;typeof u=="string"&&(c=u,u={},u[c]=f);for(c in u)if(Object.prototype.hasOwnProperty.call(u,c))switch(f=u[c],c){case"isStatic":h.setStatic(s,f);break;case"isSleeping":a.set(s,f);break;case"mass":h.setMass(s,f);break;case"density":h.setDensity(s,f);break;case"inertia":h.setInertia(s,f);break;case"vertices":h.setVertices(s,f);break;case"position":h.setPosition(s,f);break;case"angle":h.setAngle(s,f);break;case"velocity":h.setVelocity(s,f);break;case"angularVelocity":h.setAngularVelocity(s,f);break;case"speed":h.setSpeed(s,f);break;case"angularSpeed":h.setAngularSpeed(s,f);break;case"parts":h.setParts(s,f);break;case"centre":h.setCentre(s,f);break;default:s[c]=f}},h.setStatic=function(s,u){for(var f=0;f<s.parts.length;f++){var c=s.parts[f];u?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=u}},h.setMass=function(s,u){var f=s.inertia/(s.mass/6);s.inertia=f*(u/6),s.inverseInertia=1/s.inertia,s.mass=u,s.inverseMass=1/s.mass,s.density=s.mass/s.area},h.setDensity=function(s,u){h.setMass(s,u*s.area),s.density=u},h.setInertia=function(s,u){s.inertia=u,s.inverseInertia=1/s.inertia},h.setVertices=function(s,u){u[0].body===s?s.vertices=u:s.vertices=x.create(u,s),s.axes=n.fromVertices(s.vertices),s.area=x.area(s.vertices),h.setMass(s,s.density*s.area);var f=x.centre(s.vertices);x.translate(s.vertices,f,-1),h.setInertia(s,h._inertiaScale*x.inertia(s.vertices,s.mass)),x.translate(s.vertices,s.position),i.update(s.bounds,s.vertices,s.velocity)},h.setParts=function(s,u,f){var c;for(u=u.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,c=0;c<u.length;c++){var v=u[c];v!==s&&(v.parent=s,s.parts.push(v))}if(s.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var g=[];for(c=0;c<u.length;c++)g=g.concat(u[c].vertices);x.clockwiseSort(g);var y=x.hull(g),T=x.centre(y);h.setVertices(s,y),x.translate(s.vertices,T)}var E=h._totalProperties(s),A=E.centre.x,P=E.centre.y,w=s.bounds,I=s.centerOfMass,O=s.centerOffset;i.update(w,s.vertices,s.velocity),I.x=-(w.min.x-A)/(w.max.x-w.min.x),I.y=-(w.min.y-P)/(w.max.y-w.min.y),O.x=A,O.y=P,s.area=E.area,s.parent=s,s.position.x=A,s.position.y=P,s.positionPrev.x=A,s.positionPrev.y=P,h.setMass(s,E.mass),h.setInertia(s,E.inertia),h.setPosition(s,E.centre)}},h.setCentre=function(s,u,f){f?(s.positionPrev.x+=u.x,s.positionPrev.y+=u.y,s.position.x+=u.x,s.position.y+=u.y):(s.positionPrev.x=u.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=u.y-(s.position.y-s.positionPrev.y),s.position.x=u.x,s.position.y=u.y)},h.setPosition=function(s,u,f){var c=o.sub(u,s.position);f?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=c.x,s.velocity.y=c.y,s.speed=o.magnitude(c)):(s.positionPrev.x+=c.x,s.positionPrev.y+=c.y);for(var v=0;v<s.parts.length;v++){var g=s.parts[v];g.position.x+=c.x,g.position.y+=c.y,x.translate(g.vertices,c),i.update(g.bounds,g.vertices,s.velocity)}},h.setAngle=function(s,u,f){var c=u-s.angle;f?(s.anglePrev=s.angle,s.angularVelocity=c,s.angularSpeed=Math.abs(c)):s.anglePrev+=c;for(var v=0;v<s.parts.length;v++){var g=s.parts[v];g.angle+=c,x.rotate(g.vertices,c,s.position),n.rotate(g.axes,c),i.update(g.bounds,g.vertices,s.velocity),v>0&&o.rotateAbout(g.position,c,s.position,g.position)}},h.setVelocity=function(s,u){var f=s.deltaTime/h._baseDelta;s.positionPrev.x=s.position.x-u.x*f,s.positionPrev.y=s.position.y-u.y*f,s.velocity.x=(s.position.x-s.positionPrev.x)/f,s.velocity.y=(s.position.y-s.positionPrev.y)/f,s.speed=o.magnitude(s.velocity)},h.getVelocity=function(s){var u=h._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*u,y:(s.position.y-s.positionPrev.y)*u}},h.getSpeed=function(s){return o.magnitude(h.getVelocity(s))},h.setSpeed=function(s,u){h.setVelocity(s,o.mult(o.normalise(h.getVelocity(s)),u))},h.setAngularVelocity=function(s,u){var f=s.deltaTime/h._baseDelta;s.anglePrev=s.angle-u*f,s.angularVelocity=(s.angle-s.anglePrev)/f,s.angularSpeed=Math.abs(s.angularVelocity)},h.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*h._baseDelta/s.deltaTime},h.getAngularSpeed=function(s){return Math.abs(h.getAngularVelocity(s))},h.setAngularSpeed=function(s,u){h.setAngularVelocity(s,r.sign(h.getAngularVelocity(s))*u)},h.translate=function(s,u,f){h.setPosition(s,o.add(s.position,u),f)},h.rotate=function(s,u,f,c){if(!f)h.setAngle(s,s.angle+u,c);else{var v=Math.cos(u),g=Math.sin(u),y=s.position.x-f.x,T=s.position.y-f.y;h.setPosition(s,{x:f.x+(y*v-T*g),y:f.y+(y*g+T*v)},c),h.setAngle(s,s.angle+u,c)}},h.scale=function(s,u,f,c){var v=0,g=0;c=c||s.position;for(var y=s.inertia===1/0,T=0;T<s.parts.length;T++){var E=s.parts[T];E.scale.x=u,E.scale.y=f,x.scale(E.vertices,u,f,c),E.axes=n.fromVertices(E.vertices),E.area=x.area(E.vertices),h.setMass(E,s.density*E.area),x.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),h.setInertia(E,h._inertiaScale*x.inertia(E.vertices,E.mass)),x.translate(E.vertices,{x:E.position.x,y:E.position.y}),T>0&&(v+=E.area,g+=E.inertia),E.position.x=c.x+(E.position.x-c.x)*u,E.position.y=c.y+(E.position.y-c.y)*f,i.update(E.bounds,E.vertices,s.velocity)}s.parts.length>1&&(s.area=v,s.isStatic||(h.setMass(s,s.density*v),h.setInertia(s,g))),s.circleRadius&&(u===f?s.circleRadius*=u:s.circleRadius=null),y&&h.setInertia(s,1/0)},h.update=function(s,u){u=(typeof u<"u"?u:16.666666666666668)*s.timeScale;var f=u*u,c=h._timeCorrection?u/(s.deltaTime||u):1,v=1-s.frictionAir*(u/r._baseDelta),g=(s.position.x-s.positionPrev.x)*c,y=(s.position.y-s.positionPrev.y)*c;s.velocity.x=g*v+s.force.x/s.mass*f,s.velocity.y=y*v+s.force.y/s.mass*f,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=u,s.angularVelocity=(s.angle-s.anglePrev)*v*c+s.torque/s.inertia*f,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=o.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var T=0;T<s.parts.length;T++){var E=s.parts[T];x.translate(E.vertices,s.velocity),T>0&&(E.position.x+=s.velocity.x,E.position.y+=s.velocity.y),s.angularVelocity!==0&&(x.rotate(E.vertices,s.angularVelocity,s.position),n.rotate(E.axes,s.angularVelocity),T>0&&o.rotateAbout(E.position,s.angularVelocity,s.position,E.position)),i.update(E.bounds,E.vertices,s.velocity)}},h.updateVelocities=function(s){var u=h._baseDelta/s.deltaTime,f=s.velocity;f.x=(s.position.x-s.positionPrev.x)*u,f.y=(s.position.y-s.positionPrev.y)*u,s.speed=Math.sqrt(f.x*f.x+f.y*f.y),s.angularVelocity=(s.angle-s.anglePrev)*u,s.angularSpeed=Math.abs(s.angularVelocity)},h.applyForce=function(s,u,f){var c={x:u.x-s.position.x,y:u.y-s.position.y};s.force.x+=f.x,s.force.y+=f.y,s.torque+=c.x*f.y-c.y*f.x},h._totalProperties=function(s){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=s.parts.length===1?0:1;f<s.parts.length;f++){var c=s.parts[f],v=c.mass!==1/0?c.mass:1;u.mass+=v,u.area+=c.area,u.inertia+=c.inertia,u.centre=o.add(u.centre,o.mult(c.position,v))}return u.centre=o.div(u.centre,u.mass),u},h.wrap=function(s,u){var f=i.wrap(s.bounds,u);return f&&h.translate(s,f),f}})()},69351:(d,S,t)=>{var h={};d.exports=h;var x=t(35810),o=t(53402),a=t(15647),r=t(22562);(function(){h.create=function(i){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},h.setModified=function(i,n,l,s){if(x.trigger(i,"compositeModified",i),i.isModified=n,n&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),l&&i.parent&&h.setModified(i.parent,n,l,s),s)for(var u=0;u<i.composites.length;u++){var f=i.composites[u];h.setModified(f,n,l,s)}},h.add=function(i,n){var l=[].concat(n);x.trigger(i,"beforeAdd",{object:n});for(var s=0;s<l.length;s++){var u=l[s];switch(u.type){case"body":if(u.parent!==u){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(i,u);break;case"constraint":h.addConstraint(i,u);break;case"composite":h.addComposite(i,u);break;case"mouseConstraint":h.addConstraint(i,u.constraint);break}}return x.trigger(i,"afterAdd",{object:n}),i},h.remove=function(i,n,l){var s=[].concat(n);x.trigger(i,"beforeRemove",{object:n});for(var u=0;u<s.length;u++){var f=s[u];switch(f.type){case"body":h.removeBody(i,f,l);break;case"constraint":h.removeConstraint(i,f,l);break;case"composite":h.removeComposite(i,f,l);break;case"mouseConstraint":h.removeConstraint(i,f.constraint);break}}return x.trigger(i,"afterRemove",{object:n}),i},h.addComposite=function(i,n){return i.composites.push(n),n.parent=i,h.setModified(i,!0,!0,!1),i},h.removeComposite=function(i,n,l){var s=o.indexOf(i.composites,n);if(s!==-1){var u=h.allBodies(n);h.removeCompositeAt(i,s);for(var f=0;f<u.length;f++)u[f].sleepCounter=0}if(l)for(var f=0;f<i.composites.length;f++)h.removeComposite(i.composites[f],n,!0);return i},h.removeCompositeAt=function(i,n){return i.composites.splice(n,1),h.setModified(i,!0,!0,!1),i},h.addBody=function(i,n){return i.bodies.push(n),h.setModified(i,!0,!0,!1),i},h.removeBody=function(i,n,l){var s=o.indexOf(i.bodies,n);if(s!==-1&&(h.removeBodyAt(i,s),n.sleepCounter=0),l)for(var u=0;u<i.composites.length;u++)h.removeBody(i.composites[u],n,!0);return i},h.removeBodyAt=function(i,n){return i.bodies.splice(n,1),h.setModified(i,!0,!0,!1),i},h.addConstraint=function(i,n){return i.constraints.push(n),h.setModified(i,!0,!0,!1),i},h.removeConstraint=function(i,n,l){var s=o.indexOf(i.constraints,n);if(s!==-1&&h.removeConstraintAt(i,s),l)for(var u=0;u<i.composites.length;u++)h.removeConstraint(i.composites[u],n,!0);return i},h.removeConstraintAt=function(i,n){return i.constraints.splice(n,1),h.setModified(i,!0,!0,!1),i},h.clear=function(i,n,l){if(l)for(var s=0;s<i.composites.length;s++)h.clear(i.composites[s],n,!0);return n?i.bodies=i.bodies.filter(function(u){return u.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,h.setModified(i,!0,!0,!1),i},h.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var n=[].concat(i.bodies),l=0;l<i.composites.length;l++)n=n.concat(h.allBodies(i.composites[l]));return i.cache&&(i.cache.allBodies=n),n},h.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var n=[].concat(i.constraints),l=0;l<i.composites.length;l++)n=n.concat(h.allConstraints(i.composites[l]));return i.cache&&(i.cache.allConstraints=n),n},h.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var n=[].concat(i.composites),l=0;l<i.composites.length;l++)n=n.concat(h.allComposites(i.composites[l]));return i.cache&&(i.cache.allComposites=n),n},h.get=function(i,n,l){var s,u;switch(l){case"body":s=h.allBodies(i);break;case"constraint":s=h.allConstraints(i);break;case"composite":s=h.allComposites(i).concat(i);break}return s?(u=s.filter(function(f){return f.id.toString()===n.toString()}),u.length===0?null:u[0]):null},h.move=function(i,n,l){return h.remove(i,n),h.add(l,n),i},h.rebase=function(i){for(var n=h.allBodies(i).concat(h.allConstraints(i)).concat(h.allComposites(i)),l=0;l<n.length;l++)n[l].id=o.nextId();return i},h.translate=function(i,n,l){for(var s=l?h.allBodies(i):i.bodies,u=0;u<s.length;u++)r.translate(s[u],n);return i},h.rotate=function(i,n,l,s){for(var u=Math.cos(n),f=Math.sin(n),c=s?h.allBodies(i):i.bodies,v=0;v<c.length;v++){var g=c[v],y=g.position.x-l.x,T=g.position.y-l.y;r.setPosition(g,{x:l.x+(y*u-T*f),y:l.y+(y*f+T*u)}),r.rotate(g,n)}return i},h.scale=function(i,n,l,s,u){for(var f=u?h.allBodies(i):i.bodies,c=0;c<f.length;c++){var v=f[c],g=v.position.x-s.x,y=v.position.y-s.y;r.setPosition(v,{x:s.x+g*n,y:s.y+y*l}),r.scale(v,n,l)}return i},h.bounds=function(i){for(var n=h.allBodies(i),l=[],s=0;s<n.length;s+=1){var u=n[s];l.push(u.bounds.min,u.bounds.max)}return a.create(l)},h.wrap=function(i,n){var l=a.wrap(h.bounds(i),n);return l&&h.translate(i,l),l}})()},4372:(d,S,t)=>{var h={};d.exports=h;var x=t(69351);(function(){h.create=x.create,h.add=x.add,h.remove=x.remove,h.clear=x.clear,h.addComposite=x.addComposite,h.addBody=x.addBody,h.addConstraint=x.addConstraint})()},52284:(d,S,t)=>{var h={};d.exports=h;var x=t(41598),o=t(4506);(function(){var a=[],r={overlap:0,axis:null},i={overlap:0,axis:null};h.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(n,l,s){if(h._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(h._overlapAxes(i,l.vertices,n.vertices,l.axes),i.overlap<=0))return null;var u=s&&s.table[o.id(n,l)],f;u?f=u.collision:(f=h.create(n,l),f.collided=!0,f.bodyA=n.id<l.id?n:l,f.bodyB=n.id<l.id?l:n,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),n=f.bodyA,l=f.bodyB;var c;r.overlap<i.overlap?c=r:c=i;var v=f.normal,g=f.tangent,y=f.penetration,T=f.supports,E=c.overlap,A=c.axis,P=A.x,w=A.y,I=l.position.x-n.position.x,O=l.position.y-n.position.y;P*I+w*O>=0&&(P=-P,w=-w),v.x=P,v.y=w,g.x=-w,g.y=P,y.x=P*E,y.y=w*E,f.depth=E;var F=h._findSupports(n,l,v,1),L=0;if(x.contains(n.vertices,F[0])&&(T[L++]=F[0]),x.contains(n.vertices,F[1])&&(T[L++]=F[1]),L<2){var D=h._findSupports(l,n,v,-1);x.contains(l.vertices,D[0])&&(T[L++]=D[0]),L<2&&x.contains(l.vertices,D[1])&&(T[L++]=D[1])}return L===0&&(T[L++]=F[0]),f.supportCount=L,f},h._overlapAxes=function(n,l,s,u){var f=l.length,c=s.length,v=l[0].x,g=l[0].y,y=s[0].x,T=s[0].y,E=u.length,A=Number.MAX_VALUE,P=0,w,I,O,F,L,D;for(L=0;L<E;L++){var b=u[L],U=b.x,W=b.y,H=v*U+g*W,Y=y*U+T*W,G=H,X=Y;for(D=1;D<f;D+=1)F=l[D].x*U+l[D].y*W,F>G?G=F:F<H&&(H=F);for(D=1;D<c;D+=1)F=s[D].x*U+s[D].y*W,F>X?X=F:F<Y&&(Y=F);if(I=G-Y,O=X-H,w=I<O?I:O,w<A&&(A=w,P=L,w<=0))break}n.axis=u[P],n.overlap=A},h._findSupports=function(n,l,s,u){var f=l.vertices,c=f.length,v=n.position.x,g=n.position.y,y=s.x*u,T=s.y*u,E=f[0],A=E,P=y*(v-A.x)+T*(g-A.y),w,I,O;for(O=1;O<c;O+=1)A=f[O],I=y*(v-A.x)+T*(g-A.y),I<P&&(P=I,E=A);return w=f[(c+E.index-1)%c],P=y*(v-w.x)+T*(g-w.y),A=f[(E.index+1)%c],y*(v-A.x)+T*(g-A.y)<P?(a[0]=E,a[1]=A,a):(a[0]=E,a[1]=w,a)}})()},43424:d=>{var S={};d.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(d,S,t)=>{var h={};d.exports=h;var x=t(53402),o=t(52284);(function(){h.create=function(a){var r={bodies:[],collisions:[],pairs:null};return x.extend(r,a)},h.setBodies=function(a,r){a.bodies=r.slice(0)},h.clear=function(a){a.bodies=[],a.collisions=[]},h.collisions=function(a){var r=a.pairs,i=a.bodies,n=i.length,l=h.canCollide,s=o.collides,u=a.collisions,f=0,c,v;for(i.sort(h._compareBoundsX),c=0;c<n;c++){var g=i[c],y=g.bounds,T=g.bounds.max.x,E=g.bounds.max.y,A=g.bounds.min.y,P=g.isStatic||g.isSleeping,w=g.parts.length,I=w===1;for(v=c+1;v<n;v++){var O=i[v],F=O.bounds;if(F.min.x>T)break;if(!(E<F.min.y||A>F.max.y)&&!(P&&(O.isStatic||O.isSleeping))&&l(g.collisionFilter,O.collisionFilter)){var L=O.parts.length;if(I&&L===1){var D=s(g,O,r);D&&(u[f++]=D)}else for(var b=w>1?1:0,U=L>1?1:0,W=b;W<w;W++)for(var H=g.parts[W],y=H.bounds,Y=U;Y<L;Y++){var G=O.parts[Y],F=G.bounds;if(!(y.min.x>F.max.x||y.max.x<F.min.x||y.max.y<F.min.y||y.min.y>F.max.y)){var D=s(H,G,r);D&&(u[f++]=D)}}}}}return u.length!==f&&(u.length=f),u},h.canCollide=function(a,r){return a.group===r.group&&a.group!==0?a.group>0:(a.mask&r.category)!==0&&(r.mask&a.category)!==0},h._compareBoundsX=function(a,r){return a.bounds.min.x-r.bounds.min.x}})()},4506:(d,S,t)=>{var h={};d.exports=h;var x=t(43424);(function(){h.create=function(o,a){var r=o.bodyA,i=o.bodyB,n={id:h.id(r,i),bodyA:r,bodyB:i,collision:o,contacts:[x.create(),x.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||i.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(n,o,a),n},h.update=function(o,a,r){var i=a.supports,n=a.supportCount,l=o.contacts,s=a.parentA,u=a.parentB;o.isActive=!0,o.timeUpdated=r,o.collision=a,o.separation=a.depth,o.inverseMass=s.inverseMass+u.inverseMass,o.friction=s.friction<u.friction?s.friction:u.friction,o.frictionStatic=s.frictionStatic>u.frictionStatic?s.frictionStatic:u.frictionStatic,o.restitution=s.restitution>u.restitution?s.restitution:u.restitution,o.slop=s.slop>u.slop?s.slop:u.slop,o.contactCount=n,a.pair=o;var f=i[0],c=l[0],v=i[1],g=l[1];(g.vertex===f||c.vertex===v)&&(l[1]=c,l[0]=c=g,g=l[1]),c.vertex=f,g.vertex=v},h.setActive=function(o,a,r){a?(o.isActive=!0,o.timeUpdated=r):(o.isActive=!1,o.contactCount=0)},h.id=function(o,a){return o.id<a.id?o.id.toString(36)+":"+a.id.toString(36):a.id.toString(36)+":"+o.id.toString(36)}})()},99561:(d,S,t)=>{var h={};d.exports=h;var x=t(4506),o=t(53402);(function(){h.create=function(a){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},h.update=function(a,r,i){var n=x.update,l=x.create,s=x.setActive,u=a.table,f=a.list,c=f.length,v=c,g=a.collisionStart,y=a.collisionEnd,T=a.collisionActive,E=r.length,A=0,P=0,w=0,I,O,F;for(F=0;F<E;F++)I=r[F],O=I.pair,O?(O.isActive&&(T[w++]=O),n(O,I,i)):(O=l(I,i),u[O.id]=O,g[A++]=O,f[v++]=O);for(v=0,c=f.length,F=0;F<c;F++)O=f[F],O.timeUpdated>=i?f[v++]=O:(s(O,!1,i),O.collision.bodyA.sleepCounter>0&&O.collision.bodyB.sleepCounter>0?f[v++]=O:(y[P++]=O,delete u[O.id]));f.length!==v&&(f.length=v),g.length!==A&&(g.length=A),y.length!==P&&(y.length=P),T.length!==w&&(T.length=w)},h.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},73296:(d,S,t)=>{var h={};d.exports=h;var x=t(31725),o=t(52284),a=t(15647),r=t(66280),i=t(41598);(function(){h.collides=function(n,l){for(var s=[],u=l.length,f=n.bounds,c=o.collides,v=a.overlaps,g=0;g<u;g++){var y=l[g],T=y.parts.length,E=T===1?0:1;if(n!==y&&v(y.bounds,f))for(var A=E;A<T;A++){var P=y.parts[A];if(v(P.bounds,f)){var w=c(P,n);if(w){s.push(w);break}}}}return s},h.ray=function(n,l,s,u){u=u||1e-100;for(var f=x.angle(l,s),c=x.magnitude(x.sub(l,s)),v=(s.x+l.x)*.5,g=(s.y+l.y)*.5,y=r.rectangle(v,g,c,u,{angle:f}),T=h.collides(y,n),E=0;E<T.length;E+=1){var A=T[E];A.body=A.bodyB=A.bodyA}return T},h.region=function(n,l,s){for(var u=[],f=0;f<n.length;f++){var c=n[f],v=a.overlaps(c.bounds,l);(v&&!s||!v&&s)&&u.push(c)}return u},h.point=function(n,l){for(var s=[],u=0;u<n.length;u++){var f=n[u];if(a.contains(f.bounds,l))for(var c=f.parts.length===1?0:1;c<f.parts.length;c++){var v=f.parts[c];if(a.contains(v.bounds,l)&&i.contains(v.vertices,l)){s.push(f);break}}}return s}})()},66272:(d,S,t)=>{var h={};d.exports=h;var x=t(41598),o=t(53402),a=t(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(r){var i,n,l,s=r.length;for(i=0;i<s;i++)n=r[i],n.isActive&&(l=n.contactCount,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},h.solvePosition=function(r,i,n){var l,s,u,f,c,v,g,y,T=h._positionDampen*(n||1),E=o.clamp(i/o._baseDelta,0,1),A=r.length;for(l=0;l<A;l++)s=r[l],!(!s.isActive||s.isSensor)&&(u=s.collision,f=u.parentA,c=u.parentB,v=u.normal,s.separation=u.depth+v.x*(c.positionImpulse.x-f.positionImpulse.x)+v.y*(c.positionImpulse.y-f.positionImpulse.y));for(l=0;l<A;l++)s=r[l],!(!s.isActive||s.isSensor)&&(u=s.collision,f=u.parentA,c=u.parentB,v=u.normal,y=s.separation-s.slop*E,(f.isStatic||c.isStatic)&&(y*=2),f.isStatic||f.isSleeping||(g=T/f.totalContacts,f.positionImpulse.x+=v.x*y*g,f.positionImpulse.y+=v.y*y*g),c.isStatic||c.isSleeping||(g=T/c.totalContacts,c.positionImpulse.x-=v.x*y*g,c.positionImpulse.y-=v.y*y*g))},h.postSolvePosition=function(r){for(var i=h._positionWarming,n=r.length,l=x.translate,s=a.update,u=0;u<n;u++){var f=r[u],c=f.positionImpulse,v=c.x,g=c.y,y=f.velocity;if(f.totalContacts=0,v!==0||g!==0){for(var T=0;T<f.parts.length;T++){var E=f.parts[T];l(E.vertices,c),s(E.bounds,E.vertices,y),E.position.x+=v,E.position.y+=g}f.positionPrev.x+=v,f.positionPrev.y+=g,v*y.x+g*y.y<0?(c.x=0,c.y=0):(c.x*=i,c.y*=i)}}},h.preSolveVelocity=function(r){var i=r.length,n,l;for(n=0;n<i;n++){var s=r[n];if(!(!s.isActive||s.isSensor)){var u=s.contacts,f=s.contactCount,c=s.collision,v=c.parentA,g=c.parentB,y=c.normal,T=c.tangent;for(l=0;l<f;l++){var E=u[l],A=E.vertex,P=E.normalImpulse,w=E.tangentImpulse;if(P!==0||w!==0){var I=y.x*P+T.x*w,O=y.y*P+T.y*w;v.isStatic||v.isSleeping||(v.positionPrev.x+=I*v.inverseMass,v.positionPrev.y+=O*v.inverseMass,v.anglePrev+=v.inverseInertia*((A.x-v.position.x)*O-(A.y-v.position.y)*I)),g.isStatic||g.isSleeping||(g.positionPrev.x-=I*g.inverseMass,g.positionPrev.y-=O*g.inverseMass,g.anglePrev-=g.inverseInertia*((A.x-g.position.x)*O-(A.y-g.position.y)*I))}}}}},h.solveVelocity=function(r,i){var n=i/o._baseDelta,l=n*n,s=l*n,u=-h._restingThresh*n,f=h._restingThreshTangent,c=h._frictionNormalMultiplier*n,v=h._frictionMaxStatic,g=r.length,y,T,E,A;for(E=0;E<g;E++){var P=r[E];if(!(!P.isActive||P.isSensor)){var w=P.collision,I=w.parentA,O=w.parentB,F=w.normal.x,L=w.normal.y,D=w.tangent.x,b=w.tangent.y,U=P.inverseMass,W=P.friction*P.frictionStatic*c,H=P.contacts,Y=P.contactCount,G=1/Y,X=I.position.x-I.positionPrev.x,V=I.position.y-I.positionPrev.y,B=I.angle-I.anglePrev,z=O.position.x-O.positionPrev.x,$=O.position.y-O.positionPrev.y,j=O.angle-O.anglePrev;for(A=0;A<Y;A++){var k=H[A],q=k.vertex,Q=q.x-I.position.x,Z=q.y-I.position.y,_=q.x-O.position.x,et=q.y-O.position.y,it=X-Z*B,st=V+Q*B,nt=z-et*j,lt=$+_*j,ut=it-nt,ot=st-lt,rt=F*ut+L*ot,ht=D*ut+b*ot,dt=P.separation+rt,xt=Math.min(dt,1);xt=dt<0?0:xt;var yt=xt*W;ht<-yt||ht>yt?(T=ht>0?ht:-ht,y=P.friction*(ht>0?1:-1)*s,y<-T?y=-T:y>T&&(y=T)):(y=ht,T=v);var Ct=Q*L-Z*F,St=_*L-et*F,Mt=G/(U+I.inverseInertia*Ct*Ct+O.inverseInertia*St*St),Ut=(1+P.restitution)*rt*Mt;if(y*=Mt,rt<u)k.normalImpulse=0;else{var qt=k.normalImpulse;k.normalImpulse+=Ut,k.normalImpulse>0&&(k.normalImpulse=0),Ut=k.normalImpulse-qt}if(ht<-f||ht>f)k.tangentImpulse=0;else{var Nt=k.tangentImpulse;k.tangentImpulse+=y,k.tangentImpulse<-T&&(k.tangentImpulse=-T),k.tangentImpulse>T&&(k.tangentImpulse=T),y=k.tangentImpulse-Nt}var Jt=F*Ut+D*y,ae=L*Ut+b*y;I.isStatic||I.isSleeping||(I.positionPrev.x+=Jt*I.inverseMass,I.positionPrev.y+=ae*I.inverseMass,I.anglePrev+=(Q*ae-Z*Jt)*I.inverseInertia),O.isStatic||O.isSleeping||(O.positionPrev.x-=Jt*O.inverseMass,O.positionPrev.y-=ae*O.inverseMass,O.anglePrev-=(_*ae-et*Jt)*O.inverseInertia)}}}}})()},48140:(d,S,t)=>{var h={};d.exports=h;var x=t(41598),o=t(31725),a=t(53614),r=t(15647),i=t(66615),n=t(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(l){var s=l;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var u=s.bodyA?o.add(s.bodyA.position,s.pointA):s.pointA,f=s.bodyB?o.add(s.bodyB.position,s.pointB):s.pointB,c=o.magnitude(o.sub(u,f));s.length=typeof s.length<"u"?s.length:c,s.id=s.id||n.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(v.type="pin",v.anchors=!1):s.stiffness<.9&&(v.type="spring"),s.render=n.extend(v,s.render),s},h.preSolveAll=function(l){for(var s=0;s<l.length;s+=1){var u=l[s],f=u.constraintImpulse;u.isStatic||f.x===0&&f.y===0&&f.angle===0||(u.position.x+=f.x,u.position.y+=f.y,u.angle+=f.angle)}},h.solveAll=function(l,s){for(var u=n.clamp(s/n._baseDelta,0,1),f=0;f<l.length;f+=1){var c=l[f],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,g=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(v||g)&&h.solve(l[f],u)}for(f=0;f<l.length;f+=1)c=l[f],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,g=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!v&&!g&&h.solve(l[f],u)},h.solve=function(l,s){var u=l.bodyA,f=l.bodyB,c=l.pointA,v=l.pointB;if(!(!u&&!f)){u&&!u.isStatic&&(o.rotate(c,u.angle-l.angleA,c),l.angleA=u.angle),f&&!f.isStatic&&(o.rotate(v,f.angle-l.angleB,v),l.angleB=f.angle);var g=c,y=v;if(u&&(g=o.add(u.position,c)),f&&(y=o.add(f.position,v)),!(!g||!y)){var T=o.sub(g,y),E=o.magnitude(T);E<h._minLength&&(E=h._minLength);var A=(E-l.length)/E,P=l.stiffness>=1||l.length===0,w=P?l.stiffness*s:l.stiffness*s*s,I=l.damping*s,O=o.mult(T,A*w),F=(u?u.inverseMass:0)+(f?f.inverseMass:0),L=(u?u.inverseInertia:0)+(f?f.inverseInertia:0),D=F+L,b,U,W,H,Y;if(I>0){var G=o.create();W=o.div(T,E),Y=o.sub(f&&o.sub(f.position,f.positionPrev)||G,u&&o.sub(u.position,u.positionPrev)||G),H=o.dot(W,Y)}u&&!u.isStatic&&(U=u.inverseMass/F,u.constraintImpulse.x-=O.x*U,u.constraintImpulse.y-=O.y*U,u.position.x-=O.x*U,u.position.y-=O.y*U,I>0&&(u.positionPrev.x-=I*W.x*H*U,u.positionPrev.y-=I*W.y*H*U),b=o.cross(c,O)/D*h._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle-=b,u.angle-=b),f&&!f.isStatic&&(U=f.inverseMass/F,f.constraintImpulse.x+=O.x*U,f.constraintImpulse.y+=O.y*U,f.position.x+=O.x*U,f.position.y+=O.y*U,I>0&&(f.positionPrev.x+=I*W.x*H*U,f.positionPrev.y+=I*W.y*H*U),b=o.cross(v,O)/D*h._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=b,f.angle+=b)}}},h.postSolveAll=function(l){for(var s=0;s<l.length;s++){var u=l[s],f=u.constraintImpulse;if(!(u.isStatic||f.x===0&&f.y===0&&f.angle===0)){a.set(u,!1);for(var c=0;c<u.parts.length;c++){var v=u.parts[c];x.translate(v.vertices,f),c>0&&(v.position.x+=f.x,v.position.y+=f.y),f.angle!==0&&(x.rotate(v.vertices,f.angle,u.position),i.rotate(v.axes,f.angle),c>0&&o.rotateAbout(v.position,f.angle,u.position,v.position)),r.update(v.bounds,v.vertices,u.velocity)}f.angle*=h._warming,f.x*=h._warming,f.y*=h._warming}}},h.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},h.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},h.currentLength=function(l){var s=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),u=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),c=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),v=s-f,g=u-c;return Math.sqrt(v*v+g*g)}})()},53402:(d,S,t)=>{var h={};d.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(o,a){var r,i;typeof a=="boolean"?(r=2,i=a):(r=1,i=!0);for(var n=r;n<arguments.length;n++){var l=arguments[n];if(l)for(var s in l)i&&l[s]&&l[s].constructor===Object&&(!o[s]||o[s].constructor===Object)?(o[s]=o[s]||{},h.extend(o[s],i,l[s])):o[s]=l[s]}return o},h.clone=function(o,a){return h.extend({},a,o)},h.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var r in o)a.push(r);return a},h.values=function(o){var a=[];if(Object.keys){for(var r=Object.keys(o),i=0;i<r.length;i++)a.push(o[r[i]]);return a}for(var n in o)a.push(o[n]);return a},h.get=function(o,a,r,i){a=a.split(".").slice(r,i);for(var n=0;n<a.length;n+=1)o=o[a[n]];return o},h.set=function(o,a,r,i,n){var l=a.split(".").slice(i,n);return h.get(o,a,0,-1)[l[l.length-1]]=r,r},h.shuffle=function(o){for(var a=o.length-1;a>0;a--){var r=Math.floor(h.random()*(a+1)),i=o[a];o[a]=o[r],o[r]=i}return o},h.choose=function(o){return o[Math.floor(h.random()*o.length)]},h.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},h.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},h.isFunction=function(o){return typeof o=="function"},h.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},h.isString=function(o){return toString.call(o)==="[object String]"},h.clamp=function(o,a,r){return o<a?a:o>r?r:o},h.sign=function(o){return o<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+x()*(a-o)};var x=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[o]||(h.warn(o),h._warnedOnce[o]=!0)},h.deprecated=function(o,a,r){o[a]=h.chain(function(){h.warnOnce(" deprecated ",r)},o[a])},h.nextId=function(){return h._nextId++},h.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var r=0;r<o.length;r++)if(o[r]===a)return r;return-1},h.map=function(o,a){if(o.map)return o.map(a);for(var r=[],i=0;i<o.length;i+=1)r.push(a(o[i]));return r},h.topologicalSort=function(o){var a=[],r=[],i=[];for(var n in o)!r[n]&&!i[n]&&h._topologicalSort(n,r,i,o,a);return a},h._topologicalSort=function(o,a,r,i,n){var l=i[o]||[];r[o]=!0;for(var s=0;s<l.length;s+=1){var u=l[s];r[u]||a[u]||h._topologicalSort(u,a,r,i,n)}r[o]=!1,a[o]=!0,n.push(o)},h.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var r=arguments[a];r._chained?o.push.apply(o,r._chained):o.push(r)}var i=function(){for(var n,l=new Array(arguments.length),s=0,u=arguments.length;s<u;s++)l[s]=arguments[s];for(s=0;s<o.length;s+=1){var f=o[s].apply(n,l);typeof f<"u"&&(n=f)}return n};return i._chained=o,i},h.chainPathBefore=function(o,a,r){return h.set(o,a,h.chain(r,h.get(o,a)))},h.chainPathAfter=function(o,a,r){return h.set(o,a,h.chain(h.get(o,a),r))},h.setDecomp=function(o){h._decomp=o},h.getDecomp=function(){var o=h._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(d,S,t)=>{var h={};d.exports=h;var x=t(53614),o=t(66272),a=t(81388),r=t(99561),i=t(35810),n=t(69351),l=t(48140),s=t(53402),u=t(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(f){f=f||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=s.extend(c,f);return v.world=f.world||n.create({label:"World"}),v.pairs=f.pairs||r.create(),v.detector=f.detector||a.create(),v.detector.pairs=v.pairs,v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},h.update=function(f,c){var v=s.now(),g=f.world,y=f.detector,T=f.pairs,E=f.timing,A=E.timestamp,P;c>h._deltaMax&&s.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),c=typeof c<"u"?c:s._baseDelta,c*=E.timeScale,E.timestamp+=c,E.lastDelta=c;var w={timestamp:E.timestamp,delta:c};i.trigger(f,"beforeUpdate",w);var I=n.allBodies(g),O=n.allConstraints(g),F=n.allComposites(g);for(g.isModified&&(a.setBodies(y,I),n.setModified(g,!1,!1,!0)),f.enableSleeping&&x.update(I,c),h._bodiesApplyGravity(I,f.gravity),h.wrap(I,F),h.attractors(I),c>0&&h._bodiesUpdate(I,c),i.trigger(f,"beforeSolve",w),l.preSolveAll(I),P=0;P<f.constraintIterations;P++)l.solveAll(O,c);l.postSolveAll(I);var L=a.collisions(y);r.update(T,L,A),f.enableSleeping&&x.afterCollisions(T.list),T.collisionStart.length>0&&i.trigger(f,"collisionStart",{pairs:T.collisionStart,timestamp:E.timestamp,delta:c});var D=s.clamp(20/f.positionIterations,0,1);for(o.preSolvePosition(T.list),P=0;P<f.positionIterations;P++)o.solvePosition(T.list,c,D);for(o.postSolvePosition(I),l.preSolveAll(I),P=0;P<f.constraintIterations;P++)l.solveAll(O,c);for(l.postSolveAll(I),o.preSolveVelocity(T.list),P=0;P<f.velocityIterations;P++)o.solveVelocity(T.list,c);return h._bodiesUpdateVelocities(I),T.collisionActive.length>0&&i.trigger(f,"collisionActive",{pairs:T.collisionActive,timestamp:E.timestamp,delta:c}),T.collisionEnd.length>0&&i.trigger(f,"collisionEnd",{pairs:T.collisionEnd,timestamp:E.timestamp,delta:c}),h._bodiesClearForces(I),i.trigger(f,"afterUpdate",w),f.timing.lastElapsed=s.now()-v,f},h.merge=function(f,c){if(s.extend(f,c),c.world){f.world=c.world,h.clear(f);for(var v=n.allBodies(f.world),g=0;g<v.length;g++){var y=v[g];x.set(y,!1),y.id=s.nextId()}}},h.clear=function(f){r.clear(f.pairs),a.clear(f.detector)},h._bodiesClearForces=function(f){for(var c=f.length,v=0;v<c;v++){var g=f[v];g.force.x=0,g.force.y=0,g.torque=0}},h._bodiesApplyGravity=function(f,c){var v=typeof c.scale<"u"?c.scale:.001,g=f.length;if(!(c.x===0&&c.y===0||v===0))for(var y=0;y<g;y++){var T=f[y];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.y+=T.mass*c.y*v,T.force.x+=T.mass*c.x*v)}},h._bodiesUpdate=function(f,c){for(var v=f.length,g=0;g<v;g++){var y=f[g];y.isStatic||y.isSleeping||u.update(y,c)}},h._bodiesUpdateVelocities=function(f){for(var c=f.length,v=0;v<c;v++)u.updateVelocities(f[v])},h.wrap=function(f,c){for(var v=0;v<f.length;v+=1){var g=f[v];g.wrapBounds!==null&&u.wrap(g,g.wrapBounds)}for(v=0;v<c.length;v+=1){var y=c[v];y.wrapBounds!==null&&n.wrap(y,y.wrapBounds)}},h.attractors=function(f){for(var c=0;c<f.length;c++){var v=f[c],g=v.attractors;if(g&&g.length>0)for(var y=0;y<f.length;y++){var T=f[y];if(c!==y)for(var E=0;E<g.length;E++){var A=g[E],P=A;s.isFunction(A)&&(P=A(v,T)),P&&u.applyForce(T,T.position,P)}}}}})()},35810:(d,S,t)=>{var h={};d.exports=h;var x=t(53402);(function(){h.on=function(o,a,r){for(var i=a.split(" "),n,l=0;l<i.length;l++)n=i[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(r);return r},h.off=function(o,a,r){if(!a){o.events={};return}typeof a=="function"&&(r=a,a=x.keys(o.events).join(" "));for(var i=a.split(" "),n=0;n<i.length;n++){var l=o.events[i[n]],s=[];if(r&&l)for(var u=0;u<l.length;u++)l[u]!==r&&s.push(l[u]);o.events[i[n]]=s}},h.trigger=function(o,a,r){var i,n,l,s,u=o.events;if(u&&x.keys(u).length>0){r||(r={}),i=a.split(" ");for(var f=0;f<i.length;f++)if(n=i[f],l=u[n],l){s=x.clone(r,!1),s.name=n,s.source=o;for(var c=0;c<l.length;c++)l[c].apply(o,[s])}}}})()},6790:(d,S,t)=>{var h={};d.exports=h;var x=t(73832),o=t(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){x.use(h,Array.prototype.slice.call(arguments))},h.before=function(a,r){return a=a.replace(/^Matter./,""),o.chainPathBefore(h,a,r)},h.after=function(a,r){return a=a.replace(/^Matter./,""),o.chainPathAfter(h,a,r)}})()},73832:(d,S,t)=>{var h={};d.exports=h;var x=t(53402);(function(){h._registry={},h.register=function(o){if(h.isPlugin(o)||x.warn("Plugin.register:",h.toString(o),"does not implement all required fields."),o.name in h._registry){var a=h._registry[o.name],r=h.versionParse(o.version).number,i=h.versionParse(a.version).number;r>i?(x.warn("Plugin.register:",h.toString(a),"was upgraded to",h.toString(o)),h._registry[o.name]=o):r<i?x.warn("Plugin.register:",h.toString(a),"can not be downgraded to",h.toString(o)):o!==a&&x.warn("Plugin.register:",h.toString(o),"is already registered to different plugin object")}else h._registry[o.name]=o;return o},h.resolve=function(o){return h._registry[h.dependencyParse(o).name]},h.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},h.isPlugin=function(o){return o&&o.name&&o.version&&o.install},h.isUsed=function(o,a){return o.used.indexOf(a)>-1},h.isFor=function(o,a){var r=o.for&&h.dependencyParse(o.for);return!o.for||a.name===r.name&&h.versionSatisfies(a.version,r.range)},h.use=function(o,a){if(o.uses=(o.uses||[]).concat(a||[]),o.uses.length===0){x.warn("Plugin.use:",h.toString(o),"does not specify any dependencies to install.");return}for(var r=h.dependencies(o),i=x.topologicalSort(r),n=[],l=0;l<i.length;l+=1)if(i[l]!==o.name){var s=h.resolve(i[l]);if(!s){n.push(" "+i[l]);continue}h.isUsed(o,s.name)||(h.isFor(s,o)||(x.warn("Plugin.use:",h.toString(s),"is for",s.for,"but installed on",h.toString(o)+"."),s._warned=!0),s.install?s.install(o):(x.warn("Plugin.use:",h.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(n.push(" "+h.toString(s)),delete s._warned):n.push(" "+h.toString(s)),o.used.push(s.name))}n.length>0&&!s.silent&&x.info(n.join("  "))},h.dependencies=function(o,a){var r=h.dependencyParse(o),i=r.name;if(a=a||{},!(i in a)){o=h.resolve(o)||o,a[i]=x.map(o.uses||[],function(l){h.isPlugin(l)&&h.register(l);var s=h.dependencyParse(l),u=h.resolve(l);return u&&!h.versionSatisfies(u.version,s.range)?(x.warn("Plugin.dependencies:",h.toString(u),"does not satisfy",h.toString(s),"used by",h.toString(r)+"."),u._warned=!0,o._warned=!0):u||(x.warn("Plugin.dependencies:",h.toString(l),"used by",h.toString(r),"could not be resolved."),o._warned=!0),s.name});for(var n=0;n<a[i].length;n+=1)h.dependencies(a[i][n],a);return a}},h.dependencyParse=function(o){if(x.isString(o)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(o)||x.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},h.versionParse=function(o){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(o)||x.warn("Plugin.versionParse:",o,"is not a valid version or range.");var r=a.exec(o),i=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:o,operator:r[1]||r[2]||"",major:i,minor:n,patch:l,parts:[i,n,l],prerelease:r[7],number:i*1e8+n*1e4+l}},h.versionSatisfies=function(o,a){a=a||"*";var r=h.versionParse(a),i=h.versionParse(o);if(r.isRange){if(r.operator==="*"||o==="*")return!0;if(r.operator===">")return i.number>r.number;if(r.operator===">=")return i.number>=r.number;if(r.operator==="~")return i.major===r.major&&i.minor===r.minor&&i.patch>=r.patch;if(r.operator==="^")return r.major>0?i.major===r.major&&i.number>=r.number:r.minor>0?i.minor===r.minor&&i.patch>=r.patch:i.patch===r.patch}return o===a||o==="*"}})()},13037:(d,S,t)=>{var h={};d.exports=h;var x=t(35810),o=t(48413),a=t(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(i){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=a.extend(n,i);return l.fps=0,l},h.run=function(i,n){return i.timeBuffer=h._frameDeltaFallback,function l(s){i.frameRequestId=h._onNextFrame(i,l),s&&i.enabled&&h.tick(i,n,s)}(),i},h.tick=function(i,n,l){var s=a.now(),u=i.delta,f=0,c=l-i.timeLastTick;if((!c||!i.timeLastTick||c>Math.max(h._maxFrameDelta,i.maxFrameTime))&&(c=i.frameDelta||h._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(c),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var v=i.frameDeltaHistory.slice(0).sort(),g=i.frameDeltaHistory.slice(v.length*h._smoothingLowerBound,v.length*h._smoothingUpperBound),y=r(g);c=y||c}i.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),i.frameDelta=c,i.timeLastTick=l,i.timeBuffer+=i.frameDelta,i.timeBuffer=a.clamp(i.timeBuffer,0,i.frameDelta+u*h._timeBufferMargin),i.lastUpdatesDeferred=0;var T=i.maxUpdates||Math.ceil(i.maxFrameTime/u),E={timestamp:n.timing.timestamp};x.trigger(i,"beforeTick",E),x.trigger(i,"tick",E);for(var A=a.now();u>0&&i.timeBuffer>=u*h._timeBufferMargin;){x.trigger(i,"beforeUpdate",E),o.update(n,u),x.trigger(i,"afterUpdate",E),i.timeBuffer-=u,f+=1;var P=a.now()-s,w=a.now()-A,I=P+h._elapsedNextEstimate*w/f;if(f>=T||I>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/u-h._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=f,x.trigger(i,"afterTick",E),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/u)>T?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(i){h._cancelNextFrame(i)},h._onNextFrame=function(i,n){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},h._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(i){for(var n=0,l=i.length,s=0;s<l;s+=1)n+=i[s];return n/l||0};h._mean=r})()},53614:(d,S,t)=>{var h={};d.exports=h;var x=t(22562),o=t(35810),a=t(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(r,i){for(var n=i/a._baseDelta,l=h._motionSleepThreshold,s=0;s<r.length;s++){var u=r[s],f=x.getSpeed(u),c=x.getAngularSpeed(u),v=f*f+c*c;if(u.force.x!==0||u.force.y!==0){h.set(u,!1);continue}var g=Math.min(u.motion,v),y=Math.max(u.motion,v);u.motion=h._minBias*g+(1-h._minBias)*y,u.sleepThreshold>0&&u.motion<l?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/n&&h.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},h.afterCollisions=function(r){for(var i=h._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var s=l.collision,u=s.bodyA.parent,f=s.bodyB.parent;if(!(u.isSleeping&&f.isSleeping||u.isStatic||f.isStatic)&&(u.isSleeping||f.isSleeping)){var c=u.isSleeping&&!u.isStatic?u:f,v=c===u?f:u;!c.isStatic&&v.motion>i&&h.set(c,!1)}}}},h.set=function(r,i){var n=r.isSleeping;i?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||o.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&o.trigger(r,"sleepEnd"))}})()},66280:(d,S,t)=>{var h={};d.exports=h;var x=t(41598),o=t(53402),a=t(22562),r=t(15647),i=t(31725);(function(){h.rectangle=function(n,l,s,u,f){f=f||{};var c={label:"Rectangle Body",position:{x:n,y:l},vertices:x.fromPath("L 0 0 L "+s+" 0 L "+s+" "+u+" L 0 "+u)};if(f.chamfer){var v=f.chamfer;c.vertices=x.chamfer(c.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete f.chamfer}return a.create(o.extend({},c,f))},h.trapezoid=function(n,l,s,u,f,c){c=c||{},f>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var v=(1-f*2)*s,g=s*f,y=g+v,T=y+g,E;f<.5?E="L 0 0 L "+g+" "+-u+" L "+y+" "+-u+" L "+T+" 0":E="L 0 0 L "+y+" "+-u+" L "+T+" 0";var A={label:"Trapezoid Body",position:{x:n,y:l},vertices:x.fromPath(E)};if(c.chamfer){var P=c.chamfer;A.vertices=x.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete c.chamfer}return a.create(o.extend({},A,c))},h.circle=function(n,l,s,u,f){u=u||{};var c={label:"Circle Body",circleRadius:s};f=f||25;var v=Math.ceil(Math.max(10,Math.min(f,s)));return v%2===1&&(v+=1),h.polygon(n,l,v,s,o.extend({},c,u))},h.polygon=function(n,l,s,u,f){if(f=f||{},s<3)return h.circle(n,l,u,f);for(var c=2*Math.PI/s,v="",g=c*.5,y=0;y<s;y+=1){var T=g+y*c,E=Math.cos(T)*u,A=Math.sin(T)*u;v+="L "+E.toFixed(3)+" "+A.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:n,y:l},vertices:x.fromPath(v)};if(f.chamfer){var w=f.chamfer;P.vertices=x.chamfer(P.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete f.chamfer}return a.create(o.extend({},P,f))},h.fromVertices=function(n,l,s,u,f,c,v,g){var y=o.getDecomp(),T,E,A,P,w,I,O,F,L,D,b;for(T=!!(y&&y.quickDecomp),u=u||{},A=[],f=typeof f<"u"?f:!1,c=typeof c<"u"?c:.01,v=typeof v<"u"?v:10,g=typeof g<"u"?g:.01,o.isArray(s[0])||(s=[s]),D=0;D<s.length;D+=1)if(I=s[D],P=x.isConvex(I),w=!P,w&&!T&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),P||!T)P?I=x.clockwiseSort(I):I=x.hull(I),A.push({position:{x:n,y:l},vertices:I});else{var U=I.map(function(k){return[k.x,k.y]});y.makeCCW(U),c!==!1&&y.removeCollinearPoints(U,c),g!==!1&&y.removeDuplicatePoints&&y.removeDuplicatePoints(U,g);var W=y.quickDecomp(U);for(O=0;O<W.length;O++){var H=W[O],Y=H.map(function(k){return{x:k[0],y:k[1]}});v>0&&x.area(Y)<v||A.push({position:x.centre(Y),vertices:Y})}}for(O=0;O<A.length;O++)A[O]=a.create(o.extend(A[O],u));if(f){var G=5;for(O=0;O<A.length;O++){var X=A[O];for(F=O+1;F<A.length;F++){var V=A[F];if(r.overlaps(X.bounds,V.bounds)){var B=X.vertices,z=V.vertices;for(L=0;L<X.vertices.length;L++)for(b=0;b<V.vertices.length;b++){var $=i.magnitudeSquared(i.sub(B[(L+1)%B.length],z[b])),j=i.magnitudeSquared(i.sub(B[L],z[(b+1)%z.length]));$<G&&j<G&&(B[L].isInternal=!0,z[b].isInternal=!0)}}}}}return A.length>1?(E=a.create(o.extend({parts:A.slice(0)},u)),a.setPosition(E,{x:n,y:l}),E):A[0]},h.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var s=0;s<n.length;s++)for(var u=n[s],f=s+1;f<n.length;f++){var c=n[f];if(r.overlaps(u.bounds,c.bounds))for(var v=u.vertices,g=c.vertices,y=0;y<u.vertices.length;y++)for(var T=0;T<c.vertices.length;T++){var E=i.magnitudeSquared(i.sub(v[(y+1)%v.length],g[T])),A=i.magnitudeSquared(i.sub(v[y],g[(T+1)%g.length]));E<l&&A<l&&(v[y].isInternal=!0,g[T].isInternal=!0)}}return n}})()},74116:(d,S,t)=>{var h={};d.exports=h;var x=t(69351),o=t(48140),a=t(53402),r=t(22562),i=t(66280);(function(){h.stack=function(n,l,s,u,f,c,v){for(var g=x.create({label:"Stack"}),y=n,T=l,E,A=0,P=0;P<u;P++){for(var w=0,I=0;I<s;I++){var O=v(y,T,I,P,E,A);if(O){var F=O.bounds.max.y-O.bounds.min.y,L=O.bounds.max.x-O.bounds.min.x;F>w&&(w=F),r.translate(O,{x:L*.5,y:F*.5}),y=O.bounds.max.x+f,x.addBody(g,O),E=O,A+=1}else y+=f}T+=w+c,y=n}return g},h.chain=function(n,l,s,u,f,c){for(var v=n.bodies,g=1;g<v.length;g++){var y=v[g-1],T=v[g],E=y.bounds.max.y-y.bounds.min.y,A=y.bounds.max.x-y.bounds.min.x,P=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,I={bodyA:y,pointA:{x:A*l,y:E*s},bodyB:T,pointB:{x:w*u,y:P*f}},O=a.extend(I,c);x.addConstraint(n,o.create(O))}return n.label+=" Chain",n},h.mesh=function(n,l,s,u,f){var c=n.bodies,v,g,y,T,E;for(v=0;v<s;v++){for(g=1;g<l;g++)y=c[g-1+v*l],T=c[g+v*l],x.addConstraint(n,o.create(a.extend({bodyA:y,bodyB:T},f)));if(v>0)for(g=0;g<l;g++)y=c[g+(v-1)*l],T=c[g+v*l],x.addConstraint(n,o.create(a.extend({bodyA:y,bodyB:T},f))),u&&g>0&&(E=c[g-1+(v-1)*l],x.addConstraint(n,o.create(a.extend({bodyA:E,bodyB:T},f)))),u&&g<l-1&&(E=c[g+1+(v-1)*l],x.addConstraint(n,o.create(a.extend({bodyA:E,bodyB:T},f))))}return n.label+=" Mesh",n},h.pyramid=function(n,l,s,u,f,c,v){return h.stack(n,l,s,u,f,c,function(g,y,T,E,A,P){var w=Math.min(u,Math.ceil(s/2)),I=A?A.bounds.max.x-A.bounds.min.x:0;if(!(E>w)){E=w-E;var O=E,F=s-1-E;if(!(T<O||T>F)){P===1&&r.translate(A,{x:(T+(s%2===1?1:-1))*I,y:0});var L=A?T*I:0;return v(n+L+T*f,y,T,E,A,P)}}})},h.newtonsCradle=function(n,l,s,u,f){for(var c=x.create({label:"Newtons Cradle"}),v=0;v<s;v++){var g=1.9,y=i.circle(n+v*(u*g),l+f,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=o.create({pointA:{x:n+v*(u*g),y:l},bodyB:y});x.addBody(c,y),x.addConstraint(c,T)}return c},h.car=function(n,l,s,u,f){var c=r.nextGroup(!0),v=20,g=-s*.5+v,y=s*.5-v,T=0,E=x.create({label:"Car"}),A=i.rectangle(n,l,s,u,{collisionFilter:{group:c},chamfer:{radius:u*.5},density:2e-4}),P=i.circle(n+g,l+T,f,{collisionFilter:{group:c},friction:.8}),w=i.circle(n+y,l+T,f,{collisionFilter:{group:c},friction:.8}),I=o.create({bodyB:A,pointB:{x:g,y:T},bodyA:P,stiffness:1,length:0}),O=o.create({bodyB:A,pointB:{x:y,y:T},bodyA:w,stiffness:1,length:0});return x.addBody(E,A),x.addBody(E,P),x.addBody(E,w),x.addConstraint(E,I),x.addConstraint(E,O),E},h.softBody=function(n,l,s,u,f,c,v,g,y,T){y=a.extend({inertia:1/0},y),T=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var E=h.stack(n,l,s,u,f,c,function(A,P){return i.circle(A,P,g,y)});return h.mesh(E,s,u,v,T),E.label="Soft Body",E}})()},66615:(d,S,t)=>{var h={};d.exports=h;var x=t(31725),o=t(53402);(function(){h.fromVertices=function(a){for(var r={},i=0;i<a.length;i++){var n=(i+1)%a.length,l=x.normalise({x:a[n].y-a[i].y,y:a[i].x-a[n].x}),s=l.y===0?1/0:l.x/l.y;s=s.toFixed(3).toString(),r[s]=l}return o.values(r)},h.rotate=function(a,r){if(r!==0)for(var i=Math.cos(r),n=Math.sin(r),l=0;l<a.length;l++){var s=a[l],u;u=s.x*i-s.y*n,s.y=s.x*n+s.y*i,s.x=u}}})()},15647:d=>{var S={};d.exports=S,function(){S.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(h,t),h},S.update=function(t,h,x){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<h.length;o++){var a=h[o];a.x>t.max.x&&(t.max.x=a.x),a.x<t.min.x&&(t.min.x=a.x),a.y>t.max.y&&(t.max.y=a.y),a.y<t.min.y&&(t.min.y=a.y)}x&&(x.x>0?t.max.x+=x.x:t.min.x+=x.x,x.y>0?t.max.y+=x.y:t.min.y+=x.y)},S.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},S.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},S.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},S.shift=function(t,h){var x=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+x,t.min.y=h.y,t.max.y=h.y+o},S.wrap=function(t,h,x){var o=null,a=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(t.min.x>h.max.x?o=h.min.x-t.max.x:t.max.x<h.min.x&&(o=h.max.x-t.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(t.min.y>h.max.y?a=h.min.y-t.max.y:t.max.y<h.min.y&&(a=h.max.y-t.min.y)),o!==null||a!==null)return{x:o||0,y:a||0}}}()},74058:(d,S,t)=>{var h={};d.exports=h,t(15647);var x=t(53402);(function(){h.pathToVertices=function(o,a){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,i,n,l,s,u,f,c,v,g,y=[],T,E,A=0,P=0,w=0;a=a||15;var I=function(F,L,D){var b=D%2===1&&D>1;if(!v||F!=v.x||L!=v.y){v&&b?(T=v.x,E=v.y):(T=0,E=0);var U={x:T+F,y:E+L};(b||!v)&&(v=U),y.push(U),P=T+F,w=E+L}},O=function(F){var L=F.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":P=F.x,w=F.y;break;case"H":P=F.x;break;case"V":w=F.y;break}I(P,w,F.pathSegType)}};for(h._svgPathToAbsolute(o),n=o.getTotalLength(),u=[],r=0;r<o.pathSegList.numberOfItems;r+=1)u.push(o.pathSegList.getItem(r));for(f=u.concat();A<n;){if(g=o.getPathSegAtLength(A),s=u[g],s!=c){for(;f.length&&f[0]!=s;)O(f.shift());c=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(A),I(l.x,l.y,0);break}A+=a}for(r=0,i=f.length;r<i;++r)O(f[r]);return y},h._svgPathToAbsolute=function(o){for(var a,r,i,n,l,s,u=o.pathSegList,f=0,c=0,v=u.numberOfItems,g=0;g<v;++g){var y=u.getItem(g),T=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in y&&(f=y.x),"y"in y&&(c=y.y);else switch("x1"in y&&(i=f+y.x1),"x2"in y&&(l=f+y.x2),"y1"in y&&(n=c+y.y1),"y2"in y&&(s=c+y.y2),"x"in y&&(f+=y.x),"y"in y&&(c+=y.y),T){case"m":u.replaceItem(o.createSVGPathSegMovetoAbs(f,c),g);break;case"l":u.replaceItem(o.createSVGPathSegLinetoAbs(f,c),g);break;case"h":u.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(f),g);break;case"v":u.replaceItem(o.createSVGPathSegLinetoVerticalAbs(c),g);break;case"c":u.replaceItem(o.createSVGPathSegCurvetoCubicAbs(f,c,i,n,l,s),g);break;case"s":u.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(f,c,l,s),g);break;case"q":u.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(f,c,i,n),g);break;case"t":u.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(f,c),g);break;case"a":u.replaceItem(o.createSVGPathSegArcAbs(f,c,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),g);break;case"z":case"Z":f=a,c=r;break}(T=="M"||T=="m")&&(a=f,r=c)}}})()},31725:d=>{var S={};d.exports=S,function(){S.create=function(t,h){return{x:t||0,y:h||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,h,x){var o=Math.cos(h),a=Math.sin(h);x||(x={});var r=t.x*o-t.y*a;return x.y=t.x*a+t.y*o,x.x=r,x},S.rotateAbout=function(t,h,x,o){var a=Math.cos(h),r=Math.sin(h);o||(o={});var i=x.x+((t.x-x.x)*a-(t.y-x.y)*r);return o.y=x.y+((t.x-x.x)*r+(t.y-x.y)*a),o.x=i,o},S.normalise=function(t){var h=S.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},S.dot=function(t,h){return t.x*h.x+t.y*h.y},S.cross=function(t,h){return t.x*h.y-t.y*h.x},S.cross3=function(t,h,x){return(h.x-t.x)*(x.y-t.y)-(h.y-t.y)*(x.x-t.x)},S.add=function(t,h,x){return x||(x={}),x.x=t.x+h.x,x.y=t.y+h.y,x},S.sub=function(t,h,x){return x||(x={}),x.x=t.x-h.x,x.y=t.y-h.y,x},S.mult=function(t,h){return{x:t.x*h,y:t.y*h}},S.div=function(t,h){return{x:t.x/h,y:t.y/h}},S.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},41598:(d,S,t)=>{var h={};d.exports=h;var x=t(31725),o=t(53402);(function(){h.create=function(a,r){for(var i=[],n=0;n<a.length;n++){var l=a[n],s={x:l.x,y:l.y,index:n,body:r,isInternal:!1};i.push(s)}return i},h.fromPath=function(a,r){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return a.replace(i,function(l,s,u){n.push({x:parseFloat(s),y:parseFloat(u)})}),h.create(n,r)},h.centre=function(a){for(var r=h.area(a,!0),i={x:0,y:0},n,l,s,u=0;u<a.length;u++)s=(u+1)%a.length,n=x.cross(a[u],a[s]),l=x.mult(x.add(a[u],a[s]),n),i=x.add(i,l);return x.div(i,6*r)},h.mean=function(a){for(var r={x:0,y:0},i=0;i<a.length;i++)r.x+=a[i].x,r.y+=a[i].y;return x.div(r,a.length)},h.area=function(a,r){for(var i=0,n=a.length-1,l=0;l<a.length;l++)i+=(a[n].x-a[l].x)*(a[n].y+a[l].y),n=l;return r?i/2:Math.abs(i)/2},h.inertia=function(a,r){for(var i=0,n=0,l=a,s,u,f=0;f<l.length;f++)u=(f+1)%l.length,s=Math.abs(x.cross(l[u],l[f])),i+=s*(x.dot(l[u],l[u])+x.dot(l[u],l[f])+x.dot(l[f],l[f])),n+=s;return r/6*(i/n)},h.translate=function(a,r,i){i=typeof i<"u"?i:1;var n=a.length,l=r.x*i,s=r.y*i,u;for(u=0;u<n;u++)a[u].x+=l,a[u].y+=s;return a},h.rotate=function(a,r,i){if(r!==0){var n=Math.cos(r),l=Math.sin(r),s=i.x,u=i.y,f=a.length,c,v,g,y;for(y=0;y<f;y++)c=a[y],v=c.x-s,g=c.y-u,c.x=s+(v*n-g*l),c.y=u+(v*l+g*n);return a}},h.contains=function(a,r){for(var i=r.x,n=r.y,l=a.length,s=a[l-1],u,f=0;f<l;f++){if(u=a[f],(i-s.x)*(u.y-s.y)+(n-s.y)*(s.x-u.x)>0)return!1;s=u}return!0},h.scale=function(a,r,i,n){if(r===1&&i===1)return a;n=n||h.centre(a);for(var l,s,u=0;u<a.length;u++)l=a[u],s=x.sub(l,n),a[u].x=n.x+s.x*r,a[u].y=n.y+s.y*i;return a},h.chamfer=function(a,r,i,n,l){typeof r=="number"?r=[r]:r=r||[8],i=typeof i<"u"?i:-1,n=n||2,l=l||14;for(var s=[],u=0;u<a.length;u++){var f=a[u-1>=0?u-1:a.length-1],c=a[u],v=a[(u+1)%a.length],g=r[u<r.length?u:r.length-1];if(g===0){s.push(c);continue}var y=x.normalise({x:c.y-f.y,y:f.x-c.x}),T=x.normalise({x:v.y-c.y,y:c.x-v.x}),E=Math.sqrt(2*Math.pow(g,2)),A=x.mult(o.clone(y),g),P=x.normalise(x.mult(x.add(y,T),.5)),w=x.sub(c,x.mult(P,E)),I=i;i===-1&&(I=Math.pow(g,.32)*1.75),I=o.clamp(I,n,l),I%2===1&&(I+=1);for(var O=Math.acos(x.dot(y,T)),F=O/I,L=0;L<I;L++)s.push(x.add(x.rotate(A,F*L),w))}return s},h.clockwiseSort=function(a){var r=h.mean(a);return a.sort(function(i,n){return x.angle(r,i)-x.angle(r,n)}),a},h.isConvex=function(a){var r=0,i=a.length,n,l,s,u;if(i<3)return null;for(n=0;n<i;n++)if(l=(n+1)%i,s=(n+2)%i,u=(a[l].x-a[n].x)*(a[s].y-a[l].y),u-=(a[l].y-a[n].y)*(a[s].x-a[l].x),u<0?r|=1:u>0&&(r|=2),r===3)return!1;return r!==0?!0:null},h.hull=function(a){var r=[],i=[],n,l;for(a=a.slice(0),a.sort(function(s,u){var f=s.x-u.x;return f!==0?f:s.y-u.y}),l=0;l<a.length;l+=1){for(n=a[l];i.length>=2&&x.cross3(i[i.length-2],i[i.length-1],n)<=0;)i.pop();i.push(n)}for(l=a.length-1;l>=0;l-=1){for(n=a[l];r.length>=2&&x.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),i.pop(),r.concat(i)}})()},55973:d=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={decomp:O,quickDecomp:b,isSimple:L,removeCollinearPoints:U,removeDuplicatePoints:W,makeCCW:v};function S(G,X,V){V=V||0;var B=[0,0],z,$,j,k,q,Q,Z;return z=G[1][1]-G[0][1],$=G[0][0]-G[1][0],j=z*G[0][0]+$*G[0][1],k=X[1][1]-X[0][1],q=X[0][0]-X[1][0],Q=k*X[0][0]+q*X[0][1],Z=z*q-k*$,H(Z,0,V)||(B[0]=(q*j-$*Q)/Z,B[1]=(z*Q-k*j)/Z),B}function t(G,X,V,B){var z=X[0]-G[0],$=X[1]-G[1],j=B[0]-V[0],k=B[1]-V[1];if(j*$-k*z===0)return!1;var q=(z*(V[1]-G[1])+$*(G[0]-V[0]))/(j*$-k*z),Q=(j*(G[1]-V[1])+k*(V[0]-G[0]))/(k*z-j*$);return q>=0&&q<=1&&Q>=0&&Q<=1}function h(G,X,V){return(X[0]-G[0])*(V[1]-G[1])-(V[0]-G[0])*(X[1]-G[1])}function x(G,X,V){return h(G,X,V)>0}function o(G,X,V){return h(G,X,V)>=0}function a(G,X,V){return h(G,X,V)<0}function r(G,X,V){return h(G,X,V)<=0}var i=[],n=[];function l(G,X,V,B){if(B){var z=i,$=n;z[0]=X[0]-G[0],z[1]=X[1]-G[1],$[0]=V[0]-X[0],$[1]=V[1]-X[1];var j=z[0]*$[0]+z[1]*$[1],k=Math.sqrt(z[0]*z[0]+z[1]*z[1]),q=Math.sqrt($[0]*$[0]+$[1]*$[1]),Q=Math.acos(j/(k*q));return Q<B}else return h(G,X,V)===0}function s(G,X){var V=X[0]-G[0],B=X[1]-G[1];return V*V+B*B}function u(G,X){var V=G.length;return G[X<0?X%V+V:X%V]}function f(G){G.length=0}function c(G,X,V,B){for(var z=V;z<B;z++)G.push(X[z])}function v(G){for(var X=0,V=G,B=1;B<G.length;++B)(V[B][1]<V[X][1]||V[B][1]===V[X][1]&&V[B][0]>V[X][0])&&(X=B);return x(u(G,X-1),u(G,X),u(G,X+1))?!1:(g(G),!0)}function g(G){for(var X=[],V=G.length,B=0;B!==V;B++)X.push(G.pop());for(var B=0;B!==V;B++)G[B]=X[B]}function y(G,X){return a(u(G,X-1),u(G,X),u(G,X+1))}var T=[],E=[];function A(G,X,V){var B,z,$=T,j=E;if(o(u(G,X+1),u(G,X),u(G,V))&&r(u(G,X-1),u(G,X),u(G,V)))return!1;z=s(u(G,X),u(G,V));for(var k=0;k!==G.length;++k)if(!((k+1)%G.length===X||k===X)&&o(u(G,X),u(G,V),u(G,k+1))&&r(u(G,X),u(G,V),u(G,k))&&($[0]=u(G,X),$[1]=u(G,V),j[0]=u(G,k),j[1]=u(G,k+1),B=S($,j),s(u(G,X),B)<z))return!1;return!0}function P(G,X,V){for(var B=0;B!==G.length;++B)if(!(B===X||B===V||(B+1)%G.length===X||(B+1)%G.length===V)&&t(u(G,X),u(G,V),u(G,B),u(G,B+1)))return!1;return!0}function w(G,X,V,B){var z=B||[];if(f(z),X<V)for(var $=X;$<=V;$++)z.push(G[$]);else{for(var $=0;$<=V;$++)z.push(G[$]);for(var $=X;$<G.length;$++)z.push(G[$])}return z}function I(G){for(var X=[],V=[],B=[],z=[],$=Number.MAX_VALUE,j=0;j<G.length;++j)if(y(G,j)){for(var k=0;k<G.length;++k)if(A(G,j,k)){V=I(w(G,j,k,z)),B=I(w(G,k,j,z));for(var q=0;q<B.length;q++)V.push(B[q]);V.length<$&&(X=V,$=V.length,X.push([u(G,j),u(G,k)]))}}return X}function O(G){var X=I(G);return X.length>0?F(G,X):[G]}function F(G,X){if(X.length===0)return[G];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var V=[G],B=0;B<X.length;B++)for(var z=X[B],$=0;$<V.length;$++){var j=V[$],k=F(j,z);if(k){V.splice($,1),V.push(k[0],k[1]);break}}return V}else{var z=X,B=G.indexOf(z[0]),$=G.indexOf(z[1]);return B!==-1&&$!==-1?[w(G,B,$),w(G,$,B)]:!1}}function L(G){var X=G,V;for(V=0;V<X.length-1;V++)for(var B=0;B<V-1;B++)if(t(X[V],X[V+1],X[B],X[B+1]))return!1;for(V=1;V<X.length-2;V++)if(t(X[0],X[X.length-1],X[V],X[V+1]))return!1;return!0}function D(G,X,V,B,z){z=z||0;var $=X[1]-G[1],j=G[0]-X[0],k=$*G[0]+j*G[1],q=B[1]-V[1],Q=V[0]-B[0],Z=q*V[0]+Q*V[1],_=$*Q-q*j;return H(_,0,z)?[0,0]:[(Q*k-j*Z)/_,($*Z-q*k)/_]}function b(G,X,V,B,z,$,j){$=$||100,j=j||0,z=z||25,X=typeof X<"u"?X:[],V=V||[],B=B||[];var k=[0,0],q=[0,0],Q=[0,0],Z=0,_=0,et=0,it=0,st=0,nt=0,lt=0,ut=[],ot=[],rt=G,ht=G;if(ht.length<3)return X;if(j++,j>$)return console.warn("quickDecomp: max level ("+$+") reached."),X;for(var dt=0;dt<G.length;++dt)if(y(rt,dt)){V.push(rt[dt]),Z=_=Number.MAX_VALUE;for(var xt=0;xt<G.length;++xt)x(u(rt,dt-1),u(rt,dt),u(rt,xt))&&r(u(rt,dt-1),u(rt,dt),u(rt,xt-1))&&(Q=D(u(rt,dt-1),u(rt,dt),u(rt,xt),u(rt,xt-1)),a(u(rt,dt+1),u(rt,dt),Q)&&(et=s(rt[dt],Q),et<_&&(_=et,q=Q,nt=xt))),x(u(rt,dt+1),u(rt,dt),u(rt,xt+1))&&r(u(rt,dt+1),u(rt,dt),u(rt,xt))&&(Q=D(u(rt,dt+1),u(rt,dt),u(rt,xt),u(rt,xt+1)),x(u(rt,dt-1),u(rt,dt),Q)&&(et=s(rt[dt],Q),et<Z&&(Z=et,k=Q,st=xt)));if(nt===(st+1)%G.length)Q[0]=(q[0]+k[0])/2,Q[1]=(q[1]+k[1])/2,B.push(Q),dt<st?(c(ut,rt,dt,st+1),ut.push(Q),ot.push(Q),nt!==0&&c(ot,rt,nt,rt.length),c(ot,rt,0,dt+1)):(dt!==0&&c(ut,rt,dt,rt.length),c(ut,rt,0,st+1),ut.push(Q),ot.push(Q),c(ot,rt,nt,dt+1));else{if(nt>st&&(st+=G.length),it=Number.MAX_VALUE,st<nt)return X;for(var xt=nt;xt<=st;++xt)o(u(rt,dt-1),u(rt,dt),u(rt,xt))&&r(u(rt,dt+1),u(rt,dt),u(rt,xt))&&(et=s(u(rt,dt),u(rt,xt)),et<it&&P(rt,dt,xt)&&(it=et,lt=xt%G.length));dt<lt?(c(ut,rt,dt,lt+1),lt!==0&&c(ot,rt,lt,ht.length),c(ot,rt,0,dt+1)):(dt!==0&&c(ut,rt,dt,ht.length),c(ut,rt,0,lt+1),c(ot,rt,lt,dt+1))}return ut.length<ot.length?(b(ut,X,V,B,z,$,j),b(ot,X,V,B,z,$,j)):(b(ot,X,V,B,z,$,j),b(ut,X,V,B,z,$,j)),X}return X.push(G),X}function U(G,X){for(var V=0,B=G.length-1;G.length>3&&B>=0;--B)l(u(G,B-1),u(G,B),u(G,B+1),X)&&(G.splice(B%G.length,1),V++);return V}function W(G,X){for(var V=G.length-1;V>=1;--V)for(var B=G[V],z=V-1;z>=0;--z)if(Y(B,G[z],X)){G.splice(V,1);continue}}function H(G,X,V){return V=V||0,Math.abs(G-X)<=V}function Y(G,X,V){return H(G[0],X[0],V)&&H(G[1],X[1],V)}},52018:(d,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(83419),x=new h({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});d.exports=x},42363:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};d.exports=S},37277:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},h={};h.register=function(x,o,a,r){r===void 0&&(r=!1),S[x]={plugin:o,mapping:a,custom:r}},h.registerCustom=function(x,o,a,r){t[x]={plugin:o,mapping:a,data:r}},h.hasCore=function(x){return S.hasOwnProperty(x)},h.hasCustom=function(x){return t.hasOwnProperty(x)},h.getCore=function(x){return S[x]},h.getCustom=function(x){return t[x]},h.getCustomClass=function(x){return t.hasOwnProperty(x)?t[x].plugin:null},h.remove=function(x){S.hasOwnProperty(x)&&delete S[x]},h.removeCustom=function(x){t.hasOwnProperty(x)&&delete t[x]},h.destroyCorePlugins=function(){for(var x in S)S.hasOwnProperty(x)&&delete S[x]},h.destroyCustomPlugins=function(){for(var x in t)t.hasOwnProperty(x)&&delete t[x]},d.exports=h},77332:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(8443),o=t(50792),a=t(74099),r=t(44603),i=t(39429),n=t(95540),l=t(37277),s=t(72905),u=t(8054),f=new h({Extends:o,initialize:function(v){o.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted||v.config.renderType===u.HEADLESS?this.boot():v.events.once(x.BOOT,this.boot,this)},boot:function(){var c,v,g,y,T,E,A,P=this.game.config,w=P.installGlobalPlugins;for(w=w.concat(this._pendingGlobal),c=0;c<w.length;c++)v=w[c],g=n(v,"key",null),y=n(v,"plugin",null),T=n(v,"start",!1),E=n(v,"mapping",null),A=n(v,"data",null),g&&(y?this.install(g,y,T,E,A):console.warn("Missing `plugin` for key: "+g));for(w=P.installScenePlugins,w=w.concat(this._pendingScene),c=0;c<w.length;c++)v=w[c],g=n(v,"key",null),y=n(v,"plugin",null),E=n(v,"mapping",null),g&&(y?this.installScenePlugin(g,y,E):console.warn("Missing `plugin` for key: "+g));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(c,v,g){var y,T,E,A=this.game,P=c.scene,w=c.settings.map,I=c.settings.isBooted;for(y=0;y<v.length;y++)T=v[y],A[T]?(c[T]=A[T],w.hasOwnProperty(T)&&(P[w[T]]=c[T])):T==="game"&&w.hasOwnProperty(T)&&(P[w[T]]=A);for(var O=0;O<g.length;O++)for(E=g[O],y=0;y<E.length;y++)if(T=E[y],!!l.hasCore(T)){var F=l.getCore(T),L=F.mapping,D=new F.plugin(P,this,L);c[L]=D,F.custom?P[L]=D:w.hasOwnProperty(L)&&(P[w[L]]=D),I&&D.boot()}for(E=this.plugins,y=0;y<E.length;y++){var b=E[y];b.mapping&&(P[b.mapping]=b.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,v,g,y,T){if(T===void 0&&(T=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(l.hasCore(c)||l.register(c,v,g,!0),this.scenePlugins.indexOf(c)===-1)this.scenePlugins.push(c);else if(!T&&l.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(y){var E=new v(y,this,c);y.sys[c]=E,g&&g!==""&&(y[g]=E),E.boot()}},install:function(c,v,g,y,T){if(g===void 0&&(g=!1),y===void 0&&(y=null),T===void 0&&(T=null),typeof v!="function")return console.warn("Invalid Plugin: "+c),null;if(l.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(y!==null&&(g=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:v,start:g,mapping:y,data:T});else if(l.registerCustom(c,v,y,T),g)return this.start(c);return null},getIndex:function(c){for(var v=this.plugins,g=0;g<v.length;g++){var y=v[g];if(y.key===c)return g}return-1},getEntry:function(c){var v=this.getIndex(c);if(v!==-1)return this.plugins[v]},isActive:function(c){var v=this.getEntry(c);return v&&v.active},start:function(c,v){v===void 0&&(v=c);var g=this.getEntry(v);return g&&!g.active?(g.active=!0,g.plugin.start()):g||(g=this.createEntry(c,v)),g?g.plugin:null},createEntry:function(c,v){var g=l.getCustom(c);if(g){var y=new g.plugin(this);g={key:v,plugin:y,active:!0,mapping:g.mapping,data:g.data},this.plugins.push(g),y.init(g.data),y.start()}return g},stop:function(c){var v=this.getEntry(c);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(c,v){v===void 0&&(v=!0);var g=this.getEntry(c);if(g)return g.plugin;var y=this.getClass(c);return y&&v?(g=this.createEntry(c,c),g?g.plugin:null):y||null},getClass:function(c){return l.getCustomClass(c)},removeGlobalPlugin:function(c){var v=this.getEntry(c);v&&s(this.plugins,v),l.removeCustom(c)},removeScenePlugin:function(c){s(this.scenePlugins,c),l.remove(c)},registerGameObject:function(c,v,g){return v&&i.register(c,v),g&&r.register(c,g),this},removeGameObject:function(c,v,g){return v===void 0&&(v=!0),g===void 0&&(g=!0),v&&i.remove(c),g&&r.remove(c),this},registerFileType:function(c,v,g){a.register(c,v),g&&g.sys.load&&(g.sys.load[c]=v)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});d.exports=f},45145:(d,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(52018),x=t(83419),o=t(44594),a=new x({Extends:h,initialize:function(i,n,l){h.call(this,n),this.scene=i,this.systems=i.sys,this.pluginKey=l,i.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});d.exports=a},18922:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(d){const S=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,x=(o,a)=>{const r=this.getVideoPlaybackQuality(),i=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(i>h){const n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=a-o;d(a,{presentationTime:a+n*1e3,expectedDisplayTime:a+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:i,processingDuration:n}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(n=>x(a,n))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(o=>x(S,o)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(d){cancelAnimationFrame(this._rvfcpolyfillmap[d]),delete this._rvfcpolyfillmap[d]})},10312:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};d.exports=S},68627:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19715),x=t(32880),o=t(83419),a=t(8054),r=t(50792),i=t(92503),n=t(56373),l=t(97480),s=t(69442),u=t(8443),f=t(61340),c=new o({Extends:r,initialize:function(g){r.call(this);var y=g.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels,transparent:y.transparent},this.game=g,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=g.canvas;var T={alpha:y.transparent,desynchronized:y.desynchronized,willReadFrequently:!1};this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=y.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){var v=this.game;v.events.once(u.BOOT,function(){var g=this.config;if(!g.transparent){var y=this.gameContext,T=this.gameCanvas;y.fillStyle=g.backgroundColor.rgba,y.fillRect(0,0,T.width,T.height)}},this),v.textures.once(s.READY,this.boot,this)},boot:function(){var v=this.game,g=v.scale.baseSize;this.width=g.width,this.height=g.height,this.isBooted=!0,v.scale.on(l.RESIZE,this.onResize,this),this.resize(g.width,g.height)},onResize:function(v,g){(g.width!==this.width||g.height!==this.height)&&this.resize(g.width,g.height)},resize:function(v,g){this.width=v,this.height=g,this.emit(i.RESIZE,v,g)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,g=this.config,y=this.width,T=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),this.emit(i.PRE_RENDER_CLEAR),g.clearBeforeRender&&(v.clearRect(0,0,y,T),g.transparent||(v.fillStyle=g.backgroundColor.rgba,v.fillRect(0,0,y,T))),v.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(v,g,y){var T=g.length;this.emit(i.RENDER,v,y);var E=y.x,A=y.y,P=y.width,w=y.height,I=y.renderToTexture?y.context:v.sys.context;I.save(),this.game.scene.customViewports&&(I.beginPath(),I.rect(E,A,P,w),I.clip()),y.emit(h.PRE_RENDER,y),this.currentContext=I;var O=y.mask;O&&O.preRenderCanvas(this,null,y._maskCamera),y.transparent||(I.fillStyle=y.backgroundColor.rgba,I.fillRect(E,A,P,w)),I.globalAlpha=y.alpha,I.globalCompositeOperation="source-over",this.drawCount+=T,y.renderToTexture&&y.emit(h.PRE_RENDER,y),y.matrix.copyToContext(I);for(var F=0;F<T;F++){var L=g[F];L.mask&&L.mask.preRenderCanvas(this,L,y),L.renderCanvas(this,L,y),L.mask&&L.mask.postRenderCanvas(this,L,y)}I.setTransform(1,0,0,1,0,0),I.globalCompositeOperation="source-over",I.globalAlpha=1,y.flashEffect.postRenderCanvas(I),y.fadeEffect.postRenderCanvas(I),y.dirty=!1,O&&O.postRenderCanvas(this),I.restore(),y.renderToTexture&&(y.emit(h.POST_RENDER,y),y.renderToGame&&v.sys.context.drawImage(y.canvas,E,A)),y.emit(h.POST_RENDER,y)},postRender:function(){var v=this.gameContext;v.restore(),this.emit(i.POST_RENDER);var g=this.snapshotState;g.callback&&(x(this.gameCanvas,g),g.callback=null)},snapshotCanvas:function(v,g,y,T,E,A,P,w,I){y===void 0&&(y=!1),this.snapshotArea(T,E,A,P,g,w,I);var O=this.snapshotState;return O.getPixel=y,x(v,O),O.callback=null,this},snapshot:function(v,g,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,g,y)},snapshotArea:function(v,g,y,T,E,A,P){var w=this.snapshotState;return w.callback=E,w.type=A,w.encoder=P,w.getPixel=!1,w.x=v,w.y=g,w.width=Math.min(y,this.gameCanvas.width),w.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(v,g,y){return this.snapshotArea(v,g,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(v,g,y,T){var E=y.alpha*v.alpha;if(E!==0){var A=this.currentContext,P=this._tempMatrix1,w=this._tempMatrix2,I=g.canvasData,O=I.x,F=I.y,L=g.cutWidth,D=g.cutHeight,b=g.customPivot,U=g.source.resolution,W=v.displayOriginX,H=v.displayOriginY,Y=-W+g.x,G=-H+g.y;if(v.isCropped){var X=v._crop;(X.flipX!==v.flipX||X.flipY!==v.flipY)&&g.updateCropUVs(X,v.flipX,v.flipY),L=X.cw,D=X.ch,O=X.cx,F=X.cy,Y=-W+X.x,G=-H+X.y,v.flipX&&(Y>=0?Y=-(Y+L):Y<0&&(Y=Math.abs(Y)-L)),v.flipY&&(G>=0?G=-(G+D):G<0&&(G=Math.abs(G)-D))}var V=1,B=1;v.flipX&&(b||(Y+=-g.realWidth+W*2),V=-1),v.flipY&&(b||(G+=-g.realHeight+H*2),B=-1);var z=v.x,$=v.y;if(y.roundPixels&&(z=Math.floor(z),$=Math.floor($)),w.applyITRS(z,$,v.rotation,v.scaleX*V,v.scaleY*B),P.copyFrom(y.matrix),T?(P.multiplyWithOffset(T,-y.scrollX*v.scrollFactorX,-y.scrollY*v.scrollFactorY),w.e=z,w.f=$):(w.e-=y.scrollX*v.scrollFactorX,w.f-=y.scrollY*v.scrollFactorY),P.multiply(w),y.renderRoundPixels&&(P.e=Math.floor(P.e+.5),P.f=Math.floor(P.f+.5)),A.save(),P.setToContext(A),A.globalCompositeOperation=this.blendModes[v.blendMode],A.globalAlpha=E,A.imageSmoothingEnabled=!g.source.scaleMode,v.mask&&v.mask.preRenderCanvas(this,v,y),L>0&&D>0){var j=L/U,k=D/U;y.roundPixels&&(Y=Math.floor(Y+.5),G=Math.floor(G+.5),j+=.5,k+=.5),A.drawImage(g.source.image,O,F,L,D,Y,G,j,k)}v.mask&&v.mask.postRenderCanvas(this,v,y),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});d.exports=c},55830:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(89289),o=function(){var a=[],r=x.supportNewBlendModes,i="source-over";return a[h.NORMAL]=i,a[h.ADD]="lighter",a[h.MULTIPLY]=r?"multiply":i,a[h.SCREEN]=r?"screen":i,a[h.OVERLAY]=r?"overlay":i,a[h.DARKEN]=r?"darken":i,a[h.LIGHTEN]=r?"lighten":i,a[h.COLOR_DODGE]=r?"color-dodge":i,a[h.COLOR_BURN]=r?"color-burn":i,a[h.HARD_LIGHT]=r?"hard-light":i,a[h.SOFT_LIGHT]=r?"soft-light":i,a[h.DIFFERENCE]=r?"difference":i,a[h.EXCLUSION]=r?"exclusion":i,a[h.HUE]=r?"hue":i,a[h.SATURATION]=r?"saturation":i,a[h.COLOR]=r?"color":i,a[h.LUMINOSITY]=r?"luminosity":i,a[h.ERASE]="destination-out",a[h.SOURCE_IN]="source-in",a[h.SOURCE_OUT]="source-out",a[h.SOURCE_ATOP]="source-atop",a[h.DESTINATION_OVER]="destination-over",a[h.DESTINATION_IN]="destination-in",a[h.DESTINATION_OUT]="destination-out",a[h.DESTINATION_ATOP]="destination-atop",a[h.LIGHTER]="lighter",a[h.COPY]="copy",a[h.XOR]="xor",a};d.exports=o},20926:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),x=function(o,a,r,i,n){var l=i.alpha*r.alpha;if(l<=0)return!1;var s=h(r,i,n).calc;return a.globalCompositeOperation=o.blendModes[r.blendMode],a.globalAlpha=l,a.save(),s.setToContext(a),a.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:o.antialias,!0};d.exports=x},63899:d=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="losewebgl"},6119:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="postrender"},48070:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="prerender"},15640:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="render"},8912:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resize"},87124:d=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="restorewebgl"},92503:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Events:t(92503),Snapshot:t(89966)},d.exports.Canvas=t(55830),d.exports.WebGL=t(4159)},32880:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(40987),o=t(95540),a=function(r,i){var n=o(i,"callback"),l=o(i,"type","image/png"),s=o(i,"encoder",.92),u=Math.abs(Math.round(o(i,"x",0))),f=Math.abs(Math.round(o(i,"y",0))),c=Math.floor(o(i,"width",r.width)),v=Math.floor(o(i,"height",r.height)),g=o(i,"getPixel",!1);if(g){var y=r.getContext("2d",{willReadFrequently:!1}),T=y.getImageData(u,f,1,1),E=T.data;n.call(null,new x(E[0],E[1],E[2],E[3]))}else if(u!==0||f!==0||c!==r.width||v!==r.height){var A=h.createWebGL(this,c,v),P=A.getContext("2d",{willReadFrequently:!0});c>0&&v>0&&P.drawImage(r,u,f,c,v,0,0,c,v);var w=new Image;w.onerror=function(){n.call(null),h.remove(A)},w.onload=function(){n.call(null,w),h.remove(A)},w.src=A.toDataURL(l,s)}else{var I=new Image;I.onerror=function(){n.call(null)},I.onload=function(){n.call(null,I)},I.src=r.toDataURL(l,s)}};d.exports=a},88815:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(40987),o=t(95540),a=function(r,i){var n=r,l=o(i,"callback"),s=o(i,"type","image/png"),u=o(i,"encoder",.92),f=Math.abs(Math.round(o(i,"x",0))),c=Math.abs(Math.round(o(i,"y",0))),v=o(i,"getPixel",!1),g=o(i,"isFramebuffer",!1),y=g?o(i,"bufferWidth",1):n.drawingBufferWidth,T=g?o(i,"bufferHeight",1):n.drawingBufferHeight;if(v){var E=new Uint8Array(4),A=g?c:T-c;n.readPixels(f,A,1,1,n.RGBA,n.UNSIGNED_BYTE,E),l.call(null,new x(E[0],E[1],E[2],E[3]))}else{var P=Math.floor(o(i,"width",y)),w=Math.floor(o(i,"height",T)),I=P*w*4,O=new Uint8Array(I);n.readPixels(f,T-c-w,P,w,n.RGBA,n.UNSIGNED_BYTE,O);for(var F=h.createWebGL(this,P,w),L=F.getContext("2d",{willReadFrequently:!0}),D=L.getImageData(0,0,P,w),b=D.data,U=0;U<w;U++)for(var W=0;W<P;W++){var H=((w-U-1)*P+W)*4,Y=g?I-(U*P+(P-W))*4:(U*P+W)*4;b[Y+0]=O[H+0],b[Y+1]=O[H+1],b[Y+2]=O[H+2],b[Y+3]=O[H+3]}L.putImageData(D,0,0);var G=new Image;G.onerror=function(){l.call(null),h.remove(F)},G.onload=function(){l.call(null,G),h.remove(F)},G.src=F.toDataURL(s,u)}};d.exports=a},89966:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(36060),o=t(90330),a=t(82264),r=t(95540),i=t(32302),n=t(63448),l=t(31302),s=t(58918),u=t(14811),f=t(92651),c=t(96569),v=t(56527),g=t(57516),y=t(43439),T=t(81041),E=t(12385),A=t(7589),P=t(95428),w=t(72905),I=new h({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new o([[x.UTILITY_PIPELINE,A],[x.MULTI_PIPELINE,g],[x.BITMAPMASK_PIPELINE,l],[x.SINGLE_PIPELINE,E],[x.ROPE_PIPELINE,T],[x.LIGHT_PIPELINE,c],[x.POINTLIGHT_PIPELINE,y],[x.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(O,F,L){var D=this.renderer,b=this.renderTargets;this.frameInc=Math.floor(r(O,"frameInc",32));var U=D.width,W=D.height,H=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(u.BARREL),s.Barrel],[String(u.BLOOM),s.Bloom],[String(u.BLUR),s.Blur],[String(u.BOKEH),s.Bokeh],[String(u.CIRCLE),s.Circle],[String(u.COLOR_MATRIX),s.ColorMatrix],[String(u.DISPLACEMENT),s.Displacement],[String(u.GLOW),s.Glow],[String(u.GRADIENT),s.Gradient],[String(u.PIXELATE),s.Pixelate],[String(u.SHADOW),s.Shadow],[String(u.SHINE),s.Shine],[String(u.VIGNETTE),s.Vignette],[String(u.WIPE),s.Wipe]]),!H){this.classes.set(x.FX_PIPELINE,f);for(var G=Math.min(U,W),X=Math.ceil(G/this.frameInc),V=1;V<X;V++){var B=V*this.frameInc;b.push(new i(D,B,B)),b.push(new i(D,B,B)),b.push(new i(D,B,B)),this.maxDimension=B}b.push(new i(D,U,W,1,0,!0,!0)),b.push(new i(D,U,W,1,0,!0,!0)),b.push(new i(D,U,W,1,0,!0,!0))}var z,$,j=this,k=this.game;if(this.classes.each(function(Q,Z){z=j.add(Q,new Z({game:k})),Q===x.UTILITY_PIPELINE&&(j.UTILITY_PIPELINE=z,j.fullFrame1=z.fullFrame1,j.fullFrame2=z.fullFrame2,j.halfFrame1=z.halfFrame1,j.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),O)for($ in O){var q=O[$];z=new q(k),z.name=$,z.isPostFX?this.postPipelineClasses.set($,q):this.has($)||(this.classes.set($,q),this.add($,z))}this.default=this.get(F),L&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(O){var F=this.get(O);return F&&(this.default=F),F},add:function(O,F){if(F.isPostFX){console.warn(O+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,D=this.renderer;return L.has(O)?console.warn("Pipeline exists: "+O):(F.name=O,F.manager=this,L.set(O,F)),F.hasBooted||F.boot(),D.width!==0&&D.height!==0&&!F.isPreFX&&F.resize(D.width,D.height),F},addPostPipeline:function(O,F){this.postPipelineClasses.has(O)||this.postPipelineClasses.set(O,F)},flush:function(){this.current&&this.current.flush()},has:function(O){var F=this.pipelines;return typeof O=="string"?F.has(O):!!F.contains(O)},get:function(O){var F=this.pipelines;if(typeof O=="string")return F.get(O);if(F.contains(O))return O},getPostPipeline:function(O,F,L){var D=this.postPipelineClasses,b,U="",W=typeof O;if(W==="string"||W==="number"?(b=D.get(O),U=O):W==="function"?(D.contains(O)&&(b=O),U=O.name):W==="object"&&(b=D.get(O.name),U=O.name),b){var H=new b(this.game,L);return H.name=U,F&&(H.gameObject=F),this.postPipelineInstances.push(H),H}},removePostPipeline:function(O){w(this.postPipelineInstances,O)},remove:function(O,F,L){F===void 0&&(F=!0),L===void 0&&(L=!0),this.pipelines.delete(O),F&&this.classes.delete(O),L&&this.postPipelineClasses.delete(O)},set:function(O,F,L){if(!O.isPostFX)return this.isCurrent(O,L)||(this.flush(),this.current&&this.current.unbind(),this.current=O,O.bind(L)),O.updateProjectionMatrix(),O.onBind(F),O},preBatch:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=F.length-1;L>=0;L--){var D=F[L];D.active&&D.preBatch(O)}}},postBatch:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=0;L<F.length;L++){var D=F[L];D.active&&D.postBatch(O)}}},preBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=F.length-1;L>=0;L--){var D=F[L];D.active&&D.preBatch(O)}}},postBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var F=O.postPipelines,L=0;L<F.length;L++){var D=F[L];D.active&&D.postBatch(O)}}},isCurrent:function(O,F){var L=this.renderer,D=this.current;return D&&!F&&(F=D.currentShader),!(D!==O||F.program!==L.currentProgram)},copyFrame:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(O,F,L,D,b),this},copyToGame:function(O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(O),this},drawFrame:function(O,F,L,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(O,F,L,D),this},blendFrames:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(O,F,L,D,b),this},blendFramesAdditive:function(O,F,L,D,b){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(O,F,L,D,b),this},clearFrame:function(O,F){return this.UTILITY_PIPELINE.clearFrame(O,F),this},blitFrame:function(O,F,L,D,b,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(O,F,L,D,b,U),this},copyFrameRect:function(O,F,L,D,b,U,W,H){return this.UTILITY_PIPELINE.copyFrameRect(O,F,L,D,b,U,W,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(O){return this.UTILITY_PIPELINE.bind(O)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(O,F){F.restoreContext()}),P(this.postPipelineInstances,function(O){O.restoreContext()})},rebind:function(O){O===void 0&&this.previous&&(O=this.previous);var F=this.renderer,L=F.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),F.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var D=F.vaoExtension;D&&D.bindVertexArrayOES(null);var b=this.pipelines.entries;for(var U in b)b[U].glReset=!0;O&&(this.current=O,O.rebind())},clear:function(){var O=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,O.currentProgram=null,O.setBlendMode(0,!0);var F=O.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(O){var F=this.renderTargets,L=3;if(O>this.maxDimension)return this.targetIndex=F.length-L,F[this.targetIndex];var D=(n(O,this.frameInc,0,!0)-1)*L;return this.targetIndex=D,F[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});d.exports=I},32302:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92503),o=new h({initialize:function(r,i,n,l,s,u,f,c,v){l===void 0&&(l=1),s===void 0&&(s=0),u===void 0&&(u=!0),f===void 0&&(f=!1),c===void 0&&(c=!0),v===void 0&&(v=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=s,this.autoClear=u,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=v,this.init(i,n),f?this.renderer.on(x.RESIZE,this.resize,this):this.autoResize=!1},init:function(a,r){var i=this.renderer;this.texture=i.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,r){if(this.autoResize&&this.willResize(a,r)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.texture=i.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r}return this},willResize:function(a,r){return typeof a!="number"||typeof r!="number"?!1:(a=Math.round(a*this.scale),r=Math.round(r*this.scale),a=Math.max(a,1),r=Math.max(r,1),a!==this.width||r!==this.height)},bind:function(a,r,i){a===void 0&&(a=!1);var n=this.renderer;if(a&&n.flush(),r&&i&&this.resize(r,i),n.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(a,r,i,n){var l=this.renderer,s=l.gl;l.pushFramebuffer(this.framebuffer),a!==void 0&&r!==void 0&&i!==void 0&&n!==void 0?(s.enable(s.SCISSOR_TEST),s.scissor(a,r,i,n)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var r=this.renderer;return a&&r.flush(),r.popFramebuffer()},destroy:function(){var a=this.renderer;a.off(x.RESIZE,this.resize,this),a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});d.exports=o},70554:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={getTintFromFloats:function(S,t,h,x){var o=(S*255|0)&255,a=(t*255|0)&255,r=(h*255|0)&255,i=(x*255|0)&255;return(i<<24|o<<16|a<<8|r)>>>0},getTintAppendFloatAlpha:function(S,t){var h=(t*255|0)&255;return(h<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var h=(S>>16|0)&255,x=(S>>8|0)&255,o=(S|0)&255,a=(t*255|0)&255;return(a<<24|o<<16|x<<8|h)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,h=(S>>8|0)&255,x=(S|0)&255;return[t/255,h/255,x/255]},checkShaderMax:function(S,t){var h=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var h="",x=0;x<t;x++)x>0&&(h+=`
	else `),x<t-1&&(h+="if (outTexId < "+x+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",h+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,h)},setGlowQuality:function(S,t,h,x){return h===void 0&&(h=t.config.glowFXQuality),x===void 0&&(x=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/h/x).toFixed(7)),S=S.replace(/__DIST__/gi,x.toFixed(0)+".0"),S}}},29100:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(62644),o=t(50792),a=t(77085),r=t(95540),i=t(37867),n=t(92503),l=t(32302),s=t(70554),u=t(38683),f=new h({Extends:o,initialize:function(v){o.call(this);var g=v.game,y=g.renderer,T=y.gl;this.name=r(v,"name","WebGLPipeline"),this.game=g,this.renderer=y,this.manager,this.gl=T,this.view=g.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(v,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(v,"resizeUniform","")},boot:function(){var c,v=this.gl,g=this.config,y=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var T=this.renderTargets,E=r(g,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var A=y.width,P=y.height;if(typeof E=="number")for(c=0;c<E;c++)T.push(new l(y,A,P,1,0,!0));else if(Array.isArray(E))for(c=0;c<E.length;c++){var w=r(E[c],"scale",1),I=r(E[c],"minFilter",0),O=r(E[c],"autoClear",1),F=r(E[c],"autoResize",!1),L=r(E[c],"width",null),D=r(E[c],"height",L);L?T.push(new l(y,L,D,1,I,O,F)):T.push(new l(y,A,P,w,I,O,F))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(g);var b=this.shaders,U=0;for(c=0;c<b.length;c++)b[c].vertexSize>U&&(U=b[c].vertexSize);var W=r(g,"batchSize",y.config.batchSize);this.vertexCapacity=W*6;var H=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var Y=r(g,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=y.createVertexBuffer(H,v.STATIC_DRAW)):this.vertexBuffer=y.createVertexBuffer(H.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),c=b.length-1;c>=0;c--)b[c].rebind();this.hasBooted=!0,y.on(n.RESIZE,this.resize,this),y.on(n.PRE_RENDER,this.onPreRender,this),y.on(n.RENDER,this.onRender,this),y.on(n.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,v,g){var y=this.renderer;if(c!==this.currentShader||y.currentProgram!==this.currentShader.program){this.flush();var T=this.setVertexBuffer(g);T&&!v&&(v=!0),c.bind(v,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var v=this.shaders,g=0;g<v.length;g++)if(v[g].name===c)return v[g]},setShadersFromConfig:function(c){var v,g=this.shaders,y=this.renderer;for(v=0;v<g.length;v++)g[v].destroy();var T="vertShader",E="fragShader",A="attributes",P=r(c,T,null),w=s.parseFragmentShaderMaxTextures(r(c,E,null),y.maxTextures),I=r(c,A,null),O=r(c,"shaders",[]),F=O.length;if(F===0)P&&w&&(this.shaders=[new u(this,"default",P,w,x(I))]);else{var L=[];for(v=0;v<F;v++){var D=O[v],b,U,W,H;if(typeof D=="string"?(b="default",U=P,W=s.parseFragmentShaderMaxTextures(D,y.maxTextures),H=I):(b=r(D,"name","default"),U=r(D,T,P),W=s.parseFragmentShaderMaxTextures(r(D,E,w),y.maxTextures),H=r(D,A,I)),b==="default"){var Y=W.split(`
`),G=Y[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(b=G.substring(20))}U&&W&&L.push(new u(this,b,U,W,x(H)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var v=this.currentBatch;v&&(v.texture.push(c),v.unit++,v.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var v=this.currentBatch,g=v.texture.indexOf(c);return g===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(c):(v.unit++,v.maxUnit++,v.texture.push(c),this.currentUnit=v.unit,this.currentTexture=c,v.unit):(this.currentUnit=g,this.currentTexture=c,g)},setGameObject:function(c,v){return v===void 0&&(v=c.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,v){(c!==this.width||v!==this.height)&&this.flush(),this.width=c,this.height=v;for(var g=this.renderTargets,y=0;y<g.length;y++)g[y].resize(c,v);return this.setProjectionMatrix(c,v),this.resizeUniform&&this.set2f(this.resizeUniform,c,v),this.emit(a.RESIZE,c,v,this),this.onResize(c,v),this},setProjectionMatrix:function(c,v){var g=this.projectionMatrix;if(!g)return this;this.projectionWidth=c,this.projectionHeight=v,g.ortho(0,c,v,0,-1e3,1e3);for(var y=this.shaders,T="uProjectionMatrix",E=0;E<y.length;E++){var A=y[E];A.hasUniform(T)&&(A.resetUniform(T),A.setMatrix4fv(T,!1,g.val,A))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var v=this.projectionMatrix;if(!v)return this;var g=this.projectionWidth,y=this.projectionHeight;c?v.ortho(0,g,0,y,-1e3,1e3):v.ortho(0,g,y,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==v)&&this.setProjectionMatrix(c,v)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var v=!1,g=this.gl;return g.getParameter(g.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(g.bindBuffer(g.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),c.bind(v),this.currentShader=c,this.activeTextures.length=0,this.emit(a.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,g=v.length-1;g>=0;g--){var y=v[g].rebind();(!c||y===c)&&(this.currentShader=y)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var c=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var g=0;g<c.length;g++){var y=c[g];y.syncUniforms(),v&&y.rebind()}},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,c.webGLBuffer),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var v=this.gl,g=this.vertexCount,y=this.currentShader.vertexSize,T=this.topology;if(this.active){this.setVertexBuffer(),g===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,g*y));var E,A,P,w=this.batch,I=this.activeTextures;if(this.forceZero)for(I[0]||v.activeTexture(v.TEXTURE0),E=0;E<w.length;E++)A=w[E],P=A.texture[0],I[0]!==P&&(v.bindTexture(v.TEXTURE_2D,P.webGLTexture),I[0]=P),v.drawArrays(T,A.start,A.count);else for(E=0;E<w.length;E++){A=w[E];for(var O=0;O<=A.maxUnit;O++)P=A.texture[O],I[O]!==P&&(v.activeTexture(v.TEXTURE0+O),v.bindTexture(v.TEXTURE_2D,P.webGLTexture),I[O]=P);v.drawArrays(T,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,v,g,y,T,E,A){var P=this.vertexViewF32,w=this.vertexViewU32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++I]=c,P[++I]=v,P[++I]=g,P[++I]=y,P[++I]=T,P[++I]=E,w[++I]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,v,g,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G){G===void 0&&(G=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(G=this.setTexture2D(Y));var V=this.vertexViewF32,B=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return V[++z]=v,V[++z]=g,V[++z]=I,V[++z]=O,V[++z]=G,V[++z]=H,B[++z]=D,V[++z]=y,V[++z]=T,V[++z]=I,V[++z]=L,V[++z]=G,V[++z]=H,B[++z]=U,V[++z]=E,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=G,V[++z]=H,B[++z]=W,V[++z]=v,V[++z]=g,V[++z]=I,V[++z]=O,V[++z]=G,V[++z]=H,B[++z]=D,V[++z]=E,V[++z]=A,V[++z]=F,V[++z]=L,V[++z]=G,V[++z]=H,B[++z]=W,V[++z]=P,V[++z]=w,V[++z]=F,V[++z]=O,V[++z]=G,V[++z]=H,B[++z]=b,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),X},batchTri:function(c,v,g,y,T,E,A,P,w,I,O,F,L,D,b,U,W){W===void 0&&(W=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(W=this.setTexture2D(U));var Y=this.vertexViewF32,G=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++X]=v,Y[++X]=g,Y[++X]=P,Y[++X]=w,Y[++X]=W,Y[++X]=b,G[++X]=F,Y[++X]=y,Y[++X]=T,Y[++X]=P,Y[++X]=O,Y[++X]=W,Y[++X]=b,G[++X]=L,Y[++X]=E,Y[++X]=A,Y[++X]=I,Y[++X]=O,Y[++X]=W,Y[++X]=b,G[++X]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),H},drawFillRect:function(c,v,g,y,T,E,A,P){A===void 0&&(A=this.renderer.whiteTexture),P===void 0&&(P=!0),c=Math.floor(c),v=Math.floor(v);var w=Math.floor(c+g),I=Math.floor(v+y),O=this.setTexture2D(A),F=s.getTintAppendFloatAlphaAndSwap(T,E),L=0,D=0,b=1,U=1;P&&(D=1,U=0),this.batchQuad(null,c,v,c,I,w,I,w,v,L,D,b,U,F,F,F,F,0,A,O)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,v){v===void 0&&(v=0);var g=this.gl;return g.activeTexture(g.TEXTURE0+v),g.bindTexture(g.TEXTURE_2D,c.webGLTexture),this},bindRenderTarget:function(c,v){return this.bindTexture(c.texture,v)},setTime:function(c,v){return this.set1f(c,this.game.loop.getDuration(),v),this},setBoolean:function(c,v,g){return g===void 0&&(g=this.currentShader),g.setBoolean(c,v),this},set1f:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set1f(c,v),this},set2f:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.set2f(c,v,g),this},set3f:function(c,v,g,y,T){return T===void 0&&(T=this.currentShader),T.set3f(c,v,g,y),this},set4f:function(c,v,g,y,T,E){return E===void 0&&(E=this.currentShader),E.set4f(c,v,g,y,T),this},set1fv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set1fv(c,v),this},set2fv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set2fv(c,v),this},set3fv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set3fv(c,v),this},set4fv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set4fv(c,v),this},set1iv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set1iv(c,v),this},set2iv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set2iv(c,v),this},set3iv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set3iv(c,v),this},set4iv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set4iv(c,v),this},set1i:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set1i(c,v),this},set2i:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.set2i(c,v,g),this},set3i:function(c,v,g,y,T){return T===void 0&&(T=this.currentShader),T.set3i(c,v,g,y),this},set4i:function(c,v,g,y,T,E){return E===void 0&&(E=this.currentShader),E.set4i(c,v,g,y,T),this},setMatrix2fv:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix2fv(c,v,g),this},setMatrix3fv:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix3fv(c,v,g),this},setMatrix4fv:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix4fv(c,v,g),this},destroy:function(){this.emit(a.DESTROY,this);var c,v=this.shaders;for(c=0;c<v.length;c++)v[c].destroy();var g=this.renderTargets;for(c=0;c<g.length;c++)g[c].destroy();var y=this.renderer;return y.deleteBuffer(this.vertexBuffer),y.off(n.RESIZE,this.resize,this),y.off(n.PRE_RENDER,this.onPreRender,this),y.off(n.RENDER,this.onRender,this),y.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});d.exports=f},74797:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95428),x=t(72905),o=t(19715),a=t(83419),r=t(8054),i=t(50792),n=t(92503),l=t(50030),s=t(37867),u=t(29747),f=t(7530),c=t(32302),v=t(97480),g=t(69442),y=t(70554),T=t(88815),E=t(26128),A=t(1482),P=t(82751),w=t(84387),I=t(93567),O=t(57183),F=new a({Extends:i,initialize:function(D){i.call(this);var b=D.config,U={alpha:b.transparent,desynchronized:b.desynchronized,depth:!0,antialias:b.antialiasGL,premultipliedAlpha:b.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:b.failIfMajorPerformanceCaveat,powerPreference:b.powerPreference,preserveDrawingBuffer:b.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:b.clearBeforeRender,antialias:b.antialias,backgroundColor:b.backgroundColor,contextCreation:U,roundPixels:b.roundPixels,maxTextures:b.maxTextures,maxTextureSize:b.maxTextureSize,batchSize:b.batchSize,maxLights:b.maxLights,mipmapFilter:b.mipmapFilter},this.game=D,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.previousContextLostHandler=u,this.previousContextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(L){var D,b=this.game,U=this.canvas,W=L.backgroundColor;if(b.config.context?D=b.config.context:D=U.getContext("webgl",L.contextCreation)||U.getContext("experimental-webgl",L.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),b.context=D;for(var H=0;H<=27;H++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!L.maxTextures||L.maxTextures===-1)&&(L.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),L.maxTextureSize||(L.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(L.mipmapFilter)!==-1&&(this.mipmapFilter=D[L.mipmapFilter]),this.maxTextures=y.checkShaderMax(D,L.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),b.textures.once(g.READY,this.boot,this),this},boot:function(){var L=this.game,D=this.pipelines,b=L.scale.baseSize,U=b.width,W=b.height;this.width=U,this.height=W,this.isBooted=!0,this.renderTarget=new c(this,U,W,1,0,!0,!0),this.maskTarget=new c(this,U,W,1,0,!0,!0),this.maskSource=new c(this,U,W,1,0,!0,!0);var H=L.config;D.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=L.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=L.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=L.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),L.scale.on(v.RESIZE,this.onResize,this),this.resize(U,W)},setExtensions:function(){var L=this.gl,D=L.getSupportedExtensions();this.supportedExtensions=D;var b="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(b)>-1?L.getExtension(b):null;var U="OES_vertex_array_object";this.vaoExtension=D.indexOf(U)>-1?L.getExtension(U):null},setContextHandlers:function(L,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof L=="function"?this.contextLostHandler=L.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(L){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),L.preventDefault()},dispatchContextRestored:function(L){var D=this.gl;if(D.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var b=function(U){U.createResource()};h(this.glTextureWrappers,b),h(this.glBufferWrappers,b),h(this.glFramebufferWrappers,b),h(this.glProgramWrappers,b),h(this.glAttribLocationWrappers,b),h(this.glUniformLocationWrappers,b),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),L.preventDefault()},createTemporaryTextures:function(){for(var L=this.gl,D=0;D<this.maxTextures;D++){var b=L.createTexture();L.activeTexture(L.TEXTURE0+D),L.bindTexture(L.TEXTURE_2D,b),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},captureFrame:function(L,D){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(L,D,b){},stopCapture:function(){},onCapture:function(L){},onResize:function(L,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},beginCapture:function(L,D){L===void 0&&(L=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,L,D),this.setProjectionMatrix(L,D)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(L,D){var b=this.gl;return this.width=L,this.height=D,this.setProjectionMatrix(L,D),b.viewport(0,0,L,D),this.drawingBufferHeight=b.drawingBufferHeight,b.scissor(0,b.drawingBufferHeight-D,L,D),this.defaultScissor[2]=L,this.defaultScissor[3]=D,this.emit(n.RESIZE,L,D),this},getCompressedTextures:function(){var L="WEBGL_compressed_texture_",D="WEBKIT_"+L,b="EXT_texture_compression_",U=function(H,Y){var G=H.getExtension(L+Y)||H.getExtension(D+Y)||H.getExtension(b+Y);if(G){var X={};for(var V in G)X[G[V]]=V;return X}},W=this.gl;return{ETC:U(W,"etc"),ETC1:U(W,"etc1"),ATC:U(W,"atc"),ASTC:U(W,"astc"),BPTC:U(W,"bptc"),RGTC:U(W,"rgtc"),PVRTC:U(W,"pvrtc"),S3TC:U(W,"s3tc"),S3TCSRGB:U(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(L,D){var b=this.compression[L.toUpperCase()];if(D in b)return b[D]},supportsCompressedTexture:function(L,D){var b=this.compression[L.toUpperCase()];return b?D?D in b:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(L,D){return(L!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=L,this.projectionHeight=D,this.projectionMatrix.ortho(0,L,D,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(L){return this.supportedExtensions?this.supportedExtensions.indexOf(L):!1},getExtension:function(L){return this.hasExtension(L)?(L in this.extensions||(this.extensions[L]=this.gl.getExtension(L)),this.extensions[L]):null},flush:function(){this.pipelines.flush()},pushScissor:function(L,D,b,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.scissorStack,Y=[L,D,b,U];return H.push(Y),this.setScissor(L,D,b,U,W),this.currentScissor=Y,Y},setScissor:function(L,D,b,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.gl,Y=this.currentScissor,G=b>0&&U>0;if(Y&&G){var X=Y[0],V=Y[1],B=Y[2],z=Y[3];G=X!==L||V!==D||B!==b||z!==U}G&&(this.flush(),H.scissor(L,W-D-U,b,U))},resetScissor:function(){var L=this.gl;L.enable(L.SCISSOR_TEST);var D=this.currentScissor;if(D){var b=D[0],U=D[1],W=D[2],H=D[3];W>0&&H>0&&L.scissor(b,this.drawingBufferHeight-U-H,W,H)}},popScissor:function(){var L=this.scissorStack;L.pop();var D=L[L.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},hasActiveStencilMask:function(){var L=this.currentMask.mask,D=this.currentCameraMask.mask;return L&&L.isStencil||D&&D.isStencil},resetViewport:function(){var L=this.gl;L.viewport(0,0,this.width,this.height),this.drawingBufferHeight=L.drawingBufferHeight},setBlendMode:function(L,D){D===void 0&&(D=!1);var b=this.gl,U=this.blendModes[L];return D||L!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==L?(this.flush(),b.enable(b.BLEND),b.blendEquation(U.equation),U.func.length>2?b.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):b.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=L,!0):!1},addBlendMode:function(L,D){var b=this.blendModes.push({func:L,equation:D});return b-1},updateBlendMode:function(L,D,b){return this.blendModes[L]&&(this.blendModes[L].func=D,b&&(this.blendModes[L].equation=b)),this},removeBlendMode:function(L){return L>17&&this.blendModes[L]&&this.blendModes.splice(L,1),this},pushFramebuffer:function(L,D,b,U,W){return L===this.currentFramebuffer?this:(this.fboStack.push(L),this.setFramebuffer(L,D,b,U,W))},setFramebuffer:function(L,D,b,U,W){if(D===void 0&&(D=!1),b===void 0&&(b=!0),U===void 0&&(U=null),W===void 0&&(W=!1),L===this.currentFramebuffer)return this;var H=this.gl,Y=this.width,G=this.height;return L&&L.renderTexture&&b?(Y=L.renderTexture.width,G=L.renderTexture.height):this.flush(),L?H.bindFramebuffer(H.FRAMEBUFFER,L.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),b&&H.viewport(0,0,Y,G),U&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,U.webGLTexture,0),W&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),D&&(L?(this.drawingBufferHeight=G,this.pushScissor(0,0,Y,G)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=L,this},popFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var b=this.fboStack;b.pop();var U=b[b.length-1];return U||(U=null),this.setFramebuffer(U,L,D),U},restoreFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var b=this.fboStack,U=b[b.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,L,D)},setProgram:function(L){return L!==this.currentProgram?(this.flush(),this.gl.useProgram(L.webGLProgram),this.currentProgram=L,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(L,D,b,U,W){W===void 0&&(W=!1);var H=this.gl,Y=H.NEAREST,G=H.NEAREST,X=H.CLAMP_TO_EDGE,V=null;D=L?L.width:D,b=L?L.height:b;var B=l(D,b);if(B&&!W&&(X=H.REPEAT),U===r.ScaleModes.LINEAR&&this.config.antialias){var z=L&&L.compressed,$=!z&&B||z&&L.mipmaps.length>1;Y=this.mipmapFilter&&$?this.mipmapFilter:H.LINEAR,G=H.LINEAR}return!L&&typeof D=="number"&&typeof b=="number"?V=this.createTexture2D(0,Y,G,X,X,H.RGBA,null,D,b):V=this.createTexture2D(0,Y,G,X,X,H.RGBA,L),V},createTexture2D:function(L,D,b,U,W,H,Y,G,X,V,B,z){typeof G!="number"&&(G=Y?Y.width:1),typeof X!="number"&&(X=Y?Y.height:1);var $=new P(this.gl,L,D,b,U,W,H,Y,G,X,V,B,z);return this.glTextureWrappers.push($),$},createFramebuffer:function(L,D,b,U){this.currentFramebuffer=null;var W=new w(this.gl,L,D,b,U);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(L,D){var b=this.gl;b&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==L&&(this.currentMask.mask=L,this.currentMask.camera=D))},drawBitmapMask:function(L,D,b){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),L.renderWebGL(this,L,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,W=this.getCurrentStencilMask();W?(U.enable(U.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(b),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(L,D){var b=new A(this.gl,L,D);return this.glProgramWrappers.push(b),b},createVertexBuffer:function(L,D){var b=this.gl,U=new E(b,L,b.ARRAY_BUFFER,D);return this.glBufferWrappers.push(U),U},createAttribLocation:function(L,D){var b=new I(this.gl,L,D);return this.glAttribLocationWrappers.push(b),b},createUniformLocation:function(L,D){var b=new O(this.gl,L,D);return this.glUniformLocationWrappers.push(b),b},createIndexBuffer:function(L,D){var b=this.gl,U=new E(b,L,b.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(U),U},deleteTexture:function(L){if(L)return x(this.glTextureWrappers,L),L.destroy(),this},deleteFramebuffer:function(L){return L?(x(this.fboStack,L),x(this.glFramebufferWrappers,L),L.destroy(),this):this},deleteProgram:function(L){return L&&(x(this.glProgramWrappers,L),L.destroy()),this},deleteAttribLocation:function(L){return L&&(x(this.glAttribLocationWrappers,L),L.destroy()),this},deleteUniformLocation:function(L){return L&&(x(this.glUniformLocationWrappers,L),L.destroy()),this},deleteBuffer:function(L){return L?(x(this.glBufferWrappers,L),L.destroy(),this):this},preRenderCamera:function(L){var D=L.x,b=L.y,U=L.width,W=L.height,H=L.backgroundColor;if(L.emit(o.PRE_RENDER,L),this.pipelines.preBatchCamera(L),this.pushScissor(D,b,U,W),L.mask&&(this.currentCameraMask.mask=L.mask,this.currentCameraMask.camera=L._maskCamera,L.mask.preRenderWebGL(this,L,L._maskCamera)),H.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(D,b,U,W,y.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},getCurrentStencilMask:function(){var L=null,D=this.maskStack,b=this.currentCameraMask;return D.length>0?L=D[D.length-1]:b.mask&&b.mask.isStencil&&(L=b),L},postRenderCamera:function(L){var D=L.flashEffect,b=L.fadeEffect;if(D.isRunning||b.isRunning||b.isComplete){var U=this.pipelines.setMulti();D.postRenderWebGL(U,y.getTintFromFloats),b.postRenderWebGL(U,y.getTintFromFloats)}L.dirty=!1,this.popScissor(),L.mask&&(this.currentCameraMask.mask=null,L.mask.postRenderWebGL(this,L._maskCamera)),this.pipelines.postBatchCamera(L),L.emit(o.POST_RENDER,L)},preRender:function(){if(!this.contextLost){var L=this.gl;if(L.bindFramebuffer(L.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;L.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)}L.enable(L.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&L.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(L,D,b){if(!this.contextLost){var U=D.length;if(this.emit(n.RENDER,L,b),this.preRenderCamera(b),U===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(b);return}this.currentType="";for(var W=this.currentMask,H=0;H<U;H++){this.finalType=H===U-1;var Y=D[H],G=Y.mask;W=this.currentMask,W.mask&&W.mask!==G&&W.mask.postRenderWebGL(this,W.camera),G&&W.mask!==G&&G.preRenderWebGL(this,Y,b),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var X=Y.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[H+1].type===this.currentType,Y.renderWebGL(this,Y,b),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(b)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var L=this.snapshotState;L.callback&&(T(this.gl,L),L.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var L=this.gl,D=this.getCurrentStencilMask();if(D){var b=D.mask;L.enable(L.STENCIL_TEST),b.invertAlpha?L.stencilFunc(L.NOTEQUAL,b.level,255):L.stencilFunc(L.EQUAL,b.level,255)}},snapshot:function(L,D,b){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,L,D,b)},snapshotArea:function(L,D,b,U,W,H,Y){var G=this.snapshotState;return G.callback=W,G.type=H,G.encoder=Y,G.getPixel=!1,G.x=L,G.y=D,G.width=b,G.height=U,this},snapshotPixel:function(L,D,b){return this.snapshotArea(L,D,1,1,b),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(L,D,b,U,W,H,Y,G,X,V,B){W===void 0&&(W=!1),H===void 0&&(H=0),Y===void 0&&(Y=0),G===void 0&&(G=D),X===void 0&&(X=b),V==="pixel"&&(W=!0,V="image/png");var z=this.currentFramebuffer;this.snapshotArea(H,Y,G,X,U,V,B);var $=this.snapshotState;return $.getPixel=W,$.isFramebuffer=!0,$.bufferWidth=D,$.bufferHeight=b,$.width=Math.min($.width,D),$.height=Math.min($.height,b),this.setFramebuffer(L),T(this.gl,$),this.setFramebuffer(z),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(L,D,b,U){b===void 0&&(b=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,Y=W.NEAREST,G=L.width,X=L.height,V=W.CLAMP_TO_EDGE,B=l(G,X);return!b&&B&&(V=W.REPEAT),this.config.antialias&&(H=B&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),D?(D.update(L,G,X,U,V,V,H,Y,D.format),D):this.createTexture2D(0,H,Y,V,V,W.RGBA,L,G,X,!0,!1,U)},createCanvasTexture:function(L,D,b){return D===void 0&&(D=!1),b===void 0&&(b=!1),this.canvasToTexture(L,null,D,b)},updateCanvasTexture:function(L,D,b,U){return b===void 0&&(b=!1),U===void 0&&(U=!1),this.canvasToTexture(L,D,U,b)},videoToTexture:function(L,D,b,U){b===void 0&&(b=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,Y=W.NEAREST,G=L.videoWidth,X=L.videoHeight,V=W.CLAMP_TO_EDGE,B=l(G,X);return!b&&B&&(V=W.REPEAT),this.config.antialias&&(H=B&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),D?(D.update(L,G,X,U,V,V,H,Y,D.format),D):this.createTexture2D(0,H,Y,V,V,W.RGBA,L,G,X,!0,!0,U)},createVideoTexture:function(L,D,b){return D===void 0&&(D=!1),b===void 0&&(b=!1),this.videoToTexture(L,null,D,b)},updateVideoTexture:function(L,D,b,U){return b===void 0&&(b=!1),U===void 0&&(U=!1),this.videoToTexture(L,D,U,b)},createUint8ArrayTexture:function(L,D,b){var U=this.gl,W=U.NEAREST,H=U.NEAREST,Y=U.CLAMP_TO_EDGE,G=l(D,b);return G&&(Y=U.REPEAT),this.createTexture2D(0,W,H,Y,Y,U.RGBA,L,D,b)},setTextureFilter:function(L,D){var b=this.gl,U=D===0?b.LINEAR:b.NEAREST;b.activeTexture(b.TEXTURE0);var W=b.getParameter(b.TEXTURE_BINDING_2D);return b.bindTexture(b.TEXTURE_2D,L.webGLTexture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,U),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,U),L.minFilter=U,L.magFilter=U,W&&b.bindTexture(b.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var L=function(D){D.destroy()};h(this.glAttribLocationWrappers,L),h(this.glBufferWrappers,L),h(this.glFramebufferWrappers,L),h(this.glProgramWrappers,L),h(this.glTextureWrappers,L),h(this.glUniformLocationWrappers,L),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});d.exports=F},38683:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95428),o=t(95540),a=t(14500),r=new h({initialize:function(n,l,s,u,f){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=s,this.program=this.renderer.createProgram(s,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(i){var n=0,l=0,s=[];this.vertexComponentCount=0;for(var u=0;u<i.length;u++){var f=i[u],c=f.name,v=o(f,"size",1),g=o(f,"type",a.FLOAT),y=g.enum,T=g.size,E=!!f.normalized;s.push({name:c,size:v,type:y,normalized:E,offset:l,enabled:!1,location:-1}),T===4?n+=v:n++,l+=v*T}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=s},bind:function(i,n){return i===void 0&&(i=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),i&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(i){i===void 0&&(i=!1);for(var n=this.gl,l=this.renderer,s=this.vertexSize,u=this.attributes,f=this.program,c=0;c<u.length;c++){var v=u[c],g=v.size,y=v.type,T=v.offset,E=v.enabled,A=v.location,P=!!v.normalized;if(i){A!==-1&&l.deleteAttribLocation(A);var w=this.renderer.createAttribLocation(f,v.name);w.webGLAttribLocation>=0?(n.enableVertexAttribArray(w.webGLAttribLocation),n.vertexAttribPointer(w.webGLAttribLocation,g,y,P,s,T),v.enabled=!0,v.location=w):w.webGLAttribLocation!==-1&&n.disableVertexAttribArray(w.webGLAttribLocation)}else E?n.vertexAttribPointer(A.webGLAttribLocation,g,y,P,s,T):!E&&A!==-1&&A.webGLAttribLocation>-1&&(n.disableVertexAttribArray(A.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var i=this.gl,n=this.program,l=this.uniforms,s,u,f,c=i.getProgramParameter(n.webGLProgram,i.ACTIVE_UNIFORMS);for(s=0;s<c;s++){var v=i.getActiveUniform(n.webGLProgram,s);if(v){u=v.name,f=this.renderer.createUniformLocation(n,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var g=u.indexOf("[");g>0&&(u=u.substr(0,g),l.hasOwnProperty(u)||(f=this.renderer.createUniformLocation(n,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var i=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(i,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(i){return this.uniforms.hasOwnProperty(i)},resetUniform:function(i){var n=this.uniforms[i];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(i,n,l,s){var u=this.uniforms[n];return u?((s||u.value1!==l)&&(u.setter||(u.setter=i),u.value1=l,this.renderer.setProgram(this.program),i.call(this.gl,u.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(i,n,l,s,u){var f=this.uniforms[n];return f?((u||f.value1!==l||f.value2!==s)&&(f.setter||(f.setter=i),f.value1=l,f.value2=s,this.renderer.setProgram(this.program),i.call(this.gl,f.location.webGLUniformLocation,l,s),this.pipeline.currentShader=this),this):this},setUniform3:function(i,n,l,s,u,f){var c=this.uniforms[n];return c?((f||c.value1!==l||c.value2!==s||c.value3!==u)&&(c.setter||(c.setter=i),c.value1=l,c.value2=s,c.value3=u,this.renderer.setProgram(this.program),i.call(this.gl,c.location.webGLUniformLocation,l,s,u),this.pipeline.currentShader=this),this):this},setUniform4:function(i,n,l,s,u,f,c){var v=this.uniforms[n];return v?((c||v.value1!==l||v.value2!==s||v.value3!==u||v.value4!==f)&&(v.setter||(v.setter=i),v.value1=l,v.value2=s,v.value3=u,v.value4=f,this.renderer.setProgram(this.program),i.call(this.gl,v.location.webGLUniformLocation,l,s,u,f),this.pipeline.currentShader=this),this):this},setBoolean:function(i,n){return this.setUniform1(this.gl.uniform1i,i,Number(n))},set1f:function(i,n){return this.setUniform1(this.gl.uniform1f,i,n)},set2f:function(i,n,l){return this.setUniform2(this.gl.uniform2f,i,n,l)},set3f:function(i,n,l,s){return this.setUniform3(this.gl.uniform3f,i,n,l,s)},set4f:function(i,n,l,s,u){return this.setUniform4(this.gl.uniform4f,i,n,l,s,u)},set1fv:function(i,n){return this.setUniform1(this.gl.uniform1fv,i,n,!0)},set2fv:function(i,n){return this.setUniform1(this.gl.uniform2fv,i,n,!0)},set3fv:function(i,n){return this.setUniform1(this.gl.uniform3fv,i,n,!0)},set4fv:function(i,n){return this.setUniform1(this.gl.uniform4fv,i,n,!0)},set1iv:function(i,n){return this.setUniform1(this.gl.uniform1iv,i,n,!0)},set2iv:function(i,n){return this.setUniform1(this.gl.uniform2iv,i,n,!0)},set3iv:function(i,n){return this.setUniform1(this.gl.uniform3iv,i,n,!0)},set4iv:function(i,n){return this.setUniform1(this.gl.uniform4iv,i,n,!0)},set1i:function(i,n){return this.setUniform1(this.gl.uniform1i,i,n)},set2i:function(i,n,l){return this.setUniform2(this.gl.uniform2i,i,n,l)},set3i:function(i,n,l,s){return this.setUniform3(this.gl.uniform3i,i,n,l,s)},set4i:function(i,n,l,s,u){return this.setUniform4(this.gl.uniform4i,i,n,l,s,u)},setMatrix2fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,i,n,l,!0)},setMatrix3fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,i,n,l,!0)},setMatrix4fv:function(i,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,i,n,l,!0)},createProgram:function(i,n){return i===void 0&&(i=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=i,this.fragSrc=n,this.program=this.renderer.createProgram(i,n),this.createUniforms(),this.rebind()},destroy:function(){var i=this.renderer;x(this.uniforms,function(n){i.deleteUniformLocation(n.location)}),this.uniforms=null,x(this.attributes,function(n){i.deleteAttribLocation(n.location)}),this.attributes=null,i.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});d.exports=r},14500:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};d.exports=S},4159:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14500),x=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=x(!1,o,h),d.exports=o},31302:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(78908),a=t(85191),r=t(14500),i=t(29100),n=new h({Extends:i,initialize:function(s){s.fragShader=x(s,"fragShader",o),s.vertShader=x(s,"vertShader",a),s.batchSize=x(s,"batchSize",1),s.vertices=x(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=x(s,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),i.call(this,s)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,s){i.prototype.resize.call(this,l,s),this.set2f("uResolution",l,s)},beginMask:function(l,s,u){this.renderer.beginBitmapMask(l,u)},endMask:function(l,s,u){var f=this.gl,c=this.renderer,v=l.bitmapMask;v&&f&&(c.drawBitmapMask(v,s,this),u&&this.set2f("uResolution",u.width,u.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),u&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});d.exports=n},92651:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(58918),o=t(14811),a=t(95540),r=t(43558),i=t(89350),n=t(70554),l=new h({Extends:r,initialize:function(u){u.shaders=[n.setGlowQuality(i.FXGlowFrag,u.game),i.FXShadowFrag,i.FXPixelateFrag,i.FXVignetteFrag,i.FXShineFrag,i.FXBlurLowFrag,i.FXBlurMedFrag,i.FXBlurHighFrag,i.FXGradientFrag,i.FXBloomFrag,i.ColorMatrixFrag,i.FXCircleFrag,i.FXBarrelFrag,i.FXDisplacementFrag,i.FXWipeFrag,i.FXBokehFrag],r.call(this,u);var f=this.game;this.glow=new x.Glow(f),this.shadow=new x.Shadow(f),this.pixelate=new x.Pixelate(f),this.vignette=new x.Vignette(f),this.shine=new x.Shine(f),this.gradient=new x.Gradient(f),this.circle=new x.Circle(f),this.barrel=new x.Barrel(f),this.wipe=new x.Wipe(f),this.bokeh=new x.Bokeh(f);var c=[];c[o.GLOW]=this.onGlow,c[o.SHADOW]=this.onShadow,c[o.PIXELATE]=this.onPixelate,c[o.VIGNETTE]=this.onVignette,c[o.SHINE]=this.onShine,c[o.BLUR]=this.onBlur,c[o.GRADIENT]=this.onGradient,c[o.BLOOM]=this.onBloom,c[o.COLOR_MATRIX]=this.onColorMatrix,c[o.CIRCLE]=this.onCircle,c[o.BARREL]=this.onBarrel,c[o.DISPLACEMENT]=this.onDisplacement,c[o.WIPE]=this.onWipe,c[o.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(s,u,f){this.source=s,this.target=u,this.swap=f;var c=s.width,v=s.height,g=this.tempSprite,y=this.fxHandlers;if(g&&g.preFX)for(var T=g.preFX.list,E=0;E<T.length;E++){var A=T[E];A.active&&y[A.type].call(this,A,c,v)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,u=this.target;this.copy(s,u),this.source=u,this.target=s},onGlow:function(s,u,f){var c=this.shaders[o.GLOW];this.setShader(c),this.glow.onPreRender(s,c,u,f),this.runDraw()},onShadow:function(s){var u=this.shaders[o.SHADOW];this.setShader(u),this.shadow.onPreRender(s,u),this.runDraw()},onPixelate:function(s,u,f){var c=this.shaders[o.PIXELATE];this.setShader(c),this.pixelate.onPreRender(s,c,u,f),this.runDraw()},onVignette:function(s){var u=this.shaders[o.VIGNETTE];this.setShader(u),this.vignette.onPreRender(s,u),this.runDraw()},onShine:function(s,u,f){var c=this.shaders[o.SHINE];this.setShader(c),this.shine.onPreRender(s,c,u,f),this.runDraw()},onBlur:function(s,u,f){var c=a(s,"quality"),v=this.shaders[o.BLUR+c];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",u,f),this.set1f("strength",a(s,"strength")),this.set3fv("color",a(s,"glcolor"));for(var g=a(s,"x"),y=a(s,"y"),T=a(s,"steps"),E=0;E<T;E++)this.set2f("offset",g,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw()},onGradient:function(s){var u=this.shaders[o.GRADIENT];this.setShader(u),this.gradient.onPreRender(s,u),this.runDraw()},onBloom:function(s,u,f){var c=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",a(s,"blurStrength")),this.set3fv("color",a(s,"glcolor"));for(var v=2/u*a(s,"offsetX"),g=2/f*a(s,"offsetY"),y=a(s,"steps"),T=0;T<y;T++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,u,f){var c=this.shaders[o.CIRCLE];this.setShader(c),this.circle.onPreRender(s,c,u,f),this.runDraw()},onBarrel:function(s){var u=this.shaders[o.BARREL];this.setShader(u),this.barrel.onPreRender(s,u),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var u=this.shaders[o.WIPE];this.setShader(u),this.wipe.onPreRender(s,u),this.runDraw()},onBokeh:function(s,u,f){var c=this.shaders[o.BOKEH];this.setShader(c),this.bokeh.onPreRender(s,c,u,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});d.exports=l},96569:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(31063),a=t(57516),r=t(61340),i=t(26099),n=t(29100),l=new h({Extends:a,initialize:function(u){var f=x(u,"fragShader",o);u.fragShader=f.replace("%LIGHT_COUNT%",u.game.renderer.config.maxLights),a.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new i,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(s,u){var f=s.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var c=f.getLights(u),v=c.length;this.lightsActive=!0;var g,y=this.renderer,T=y.height,E=u.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",v),g=0;g<v;g++){var P=c[g].light,w=P.color,I="uLights["+g+"].";E.transformPoint(P.x,P.y,A),this.set2f(I+"position",A.x-u.scrollX*P.scrollFactorX*u.zoom,T-(A.y-u.scrollY*P.scrollFactorY*u.zoom)),this.set3f(I+"color",w.r,w.g,w.b),this.set1f(I+"intensity",P.intensity),this.set1f(I+"radius",P.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(s){var f=-s,c=Math.cos(f),v=Math.sin(f);u[1]=v,u[3]=-v,u[0]=u[4]=c}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=s}},setTexture2D:function(s,u){var f=this.renderer;s===void 0&&(s=f.whiteTexture);var c=this.getNormalMap(u);this.isNewNormalMap(s,c)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(c),this.currentNormalMap=c);var v=0;if(u&&u.parentContainer){var g=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=g.rotationNormalized}else u&&(v=u.rotation);return this.currentBatch===null&&(this.createBatch(s),this.addTextureToBatch(c)),this.setNormalMapRotation(v),0},setGameObject:function(s,u){u===void 0&&(u=s.frame);var f=u.glTexture,c=this.getNormalMap(s);if(this.isNewNormalMap(f,c)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(c),this.currentNormalMap=c),s.parentContainer){var v=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(c)),0},isNewNormalMap:function(s,u){return this.currentTexture!==s||this.currentNormalMap!==u},getNormalMap:function(s){var u;if(s)s.displayTexture?u=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?u=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?u=s.tileset[0].image.dataSource[0]:u=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return u?u.glTexture:this.renderer.normalTexture},batchSprite:function(s,u,f){this.lightsActive&&a.prototype.batchSprite.call(this,s,u,f)},batchTexture:function(s,u,f,c,v,g,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G,X,V,B,z,$,j,k,q,Q){this.lightsActive&&a.prototype.batchTexture.call(this,s,u,f,c,v,g,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G,X,V,B,z,$,j,k,q,Q)},batchTextureFrame:function(s,u,f,c,v,g,y){this.lightsActive&&a.prototype.batchTextureFrame.call(this,s,u,f,c,v,g,y)}});d.exports=l},56527:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(57516),a=t(45561),r=t(60722),i=t(14500),n=t(29100),l=new h({Extends:o,initialize:function(u){u.fragShader=x(u,"fragShader",a),u.vertShader=x(u,"vertShader",r),u.attributes=x(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:i.UNSIGNED_BYTE,normalized:!0}]),u.forceZero=!0,u.resizeUniform="uResolution",o.call(this,u)},boot:function(){n.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height)}});d.exports=l},57516:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(94811),o=t(95540),a=t(98840),r=t(44667),i=t(61340),n=t(70554),l=t(14500),s=t(29100),u=new h({Extends:s,initialize:function(c){var v=c.game.renderer,g=o(c,"fragShader",a);c.fragShader=n.parseFragmentShaderMaxTextures(g,v.maxTextures),c.vertShader=o(c,"vertShader",r),c.attributes=o(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),c.resizeUniform="uResolution",s.call(this,c),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height)},batchSprite:function(f,c,v){this.manager.set(this,f);var g=this._tempMatrix1,y=this._tempMatrix2,T=this._tempMatrix3,E=f.frame,A=E.glTexture,P=E.u0,w=E.v0,I=E.u1,O=E.v1,F=E.x,L=E.y,D=E.cutWidth,b=E.cutHeight,U=E.customPivot,W=f.displayOriginX,H=f.displayOriginY,Y=-W+F,G=-H+L;if(f.isCropped){var X=f._crop;(X.flipX!==f.flipX||X.flipY!==f.flipY)&&E.updateCropUVs(X,f.flipX,f.flipY),P=X.u0,w=X.v0,I=X.u1,O=X.v1,D=X.width,b=X.height,F=X.x,L=X.y,Y=-W+F,G=-H+L}var V=1,B=1;f.flipX&&(U||(Y+=-E.realWidth+W*2),V=-1),f.flipY&&(U||(G+=-E.realHeight+H*2),B=-1);var z=f.x,$=f.y;c.roundPixels&&(z=Math.floor(z),$=Math.floor($)),y.applyITRS(z,$,f.rotation,f.scaleX*V,f.scaleY*B),g.copyFrom(c.matrix),v?(g.multiplyWithOffset(v,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),y.e=z,y.f=$):(y.e-=c.scrollX*f.scrollFactorX,y.f-=c.scrollY*f.scrollFactorY),g.multiply(y,T);var j=T.setQuad(Y,G,Y+D,G+b,c.renderRoundPixels),k=n.getTintAppendFloatAlpha,q=c.alpha,Q=k(f.tintTopLeft,q*f._alphaTL),Z=k(f.tintTopRight,q*f._alphaTR),_=k(f.tintBottomLeft,q*f._alphaBL),et=k(f.tintBottomRight,q*f._alphaBR);this.shouldFlush(6)&&this.flush();var it=this.setGameObject(f,E);this.manager.preBatch(f),this.batchQuad(f,j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],P,w,I,O,Q,Z,_,et,f.tintFill,A,it),this.manager.postBatch(f)},batchTexture:function(f,c,v,g,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G,X,V,B,z,$,j,k,q,Q,Z,_,et){et===void 0&&(et=!1),this.manager.set(this,f);var it=this._tempMatrix1,st=this._tempMatrix2,nt=this._tempMatrix3,lt=W/v+j,ut=H/g+k,ot=(W+Y)/v+j,rt=(H+G)/g+k,ht=E,dt=A,xt=-b,yt=-U;if(f.isCropped){var Ct=f._crop,St=Ct.width,Mt=Ct.height;ht=St,dt=Mt,E=St,A=Mt,W=Ct.x,H=Ct.y;var Ut=W,qt=H;O&&(Ut=Y-Ct.x-St),F&&(qt=G-Ct.y-Mt),lt=Ut/v+j,ut=qt/g+k,ot=(Ut+St)/v+j,rt=(qt+Mt)/g+k,xt=-b+W,yt=-U+H}F=F^(!Z&&c.isRenderTexture?1:0),O&&(ht*=-1,xt+=E),F&&(dt*=-1,yt+=A),q.roundPixels&&(y=Math.floor(y),T=Math.floor(T)),st.applyITRS(y,T,I,P,w),it.copyFrom(q.matrix),Q?(it.multiplyWithOffset(Q,-q.scrollX*L,-q.scrollY*D),st.e=y,st.f=T):(st.e-=q.scrollX*L,st.f-=q.scrollY*D),it.multiply(st,nt);var Nt=nt.setQuad(xt,yt,xt+ht,yt+dt,q.renderRoundPixels);_==null&&(_=this.setTexture2D(c)),f&&!et&&this.manager.preBatch(f),this.batchQuad(f,Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6],Nt[7],lt,ut,ot,rt,X,V,B,z,$,c,_),f&&!et&&this.manager.postBatch(f)},batchTextureFrame:function(f,c,v,g,y,T,E){this.manager.set(this);var A=this._tempMatrix1.copyFrom(T),P=this._tempMatrix2;E?A.multiply(E,P):P=A;var w=P.setQuad(c,v,c+f.width,v+f.height),I=this.setTexture2D(f.source.glTexture);g=n.getTintAppendFloatAlpha(g,y),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],f.u0,f.v0,f.u1,f.v1,g,g,g,g,0,f.glTexture,I)},batchFillRect:function(f,c,v,g,y,T){this.renderer.pipelines.set(this);var E=this.calcMatrix;T&&T.multiply(y,E);var A=E.setQuad(f,c,f+v,c+g),P=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,P.TL,P.TR,P.BL,P.BR,2)},batchFillTriangle:function(f,c,v,g,y,T,E,A){this.renderer.pipelines.set(this);var P=this.calcMatrix;A&&A.multiply(E,P);var w=P.getX(f,c),I=P.getY(f,c),O=P.getX(v,g),F=P.getY(v,g),L=P.getX(y,T),D=P.getY(y,T),b=this.fillTint;this.batchTri(null,w,I,O,F,L,D,0,0,1,1,b.TL,b.TR,b.BL,2)},batchStrokeTriangle:function(f,c,v,g,y,T,E,A,P){var w=this.tempTriangle;w[0].x=f,w[0].y=c,w[0].width=E,w[1].x=v,w[1].y=g,w[1].width=E,w[2].x=y,w[2].y=T,w[2].width=E,w[3].x=f,w[3].y=c,w[3].width=E,this.batchStrokePath(w,E,!1,A,P)},batchFillPath:function(f,c,v){this.renderer.pipelines.set(this);var g=this.calcMatrix;v&&v.multiply(c,g);for(var y=f.length,T=this.polygonCache,E,A,P=this.fillTint.TL,w=this.fillTint.TR,I=this.fillTint.BL,O=0;O<y;++O)A=f[O],T.push(A.x,A.y);E=x(T),y=E.length;for(var F=0;F<y;F+=3){var L=E[F+0]*2,D=E[F+1]*2,b=E[F+2]*2,U=T[L+0],W=T[L+1],H=T[D+0],Y=T[D+1],G=T[b+0],X=T[b+1],V=g.getX(U,W),B=g.getY(U,W),z=g.getX(H,Y),$=g.getY(H,Y),j=g.getX(G,X),k=g.getY(G,X);this.batchTri(null,V,B,z,$,j,k,0,0,1,1,P,w,I,2)}T.length=0},batchStrokePath:function(f,c,v,g,y){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=f.length-1,E=0;E<T;E++){var A=f[E],P=f[E+1];this.batchLine(A.x,A.y,P.x,P.y,A.width/2,P.width/2,c,E,!v&&E===T-1,g,y)}},batchLine:function(f,c,v,g,y,T,E,A,P,w,I){this.renderer.pipelines.set(this);var O=this.calcMatrix;I&&I.multiply(w,O);var F=v-f,L=g-c,D=Math.sqrt(F*F+L*L);if(D!==0){var b=y*(g-c)/D,U=y*(f-v)/D,W=T*(g-c)/D,H=T*(f-v)/D,Y=v-W,G=g-H,X=f-b,V=c-U,B=v+W,z=g+H,$=f+b,j=c+U,k=O.getX(Y,G),q=O.getY(Y,G),Q=O.getX(X,V),Z=O.getY(X,V),_=O.getX(B,z),et=O.getY(B,z),it=O.getX($,j),st=O.getY($,j),nt=this.strokeTint,lt=nt.TL,ut=nt.TR,ot=nt.BL,rt=nt.BR;if(this.batchQuad(null,it,st,Q,Z,k,q,_,et,0,0,1,1,lt,ut,ot,rt,2),!(E<=2)){var ht=this.prevQuad,dt=this.firstQuad;A>0&&ht[4]?this.batchQuad(null,it,st,Q,Z,ht[0],ht[1],ht[2],ht[3],0,0,1,1,lt,ut,ot,rt,2):(dt[0]=it,dt[1]=st,dt[2]=Q,dt[3]=Z,dt[4]=1),P&&dt[4]?this.batchQuad(null,k,q,_,et,dt[0],dt[1],dt[2],dt[3],0,0,1,1,lt,ut,ot,rt,2):(ht[0]=k,ht[1]=q,ht[2]=_,ht[3]=et,ht[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});d.exports=u},43439:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(4127),a=t(89924),r=t(29100),i=new h({Extends:r,initialize:function(l){l.vertShader=x(l,"vertShader",a),l.fragShader=x(l,"fragShader",o),l.attributes=x(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,s,u,f,c,v,g,y,T,E,A){var P=n.color,w=n.intensity,I=n.radius,O=n.attenuation,F=P.r*w,L=P.g*w,D=P.b*w,b=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,u,E,A,I,O,F,L,D,b),this.batchLightVert(f,c,E,A,I,O,F,L,D,b),this.batchLightVert(v,g,E,A,I,O,F,L,D,b),this.batchLightVert(s,u,E,A,I,O,F,L,D,b),this.batchLightVert(v,g,E,A,I,O,F,L,D,b),this.batchLightVert(y,T,E,A,I,O,F,L,D,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,s,u,f,c,v,g,y,T){var E=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++A]=n,E[++A]=l,E[++A]=s,E[++A]=u,E[++A]=f,E[++A]=c,E[++A]=v,E[++A]=g,E[++A]=y,E[++A]=T,this.vertexCount++}});d.exports=i},84057:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89422),o=t(95540),a=t(27681),r=t(49627),i=t(29100),n=new h({Extends:i,initialize:function(s){s.renderTarget=o(s,"renderTarget",1),s.fragShader=o(s,"fragShader",a),s.vertShader=o(s,"vertShader",r),s.attributes=o(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){i.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height);for(var u=this.renderTargets,f=0;f<u.length;f++)u[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,s,u){u===void 0&&(u=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var c=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,s.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),u&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,c))},copyFrame:function(l,s,u,f,c){this.manager.copyFrame(l,s,u,f,c)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,s,u){this.manager.drawFrame(l,s,u,this.colorMatrix)},blendFrames:function(l,s,u,f,c){this.manager.blendFrames(l,s,u,f,c)},blendFramesAdditive:function(l,s,u,f,c){this.manager.blendFramesAdditive(l,s,u,f,c)},clearFrame:function(l,s){this.manager.clearFrame(l,s)},blitFrame:function(l,s,u,f,c,v){this.manager.blitFrame(l,s,u,f,c,v)},copyFrameRect:function(l,s,u,f,c,v,g,y){this.manager.copyFrameRect(l,s,u,f,c,v,g,y)},bindAndDraw:function(l,s,u,f,c){u===void 0&&(u=!0),f===void 0&&(f=!0);var v=this.gl,g=this.renderer;this.bind(c),this.set1i("uMainSampler",0),s?(v.viewport(0,0,s.width,s.height),v.bindFramebuffer(v.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,s.texture.webGLTexture,0),u&&(f?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(g.popFramebuffer(!1,!1),g.currentFramebuffer||v.viewport(0,0,g.width,g.height)),g.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,l.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),s&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,g.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),i.prototype.destroy.call(this),this}});d.exports=n},43558:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(67502),o=t(83419),a=t(96293),r=t(95540),i=t(57516),n=t(27681),l=t(87841),s=t(32302),u=t(45561),f=t(60722),c=t(29100),v=new o({Extends:i,initialize:function(y){var T=r(y,"fragShader",n),E=r(y,"vertShader",f),A=r(y,"drawShader",n),P=[{name:"DrawSprite",fragShader:u,vertShader:f},{name:"CopySprite",fragShader:T,vertShader:E},{name:"DrawGame",fragShader:A,vertShader:f},{name:"ColorMatrix",fragShader:a}],w=r(y,"shaders",[]);y.shaders=P.concat(w),y.vertShader||(y.vertShader=E),y.batchSize=1,i.call(this,y),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var g=this.shaders,y=this.renderer;this.drawSpriteShader=g[0],this.copyShader=g[1],this.gameShader=g[2],this.colorMatrixShader=g[3],this.fsTarget=new s(y,y.width,y.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var T=new ArrayBuffer(168);this.quadVertexData=T,this.quadVertexViewF32=new Float32Array(T),this.quadVertexBuffer=y.createVertexBuffer(T,this.gl.STATIC_DRAW),this.onResize(y.width,y.height),this.currentShader=this.copyShader,this.set2f("uResolution",y.width,y.height)},onResize:function(g,y){var T=this.quadVertexViewF32;T[1]=y,T[22]=y,T[14]=g,T[28]=g,T[35]=g,T[36]=y},batchQuad:function(g,y,T,E,A,P,w,I,O,F,L,D,b,U,W,H,Y,G,X){var V=Math.min(y,E,P,I),B=Math.min(T,A,w,O),z=Math.max(y,E,P,I),$=Math.max(T,A,w,O),j=z-V,k=$-B,q=this.spriteBounds.setTo(V,B,j,k),Q=g?g.preFX.padding:0,Z=j+Q*2,_=k+Q*2,et=Math.abs(Math.max(Z,_)),it=this.manager.getRenderTarget(et),st=this.targetBounds.setTo(0,0,it.width,it.height);x(st,Math.round(q.centerX),Math.round(q.centerY)),this.tempSprite=g;var nt=this.gl,lt=this.renderer;lt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",lt.width,lt.height),this.flipProjectionMatrix(!0),g&&(this.onDrawSprite(g,it),g.preFX.onFX(this));var ut=this.fsTarget;return this.flush(),nt.viewport(0,0,lt.width,lt.height),nt.bindFramebuffer(nt.FRAMEBUFFER,ut.framebuffer.webGLFramebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,ut.texture.webGLTexture,0),nt.clearColor(0,0,0,0),nt.clear(nt.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(y,T,F,L,0,G,U),this.batchVert(E,A,F,b,0,G,H),this.batchVert(P,w,D,b,0,G,Y),this.batchVert(y,T,F,L,0,G,U),this.batchVert(P,w,D,b,0,G,Y),this.batchVert(I,O,D,L,0,G,W),this.flush(),this.flipProjectionMatrix(!1),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,it.texture.webGLTexture),nt.copyTexSubImage2D(nt.TEXTURE_2D,0,0,0,st.x,st.y,st.width,st.height),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null),this.onBatch(g),this.currentShader=this.copyShader,this.onDraw(it,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(g,y,T,E,A,P,w){T===void 0&&(T=!0),E===void 0&&(E=!0),A===void 0&&(A=!1),w===void 0&&(w=this.copyShader);var I=this.gl,O=this.tempSprite;P&&(w=this.colorMatrixShader),this.currentShader=w;var F=this.setVertexBuffer(this.quadVertexBuffer);w.bind(F,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),O.preFX.onFXCopy(this),this.onCopySprite(g,y,O),P&&(this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha)),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,g.texture.webGLTexture),g.height>y.height)I.viewport(0,0,g.width,g.height),this.setTargetUVs(g,y);else{var D=y.height-g.height;I.viewport(0,D,g.width,g.height),this.resetUVs()}if(I.bindFramebuffer(I.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,y.texture.webGLTexture,0),T&&(I.clearColor(0,0,0,+!E),I.clear(I.COLOR_BUFFER_BIT)),A){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}I.bufferData(I.ARRAY_BUFFER,this.quadVertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),A&&this.renderer.setBlendMode(b),I.bindFramebuffer(I.FRAMEBUFFER,null)},copy:function(g,y){var T=this.gl;this.set1i("uMainSampler",0),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,g.texture.webGLTexture),T.viewport(0,0,g.width,g.height),this.setUVs(0,0,0,1,1,1,1,0),T.bindFramebuffer(T.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,y.texture.webGLTexture,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.quadVertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null)},blendFrames:function(g,y,T,E,A){this.manager.blendFrames(g,y,T,E,A)},blendFramesAdditive:function(g,y,T,E,A){this.manager.blendFramesAdditive(g,y,T,E,A)},drawToGame:function(g){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(g)},copyToGame:function(g){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(g)},bindAndDraw:function(g){var y=this.gl,T=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(g.texture);var E=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,P=this.targetBounds.y,w=A+g.width,I=P+g.height,O=E.getX(A,P),F=E.getX(A,I),L=E.getX(w,I),D=E.getX(w,P),b=E.getY(A,P),U=E.getY(A,I),W=E.getY(w,I),H=E.getY(w,P),Y=16777215;this.batchVert(O,b,0,0,0,0,Y),this.batchVert(F,U,0,1,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(O,b,0,0,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(D,H,1,0,0,0,Y),T.restoreFramebuffer(!1,!0),T.currentFramebuffer||y.viewport(0,0,T.width,T.height),T.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(g){this.drawToGame(g)},setUVs:function(g,y,T,E,A,P,w,I){var O=this.quadVertexViewF32;O[2]=g,O[3]=y,O[9]=T,O[10]=E,O[16]=A,O[17]=P,O[23]=g,O[24]=y,O[30]=A,O[31]=P,O[37]=w,O[38]=I},setTargetUVs:function(g,y){var T=y.height/g.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,i.prototype.destroy.call(this),this}});d.exports=v},81041:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(57516),a=new h({Extends:o,initialize:function(i){i.topology=5,i.batchSize=x(i,"batchSize",256),o.call(this,i)}});d.exports=a},12385:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(57516),a=t(45561),r=t(60722),i=t(29100),n=new h({Extends:o,initialize:function(s){s.fragShader=x(s,"fragShader",a),s.vertShader=x(s,"vertShader",r),s.forceZero=!0,o.call(this,s)},boot:function(){i.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});d.exports=n},7589:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35407),x=t(10312),o=t(83419),a=t(89422),r=t(96293),i=t(36682),n=t(95540),l=t(48247),s=t(49627),u=t(29100),f=new o({Extends:u,initialize:function(v){v.renderTarget=n(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=n(v,"vertShader",s),v.shaders=n(v,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),v.attributes=n(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,u.call(this,v),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var c=this.shaders,v=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(c,v,g,y,T){g===void 0&&(g=1),y===void 0&&(y=!0),T===void 0&&(T=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",g),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,c.texture.webGLTexture),v?(E.viewport(0,0,v.width,v.height),E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture.webGLTexture,0)):E.viewport(0,0,c.width,c.height),y&&(T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(c,v,g,y,T,E,A){g===void 0&&(g=1),y===void 0&&(y=!0),T===void 0&&(T=!0),E===void 0&&(E=!1),A===void 0&&(A=!1);var P=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",g),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture.webGLTexture),c.height>v.height)P.viewport(0,0,c.width,c.height),this.setTargetUVs(c,v);else{var w=v.height-c.height;P.viewport(0,w,c.width,c.height)}if(P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture.webGLTexture,0),y&&(T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),E){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}A&&this.flipY(),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),E&&this.renderer.setBlendMode(I),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,v,g,y,T,E,A,P){A===void 0&&(A=!0),P===void 0&&(P=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,c.texture.webGLTexture,0),A&&(P?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,v.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,g,y,T,E),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(c){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,c.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(c,v,g,y){g===void 0&&(g=!0),y===void 0&&(y=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",y.getData()),this.set1f("uAlpha",y.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,c.texture.webGLTexture),v?(T.viewport(0,0,v.width,v.height),T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture.webGLTexture,0)):T.viewport(0,0,c.width,c.height),g?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(c,v,g,y,T,E){y===void 0&&(y=1),T===void 0&&(T=!0),E===void 0&&(E=this.linearShader);var A=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",y),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,c.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,v.texture.webGLTexture),g?(A.bindFramebuffer(A.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,g.texture.webGLTexture,0),A.viewport(0,0,g.width,g.height)):A.viewport(0,0,c.width,c.height),T?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(c,v,g,y,T){this.blendFrames(c,v,g,y,T,this.addShader)},clearFrame:function(c,v){v===void 0&&(v=!0);var g=this.gl;g.viewport(0,0,c.width,c.height),g.bindFramebuffer(g.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),v?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT);var y=this.renderer.currentFramebuffer;g.bindFramebuffer(g.FRAMEBUFFER,y.webGLFramebuffer)},setUVs:function(c,v,g,y,T,E,A,P){var w=this.vertexViewF32;w[2]=c,w[3]=v,w[6]=g,w[7]=y,w[10]=T,w[11]=E,w[14]=c,w[15]=v,w[18]=T,w[19]=E,w[22]=A,w[23]=P},setTargetUVs:function(c,v){var g=v.height/c.height;g>.5?g=.5-(g-.5):g=.5+(.5-g),this.setUVs(0,g,0,1+g,1,1+g,1,g)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});d.exports=f},36060:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};d.exports=S},84817:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pipelineafterflush"},36712:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pipelinebeforeflush"},40285:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pipelinebind"},65918:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pipelineboot"},92852:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pipelinedestroy"},56072:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pipelinerebind"},57566:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pipelineresize"},77085:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(99155),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.amount=1},onPreRender:function(r,i){r=this.getController(r),this.set1f("amount",r.amount,i)}});d.exports=a},67329:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(24400),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var i=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var s=2/r.width*i.offsetX,u=2/r.height*i.offsetY,f=0;f<i.steps;f++)this.set2f("offset",s,0),this.copySprite(r,n),this.set2f("offset",0,u),this.copySprite(n,r);this.blendFrames(l,r,n,i.strength),this.copyToGame(n)}});d.exports=a},8861:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(41514),o=t(51078),a=t(94328),r=t(84057),i=new h({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),s=this.gl,u=this.fullFrame1,f=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var c=0;c<l.steps;c++)this.set2f("offset",l.x,0),this.copySprite(n,u),this.set2f("offset",0,l.y),this.copySprite(u,n);s.bindFramebuffer(s.FRAMEBUFFER,f),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(n)}});d.exports=i},51051:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(90610),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("amount",r.amount,i),this.set1f("contrast",r.contrast,i),this.set1f("strength",r.strength,i),this.set2f("blur",r.blurX,r.blurY,i),this.setBoolean("isTiltShift",r.isTiltShift,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});d.exports=a},89428:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(91899),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("scale",r.scale,i),this.set1f("feather",r.feather,i),this.set1f("thickness",r.thickness,i),this.set3fv("color",r.glcolor,i),this.set4fv("backgroundColor",r.glcolor2,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});d.exports=a},88904:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(84057),o=new h({Extends:x,initialize:function(r){x.call(this,{game:r})},onDraw:function(a){var r=this.fullFrame1;this.controller?this.manager.drawFrame(a,r,!0,this.controller):this.drawFrame(a,r),this.copyToGame(r)}});d.exports=o},63563:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(47838),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var i=this.game.textures.getFrame(r);i&&(this.glTexture=i.glTexture)},onDraw:function(r){var i=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});d.exports=a},94045:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=t(98656),a=t(84057),r=t(70554),i=new h({Extends:a,initialize:function(l,s){var u=x(s,"quality",.1),f=x(s,"distance",10);a.call(this,{game:l,fragShader:r.setGlowQuality(o,l,u,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,s,u){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),s&&u&&this.set2f("resolution",s,u,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});d.exports=i},74088:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(70463),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,i){r=this.getController(r),this.set1f("alpha",r.alpha,i),this.set1i("size",r.size,i),this.set3fv("color1",r.glcolor1,i),this.set3fv("color2",r.glcolor2,i),this.set2f("positionFrom",r.fromX,r.fromY,i),this.set2f("positionTo",r.toX,r.toY,i)}});d.exports=a},99636:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50831),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.amount=1},onPreRender:function(r,i,n,l){r=this.getController(r),this.set1f("amount",r.amount,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});d.exports=a},34700:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(92595),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,i){r=this.getController(r);var n=r.samples;this.set1i("samples",n,i),this.set1f("intensity",r.intensity,i),this.set1f("decay",r.decay,i),this.set1f("power",r.power/n,i),this.set2f("lightPosition",r.x,r.y,i),this.set4fv("color",r.glcolor,i)}});d.exports=a},91157:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(72464),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,i,n,l){r=this.getController(r),this.setTime("time",i),this.set1f("speed",r.speed,i),this.set1f("lineWidth",r.lineWidth,i),this.set1f("gradient",r.gradient,i),this.setBoolean("reveal",r.reveal,i),n&&l&&this.set2f("resolution",n,l,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});d.exports=a},27797:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(39249),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,i){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("strength",r.strength,i),this.set2f("position",r.x,r.y,i)}});d.exports=a},67603:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(2878),o=t(84057),a=new h({Extends:o,initialize:function(i){o.call(this,{game:i,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,i){r=this.getController(r);var n=r.progress,l=r.wipeWidth,s=r.direction,u=r.axis;this.set4f("config",n,l,s,u,i),this.setBoolean("reveal",r.reveal,i)}});d.exports=a},58918:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};d.exports=h},96615:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36060),x=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=x(!1,o,h),d.exports=o},35407:d=>{d.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:d=>{d.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:d=>{d.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:d=>{d.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:d=>{d.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:d=>{d.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:d=>{d.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:d=>{d.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:d=>{d.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:d=>{d.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:d=>{d.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:d=>{d.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:d=>{d.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:d=>{d.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:d=>{d.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:d=>{d.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:d=>{d.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:d=>{d.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:d=>{d.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:d=>{d.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:d=>{d.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:d=>{d.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:d=>{d.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:d=>{d.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:d=>{d.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:d=>{d.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:d=>{d.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:d=>{d.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:d=>{d.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:d=>{d.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:d=>{d.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:d=>{d.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:d=>{d.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:d=>{d.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(d,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(d,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i){this.webGLAttribLocation=-1,this.gl=a,this.program=r,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});d.exports=x},26128:(d,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i,n){this.webGLBuffer=null,this.gl=a,this.initialDataOrSize=r,this.bufferType=i,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var a=this.bufferType,r=o.createBuffer();this.webGLBuffer=r,o.bindBuffer(a,this.webGLBuffer),o.bufferData(a,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(a,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});d.exports=x},84387:(d,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new h({initialize:function(r,i,n,l,s){this.webGLFramebuffer=null,this.gl=r,this.width=i,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=this.renderTexture,i=0,n=a.createFramebuffer();if(this.webGLFramebuffer=n,a.bindFramebuffer(a.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,r.webGLTexture,0),i=a.checkFramebufferStatus(a.FRAMEBUFFER),i!==a.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[i]||i));if(this.addDepthStencilBuffer){var l=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,l),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,l)}a.bindFramebuffer(a.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var a=this.gl;if(!a.isContextLost()){a.bindFramebuffer(a.FRAMEBUFFER,this.webGLFramebuffer);var r=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.deleteTexture(r));var i=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);i!==null&&a.deleteRenderbuffer(i),a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});d.exports=o},1482:(d,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i){this.webGLProgram=null,this.gl=a,this.vertexSource=r,this.fragmentSource=i,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var a=o.createProgram(),r=o.createShader(o.VERTEX_SHADER),i=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(r,this.vertexSource),o.shaderSource(i,this.fragmentSource),o.compileShader(r),o.compileShader(i);var n=`Shader failed:
`;if(!o.getShaderParameter(r,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(r));if(!o.getShaderParameter(i,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(i));if(o.attachShader(a,r),o.attachShader(a,i),o.linkProgram(a),!o.getProgramParameter(a,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(a));o.useProgram(a),this.webGLProgram=a}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});d.exports=x},82751:(d,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50030),o=new h({initialize:function(r,i,n,l,s,u,f,c,v,g,y,T,E){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=i,this.minFilter=n,this.magFilter=l,this.wrapT=s,this.wrapS=u,this.format=f,this.pixels=c,this.width=v,this.height=g,this.pma=y??!0,this.forceSize=!!T,this.flipY=!!E,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var r=a.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(a,r,i,n,l,s,u,f,c){if(!(r===0||i===0)){this.pixels=a,this.width=r,this.height=i,this.flipY=n,this.wrapS=l,this.wrapT=s,this.minFilter=u,this.magFilter=f,this.format=c;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var a=this.gl;a.activeTexture(a.TEXTURE0);var r=a.getParameter(a.TEXTURE_BINDING_2D);a.bindTexture(a.TEXTURE_2D,this.webGLTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.minFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.magFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this.wrapS),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this.wrapT),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels,n=this.mipLevel,l=this.width,s=this.height,u=this.format,f=!1;if(i==null)a.texImage2D(a.TEXTURE_2D,n,u,l,s,0,u,a.UNSIGNED_BYTE,null),f=x(l,s);else if(i.compressed){l=i.width,s=i.height,f=i.generateMipmap;for(var c=0;c<i.mipmaps.length;c++)a.compressedTexImage2D(a.TEXTURE_2D,c,i.internalFormat,i.mipmaps[c].width,i.mipmaps[c].height,0,i.mipmaps[c].data)}else i instanceof Uint8Array?(a.texImage2D(a.TEXTURE_2D,n,u,l,s,0,u,a.UNSIGNED_BYTE,i),f=x(l,s)):(this.forceSize||(l=i.width,s=i.height),a.texImage2D(a.TEXTURE_2D,n,u,u,a.UNSIGNED_BYTE,i),f=x(l,s));f&&a.generateMipmap(a.TEXTURE_2D),r?a.bindTexture(a.TEXTURE_2D,r):a.bindTexture(a.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(a){this.__SPECTOR_Metadata=a,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=a)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});d.exports=o},57183:(d,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i){this.webGLUniformLocation=null,this.gl=a,this.program=r,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});d.exports=x},9503:(d,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};d.exports=h},76531:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),x=t(83419),o=t(50792),a=t(97480),r=t(8443),i=t(57811),n=t(74403),l=t(45818),s=t(29747),u=t(87841),f=t(86555),c=t(56583),v=t(26099),g=t(38058),y=new x({Extends:o,initialize:function(E){o.call(this),this.game=E,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:s,windowResize:s,fullScreenChange:s,fullScreenError:s}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var T=this.game;this.canvas=T.canvas,this.fullscreen=T.device.fullscreen;var E=this.scaleMode;E!==h.SCALE_MODE.RESIZE&&E!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(E),E===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),T.events.on(r.PRE_STEP,this.step,this),T.events.once(r.READY,this.refresh,this),T.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(T){this.getParent(T),this.getParentBounds();var E=T.width,A=T.height,P=T.scaleMode,w=T.zoom,I=T.autoRound;if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var O=this.parentSize.width;O===0&&(O=window.innerWidth);var F=parseInt(E,10)/100;E=Math.floor(O*F)}if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var D=parseInt(A,10)/100;A=Math.floor(L*D)}this.scaleMode=P,this.autoRound=I,this.autoCenter=T.autoCenter,this.resizeInterval=T.resizeInterval,I&&(E=Math.floor(E),A=Math.floor(A)),this.gameSize.setSize(E,A),w===h.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(E,A),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),T.minWidth>0&&this.displaySize.setMin(T.minWidth*w,T.minHeight*w),T.maxWidth>0&&this.displaySize.setMax(T.maxWidth*w,T.maxHeight*w),this.displaySize.setSize(E,A),(T.snapWidth>0||T.snapHeight>0)&&this.displaySize.setSnap(T.snapWidth,T.snapHeight),this.orientation=l(E,A)},getParent:function(T){var E=T.parent;if(E!==null){if(this.parent=n(E),this.parentIsWindow=this.parent===document.body,T.expandParent&&T.scaleMode!==h.SCALE_MODE.NONE){var A=this.parent.getBoundingClientRect();(this.parentIsWindow||A.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",A=this.parent.getBoundingClientRect(),!this.parentIsWindow&&A.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}T.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(T.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var T=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=i(!0));var A=E.width,P=E.height;if(T.width!==A||T.height!==P)return T.setSize(A,P),!0;if(this.canvas){var w=this.canvasBounds,I=this.canvas.getBoundingClientRect();if(I.x!==w.x||I.y!==w.y)return!0}return!1},lockOrientation:function(T){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return E?E.call(screen,T):!1},setParentSize:function(T,E){return this.parentSize.setSize(T,E),this.refresh()},setGameSize:function(T,E){var A=this.autoRound;A&&(T=Math.floor(T),E=Math.floor(E));var P=this.width,w=this.height;return this.gameSize.resize(T,E),this.baseSize.resize(T,E),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(T/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(P,w)},resize:function(T,E){var A=this.zoom,P=this.autoRound;P&&(T=Math.floor(T),E=Math.floor(E));var w=this.width,I=this.height;this.gameSize.resize(T,E),this.baseSize.resize(T,E),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(T*A,E*A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var O=this.canvas.style,F=T*A,L=E*A;return P&&(F=Math.floor(F),L=Math.floor(L)),(F!==T||L!==E)&&(O.width=F+"px",O.height=L+"px"),this.refresh(w,I)},setZoom:function(T){return this.zoom=T,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(T,E){return T===void 0&&(T=0),E===void 0&&(E=T),this.displaySize.setSnap(T,E),this.refresh()},refresh:function(T,E){T===void 0&&(T=this.width),E===void 0&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var A=this.game.domContainer;if(A){this.baseSize.setCSS(A);var P=this.canvas.style,w=A.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=P.marginLeft,w.marginTop=P.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,T,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var T=l(this.width,this.height);T!==this.orientation&&(this.orientation=T,this.emit(a.ORIENTATION_CHANGE,T))}},updateScale:function(){var T=this.canvas.style,E=this.gameSize.width,A=this.gameSize.height,P,w,I=this.zoom,O=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(E*I,A*I),P=this.displaySize.width,w=this.displaySize.height,O&&(P=Math.floor(P),w=Math.floor(w)),this._resetZoom&&(T.width=P+"px",T.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),P=this.displaySize.width,w=this.displaySize.height,O&&(P=Math.floor(P),w=Math.floor(w)),this.canvas.width=P,this.canvas.height=w;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var F=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,w=this.displaySize.height,O&&(P=Math.floor(P),w=Math.floor(w)),T.width=P+"px",T.height=w+"px";var D=this.parentSize.width/F,b=this.parentSize.height/L;D<b&&D!==0?this.baseSize.setSize(F,this.parentSize.height/D):b!==0&&this.baseSize.setSize(this.displaySize.width/b,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),P=this.baseSize.width,w=this.baseSize.height,O&&(P=Math.floor(P),w=Math.floor(w)),this.canvas.width=P,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,w=this.displaySize.height,O&&(P=Math.floor(P),w=Math.floor(w)),T.width=P+"px",T.height=w+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var T=c(this.parentSize.width,this.gameSize.width,0,!0),E=c(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(T,E),1)},updateCenter:function(){var T=this.autoCenter;if(T!==h.CENTER.NO_CENTER){var E=this.canvas,A=E.style,P=E.getBoundingClientRect(),w=P.width,I=P.height,O=Math.floor((this.parentSize.width-w)/2),F=Math.floor((this.parentSize.height-I)/2);T===h.CENTER.CENTER_HORIZONTALLY?F=0:T===h.CENTER.CENTER_VERTICALLY&&(O=0),A.marginLeft=O+"px",A.marginTop=F+"px"}},updateBounds:function(){var T=this.canvasBounds,E=this.canvas.getBoundingClientRect();T.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),T.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),T.width=E.width,T.height=E.height},transformX:function(T){return(T-this.canvasBounds.left)*this.displayScale.x},transformY:function(T){return(T-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(T){T===void 0&&(T={navigationUI:"hide"});var E=this.fullscreen;if(!E.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!E.active){var A=this.getFullscreenTarget();E.keyboard?A[E.request](Element.ALLOW_KEYBOARD_INPUT):A[E.request](T)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(T){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,T)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var T=document.createElement("div");T.style.margin="0",T.style.padding="0",T.style.width="100%",T.style.height="100%",this.fullscreenTarget=T,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var E=this.canvas.parentNode;E.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var T=this.fullscreenTarget;if(T&&T.parentNode){var E=T.parentNode;E.insertBefore(this.canvas,T),E.removeChild(T)}}},stopFullscreen:function(){var T=this.fullscreen;if(!T.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;T.active&&document[T.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(T){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(T)},startListeners:function(){var T=this,E=this.domlisteners;if(E.orientationChange=function(){T.updateBounds(),T._checkOrientation=!0,T.dirty=!0,T.refresh()},E.windowResize=function(){T.updateBounds(),T.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",E.orientationChange,!1):window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available){E.fullScreenChange=function(P){return T.onFullScreenChange(P)},E.fullScreenError=function(P){return T.onFullScreenError(P)};var A=["webkit","moz",""];A.forEach(function(P){document.addEventListener(P+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(P+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(T,E){T instanceof g||(E=T,T=void 0),E===void 0&&(E=new u);var A=this.baseSize,P=this.parentSize,w=this.canvasBounds,I=this.displayScale,O=w.x>=0?0:-(w.x*I.x),F=w.y>=0?0:-(w.y*I.y),L;P.width>=w.width?L=A.width:L=A.width-(w.width-P.width)*I.x;var D;return P.height>=w.height?D=A.height:D=A.height-(w.height-P.height)*I.y,E.setTo(O,F,L,D),T&&(E.width/=T.zoomX,E.height/=T.zoomY,E.centerX=T.centerX+T.scrollX,E.centerY=T.centerY+T.scrollY),E},step:function(T,E){this.parent&&(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var T=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",T.orientationChange,!1):window.removeEventListener("orientationchange",T.orientationChange,!1),window.removeEventListener("resize",T.windowResize,!1);var E=["webkit","moz",""];E.forEach(function(A){document.removeEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.removeEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",T.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});d.exports=y},64743:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};d.exports=h},56139:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="enterfullscreen"},2336:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="fullscreenfailed"},47412:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="fullscreenunsupported"},51452:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="leavefullscreen"},20666:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="orientationchange"},47945:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resize"},97480:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=h(!1,o,x.CENTER),o=h(!1,o,x.ORIENTATION),o=h(!1,o,x.SCALE_MODE),o=h(!1,o,x.ZOOM),d.exports=o},27397:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=t(35355),o=function(a){var r=a.game.config.defaultPhysicsSystem,i=h(a.settings,"physics",!1);if(!(!r&&!i)){var n=[];if(r&&n.push(x(r+"Physics")),i)for(var l in i)l=x(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};d.exports=o},52106:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o){var a=o.plugins.getDefaultScenePlugins(),r=h(o.settings,"plugins",!1);return Array.isArray(r)?r:a||[]};d.exports=x},87033:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};d.exports=S},97482:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(2368),o=new h({initialize:function(r){this.sys=new x(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});d.exports=o},60903:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89993),o=t(44594),a=t(8443),r=t(35154),i=t(54899),n=t(29747),l=t(97482),s=t(2368),u=new h({initialize:function(c,v){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)this._pending.push({key:"default",scene:v[g],autoStart:g===0,data:{}})}c.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(a.SYSTEM_READY,this.systemScene,this);var f,c,v,g;for(f=0;f<this._pending.length;f++){c=this._pending[f],v=c.key,g=c.scene;var y;g instanceof l?y=this.createSceneFromInstance(v,g):typeof g=="object"?y=this.createSceneFromObject(v,g):typeof g=="function"&&(y=this.createSceneFromFunction(v,g)),v=y.sys.settings.key,this.keys[v]=y,this.scenes.push(y),this._data[v]&&(y.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(c.autoStart=!0)),(c.autoStart||y.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0}},processQueue:function(){var f=this._pending.length,c=this._queue.length;if(!(f===0&&c===0)){var v,g;if(f){for(v=0;v<f;v++)g=this._pending[v],this.add(g.key,g.scene,g.autoStart,g.data);for(v=0;v<this._start.length;v++)g=this._start[v],this.start(g);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)g=this._queue[v],this[g.op](g.keyA,g.keyB,g.data);this._queue.length=0}},add:function(f,c,v,g){if(v===void 0&&(v=!1),g===void 0&&(g={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:c,autoStart:v,data:g}),this.isBooted||(this._data[f]={data:g}),null;f=this.getKey(f,c);var y;return c instanceof l?y=this.createSceneFromInstance(f,c):typeof c=="object"?(c.key=f,y=this.createSceneFromObject(f,c)):typeof c=="function"&&(y=this.createSceneFromFunction(f,c)),y.sys.settings.data=g,f=y.sys.settings.key,this.keys[f]=y,this.scenes.push(y),(v||y.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),y},remove:function(f){if(this.isProcessing)return this.queueOp("remove",f);var c=this.getScene(f);if(!c||c.sys.isTransitioning())return this;var v=this.scenes.indexOf(c),g=c.sys.settings.key;return v>-1&&(delete this.keys[g],this.scenes.splice(v,1),this._start.indexOf(g)>-1&&(v=this._start.indexOf(g),this._start.splice(v,1)),c.sys.destroy()),this},bootScene:function(f){var c=f.sys,v=c.settings;c.sceneUpdate=n,f.init&&(f.init.call(f,v.data),v.status=x.INIT,v.isTransition&&c.events.emit(o.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var g;c.load&&(g=c.load,g.reset()),g&&f.preload?(f.preload.call(f),v.status=x.LOADING,g.once(i.COMPLETE,this.loadComplete,this),g.start()):this.create(f)},loadComplete:function(f){this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,c){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var g=this.scenes[v].sys;g.settings.status>x.START&&g.settings.status<=x.RUNNING&&g.step(f,c),g.scenePlugin&&g.scenePlugin._target&&g.scenePlugin.step(f,c)}},render:function(f){for(var c=0;c<this.scenes.length;c++){var v=this.scenes[c].sys;v.settings.visible&&v.settings.status>=x.LOADING&&v.settings.status<x.SLEEPING&&v.render(f)}this.isProcessing=!1},create:function(f){var c=f.sys,v=c.settings;f.create&&(v.status=x.CREATING,f.create.call(f,v.data),v.status===x.DESTROYED)||(v.isTransition&&c.events.emit(o.TRANSITION_START,v.transitionFrom,v.transitionDuration),f.update&&(c.sceneUpdate=f.update),v.status=x.RUNNING,c.events.emit(o.CREATE,f))},createSceneFromFunction:function(f,c){var v=new c;if(v instanceof l){var g=v.sys.settings.key;if(g!==""&&(f=g),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return this.createSceneFromInstance(f,v)}else return v.sys=new s(v),v.sys.settings.key=f,v.sys.init(this.game),v},createSceneFromInstance:function(f,c){var v=c.sys.settings.key;return v===""&&(c.sys.settings.key=f),c.sys.init(this.game),c},createSceneFromObject:function(f,c){var v=new l(c),g=v.sys.settings.key;g!==""?f=g:v.sys.settings.key=f,v.sys.init(this.game);for(var y=["init","preload","create","update","render"],T=0;T<y.length;T++){var E=r(c,y[T],null);E&&(v[y[T]]=E)}if(c.hasOwnProperty("extend")){for(var A in c.extend)if(c.extend.hasOwnProperty(A)){var P=c.extend[A];A==="data"&&v.hasOwnProperty("data")&&typeof P=="object"?v.data.merge(P):A!=="sys"&&(v[A]=P)}}return v},getKey:function(f,c){if(f||(f="default"),typeof c=="function")return f;if(c instanceof l?f=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(f=c.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return f},getScenes:function(f,c){f===void 0&&(f=!0),c===void 0&&(c=!1);for(var v=[],g=this.scenes,y=0;y<g.length;y++){var T=g[y];T&&(!f||f&&T.sys.isActive())&&v.push(T)}return c?v.reverse():v},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var c=0;c<this.scenes.length;c++)if(f===this.scenes[c])return f;return null},isActive:function(f){var c=this.getScene(f);return c?c.sys.isActive():null},isPaused:function(f){var c=this.getScene(f);return c?c.sys.isPaused():null},isVisible:function(f){var c=this.getScene(f);return c?c.sys.isVisible():null},isSleeping:function(f){var c=this.getScene(f);return c?c.sys.isSleeping():null},pause:function(f,c){var v=this.getScene(f);return v&&v.sys.pause(c),this},resume:function(f,c){var v=this.getScene(f);return v&&v.sys.resume(c),this},sleep:function(f,c){var v=this.getScene(f);return v&&!v.sys.isTransitioning()&&v.sys.sleep(c),this},wake:function(f,c){var v=this.getScene(f);return v&&v.sys.wake(c),this},run:function(f,c){var v=this.getScene(f);if(!v){for(var g=0;g<this._pending.length;g++)if(this._pending[g].key===f){this.queueOp("start",f,c);break}return this}v.sys.isSleeping()?v.sys.wake(c):v.sys.isPaused()?v.sys.resume(c):this.start(f,c)},start:function(f,c){if(!this.isBooted)return this._data[f]={autoStart:!0,data:c},this;var v=this.getScene(f);if(!v)return console.warn("Scene key not found: "+f),this;var g=v.sys,y=g.settings.status;if(y>=x.START&&y<=x.CREATING)return this;if(y>=x.RUNNING&&y<=x.SLEEPING)g.shutdown(),g.sceneUpdate=n,g.start(c);else{g.sceneUpdate=n,g.start(c);var T;if(g.load&&(T=g.load),T&&g.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:g.settings.pack})))return g.settings.status=x.LOADING,T.once(i.COMPLETE,this.payloadComplete,this),T.start(),this}return this.bootScene(v),this},stop:function(f,c){var v=this.getScene(f);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==x.SHUTDOWN){var g=v.sys.load;g&&(g.off(i.COMPLETE,this.loadComplete,this),g.off(i.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(c)}return this},switch:function(f,c,v){var g=this.getScene(f),y=this.getScene(c);return g&&y&&g!==y&&(this.sleep(f),this.isSleeping(c)?this.wake(c,v):this.start(c,v)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var c=this.getScene(f);return this.scenes.indexOf(c)},bringToTop:function(f){if(this.isProcessing)return this.queueOp("bringToTop",f);var c=this.getIndex(f),v=this.scenes;if(c!==-1&&c<v.length){var g=this.getScene(f);v.splice(c,1),v.push(g)}return this},sendToBack:function(f){if(this.isProcessing)return this.queueOp("sendToBack",f);var c=this.getIndex(f);if(c!==-1&&c>0){var v=this.getScene(f);this.scenes.splice(c,1),this.scenes.unshift(v)}return this},moveDown:function(f){if(this.isProcessing)return this.queueOp("moveDown",f);var c=this.getIndex(f);if(c>0){var v=c-1,g=this.getScene(f),y=this.getAt(v);this.scenes[c]=y,this.scenes[v]=g}return this},moveUp:function(f){if(this.isProcessing)return this.queueOp("moveUp",f);var c=this.getIndex(f);if(c<this.scenes.length-1){var v=c+1,g=this.getScene(f),y=this.getAt(v);this.scenes[c]=y,this.scenes[v]=g}return this},moveAbove:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("moveAbove",f,c);var v=this.getIndex(f),g=this.getIndex(c);if(v!==-1&&g!==-1&&g<v){var y=this.getAt(g);this.scenes.splice(g,1),this.scenes.splice(v+(g>v),0,y)}return this},moveBelow:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("moveBelow",f,c);var v=this.getIndex(f),g=this.getIndex(c);if(v!==-1&&g!==-1&&g>v){var y=this.getAt(g);this.scenes.splice(g,1),v===0?this.scenes.unshift(y):this.scenes.splice(v-(g<v),0,y)}return this},queueOp:function(f,c,v,g){return this._queue.push({op:f,keyA:c,keyB:v,data:g}),this},swapPosition:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("swapPosition",f,c);var v=this.getIndex(f),g=this.getIndex(c);if(v!==g&&v!==-1&&g!==-1){var y=this.getAt(v);this.scenes[v]=this.scenes[g],this.scenes[g]=y}return this},dump:function(){for(var f=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var g=this.scenes[v].sys,y=g.settings.visible&&(g.settings.status===x.RUNNING||g.settings.status===x.PAUSED)?"[*] ":"[-] ";y+=g.settings.key+" ("+c[g.settings.status]+")",f.push(y)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});d.exports=u},52209:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(44594),a=t(95540),r=t(37277),i=new x({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=a(n,"target",!1),s=this.manager.getScene(l);if(!l||!this.checkValidTransition(s))return!1;var u=a(n,"duration",1e3);this._elapsed=0,this._target=s,this._duration=u,this._willSleep=a(n,"sleep",!1),this._willRemove=a(n,"remove",!1);var f=a(n,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=a(n,"onUpdateScope",this.scene));var c=a(n,"allowInput",!1);this.settings.transitionAllowInput=c;var v=s.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=u,v.transitionAllowInput=c,a(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):a(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),s.sys.isSleeping()?s.sys.wake(a(n,"data")):this.manager.start(l,a(n,"data"));var g=a(n,"onStart",null),y=a(n,"onStartScope",this.scene);return g&&g.call(y,this.scene,s,u),this.systems.events.emit(o.TRANSITION_OUT,s,u),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,s,u){return this.manager.add(n,l,s,u)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n,l){return n!==this.key&&this.manager.queueOp("switch",this.key,n,l),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,s){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(n,s),this},setVisible:function(n,l){l===void 0&&(l=this.key);var s=this.manager.getScene(l);return s&&s.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",i,"scenePlugin"),d.exports=i},55681:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),x=t(35154),o=t(46975),a=t(87033),r={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:h.PENDING,key:x(i,"key",""),active:x(i,"active",!1),visible:x(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(i,"pack",!1),cameras:x(i,"cameras",null),map:x(i,"map",o(a,x(i,"mapAdd",{}))),physics:x(i,"physics",{}),loader:x(i,"loader",{}),plugins:x(i,"plugins",!1),input:x(i,"input",{})}}};d.exports=r},2368:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(89993),o=t(42363),a=t(44594),r=t(27397),i=t(52106),n=t(29747),l=t(55681),s=new h({initialize:function(f,c){this.scene=f,this.game,this.renderer,this.config=c,this.settings=l.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(u){this.settings.status=x.INIT,this.sceneUpdate=n,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var f=u.plugins;this.plugins=f,f.addToScene(this,o.Global,[o.CoreScene,i(this),r(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(u,f){var c=this.events;c.emit(a.PRE_UPDATE,u,f),c.emit(a.UPDATE,u,f),this.sceneUpdate.call(this.scene,u,f),c.emit(a.POST_UPDATE,u,f)},render:function(u){var f=this.displayList;f.depthSort(),this.events.emit(a.PRE_RENDER,u),this.cameras.render(u,f),this.events.emit(a.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var f=this.settings,c=this.getStatus();return c!==x.CREATING&&c!==x.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=x.PAUSED,f.active=!1,this.events.emit(a.PAUSE,this,u)),this},resume:function(u){var f=this.events,c=this.settings;return this.settings.active||(c.status=x.RUNNING,c.active=!0,f.emit(a.RESUME,this,u)),this},sleep:function(u){var f=this.settings,c=this.getStatus();return c!==x.CREATING&&c!==x.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=x.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(a.SLEEP,this,u)),this},wake:function(u){var f=this.events,c=this.settings;return c.status=x.RUNNING,c.active=!0,c.visible=!0,f.emit(a.WAKE,this,u),c.isTransition&&f.emit(a.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var u=this.settings.status;return u>x.PENDING&&u<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,f){return u?this.resume(f):this.pause(f)},start:function(u){var f=this.events,c=this.settings;u&&(c.data=u),c.status=x.START,c.active=!0,c.visible=!0,f.emit(a.START,this),f.emit(a.READY,this,u)},shutdown:function(u){var f=this.events,c=this.settings;f.off(a.TRANSITION_INIT),f.off(a.TRANSITION_START),f.off(a.TRANSITION_COMPLETE),f.off(a.TRANSITION_OUT),c.status=x.SHUTDOWN,c.active=!1,c.visible=!1,f.emit(a.SHUTDOWN,this,u)},destroy:function(){var u=this.events,f=this.settings;f.status=x.DESTROYED,f.active=!1,f.visible=!1,u.emit(a.DESTROY,this),u.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<c.length;v++)this[c[v]]=null}});d.exports=s},89993:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};d.exports=S},69830:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="addedtoscene"},7919:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="boot"},46763:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="create"},11763:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="destroy"},71555:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pause"},36735:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="postupdate"},3809:d=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="prerender"},90716:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="preupdate"},58262:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="ready"},91633:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="removedfromscene"},10319:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="render"},87132:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resume"},81961:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="shutdown"},90194:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="sleep"},6265:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="start"},33178:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="transitioncomplete"},43063:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="transitioninit"},11259:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="transitionout"},61611:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="transitionstart"},45209:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="transitionwake"},22966:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="update"},21747:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="wake"},44594:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),x=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=x(!1,o,h),d.exports=o},30341:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(14463),a=t(79291),r=t(29747),i=new h({Extends:x,initialize:function(l,s,u){x.call(this),this.manager=l,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=a(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=a(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,s=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});d.exports=i},85034:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(41786),o=t(50792),a=t(14463),r=t(8443),i=t(46710),n=t(58731),l=t(29747),s=t(26099),u=new h({Extends:o,initialize:function(c){o.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s;var v=c.events;v.on(r.BLUR,this.onGameBlur,this),v.on(r.FOCUS,this.onGameFocus,this),v.on(r.PRE_STEP,this.update,this),v.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,c){c===void 0&&(c={});var v=this.add(f,c);v.spritemap=this.jsonCache.get(f).spritemap;for(var g in v.spritemap)if(v.spritemap.hasOwnProperty(g)){var y=x(c),T=v.spritemap[g];y.loop=T.hasOwnProperty("loop")?T.loop:!1,v.addMarker({name:g,start:T.start,duration:T.end-T.start,config:y})}return v},get:function(f){return n(this.sounds,"key",f)},getAll:function(f){return f?i(this.sounds,"key",f):i(this.sounds)},getAllPlaying:function(){return i(this.sounds,"isPlaying",!0)},play:function(f,c){var v=this.add(f);return v.once(a.COMPLETE,v.destroy,v),c?c.name?(v.addMarker(c),v.play(c.name)):v.play(c):v.play()},playAudioSprite:function(f,c,v){var g=this.addAudioSprite(f);return g.once(a.COMPLETE,g.destroy,g),g.play(c,v)},remove:function(f){var c=this.sounds.indexOf(f);return c!==-1?(f.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var c=0,v=this.sounds.length-1;v>=0;v--){var g=this.sounds[v];g.key===f&&(g.destroy(),this.sounds.splice(v,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(f){var c=0;return this.getAll(f).forEach(function(v){v.stop()&&c++}),c},isPlaying:function(f){var c=this.sounds,v=c.length-1,g;if(f===void 0){for(;v>=0;v--)if(g=this.sounds[v],g.isPlaying)return!0}else for(;v>=0;v--)if(g=this.sounds[v],g.key===f&&g.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(g){g.update(f,c)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,c){var v=this;this.sounds.forEach(function(g,y){g&&!g.pendingRemove&&f.call(c||v,g,y,v.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,f)}}});d.exports=u},14747:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33684),x=t(25960),o=t(57490),a={create:function(r){var i=r.config.audio,n=r.device.audio;return i.noAudio||!n.webAudio&&!n.audioData?new x(r):n.webAudio&&!i.disableWebAudio?new o(r):new h(r)}};d.exports=a},19723:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="complete"},98882:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="decodedall"},57506:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="decoded"},73146:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="destroy"},11305:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="detune"},40577:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="detune"},30333:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="mute"},20394:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="rate"},21802:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="volume"},1299:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="looped"},99190:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="loop"},97125:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="mute"},89259:d=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pan"},79986:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pauseall"},17586:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pause"},19618:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="play"},42306:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="rate"},10387:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resumeall"},48959:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resume"},9960:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="seek"},19180:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="stopall"},98328:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="stop"},50401:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="unlocked"},52498:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="volume"},14463:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),x=t(83419),o=t(14463),a=t(45319),r=new x({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,n,l,s)},play:function(i,n){return this.manager.isLocked(this,"play",[i,n])||!h.prototype.play.call(this,i,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var n=this.tags[i];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,f){return u.loop===f.loop?f.seek/f.duration-u.seek/u.duration:u.loop?1:-1});var s=l[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,s-l),s=this.audio.currentTime):s<n&&(this.audio.currentTime+=n,s=this.audio.currentTime),s<this.previousTime&&this.emit(o.LOOPED,this);else if(s>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=s}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(o.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(o.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,o.RATE,i)&&(this.calculateRate(),this.emit(o.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,o.DETUNE,i)&&(this.calculateRate(),this.emit(o.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(o.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});d.exports=r},33684:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),x=t(83419),o=t(14463),a=t(64895),r=new x({Extends:h,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,n)},add:function(i,n){var l=new a(this,i,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(u,f){for(var c=0;c<f.length;c++)if(f[c].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},s=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",s);var u=[];if(i.game.cache.audio.entries.each(function(c,v){for(var g=0;g<v.length;g++){var y=v[g];y.dataset.locked==="true"&&u.push(y)}return!0}),u.length!==0){var f=u[u.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,u.forEach(function(c){c.dataset.locked="false"}),i.unlocked=!0},u.forEach(function(c){c.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,n,l){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:n,value:l}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,i)}}});d.exports=r},23717:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),x=t(83419),o=t(50792),a=t(79291),r=t(29747),i=function(){return!1},n=function(){return null},l=function(){return this},s=new x({Extends:o,initialize:function(f,c,v){v===void 0&&(v={}),o.call(this),this.manager=f,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:i,updateMarker:i,removeMarker:n,play:i,pause:i,resume:i,stop:i,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){h.prototype.destroy.call(this)}});d.exports=s},25960:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),x=t(83419),o=t(50792),a=t(4603),r=t(29747),i=new x({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var s=new a(this,n,l);return this.sounds.push(s),s},addAudioSprite:function(n,l){var s=this.add(n,l);return s.spritemap={},s},get:function(n){return h.prototype.get.call(this,n)},getAll:function(n){return h.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,s){return!1},remove:function(n){return h.prototype.remove.call(this,n)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(n){return h.prototype.removeByKey.call(this,n)},stopByKey:function(n){return h.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){h.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){h.prototype.destroy.call(this)}});d.exports=i},71741:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),x=t(83419),o=t(14463),a=t(95540),r=new x({Extends:h,initialize:function(n,l,s){if(s===void 0&&(s={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,n,l,s)},play:function(i,n){return h.prototype.play.call(this,i,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var i=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,s=(this.currentMarker?this.currentMarker.start:0)+i,u=this.duration-i;this.playTime=l-i,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,s),Math.max(0,u)),this.resetConfig()},createAndStartLoopBufferSource:function(){var i=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=i,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,i),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var i=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){var s=l.target;(s===i.source||s===i.loopSource)&&(i.currentConfig.loop?i.hasLooped=!0:i.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var i=this.source;this.source=null,i.stop(),i.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var i=this.currentConfig.source;if(i&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=a(i,"panningModel","equalpower"),n.distanceModel=a(i,"distanceModel","inverse"),n.orientationX.value=a(i,"orientationX",0),n.orientationY.value=a(i,"orientationY",0),n.orientationZ.value=a(i,"orientationZ",-1),n.refDistance=a(i,"refDistance",1),n.maxDistance=a(i,"maxDistance",1e4),n.rolloffFactor=a(i,"rolloffFactor",1),n.coneInnerAngle=a(i,"coneInnerAngle",360),n.coneOuterAngle=a(i,"coneOuterAngle",0),n.coneOuterGain=a(i,"coneOuterGain",0),this.spatialSource=a(i,"follow",null),this.spatialSource||(n.positionX.value=a(i,"x",0),n.positionY.value=a(i,"y",0),n.positionZ.value=a(i,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(i){this.spatialNode&&(this.spatialNode.positionX.value=i)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(i){this.spatialNode&&(this.spatialNode.positionY.value=i)}},update:function(){if(this.isPlaying&&this.spatialSource){var i=a(this.spatialSource,"x",null),n=a(this.spatialSource,"y",null);i&&i!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=i),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var i=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,i),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,i)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var i=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,i+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return i},getLoopTime:function(){for(var i=0,n=0;n<this.rateUpdates.length-1;n++)i+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-i)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,this.calculateRate(),this.emit(o.RATE,this,i)}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,this.calculateRate(),this.emit(o.DETUNE,this,i)}},setDetune:function(i){return this.detune=i,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(i){this.currentConfig.mute=i,this.muteNode.gain.setValueAtTime(i?0:1,0),this.emit(o.MUTE,this,i)}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(i){this.currentConfig.volume=i,this.volumeNode.gain.setValueAtTime(i,0),this.emit(o.VOLUME,this,i)}},setVolume:function(i){return this.volume=i,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.currentConfig.seek=i,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),i&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,i)}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(i){this.currentConfig.pan=i,this.pannerNode&&this.pannerNode.pan.setValueAtTime(i,this.manager.context.currentTime),this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});d.exports=r},57490:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53134),x=t(85034),o=t(83419),a=t(14463),r=t(8443),i=t(71741),n=t(95540),l=new o({Extends:x,initialize:function(u){this.context=this.createAudioContext(u),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",x.call(this,u),this.locked&&(u.isBooted?this.unlock():u.events.once(r.BOOT,this.unlock,this)),u.events.on(r.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var s=this.context;window.setTimeout(function(){s&&(s.suspend(),s.resume())},100)},createAudioContext:function(s){var u=s.config.audio;if(u.context)return u.context.resume(),u.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,u){var f=new i(this,s,u);return this.sounds.push(f),f},decodeAudio:function(s,u){var f;Array.isArray(s)?f=s:f=[{key:s,data:u}];for(var c=this.game.cache.audio,v=f.length,g=0;g<f.length;g++){var y=f[g],T=y.key,E=y.data;typeof E=="string"&&(E=h(E));var A=(function(w,I){c.add(w,I),this.emit(a.DECODED,w),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,T),P=(function(w,I){console.error("Error decoding audio: "+w+" - ",I?I.message:""),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,T);this.context.decodeAudioData(E,A,P)}},setListenerPosition:function(s,u){return s===void 0&&(s=this.game.scale.width/2),u===void 0&&(u=this.game.scale.height/2),this.listenerPosition.set(s,u),this},unlock:function(){var s=this,u=document.body,f=function c(){if(s.context&&u){var v=u.removeEventListener.bind(u);s.context.resume().then(function(){v("touchstart",c),v("touchend",c),v("mousedown",c),v("mouseup",c),v("keydown",c),s.unlocked=!0},function(){v("touchstart",c),v("touchend",c),v("mousedown",c),v("mouseup",c),v("keydown",c)})}};u&&(u.addEventListener("touchstart",f,!1),u.addEventListener("touchend",f,!1),u.addEventListener("mousedown",f,!1),u.addEventListener("mouseup",f,!1),u.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,u){var f=this.context.listener;if(f&&f.positionX!==void 0){var c=n(this.listenerPosition,"x",null),v=n(this.listenerPosition,"y",null);c&&c!==this._spatialx&&(this._spatialx=f.positionX.value=c),v&&v!==this._spatialy&&(this._spatialy=f.positionY.value=v)}x.prototype.update.call(this,s,u),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}this.game.events.off(r.VISIBLE,this.onGameVisible,this),x.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(a.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(a.GLOBAL_VOLUME,this,s)}}});d.exports=l},73162:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),x=t(83419),o=t(29747),a=t(19186),r=new x({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(i,n){return n?h.Add(this.list,i):h.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,n,l){return l?h.AddAt(this.list,i,n):h.AddAt(this.list,i,n,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,n){return i?(n===void 0&&(n=function(l,s){return l[i]-s[i]}),a(this.list,n),this):this},getByName:function(i){return h.GetFirst(this.list,"name",i)},getRandom:function(i,n){return h.GetRandom(this.list,i,n)},getFirst:function(i,n,l,s){return h.GetFirst(this.list,i,n,l,s)},getAll:function(i,n,l,s){return h.GetAll(this.list,i,n,l,s)},count:function(i,n){return h.CountAllMatching(this.list,i,n)},swap:function(i,n){h.Swap(this.list,i,n)},moveTo:function(i,n){return h.MoveTo(this.list,i,n)},moveAbove:function(i,n){return h.MoveAbove(this.list,i,n)},moveBelow:function(i,n){return h.MoveBelow(this.list,i,n)},remove:function(i,n){return n?h.Remove(this.list,i):h.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,n){return n?h.RemoveAt(this.list,i):h.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,n,l){return l?h.RemoveBetween(this.list,i,n):h.RemoveBetween(this.list,i,n,this.removeCallback,this)},removeAll:function(i){for(var n=this.list.length;n--;)this.remove(this.list[n],i);return this},bringToTop:function(i){return h.BringToTop(this.list,i)},sendToBack:function(i){return h.SendToBack(this.list,i)},moveUp:function(i){return h.MoveUp(this.list,i),i},moveDown:function(i){return h.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(i,n){return h.Replace(this.list,i,n)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,n,l,s){return h.SetAll(this.list,i,n,l,s),this},each:function(i,n){for(var l=[null],s=2;s<arguments.length;s++)l.push(arguments[s]);for(s=0;s<this.list.length;s++)l[0]=this.list[s],i.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});d.exports=r},90330:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a){this.entries={},this.size=0,this.setAll(a)},setAll:function(o){if(Array.isArray(o))for(var a=0;a<o.length;a++)this.set(o[a][0],o[a][1]);return this},set:function(o,a){return this.has(o)||this.size++,this.entries[o]=a,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],a=this.entries;for(var r in a)o.push(a[r]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],a=this.entries;for(var r in a)o.push(a[r]);return o},dump:function(){var o=this.entries;console.group("Map");for(var a in o)console.log(a,o[a]);console.groupEnd()},each:function(o){var a=this.entries;for(var r in a)if(o(r,a[r])===!1)break;return this},contains:function(o){var a=this.entries;for(var r in a)if(a[r]===o)return!0;return!1},merge:function(o,a){a===void 0&&(a=!1);var r=this.entries,i=o.entries;for(var n in i)r.hasOwnProperty(n)&&a?r[n]=i[n]:this.set(n,i[n]);return this}});d.exports=x},25774:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(82348),a=new h({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var i=this._pending,n=i.indexOf(r);n!==-1&&i.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,i=this._destroy,n=r.length;n--;)i.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,i=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var s=i.indexOf(l);s!==-1&&(i.splice(s,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&i.indexOf(l)===-1)&&(i.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});d.exports=a},59542:(d,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43886);function x(E){if(!(this instanceof x))return new x(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(E){var A=this.data,P=[],w=this.toBBox;if(!g(E,A))return P;for(var I=[],O,F,L,D;A;){for(O=0,F=A.children.length;O<F;O++)L=A.children[O],D=A.leaf?w(L):L,g(E,D)&&(A.leaf?P.push(L):v(E,D)?this._all(L,P):I.push(L));A=I.pop()}return P},collides:function(E){var A=this.data,P=this.toBBox;if(!g(E,A))return!1;for(var w=[],I,O,F,L;A;){for(I=0,O=A.children.length;I<O;I++)if(F=A.children[I],L=A.leaf?P(F):F,g(E,L)){if(A.leaf||v(E,L))return!0;w.push(F)}A=w.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var A=0,P=E.length;A<P;A++)this.insert(E[A]);return this}var w=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var I=this.data;this.data=w,w=I}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(E,A){if(!E)return this;for(var P=this.data,w=this.toBBox(E),I=[],O=[],F,L,D,b;P||I.length;){if(P||(P=I.pop(),L=I[I.length-1],F=O.pop(),b=!0),P.leaf&&(D=o(E,P.children,A),D!==-1))return P.children.splice(D,1),I.push(P),this._condense(I),this;!b&&!P.leaf&&v(P,w)?(I.push(P),O.push(F),F=0,L=P,P=P.children[0]):L?(F++,P=L.children[F],b=!1):P=null}return this},toBBox:function(E){return E},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,A){for(var P=[];E;)E.leaf?A.push.apply(A,E.children):P.push.apply(P,E.children),E=P.pop();return A},_build:function(E,A,P,w){var I=P-A+1,O=this._maxEntries,F;if(I<=O)return F=y(E.slice(A,P+1)),a(F,this.toBBox),F;w||(w=Math.ceil(Math.log(I)/Math.log(O)),O=Math.ceil(I/Math.pow(O,w-1))),F=y([]),F.leaf=!1,F.height=w;var L=Math.ceil(I/O),D=L*Math.ceil(Math.sqrt(O)),b,U,W,H;for(T(E,A,P,D,this.compareMinX),b=A;b<=P;b+=D)for(W=Math.min(b+D-1,P),T(E,b,W,L,this.compareMinY),U=b;U<=W;U+=L)H=Math.min(U+L-1,W),F.children.push(this._build(E,U,H,w-1));return a(F,this.toBBox),F},_chooseSubtree:function(E,A,P,w){for(var I,O,F,L,D,b,U,W;w.push(A),!(A.leaf||w.length-1===P);){for(U=W=1/0,I=0,O=A.children.length;I<O;I++)F=A.children[I],D=s(F),b=f(E,F)-D,b<W?(W=b,U=D<U?D:U,L=F):b===W&&D<U&&(U=D,L=F);A=L||A.children[0]}return A},_insert:function(E,A,P){var w=this.toBBox,I=P?E:w(E),O=[],F=this._chooseSubtree(I,this.data,A,O);for(F.children.push(E),i(F,I);A>=0&&O[A].children.length>this._maxEntries;)this._split(O,A),A--;this._adjustParentBBoxes(I,O,A)},_split:function(E,A){var P=E[A],w=P.children.length,I=this._minEntries;this._chooseSplitAxis(P,I,w);var O=this._chooseSplitIndex(P,I,w),F=y(P.children.splice(O,P.children.length-O));F.height=P.height,F.leaf=P.leaf,a(P,this.toBBox),a(F,this.toBBox),A?E[A-1].children.push(F):this._splitRoot(P,F)},_splitRoot:function(E,A){this.data=y([E,A]),this.data.height=E.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(E,A,P){var w,I,O,F,L,D,b,U;for(D=b=1/0,w=A;w<=P-A;w++)I=r(E,0,w,this.toBBox),O=r(E,w,P,this.toBBox),F=c(I,O),L=s(I)+s(O),F<D?(D=F,U=w,b=L<b?L:b):F===D&&L<b&&(b=L,U=w);return U},_chooseSplitAxis:function(E,A,P){var w=E.leaf?this.compareMinX:n,I=E.leaf?this.compareMinY:l,O=this._allDistMargin(E,A,P,w),F=this._allDistMargin(E,A,P,I);O<F&&E.children.sort(w)},_allDistMargin:function(E,A,P,w){E.children.sort(w);var I=this.toBBox,O=r(E,0,A,I),F=r(E,P-A,P,I),L=u(O)+u(F),D,b;for(D=A;D<P-A;D++)b=E.children[D],i(O,E.leaf?I(b):b),L+=u(O);for(D=P-A-1;D>=A;D--)b=E.children[D],i(F,E.leaf?I(b):b),L+=u(F);return L},_adjustParentBBoxes:function(E,A,P){for(var w=P;w>=0;w--)i(A[w],E)},_condense:function(E){for(var A=E.length-1,P;A>=0;A--)E[A].children.length===0?A>0?(P=E[A-1].children,P.splice(P.indexOf(E[A]),1)):this.clear():a(E[A],this.toBBox)},compareMinX:function(E,A){return E.left-A.left},compareMinY:function(E,A){return E.top-A.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function o(E,A,P){if(!P)return A.indexOf(E);for(var w=0;w<A.length;w++)if(P(E,A[w]))return w;return-1}function a(E,A){r(E,0,E.children.length,A,E)}function r(E,A,P,w,I){I||(I=y(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var O=A,F;O<P;O++)F=E.children[O],i(I,E.leaf?w(F):F);return I}function i(E,A){return E.minX=Math.min(E.minX,A.minX),E.minY=Math.min(E.minY,A.minY),E.maxX=Math.max(E.maxX,A.maxX),E.maxY=Math.max(E.maxY,A.maxY),E}function n(E,A){return E.minX-A.minX}function l(E,A){return E.minY-A.minY}function s(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function u(E){return E.maxX-E.minX+(E.maxY-E.minY)}function f(E,A){return(Math.max(A.maxX,E.maxX)-Math.min(A.minX,E.minX))*(Math.max(A.maxY,E.maxY)-Math.min(A.minY,E.minY))}function c(E,A){var P=Math.max(E.minX,A.minX),w=Math.max(E.minY,A.minY),I=Math.min(E.maxX,A.maxX),O=Math.min(E.maxY,A.maxY);return Math.max(0,I-P)*Math.max(0,O-w)}function v(E,A){return E.minX<=A.minX&&E.minY<=A.minY&&A.maxX<=E.maxX&&A.maxY<=E.maxY}function g(E,A){return A.minX<=E.maxX&&A.minY<=E.maxY&&A.maxX>=E.minX&&A.maxY>=E.minY}function y(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(E,A,P,w,I){for(var O=[A,P],F;O.length;)P=O.pop(),A=O.pop(),!(P-A<=w)&&(F=A+Math.ceil((P-A)/w/2)*w,h(E,F,A,P,I),O.push(A,F,F,P))}d.exports=x},35072:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,a){for(var r=0;r<this.entries.length;r++){var i=this.entries[r];if(i[o]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(o){var a=this.entries.indexOf(o);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var a=this.entries[o];console.log(a)}console.groupEnd()},each:function(o,a){var r,i=this.entries.slice(),n=i.length;if(a)for(r=0;r<n&&o.call(a,i[r],r)!==!1;r++);else for(r=0;r<n&&o(i[r],r)!==!1;r++);return this},iterate:function(o,a){var r,i=this.entries.length;if(a)for(r=0;r<i&&o.call(a,this.entries[r],r)!==!1;r++);else for(r=0;r<i&&o(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(o){var a,r=[];for(a=1;a<arguments.length;a++)r.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var n=this.entries[a];n[o].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var a=new x;return o.entries.forEach(function(r){a.set(r)}),this.entries.forEach(function(r){a.set(r)}),a},intersect:function(o){var a=new x;return this.entries.forEach(function(r){o.contains(r)&&a.set(r)}),a},difference:function(o){var a=new x;return this.entries.forEach(function(r){o.contains(r)||a.set(r)}),a},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});d.exports=x},86555:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),x=t(83419),o=t(56583),a=t(26099),r=new x({initialize:function(n,l,s,u){n===void 0&&(n=0),l===void 0&&(l=n),s===void 0&&(s=0),u===void 0&&(u=null),this._width=n,this._height=l,this._parent=u,this.aspectMode=s,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.snapTo.set(i,n),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.minWidth=h(i,0,this.maxWidth),this.minHeight=h(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,n){return i===void 0&&(i=Number.MAX_VALUE),n===void 0&&(n=i),this.maxWidth=h(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,n){switch(i===void 0&&(i=0),n===void 0&&(n=i),this.aspectMode){case r.NONE:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(i,n,!0);break;case r.ENVELOP:this.constrain(i,n,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,n){return this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,n){return n===void 0&&(n=!0),i=h(i,this.minWidth,this.maxWidth),n&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,n){return n===void 0&&(n=!0),i=h(i,this.minHeight,this.maxHeight),n&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,n,l){i===void 0&&(i=0),n===void 0&&(n=i),l===void 0&&(l=!0),i=this.getNewWidth(i),n=this.getNewHeight(n);var s=this.snapTo,u=n===0?1:i/n;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(i=o(i,s.x),n=i/this.aspectRatio,s.y>0&&(n=o(n,s.y),i=n*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(n=o(n,s.y),i=n*this.aspectRatio,s.x>0&&(i=o(i,s.x),n=i*(1/this.aspectRatio))),this._width=i,this._height=n,this},fitTo:function(i,n){return this.constrain(i,n,!0)},envelop:function(i,n){return this.constrain(i,n,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,d.exports=r},15238:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="add"},56187:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="remove"},82348:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(45319),o=t(40987),a=t(8054),r=t(50030),i=t(79237),n=new h({Extends:i,initialize:function(s,u,f,c,v){i.call(this,s,u,f,c,v),this.add("__BASE",0,0,0,c,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=v,this.imageData=this.context.getImageData(0,0,c,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(l,s,u,f){return f===void 0&&(f=!0),this.context.drawImage(u,l,s),f&&this.update(),this},drawFrame:function(l,s,u,f,c){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=!0);var v=this.manager.getFrame(l,s);if(v){var g=v.canvasData,y=v.cutWidth,T=v.cutHeight,E=v.source.resolution;this.context.drawImage(v.source.image,g.x,g.y,y,T,u,f,y/E,T/E),c&&this.update()}return this},setPixel:function(l,s,u,f,c,v){v===void 0&&(v=255),l=Math.abs(Math.floor(l)),s=Math.abs(Math.floor(s));var g=this.getIndex(l,s);if(g>-1){var y=this.context.getImageData(l,s,1,1);y.data[0]=u,y.data[1]=f,y.data[2]=c,y.data[3]=v,this.context.putImageData(y,l,s)}return this},putData:function(l,s,u,f,c,v,g){return f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=l.width),g===void 0&&(g=l.height),this.context.putImageData(l,s,u,f,c,v,g),this},getData:function(l,s,u,f){l=x(Math.floor(l),0,this.width-1),s=x(Math.floor(s),0,this.height-1),u=x(u,1,this.width-l),f=x(f,1,this.height-s);var c=this.context.getImageData(l,s,u,f);return c},getPixel:function(l,s,u){u||(u=new o);var f=this.getIndex(l,s);if(f>-1){var c=this.data,v=c[f+0],g=c[f+1],y=c[f+2],T=c[f+3];u.setTo(v,g,y,T)}return u},getPixels:function(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),f===void 0&&(f=u),l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s));for(var c=x(l,0,this.width),v=x(l+u,0,this.width),g=x(s,0,this.height),y=x(s+f,0,this.height),T=new o,E=[],A=g;A<y;A++){for(var P=[],w=c;w<v;w++)T=this.getPixel(w,A,T),P.push({x:w,y:A,color:T.color,alpha:T.alphaGL});E.push(P)}return E},getIndex:function(l,s){return l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s)),l<this.width&&s<this.height?(l+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,s,u,f,c){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),f===void 0&&(f=this.height),c===void 0&&(c=!0),this.context.clearRect(l,s,u,f),c&&this.update(),this},setSize:function(l,s){return s===void 0&&(s=l),(l!==this.width||s!==this.height)&&(this.canvas.width=l,this.canvas.height=s,this._source.width=l,this._source.height=s,this._source.isPowerOf2=r(l,s),this.frames.__BASE.setSize(l,s,0,0),this.width=l,this.height=s,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});d.exports=n},81320:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),x=t(38058),o=t(27919),a=t(83419),r=t(8054),i=t(4327),n=t(95540),l=t(36060),s=t(32302),u=t(79237),f=t(70554),c=new a({Extends:u,initialize:function(g,y,T,E,A){T===void 0&&(T=256),E===void 0&&(E=256),A===void 0&&(A=!0),this.type="DynamicTexture";var P=g.game.renderer,w=P&&P.type===r.CANVAS,I=w?o.create2D(this,T,E):[this];u.call(this,g,y,I,T,E),this.add("__BASE",0,0,0,T,E),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=w?I:null,this.context=w?I.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,T,E).setScene(g.game.scene.systemScene,!1),this.renderTarget=w?null:new s(P,T,E,1,0,!1,!1,!0,!1),this.pipeline=w?null:P.pipelines.get(l.SINGLE_PIPELINE),this.setSize(T,E,A)},setSize:function(v,g,y){g===void 0&&(g=v),y===void 0&&(y=!0),y&&(v=Math.floor(v),g=Math.floor(g),v%2!==0&&v++,g%2!==0&&g++);var T=this.get(),E=T.source;if(v!==this.width||g!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=g);var A=this.renderTarget;A&&(A.willResize(v,g)&&A.resize(v,g),A.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,g),E.width=v,E.height=g,T.setSize(v,g),this.width=v,this.height=g}else{var P=this.getSourceImage();T.cutX+v>P.width&&(v=P.width-T.cutX),T.cutY+g>P.height&&(g=P.height-T.cutY),T.setSize(v,g,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),g=v.source,y=this.renderTarget;return g.isRenderTexture=!0,g.isGLTexture=!0,g.glTexture=y.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,g,y,T,E,A){var P=this.camera,w=this.renderer;g===void 0&&(g=1),y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height);var I=v>>16&255,O=v>>8&255,F=v&255,L=this.renderTarget;if(P.preRender(),L){L.bind(!0);var D=this.pipeline.manager.set(this.pipeline),b=w.width/L.width,U=w.height/L.height,W=L.height-(T+A);D.drawFillRect(y*b,W*U,E*b,A*U,f.getTintFromFloats(F/255,O/255,I/255,1),g),L.unbind(!0)}else{var H=this.context;w.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+I+","+O+","+F+","+g+")",H.fillRect(y,T,E,A),w.setContext()}return this.dirty=!0,this},clear:function(v,g,y,T){if(this.dirty){var E=this.context,A=this.renderTarget;A?A.clear(v,g,y,T):E&&(v!==void 0&&g!==void 0&&y!==void 0&&T!==void 0?E.clearRect(v,g,y,T):(E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,this.width,this.height),E.restore())),this.dirty=!1}return this},stamp:function(v,g,y,T,E){y===void 0&&(y=0),T===void 0&&(T=0);var A=n(E,"alpha",1),P=n(E,"tint",16777215),w=n(E,"angle",0),I=n(E,"rotation",0),O=n(E,"scale",1),F=n(E,"scaleX",O),L=n(E,"scaleY",O),D=n(E,"originX",.5),b=n(E,"originY",.5),U=n(E,"blendMode",0),W=n(E,"erase",!1),H=n(E,"skipBatch",!1),Y=this.manager.resetStamp(A,P);return Y.setAngle(0),w!==0?Y.setAngle(w):I!==0&&Y.setRotation(I),Y.setScale(F,L),Y.setTexture(v,g),Y.setOrigin(D,b),Y.setBlendMode(U),W&&(this._eraseMode=!0),H?this.batchGameObject(Y,y,T):this.draw(Y,y,T),W&&(this._eraseMode=!1),this},erase:function(v,g,y){return this._eraseMode=!0,this.draw(v,g,y),this._eraseMode=!1,this},draw:function(v,g,y,T,E){return this.beginDraw(),this.batchDraw(v,g,y,T,E),this.endDraw(),this},drawFrame:function(v,g,y,T,E,A){return this.beginDraw(),this.batchDrawFrame(v,g,y,T,E,A),this.endDraw(),this},repeat:function(v,g,y,T,E,A,P,w,I){if(y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height),P===void 0&&(P=1),w===void 0&&(w=16777215),I===void 0&&(I=!1),v instanceof i?g=v:g=this.manager.getFrame(v,g),!g)return this;var O=this.manager.resetStamp(P,w);O.setFrame(g),O.setOrigin(0);var F=g.width,L=g.height;E=Math.floor(E),A=Math.floor(A);var D=Math.ceil(E/F),b=Math.ceil(A/L),U=D*F-E,W=b*L-A;U>0&&(U=F-U),W>0&&(W=L-W),y<0&&(D+=Math.ceil(Math.abs(y)/F)),T<0&&(b+=Math.ceil(Math.abs(T)/L));var H=y,Y=T,G=!1,X=this.manager.stampCrop.setTo(0,0,F,L);I||this.beginDraw();for(var V=0;V<b;V++){if(Y+L<0){Y+=L;continue}for(var B=0;B<D;B++){if(G=!1,H+F<0){H+=F;continue}else H<0&&(G=!0,X.width=F+H,X.x=F-X.width);Y<0&&(G=!0,X.height=L+Y,X.y=L-X.height),U>0&&B===D-1&&(G=!0,X.width=U),W>0&&V===b-1&&(G=!0,X.height=W),G&&O.setCrop(X),this.batchGameObject(O,H,Y),O.isCropped=!1,X.setTo(0,0,F,L),H+=F}H=y,Y+=L}return I||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,g=this.renderer,y=this.renderTarget;v.preRender(),y?g.beginCapture(y.width,y.height):g.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,g,y,T,E){return Array.isArray(v)||(v=[v]),this.batchList(v,g,y,T,E),this},batchDrawFrame:function(v,g,y,T,E,A){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=1),A===void 0&&(A=16777215);var P=this.manager.getFrame(v,g);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,y,T,A,E,this.camera.matrix,null):this.batchTextureFrame(P,y,T,E,A)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var g=this.renderer,y=this.renderTarget;if(y){var T=g.endCapture(),E=g.pipelines.setUtility();E.blitFrame(T,y,1,!1,!1,v,this.isSpriteTexture),g.resetScissor(),g.resetViewport()}else g.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,g,y,T,E){var A=v.length;if(A!==0)for(var P=0;P<A;P++){var w=v[P];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,g,y):w.isParent||w.list?this.batchGroup(w.getChildren(),g,y):typeof w=="string"?this.batchTextureFrameKey(w,null,g,y,T,E):w instanceof i?this.batchTextureFrame(w,g,y,T,E):Array.isArray(w)&&this.batchList(w,g,y,T,E))}},batchGroup:function(v,g,y){g===void 0&&(g=0),y===void 0&&(y=0);for(var T=0;T<v.length;T++){var E=v[T];E.willRender(this.camera)&&this.batchGameObject(E,E.x+g,E.y+y)}},batchGameObject:function(v,g,y){g===void 0&&(g=v.x),y===void 0&&(y=v.y);var T=v.x,E=v.y,A=this.camera,P=this.renderer,w=this._eraseMode,I=v.mask;if(v.setPosition(g,y),this.canvas){if(w){var O=v.blendMode;v.blendMode=h.ERASE}I&&I.preRenderCanvas(P,v,A),v.renderCanvas(P,v,A,null),I&&I.postRenderCanvas(P,v,A),w&&(v.blendMode=O)}else P&&(I&&I.preRenderWebGL(P,v,A),w||P.setBlendMode(v.blendMode),v.renderWebGL(P,v,A),I&&I.postRenderWebGL(P,A,this.renderTarget));v.setPosition(T,E)},batchTextureFrameKey:function(v,g,y,T,E,A){var P=this.manager.getFrame(v,g);P&&this.batchTextureFrame(P,y,T,E,A)},batchTextureFrame:function(v,g,y,T,E){g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=1),E===void 0&&(E=16777215);var A=this.camera.matrix,P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(v,g,y,E,T,A,null);else{var w=this.context,I=v.canvasData,O=v.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=T,A.setToContext(w),I.width>0&&I.height>0&&w.drawImage(O,I.x,I.y,I.width,I.height,g,y,I.width,I.height),w.restore()}},snapshotArea:function(v,g,y,T,E,A,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,v,g,y,T,A,P):this.renderer.snapshotCanvas(this.canvas,E,!1,v,g,y,T,A,P),this},snapshot:function(v,g,y){return this.snapshotArea(0,0,this.width,this.height,v,g,y)},snapshotPixel:function(v,g,y){return this.snapshotArea(v,g,1,1,y,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,g,y,T){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(v,E,y,T)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),u.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});d.exports=c},4327:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(45319),o=t(79291),a=new h({initialize:function(i,n,l,s,u,f,c){this.texture=i,this.name=n,this.source=i.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,c,s,u)},setCutPosition:function(r,i){return r===void 0&&(r=0),i===void 0&&(i=0),this.cutX=r,this.cutY=i,this.updateUVs()},setCutSize:function(r,i){return this.cutWidth=r,this.cutHeight=i,this.updateUVs()},setSize:function(r,i,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.setCutPosition(n,l),this.setCutSize(r,i),this.width=r,this.height=i,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(i/2);var s=this.data,u=s.cut;u.x=n,u.y=l,u.w=r,u.h=i,u.r=n+r,u.b=l+i,s.sourceSize.w=r,s.sourceSize.h=i,s.spriteSourceSize.w=r,s.spriteSourceSize.h=i,s.radius=.5*Math.sqrt(r*r+i*i);var f=s.drawImage;return f.x=n,f.y=l,f.width=r,f.height=i,this.updateUVs()},setTrim:function(r,i,n,l,s,u){var f=this.data,c=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=r,f.sourceSize.h=i,c.x=n,c.y=l,c.w=s,c.h=u,c.r=n+s,c.b=l+u,this.x=n,this.y=l,this.width=s,this.height=u,this.halfWidth=s*.5,this.halfHeight=u*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(u/2),this.updateUVs()},setScale9:function(r,i,n,l){var s=this.data;return s.scale9=!0,s.is3Slice=i===0&&l===this.height,s.scale9Borders.x=r,s.scale9Borders.y=i,s.scale9Borders.w=n,s.scale9Borders.h=l,this},setCropUVs:function(r,i,n,l,s,u,f){var c=this.cutX,v=this.cutY,g=this.cutWidth,y=this.cutHeight,T=this.realWidth,E=this.realHeight;i=x(i,0,T),n=x(n,0,E),l=x(l,0,T-i),s=x(s,0,E-n);var A=c+i,P=v+n,w=l,I=s,O=this.data;if(O.trim){var F=O.spriteSourceSize;l=x(l,0,F.x+g-i),s=x(s,0,F.y+y-n);var L=i+l,D=n+s,b=!(F.r<i||F.b<n||F.x>L||F.y>D);if(b){var U=Math.max(F.x,i),W=Math.max(F.y,n),H=Math.min(F.r,L)-U,Y=Math.min(F.b,D)-W;w=H,I=Y,u?A=c+(g-(U-F.x)-H):A=c+(U-F.x),f?P=v+(y-(W-F.y)-Y):P=v+(W-F.y),i=U,n=W,l=H,s=Y}else A=0,P=0,w=0,I=0}else u&&(A=c+(g-i-l)),f&&(P=v+(y-n-s));var G=this.source.width,X=this.source.height;return r.u0=Math.max(0,A/G),r.v0=Math.max(0,P/X),r.u1=Math.min(1,(A+w)/G),r.v1=Math.min(1,(P+I)/X),r.x=i,r.y=n,r.cx=A,r.cy=P,r.cw=w,r.ch=I,r.width=l,r.height=s,r.flipX=u,r.flipY=f,r},updateCropUVs:function(r,i,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,i,n)},setUVs:function(r,i,n,l,s,u){var f=this.data.drawImage;return f.width=r,f.height=i,this.u0=n,this.v0=l,this.u1=s,this.v1=u,this},updateUVs:function(){var r=this.cutX,i=this.cutY,n=this.cutWidth,l=this.cutHeight,s=this.data.drawImage;s.width=n,s.height=l;var u=this.source.width,f=this.source.height;return this.u0=r/u,this.v0=i/f,this.u1=(r+n)/u,this.v1=(i+l)/f,this},updateUVsInverted:function(){var r=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/i,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var r=new a(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=o(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});d.exports=a},79237:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(4327),o=t(11876),a='Texture "%s" has no frame "%s"',r=new h({initialize:function(n,l,s,u,f){Array.isArray(s)||(s=[s]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<s.length;c++)this.source.push(new o(this,s[c],u,f))},add:function(i,n,l,s,u,f){if(this.has(i))return null;var c=new x(this,i,n,l,s,u,f);return this.frames[i]=c,this.firstFrame==="__BASE"&&(this.firstFrame=i),this.frameTotal++,c},remove:function(i){if(this.has(i)){var n=this.get(i);return n.destroy(),delete this.frames[i],!0}return!1},has:function(i){return this.frames.hasOwnProperty(i)},get:function(i){i||(i=this.firstFrame);var n=this.frames[i];return n||(console.warn(a,this.key,i),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(i){for(var n=0;n<this.source.length;n++)if(this.source[n]===i)return n;return-1},getFramesFromTextureSource:function(i,n){n===void 0&&(n=!1);var l=[];for(var s in this.frames)if(!(s==="__BASE"&&!n)){var u=this.frames[s];u.sourceIndex===i&&l.push(u)}return l},getFrameBounds:function(i){i===void 0&&(i=0);for(var n=this.getFramesFromTextureSource(i,!0),l=n[0],s=l.cutX,u=l.cutY,f=l.cutX+l.cutWidth,c=l.cutY+l.cutHeight,v=1;v<n.length;v++){var g=n[v];g.cutX<s&&(s=g.cutX),g.cutY<u&&(u=g.cutY),g.cutX+g.cutWidth>f&&(f=g.cutX+g.cutWidth),g.cutY+g.cutHeight>c&&(c=g.cutY+g.cutHeight)}return{x:s,y:u,width:f-s,height:c-u}},getFrameNames:function(i){i===void 0&&(i=!1);var n=Object.keys(this.frames);if(!i){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i];return n?n.source.image:(console.warn(a,this.key,i),this.frames.__BASE.source.image)},getDataSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i],l;return n?l=n.sourceIndex:(console.warn(a,this.key,i),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var l=this.source[n];this.dataSource.push(new o(this,i[n],l.width,l.height))}},setFilter:function(i){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(i);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(i)},destroy:function(){var i,n=this.source,l=this.dataSource;for(i=0;i<n.length;i++)n[i]&&n[i].destroy();for(i=0;i<l.length;i++)l[i]&&l[i].destroy();for(var s in this.frames){var u=this.frames[s];u&&u.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});d.exports=r},17130:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(57382),o=t(83419),a=t(40987),r=t(8054),i=t(81320),n=t(50792),l=t(69442),s=t(4327),u=t(8443),f=t(99584),c=t(35154),v=t(88571),g=t(41212),y=t(61309),T=t(87841),E=t(79237),A=new o({Extends:n,initialize:function(w){n.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new T,this.silentWarnings=!1,w.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var P=this.game.config;P.defaultImage!==null&&this.addBase64("__DEFAULT",P.defaultImage),P.missingImage!==null&&this.addBase64("__MISSING",P.missingImage),P.whiteImage!==null&&this.addBase64("__WHITE",P.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(u.DESTROY,this.destroy,this),this.game.events.once(u.SYSTEM_READY,function(w){this.stamp=new v(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(P){return!P||typeof P!="string"||this.exists(P)?(this.silentWarnings||console.error("Texture key already in use: "+P),!1):!0},remove:function(P){if(typeof P=="string")if(this.exists(P))P=this.get(P);else return this.silentWarnings||console.warn("No texture found matching key: "+P),this;var w=P.key;return this.list.hasOwnProperty(w)&&(P.destroy(),this.emit(l.REMOVE,w),this.emit(l.REMOVE_KEY+w)),this},removeKey:function(P){return this.list.hasOwnProperty(P)&&delete this.list[P],this},addBase64:function(P,w){if(this.checkKey(P)){var I=this,O=new Image;O.onerror=function(){I.emit(l.ERROR,P)},O.onload=function(){var F=I.create(P,O);F&&(y.Image(F,0),I.emit(l.ADD,P,F),I.emit(l.ADD_KEY+P,F),I.emit(l.LOAD,P,F))},O.src=w}return this},getBase64:function(P,w,I,O){I===void 0&&(I="image/png"),O===void 0&&(O=.92);var F="",L=this.getFrame(P,w);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var D=L.canvasData,b=h.create2D(this,D.width,D.height),U=b.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&U.drawImage(L.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),F=b.toDataURL(I,O),h.remove(b)}return F},addImage:function(P,w,I){var O=null;return this.checkKey(P)&&(O=this.create(P,w),y.Image(O,0),I&&O.setDataSource(I),this.emit(l.ADD,P,O),this.emit(l.ADD_KEY+P,O)),O},addGLTexture:function(P,w){var I=null;if(this.checkKey(P)){var O=w.width,F=w.height;I=this.create(P,w,O,F),I.add("__BASE",0,0,0,O,F),this.emit(l.ADD,P,I),this.emit(l.ADD_KEY+P,I)}return I},addCompressedTexture:function(P,w,I){var O=null;if(this.checkKey(P)){if(O=this.create(P,w),O.add("__BASE",0,0,0,w.width,w.height),I){var F=function(D,b,U){Array.isArray(U.textures)||Array.isArray(U.frames)?y.JSONArray(D,b,U):y.JSONHash(D,b,U)};if(Array.isArray(I))for(var L=0;L<I.length;L++)F(O,L,I[L]);else F(O,0,I)}this.emit(l.ADD,P,O),this.emit(l.ADD_KEY+P,O)}return O},addRenderTexture:function(P,w){var I=null;return this.checkKey(P)&&(I=this.create(P,w),I.add("__BASE",0,0,0,w.width,w.height),this.emit(l.ADD,P,I),this.emit(l.ADD_KEY+P,I)),I},generate:function(P,w){if(this.checkKey(P)){var I=h.create(this,1,1);return w.canvas=I,f(w),this.addCanvas(P,I)}else return null},createCanvas:function(P,w,I){if(w===void 0&&(w=256),I===void 0&&(I=256),this.checkKey(P)){var O=h.create(this,w,I,r.CANVAS,!0);return this.addCanvas(P,O)}return null},addCanvas:function(P,w,I){I===void 0&&(I=!1);var O=null;return I?O=new x(this,P,w,w.width,w.height):this.checkKey(P)&&(O=new x(this,P,w,w.width,w.height),this.list[P]=O,this.emit(l.ADD,P,O),this.emit(l.ADD_KEY+P,O)),O},addDynamicTexture:function(P,w,I){var O=null;return typeof P=="string"&&!this.exists(P)?O=new i(this,P,w,I):(O=P,P=O.key),this.checkKey(P)?(this.list[P]=O,this.emit(l.ADD,P,O),this.emit(l.ADD_KEY+P,O)):O=null,O},addAtlas:function(P,w,I,O){return Array.isArray(I.textures)||Array.isArray(I.frames)?this.addAtlasJSONArray(P,w,I,O):this.addAtlasJSONHash(P,w,I,O)},addAtlasJSONArray:function(P,w,I,O){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){if(Array.isArray(I))for(var L=I.length===1,D=0;D<F.source.length;D++){var b=L?I[0]:I[D];y.JSONArray(F,D,b)}else y.JSONArray(F,0,I);O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addAtlasJSONHash:function(P,w,I,O){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){if(Array.isArray(I))for(var L=0;L<I.length;L++)y.JSONHash(F,L,I[L]);else y.JSONHash(F,0,I);O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addAtlasXML:function(P,w,I,O){var F=null;return w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F&&(y.AtlasXML(F,0,I),O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},addUnityAtlas:function(P,w,I,O){var F=null;return w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F&&(y.UnityYAML(F,0,I),O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)),F},addSpriteSheet:function(P,w,I,O){var F=null;if(w instanceof E?(P=w.key,F=w):this.checkKey(P)&&(F=this.create(P,w)),F){var L=F.source[0].width,D=F.source[0].height;y.SpriteSheet(F,0,0,0,L,D,I),O&&F.setDataSource(O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F)}return F},addSpriteSheetFromAtlas:function(P,w){if(!this.checkKey(P))return null;var I=c(w,"atlas",null),O=c(w,"frame",null);if(!(!I||!O)){var F=this.get(I),L=F.get(O);if(L){var D=L.source.image;D||(D=L.source.glTexture);var b=this.create(P,D);return L.trimmed?y.SpriteSheetFromAtlas(b,L,w):y.SpriteSheet(b,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,w),this.emit(l.ADD,P,b),this.emit(l.ADD_KEY+P,b),b}}},addUint8Array:function(P,w,I,O){if(!this.checkKey(P)||w.length/4!==I*O)return null;var F=this.create(P,w,I,O);return F.add("__BASE",0,0,0,I,O),this.emit(l.ADD,P,F),this.emit(l.ADD_KEY+P,F),F},create:function(P,w,I,O){var F=null;return this.checkKey(P)&&(F=new E(this,P,w,I,O),this.list[P]=F),F},exists:function(P){return this.list.hasOwnProperty(P)},get:function(P){return P===void 0&&(P="__DEFAULT"),this.list[P]?this.list[P]:P instanceof E?P:P instanceof s?P.texture:this.list.__MISSING},cloneFrame:function(P,w){if(this.list[P])return this.list[P].get(w).clone()},getFrame:function(P,w){if(this.list[P])return this.list[P].get(w)},parseFrame:function(P){if(P){if(typeof P=="string")return this.getFrame(P);if(Array.isArray(P)&&P.length===2)return this.getFrame(P[0],P[1]);if(g(P))return this.getFrame(P.key,P.frame);if(P instanceof E)return P.get();if(P instanceof s)return P}else return},getTextureKeys:function(){var P=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&P.push(w);return P},getPixel:function(P,w,I,O){var F=this.getFrame(I,O);if(F){P-=F.x,w-=F.y;var L=F.data.cut;if(P+=L.x,w+=L.y,P>=L.x&&P<L.r&&w>=L.y&&w<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(F.source.image,P,w,1,1,0,0,1,1);var b=D.getImageData(0,0,1,1);return new a(b.data[0],b.data[1],b.data[2],b.data[3])}}return null},getPixelAlpha:function(P,w,I,O){var F=this.getFrame(I,O);if(F){P-=F.x,w-=F.y;var L=F.data.cut;if(P+=L.x,w+=L.y,P>=L.x&&P<L.r&&w>=L.y&&w<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(F.source.image,P,w,1,1,0,0,1,1);var b=D.getImageData(0,0,1,1);return b.data[3]}}return null},setTexture:function(P,w,I){return this.list[w]&&(P.texture=this.list[w],P.frame=P.texture.get(I)),P},renameTexture:function(P,w){var I=this.get(P);return I&&P!==w?(I.key=w,this.list[w]=I,delete this.list[P],!0):!1},each:function(P,w){for(var I=[null],O=1;O<arguments.length;O++)I.push(arguments[O]);for(var F in this.list)I[0]=this.list[F],P.apply(w,I)},resetStamp:function(P,w){P===void 0&&(P=1),w===void 0&&(w=16777215);var I=this.stamp;return I.setCrop(),I.setPosition(0),I.setAngle(0),I.setScale(1),I.setAlpha(P),I.setTint(w),I.setTexture("__WHITE"),I},destroy:function(){for(var P in this.list)this.list[P].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});d.exports=A},11876:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),x=t(83419),o=t(50030),a=t(29795),r=t(82751),i=new x({initialize:function(l,s,u,f,c){c===void 0&&(c=!1);var v=l.manager.game;this.renderer=v.renderer,this.texture=l,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=u||s.naturalWidth||s.videoWidth||s.width||0,this.height=f||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof r,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=c,this.init(v)},init:function(n){var l=this.renderer;if(l){var s=this.source;if(l.gl){var u=this.image,f=this.flipY,c=this.width,v=this.height,g=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,c,v,g):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(s,void 0,void 0,g):s instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(s,c,v,g):this.glTexture=l.createTextureFromSource(u,c,v,g)}else this.isRenderTexture&&(this.image=s.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,s=this.flipY,u=n.gl;u&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,s):u&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});d.exports=i},19673:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};d.exports=S},44538:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="addtexture"},63486:d=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="addtexture-"},94851:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="onerror"},29099:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="onload"},8678:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="ready"},86415:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="removetexture"},30879:d=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="removetexture-"},69442:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:x,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=h(!1,o,x),d.exports=o},89905:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[h];t.add("__BASE",h,0,0,o.width,o.height);for(var a=x.getElementsByTagName("SubTexture"),r,i=0;i<a.length;i++){var n=a[i].attributes,l=n.name.value,s=parseInt(n.x.value,10),u=parseInt(n.y.value,10),f=parseInt(n.width.value,10),c=parseInt(n.height.value,10);if(r=t.add(l,h,s,u,f,c),n.frameX){var v=Math.abs(parseInt(n.frameX.value,10)),g=Math.abs(parseInt(n.frameY.value,10)),y=parseInt(n.frameWidth.value,10),T=parseInt(n.frameHeight.value,10);r.setTrim(f,c,v,g,y,T)}}return t};d.exports=S},72893:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.source[h];return t.add("__BASE",h,0,0,x.width,x.height),t};d.exports=S},4832:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.source[h];return t.add("__BASE",h,0,0,x.width,x.height),t};d.exports=S},78566:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),x=function(o,a,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height);for(var n=Array.isArray(r.textures)?r.textures[a].frames:r.frames,l,s=0;s<n.length;s++){var u=n[s];if(l=o.add(u.filename,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+u.filename);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?o.customData[c]=r[c].slice(0):o.customData[c]=r[c]);return o};d.exports=x},39711:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),x=function(o,a,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height);var n=r.frames,l;for(var s in n)if(n.hasOwnProperty(s)){var u=n[s];if(l=o.add(s,a,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+s);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=h(u)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?o.customData[c]=r[c].slice(0):o.customData[c]=r[c]);return o};d.exports=x},31403:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],x,o=new Uint8Array(t,0,12);for(x=0;x<o.length;x++)if(o[x]!==h[x]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*a),i=r.getUint32(0,!0)===67305985,n=r.getUint32(1*a,i);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*a,i),s=r.getUint32(6*a,i),u=r.getUint32(7*a,i),f=Math.max(1,r.getUint32(11*a,i)),c=r.getUint32(12*a,i),v=new Array(f),g=12+13*4+c,y=s,T=u;for(x=0;x<f;x++){var E=new Int32Array(t,g,1)[0];g+=4,v[x]={data:new Uint8Array(t,g,E),width:y,height:T},y=Math.max(1,y>>1),T=Math.max(1,T>>1),g+=E}return{mipmaps:v,width:s,height:u,internalFormat:l,compressed:!0,generateMipmap:!1}};d.exports=S},82038:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(w,I,O,F,L,D,b){return b===void 0&&(b=16),Math.floor((w+O)/L)*Math.floor((I+F)/D)*b}function t(w,I){return w=Math.max(w,16),I=Math.max(I,8),w*I/4}function h(w,I){return w=Math.max(w,8),I=Math.max(I,8),w*I/2}function x(w,I){return Math.ceil(w/4)*Math.ceil(I/4)*16}function o(w,I){return S(w,I,3,3,4,4,8)}function a(w,I){return S(w,I,3,3,4,4)}function r(w,I){return S(w,I,4,3,5,4)}function i(w,I){return S(w,I,4,4,5,5)}function n(w,I){return S(w,I,5,4,6,5)}function l(w,I){return S(w,I,5,5,6,6)}function s(w,I){return S(w,I,7,4,8,5)}function u(w,I){return S(w,I,7,5,8,6)}function f(w,I){return S(w,I,7,7,8,8)}function c(w,I){return S(w,I,9,4,10,5)}function v(w,I){return S(w,I,9,5,10,6)}function g(w,I){return S(w,I,9,7,10,8)}function y(w,I){return S(w,I,9,9,10,10)}function T(w,I){return S(w,I,11,9,12,10)}function E(w,I){return S(w,I,11,11,12,12)}var A={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:a,glFormat:[33777,35917]},9:{sizeFunc:a,glFormat:[33778,35918]},11:{sizeFunc:a,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:a,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:a,glFormat:[37490]},27:{sizeFunc:a,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:i,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:u,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:c,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:g,glFormat:[37818,37850]},38:{sizeFunc:y,glFormat:[37819,37851]},39:{sizeFunc:T,glFormat:[37820,37852]},40:{sizeFunc:E,glFormat:[37821,37853]}},P=function(w){for(var I=new Uint32Array(w,0,13),O=I[0],F=O===55727696,L=F?I[2]:I[3],D=I[4],b=A[L].glFormat[D],U=A[L].sizeFunc,W=I[11],H=I[7],Y=I[6],G=52+I[12],X=new Uint8Array(w,G),V=new Array(W),B=0,z=H,$=Y,j=0;j<W;j++){var k=U(z,$);V[j]={data:new Uint8Array(X.buffer,X.byteOffset+B,k),width:z,height:$},z=Math.max(1,z>>1),$=Math.max(1,$>>1),B+=k}return{mipmaps:V,width:H,height:Y,internalFormat:b,compressed:!0,generateMipmap:!1}};d.exports=P},75549:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o,a,r,i,n,l,s){var u=h(s,"frameWidth",null),f=h(s,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=o.source[a];o.add("__BASE",a,0,0,c.width,c.height);var v=h(s,"startFrame",0),g=h(s,"endFrame",-1),y=h(s,"margin",0),T=h(s,"spacing",0),E=Math.floor((n-y+T)/(u+T)),A=Math.floor((l-y+T)/(f+T)),P=E*A;P===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(v>P||v<-P)&&(v=0),v<0&&(v=P+v),(g===-1||g>P||g<v)&&(g=P);for(var w=y,I=y,O=0,F=0,L=0,D=0;D<P;D++){O=0,F=0;var b=w+u,U=I+f;b>n&&(O=b-n),U>l&&(F=U-l),D>=v&&D<=g&&(o.add(L,a,r+w,i+I,u-O,f-F),L++),w+=u+T,w+u>n&&(w=y,I+=f+T)}return o};d.exports=x},47534:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o,a,r){var i=h(r,"frameWidth",null),n=h(r,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),h(r,"startFrame",0),h(r,"endFrame",-1);for(var s=h(r,"margin",0),u=h(r,"spacing",0),f=a.cutX,c=a.cutY,v=a.cutWidth,g=a.cutHeight,y=a.realWidth,T=a.realHeight,E=Math.floor((y-s+u)/(i+u)),A=Math.floor((T-s+u)/(n+u)),P=a.x,w=i-P,I=i-(y-v-P),O=a.y,F=n-O,L=n-(T-g-O),D,b=s,U=s,W=0,H=0,Y=0;Y<A;Y++){for(var G=Y===0,X=Y===A-1,V=0;V<E;V++){var B=V===0,z=V===E-1;if(D=o.add(W,H,f+b,c+U,i,n),B||G||z||X){var $=B?P:0,j=G?O:0,k=0,q=0;B&&(k+=i-w),z&&(k+=i-I),G&&(q+=n-F),X&&(q+=n-L);var Q=i-k,Z=n-q;D.cutWidth=Q,D.cutHeight=Z,D.setTrim(i,n,$,j,Q,Z)}b+=u,B?b+=w:z?b+=I:b+=i,W++}b=s,U+=u,G?U+=F:X?U+=L:U+=n}return o};d.exports=x},86147:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(x,o,a,r){var i=S-r.y-r.height;x.add(a,o,r.x,i,r.width,r.height)},h=function(x,o,a){var r=x.source[o];x.add("__BASE",o,0,0,r.width,r.height),S=r.height;for(var i=a.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",s="",u={x:0,y:0,width:0,height:0},f=0;f<i.length;f++){var c=i[f].match(n);if(c){var v=c[1]==="- ",g=c[2],y=c[3];if(v&&(s!==l&&(t(x,o,s,u),l=s),u={x:0,y:0,width:0,height:0}),g==="name"){s=y;continue}switch(g){case"x":case"y":case"width":case"height":u[g]=parseInt(y,10);break}}}return s!==l&&t(x,o,s,u),x};d.exports=h},55222:(d,S,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50030),x=function(l){for(var s=l.mipmaps,u=1;u<s.length;u++){var f=s[u].width,c=s[u].height;if(!h(f,c))return console.warn("Mip level "+u+" is not a power-of-two size: "+f+"x"+c),!1}var v=n[l.internalFormat];return v?v(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var s=l.mipmaps,u=0;u<s.length;u++){var f=s[u].width,c=s[u].height;if((f<<u)%4!==0||(c<<u)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+u+" is "+f+"x"+c),!1}return!0}function a(){return!0}function r(l){var s=l.mipmaps,u=s[0];return h(u.width,u.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+u.width+"x"+u.height),!1)}function i(l){var s=l.mipmaps,u=s[0];return u.width%4!==0||u.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+u.width+"x"+u.height+" pixels"),!1):!0}var n={37488:a,37489:a,37490:a,37491:a,37492:a,37493:a,37494:a,37495:a,37496:a,37497:a,36196:a,37808:a,37809:a,37810:a,37811:a,37812:a,37813:a,37814:a,37815:a,37816:a,37817:a,37818:a,37819:a,37820:a,37821:a,37840:a,37841:a,37842:a,37843:a,37844:a,37845:a,37846:a,37847:a,37848:a,37849:a,37850:a,37851:a,37852:a,37853:a,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:r,35841:r,35842:r,35843:r,33776:o,33777:o,33778:o,33779:o,35916:i,35917:i,35918:i,35919:i};d.exports=x},61309:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a,r,i,n,l,s,u){(i===void 0||i<=0)&&(i=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),s===void 0&&(s=0),this.name=a,this.firstgid=r|0,this.imageWidth=i|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=s|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,a,r,i){return this.images.push({gid:o,image:a,width:r,height:i}),this.total++,this}});d.exports=x},27462:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=new h({initialize:function(a){if(this.gids=[],a!==void 0)for(var r=0;r<a.length;++r)for(var i=a[r],n=0;n<i.total;++n)this.gids[i.firstgid+n]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var a=this.gids[o.gid];if(a){var r=a.getTileData(o.gid);if(r)return r.type}}},setTextureAndFrame:function(o,a,r,i){if(a===null&&this.gids&&i.gid!==void 0){var n=this.gids[i.gid];n&&(a===null&&n.image!==void 0&&(a=n.image.key),r===null&&(r=i.gid-n.firstgid),o.scene.textures.getFrame(a,r)||(a=null,r=null))}o.setTexture(a,r)},setPropertiesFromTiledObject:function(o,a){if(this.gids!==void 0&&a.gid!==void 0){var r=this.gids[a.gid];r!==void 0&&this.setFromJSON(o,r.getTileProperties(a.gid))}this.setFromJSON(o,a.properties)},setFromJSON:function(o,a){if(a){if(Array.isArray(a)){for(var r=0;r<a.length;r++){var i=a[r];o[i.name]!==void 0?o[i.name]=i.value:o.setData(i.name,i.value)}return}for(var n in a)o[n]!==void 0?o[n]=a[n]:o.setData(n,a[n])}}});d.exports=x},31989:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(87010),o=t(46177),a=t(49075),r=function(i,n,l,s,u,f,c,v){l===void 0&&(l=32),s===void 0&&(s=32),u===void 0&&(u=10),f===void 0&&(f=10),v===void 0&&(v=!1);var g=null;if(Array.isArray(c)){var y=n!==void 0?n:"map";g=o(y,h.ARRAY_2D,c,l,s,v)}else if(n!==void 0){var T=i.cache.tilemap.get(n);T?g=o(n,T.format,T.data,l,s,v):console.warn("No map data found for key "+n)}return g===null&&(g=new x({tileWidth:l,tileHeight:s,width:u,height:f})),new a(i,g)};d.exports=r},23029:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(31401),o=t(91907),a=t(62644),r=t(93232),i=new h({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(l,s,u,f,c,v,g,y){this.layer=l,this.index=s,this.x=u,this.y=f,this.width=c,this.height=v,this.right,this.bottom,this.baseWidth=g!==void 0?g:c,this.baseHeight=y!==void 0?y:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=a(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,n);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,s,u){return!(s<=this.pixelX||u<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,s,u,f){if(l===void 0&&(l=n),s===void 0&&(s=n),u===void 0&&(u=n),f===void 0&&(f=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=s,this.collideDown=u,this.faceLeft=n,this.faceRight=l,this.faceTop=s,this.faceBottom=u,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,s,u){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),s!==void 0&&(this.baseWidth=s),u!==void 0&&(this.baseHeight=u),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,s=this.layer.staggerIndex,u=this.layer.hexSideLength,f,c;l==="y"?(c=(this.baseHeight-u)/2+u,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):l==="x"&&(f=(this.baseWidth-u)/2+u,this.pixelX=this.x*f,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});d.exports=i},49075:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84101),x=t(83419),o=t(39506),a=t(80341),r=t(95540),i=t(14977),n=t(27462),l=t(91907),s=t(36305),u=t(19133),f=t(68287),c=t(23029),v=t(81086),g=t(20442),y=t(33629),T=new x({initialize:function(A,P){this.scene=A,this.tileWidth=P.tileWidth,this.tileHeight=P.tileHeight,this.width=P.width,this.height=P.height,this.orientation=P.orientation,this.renderOrder=P.renderOrder,this.format=P.format,this.version=P.version,this.properties=P.properties,this.widthInPixels=P.widthInPixels,this.heightInPixels=P.heightInPixels,this.imageCollections=P.imageCollections,this.images=P.images,this.layers=P.layers,this.tiles=P.tiles,this.tilesets=P.tilesets,this.objects=P.objects,this.currentLayerIndex=0,this.hexSideLength=P.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(w),WorldToTileX:v.GetWorldToTileXFunction(w),WorldToTileY:v.GetWorldToTileYFunction(w),TileToWorldXY:v.GetTileToWorldXYFunction(w),TileToWorldX:v.GetTileToWorldXFunction(w),TileToWorldY:v.GetTileToWorldYFunction(w),GetTileCorners:v.GetTileCornersFunction(w)}},setRenderOrder:function(E){var A=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=A[E]),A.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,A,P,w,I,O,F,L){if(E===void 0)return null;A==null&&(A=E);var D=this.scene.sys.textures;if(!D.exists(A))return console.warn('Texture key "%s" not found',A),null;var b=D.get(A),U=this.getTilesetIndex(E);if(U===null&&this.format===a.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',E,this.tilesets),null;var W=this.tilesets[U];return W?((P||w)&&W.setTileSize(P,w),(I||O)&&W.setSpacing(I,O),W.setImage(b),W):(P===void 0&&(P=this.tileWidth),w===void 0&&(w=this.tileHeight),I===void 0&&(I=0),O===void 0&&(O=0),F===void 0&&(F=0),L===void 0&&(L={x:0,y:0}),W=new y(E,F,P,w,I,O,void 0,void 0,L),W.setImage(b),this.tilesets.push(W),this.tiles=h(this),W)},copy:function(E,A,P,w,I,O,F,L){return L=this.getLayer(L),L!==null?(v.Copy(E,A,P,w,I,O,F,L),this):null},createBlankLayer:function(E,A,P,w,I,O,F,L){P===void 0&&(P=0),w===void 0&&(w=0),I===void 0&&(I=this.width),O===void 0&&(O=this.height),F===void 0&&(F=this.tileWidth),L===void 0&&(L=this.tileHeight);var D=this.getLayerIndex(E);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var b=new i({name:E,tileWidth:F,tileHeight:L,width:I,height:O,orientation:this.orientation,hexSideLength:this.hexSideLength}),U,W=0;W<O;W++){U=[];for(var H=0;H<I;H++)U.push(new c(b,-1,H,W,F,L,this.tileWidth,this.tileHeight));b.data.push(U)}this.layers.push(b),this.currentLayerIndex=this.layers.length-1;var Y=new g(this.scene,this,this.currentLayerIndex,A,P,w);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(E,A,P,w){var I=this.getLayerIndex(E);if(I===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var O=this.layers[I];if(O.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=I,P===void 0&&(P=O.x),w===void 0&&(w=O.y);var F=new g(this.scene,this,I,A,P,w);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(E,A,P){P===void 0&&(P=!0);var w=[],I=this.getObjectLayer(E);if(!I)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),w;var O=new n(P?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var F=I.objects,L=0;L<A.length;L++){var D=A[L],b=r(D,"id",null),U=r(D,"gid",null),W=r(D,"name",null),H=r(D,"type",null);O.enabled=!r(D,"ignoreTileset",null);for(var Y,G=[],X=0;X<F.length;X++)Y=F[X],(b===null&&U===null&&W===null&&H===null||b!==null&&Y.id===b||U!==null&&Y.gid===U||W!==null&&Y.name===W||H!==null&&O.getTypeIncludingTile(Y)===H)&&G.push(Y);for(var V=r(D,"classType",f),B=r(D,"scene",this.scene),z=r(D,"container",null),$=r(D,"key",null),j=r(D,"frame",null),k=0;k<G.length;k++){Y=G[k];var q=new V(B);if(q.setName(Y.name),q.setPosition(Y.x,Y.y),O.setTextureAndFrame(q,$,j,Y),Y.width&&(q.displayWidth=Y.width),Y.height&&(q.displayHeight=Y.height),this.orientation===l.ISOMETRIC){var Q=this.tileWidth/this.tileHeight,Z={x:q.x-q.y,y:(q.x+q.y)/Q};q.x=Z.x,q.y=Z.y}var _={x:q.originX*Y.width,y:(q.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var et=o(Y.rotation);s(_,et),q.rotation=et}q.x+=_.x,q.y+=_.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&q.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(q.visible=!1),O.setPropertiesFromTiledObject(q,Y),z?z.add(q):B.add.existing(q),w.push(q)}}return w},createFromTiles:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:v.CreateFromTiles(E,A,P,w,I,O)},fill:function(E,A,P,w,I,O,F){return O===void 0&&(O=!0),F=this.getLayer(F),F===null?null:(v.Fill(E,A,P,w,I,O,F),this)},filterObjects:function(E,A,P){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.filter(A,P)},filterTiles:function(E,A,P,w,I,O,F,L){return L=this.getLayer(L),L===null?null:v.FilterTiles(E,A,P,w,I,O,F,L)},findByIndex:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.FindByIndex(E,A,P,w)},findObject:function(E,A,P){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.find(A,P)||null},findTile:function(E,A,P,w,I,O,F,L){return L=this.getLayer(L),L===null?null:v.FindTile(E,A,P,w,I,O,F,L)},forEachTile:function(E,A,P,w,I,O,F,L){return L=this.getLayer(L),L===null?null:(v.ForEachTile(E,A,P,w,I,O,F,L),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,A){for(var P=0;P<E.length;P++)if(E[P].name===A)return P;return null},getLayer:function(E){var A=this.getLayerIndex(E);return A!==null?this.layers[A]:null},getObjectLayer:function(E){var A=this.getIndex(this.objects,E);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof g&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.GetTileAt(E,A,P,w)},getTileAtWorldXY:function(E,A,P,w,I){return I=this.getLayer(I),I===null?null:v.GetTileAtWorldXY(E,A,P,w,I)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:v.GetTilesWithin(E,A,P,w,I,O)},getTilesWithinShape:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.GetTilesWithinShape(E,A,P,w)},getTilesWithinWorldXY:function(E,A,P,w,I,O,F){return F=this.getLayer(F),F===null?null:v.GetTilesWithinWorldXY(E,A,P,w,I,O,F)},getTileset:function(E){var A=this.getIndex(this.tilesets,E);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,A,P){return P=this.getLayer(P),P===null?null:v.HasTileAt(E,A,P)},hasTileAtWorldXY:function(E,A,P,w){return w=this.getLayer(w),w===null?null:v.HasTileAtWorldXY(E,A,P,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,A,P,w,I){return w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:v.PutTileAt(E,A,P,w,I)},putTileAtWorldXY:function(E,A,P,w,I,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:v.PutTileAtWorldXY(E,A,P,w,I,O)},putTilesAt:function(E,A,P,w,I){return w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:(v.PutTilesAt(E,A,P,w,I),this)},randomize:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:(v.Randomize(E,A,P,w,I,O),this)},calculateFacesAt:function(E,A,P){return P=this.getLayer(P),P===null?null:(v.CalculateFacesAt(E,A,P),this)},calculateFacesWithin:function(E,A,P,w,I){return I=this.getLayer(I),I===null?null:(v.CalculateFacesWithin(E,A,P,w,I),this)},removeLayer:function(E){var A=this.getLayerIndex(E);if(A!==null){u(this.layers,A);for(var P=A;P<this.layers.length;P++)this.layers[P].tilemapLayer&&this.layers[P].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var A=this.getLayerIndex(E);return A!==null?(E=this.layers[A],E.tilemapLayer.destroy(),u(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,A=0;A<E.length;A++)E[A].tilemapLayer&&E[A].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,A,P){A===void 0&&(A=-1),P===void 0&&(P=!0);var w=[];Array.isArray(E)||(E=[E]);for(var I=0;I<E.length;I++){var O=E[I];w.push(this.removeTileAt(O.x,O.y,!0,P,O.tilemapLayer)),A>-1&&this.putTileAt(A,O.x,O.y,P,O.tilemapLayer)}return w},removeTileAt:function(E,A,P,w,I){return P===void 0&&(P=!0),w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:v.RemoveTileAt(E,A,P,w,I)},removeTileAtWorldXY:function(E,A,P,w,I,O){return P===void 0&&(P=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:v.RemoveTileAtWorldXY(E,A,P,w,I,O)},renderDebug:function(E,A,P){return P=this.getLayer(P),P===null?null:(this.orientation===l.ORTHOGONAL&&v.RenderDebug(E,A,P),this)},renderDebugFull:function(E,A){for(var P=this.layers,w=0;w<P.length;w++)v.RenderDebug(E,A,P[w]);return this},replaceByIndex:function(E,A,P,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.ReplaceByIndex(E,A,P,w,I,O,F),this)},setCollision:function(E,A,P,w,I){return A===void 0&&(A=!0),P===void 0&&(P=!0),I===void 0&&(I=!0),w=this.getLayer(w),w===null?null:(v.SetCollision(E,A,P,w,I),this)},setCollisionBetween:function(E,A,P,w,I){return P===void 0&&(P=!0),w===void 0&&(w=!0),I=this.getLayer(I),I===null?null:(v.SetCollisionBetween(E,A,P,w,I),this)},setCollisionByProperty:function(E,A,P,w){return A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByProperty(E,A,P,w),this)},setCollisionByExclusion:function(E,A,P,w){return A===void 0&&(A=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionByExclusion(E,A,P,w),this)},setCollisionFromCollisionGroup:function(E,A,P){return E===void 0&&(E=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(v.SetCollisionFromCollisionGroup(E,A,P),this)},setTileIndexCallback:function(E,A,P,w){return w=this.getLayer(w),w===null?null:(v.SetTileIndexCallback(E,A,P,w),this)},setTileLocationCallback:function(E,A,P,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.SetTileLocationCallback(E,A,P,w,I,O,F),this)},setLayer:function(E){var A=this.getLayerIndex(E);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(E,A){this.tileWidth=E,this.tileHeight=A,this.widthInPixels=this.width*E,this.heightInPixels=this.height*A;for(var P=0;P<this.layers.length;P++){this.layers[P].baseTileWidth=E,this.layers[P].baseTileHeight=A;for(var w=this.layers[P].data,I=this.layers[P].width,O=this.layers[P].height,F=0;F<O;F++)for(var L=0;L<I;L++){var D=w[F][L];D!==null&&D.setSize(void 0,void 0,E,A)}}return this},setLayerTileSize:function(E,A,P){if(P=this.getLayer(P),P===null)return this;P.tileWidth=E,P.tileHeight=A;for(var w=P.data,I=P.width,O=P.height,F=0;F<O;F++)for(var L=0;L<I;L++){var D=w[F][L];D!==null&&D.setSize(E,A)}return this},shuffle:function(E,A,P,w,I){return I=this.getLayer(I),I===null?null:(v.Shuffle(E,A,P,w,I),this)},swapByIndex:function(E,A,P,w,I,O,F){return F=this.getLayer(F),F===null?null:(v.SwapByIndex(E,A,P,w,I,O,F),this)},tileToWorldX:function(E,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldX(E,A,P)},tileToWorldY:function(E,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldY(E,A,P)},tileToWorldXY:function(E,A,P,w,I){return I=this.getLayer(I),I===null?null:this._convert.TileToWorldXY(E,A,P,w,I)},getTileCorners:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(E,A,P,w)},weightedRandomize:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:(v.WeightedRandomize(A,P,w,I,E,O),this)},worldToTileX:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(E,A,P,w)},worldToTileY:function(E,A,P,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(E,A,P,w)},worldToTileXY:function(E,A,P,w,I,O){return O=this.getLayer(O),O===null?null:this._convert.WorldToTileXY(E,A,P,w,I,O)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});d.exports=T},45939:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),x=t(31989);h.register("tilemap",function(o){var a=o!==void 0?o:{};return x(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},46029:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),x=t(31989);h.register("tilemap",function(o,a,r,i,n,l,s){return o===null&&(o=void 0),a===null&&(a=void 0),r===null&&(r=void 0),i===null&&(i=void 0),n===null&&(n=void 0),x(this.scene,o,a,r,i,n,l,s)})},20442:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(78389),o=t(31401),a=t(95643),r=t(81086),i=t(19218),n=t(26099),l=new h({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,x,i],initialize:function(u,f,c,v,g,y){a.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=c,this.layer=f.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(g,y),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var u=[],f=[],c=this.tilemap;Array.isArray(s)||(s=[s]);for(var v=0;v<s.length;v++){var g=s[v];if(typeof g=="string"&&(g=c.getTileset(g)),g){f.push(g);for(var y=g.firstgid,T=0;T<g.total;T++)u[y+T]=g}}this.gidMap=u,this.tileset=f},setRenderOrder:function(s){var u=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=u.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,u){return r.CalculateFacesAt(s,u,this.layer),this},calculateFacesWithin:function(s,u,f,c){return r.CalculateFacesWithin(s,u,f,c,this.layer),this},createFromTiles:function(s,u,f,c,v){return r.CreateFromTiles(s,u,f,c,v,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,u,f,c,v,g,y){return r.Copy(s,u,f,c,v,g,y,this.layer),this},fill:function(s,u,f,c,v,g){return r.Fill(s,u,f,c,v,g,this.layer),this},filterTiles:function(s,u,f,c,v,g,y){return r.FilterTiles(s,u,f,c,v,g,y,this.layer)},findByIndex:function(s,u,f){return r.FindByIndex(s,u,f,this.layer)},findTile:function(s,u,f,c,v,g,y){return r.FindTile(s,u,f,c,v,g,y,this.layer)},forEachTile:function(s,u,f,c,v,g,y){return r.ForEachTile(s,u,f,c,v,g,y,this.layer),this},setTint:function(s,u,f,c,v,g){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!1};return this.forEachTile(y,this,u,f,c,v,g)},setTintFill:function(s,u,f,c,v,g){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!0};return this.forEachTile(y,this,u,f,c,v,g)},getTileAt:function(s,u,f){return r.GetTileAt(s,u,f,this.layer)},getTileAtWorldXY:function(s,u,f,c){return r.GetTileAtWorldXY(s,u,f,c,this.layer)},getIsoTileAtWorldXY:function(s,u,f,c,v){f===void 0&&(f=!0);var g=this.tempVec;return r.IsometricWorldToTileXY(s,u,!0,g,v,this.layer,f),this.getTileAt(g.x,g.y,c)},getTilesWithin:function(s,u,f,c,v){return r.GetTilesWithin(s,u,f,c,v,this.layer)},getTilesWithinShape:function(s,u,f){return r.GetTilesWithinShape(s,u,f,this.layer)},getTilesWithinWorldXY:function(s,u,f,c,v,g){return r.GetTilesWithinWorldXY(s,u,f,c,v,g,this.layer)},hasTileAt:function(s,u){return r.HasTileAt(s,u,this.layer)},hasTileAtWorldXY:function(s,u,f){return r.HasTileAtWorldXY(s,u,f,this.layer)},putTileAt:function(s,u,f,c){return r.PutTileAt(s,u,f,c,this.layer)},putTileAtWorldXY:function(s,u,f,c,v){return r.PutTileAtWorldXY(s,u,f,c,v,this.layer)},putTilesAt:function(s,u,f,c){return r.PutTilesAt(s,u,f,c,this.layer),this},randomize:function(s,u,f,c,v){return r.Randomize(s,u,f,c,v,this.layer),this},removeTileAt:function(s,u,f,c){return r.RemoveTileAt(s,u,f,c,this.layer)},removeTileAtWorldXY:function(s,u,f,c,v){return r.RemoveTileAtWorldXY(s,u,f,c,v,this.layer)},renderDebug:function(s,u){return r.RenderDebug(s,u,this.layer),this},replaceByIndex:function(s,u,f,c,v,g){return r.ReplaceByIndex(s,u,f,c,v,g,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=1),this.cullPaddingX=s,this.cullPaddingY=u,this},setCollision:function(s,u,f,c){return r.SetCollision(s,u,f,this.layer,c),this},setCollisionBetween:function(s,u,f,c){return r.SetCollisionBetween(s,u,f,c,this.layer),this},setCollisionByProperty:function(s,u,f){return r.SetCollisionByProperty(s,u,f,this.layer),this},setCollisionByExclusion:function(s,u,f){return r.SetCollisionByExclusion(s,u,f,this.layer),this},setCollisionFromCollisionGroup:function(s,u){return r.SetCollisionFromCollisionGroup(s,u,this.layer),this},setTileIndexCallback:function(s,u,f){return r.SetTileIndexCallback(s,u,f,this.layer),this},setTileLocationCallback:function(s,u,f,c,v,g){return r.SetTileLocationCallback(s,u,f,c,v,g,this.layer),this},shuffle:function(s,u,f,c){return r.Shuffle(s,u,f,c,this.layer),this},swapByIndex:function(s,u,f,c,v,g){return r.SwapByIndex(s,u,f,c,v,g,this.layer),this},tileToWorldX:function(s,u){return this.tilemap.tileToWorldX(s,u,this)},tileToWorldY:function(s,u){return this.tilemap.tileToWorldY(s,u,this)},tileToWorldXY:function(s,u,f,c){return this.tilemap.tileToWorldXY(s,u,f,c,this)},getTileCorners:function(s,u,f){return this.tilemap.getTileCorners(s,u,f,this)},weightedRandomize:function(s,u,f,c,v){return r.WeightedRandomize(u,f,c,v,s,this.layer),this},worldToTileX:function(s,u,f){return this.tilemap.worldToTileX(s,u,f,this)},worldToTileY:function(s,u,f){return this.tilemap.worldToTileY(s,u,f,this)},worldToTileXY:function(s,u,f,c,v){return this.tilemap.worldToTileXY(s,u,f,c,v,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});d.exports=l},16153:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),x=new h,o=new h,a=new h,r=function(i,n,l,s){var u=n.cull(l),f=u.length,c=l.alpha*n.alpha;if(!(f===0||c<=0)){var v=x,g=o,y=a;g.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),v.copyFrom(l.matrix);var T=i.currentContext,E=n.gidMap;T.save(),s?(v.multiplyWithOffset(s,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),g.e=n.x,g.f=n.y,v.multiply(g,y),y.copyToContext(T)):(g.e-=l.scrollX*n.scrollFactorX,g.f-=l.scrollY*n.scrollFactorY,g.copyToContext(T)),(!i.antialias||n.scaleX>1||n.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var A=0;A<f;A++){var P=u[A],w=E[P.index];if(w){var I=w.image.getSourceImage(),O=w.getTileTextureCoordinates(P.index),F=w.tileWidth,L=w.tileHeight;if(!(O===null||F===0||L===0)){var D=F*.5,b=L*.5;O.x+=w.tileOffset.x,O.y+=w.tileOffset.y,T.save(),T.translate(P.pixelX+D,P.pixelY+b),P.rotation!==0&&T.rotate(P.rotation),(P.flipX||P.flipY)&&T.scale(P.flipX?-1:1,P.flipY?-1:1),T.globalAlpha=c*P.alpha,T.drawImage(I,O.x,O.y,F,L,-D,-b,F,L),T.restore()}}}T.restore()}};d.exports=r},19218:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),x=h,o=h;x=t(99558),o=t(16153),d.exports={renderWebGL:x,renderCanvas:o}},99558:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),x=function(o,a,r){var i=a.cull(r),n=i.length,l=r.alpha*a.alpha;if(!(n===0||l<=0)){var s=a.gidMap,u=o.pipelines.set(a.pipeline,a),f=h.getTintAppendFloatAlpha,c=a.scrollFactorX,v=a.scrollFactorY,g=a.x,y=a.y,T=a.scaleX,E=a.scaleY;o.pipelines.preBatch(a);for(var A=0;A<n;A++){var P=i[A],w=s[P.index];if(w){var I=w.getTileTextureCoordinates(P.index),O=w.tileWidth,F=w.tileHeight;if(!(!I||O===0||F===0)){var L=O*.5,D=F*.5,b=w.glTexture,U=u.setTexture2D(b,a),W=O,H=F,Y=I.x,G=I.y,X=w.tileOffset.x,V=w.tileOffset.y,B=f(P.tint,l*P.alpha);u.batchTexture(a,b,b.width,b.height,g+P.pixelX*T+(L*T-X),y+P.pixelY*E+(D*E-V),O,F,T,E,P.rotation,P.flipX,P.flipY,c,v,L,D,Y,G,W,H,B,B,B,B,P.tintFill,0,0,r,null,!0,U,!0)}}}o.pipelines.postBatch(a)}};d.exports=x},33629:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(26099),o=new h({initialize:function(r,i,n,l,s,u,f,c,v){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f={}),c===void 0&&(c={}),this.name=r,this.firstgid=i,this.tileWidth=n,this.tileHeight=l,this.tileMargin=s,this.tileSpacing=u,this.tileProperties=f,this.tileData=c,this.tileOffset=new x,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var r=this.getTileData(a);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){this.image=a;var r=a.get(),i=a.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>i.width||r.height>i.height?this.updateTileData(r.width,r.height):this.updateTileData(i.width,i.height,i.x,i.y),this},setTileSize:function(a,r){return a!==void 0&&(this.tileWidth=a),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,r){return a!==void 0&&(this.tileMargin=a),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),s=Math.floor(s),this.rows=l,this.columns=s,this.total=l*s,this.texCoordinates.length=0;for(var u=this.tileMargin+i,f=this.tileMargin+n,c=0;c<this.rows;c++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:u,y:f}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin+i,f+=this.tileHeight+this.tileSpacing}return this}});d.exports=o},72023:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),x=function(o,a,r){var i=h(o,a,!0,r),n=h(o,a-1,!0,r),l=h(o,a+1,!0,r),s=h(o-1,a,!0,r),u=h(o+1,a,!0,r),f=i&&i.collides;return f&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),n&&n.collides&&(f&&(i.faceTop=!1),n.faceBottom=!f),l&&l.collides&&(f&&(i.faceBottom=!1),l.faceTop=!f),s&&s.collides&&(f&&(i.faceLeft=!1),s.faceRight=!f),u&&u.collides&&(f&&(i.faceRight=!1),u.faceLeft=!f),i&&!i.collides&&i.resetFaces(),i};d.exports=x},42573:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),x=t(7386),o=function(a,r,i,n,l){for(var s=null,u=null,f=null,c=null,v=x(a,r,i,n,null,l),g=0;g<v.length;g++){var y=v[g];y&&(y.collides?(s=h(y.x,y.y-1,!0,l),u=h(y.x,y.y+1,!0,l),f=h(y.x-1,y.y,!0,l),c=h(y.x+1,y.y,!0,l),y.faceTop=!(s&&s.collides),y.faceBottom=!(u&&u.collides),y.faceLeft=!(f&&f.collides),y.faceRight=!(c&&c.collides)):y.resetFaces())}};d.exports=o},33528:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=new h,o=function(a,r,i,n){var l=i.tilemapLayer,s=l.cullPaddingX,u=l.cullPaddingY,f=l.tilemap.tileToWorldXY(a,r,x,n,l);return f.x>n.worldView.x+l.scaleX*i.tileWidth*(-s-.5)&&f.x<n.worldView.right+l.scaleX*i.tileWidth*(s-.5)&&f.y>n.worldView.y+l.scaleY*i.tileHeight*(-u-1)&&f.y<n.worldView.bottom+l.scaleY*i.tileHeight*(u-.5)};d.exports=o},1785:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),x=t(7386),o=t(62991),a=t(23029),r=function(i,n,l,s,u,f,c,v){c===void 0&&(c=!0);var g=x(i,n,l,s,null,v),y=[];g.forEach(function(O){var F=new a(O.layer,O.index,O.x,O.y,O.width,O.height,O.baseWidth,O.baseHeight);F.copy(O),y.push(F)});for(var T=u-i,E=f-n,A=0;A<y.length;A++){var P=y[A],w=P.x+T,I=P.y+E;o(w,I,v)&&v.data[I][w]&&(P.x=w,P.y=I,P.updatePixelXY(),v.data[I][w]=P)}c&&h(u-1,f-1,l+2,s+2,v),g.length=0,y.length=0};d.exports=r},78419:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),x=t(7386),o=t(27987),a=function(r,i,n,l,s,u){n||(n={}),Array.isArray(r)||(r=[r]);var f=u.tilemapLayer;l||(l=f.scene),s||(s=l.cameras.main);var c=u.width,v=u.height,g=x(0,0,c,v,null,u),y=[],T,E=function(I,O,F){for(var L=0;L<F.length;L++){var D=F[L];I.hasOwnProperty(D)||(I[D]=O[D])}};for(T=0;T<g.length;T++){var A=g[T],P=h(n);if(r.indexOf(A.index)!==-1){var w=f.tileToWorldXY(A.x,A.y,void 0,s,u);P.x=w.x,P.y=w.y,E(P,A,["rotation","flipX","flipY","alpha","visible","tint"]),P.hasOwnProperty("origin")||(P.x+=A.width*.5,P.y+=A.height*.5),P.hasOwnProperty("useSpriteSheet")&&(P.key=A.tileset.image,P.frame=A.index-1),y.push(l.make.sprite(P))}}if(Array.isArray(i))for(T=0;T<r.length;T++)o(r[T],i[T],0,0,c,v,u);else if(i!==null)for(T=0;T<r.length;T++)o(r[T],i,0,0,c,v,u);return y};d.exports=a},19545:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),x=t(63448),o=t(56583),a=new h,r=function(i,n){var l=i.tilemapLayer.tilemap,s=i.tilemapLayer,u=Math.floor(l.tileWidth*s.scaleX),f=Math.floor(l.tileHeight*s.scaleY),c=o(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,v=x(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,g=o(n.worldView.y-s.y,f,0,!0)-s.cullPaddingY,y=x(n.worldView.bottom-s.y,f,0,!0)+s.cullPaddingY;return a.setTo(c,g,v-c,y-g)};d.exports=r},30003:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19545),x=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),x(a,s,n,i),i};d.exports=o},35137:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(42573),o=t(20576),a=function(r,i,n,l,s,u,f){for(var c=f.collideIndexes.indexOf(r)!==-1,v=h(i,n,l,s,null,f),g=0;g<v.length;g++)v[g].index=r,o(v[g],c);u&&x(i-1,n-1,l+2,s+2,f)};d.exports=a},40253:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,a,r,i,n,l,s,u){var f=h(r,i,n,l,s,u);return f.filter(o,a)};d.exports=x},52692:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){h===void 0&&(h=0),x===void 0&&(x=!1);var a=0,r,i,n;if(x){for(i=o.height-1;i>=0;i--)for(r=o.width-1;r>=0;r--)if(n=o.data[i][r],n&&n.index===t){if(a===h)return n;a+=1}}else for(i=0;i<o.height;i++)for(r=0;r<o.width;r++)if(n=o.data[i][r],n&&n.index===t){if(a===h)return n;a+=1}return null};d.exports=S},66151:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,a,r,i,n,l,s,u){var f=h(r,i,n,l,s,u);return f.find(o,a)||null};d.exports=x},97560:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,a,r,i,n,l,s,u){var f=h(r,i,n,l,s,u);f.forEach(o,a)};d.exports=x},43305:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(30003),o=t(9474),a=t(14018),r=t(29747),i=t(54503),n=function(l){return l===h.ORTHOGONAL?x:l===h.HEXAGONAL?o:l===h.STAGGERED?i:l===h.ISOMETRIC?a:r};d.exports=n},7423:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),x=function(o,a,r,i){if(h(o,a,i)){var n=i.data[a][o]||null;return n?n.index===-1?r?n:null:n:null}else return null};d.exports=x},60540:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),x=t(26099),o=new x,a=function(r,i,n,l,s){return s.tilemapLayer.worldToTileXY(r,i,!0,o,l),h(o.x,o.y,n,s)};d.exports=a},55826:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i){var n=i.baseTileWidth,l=i.baseTileHeight,s=i.tilemapLayer,u=0,f=0;s&&(r||(r=s.scene.cameras.main),u=s.x+r.scrollX*(1-s.scrollFactorX),f=s.y+r.scrollY*(1-s.scrollFactorY),n*=s.scaleX,l*=s.scaleY);var c=u+o*n,v=f+a*l;return[new h(c,v),new h(c+n,v),new h(c+n,v+l),new h(c,v+l)]};d.exports=x},11758:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(27229),o=t(29747),a=t(55826),r=function(i){return i===h.ORTHOGONAL?a:i===h.ISOMETRIC?o:i===h.HEXAGONAL?x:(i===h.STAGGERED,o)};d.exports=r},39167:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(29747),o=t(97281),a=function(r){return r===h.ORTHOGONAL?o:x};d.exports=a},62e3:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(19951),o=t(14127),a=t(29747),r=t(97202),i=t(70326),n=function(l){return l===h.ORTHOGONAL?i:l===h.ISOMETRIC?o:l===h.HEXAGONAL?x:l===h.STAGGERED?r:a};d.exports=n},5984:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(29747),o=t(28054),a=t(29650),r=function(i){return i===h.ORTHOGONAL?a:i===h.STAGGERED?o:x};d.exports=r},7386:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o,a,r,i,n,l){o===void 0&&(o=0),a===void 0&&(a=0),r===void 0&&(r=l.width),i===void 0&&(i=l.height),n||(n={});var s=h(n,"isNotEmpty",!1),u=h(n,"isColliding",!1),f=h(n,"hasInterestingFace",!1);o<0&&(r+=o,o=0),a<0&&(i+=a,a=0),o+r>l.width&&(r=Math.max(l.width-o,0)),a+i>l.height&&(i=Math.max(l.height-a,0));for(var c=[],v=a;v<a+i;v++)for(var g=o;g<o+r;g++){var y=l.data[v][g];if(y!==null){if(s&&y.index===-1||u&&!y.collides||f&&!y.hasInterestingFace)continue;c.push(y)}}return c};d.exports=x},91141:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55738),x=t(7386),o=t(91865),a=t(29747),r=t(26099),i=t(91907),n=function(c,v){return o.RectangleToTriangle(v,c)},l=new r,s=new r,u=new r,f=function(c,v,g,y){if(y.orientation!==i.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(c===void 0)return[];var T=a;c instanceof h.Circle?T=o.CircleToRectangle:c instanceof h.Rectangle?T=o.RectangleToRectangle:c instanceof h.Triangle?T=n:c instanceof h.Line&&(T=o.LineToRectangle),y.tilemapLayer.worldToTileXY(c.left,c.top,!0,s,g);var E=s.x,A=s.y;y.tilemapLayer.worldToTileXY(c.right,c.bottom,!1,u,g);var P=Math.ceil(u.x),w=Math.ceil(u.y),I=Math.max(P-E,1),O=Math.max(w-A,1),F=x(E,A,I,O,v,y),L=y.tileWidth,D=y.tileHeight;y.tilemapLayer&&(L*=y.tilemapLayer.scaleX,D*=y.tilemapLayer.scaleY);for(var b=[],U=new h.Rectangle(0,0,L,D),W=0;W<F.length;W++){var H=F[W];y.tilemapLayer.tileToWorldXY(H.x,H.y,l,g),U.x=l.x,U.y=l.y,T(c,U)&&b.push(H)}return b};d.exports=f},96523:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(26099),o=new x,a=new x,r=function(i,n,l,s,u,f,c){var v=c.tilemapLayer.tilemap._convert.WorldToTileXY;v(i,n,!0,o,f,c);var g=o.x,y=o.y;v(i+l,n+s,!1,a,f,c);var T=Math.ceil(a.x),E=Math.ceil(a.y);return h(g,y,T-g,E-y,u,c)};d.exports=r},96113:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(20242),o=t(10095),a=function(r){return r===h.ORTHOGONAL?o:x};d.exports=a},16926:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(86625),o=t(96897),a=t(29747),r=t(15108),i=t(85896),n=function(l){return l===h.ORTHOGONAL?i:l===h.ISOMETRIC?o:l===h.HEXAGONAL?x:l===h.STAGGERED?r:a};d.exports=n},55762:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=t(20242),o=t(51900),a=t(63288),r=function(i){return i===h.ORTHOGONAL?a:i===h.STAGGERED?o:x};d.exports=r},45091:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),x=function(o,a,r){if(h(o,a,r)){var i=r.data[a][o];return i!==null&&i.index>-1}else return!1};d.exports=x},24152:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45091),x=t(26099),o=new x,a=function(r,i,n,l){l.tilemapLayer.worldToTileXY(r,i,!0,o,n);var s=o.x,u=o.y;return h(s,u,l)};d.exports=a},90454:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),x=t(56583),o=function(a,r){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,l=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),u=a.hexSideLength,f,c,v,g;if(a.staggerAxis==="y"){var y=(s-u)/2+u;f=x(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,c=h(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,v=x(r.worldView.y-n.y,y,0,!0)-n.cullPaddingY,g=h(r.worldView.bottom-n.y,y,0,!0)+n.cullPaddingY}else{var T=(l-u)/2+u;f=x(r.worldView.x-n.x,T,0,!0)-n.cullPaddingX,c=h(r.worldView.right-n.x,T,0,!0)+n.cullPaddingX,v=x(r.worldView.y-n.y,s,0,!0)-n.cullPaddingY,g=h(r.worldView.bottom-n.y,s,0,!0)+n.cullPaddingY}return{left:f,right:c,top:v,bottom:g}};d.exports=o},9474:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90454),x=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),x(a,s,n,i),i};d.exports=o},27229:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19951),x=t(26099),o=new x,a=function(r,i,n,l){var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(s*=f.scaleX,u*=f.scaleY);var c=h(r,i,o,n,l),v=[],g=.5773502691896257,y,T;l.staggerAxis==="y"?(y=g*s,T=u/2):(y=s/2,T=g*u);for(var E=0;E<6;E++){var A=2*Math.PI*(.5-E)/6;v.push(new x(c.x+y*Math.cos(A),c.y+T*Math.sin(A)))}return v};d.exports=a},19951:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,c=0;u&&(i||(i=u.scene.cameras.main),f=u.x+i.scrollX*(1-u.scrollFactorX),c=u.y+i.scrollY*(1-u.scrollFactorY),l*=u.scaleX,s*=u.scaleY);var v=l/2,g=s/2,y,T,E=n.staggerAxis,A=n.staggerIndex;return E==="y"?(y=f+l*o+l,T=c+1.5*a*g+g,a%2===0&&(A==="odd"?y-=v:y+=v)):E==="x"&&A==="odd"&&(y=f+1.5*o*v+v,T=c+s*o+s,o%2===0&&(A==="odd"?T-=g:T+=g)),r.set(y,T)};d.exports=x},86625:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n,l){i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),a=a-(f.y+n.scrollY*(1-f.scrollFactorY)),s*=f.scaleX,u*=f.scaleY);var c=.5773502691896257,v=-.3333333333333333,g=0,y=.6666666666666666,T=s/2,E=u/2,A,P,w,I,O;l.staggerAxis==="y"?(A=(o-T)/(c*s),P=(a-E)/E,w=c*A+v*P,I=g*A+y*P):(A=(o-T)/T,P=(a-E)/(c*u),w=v*A+c*P,I=y*A+g*P),O=-w-I;var F=Math.round(w),L=Math.round(I),D=Math.round(O),b=Math.abs(F-w),U=Math.abs(L-I),W=Math.abs(D-O);b>U&&b>W?F=-L-D:U>W&&(L=-F-D);var H,Y=L;return l.staggerIndex==="odd"?H=Y%2===0?L/2+F:L/2+F-.5:H=Y%2===0?L/2+F:L/2+F+.5,i.set(H,Y)};d.exports=x},62991:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t>=0&&t<x.width&&h>=0&&h<x.height};d.exports=S},14018:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33528),x=function(o,a,r,i){r===void 0&&(r=[]),i===void 0&&(i=0),r.length=0;var n=o.tilemapLayer,l=o.data,s=o.width,u=o.height,f=n.skipCull,c=0,v=s,g=0,y=u,T,E,A;if(i===0)for(E=g;E<y;E++)for(T=c;T<v;T++)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,E,o,a)||r.push(A));else if(i===1)for(E=g;E<y;E++)for(T=v;T>=c;T--)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,E,o,a)||r.push(A));else if(i===2)for(E=y;E>=g;E--)for(T=c;T<v;T++)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,E,o,a)||r.push(A));else if(i===3)for(E=y;E>=g;E--)for(T=v;T>=c;T--)A=l[E][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!f&&!h(T,E,o,a)||r.push(A));return n.tilesDrawn=r.length,n.tilesTotal=s*u,r};d.exports=x},14127:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,c=0;u&&(i||(i=u.scene.cameras.main),f=u.x+i.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=f+(o-a)*(l/2),g=c+(o+a)*(s/2);return r.set(v,g)};d.exports=x},96897:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n,l,s){i||(i=new h);var u=l.baseTileWidth,f=l.baseTileHeight,c=l.tilemapLayer;c&&(n||(n=c.scene.cameras.main),a=a-(c.y+n.scrollY*(1-c.scrollFactorY)),f*=c.scaleY,o=o-(c.x+n.scrollX*(1-c.scrollFactorX)),u*=c.scaleX);var v=u/2,g=f/2;o=o-v,s||(a=a-f);var y=.5*(o/v+a/g),T=.5*(-o/v+a/g);return r&&(y=Math.floor(y),T=Math.floor(T)),i.set(y,T)};d.exports=x},71558:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),x=t(62991),o=t(72023),a=t(20576),r=function(i,n,l,s,u){if(s===void 0&&(s=!0),!x(n,l,u))return null;var f,c=u.data[l][n],v=c&&c.collides;i instanceof h?(u.data[l][n]===null&&(u.data[l][n]=new h(u,i.index,n,l,u.tileWidth,u.tileHeight)),u.data[l][n].copy(i)):(f=i,u.data[l][n]===null?u.data[l][n]=new h(u,f,n,l,u.tileWidth,u.tileHeight):u.data[l][n].index=f);var g=u.data[l][n],y=u.collideIndexes.indexOf(g.index)!==-1;if(f=i instanceof h?i.index:i,f===-1)g.width=u.tileWidth,g.height=u.tileHeight;else{var T=u.tilemapLayer.tilemap,E=T.tiles,A=E[f][2],P=T.tilesets[A];g.width=P.tileWidth,g.height=P.tileHeight}return a(g,y),s&&v!==g.collides&&o(n,l,u),g};d.exports=r},26303:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71558),x=t(26099),o=new x,a=function(r,i,n,l,s,u){return u.tilemapLayer.worldToTileXY(i,n,!0,o,s,u),h(r,o.x,o.y,l,u)};d.exports=a},14051:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),x=t(71558),o=function(a,r,i,n,l){if(n===void 0&&(n=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var s=a.length,u=a[0].length,f=0;f<s;f++)for(var c=0;c<u;c++){var v=a[f][c];x(v,r+c,i+f,!1,l)}n&&h(r-1,i-1,u+2,s+2,l)};d.exports=o},77389:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(26546),o=function(a,r,i,n,l,s){var u,f=h(a,r,i,n,{},s);if(!l)for(l=[],u=0;u<f.length;u++)l.indexOf(f[u].index)===-1&&l.push(f[u].index);for(u=0;u<f.length;u++)f[u].index=x(l)};d.exports=o},63557:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),x=t(62991),o=t(72023),a=function(r,i,n,l,s){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!x(r,i,s))return null;var u=s.data[i][r];if(u)s.data[i][r]=n?null:new h(s,-1,r,i,s.tileWidth,s.tileHeight);else return null;return l&&u&&u.collides&&o(r,i,s),u};d.exports=a},94178:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63557),x=t(26099),o=new x,a=function(r,i,n,l,s,u){return u.tilemapLayer.worldToTileXY(r,i,!0,o,s,u),h(o.x,o.y,n,l,u)};d.exports=a},15533:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(3956),o=new x(105,210,231,150),a=new x(243,134,48,200),r=new x(40,39,37,150),i=function(n,l,s){l===void 0&&(l={});var u=l.tileColor!==void 0?l.tileColor:o,f=l.collidingTileColor!==void 0?l.collidingTileColor:a,c=l.faceColor!==void 0?l.faceColor:r,v=h(0,0,s.width,s.height,null,s);n.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),n.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var g=0;g<v.length;g++){var y=v[g],T=y.tileset?y.tileset.tileOffset:{x:0,y:0},E=y.width,A=y.height,P=y.pixelX-T.x,w=y.pixelY-T.y,I=y.collides?f:u;I!==null&&(n.fillStyle(I.color,I.alpha/255),n.fillRect(P,w,E,A)),P+=1,w+=1,E-=2,A-=2,c!==null&&(n.lineStyle(1,c.color,c.alpha/255),y.faceTop&&n.lineBetween(P,w,P+E,w),y.faceRight&&n.lineBetween(P+E,w,P+E,w+A),y.faceBottom&&n.lineBetween(P,w+A,P+E,w+A),y.faceLeft&&n.lineBetween(P,w,P,w+A))}};d.exports=i},27987:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,a,r,i,n,l,s){for(var u=h(r,i,n,l,null,s),f=0;f<u.length;f++)u[f]&&u[f].index===o&&(u[f].index=a)};d.exports=x},32483:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=t.data,r=t.width,i=t.height,n=t.tilemapLayer,l=Math.max(0,h.left),s=Math.min(r,h.right),u=Math.max(0,h.top),f=Math.min(i,h.bottom),c,v,g;if(x===0)for(v=u;v<f;v++)for(c=l;a[v]&&c<s;c++)g=a[v][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&o.push(g);else if(x===1)for(v=u;v<f;v++)for(c=s;a[v]&&c>=l;c--)g=a[v][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&o.push(g);else if(x===2)for(v=f;v>=u;v--)for(c=l;a[v]&&c<s;c++)g=a[v][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&o.push(g);else if(x===3)for(v=f;v>=u;v--)for(c=s;a[v]&&c>=l;c--)g=a[v][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&o.push(g);return n.tilesDrawn=o.length,n.tilesTotal=r*i,o};d.exports=S},57068:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=t(9589),a=function(r,i,n,l,s){i===void 0&&(i=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++)o(r[u],i,l);if(s)for(var f=0;f<l.height;f++)for(var c=0;c<l.width;c++){var v=l.data[f][c];v&&r.indexOf(v.index)!==-1&&h(v,i)}n&&x(0,0,l.width,l.height,l)};d.exports=a},37266:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=t(9589),a=function(r,i,n,l,s,u){if(n===void 0&&(n=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),!(r>i)){for(var f=r;f<=i;f++)o(f,n,s);if(u)for(var c=0;c<s.height;c++)for(var v=0;v<s.width;v++){var g=s.data[c][v];g&&g.index>=r&&g.index<=i&&h(g,n)}l&&x(0,0,s.width,s.height,s)}};d.exports=a},75661:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=t(9589),a=function(r,i,n,l){i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var f=l.data[s][u];f&&r.indexOf(f.index)===-1&&(h(f,i),o(f.index,i,l))}n&&x(0,0,l.width,l.height,l)};d.exports=a},64740:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=t(97022),a=function(r,i,n,l){i===void 0&&(i=!0),n===void 0&&(n=!0);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var f=l.data[s][u];if(f){for(var c in r)if(o(f.properties,c)){var v=r[c];Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)f.properties[c]===v[g]&&h(f,i)}}}n&&x(0,0,l.width,l.height,l)};d.exports=a},63307:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),x=t(42573),o=function(a,r,i){a===void 0&&(a=!0),r===void 0&&(r=!0);for(var n=0;n<i.height;n++)for(var l=0;l<i.width;l++){var s=i.data[n][l];if(s){var u=s.getCollisionGroup();u&&u.objects&&u.objects.length>0&&h(s,a)}}r&&x(0,0,i.width,i.height,i)};d.exports=o},9589:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=x.collideIndexes.indexOf(t);h&&o===-1?x.collideIndexes.push(t):!h&&o!==-1&&x.collideIndexes.splice(o,1)};d.exports=S},20576:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};d.exports=S},79583:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){if(typeof t=="number")o.callbacks[t]=h!==null?{callback:h,callbackContext:x}:void 0;else for(var a=0,r=t.length;a<r;a++)o.callbacks[t[a]]=h!==null?{callback:h,callbackContext:x}:void 0};d.exports=S},93254:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,a,r,i,n,l,s){for(var u=h(o,a,r,i,null,s),f=0;f<u.length;f++)u[f].setCollisionCallback(n,l)};d.exports=x},32903:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(33680),o=function(a,r,i,n,l){var s=h(a,r,i,n,null,l),u=s.map(function(c){return c.index});x(u);for(var f=0;f<s.length;f++)s[f].index=u[f]};d.exports=o},61325:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),x=t(56583),o=function(a,r){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,l=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),u=x(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,f=h(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,c=x(r.worldView.y-n.y,s/2,0,!0)-n.cullPaddingY,v=h(r.worldView.bottom-n.y,s/2,0,!0)+n.cullPaddingY;return{left:u,right:f,top:c,bottom:v}};d.exports=o},54503:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61325),x=t(32483),o=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var l=a.tilemapLayer,s=h(a,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),x(a,s,n,i),i};d.exports=o},97202:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n){r||(r=new h);var l=n.baseTileWidth,s=n.baseTileHeight,u=n.tilemapLayer,f=0,c=0;u&&(i||(i=u.scene.cameras.main),f=u.x+i.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var v=f+o*l+a%2*(l/2),g=c+a*(s/2);return r.set(v,g)};d.exports=x},28054:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=x.baseTileHeight,a=x.tilemapLayer,r=0;return a&&(h===void 0&&(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleY),r+t*(o/2)+o};d.exports=S},15108:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n,l){i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),a=a-(f.y+n.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),s*=f.scaleX);var c=r?Math.floor(a/(u/2)):a/(u/2),v=r?Math.floor((o+c%2*.5*s)/s):(o+c%2*.5*s)/s;return i.set(v,c)};d.exports=x},51900:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=o.baseTileHeight,r=o.tilemapLayer;return r&&(x||(x=r.scene.cameras.main),t=t-(r.y+x.scrollY*(1-r.scrollFactorY)),a*=r.scaleY),h?Math.floor(t/(a/2)):t/(a/2)};d.exports=S},86560:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=function(o,a,r,i,n,l,s){for(var u=h(r,i,n,l,null,s),f=0;f<u.length;f++)u[f]&&(u[f].index===o?u[f].index=a:u[f].index===a&&(u[f].index=o))};d.exports=x},97281:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=x.baseTileWidth,a=x.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.x+h.scrollX*(1-a.scrollFactorX),o*=a.scaleX),r+t*o};d.exports=S},70326:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97281),x=t(29650),o=t(26099),a=function(r,i,n,l,s){return n||(n=new o(0,0)),n.x=h(r,l,s),n.y=x(i,l,s),n};d.exports=a},29650:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=x.baseTileHeight,a=x.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleY),r+t*o};d.exports=S},77366:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),x=t(75508),o=function(a,r,i,n,l,s){if(l){var u,f=h(a,r,i,n,null,s),c=0;for(u=0;u<l.length;u++)c+=l[u].weight;if(!(c<=0))for(u=0;u<f.length;u++){for(var v=x.RND.frac()*c,g=0,y=-1,T=0;T<l.length;T++)if(g+=l[T].weight,v<=g){var E=l[T].index;y=Array.isArray(E)?E[Math.floor(x.RND.frac()*E.length)]:E;break}f[u].index=y}}};d.exports=o},10095:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),x=t(26099),o=new x,a=function(r,i,n,l){return h(r,0,i,o,n,l),o.x};d.exports=a},85896:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),x=function(o,a,r,i,n,l){r===void 0&&(r=!0),i||(i=new h);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),a=a-(f.y+n.scrollY*(1-f.scrollFactorY)),s*=f.scaleX,u*=f.scaleY);var c=o/s,v=a/u;return r&&(c=Math.floor(c),v=Math.floor(v)),i.set(c,v)};d.exports=x},63288:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),x=t(26099),o=new x,a=function(r,i,n,l){return h(0,r,i,o,n,l),o.y};d.exports=a},81086:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(91907)};d.exports=h},62501:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=h(!1,o,x.ORIENTATION),d.exports=o},14977:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(91907),o=t(95540),a=new h({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","layer"),this.id=o(i,"id",0),this.x=o(i,"x",0),this.y=o(i,"y",0),this.width=o(i,"width",0),this.height=o(i,"height",0),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.baseTileWidth=o(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(i,"baseTileHeight",this.tileHeight),this.orientation=o(i,"orientation",x.ORTHOGONAL),this.widthInPixels=o(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(i,"alpha",1),this.visible=o(i,"visible",!0),this.properties=o(i,"properties",[]),this.indexes=o(i,"indexes",[]),this.collideIndexes=o(i,"collideIndexes",[]),this.callbacks=o(i,"callbacks",[]),this.bodies=o(i,"bodies",[]),this.data=o(i,"data",[]),this.tilemapLayer=o(i,"tilemapLayer",null),this.hexSideLength=o(i,"hexSideLength",0),this.staggerAxis=o(i,"staggerAxis","y"),this.staggerIndex=o(i,"staggerIndex","odd")}});d.exports=a},87010:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(91907),o=t(95540),a=new h({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","map"),this.width=o(i,"width",0),this.height=o(i,"height",0),this.infinite=o(i,"infinite",!1),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.widthInPixels=o(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.tileHeight),this.format=o(i,"format",null),this.orientation=o(i,"orientation",x.ORTHOGONAL),this.renderOrder=o(i,"renderOrder","right-down"),this.version=o(i,"version","1"),this.properties=o(i,"properties",{}),this.layers=o(i,"layers",[]),this.images=o(i,"images",[]),this.objects=o(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(i,"collision",{}),this.tilesets=o(i,"tilesets",[]),this.imageCollections=o(i,"imageCollections",[]),this.tiles=o(i,"tiles",[]),this.hexSideLength=o(i,"hexSideLength",0),this.staggerAxis=o(i,"staggerAxis","y"),this.staggerIndex=o(i,"staggerIndex","odd")}});d.exports=a},48700:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=new h({initialize:function(r){r===void 0&&(r={}),this.name=x(r,"name","object layer"),this.id=x(r,"id",0),this.opacity=x(r,"opacity",1),this.properties=x(r,"properties",{}),this.propertyTypes=x(r,"propertytypes",{}),this.type=x(r,"type","objectgroup"),this.visible=x(r,"visible",!0),this.objects=x(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});d.exports=o},6641:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),x=function(o){return o=o.toLowerCase(),o==="isometric"?h.ISOMETRIC:o==="staggered"?h.STAGGERED:o==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};d.exports=x},46177:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(2342),o=t(82593),a=t(46594),r=t(87021),i=function(n,l,s,u,f,c){var v;switch(l){case h.ARRAY_2D:v=x(n,s,u,f,c);break;case h.CSV:v=o(n,s,u,f,c);break;case h.TILED_JSON:v=a(n,s,c);break;case h.WELTMEISTER:v=r(n,s,c);break;default:console.warn("Unrecognized tilemap data format: "+l),v=null}return v};d.exports=i},2342:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(14977),o=t(87010),a=t(23029),r=function(i,n,l,s,u){for(var f=new x({tileWidth:l,tileHeight:s}),c=new o({name:i,tileWidth:l,tileHeight:s,format:h.ARRAY_2D,layers:[f]}),v=[],g=n.length,y=0,T=0;T<n.length;T++){v[T]=[];for(var E=n[T],A=0;A<E.length;A++){var P=parseInt(E[A],10);isNaN(P)||P===-1?v[T][A]=u?null:new a(f,-1,A,T,l,s):v[T][A]=new a(f,P,A,T,l,s)}y===0&&(y=E.length)}return c.width=f.width=y,c.height=f.height=g,c.widthInPixels=f.widthInPixels=y*l,c.heightInPixels=f.heightInPixels=g*s,f.data=v,c};d.exports=r},82593:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(2342),o=function(a,r,i,n,l){var s=r.trim().split(`
`).map(function(f){return f.split(",")}),u=x(a,s,i,n,l);return u.format=h.CSV,u};d.exports=o},6656:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14977),x=t(23029),o=function(a,r){for(var i=[],n=0;n<a.layer.length;n++){for(var l=a.layer[n],s=new h({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),u=[],f=[],c=0;c<l.data.length;c++){for(var v=0;v<l.data[c].length;v++){var g=l.data[c][v]-1,y;g>-1?y=new x(s,g,v,c,l.tilesize,l.tilesize):y=r?null:new x(s,-1,v,c,l.tilesize,l.tilesize),u.push(y)}f.push(u),u=[]}s.data=f,i.push(s)}return i};d.exports=o},96483:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),x=function(o){for(var a=[],r=[],i=0;i<o.layer.length;i++){var n=o.layer[i],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),a.push(new h(l,0,n.tilesize,n.tilesize,0,0)))}return a};d.exports=x},87021:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),x=t(87010),o=t(6656),a=t(96483),r=function(i,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var s=0,u=0,f=0;f<n.layer.length;f++)n.layer[f].width>s&&(s=n.layer[f].width),n.layer[f].height>u&&(u=n.layer[f].height);var c=new x({width:s,height:u,name:i,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:h.WELTMEISTER});return c.layers=o(n,l),c.tilesets=a(n),c};d.exports=r},52833:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),x=function(o){for(var a,r,i,n,l,s=0;s<o.layers.length;s++){a=o.layers[s],n=null;for(var u=0;u<a.data.length;u++){l=a.data[u];for(var f=0;f<l.length;f++)r=l[f],!(r===null||r.index<0)&&(i=o.tiles[r.index][2],n=o.tilesets[i],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=h(r.properties,n.tileProperties[r.index-n.firstgid])))}}};d.exports=x},41868:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=window.atob(t),x=h.length,o=new Array(x/4),a=0;a<x;a+=4)o[a/4]=(h.charCodeAt(a)|h.charCodeAt(a+1)<<8|h.charCodeAt(a+2)<<16|h.charCodeAt(a+3)<<24)>>>0;return o};d.exports=S},84101:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),x=function(o){var a,r,i=[];for(a=0;a<o.imageCollections.length;a++)for(var n=o.imageCollections[a],l=n.images,s=0;s<l.length;s++){var u=l[s],f={x:0,y:u.height-o.tileHeight};r=new h(u.image,u.gid,u.width,u.height,0,0,null,null,f),r.updateTileData(u.width,u.height),o.tilesets.push(r)}for(a=0;a<o.tilesets.length;a++){r=o.tilesets[a];for(var c=r.tileMargin,v=r.tileMargin,g=0,y=0,T=0,E=r.firstgid;E<r.firstgid+r.total&&(i[E]=[c,v,a],c+=r.tileWidth+r.tileSpacing,g++,!(g===r.total||(y++,y===r.columns&&(c=r.tileMargin,v+=r.tileHeight+r.tileSpacing,y=0,T++,T===r.rows))));E++);}return i};d.exports=x},79677:(d,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=function(o,a,r){if(!a)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+h(a,"startx",0)*o.tilewidth+h(a,"offsetx",0),n=a.y+h(a,"starty",0)*o.tileheight+h(a,"offsety",0);return{i:0,layers:a.layers,name:r.name+a.name+"/",opacity:r.opacity*a.opacity,visible:r.visible&&a.visible,x:r.x+i,y:r.y+n}};d.exports=x},29920:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,h=536870912,x=function(o){var a=!!(o&S),r=!!(o&t),i=!!(o&h);o=o&536870911;var n=0,l=!1;return a&&r&&i?(n=Math.PI/2,l=!0):a&&r&&!i?(n=Math.PI,l=!1):a&&!r&&i?(n=Math.PI/2,l=!1):a&&!r&&!i?(n=0,l=!0):!a&&r&&i?(n=3*Math.PI/2,l=!1):!a&&r&&!i?(n=Math.PI,l=!0):!a&&!r&&i?(n=3*Math.PI/2,l=!0):!a&&!r&&!i&&(n=0,l=!1),{gid:o,flippedHorizontal:a,flippedVertical:r,flippedAntiDiagonal:i,rotation:n,flipped:l}};d.exports=x},12635:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=t(79677),o=function(a){for(var r=[],i=[],n=x(a);n.i<n.layers.length||i.length>0;){if(n.i>=n.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=i.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var s=x(a,l,n);i.push(n),n=s}continue}var u=h(l,"offsetx",0)+h(l,"startx",0),f=h(l,"offsety",0)+h(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+u+l.x,y:n.y+f+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:h(l,"properties",{})})}return r};d.exports=o},46594:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51233),x=t(84101),o=t(91907),a=t(62644),r=t(80341),i=t(6641),n=t(87010),l=t(12635),s=t(22611),u=t(28200),f=t(24619),c=function(v,g,y){var T=a(g),E=new n({width:T.width,height:T.height,name:v,tileWidth:T.tilewidth,tileHeight:T.tileheight,orientation:i(T.orientation),format:r.TILED_JSON,version:T.version,properties:T.properties,renderOrder:T.renderorder,infinite:T.infinite});if(E.orientation===o.HEXAGONAL)if(E.hexSideLength=T.hexsidelength,E.staggerAxis=T.staggeraxis,E.staggerIndex=T.staggerindex,E.staggerAxis==="y"){var A=(E.tileHeight-E.hexSideLength)/2;E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+A)+A}else{var P=(E.tileWidth-E.hexSideLength)/2;E.widthInPixels=E.width*(E.hexSideLength+P)+P,E.heightInPixels=E.tileHeight*(E.height+.5)}E.layers=u(T,y),E.images=l(T);var w=f(T);return E.tilesets=w.tilesets,E.imageCollections=w.imageCollections,E.objects=s(T),E.tiles=x(E),h(E),E};d.exports=c},52205:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18254),x=t(29920),o=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(i,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var s=h(i,a);if(s.x+=n,s.y+=l,i.gid){var u=x(i.gid);s.gid=u.gid,s.flippedHorizontal=u.flippedHorizontal,s.flippedVertical=u.flippedVertical,s.flippedAntiDiagonal=u.flippedAntiDiagonal}else i.polyline?s.polyline=i.polyline.map(o):i.polygon?s.polygon=i.polygon.map(o):i.ellipse?s.ellipse=i.ellipse:i.text?s.text=i.text:i.point?s.point=!0:s.rectangle=!0;return s};d.exports=r},22611:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),x=t(52205),o=t(48700),a=t(79677),r=function(i){for(var n=[],l=[],s=a(i);s.i<s.layers.length||l.length>0;){if(s.i>=s.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=l.pop();continue}var u=s.layers[s.i];if(s.i++,u.opacity*=s.opacity,u.visible=s.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var f=a(i,u,s);l.push(s),s=f}continue}u.name=s.name+u.name;for(var c=s.x+h(u,"startx",0)+h(u,"offsetx",0),v=s.y+h(u,"starty",0)+h(u,"offsety",0),g=[],y=0;y<u.objects.length;y++){var T=x(u.objects[y],c,v);g.push(T)}var E=new o(u);E.objects=g,n.push(E)}return n};d.exports=r},28200:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41868),x=t(91907),o=t(79677),a=t(6641),r=t(95540),i=t(14977),n=t(29920),l=t(23029),s=function(u,f){for(var c=r(u,"infinite",!1),v=[],g=[],y=o(u);y.i<y.layers.length||g.length>0;){if(y.i>=y.layers.length){if(g.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}y=g.pop();continue}var T=y.layers[y.i];if(y.i++,T.type!=="tilelayer"){if(T.type==="group"){var E=o(u,T,y);g.push(y),y=E}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var A=0;A<T.chunks.length;A++)T.chunks[A].data=h(T.chunks[A].data);T.data&&(T.data=h(T.data)),delete T.encoding}var P,w,I,O,F,L,D=[],b=0;if(c){var U=r(T,"startx",0)+T.x,W=r(T,"starty",0)+T.y;P=new i({name:y.name+T.name,id:T.id,x:y.x+r(T,"offsetx",0)+U*u.tilewidth,y:y.y+r(T,"offsety",0)+W*u.tileheight,width:T.width,height:T.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:r(T,"properties",[]),orientation:a(u.orientation)}),P.orientation===x.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):(L=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var H=0;H<T.height;H++){D[H]=[null];for(var Y=0;Y<T.width;Y++)D[H][Y]=null}for(H=0,Z=T.chunks.length;H<Z;H++)for(var G=T.chunks[H],X=G.x-U,V=G.y-W,B=0,z=0,$=G.data.length;z<$;z++){var j=b+X,k=B+V;w=n(G.data[z]),w.gid>0?(I=new l(P,w.gid,j,k,u.tilewidth,u.tileheight),I.rotation=w.rotation,I.flipX=w.flipped,D[k][j]=I):(O=f?null:new l(P,-1,j,k,u.tilewidth,u.tileheight),D[k][j]=O),b++,b===G.width&&(B++,b=0)}}else{P=new i({name:y.name+T.name,id:T.id,x:y.x+r(T,"offsetx",0)+T.x,y:y.y+r(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:r(T,"properties",[]),orientation:a(u.orientation)}),P.orientation===x.HEXAGONAL&&(P.hexSideLength=u.hexsidelength,P.staggerAxis=u.staggeraxis,P.staggerIndex=u.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):(L=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var q=[],Q=0,Z=T.data.length;Q<Z;Q++)w=n(T.data[Q]),w.gid>0?(I=new l(P,w.gid,b,D.length,u.tilewidth,u.tileheight),I.rotation=w.rotation,I.flipX=w.flipped,q.push(I)):(O=f?null:new l(P,-1,b,D.length,u.tilewidth,u.tileheight),q.push(O)),b++,b===T.width&&(D.push(q),b=0,q=[])}P.data=D,v.push(P)}return v};d.exports=s},24619:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),x=t(16536),o=t(52205),a=t(57880),r=function(i){for(var n=[],l=[],s=null,u,f=0;f<i.tilesets.length;f++){var c=i.tilesets[f];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var v=new h(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(i.version>1){var g=void 0,y=void 0;if(Array.isArray(c.tiles)){g=g||{},y=y||{};for(var T=0;T<c.tiles.length;T++){var E=c.tiles[T];if(E.properties){var A={};E.properties.forEach(function(H){A[H.name]=H.value}),y[E.id]=A}if(E.objectgroup&&((g[E.id]||(g[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var P=E.objectgroup.objects.map(function(H){return o(H)});g[E.id].objectgroup.objects=P}E.animation&&((g[E.id]||(g[E.id]={})).animation=E.animation),E.type&&((g[E.id]||(g[E.id]={})).type=E.type)}}Array.isArray(c.wangsets)&&(g=g||{},y=y||{},a(c.wangsets,g)),g&&(v.tileData=g,v.tileProperties=y)}else if(c.tileproperties&&(v.tileProperties=c.tileproperties),c.tiles){v.tileData=c.tiles;for(u in v.tileData){var w=v.tileData[u].objectgroup;if(w&&w.objects){var I=w.objects.map(function(H){return o(H)});v.tileData[u].objectgroup.objects=I}}}v.updateTileData(c.imagewidth,c.imageheight),n.push(v)}else{var O=new x(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),F=0;for(T=0;T<c.tiles.length;T++){E=c.tiles[T];var L=E.image,D=parseInt(E.id,10),b=c.firstgid+D,U=E.imagewidth,W=E.imageheight;O.addImage(b,L,U,W),F=Math.max(D,F)}O.maxId=F,l.push(O)}s&&(s.lastgid=c.firstgid-1),s=c}return{tilesets:n,imageCollections:l}};d.exports=r},57880:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var x=0;x<t.length;x++){var o=t[x],a=x;if(o.name&&o.name!==""&&(a=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var r={},i={},n,l,s;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)s=1+n,l=o.edgecolors[n],l.name!==""&&(r[s]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)s=1+n,l=o.cornercolors[n],l.name!==""&&(i[s]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],s=1+n,l.name!==""&&(r[s]=i[s]=l.name);for(var u=[r,i,r,i,r,i,r,i],f=0;f<o.wangtiles.length;f++){var c=o.wangtiles[f],v=h[c.tileid]||(h[c.tileid]={});v=v.wangid||(v.wangid={});for(var g=[],y=0;y<Math.min(u.length,c.wangid.length);y++){if(l=c.wangid[y],l===0){g.push(void 0);continue}var T=u[y][l];if(T!==void 0){g.push(T);continue}g.push(l)}v[a]=g}}}};d.exports=S},96761:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(37277),o=t(44594),a=t(94880),r=t(72905),i=new h({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;if(n instanceof a){if(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new a(n);return this._pendingInsertion.push(l),l},delayedCall:function(n,l,s,u){return this.addEvent({delay:n,callback:l,args:s,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=n[l];r(this._pendingRemoval,s),r(this._pendingInsertion,s),r(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var s,u;for(s=0;s<n;s++){u=this._pendingRemoval[s];var f=this._active.indexOf(u);f>-1&&this._active.splice(f,1),u.destroy()}for(s=0;s<l;s++)u=this._pendingInsertion[s],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var s=0;s<this._active.length;s++){var u=this._active[s];if(!u.paused&&(u.elapsed+=l*u.timeScale,u.elapsed>=u.delay)){var f=u.elapsed-u.delay;if(u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0){if(u.repeatCount--,f>=u.delay)for(;f>=u.delay&&u.repeatCount>0;)u.callback&&u.callback.apply(u.callbackScope,u.args),f-=u.delay,u.repeatCount--;u.elapsed=f,u.hasDispatched=!1}else u.hasDispatched&&this._pendingRemoval.push(u)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",i,"time"),d.exports=i},96120:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(39429),a=t(95540),r=t(44594),i=t(89809),n=new h({Extends:x,initialize:function(s,u){x.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(r.PRE_UPDATE,this.preUpdate,this),f.on(r.UPDATE,this.update,this),f.once(r.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,s){this.paused||(this.elapsed+=s*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,s=this.events,u=!1,f=this.systems,c;for(l=0;l<s.length;l++){var v=s[l];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,c=v.target?v.target:this,v.if&&!v.if.call(c,v))continue;if(v.once&&(u=!0),v.set&&v.target)for(var g in v.set)v.target[g]=v.set[g];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(c),v.tween&&(v.tweenInstance=f.tweens.add(v.tween)),v.sound&&(typeof v.sound=="string"?f.sound.play(v.sound):f.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,c),v.run&&v.run.call(c),v.stop&&this.stop()}}if(u)for(l=0;l<s.length;l++)s[l].complete&&s[l].once&&(s.splice(l,1),l--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(i.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var s=this.events,u=0;u<s.length;u++){var f=s[u];f.complete=!1,l||(f.repeat=0),f.tweenInstance&&f.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var s=this.events,u=0;s.length>0&&(u=s[s.length-1].time);for(var f=0;f<l.length;f++){var c=l[f],v=a(c,"at",0),g=a(c,"in",null);g!==null&&(v=this.elapsed+g);var y=a(c,"from",null);y!==null&&(v=u+y),s.push({complete:!1,time:v,repeat:0,if:a(c,"if",null),run:a(c,"run",null),loop:a(c,"loop",null),event:a(c,"event",null),target:a(c,"target",null),set:a(c,"set",null),tween:a(c,"tween",null),sound:a(c,"sound",null),once:a(c,"once",!1),stop:a(c,"stop",!1)}),u=v}return this.complete=!1,this},clear:function(){for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&u.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});o.register("timeline",function(l){return new n(this.scene,l)}),d.exports=n},94880:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(95540),o=new h({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(a){if(this.delay=x(a,"delay",0),this.repeat=x(a,"repeat",0),this.loop=x(a,"loop",!1),this.callback=x(a,"callback",void 0),this.callbackScope=x(a,"callbackScope",this),this.args=x(a,"args",[]),this.timeScale=x(a,"timeScale",1),this.startAt=x(a,"startAt",0),this.paused=x(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});d.exports=o},35945:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="complete"},89809:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={COMPLETE:t(35945)}},90291:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),x=t(83419),o=t(43491),a=t(88032),r=t(37277),i=t(44594),n=t(93109),l=t(86081),s=t(8357),u=t(43960),f=t(26012),c=new x({initialize:function(g){this.scene=g,this.events=g.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(i.UPDATE,this.update,this),this.events.once(i.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var g=[],y=0;y<v.length;y++){var T=v[y];T instanceof l||T instanceof u?g.push(T):Array.isArray(T.tweens)?g.push(f(this,T)):g.push(s(this,T))}return g.length===1?g[0]:g},add:function(v){var g=v,y=this.tweens;return g instanceof l||g instanceof u||(Array.isArray(g.tweens)?g=f(this,g):g=s(this,g)),y.push(g.reset()),g},addMultiple:function(v){for(var g,y=[],T=this.tweens,E=0;E<v.length;E++)g=v[E],g instanceof l||g instanceof u||(Array.isArray(g.tweens)?g=f(this,g):g=s(this,g)),T.push(g.reset()),y.push(g);return y},chain:function(v){var g=f(this,v);return this.tweens.push(g.init()),g},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var g=a(this,v);return this.tweens.push(g.reset()),g},stagger:function(v,g){return n(v,g)},setLagSmooth:function(v,g){return v===void 0&&(v=1/1e-8),g===void 0&&(g=0),this.maxLag=v,this.lagSkip=Math.min(g,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var g=Date.now()-this.prevTime;g>this.maxLag&&(this.startTime+=g-this.lagSkip),this.prevTime+=g;var y=this.prevTime-this.startTime,T=y-this.nextTime,E=y-this.time*1e3;return T>0||v?(y/=1e3,this.time=y,this.nextTime+=T+(T>=this.gap?4:this.gap-T)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var g=this.getDelta(v);if(!(g<=0)){this.processing=!0;var y,T,E=[],A=this.tweens;for(y=0;y<A.length;y++)T=A[y],T.update(g)&&E.push(T);var P=E.length;if(P&&A.length>0){for(y=0;y<P;y++){T=E[y];var w=A.indexOf(T);w>-1&&(T.isPendingRemove()||T.isDestroyed())&&(A.splice(w,1),T.destroy())}E.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(h(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,g){var y,T=[null];for(y=1;y<arguments.length;y++)T.push(arguments[y]);return this.tweens.forEach(function(E){T[0]=E,v.apply(g,T)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var g=[],y=this.tweens;Array.isArray(v)?v=o(v):v=[v];for(var T=v.length,E=0;E<y.length;E++)for(var A=y[E],P=0;P<T;P++)!A.isDestroyed()&&A.hasTarget(v[P])&&g.push(A);return g},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var g=this.tweens,y,T=0;T<g.length;T++)if(y=g[T],y.isPlaying()&&y.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,g=0;g<v.length;g++)v[g].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var g=this.getTweensOf(v),y=0;y<g.length;y++)g[y].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(i.UPDATE,this.update,this),this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",c,"tweens"),d.exports=c},57355:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){return t&&t.hasOwnProperty(h)?t[h]:x};d.exports=S},6113:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62640),x=t(35355),o=function(a,r){var i=h.Power0;if(typeof a=="string")if(h.hasOwnProperty(a))i=h[a];else{var n="";if(a.indexOf(".")){n=a.substring(a.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}a=x(a.substring(0,a.indexOf(".")+1)+n),h.hasOwnProperty(a)&&(i=h[a])}else typeof a=="function"&&(i=a);if(!r)return i;var s=r.slice(0);return s.unshift(0),function(u){return s[0]=u,i.apply(this,s)}};d.exports=o},91389:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89318),x=t(77259),o=t(28392),a={bezier:h,catmull:x,catmullrom:x,linear:o},r=function(i){if(i===null)return null;var n=a.linear;return typeof i=="string"?a.hasOwnProperty(i)&&(n=a[i]):typeof i=="function"&&(n=i),n};d.exports=r},55292:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o;if(t.hasOwnProperty(h)){var a=typeof t[h];a==="function"?o=function(r,i,n,l,s,u){return t[h](r,i,n,l,s,u)}:o=function(){return t[h]}}else typeof x=="function"?o=x:o=function(){return x};return o};d.exports=S},82985:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81076),x=function(o){var a,r=[];if(o.hasOwnProperty("props"))for(a in o.props)a.substring(0,1)!=="_"&&r.push({key:a,value:o.props[a]});else for(a in o)h.indexOf(a)===-1&&a.substring(0,1)!=="_"&&r.push({key:a,value:o[a]});return r};d.exports=x},62329:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x=function(o){var a=h(o,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};d.exports=x},17777:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),x=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function a(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function i(l){return a(l)||r(l)||o(l)}var n=function(l,s){var u,f=function(H,Y,G){return G},c=function(H,Y,G){return G},v=null,g=typeof s;if(g==="number")f=function(){return s};else if(Array.isArray(s))c=function(){return s[0]},f=function(){return s[s.length-1]};else if(g==="string"){var y=s.toLowerCase(),T=y.substring(0,6)==="random",E=y.substring(0,3)==="int";if(T||E){var A=y.indexOf("("),P=y.indexOf(")"),w=y.indexOf(",");if(A&&P&&w){var I=parseFloat(y.substring(A+1,w)),O=parseFloat(y.substring(w+1,P));T?f=function(){return x(I,O)}:f=function(){return h(I,O)}}else throw new Error("invalid random() format")}else{y=y[0];var F=parseFloat(s.substr(2));switch(y){case"+":f=function(H,Y,G){return G+F};break;case"-":f=function(H,Y,G){return G-F};break;case"*":f=function(H,Y,G){return G*F};break;case"/":f=function(H,Y,G){return G/F};break;default:f=function(){return parseFloat(s)}}}}else if(g==="function")f=s;else if(g==="object")if(i(s))o(s)&&(v=s.getActive),r(s)&&(f=s.getEnd),a(s)&&(c=s.getStart);else if(s.hasOwnProperty("value"))u=n(l,s.value);else{var L=s.hasOwnProperty("to"),D=s.hasOwnProperty("from"),b=s.hasOwnProperty("start");if(L&&(D||b)){if(u=n(l,s.to),b){var U=n(l,s.start);u.getActive=U.getEnd}if(D){var W=n(l,s.from);u.getStart=W.getEnd}}}return u||(u={getActive:v,getEnd:f,getStart:c}),u};d.exports=n},88032:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),x=t(69902),o=t(23568),a=t(57355),r=t(6113),i=t(95540),n=t(55292),l=t(35154),s=t(17777),u=t(269),f=t(86081),c=function(v,g,y){if(g instanceof f)return g.parent=v,g;y===void 0?y=x:y=u(x,y);var T=i(g,"from",0),E=i(g,"to",1),A=[{value:T}],P=i(g,"delay",y.delay),w=i(g,"easeParams",y.easeParams),I=i(g,"ease",y.ease),O=s("value",E),F=new f(v,A),L=F.add(0,"value",O.getEnd,O.getStart,O.getActive,r(i(g,"ease",I),i(g,"easeParams",w)),n(g,"delay",P),i(g,"duration",y.duration),a(g,"yoyo",y.yoyo),i(g,"hold",y.hold),i(g,"repeat",y.repeat),i(g,"repeatDelay",y.repeatDelay),!1,!1);L.start=T,L.current=T,F.completeDelay=o(g,"completeDelay",0),F.loop=Math.round(o(g,"loop",0)),F.loopDelay=Math.round(o(g,"loopDelay",0)),F.paused=a(g,"paused",!1),F.persist=a(g,"persist",!1),F.isNumberTween=!0,F.callbackScope=l(g,"callbackScope",F);for(var D=h.TYPES,b=0;b<D.length;b++){var U=D[b],W=l(g,U,!1);if(W){var H=l(g,U+"Params",[]);F.setCallback(U,W,H)}}return F};d.exports=c},93109:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6113),x=t(35154),o=t(36383),a=function(r,i){i===void 0&&(i={});var n,l=x(i,"start",0),s=x(i,"ease",null),u=x(i,"grid",null),f=x(i,"from",0),c=f==="first",v=f==="center",g=f==="last",y=typeof f=="number",T=Array.isArray(r),E=parseFloat(T?r[0]:r),A=T?parseFloat(r[1]):0,P=Math.max(E,A);if(T&&(l+=E),u){var w=u[0],I=u[1],O=0,F=0,L=0,D=0,b=[];g?(O=w-1,F=I-1):y?(O=f%w,F=Math.floor(f/w)):v&&(O=(w-1)/2,F=(I-1)/2);for(var U=o.MIN_SAFE_INTEGER,W=0;W<I;W++){b[W]=[];for(var H=0;H<w;H++){L=O-H,D=F-W;var Y=Math.sqrt(L*L+D*D);Y>U&&(U=Y),b[W][H]=Y}}}var G=s?h(s):null;return u?n=function(X,V,B,z){var $=0,j=z%w,k=Math.floor(z/w);j>=0&&j<w&&k>=0&&k<I&&($=b[k][j]);var q;if(T){var Q=A-E;G?q=$/U*Q*G($/U):q=$/U*Q}else G?q=$*E*G($/U):q=$*E;return q+l}:n=function(X,V,B,z,$){$--;var j;c?j=z:v?j=Math.abs($/2-z):g?j=$-z:y&&(j=Math.abs(f-z));var k;if(T){var q;v?q=(A-E)/$*(j*2):q=(A-E)/$*j,G?k=q*G(j/$):k=q}else G?k=$*P*G(j/$):k=j*E;return k+l},n};d.exports=a},8357:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),x=t(69902),o=t(23568),a=t(57355),r=t(6113),i=t(95540),n=t(91389),l=t(55292),s=t(82985),u=t(62329),f=t(35154),c=t(17777),v=t(269),g=t(86081),y=function(T,E,A){if(E instanceof g)return E.parent=T,E;A===void 0?A=x:A=v(x,A);var P=u(E);!P&&A.targets&&(P=A.targets);for(var w=s(E),I=i(E,"delay",A.delay),O=i(E,"duration",A.duration),F=i(E,"easeParams",A.easeParams),L=i(E,"ease",A.ease),D=i(E,"hold",A.hold),b=i(E,"repeat",A.repeat),U=i(E,"repeatDelay",A.repeatDelay),W=a(E,"yoyo",A.yoyo),H=a(E,"flipX",A.flipX),Y=a(E,"flipY",A.flipY),G=i(E,"interpolation",A.interpolation),X=function(et,it,st,nt){if(st==="texture"){var lt=nt,ut=void 0;Array.isArray(nt)?(lt=nt[0],ut=nt[1]):nt.hasOwnProperty("value")?(lt=nt.value,Array.isArray(nt.value)?(lt=nt.value[0],ut=nt.value[1]):typeof nt.value=="string"&&(lt=nt.value)):typeof nt=="string"&&(lt=nt),et.addFrame(it,lt,ut,l(nt,"delay",I),i(nt,"duration",O),i(nt,"hold",D),i(nt,"repeat",b),i(nt,"repeatDelay",U),a(nt,"flipX",H),a(nt,"flipY",Y))}else{var ot=c(st,nt),rt=n(i(nt,"interpolation",G));et.add(it,st,ot.getEnd,ot.getStart,ot.getActive,r(i(nt,"ease",L),i(nt,"easeParams",F)),l(nt,"delay",I),i(nt,"duration",O),a(nt,"yoyo",W),i(nt,"hold",D),i(nt,"repeat",b),i(nt,"repeatDelay",U),a(nt,"flipX",H),a(nt,"flipY",Y),rt,rt?nt:null)}},V=new g(T,P),B=0;B<w.length;B++)for(var z=w[B].key,$=w[B].value,j=0;j<P.length;j++)z==="scale"&&!P[j].hasOwnProperty("scale")?(X(V,j,"scaleX",$),X(V,j,"scaleY",$)):X(V,j,z,$);V.completeDelay=o(E,"completeDelay",0),V.loop=Math.round(o(E,"loop",0)),V.loopDelay=Math.round(o(E,"loopDelay",0)),V.paused=a(E,"paused",!1),V.persist=a(E,"persist",!1),V.callbackScope=i(E,"callbackScope",V);for(var k=h.TYPES,q=0;q<k.length;q++){var Q=k[q],Z=f(E,Q,!1);if(Z){var _=f(E,Q+"Params",[]);V.setCallback(Q,Z,_)}}return V};d.exports=y},26012:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),x=t(23568),o=t(57355),a=t(62329),r=t(35154),i=t(8357),n=t(43960),l=function(s,u){if(u instanceof n)return u.parent=s,u;var f=new n(s);f.startDelay=r(u,"delay",0),f.completeDelay=x(u,"completeDelay",0),f.loop=Math.round(x(u,"loop",r(u,"repeat",0))),f.loopDelay=Math.round(x(u,"loopDelay",r(u,"repeatDelay",0))),f.paused=o(u,"paused",!1),f.persist=o(u,"persist",!1),f.callbackScope=r(u,"callbackScope",f);var c,v=h.TYPES;for(c=0;c<v.length;c++){var g=v[c],y=r(u,g,!1);if(y){var T=r(u,g+"Params",[]);f.setCallback(g,y,T)}}var E=r(u,"tweens",null);if(Array.isArray(E)){var A=[],P=a(u),w=void 0;for(P&&(w={targets:P}),c=0;c<E.length;c++)A.push(i(f,E[c],w));f.add(A)}return f};d.exports=l},30231:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="active"},98540:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="complete"},67233:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="loop"},2859:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="pause"},98336:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="repeat"},25764:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="resume"},32193:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="start"},84371:d=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="stop"},70766:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="update"},55659:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports="yoyo"},842:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};d.exports=h},70402:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(50792),o=t(842),a=t(86353),r=new h({Extends:x,initialize:function(n){x.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(i){return this.timeScale=i,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(i){return i===void 0&&(i=0),i?(this.setCompleteDelayState(),this.countdown=i):this.onCompleteHandler(),this},completeAfterLoop:function(i){return i===void 0&&(i=0),this.loopCounter>i&&(this.loopCounter=i),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(i){this.countdown-=i,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(i){return this.countdown-=i,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),i=0),i},updateCompleteDelay:function(i){this.countdown-=i,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(i,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(i)&&(this.callbacks[i]={func:n,params:l}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(i){i.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],d.exports=r},95042:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),x=t(842),o=t(86353),a=new h({initialize:function(i,n,l,s,u,f,c,v,g,y){this.tween=i,this.targetIndex=n,this.duration=s<=0?.01:s,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=u,this.hold=f,this.repeat=c,this.repeatDelay=v,this.repeatCounter=0,this.flipX=g,this.flipY=y,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,i=r.totalTargets,n=this.targetIndex,l=r.targets[n],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,s,0,n,i,r),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var u=this.duration+this.hold;this.yoyo&&(u+=this.duration);var f=u+this.repeatDelay;this.totalDuration=this.delay+u,this.repeat===-1?(this.totalDuration+=f*o.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,i,n){var l=this.tween,s=l.totalTargets,u=this.targetIndex,f=l.targets[u],c=this.key,v=c!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),v&&(i||n)&&(this.start=this.getStartValue(f,c,this.start,u,s,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(f,c,this.start,u,s,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,v&&(this.current=this.start,f[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});d.exports=a},69902:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};d.exports=S},81076:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),x=t(83419),o=t(842),a=t(44603),r=t(39429),i=t(36383),n=t(86353),l=t(48177),s=t(42220),u=new x({Extends:h,initialize:function(c,v){h.call(this,c),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(f,c,v,g,y,T,E,A,P,w,I,O,F,L,D,b){var U=new l(this,f,c,v,g,y,T,E,A,P,w,I,O,F,L,D,b);return this.totalData=this.data.push(U),U},addFrame:function(f,c,v,g,y,T,E,A,P,w){var I=new s(this,f,c,v,g,y,T,E,A,P,w);return this.totalData=this.data.push(I),I},getValue:function(f){f===void 0&&(f=0);var c=null;return this.data&&(c=this.data[f].current),c},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,c,v){if(v===void 0&&(v=!1),f!=="texture")for(var g=0;g<this.totalData;g++){var y=this.data[g];y.key===f&&(y.isPlayingForward()||y.isPlayingBackward())&&(y.end=c,v&&(y.start=y.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,c,v){if(f===void 0&&(f=0),c===void 0&&(c=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var g=this.paused;if(this.paused=!1,f>0){for(var y=Math.floor(f/c),T=f-y*c,E=0;E<y;E++)this.update(c);T>0&&this.update(T)}return this.paused=g,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=i.MAX_SAFE_INTEGER;for(var c=this.data,v=0;v<this.totalData;v++)c[v].reset(f);this.duration=Math.max(this.duration,.01);var g=this.duration,y=this.completeDelay,T=this.loopCounter,E=this.loopDelay;T>0?this.totalDuration=g+y+(g+E)*T:this.totalDuration=g+y},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),f=0));var c=!1;if(this.isActive())for(var v=this.data,g=0;g<this.totalData;g++)v[g].update(f)&&(c=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var y=this.isPendingRemove();return y&&this.persist&&(this.setFinishedState(),y=!1),y},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,c){if(!this.isSeeking){if(this.emit(f,this,this.targets),!this.callbacks)return;var v=this.callbacks[c];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(f){return this.scene.sys.tweens.add(f)}),a.register("tween",function(f){return this.scene.sys.tweens.create(f)}),d.exports=u},43960:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),x=t(70402),o=t(83419),a=t(842),r=t(44603),i=t(39429),n=t(86353),l=new o({Extends:x,initialize:function(u){x.call(this,u),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(s){var u=this.parent.create(s);Array.isArray(u)||(u=[u]);for(var f=this.data,c=0;c<u.length;c++){var v=u[c];v.parent=this,f.push(v.reset())}return this.totalData=f.length,this},remove:function(s){return h(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var u=this.data,f=0;f<this.totalData;f++)if(u[f].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,u=this.totalData,f=0;f<u;f++)s[f].reset(!1);this.setCurrentTween(0)},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(s*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(s),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(s),!1;this.hasStarted||(this.startDelay-=s,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),s=0));var u=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),u=this.isPendingRemove(),u&&this.persist&&(this.setFinishedState(),u=!1)),u},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState()},dispatchEvent:function(s,u){this.emit(s,this);var f=this.callbacks[u];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});i.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),r.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),d.exports=l},48177:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),x=t(45319),o=t(83419),a=t(842),r=new o({Extends:h,initialize:function(n,l,s,u,f,c,v,g,y,T,E,A,P,w,I,O,F){h.call(this,n,l,g,y,T,E,A,P,w,I),this.key=s,this.getActiveValue=c,this.getEndValue=u,this.getStartValue=f,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=O,this.interpolationData=F},reset:function(i){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;i&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(i){var n=this.tween,l=n.totalTargets,s=this.targetIndex,u=n.targets[s],f=this.key;if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(u,f,u[f],s,l,n),this.end=this.getEndValue(u,f,this.start,s,l,n),this.current=this.start,u[f]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),v=this.isPlayingBackward();if(c||v){var g=this.elapsed,y=this.duration,T=0,E=!1;g+=i,g>=y?(T=g-y,g=y,E=!0):g<0&&(g=0);var A=x(g/y,0,1);this.elapsed=g,this.progress=A,this.previous=this.current,c||(A=1-A);var P=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,P):this.current=this.start+(this.end-this.start)*P,u[f]=this.current,E&&(c?(n.isNumberTween&&(this.current=this.end,u[f]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(n.isNumberTween&&(this.current=this.start,u[f]=this.current),this.setStateFromStart(T))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key,f=this.current,c=this.previous;l.emit(i,l,u,s,f,c);var v=l.callbacks[n];v&&v.func.apply(l.callbackScope,[l,s,u,f,c].concat(v.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});d.exports=r},42220:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),x=t(45319),o=t(83419),a=t(842),r=new o({Extends:h,initialize:function(n,l,s,u,f,c,v,g,y,T,E){h.call(this,n,l,f,c,!1,v,g,y,T,E),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=u,this.yoyo=g!==0},reset:function(i){h.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),i&&n.setTexture(this.startTexture,this.startFrame)},update:function(i){var n=this.tween,l=this.targetIndex,s=n.targets[l];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),f=this.isPlayingBackward();if(u||f){var c=this.elapsed,v=this.duration,g=0,y=!1;c+=i,c>=v?(g=c-v,c=v,y=!0):c<0&&(c=0);var T=x(c/v,0,1);this.elapsed=c,this.progress=T,y&&(u?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(g)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(g))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key;l.emit(i,l,u,s);var f=l.callbacks[n];f&&f.func.apply(l.callbackScope,[l,s,u].concat(f.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});d.exports=r},86353:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};d.exports=S},83419:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,i,n){var l=n?r[i]:Object.getOwnPropertyDescriptor(r,i);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&S(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function h(r,i){var n=Object.getOwnPropertyDescriptor(r,i);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function x(r,i,n,l){for(var s in i)if(i.hasOwnProperty(s)){var u=t(i,s,n);if(u!==!1){var f=l||r;if(h(f.prototype,s)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,s,u)}else r.prototype[s]=i[s]}}function o(r,i){if(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)x(r,i[n].prototype||i[n])}}function a(r){r||(r={});var i,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");i=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;i=function(){l.apply(this,arguments)}}else i=function(){};r.Extends?(i.prototype=Object.create(r.Extends.prototype),i.prototype.constructor=i,n=r.Extends,delete r.Extends):i.prototype.constructor=i;var s=null;return r.Mixins&&(s=r.Mixins,delete r.Mixins),o(i,s),x(i,r,!0,n),i}a.extend=x,a.mixin=o,a.ignoreFinals=!1,d.exports=a},29747:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};d.exports=S},20242:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};d.exports=S},71146:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a){if(a===void 0&&(a=t),x>0){var r=x-t.length;if(r<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),o&&o.call(a,h),h):null;for(var i=h.length-1;i>=0;)t.indexOf(h[i])!==-1&&h.splice(i,1),i--;if(i=h.length,i===0)return null;x>0&&i>r&&(h.splice(r),i=r);for(var n=0;n<i;n++){var l=h[n];t.push(l),o&&o.call(a,l)}return h};d.exports=S},51067:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o,a,r){if(x===void 0&&(x=0),r===void 0&&(r=t),o>0){var i=o-t.length;if(i<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(x,0,h),a&&a.call(r,h),h):null;for(var n=h.length-1;n>=0;)t.indexOf(h[n])!==-1&&h.pop(),n--;if(n=h.length,n===0)return null;o>0&&n>i&&(h.splice(i),n=i);for(var l=n-1;l>=0;l--){var s=h[l];t.splice(x,0,s),a&&a.call(r,s)}return h};d.exports=S},66905:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.indexOf(h);return x!==-1&&x<t.length&&(t.splice(x,1),t.push(h)),h};d.exports=S},21612:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=o.length);var l=0;if(h(o,i,n))for(var s=i;s<n;s++){var u=o[s];u[a]===r&&l++}return l};d.exports=x},95428:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o,a=[null];for(o=3;o<arguments.length;o++)a.push(arguments[o]);for(o=0;o<t.length;o++)a[0]=t[o],h.apply(x,a);return t};d.exports=S},36914:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),h(o,i,n)){var l,s=[null];for(l=5;l<arguments.length;l++)s.push(arguments[l]);for(l=i;l<n;l++)s[0]=o[l],a.apply(r,s)}return o};d.exports=x},81957:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(h.length){if(h.length===1)return h[0]}else return NaN;var o=1,a,r;if(x){if(t<h[0][x])return h[0];for(;h[o][x]<t;)o++}else for(;h[o]<t;)o++;return o>h.length&&(o=h.length),x?(a=h[o-1][x],r=h[o][x],r-t<=t-a?h[o]:h[o-1]):(a=h[o-1],r=h[o],r-t<=t-a?r:a)};d.exports=S},43491:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var x=0;x<t.length;x++)Array.isArray(t[x])?S(t[x],h):h.push(t[x]);return h};d.exports=S},46710:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=o.length);var l=[];if(h(o,i,n))for(var s=i;s<n;s++){var u=o[s];(!a||a&&r===void 0&&u.hasOwnProperty(a)||a&&r!==void 0&&u[a]===r)&&l.push(u)}return l};d.exports=x},58731:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),i!==-1){if(h(o,i,n))for(var l=i;l<n;l++){var s=o[l];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}}else if(h(o,0,n))for(var l=n;l>=0;l--){var s=o[l];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}return null};d.exports=x},26546:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){h===void 0&&(h=0),x===void 0&&(x=t.length);var o=h+Math.floor(Math.random()*x);return t[o]===void 0?null:t[o]};d.exports=S},85835:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(h===x)return t;var o=t.indexOf(h),a=t.indexOf(x);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return o>a||(t.splice(o,1),a=t.indexOf(x),t.splice(a+1,0,h)),t};d.exports=S},83371:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(h===x)return t;var o=t.indexOf(h),a=t.indexOf(x);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return o<a||(t.splice(o,1),a===0?t.unshift(h):t.splice(a,0,h)),t};d.exports=S},70864:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.indexOf(h);if(x>0){var o=t[x-1],a=t.indexOf(o);t[x]=o,t[a]=h}return t};d.exports=S},69693:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=t.indexOf(h);if(o===-1||x<0||x>=t.length)throw new Error("Supplied index out of bounds");return o!==x&&(t.splice(o,1),t.splice(x,0,h)),h};d.exports=S},40853:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.indexOf(h);if(x!==-1&&x<t.length-1){var o=t[x+1],a=t.indexOf(o);t[x]=o,t[a]=h}return t};d.exports=S},20283:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=[],r,i=!1;if((x||o)&&(i=!0,x||(x=""),o||(o="")),h<t)for(r=t;r>=h;r--)i?a.push(x+r.toString()+o):a.push(r);else for(r=t;r<=h;r++)i?a.push(x+r.toString()+o):a.push(r);return a};d.exports=S},593:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2284),x=function(o,a,r){o===void 0&&(o=0),a===void 0&&(a=null),r===void 0&&(r=1),a===null&&(a=o,o=0);for(var i=[],n=Math.max(h((a-o)/(r||1)),0),l=0;l<n;l++)i.push(o),o+=r;return i};d.exports=x},43886:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(x,o,a){var r=x[o];x[o]=x[a],x[a]=r}function t(x,o){return x<o?-1:x>o?1:0}var h=function(x,o,a,r,i){for(a===void 0&&(a=0),r===void 0&&(r=x.length-1),i===void 0&&(i=t);r>a;){if(r-a>600){var n=r-a+1,l=o-a+1,s=Math.log(n),u=.5*Math.exp(2*s/3),f=.5*Math.sqrt(s*u*(n-u)/n)*(l-n/2<0?-1:1),c=Math.max(a,Math.floor(o-l*u/n+f)),v=Math.min(r,Math.floor(o+(n-l)*u/n+f));h(x,o,c,v,i)}var g=x[o],y=a,T=r;for(S(x,a,o),i(x[r],g)>0&&S(x,a,r);y<T;){for(S(x,y,T),y++,T--;i(x[y],g)<0;)y++;for(;i(x[T],g)>0;)T--}i(x[a],g)===0?S(x,a,T):(T++,S(x,T,r)),T<=o&&(a=T+1),o<=T&&(r=T-1)}};d.exports=h},88492:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x=t(33680),o=function(r,i,n){for(var l=[],s=0;s<r.length;s++)for(var u=0;u<i.length;u++)for(var f=0;f<n;f++)l.push({a:r[s],b:i[u]});return l},a=function(r,i,n){var l=h(n,"max",0),s=h(n,"qty",1),u=h(n,"random",!1),f=h(n,"randomB",!1),c=h(n,"repeat",0),v=h(n,"yoyo",!1),g=[];if(f&&x(i),c===-1)if(l===0)c=0;else{var y=r.length*i.length*s;v&&(y*=2),c=Math.ceil(l/y)}for(var T=0;T<=c;T++){var E=o(r,i,s);u&&x(E),g=g.concat(E),v&&(E.reverse(),g=g.concat(E))}return l&&g.splice(l),g};d.exports=a},72905:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),x=function(o,a,r,i){i===void 0&&(i=o);var n;if(!Array.isArray(a))return n=o.indexOf(a),n!==-1?(h(o,n),r&&r.call(i,a),a):null;for(var l=a.length-1,s=[];l>=0;){var u=a[l];n=o.indexOf(u),n!==-1&&(h(o,n),s.push(u),r&&r.call(i,u)),l--}return s};d.exports=x},60248:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),x=function(o,a,r,i){if(i===void 0&&(i=o),a<0||a>o.length-1)throw new Error("Index out of bounds");var n=h(o,a);return r&&r.call(i,n),n};d.exports=x},81409:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,a,r,i,n){if(a===void 0&&(a=0),r===void 0&&(r=o.length),n===void 0&&(n=o),h(o,a,r)){var l=r-a,s=o.splice(a,l);if(i)for(var u=0;u<s.length;u++){var f=s[u];i.call(n,f)}return s}else return[]};d.exports=x},31856:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),x=function(o,a,r){a===void 0&&(a=0),r===void 0&&(r=o.length);var i=a+Math.floor(Math.random()*r);return h(o,i)};d.exports=x},42169:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=t.indexOf(h),a=t.indexOf(x);return o!==-1&&a===-1?(t[o]=x,!0):!1};d.exports=S},86003:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var x=null,o=0;o<h;o++)x=t.shift(),t.push(x);return x};d.exports=S},49498:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var x=null,o=0;o<h;o++)x=t.pop(),t.unshift(x);return x};d.exports=S},82011:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){var a=t.length;if(h<0||h>=a||h>=x||x>a){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};d.exports=S},89545:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var x=t.indexOf(h);return x!==-1&&x>0&&(t.splice(x,1),t.unshift(h)),h};d.exports=S},17810:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),x=function(o,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=o.length),h(o,i,n))for(var l=i;l<n;l++){var s=o[l];s.hasOwnProperty(a)&&(s[a]=r)}return o};d.exports=x},33680:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length-1;h>0;h--){var x=Math.floor(Math.random()*(h+1)),o=t[h];t[h]=t[x],t[x]=o}return t};d.exports=S},90126:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=/\D/g;return t.sort(function(x,o){return parseInt(x.replace(h,""),10)-parseInt(o.replace(h,""),10)}),t};d.exports=S},19133:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){if(!(h>=t.length)){for(var x=t.length-1,o=t[h],a=h;a<x;a++)t[a]=t[a+1];return t.length=x,o}};d.exports=S},19186:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82264);function x(i,n){return String(i).localeCompare(n)}function o(i,n){var l=i.length;if(l<=1)return i;for(var s=new Array(l),u=1;u<l;u*=2){a(i,n,u,s);var f=i;i=s,s=f}return i}function a(i,n,l,s){var u=i.length,f=0,c=l*2,v,g,y,T,E;for(v=0;v<u;v+=c)for(g=v+l,y=g+l,g>u&&(g=u),y>u&&(y=u),T=v,E=g;;)if(T<g&&E<y)n(i[T],i[E])<=0?s[f++]=i[T++]:s[f++]=i[E++];else if(T<g)s[f++]=i[T++];else if(E<y)s[f++]=i[E++];else break}var r=function(i,n){if(n===void 0&&(n=x),!i||i.length<2)return i;if(h.features.stableSort)return i.sort(n);var l=o(i,n);return l!==i&&a(l,null,i.length,i),i};d.exports=r},25630:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(h===x)return t;var o=t.indexOf(h),a=t.indexOf(x);if(o<0||a<0)throw new Error("Supplied items must be elements of the same array");return t[o]=x,t[a]=h,t};d.exports=S},37105:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,x=1;x<t.length;x++)if(t[x].length!==h)return!1;return!0};d.exports=S},63362:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41836),x=t(86922),o=function(a){var r="";if(!x(a))return r;for(var i=0;i<a.length;i++){for(var n=0;n<a[i].length;n++){var l=a[i][n].toString();l!=="undefined"?r+=h(l,2):r+="?",n<a[i].length-1&&(r+=" |")}if(i<a.length-1){r+=`
`;for(var s=0;s<a[i].length;s++)r+="---",s<a[i].length-1&&(r+="+");r+=`
`}}return r};d.exports=o},92598:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};d.exports=S},21224:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};d.exports=S},98717:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),x=function(o){return h(o,180)};d.exports=x},44657:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),x=function(o,a){a===void 0&&(a=1);for(var r=0;r<a;r++)o=h(o,90);return o};d.exports=x},37829:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86922),x=t(2429),o=function(a,r){if(r===void 0&&(r=90),!h(a))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")a=x(a),a.reverse();else if(r===-90||r===270||r==="rotateRight")a.reverse(),a=x(a);else if(Math.abs(r)===180||r==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};d.exports=o},92632:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),x=function(o,a){a===void 0&&(a=1);for(var r=0;r<a;r++)o=h(o,-90);return o};d.exports=x},69512:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86003),x=t(49498),o=function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),i!==0&&(i<0?h(a,Math.abs(i)):x(a,i)),r!==0)for(var n=0;n<a.length;n++){var l=a[n];r<0?h(l,Math.abs(r)):x(l,r)}return a};d.exports=o},2429:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length,x=t[0].length,o=new Array(x),a=0;a<x;a++){o[a]=new Array(h);for(var r=h-1;r>-1;r--)o[a][r]=t[r][a]}return o};d.exports=S},54915:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:d=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,x){for(var o=new Uint8Array(h),a=o.length,r=x?"data:"+x+";base64,":"",i=0;i<a;i+=3)r+=S[o[i]>>2],r+=S[(o[i]&3)<<4|o[i+1]>>4],r+=S[(o[i+1]&15)<<2|o[i+2]>>6],r+=S[o[i+2]&63];return a%3===2?r=r.substring(0,r.length-1)+"=":a%3===1&&(r=r.substring(0,r.length-2)+"=="),r};d.exports=t},53134:d=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<S.length;h++)t[S.charCodeAt(h)]=h;var x=function(o){o=o.substr(o.indexOf(",")+1);var a=o.length,r=a*.75,i=0,n,l,s,u;o[a-1]==="="&&(r--,o[a-2]==="="&&r--);for(var f=new ArrayBuffer(r),c=new Uint8Array(f),v=0;v<a;v+=4)n=t[o.charCodeAt(v)],l=t[o.charCodeAt(v+1)],s=t[o.charCodeAt(v+2)],u=t[o.charCodeAt(v+3)],c[i++]=n<<2|l>>4,c[i++]=(l&15)<<4|s>>2,c[i++]=(s&3)<<6|u&63;return f};d.exports=x},65839:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={};for(var x in t)Array.isArray(t[x])?h[x]=t[x].slice(0):h[x]=t[x];return h};d.exports=S},62644:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h,x,o;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(o in t)x=t[o],h[o]=S(x);return h};d.exports=S},79291:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41212),x=function(){var o,a,r,i,n,l,s=arguments[0]||{},u=1,f=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},u=2),f===u&&(s=this,--u);u<f;u++)if((o=arguments[u])!=null)for(a in o)r=s[a],i=o[a],s!==i&&(c&&i&&(h(i)||(n=Array.isArray(i)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&h(r)?r:{},s[a]=x(c,l,i)):i!==void 0&&(s[a]=i));return s};d.exports=x},23568:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75508),x=t(35154),o=function(a,r,i){var n=x(a,r,null);if(n===null)return i;if(Array.isArray(n))return h.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return h.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return h.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};d.exports=o},95540:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){var o=typeof t;return!t||o==="number"||o==="string"?x:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:x};d.exports=S},82840:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),x=t(45319),o=function(a,r,i,n,l){l===void 0&&(l=i);var s=h(a,r,l);return x(s,i,n)};d.exports=o},35154:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){if(!t&&!o||typeof t=="number")return x;if(t&&t.hasOwnProperty(h))return t[h];if(o&&o.hasOwnProperty(h))return o[h];if(h.indexOf(".")!==-1){for(var a=h.split("."),r=t,i=o,n=x,l=x,s=!0,u=!0,f=0;f<a.length;f++)r&&r.hasOwnProperty(a[f])?(n=r[a[f]],r=r[a[f]]):s=!1,i&&i.hasOwnProperty(a[f])?(l=i[a[f]],i=i[a[f]]):u=!1;return s?n:u?l:x}else return x};d.exports=S},69036:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var x=0;x<h.length;x++)if(!t.hasOwnProperty(h[x]))return!1;return!0};d.exports=S},1985:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var x=0;x<h.length;x++)if(t.hasOwnProperty(h[x]))return!0;return!1};d.exports=S},97022:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.hasOwnProperty(h)};d.exports=S},41212:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};d.exports=S},46975:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),x=function(o,a){var r=h(o);for(var i in a)r.hasOwnProperty(i)||(r[i]=a[i]);return r};d.exports=x},269:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),x=function(o,a){var r=h(o);for(var i in a)r.hasOwnProperty(i)&&(r[i]=a[i]);return r};d.exports=x},18254:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97022),x=function(o,a){for(var r={},i=0;i<a.length;i++){var n=a[i];h(o,n)&&(r[n]=o[n])}return r};d.exports=x},61622:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=x,!0;if(h.indexOf(".")!==-1){for(var o=h.split("."),a=t,r=t,i=0;i<o.length;i++)if(a.hasOwnProperty(o[i]))r=a,a=a[o[i]];else return!1;return r[o[o.length-1]]=x,!0}return!1};d.exports=S},1183:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.replace(/%([0-9]+)/g,function(x,o){return h[Number(o)-1]})};d.exports=S},41836:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,x,o){h===void 0&&(h=0),x===void 0&&(x=" "),o===void 0&&(o=3),t=t.toString();var a=0;if(h+1>=t.length)switch(o){case 1:t=new Array(h+1-t.length).join(x)+t;break;case 3:var r=Math.ceil((a=h-t.length)/2),i=a-r;t=new Array(i+1).join(x)+t+new Array(r+1).join(x);break;default:t=t+new Array(h+1-t.length).join(x);break}return t};d.exports=S},33628:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===0?t.slice(1):t.slice(0,h)+t.slice(h+1)};d.exports=S},27671:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};d.exports=S},45650:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,x=t==="x"?h:h&3|8;return x.toString(16)})};d.exports=S},35355:d=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};d.exports=S},31749:(d,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */d.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},C={};function R(d){var S=C[d];if(S!==void 0)return S.exports;var t=C[d]={exports:{}};return m[d](t,t.exports,R),t.exports}R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var M=R(85454);return M})())}(go)),go.exports}var pr=LE(),ls=(p=>(p.Hiscores="hiscores",p.Profiles="profiles",p))(ls||{}),ge=(p=>(p.Preload="preload",p.Menu="menu",p.Playing="playing",p.Paused="paused",p.GameOver="gameover",p))(ge||{}),kl=(p=>(p.Normal="normal",p.Story="story",p.TimeTrial="time-trial",p.Battle="battle",p))(kl||{}),ti=(p=>(p.HpSmall="powerup/hp-small",p.HpMedium="powerup/hp-medium",p.HpLarge="powerup/hp-large",p.EnergySmall="powerup/energy-small",p.EnergyMedium="powerup/energy-medium",p.EnergyLarge="powerup/energy-large",p))(ti||{});class FE extends pr.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}const OE=On("client",()=>{const p=zt(window.innerWidth),e=zt(window.innerHeight),m=Ft(()=>({x:p.value/2,y:e.value/2}));return{SCREEN_WIDTH:p,SCREEN_HEIGHT:e,SCREEN_CENTER:m,setScreenSize:()=>{p.value=window.innerWidth,e.value=window.innerHeight}}}),DE=()=>{};var Bc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=function(p){const e=[];let m=0;for(let C=0;C<p.length;C++){let R=p.charCodeAt(C);R<128?e[m++]=R:R<2048?(e[m++]=R>>6|192,e[m++]=R&63|128):(R&64512)===55296&&C+1<p.length&&(p.charCodeAt(C+1)&64512)===56320?(R=65536+((R&1023)<<10)+(p.charCodeAt(++C)&1023),e[m++]=R>>18|240,e[m++]=R>>12&63|128,e[m++]=R>>6&63|128,e[m++]=R&63|128):(e[m++]=R>>12|224,e[m++]=R>>6&63|128,e[m++]=R&63|128)}return e},NE=function(p){const e=[];let m=0,C=0;for(;m<p.length;){const R=p[m++];if(R<128)e[C++]=String.fromCharCode(R);else if(R>191&&R<224){const M=p[m++];e[C++]=String.fromCharCode((R&31)<<6|M&63)}else if(R>239&&R<365){const M=p[m++],d=p[m++],S=p[m++],t=((R&7)<<18|(M&63)<<12|(d&63)<<6|S&63)-65536;e[C++]=String.fromCharCode(55296+(t>>10)),e[C++]=String.fromCharCode(56320+(t&1023))}else{const M=p[m++],d=p[m++];e[C++]=String.fromCharCode((R&15)<<12|(M&63)<<6|d&63)}}return e.join("")},_m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(p,e){if(!Array.isArray(p))throw Error("encodeByteArray takes an array as a parameter");this.init_();const m=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let R=0;R<p.length;R+=3){const M=p[R],d=R+1<p.length,S=d?p[R+1]:0,t=R+2<p.length,h=t?p[R+2]:0,x=M>>2,o=(M&3)<<4|S>>4;let a=(S&15)<<2|h>>6,r=h&63;t||(r=64,d||(a=64)),C.push(m[x],m[o],m[a],m[r])}return C.join("")},encodeString(p,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(p):this.encodeByteArray(qm(p),e)},decodeString(p,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(p):NE(this.decodeStringToByteArray(p,e))},decodeStringToByteArray(p,e){this.init_();const m=e?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let R=0;R<p.length;){const M=m[p.charAt(R++)],S=R<p.length?m[p.charAt(R)]:0;++R;const h=R<p.length?m[p.charAt(R)]:64;++R;const o=R<p.length?m[p.charAt(R)]:64;if(++R,M==null||S==null||h==null||o==null)throw new bE;const a=M<<2|S>>4;if(C.push(a),h!==64){const r=S<<4&240|h>>2;if(C.push(r),o!==64){const i=h<<6&192|o;C.push(i)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let p=0;p<this.ENCODED_VALS.length;p++)this.byteToCharMap_[p]=this.ENCODED_VALS.charAt(p),this.charToByteMap_[this.byteToCharMap_[p]]=p,this.byteToCharMapWebSafe_[p]=this.ENCODED_VALS_WEBSAFE.charAt(p),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[p]]=p,p>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(p)]=p,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(p)]=p)}}};class bE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BE=function(p){const e=qm(p);return _m.encodeByteArray(e,!0)},Go=function(p){return BE(p).replace(/\./g,"")},tg=function(p){try{return _m.decodeString(p,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=()=>VE().__FIREBASE_DEFAULTS__,UE=()=>{if(typeof process>"u"||typeof Bc>"u")return;const p=Bc.__FIREBASE_DEFAULTS__;if(p)return JSON.parse(p)},zE=()=>{if(typeof document>"u")return;let p;try{p=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=p&&tg(p[1]);return e&&JSON.parse(e)},Ch=()=>{try{return DE()||GE()||UE()||zE()}catch(p){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${p}`);return}},eg=p=>{var e,m;return(m=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||m===void 0?void 0:m[p]},XE=p=>{const e=eg(p);if(!e)return;const m=e.lastIndexOf(":");if(m<=0||m+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const C=parseInt(e.substring(m+1),10);return e[0]==="["?[e.substring(1,m-1),C]:[e.substring(0,m),C]},ig=()=>{var p;return(p=Ch())===null||p===void 0?void 0:p.config},sg=p=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${p}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,m)=>{this.resolve=e,this.reject=m})}wrapCallback(e){return(m,C)=>{m?this.reject(m):this.resolve(C),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(m):e(m,C))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(p,e){if(p.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const m={alg:"none",type:"JWT"},C=e||"demo-project",R=p.iat||0,M=p.sub||p.user_id;if(!M)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:R,exp:R+3600,auth_time:R,sub:M,user_id:M,firebase:{sign_in_provider:"custom",identities:{}}},p);return[Go(JSON.stringify(m)),Go(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function KE(){var p;const e=(p=Ch())===null||p===void 0?void 0:p.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $E(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ng(){const p=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof p=="object"&&p.id!==void 0}function jE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QE(){const p=Qe();return p.indexOf("MSIE ")>=0||p.indexOf("Trident/")>=0}function JE(){return!KE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rg(){try{return typeof indexedDB=="object"}catch{return!1}}function ag(){return new Promise((p,e)=>{try{let m=!0;const C="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(C);R.onsuccess=()=>{R.result.close(),m||self.indexedDB.deleteDatabase(C),p(!0)},R.onupgradeneeded=()=>{m=!1},R.onerror=()=>{var M;e(((M=R.error)===null||M===void 0?void 0:M.message)||"")}}catch(m){e(m)}})}function kE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="FirebaseError";class Bi extends Error{constructor(e,m,C){super(m),this.code=e,this.customData=C,this.name=ZE,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}}class Dn{constructor(e,m,C){this.service=e,this.serviceName=m,this.errors=C}create(e,...m){const C=m[0]||{},R=`${this.service}/${e}`,M=this.errors[e],d=M?qE(M,C):"Error",S=`${this.serviceName}: ${d} (${R}).`;return new Bi(R,S,C)}}function qE(p,e){return p.replace(_E,(m,C)=>{const R=e[C];return R!=null?String(R):`<${C}?>`})}const _E=/\{\$([^}]+)}/g;function tS(p){for(const e in p)if(Object.prototype.hasOwnProperty.call(p,e))return!1;return!0}function ms(p,e){if(p===e)return!0;const m=Object.keys(p),C=Object.keys(e);for(const R of m){if(!C.includes(R))return!1;const M=p[R],d=e[R];if(Vc(M)&&Vc(d)){if(!ms(M,d))return!1}else if(M!==d)return!1}for(const R of C)if(!m.includes(R))return!1;return!0}function Vc(p){return p!==null&&typeof p=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(p){const e=[];for(const[m,C]of Object.entries(p))Array.isArray(C)?C.forEach(R=>{e.push(encodeURIComponent(m)+"="+encodeURIComponent(R))}):e.push(encodeURIComponent(m)+"="+encodeURIComponent(C));return e.length?"&"+e.join("&"):""}function eS(p,e){const m=new iS(p,e);return m.subscribe.bind(m)}class iS{constructor(e,m){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=m,this.task.then(()=>{e(this)}).catch(C=>{this.error(C)})}next(e){this.forEachObserver(m=>{m.next(e)})}error(e){this.forEachObserver(m=>{m.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,m,C){let R;if(e===void 0&&m===void 0&&C===void 0)throw new Error("Missing Observer.");sS(e,["next","error","complete"])?R=e:R={next:e,error:m,complete:C},R.next===void 0&&(R.next=Tl),R.error===void 0&&(R.error=Tl),R.complete===void 0&&(R.complete=Tl);const M=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),M}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let m=0;m<this.observers.length;m++)this.sendOne(m,e)}sendOne(e,m){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{m(this.observers[e])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sS(p,e){if(typeof p!="object"||p===null)return!1;for(const m of e)if(m in p&&typeof p[m]=="function")return!0;return!1}function Tl(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=1e3,rS=2,aS=4*60*60*1e3,oS=.5;function Gc(p,e=nS,m=rS){const C=e*Math.pow(m,p),R=Math.round(oS*C*(Math.random()-.5)*2);return Math.min(aS,C+R)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(p){return p&&p._delegate?p._delegate:p}class Di{constructor(e,m,C){this.name=e,this.instanceFactory=m,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,m){this.name=e,this.container=m,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const m=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(m)){const C=new WE;if(this.instancesDeferred.set(m,C),this.isInitialized(m)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:m});R&&C.resolve(R)}catch{}}return this.instancesDeferred.get(m).promise}getImmediate(e){var m;const C=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),R=(m=e==null?void 0:e.optional)!==null&&m!==void 0?m:!1;if(this.isInitialized(C)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:C})}catch(M){if(R)return null;throw M}else{if(R)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uS(e))try{this.getOrInitializeService({instanceIdentifier:cn})}catch{}for(const[m,C]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(m);try{const M=this.getOrInitializeService({instanceIdentifier:R});C.resolve(M)}catch{}}}}clearInstance(e=cn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(m=>"INTERNAL"in m).map(m=>m.INTERNAL.delete()),...e.filter(m=>"_delete"in m).map(m=>m._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cn){return this.instances.has(e)}getOptions(e=cn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:m={}}=e,C=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:C,options:m});for(const[M,d]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(M);C===S&&d.resolve(R)}return R}onInit(e,m){var C;const R=this.normalizeInstanceIdentifier(m),M=(C=this.onInitCallbacks.get(R))!==null&&C!==void 0?C:new Set;M.add(e),this.onInitCallbacks.set(R,M);const d=this.instances.get(R);return d&&e(d,R),()=>{M.delete(e)}}invokeOnInitCallbacks(e,m){const C=this.onInitCallbacks.get(m);if(C)for(const R of C)try{R(e,m)}catch{}}getOrInitializeService({instanceIdentifier:e,options:m={}}){let C=this.instances.get(e);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:lS(e),options:m}),this.instances.set(e,C),this.instancesOptions.set(e,m),this.invokeOnInitCallbacks(C,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,C)}catch{}return C||null}normalizeInstanceIdentifier(e=cn){return this.component?this.component.multipleInstances?e:cn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(p){return p===cn?void 0:p}function uS(p){return p.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const m=this.getProvider(e.name);if(m.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);m.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const m=new hS(e,this);return this.providers.set(e,m),m}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(p){p[p.DEBUG=0]="DEBUG",p[p.VERBOSE=1]="VERBOSE",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT"})(Wt||(Wt={}));const dS={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},cS=Wt.INFO,vS={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},pS=(p,e,...m)=>{if(e<p.logLevel)return;const C=new Date().toISOString(),R=vS[e];if(R)console[R](`[${C}]  ${p.name}:`,...m);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ah{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const mS=(p,e)=>e.some(m=>p instanceof m);let Uc,zc;function gS(){return Uc||(Uc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xS(){return zc||(zc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const og=new WeakMap,Zl=new WeakMap,hg=new WeakMap,El=new WeakMap,Ku=new WeakMap;function yS(p){const e=new Promise((m,C)=>{const R=()=>{p.removeEventListener("success",M),p.removeEventListener("error",d)},M=()=>{m(Gs(p.result)),R()},d=()=>{C(p.error),R()};p.addEventListener("success",M),p.addEventListener("error",d)});return e.then(m=>{m instanceof IDBCursor&&og.set(m,p)}).catch(()=>{}),Ku.set(e,p),e}function TS(p){if(Zl.has(p))return;const e=new Promise((m,C)=>{const R=()=>{p.removeEventListener("complete",M),p.removeEventListener("error",d),p.removeEventListener("abort",d)},M=()=>{m(),R()},d=()=>{C(p.error||new DOMException("AbortError","AbortError")),R()};p.addEventListener("complete",M),p.addEventListener("error",d),p.addEventListener("abort",d)});Zl.set(p,e)}let ql={get(p,e,m){if(p instanceof IDBTransaction){if(e==="done")return Zl.get(p);if(e==="objectStoreNames")return p.objectStoreNames||hg.get(p);if(e==="store")return m.objectStoreNames[1]?void 0:m.objectStore(m.objectStoreNames[0])}return Gs(p[e])},set(p,e,m){return p[e]=m,!0},has(p,e){return p instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in p}};function ES(p){ql=p(ql)}function SS(p){return p===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...m){const C=p.call(Sl(this),e,...m);return hg.set(C,e.sort?e.sort():[e]),Gs(C)}:xS().includes(p)?function(...e){return p.apply(Sl(this),e),Gs(og.get(this))}:function(...e){return Gs(p.apply(Sl(this),e))}}function CS(p){return typeof p=="function"?SS(p):(p instanceof IDBTransaction&&TS(p),mS(p,gS())?new Proxy(p,ql):p)}function Gs(p){if(p instanceof IDBRequest)return yS(p);if(El.has(p))return El.get(p);const e=CS(p);return e!==p&&(El.set(p,e),Ku.set(e,p)),e}const Sl=p=>Ku.get(p);function lg(p,e,{blocked:m,upgrade:C,blocking:R,terminated:M}={}){const d=indexedDB.open(p,e),S=Gs(d);return C&&d.addEventListener("upgradeneeded",t=>{C(Gs(d.result),t.oldVersion,t.newVersion,Gs(d.transaction),t)}),m&&d.addEventListener("blocked",t=>m(t.oldVersion,t.newVersion,t)),S.then(t=>{M&&t.addEventListener("close",()=>M()),R&&t.addEventListener("versionchange",h=>R(h.oldVersion,h.newVersion,h))}).catch(()=>{}),S}const AS=["get","getKey","getAll","getAllKeys","count"],PS=["put","add","delete","clear"],Cl=new Map;function Xc(p,e){if(!(p instanceof IDBDatabase&&!(e in p)&&typeof e=="string"))return;if(Cl.get(e))return Cl.get(e);const m=e.replace(/FromIndex$/,""),C=e!==m,R=PS.includes(m);if(!(m in(C?IDBIndex:IDBObjectStore).prototype)||!(R||AS.includes(m)))return;const M=async function(d,...S){const t=this.transaction(d,R?"readwrite":"readonly");let h=t.store;return C&&(h=h.index(S.shift())),(await Promise.all([h[m](...S),R&&t.done]))[0]};return Cl.set(e,M),M}ES(p=>({...p,get:(e,m,C)=>Xc(e,m)||p.get(e,m,C),has:(e,m)=>!!Xc(e,m)||p.has(e,m)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(m=>{if(wS(m)){const C=m.getImmediate();return`${C.library}/${C.version}`}else return null}).filter(m=>m).join(" ")}}function wS(p){const e=p.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _l="@firebase/app",Wc="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Ah("@firebase/app"),MS="@firebase/app-compat",IS="@firebase/analytics-compat",LS="@firebase/analytics",FS="@firebase/app-check-compat",OS="@firebase/app-check",DS="@firebase/auth",NS="@firebase/auth-compat",bS="@firebase/database",BS="@firebase/data-connect",VS="@firebase/database-compat",GS="@firebase/functions",US="@firebase/functions-compat",zS="@firebase/installations",XS="@firebase/installations-compat",WS="@firebase/messaging",YS="@firebase/messaging-compat",HS="@firebase/performance",KS="@firebase/performance-compat",$S="@firebase/remote-config",jS="@firebase/remote-config-compat",QS="@firebase/storage",JS="@firebase/storage-compat",kS="@firebase/firestore",ZS="@firebase/vertexai",qS="@firebase/firestore-compat",_S="firebase",tC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="[DEFAULT]",eC={[_l]:"fire-core",[MS]:"fire-core-compat",[LS]:"fire-analytics",[IS]:"fire-analytics-compat",[OS]:"fire-app-check",[FS]:"fire-app-check-compat",[DS]:"fire-auth",[NS]:"fire-auth-compat",[bS]:"fire-rtdb",[BS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[GS]:"fire-fn",[US]:"fire-fn-compat",[zS]:"fire-iid",[XS]:"fire-iid-compat",[WS]:"fire-fcm",[YS]:"fire-fcm-compat",[HS]:"fire-perf",[KS]:"fire-perf-compat",[$S]:"fire-rc",[jS]:"fire-rc-compat",[QS]:"fire-gcs",[JS]:"fire-gcs-compat",[kS]:"fire-fst",[qS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Map,iC=new Map,eu=new Map;function Yc(p,e){try{p.container.addComponent(e)}catch(m){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${p.name}`,m)}}function ki(p){const e=p.name;if(eu.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;eu.set(e,p);for(const m of Uo.values())Yc(m,p);for(const m of iC.values())Yc(m,p);return!0}function _s(p,e){const m=p.container.getProvider("heartbeat").getImmediate({optional:!0});return m&&m.triggerHeartbeat(),p.container.getProvider(e)}function Ri(p){return p==null?!1:p.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new Dn("app","Firebase",sC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,m,C){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},m),this._name=m.name,this._automaticDataCollectionEnabled=m.automaticDataCollectionEnabled,this._container=C,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=tC;function ug(p,e={}){let m=p;typeof e!="object"&&(e={name:e});const C=Object.assign({name:tu,automaticDataCollectionEnabled:!1},e),R=C.name;if(typeof R!="string"||!R)throw Us.create("bad-app-name",{appName:String(R)});if(m||(m=ig()),!m)throw Us.create("no-options");const M=Uo.get(R);if(M){if(ms(m,M.options)&&ms(C,M.config))return M;throw Us.create("duplicate-app",{appName:R})}const d=new fS(R);for(const t of eu.values())d.addComponent(t);const S=new nC(m,C,d);return Uo.set(R,S),S}function $u(p=tu){const e=Uo.get(p);if(!e&&p===tu&&ig())return ug();if(!e)throw Us.create("no-app",{appName:p});return e}function Si(p,e,m){var C;let R=(C=eC[p])!==null&&C!==void 0?C:p;m&&(R+=`-${m}`);const M=R.match(/\s|\//),d=e.match(/\s|\//);if(M||d){const S=[`Unable to register library "${R}" with version "${e}":`];M&&S.push(`library name "${R}" contains illegal characters (whitespace or "/")`),M&&d&&S.push("and"),d&&S.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(S.join(" "));return}ki(new Di(`${R}-version`,()=>({library:R,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-heartbeat-database",aC=1,va="firebase-heartbeat-store";let Al=null;function fg(){return Al||(Al=lg(rC,aC,{upgrade:(p,e)=>{switch(e){case 0:try{p.createObjectStore(va)}catch(m){console.warn(m)}}}}).catch(p=>{throw Us.create("idb-open",{originalErrorMessage:p.message})})),Al}async function oC(p){try{const m=(await fg()).transaction(va),C=await m.objectStore(va).get(dg(p));return await m.done,C}catch(e){if(e instanceof Bi)gs.warn(e.message);else{const m=Us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(m.message)}}}async function Hc(p,e){try{const C=(await fg()).transaction(va,"readwrite");await C.objectStore(va).put(e,dg(p)),await C.done}catch(m){if(m instanceof Bi)gs.warn(m.message);else{const C=Us.create("idb-set",{originalErrorMessage:m==null?void 0:m.message});gs.warn(C.message)}}}function dg(p){return`${p.name}!${p.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1024,lC=30;class uC{constructor(e){this.container=e,this._heartbeatsCache=null;const m=this.container.getProvider("app").getImmediate();this._storage=new dC(m),this._heartbeatsCachePromise=this._storage.read().then(C=>(this._heartbeatsCache=C,C))}async triggerHeartbeat(){var e,m;try{const R=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),M=Kc();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((m=this._heartbeatsCache)===null||m===void 0?void 0:m.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===M||this._heartbeatsCache.heartbeats.some(d=>d.date===M))return;if(this._heartbeatsCache.heartbeats.push({date:M,agent:R}),this._heartbeatsCache.heartbeats.length>lC){const d=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(C){gs.warn(C)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const m=Kc(),{heartbeatsToSend:C,unsentEntries:R}=fC(this._heartbeatsCache.heartbeats),M=Go(JSON.stringify({version:2,heartbeats:C}));return this._heartbeatsCache.lastSentHeartbeatDate=m,R.length>0?(this._heartbeatsCache.heartbeats=R,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),M}catch(m){return gs.warn(m),""}}}function Kc(){return new Date().toISOString().substring(0,10)}function fC(p,e=hC){const m=[];let C=p.slice();for(const R of p){const M=m.find(d=>d.agent===R.agent);if(M){if(M.dates.push(R.date),$c(m)>e){M.dates.pop();break}}else if(m.push({agent:R.agent,dates:[R.date]}),$c(m)>e){m.pop();break}C=C.slice(1)}return{heartbeatsToSend:m,unsentEntries:C}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rg()?ag().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const m=await oC(this.app);return m!=null&&m.heartbeats?m:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var m;if(await this._canUseIndexedDBPromise){const R=await this.read();return Hc(this.app,{lastSentHeartbeatDate:(m=e.lastSentHeartbeatDate)!==null&&m!==void 0?m:R.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var m;if(await this._canUseIndexedDBPromise){const R=await this.read();return Hc(this.app,{lastSentHeartbeatDate:(m=e.lastSentHeartbeatDate)!==null&&m!==void 0?m:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...e.heartbeats]})}else return}}function $c(p){return Go(JSON.stringify({version:2,heartbeats:p})).length}function cC(p){if(p.length===0)return-1;let e=0,m=p[0].date;for(let C=1;C<p.length;C++)p[C].date<m&&(m=p[C].date,e=C);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(p){ki(new Di("platform-logger",e=>new RS(e),"PRIVATE")),ki(new Di("heartbeat",e=>new uC(e),"PRIVATE")),Si(_l,Wc,p),Si(_l,Wc,"esm2017"),Si("fire-js","")}vC("");var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,cg;(function(){var p;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,T){function E(){}E.prototype=T.prototype,y.D=T.prototype,y.prototype=new E,y.prototype.constructor=y,y.C=function(A,P,w){for(var I=Array(arguments.length-2),O=2;O<arguments.length;O++)I[O-2]=arguments[O];return T.prototype[P].apply(A,I)}}function m(){this.blockSize=-1}function C(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(C,m),C.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function R(y,T,E){E||(E=0);var A=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)A[P]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(P=0;16>P;++P)A[P]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=y.g[0],E=y.g[1],P=y.g[2];var w=y.g[3],I=T+(w^E&(P^w))+A[0]+3614090360&4294967295;T=E+(I<<7&4294967295|I>>>25),I=w+(P^T&(E^P))+A[1]+3905402710&4294967295,w=T+(I<<12&4294967295|I>>>20),I=P+(E^w&(T^E))+A[2]+606105819&4294967295,P=w+(I<<17&4294967295|I>>>15),I=E+(T^P&(w^T))+A[3]+3250441966&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(w^E&(P^w))+A[4]+4118548399&4294967295,T=E+(I<<7&4294967295|I>>>25),I=w+(P^T&(E^P))+A[5]+1200080426&4294967295,w=T+(I<<12&4294967295|I>>>20),I=P+(E^w&(T^E))+A[6]+2821735955&4294967295,P=w+(I<<17&4294967295|I>>>15),I=E+(T^P&(w^T))+A[7]+4249261313&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(w^E&(P^w))+A[8]+1770035416&4294967295,T=E+(I<<7&4294967295|I>>>25),I=w+(P^T&(E^P))+A[9]+2336552879&4294967295,w=T+(I<<12&4294967295|I>>>20),I=P+(E^w&(T^E))+A[10]+4294925233&4294967295,P=w+(I<<17&4294967295|I>>>15),I=E+(T^P&(w^T))+A[11]+2304563134&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(w^E&(P^w))+A[12]+1804603682&4294967295,T=E+(I<<7&4294967295|I>>>25),I=w+(P^T&(E^P))+A[13]+4254626195&4294967295,w=T+(I<<12&4294967295|I>>>20),I=P+(E^w&(T^E))+A[14]+2792965006&4294967295,P=w+(I<<17&4294967295|I>>>15),I=E+(T^P&(w^T))+A[15]+1236535329&4294967295,E=P+(I<<22&4294967295|I>>>10),I=T+(P^w&(E^P))+A[1]+4129170786&4294967295,T=E+(I<<5&4294967295|I>>>27),I=w+(E^P&(T^E))+A[6]+3225465664&4294967295,w=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(w^T))+A[11]+643717713&4294967295,P=w+(I<<14&4294967295|I>>>18),I=E+(w^T&(P^w))+A[0]+3921069994&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^w&(E^P))+A[5]+3593408605&4294967295,T=E+(I<<5&4294967295|I>>>27),I=w+(E^P&(T^E))+A[10]+38016083&4294967295,w=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(w^T))+A[15]+3634488961&4294967295,P=w+(I<<14&4294967295|I>>>18),I=E+(w^T&(P^w))+A[4]+3889429448&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^w&(E^P))+A[9]+568446438&4294967295,T=E+(I<<5&4294967295|I>>>27),I=w+(E^P&(T^E))+A[14]+3275163606&4294967295,w=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(w^T))+A[3]+4107603335&4294967295,P=w+(I<<14&4294967295|I>>>18),I=E+(w^T&(P^w))+A[8]+1163531501&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(P^w&(E^P))+A[13]+2850285829&4294967295,T=E+(I<<5&4294967295|I>>>27),I=w+(E^P&(T^E))+A[2]+4243563512&4294967295,w=T+(I<<9&4294967295|I>>>23),I=P+(T^E&(w^T))+A[7]+1735328473&4294967295,P=w+(I<<14&4294967295|I>>>18),I=E+(w^T&(P^w))+A[12]+2368359562&4294967295,E=P+(I<<20&4294967295|I>>>12),I=T+(E^P^w)+A[5]+4294588738&4294967295,T=E+(I<<4&4294967295|I>>>28),I=w+(T^E^P)+A[8]+2272392833&4294967295,w=T+(I<<11&4294967295|I>>>21),I=P+(w^T^E)+A[11]+1839030562&4294967295,P=w+(I<<16&4294967295|I>>>16),I=E+(P^w^T)+A[14]+4259657740&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^w)+A[1]+2763975236&4294967295,T=E+(I<<4&4294967295|I>>>28),I=w+(T^E^P)+A[4]+1272893353&4294967295,w=T+(I<<11&4294967295|I>>>21),I=P+(w^T^E)+A[7]+4139469664&4294967295,P=w+(I<<16&4294967295|I>>>16),I=E+(P^w^T)+A[10]+3200236656&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^w)+A[13]+681279174&4294967295,T=E+(I<<4&4294967295|I>>>28),I=w+(T^E^P)+A[0]+3936430074&4294967295,w=T+(I<<11&4294967295|I>>>21),I=P+(w^T^E)+A[3]+3572445317&4294967295,P=w+(I<<16&4294967295|I>>>16),I=E+(P^w^T)+A[6]+76029189&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(E^P^w)+A[9]+3654602809&4294967295,T=E+(I<<4&4294967295|I>>>28),I=w+(T^E^P)+A[12]+3873151461&4294967295,w=T+(I<<11&4294967295|I>>>21),I=P+(w^T^E)+A[15]+530742520&4294967295,P=w+(I<<16&4294967295|I>>>16),I=E+(P^w^T)+A[2]+3299628645&4294967295,E=P+(I<<23&4294967295|I>>>9),I=T+(P^(E|~w))+A[0]+4096336452&4294967295,T=E+(I<<6&4294967295|I>>>26),I=w+(E^(T|~P))+A[7]+1126891415&4294967295,w=T+(I<<10&4294967295|I>>>22),I=P+(T^(w|~E))+A[14]+2878612391&4294967295,P=w+(I<<15&4294967295|I>>>17),I=E+(w^(P|~T))+A[5]+4237533241&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~w))+A[12]+1700485571&4294967295,T=E+(I<<6&4294967295|I>>>26),I=w+(E^(T|~P))+A[3]+2399980690&4294967295,w=T+(I<<10&4294967295|I>>>22),I=P+(T^(w|~E))+A[10]+4293915773&4294967295,P=w+(I<<15&4294967295|I>>>17),I=E+(w^(P|~T))+A[1]+2240044497&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~w))+A[8]+1873313359&4294967295,T=E+(I<<6&4294967295|I>>>26),I=w+(E^(T|~P))+A[15]+4264355552&4294967295,w=T+(I<<10&4294967295|I>>>22),I=P+(T^(w|~E))+A[6]+2734768916&4294967295,P=w+(I<<15&4294967295|I>>>17),I=E+(w^(P|~T))+A[13]+1309151649&4294967295,E=P+(I<<21&4294967295|I>>>11),I=T+(P^(E|~w))+A[4]+4149444226&4294967295,T=E+(I<<6&4294967295|I>>>26),I=w+(E^(T|~P))+A[11]+3174756917&4294967295,w=T+(I<<10&4294967295|I>>>22),I=P+(T^(w|~E))+A[2]+718787259&4294967295,P=w+(I<<15&4294967295|I>>>17),I=E+(w^(P|~T))+A[9]+3951481745&4294967295,y.g[0]=y.g[0]+T&4294967295,y.g[1]=y.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,y.g[2]=y.g[2]+P&4294967295,y.g[3]=y.g[3]+w&4294967295}C.prototype.u=function(y,T){T===void 0&&(T=y.length);for(var E=T-this.blockSize,A=this.B,P=this.h,w=0;w<T;){if(P==0)for(;w<=E;)R(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<T;)if(A[P++]=y.charCodeAt(w++),P==this.blockSize){R(this,A),P=0;break}}else for(;w<T;)if(A[P++]=y[w++],P==this.blockSize){R(this,A),P=0;break}}this.h=P,this.o+=T},C.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var T=1;T<y.length-8;++T)y[T]=0;var E=8*this.o;for(T=y.length-8;T<y.length;++T)y[T]=E&255,E/=256;for(this.u(y),y=Array(16),T=E=0;4>T;++T)for(var A=0;32>A;A+=8)y[E++]=this.g[T]>>>A&255;return y};function M(y,T){var E=S;return Object.prototype.hasOwnProperty.call(E,y)?E[y]:E[y]=T(y)}function d(y,T){this.h=T;for(var E=[],A=!0,P=y.length-1;0<=P;P--){var w=y[P]|0;A&&w==T||(E[P]=w,A=!1)}this.g=E}var S={};function t(y){return-128<=y&&128>y?M(y,function(T){return new d([T|0],0>T?-1:0)}):new d([y|0],0>y?-1:0)}function h(y){if(isNaN(y)||!isFinite(y))return o;if(0>y)return l(h(-y));for(var T=[],E=1,A=0;y>=E;A++)T[A]=y/E|0,E*=4294967296;return new d(T,0)}function x(y,T){if(y.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y.charAt(0)=="-")return l(x(y.substring(1),T));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(T,8)),A=o,P=0;P<y.length;P+=8){var w=Math.min(8,y.length-P),I=parseInt(y.substring(P,P+w),T);8>w?(w=h(Math.pow(T,w)),A=A.j(w).add(h(I))):(A=A.j(E),A=A.add(h(I)))}return A}var o=t(0),a=t(1),r=t(16777216);p=d.prototype,p.m=function(){if(n(this))return-l(this).m();for(var y=0,T=1,E=0;E<this.g.length;E++){var A=this.i(E);y+=(0<=A?A:4294967296+A)*T,T*=4294967296}return y},p.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(i(this))return"0";if(n(this))return"-"+l(this).toString(y);for(var T=h(Math.pow(y,6)),E=this,A="";;){var P=c(E,T).g;E=s(E,P.j(T));var w=((0<E.g.length?E.g[0]:E.h)>>>0).toString(y);if(E=P,i(E))return w+A;for(;6>w.length;)w="0"+w;A=w+A}},p.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function i(y){if(y.h!=0)return!1;for(var T=0;T<y.g.length;T++)if(y.g[T]!=0)return!1;return!0}function n(y){return y.h==-1}p.l=function(y){return y=s(this,y),n(y)?-1:i(y)?0:1};function l(y){for(var T=y.g.length,E=[],A=0;A<T;A++)E[A]=~y.g[A];return new d(E,~y.h).add(a)}p.abs=function(){return n(this)?l(this):this},p.add=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0,P=0;P<=T;P++){var w=A+(this.i(P)&65535)+(y.i(P)&65535),I=(w>>>16)+(this.i(P)>>>16)+(y.i(P)>>>16);A=I>>>16,w&=65535,I&=65535,E[P]=I<<16|w}return new d(E,E[E.length-1]&-2147483648?-1:0)};function s(y,T){return y.add(l(T))}p.j=function(y){if(i(this)||i(y))return o;if(n(this))return n(y)?l(this).j(l(y)):l(l(this).j(y));if(n(y))return l(this.j(l(y)));if(0>this.l(r)&&0>y.l(r))return h(this.m()*y.m());for(var T=this.g.length+y.g.length,E=[],A=0;A<2*T;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<y.g.length;P++){var w=this.i(A)>>>16,I=this.i(A)&65535,O=y.i(P)>>>16,F=y.i(P)&65535;E[2*A+2*P]+=I*F,u(E,2*A+2*P),E[2*A+2*P+1]+=w*F,u(E,2*A+2*P+1),E[2*A+2*P+1]+=I*O,u(E,2*A+2*P+1),E[2*A+2*P+2]+=w*O,u(E,2*A+2*P+2)}for(A=0;A<T;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=T;A<2*T;A++)E[A]=0;return new d(E,0)};function u(y,T){for(;(y[T]&65535)!=y[T];)y[T+1]+=y[T]>>>16,y[T]&=65535,T++}function f(y,T){this.g=y,this.h=T}function c(y,T){if(i(T))throw Error("division by zero");if(i(y))return new f(o,o);if(n(y))return T=c(l(y),T),new f(l(T.g),l(T.h));if(n(T))return T=c(y,l(T)),new f(l(T.g),T.h);if(30<y.g.length){if(n(y)||n(T))throw Error("slowDivide_ only works with positive integers.");for(var E=a,A=T;0>=A.l(y);)E=v(E),A=v(A);var P=g(E,1),w=g(A,1);for(A=g(A,2),E=g(E,2);!i(A);){var I=w.add(A);0>=I.l(y)&&(P=P.add(E),w=I),A=g(A,1),E=g(E,1)}return T=s(y,P.j(T)),new f(P,T)}for(P=o;0<=y.l(T);){for(E=Math.max(1,Math.floor(y.m()/T.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),w=h(E),I=w.j(T);n(I)||0<I.l(y);)E-=A,w=h(E),I=w.j(T);i(w)&&(w=a),P=P.add(w),y=s(y,I)}return new f(P,y)}p.A=function(y){return c(this,y).h},p.and=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)&y.i(A);return new d(E,this.h&y.h)},p.or=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)|y.i(A);return new d(E,this.h|y.h)},p.xor=function(y){for(var T=Math.max(this.g.length,y.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)^y.i(A);return new d(E,this.h^y.h)};function v(y){for(var T=y.g.length+1,E=[],A=0;A<T;A++)E[A]=y.i(A)<<1|y.i(A-1)>>>31;return new d(E,y.h)}function g(y,T){var E=T>>5;T%=32;for(var A=y.g.length-E,P=[],w=0;w<A;w++)P[w]=0<T?y.i(w+E)>>>T|y.i(w+E+1)<<32-T:y.i(w+E);return new d(P,y.h)}C.prototype.digest=C.prototype.v,C.prototype.reset=C.prototype.s,C.prototype.update=C.prototype.u,cg=C,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=h,d.fromString=x,zs=d}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});var ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vg,Ur,pg,xo,iu,mg,gg,xg;(function(){var p,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,K,J){return N==Array.prototype||N==Object.prototype||(N[K]=J.value),N};function m(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof ro=="object"&&ro];for(var K=0;K<N.length;++K){var J=N[K];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var C=m(this);function R(N,K){if(K)t:{var J=C;N=N.split(".");for(var tt=0;tt<N.length-1;tt++){var at=N[tt];if(!(at in J))break t;J=J[at]}N=N[N.length-1],tt=J[N],K=K(tt),K!=tt&&K!=null&&e(J,N,{configurable:!0,writable:!0,value:K})}}function M(N,K){N instanceof String&&(N+="");var J=0,tt=!1,at={next:function(){if(!tt&&J<N.length){var ct=J++;return{value:K(ct,N[ct]),done:!1}}return tt=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}R("Array.prototype.values",function(N){return N||function(){return M(this,function(K,J){return J})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},S=this||self;function t(N){var K=typeof N;return K=K!="object"?K:N?Array.isArray(N)?"array":K:"null",K=="array"||K=="object"&&typeof N.length=="number"}function h(N){var K=typeof N;return K=="object"&&N!=null||K=="function"}function x(N,K,J){return N.call.apply(N.bind,arguments)}function o(N,K,J){if(!N)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,tt),N.apply(K,at)}}return function(){return N.apply(K,arguments)}}function a(N,K,J){return a=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:o,a.apply(null,arguments)}function r(N,K){var J=Array.prototype.slice.call(arguments,1);return function(){var tt=J.slice();return tt.push.apply(tt,arguments),N.apply(this,tt)}}function i(N,K){function J(){}J.prototype=K.prototype,N.aa=K.prototype,N.prototype=new J,N.prototype.constructor=N,N.Qb=function(tt,at,ct){for(var Tt=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)Tt[ue-2]=arguments[ue];return K.prototype[at].apply(tt,Tt)}}function n(N){const K=N.length;if(0<K){const J=Array(K);for(let tt=0;tt<K;tt++)J[tt]=N[tt];return J}return[]}function l(N,K){for(let J=1;J<arguments.length;J++){const tt=arguments[J];if(t(tt)){const at=N.length||0,ct=tt.length||0;N.length=at+ct;for(let Tt=0;Tt<ct;Tt++)N[at+Tt]=tt[Tt]}else N.push(tt)}}class s{constructor(K,J){this.i=K,this.j=J,this.h=0,this.g=null}get(){let K;return 0<this.h?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function u(N){return/^[\s\xa0]*$/.test(N)}function f(){var N=S.navigator;return N&&(N=N.userAgent)?N:""}function c(N){return c[" "](N),N}c[" "]=function(){};var v=f().indexOf("Gecko")!=-1&&!(f().toLowerCase().indexOf("webkit")!=-1&&f().indexOf("Edge")==-1)&&!(f().indexOf("Trident")!=-1||f().indexOf("MSIE")!=-1)&&f().indexOf("Edge")==-1;function g(N,K,J){for(const tt in N)K.call(J,N[tt],tt,N)}function y(N,K){for(const J in N)K.call(void 0,N[J],J,N)}function T(N){const K={};for(const J in N)K[J]=N[J];return K}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(N,K){let J,tt;for(let at=1;at<arguments.length;at++){tt=arguments[at];for(J in tt)N[J]=tt[J];for(let ct=0;ct<E.length;ct++)J=E[ct],Object.prototype.hasOwnProperty.call(tt,J)&&(N[J]=tt[J])}}function P(N){var K=1;N=N.split(":");const J=[];for(;0<K&&N.length;)J.push(N.shift()),K--;return N.length&&J.push(N.join(":")),J}function w(N){S.setTimeout(()=>{throw N},0)}function I(){var N=U;let K=null;return N.g&&(K=N.g,N.g=N.g.next,N.g||(N.h=null),K.next=null),K}class O{constructor(){this.h=this.g=null}add(K,J){const tt=F.get();tt.set(K,J),this.h?this.h.next=tt:this.g=tt,this.h=tt}}var F=new s(()=>new L,N=>N.reset());class L{constructor(){this.next=this.g=this.h=null}set(K,J){this.h=K,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let D,b=!1,U=new O,W=()=>{const N=S.Promise.resolve(void 0);D=()=>{N.then(H)}};var H=()=>{for(var N;N=I();){try{N.h.call(N.g)}catch(J){w(J)}var K=F;K.j(N),100>K.h&&(K.h++,N.next=K.g,K.g=N)}b=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(N,K){this.type=N,this.g=this.target=K,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var N=!1,K=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const J=()=>{};S.addEventListener("test",J,K),S.removeEventListener("test",J,K)}catch{}return N}();function V(N,K){if(G.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N){var J=this.type=N.type,tt=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;if(this.target=N.target||N.srcElement,this.g=K,K=N.relatedTarget){if(v){t:{try{c(K.nodeName);var at=!0;break t}catch{}at=!1}at||(K=null)}}else J=="mouseover"?K=N.fromElement:J=="mouseout"&&(K=N.toElement);this.relatedTarget=K,tt?(this.clientX=tt.clientX!==void 0?tt.clientX:tt.pageX,this.clientY=tt.clientY!==void 0?tt.clientY:tt.pageY,this.screenX=tt.screenX||0,this.screenY=tt.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=typeof N.pointerType=="string"?N.pointerType:B[N.pointerType]||"",this.state=N.state,this.i=N,N.defaultPrevented&&V.aa.h.call(this)}}i(V,G);var B={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),$=0;function j(N,K,J,tt,at){this.listener=N,this.proxy=null,this.src=K,this.type=J,this.capture=!!tt,this.ha=at,this.key=++$,this.da=this.fa=!1}function k(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function q(N){this.src=N,this.g={},this.h=0}q.prototype.add=function(N,K,J,tt,at){var ct=N.toString();N=this.g[ct],N||(N=this.g[ct]=[],this.h++);var Tt=Z(N,K,tt,at);return-1<Tt?(K=N[Tt],J||(K.fa=!1)):(K=new j(K,this.src,ct,!!tt,at),K.fa=J,N.push(K)),K};function Q(N,K){var J=K.type;if(J in N.g){var tt=N.g[J],at=Array.prototype.indexOf.call(tt,K,void 0),ct;(ct=0<=at)&&Array.prototype.splice.call(tt,at,1),ct&&(k(K),N.g[J].length==0&&(delete N.g[J],N.h--))}}function Z(N,K,J,tt){for(var at=0;at<N.length;++at){var ct=N[at];if(!ct.da&&ct.listener==K&&ct.capture==!!J&&ct.ha==tt)return at}return-1}var _="closure_lm_"+(1e6*Math.random()|0),et={};function it(N,K,J,tt,at){if(Array.isArray(K)){for(var ct=0;ct<K.length;ct++)it(N,K[ct],J,tt,at);return null}return J=xt(J),N&&N[z]?N.K(K,J,h(tt)?!!tt.capture:!1,at):st(N,K,J,!1,tt,at)}function st(N,K,J,tt,at,ct){if(!K)throw Error("Invalid event type");var Tt=h(at)?!!at.capture:!!at,ue=ht(N);if(ue||(N[_]=ue=new q(N)),J=ue.add(K,J,tt,Tt,ct),J.proxy)return J;if(tt=nt(),J.proxy=tt,tt.src=N,tt.listener=J,N.addEventListener)X||(at=Tt),at===void 0&&(at=!1),N.addEventListener(K.toString(),tt,at);else if(N.attachEvent)N.attachEvent(ot(K.toString()),tt);else if(N.addListener&&N.removeListener)N.addListener(tt);else throw Error("addEventListener and attachEvent are unavailable.");return J}function nt(){function N(J){return K.call(N.src,N.listener,J)}const K=rt;return N}function lt(N,K,J,tt,at){if(Array.isArray(K))for(var ct=0;ct<K.length;ct++)lt(N,K[ct],J,tt,at);else tt=h(tt)?!!tt.capture:!!tt,J=xt(J),N&&N[z]?(N=N.i,K=String(K).toString(),K in N.g&&(ct=N.g[K],J=Z(ct,J,tt,at),-1<J&&(k(ct[J]),Array.prototype.splice.call(ct,J,1),ct.length==0&&(delete N.g[K],N.h--)))):N&&(N=ht(N))&&(K=N.g[K.toString()],N=-1,K&&(N=Z(K,J,tt,at)),(J=-1<N?K[N]:null)&&ut(J))}function ut(N){if(typeof N!="number"&&N&&!N.da){var K=N.src;if(K&&K[z])Q(K.i,N);else{var J=N.type,tt=N.proxy;K.removeEventListener?K.removeEventListener(J,tt,N.capture):K.detachEvent?K.detachEvent(ot(J),tt):K.addListener&&K.removeListener&&K.removeListener(tt),(J=ht(K))?(Q(J,N),J.h==0&&(J.src=null,K[_]=null)):k(N)}}}function ot(N){return N in et?et[N]:et[N]="on"+N}function rt(N,K){if(N.da)N=!0;else{K=new V(K,this);var J=N.listener,tt=N.ha||N.src;N.fa&&ut(N),N=J.call(tt,K)}return N}function ht(N){return N=N[_],N instanceof q?N:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(N){return typeof N=="function"?N:(N[dt]||(N[dt]=function(K){return N.handleEvent(K)}),N[dt])}function yt(){Y.call(this),this.i=new q(this),this.M=this,this.F=null}i(yt,Y),yt.prototype[z]=!0,yt.prototype.removeEventListener=function(N,K,J,tt){lt(this,N,K,J,tt)};function Ct(N,K){var J,tt=N.F;if(tt)for(J=[];tt;tt=tt.F)J.push(tt);if(N=N.M,tt=K.type||K,typeof K=="string")K=new G(K,N);else if(K instanceof G)K.target=K.target||N;else{var at=K;K=new G(tt,N),A(K,at)}if(at=!0,J)for(var ct=J.length-1;0<=ct;ct--){var Tt=K.g=J[ct];at=St(Tt,tt,!0,K)&&at}if(Tt=K.g=N,at=St(Tt,tt,!0,K)&&at,at=St(Tt,tt,!1,K)&&at,J)for(ct=0;ct<J.length;ct++)Tt=K.g=J[ct],at=St(Tt,tt,!1,K)&&at}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var N=this.i,K;for(K in N.g){for(var J=N.g[K],tt=0;tt<J.length;tt++)k(J[tt]);delete N.g[K],N.h--}}this.F=null},yt.prototype.K=function(N,K,J,tt){return this.i.add(String(N),K,!1,J,tt)},yt.prototype.L=function(N,K,J,tt){return this.i.add(String(N),K,!0,J,tt)};function St(N,K,J,tt){if(K=N.i.g[String(K)],!K)return!0;K=K.concat();for(var at=!0,ct=0;ct<K.length;++ct){var Tt=K[ct];if(Tt&&!Tt.da&&Tt.capture==J){var ue=Tt.listener,De=Tt.ha||Tt.src;Tt.fa&&Q(N.i,Tt),at=ue.call(De,tt)!==!1&&at}}return at&&!tt.defaultPrevented}function Mt(N,K,J){if(typeof N=="function")J&&(N=a(N,J));else if(N&&typeof N.handleEvent=="function")N=a(N.handleEvent,N);else throw Error("Invalid listener argument");return 2147483647<Number(K)?-1:S.setTimeout(N,K||0)}function Ut(N){N.g=Mt(()=>{N.g=null,N.i&&(N.i=!1,Ut(N))},N.l);const K=N.h;N.h=null,N.m.apply(null,K)}class qt extends Y{constructor(K,J){super(),this.m=K,this.l=J,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(N){Y.call(this),this.h=N,this.g={}}i(Nt,Y);var Jt=[];function ae(N){g(N.g,function(K,J){this.g.hasOwnProperty(J)&&ut(K)},N),N.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),ae(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=S.JSON.stringify,Se=S.JSON.parse,gi=class{stringify(N){return S.JSON.stringify(N,void 0)}parse(N){return S.JSON.parse(N,void 0)}};function Ci(){}Ci.prototype.h=null;function Vi(N){return N.h||(N.h=N.i())}function Gi(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $h(){G.call(this,"d")}i($h,G);function jh(){G.call(this,"c")}i(jh,G);var nn={},ed=null;function Ga(){return ed=ed||new yt}nn.La="serverreachability";function id(N){G.call(this,nn.La,N)}i(id,G);function Pr(N){const K=Ga();Ct(K,new id(K))}nn.STAT_EVENT="statevent";function sd(N,K){G.call(this,nn.STAT_EVENT,N),this.stat=K}i(sd,G);function ke(N){const K=Ga();Ct(K,new sd(K,N))}nn.Ma="timingevent";function nd(N,K){G.call(this,nn.Ma,N),this.size=K}i(nd,G);function Rr(N,K){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){N()},K)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function iy(N,K,J,tt,at,ct){N.info(function(){if(N.g)if(ct)for(var Tt="",ue=ct.split("&"),De=0;De<ue.length;De++){var _t=ue[De].split("=");if(1<_t.length){var Ue=_t[0];_t=_t[1];var ze=Ue.split("_");Tt=2<=ze.length&&ze[1]=="type"?Tt+(Ue+"="+_t+"&"):Tt+(Ue+"=redacted&")}}else Tt=null;else Tt=ct;return"XMLHTTP REQ ("+tt+") [attempt "+at+"]: "+K+`
`+J+`
`+Tt})}function sy(N,K,J,tt,at,ct,Tt){N.info(function(){return"XMLHTTP RESP ("+tt+") [ attempt "+at+"]: "+K+`
`+J+`
`+ct+" "+Tt})}function Vn(N,K,J,tt){N.info(function(){return"XMLHTTP TEXT ("+K+"): "+ry(N,J)+(tt?" "+tt:"")})}function ny(N,K){N.info(function(){return"TIMEOUT: "+K})}wr.prototype.info=function(){};function ry(N,K){if(!N.g)return K;if(!K)return null;try{var J=JSON.parse(K);if(J){for(N=0;N<J.length;N++)if(Array.isArray(J[N])){var tt=J[N];if(!(2>tt.length)){var at=tt[1];if(Array.isArray(at)&&!(1>at.length)){var ct=at[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var Tt=1;Tt<at.length;Tt++)at[Tt]=""}}}}return jt(J)}catch{return K}}var Ua={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qh;function za(){}i(za,Ci),za.prototype.g=function(){return new XMLHttpRequest},za.prototype.i=function(){return{}},Qh=new za;function As(N,K,J,tt){this.j=N,this.i=K,this.l=J,this.R=tt||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ad}function ad(){this.i=null,this.g="",this.h=!1}var od={},Jh={};function kh(N,K,J){N.L=1,N.v=Ha(ts(K)),N.m=J,N.P=!0,hd(N,null)}function hd(N,K){N.F=Date.now(),Xa(N),N.A=ts(N.v);var J=N.A,tt=N.R;Array.isArray(tt)||(tt=[String(tt)]),Sd(J.i,"t",tt),N.C=0,J=N.j.J,N.h=new ad,N.g=zd(N.j,J?K:null,!N.m),0<N.O&&(N.M=new qt(a(N.Y,N,N.g),N.O)),K=N.U,J=N.g,tt=N.ca;var at="readystatechange";Array.isArray(at)||(at&&(Jt[0]=at.toString()),at=Jt);for(var ct=0;ct<at.length;ct++){var Tt=it(J,at[ct],tt||K.handleEvent,!1,K.h||K);if(!Tt)break;K.g[Tt.key]=Tt}K=N.H?T(N.H):{},N.m?(N.u||(N.u="POST"),K["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.A,N.u,N.m,K)):(N.u="GET",N.g.ea(N.A,N.u,null,K)),Pr(),iy(N.i,N.u,N.A,N.l,N.R,N.m)}As.prototype.ca=function(N){N=N.target;const K=this.M;K&&es(N)==3?K.j():this.Y(N)},As.prototype.Y=function(N){try{if(N==this.g)t:{const ze=es(this.g);var K=this.g.Ba();const zn=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||Id(this.g)))){this.J||ze!=4||K==7||(K==8||0>=zn?Pr(3):Pr(2)),Zh(this);var J=this.g.Z();this.X=J;e:if(ld(this)){var tt=Id(this.g);N="";var at=tt.length,ct=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Mr(this);var Tt="";break e}this.h.i=new S.TextDecoder}for(K=0;K<at;K++)this.h.h=!0,N+=this.h.i.decode(tt[K],{stream:!(ct&&K==at-1)});tt.length=0,this.h.g+=N,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=J==200,sy(this.i,this.u,this.A,this.l,this.R,ze,J),this.o){if(this.T&&!this.K){e:{if(this.g){var ue,De=this.g;if((ue=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u(ue)){var _t=ue;break e}}_t=null}if(J=_t)Vn(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qh(this,J);else{this.o=!1,this.s=3,ke(12),rn(this),Mr(this);break t}}if(this.P){J=!0;let Ai;for(;!this.J&&this.C<Tt.length;)if(Ai=ay(this,Tt),Ai==Jh){ze==4&&(this.s=4,ke(14),J=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ai==od){this.s=4,ke(15),Vn(this.i,this.l,Tt,"[Invalid Chunk]"),J=!1;break}else Vn(this.i,this.l,Ai,null),qh(this,Ai);if(ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||Tt.length!=0||this.h.h||(this.s=1,ke(16),J=!1),this.o=this.o&&J,!J)Vn(this.i,this.l,Tt,"[Invalid Chunked Response]"),rn(this),Mr(this);else if(0<Tt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),nl(Ue),Ue.M=!0,ke(11))}}else Vn(this.i,this.l,Tt,null),qh(this,Tt);ze==4&&rn(this),this.o&&!this.J&&(ze==4?Bd(this.j,this):(this.o=!1,Xa(this)))}else Cy(this.g),J==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),rn(this),Mr(this)}}}catch{}finally{}};function ld(N){return N.g?N.u=="GET"&&N.L!=2&&N.j.Ca:!1}function ay(N,K){var J=N.C,tt=K.indexOf(`
`,J);return tt==-1?Jh:(J=Number(K.substring(J,tt)),isNaN(J)?od:(tt+=1,tt+J>K.length?Jh:(K=K.slice(tt,tt+J),N.C=tt+J,K)))}As.prototype.cancel=function(){this.J=!0,rn(this)};function Xa(N){N.S=Date.now()+N.I,ud(N,N.I)}function ud(N,K){if(N.B!=null)throw Error("WatchDog timer not null");N.B=Rr(a(N.ba,N),K)}function Zh(N){N.B&&(S.clearTimeout(N.B),N.B=null)}As.prototype.ba=function(){this.B=null;const N=Date.now();0<=N-this.S?(ny(this.i,this.A),this.L!=2&&(Pr(),ke(17)),rn(this),this.s=2,Mr(this)):ud(this,this.S-N)};function Mr(N){N.j.G==0||N.J||Bd(N.j,N)}function rn(N){Zh(N);var K=N.M;K&&typeof K.ma=="function"&&K.ma(),N.M=null,ae(N.U),N.g&&(K=N.g,N.g=null,K.abort(),K.ma())}function qh(N,K){try{var J=N.j;if(J.G!=0&&(J.g==N||_h(J.h,N))){if(!N.K&&_h(J.h,N)&&J.G==3){try{var tt=J.Da.g.parse(K)}catch{tt=null}if(Array.isArray(tt)&&tt.length==3){var at=tt;if(at[0]==0){t:if(!J.u){if(J.g)if(J.g.F+3e3<N.F)ka(J),Qa(J);else break t;sl(J),ke(18)}}else J.za=at[1],0<J.za-J.T&&37500>at[2]&&J.F&&J.v==0&&!J.C&&(J.C=Rr(a(J.Za,J),6e3));if(1>=cd(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else on(J,11)}else if((N.K||J.g==N)&&ka(J),!u(K))for(at=J.Da.g.parse(K),K=0;K<at.length;K++){let _t=at[K];if(J.T=_t[0],_t=_t[1],J.G==2)if(_t[0]=="c"){J.K=_t[1],J.ia=_t[2];const Ue=_t[3];Ue!=null&&(J.la=Ue,J.j.info("VER="+J.la));const ze=_t[4];ze!=null&&(J.Aa=ze,J.j.info("SVER="+J.Aa));const zn=_t[5];zn!=null&&typeof zn=="number"&&0<zn&&(tt=1.5*zn,J.L=tt,J.j.info("backChannelRequestTimeoutMs_="+tt)),tt=J;const Ai=N.g;if(Ai){const qa=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qa){var ct=tt.h;ct.g||qa.indexOf("spdy")==-1&&qa.indexOf("quic")==-1&&qa.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(tl(ct,ct.h),ct.h=null))}if(tt.D){const rl=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(tt.ya=rl,ve(tt.I,tt.D,rl))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-N.F,J.j.info("Handshake RTT: "+J.R+"ms")),tt=J;var Tt=N;if(tt.qa=Ud(tt,tt.J?tt.ia:null,tt.W),Tt.K){vd(tt.h,Tt);var ue=Tt,De=tt.L;De&&(ue.I=De),ue.B&&(Zh(ue),Xa(ue)),tt.g=Tt}else Nd(tt);0<J.i.length&&Ja(J)}else _t[0]!="stop"&&_t[0]!="close"||on(J,7);else J.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?on(J,7):il(J):_t[0]!="noop"&&J.l&&J.l.ta(_t),J.v=0)}}Pr(4)}catch{}}var oy=class{constructor(N,K){this.g=N,this.map=K}};function fd(N){this.l=N||10,S.PerformanceNavigationTiming?(N=S.performance.getEntriesByType("navigation"),N=0<N.length&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dd(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function cd(N){return N.h?1:N.g?N.g.size:0}function _h(N,K){return N.h?N.h==K:N.g?N.g.has(K):!1}function tl(N,K){N.g?N.g.add(K):N.h=K}function vd(N,K){N.h&&N.h==K?N.h=null:N.g&&N.g.has(K)&&N.g.delete(K)}fd.prototype.cancel=function(){if(this.i=pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function pd(N){if(N.h!=null)return N.i.concat(N.h.D);if(N.g!=null&&N.g.size!==0){let K=N.i;for(const J of N.g.values())K=K.concat(J.D);return K}return n(N.i)}function hy(N){if(N.V&&typeof N.V=="function")return N.V();if(typeof Map<"u"&&N instanceof Map||typeof Set<"u"&&N instanceof Set)return Array.from(N.values());if(typeof N=="string")return N.split("");if(t(N)){for(var K=[],J=N.length,tt=0;tt<J;tt++)K.push(N[tt]);return K}K=[],J=0;for(tt in N)K[J++]=N[tt];return K}function ly(N){if(N.na&&typeof N.na=="function")return N.na();if(!N.V||typeof N.V!="function"){if(typeof Map<"u"&&N instanceof Map)return Array.from(N.keys());if(!(typeof Set<"u"&&N instanceof Set)){if(t(N)||typeof N=="string"){var K=[];N=N.length;for(var J=0;J<N;J++)K.push(J);return K}K=[],J=0;for(const tt in N)K[J++]=tt;return K}}}function md(N,K){if(N.forEach&&typeof N.forEach=="function")N.forEach(K,void 0);else if(t(N)||typeof N=="string")Array.prototype.forEach.call(N,K,void 0);else for(var J=ly(N),tt=hy(N),at=tt.length,ct=0;ct<at;ct++)K.call(void 0,tt[ct],J&&J[ct],N)}var gd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uy(N,K){if(N){N=N.split("&");for(var J=0;J<N.length;J++){var tt=N[J].indexOf("="),at=null;if(0<=tt){var ct=N[J].substring(0,tt);at=N[J].substring(tt+1)}else ct=N[J];K(ct,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}function an(N){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,N instanceof an){this.h=N.h,Wa(this,N.j),this.o=N.o,this.g=N.g,Ya(this,N.s),this.l=N.l;var K=N.i,J=new Fr;J.i=K.i,K.g&&(J.g=new Map(K.g),J.h=K.h),xd(this,J),this.m=N.m}else N&&(K=String(N).match(gd))?(this.h=!1,Wa(this,K[1]||"",!0),this.o=Ir(K[2]||""),this.g=Ir(K[3]||"",!0),Ya(this,K[4]),this.l=Ir(K[5]||"",!0),xd(this,K[6]||"",!0),this.m=Ir(K[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}an.prototype.toString=function(){var N=[],K=this.j;K&&N.push(Lr(K,yd,!0),":");var J=this.g;return(J||K=="file")&&(N.push("//"),(K=this.o)&&N.push(Lr(K,yd,!0),"@"),N.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J=this.s,J!=null&&N.push(":",String(J))),(J=this.l)&&(this.g&&J.charAt(0)!="/"&&N.push("/"),N.push(Lr(J,J.charAt(0)=="/"?cy:dy,!0))),(J=this.i.toString())&&N.push("?",J),(J=this.m)&&N.push("#",Lr(J,py)),N.join("")};function ts(N){return new an(N)}function Wa(N,K,J){N.j=J?Ir(K,!0):K,N.j&&(N.j=N.j.replace(/:$/,""))}function Ya(N,K){if(K){if(K=Number(K),isNaN(K)||0>K)throw Error("Bad port number "+K);N.s=K}else N.s=null}function xd(N,K,J){K instanceof Fr?(N.i=K,my(N.i,N.h)):(J||(K=Lr(K,vy)),N.i=new Fr(K,N.h))}function ve(N,K,J){N.i.set(K,J)}function Ha(N){return ve(N,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),N}function Ir(N,K){return N?K?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function Lr(N,K,J){return typeof N=="string"?(N=encodeURI(N).replace(K,fy),J&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function fy(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var yd=/[#\/\?@]/g,dy=/[#\?:]/g,cy=/[#\?]/g,vy=/[#\?@]/g,py=/#/g;function Fr(N,K){this.h=this.g=null,this.i=N||null,this.j=!!K}function Ps(N){N.g||(N.g=new Map,N.h=0,N.i&&uy(N.i,function(K,J){N.add(decodeURIComponent(K.replace(/\+/g," ")),J)}))}p=Fr.prototype,p.add=function(N,K){Ps(this),this.i=null,N=Gn(this,N);var J=this.g.get(N);return J||this.g.set(N,J=[]),J.push(K),this.h+=1,this};function Td(N,K){Ps(N),K=Gn(N,K),N.g.has(K)&&(N.i=null,N.h-=N.g.get(K).length,N.g.delete(K))}function Ed(N,K){return Ps(N),K=Gn(N,K),N.g.has(K)}p.forEach=function(N,K){Ps(this),this.g.forEach(function(J,tt){J.forEach(function(at){N.call(K,at,tt,this)},this)},this)},p.na=function(){Ps(this);const N=Array.from(this.g.values()),K=Array.from(this.g.keys()),J=[];for(let tt=0;tt<K.length;tt++){const at=N[tt];for(let ct=0;ct<at.length;ct++)J.push(K[tt])}return J},p.V=function(N){Ps(this);let K=[];if(typeof N=="string")Ed(this,N)&&(K=K.concat(this.g.get(Gn(this,N))));else{N=Array.from(this.g.values());for(let J=0;J<N.length;J++)K=K.concat(N[J])}return K},p.set=function(N,K){return Ps(this),this.i=null,N=Gn(this,N),Ed(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[K]),this.h+=1,this},p.get=function(N,K){return N?(N=this.V(N),0<N.length?String(N[0]):K):K};function Sd(N,K,J){Td(N,K),0<J.length&&(N.i=null,N.g.set(Gn(N,K),n(J)),N.h+=J.length)}p.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],K=Array.from(this.g.keys());for(var J=0;J<K.length;J++){var tt=K[J];const ct=encodeURIComponent(String(tt)),Tt=this.V(tt);for(tt=0;tt<Tt.length;tt++){var at=ct;Tt[tt]!==""&&(at+="="+encodeURIComponent(String(Tt[tt]))),N.push(at)}}return this.i=N.join("&")};function Gn(N,K){return K=String(K),N.j&&(K=K.toLowerCase()),K}function my(N,K){K&&!N.j&&(Ps(N),N.i=null,N.g.forEach(function(J,tt){var at=tt.toLowerCase();tt!=at&&(Td(this,tt),Sd(this,at,J))},N)),N.j=K}function gy(N,K){const J=new wr;if(S.Image){const tt=new Image;tt.onload=r(Rs,J,"TestLoadImage: loaded",!0,K,tt),tt.onerror=r(Rs,J,"TestLoadImage: error",!1,K,tt),tt.onabort=r(Rs,J,"TestLoadImage: abort",!1,K,tt),tt.ontimeout=r(Rs,J,"TestLoadImage: timeout",!1,K,tt),S.setTimeout(function(){tt.ontimeout&&tt.ontimeout()},1e4),tt.src=N}else K(!1)}function xy(N,K){const J=new wr,tt=new AbortController,at=setTimeout(()=>{tt.abort(),Rs(J,"TestPingServer: timeout",!1,K)},1e4);fetch(N,{signal:tt.signal}).then(ct=>{clearTimeout(at),ct.ok?Rs(J,"TestPingServer: ok",!0,K):Rs(J,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout(at),Rs(J,"TestPingServer: error",!1,K)})}function Rs(N,K,J,tt,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),tt(J)}catch{}}function yy(){this.g=new gi}function Ty(N,K,J){const tt=J||"";try{md(N,function(at,ct){let Tt=at;h(at)&&(Tt=jt(at)),K.push(tt+ct+"="+encodeURIComponent(Tt))})}catch(at){throw K.push(tt+"type="+encodeURIComponent("_badmap")),at}}function Ka(N){this.l=N.Ub||null,this.j=N.eb||!1}i(Ka,Ci),Ka.prototype.g=function(){return new $a(this.l,this.j)},Ka.prototype.i=function(N){return function(){return N}}({});function $a(N,K){yt.call(this),this.D=N,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}i($a,yt),p=$a.prototype,p.open=function(N,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=N,this.A=K,this.readyState=1,Dr(this)},p.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const K={headers:this.u,method:this.B,credentials:this.m,cache:void 0};N&&(K.body=N),(this.D||S).fetch(new Request(this.A,K)).then(this.Sa.bind(this),this.ga.bind(this))},p.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},p.Sa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cd(this)}else N.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cd(N){N.j.read().then(N.Pa.bind(N)).catch(N.ga.bind(N))}p.Pa=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var K=N.value?N.value:new Uint8Array(0);(K=this.v.decode(K,{stream:!N.done}))&&(this.response=this.responseText+=K)}N.done?Or(this):Dr(this),this.readyState==3&&Cd(this)}},p.Ra=function(N){this.g&&(this.response=this.responseText=N,Or(this))},p.Qa=function(N){this.g&&(this.response=N,Or(this))},p.ga=function(){this.g&&Or(this)};function Or(N){N.readyState=4,N.l=null,N.j=null,N.v=null,Dr(N)}p.setRequestHeader=function(N,K){this.u.append(N,K)},p.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},p.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],K=this.h.entries();for(var J=K.next();!J.done;)J=J.value,N.push(J[0]+": "+J[1]),J=K.next();return N.join(`\r
`)};function Dr(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function Ad(N){let K="";return g(N,function(J,tt){K+=tt,K+=":",K+=J,K+=`\r
`}),K}function el(N,K,J){t:{for(tt in J){var tt=!1;break t}tt=!0}tt||(J=Ad(J),typeof N=="string"?J!=null&&encodeURIComponent(String(J)):ve(N,K,J))}function ye(N){yt.call(this),this.headers=new Map,this.o=N||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}i(ye,yt);var Ey=/^https?$/i,Sy=["POST","PUT"];p=ye.prototype,p.Ha=function(N){this.J=N},p.ea=function(N,K,J,tt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);K=K?K.toUpperCase():"GET",this.D=N,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qh.g(),this.v=this.o?Vi(this.o):Vi(Qh),this.g.onreadystatechange=a(this.Ea,this);try{this.B=!0,this.g.open(K,String(N),!0),this.B=!1}catch(ct){Pd(this,ct);return}if(N=J||"",J=new Map(this.headers),tt)if(Object.getPrototypeOf(tt)===Object.prototype)for(var at in tt)J.set(at,tt[at]);else if(typeof tt.keys=="function"&&typeof tt.get=="function")for(const ct of tt.keys())J.set(ct,tt.get(ct));else throw Error("Unknown input type for opt_headers: "+String(tt));tt=Array.from(J.keys()).find(ct=>ct.toLowerCase()=="content-type"),at=S.FormData&&N instanceof S.FormData,!(0<=Array.prototype.indexOf.call(Sy,K,void 0))||tt||at||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,Tt]of J)this.g.setRequestHeader(ct,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Md(this),this.u=!0,this.g.send(N),this.u=!1}catch(ct){Pd(this,ct)}};function Pd(N,K){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=K,N.m=5,Rd(N),ja(N)}function Rd(N){N.A||(N.A=!0,Ct(N,"complete"),Ct(N,"error"))}p.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=N||7,Ct(this,"complete"),Ct(this,"abort"),ja(this))},p.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),ye.aa.N.call(this)},p.Ea=function(){this.s||(this.B||this.u||this.j?wd(this):this.bb())},p.bb=function(){wd(this)};function wd(N){if(N.h&&typeof d<"u"&&(!N.v[1]||es(N)!=4||N.Z()!=2)){if(N.u&&es(N)==4)Mt(N.Ea,0,N);else if(Ct(N,"readystatechange"),es(N)==4){N.h=!1;try{const Tt=N.Z();t:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break t;default:K=!1}var J;if(!(J=K)){var tt;if(tt=Tt===0){var at=String(N.D).match(gd)[1]||null;!at&&S.self&&S.self.location&&(at=S.self.location.protocol.slice(0,-1)),tt=!Ey.test(at?at.toLowerCase():"")}J=tt}if(J)Ct(N,"complete"),Ct(N,"success");else{N.m=6;try{var ct=2<es(N)?N.g.statusText:""}catch{ct=""}N.l=ct+" ["+N.Z()+"]",Rd(N)}}finally{ja(N)}}}}function ja(N,K){if(N.g){Md(N);const J=N.g,tt=N.v[0]?()=>{}:null;N.g=null,N.v=null,K||Ct(N,"ready");try{J.onreadystatechange=tt}catch{}}}function Md(N){N.I&&(S.clearTimeout(N.I),N.I=null)}p.isActive=function(){return!!this.g};function es(N){return N.g?N.g.readyState:0}p.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},p.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},p.Oa=function(N){if(this.g){var K=this.g.responseText;return N&&K.indexOf(N)==0&&(K=K.substring(N.length)),Se(K)}};function Id(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.H){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function Cy(N){const K={};N=(N.g&&2<=es(N)&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let tt=0;tt<N.length;tt++){if(u(N[tt]))continue;var J=P(N[tt]);const at=J[0];if(J=J[1],typeof J!="string")continue;J=J.trim();const ct=K[at]||[];K[at]=ct,ct.push(J)}y(K,function(tt){return tt.join(", ")})}p.Ba=function(){return this.m},p.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(N,K,J){return J&&J.internalChannelParams&&J.internalChannelParams[N]||K}function Ld(N){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nr("failFast",!1,N),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nr("baseRetryDelayMs",5e3,N),this.cb=Nr("retryDelaySeedMs",1e4,N),this.Wa=Nr("forwardChannelMaxRetries",2,N),this.wa=Nr("forwardChannelRequestTimeoutMs",2e4,N),this.pa=N&&N.xmlHttpFactory||void 0,this.Xa=N&&N.Tb||void 0,this.Ca=N&&N.useFetchStreams||!1,this.L=void 0,this.J=N&&N.supportsCrossDomainXhr||!1,this.K="",this.h=new fd(N&&N.concurrentRequestLimit),this.Da=new yy,this.P=N&&N.fastHandshake||!1,this.O=N&&N.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=N&&N.Rb||!1,N&&N.xa&&this.j.xa(),N&&N.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&N&&N.detectBufferingProxy||!1,this.ja=void 0,N&&N.longPollingTimeout&&0<N.longPollingTimeout&&(this.ja=N.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}p=Ld.prototype,p.la=8,p.G=1,p.connect=function(N,K,J,tt){ke(0),this.W=N,this.H=K||{},J&&tt!==void 0&&(this.H.OSID=J,this.H.OAID=tt),this.F=this.X,this.I=Ud(this,null,this.W),Ja(this)};function il(N){if(Fd(N),N.G==3){var K=N.U++,J=ts(N.I);if(ve(J,"SID",N.K),ve(J,"RID",K),ve(J,"TYPE","terminate"),br(N,J),K=new As(N,N.j,K),K.L=2,K.v=Ha(ts(J)),J=!1,S.navigator&&S.navigator.sendBeacon)try{J=S.navigator.sendBeacon(K.v.toString(),"")}catch{}!J&&S.Image&&(new Image().src=K.v,J=!0),J||(K.g=zd(K.j,null),K.g.ea(K.v)),K.F=Date.now(),Xa(K)}Gd(N)}function Qa(N){N.g&&(nl(N),N.g.cancel(),N.g=null)}function Fd(N){Qa(N),N.u&&(S.clearTimeout(N.u),N.u=null),ka(N),N.h.cancel(),N.s&&(typeof N.s=="number"&&S.clearTimeout(N.s),N.s=null)}function Ja(N){if(!dd(N.h)&&!N.s){N.s=!0;var K=N.Ga;D||W(),b||(D(),b=!0),U.add(K,N),N.B=0}}function Ay(N,K){return cd(N.h)>=N.h.j-(N.s?1:0)?!1:N.s?(N.i=K.D.concat(N.i),!0):N.G==1||N.G==2||N.B>=(N.Va?0:N.Wa)?!1:(N.s=Rr(a(N.Ga,N,K),Vd(N,N.B)),N.B++,!0)}p.Ga=function(N){if(this.s)if(this.s=null,this.G==1){if(!N){this.U=Math.floor(1e5*Math.random()),N=this.U++;const at=new As(this,this.j,N);let ct=this.o;if(this.S&&(ct?(ct=T(ct),A(ct,this.S)):ct=this.S),this.m!==null||this.O||(at.H=ct,ct=null),this.P)t:{for(var K=0,J=0;J<this.i.length;J++){e:{var tt=this.i[J];if("__data__"in tt.map&&(tt=tt.map.__data__,typeof tt=="string")){tt=tt.length;break e}tt=void 0}if(tt===void 0)break;if(K+=tt,4096<K){K=J;break t}if(K===4096||J===this.i.length-1){K=J+1;break t}}K=1e3}else K=1e3;K=Dd(this,at,K),J=ts(this.I),ve(J,"RID",N),ve(J,"CVER",22),this.D&&ve(J,"X-HTTP-Session-Id",this.D),br(this,J),ct&&(this.O?K="headers="+encodeURIComponent(String(Ad(ct)))+"&"+K:this.m&&el(J,this.m,ct)),tl(this.h,at),this.Ua&&ve(J,"TYPE","init"),this.P?(ve(J,"$req",K),ve(J,"SID","null"),at.T=!0,kh(at,J,null)):kh(at,J,K),this.G=2}}else this.G==3&&(N?Od(this,N):this.i.length==0||dd(this.h)||Od(this))};function Od(N,K){var J;K?J=K.l:J=N.U++;const tt=ts(N.I);ve(tt,"SID",N.K),ve(tt,"RID",J),ve(tt,"AID",N.T),br(N,tt),N.m&&N.o&&el(tt,N.m,N.o),J=new As(N,N.j,J,N.B+1),N.m===null&&(J.H=N.o),K&&(N.i=K.D.concat(N.i)),K=Dd(N,J,1e3),J.I=Math.round(.5*N.wa)+Math.round(.5*N.wa*Math.random()),tl(N.h,J),kh(J,tt,K)}function br(N,K){N.H&&g(N.H,function(J,tt){ve(K,tt,J)}),N.l&&md({},function(J,tt){ve(K,tt,J)})}function Dd(N,K,J){J=Math.min(N.i.length,J);var tt=N.l?a(N.l.Na,N.l,N):null;t:{var at=N.i;let ct=-1;for(;;){const Tt=["count="+J];ct==-1?0<J?(ct=at[0].g,Tt.push("ofs="+ct)):ct=0:Tt.push("ofs="+ct);let ue=!0;for(let De=0;De<J;De++){let _t=at[De].g;const Ue=at[De].map;if(_t-=ct,0>_t)ct=Math.max(0,at[De].g-100),ue=!1;else try{Ty(Ue,Tt,"req"+_t+"_")}catch{tt&&tt(Ue)}}if(ue){tt=Tt.join("&");break t}}}return N=N.i.splice(0,J),K.D=N,tt}function Nd(N){if(!N.g&&!N.u){N.Y=1;var K=N.Fa;D||W(),b||(D(),b=!0),U.add(K,N),N.v=0}}function sl(N){return N.g||N.u||3<=N.v?!1:(N.Y++,N.u=Rr(a(N.Fa,N),Vd(N,N.v)),N.v++,!0)}p.Fa=function(){if(this.u=null,bd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var N=2*this.R;this.j.info("BP detection timer enabled: "+N),this.A=Rr(a(this.ab,this),N)}},p.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Qa(this),bd(this))};function nl(N){N.A!=null&&(S.clearTimeout(N.A),N.A=null)}function bd(N){N.g=new As(N,N.j,"rpc",N.Y),N.m===null&&(N.g.H=N.o),N.g.O=0;var K=ts(N.qa);ve(K,"RID","rpc"),ve(K,"SID",N.K),ve(K,"AID",N.T),ve(K,"CI",N.F?"0":"1"),!N.F&&N.ja&&ve(K,"TO",N.ja),ve(K,"TYPE","xmlhttp"),br(N,K),N.m&&N.o&&el(K,N.m,N.o),N.L&&(N.g.I=N.L);var J=N.g;N=N.ia,J.L=1,J.v=Ha(ts(K)),J.m=null,J.P=!0,hd(J,N)}p.Za=function(){this.C!=null&&(this.C=null,Qa(this),sl(this),ke(19))};function ka(N){N.C!=null&&(S.clearTimeout(N.C),N.C=null)}function Bd(N,K){var J=null;if(N.g==K){ka(N),nl(N),N.g=null;var tt=2}else if(_h(N.h,K))J=K.D,vd(N.h,K),tt=1;else return;if(N.G!=0){if(K.o)if(tt==1){J=K.m?K.m.length:0,K=Date.now()-K.F;var at=N.B;tt=Ga(),Ct(tt,new nd(tt,J)),Ja(N)}else Nd(N);else if(at=K.s,at==3||at==0&&0<K.X||!(tt==1&&Ay(N,K)||tt==2&&sl(N)))switch(J&&0<J.length&&(K=N.h,K.i=K.i.concat(J)),at){case 1:on(N,5);break;case 4:on(N,10);break;case 3:on(N,6);break;default:on(N,2)}}}function Vd(N,K){let J=N.Ta+Math.floor(Math.random()*N.cb);return N.isActive()||(J*=2),J*K}function on(N,K){if(N.j.info("Error code "+K),K==2){var J=a(N.fb,N),tt=N.Xa;const at=!tt;tt=new an(tt||"//www.google.com/images/cleardot.gif"),S.location&&S.location.protocol=="http"||Wa(tt,"https"),Ha(tt),at?gy(tt.toString(),J):xy(tt.toString(),J)}else ke(2);N.G=0,N.l&&N.l.sa(K),Gd(N),Fd(N)}p.fb=function(N){N?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Gd(N){if(N.G=0,N.ka=[],N.l){const K=pd(N.h);(K.length!=0||N.i.length!=0)&&(l(N.ka,K),l(N.ka,N.i),N.h.i.length=0,n(N.i),N.i.length=0),N.l.ra()}}function Ud(N,K,J){var tt=J instanceof an?ts(J):new an(J);if(tt.g!="")K&&(tt.g=K+"."+tt.g),Ya(tt,tt.s);else{var at=S.location;tt=at.protocol,K=K?K+"."+at.hostname:at.hostname,at=+at.port;var ct=new an(null);tt&&Wa(ct,tt),K&&(ct.g=K),at&&Ya(ct,at),J&&(ct.l=J),tt=ct}return J=N.D,K=N.ya,J&&K&&ve(tt,J,K),ve(tt,"VER",N.la),br(N,tt),tt}function zd(N,K,J){if(K&&!N.J)throw Error("Can't create secondary domain capable XhrIo object.");return K=N.Ca&&!N.pa?new ye(new Ka({eb:J})):new ye(N.pa),K.Ha(N.J),K}p.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xd(){}p=Xd.prototype,p.ua=function(){},p.ta=function(){},p.sa=function(){},p.ra=function(){},p.isActive=function(){return!0},p.Na=function(){};function Za(){}Za.prototype.g=function(N,K){return new ci(N,K)};function ci(N,K){yt.call(this),this.g=new Ld(K),this.l=N,this.h=K&&K.messageUrlParams||null,N=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(N?N["X-WebChannel-Content-Type"]=K.messageContentType:N={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.va&&(N?N["X-WebChannel-Client-Profile"]=K.va:N={"X-WebChannel-Client-Profile":K.va}),this.g.S=N,(N=K&&K.Sb)&&!u(N)&&(this.g.m=N),this.v=K&&K.supportsCrossDomainXhr||!1,this.u=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!u(K)&&(this.g.D=K,N=this.h,N!==null&&K in N&&(N=this.h,K in N&&delete N[K])),this.j=new Un(this)}i(ci,yt),ci.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ci.prototype.close=function(){il(this.g)},ci.prototype.o=function(N){var K=this.g;if(typeof N=="string"){var J={};J.__data__=N,N=J}else this.u&&(J={},J.__data__=jt(N),N=J);K.i.push(new oy(K.Ya++,N)),K.G==3&&Ja(K)},ci.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,ci.aa.N.call(this)};function Wd(N){$h.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var K=N.__sm__;if(K){t:{for(const J in K){N=J;break t}N=void 0}(this.i=N)&&(N=this.i,K=K!==null&&N in K?K[N]:void 0),this.data=K}else this.data=N}i(Wd,$h);function Yd(){jh.call(this),this.status=1}i(Yd,jh);function Un(N){this.g=N}i(Un,Xd),Un.prototype.ua=function(){Ct(this.g,"a")},Un.prototype.ta=function(N){Ct(this.g,new Wd(N))},Un.prototype.sa=function(N){Ct(this.g,new Yd)},Un.prototype.ra=function(){Ct(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,ci.prototype.send=ci.prototype.o,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,xg=function(){return new Za},gg=function(){return Ga()},mg=nn,iu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,xo=Ua,rd.COMPLETE="complete",pg=rd,Gi.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ur=Gi,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,vg=ye}).apply(typeof ro<"u"?ro:typeof self<"u"?self:typeof window<"u"?window:{});const Qc="@firebase/firestore",Jc="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gr="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Ah("@firebase/firestore");function Hn(){return An.logLevel}function Pt(p,...e){if(An.logLevel<=Wt.DEBUG){const m=e.map(ju);An.debug(`Firestore (${gr}): ${p}`,...m)}}function xs(p,...e){if(An.logLevel<=Wt.ERROR){const m=e.map(ju);An.error(`Firestore (${gr}): ${p}`,...m)}}function ar(p,...e){if(An.logLevel<=Wt.WARN){const m=e.map(ju);An.warn(`Firestore (${gr}): ${p}`,...m)}}function ju(p){if(typeof p=="string")return p;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(m){return JSON.stringify(m)}(p)}catch{return p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(p="Unexpected state"){const e=`FIRESTORE (${gr}) INTERNAL ASSERTION FAILED: `+p;throw xs(e),new Error(e)}function se(p,e){p||Dt()}function Bt(p,e){return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Bi{constructor(e,m){super(e,m),this.code=e,this.message=m,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((e,m)=>{this.resolve=e,this.reject=m})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,m){this.user=m,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,m){e.enqueueRetryable(()=>m(We.UNAUTHENTICATED))}shutdown(){}}class mC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,m){this.changeListener=m,e.enqueueRetryable(()=>m(this.token.user))}shutdown(){this.changeListener=null}}class gC{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,m){se(this.o===void 0);let C=this.i;const R=t=>this.i!==C?(C=this.i,m(t)):Promise.resolve();let M=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new ps,e.enqueueRetryable(()=>R(this.currentUser))};const d=()=>{const t=M;e.enqueueRetryable(async()=>{await t.promise,await R(this.currentUser)})},S=t=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(t=>S(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?S(t):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),M.resolve(),M=new ps)}},0),d()}getToken(){const e=this.i,m=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(m).then(C=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):C?(se(typeof C.accessToken=="string"),new yg(C.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new We(e)}}class xC{constructor(e,m,C){this.l=e,this.h=m,this.P=C,this.type="FirstParty",this.user=We.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yC{constructor(e,m,C){this.l=e,this.h=m,this.P=C}getToken(){return Promise.resolve(new xC(this.l,this.h,this.P))}start(e,m){e.enqueueRetryable(()=>m(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(e,m){this.A=m,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ri(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,m){se(this.o===void 0);const C=M=>{M.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${M.error.message}`);const d=M.token!==this.R;return this.R=M.token,Pt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?m(M.token):Promise.resolve()};this.o=M=>{e.enqueueRetryable(()=>C(M))};const R=M=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=M,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(M=>R(M)),setTimeout(()=>{if(!this.appCheck){const M=this.A.getImmediate({optional:!0});M?R(M):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new kc(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(m=>m?(se(typeof m.token=="string"),this.R=m.token,new kc(m.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(p){const e=typeof self<"u"&&(self.crypto||self.msCrypto),m=new Uint8Array(p);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(m);else for(let C=0;C<p;C++)m[C]=Math.floor(256*Math.random());return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m=62*Math.floor(4.129032258064516);let C="";for(;C.length<20;){const R=EC(40);for(let M=0;M<R.length;++M)C.length<20&&R[M]<m&&(C+=e.charAt(R[M]%62))}return C}}function Kt(p,e){return p<e?-1:p>e?1:0}function or(p,e,m){return p.length===e.length&&p.every((C,R)=>m(C,e[R]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-62135596800,qc=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const m=Math.floor(e/1e3),C=Math.floor((e-1e3*m)*qc);return new we(m,C)}constructor(e,m){if(this.seconds=e,this.nanoseconds=m,m<0)throw new At(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+m);if(m>=1e9)throw new At(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+m);if(e<Zc)throw new At(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qc}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new we(0,0))}static max(){return new Vt(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c="__name__";class Xi{constructor(e,m,C){m===void 0?m=0:m>e.length&&Dt(),C===void 0?C=e.length-m:C>e.length-m&&Dt(),this.segments=e,this.offset=m,this.len=C}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const m=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach(C=>{m.push(C)}):m.push(e),this.construct(m)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let m=0;m<this.length;m++)if(this.get(m)!==e.get(m))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let m=0;m<this.length;m++)if(this.get(m)!==e.get(m))return!1;return!0}forEach(e){for(let m=this.offset,C=this.limit();m<C;m++)e(this.segments[m])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,m){const C=Math.min(e.length,m.length);for(let R=0;R<C;R++){const M=Xi.compareSegments(e.get(R),m.get(R));if(M!==0)return M}return Math.sign(e.length-m.length)}static compareSegments(e,m){const C=Xi.isNumericId(e),R=Xi.isNumericId(m);return C&&!R?-1:!C&&R?1:C&&R?Xi.extractNumericId(e).compare(Xi.extractNumericId(m)):e<m?-1:e>m?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class pe extends Xi{construct(e,m,C){return new pe(e,m,C)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const m=[];for(const C of e){if(C.indexOf("//")>=0)throw new At(vt.INVALID_ARGUMENT,`Invalid segment (${C}). Paths must not contain // in them.`);m.push(...C.split("/").filter(R=>R.length>0))}return new pe(m)}static emptyPath(){return new pe([])}}const SC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Xi{construct(e,m,C){return new Be(e,m,C)}static isValidIdentifier(e){return SC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_c}static keyField(){return new Be([_c])}static fromServerFormat(e){const m=[];let C="",R=0;const M=()=>{if(C.length===0)throw new At(vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);m.push(C),C=""};let d=!1;for(;R<e.length;){const S=e[R];if(S==="\\"){if(R+1===e.length)throw new At(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[R+1];if(t!=="\\"&&t!=="."&&t!=="`")throw new At(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);C+=t,R+=2}else S==="`"?(d=!d,R++):S!=="."||d?(C+=S,R++):(M(),R++)}if(M(),d)throw new At(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(m)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.path=e}static fromPath(e){return new Lt(pe.fromString(e))}static fromName(e){return new Lt(pe.fromString(e).popFirst(5))}static empty(){return new Lt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,m){return pe.comparator(e.path,m.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lt(new pe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=-1;function CC(p,e){const m=p.toTimestamp().seconds,C=p.toTimestamp().nanoseconds+1,R=Vt.fromTimestamp(C===1e9?new we(m+1,0):new we(m,C));return new Hs(R,Lt.empty(),e)}function AC(p){return new Hs(p.readTime,p.key,pa)}class Hs{constructor(e,m,C){this.readTime=e,this.documentKey=m,this.largestBatchId=C}static min(){return new Hs(Vt.min(),Lt.empty(),pa)}static max(){return new Hs(Vt.max(),Lt.empty(),pa)}}function PC(p,e){let m=p.readTime.compareTo(e.readTime);return m!==0?m:(m=Lt.comparator(p.documentKey,e.documentKey),m!==0?m:Kt(p.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xr(p){if(p.code!==vt.FAILED_PRECONDITION||p.message!==RC)throw p;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(m=>{this.isDone=!0,this.result=m,this.nextCallback&&this.nextCallback(m)},m=>{this.isDone=!0,this.error=m,this.catchCallback&&this.catchCallback(m)})}catch(e){return this.next(void 0,e)}next(e,m){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(m,this.error):this.wrapSuccess(e,this.result):new pt((C,R)=>{this.nextCallback=M=>{this.wrapSuccess(e,M).next(C,R)},this.catchCallback=M=>{this.wrapFailure(m,M).next(C,R)}})}toPromise(){return new Promise((e,m)=>{this.next(e,m)})}wrapUserFunction(e){try{const m=e();return m instanceof pt?m:pt.resolve(m)}catch(m){return pt.reject(m)}}wrapSuccess(e,m){return e?this.wrapUserFunction(()=>e(m)):pt.resolve(m)}wrapFailure(e,m){return e?this.wrapUserFunction(()=>e(m)):pt.reject(m)}static resolve(e){return new pt((m,C)=>{m(e)})}static reject(e){return new pt((m,C)=>{C(e)})}static waitFor(e){return new pt((m,C)=>{let R=0,M=0,d=!1;e.forEach(S=>{++R,S.next(()=>{++M,d&&M===R&&m()},t=>C(t))}),d=!0,M===R&&m()})}static or(e){let m=pt.resolve(!1);for(const C of e)m=m.next(R=>R?pt.resolve(R):C());return m}static forEach(e,m){const C=[];return e.forEach((R,M)=>{C.push(m.call(this,R,M))}),this.waitFor(C)}static mapArray(e,m){return new pt((C,R)=>{const M=e.length,d=new Array(M);let S=0;for(let t=0;t<M;t++){const h=t;m(e[h]).next(x=>{d[h]=x,++S,S===M&&C(d)},x=>R(x))}})}static doWhile(e,m){return new pt((C,R)=>{const M=()=>{e()===!0?m().next(()=>{M()},R):C()};M()})}}function MC(p){const e=p.match(/Android ([\d.]+)/i),m=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(m)}function yr(p){return p.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,m){this.previousValue=e,m&&(m.sequenceNumberHandler=C=>this.oe(C),this._e=C=>m.writeSequenceNumber(C))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function Rh(p){return p==null}function zo(p){return p===0&&1/p==-1/0}function IC(p){return typeof p=="number"&&Number.isInteger(p)&&!zo(p)&&p<=Number.MAX_SAFE_INTEGER&&p>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="";function LC(p){let e="";for(let m=0;m<p.length;m++)e.length>0&&(e=tv(e)),e=FC(p.get(m),e);return tv(e)}function FC(p,e){let m=e;const C=p.length;for(let R=0;R<C;R++){const M=p.charAt(R);switch(M){case"\0":m+="";break;case Eg:m+="";break;default:m+=M}}return m}function tv(p){return p+Eg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(p){let e=0;for(const m in p)Object.prototype.hasOwnProperty.call(p,m)&&e++;return e}function tn(p,e){for(const m in p)Object.prototype.hasOwnProperty.call(p,m)&&e(m,p[m])}function Sg(p){for(const e in p)if(Object.prototype.hasOwnProperty.call(p,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,m){this.comparator=e,this.root=m||be.EMPTY}insert(e,m){return new xe(this.comparator,this.root.insert(e,m,this.comparator).copy(null,null,be.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,be.BLACK,null,null))}get(e){let m=this.root;for(;!m.isEmpty();){const C=this.comparator(e,m.key);if(C===0)return m.value;C<0?m=m.left:C>0&&(m=m.right)}return null}indexOf(e){let m=0,C=this.root;for(;!C.isEmpty();){const R=this.comparator(e,C.key);if(R===0)return m+C.left.size;R<0?C=C.left:(m+=C.left.size+1,C=C.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((m,C)=>(e(m,C),!1))}toString(){const e=[];return this.inorderTraversal((m,C)=>(e.push(`${m}:${C}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ao(this.root,e,this.comparator,!0)}}class ao{constructor(e,m,C,R){this.isReverse=R,this.nodeStack=[];let M=1;for(;!e.isEmpty();)if(M=m?C(e.key,m):1,m&&R&&(M*=-1),M<0)e=this.isReverse?e.left:e.right;else{if(M===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const m={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return m}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class be{constructor(e,m,C,R,M){this.key=e,this.value=m,this.color=C??be.RED,this.left=R??be.EMPTY,this.right=M??be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,m,C,R,M){return new be(e??this.key,m??this.value,C??this.color,R??this.left,M??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,m,C){let R=this;const M=C(e,R.key);return R=M<0?R.copy(null,null,null,R.left.insert(e,m,C),null):M===0?R.copy(null,m,null,null,null):R.copy(null,null,null,null,R.right.insert(e,m,C)),R.fixUp()}removeMin(){if(this.left.isEmpty())return be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,m){let C,R=this;if(m(e,R.key)<0)R.left.isEmpty()||R.left.isRed()||R.left.left.isRed()||(R=R.moveRedLeft()),R=R.copy(null,null,null,R.left.remove(e,m),null);else{if(R.left.isRed()&&(R=R.rotateRight()),R.right.isEmpty()||R.right.isRed()||R.right.left.isRed()||(R=R.moveRedRight()),m(e,R.key)===0){if(R.right.isEmpty())return be.EMPTY;C=R.right.min(),R=R.copy(C.key,C.value,null,null,R.right.removeMin())}R=R.copy(null,null,null,null,R.right.remove(e,m))}return R.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),m=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,m)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}be.EMPTY=null,be.RED=!0,be.BLACK=!1;be.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,m,C,R,M){return this}insert(e,m,C){return new be(e,m)}remove(e,m){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((m,C)=>(e(m),!1))}forEachInRange(e,m){const C=this.data.getIteratorFrom(e[0]);for(;C.hasNext();){const R=C.getNext();if(this.comparator(R.key,e[1])>=0)return;m(R.key)}}forEachWhile(e,m){let C;for(C=m!==void 0?this.data.getIteratorFrom(m):this.data.getIterator();C.hasNext();)if(!e(C.getNext().key))return}firstAfterOrEqual(e){const m=this.data.getIteratorFrom(e);return m.hasNext()?m.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(e){return new iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let m=this;return m.size<e.size&&(m=e,e=this),e.forEach(C=>{m=m.add(C)}),m}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const m=this.data.getIterator(),C=e.data.getIterator();for(;m.hasNext();){const R=m.getNext().key,M=C.getNext().key;if(this.comparator(R,M)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(m=>{e.push(m)}),e}toString(){const e=[];return this.forEach(m=>e.push(m)),"SortedSet("+e.toString()+")"}copy(e){const m=new Me(this.comparator);return m.data=e,m}}class iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new pi([])}unionWith(e){let m=new Me(Be.comparator);for(const C of this.fields)m=m.add(C);for(const C of e)m=m.add(C);return new pi(m.toArray())}covers(e){for(const m of this.fields)if(m.isPrefixOf(e))return!0;return!1}isEqual(e){return or(this.fields,e.fields,(m,C)=>m.isEqual(C))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const m=function(R){try{return atob(R)}catch(M){throw typeof DOMException<"u"&&M instanceof DOMException?new Cg("Invalid base64 string: "+M):M}}(e);return new Ge(m)}static fromUint8Array(e){const m=function(R){let M="";for(let d=0;d<R.length;++d)M+=String.fromCharCode(R[d]);return M}(e);return new Ge(m)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(m){return btoa(m)}(this.binaryString)}toUint8Array(){return function(m){const C=new Uint8Array(m.length);for(let R=0;R<m.length;R++)C[R]=m.charCodeAt(R);return C}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const OC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(p){if(se(!!p),typeof p=="string"){let e=0;const m=OC.exec(p);if(se(!!m),m[1]){let R=m[1];R=(R+"000000000").substr(0,9),e=Number(R)}const C=new Date(p);return{seconds:Math.floor(C.getTime()/1e3),nanos:e}}return{seconds:Ee(p.seconds),nanos:Ee(p.nanos)}}function Ee(p){return typeof p=="number"?p:typeof p=="string"?Number(p):0}function $s(p){return typeof p=="string"?Ge.fromBase64String(p):Ge.fromUint8Array(p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="server_timestamp",Pg="__type__",Rg="__previous_value__",wg="__local_write_time__";function Ju(p){var e,m;return((m=(((e=p==null?void 0:p.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pg])===null||m===void 0?void 0:m.stringValue)===Ag}function wh(p){const e=p.mapValue.fields[Rg];return Ju(e)?wh(e):e}function ma(p){const e=Ks(p.mapValue.fields[wg].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,m,C,R,M,d,S,t,h){this.databaseId=e,this.appId=m,this.persistenceKey=C,this.host=R,this.ssl=M,this.forceLongPolling=d,this.autoDetectLongPolling=S,this.longPollingOptions=t,this.useFetchStreams=h}}const ga="(default)";class xa{constructor(e,m){this.projectId=e,this.database=m||ga}static empty(){return new xa("","")}get isDefaultDatabase(){return this.database===ga}isEqual(e){return e instanceof xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="__type__",NC="__max__",oo={mapValue:{}},Ig="__vector__",Xo="value";function js(p){return"nullValue"in p?0:"booleanValue"in p?1:"integerValue"in p||"doubleValue"in p?2:"timestampValue"in p?3:"stringValue"in p?5:"bytesValue"in p?6:"referenceValue"in p?7:"geoPointValue"in p?8:"arrayValue"in p?9:"mapValue"in p?Ju(p)?4:BC(p)?9007199254740991:bC(p)?10:11:Dt()}function Zi(p,e){if(p===e)return!0;const m=js(p);if(m!==js(e))return!1;switch(m){case 0:case 9007199254740991:return!0;case 1:return p.booleanValue===e.booleanValue;case 4:return ma(p).isEqual(ma(e));case 3:return function(R,M){if(typeof R.timestampValue=="string"&&typeof M.timestampValue=="string"&&R.timestampValue.length===M.timestampValue.length)return R.timestampValue===M.timestampValue;const d=Ks(R.timestampValue),S=Ks(M.timestampValue);return d.seconds===S.seconds&&d.nanos===S.nanos}(p,e);case 5:return p.stringValue===e.stringValue;case 6:return function(R,M){return $s(R.bytesValue).isEqual($s(M.bytesValue))}(p,e);case 7:return p.referenceValue===e.referenceValue;case 8:return function(R,M){return Ee(R.geoPointValue.latitude)===Ee(M.geoPointValue.latitude)&&Ee(R.geoPointValue.longitude)===Ee(M.geoPointValue.longitude)}(p,e);case 2:return function(R,M){if("integerValue"in R&&"integerValue"in M)return Ee(R.integerValue)===Ee(M.integerValue);if("doubleValue"in R&&"doubleValue"in M){const d=Ee(R.doubleValue),S=Ee(M.doubleValue);return d===S?zo(d)===zo(S):isNaN(d)&&isNaN(S)}return!1}(p,e);case 9:return or(p.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return function(R,M){const d=R.mapValue.fields||{},S=M.mapValue.fields||{};if(ev(d)!==ev(S))return!1;for(const t in d)if(d.hasOwnProperty(t)&&(S[t]===void 0||!Zi(d[t],S[t])))return!1;return!0}(p,e);default:return Dt()}}function ya(p,e){return(p.values||[]).find(m=>Zi(m,e))!==void 0}function hr(p,e){if(p===e)return 0;const m=js(p),C=js(e);if(m!==C)return Kt(m,C);switch(m){case 0:case 9007199254740991:return 0;case 1:return Kt(p.booleanValue,e.booleanValue);case 2:return function(M,d){const S=Ee(M.integerValue||M.doubleValue),t=Ee(d.integerValue||d.doubleValue);return S<t?-1:S>t?1:S===t?0:isNaN(S)?isNaN(t)?0:-1:1}(p,e);case 3:return sv(p.timestampValue,e.timestampValue);case 4:return sv(ma(p),ma(e));case 5:return Kt(p.stringValue,e.stringValue);case 6:return function(M,d){const S=$s(M),t=$s(d);return S.compareTo(t)}(p.bytesValue,e.bytesValue);case 7:return function(M,d){const S=M.split("/"),t=d.split("/");for(let h=0;h<S.length&&h<t.length;h++){const x=Kt(S[h],t[h]);if(x!==0)return x}return Kt(S.length,t.length)}(p.referenceValue,e.referenceValue);case 8:return function(M,d){const S=Kt(Ee(M.latitude),Ee(d.latitude));return S!==0?S:Kt(Ee(M.longitude),Ee(d.longitude))}(p.geoPointValue,e.geoPointValue);case 9:return nv(p.arrayValue,e.arrayValue);case 10:return function(M,d){var S,t,h,x;const o=M.fields||{},a=d.fields||{},r=(S=o[Xo])===null||S===void 0?void 0:S.arrayValue,i=(t=a[Xo])===null||t===void 0?void 0:t.arrayValue,n=Kt(((h=r==null?void 0:r.values)===null||h===void 0?void 0:h.length)||0,((x=i==null?void 0:i.values)===null||x===void 0?void 0:x.length)||0);return n!==0?n:nv(r,i)}(p.mapValue,e.mapValue);case 11:return function(M,d){if(M===oo.mapValue&&d===oo.mapValue)return 0;if(M===oo.mapValue)return 1;if(d===oo.mapValue)return-1;const S=M.fields||{},t=Object.keys(S),h=d.fields||{},x=Object.keys(h);t.sort(),x.sort();for(let o=0;o<t.length&&o<x.length;++o){const a=Kt(t[o],x[o]);if(a!==0)return a;const r=hr(S[t[o]],h[x[o]]);if(r!==0)return r}return Kt(t.length,x.length)}(p.mapValue,e.mapValue);default:throw Dt()}}function sv(p,e){if(typeof p=="string"&&typeof e=="string"&&p.length===e.length)return Kt(p,e);const m=Ks(p),C=Ks(e),R=Kt(m.seconds,C.seconds);return R!==0?R:Kt(m.nanos,C.nanos)}function nv(p,e){const m=p.values||[],C=e.values||[];for(let R=0;R<m.length&&R<C.length;++R){const M=hr(m[R],C[R]);if(M)return M}return Kt(m.length,C.length)}function lr(p){return su(p)}function su(p){return"nullValue"in p?"null":"booleanValue"in p?""+p.booleanValue:"integerValue"in p?""+p.integerValue:"doubleValue"in p?""+p.doubleValue:"timestampValue"in p?function(m){const C=Ks(m);return`time(${C.seconds},${C.nanos})`}(p.timestampValue):"stringValue"in p?p.stringValue:"bytesValue"in p?function(m){return $s(m).toBase64()}(p.bytesValue):"referenceValue"in p?function(m){return Lt.fromName(m).toString()}(p.referenceValue):"geoPointValue"in p?function(m){return`geo(${m.latitude},${m.longitude})`}(p.geoPointValue):"arrayValue"in p?function(m){let C="[",R=!0;for(const M of m.values||[])R?R=!1:C+=",",C+=su(M);return C+"]"}(p.arrayValue):"mapValue"in p?function(m){const C=Object.keys(m.fields||{}).sort();let R="{",M=!0;for(const d of C)M?M=!1:R+=",",R+=`${d}:${su(m.fields[d])}`;return R+"}"}(p.mapValue):Dt()}function yo(p){switch(js(p)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(p);return e?16+yo(e):16;case 5:return 2*p.stringValue.length;case 6:return $s(p.bytesValue).approximateByteSize();case 7:return p.referenceValue.length;case 9:return function(C){return(C.values||[]).reduce((R,M)=>R+yo(M),0)}(p.arrayValue);case 10:case 11:return function(C){let R=0;return tn(C.fields,(M,d)=>{R+=M.length+yo(d)}),R}(p.mapValue);default:throw Dt()}}function rv(p,e){return{referenceValue:`projects/${p.projectId}/databases/${p.database}/documents/${e.path.canonicalString()}`}}function nu(p){return!!p&&"integerValue"in p}function ku(p){return!!p&&"arrayValue"in p}function av(p){return!!p&&"nullValue"in p}function ov(p){return!!p&&"doubleValue"in p&&isNaN(Number(p.doubleValue))}function To(p){return!!p&&"mapValue"in p}function bC(p){var e,m;return((m=(((e=p==null?void 0:p.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mg])===null||m===void 0?void 0:m.stringValue)===Ig}function qr(p){if(p.geoPointValue)return{geoPointValue:Object.assign({},p.geoPointValue)};if(p.timestampValue&&typeof p.timestampValue=="object")return{timestampValue:Object.assign({},p.timestampValue)};if(p.mapValue){const e={mapValue:{fields:{}}};return tn(p.mapValue.fields,(m,C)=>e.mapValue.fields[m]=qr(C)),e}if(p.arrayValue){const e={arrayValue:{values:[]}};for(let m=0;m<(p.arrayValue.values||[]).length;++m)e.arrayValue.values[m]=qr(p.arrayValue.values[m]);return e}return Object.assign({},p)}function BC(p){return(((p.mapValue||{}).fields||{}).__type__||{}).stringValue===NC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let m=this.value;for(let C=0;C<e.length-1;++C)if(m=(m.mapValue.fields||{})[e.get(C)],!To(m))return null;return m=(m.mapValue.fields||{})[e.lastSegment()],m||null}}set(e,m){this.getFieldsMap(e.popLast())[e.lastSegment()]=qr(m)}setAll(e){let m=Be.emptyPath(),C={},R=[];e.forEach((d,S)=>{if(!m.isImmediateParentOf(S)){const t=this.getFieldsMap(m);this.applyChanges(t,C,R),C={},R=[],m=S.popLast()}d?C[S.lastSegment()]=qr(d):R.push(S.lastSegment())});const M=this.getFieldsMap(m);this.applyChanges(M,C,R)}delete(e){const m=this.field(e.popLast());To(m)&&m.mapValue.fields&&delete m.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let m=this.value;m.mapValue.fields||(m.mapValue={fields:{}});for(let C=0;C<e.length;++C){let R=m.mapValue.fields[e.get(C)];To(R)&&R.mapValue.fields||(R={mapValue:{fields:{}}},m.mapValue.fields[e.get(C)]=R),m=R}return m.mapValue.fields}applyChanges(e,m,C){tn(m,(R,M)=>e[R]=M);for(const R of C)delete e[R]}clone(){return new hi(qr(this.value))}}function Lg(p){const e=[];return tn(p.fields,(m,C)=>{const R=new Be([m]);if(To(C)){const M=Lg(C.mapValue).fields;if(M.length===0)e.push(R);else for(const d of M)e.push(R.child(d))}else e.push(R)}),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,m,C,R,M,d,S){this.key=e,this.documentType=m,this.version=C,this.readTime=R,this.createTime=M,this.data=d,this.documentState=S}static newInvalidDocument(e){return new Ke(e,0,Vt.min(),Vt.min(),Vt.min(),hi.empty(),0)}static newFoundDocument(e,m,C,R){return new Ke(e,1,m,Vt.min(),C,R,0)}static newNoDocument(e,m){return new Ke(e,2,m,Vt.min(),Vt.min(),hi.empty(),0)}static newUnknownDocument(e,m){return new Ke(e,3,m,Vt.min(),Vt.min(),hi.empty(),2)}convertToFoundDocument(e,m){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=m,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,m){this.position=e,this.inclusive=m}}function hv(p,e,m){let C=0;for(let R=0;R<p.position.length;R++){const M=e[R],d=p.position[R];if(M.field.isKeyField()?C=Lt.comparator(Lt.fromName(d.referenceValue),m.key):C=hr(d,m.data.field(M.field)),M.dir==="desc"&&(C*=-1),C!==0)break}return C}function lv(p,e){if(p===null)return e===null;if(e===null||p.inclusive!==e.inclusive||p.position.length!==e.position.length)return!1;for(let m=0;m<p.position.length;m++)if(!Zi(p.position[m],e.position[m]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,m="asc"){this.field=e,this.dir=m}}function VC(p,e){return p.dir===e.dir&&p.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{}class Ae extends Fg{constructor(e,m,C){super(),this.field=e,this.op=m,this.value=C}static create(e,m,C){return e.isKeyField()?m==="in"||m==="not-in"?this.createKeyFieldInFilter(e,m,C):new UC(e,m,C):m==="array-contains"?new WC(e,C):m==="in"?new YC(e,C):m==="not-in"?new HC(e,C):m==="array-contains-any"?new KC(e,C):new Ae(e,m,C)}static createKeyFieldInFilter(e,m,C){return m==="in"?new zC(e,C):new XC(e,C)}matches(e){const m=e.data.field(this.field);return this.op==="!="?m!==null&&this.matchesComparison(hr(m,this.value)):m!==null&&js(this.value)===js(m)&&this.matchesComparison(hr(m,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends Fg{constructor(e,m){super(),this.filters=e,this.op=m,this.ce=null}static create(e,m){return new Ni(e,m)}matches(e){return Og(this)?this.filters.find(m=>!m.matches(e))===void 0:this.filters.find(m=>m.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,m)=>e.concat(m.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Og(p){return p.op==="and"}function Dg(p){return GC(p)&&Og(p)}function GC(p){for(const e of p.filters)if(e instanceof Ni)return!1;return!0}function ru(p){if(p instanceof Ae)return p.field.canonicalString()+p.op.toString()+lr(p.value);if(Dg(p))return p.filters.map(e=>ru(e)).join(",");{const e=p.filters.map(m=>ru(m)).join(",");return`${p.op}(${e})`}}function Ng(p,e){return p instanceof Ae?function(C,R){return R instanceof Ae&&C.op===R.op&&C.field.isEqual(R.field)&&Zi(C.value,R.value)}(p,e):p instanceof Ni?function(C,R){return R instanceof Ni&&C.op===R.op&&C.filters.length===R.filters.length?C.filters.reduce((M,d,S)=>M&&Ng(d,R.filters[S]),!0):!1}(p,e):void Dt()}function bg(p){return p instanceof Ae?function(m){return`${m.field.canonicalString()} ${m.op} ${lr(m.value)}`}(p):p instanceof Ni?function(m){return m.op.toString()+" {"+m.getFilters().map(bg).join(" ,")+"}"}(p):"Filter"}class UC extends Ae{constructor(e,m,C){super(e,m,C),this.key=Lt.fromName(C.referenceValue)}matches(e){const m=Lt.comparator(e.key,this.key);return this.matchesComparison(m)}}class zC extends Ae{constructor(e,m){super(e,"in",m),this.keys=Bg("in",m)}matches(e){return this.keys.some(m=>m.isEqual(e.key))}}class XC extends Ae{constructor(e,m){super(e,"not-in",m),this.keys=Bg("not-in",m)}matches(e){return!this.keys.some(m=>m.isEqual(e.key))}}function Bg(p,e){var m;return(((m=e.arrayValue)===null||m===void 0?void 0:m.values)||[]).map(C=>Lt.fromName(C.referenceValue))}class WC extends Ae{constructor(e,m){super(e,"array-contains",m)}matches(e){const m=e.data.field(this.field);return ku(m)&&ya(m.arrayValue,this.value)}}class YC extends Ae{constructor(e,m){super(e,"in",m)}matches(e){const m=e.data.field(this.field);return m!==null&&ya(this.value.arrayValue,m)}}class HC extends Ae{constructor(e,m){super(e,"not-in",m)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const m=e.data.field(this.field);return m!==null&&!ya(this.value.arrayValue,m)}}class KC extends Ae{constructor(e,m){super(e,"array-contains-any",m)}matches(e){const m=e.data.field(this.field);return!(!ku(m)||!m.arrayValue.values)&&m.arrayValue.values.some(C=>ya(this.value.arrayValue,C))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,m=null,C=[],R=[],M=null,d=null,S=null){this.path=e,this.collectionGroup=m,this.orderBy=C,this.filters=R,this.limit=M,this.startAt=d,this.endAt=S,this.le=null}}function uv(p,e=null,m=[],C=[],R=null,M=null,d=null){return new $C(p,e,m,C,R,M,d)}function Zu(p){const e=Bt(p);if(e.le===null){let m=e.path.canonicalString();e.collectionGroup!==null&&(m+="|cg:"+e.collectionGroup),m+="|f:",m+=e.filters.map(C=>ru(C)).join(","),m+="|ob:",m+=e.orderBy.map(C=>function(M){return M.field.canonicalString()+M.dir}(C)).join(","),Rh(e.limit)||(m+="|l:",m+=e.limit),e.startAt&&(m+="|lb:",m+=e.startAt.inclusive?"b:":"a:",m+=e.startAt.position.map(C=>lr(C)).join(",")),e.endAt&&(m+="|ub:",m+=e.endAt.inclusive?"a:":"b:",m+=e.endAt.position.map(C=>lr(C)).join(",")),e.le=m}return e.le}function qu(p,e){if(p.limit!==e.limit||p.orderBy.length!==e.orderBy.length)return!1;for(let m=0;m<p.orderBy.length;m++)if(!VC(p.orderBy[m],e.orderBy[m]))return!1;if(p.filters.length!==e.filters.length)return!1;for(let m=0;m<p.filters.length;m++)if(!Ng(p.filters[m],e.filters[m]))return!1;return p.collectionGroup===e.collectionGroup&&!!p.path.isEqual(e.path)&&!!lv(p.startAt,e.startAt)&&lv(p.endAt,e.endAt)}function au(p){return Lt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,m=null,C=[],R=[],M=null,d="F",S=null,t=null){this.path=e,this.collectionGroup=m,this.explicitOrderBy=C,this.filters=R,this.limit=M,this.limitType=d,this.startAt=S,this.endAt=t,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jC(p,e,m,C,R,M,d,S){return new Ma(p,e,m,C,R,M,d,S)}function Mh(p){return new Ma(p)}function fv(p){return p.filters.length===0&&p.limit===null&&p.startAt==null&&p.endAt==null&&(p.explicitOrderBy.length===0||p.explicitOrderBy.length===1&&p.explicitOrderBy[0].field.isKeyField())}function Vg(p){return p.collectionGroup!==null}function _r(p){const e=Bt(p);if(e.he===null){e.he=[];const m=new Set;for(const M of e.explicitOrderBy)e.he.push(M),m.add(M.field.canonicalString());const C=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let S=new Me(Be.comparator);return d.filters.forEach(t=>{t.getFlattenedFilters().forEach(h=>{h.isInequality()&&(S=S.add(h.field))})}),S})(e).forEach(M=>{m.has(M.canonicalString())||M.isKeyField()||e.he.push(new Yo(M,C))}),m.has(Be.keyField().canonicalString())||e.he.push(new Yo(Be.keyField(),C))}return e.he}function ji(p){const e=Bt(p);return e.Pe||(e.Pe=QC(e,_r(p))),e.Pe}function QC(p,e){if(p.limitType==="F")return uv(p.path,p.collectionGroup,e,p.filters,p.limit,p.startAt,p.endAt);{e=e.map(R=>{const M=R.dir==="desc"?"asc":"desc";return new Yo(R.field,M)});const m=p.endAt?new Wo(p.endAt.position,p.endAt.inclusive):null,C=p.startAt?new Wo(p.startAt.position,p.startAt.inclusive):null;return uv(p.path,p.collectionGroup,e,p.filters,p.limit,m,C)}}function ou(p,e){const m=p.filters.concat([e]);return new Ma(p.path,p.collectionGroup,p.explicitOrderBy.slice(),m,p.limit,p.limitType,p.startAt,p.endAt)}function hu(p,e,m){return new Ma(p.path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),e,m,p.startAt,p.endAt)}function Ih(p,e){return qu(ji(p),ji(e))&&p.limitType===e.limitType}function Gg(p){return`${Zu(ji(p))}|lt:${p.limitType}`}function Kn(p){return`Query(target=${function(m){let C=m.path.canonicalString();return m.collectionGroup!==null&&(C+=" collectionGroup="+m.collectionGroup),m.filters.length>0&&(C+=`, filters: [${m.filters.map(R=>bg(R)).join(", ")}]`),Rh(m.limit)||(C+=", limit: "+m.limit),m.orderBy.length>0&&(C+=`, orderBy: [${m.orderBy.map(R=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(R)).join(", ")}]`),m.startAt&&(C+=", startAt: ",C+=m.startAt.inclusive?"b:":"a:",C+=m.startAt.position.map(R=>lr(R)).join(",")),m.endAt&&(C+=", endAt: ",C+=m.endAt.inclusive?"a:":"b:",C+=m.endAt.position.map(R=>lr(R)).join(",")),`Target(${C})`}(ji(p))}; limitType=${p.limitType})`}function Lh(p,e){return e.isFoundDocument()&&function(C,R){const M=R.key.path;return C.collectionGroup!==null?R.key.hasCollectionId(C.collectionGroup)&&C.path.isPrefixOf(M):Lt.isDocumentKey(C.path)?C.path.isEqual(M):C.path.isImmediateParentOf(M)}(p,e)&&function(C,R){for(const M of _r(C))if(!M.field.isKeyField()&&R.data.field(M.field)===null)return!1;return!0}(p,e)&&function(C,R){for(const M of C.filters)if(!M.matches(R))return!1;return!0}(p,e)&&function(C,R){return!(C.startAt&&!function(d,S,t){const h=hv(d,S,t);return d.inclusive?h<=0:h<0}(C.startAt,_r(C),R)||C.endAt&&!function(d,S,t){const h=hv(d,S,t);return d.inclusive?h>=0:h>0}(C.endAt,_r(C),R))}(p,e)}function JC(p){return p.collectionGroup||(p.path.length%2==1?p.path.lastSegment():p.path.get(p.path.length-2))}function Ug(p){return(e,m)=>{let C=!1;for(const R of _r(p)){const M=kC(R,e,m);if(M!==0)return M;C=C||R.field.isKeyField()}return 0}}function kC(p,e,m){const C=p.field.isKeyField()?Lt.comparator(e.key,m.key):function(M,d,S){const t=d.data.field(M),h=S.data.field(M);return t!==null&&h!==null?hr(t,h):Dt()}(p.field,e,m);switch(p.dir){case"asc":return C;case"desc":return-1*C;default:return Dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,m){this.mapKeyFn=e,this.equalsFn=m,this.inner={},this.innerSize=0}get(e){const m=this.mapKeyFn(e),C=this.inner[m];if(C!==void 0){for(const[R,M]of C)if(this.equalsFn(R,e))return M}}has(e){return this.get(e)!==void 0}set(e,m){const C=this.mapKeyFn(e),R=this.inner[C];if(R===void 0)return this.inner[C]=[[e,m]],void this.innerSize++;for(let M=0;M<R.length;M++)if(this.equalsFn(R[M][0],e))return void(R[M]=[e,m]);R.push([e,m]),this.innerSize++}delete(e){const m=this.mapKeyFn(e),C=this.inner[m];if(C===void 0)return!1;for(let R=0;R<C.length;R++)if(this.equalsFn(C[R][0],e))return C.length===1?delete this.inner[m]:C.splice(R,1),this.innerSize--,!0;return!1}forEach(e){tn(this.inner,(m,C)=>{for(const[R,M]of C)e(R,M)})}isEmpty(){return Sg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new xe(Lt.comparator);function ys(){return ZC}const zg=new xe(Lt.comparator);function zr(...p){let e=zg;for(const m of p)e=e.insert(m.key,m);return e}function Xg(p){let e=zg;return p.forEach((m,C)=>e=e.insert(m,C.overlayedDocument)),e}function pn(){return ta()}function Wg(){return ta()}function ta(){return new Nn(p=>p.toString(),(p,e)=>p.isEqual(e))}const qC=new xe(Lt.comparator),_C=new Me(Lt.comparator);function Yt(...p){let e=_C;for(const m of p)e=e.add(m);return e}const t2=new Me(Kt);function e2(){return t2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(p,e){if(p.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zo(e)?"-0":e}}function Yg(p){return{integerValue:""+p}}function i2(p,e){return IC(e)?Yg(e):_u(p,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function s2(p,e,m){return p instanceof Ho?function(R,M){const d={fields:{[Pg]:{stringValue:Ag},[wg]:{timestampValue:{seconds:R.seconds,nanos:R.nanoseconds}}}};return M&&Ju(M)&&(M=wh(M)),M&&(d.fields[Rg]=M),{mapValue:d}}(m,e):p instanceof Ta?Kg(p,e):p instanceof Ea?$g(p,e):function(R,M){const d=Hg(R,M),S=dv(d)+dv(R.Ie);return nu(d)&&nu(R.Ie)?Yg(S):_u(R.serializer,S)}(p,e)}function n2(p,e,m){return p instanceof Ta?Kg(p,e):p instanceof Ea?$g(p,e):m}function Hg(p,e){return p instanceof Ko?function(C){return nu(C)||function(M){return!!M&&"doubleValue"in M}(C)}(e)?e:{integerValue:0}:null}class Ho extends Fh{}class Ta extends Fh{constructor(e){super(),this.elements=e}}function Kg(p,e){const m=jg(e);for(const C of p.elements)m.some(R=>Zi(R,C))||m.push(C);return{arrayValue:{values:m}}}class Ea extends Fh{constructor(e){super(),this.elements=e}}function $g(p,e){let m=jg(e);for(const C of p.elements)m=m.filter(R=>!Zi(R,C));return{arrayValue:{values:m}}}class Ko extends Fh{constructor(e,m){super(),this.serializer=e,this.Ie=m}}function dv(p){return Ee(p.integerValue||p.doubleValue)}function jg(p){return ku(p)&&p.arrayValue.values?p.arrayValue.values.slice():[]}function r2(p,e){return p.field.isEqual(e.field)&&function(C,R){return C instanceof Ta&&R instanceof Ta||C instanceof Ea&&R instanceof Ea?or(C.elements,R.elements,Zi):C instanceof Ko&&R instanceof Ko?Zi(C.Ie,R.Ie):C instanceof Ho&&R instanceof Ho}(p.transform,e.transform)}class a2{constructor(e,m){this.version=e,this.transformResults=m}}class Mi{constructor(e,m){this.updateTime=e,this.exists=m}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eo(p,e){return p.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(p.updateTime):p.exists===void 0||p.exists===e.isFoundDocument()}class Oh{}function Qg(p,e){if(!p.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return p.isNoDocument()?new kg(p.key,Mi.none()):new Ia(p.key,p.data,Mi.none());{const m=p.data,C=hi.empty();let R=new Me(Be.comparator);for(let M of e.fields)if(!R.has(M)){let d=m.field(M);d===null&&M.length>1&&(M=M.popLast(),d=m.field(M)),d===null?C.delete(M):C.set(M,d),R=R.add(M)}return new en(p.key,C,new pi(R.toArray()),Mi.none())}}function o2(p,e,m){p instanceof Ia?function(R,M,d){const S=R.value.clone(),t=vv(R.fieldTransforms,M,d.transformResults);S.setAll(t),M.convertToFoundDocument(d.version,S).setHasCommittedMutations()}(p,e,m):p instanceof en?function(R,M,d){if(!Eo(R.precondition,M))return void M.convertToUnknownDocument(d.version);const S=vv(R.fieldTransforms,M,d.transformResults),t=M.data;t.setAll(Jg(R)),t.setAll(S),M.convertToFoundDocument(d.version,t).setHasCommittedMutations()}(p,e,m):function(R,M,d){M.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,m)}function ea(p,e,m,C){return p instanceof Ia?function(M,d,S,t){if(!Eo(M.precondition,d))return S;const h=M.value.clone(),x=pv(M.fieldTransforms,t,d);return h.setAll(x),d.convertToFoundDocument(d.version,h).setHasLocalMutations(),null}(p,e,m,C):p instanceof en?function(M,d,S,t){if(!Eo(M.precondition,d))return S;const h=pv(M.fieldTransforms,t,d),x=d.data;return x.setAll(Jg(M)),x.setAll(h),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),S===null?null:S.unionWith(M.fieldMask.fields).unionWith(M.fieldTransforms.map(o=>o.field))}(p,e,m,C):function(M,d,S){return Eo(M.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):S}(p,e,m)}function h2(p,e){let m=null;for(const C of p.fieldTransforms){const R=e.data.field(C.field),M=Hg(C.transform,R||null);M!=null&&(m===null&&(m=hi.empty()),m.set(C.field,M))}return m||null}function cv(p,e){return p.type===e.type&&!!p.key.isEqual(e.key)&&!!p.precondition.isEqual(e.precondition)&&!!function(C,R){return C===void 0&&R===void 0||!(!C||!R)&&or(C,R,(M,d)=>r2(M,d))}(p.fieldTransforms,e.fieldTransforms)&&(p.type===0?p.value.isEqual(e.value):p.type!==1||p.data.isEqual(e.data)&&p.fieldMask.isEqual(e.fieldMask))}class Ia extends Oh{constructor(e,m,C,R=[]){super(),this.key=e,this.value=m,this.precondition=C,this.fieldTransforms=R,this.type=0}getFieldMask(){return null}}class en extends Oh{constructor(e,m,C,R,M=[]){super(),this.key=e,this.data=m,this.fieldMask=C,this.precondition=R,this.fieldTransforms=M,this.type=1}getFieldMask(){return this.fieldMask}}function Jg(p){const e=new Map;return p.fieldMask.fields.forEach(m=>{if(!m.isEmpty()){const C=p.data.field(m);e.set(m,C)}}),e}function vv(p,e,m){const C=new Map;se(p.length===m.length);for(let R=0;R<m.length;R++){const M=p[R],d=M.transform,S=e.data.field(M.field);C.set(M.field,n2(d,S,m[R]))}return C}function pv(p,e,m){const C=new Map;for(const R of p){const M=R.transform,d=m.data.field(R.field);C.set(R.field,s2(M,d,e))}return C}class kg extends Oh{constructor(e,m){super(),this.key=e,this.precondition=m,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends Oh{constructor(e,m){super(),this.key=e,this.precondition=m,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,m,C,R){this.batchId=e,this.localWriteTime=m,this.baseMutations=C,this.mutations=R}applyToRemoteDocument(e,m){const C=m.mutationResults;for(let R=0;R<this.mutations.length;R++){const M=this.mutations[R];M.key.isEqual(e.key)&&o2(M,e,C[R])}}applyToLocalView(e,m){for(const C of this.baseMutations)C.key.isEqual(e.key)&&(m=ea(C,e,m,this.localWriteTime));for(const C of this.mutations)C.key.isEqual(e.key)&&(m=ea(C,e,m,this.localWriteTime));return m}applyToLocalDocumentSet(e,m){const C=Wg();return this.mutations.forEach(R=>{const M=e.get(R.key),d=M.overlayedDocument;let S=this.applyToLocalView(d,M.mutatedFields);S=m.has(R.key)?null:S;const t=Qg(d,S);t!==null&&C.set(R.key,t),d.isValidDocument()||d.convertToNoDocument(Vt.min())}),C}keys(){return this.mutations.reduce((e,m)=>e.add(m.key),Yt())}isEqual(e){return this.batchId===e.batchId&&or(this.mutations,e.mutations,(m,C)=>cv(m,C))&&or(this.baseMutations,e.baseMutations,(m,C)=>cv(m,C))}}class tf{constructor(e,m,C,R){this.batch=e,this.commitVersion=m,this.mutationResults=C,this.docVersions=R}static from(e,m,C){se(e.mutations.length===C.length);let R=function(){return qC}();const M=e.mutations;for(let d=0;d<M.length;d++)R=R.insert(M[d].key,C[d].version);return new tf(e,m,C,R)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,m){this.largestBatchId=e,this.mutation=m}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,m){this.count=e,this.unchangedNames=m}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Qt;function c2(p){switch(p){case vt.OK:return Dt();case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0;default:return Dt()}}function Zg(p){if(p===void 0)return xs("GRPC error has no .code"),vt.UNKNOWN;switch(p){case Ce.OK:return vt.OK;case Ce.CANCELLED:return vt.CANCELLED;case Ce.UNKNOWN:return vt.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return vt.INTERNAL;case Ce.UNAVAILABLE:return vt.UNAVAILABLE;case Ce.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case Ce.NOT_FOUND:return vt.NOT_FOUND;case Ce.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case Ce.ABORTED:return vt.ABORTED;case Ce.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case Ce.DATA_LOSS:return vt.DATA_LOSS;default:return Dt()}}(Qt=Ce||(Ce={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new zs([4294967295,4294967295],0);function mv(p){const e=v2().encode(p),m=new cg;return m.update(e),new Uint8Array(m.digest())}function gv(p){const e=new DataView(p.buffer),m=e.getUint32(0,!0),C=e.getUint32(4,!0),R=e.getUint32(8,!0),M=e.getUint32(12,!0);return[new zs([m,C],0),new zs([R,M],0)]}class ef{constructor(e,m,C){if(this.bitmap=e,this.padding=m,this.hashCount=C,m<0||m>=8)throw new Xr(`Invalid padding: ${m}`);if(C<0)throw new Xr(`Invalid hash count: ${C}`);if(e.length>0&&this.hashCount===0)throw new Xr(`Invalid hash count: ${C}`);if(e.length===0&&m!==0)throw new Xr(`Invalid padding when bitmap length is 0: ${m}`);this.Ee=8*e.length-m,this.de=zs.fromNumber(this.Ee)}Ae(e,m,C){let R=e.add(m.multiply(zs.fromNumber(C)));return R.compare(p2)===1&&(R=new zs([R.getBits(0),R.getBits(1)],0)),R.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const m=mv(e),[C,R]=gv(m);for(let M=0;M<this.hashCount;M++){const d=this.Ae(C,R,M);if(!this.Re(d))return!1}return!0}static create(e,m,C){const R=e%8==0?0:8-e%8,M=new Uint8Array(Math.ceil(e/8)),d=new ef(M,R,m);return C.forEach(S=>d.insert(S)),d}insert(e){if(this.Ee===0)return;const m=mv(e),[C,R]=gv(m);for(let M=0;M<this.hashCount;M++){const d=this.Ae(C,R,M);this.Ve(d)}}Ve(e){const m=Math.floor(e/8),C=e%8;this.bitmap[m]|=1<<C}}class Xr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,m,C,R,M){this.snapshotVersion=e,this.targetChanges=m,this.targetMismatches=C,this.documentUpdates=R,this.resolvedLimboDocuments=M}static createSynthesizedRemoteEventForCurrentChange(e,m,C){const R=new Map;return R.set(e,La.createSynthesizedTargetChangeForCurrentChange(e,m,C)),new Dh(Vt.min(),R,new xe(Kt),ys(),Yt())}}class La{constructor(e,m,C,R,M){this.resumeToken=e,this.current=m,this.addedDocuments=C,this.modifiedDocuments=R,this.removedDocuments=M}static createSynthesizedTargetChangeForCurrentChange(e,m,C){return new La(C,m,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,m,C,R){this.me=e,this.removedTargetIds=m,this.key=C,this.fe=R}}class qg{constructor(e,m){this.targetId=e,this.ge=m}}class _g{constructor(e,m,C=Ge.EMPTY_BYTE_STRING,R=null){this.state=e,this.targetIds=m,this.resumeToken=C,this.cause=R}}class xv{constructor(){this.pe=0,this.ye=yv(),this.we=Ge.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Yt(),m=Yt(),C=Yt();return this.ye.forEach((R,M)=>{switch(M){case 0:e=e.add(R);break;case 2:m=m.add(R);break;case 1:C=C.add(R);break;default:Dt()}}),new La(this.we,this.be,e,m,C)}Me(){this.Se=!1,this.ye=yv()}xe(e,m){this.Se=!0,this.ye=this.ye.insert(e,m)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,se(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class m2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ys(),this.$e=ho(),this.Ke=ho(),this.Ue=new xe(Kt)}We(e){for(const m of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(m,e.fe):this.ze(m,e.key,e.fe);for(const m of e.removedTargetIds)this.ze(m,e.key,e.fe)}je(e){this.forEachTarget(e,m=>{const C=this.He(m);switch(e.state){case 0:this.Je(m)&&C.Ce(e.resumeToken);break;case 1:C.Be(),C.De||C.Me(),C.Ce(e.resumeToken);break;case 2:C.Be(),C.De||this.removeTarget(m);break;case 3:this.Je(m)&&(C.Le(),C.Ce(e.resumeToken));break;case 4:this.Je(m)&&(this.Ye(m),C.Ce(e.resumeToken));break;default:Dt()}})}forEachTarget(e,m){e.targetIds.length>0?e.targetIds.forEach(m):this.qe.forEach((C,R)=>{this.Je(R)&&m(R)})}Ze(e){const m=e.targetId,C=e.ge.count,R=this.Xe(m);if(R){const M=R.target;if(au(M))if(C===0){const d=new Lt(M.path);this.ze(m,d,Ke.newNoDocument(d,Vt.min()))}else se(C===1);else{const d=this.et(m);if(d!==C){const S=this.tt(e),t=S?this.nt(S,e,d):1;if(t!==0){this.Ye(m);const h=t===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(m,h)}}}}}tt(e){const m=e.ge.unchangedNames;if(!m||!m.bits)return null;const{bits:{bitmap:C="",padding:R=0},hashCount:M=0}=m;let d,S;try{d=$s(C).toUint8Array()}catch(t){if(t instanceof Cg)return ar("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{S=new ef(d,R,M)}catch(t){return ar(t instanceof Xr?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return S.Ee===0?null:S}nt(e,m,C){return m.ge.count===C-this.st(e,m.targetId)?0:2}st(e,m){const C=this.ke.getRemoteKeysForTarget(m);let R=0;return C.forEach(M=>{const d=this.ke.it(),S=`projects/${d.projectId}/databases/${d.database}/documents/${M.path.canonicalString()}`;e.mightContain(S)||(this.ze(m,M,null),R++)}),R}ot(e){const m=new Map;this.qe.forEach((M,d)=>{const S=this.Xe(d);if(S){if(M.current&&au(S.target)){const t=new Lt(S.target.path);this._t(t).has(d)||this.ut(d,t)||this.ze(d,t,Ke.newNoDocument(t,e))}M.ve&&(m.set(d,M.Fe()),M.Me())}});let C=Yt();this.Ke.forEach((M,d)=>{let S=!0;d.forEachWhile(t=>{const h=this.Xe(t);return!h||h.purpose==="TargetPurposeLimboResolution"||(S=!1,!1)}),S&&(C=C.add(M))}),this.Qe.forEach((M,d)=>d.setReadTime(e));const R=new Dh(e,m,this.Ue,this.Qe,C);return this.Qe=ys(),this.$e=ho(),this.Ke=ho(),this.Ue=new xe(Kt),R}Ge(e,m){if(!this.Je(e))return;const C=this.ut(e,m.key)?2:0;this.He(e).xe(m.key,C),this.Qe=this.Qe.insert(m.key,m),this.$e=this.$e.insert(m.key,this._t(m.key).add(e)),this.Ke=this.Ke.insert(m.key,this.ct(m.key).add(e))}ze(e,m,C){if(!this.Je(e))return;const R=this.He(e);this.ut(e,m)?R.xe(m,1):R.Oe(m),this.Ke=this.Ke.insert(m,this.ct(m).delete(e)),this.Ke=this.Ke.insert(m,this.ct(m).add(e)),C&&(this.Qe=this.Qe.insert(m,C))}removeTarget(e){this.qe.delete(e)}et(e){const m=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+m.addedDocuments.size-m.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let m=this.qe.get(e);return m||(m=new xv,this.qe.set(e,m)),m}ct(e){let m=this.Ke.get(e);return m||(m=new Me(Kt),this.Ke=this.Ke.insert(e,m)),m}_t(e){let m=this.$e.get(e);return m||(m=new Me(Kt),this.$e=this.$e.insert(e,m)),m}Je(e){const m=this.Xe(e)!==null;return m||Pt("WatchChangeAggregator","Detected inactive target",e),m}Xe(e){const m=this.qe.get(e);return m&&m.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xv),this.ke.getRemoteKeysForTarget(e).forEach(m=>{this.ze(e,m,null)})}ut(e,m){return this.ke.getRemoteKeysForTarget(e).has(m)}}function ho(){return new xe(Lt.comparator)}function yv(){return new xe(Lt.comparator)}const g2={asc:"ASCENDING",desc:"DESCENDING"},x2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y2={and:"AND",or:"OR"};class T2{constructor(e,m){this.databaseId=e,this.useProto3Json=m}}function lu(p,e){return p.useProto3Json||Rh(e)?e:{value:e}}function $o(p,e){return p.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t0(p,e){return p.useProto3Json?e.toBase64():e.toUint8Array()}function E2(p,e){return $o(p,e.toTimestamp())}function Qi(p){return se(!!p),Vt.fromTimestamp(function(m){const C=Ks(m);return new we(C.seconds,C.nanos)}(p))}function sf(p,e){return uu(p,e).canonicalString()}function uu(p,e){const m=function(R){return new pe(["projects",R.projectId,"databases",R.database])}(p).child("documents");return e===void 0?m:m.child(e)}function e0(p){const e=pe.fromString(p);return se(a0(e)),e}function fu(p,e){return sf(p.databaseId,e.path)}function Pl(p,e){const m=e0(e);if(m.get(1)!==p.databaseId.projectId)throw new At(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+m.get(1)+" vs "+p.databaseId.projectId);if(m.get(3)!==p.databaseId.database)throw new At(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+m.get(3)+" vs "+p.databaseId.database);return new Lt(s0(m))}function i0(p,e){return sf(p.databaseId,e)}function S2(p){const e=e0(p);return e.length===4?pe.emptyPath():s0(e)}function du(p){return new pe(["projects",p.databaseId.projectId,"databases",p.databaseId.database]).canonicalString()}function s0(p){return se(p.length>4&&p.get(4)==="documents"),p.popFirst(5)}function Tv(p,e,m){return{name:fu(p,e),fields:m.value.mapValue.fields}}function C2(p,e){let m;if("targetChange"in e){e.targetChange;const C=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),R=e.targetChange.targetIds||[],M=function(h,x){return h.useProto3Json?(se(x===void 0||typeof x=="string"),Ge.fromBase64String(x||"")):(se(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Ge.fromUint8Array(x||new Uint8Array))}(p,e.targetChange.resumeToken),d=e.targetChange.cause,S=d&&function(h){const x=h.code===void 0?vt.UNKNOWN:Zg(h.code);return new At(x,h.message||"")}(d);m=new _g(C,R,M,S||null)}else if("documentChange"in e){e.documentChange;const C=e.documentChange;C.document,C.document.name,C.document.updateTime;const R=Pl(p,C.document.name),M=Qi(C.document.updateTime),d=C.document.createTime?Qi(C.document.createTime):Vt.min(),S=new hi({mapValue:{fields:C.document.fields}}),t=Ke.newFoundDocument(R,M,d,S),h=C.targetIds||[],x=C.removedTargetIds||[];m=new So(h,x,t.key,t)}else if("documentDelete"in e){e.documentDelete;const C=e.documentDelete;C.document;const R=Pl(p,C.document),M=C.readTime?Qi(C.readTime):Vt.min(),d=Ke.newNoDocument(R,M),S=C.removedTargetIds||[];m=new So([],S,d.key,d)}else if("documentRemove"in e){e.documentRemove;const C=e.documentRemove;C.document;const R=Pl(p,C.document),M=C.removedTargetIds||[];m=new So([],M,R,null)}else{if(!("filter"in e))return Dt();{e.filter;const C=e.filter;C.targetId;const{count:R=0,unchangedNames:M}=C,d=new d2(R,M),S=C.targetId;m=new qg(S,d)}}return m}function A2(p,e){let m;if(e instanceof Ia)m={update:Tv(p,e.key,e.value)};else if(e instanceof kg)m={delete:fu(p,e.key)};else if(e instanceof en)m={update:Tv(p,e.key,e.data),updateMask:D2(e.fieldMask)};else{if(!(e instanceof l2))return Dt();m={verify:fu(p,e.key)}}return e.fieldTransforms.length>0&&(m.updateTransforms=e.fieldTransforms.map(C=>function(M,d){const S=d.transform;if(S instanceof Ho)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Ta)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Ea)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Ko)return{fieldPath:d.field.canonicalString(),increment:S.Ie};throw Dt()}(0,C))),e.precondition.isNone||(m.currentDocument=function(R,M){return M.updateTime!==void 0?{updateTime:E2(R,M.updateTime)}:M.exists!==void 0?{exists:M.exists}:Dt()}(p,e.precondition)),m}function P2(p,e){return p&&p.length>0?(se(e!==void 0),p.map(m=>function(R,M){let d=R.updateTime?Qi(R.updateTime):Qi(M);return d.isEqual(Vt.min())&&(d=Qi(M)),new a2(d,R.transformResults||[])}(m,e))):[]}function R2(p,e){return{documents:[i0(p,e.path)]}}function w2(p,e){const m={structuredQuery:{}},C=e.path;let R;e.collectionGroup!==null?(R=C,m.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(R=C.popLast(),m.structuredQuery.from=[{collectionId:C.lastSegment()}]),m.parent=i0(p,R);const M=function(h){if(h.length!==0)return r0(Ni.create(h,"and"))}(e.filters);M&&(m.structuredQuery.where=M);const d=function(h){if(h.length!==0)return h.map(x=>function(a){return{field:$n(a.field),direction:L2(a.dir)}}(x))}(e.orderBy);d&&(m.structuredQuery.orderBy=d);const S=lu(p,e.limit);return S!==null&&(m.structuredQuery.limit=S),e.startAt&&(m.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(m.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:m,parent:R}}function M2(p){let e=S2(p.parent);const m=p.structuredQuery,C=m.from?m.from.length:0;let R=null;if(C>0){se(C===1);const x=m.from[0];x.allDescendants?R=x.collectionId:e=e.child(x.collectionId)}let M=[];m.where&&(M=function(o){const a=n0(o);return a instanceof Ni&&Dg(a)?a.getFilters():[a]}(m.where));let d=[];m.orderBy&&(d=function(o){return o.map(a=>function(i){return new Yo(jn(i.field),function(l){switch(l){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(i.direction))}(a))}(m.orderBy));let S=null;m.limit&&(S=function(o){let a;return a=typeof o=="object"?o.value:o,Rh(a)?null:a}(m.limit));let t=null;m.startAt&&(t=function(o){const a=!!o.before,r=o.values||[];return new Wo(r,a)}(m.startAt));let h=null;return m.endAt&&(h=function(o){const a=!o.before,r=o.values||[];return new Wo(r,a)}(m.endAt)),jC(e,R,d,M,S,"F",t,h)}function I2(p,e){const m=function(R){switch(R){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return m==null?null:{"goog-listen-tags":m}}function n0(p){return p.unaryFilter!==void 0?function(m){switch(m.unaryFilter.op){case"IS_NAN":const C=jn(m.unaryFilter.field);return Ae.create(C,"==",{doubleValue:NaN});case"IS_NULL":const R=jn(m.unaryFilter.field);return Ae.create(R,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const M=jn(m.unaryFilter.field);return Ae.create(M,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=jn(m.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(p):p.fieldFilter!==void 0?function(m){return Ae.create(jn(m.fieldFilter.field),function(R){switch(R){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(m.fieldFilter.op),m.fieldFilter.value)}(p):p.compositeFilter!==void 0?function(m){return Ni.create(m.compositeFilter.filters.map(C=>n0(C)),function(R){switch(R){case"AND":return"and";case"OR":return"or";default:return Dt()}}(m.compositeFilter.op))}(p):Dt()}function L2(p){return g2[p]}function F2(p){return x2[p]}function O2(p){return y2[p]}function $n(p){return{fieldPath:p.canonicalString()}}function jn(p){return Be.fromServerFormat(p.fieldPath)}function r0(p){return p instanceof Ae?function(m){if(m.op==="=="){if(ov(m.value))return{unaryFilter:{field:$n(m.field),op:"IS_NAN"}};if(av(m.value))return{unaryFilter:{field:$n(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(ov(m.value))return{unaryFilter:{field:$n(m.field),op:"IS_NOT_NAN"}};if(av(m.value))return{unaryFilter:{field:$n(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$n(m.field),op:F2(m.op),value:m.value}}}(p):p instanceof Ni?function(m){const C=m.getFilters().map(R=>r0(R));return C.length===1?C[0]:{compositeFilter:{op:O2(m.op),filters:C}}}(p):Dt()}function D2(p){const e=[];return p.fields.forEach(m=>e.push(m.canonicalString())),{fieldPaths:e}}function a0(p){return p.length>=4&&p.get(0)==="projects"&&p.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,m,C,R,M=Vt.min(),d=Vt.min(),S=Ge.EMPTY_BYTE_STRING,t=null){this.target=e,this.targetId=m,this.purpose=C,this.sequenceNumber=R,this.snapshotVersion=M,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=S,this.expectedCount=t}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,m){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,m,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.Tt=e}}function b2(p){const e=M2({parent:p.parent,structuredQuery:p.structuredQuery});return p.limitType==="LAST"?hu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.Tn=new V2}addToCollectionParentIndex(e,m){return this.Tn.add(m),pt.resolve()}getCollectionParents(e,m){return pt.resolve(this.Tn.getEntries(m))}addFieldIndex(e,m){return pt.resolve()}deleteFieldIndex(e,m){return pt.resolve()}deleteAllFieldIndexes(e){return pt.resolve()}createTargetIndexes(e,m){return pt.resolve()}getDocumentsMatchingTarget(e,m){return pt.resolve(null)}getIndexType(e,m){return pt.resolve(0)}getFieldIndexes(e,m){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,m){return pt.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,m){return pt.resolve(Hs.min())}updateCollectionGroup(e,m,C){return pt.resolve()}updateIndexEntries(e,m){return pt.resolve()}}class V2{constructor(){this.index={}}add(e){const m=e.lastSegment(),C=e.popLast(),R=this.index[m]||new Me(pe.comparator),M=!R.has(C);return this.index[m]=R.add(C),M}has(e){const m=e.lastSegment(),C=e.popLast(),R=this.index[m];return R&&R.has(C)}getEntries(e){return(this.index[e]||new Me(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o0=41943040;class ri{static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,m,C){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=m,this.maximumSequenceNumbersToCollect=C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(o0,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ur(0)}static Un(){return new ur(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LruGarbageCollector",h0=1048576;function Cv([p,e],[m,C]){const R=Kt(p,m);return R===0?Kt(e,C):R}class G2{constructor(e){this.Hn=e,this.buffer=new Me(Cv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const m=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(m);else{const C=this.buffer.last();Cv(m,C)<0&&(this.buffer=this.buffer.delete(C).add(m))}}get maxValue(){return this.buffer.last()[0]}}class U2{constructor(e,m,C){this.garbageCollector=e,this.asyncQueue=m,this.localStore=C,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Pt(Sv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(m){yr(m)?Pt(Sv,"Ignoring IndexedDB error during garbage collection: ",m):await xr(m)}await this.er(3e5)})}}class z2{constructor(e,m){this.tr=e,this.params=m}calculateTargetCount(e,m){return this.tr.nr(e).next(C=>Math.floor(m/100*C))}nthSequenceNumber(e,m){if(m===0)return pt.resolve(Ph.ae);const C=new G2(m);return this.tr.forEachTarget(e,R=>C.Zn(R.sequenceNumber)).next(()=>this.tr.rr(e,R=>C.Zn(R))).next(()=>C.maxValue)}removeTargets(e,m,C){return this.tr.removeTargets(e,m,C)}removeOrphanedDocuments(e,m){return this.tr.removeOrphanedDocuments(e,m)}collect(e,m){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(Ev)):this.getCacheSize(e).next(C=>C<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${C} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.ir(e,m))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,m){let C,R,M,d,S,t,h;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(o=>(o>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${o}`),R=this.params.maximumSequenceNumbersToCollect):R=o,d=Date.now(),this.nthSequenceNumber(e,R))).next(o=>(C=o,S=Date.now(),this.removeTargets(e,C,m))).next(o=>(M=o,t=Date.now(),this.removeOrphanedDocuments(e,C))).next(o=>(h=Date.now(),Hn()<=Wt.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${R} in `+(S-d)+`ms
	Removed ${M} targets in `+(t-S)+`ms
	Removed ${o} documents in `+(h-t)+`ms
Total Duration: ${h-x}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:R,targetsRemoved:M,documentsRemoved:o})))}}function X2(p,e){return new z2(p,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.changes=new Nn(e=>e.toString(),(e,m)=>e.isEqual(m)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,m){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(m))}getEntry(e,m){this.assertNotApplied();const C=this.changes.get(m);return C!==void 0?pt.resolve(C):this.getFromCache(e,m)}getEntries(e,m){return this.getAllFromCache(e,m)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,m){this.overlayedDocument=e,this.mutatedFields=m}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,m,C,R){this.remoteDocumentCache=e,this.mutationQueue=m,this.documentOverlayCache=C,this.indexManager=R}getDocument(e,m){let C=null;return this.documentOverlayCache.getOverlay(e,m).next(R=>(C=R,this.remoteDocumentCache.getEntry(e,m))).next(R=>(C!==null&&ea(C.mutation,R,pi.empty(),we.now()),R))}getDocuments(e,m){return this.remoteDocumentCache.getEntries(e,m).next(C=>this.getLocalViewOfDocuments(e,C,Yt()).next(()=>C))}getLocalViewOfDocuments(e,m,C=Yt()){const R=pn();return this.populateOverlays(e,R,m).next(()=>this.computeViews(e,m,R,C).next(M=>{let d=zr();return M.forEach((S,t)=>{d=d.insert(S,t.overlayedDocument)}),d}))}getOverlayedDocuments(e,m){const C=pn();return this.populateOverlays(e,C,m).next(()=>this.computeViews(e,m,C,Yt()))}populateOverlays(e,m,C){const R=[];return C.forEach(M=>{m.has(M)||R.push(M)}),this.documentOverlayCache.getOverlays(e,R).next(M=>{M.forEach((d,S)=>{m.set(d,S)})})}computeViews(e,m,C,R){let M=ys();const d=ta(),S=function(){return ta()}();return m.forEach((t,h)=>{const x=C.get(h.key);R.has(h.key)&&(x===void 0||x.mutation instanceof en)?M=M.insert(h.key,h):x!==void 0?(d.set(h.key,x.mutation.getFieldMask()),ea(x.mutation,h,x.mutation.getFieldMask(),we.now())):d.set(h.key,pi.empty())}),this.recalculateAndSaveOverlays(e,M).next(t=>(t.forEach((h,x)=>d.set(h,x)),m.forEach((h,x)=>{var o;return S.set(h,new Y2(x,(o=d.get(h))!==null&&o!==void 0?o:null))}),S))}recalculateAndSaveOverlays(e,m){const C=ta();let R=new xe((d,S)=>d-S),M=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,m).next(d=>{for(const S of d)S.keys().forEach(t=>{const h=m.get(t);if(h===null)return;let x=C.get(t)||pi.empty();x=S.applyToLocalView(h,x),C.set(t,x);const o=(R.get(S.batchId)||Yt()).add(t);R=R.insert(S.batchId,o)})}).next(()=>{const d=[],S=R.getReverseIterator();for(;S.hasNext();){const t=S.getNext(),h=t.key,x=t.value,o=Wg();x.forEach(a=>{if(!M.has(a)){const r=Qg(m.get(a),C.get(a));r!==null&&o.set(a,r),M=M.add(a)}}),d.push(this.documentOverlayCache.saveOverlays(e,h,o))}return pt.waitFor(d)}).next(()=>C)}recalculateAndSaveOverlaysForDocumentKeys(e,m){return this.remoteDocumentCache.getEntries(e,m).next(C=>this.recalculateAndSaveOverlays(e,C))}getDocumentsMatchingQuery(e,m,C,R){return function(d){return Lt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(m)?this.getDocumentsMatchingDocumentQuery(e,m.path):Vg(m)?this.getDocumentsMatchingCollectionGroupQuery(e,m,C,R):this.getDocumentsMatchingCollectionQuery(e,m,C,R)}getNextDocuments(e,m,C,R){return this.remoteDocumentCache.getAllFromCollectionGroup(e,m,C,R).next(M=>{const d=R-M.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,m,C.largestBatchId,R-M.size):pt.resolve(pn());let S=pa,t=M;return d.next(h=>pt.forEach(h,(x,o)=>(S<o.largestBatchId&&(S=o.largestBatchId),M.get(x)?pt.resolve():this.remoteDocumentCache.getEntry(e,x).next(a=>{t=t.insert(x,a)}))).next(()=>this.populateOverlays(e,h,M)).next(()=>this.computeViews(e,t,h,Yt())).next(x=>({batchId:S,changes:Xg(x)})))})}getDocumentsMatchingDocumentQuery(e,m){return this.getDocument(e,new Lt(m)).next(C=>{let R=zr();return C.isFoundDocument()&&(R=R.insert(C.key,C)),R})}getDocumentsMatchingCollectionGroupQuery(e,m,C,R){const M=m.collectionGroup;let d=zr();return this.indexManager.getCollectionParents(e,M).next(S=>pt.forEach(S,t=>{const h=function(o,a){return new Ma(a,null,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(m,t.child(M));return this.getDocumentsMatchingCollectionQuery(e,h,C,R).next(x=>{x.forEach((o,a)=>{d=d.insert(o,a)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,m,C,R){let M;return this.documentOverlayCache.getOverlaysForCollection(e,m.path,C.largestBatchId).next(d=>(M=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,m,C,M,R))).next(d=>{M.forEach((t,h)=>{const x=h.getKey();d.get(x)===null&&(d=d.insert(x,Ke.newInvalidDocument(x)))});let S=zr();return d.forEach((t,h)=>{const x=M.get(t);x!==void 0&&ea(x.mutation,h,pi.empty(),we.now()),Lh(m,h)&&(S=S.insert(t,h))}),S})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,m){return pt.resolve(this.dr.get(m))}saveBundleMetadata(e,m){return this.dr.set(m.id,function(R){return{id:R.id,version:R.version,createTime:Qi(R.createTime)}}(m)),pt.resolve()}getNamedQuery(e,m){return pt.resolve(this.Ar.get(m))}saveNamedQuery(e,m){return this.Ar.set(m.name,function(R){return{name:R.name,query:b2(R.bundledQuery),readTime:Qi(R.readTime)}}(m)),pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.overlays=new xe(Lt.comparator),this.Rr=new Map}getOverlay(e,m){return pt.resolve(this.overlays.get(m))}getOverlays(e,m){const C=pn();return pt.forEach(m,R=>this.getOverlay(e,R).next(M=>{M!==null&&C.set(R,M)})).next(()=>C)}saveOverlays(e,m,C){return C.forEach((R,M)=>{this.Et(e,m,M)}),pt.resolve()}removeOverlaysForBatchId(e,m,C){const R=this.Rr.get(C);return R!==void 0&&(R.forEach(M=>this.overlays=this.overlays.remove(M)),this.Rr.delete(C)),pt.resolve()}getOverlaysForCollection(e,m,C){const R=pn(),M=m.length+1,d=new Lt(m.child("")),S=this.overlays.getIteratorFrom(d);for(;S.hasNext();){const t=S.getNext().value,h=t.getKey();if(!m.isPrefixOf(h.path))break;h.path.length===M&&t.largestBatchId>C&&R.set(t.getKey(),t)}return pt.resolve(R)}getOverlaysForCollectionGroup(e,m,C,R){let M=new xe((h,x)=>h-x);const d=this.overlays.getIterator();for(;d.hasNext();){const h=d.getNext().value;if(h.getKey().getCollectionGroup()===m&&h.largestBatchId>C){let x=M.get(h.largestBatchId);x===null&&(x=pn(),M=M.insert(h.largestBatchId,x)),x.set(h.getKey(),h)}}const S=pn(),t=M.getIterator();for(;t.hasNext()&&(t.getNext().value.forEach((h,x)=>S.set(h,x)),!(S.size()>=R)););return pt.resolve(S)}Et(e,m,C){const R=this.overlays.get(C.key);if(R!==null){const d=this.Rr.get(R.largestBatchId).delete(C.key);this.Rr.set(R.largestBatchId,d)}this.overlays=this.overlays.insert(C.key,new f2(m,C));let M=this.Rr.get(m);M===void 0&&(M=Yt(),this.Rr.set(m,M)),this.Rr.set(m,M.add(C.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return pt.resolve(this.sessionToken)}setSessionToken(e,m){return this.sessionToken=m,pt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this.Vr=new Me(Fe.mr),this.gr=new Me(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,m){const C=new Fe(e,m);this.Vr=this.Vr.add(C),this.gr=this.gr.add(C)}yr(e,m){e.forEach(C=>this.addReference(C,m))}removeReference(e,m){this.wr(new Fe(e,m))}br(e,m){e.forEach(C=>this.removeReference(C,m))}Sr(e){const m=new Lt(new pe([])),C=new Fe(m,e),R=new Fe(m,e+1),M=[];return this.gr.forEachInRange([C,R],d=>{this.wr(d),M.push(d.key)}),M}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const m=new Lt(new pe([])),C=new Fe(m,e),R=new Fe(m,e+1);let M=Yt();return this.gr.forEachInRange([C,R],d=>{M=M.add(d.key)}),M}containsKey(e){const m=new Fe(e,0),C=this.Vr.firstAfterOrEqual(m);return C!==null&&e.isEqual(C.key)}}class Fe{constructor(e,m){this.key=e,this.Cr=m}static mr(e,m){return Lt.comparator(e.key,m.key)||Kt(e.Cr,m.Cr)}static pr(e,m){return Kt(e.Cr,m.Cr)||Lt.comparator(e.key,m.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,m){this.indexManager=e,this.referenceDelegate=m,this.mutationQueue=[],this.Fr=1,this.Mr=new Me(Fe.mr)}checkEmpty(e){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,m,C,R){const M=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new u2(M,m,C,R);this.mutationQueue.push(d);for(const S of R)this.Mr=this.Mr.add(new Fe(S.key,M)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return pt.resolve(d)}lookupMutationBatch(e,m){return pt.resolve(this.Or(m))}getNextMutationBatchAfterBatchId(e,m){const C=m+1,R=this.Nr(C),M=R<0?0:R;return pt.resolve(this.mutationQueue.length>M?this.mutationQueue[M]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?Qu:this.Fr-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,m){const C=new Fe(m,0),R=new Fe(m,Number.POSITIVE_INFINITY),M=[];return this.Mr.forEachInRange([C,R],d=>{const S=this.Or(d.Cr);M.push(S)}),pt.resolve(M)}getAllMutationBatchesAffectingDocumentKeys(e,m){let C=new Me(Kt);return m.forEach(R=>{const M=new Fe(R,0),d=new Fe(R,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([M,d],S=>{C=C.add(S.Cr)})}),pt.resolve(this.Br(C))}getAllMutationBatchesAffectingQuery(e,m){const C=m.path,R=C.length+1;let M=C;Lt.isDocumentKey(M)||(M=M.child(""));const d=new Fe(new Lt(M),0);let S=new Me(Kt);return this.Mr.forEachWhile(t=>{const h=t.key.path;return!!C.isPrefixOf(h)&&(h.length===R&&(S=S.add(t.Cr)),!0)},d),pt.resolve(this.Br(S))}Br(e){const m=[];return e.forEach(C=>{const R=this.Or(C);R!==null&&m.push(R)}),m}removeMutationBatch(e,m){se(this.Lr(m.batchId,"removed")===0),this.mutationQueue.shift();let C=this.Mr;return pt.forEach(m.mutations,R=>{const M=new Fe(R.key,m.batchId);return C=C.delete(M),this.referenceDelegate.markPotentiallyOrphaned(e,R.key)}).next(()=>{this.Mr=C})}qn(e){}containsKey(e,m){const C=new Fe(m,0),R=this.Mr.firstAfterOrEqual(C);return pt.resolve(m.isEqual(R&&R.key))}performConsistencyCheck(e){return this.mutationQueue.length,pt.resolve()}Lr(e,m){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const m=this.Nr(e);return m<0||m>=this.mutationQueue.length?null:this.mutationQueue[m]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.kr=e,this.docs=function(){return new xe(Lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,m){const C=m.key,R=this.docs.get(C),M=R?R.size:0,d=this.kr(m);return this.docs=this.docs.insert(C,{document:m.mutableCopy(),size:d}),this.size+=d-M,this.indexManager.addToCollectionParentIndex(e,C.path.popLast())}removeEntry(e){const m=this.docs.get(e);m&&(this.docs=this.docs.remove(e),this.size-=m.size)}getEntry(e,m){const C=this.docs.get(m);return pt.resolve(C?C.document.mutableCopy():Ke.newInvalidDocument(m))}getEntries(e,m){let C=ys();return m.forEach(R=>{const M=this.docs.get(R);C=C.insert(R,M?M.document.mutableCopy():Ke.newInvalidDocument(R))}),pt.resolve(C)}getDocumentsMatchingQuery(e,m,C,R){let M=ys();const d=m.path,S=new Lt(d.child("__id-9223372036854775808__")),t=this.docs.getIteratorFrom(S);for(;t.hasNext();){const{key:h,value:{document:x}}=t.getNext();if(!d.isPrefixOf(h.path))break;h.path.length>d.length+1||PC(AC(x),C)<=0||(R.has(x.key)||Lh(m,x))&&(M=M.insert(x.key,x.mutableCopy()))}return pt.resolve(M)}getAllFromCollectionGroup(e,m,C,R){Dt()}qr(e,m){return pt.forEach(this.docs,C=>m(C))}newChangeBuffer(e){return new k2(this)}getSize(e){return pt.resolve(this.size)}}class k2 extends W2{constructor(e){super(),this.Ir=e}applyChanges(e){const m=[];return this.changes.forEach((C,R)=>{R.isValidDocument()?m.push(this.Ir.addEntry(e,R)):this.Ir.removeEntry(C)}),pt.waitFor(m)}getFromCache(e,m){return this.Ir.getEntry(e,m)}getAllFromCache(e,m){return this.Ir.getEntries(e,m)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.persistence=e,this.Qr=new Nn(m=>Zu(m),qu),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new nf,this.targetCount=0,this.Ur=ur.Kn()}forEachTarget(e,m){return this.Qr.forEach((C,R)=>m(R)),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,m,C){return C&&(this.lastRemoteSnapshotVersion=C),m>this.$r&&(this.$r=m),pt.resolve()}zn(e){this.Qr.set(e.target,e);const m=e.targetId;m>this.highestTargetId&&(this.Ur=new ur(m),this.highestTargetId=m),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,m){return this.zn(m),this.targetCount+=1,pt.resolve()}updateTargetData(e,m){return this.zn(m),pt.resolve()}removeTargetData(e,m){return this.Qr.delete(m.target),this.Kr.Sr(m.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,m,C){let R=0;const M=[];return this.Qr.forEach((d,S)=>{S.sequenceNumber<=m&&C.get(S.targetId)===null&&(this.Qr.delete(d),M.push(this.removeMatchingKeysForTargetId(e,S.targetId)),R++)}),pt.waitFor(M).next(()=>R)}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,m){const C=this.Qr.get(m)||null;return pt.resolve(C)}addMatchingKeys(e,m,C){return this.Kr.yr(m,C),pt.resolve()}removeMatchingKeys(e,m,C){this.Kr.br(m,C);const R=this.persistence.referenceDelegate,M=[];return R&&m.forEach(d=>{M.push(R.markPotentiallyOrphaned(e,d))}),pt.waitFor(M)}removeMatchingKeysForTargetId(e,m){return this.Kr.Sr(m),pt.resolve()}getMatchingKeysForTargetId(e,m){const C=this.Kr.vr(m);return pt.resolve(C)}containsKey(e,m){return pt.resolve(this.Kr.containsKey(m))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,m){this.Wr={},this.overlays={},this.Gr=new Ph(0),this.zr=!1,this.zr=!0,this.jr=new j2,this.referenceDelegate=e(this),this.Hr=new Z2(this),this.indexManager=new B2,this.remoteDocumentCache=function(R){return new J2(R)}(C=>this.referenceDelegate.Jr(C)),this.serializer=new N2(m),this.Yr=new K2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let m=this.overlays[e.toKey()];return m||(m=new $2,this.overlays[e.toKey()]=m),m}getMutationQueue(e,m){let C=this.Wr[e.toKey()];return C||(C=new Q2(m,this.referenceDelegate),this.Wr[e.toKey()]=C),C}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,m,C){Pt("MemoryPersistence","Starting transaction:",e);const R=new q2(this.Gr.next());return this.referenceDelegate.Zr(),C(R).next(M=>this.referenceDelegate.Xr(R).next(()=>M)).toPromise().then(M=>(R.raiseOnCommittedEvent(),M))}ei(e,m){return pt.or(Object.values(this.Wr).map(C=>()=>C.containsKey(e,m)))}}class q2 extends wC{constructor(e){super(),this.currentSequenceNumber=e}}class rf{constructor(e){this.persistence=e,this.ti=new nf,this.ni=null}static ri(e){return new rf(e)}get ii(){if(this.ni)return this.ni;throw Dt()}addReference(e,m,C){return this.ti.addReference(C,m),this.ii.delete(C.toString()),pt.resolve()}removeReference(e,m,C){return this.ti.removeReference(C,m),this.ii.add(C.toString()),pt.resolve()}markPotentiallyOrphaned(e,m){return this.ii.add(m.toString()),pt.resolve()}removeTarget(e,m){this.ti.Sr(m.targetId).forEach(R=>this.ii.add(R.toString()));const C=this.persistence.getTargetCache();return C.getMatchingKeysForTargetId(e,m.targetId).next(R=>{R.forEach(M=>this.ii.add(M.toString()))}).next(()=>C.removeTargetData(e,m))}Zr(){this.ni=new Set}Xr(e){const m=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.ii,C=>{const R=Lt.fromPath(C);return this.si(e,R).next(M=>{M||m.removeEntry(R,Vt.min())})}).next(()=>(this.ni=null,m.apply(e)))}updateLimboDocument(e,m){return this.si(e,m).next(C=>{C?this.ii.delete(m.toString()):this.ii.add(m.toString())})}Jr(e){return 0}si(e,m){return pt.or([()=>pt.resolve(this.ti.containsKey(m)),()=>this.persistence.getTargetCache().containsKey(e,m),()=>this.persistence.ei(e,m)])}}class jo{constructor(e,m){this.persistence=e,this.oi=new Nn(C=>LC(C.path),(C,R)=>C.isEqual(R)),this.garbageCollector=X2(this,m)}static ri(e,m){return new jo(e,m)}Zr(){}Xr(e){return pt.resolve()}forEachTarget(e,m){return this.persistence.getTargetCache().forEachTarget(e,m)}nr(e){const m=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(C=>m.next(R=>C+R))}sr(e){let m=0;return this.rr(e,C=>{m++}).next(()=>m)}rr(e,m){return pt.forEach(this.oi,(C,R)=>this.ar(e,C,R).next(M=>M?pt.resolve():m(R)))}removeTargets(e,m,C){return this.persistence.getTargetCache().removeTargets(e,m,C)}removeOrphanedDocuments(e,m){let C=0;const R=this.persistence.getRemoteDocumentCache(),M=R.newChangeBuffer();return R.qr(e,d=>this.ar(e,d,m).next(S=>{S||(C++,M.removeEntry(d,Vt.min()))})).next(()=>M.apply(e)).next(()=>C)}markPotentiallyOrphaned(e,m){return this.oi.set(m,e.currentSequenceNumber),pt.resolve()}removeTarget(e,m){const C=m.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,C)}addReference(e,m,C){return this.oi.set(C,e.currentSequenceNumber),pt.resolve()}removeReference(e,m,C){return this.oi.set(C,e.currentSequenceNumber),pt.resolve()}updateLimboDocument(e,m){return this.oi.set(m,e.currentSequenceNumber),pt.resolve()}Jr(e){let m=e.key.toString().length;return e.isFoundDocument()&&(m+=yo(e.data.value)),m}ar(e,m,C){return pt.or([()=>this.persistence.ei(e,m),()=>this.persistence.getTargetCache().containsKey(e,m),()=>{const R=this.oi.get(m);return pt.resolve(R!==void 0&&R>C)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,m,C,R){this.targetId=e,this.fromCache=m,this.Hi=C,this.Ji=R}static Yi(e,m){let C=Yt(),R=Yt();for(const M of m.docChanges)switch(M.type){case 0:C=C.add(M.doc.key);break;case 1:R=R.add(M.doc.key)}return new af(e,m.fromCache,C,R)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JE()?8:MC(Qe())>0?6:4}()}initialize(e,m){this.ns=e,this.indexManager=m,this.Zi=!0}getDocumentsMatchingQuery(e,m,C,R){const M={result:null};return this.rs(e,m).next(d=>{M.result=d}).next(()=>{if(!M.result)return this.ss(e,m,R,C).next(d=>{M.result=d})}).next(()=>{if(M.result)return;const d=new _2;return this._s(e,m,d).next(S=>{if(M.result=S,this.Xi)return this.us(e,m,d,S.size)})}).next(()=>M.result)}us(e,m,C,R){return C.documentReadCount<this.es?(Hn()<=Wt.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",Kn(m),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pt.resolve()):(Hn()<=Wt.DEBUG&&Pt("QueryEngine","Query:",Kn(m),"scans",C.documentReadCount,"local documents and returns",R,"documents as results."),C.documentReadCount>this.ts*R?(Hn()<=Wt.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",Kn(m),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(m))):pt.resolve())}rs(e,m){if(fv(m))return pt.resolve(null);let C=ji(m);return this.indexManager.getIndexType(e,C).next(R=>R===0?null:(m.limit!==null&&R===1&&(m=hu(m,null,"F"),C=ji(m)),this.indexManager.getDocumentsMatchingTarget(e,C).next(M=>{const d=Yt(...M);return this.ns.getDocuments(e,d).next(S=>this.indexManager.getMinOffset(e,C).next(t=>{const h=this.cs(m,S);return this.ls(m,h,d,t.readTime)?this.rs(e,hu(m,null,"F")):this.hs(e,h,m,t)}))})))}ss(e,m,C,R){return fv(m)||R.isEqual(Vt.min())?pt.resolve(null):this.ns.getDocuments(e,C).next(M=>{const d=this.cs(m,M);return this.ls(m,d,C,R)?pt.resolve(null):(Hn()<=Wt.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",R.toString(),Kn(m)),this.hs(e,d,m,CC(R,pa)).next(S=>S))})}cs(e,m){let C=new Me(Ug(e));return m.forEach((R,M)=>{Lh(e,M)&&(C=C.add(M))}),C}ls(e,m,C,R){if(e.limit===null)return!1;if(C.size!==m.size)return!0;const M=e.limitType==="F"?m.last():m.first();return!!M&&(M.hasPendingWrites||M.version.compareTo(R)>0)}_s(e,m,C){return Hn()<=Wt.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Kn(m)),this.ns.getDocumentsMatchingQuery(e,m,Hs.min(),C)}hs(e,m,C,R){return this.ns.getDocumentsMatchingQuery(e,C,R).next(M=>(m.forEach(d=>{M=M.insert(d.key,d)}),M))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="LocalStore",eA=3e8;class iA{constructor(e,m,C,R){this.persistence=e,this.Ps=m,this.serializer=R,this.Ts=new xe(Kt),this.Is=new Nn(M=>Zu(M),qu),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(C)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",m=>e.collect(m,this.Ts))}}function sA(p,e,m,C){return new iA(p,e,m,C)}async function u0(p,e){const m=Bt(p);return await m.persistence.runTransaction("Handle user change","readonly",C=>{let R;return m.mutationQueue.getAllMutationBatches(C).next(M=>(R=M,m.As(e),m.mutationQueue.getAllMutationBatches(C))).next(M=>{const d=[],S=[];let t=Yt();for(const h of R){d.push(h.batchId);for(const x of h.mutations)t=t.add(x.key)}for(const h of M){S.push(h.batchId);for(const x of h.mutations)t=t.add(x.key)}return m.localDocuments.getDocuments(C,t).next(h=>({Rs:h,removedBatchIds:d,addedBatchIds:S}))})})}function nA(p,e){const m=Bt(p);return m.persistence.runTransaction("Acknowledge batch","readwrite-primary",C=>{const R=e.batch.keys(),M=m.ds.newChangeBuffer({trackRemovals:!0});return function(S,t,h,x){const o=h.batch,a=o.keys();let r=pt.resolve();return a.forEach(i=>{r=r.next(()=>x.getEntry(t,i)).next(n=>{const l=h.docVersions.get(i);se(l!==null),n.version.compareTo(l)<0&&(o.applyToRemoteDocument(n,h),n.isValidDocument()&&(n.setReadTime(h.commitVersion),x.addEntry(n)))})}),r.next(()=>S.mutationQueue.removeMutationBatch(t,o))}(m,C,e,M).next(()=>M.apply(C)).next(()=>m.mutationQueue.performConsistencyCheck(C)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(C,R,e.batch.batchId)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,function(S){let t=Yt();for(let h=0;h<S.mutationResults.length;++h)S.mutationResults[h].transformResults.length>0&&(t=t.add(S.batch.mutations[h].key));return t}(e))).next(()=>m.localDocuments.getDocuments(C,R))})}function f0(p){const e=Bt(p);return e.persistence.runTransaction("Get last remote snapshot version","readonly",m=>e.Hr.getLastRemoteSnapshotVersion(m))}function rA(p,e){const m=Bt(p),C=e.snapshotVersion;let R=m.Ts;return m.persistence.runTransaction("Apply remote event","readwrite-primary",M=>{const d=m.ds.newChangeBuffer({trackRemovals:!0});R=m.Ts;const S=[];e.targetChanges.forEach((x,o)=>{const a=R.get(o);if(!a)return;S.push(m.Hr.removeMatchingKeys(M,x.removedDocuments,o).next(()=>m.Hr.addMatchingKeys(M,x.addedDocuments,o)));let r=a.withSequenceNumber(M.currentSequenceNumber);e.targetMismatches.get(o)!==null?r=r.withResumeToken(Ge.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):x.resumeToken.approximateByteSize()>0&&(r=r.withResumeToken(x.resumeToken,C)),R=R.insert(o,r),function(n,l,s){return n.resumeToken.approximateByteSize()===0||l.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=eA?!0:s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0}(a,r,x)&&S.push(m.Hr.updateTargetData(M,r))});let t=ys(),h=Yt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&S.push(m.persistence.referenceDelegate.updateLimboDocument(M,x))}),S.push(aA(M,d,e.documentUpdates).next(x=>{t=x.Vs,h=x.fs})),!C.isEqual(Vt.min())){const x=m.Hr.getLastRemoteSnapshotVersion(M).next(o=>m.Hr.setTargetsMetadata(M,M.currentSequenceNumber,C));S.push(x)}return pt.waitFor(S).next(()=>d.apply(M)).next(()=>m.localDocuments.getLocalViewOfDocuments(M,t,h)).next(()=>t)}).then(M=>(m.Ts=R,M))}function aA(p,e,m){let C=Yt(),R=Yt();return m.forEach(M=>C=C.add(M)),e.getEntries(p,C).next(M=>{let d=ys();return m.forEach((S,t)=>{const h=M.get(S);t.isFoundDocument()!==h.isFoundDocument()&&(R=R.add(S)),t.isNoDocument()&&t.version.isEqual(Vt.min())?(e.removeEntry(S,t.readTime),d=d.insert(S,t)):!h.isValidDocument()||t.version.compareTo(h.version)>0||t.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(t),d=d.insert(S,t)):Pt(of,"Ignoring outdated watch update for ",S,". Current version:",h.version," Watch version:",t.version)}),{Vs:d,fs:R}})}function oA(p,e){const m=Bt(p);return m.persistence.runTransaction("Get next mutation batch","readonly",C=>(e===void 0&&(e=Qu),m.mutationQueue.getNextMutationBatchAfterBatchId(C,e)))}function hA(p,e){const m=Bt(p);return m.persistence.runTransaction("Allocate target","readwrite",C=>{let R;return m.Hr.getTargetData(C,e).next(M=>M?(R=M,pt.resolve(R)):m.Hr.allocateTargetId(C).next(d=>(R=new Vs(e,d,"TargetPurposeListen",C.currentSequenceNumber),m.Hr.addTargetData(C,R).next(()=>R))))}).then(C=>{const R=m.Ts.get(C.targetId);return(R===null||C.snapshotVersion.compareTo(R.snapshotVersion)>0)&&(m.Ts=m.Ts.insert(C.targetId,C),m.Is.set(e,C.targetId)),C})}async function cu(p,e,m){const C=Bt(p),R=C.Ts.get(e),M=m?"readwrite":"readwrite-primary";try{m||await C.persistence.runTransaction("Release target",M,d=>C.persistence.referenceDelegate.removeTarget(d,R))}catch(d){if(!yr(d))throw d;Pt(of,`Failed to update sequence numbers for target ${e}: ${d}`)}C.Ts=C.Ts.remove(e),C.Is.delete(R.target)}function Av(p,e,m){const C=Bt(p);let R=Vt.min(),M=Yt();return C.persistence.runTransaction("Execute query","readwrite",d=>function(t,h,x){const o=Bt(t),a=o.Is.get(x);return a!==void 0?pt.resolve(o.Ts.get(a)):o.Hr.getTargetData(h,x)}(C,d,ji(e)).next(S=>{if(S)return R=S.lastLimboFreeSnapshotVersion,C.Hr.getMatchingKeysForTargetId(d,S.targetId).next(t=>{M=t})}).next(()=>C.Ps.getDocumentsMatchingQuery(d,e,m?R:Vt.min(),m?M:Yt())).next(S=>(lA(C,JC(e),S),{documents:S,gs:M})))}function lA(p,e,m){let C=p.Es.get(e)||Vt.min();m.forEach((R,M)=>{M.readTime.compareTo(C)>0&&(C=M.readTime)}),p.Es.set(e,C)}class Pv{constructor(){this.activeTargetIds=e2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uA{constructor(){this.ho=new Pv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,m,C){}addLocalQueryTarget(e,m=!0){return m&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,m,C){this.Po[e]=m}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Pv,Promise.resolve()}handleUserChange(e,m,C){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="ConnectivityMonitor";class wv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Pt(Rv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Pt(Rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo=null;function vu(){return lo===null?lo=function(){return 268435456+Math.round(2147483648*Math.random())}():lo++,"0x"+lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="RestConnection",dA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cA{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const m=e.ssl?"https":"http",C=encodeURIComponent(this.databaseId.projectId),R=encodeURIComponent(this.databaseId.database);this.po=m+"://"+e.host,this.yo=`projects/${C}/databases/${R}`,this.wo=this.databaseId.database===ga?`project_id=${C}`:`project_id=${C}&database_id=${R}`}bo(e,m,C,R,M){const d=vu(),S=this.So(e,m.toUriEncodedString());Pt(Rl,`Sending RPC '${e}' ${d}:`,S,C);const t={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(t,R,M),this.vo(e,S,t,C).then(h=>(Pt(Rl,`Received RPC '${e}' ${d}: `,h),h),h=>{throw ar(Rl,`RPC '${e}' ${d} failed with error: `,h,"url: ",S,"request:",C),h})}Co(e,m,C,R,M,d){return this.bo(e,m,C,R,M)}Do(e,m,C){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),m&&m.headers.forEach((R,M)=>e[M]=R),C&&C.headers.forEach((R,M)=>e[M]=R)}So(e,m){const C=dA[e];return`${this.po}/v1/${m}:${C}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class pA extends cA{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,m,C,R){const M=vu();return new Promise((d,S)=>{const t=new vg;t.setWithCredentials(!0),t.listenOnce(pg.COMPLETE,()=>{try{switch(t.getLastErrorCode()){case xo.NO_ERROR:const x=t.getResponseJson();Pt(Xe,`XHR for RPC '${e}' ${M} received:`,JSON.stringify(x)),d(x);break;case xo.TIMEOUT:Pt(Xe,`RPC '${e}' ${M} timed out`),S(new At(vt.DEADLINE_EXCEEDED,"Request time out"));break;case xo.HTTP_ERROR:const o=t.getStatus();if(Pt(Xe,`RPC '${e}' ${M} failed with status:`,o,"response text:",t.getResponseText()),o>0){let a=t.getResponseJson();Array.isArray(a)&&(a=a[0]);const r=a==null?void 0:a.error;if(r&&r.status&&r.message){const i=function(l){const s=l.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(s)>=0?s:vt.UNKNOWN}(r.status);S(new At(i,r.message))}else S(new At(vt.UNKNOWN,"Server responded with status "+t.getStatus()))}else S(new At(vt.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Pt(Xe,`RPC '${e}' ${M} completed.`)}});const h=JSON.stringify(R);Pt(Xe,`RPC '${e}' ${M} sending request:`,R),t.send(m,"POST",h,C,15)})}Wo(e,m,C){const R=vu(),M=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=xg(),S=gg(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(t.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(t.useFetchStreams=!0),this.Do(t.initMessageHeaders,m,C),t.encodeInitMessageHeaders=!0;const x=M.join("");Pt(Xe,`Creating RPC '${e}' stream ${R}: ${x}`,t);const o=d.createWebChannel(x,t);let a=!1,r=!1;const i=new vA({Fo:l=>{r?Pt(Xe,`Not sending because RPC '${e}' stream ${R} is closed:`,l):(a||(Pt(Xe,`Opening RPC '${e}' stream ${R} transport.`),o.open(),a=!0),Pt(Xe,`RPC '${e}' stream ${R} sending:`,l),o.send(l))},Mo:()=>o.close()}),n=(l,s,u)=>{l.listen(s,f=>{try{u(f)}catch(c){setTimeout(()=>{throw c},0)}})};return n(o,Ur.EventType.OPEN,()=>{r||(Pt(Xe,`RPC '${e}' stream ${R} transport opened.`),i.Qo())}),n(o,Ur.EventType.CLOSE,()=>{r||(r=!0,Pt(Xe,`RPC '${e}' stream ${R} transport closed`),i.Ko())}),n(o,Ur.EventType.ERROR,l=>{r||(r=!0,ar(Xe,`RPC '${e}' stream ${R} transport errored:`,l),i.Ko(new At(vt.UNAVAILABLE,"The operation could not be completed")))}),n(o,Ur.EventType.MESSAGE,l=>{var s;if(!r){const u=l.data[0];se(!!u);const f=u,c=(f==null?void 0:f.error)||((s=f[0])===null||s===void 0?void 0:s.error);if(c){Pt(Xe,`RPC '${e}' stream ${R} received error:`,c);const v=c.status;let g=function(E){const A=Ce[E];if(A!==void 0)return Zg(A)}(v),y=c.message;g===void 0&&(g=vt.INTERNAL,y="Unknown error status: "+v+" with message "+c.message),r=!0,i.Ko(new At(g,y)),o.close()}else Pt(Xe,`RPC '${e}' stream ${R} received:`,u),i.Uo(u)}}),n(S,mg.STAT_EVENT,l=>{l.stat===iu.PROXY?Pt(Xe,`RPC '${e}' stream ${R} detected buffering proxy`):l.stat===iu.NOPROXY&&Pt(Xe,`RPC '${e}' stream ${R} detected no buffering proxy`)}),setTimeout(()=>{i.$o()},0),i}}function wl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(p){return new T2(p,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,m,C=1e3,R=1.5,M=6e4){this.Ti=e,this.timerId=m,this.Go=C,this.zo=R,this.jo=M,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const m=Math.floor(this.Ho+this.e_()),C=Math.max(0,Date.now()-this.Yo),R=Math.max(0,m-C);R>0&&Pt("ExponentialBackoff",`Backing off for ${R} ms (base delay: ${this.Ho} ms, delay with jitter: ${m} ms, last attempt: ${C} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,R,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="PersistentStream";class c0{constructor(e,m,C,R,M,d,S,t){this.Ti=e,this.n_=C,this.r_=R,this.connection=M,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=S,this.listener=t,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new d0(e,m)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,m){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():m&&m.code===vt.RESOURCE_EXHAUSTED?(xs(m.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):m&&m.code===vt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(m)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),m=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([C,R])=>{this.i_===m&&this.V_(C,R)},C=>{e(()=>{const R=new At(vt.UNKNOWN,"Fetching auth token failed: "+C.message);return this.m_(R)})})}V_(e,m){const C=this.R_(this.i_);this.stream=this.f_(e,m),this.stream.xo(()=>{C(()=>this.listener.xo())}),this.stream.No(()=>{C(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(R=>{C(()=>this.m_(R))}),this.stream.onMessage(R=>{C(()=>++this.__==1?this.g_(R):this.onNext(R))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Pt(Mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return m=>{this.Ti.enqueueAndForget(()=>this.i_===e?m():(Pt(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mA extends c0{constructor(e,m,C,R,M,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",m,C,R,d),this.serializer=M}f_(e,m){return this.connection.Wo("Listen",e,m)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const m=C2(this.serializer,e),C=function(M){if(!("targetChange"in M))return Vt.min();const d=M.targetChange;return d.targetIds&&d.targetIds.length?Vt.min():d.readTime?Qi(d.readTime):Vt.min()}(e);return this.listener.p_(m,C)}y_(e){const m={};m.database=du(this.serializer),m.addTarget=function(M,d){let S;const t=d.target;if(S=au(t)?{documents:R2(M,t)}:{query:w2(M,t).ht},S.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){S.resumeToken=t0(M,d.resumeToken);const h=lu(M,d.expectedCount);h!==null&&(S.expectedCount=h)}else if(d.snapshotVersion.compareTo(Vt.min())>0){S.readTime=$o(M,d.snapshotVersion.toTimestamp());const h=lu(M,d.expectedCount);h!==null&&(S.expectedCount=h)}return S}(this.serializer,e);const C=I2(this.serializer,e);C&&(m.labels=C),this.I_(m)}w_(e){const m={};m.database=du(this.serializer),m.removeTarget=e,this.I_(m)}}class gA extends c0{constructor(e,m,C,R,M,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",m,C,R,d),this.serializer=M}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,m){return this.connection.Wo("Write",e,m)}g_(e){return se(!!e.streamToken),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const m=P2(e.writeResults,e.commitTime),C=Qi(e.commitTime);return this.listener.v_(C,m)}C_(){const e={};e.database=du(this.serializer),this.I_(e)}S_(e){const m={streamToken:this.lastStreamToken,writes:e.map(C=>A2(this.serializer,C))};this.I_(m)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{}class yA extends xA{constructor(e,m,C,R){super(),this.authCredentials=e,this.appCheckCredentials=m,this.connection=C,this.serializer=R,this.F_=!1}M_(){if(this.F_)throw new At(vt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,m,C,R){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([M,d])=>this.connection.bo(e,uu(m,C),R,M,d)).catch(M=>{throw M.name==="FirebaseError"?(M.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),M):new At(vt.UNKNOWN,M.toString())})}Co(e,m,C,R,M){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,S])=>this.connection.Co(e,uu(m,C),R,d,S,M)).catch(d=>{throw d.name==="FirebaseError"?(d.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new At(vt.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class TA{constructor(e,m){this.asyncQueue=e,this.onlineStateHandler=m,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const m=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(xs(m),this.N_=!1):Pt("OnlineStateTracker",m)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="RemoteStore";class EA{constructor(e,m,C,R,M){this.localStore=e,this.datastore=m,this.asyncQueue=C,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=M,this.z_.To(d=>{C.enqueueAndForget(async()=>{bn(this)&&(Pt(Pn,"Restarting streams for network reachability change."),await async function(t){const h=Bt(t);h.W_.add(4),await Tr(h),h.j_.set("Unknown"),h.W_.delete(4),await Fa(h)}(this))})}),this.j_=new TA(C,R)}}async function Fa(p){if(bn(p))for(const e of p.G_)await e(!0)}async function Tr(p){for(const e of p.G_)await e(!1)}function v0(p,e){const m=Bt(p);m.U_.has(e.targetId)||(m.U_.set(e.targetId,e),ff(m)?uf(m):Er(m).c_()&&lf(m,e))}function hf(p,e){const m=Bt(p),C=Er(m);m.U_.delete(e),C.c_()&&p0(m,e),m.U_.size===0&&(C.c_()?C.P_():bn(m)&&m.j_.set("Unknown"))}function lf(p,e){if(p.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const m=p.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(m)}Er(p).y_(e)}function p0(p,e){p.H_.Ne(e),Er(p).w_(e)}function uf(p){p.H_=new m2({getRemoteKeysForTarget:e=>p.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>p.U_.get(e)||null,it:()=>p.datastore.serializer.databaseId}),Er(p).start(),p.j_.B_()}function ff(p){return bn(p)&&!Er(p).u_()&&p.U_.size>0}function bn(p){return Bt(p).W_.size===0}function m0(p){p.H_=void 0}async function SA(p){p.j_.set("Online")}async function CA(p){p.U_.forEach((e,m)=>{lf(p,e)})}async function AA(p,e){m0(p),ff(p)?(p.j_.q_(e),uf(p)):p.j_.set("Unknown")}async function PA(p,e,m){if(p.j_.set("Online"),e instanceof _g&&e.state===2&&e.cause)try{await async function(R,M){const d=M.cause;for(const S of M.targetIds)R.U_.has(S)&&(await R.remoteSyncer.rejectListen(S,d),R.U_.delete(S),R.H_.removeTarget(S))}(p,e)}catch(C){Pt(Pn,"Failed to remove targets %s: %s ",e.targetIds.join(","),C),await Qo(p,C)}else if(e instanceof So?p.H_.We(e):e instanceof qg?p.H_.Ze(e):p.H_.je(e),!m.isEqual(Vt.min()))try{const C=await f0(p.localStore);m.compareTo(C)>=0&&await function(M,d){const S=M.H_.ot(d);return S.targetChanges.forEach((t,h)=>{if(t.resumeToken.approximateByteSize()>0){const x=M.U_.get(h);x&&M.U_.set(h,x.withResumeToken(t.resumeToken,d))}}),S.targetMismatches.forEach((t,h)=>{const x=M.U_.get(t);if(!x)return;M.U_.set(t,x.withResumeToken(Ge.EMPTY_BYTE_STRING,x.snapshotVersion)),p0(M,t);const o=new Vs(x.target,t,h,x.sequenceNumber);lf(M,o)}),M.remoteSyncer.applyRemoteEvent(S)}(p,m)}catch(C){Pt(Pn,"Failed to raise snapshot:",C),await Qo(p,C)}}async function Qo(p,e,m){if(!yr(e))throw e;p.W_.add(1),await Tr(p),p.j_.set("Offline"),m||(m=()=>f0(p.localStore)),p.asyncQueue.enqueueRetryable(async()=>{Pt(Pn,"Retrying IndexedDB access"),await m(),p.W_.delete(1),await Fa(p)})}function g0(p,e){return e().catch(m=>Qo(p,m,e))}async function bh(p){const e=Bt(p),m=Qs(e);let C=e.K_.length>0?e.K_[e.K_.length-1].batchId:Qu;for(;RA(e);)try{const R=await oA(e.localStore,C);if(R===null){e.K_.length===0&&m.P_();break}C=R.batchId,wA(e,R)}catch(R){await Qo(e,R)}x0(e)&&y0(e)}function RA(p){return bn(p)&&p.K_.length<10}function wA(p,e){p.K_.push(e);const m=Qs(p);m.c_()&&m.b_&&m.S_(e.mutations)}function x0(p){return bn(p)&&!Qs(p).u_()&&p.K_.length>0}function y0(p){Qs(p).start()}async function MA(p){Qs(p).C_()}async function IA(p){const e=Qs(p);for(const m of p.K_)e.S_(m.mutations)}async function LA(p,e,m){const C=p.K_.shift(),R=tf.from(C,e,m);await g0(p,()=>p.remoteSyncer.applySuccessfulWrite(R)),await bh(p)}async function FA(p,e){e&&Qs(p).b_&&await async function(C,R){if(function(d){return c2(d)&&d!==vt.ABORTED}(R.code)){const M=C.K_.shift();Qs(C).h_(),await g0(C,()=>C.remoteSyncer.rejectFailedWrite(M.batchId,R)),await bh(C)}}(p,e),x0(p)&&y0(p)}async function Iv(p,e){const m=Bt(p);m.asyncQueue.verifyOperationInProgress(),Pt(Pn,"RemoteStore received new credentials");const C=bn(m);m.W_.add(3),await Tr(m),C&&m.j_.set("Unknown"),await m.remoteSyncer.handleCredentialChange(e),m.W_.delete(3),await Fa(m)}async function OA(p,e){const m=Bt(p);e?(m.W_.delete(2),await Fa(m)):e||(m.W_.add(2),await Tr(m),m.j_.set("Unknown"))}function Er(p){return p.J_||(p.J_=function(m,C,R){const M=Bt(m);return M.M_(),new mA(C,M.connection,M.authCredentials,M.appCheckCredentials,M.serializer,R)}(p.datastore,p.asyncQueue,{xo:SA.bind(null,p),No:CA.bind(null,p),Lo:AA.bind(null,p),p_:PA.bind(null,p)}),p.G_.push(async e=>{e?(p.J_.h_(),ff(p)?uf(p):p.j_.set("Unknown")):(await p.J_.stop(),m0(p))})),p.J_}function Qs(p){return p.Y_||(p.Y_=function(m,C,R){const M=Bt(m);return M.M_(),new gA(C,M.connection,M.authCredentials,M.appCheckCredentials,M.serializer,R)}(p.datastore,p.asyncQueue,{xo:()=>Promise.resolve(),No:MA.bind(null,p),Lo:FA.bind(null,p),D_:IA.bind(null,p),v_:LA.bind(null,p)}),p.G_.push(async e=>{e?(p.Y_.h_(),await bh(p)):(await p.Y_.stop(),p.K_.length>0&&(Pt(Pn,`Stopping write stream with ${p.K_.length} pending writes`),p.K_=[]))})),p.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,m,C,R,M){this.asyncQueue=e,this.timerId=m,this.targetTimeMs=C,this.op=R,this.removalCallback=M,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,m,C,R,M){const d=Date.now()+C,S=new df(e,m,d,R,M);return S.start(C),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cf(p,e){if(xs("AsyncQueue",`${e}: ${p}`),yr(p))return new At(vt.UNAVAILABLE,`${e}: ${p}`);throw p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{static emptySet(e){return new tr(e.comparator)}constructor(e){this.comparator=e?(m,C)=>e(m,C)||Lt.comparator(m.key,C.key):(m,C)=>Lt.comparator(m.key,C.key),this.keyedMap=zr(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const m=this.keyedMap.get(e);return m?this.sortedSet.indexOf(m):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((m,C)=>(e(m),!1))}add(e){const m=this.delete(e.key);return m.copy(m.keyedMap.insert(e.key,e),m.sortedSet.insert(e,null))}delete(e){const m=this.get(e);return m?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(m)):this}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const m=this.sortedSet.getIterator(),C=e.sortedSet.getIterator();for(;m.hasNext();){const R=m.getNext().key,M=C.getNext().key;if(!R.isEqual(M))return!1}return!0}toString(){const e=[];return this.forEach(m=>{e.push(m.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,m){const C=new tr;return C.comparator=this.comparator,C.keyedMap=e,C.sortedSet=m,C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.Z_=new xe(Lt.comparator)}track(e){const m=e.doc.key,C=this.Z_.get(m);C?e.type!==0&&C.type===3?this.Z_=this.Z_.insert(m,e):e.type===3&&C.type!==1?this.Z_=this.Z_.insert(m,{type:C.type,doc:e.doc}):e.type===2&&C.type===2?this.Z_=this.Z_.insert(m,{type:2,doc:e.doc}):e.type===2&&C.type===0?this.Z_=this.Z_.insert(m,{type:0,doc:e.doc}):e.type===1&&C.type===0?this.Z_=this.Z_.remove(m):e.type===1&&C.type===2?this.Z_=this.Z_.insert(m,{type:1,doc:C.doc}):e.type===0&&C.type===1?this.Z_=this.Z_.insert(m,{type:2,doc:e.doc}):Dt():this.Z_=this.Z_.insert(m,e)}X_(){const e=[];return this.Z_.inorderTraversal((m,C)=>{e.push(C)}),e}}class fr{constructor(e,m,C,R,M,d,S,t,h){this.query=e,this.docs=m,this.oldDocs=C,this.docChanges=R,this.mutatedKeys=M,this.fromCache=d,this.syncStateChanged=S,this.excludesMetadataChanges=t,this.hasCachedResults=h}static fromInitialDocuments(e,m,C,R,M){const d=[];return m.forEach(S=>{d.push({type:0,doc:S})}),new fr(e,m,tr.emptySet(m),d,C,R,!0,!1,M)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const m=this.docChanges,C=e.docChanges;if(m.length!==C.length)return!1;for(let R=0;R<m.length;R++)if(m[R].type!==C[R].type||!m[R].doc.isEqual(C[R].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class NA{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(m,C){const R=Bt(m),M=R.queries;R.queries=Fv(),M.forEach((d,S)=>{for(const t of S.ta)t.onError(C)})})(this,new At(vt.ABORTED,"Firestore shutting down"))}}function Fv(){return new Nn(p=>Gg(p),Ih)}async function vf(p,e){const m=Bt(p);let C=3;const R=e.query;let M=m.queries.get(R);M?!M.na()&&e.ra()&&(C=2):(M=new DA,C=e.ra()?0:1);try{switch(C){case 0:M.ea=await m.onListen(R,!0);break;case 1:M.ea=await m.onListen(R,!1);break;case 2:await m.onFirstRemoteStoreListen(R)}}catch(d){const S=cf(d,`Initialization of query '${Kn(e.query)}' failed`);return void e.onError(S)}m.queries.set(R,M),M.ta.push(e),e.sa(m.onlineState),M.ea&&e.oa(M.ea)&&mf(m)}async function pf(p,e){const m=Bt(p),C=e.query;let R=3;const M=m.queries.get(C);if(M){const d=M.ta.indexOf(e);d>=0&&(M.ta.splice(d,1),M.ta.length===0?R=e.ra()?0:1:!M.na()&&e.ra()&&(R=2))}switch(R){case 0:return m.queries.delete(C),m.onUnlisten(C,!0);case 1:return m.queries.delete(C),m.onUnlisten(C,!1);case 2:return m.onLastRemoteStoreUnlisten(C);default:return}}function bA(p,e){const m=Bt(p);let C=!1;for(const R of e){const M=R.query,d=m.queries.get(M);if(d){for(const S of d.ta)S.oa(R)&&(C=!0);d.ea=R}}C&&mf(m)}function BA(p,e,m){const C=Bt(p),R=C.queries.get(e);if(R)for(const M of R.ta)M.onError(m);C.queries.delete(e)}function mf(p){p.ia.forEach(e=>{e.next()})}var pu,Ov;(Ov=pu||(pu={}))._a="default",Ov.Cache="cache";class gf{constructor(e,m,C){this.query=e,this.aa=m,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=C||{}}oa(e){if(!this.options.includeMetadataChanges){const C=[];for(const R of e.docChanges)R.type!==3&&C.push(R);e=new fr(e.query,e.docs,e.oldDocs,C,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let m=!1;return this.ua?this.la(e)&&(this.aa.next(e),m=!0):this.ha(e,this.onlineState)&&(this.Pa(e),m=!0),this.ca=e,m}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let m=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),m=!0),m}ha(e,m){if(!e.fromCache||!this.ra())return!0;const C=m!=="Offline";return(!this.options.Ta||!C)&&(!e.docs.isEmpty()||e.hasCachedResults||m==="Offline")}la(e){if(e.docChanges.length>0)return!0;const m=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!m)&&this.options.includeMetadataChanges===!0}Pa(e){e=fr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==pu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.key=e}}class E0{constructor(e){this.key=e}}class VA{constructor(e,m){this.query=e,this.fa=m,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Yt(),this.mutatedKeys=Yt(),this.ya=Ug(e),this.wa=new tr(this.ya)}get ba(){return this.fa}Sa(e,m){const C=m?m.Da:new Lv,R=m?m.wa:this.wa;let M=m?m.mutatedKeys:this.mutatedKeys,d=R,S=!1;const t=this.query.limitType==="F"&&R.size===this.query.limit?R.last():null,h=this.query.limitType==="L"&&R.size===this.query.limit?R.first():null;if(e.inorderTraversal((x,o)=>{const a=R.get(x),r=Lh(this.query,o)?o:null,i=!!a&&this.mutatedKeys.has(a.key),n=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let l=!1;a&&r?a.data.isEqual(r.data)?i!==n&&(C.track({type:3,doc:r}),l=!0):this.va(a,r)||(C.track({type:2,doc:r}),l=!0,(t&&this.ya(r,t)>0||h&&this.ya(r,h)<0)&&(S=!0)):!a&&r?(C.track({type:0,doc:r}),l=!0):a&&!r&&(C.track({type:1,doc:a}),l=!0,(t||h)&&(S=!0)),l&&(r?(d=d.add(r),M=n?M.add(x):M.delete(x)):(d=d.delete(x),M=M.delete(x)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),M=M.delete(x.key),C.track({type:1,doc:x})}return{wa:d,Da:C,ls:S,mutatedKeys:M}}va(e,m){return e.hasLocalMutations&&m.hasCommittedMutations&&!m.hasLocalMutations}applyChanges(e,m,C,R){const M=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((x,o)=>function(r,i){const n=l=>{switch(l){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return n(r)-n(i)}(x.type,o.type)||this.ya(x.doc,o.doc)),this.Ca(C),R=R!=null&&R;const S=m&&!R?this.Fa():[],t=this.pa.size===0&&this.current&&!R?1:0,h=t!==this.ga;return this.ga=t,d.length!==0||h?{snapshot:new fr(this.query,e.wa,M,d,e.mutatedKeys,t===0,h,!1,!!C&&C.resumeToken.approximateByteSize()>0),Ma:S}:{Ma:S}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Lv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(m=>this.fa=this.fa.add(m)),e.modifiedDocuments.forEach(m=>{}),e.removedDocuments.forEach(m=>this.fa=this.fa.delete(m)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Yt(),this.wa.forEach(C=>{this.xa(C.key)&&(this.pa=this.pa.add(C.key))});const m=[];return e.forEach(C=>{this.pa.has(C)||m.push(new E0(C))}),this.pa.forEach(C=>{e.has(C)||m.push(new T0(C))}),m}Oa(e){this.fa=e.gs,this.pa=Yt();const m=this.Sa(e.documents);return this.applyChanges(m,!0)}Na(){return fr.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xf="SyncEngine";class GA{constructor(e,m,C){this.query=e,this.targetId=m,this.view=C}}class UA{constructor(e){this.key=e,this.Ba=!1}}class zA{constructor(e,m,C,R,M,d){this.localStore=e,this.remoteStore=m,this.eventManager=C,this.sharedClientState=R,this.currentUser=M,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Nn(S=>Gg(S),Ih),this.qa=new Map,this.Qa=new Set,this.$a=new xe(Lt.comparator),this.Ka=new Map,this.Ua=new nf,this.Wa={},this.Ga=new Map,this.za=ur.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function XA(p,e,m=!0){const C=w0(p);let R;const M=C.ka.get(e);return M?(C.sharedClientState.addLocalQueryTarget(M.targetId),R=M.view.Na()):R=await S0(C,e,m,!0),R}async function WA(p,e){const m=w0(p);await S0(m,e,!0,!1)}async function S0(p,e,m,C){const R=await hA(p.localStore,ji(e)),M=R.targetId,d=p.sharedClientState.addLocalQueryTarget(M,m);let S;return C&&(S=await YA(p,e,M,d==="current",R.resumeToken)),p.isPrimaryClient&&m&&v0(p.remoteStore,R),S}async function YA(p,e,m,C,R){p.Ha=(o,a,r)=>async function(n,l,s,u){let f=l.view.Sa(s);f.ls&&(f=await Av(n.localStore,l.query,!1).then(({documents:y})=>l.view.Sa(y,f)));const c=u&&u.targetChanges.get(l.targetId),v=u&&u.targetMismatches.get(l.targetId)!=null,g=l.view.applyChanges(f,n.isPrimaryClient,c,v);return Nv(n,l.targetId,g.Ma),g.snapshot}(p,o,a,r);const M=await Av(p.localStore,e,!0),d=new VA(e,M.gs),S=d.Sa(M.documents),t=La.createSynthesizedTargetChangeForCurrentChange(m,C&&p.onlineState!=="Offline",R),h=d.applyChanges(S,p.isPrimaryClient,t);Nv(p,m,h.Ma);const x=new GA(e,m,d);return p.ka.set(e,x),p.qa.has(m)?p.qa.get(m).push(e):p.qa.set(m,[e]),h.snapshot}async function HA(p,e,m){const C=Bt(p),R=C.ka.get(e),M=C.qa.get(R.targetId);if(M.length>1)return C.qa.set(R.targetId,M.filter(d=>!Ih(d,e))),void C.ka.delete(e);C.isPrimaryClient?(C.sharedClientState.removeLocalQueryTarget(R.targetId),C.sharedClientState.isActiveQueryTarget(R.targetId)||await cu(C.localStore,R.targetId,!1).then(()=>{C.sharedClientState.clearQueryState(R.targetId),m&&hf(C.remoteStore,R.targetId),mu(C,R.targetId)}).catch(xr)):(mu(C,R.targetId),await cu(C.localStore,R.targetId,!0))}async function KA(p,e){const m=Bt(p),C=m.ka.get(e),R=m.qa.get(C.targetId);m.isPrimaryClient&&R.length===1&&(m.sharedClientState.removeLocalQueryTarget(C.targetId),hf(m.remoteStore,C.targetId))}async function $A(p,e,m){const C=_A(p);try{const R=await function(d,S){const t=Bt(d),h=we.now(),x=S.reduce((r,i)=>r.add(i.key),Yt());let o,a;return t.persistence.runTransaction("Locally write mutations","readwrite",r=>{let i=ys(),n=Yt();return t.ds.getEntries(r,x).next(l=>{i=l,i.forEach((s,u)=>{u.isValidDocument()||(n=n.add(s))})}).next(()=>t.localDocuments.getOverlayedDocuments(r,i)).next(l=>{o=l;const s=[];for(const u of S){const f=h2(u,o.get(u.key).overlayedDocument);f!=null&&s.push(new en(u.key,f,Lg(f.value.mapValue),Mi.exists(!0)))}return t.mutationQueue.addMutationBatch(r,h,s,S)}).next(l=>{a=l;const s=l.applyToLocalDocumentSet(o,n);return t.documentOverlayCache.saveOverlays(r,l.batchId,s)})}).then(()=>({batchId:a.batchId,changes:Xg(o)}))}(C.localStore,e);C.sharedClientState.addPendingMutation(R.batchId),function(d,S,t){let h=d.Wa[d.currentUser.toKey()];h||(h=new xe(Kt)),h=h.insert(S,t),d.Wa[d.currentUser.toKey()]=h}(C,R.batchId,m),await Oa(C,R.changes),await bh(C.remoteStore)}catch(R){const M=cf(R,"Failed to persist write");m.reject(M)}}async function C0(p,e){const m=Bt(p);try{const C=await rA(m.localStore,e);e.targetChanges.forEach((R,M)=>{const d=m.Ka.get(M);d&&(se(R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size<=1),R.addedDocuments.size>0?d.Ba=!0:R.modifiedDocuments.size>0?se(d.Ba):R.removedDocuments.size>0&&(se(d.Ba),d.Ba=!1))}),await Oa(m,C,e)}catch(C){await xr(C)}}function Dv(p,e,m){const C=Bt(p);if(C.isPrimaryClient&&m===0||!C.isPrimaryClient&&m===1){const R=[];C.ka.forEach((M,d)=>{const S=d.view.sa(e);S.snapshot&&R.push(S.snapshot)}),function(d,S){const t=Bt(d);t.onlineState=S;let h=!1;t.queries.forEach((x,o)=>{for(const a of o.ta)a.sa(S)&&(h=!0)}),h&&mf(t)}(C.eventManager,e),R.length&&C.La.p_(R),C.onlineState=e,C.isPrimaryClient&&C.sharedClientState.setOnlineState(e)}}async function jA(p,e,m){const C=Bt(p);C.sharedClientState.updateQueryState(e,"rejected",m);const R=C.Ka.get(e),M=R&&R.key;if(M){let d=new xe(Lt.comparator);d=d.insert(M,Ke.newNoDocument(M,Vt.min()));const S=Yt().add(M),t=new Dh(Vt.min(),new Map,new xe(Kt),d,S);await C0(C,t),C.$a=C.$a.remove(M),C.Ka.delete(e),yf(C)}else await cu(C.localStore,e,!1).then(()=>mu(C,e,m)).catch(xr)}async function QA(p,e){const m=Bt(p),C=e.batch.batchId;try{const R=await nA(m.localStore,e);P0(m,C,null),A0(m,C),m.sharedClientState.updateMutationState(C,"acknowledged"),await Oa(m,R)}catch(R){await xr(R)}}async function JA(p,e,m){const C=Bt(p);try{const R=await function(d,S){const t=Bt(d);return t.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let x;return t.mutationQueue.lookupMutationBatch(h,S).next(o=>(se(o!==null),x=o.keys(),t.mutationQueue.removeMutationBatch(h,o))).next(()=>t.mutationQueue.performConsistencyCheck(h)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(h,x,S)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,x)).next(()=>t.localDocuments.getDocuments(h,x))})}(C.localStore,e);P0(C,e,m),A0(C,e),C.sharedClientState.updateMutationState(e,"rejected",m),await Oa(C,R)}catch(R){await xr(R)}}function A0(p,e){(p.Ga.get(e)||[]).forEach(m=>{m.resolve()}),p.Ga.delete(e)}function P0(p,e,m){const C=Bt(p);let R=C.Wa[C.currentUser.toKey()];if(R){const M=R.get(e);M&&(m?M.reject(m):M.resolve(),R=R.remove(e)),C.Wa[C.currentUser.toKey()]=R}}function mu(p,e,m=null){p.sharedClientState.removeLocalQueryTarget(e);for(const C of p.qa.get(e))p.ka.delete(C),m&&p.La.Ja(C,m);p.qa.delete(e),p.isPrimaryClient&&p.Ua.Sr(e).forEach(C=>{p.Ua.containsKey(C)||R0(p,C)})}function R0(p,e){p.Qa.delete(e.path.canonicalString());const m=p.$a.get(e);m!==null&&(hf(p.remoteStore,m),p.$a=p.$a.remove(e),p.Ka.delete(m),yf(p))}function Nv(p,e,m){for(const C of m)C instanceof T0?(p.Ua.addReference(C.key,e),kA(p,C)):C instanceof E0?(Pt(xf,"Document no longer in limbo: "+C.key),p.Ua.removeReference(C.key,e),p.Ua.containsKey(C.key)||R0(p,C.key)):Dt()}function kA(p,e){const m=e.key,C=m.path.canonicalString();p.$a.get(m)||p.Qa.has(C)||(Pt(xf,"New document in limbo: "+m),p.Qa.add(C),yf(p))}function yf(p){for(;p.Qa.size>0&&p.$a.size<p.maxConcurrentLimboResolutions;){const e=p.Qa.values().next().value;p.Qa.delete(e);const m=new Lt(pe.fromString(e)),C=p.za.next();p.Ka.set(C,new UA(m)),p.$a=p.$a.insert(m,C),v0(p.remoteStore,new Vs(ji(Mh(m.path)),C,"TargetPurposeLimboResolution",Ph.ae))}}async function Oa(p,e,m){const C=Bt(p),R=[],M=[],d=[];C.ka.isEmpty()||(C.ka.forEach((S,t)=>{d.push(C.Ha(t,e,m).then(h=>{var x;if((h||m)&&C.isPrimaryClient){const o=h?!h.fromCache:(x=m==null?void 0:m.targetChanges.get(t.targetId))===null||x===void 0?void 0:x.current;C.sharedClientState.updateQueryState(t.targetId,o?"current":"not-current")}if(h){R.push(h);const o=af.Yi(t.targetId,h);M.push(o)}}))}),await Promise.all(d),C.La.p_(R),await async function(t,h){const x=Bt(t);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",o=>pt.forEach(h,a=>pt.forEach(a.Hi,r=>x.persistence.referenceDelegate.addReference(o,a.targetId,r)).next(()=>pt.forEach(a.Ji,r=>x.persistence.referenceDelegate.removeReference(o,a.targetId,r)))))}catch(o){if(!yr(o))throw o;Pt(of,"Failed to update sequence numbers: "+o)}for(const o of h){const a=o.targetId;if(!o.fromCache){const r=x.Ts.get(a),i=r.snapshotVersion,n=r.withLastLimboFreeSnapshotVersion(i);x.Ts=x.Ts.insert(a,n)}}}(C.localStore,M))}async function ZA(p,e){const m=Bt(p);if(!m.currentUser.isEqual(e)){Pt(xf,"User change. New user:",e.toKey());const C=await u0(m.localStore,e);m.currentUser=e,function(M,d){M.Ga.forEach(S=>{S.forEach(t=>{t.reject(new At(vt.CANCELLED,d))})}),M.Ga.clear()}(m,"'waitForPendingWrites' promise is rejected due to a user change."),m.sharedClientState.handleUserChange(e,C.removedBatchIds,C.addedBatchIds),await Oa(m,C.Rs)}}function qA(p,e){const m=Bt(p),C=m.Ka.get(e);if(C&&C.Ba)return Yt().add(C.key);{let R=Yt();const M=m.qa.get(e);if(!M)return R;for(const d of M){const S=m.ka.get(d);R=R.unionWith(S.view.ba)}return R}}function w0(p){const e=Bt(p);return e.remoteStore.remoteSyncer.applyRemoteEvent=C0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jA.bind(null,e),e.La.p_=bA.bind(null,e.eventManager),e.La.Ja=BA.bind(null,e.eventManager),e}function _A(p){const e=Bt(p);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JA.bind(null,e),e}class Jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,m){return null}nu(e,m){return null}eu(e){return sA(this.persistence,new tA,e.initialUser,this.serializer)}Xa(e){return new l0(rf.ri,this.serializer)}Za(e){return new uA}async terminate(){var e,m;(e=this.gcScheduler)===null||e===void 0||e.stop(),(m=this.indexBackfillerScheduler)===null||m===void 0||m.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jo.provider={build:()=>new Jo};class tP extends Jo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,m){se(this.persistence.referenceDelegate instanceof jo);const C=this.persistence.referenceDelegate.garbageCollector;return new U2(C,e.asyncQueue,m)}Xa(e){const m=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new l0(C=>jo.ri(C,m),this.serializer)}}class gu{async initialize(e,m){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(m),this.remoteStore=this.createRemoteStore(m),this.eventManager=this.createEventManager(m),this.syncEngine=this.createSyncEngine(m,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=C=>Dv(this.syncEngine,C,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZA.bind(null,this.syncEngine),await OA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NA}()}createDatastore(e){const m=Nh(e.databaseInfo.databaseId),C=function(M){return new pA(M)}(e.databaseInfo);return function(M,d,S,t){return new yA(M,d,S,t)}(e.authCredentials,e.appCheckCredentials,C,m)}createRemoteStore(e){return function(C,R,M,d,S){return new EA(C,R,M,d,S)}(this.localStore,this.datastore,e.asyncQueue,m=>Dv(this.syncEngine,m,0),function(){return wv.D()?new wv:new fA}())}createSyncEngine(e,m){return function(R,M,d,S,t,h,x){const o=new zA(R,M,d,S,t,h);return x&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,m)}async terminate(){var e,m;await async function(R){const M=Bt(R);Pt(Pn,"RemoteStore shutting down."),M.W_.add(5),await Tr(M),M.z_.shutdown(),M.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(m=this.eventManager)===null||m===void 0||m.terminate()}}gu.provider={build:()=>new gu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,m){setTimeout(()=>{this.muted||e(m)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class eP{constructor(e,m,C,R,M){this.authCredentials=e,this.appCheckCredentials=m,this.asyncQueue=C,this.databaseInfo=R,this.user=We.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=M,this.authCredentials.start(C,async d=>{Pt(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(C,d=>(Pt(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(m){const C=cf(m,"Failed to shutdown persistence");e.reject(C)}}),e.promise}}async function Ml(p,e){p.asyncQueue.verifyOperationInProgress(),Pt(Js,"Initializing OfflineComponentProvider");const m=p.configuration;await e.initialize(m);let C=m.initialUser;p.setCredentialChangeListener(async R=>{C.isEqual(R)||(await u0(e.localStore,R),C=R)}),e.persistence.setDatabaseDeletedListener(()=>p.terminate()),p._offlineComponents=e}async function bv(p,e){p.asyncQueue.verifyOperationInProgress();const m=await M0(p);Pt(Js,"Initializing OnlineComponentProvider"),await e.initialize(m,p.configuration),p.setCredentialChangeListener(C=>Iv(e.remoteStore,C)),p.setAppCheckTokenChangeListener((C,R)=>Iv(e.remoteStore,R)),p._onlineComponents=e}async function M0(p){if(!p._offlineComponents)if(p._uninitializedComponentsProvider){Pt(Js,"Using user provided OfflineComponentProvider");try{await Ml(p,p._uninitializedComponentsProvider._offline)}catch(e){const m=e;if(!function(R){return R.name==="FirebaseError"?R.code===vt.FAILED_PRECONDITION||R.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&R instanceof DOMException)||R.code===22||R.code===20||R.code===11}(m))throw m;ar("Error using user provided cache. Falling back to memory cache: "+m),await Ml(p,new Jo)}}else Pt(Js,"Using default OfflineComponentProvider"),await Ml(p,new tP(void 0));return p._offlineComponents}async function Ef(p){return p._onlineComponents||(p._uninitializedComponentsProvider?(Pt(Js,"Using user provided OnlineComponentProvider"),await bv(p,p._uninitializedComponentsProvider._online)):(Pt(Js,"Using default OnlineComponentProvider"),await bv(p,new gu))),p._onlineComponents}function I0(p){return M0(p).then(e=>e.persistence)}function L0(p){return Ef(p).then(e=>e.remoteStore)}function iP(p){return Ef(p).then(e=>e.syncEngine)}async function ko(p){const e=await Ef(p),m=e.eventManager;return m.onListen=XA.bind(null,e.syncEngine),m.onUnlisten=HA.bind(null,e.syncEngine),m.onFirstRemoteStoreListen=WA.bind(null,e.syncEngine),m.onLastRemoteStoreUnlisten=KA.bind(null,e.syncEngine),m}function sP(p){return p.asyncQueue.enqueue(async()=>{const e=await I0(p),m=await L0(p);return e.setNetworkEnabled(!0),function(R){const M=Bt(R);return M.W_.delete(0),Fa(M)}(m)})}function nP(p){return p.asyncQueue.enqueue(async()=>{const e=await I0(p),m=await L0(p);return e.setNetworkEnabled(!1),async function(R){const M=Bt(R);M.W_.add(0),await Tr(M),M.j_.set("Offline")}(m)})}function rP(p,e,m={}){const C=new ps;return p.asyncQueue.enqueueAndForget(async()=>function(M,d,S,t,h){const x=new Tf({next:a=>{x.su(),d.enqueueAndForget(()=>pf(M,o));const r=a.docs.has(S);!r&&a.fromCache?h.reject(new At(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):r&&a.fromCache&&t&&t.source==="server"?h.reject(new At(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(a)},error:a=>h.reject(a)}),o=new gf(Mh(S.path),x,{includeMetadataChanges:!0,Ta:!0});return vf(M,o)}(await ko(p),p.asyncQueue,e,m,C)),C.promise}function aP(p,e,m={}){const C=new ps;return p.asyncQueue.enqueueAndForget(async()=>function(M,d,S,t,h){const x=new Tf({next:a=>{x.su(),d.enqueueAndForget(()=>pf(M,o)),a.fromCache&&t.source==="server"?h.reject(new At(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(a)},error:a=>h.reject(a)}),o=new gf(S,x,{includeMetadataChanges:!0,Ta:!0});return vf(M,o)}(await ko(p),p.asyncQueue,e,m,C)),C.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(p){const e={};return p.timeoutSeconds!==void 0&&(e.timeoutSeconds=p.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(p,e,m){if(!m)throw new At(vt.INVALID_ARGUMENT,`Function ${p}() cannot be called with an empty ${e}.`)}function oP(p,e,m,C){if(e===!0&&C===!0)throw new At(vt.INVALID_ARGUMENT,`${p} and ${m} cannot be used together.`)}function Vv(p){if(!Lt.isDocumentKey(p))throw new At(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${p} has ${p.length}.`)}function Gv(p){if(Lt.isDocumentKey(p))throw new At(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${p} has ${p.length}.`)}function Bh(p){if(p===void 0)return"undefined";if(p===null)return"null";if(typeof p=="string")return p.length>20&&(p=`${p.substring(0,20)}...`),JSON.stringify(p);if(typeof p=="number"||typeof p=="boolean")return""+p;if(typeof p=="object"){if(p instanceof Array)return"an array";{const e=function(C){return C.constructor?C.constructor.name:null}(p);return e?`a custom ${e} object`:"an object"}}return typeof p=="function"?"a function":Dt()}function ni(p,e){if("_delegate"in p&&(p=p._delegate),!(p instanceof e)){if(e.name===p.constructor.name)throw new At(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const m=Bh(p);throw new At(vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${m}`)}}return p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firestore.googleapis.com",Uv=!0;class zv{constructor(e){var m,C;if(e.host===void 0){if(e.ssl!==void 0)throw new At(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D0,this.ssl=Uv}else this.host=e.host,this.ssl=(m=e.ssl)!==null&&m!==void 0?m:Uv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h0)throw new At(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F0((C=e.experimentalLongPollingOptions)!==null&&C!==void 0?C:{}),function(M){if(M.timeoutSeconds!==void 0){if(isNaN(M.timeoutSeconds))throw new At(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (must not be NaN)`);if(M.timeoutSeconds<5)throw new At(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (minimum allowed value is 5)`);if(M.timeoutSeconds>30)throw new At(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${M.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(C,R){return C.timeoutSeconds===R.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,m,C,R){this._authCredentials=e,this._appCheckCredentials=m,this._databaseId=C,this._app=R,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(C){if(!C)return new pC;switch(C.type){case"firstParty":return new yC(C.sessionIndex||"0",C.iamToken||null,C.authTokenFactory||null);case"provider":return C.client;default:throw new At(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(m){const C=Bv.get(m);C&&(Pt("ComponentProvider","Removing Datastore"),Bv.delete(m),C.terminate())}(this),Promise.resolve()}}function hP(p,e,m,C={}){var R;const M=(p=ni(p,Vh))._getSettings(),d=Object.assign(Object.assign({},M),{emulatorOptions:p._getEmulatorOptions()}),S=`${e}:${m}`;M.host!==D0&&M.host!==S&&ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const t=Object.assign(Object.assign({},M),{host:S,ssl:!1,emulatorOptions:C});if(!ms(t,d)&&(p._setSettings(t),C.mockUserToken)){let h,x;if(typeof C.mockUserToken=="string")h=C.mockUserToken,x=We.MOCK_USER;else{h=YE(C.mockUserToken,(R=p._app)===null||R===void 0?void 0:R.options.projectId);const o=C.mockUserToken.sub||C.mockUserToken.user_id;if(!o)throw new At(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new We(o)}p._authCredentials=new mC(new yg(h,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,m,C){this.converter=m,this._query=C,this.type="query",this.firestore=e}withConverter(e){return new Bn(this.firestore,e,this._query)}}class je{constructor(e,m,C){this.converter=m,this._key=C,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}}class Xs extends Bn{constructor(e,m,C){super(e,m,Mh(C)),this._path=C,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new Lt(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function Xv(p,e,...m){if(p=Le(p),O0("collection","path",e),p instanceof Vh){const C=pe.fromString(e,...m);return Gv(C),new Xs(p,null,C)}{if(!(p instanceof je||p instanceof Xs))throw new At(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=p._path.child(pe.fromString(e,...m));return Gv(C),new Xs(p.firestore,null,C)}}function Wr(p,e,...m){if(p=Le(p),arguments.length===1&&(e=Tg.newId()),O0("doc","path",e),p instanceof Vh){const C=pe.fromString(e,...m);return Vv(C),new je(p,null,new Lt(C))}{if(!(p instanceof je||p instanceof Xs))throw new At(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=p._path.child(pe.fromString(e,...m));return Vv(C),new je(p.firestore,p instanceof Xs?p.converter:null,new Lt(C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="AsyncQueue";class Yv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new d0(this,"async_queue_retry"),this.bu=()=>{const C=wl();C&&Pt(Wv,"Visibility state changed to "+C.visibilityState),this.a_.t_()},this.Su=e;const m=wl();m&&typeof m.addEventListener=="function"&&m.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const m=wl();m&&typeof m.removeEventListener=="function"&&m.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const m=new ps;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(m.resolve,m.reject),m.promise)).then(()=>m.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!yr(e))throw e;Pt(Wv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const m=this.Su.then(()=>(this.pu=!0,e().catch(C=>{this.gu=C,this.pu=!1;const R=function(d){let S=d.message||"";return d.stack&&(S=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),S}(C);throw xs("INTERNAL UNHANDLED ERROR: ",R),C}).then(C=>(this.pu=!1,C))));return this.Su=m,m}enqueueAfterDelay(e,m,C){this.Du(),this.wu.indexOf(e)>-1&&(m=0);const R=df.createAndSchedule(this,e,m,C,M=>this.Fu(M));return this.fu.push(R),R}Du(){this.gu&&Dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const m of this.fu)if(m.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((m,C)=>m.targetTimeMs-C.targetTimeMs);for(const m of this.fu)if(m.skipDelay(),e!=="all"&&m.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const m=this.fu.indexOf(e);this.fu.splice(m,1)}}function Hv(p){return function(m,C){if(typeof m!="object"||m===null)return!1;const R=m;for(const M of C)if(M in R&&typeof R[M]=="function")return!0;return!1}(p,["next","error","complete"])}class qi extends Vh{constructor(e,m,C,R){super(e,m,C,R),this.type="firestore",this._queue=new Yv,this._persistenceKey=(R==null?void 0:R.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yv(e),this._firestoreClient=void 0,await e}}}function lP(p,e,m){m||(m=ga);const C=_s(p,"firestore");if(C.isInitialized(m)){const R=C.getImmediate({identifier:m}),M=C.getOptions(m);if(ms(M,e))return R;throw new At(vt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new At(vt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h0)throw new At(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return C.initialize({options:e,instanceIdentifier:m})}function uP(p,e){const m=$u(),C=ga,R=_s(m,"firestore").getImmediate({identifier:C});if(!R._initialized){const M=XE("firestore");M&&hP(R,...M)}return R}function Sr(p){if(p._terminated)throw new At(vt.FAILED_PRECONDITION,"The client has already been terminated.");return p._firestoreClient||fP(p),p._firestoreClient}function fP(p){var e,m,C;const R=p._freezeSettings(),M=function(S,t,h,x){return new DC(S,t,h,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,F0(x.experimentalLongPollingOptions),x.useFetchStreams)}(p._databaseId,((e=p._app)===null||e===void 0?void 0:e.options.appId)||"",p._persistenceKey,R);p._componentsProvider||!((m=R.localCache)===null||m===void 0)&&m._offlineComponentProvider&&(!((C=R.localCache)===null||C===void 0)&&C._onlineComponentProvider)&&(p._componentsProvider={_offline:R.localCache._offlineComponentProvider,_online:R.localCache._onlineComponentProvider}),p._firestoreClient=new eP(p._authCredentials,p._appCheckCredentials,p._queue,M,p._componentsProvider&&function(S){const t=S==null?void 0:S._online.build();return{_offline:S==null?void 0:S._offline.build(t),_online:t}}(p._componentsProvider))}function dP(p){return sP(Sr(p=ni(p,qi)))}function cP(p){return nP(Sr(p=ni(p,qi)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dr(Ge.fromBase64String(e))}catch(m){throw new At(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+m)}}static fromUint8Array(e){return new dr(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let m=0;m<e.length;++m)if(e[m].length===0)throw new At(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,m){if(!isFinite(e)||e<-90||e>90)throw new At(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(m)||m<-180||m>180)throw new At(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+m);this._lat=e,this._long=m}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this._values=(e||[]).map(m=>m)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(C,R){if(C.length!==R.length)return!1;for(let M=0;M<C.length;++M)if(C[M]!==R[M])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=/^__.*__$/;class pP{constructor(e,m,C){this.data=e,this.fieldMask=m,this.fieldTransforms=C}toMutation(e,m){return this.fieldMask!==null?new en(e,this.data,this.fieldMask,m,this.fieldTransforms):new Ia(e,this.data,m,this.fieldTransforms)}}class N0{constructor(e,m,C){this.data=e,this.fieldMask=m,this.fieldTransforms=C}toMutation(e,m){return new en(e,this.data,this.fieldMask,m,this.fieldTransforms)}}function b0(p){switch(p){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class Pf{constructor(e,m,C,R,M,d){this.settings=e,this.databaseId=m,this.serializer=C,this.ignoreUndefinedProperties=R,M===void 0&&this.Bu(),this.fieldTransforms=M||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var m;const C=(m=this.path)===null||m===void 0?void 0:m.child(e),R=this.ku({path:C,Qu:!1});return R.$u(e),R}Ku(e){var m;const C=(m=this.path)===null||m===void 0?void 0:m.child(e),R=this.ku({path:C,Qu:!1});return R.Bu(),R}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(m=>e.isPrefixOf(m))!==void 0||this.fieldTransforms.find(m=>e.isPrefixOf(m.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(b0(this.Lu)&&vP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mP{constructor(e,m,C){this.databaseId=e,this.ignoreUndefinedProperties=m,this.serializer=C||Nh(e)}ju(e,m,C,R=!1){return new Pf({Lu:e,methodName:m,zu:C,path:Be.emptyPath(),Qu:!1,Gu:R},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(p){const e=p._freezeSettings(),m=Nh(p._databaseId);return new mP(p._databaseId,!!e.ignoreUndefinedProperties,m)}function B0(p,e,m,C,R,M={}){const d=p.ju(M.merge||M.mergeFields?2:0,e,m,R);Rf("Data must be an object, but it was:",d,C);const S=V0(C,d);let t,h;if(M.merge)t=new pi(d.fieldMask),h=d.fieldTransforms;else if(M.mergeFields){const x=[];for(const o of M.mergeFields){const a=xu(e,o,m);if(!d.contains(a))throw new At(vt.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);U0(x,a)||x.push(a)}t=new pi(x),h=d.fieldTransforms.filter(o=>t.covers(o.field))}else t=null,h=d.fieldTransforms;return new pP(new hi(S),t,h)}class zh extends Sf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function gP(p,e,m,C){const R=p.ju(1,e,m);Rf("Data must be an object, but it was:",R,C);const M=[],d=hi.empty();tn(C,(t,h)=>{const x=wf(e,t,m);h=Le(h);const o=R.Ku(x);if(h instanceof zh)M.push(x);else{const a=Da(h,o);a!=null&&(M.push(x),d.set(x,a))}});const S=new pi(M);return new N0(d,S,R.fieldTransforms)}function xP(p,e,m,C,R,M){const d=p.ju(1,e,m),S=[xu(e,C,m)],t=[R];if(M.length%2!=0)throw new At(vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<M.length;a+=2)S.push(xu(e,M[a])),t.push(M[a+1]);const h=[],x=hi.empty();for(let a=S.length-1;a>=0;--a)if(!U0(h,S[a])){const r=S[a];let i=t[a];i=Le(i);const n=d.Ku(r);if(i instanceof zh)h.push(r);else{const l=Da(i,n);l!=null&&(h.push(r),x.set(r,l))}}const o=new pi(h);return new N0(x,o,d.fieldTransforms)}function yP(p,e,m,C=!1){return Da(m,p.ju(C?4:3,e))}function Da(p,e){if(G0(p=Le(p)))return Rf("Unsupported field value:",e,p),V0(p,e);if(p instanceof Sf)return function(C,R){if(!b0(R.Lu))throw R.Wu(`${C._methodName}() can only be used with update() and set()`);if(!R.path)throw R.Wu(`${C._methodName}() is not currently supported inside arrays`);const M=C._toFieldTransform(R);M&&R.fieldTransforms.push(M)}(p,e),null;if(p===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),p instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(C,R){const M=[];let d=0;for(const S of C){let t=Da(S,R.Uu(d));t==null&&(t={nullValue:"NULL_VALUE"}),M.push(t),d++}return{arrayValue:{values:M}}}(p,e)}return function(C,R){if((C=Le(C))===null)return{nullValue:"NULL_VALUE"};if(typeof C=="number")return i2(R.serializer,C);if(typeof C=="boolean")return{booleanValue:C};if(typeof C=="string")return{stringValue:C};if(C instanceof Date){const M=we.fromDate(C);return{timestampValue:$o(R.serializer,M)}}if(C instanceof we){const M=new we(C.seconds,1e3*Math.floor(C.nanoseconds/1e3));return{timestampValue:$o(R.serializer,M)}}if(C instanceof Cf)return{geoPointValue:{latitude:C.latitude,longitude:C.longitude}};if(C instanceof dr)return{bytesValue:t0(R.serializer,C._byteString)};if(C instanceof je){const M=R.databaseId,d=C.firestore._databaseId;if(!d.isEqual(M))throw R.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${M.projectId}/${M.database}`);return{referenceValue:sf(C.firestore._databaseId||R.databaseId,C._key.path)}}if(C instanceof Af)return function(d,S){return{mapValue:{fields:{[Mg]:{stringValue:Ig},[Xo]:{arrayValue:{values:d.toArray().map(h=>{if(typeof h!="number")throw S.Wu("VectorValues must only contain numeric values.");return _u(S.serializer,h)})}}}}}}(C,R);throw R.Wu(`Unsupported field value: ${Bh(C)}`)}(p,e)}function V0(p,e){const m={};return Sg(p)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tn(p,(C,R)=>{const M=Da(R,e.qu(C));M!=null&&(m[C]=M)}),{mapValue:{fields:m}}}function G0(p){return!(typeof p!="object"||p===null||p instanceof Array||p instanceof Date||p instanceof we||p instanceof Cf||p instanceof dr||p instanceof je||p instanceof Sf||p instanceof Af)}function Rf(p,e,m){if(!G0(m)||!function(R){return typeof R=="object"&&R!==null&&(Object.getPrototypeOf(R)===Object.prototype||Object.getPrototypeOf(R)===null)}(m)){const C=Bh(m);throw C==="an object"?e.Wu(p+" a custom object"):e.Wu(p+" "+C)}}function xu(p,e,m){if((e=Le(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return wf(p,e);throw Zo("Field path arguments must be of type string or ",p,!1,void 0,m)}const TP=new RegExp("[~\\*/\\[\\]]");function wf(p,e,m){if(e.search(TP)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,p,!1,void 0,m);try{return new Gh(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,p,!1,void 0,m)}}function Zo(p,e,m,C,R){const M=C&&!C.isEmpty(),d=R!==void 0;let S=`Function ${e}() called with invalid data`;m&&(S+=" (via `toFirestore()`)"),S+=". ";let t="";return(M||d)&&(t+=" (found",M&&(t+=` in field ${C}`),d&&(t+=` in document ${R}`),t+=")"),new At(vt.INVALID_ARGUMENT,S+p+t)}function U0(p,e){return p.some(m=>m.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,m,C,R,M){this._firestore=e,this._userDataWriter=m,this._key=C,this._document=R,this._converter=M}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const m=this._document.data.field(X0("DocumentSnapshot.get",e));if(m!==null)return this._userDataWriter.convertValue(m)}}}class EP extends z0{data(){return super.data()}}function X0(p,e){return typeof e=="string"?wf(p,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(p){if(p.limitType==="L"&&p.explicitOrderBy.length===0)throw new At(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mf{}class SP extends Mf{}function Y0(p,e,...m){let C=[];e instanceof Mf&&C.push(e),C=C.concat(m),function(M){const d=M.filter(t=>t instanceof Lf).length,S=M.filter(t=>t instanceof If).length;if(d>1||d>0&&S>0)throw new At(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(C);for(const R of C)p=R._apply(p);return p}class If extends SP{constructor(e,m,C){super(),this._field=e,this._op=m,this._value=C,this.type="where"}static _create(e,m,C){return new If(e,m,C)}_apply(e){const m=this._parse(e);return H0(e._query,m),new Bn(e.firestore,e.converter,ou(e._query,m))}_parse(e){const m=Uh(e.firestore);return function(M,d,S,t,h,x,o){let a;if(h.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new At(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){$v(o,x);const i=[];for(const n of o)i.push(Kv(t,M,n));a={arrayValue:{values:i}}}else a=Kv(t,M,o)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||$v(o,x),a=yP(S,d,o,x==="in"||x==="not-in");return Ae.create(h,x,a)}(e._query,"where",m,e.firestore._databaseId,this._field,this._op,this._value)}}class Lf extends Mf{constructor(e,m){super(),this.type=e,this._queryConstraints=m}static _create(e,m){return new Lf(e,m)}_parse(e){const m=this._queryConstraints.map(C=>C._parse(e)).filter(C=>C.getFilters().length>0);return m.length===1?m[0]:Ni.create(m,this._getOperator())}_apply(e){const m=this._parse(e);return m.getFilters().length===0?e:(function(R,M){let d=R;const S=M.getFlattenedFilters();for(const t of S)H0(d,t),d=ou(d,t)}(e._query,m),new Bn(e.firestore,e.converter,ou(e._query,m)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Kv(p,e,m){if(typeof(m=Le(m))=="string"){if(m==="")throw new At(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vg(e)&&m.indexOf("/")!==-1)throw new At(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${m}' contains a '/' character.`);const C=e.path.child(pe.fromString(m));if(!Lt.isDocumentKey(C))throw new At(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${C}' is not because it has an odd number of segments (${C.length}).`);return rv(p,new Lt(C))}if(m instanceof je)return rv(p,m._key);throw new At(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(m)}.`)}function $v(p,e){if(!Array.isArray(p)||p.length===0)throw new At(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H0(p,e){const m=function(R,M){for(const d of R)for(const S of d.getFlattenedFilters())if(M.indexOf(S.op)>=0)return S.op;return null}(p.filters,function(R){switch(R){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(m!==null)throw m===e.op?new At(vt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new At(vt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${m.toString()}' filters.`)}class CP{convertValue(e,m="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,m);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,m);case 11:return this.convertObject(e.mapValue,m);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt()}}convertObject(e,m){return this.convertObjectMap(e.fields,m)}convertObjectMap(e,m="none"){const C={};return tn(e,(R,M)=>{C[R]=this.convertValue(M,m)}),C}convertVectorValue(e){var m,C,R;const M=(R=(C=(m=e.fields)===null||m===void 0?void 0:m[Xo].arrayValue)===null||C===void 0?void 0:C.values)===null||R===void 0?void 0:R.map(d=>Ee(d.doubleValue));return new Af(M)}convertGeoPoint(e){return new Cf(Ee(e.latitude),Ee(e.longitude))}convertArray(e,m){return(e.values||[]).map(C=>this.convertValue(C,m))}convertServerTimestamp(e,m){switch(m){case"previous":const C=wh(e);return C==null?null:this.convertValue(C,m);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const m=Ks(e);return new we(m.seconds,m.nanos)}convertDocumentKey(e,m){const C=pe.fromString(e);se(a0(C));const R=new xa(C.get(1),C.get(3)),M=new Lt(C.popFirst(5));return R.isEqual(m)||xs(`Document ${M} contains a document reference within a different database (${R.projectId}/${R.database}) which is not supported. It will be treated as a reference in the current database (${m.projectId}/${m.database}) instead.`),M}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(p,e,m){let C;return C=p?p.toFirestore(e):e,C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,m){this.hasPendingWrites=e,this.fromCache=m}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $0 extends z0{constructor(e,m,C,R,M,d){super(e,m,C,R,d),this._firestore=e,this._firestoreImpl=e,this.metadata=M}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const m=new Co(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(m,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,m={}){if(this._document){const C=this._document.data.field(X0("DocumentSnapshot.get",e));if(C!==null)return this._userDataWriter.convertValue(C,m.serverTimestamps)}}}class Co extends $0{data(e={}){return super.data(e)}}class j0{constructor(e,m,C,R){this._firestore=e,this._userDataWriter=m,this._snapshot=R,this.metadata=new Yr(R.hasPendingWrites,R.fromCache),this.query=C}get docs(){const e=[];return this.forEach(m=>e.push(m)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,m){this._snapshot.docs.forEach(C=>{e.call(m,new Co(this._firestore,this._userDataWriter,C.key,C,new Yr(this._snapshot.mutatedKeys.has(C.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const m=!!e.includeMetadataChanges;if(m&&this._snapshot.excludesMetadataChanges)throw new At(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===m||(this._cachedChanges=function(R,M){if(R._snapshot.oldDocs.isEmpty()){let d=0;return R._snapshot.docChanges.map(S=>{const t=new Co(R._firestore,R._userDataWriter,S.doc.key,S.doc,new Yr(R._snapshot.mutatedKeys.has(S.doc.key),R._snapshot.fromCache),R.query.converter);return S.doc,{type:"added",doc:t,oldIndex:-1,newIndex:d++}})}{let d=R._snapshot.oldDocs;return R._snapshot.docChanges.filter(S=>M||S.type!==3).map(S=>{const t=new Co(R._firestore,R._userDataWriter,S.doc.key,S.doc,new Yr(R._snapshot.mutatedKeys.has(S.doc.key),R._snapshot.fromCache),R.query.converter);let h=-1,x=-1;return S.type!==0&&(h=d.indexOf(S.doc.key),d=d.delete(S.doc.key)),S.type!==1&&(d=d.add(S.doc),x=d.indexOf(S.doc.key)),{type:AP(S.type),doc:t,oldIndex:h,newIndex:x}})}}(this,m),this._cachedChangesIncludeMetadataChanges=m),this._cachedChanges}}function AP(p){switch(p){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(p){p=ni(p,je);const e=ni(p.firestore,qi);return rP(Sr(e),p._key).then(m=>Q0(e,p,m))}class Ff extends CP{constructor(e){super(),this.firestore=e}convertBytes(e){return new dr(e)}convertReference(e){const m=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,m)}}function jv(p){p=ni(p,Bn);const e=ni(p.firestore,qi),m=Sr(e),C=new Ff(e);return W0(p._query),aP(m,p._query).then(R=>new j0(e,C,p,R))}function PP(p,e,m){p=ni(p,je);const C=ni(p.firestore,qi),R=K0(p.converter,e);return Of(C,[B0(Uh(C),"setDoc",p._key,R,p.converter!==null,m).toMutation(p._key,Mi.none())])}function RP(p,e,m,...C){p=ni(p,je);const R=ni(p.firestore,qi),M=Uh(R);let d;return d=typeof(e=Le(e))=="string"||e instanceof Gh?xP(M,"updateDoc",p._key,e,m,C):gP(M,"updateDoc",p._key,e),Of(R,[d.toMutation(p._key,Mi.exists(!0))])}function wP(p,e){const m=ni(p.firestore,qi),C=Wr(p),R=K0(p.converter,e);return Of(m,[B0(Uh(p.firestore),"addDoc",C._key,R,p.converter!==null,{}).toMutation(C._key,Mi.exists(!1))]).then(()=>C)}function Qv(p,...e){var m,C,R;p=Le(p);let M={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Hv(e[d])||(M=e[d],d++);const S={includeMetadataChanges:M.includeMetadataChanges,source:M.source};if(Hv(e[d])){const o=e[d];e[d]=(m=o.next)===null||m===void 0?void 0:m.bind(o),e[d+1]=(C=o.error)===null||C===void 0?void 0:C.bind(o),e[d+2]=(R=o.complete)===null||R===void 0?void 0:R.bind(o)}let t,h,x;if(p instanceof je)h=ni(p.firestore,qi),x=Mh(p._key.path),t={next:o=>{e[d]&&e[d](Q0(h,p,o))},error:e[d+1],complete:e[d+2]};else{const o=ni(p,Bn);h=ni(o.firestore,qi),x=o._query;const a=new Ff(h);t={next:r=>{e[d]&&e[d](new j0(h,a,o,r))},error:e[d+1],complete:e[d+2]},W0(p._query)}return function(a,r,i,n){const l=new Tf(n),s=new gf(r,l,i);return a.asyncQueue.enqueueAndForget(async()=>vf(await ko(a),s)),()=>{l.su(),a.asyncQueue.enqueueAndForget(async()=>pf(await ko(a),s))}}(Sr(h),x,S,t)}function Of(p,e){return function(C,R){const M=new ps;return C.asyncQueue.enqueueAndForget(async()=>$A(await iP(C),R,M)),M.promise}(Sr(p),e)}function Q0(p,e,m){const C=m.docs.get(e._key),R=new Ff(p);return new $0(p,R,e._key,C,new Yr(m.hasPendingWrites,m.fromCache),e.converter)}(function(e,m=!0){(function(R){gr=R})(mr),ki(new Di("firestore",(C,{instanceIdentifier:R,options:M})=>{const d=C.getProvider("app").getImmediate(),S=new qi(new gC(C.getProvider("auth-internal")),new TC(d,C.getProvider("app-check-internal")),function(h,x){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new At(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(h.options.projectId,x)}(d,R),d);return M=Object.assign({useFetchStreams:m},M),S._setSettings(M),S},"PUBLIC").setMultipleInstances(!0)),Si(Qc,Jc,e),Si(Qc,Jc,"esm2017")})();class MP{static getFormattedMessage(e,m){let C=e,R=m;return(typeof e!="string"||!e.toLowerCase().startsWith("nyx"))&&(C="NYX",R=[e,...m]),`%c${C}%c ${R.join(" ")}`}static getPrefixStyle(){return"background: #9F50F0; color: white; padding: 4px 8px; border-radius: 2px; font-weight: bold; line-height: 1.5; margin-bottom: 4px; display: inline-flex;"}static getMessageStyle(e){switch(e){case"info":return"color: #4CAF50; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"warn":return"color: #FF9800; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";case"error":return"color: #F44336; font-weight: normal; line-height: 1.5; padding: 4px; display: inline-flex;";default:return""}}static getArgsStrings(e){return e.filter(m=>typeof m=="string")}static getArgsOther(e){return e.filter(m=>typeof m!="string")}static getCaller(){const e=new Error().stack;return e?e.split(`
`)[3]??"unknown":"unknown"}static info(e,...m){console.log.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(m)),this.getPrefixStyle(),this.getMessageStyle("info"),...this.getArgsOther(m)])}static warn(e,...m){console.warn.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(m)),this.getPrefixStyle(),this.getMessageStyle("warn"),...this.getArgsOther(m)])}static error(e,...m){console.error.apply(console,[this.getFormattedMessage(e,this.getArgsStrings(m)),this.getPrefixStyle(),this.getMessageStyle("error"),...this.getArgsOther(m)])}}class Pi{static handleDefaultValue(e,m,C){if(e!==void 0)return e;throw new Error(`Could not load data, expected ${m} to be of type ${C}`)}static handleData(e,m,C){return!e||typeof e!="object"?this.handleDefaultValue(void 0,m,C):e[m]}static loadString(e,m,C){const R=this.handleData(e,m,"string");return typeof R=="string"?R:this.handleDefaultValue(C,m,"string")}static loadStringOrNull(e,m,C){const R=this.handleData(e,m,"string");return typeof R=="string"?R:this.handleDefaultValue(C,m,"string")}static loadBoolean(e,m,C){const R=this.handleData(e,m,"boolean");return typeof R=="boolean"?R:this.handleDefaultValue(C,m,"boolean")}static loadBooleanOrNull(e,m,C){const R=this.handleData(e,m,"boolean");return typeof R=="boolean"?R:this.handleDefaultValue(C,m,"boolean")}static loadNumber(e,m,C){const R=this.handleData(e,m,"number");return typeof R=="number"?R:this.handleDefaultValue(C,m,"number")}static loadNumberOrNull(e,m,C){const R=this.handleData(e,m,"number");return typeof R=="number"?R:this.handleDefaultValue(C,m,"number")}static loadEnum(e,m,C,R){const M=this.handleData(e,m,"string");return R.includes(M)?M:this.handleDefaultValue(C,m,"enum")}static loadEnumOrNull(e,m,C,R){const M=this.handleData(e,m,"string");return R.includes(M)?M:this.handleDefaultValue(C,m,"enum")}static loadArray(e,m,C){const R=this.handleData(e,m,"array");return Array.isArray(R)?R:this.handleDefaultValue(C,m,"array")}static loadArrayOrNull(e,m,C){const R=this.handleData(e,m,"array");return Array.isArray(R)?R:this.handleDefaultValue(C,m,"array")}static loadObject(e,m,C){const R=this.handleData(e,m,"object");return typeof R=="object"&&R!==null?R:this.handleDefaultValue(C,m,"object")}static loadObjectOrNull(e,m,C){const R=this.handleData(e,m,"object");return typeof R=="object"&&R!==null?R:this.handleDefaultValue(C,m,"object")}}const ah=class ah{constructor(e){mt(this,"id","");mt(this,"score",0);mt(this,"timestamp",new Date);mt(this,"userId","");mt(this,"version","0.0.19");mt(this,"gameMode",kl.Normal);e&&(this.id=Pi.loadString(e,"id",this.id),this.score=Pi.loadNumber(e,"score",this.score),this.userId=Pi.loadString(e,"userId",this.userId),this.version=Pi.loadString(e,"version",this.version),this.gameMode=Pi.loadEnum(e,"gameMode",this.gameMode,Object.values(kl)))}getRawData(){return{score:this.score,timestamp:this.timestamp,userId:this.userId,version:this.version,gameMode:this.gameMode}}};mt(ah,"Converter",{toFirestore:e=>e.getRawData(),fromFirestore:e=>{const m=e.data();return new ah({...m,id:e.id})}});let ia=ah;const J0=On("hiscores",()=>{const p=zt([]),e=M=>{p.value=Array.isArray(M)?M:[M]};return{hiscores:p,addNewHiscore:async(M,d)=>{const S=new ia({score:d,userId:M});await ai.addDocument(ls.Hiscores,S,ia.Converter)},subscribeHiscores:async()=>{const M=ai.getCollectionRef(ls.Hiscores);ai.subscribe({key:"hiscores",queryRef:Y0(M).withConverter(ia.Converter),callback:e,error:d=>{console.error("Error in subscription to hiscores.",d)}})},unsubscribeHiscores:async()=>{ai.unsubscribe("hiscores")}}}),Df=On("interface",()=>{const{isPlaying:p}=si(di()),e=zt(!1),m=zt(!1),C=zt(!1);return{isGameMenuVisible:C,isHiscoresVisible:e,isSettingsVisible:m,toggleGameMenu:()=>{p.value||(C.value=!C.value)},toggleHiscores:()=>e.value=!e.value,toggleSettings:()=>m.value=!m.value}}),IP=On("settings",()=>{const p=zt(!1),e=zt(1),m=zt(1);return{isFullscreen:p,musicVolume:e,sfxVolume:m}});class LP{constructor(e,m){mt(this,"scene");mt(this,"store",di());mt(this,"position");mt(this,"onDestroy");mt(this,"id",Hu());mt(this,"type",ti.EnergySmall);mt(this,"sprite");mt(this,"speed");mt(this,"isLarge",!1);this.scene=e,this.type=(m==null?void 0:m.type)??this.getRandomType((m==null?void 0:m.isLarge)??!1),this.position=(m==null?void 0:m.position)??{x:0,y:0},this.sprite=this.create(),this.speed=(m==null?void 0:m.speed)??5,this.onDestroy=(m==null?void 0:m.onDestroy)??(()=>{})}get key(){return this.type}getRandomType(e){if(!e)return ti.EnergySmall;const m=[ti.EnergyMedium,ti.EnergyLarge],C=[ti.HpMedium,ti.HpLarge],R=this.store.energy/100;return Math.random()>R?Dc(m):Dc(C)}create(){let e=2;return[ti.EnergyMedium,ti.HpMedium].includes(this.type)&&(e=1.5),this.scene.add.image(this.position.x,this.position.y,this.key).setOrigin(.5,.5).setRotation(Ls(0,Math.PI*2)).setScale(e).setDepth(100)}update(e){const m=e.x-this.sprite.x,C=e.y-this.sprite.y,R=Math.sqrt(m*m+C*C);if(R<300){const S=m/R*this.speed*3,t=C/R*this.speed*3;this.sprite.x+=S,this.sprite.y+=t}else this.sprite.x-=this.speed*3;this.sprite.rotation+=Ot.powerUp.rotationSpeed,(this.sprite.x<-this.sprite.width||this.sprite.y>this.scene.scale.height+this.sprite.height)&&this.destroy()}destroy(e=!1){this.onDestroy(this.id,{isDestroyedByPlayer:e,type:this.type,position:this.position}),this.sprite.destroy()}}class k0 extends pr.Scene{constructor(){super("Game");mt(this,"controls",null);mt(this,"background",null);mt(this,"player",null);mt(this,"velocity",1);mt(this,"store",di());mt(this,"asteroids",[]);mt(this,"lastSpawnTime",0);mt(this,"powerUps",[]);mt(this,"audio",null)}reset(){this.asteroids.forEach(m=>m.destroy()),this.asteroids=[],this.powerUps.forEach(m=>m.destroy()),this.powerUps=[],this.lastSpawnTime=0,this.scene.restart()}togglePaused(){this.store.togglePaused(),this.store.isPaused?this.scene.pause():this.scene.resume()}create(){if(!this.input.keyboard)throw new Error("No keyboard input found");this.controls=new BP(this.input.keyboard),this.background=new bP(this,this.controls),this.player=new NP(this,this.controls),this.player.setDepth(1e3),this.player.setPosition(200,this.scale.height/2),Ao(this.anims,"explosion/md","explosion/md",[0,1,2,3],0),qo.emit("current-scene-ready",this)}update(m,C){var t,h,x;if(!this.player||!this.background||this.store.isPaused)return;if(this.velocity=1+Math.log10(Math.max(1,this.store.score/1e3))*2+Math.pow(this.store.score/1e3,1.1),this.velocity=yi(this.velocity,1,20),!this.store.isInGame){this.background.update(this.velocity);return}if(!this.store.isPlaying)return;const R=this.player.currentPosition;this.asteroids.forEach(o=>o.update()),this.powerUps.forEach(o=>o.update(R)),this.background.update(this.velocity),this.player.update(this.velocity,m,C),this.trySpawnAsteroid();const M=this.player.bounds,d=this.isCollisionAsteroidDetected(M),S=this.isCollisionPowerUpDetected(M);if(d&&((t=this.player)!=null&&t.isDashing?(this.player.hp-=d.damage*Ot.player.dashDamageReduction,d.destroy(!0)):(this.player.hp-=d.damage,d.destroy(!1))),S&&S.destroy(!0),(x=(h=this.player)==null?void 0:h.beam)!=null&&x.isActive){const o=this.player.beam.sprite,a=new Phaser.Geom.Line(this.player.x+this.player.sprite.width/2-50,this.player.y,this.player.x+Math.cos(o.rotation)*o.displayWidth,this.player.y+Math.sin(o.rotation)*o.displayWidth);this.asteroids.forEach(r=>{var n;const i=r.sprite.getBounds();Phaser.Geom.Intersects.LineToRectangle(a,i)&&(r.hp-=((n=this.player)==null?void 0:n.damage)??1)})}}trySpawnAsteroid(){const m=Ot.asteroid.baseSpawnRate/this.velocity;this.time.now-this.lastSpawnTime>=m&&(this.lastSpawnTime=this.time.now,this.spawnAsteroid())}isCollisionAsteroidDetected(m){if(this.store.debug.isCollisionDisabled)return!1;for(const C of this.asteroids){const R=C.sprite.getBounds();if(Phaser.Geom.Rectangle.Overlaps(m,R))return C}return!1}isCollisionPowerUpDetected(m){for(const C of this.powerUps){const R=C.sprite.getBounds();if(Phaser.Geom.Intersects.RectangleToRectangle(m,R))return C}return!1}spawnAsteroid(){const m=new ME(this,{maxSpeed:this.velocity,isLarge:Math.random()>.8,onDestroy:this.onDestroyAsteroid.bind(this)});this.asteroids.push(m)}spawnPowerUp(m,C){const R=new LP(this,{position:m,isLarge:C,speed:this.velocity,onDestroy:this.onDestroyPowerUp.bind(this)});this.powerUps.push(R)}onDestroyAsteroid(m,C){this.asteroids=this.asteroids.filter(R=>R.id!==m),C!=null&&C.isDestroyedByPlayer&&(this.store.increaseScore(Math.round(C.size*2)),this.spawnPowerUp(C.position,C.isLarge))}onDestroyPowerUp(m,C){if(this.powerUps=this.powerUps.filter(R=>R.id!==m),!(!(C!=null&&C.isDestroyedByPlayer)||!this.player))switch(C.type){case ti.HpLarge:this.player.hp+=Ot.powerUp.hpLarge;break;case ti.HpMedium:this.player.hp+=Ot.powerUp.hpMedium;break;case ti.HpSmall:this.player.hp+=Ot.powerUp.hpSmall;break;case ti.EnergyLarge:this.player.energy+=Ot.powerUp.energyLarge;break;case ti.EnergyMedium:this.player.energy+=Ot.powerUp.energyMedium;break;case ti.EnergySmall:default:this.player.energy+=Ot.powerUp.energySmall;break}}}class FP extends pr.Scene{constructor(){super("Preloader")}init(){const{setPreloadProgress:e}=di();this.load.on("progress",m=>{e(m)})}preload(){this.load.setPath("assets"),this.load.image("player","whale.png"),this.load.image("blackhole","blackhole.png"),this.load.image("background/stars","background/stars.png"),this.load.image("background/dust","background/dust.png"),this.load.image("background/nebulae","background/nebulae.png"),this.load.image("background/planets","background/planets.png"),this.load.image("asteroid/1","asteroid/1.png"),this.load.image("asteroid/2","asteroid/2.png"),this.load.image("asteroid/3","asteroid/3.png"),this.load.image("asteroid/4","asteroid/4.png"),this.load.image("asteroid/5","asteroid/5.png"),this.load.image("asteroid/6","asteroid/6.png"),this.load.image("powerup/hp-small","powerup/pink0.png"),this.load.image("powerup/hp-medium","powerup/pink1.png"),this.load.image("powerup/hp-large","powerup/pink2.png"),this.load.image("powerup/energy-small","powerup/blue0.png"),this.load.image("powerup/energy-medium","powerup/blue1.png"),this.load.image("powerup/energy-large","powerup/blue2.png"),this.load.spritesheet("beam","beam.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("explosion/md","explosion/md.png",{frameWidth:32,frameHeight:32})}create(){qo.emit("preload-complete",this),this.scene.start("Game")}}const uo=(p,e,m)=>{const C=p.textures.get(e).getSourceImage().height;return p.add.tileSprite(0,0,p.scale.width,p.scale.height,e).setOrigin(0,0).setScrollFactor(0).setScale(p.scale.height/C).setDepth((m==null?void 0:m.depth)??0).setAlpha((m==null?void 0:m.alpha)??1)},Ao=(p,e,m,C,R=-1)=>p.create({key:e,frames:p.generateFrameNames(m,{frames:C}),frameRate:10,repeat:R}),OP=p=>p instanceof k0;class DP{constructor(e,m){mt(this,"scene");mt(this,"key","beam");mt(this,"origin",{x:0,y:0});mt(this,"id",Hu());mt(this,"sprite");mt(this,"isActive",!1);mt(this,"beamStartTime",0);mt(this,"scaleX",Ot.beam.scaleX);this.scene=e,this.origin=m,this.sprite=this.scene.add.sprite(this.origin.x-50,this.origin.y,this.key).setAlpha(0).setOrigin(0,.5),Ao(this.scene.anims,"beam-start","beam",[0,1,2,3,4,5,6,7],0),Ao(this.scene.anims,"beam-active","beam",[8,9,10,11,12,13,14,15]),Ao(this.scene.anims,"beam-end","beam",[16,17,18,19,20,21,22,23],0)}get bounds(){const e=this.sprite.getBounds().getPoints(4),m=Math.min(...e.map(d=>d.x)),C=Math.max(...e.map(d=>d.x)),R=Math.min(...e.map(d=>d.y)),M=Math.max(...e.map(d=>d.y));return new Phaser.Geom.Rectangle(m,R,C-m,M-R)}get scaleY(){var e;return yi(((e=this.scene.player)==null?void 0:e.damage)??1,1,4)}start(e){this.isActive=!0,this.sprite.setAlpha(1).setScale(this.scaleX,this.scaleY),this.sprite.anims&&(this.sprite.anims.play("beam-start").once("animationcomplete",()=>this.isActive&&this.sprite.anims.play("beam-active")),this.update(e),this.beamStartTime=this.scene.time.now)}update(e){if(!this.isActive)return;const m=this.scene.input.activePointer,C=Phaser.Math.Angle.Between(e.x,e.y,m.worldX,m.worldY),R=Ot.beam.minAngle,M=Ot.beam.maxAngle,d=yi(C,R,M);this.sprite.setRotation(d)}end(){this.isActive=!1,this.sprite.anims.stop(),this.sprite.anims.play("beam-end").once("animationcomplete",()=>this.sprite.setScale(this.scaleX,this.scaleY)),this.beamStartTime=0}destroy(){this.sprite.destroy()}handleScaling(){if(!this.isActive)return;const e=Ot.beam.maxScale,m=Ot.beam.scaleDuration,C=Math.min(1,(this.scene.time.now-this.beamStartTime)/m),R=this.scaleX+(e-this.scaleX)*C;this.sprite.setScale(R,this.scaleY)}}class NP extends Phaser.GameObjects.Container{constructor(m,C){super(m,0,0);mt(this,"sprite");mt(this,"scene");mt(this,"controls");mt(this,"store",di());mt(this,"velocity",{x:Ot.player.velocity,y:Ot.player.velocity});mt(this,"maxVelocity",{x:Ot.player.maxVelocity,y:Ot.player.maxVelocity});mt(this,"acceleration",{x:Ot.player.acceleration,y:Ot.player.acceleration});mt(this,"deceleration",{x:Ot.player.deceleration,y:Ot.player.deceleration});mt(this,"beam",null);mt(this,"energyDrainRate",Ot.player.energyDrainRate);mt(this,"isDashing",!1);mt(this,"dashDistance",Ot.player.dashDistance);mt(this,"dashCooldown",Ot.player.dashCooldown);mt(this,"lastDashTime",0);mt(this,"dashDestinationPos",{x:0,y:0});this.scene=m,this.controls=C;const R=this.scene.textures.get("player").getSourceImage();this.beam=new DP(this.scene,{x:R.width/2,y:0}),this.add(this.beam.sprite),this.sprite=m.add.image(0,0,"player"),this.add(this.sprite),m.add.existing(this),m.input.on("pointerdown",this.createBeam,this),m.input.on("pointerup",this.destroyBeam,this),m.input.on("pointermove",this.updateBeam,this)}get hp(){return this.store.hp}set hp(m){if(this.store.debug.isImmortal)return;const C=m<this.hp,R=yi(m,0,Ot.player.hpMax);this.store.setPlayerHp(R),C&&(this.sprite.setTint(Ot.player.colorDamage),this.sprite.setPipeline("glow"),window.setTimeout(()=>{this.sprite.clearTint(),this.sprite.resetPipeline()},200))}get energy(){return this.store.energy}set energy(m){if(this.store.debug.hasInfiniteEnergy)return;const C=yi(m,0,Ot.player.energyMax);this.store.setPlayerEnergy(C)}get hasEnergy(){return this.energy>=this.energyDrainRate||this.store.debug.hasInfiniteEnergy}get currentPosition(){return{x:this.x,y:this.y}}get damage(){const m=this.store.score;return m<1e3?1:1+(m-1e3)/500}get bounds(){const m=Ot.player.boundsPadding,C=this.sprite.getBounds();return new Phaser.Geom.Rectangle(C.x+m,C.y+m,C.width-m*2,C.height-m*2)}update(m,C,R){var d,S;const M=this.scene.time.now;this.controls.space&&M-this.lastDashTime>=this.dashCooldown&&(this.isDashing=!0,this.lastDashTime=M,this.dashDestinationPos={x:this.x+(this.controls.left?-this.dashDistance:this.controls.right?this.dashDistance:0),y:this.y+(this.controls.up?-this.dashDistance:this.controls.down?this.dashDistance:0)},this.dashDestinationPos=this.getClampedPosition(this.dashDestinationPos.x,this.dashDestinationPos.y),this.controls.space=!1),this.isDashing?this.handleDash():(this.updateVelocity(),this.updatePosition()),this.store.setPlayerPosition(this.x,this.y),this.hasEnergy&&((d=this.beam)!=null&&d.isActive)?(this.beam.handleScaling(),this.energy-=this.energyDrainRate):(S=this.beam)!=null&&S.isActive?this.beam.end():this.energy+=Ot.player.energyRegen}destroy(){this.beam&&(this.scene.input.off("pointerdown",this.createBeam,this),this.scene.input.off("pointerup",this.destroyBeam,this),this.scene.input.off("pointermove",this.updateBeam,this),this.beam.destroy()),super.destroy()}getClampedPosition(m,C){return{x:yi(m,0,this.scene.scale.width-this.sprite.width),y:yi(C,0,this.scene.scale.height-this.sprite.height)}}updatePosition(){this.x+=this.velocity.x,this.y+=this.velocity.y;const m=this.getClampedPosition(this.x,this.y);this.x=m.x,this.y=m.y}updateVelocity(){this.controls.left?this.velocity.x=Math.max(this.velocity.x-this.acceleration.x,-this.maxVelocity.x):this.controls.right?this.velocity.x=Math.min(this.velocity.x+this.acceleration.x,this.maxVelocity.x):this.velocity.x>0?this.velocity.x=Math.max(0,this.velocity.x-this.deceleration.x):this.velocity.x<0&&(this.velocity.x=Math.min(0,this.velocity.x+this.deceleration.x)),this.controls.up?this.velocity.y=Math.max(this.velocity.y-this.acceleration.y,-this.maxVelocity.y):this.controls.down?this.velocity.y=Math.min(this.velocity.y+this.acceleration.y,this.maxVelocity.y):this.velocity.y>0?this.velocity.y=Math.max(0,this.velocity.y-this.deceleration.y):this.velocity.y<0&&(this.velocity.y=Math.min(0,this.velocity.y+this.deceleration.y))}handleDash(){const m=this.dashDestinationPos.x-this.x,C=this.dashDestinationPos.y-this.y,R=Math.sqrt(m*m+C*C);if(R>20){const M=Ot.player.dashSpeed;this.velocity.x=m/R*M,this.velocity.y=C/R*M,this.sprite.setTint(Ot.player.colorDash),this.sprite.setPipeline("glow")}else this.velocity.x=this.controls.right?this.maxVelocity.x:this.controls.left?-this.maxVelocity.x:0,this.velocity.y=this.controls.down?this.maxVelocity.y:this.controls.up?-this.maxVelocity.y:0,this.isDashing=!1,this.sprite.clearTint(),this.sprite.resetPipeline();this.updatePosition()}createBeam(){var m;this.hasEnergy&&((m=this.beam)==null||m.start(this.currentPosition))}destroyBeam(){var m;this.hasEnergy&&((m=this.beam)==null||m.end())}updateBeam(){var m;this.hasEnergy&&((m=this.beam)==null||m.update(this.currentPosition))}}class bP{constructor(e,m){mt(this,"scene");mt(this,"controls");mt(this,"store",di());mt(this,"bgDust");mt(this,"bgStars");mt(this,"bgNebulae");mt(this,"bgPlanets");mt(this,"velocity",1);this.scene=e,this.controls=m,this.bgDust=uo(e,"background/dust",{depth:10,alpha:.5}),this.bgNebulae=uo(e,"background/nebulae",{depth:20,alpha:.5}),this.bgStars=uo(e,"background/stars",{depth:30,alpha:1}),this.bgPlanets=uo(e,"background/planets",{depth:40,alpha:1})}update(e){this.velocity=e,this.bgDust.tilePositionX+=this.velocity*.25,this.bgNebulae.tilePositionX+=this.velocity*.25,this.bgStars.tilePositionX+=this.velocity*.275,this.bgPlanets.tilePositionX+=this.velocity*.3}}class BP{constructor(e){mt(this,"store",di());mt(this,"left",!1);mt(this,"right",!1);mt(this,"up",!1);mt(this,"down",!1);mt(this,"space",!1);mt(this,"esc",!1);mt(this,"special1",!1);mt(this,"special2",!1);e.on("keydown",m=>{if(this.store.isPlaying)switch(m.code){case"ArrowLeft":case"KeyA":this.left=!0;break;case"ArrowRight":case"KeyD":this.right=!0;break;case"ArrowUp":case"KeyW":this.up=!0;break;case"ArrowDown":case"KeyS":this.down=!0;break;case"Space":this.space=!0;break;case"Escape":this.esc=!0;break;case"KeyE":this.special1=!0;break;case"KeyQ":this.special2=!0;break}}),e.on("keyup",m=>{switch(m.code){case"ArrowLeft":case"KeyA":this.left=!1;break;case"ArrowRight":case"KeyD":this.right=!1;break;case"ArrowUp":case"KeyW":this.up=!1;break;case"ArrowDown":case"KeyS":this.down=!1;break;case"Space":this.space=!1;break;case"Escape":this.esc=!1;break;case"KeyE":this.special1=!1;break;case"KeyQ":this.special2=!1;break}})}}const qo=new pr.Events.EventEmitter,di=On("game",()=>{const p=zt(ge.Preload),e=zt(new EE),m=zt(0),C=zt(),R=zt({x:0,y:0}),M=zt(0),d=zt(Ot.player.hpStart),S=zt(Ot.player.energyStart),t=y=>p.value=y,h=(y=1)=>M.value+=y,x=y=>d.value=yi(y,0,Ot.player.hpMax),o=y=>S.value=yi(y,0,Ot.player.energyMax),a=y=>m.value=y,r=y=>C.value=y,i=y=>{[ge.Playing,ge.Paused].includes(p.value)&&(y===void 0?p.value=p.value===ge.Playing?ge.Paused:ge.Playing:p.value=y?ge.Paused:ge.Playing)},n=(y,T)=>R.value={x:y,y:T},l=Ft(()=>p.value===ge.Paused),s=Ft(()=>p.value===ge.Playing),u=Ft(()=>p.value===ge.Preload),f=Ft(()=>p.value===ge.Menu),c=Ft(()=>p.value===ge.GameOver),v=Ft(()=>s.value||l.value),g=()=>{d.value=Ot.player.hpStart,S.value=Ot.player.energyStart,M.value=0,C.value&&OP(C.value)&&C.value.reset()};return li(d,y=>{p.value===ge.Playing&&(y>0||t(ge.GameOver))}),li(p,(y,T)=>{T!==ge.Paused&&y===ge.Playing&&g()}),{currentScene:C,debug:e,energy:S,hp:d,increaseScore:h,isGameOver:c,isInGame:v,isInMenu:f,isPaused:l,isPlaying:s,isPreloading:u,playerPosition:R,preloadProgress:m,reset:g,score:M,setCurrentScene:r,setGameState:t,setPlayerEnergy:o,setPlayerHp:x,setPreloadProgress:a,setPlayerPosition:n,state:p,togglePaused:i}});var re=(p=>(p.Top="top",p.TopLeft="top-left",p.TopRight="top-right",p.Bottom="bottom",p.BottomLeft="bottom-left",p.BottomRight="bottom-right",p.Left="left",p.Right="right",p))(re||{}),ce=(p=>(p.Default="default",p.Primary="primary",p.Secondary="secondary",p.Success="success",p.Warning="warning",p.Danger="danger",p.Info="info",p))(ce||{}),kt=(p=>(p.XSmall="xs",p.Small="sm",p.Medium="md",p.Large="lg",p.XLarge="xl",p))(kt||{}),Je=(p=>(p.Solid="solid",p.Outline="outline",p.Ghost="ghost",p.Text="text",p))(Je||{}),ks=(p=>(p.Rectangle="rectangle",p.Square="square",p.Circle="circle",p))(ks||{}),Qn=(p=>(p.Image="image",p.Video="video",p.Audio="audio",p))(Qn||{}),Z0=(p=>(p.Classic="classic",p.Modern="modern",p))(Z0||{}),sa=(p=>(p.Text="text",p.Password="password",p.Email="email",p.Number="number",p.Tel="tel",p.Url="url",p.Search="search",p.Date="date",p.Time="time",p.DateTimeLocal="datetime-local",p.Month="month",p.Week="week",p.Color="color",p))(sa||{}),q0=(p=>(p.Single="single",p.Multiple="multiple",p))(q0||{}),_0=(p=>(p.Esc="Escape",p))(_0||{});const Jv=p=>p===" "?"SPACE":p.toUpperCase(),kv=["ALT","SHIFT","CTRL","META"],VP=(p,e)=>{const m=kv.includes(p),C=kv.includes(e);return m&&!C?-1:!m&&C?1:0},GP=p=>{const e=new Set,m=R=>{const M=Jv(R.key);e.add(M);const d=Array.from(e).sort(VP).join("+");p[d]&&(R.preventDefault(),p[d](R))},C=R=>{e.delete(Jv(R.key))};Cs(()=>{window.addEventListener("keydown",m),window.addEventListener("keyup",C)}),Ln(()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",C)})},UP=(p,e)=>{const m=C=>{C.key===p&&e(C)};Cs(()=>{window.addEventListener("keydown",m)}),Ln(()=>{window.removeEventListener("keydown",m)})},Nf=(p,e,m)=>{const C=(m==null?void 0:m.position)??zt(re.Bottom),R=!!(m!=null&&m.isEqualWidth),M=Ft(()=>{var a;return((a=m==null?void 0:m.isUpdateAllowed)==null?void 0:a.value)!==!1}),d=(m==null?void 0:m.offsetX)??0,S=(m==null?void 0:m.offsetY)??0,t=Ft(()=>{var r;if(!((r=m==null?void 0:m.gap)!=null&&r.value))return 0;const a=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${m.gap.value}`)??"0";return a.endsWith("rem")?parseFloat(a)*16:parseFloat(a)}),h=zt({"--top":"0px","--left":"0px","--width":"auto"}),x=zt(C.value),o=()=>{if(!p.value||!e.value||!M.value)return;const a="getBoundingClientRect"in p.value?p.value.getBoundingClientRect():p.value.$el.getBoundingClientRect(),r="getBoundingClientRect"in e.value?e.value.getBoundingClientRect():e.value.$el.getBoundingClientRect(),{top:i,bottom:n,left:l,right:s,width:u,height:f}=a,{width:c,height:v}=r,g=R?u:c;let y=n,T=l;const E=n+v<=window.innerHeight,A=i-v>=0,P=l-c>=0,w=s+c<=window.innerWidth,I=O=>{switch(O){case re.BottomLeft:return E?O:re.TopLeft;case re.BottomRight:return E?O:re.TopRight;case re.Bottom:return E?O:re.Top;case re.TopLeft:return A?O:re.BottomLeft;case re.TopRight:return A?O:re.BottomRight;case re.Top:return A?O:re.Bottom;case re.Left:return P?O:re.Right;case re.Right:return w?O:re.Left;default:return O}};switch(x.value=I(C.value),x.value){case re.BottomLeft:y=n+t.value+S,T=l+d;break;case re.BottomRight:y=n+t.value+S,T=s-g+d;break;case re.Bottom:y=n+t.value+S,T=l+(u-g)/2+d;break;case re.TopLeft:y=i-v-t.value+S,T=l+d;break;case re.TopRight:y=i-v-t.value+S,T=s-g+d;break;case re.Top:y=i-v-t.value+S,T=l+(u-g)/2+d;break;case re.Left:y=i+(f-v)/2+S,T=l-c-t.value+d;break;case re.Right:y=i+(f-v)/2+S,T=s+t.value+d;break}y=yi(y,0,window.innerHeight-v),T=yi(T,0,window.innerWidth-g),h.value={...h.value,"--top":`${y}px`,"--left":`${T}px`,"--width":R?`${u}px`:"auto"}};return li([M,p,e,C],o,{immediate:!0}),Cs(()=>{window.addEventListener("resize",o),window.addEventListener("scroll",o,!0)}),In(()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",o,!0)}),{cssVariables:h,updateCssVariables:o,computedPosition:x}},zP=["src","alt","title","loading"],XP=["src","title","loading"],WP=["src"],YP=["src","title","loading"],HP=["src"],KP={key:3},bf=ne({__name:"NyxMedia",props:{src:{},type:{default:Qn.Image},shape:{default:ks.Rectangle},alt:{},title:{},caption:{},track:{},loading:{default:"lazy"}},setup(p){const e=p;return(m,C)=>(gt(),Et("figure",{class:Zt(["nyx-media",`shape-${e.shape}`])},[e.type===ft(Qn).Image?(gt(),Et("img",{key:0,src:e.src,alt:e.alt,title:e.title,loading:m.loading},null,8,zP)):e.type===ft(Qn).Video?(gt(),Et("video",{key:1,src:e.src,title:e.title,controls:"",loading:e.loading},[e.track?(gt(),Et("track",{key:0,kind:"subtitles",src:e.track},null,8,WP)):$t("",!0)],8,XP)):e.type===ft(Qn).Audio?(gt(),Et("audio",{key:2,src:e.src,title:e.title,controls:"",loading:e.loading},[e.track?(gt(),Et("track",{key:0,kind:"subtitles",src:e.track},null,8,HP)):$t("",!0)],8,YP)):$t("",!0),e.caption?(gt(),Et("figcaption",KP,he(e.caption),1)):$t("",!0)],2))}}),$P={key:1,class:"nyx-avatar__image"},jP={key:2,class:"nyx-avatar__name"};kt.Medium;const QP=["theme","size","shape","variant","gradient","backlight","position"],sn=(p,e="Nyx")=>{const m=_n("libEnv")??{},C=Ft(()=>p.gradient!==!1&&p.variant!==Je.Solid?(MP.error(e,"Gradients are only supported by NyxVariant.Solid"),p.theme):p.gradient===!0?p.theme:p.gradient),R=Ft(()=>p.backlight===!0?p.theme:p.backlight);return{classList:Ft(()=>{const M=[];for(const d of QP)p[d]===void 0||p[d]===!1||(p[d]===!0&&p.theme!==void 0?M.push(`${d}-${p.theme}`):M.push(`${d}-${p[d]}`));return(p.pixel||m.pixel)&&M.push("pixel"),M}),gradient:C,backlight:R}},JP=["type","disabled"],kP=["href","target","disabled"],Ve=ne({__name:"NyxButton",props:{type:{default:"button"},theme:{default:ce.Default},variant:{default:Je.Solid},size:{default:kt.Medium},shape:{default:ks.Rectangle},disabled:{type:Boolean,default:!1},href:{},gradient:{type:[Boolean,String],default:!1},backlight:{type:[Boolean,String],default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(p,{emit:e}){const m=p,C=e,{classList:R}=sn(m),M=Ft(()=>m.href&&CE(m.href)?"_self":"_blank");return(d,S)=>m.href?(gt(),Et("a",{key:1,class:Zt(["nyx-button",ft(R)]),href:m.href,target:M.value,disabled:m.disabled,onClick:S[1]||(S[1]=t=>C("click"))},[me(d.$slots,"default",{},()=>[S[3]||(S[3]=oe("Click me"))])],10,kP)):(gt(),Et("button",{key:0,class:Zt(["nyx-button",ft(R)]),type:m.type,disabled:m.disabled,onClick:S[0]||(S[0]=t=>C("click"))},[me(d.$slots,"default",{},()=>[S[2]||(S[2]=oe("Click me"))])],10,JP))}});ce.Default,Je.Solid,kt.Medium;const ZP=["href","size","variant","onClick"],qP={key:0,class:"nyx-breadcrumbs__separator"};ce.Default,kt.Medium,Je.Text;const _P={key:0,class:"nyx-card__header"},tR={class:"nyx-card__body"},eR={key:1,class:"nyx-card__footer"},iR=ne({__name:"NyxCard",props:{theme:{default:ce.Default},size:{default:kt.Medium},variant:{default:Je.Solid},gradient:{type:[Boolean,String]},backlight:{type:[Boolean,String]},title:{},src:{},textAlign:{default:"left"},layout:{default:"media-first"},blendMedia:{type:Boolean,default:!1},pixel:{type:Boolean,default:!1}},emits:["click"],setup(p,{emit:e}){const m=p,C=e,R=Fn(),{classList:M}=sn(m),d=Ft(()=>({"--nyx-card-text-align":m.textAlign})),S=()=>C("click");return(t,h)=>(gt(),Et("article",{class:Zt(["nyx-card",[...ft(M),m.layout,m.blendMedia&&"blend-media"]]),style:$e(d.value),onClick:Ra(S,["self"])},[me(t.$slots,"media",{},()=>[m.src?(gt(),Pe(bf,{key:0,src:m.src,alt:m.title,title:m.title},null,8,["src","alt","title"])):$t("",!0)]),ft(R).header||m.title?(gt(),Et("header",_P,[me(t.$slots,"header",{},()=>[It("h1",null,he(m.title),1)])])):$t("",!0),It("section",tR,[me(t.$slots,"default")]),ft(R).footer?(gt(),Et("footer",eR,[me(t.$slots,"footer")])):$t("",!0)],6))}}),sR={key:1},nR={key:2,class:"nyx-carousel__dots"},rR=["onClick"];ce.Default;const aR=["disabled","aria-label","id"],oR=["for"],Hr=ne({__name:"NyxCheckbox",props:fi({label:{default:""},disabled:{type:Boolean,default:!1},size:{default:kt.Medium},theme:{default:ce.Default},id:{},checkmark:{default:""},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=p,m=bi(p,"modelValue"),{classList:C}=sn(e),R=Ft(()=>e.id??`nyx-checkbox-${km(16)}`);return(M,d)=>(gt(),Et("div",{class:Zt(["nyx-checkbox",ft(C)])},[Ki(It("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=S=>m.value=S),disabled:e.disabled,"aria-label":e.label,id:R.value},null,8,aR),[[Yu,m.value]]),It("span",{class:"nyx-checkbox__checkbox",onClick:d[1]||(d[1]=S=>m.value=!m.value)}),e.label?(gt(),Et("label",{key:0,for:R.value,class:"nyx-checkbox__label"},he(e.label),9,oR)):$t("",!0)],2))}}),tx=ne({__name:"NyxForm",props:{size:{default:kt.Medium}},emits:["submit"],setup(p,{emit:e}){const m=p,C=e,R=M=>C("submit",M);return(M,d)=>(gt(),Et("form",{class:Zt(["nyx-form",[`size-${m.size}`]]),onSubmit:Ra(R,["prevent"])},[me(M.$slots,"default",{},()=>[d[0]||(d[0]=oe("NyxForm"))])],34))}}),hR={class:"nyx-form-field"},Wi=ne({__name:"NyxFormField",props:{label:{}},setup(p){const e=p,m=`nyx-form-field-${km(16)}`;return(C,R)=>(gt(),Et("div",hR,[e.label?(gt(),Et("label",{key:0,for:m,class:"nyx-form-field__label"},he(C.label),1)):$t("",!0),me(C.$slots,"default",{id:m},()=>[R[0]||(R[0]=oe("NyxFormField"))])]))}}),lR=["type","placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","tabindex","id"],Ll=ne({__name:"NyxInput",props:fi({type:{default:sa.Text},theme:{default:ce.Default},variant:{default:Je.Outline},size:{default:kt.Medium},pixel:{type:Boolean},id:{},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},autofocus:{type:Boolean},placeholder:{},autocomplete:{},minlength:{},maxlength:{},pattern:{},tabindex:{}},{modelValue:{},modelModifiers:{}}),emits:fi(["click","focus","blur"],["update:modelValue"]),setup(p,{emit:e}){const m=p,C=e,R=bi(p,"modelValue"),{classList:M}=sn(m);return(d,S)=>(gt(),Et("div",{class:Zt(["nyx-input",ft(M)])},[Ki(It("input",{type:m.type,placeholder:m.placeholder,disabled:m.disabled,readonly:m.readonly,maxlength:m.maxlength,minlength:m.minlength,pattern:m.pattern,required:m.required,autocomplete:m.autocomplete,autofocus:m.autofocus,tabindex:m.tabindex,id:d.id,"onUpdate:modelValue":S[0]||(S[0]=t=>R.value=t),onClick:S[1]||(S[1]=t=>C("click")),onFocus:S[2]||(S[2]=t=>C("focus")),onBlur:S[3]||(S[3]=t=>C("blur"))},null,40,lR),[[iE,R.value]])],2))}}),uR={class:"nyx-modal__content"},fR={key:0,class:"nyx-modal__header"},dR={class:"nyx-modal__body"},cR={key:1,class:"nyx-modal__footer"},Na=ne({__name:"NyxModal",props:fi({title:{},confirmText:{},cancelText:{default:"Close"},size:{default:kt.Medium},static:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!0},customClass:{},pixel:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:fi(["close","cancel","confirm","open"],["update:modelValue"]),setup(p,{emit:e}){const m=p,C=e,R=bi(p,"modelValue"),M=Fn(),d=()=>{m.static||(R.value=!1,C("close"))};UP(_0.Esc,d);const S=Ft(()=>!!M.header||!!m.title),t=Ft(()=>!!M.footer||!!m.confirmText),h=()=>{C("cancel"),d()},x=()=>{C("confirm"),d()},{classList:o}=sn(m);return(a,r)=>(gt(),Pe(ph,{to:"body"},[It("div",{class:Zt(["nyx-modal",[...ft(o),!!a.customClass&&`${a.customClass}`,{"nyx-modal--open":R.value||m.static},{"nyx-modal--no-backdrop":!m.backdrop}]]),onClick:Ra(d,["self"])},[It("article",uR,[S.value?(gt(),Et("header",fR,[me(a.$slots,"header",{},()=>[It("h1",null,he(a.title),1)]),m.static?$t("",!0):(gt(),Et("button",{key:0,class:"nyx-modal__close",onClick:d},""))])):$t("",!0),It("section",dR,[me(a.$slots,"default",{},()=>[r[0]||(r[0]=oe("NyxModal body"))])]),t.value?(gt(),Et("footer",cR,[me(a.$slots,"footer",{},()=>[m.static?$t("",!0):(gt(),Pe(Ve,{key:0,theme:ft(ce).Default,variant:ft(Je).Outline,onClick:h},{default:Xt(()=>[oe(he(m.cancelText),1)]),_:1},8,["theme","variant"])),m.confirmText?(gt(),Pe(Ve,{key:1,theme:ft(ce).Primary,onClick:x},{default:Xt(()=>[oe(he(a.confirmText),1)]),_:1},8,["theme"])):$t("",!0)])])):$t("",!0)])],2)]))}}),yu=ne({__name:"NyxProgress",props:fi({max:{default:100},theme:{},variant:{default:Je.Solid},shape:{default:ks.Rectangle},gradient:{type:[String,Boolean],default:!1},size:{},showValue:{}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=p,m=bi(p,"modelValue"),{classList:C}=sn(e),R=Ft(()=>m.value===null?"100%":`${Math.min(100,m.value/e.max*100)}%`),M=Ft(()=>({"--progress":R.value}));return(d,S)=>(gt(),Et("div",{class:Zt(["nyx-progress",ft(C)]),style:$e(M.value)},[It("div",{class:Zt(["nyx-progress__bar",{indeterminate:m.value===null}])},null,2),d.showValue&&m.value!==null?(gt(),Et("span",{key:0,class:Zt(["nyx-progress__label",`nyx-progress__label--${d.showValue}`])},he(Math.round(m.value)),3)):$t("",!0)],6))}}),vR=["placeholder"],pR=["onClick"],mR=["id","multiple"],gR=["value"],O4=ne({__name:"NyxSelect",props:fi({type:{default:q0.Single},theme:{default:ce.Default},variant:{default:Je.Outline},size:{default:kt.Medium},disabled:{type:Boolean},placeholder:{},options:{},id:{},multiple:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=p,m=bi(p,"modelValue"),C=Ft({get:()=>m.value??(e.multiple?[]:""),set:f=>{m.value=f}}),R=yn("nyx-select-input"),M=zt(""),d=yn("elControl"),S=yn("elDropdown"),t=zt(!1),{cssVariables:h,computedPosition:x}=Nf(d,S,{isEqualWidth:!0,isUpdateAllowed:t}),o=Ft(()=>{var f;return e.multiple?C.value.map(c=>{var v;return((v=e.options.find(g=>g.value===c))==null?void 0:v.label)??""}).join(", "):((f=e.options.find(c=>c.value===C.value))==null?void 0:f.label)??""}),a=Ft(()=>M.value?e.options.filter(f=>f.label.toLowerCase().includes(M.value.toLowerCase())):e.options),r=()=>{t.value=!t.value},i=()=>{t.value=!1},n=({value:f,label:c})=>{if(e.multiple){const v=C.value;v.indexOf(f)===-1?C.value=[...v,f]:C.value=v.filter(g=>g!==f),M.value=""}else C.value=f,M.value=c,t.value=!1},l=f=>{M.value=f===void 0?o.value:f},s=()=>{var f;t.value=!0,(f=R.value)==null||f.focus()},u=f=>e.multiple?C.value.includes(f):f===C.value;return li(t,f=>{f?l(""):l()}),(f,c)=>{const v=xm("click-outside");return gt(),Et("div",{class:Zt(["nyx-select",[`theme-${e.theme}`,`variant-${e.variant}`,`size-${e.size}`]])},[Ki((gt(),Et("div",{class:Zt(["nyx-select__control",[`nyx-select__control--${ft(x)}`,{"nyx-select__control--open":t.value}]]),ref_key:"elControl",ref:d,onClick:s,onKeyup:oE(i,["esc"])},[Ki(It("input",{type:"search","onUpdate:modelValue":c[0]||(c[0]=g=>M.value=g),class:"nyx-select__input",placeholder:e.multiple?"Select multiple...":"Select...",ref:"nyx-select-input"},null,8,vR),[[nr,M.value]]),It("span",{class:"nyx-select__arrow",onClick:r},"")],34)),[[v,i]]),(gt(),Pe(ph,{to:"body"},[It("div",{class:Zt(["nyx-select__dropdown",[`theme-${e.theme}`,`variant-${e.variant}`,`size-${e.size}`,`nyx-select__dropdown--${ft(x)}`,{"nyx-select__dropdown--open":t.value}]]),ref_key:"elDropdown",ref:S,role:"listbox",style:$e(ft(h))},[It("ul",null,[(gt(!0),Et(de,null,$i(a.value,g=>(gt(),Et("li",{key:g.value,class:Zt(["nyx-select__option",{"nyx-select__option--selected":u(g.value),"nyx-select__option--disabled":!!g.disabled}]),onClick:y=>n(g)},[It("span",null,he(g.label),1)],10,pR))),128)),a.value.length===0?(gt(),Et("li",{key:0,class:"nyx-select__option nyx-select__option--empty",onClick:c[1]||(c[1]=Ra(g=>{var y;return(y=ft(R))==null?void 0:y.focus()},["prevent","stop"]))},[me(f.$slots,"empty",{},()=>[c[3]||(c[3]=It("span",null,"No results found",-1))])])):$t("",!0)])],6)])),Ki(It("select",{"onUpdate:modelValue":c[2]||(c[2]=g=>C.value=g),class:"sr-only",id:e.id,multiple:e.multiple},[(gt(!0),Et(de,null,$i(e.options,g=>(gt(),Et("option",{value:g.value,key:g.value},he(g.label),9,gR))),128))],8,mR),[[Hm,C.value]])],2)}}}),xR=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],yR=["aria-valuenow","aria-valuemin","aria-valuemax"],TR=["min","max","step","aria-valuenow","aria-valuemin","aria-valuemax"],ER=["aria-valuenow","aria-valuemin","aria-valuemax"],Zv=ne({__name:"NyxSlider",props:fi({min:{default:0},max:{default:100},step:{},tooltip:{default:"interact"},theme:{default:ce.Default},shape:{default:ks.Circle},direction:{default:"row"},pixel:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=p,m=bi(p,"modelValue"),C=zt(null),R=zt(null),M=Ft(()=>Array.isArray(m.value)),d=Ft(()=>M.value?m.value[0]:m.value),S=Ft(()=>M.value?m.value[1]:null),t=Ft(()=>(d.value-e.min)/(e.max-e.min)*100),h=Ft(()=>M.value?(S.value-e.min)/(e.max-e.min)*100:0),x=u=>e.step?Zm(u,e.step,e.min):u,o=(u,f)=>{if(f=x(f),M.value){let c=[...m.value];c[u]=f,c[0]>c[1]&&(c=[c[1],c[0]],R.value=R.value===0?1:0),m.value=c}else m.value=f},a=(u,f)=>{f.preventDefault(),R.value=u,document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)},r=u=>{if(R.value===null||!C.value)return;const f=C.value.getBoundingClientRect();let c=(u.clientX-f.left)/f.width;c=Math.min(Math.max(c,0),1);const v=e.min+c*(e.max-e.min);o(R.value,v)},i=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),R.value=null},n=u=>{if(!C.value)return;const f=C.value.getBoundingClientRect();let c=(u.clientX-f.left)/f.width;c=Math.min(Math.max(c,0),1);const v=e.min+c*(e.max-e.min);if(M.value){const g=Math.abs(v-d.value),y=Math.abs(v-S.value);let T=g<y?0:1;o(T,v),R.value=T}else m.value=v},l=(u,f)=>{let c=M.value?m.value[f]:m.value;const v=e.step??1;switch(u.key){case"ArrowLeft":case"ArrowDown":c=Math.max(e.min,c-v);break;case"ArrowRight":case"ArrowUp":c=Math.min(e.max,c+v);break;case"Home":c=e.min;break;case"End":c=e.max;break;default:return}u.preventDefault(),o(f,c)},{classList:s}=sn(e);return In(()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)}),(u,f)=>(gt(),Et("div",{class:Zt(["nyx-slider",ft(s)]),ref_key:"track",ref:C,onMousedown:n},[M.value?(gt(),Et("div",{key:0,class:"nyx-slider__track-highlight",style:$e({left:Math.min(t.value,h.value)+"%",width:Math.abs(h.value-t.value)+"%"})},null,4)):$t("",!0),Ki(It("input",{type:"range",min:e.min,max:e.max,step:e.step||"any","onUpdate:modelValue":f[0]||(f[0]=c=>m.value=c),onKeydown:f[1]||(f[1]=c=>l(c,0)),"aria-label":"Slider value","aria-valuenow":d.value,"aria-valuemin":e.min,"aria-valuemax":e.max,class:"sr-only"},null,40,xR),[[nr,m.value]]),It("div",{class:"nyx-slider__thumb",style:$e({left:t.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":d.value,"aria-valuemin":e.min,"aria-valuemax":e.max,onMousedown:f[2]||(f[2]=c=>a(0,c)),onKeydown:f[3]||(f[3]=c=>l(c,0))},null,44,yR),M.value&&Array.isArray(m.value)&&m.value[1]?(gt(),Et(de,{key:1},[Ki(It("input",{type:"range",min:e.min,max:e.max,step:e.step||"any","onUpdate:modelValue":f[4]||(f[4]=c=>m.value[1]=c),onKeydown:f[5]||(f[5]=c=>l(c,1)),"aria-label":"Slider second value","aria-valuenow":S.value??void 0,"aria-valuemin":e.min,"aria-valuemax":e.max,class:"sr-only"},null,40,TR),[[nr,m.value[1]]]),It("div",{class:"nyx-slider__thumb",style:$e({left:h.value+"%"}),role:"slider",tabindex:"0","aria-valuenow":S.value??void 0,"aria-valuemin":e.min,"aria-valuemax":e.max,onMousedown:f[6]||(f[6]=c=>a(1,c)),onKeydown:f[7]||(f[7]=c=>l(c,1))},null,44,ER)],64)):$t("",!0)],34))}});ce.Default;const SR=["id"];ce.Success,kt.Medium,Je.Solid;const CR=(p,e)=>{const m=p.__vccOpts||p;for(const[C,R]of e)m[C]=R;return m},AR={};function PR(p,e){return gt(),Et("td",null,[It("span",null,[me(p.$slots,"default")])])}const qv=CR(AR,[["render",PR]]),RR={key:0},wR={key:0},MR=ne({__name:"NyxTable",props:fi({theme:{default:ce.Default},size:{default:kt.Medium},variant:{default:Je.Outline},itemKey:{},disabled:{type:Boolean,default:!1},columns:{},columnTitles:{},gridTemplateColumns:{},header:{type:[String,Boolean],default:!0},striped:{type:Boolean,default:!1},colWhitelist:{default:()=>[]},colBlacklist:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const e=Fn(),m=p,C=bi(p,"modelValue"),R=Ft(()=>{if(m.columnTitles)return m.columnTitles;if(C.value.length===0)return[];const t=C.value[0];return SE(t)?(m.colWhitelist.length>0?m.colWhitelist:Object.keys(t)).filter(h=>!m.colBlacklist.includes(h)):[]}),M=Ft(()=>{const t=e.actions?1:0;return m.columns!==void 0?m.columns+t:C.value.length===0?1+t:R.value.length+t}),d=Ft(()=>{const t=(m.colWhitelist.length>0?m.colWhitelist:Object.keys(C.value[0]??{})).filter(h=>!m.colBlacklist.includes(h));return C.value.map(h=>{const x={};for(const o of t)x[o]=h[o];return x})}),S=Ft(()=>{const t=e.actions?"auto":"";return{"--grid-template-columns":m.gridTemplateColumns?`${m.gridTemplateColumns} ${t}`:`repeat(${M.value}, 1fr)`}});return(t,h)=>(gt(),Et("table",{class:Zt(["nyx-table",[`size-${m.size}`,`theme-${m.theme}`,`variant-${m.variant}`,{striped:t.striped},{sticky:m.header==="sticky"}]]),style:$e(S.value)},[m.header?(gt(),Et("thead",RR,[It("tr",null,[(gt(!0),Et(de,null,$i(R.value,x=>(gt(),Et("th",{key:x},he(x),1))),128)),ft(e).actions?(gt(),Et("th",wR,"")):$t("",!0)])])):$t("",!0),It("tbody",null,[(gt(!0),Et(de,null,$i(d.value,x=>(gt(),Et("tr",{key:typeof x=="object"&&m.itemKey?x[m.itemKey]:x},[me(t.$slots,"default",{item:x},()=>[(gt(!0),Et(de,null,$i(Object.values(x??{}),o=>(gt(),Pe(qv,{key:o},{default:Xt(()=>[oe(he(o),1)]),_:2},1024))),128))]),ft(e).actions?(gt(),Pe(qv,{key:0,class:"nyx-table__actions"},{default:Xt(()=>[me(t.$slots,"actions",{item:x})]),_:2},1024)):$t("",!0)]))),128))])],6))}}),IR=["onClick"],LR={class:"nyx-tabs__container"},FR={key:0};ce.Default,kt.Medium,Z0.Modern,re.TopLeft;const OR=["placeholder","disabled","readonly","maxlength","minlength","pattern","required","autocomplete","autofocus","id"];ce.Default,Je.Outline,kt.Medium;const DR=["data-position"],NR={class:"nyx-tooltip__content-wrapper"};ce.Default,Je.Solid,kt.Medium,re.Top;const ex="@firebase/installations",Bf="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=1e4,sx=`w:${Bf}`,nx="FIS_v2",bR="https://firebaseinstallations.googleapis.com/v1",BR=60*60*1e3,VR="installations",GR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rn=new Dn(VR,GR,UR);function rx(p){return p instanceof Bi&&p.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax({projectId:p}){return`${bR}/projects/${p}/installations`}function ox(p){return{token:p.token,requestStatus:2,expiresIn:XR(p.expiresIn),creationTime:Date.now()}}async function hx(p,e){const C=(await e.json()).error;return Rn.create("request-failed",{requestName:p,serverCode:C.code,serverMessage:C.message,serverStatus:C.status})}function lx({apiKey:p}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":p})}function zR(p,{refreshToken:e}){const m=lx(p);return m.append("Authorization",WR(e)),m}async function ux(p){const e=await p();return e.status>=500&&e.status<600?p():e}function XR(p){return Number(p.replace("s","000"))}function WR(p){return`${nx} ${p}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR({appConfig:p,heartbeatServiceProvider:e},{fid:m}){const C=ax(p),R=lx(p),M=e.getImmediate({optional:!0});if(M){const h=await M.getHeartbeatsHeader();h&&R.append("x-firebase-client",h)}const d={fid:m,authVersion:nx,appId:p.appId,sdkVersion:sx},S={method:"POST",headers:R,body:JSON.stringify(d)},t=await ux(()=>fetch(C,S));if(t.ok){const h=await t.json();return{fid:h.fid||m,registrationStatus:2,refreshToken:h.refreshToken,authToken:ox(h.authToken)}}else throw await hx("Create Installation",t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(p){return new Promise(e=>{setTimeout(e,p)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(p){return btoa(String.fromCharCode(...p)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=/^[cdef][\w-]{21}$/,Tu="";function $R(){try{const p=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(p),p[0]=112+p[0]%16;const m=jR(p);return KR.test(m)?m:Tu}catch{return Tu}}function jR(p){return HR(p).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(p){return`${p.appName}!${p.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new Map;function cx(p,e){const m=Xh(p);vx(m,e),QR(m,e)}function vx(p,e){const m=dx.get(p);if(m)for(const C of m)C(e)}function QR(p,e){const m=JR();m&&m.postMessage({key:p,fid:e}),kR()}let mn=null;function JR(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=p=>{vx(p.data.key,p.data.fid)}),mn}function kR(){dx.size===0&&mn&&(mn.close(),mn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebase-installations-database",qR=1,wn="firebase-installations-store";let Fl=null;function Vf(){return Fl||(Fl=lg(ZR,qR,{upgrade:(p,e)=>{switch(e){case 0:p.createObjectStore(wn)}}})),Fl}async function _o(p,e){const m=Xh(p),R=(await Vf()).transaction(wn,"readwrite"),M=R.objectStore(wn),d=await M.get(m);return await M.put(e,m),await R.done,(!d||d.fid!==e.fid)&&cx(p,e.fid),e}async function px(p){const e=Xh(p),C=(await Vf()).transaction(wn,"readwrite");await C.objectStore(wn).delete(e),await C.done}async function Wh(p,e){const m=Xh(p),R=(await Vf()).transaction(wn,"readwrite"),M=R.objectStore(wn),d=await M.get(m),S=e(d);return S===void 0?await M.delete(m):await M.put(S,m),await R.done,S&&(!d||d.fid!==S.fid)&&cx(p,S.fid),S}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(p){let e;const m=await Wh(p.appConfig,C=>{const R=_R(C),M=tw(p,R);return e=M.registrationPromise,M.installationEntry});return m.fid===Tu?{installationEntry:await e}:{installationEntry:m,registrationPromise:e}}function _R(p){const e=p||{fid:$R(),registrationStatus:0};return mx(e)}function tw(p,e){if(e.registrationStatus===0){if(!navigator.onLine){const R=Promise.reject(Rn.create("app-offline"));return{installationEntry:e,registrationPromise:R}}const m={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},C=ew(p,m);return{installationEntry:m,registrationPromise:C}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iw(p)}:{installationEntry:e}}async function ew(p,e){try{const m=await YR(p,e);return _o(p.appConfig,m)}catch(m){throw rx(m)&&m.customData.serverCode===409?await px(p.appConfig):await _o(p.appConfig,{fid:e.fid,registrationStatus:0}),m}}async function iw(p){let e=await _v(p.appConfig);for(;e.registrationStatus===1;)await fx(100),e=await _v(p.appConfig);if(e.registrationStatus===0){const{installationEntry:m,registrationPromise:C}=await Gf(p);return C||m}return e}function _v(p){return Wh(p,e=>{if(!e)throw Rn.create("installation-not-found");return mx(e)})}function mx(p){return sw(p)?{fid:p.fid,registrationStatus:0}:p}function sw(p){return p.registrationStatus===1&&p.registrationTime+ix<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw({appConfig:p,heartbeatServiceProvider:e},m){const C=rw(p,m),R=zR(p,m),M=e.getImmediate({optional:!0});if(M){const h=await M.getHeartbeatsHeader();h&&R.append("x-firebase-client",h)}const d={installation:{sdkVersion:sx,appId:p.appId}},S={method:"POST",headers:R,body:JSON.stringify(d)},t=await ux(()=>fetch(C,S));if(t.ok){const h=await t.json();return ox(h)}else throw await hx("Generate Auth Token",t)}function rw(p,{fid:e}){return`${ax(p)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(p,e=!1){let m;const C=await Wh(p.appConfig,M=>{if(!gx(M))throw Rn.create("not-registered");const d=M.authToken;if(!e&&hw(d))return M;if(d.requestStatus===1)return m=aw(p,e),M;{if(!navigator.onLine)throw Rn.create("app-offline");const S=uw(M);return m=ow(p,S),S}});return m?await m:C.authToken}async function aw(p,e){let m=await tp(p.appConfig);for(;m.authToken.requestStatus===1;)await fx(100),m=await tp(p.appConfig);const C=m.authToken;return C.requestStatus===0?Uf(p,e):C}function tp(p){return Wh(p,e=>{if(!gx(e))throw Rn.create("not-registered");const m=e.authToken;return fw(m)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ow(p,e){try{const m=await nw(p,e),C=Object.assign(Object.assign({},e),{authToken:m});return await _o(p.appConfig,C),m}catch(m){if(rx(m)&&(m.customData.serverCode===401||m.customData.serverCode===404))await px(p.appConfig);else{const C=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _o(p.appConfig,C)}throw m}}function gx(p){return p!==void 0&&p.registrationStatus===2}function hw(p){return p.requestStatus===2&&!lw(p)}function lw(p){const e=Date.now();return e<p.creationTime||p.creationTime+p.expiresIn<e+BR}function uw(p){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},p),{authToken:e})}function fw(p){return p.requestStatus===1&&p.requestTime+ix<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(p){const e=p,{installationEntry:m,registrationPromise:C}=await Gf(e);return C?C.catch(console.error):Uf(e).catch(console.error),m.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(p,e=!1){const m=p;return await vw(m),(await Uf(m,e)).token}async function vw(p){const{registrationPromise:e}=await Gf(p);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(p){if(!p||!p.options)throw Ol("App Configuration");if(!p.name)throw Ol("App Name");const e=["projectId","apiKey","appId"];for(const m of e)if(!p.options[m])throw Ol(m);return{appName:p.name,projectId:p.options.projectId,apiKey:p.options.apiKey,appId:p.options.appId}}function Ol(p){return Rn.create("missing-app-config-values",{valueName:p})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="installations",mw="installations-internal",gw=p=>{const e=p.getProvider("app").getImmediate(),m=pw(e),C=_s(e,"heartbeat");return{app:e,appConfig:m,heartbeatServiceProvider:C,_delete:()=>Promise.resolve()}},xw=p=>{const e=p.getProvider("app").getImmediate(),m=_s(e,xx).getImmediate();return{getId:()=>dw(m),getToken:R=>cw(m,R)}};function yw(){ki(new Di(xx,gw,"PUBLIC")),ki(new Di(mw,xw,"PRIVATE"))}yw();Si(ex,Bf);Si(ex,Bf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="analytics",Tw="firebase_id",Ew="origin",Sw=60*1e3,Cw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Ah("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mi=new Dn("analytics","Analytics",Aw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(p){if(!p.startsWith(zf)){const e=mi.create("invalid-gtag-resource",{gtagURL:p});return ui.warn(e.message),""}return p}function yx(p){return Promise.all(p.map(e=>e.catch(m=>m)))}function Rw(p,e){let m;return window.trustedTypes&&(m=window.trustedTypes.createPolicy(p,e)),m}function ww(p,e){const m=Rw("firebase-js-sdk-policy",{createScriptURL:Pw}),C=document.createElement("script"),R=`${zf}?l=${p}&id=${e}`;C.src=m?m==null?void 0:m.createScriptURL(R):R,C.async=!0,document.head.appendChild(C)}function Mw(p){let e=[];return Array.isArray(window[p])?e=window[p]:window[p]=e,e}async function Iw(p,e,m,C,R,M){const d=C[R];try{if(d)await e[d];else{const t=(await yx(m)).find(h=>h.measurementId===R);t&&await e[t.appId]}}catch(S){ui.error(S)}p("config",R,M)}async function Lw(p,e,m,C,R){try{let M=[];if(R&&R.send_to){let d=R.send_to;Array.isArray(d)||(d=[d]);const S=await yx(m);for(const t of d){const h=S.find(o=>o.measurementId===t),x=h&&e[h.appId];if(x)M.push(x);else{M=[];break}}}M.length===0&&(M=Object.values(e)),await Promise.all(M),p("event",C,R||{})}catch(M){ui.error(M)}}function Fw(p,e,m,C){async function R(M,...d){try{if(M==="event"){const[S,t]=d;await Lw(p,e,m,S,t)}else if(M==="config"){const[S,t]=d;await Iw(p,e,m,C,S,t)}else if(M==="consent"){const[S,t]=d;p("consent",S,t)}else if(M==="get"){const[S,t,h]=d;p("get",S,t,h)}else if(M==="set"){const[S]=d;p("set",S)}else p(M,...d)}catch(S){ui.error(S)}}return R}function Ow(p,e,m,C,R){let M=function(...d){window[C].push(arguments)};return window[R]&&typeof window[R]=="function"&&(M=window[R]),window[R]=Fw(M,p,e,m),{gtagCore:M,wrappedGtag:window[R]}}function Dw(p){const e=window.document.getElementsByTagName("script");for(const m of Object.values(e))if(m.src&&m.src.includes(zf)&&m.src.includes(p))return m;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=30,bw=1e3;class Bw{constructor(e={},m=bw){this.throttleMetadata=e,this.intervalMillis=m}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,m){this.throttleMetadata[e]=m}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Tx=new Bw;function Vw(p){return new Headers({Accept:"application/json","x-goog-api-key":p})}async function Gw(p){var e;const{appId:m,apiKey:C}=p,R={method:"GET",headers:Vw(C)},M=Cw.replace("{app-id}",m),d=await fetch(M,R);if(d.status!==200&&d.status!==304){let S="";try{const t=await d.json();!((e=t.error)===null||e===void 0)&&e.message&&(S=t.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:d.status,responseMessage:S})}return d.json()}async function Uw(p,e=Tx,m){const{appId:C,apiKey:R,measurementId:M}=p.options;if(!C)throw mi.create("no-app-id");if(!R){if(M)return{measurementId:M,appId:C};throw mi.create("no-api-key")}const d=e.getThrottleMetadata(C)||{backoffCount:0,throttleEndTimeMillis:Date.now()},S=new Ww;return setTimeout(async()=>{S.abort()},Sw),Ex({appId:C,apiKey:R,measurementId:M},d,S,e)}async function Ex(p,{throttleEndTimeMillis:e,backoffCount:m},C,R=Tx){var M;const{appId:d,measurementId:S}=p;try{await zw(C,e)}catch(t){if(S)return ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${t==null?void 0:t.message}]`),{appId:d,measurementId:S};throw t}try{const t=await Gw(p);return R.deleteThrottleMetadata(d),t}catch(t){const h=t;if(!Xw(h)){if(R.deleteThrottleMetadata(d),S)return ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:d,measurementId:S};throw t}const x=Number((M=h==null?void 0:h.customData)===null||M===void 0?void 0:M.httpStatus)===503?Gc(m,R.intervalMillis,Nw):Gc(m,R.intervalMillis),o={throttleEndTimeMillis:Date.now()+x,backoffCount:m+1};return R.setThrottleMetadata(d,o),ui.debug(`Calling attemptFetch again in ${x} millis`),Ex(p,o,C,R)}}function zw(p,e){return new Promise((m,C)=>{const R=Math.max(e-Date.now(),0),M=setTimeout(m,R);p.addEventListener(()=>{clearTimeout(M),C(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Xw(p){if(!(p instanceof Bi)||!p.customData)return!1;const e=Number(p.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ww{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Yw(p,e,m,C,R){if(R&&R.global){p("event",m,C);return}else{const M=await e,d=Object.assign(Object.assign({},C),{send_to:M});p("event",m,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(){if(rg())try{await ag()}catch(p){return ui.warn(mi.create("indexeddb-unavailable",{errorInfo:p==null?void 0:p.toString()}).message),!1}else return ui.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Kw(p,e,m,C,R,M,d){var S;const t=Uw(p);t.then(r=>{m[r.measurementId]=r.appId,p.options.measurementId&&r.measurementId!==p.options.measurementId&&ui.warn(`The measurement ID in the local Firebase config (${p.options.measurementId}) does not match the measurement ID fetched from the server (${r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(r=>ui.error(r)),e.push(t);const h=Hw().then(r=>{if(r)return C.getId()}),[x,o]=await Promise.all([t,h]);Dw(M)||ww(M,x.measurementId),R("js",new Date);const a=(S=d==null?void 0:d.config)!==null&&S!==void 0?S:{};return a[Ew]="firebase",a.update=!0,o!=null&&(a[Tw]=o),R("config",x.measurementId,a),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.app=e}_delete(){return delete na[this.app.options.appId],Promise.resolve()}}let na={},ep=[];const ip={};let Dl="dataLayer",jw="gtag",sp,Sx,np=!1;function Qw(){const p=[];if(ng()&&p.push("This is a browser extension environment."),kE()||p.push("Cookies are not available."),p.length>0){const e=p.map((C,R)=>`(${R+1}) ${C}`).join(" "),m=mi.create("invalid-analytics-context",{errorInfo:e});ui.warn(m.message)}}function Jw(p,e,m){Qw();const C=p.options.appId;if(!C)throw mi.create("no-app-id");if(!p.options.apiKey)if(p.options.measurementId)ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${p.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mi.create("no-api-key");if(na[C]!=null)throw mi.create("already-exists",{id:C});if(!np){Mw(Dl);const{wrappedGtag:M,gtagCore:d}=Ow(na,ep,ip,Dl,jw);Sx=M,sp=d,np=!0}return na[C]=Kw(p,ep,ip,e,sp,Dl,m),new $w(p)}function kw(p=$u()){p=Le(p);const e=_s(p,th);return e.isInitialized()?e.getImmediate():Zw(p)}function Zw(p,e={}){const m=_s(p,th);if(m.isInitialized()){const R=m.getImmediate();if(ms(e,m.getOptions()))return R;throw mi.create("already-initialized")}return m.initialize({options:e})}function qw(p,e,m,C){p=Le(p),Yw(Sx,na[p.app.options.appId],e,m,C).catch(R=>ui.error(R))}const rp="@firebase/analytics",ap="0.10.12";function _w(){ki(new Di(th,(e,{options:m})=>{const C=e.getProvider("app").getImmediate(),R=e.getProvider("installations-internal").getImmediate();return Jw(C,R,m)},"PUBLIC")),ki(new Di("analytics-internal",p,"PRIVATE")),Si(rp,ap),Si(rp,ap,"esm2017");function p(e){try{const m=e.getProvider(th).getImmediate();return{logEvent:(C,R,M)=>qw(m,C,R,M)}}catch(m){throw mi.create("interop-component-reg-failed",{reason:m})}}}_w();var tM="firebase",eM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(tM,eM,"app");function Xf(p,e){var m={};for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&e.indexOf(C)<0&&(m[C]=p[C]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,C=Object.getOwnPropertySymbols(p);R<C.length;R++)e.indexOf(C[R])<0&&Object.prototype.propertyIsEnumerable.call(p,C[R])&&(m[C[R]]=p[C[R]]);return m}function Cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iM=Cx,Ax=new Dn("auth","Firebase",Cx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Ah("@firebase/auth");function sM(p,...e){eh.logLevel<=Wt.WARN&&eh.warn(`Auth (${mr}): ${p}`,...e)}function Po(p,...e){eh.logLevel<=Wt.ERROR&&eh.error(`Auth (${mr}): ${p}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(p,...e){throw Yf(p,...e)}function Ii(p,...e){return Yf(p,...e)}function Wf(p,e,m){const C=Object.assign(Object.assign({},iM()),{[e]:m});return new Dn("auth","Firebase",C).create(e,{appName:p.name})}function En(p){return Wf(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nM(p,e,m){const C=m;if(!(e instanceof C))throw C.name!==e.constructor.name&&_i(p,"argument-error"),Wf(p,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yf(p,...e){if(typeof p!="string"){const m=e[0],C=[...e.slice(1)];return C[0]&&(C[0].appName=p.name),p._errorFactory.create(m,...C)}return Ax.create(p,...e)}function bt(p,e,...m){if(!p)throw Yf(e,...m)}function us(p){const e="INTERNAL ASSERTION FAILED: "+p;throw Po(e),new Error(e)}function Ts(p,e){p||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(){var p;return typeof self<"u"&&((p=self.location)===null||p===void 0?void 0:p.href)||""}function rM(){return op()==="http:"||op()==="https:"}function op(){var p;return typeof self<"u"&&((p=self.location)===null||p===void 0?void 0:p.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rM()||ng()||"connection"in navigator)?navigator.onLine:!0}function oM(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,m){this.shortDelay=e,this.longDelay=m,Ts(m>e,"Short delay should be less than long delay!"),this.isMobile=HE()||jE()}get(){return aM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(p,e){Ts(p.emulator,"Emulator should always be set here");const{url:m}=p.emulator;return e?`${m}${e.startsWith("/")?e.slice(1):e}`:m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{static initialize(e,m,C){this.fetchImpl=e,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new ba(3e4,6e4);function Kf(p,e){return p.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:p.tenantId}):e}async function Cr(p,e,m,C,R={}){return Rx(p,R,async()=>{let M={},d={};C&&(e==="GET"?d=C:M={body:JSON.stringify(C)});const S=wa(Object.assign({key:p.config.apiKey},d)).slice(1),t=await p._getAdditionalHeaders();t["Content-Type"]="application/json",p.languageCode&&(t["X-Firebase-Locale"]=p.languageCode);const h=Object.assign({method:e,headers:t},M);return $E()||(h.referrerPolicy="no-referrer"),Px.fetch()(wx(p,p.config.apiHost,m,S),h)})}async function Rx(p,e,m){p._canInitEmulator=!1;const C=Object.assign(Object.assign({},hM),e);try{const R=new fM(p),M=await Promise.race([m(),R.promise]);R.clearNetworkTimeout();const d=await M.json();if("needConfirmation"in d)throw fo(p,"account-exists-with-different-credential",d);if(M.ok&&!("errorMessage"in d))return d;{const S=M.ok?d.errorMessage:d.error.message,[t,h]=S.split(" : ");if(t==="FEDERATED_USER_ID_ALREADY_LINKED")throw fo(p,"credential-already-in-use",d);if(t==="EMAIL_EXISTS")throw fo(p,"email-already-in-use",d);if(t==="USER_DISABLED")throw fo(p,"user-disabled",d);const x=C[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Wf(p,x,h);_i(p,x)}}catch(R){if(R instanceof Bi)throw R;_i(p,"network-request-failed",{message:String(R)})}}async function uM(p,e,m,C,R={}){const M=await Cr(p,e,m,C,R);return"mfaPendingCredential"in M&&_i(p,"multi-factor-auth-required",{_serverResponse:M}),M}function wx(p,e,m,C){const R=`${e}${m}?${C}`;return p.config.emulator?Hf(p.config,R):`${p.config.apiScheme}://${R}`}class fM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Ii(this.auth,"network-request-failed")),lM.get())})}}function fo(p,e,m){const C={appName:p.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const R=Ii(p,e,C);return R.customData._tokenResponse=m,R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(p,e){return Cr(p,"POST","/v1/accounts:delete",e)}async function Mx(p,e){return Cr(p,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(p){if(p)try{const e=new Date(Number(p));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cM(p,e=!1){const m=Le(p),C=await m.getIdToken(e),R=$f(C);bt(R&&R.exp&&R.auth_time&&R.iat,m.auth,"internal-error");const M=typeof R.firebase=="object"?R.firebase:void 0,d=M==null?void 0:M.sign_in_provider;return{claims:R,token:C,authTime:ra(Nl(R.auth_time)),issuedAtTime:ra(Nl(R.iat)),expirationTime:ra(Nl(R.exp)),signInProvider:d||null,signInSecondFactor:(M==null?void 0:M.sign_in_second_factor)||null}}function Nl(p){return Number(p)*1e3}function $f(p){const[e,m,C]=p.split(".");if(e===void 0||m===void 0||C===void 0)return Po("JWT malformed, contained fewer than 3 sections"),null;try{const R=tg(m);return R?JSON.parse(R):(Po("Failed to decode base64 JWT payload"),null)}catch(R){return Po("Caught error parsing JWT payload as JSON",R==null?void 0:R.toString()),null}}function hp(p){const e=$f(p);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(p,e,m=!1){if(m)return e;try{return await e}catch(C){throw C instanceof Bi&&vM(C)&&p.auth.currentUser===p&&await p.auth.signOut(),C}}function vM({code:p}){return p==="auth/user-disabled"||p==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var m;if(e){const C=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),C}else{this.errorBackoff=3e4;const R=((m=this.user.stsTokenManager.expirationTime)!==null&&m!==void 0?m:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(e=!1){if(!this.isRunning)return;const m=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},m)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,m){this.createdAt=e,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ra(this.lastLoginAt),this.creationTime=ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(p){var e;const m=p.auth,C=await p.getIdToken(),R=await Sa(p,Mx(m,{idToken:C}));bt(R==null?void 0:R.users.length,m,"internal-error");const M=R.users[0];p._notifyReloadListener(M);const d=!((e=M.providerUserInfo)===null||e===void 0)&&e.length?Ix(M.providerUserInfo):[],S=gM(p.providerData,d),t=p.isAnonymous,h=!(p.email&&M.passwordHash)&&!(S!=null&&S.length),x=t?h:!1,o={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:S,metadata:new Su(M.createdAt,M.lastLoginAt),isAnonymous:x};Object.assign(p,o)}async function mM(p){const e=Le(p);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gM(p,e){return[...p.filter(C=>!e.some(R=>R.providerId===C.providerId)),...e]}function Ix(p){return p.map(e=>{var{providerId:m}=e,C=Xf(e,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(p,e){const m=await Rx(p,{},async()=>{const C=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:R,apiKey:M}=p.config,d=wx(p,R,"/v1/token",`key=${M}`),S=await p._getAdditionalHeaders();return S["Content-Type"]="application/x-www-form-urlencoded",Px.fetch()(d,{method:"POST",headers:S,body:C})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}}async function yM(p,e){return Cr(p,"POST","/v2/accounts:revokeToken",Kf(p,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const m="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,m)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const m=hp(e);this.updateTokensAndExpiration(e,null,m)}async getToken(e,m=!1){return!m&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,m){const{accessToken:C,refreshToken:R,expiresIn:M}=await xM(e,m);this.updateTokensAndExpiration(C,R,Number(M))}updateTokensAndExpiration(e,m,C){this.refreshToken=m||null,this.accessToken=e||null,this.expirationTime=Date.now()+C*1e3}static fromJSON(e,m){const{refreshToken:C,accessToken:R,expirationTime:M}=m,d=new er;return C&&(bt(typeof C=="string","internal-error",{appName:e}),d.refreshToken=C),R&&(bt(typeof R=="string","internal-error",{appName:e}),d.accessToken=R),M&&(bt(typeof M=="number","internal-error",{appName:e}),d.expirationTime=M),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new er,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(p,e){bt(typeof p=="string"||typeof p>"u","internal-error",{appName:e})}class fs{constructor(e){var{uid:m,auth:C,stsTokenManager:R}=e,M=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Su(M.createdAt||void 0,M.lastLoginAt||void 0)}async getIdToken(e){const m=await Sa(this,this.stsTokenManager.getToken(this.auth,e));return bt(m,this.auth,"internal-error"),this.accessToken!==m&&(this.accessToken=m,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),m}getIdTokenResult(e){return cM(this,e)}reload(){return mM(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(m=>Object.assign({},m)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const m=new fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,m=!1){let C=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),C=!0),m&&await ih(this),await this.auth._persistUserIfCurrent(this),C&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(En(this.auth));const e=await this.getIdToken();return await Sa(this,dM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,m){var C,R,M,d,S,t,h,x;const o=(C=m.displayName)!==null&&C!==void 0?C:void 0,a=(R=m.email)!==null&&R!==void 0?R:void 0,r=(M=m.phoneNumber)!==null&&M!==void 0?M:void 0,i=(d=m.photoURL)!==null&&d!==void 0?d:void 0,n=(S=m.tenantId)!==null&&S!==void 0?S:void 0,l=(t=m._redirectEventId)!==null&&t!==void 0?t:void 0,s=(h=m.createdAt)!==null&&h!==void 0?h:void 0,u=(x=m.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:f,emailVerified:c,isAnonymous:v,providerData:g,stsTokenManager:y}=m;bt(f&&y,e,"internal-error");const T=er.fromJSON(this.name,y);bt(typeof f=="string",e,"internal-error"),Ms(o,e.name),Ms(a,e.name),bt(typeof c=="boolean",e,"internal-error"),bt(typeof v=="boolean",e,"internal-error"),Ms(r,e.name),Ms(i,e.name),Ms(n,e.name),Ms(l,e.name),Ms(s,e.name),Ms(u,e.name);const E=new fs({uid:f,auth:e,email:a,emailVerified:c,displayName:o,isAnonymous:v,photoURL:i,phoneNumber:r,tenantId:n,stsTokenManager:T,createdAt:s,lastLoginAt:u});return g&&Array.isArray(g)&&(E.providerData=g.map(A=>Object.assign({},A))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,m,C=!1){const R=new er;R.updateFromServerResponse(m);const M=new fs({uid:m.localId,auth:e,stsTokenManager:R,isAnonymous:C});return await ih(M),M}static async _fromGetAccountInfoResponse(e,m,C){const R=m.users[0];bt(R.localId!==void 0,"internal-error");const M=R.providerUserInfo!==void 0?Ix(R.providerUserInfo):[],d=!(R.email&&R.passwordHash)&&!(M!=null&&M.length),S=new er;S.updateFromIdToken(C);const t=new fs({uid:R.localId,auth:e,stsTokenManager:S,isAnonymous:d}),h={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:M,metadata:new Su(R.createdAt,R.lastLoginAt),isAnonymous:!(R.email&&R.passwordHash)&&!(M!=null&&M.length)};return Object.assign(t,h),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Map;function ds(p){Ts(p instanceof Function,"Expected a class definition");let e=lp.get(p);return e?(Ts(e instanceof p,"Instance stored in cache mismatched with class"),e):(e=new p,lp.set(p,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,m){this.storage[e]=m}async _get(e){const m=this.storage[e];return m===void 0?null:m}async _remove(e){delete this.storage[e]}_addListener(e,m){}_removeListener(e,m){}}Lx.type="NONE";const up=Lx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(p,e,m){return`firebase:${p}:${e}:${m}`}class ir{constructor(e,m,C){this.persistence=e,this.auth=m,this.userKey=C;const{config:R,name:M}=this.auth;this.fullUserKey=Ro(this.userKey,R.apiKey,M),this.fullPersistenceKey=Ro("persistence",R.apiKey,M),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const m=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,m)return this.setCurrentUser(m)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,m,C="authUser"){if(!m.length)return new ir(ds(up),e,C);const R=(await Promise.all(m.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let M=R[0]||ds(up);const d=Ro(C,e.config.apiKey,e.name);let S=null;for(const h of m)try{const x=await h._get(d);if(x){const o=fs._fromJSON(e,x);h!==M&&(S=o),M=h;break}}catch{}const t=R.filter(h=>h._shouldAllowMigration);return!M._shouldAllowMigration||!t.length?new ir(M,e,C):(M=t[0],S&&await M._set(d,S.toJSON()),await Promise.all(m.map(async h=>{if(h!==M)try{await h._remove(d)}catch{}})),new ir(M,e,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(p){const e=p.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bx(e))return"Blackberry";if(Vx(e))return"Webos";if(Ox(e))return"Safari";if((e.includes("chrome/")||Dx(e))&&!e.includes("edge/"))return"Chrome";if(bx(e))return"Android";{const m=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,C=p.match(m);if((C==null?void 0:C.length)===2)return C[1]}return"Other"}function Fx(p=Qe()){return/firefox\//i.test(p)}function Ox(p=Qe()){const e=p.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dx(p=Qe()){return/crios\//i.test(p)}function Nx(p=Qe()){return/iemobile/i.test(p)}function bx(p=Qe()){return/android/i.test(p)}function Bx(p=Qe()){return/blackberry/i.test(p)}function Vx(p=Qe()){return/webos/i.test(p)}function jf(p=Qe()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function TM(p=Qe()){var e;return jf(p)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EM(){return QE()&&document.documentMode===10}function Gx(p=Qe()){return jf(p)||bx(p)||Vx(p)||Bx(p)||/windows phone/i.test(p)||Nx(p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(p,e=[]){let m;switch(p){case"Browser":m=fp(Qe());break;case"Worker":m=`${fp(Qe())}-${p}`;break;default:m=p}const C=e.length?e.join(","):"FirebaseCore-web";return`${m}/JsCore/${mr}/${C}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,m){const C=M=>new Promise((d,S)=>{try{const t=e(M);d(t)}catch(t){S(t)}});C.onAbort=m,this.queue.push(C);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const m=[];try{for(const C of this.queue)await C(e),C.onAbort&&m.push(C.onAbort)}catch(C){m.reverse();for(const R of m)try{R()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:C==null?void 0:C.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(p,e={}){return Cr(p,"GET","/v2/passwordPolicy",Kf(p,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=6;class PM{constructor(e){var m,C,R,M;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(m=d.minPasswordLength)!==null&&m!==void 0?m:AM,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(R=(C=e.allowedNonAlphanumericCharacters)===null||C===void 0?void 0:C.join(""))!==null&&R!==void 0?R:"",this.forceUpgradeOnSignin=(M=e.forceUpgradeOnSignin)!==null&&M!==void 0?M:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var m,C,R,M,d,S;const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=(m=t.meetsMinPasswordLength)!==null&&m!==void 0?m:!0),t.isValid&&(t.isValid=(C=t.meetsMaxPasswordLength)!==null&&C!==void 0?C:!0),t.isValid&&(t.isValid=(R=t.containsLowercaseLetter)!==null&&R!==void 0?R:!0),t.isValid&&(t.isValid=(M=t.containsUppercaseLetter)!==null&&M!==void 0?M:!0),t.isValid&&(t.isValid=(d=t.containsNumericCharacter)!==null&&d!==void 0?d:!0),t.isValid&&(t.isValid=(S=t.containsNonAlphanumericCharacter)!==null&&S!==void 0?S:!0),t}validatePasswordLengthOptions(e,m){const C=this.customStrengthOptions.minPasswordLength,R=this.customStrengthOptions.maxPasswordLength;C&&(m.meetsMinPasswordLength=e.length>=C),R&&(m.meetsMaxPasswordLength=e.length<=R)}validatePasswordCharacterOptions(e,m){this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);let C;for(let R=0;R<e.length;R++)C=e.charAt(R),this.updatePasswordCharacterOptionsStatuses(m,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(e,m,C,R,M){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=R)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=M))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,m,C,R){this.app=e,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dp(this),this.idTokenSubscription=new dp(this),this.beforeStateQueue=new SM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ax,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(e,m){return m&&(this._popupRedirectResolver=ds(m)),this._initializationPromise=this.queue(async()=>{var C,R;if(!this._deleted&&(this.persistenceManager=await ir.create(this,e),!this._deleted)){if(!((C=this._popupRedirectResolver)===null||C===void 0)&&C._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(m),this.lastNotifiedUid=((R=this.currentUser)===null||R===void 0?void 0:R.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const m=await Mx(this,{idToken:e}),C=await fs._fromGetAccountInfoResponse(this,m,e);await this.directlySetCurrentUser(C)}catch(m){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",m),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var m;if(Ri(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(S=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(S,S))}):this.directlySetCurrentUser(null)}const C=await this.assertedPersistence.getCurrentUser();let R=C,M=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(m=this.redirectUser)===null||m===void 0?void 0:m._redirectEventId,S=R==null?void 0:R._redirectEventId,t=await this.tryRedirectSignIn(e);(!d||d===S)&&(t!=null&&t.user)&&(R=t.user,M=!0)}if(!R)return this.directlySetCurrentUser(null);if(!R._redirectEventId){if(M)try{await this.beforeStateQueue.runMiddleware(R)}catch(d){R=C,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return R?this.reloadAndSetCurrentUserOrClear(R):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===R._redirectEventId?this.directlySetCurrentUser(R):this.reloadAndSetCurrentUserOrClear(R)}async tryRedirectSignIn(e){let m=null;try{m=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return m}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(m){if((m==null?void 0:m.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(En(this));const m=e?Le(e):null;return m&&bt(m.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(m&&m._clone(this))}async _updateCurrentUser(e,m=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),m||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(En(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(En(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const m=this._getPasswordPolicyInternal();return m.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CM(this),m=new PM(e);this.tenantId===null?this._projectPasswordPolicy=m:this._tenantPasswordPolicies[this.tenantId]=m}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dn("auth","Firebase",e())}onAuthStateChanged(e,m,C){return this.registerStateListener(this.authStateSubscription,e,m,C)}beforeAuthStateChanged(e,m){return this.beforeStateQueue.pushCallback(e,m)}onIdTokenChanged(e,m,C){return this.registerStateListener(this.idTokenSubscription,e,m,C)}authStateReady(){return new Promise((e,m)=>{if(this.currentUser)e();else{const C=this.onAuthStateChanged(()=>{C(),e()},m)}})}async revokeAccessToken(e){if(this.currentUser){const m=await this.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:m};this.tenantId!=null&&(C.tenantId=this.tenantId),await yM(this,C)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,m){const C=await this.getOrInitRedirectPersistenceManager(m);return e===null?C.removeCurrentUser():C.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const m=e&&ds(e)||this._popupRedirectResolver;bt(m,this,"argument-error"),this.redirectPersistenceManager=await ir.create(this,[ds(m._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var m,C;return this._isInitialized&&await this.queue(async()=>{}),((m=this._currentUser)===null||m===void 0?void 0:m._redirectEventId)===e?this._currentUser:((C=this.redirectUser)===null||C===void 0?void 0:C._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=(m=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&m!==void 0?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,m,C,R){if(this._deleted)return()=>{};const M=typeof m=="function"?m:m.next.bind(m);let d=!1;const S=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(S,this,"internal-error"),S.then(()=>{d||M(this.currentUser)}),typeof m=="function"){const t=e.addObserver(m,C,R);return()=>{d=!0,t()}}else{const t=e.addObserver(m);return()=>{d=!0,t()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const m={"X-Client-Version":this.clientVersion};this.app.options.appId&&(m["X-Firebase-gmpid"]=this.app.options.appId);const C=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());C&&(m["X-Firebase-Client"]=C);const R=await this._getAppCheckToken();return R&&(m["X-Firebase-AppCheck"]=R),m}async _getAppCheckToken(){var e;if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const m=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return m!=null&&m.error&&sM(`Error while retrieving App Check token: ${m.error}`),m==null?void 0:m.token}}function Yh(p){return Le(p)}class dp{constructor(e){this.auth=e,this.observer=null,this.addObserver=eS(m=>this.observer=m)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wM(p){Qf=p}function MM(p){return Qf.loadJS(p)}function IM(){return Qf.gapiScript}function LM(p){return`__${p}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(p,e){const m=_s(p,"auth");if(m.isInitialized()){const R=m.getImmediate(),M=m.getOptions();if(ms(M,e??{}))return R;_i(R,"already-initialized")}return m.initialize({options:e})}function OM(p,e){const m=(e==null?void 0:e.persistence)||[],C=(Array.isArray(m)?m:[m]).map(ds);e!=null&&e.errorMap&&p._updateErrorMap(e.errorMap),p._initializeWithPersistence(C,e==null?void 0:e.popupRedirectResolver)}function DM(p,e,m){const C=Yh(p);bt(/^https?:\/\//.test(e),C,"invalid-emulator-scheme");const R=!1,M=zx(e),{host:d,port:S}=NM(e),t=S===null?"":`:${S}`,h={url:`${M}//${d}${t}/`},x=Object.freeze({host:d,port:S,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:R})});if(!C._canInitEmulator){bt(C.config.emulator&&C.emulatorConfig,C,"emulator-config-failed"),bt(ms(h,C.config.emulator)&&ms(x,C.emulatorConfig),C,"emulator-config-failed");return}C.config.emulator=h,C.emulatorConfig=x,C.settings.appVerificationDisabledForTesting=!0,bM()}function zx(p){const e=p.indexOf(":");return e<0?"":p.substr(0,e+1)}function NM(p){const e=zx(p),m=/(\/\/)?([^?#/]+)/.exec(p.substr(e.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(C);if(R){const M=R[1];return{host:M,port:cp(C.substr(M.length+1))}}else{const[M,d]=C.split(":");return{host:M,port:cp(d)}}}function cp(p){if(!p)return null;const e=Number(p);return isNaN(e)?null:e}function bM(){function p(){const e=document.createElement("p"),m=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,m){this.providerId=e,this.signInMethod=m}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,m){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sr(p,e){return uM(p,"POST","/v1/accounts:signInWithIdp",Kf(p,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="http://localhost";class Mn extends Xx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const m=new Mn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(m.idToken=e.idToken),e.accessToken&&(m.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(m.nonce=e.nonce),e.pendingToken&&(m.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(m.accessToken=e.oauthToken,m.secret=e.oauthTokenSecret):_i("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const m=typeof e=="string"?JSON.parse(e):e,{providerId:C,signInMethod:R}=m,M=Xf(m,["providerId","signInMethod"]);if(!C||!R)return null;const d=new Mn(C,R);return d.idToken=M.idToken||void 0,d.accessToken=M.accessToken||void 0,d.secret=M.secret,d.nonce=M.nonce,d.pendingToken=M.pendingToken||null,d}_getIdTokenResponse(e){const m=this.buildRequest();return sr(e,m)}_linkToIdToken(e,m){const C=this.buildRequest();return C.idToken=m,sr(e,C)}_getReauthenticationResolver(e){const m=this.buildRequest();return m.autoCreate=!1,sr(e,m)}buildRequest(){const e={requestUri:BM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),e.postBody=wa(m)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Jf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Ba{constructor(){super("facebook.com")}static credential(e){return Mn._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Ba{constructor(){super("google.com"),this.addScope("profile")}static credential(e,m){return Mn._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:m})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:m,oauthAccessToken:C}=e;if(!m&&!C)return null;try{return hs.credential(m,C)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Ba{constructor(){super("github.com")}static credential(e){return Mn._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Ba{constructor(){super("twitter.com")}static credential(e,m){return Mn._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:m})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:m,oauthTokenSecret:C}=e;if(!m||!C)return null;try{return Bs.credential(m,C)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,m,C,R=!1){const M=await fs._fromIdTokenResponse(e,C,R),d=vp(C);return new cr({user:M,providerId:d,_tokenResponse:C,operationType:m})}static async _forOperation(e,m,C){await e._updateTokensIfNecessary(C,!0);const R=vp(C);return new cr({user:e,providerId:R,_tokenResponse:C,operationType:m})}}function vp(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Bi{constructor(e,m,C,R){var M;super(m.code,m.message),this.operationType=C,this.user=R,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(M=e.tenantId)!==null&&M!==void 0?M:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(e,m,C,R){return new sh(e,m,C,R)}}function Wx(p,e,m,C){return(e==="reauthenticate"?m._getReauthenticationResolver(p):m._getIdTokenResponse(p)).catch(M=>{throw M.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(p,M,e,C):M})}async function VM(p,e,m=!1){const C=await Sa(p,e._linkToIdToken(p.auth,await p.getIdToken()),m);return cr._forOperation(p,"link",C)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(p,e,m=!1){const{auth:C}=p;if(Ri(C.app))return Promise.reject(En(C));const R="reauthenticate";try{const M=await Sa(p,Wx(C,R,e,p),m);bt(M.idToken,C,"internal-error");const d=$f(M.idToken);bt(d,C,"internal-error");const{sub:S}=d;return bt(p.uid===S,C,"user-mismatch"),cr._forOperation(p,R,M)}catch(M){throw(M==null?void 0:M.code)==="auth/user-not-found"&&_i(C,"user-mismatch"),M}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(p,e,m=!1){if(Ri(p.app))return Promise.reject(En(p));const C="signIn",R=await Wx(p,C,e),M=await cr._fromIdTokenResponse(p,C,R);return m||await p._updateCurrentUser(M.user),M}function zM(p,e,m,C){return Le(p).onIdTokenChanged(e,m,C)}function XM(p,e,m){return Le(p).beforeAuthStateChanged(e,m)}function WM(p){return Le(p).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,m){this.storageRetriever=e,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,m){return this.storage.setItem(e,JSON.stringify(m)),Promise.resolve()}_get(e){const m=this.storage.getItem(e);return Promise.resolve(m?JSON.parse(m):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1e3,HM=10;class Hx extends Yx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,m)=>this.onStorageEvent(e,m),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const m of Object.keys(this.listeners)){const C=this.storage.getItem(m),R=this.localCache[m];C!==R&&e(m,R,C)}}onStorageEvent(e,m=!1){if(!e.key){this.forAllChangedKeys((d,S,t)=>{this.notifyListeners(d,t)});return}const C=e.key;m?this.detachListener():this.stopPolling();const R=()=>{const d=this.storage.getItem(C);!m&&this.localCache[C]===d||this.notifyListeners(C,d)},M=this.storage.getItem(C);EM()&&M!==e.newValue&&e.newValue!==e.oldValue?setTimeout(R,HM):R()}notifyListeners(e,m){this.localCache[e]=m;const C=this.listeners[e];if(C)for(const R of Array.from(C))R(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,m,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:m,newValue:C}),!0)})},YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,m){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(m)}_removeListener(e,m){this.listeners[e]&&(this.listeners[e].delete(m),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,m){await super._set(e,m),this.localCache[e]=JSON.stringify(m)}async _get(e){const m=await super._get(e);return this.localCache[e]=JSON.stringify(m),m}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hx.type="LOCAL";const KM=Hx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx extends Yx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,m){}_removeListener(e,m){}}Kx.type="SESSION";const $x=Kx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(p){return Promise.all(p.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(m){return{fulfilled:!1,reason:m}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const m=this.receivers.find(R=>R.isListeningto(e));if(m)return m;const C=new Hh(e);return this.receivers.push(C),C}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const m=e,{eventId:C,eventType:R,data:M}=m.data,d=this.handlersMap[R];if(!(d!=null&&d.size))return;m.ports[0].postMessage({status:"ack",eventId:C,eventType:R});const S=Array.from(d).map(async h=>h(m.origin,M)),t=await $M(S);m.ports[0].postMessage({status:"done",eventId:C,eventType:R,response:t})}_subscribe(e,m){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(m)}_unsubscribe(e,m){this.handlersMap[e]&&m&&this.handlersMap[e].delete(m),(!m||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(p="",e=10){let m="";for(let C=0;C<e;C++)m+=Math.floor(Math.random()*10);return p+m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,m,C=50){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let M,d;return new Promise((S,t)=>{const h=kf("",20);R.port1.start();const x=setTimeout(()=>{t(new Error("unsupported_event"))},C);d={messageChannel:R,onMessage(o){const a=o;if(a.data.eventId===h)switch(a.data.status){case"ack":clearTimeout(x),M=setTimeout(()=>{t(new Error("timeout"))},3e3);break;case"done":clearTimeout(M),S(a.data.response);break;default:clearTimeout(x),clearTimeout(M),t(new Error("invalid_response"));break}}},this.handlers.add(d),R.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:h,data:m},[R.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function QM(p){Ji().location.href=p}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function JM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kM(){var p;return((p=navigator==null?void 0:navigator.serviceWorker)===null||p===void 0?void 0:p.controller)||null}function ZM(){return jx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="firebaseLocalStorageDb",qM=1,rh="firebaseLocalStorage",Jx="fbase_key";class Va{constructor(e){this.request=e}toPromise(){return new Promise((e,m)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Kh(p,e){return p.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function _M(){const p=indexedDB.deleteDatabase(Qx);return new Va(p).toPromise()}function Cu(){const p=indexedDB.open(Qx,qM);return new Promise((e,m)=>{p.addEventListener("error",()=>{m(p.error)}),p.addEventListener("upgradeneeded",()=>{const C=p.result;try{C.createObjectStore(rh,{keyPath:Jx})}catch(R){m(R)}}),p.addEventListener("success",async()=>{const C=p.result;C.objectStoreNames.contains(rh)?e(C):(C.close(),await _M(),e(await Cu()))})})}async function pp(p,e,m){const C=Kh(p,!0).put({[Jx]:e,value:m});return new Va(C).toPromise()}async function t3(p,e){const m=Kh(p,!1).get(e),C=await new Va(m).toPromise();return C===void 0?null:C.value}function mp(p,e){const m=Kh(p,!0).delete(e);return new Va(m).toPromise()}const e3=800,i3=3;class kx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cu(),this.db)}async _withRetries(e){let m=0;for(;;)try{const C=await this._openDb();return await e(C)}catch(C){if(m++>i3)throw C;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(ZM()),this.receiver._subscribe("keyChanged",async(e,m)=>({keyProcessed:(await this._poll()).includes(m.key)})),this.receiver._subscribe("ping",async(e,m)=>["keyChanged"])}async initializeSender(){var e,m;if(this.activeServiceWorker=await JM(),!this.activeServiceWorker)return;this.sender=new jM(this.activeServiceWorker);const C=await this.sender._send("ping",{},800);C&&!((e=C[0])===null||e===void 0)&&e.fulfilled&&!((m=C[0])===null||m===void 0)&&m.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cu();return await pp(e,nh,"1"),await mp(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,m){return this._withPendingWrite(async()=>(await this._withRetries(C=>pp(C,e,m)),this.localCache[e]=m,this.notifyServiceWorker(e)))}async _get(e){const m=await this._withRetries(C=>t3(C,e));return this.localCache[e]=m,m}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(m=>mp(m,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(R=>{const M=Kh(R,!1).getAll();return new Va(M).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const m=[],C=new Set;if(e.length!==0)for(const{fbase_key:R,value:M}of e)C.add(R),JSON.stringify(this.localCache[R])!==JSON.stringify(M)&&(this.notifyListeners(R,M),m.push(R));for(const R of Object.keys(this.localCache))this.localCache[R]&&!C.has(R)&&(this.notifyListeners(R,null),m.push(R));return m}notifyListeners(e,m){this.localCache[e]=m;const C=this.listeners[e];if(C)for(const R of Array.from(C))R(m)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,m){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(m)}_removeListener(e,m){this.listeners[e]&&(this.listeners[e].delete(m),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kx.type="LOCAL";const s3=kx;new ba(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(p,e){return e?ds(e):(bt(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends Xx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sr(e,this._buildIdpRequest())}_linkToIdToken(e,m){return sr(e,this._buildIdpRequest(m))}_getReauthenticationResolver(e){return sr(e,this._buildIdpRequest())}_buildIdpRequest(e){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(m.idToken=e),m}}function n3(p){return UM(p.auth,new Zf(p),p.bypassAuthState)}function r3(p){const{auth:e,user:m}=p;return bt(m,e,"internal-error"),GM(m,new Zf(p),p.bypassAuthState)}async function a3(p){const{auth:e,user:m}=p;return bt(m,e,"internal-error"),VM(m,new Zf(p),p.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,m,C,R,M=!1){this.auth=e,this.resolver=C,this.user=R,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){return new Promise(async(e,m)=>{this.pendingPromise={resolve:e,reject:m};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(C){this.reject(C)}})}async onAuthEvent(e){const{urlResponse:m,sessionId:C,postBody:R,tenantId:M,error:d,type:S}=e;if(d){this.reject(d);return}const t={auth:this.auth,requestUri:m,sessionId:C,tenantId:M||void 0,postBody:R||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(S)(t))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n3;case"linkViaPopup":case"linkViaRedirect":return a3;case"reauthViaPopup":case"reauthViaRedirect":return r3;default:_i(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new ba(2e3,1e4);async function h3(p,e,m){if(Ri(p.app))return Promise.reject(Ii(p,"operation-not-supported-in-this-environment"));const C=Yh(p);nM(p,e,Jf);const R=Zx(C,m);return new gn(C,"signInViaPopup",e,R).executeNotNull()}class gn extends qx{constructor(e,m,C,R,M){super(e,m,R,M),this.provider=C,this.authWindow=null,this.pollId=null,gn.currentPopupAction&&gn.currentPopupAction.cancel(),gn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=kf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(m=>{this.reject(m)}),this.resolver._isIframeWebStorageSupported(this.auth,m=>{m||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var m,C;if(!((C=(m=this.authWindow)===null||m===void 0?void 0:m.window)===null||C===void 0)&&C.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o3.get())};e()}}gn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="pendingRedirect",wo=new Map;class u3 extends qx{constructor(e,m,C=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}async execute(){let e=wo.get(this.auth._key());if(!e){try{const C=await f3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(C)}catch(m){e=()=>Promise.reject(m)}wo.set(this.auth._key(),e)}return this.bypassAuthState||wo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const m=await this.auth._redirectUserForId(e.eventId);if(m)return this.user=m,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f3(p,e){const m=v3(e),C=c3(p);if(!await C._isAvailable())return!1;const R=await C._get(m)==="true";return await C._remove(m),R}function d3(p,e){wo.set(p._key(),e)}function c3(p){return ds(p._redirectPersistence)}function v3(p){return Ro(l3,p.config.apiKey,p.name)}async function p3(p,e,m=!1){if(Ri(p.app))return Promise.reject(En(p));const C=Yh(p),R=Zx(C,e),d=await new u3(C,R,m).execute();return d&&!m&&(delete d.user._redirectEventId,await C._persistUserIfCurrent(d.user),await C._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=10*60*1e3;class g3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(e,C)&&(m=!0,this.sendToConsumer(e,C),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x3(e)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=e,m=!0)),m}sendToConsumer(e,m){var C;if(e.error&&!_x(e)){const R=((C=e.error.code)===null||C===void 0?void 0:C.split("auth/")[1])||"internal-error";m.onError(Ii(this.auth,R))}else m.onAuthEvent(e)}isEventForConsumer(e,m){const C=m.eventId===null||!!e.eventId&&e.eventId===m.eventId;return m.filter.includes(e.type)&&C}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m3&&this.cachedEventUids.clear(),this.cachedEventUids.has(gp(e))}saveEventToCache(e){this.cachedEventUids.add(gp(e)),this.lastProcessedEventTime=Date.now()}}function gp(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(e=>e).join("-")}function _x({type:p,error:e}){return p==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x3(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _x(p);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(p,e={}){return Cr(p,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E3=/^https?/;async function S3(p){if(p.config.emulator)return;const{authorizedDomains:e}=await y3(p);for(const m of e)try{if(C3(m))return}catch{}_i(p,"unauthorized-domain")}function C3(p){const e=Eu(),{protocol:m,hostname:C}=new URL(e);if(p.startsWith("chrome-extension://")){const d=new URL(p);return d.hostname===""&&C===""?m==="chrome-extension:"&&p.replace("chrome-extension://","")===e.replace("chrome-extension://",""):m==="chrome-extension:"&&d.hostname===C}if(!E3.test(m))return!1;if(T3.test(p))return C===p;const R=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(C)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=new ba(3e4,6e4);function xp(){const p=Ji().___jsl;if(p!=null&&p.H){for(const e of Object.keys(p.H))if(p.H[e].r=p.H[e].r||[],p.H[e].L=p.H[e].L||[],p.H[e].r=[...p.H[e].L],p.CP)for(let m=0;m<p.CP.length;m++)p.CP[m]=null}}function P3(p){return new Promise((e,m)=>{var C,R,M;function d(){xp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xp(),m(Ii(p,"network-request-failed"))},timeout:A3.get()})}if(!((R=(C=Ji().gapi)===null||C===void 0?void 0:C.iframes)===null||R===void 0)&&R.Iframe)e(gapi.iframes.getContext());else if(!((M=Ji().gapi)===null||M===void 0)&&M.load)d();else{const S=LM("iframefcb");return Ji()[S]=()=>{gapi.load?d():m(Ii(p,"network-request-failed"))},MM(`${IM()}?onload=${S}`).catch(t=>m(t))}}).catch(e=>{throw Mo=null,e})}let Mo=null;function R3(p){return Mo=Mo||P3(p),Mo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new ba(5e3,15e3),M3="__/auth/iframe",I3="emulator/auth/iframe",L3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O3(p){const e=p.config;bt(e.authDomain,p,"auth-domain-config-required");const m=e.emulator?Hf(e,I3):`https://${p.config.authDomain}/${M3}`,C={apiKey:e.apiKey,appName:p.name,v:mr},R=F3.get(p.config.apiHost);R&&(C.eid=R);const M=p._getFrameworks();return M.length&&(C.fw=M.join(",")),`${m}?${wa(C).slice(1)}`}async function D3(p){const e=await R3(p),m=Ji().gapi;return bt(m,p,"internal-error"),e.open({where:document.body,url:O3(p),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L3,dontclear:!0},C=>new Promise(async(R,M)=>{await C.restyle({setHideOnLeave:!1});const d=Ii(p,"network-request-failed"),S=Ji().setTimeout(()=>{M(d)},w3.get());function t(){Ji().clearTimeout(S),R(C)}C.ping(t).then(t,()=>{M(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b3=500,B3=600,V3="_blank",G3="http://localhost";class yp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U3(p,e,m,C=b3,R=B3){const M=Math.max((window.screen.availHeight-R)/2,0).toString(),d=Math.max((window.screen.availWidth-C)/2,0).toString();let S="";const t=Object.assign(Object.assign({},N3),{width:C.toString(),height:R.toString(),top:M,left:d}),h=Qe().toLowerCase();m&&(S=Dx(h)?V3:m),Fx(h)&&(e=e||G3,t.scrollbars="yes");const x=Object.entries(t).reduce((a,[r,i])=>`${a}${r}=${i},`,"");if(TM(h)&&S!=="_self")return z3(e||"",S),new yp(null);const o=window.open(e||"",S,x);bt(o,p,"popup-blocked");try{o.focus()}catch{}return new yp(o)}function z3(p,e){const m=document.createElement("a");m.href=p,m.target=e;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="__/auth/handler",W3="emulator/auth/handler",Y3=encodeURIComponent("fac");async function Tp(p,e,m,C,R,M){bt(p.config.authDomain,p,"auth-domain-config-required"),bt(p.config.apiKey,p,"invalid-api-key");const d={apiKey:p.config.apiKey,appName:p.name,authType:m,redirectUrl:C,v:mr,eventId:R};if(e instanceof Jf){e.setDefaultLanguage(p.languageCode),d.providerId=e.providerId||"",tS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,o]of Object.entries({}))d[x]=o}if(e instanceof Ba){const x=e.getScopes().filter(o=>o!=="");x.length>0&&(d.scopes=x.join(","))}p.tenantId&&(d.tid=p.tenantId);const S=d;for(const x of Object.keys(S))S[x]===void 0&&delete S[x];const t=await p._getAppCheckToken(),h=t?`#${Y3}=${encodeURIComponent(t)}`:"";return`${H3(p)}?${wa(S).slice(1)}${h}`}function H3({config:p}){return p.emulator?Hf(p,W3):`https://${p.authDomain}/${X3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="webStorageSupport";class K3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$x,this._completeRedirectFn=p3,this._overrideRedirectResult=d3}async _openPopup(e,m,C,R){var M;Ts((M=this.eventManagers[e._key()])===null||M===void 0?void 0:M.manager,"_initialize() not called before _openPopup()");const d=await Tp(e,m,C,Eu(),R);return U3(e,d,kf())}async _openRedirect(e,m,C,R){await this._originValidation(e);const M=await Tp(e,m,C,Eu(),R);return QM(M),new Promise(()=>{})}_initialize(e){const m=e._key();if(this.eventManagers[m]){const{manager:R,promise:M}=this.eventManagers[m];return R?Promise.resolve(R):(Ts(M,"If manager is not set, promise should be"),M)}const C=this.initAndGetManager(e);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}async initAndGetManager(e){const m=await D3(e),C=new g3(e);return m.register("authEvent",R=>(bt(R==null?void 0:R.authEvent,e,"invalid-auth-event"),{status:C.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:C},this.iframes[e._key()]=m,C}_isIframeWebStorageSupported(e,m){this.iframes[e._key()].send(bl,{type:bl},R=>{var M;const d=(M=R==null?void 0:R[0])===null||M===void 0?void 0:M[bl];d!==void 0&&m(!!d),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const m=e._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=S3(e)),this.originValidationPromises[m]}get _shouldInitProactively(){return Gx()||Ox()||jf()}}const $3=K3;var Ep="@firebase/auth",Sp="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const m=this.auth.onIdTokenChanged(C=>{e((C==null?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,m),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const m=this.internalListeners.get(e);m&&(this.internalListeners.delete(e),m(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J3(p){ki(new Di("auth",(e,{options:m})=>{const C=e.getProvider("app").getImmediate(),R=e.getProvider("heartbeat"),M=e.getProvider("app-check-internal"),{apiKey:d,authDomain:S}=C.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:C.name});const t={apiKey:d,authDomain:S,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ux(p)},h=new RM(C,R,M,t);return OM(h,m),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,m,C)=>{e.getProvider("auth-internal").initialize()})),ki(new Di("auth-internal",e=>{const m=Yh(e.getProvider("auth").getImmediate());return(C=>new j3(C))(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(Ep,Sp,Q3(p)),Si(Ep,Sp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=5*60,Z3=sg("authIdTokenMaxAge")||k3;let Cp=null;const q3=p=>async e=>{const m=e&&await e.getIdTokenResult(),C=m&&(new Date().getTime()-Date.parse(m.issuedAtTime))/1e3;if(C&&C>Z3)return;const R=m==null?void 0:m.token;Cp!==R&&(Cp=R,await fetch(p,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))};function _3(p=$u()){const e=_s(p,"auth");if(e.isInitialized())return e.getImmediate();const m=FM(p,{popupRedirectResolver:$3,persistence:[s3,KM,$x]}),C=sg("authTokenSyncURL");if(C&&typeof isSecureContext=="boolean"&&isSecureContext){const M=new URL(C,location.origin);if(location.origin===M.origin){const d=q3(M.toString());XM(m,d,()=>d(m.currentUser)),zM(m,S=>d(S))}}const R=eg("auth");return R&&DM(m,`http://${R}`),m}function t4(){var p,e;return(e=(p=document.getElementsByTagName("head"))===null||p===void 0?void 0:p[0])!==null&&e!==void 0?e:document}wM({loadJS(p){return new Promise((e,m)=>{const C=document.createElement("script");C.setAttribute("src",p),C.onload=e,C.onerror=R=>{const M=Ii("internal-error");M.customData=R,m(M)},C.type="text/javascript",C.charset="UTF-8",t4().appendChild(C)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J3("Browser");class e4{constructor(){mt(this,"db",uP());mt(this,"subscriptions",{});mt(this,"unsubscribe",(e,m)=>{if(!this.subscriptions[e]){console.warn(`You should not unsubscribe if you have not yet subscribed to key "${e}".`);return}if(this.subscriptions[e].count-=1,this.subscriptions[e].count!==0)return;const C=this.subscriptions[e].destroy;C?(delete this.subscriptions[e],C(),m==null||m()):console.warn(`Unsubscribe called with key "${e}" while subscribe is waiting to complete.`)});mt(this,"getCollectionRef",(e,m)=>m?Xv(this.db,e).withConverter(m):Xv(this.db,e));mt(this,"getDocRef",(e,m,C)=>{const R=this.getCollectionRef(e);return m!==null?C?Wr(R,m).withConverter(C):Wr(R,m):C?Wr(R).withConverter(C):Wr(R)});mt(this,"getSnapshot",async(e,m,C)=>{const R=this.getDocRef(e,m,C);return await Il(R)});mt(this,"getDocData",async(e,m,C)=>{const R=await this.getSnapshot(e,m,C);return R.exists()?R.data():(console.error(`There is no document with id "${m}" in collection "${e}".`),null)});mt(this,"getDocDataByRef",async e=>{const m=await Il(e);if(m.exists())return m.data();console.error(`No document found with reference id "${e.id}".`)});mt(this,"getDocDataByQuery",async e=>{const m=await jv(e);return m.empty?(console.error(`No document(s) found using query "${e}".`),[]):m.docs.map(C=>C.data())});mt(this,"getCollectionData",async(e,m)=>{const C=this.getCollectionRef(e,m),R=await jv(C);return R.empty?(console.error(`Collection "${e}" is empty.`),[]):R.docs.map(M=>M.data())})}getRunningKeys(e=""){return Object.keys(this.subscriptions).filter(m=>m.startsWith(e))}async getDocument(e,m,C,R=!1){const M=this.getDocRef(e,m,C),d=await Il(M);return d.exists()?d.data():(R||console.error(`No document found with id "${m}" in collection "${e}".`),null)}async addDocument(e,m,C){const R=this.getCollectionRef(e),M=C?C.toFirestore(m):m;await wP(R,M)}async setDocument(e,m,C,R){const M=this.getDocRef(e,m,R);await PP(M,C)}async updateDocument(e,m,C,R){const M=this.getDocRef(e,m,R);await RP(M,C)}async subscribe({key:e,docRef:m,queryRef:C,callback:R,error:M,converter:d}){if(this.subscriptions[e]===void 0&&(this.subscriptions[e]={key:e,count:0}),this.subscriptions[e].count+=1,this.subscriptions[e].count===1)try{if(m){const S=Qv(m,t=>this.handleDocSnapshot(t,R,d),M);this.subscriptions[e].destroy=S}else if(C){const S=Qv(C,t=>this.handleQuerySnapshot(t,R,d),M);this.subscriptions[e].destroy=S}}catch(S){console.error(`Error subscribing to key "${e}":`,S)}}getData(e,m){return m?m.fromFirestore(e):e.data()}handleDocSnapshot(e,m,C){if(!e.exists())return;const R=this.getData(e,C);R&&m(R)}handleQuerySnapshot(e,m,C){const R=e.docs.map(M=>this.getData(M,C));m(R)}}const i4={apiKey:"AIzaSyB8U-G13jDAjURH-PWBDmMp0l8XJFIeCOM",authDomain:"nyxbase-2f10e.firebaseapp.com",projectId:"nyxbase-2f10e",storageBucket:"nyxbase-2f10e.firebasestorage.app",messagingSenderId:"782425608263",appId:"1:782425608263:web:8a75ca84179aeb25ef2162"},qf=ug(i4),Ap=lP(qf,{ignoreUndefinedProperties:!0});kw(qf);const Pp=_3(qf),s4=new hs,n4={class:"debug"},r4={class:"debug__card-position"},a4=ne({__name:"Debug",setup(p){const e=di(),{debug:m,playerPosition:C,hp:R,score:M,state:d,energy:S,currentScene:t}=si(e),{setPlayerHp:h,setPlayerEnergy:x}=e,o=yn("nyxButton"),a=yn("nyxCard"),r=zt(!1),i=zt(!1),n=zt(!0),l=Ft({get(){return n.value},async set(A){A?await dP(Ap):await cP(Ap),n.value=A}}),{cssVariables:s}=Nf(o,a,{gap:zt(kt.XLarge),position:zt(re.TopLeft),offsetX:-5,offsetY:-10}),u=A=>{var P,w;r.value=!1,i.value=A===void 0?!i.value:A,(w=(P=o.value)==null?void 0:P.$el)==null||w.blur()},f=Ft({get:()=>M.value.toString(),set:A=>M.value=parseInt(A)}),c=Ft({get:()=>R.value.toString(),set:A=>h(parseInt(A))}),v=Ft({get:()=>S.value.toString(),set:A=>x(parseInt(A))}),g=Ft(()=>({x:parseFloat(C.value.x.toFixed(2)),y:parseFloat(C.value.y.toFixed(2))})),y=Ft(()=>Object.values(ge).map(A=>({label:A,value:A}))),T=()=>{const A=Ht(t.value);A&&A.spawnAsteroid()},E=()=>{m.value.isEnabled=!1};return li(d,()=>r.value=!1),(A,P)=>(gt(),Et("div",n4,[Rt(ft(Ve),{ref_key:"nyxButton",ref:o,class:"debug__button",theme:ft(ce).Danger,size:ft(kt).Small,tabindex:"-1",onClick:u},{default:Xt(()=>P[10]||(P[10]=[oe("Debog")])),_:1},8,["theme","size"]),Rt(ft(Na),{modelValue:r.value,"onUpdate:modelValue":P[0]||(P[0]=w=>r.value=w),title:"Config"},{default:Xt(()=>[It("pre",null,he(ft(Ot)),1)]),_:1},8,["modelValue"]),(gt(),Pe(ph,{to:"body"},[Rt(ft(iR),{class:Zt(["debug__card",{"debug__card--visible":i.value}]),size:ft(kt).Large,style:$e(ft(s)),ref_key:"nyxCard",ref:a},{default:Xt(()=>[Rt(ft(tx),{class:"debug__card-content"},{default:Xt(()=>[It("span",r4,[It("pre",null,"x: "+he(g.value.x),1),It("pre",null,"y: "+he(g.value.y),1)]),Rt(ft(Wi),{label:"HP"},{default:Xt(({id:w})=>[Rt(ft(Ll),{class:"debug__card-input",id:w,modelValue:c.value,"onUpdate:modelValue":P[1]||(P[1]=I=>c.value=I),type:ft(sa).Number,max:100},null,8,["id","modelValue","type"])]),_:1}),Rt(ft(Wi),{label:"Energy"},{default:Xt(({id:w})=>[Rt(ft(Ll),{class:"debug__card-input",id:w,modelValue:v.value,"onUpdate:modelValue":P[2]||(P[2]=I=>v.value=I),type:ft(sa).Number},null,8,["id","modelValue","type"])]),_:1}),Rt(ft(Wi),{label:"Score"},{default:Xt(({id:w})=>[Rt(ft(Ll),{class:"debug__card-input",id:w,modelValue:f.value,"onUpdate:modelValue":P[3]||(P[3]=I=>f.value=I),type:ft(sa).Number},null,8,["id","modelValue","type"])]),_:1}),$t("",!0),Rt(ft(Wi),null,{default:Xt(({id:w})=>[Rt(ft(Hr),{id:w,modelValue:ft(m).isImmortal,"onUpdate:modelValue":P[5]||(P[5]=I=>ft(m).isImmortal=I),label:"Immortality"},null,8,["id","modelValue"])]),_:1}),Rt(ft(Wi),null,{default:Xt(({id:w})=>[Rt(ft(Hr),{id:w,modelValue:ft(m).hasInfiniteEnergy,"onUpdate:modelValue":P[6]||(P[6]=I=>ft(m).hasInfiniteEnergy=I),label:"Infinite Energy"},null,8,["id","modelValue"])]),_:1}),Rt(ft(Wi),null,{default:Xt(({id:w})=>[Rt(ft(Hr),{id:w,modelValue:ft(m).isCollisionDisabled,"onUpdate:modelValue":P[7]||(P[7]=I=>ft(m).isCollisionDisabled=I),label:"Disable Collision"},null,8,["id","modelValue"])]),_:1}),Rt(ft(Wi),null,{default:Xt(({id:w})=>[Rt(ft(Hr),{id:w,modelValue:l.value,"onUpdate:modelValue":P[8]||(P[8]=I=>l.value=I),label:"Firestore Online"},null,8,["id","modelValue"])]),_:1}),Rt(ft(Ve),{class:"debug__card-button",onClick:T},{default:Xt(()=>P[11]||(P[11]=[oe("Spawn Asteroid")])),_:1}),Rt(ft(Ve),{class:"debug__card-button",onClick:P[9]||(P[9]=w=>r.value=!0)},{default:Xt(()=>P[12]||(P[12]=[oe("View config")])),_:1}),Rt(ft(Ve),{class:"debug__card-button",onClick:E},{default:Xt(()=>P[13]||(P[13]=[oe("Disable debug")])),_:1})]),_:1})]),_:1},8,["class","size","style"])]))]))}}),_f=(p,e)=>{const m=p.__vccOpts||p;for(const[C,R]of e)m[C]=R;return m},o4=_f(a4,[["__scopeId","data-v-428ca8f0"]]),h4={type:pr.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"game",backgroundColor:"#000000",pixelArt:!0,scene:[FE,FP,k0]},l4=p=>new pr.Game({...h4,parent:p}),u4={id:"game",class:"game"},f4=ne({__name:"Game",setup(p){const{setCurrentScene:e,setGameState:m}=di(),C=zt();return Cs(()=>{C.value=l4("game"),qo.on("current-scene-ready",M=>e(M)),qo.on("preload-complete",()=>m(ge.Menu))}),Ln(()=>{C.value&&(C.value.destroy(!0),C.value=null)}),(M,d)=>(gt(),Et("main",u4))}}),d4=_f(f4,[["__scopeId","data-v-2c9577f2"]]),c4={key:0,class:"game-interface"},v4=ne({__name:"GameInterface",setup(p){const{hp:e,energy:m,score:C,isPlaying:R,isPaused:M,debug:d,isInGame:S}=si(di()),t=zt(null),h=zt(0);Cs(()=>{t.value=window.setInterval(()=>{!R.value||M.value||(C.value+=1)},500)}),In(()=>{t.value&&window.clearInterval(t.value)});const x=()=>{d.value.isEnabled||(h.value+=1,!(h.value<10)&&(d.value.isEnabled=!0,h.value=0))};return(o,a)=>ft(S)?(gt(),Et("header",c4,[Rt(ft(yu),{class:"game-interface__progress",modelValue:ft(e),max:100,size:ft(kt).XLarge,theme:ft(ce).Danger,showValue:"start"},null,8,["modelValue","size","theme"]),It("span",{class:"game-interface__score",onClick:x},he(ft(C)),1),Rt(ft(yu),{class:"game-interface__progress",modelValue:ft(m),max:100,size:ft(kt).XLarge,theme:ft(ce).Secondary,showValue:"start"},null,8,["modelValue","size","theme"])])):$t("",!0)}}),ty=ne({__name:"Settings",setup(p){const{isFullscreen:e,musicVolume:m,sfxVolume:C}=si(IP());return li(e,R=>{R?document.documentElement.requestFullscreen():document.exitFullscreen()}),(R,M)=>(gt(),Pe(ft(tx),null,{default:Xt(()=>[Rt(ft(Wi),{label:"Music"},{default:Xt(({id:d})=>[Rt(ft(Zv),{for:d,modelValue:ft(m),"onUpdate:modelValue":M[0]||(M[0]=S=>ie(m)?m.value=S:null),max:1,min:0,step:.05,shape:ft(ks).Rectangle},null,8,["for","modelValue","shape"])]),_:1}),Rt(ft(Wi),{label:"SFX"},{default:Xt(({id:d})=>[Rt(ft(Zv),{for:d,modelValue:ft(C),"onUpdate:modelValue":M[1]||(M[1]=S=>ie(C)?C.value=S:null),max:1,min:0,step:.05,shape:ft(ks).Rectangle},null,8,["for","modelValue","shape"])]),_:1}),Rt(ft(Wi),{label:"Fullscreen"},{default:Xt(({id:d})=>[Rt(ft(Hr),{for:d,modelValue:ft(e),"onUpdate:modelValue":M[2]||(M[2]=S=>ie(e)?e.value=S:null)},null,8,["for","modelValue"])]),_:1})]),_:1}))}}),p4={class:"game-menu__buttons"},Rp=ne({__name:"GameMenu",setup(p){const e=di(),{isPlaying:m,isPaused:C}=si(e),R=h=>{h.key==="Escape"&&e.togglePaused()},M=Ft(()=>{let h="game-menu";return C.value&&(h+=" game-menu--visible"),h}),d=()=>{e.reset(),e.togglePaused()},S=()=>{e.reset(),e.setGameState(ge.Menu)},t=()=>{e.togglePaused()};return Cs(()=>{window.addEventListener("keydown",R)}),Ln(()=>{window.removeEventListener("keydown",R)}),(h,x)=>ft(C)?(gt(),Pe(ft(Na),{key:0,customClass:M.value,size:ft(kt).Small,static:""},{footer:Xt(()=>[It("div",p4,[Rt(ft(Ve),{onClick:d,theme:ft(ce).Warning},{default:Xt(()=>x[0]||(x[0]=[oe("Restart")])),_:1},8,["theme"]),Rt(ft(Ve),{onClick:S,theme:ft(ce).Danger},{default:Xt(()=>x[1]||(x[1]=[oe("Quit")])),_:1},8,["theme"]),Rt(ft(Ve),{onClick:t,theme:ft(ce).Primary},{default:Xt(()=>x[2]||(x[2]=[oe("Resume")])),_:1},8,["theme"])])]),default:Xt(()=>[Rt(ty)]),_:1},8,["customClass","size"])):$t("",!0)}}),oh=class oh{constructor(e){mt(this,"id","");mt(this,"displayName",null);mt(this,"firstName",null);mt(this,"lastName",null);mt(this,"email",null);mt(this,"country",null);mt(this,"createdAt",new Date);mt(this,"updatedAt",new Date);e&&(this.id=Pi.loadString(e,"id"),this.displayName=Pi.loadStringOrNull(e,"displayName",null),this.firstName=Pi.loadStringOrNull(e,"firstName",null),this.lastName=Pi.loadStringOrNull(e,"lastName",null),this.email=Pi.loadStringOrNull(e,"email",null),this.country=Pi.loadStringOrNull(e,"country",null))}get fullName(){return this.displayName?this.displayName:`${this.firstName} ${this.lastName}`}get initials(){var e,m;return this.displayName?this.displayName.split(" ").map(C=>C[0]).join(""):`${(e=this.firstName)==null?void 0:e.charAt(0)}${(m=this.lastName)==null?void 0:m.charAt(0)}`}getRawData(){return{displayName:this.displayName,firstName:this.firstName,lastName:this.lastName,email:this.email,country:this.country,createdAt:this.createdAt,updatedAt:this.updatedAt}}};mt(oh,"Converter",{toFirestore:e=>e.getRawData(),fromFirestore:e=>{const m=e.data();return new oh({...m,id:e.id})}});let cs=oh;const ey=On("auth",()=>{const p=zt(null),e=Ft(()=>p.value!==null),m=async()=>{if(!p.value)throw new Error("User not logged in.");if(await ai.getDocument(ls.Profiles,p.value.uid,cs.Converter,!0))return;const d=new cs({id:p.value.uid,displayName:p.value.displayName,email:p.value.email,createdAt:new Date,updatedAt:new Date});await ai.setDocument(ls.Profiles,p.value.uid,d,cs.Converter)};return{user:p,isLoggedIn:e,loginWithGoogle:async()=>{try{const M=await h3(Pp,s4);p.value=M.user,await m()}catch(M){console.error(M)}},logout:async()=>{await WM(Pp),p.value=null}}}),td=On("profiles",()=>{const{user:p}=si(ey()),e=zt([]),m=zt(null),C=o=>{e.value=Array.isArray(o)?o:[o]},R=o=>{m.value=Array.isArray(o)?o[0]:o},M=async o=>{await ai.subscribe({key:"profile",docRef:ai.getDocRef(ls.Profiles,o,cs.Converter),callback:R,error:a=>{console.error("Error in subscription to profile.",a)}})},d=async()=>{ai.unsubscribe("profile")},S=async()=>{const o=ai.getCollectionRef(ls.Profiles);await ai.subscribe({key:"profiles",queryRef:Y0(o).withConverter(cs.Converter),callback:C,error:a=>{console.error("Error in subscription to profiles.",a)}})},t=async()=>{ai.unsubscribe("profiles")},h=async o=>{await ai.addDocument(ls.Profiles,o,cs.Converter)},x=async o=>{await ai.setDocument(ls.Profiles,o.id,o,cs.Converter)};return li(p,async o=>{o&&await M(o.uid)},{immediate:!0}),{profile:m,profiles:e,addNewProfile:h,updateProfile:x,subscribeProfile:M,unsubscribeProfile:d,subscribeProfiles:S,unsubscribeProfiles:t}}),m4=ne({__name:"GameOver",setup(p){const e=di(),{isGameOver:m,score:C}=si(e),{addNewHiscore:R}=J0(),{profile:M}=si(td()),d=()=>{e.reset(),e.setGameState(ge.Playing)},S=()=>{e.reset(),e.setGameState(ge.Menu)};return li(m,t=>{var h;!t||!((h=M.value)!=null&&h.id)||R(M.value.id,C.value)}),(t,h)=>ft(m)?(gt(),Pe(ft(Na),{key:0,size:ft(kt).Small,static:""},{footer:Xt(()=>[Rt(ft(Ve),{onClick:d},{default:Xt(()=>h[0]||(h[0]=[oe("Restart")])),_:1}),Rt(ft(Ve),{onClick:S},{default:Xt(()=>h[1]||(h[1]=[oe("Main Menu")])),_:1})]),default:Xt(()=>[h[2]||(h[2]=It("h1",null,"Game Over",-1)),It("p",null,"Score: "+he(ft(C)),1)]),_:1},8,["size"])):$t("",!0)}}),g4=()=>{const p=J0(),e=td(),{hiscores:m}=si(p),{profiles:C}=si(e),R=Ft(()=>m.value.map(M=>{const d=C.value.find(S=>S.id===M.userId);return{name:d==null?void 0:d.fullName,country:d==null?void 0:d.country,score:M.score}}).sort((M,d)=>d.score-M.score));return gm(()=>{e.subscribeProfiles(),p.subscribeHiscores()}),In(()=>{p.unsubscribeHiscores(),e.unsubscribeProfiles()}),{hiscoresData:R}},x4=ne({__name:"Hiscores",setup(p){const{isHiscoresVisible:e}=si(Df()),{hiscoresData:m}=g4();return(C,R)=>(gt(),Pe(ft(Na),{modelValue:ft(e),"onUpdate:modelValue":R[1]||(R[1]=M=>ie(e)?e.value=M:null),size:ft(kt).Large,customClass:"view-hiscores"},{default:Xt(()=>[Rt(ft(MR),{modelValue:ft(m),"onUpdate:modelValue":R[0]||(R[0]=M=>ie(m)?m.value=M:null),size:ft(kt).Small,gridTemplateColumns:"1fr 1fr 10rem",header:"sticky"},null,8,["modelValue","size"])]),_:1},8,["modelValue","size"]))}}),y4="/nyx-game/assets/logo-Bof7pWK0.png",T4={class:"main-menu"},E4={key:0},S4={key:1},C4=ne({__name:"MainMenu",setup(p){const e=ey(),{toggleHiscores:m,toggleSettings:C}=Df(),{setGameState:R}=di(),{loginWithGoogle:M,logout:d}=e,{isLoggedIn:S}=si(e);return(t,h)=>(gt(),Et("div",T4,[It("section",null,[h[6]||(h[6]=It("img",{src:y4},null,-1)),ft(S)?(gt(),Et("nav",E4,[Rt(ft(Ve),{class:"button-play",theme:ft(ce).Primary,size:ft(kt).XLarge,onClick:h[0]||(h[0]=x=>ft(R)(ft(ge).Playing))},{default:Xt(()=>h[1]||(h[1]=[oe("Play")])),_:1},8,["theme","size"]),Rt(ft(Ve),{size:ft(kt).Small,onClick:ft(m)},{default:Xt(()=>h[2]||(h[2]=[oe("Hiscores")])),_:1},8,["size","onClick"]),Rt(ft(Ve),{size:ft(kt).Small,onClick:ft(C)},{default:Xt(()=>h[3]||(h[3]=[oe("Settings")])),_:1},8,["size","onClick"]),Rt(ft(Ve),{size:ft(kt).Small,onClick:ft(d)},{default:Xt(()=>h[4]||(h[4]=[oe("Logout")])),_:1},8,["size","onClick"])])):(gt(),Et("nav",S4,[Rt(ft(Ve),{size:ft(kt).XLarge,onClick:ft(M)},{default:Xt(()=>h[5]||(h[5]=[oe("Login")])),_:1},8,["size","onClick"])]))]),h[7]||(h[7]=It("footer",null,null,-1))]))}}),A4=_f(C4,[["__scopeId","data-v-46d3d867"]]),P4={key:0,class:"preloader"},R4={key:0,class:"interface"},w4={class:"version"},M4=ne({__name:"App",setup(p){const{debug:e,isInMenu:m,isPreloading:C,preloadProgress:R}=si(di()),{setScreenSize:M}=OE(),{isSettingsVisible:d}=si(Df()),{profile:S}=si(td()),t="0.0.19";return Cs(async()=>{window.addEventListener("resize",M)}),In(async()=>{window.removeEventListener("resize",M)}),(h,x)=>(gt(),Et(de,null,[ft(C)?(gt(),Et("div",P4,[Rt(ft(yu),{class:"preloader__progress",modelValue:ft(R),"onUpdate:modelValue":x[0]||(x[0]=o=>ie(R)?R.value=o:null),min:0,max:1,theme:ft(ce).Primary,size:ft(kt).XLarge},null,8,["modelValue","theme","size"])])):$t("",!0),Rt(NT,{name:"fade"},{default:Xt(()=>[ft(m)?(gt(),Et("div",R4,[Rt(ft(A4),{class:"view"}),Rt(ft(Na),{modelValue:ft(d),"onUpdate:modelValue":x[1]||(x[1]=o=>ie(d)?d.value=o:null)},{default:Xt(()=>[Rt(ft(ty))]),_:1},8,["modelValue"]),Rt(ft(x4)),Rt(ft(Rp))])):$t("",!0)]),_:1}),ft(e).isEnabled?(gt(),Pe(ft(o4),{key:1})):$t("",!0),Rt(ft(Rp)),Rt(ft(d4)),Rt(ft(v4)),Rt(ft(m4)),It("span",w4,he(ft(t)),1)],64))}});uE(M4).use(cE()).use(TE,{pixel:!0}).mount("#app");const ai=new e4;
